(function(){"use strict";function Ze(e,t){const n=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Au=Ze("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function Pn(e){if(V(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=ce(s)?Su(s):Pn(s);if(i)for(const r in i)t[r]=i[r]}return t}else{if(ce(e))return e;if(ee(e))return e}}const Cu=/;(?![^(]*\))/g,Eu=/:([^]+)/,xu=/\/\*.*?\*\//gs;function Su(e){const t={};return e.replace(xu,"").split(Cu).forEach(n=>{if(n){const s=n.split(Eu);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ft(e){let t="";if(ce(e))t=e;else if(V(e))for(let n=0;n<e.length;n++){const s=Ft(e[n]);s&&(t+=s+" ")}else if(ee(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Tu(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ce(t)&&(e.class=Ft(t)),n&&(e.style=Pn(n)),e}const Pu="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Ru="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Ou=Ze(Pu),Fu=Ze(Ru),Lo=Ze("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function No(e){return!!e||e===""}function Iu(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=wt(e[s],t[s]);return n}function wt(e,t){if(e===t)return!0;let n=Uo(e),s=Uo(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Xn(e),s=Xn(t),n||s)return e===t;if(n=V(e),s=V(t),n||s)return n&&s?Iu(e,t):!1;if(n=ee(e),s=ee(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!wt(e[o],t[o]))return!1}}return String(e)===String(t)}function Jn(e,t){return e.findIndex(n=>wt(n,t))}const Mo=e=>ce(e)?e:e==null?"":V(e)||ee(e)&&(e.toString===$o||!G(e.toString))?JSON.stringify(e,ko,2):String(e),ko=(e,t)=>t&&t.__v_isRef?ko(e,t.value):tn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:nn(t)?{[`Set(${t.size})`]:[...t.values()]}:ee(t)&&!V(t)&&!Ds(t)?String(t):t,oe=Object.freeze({}),Rn=Object.freeze([]),Ee=()=>{},Do=()=>!1,Lu=/^on[^a-z]/,at=e=>Lu.test(e),ks=e=>e.startsWith("onUpdate:"),ne=Object.assign,Gi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Nu=Object.prototype.hasOwnProperty,se=(e,t)=>Nu.call(e,t),V=Array.isArray,tn=e=>Qn(e)==="[object Map]",nn=e=>Qn(e)==="[object Set]",Uo=e=>Qn(e)==="[object Date]",G=e=>typeof e=="function",ce=e=>typeof e=="string",Xn=e=>typeof e=="symbol",ee=e=>e!==null&&typeof e=="object",zn=e=>ee(e)&&G(e.then)&&G(e.catch),$o=Object.prototype.toString,Qn=e=>$o.call(e),qi=e=>Qn(e).slice(8,-1),Ds=e=>Qn(e)==="[object Object]",Yi=e=>ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,On=Ze(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mu=Ze("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Us=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ku=/-(\w)/g,Te=Us(e=>e.replace(ku,(t,n)=>n?n.toUpperCase():"")),Du=/\B([A-Z])/g,Ae=Us(e=>e.replace(Du,"-$1").toLowerCase()),It=Us(e=>e.charAt(0).toUpperCase()+e.slice(1)),lt=Us(e=>e?`on${It(e)}`:""),Fn=(e,t)=>!Object.is(e,t),ct=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},$s=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ut=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Vo;const jo=()=>Vo||(Vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vs(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let Be;class Ji{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Be,!t&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Be;try{return Be=this,t()}finally{Be=n}}else Vs("cannot run an inactive effect scope.")}on(){Be=this}off(){Be=this.parent}stop(t){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function Xi(e){return new Ji(e)}function Bo(e,t=Be){t&&t.active&&t.effects.push(e)}function Ho(){return Be}function Ko(e){Be?Be.cleanups.push(e):Vs("onScopeDispose() is called when there is no active effect scope to be associated with.")}const zi=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Wo=e=>(e.w&Lt)>0,Go=e=>(e.n&Lt)>0,Uu=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Lt},$u=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const i=t[s];Wo(i)&&!Go(i)?i.delete(e):t[n++]=i,i.w&=~Lt,i.n&=~Lt}t.length=n}},Qi=new WeakMap;let Zn=0,Lt=1;const Zi=30;let Pe;const sn=Symbol("iterate"),er=Symbol("Map key iterate");class es{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Bo(this,s)}run(){if(!this.active)return this.fn();let t=Pe,n=Nt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Pe,Pe=this,Nt=!0,Lt=1<<++Zn,Zn<=Zi?Uu(this):qo(this),this.fn()}finally{Zn<=Zi&&$u(this),Lt=1<<--Zn,Pe=this.parent,Nt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pe===this?this.deferStop=!0:this.active&&(qo(this),this.onStop&&this.onStop(),this.active=!1)}}function qo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function Vu(e,t){e.effect&&(e=e.effect.fn);const n=new es(e);t&&(ne(n,t),t.scope&&Bo(n,t.scope)),(!t||!t.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function ju(e){e.effect.stop()}let Nt=!0;const Yo=[];function rn(){Yo.push(Nt),Nt=!1}function on(){const e=Yo.pop();Nt=e===void 0?!0:e}function Ie(e,t,n){if(Nt&&Pe){let s=Qi.get(e);s||Qi.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=zi()),Jo(i,{effect:Pe,target:e,type:t,key:n})}}function Jo(e,t){let n=!1;Zn<=Zi?Go(e)||(e.n|=Lt,n=!Wo(e)):n=!e.has(Pe),n&&(e.add(Pe),Pe.deps.push(e),Pe.onTrack&&Pe.onTrack(Object.assign({effect:Pe},t)))}function ft(e,t,n,s,i,r){const o=Qi.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&V(e)){const c=ut(s);o.forEach((f,u)=>{(u==="length"||u>=c)&&a.push(f)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":V(e)?Yi(n)&&a.push(o.get("length")):(a.push(o.get(sn)),tn(e)&&a.push(o.get(er)));break;case"delete":V(e)||(a.push(o.get(sn)),tn(e)&&a.push(o.get(er)));break;case"set":tn(e)&&a.push(o.get(sn));break}const l={target:e,type:t,key:n,newValue:s,oldValue:i,oldTarget:r};if(a.length===1)a[0]&&tr(a[0],l);else{const c=[];for(const f of a)f&&c.push(...f);tr(zi(c),l)}}function tr(e,t){const n=V(e)?e:[...e];for(const s of n)s.computed&&Xo(s,t);for(const s of n)s.computed||Xo(s,t)}function Xo(e,t){(e!==Pe||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(ne({effect:e},t)),e.scheduler?e.scheduler():e.run())}const Bu=Ze("__proto__,__v_isRef,__isVue"),zo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xn)),Hu=js(),Ku=js(!1,!0),Wu=js(!0),Gu=js(!0,!0),Qo=qu();function qu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Z(this);for(let r=0,o=this.length;r<o;r++)Ie(s,"get",r+"");const i=s[t](...n);return i===-1||i===!1?s[t](...n.map(Z)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){rn();const s=Z(this)[t].apply(this,n);return on(),s}}),e}function js(e=!1,t=!1){return function(s,i,r){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&r===(e?t?ua:ca:t?la:aa).get(s))return s;const o=V(s);if(!e&&o&&se(Qo,i))return Reflect.get(Qo,i,r);const a=Reflect.get(s,i,r);return(Xn(i)?zo.has(i):Bu(i))||(e||Ie(s,"get",i),t)?a:de(a)?o&&Yi(i)?a:a.value:ee(a)?e?sr(a):_t(a):a}}const Yu=Zo(),Ju=Zo(!0);function Zo(e=!1){return function(n,s,i,r){let o=n[s];if(vt(o)&&de(o)&&!de(i))return!1;if(!e&&(!Dt(i)&&!vt(i)&&(o=Z(o),i=Z(i)),!V(n)&&de(o)&&!de(i)))return o.value=i,!0;const a=V(n)&&Yi(s)?Number(s)<n.length:se(n,s),l=Reflect.set(n,s,i,r);return n===Z(r)&&(a?Fn(i,o)&&ft(n,"set",s,i,o):ft(n,"add",s,i)),l}}function Xu(e,t){const n=se(e,t),s=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&ft(e,"delete",t,void 0,s),i}function zu(e,t){const n=Reflect.has(e,t);return(!Xn(t)||!zo.has(t))&&Ie(e,"has",t),n}function Qu(e){return Ie(e,"iterate",V(e)?"length":sn),Reflect.ownKeys(e)}const ea={get:Hu,set:Yu,deleteProperty:Xu,has:zu,ownKeys:Qu},ta={get:Wu,set(e,t){return Vs(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return Vs(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Zu=ne({},ea,{get:Ku,set:Ju}),ef=ne({},ta,{get:Gu}),nr=e=>e,Bs=e=>Reflect.getPrototypeOf(e);function Hs(e,t,n=!1,s=!1){e=e.__v_raw;const i=Z(e),r=Z(t);n||(t!==r&&Ie(i,"get",t),Ie(i,"get",r));const{has:o}=Bs(i),a=s?nr:n?ir:ns;if(o.call(i,t))return a(e.get(t));if(o.call(i,r))return a(e.get(r));e!==i&&e.get(t)}function Ks(e,t=!1){const n=this.__v_raw,s=Z(n),i=Z(e);return t||(e!==i&&Ie(s,"has",e),Ie(s,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Ws(e,t=!1){return e=e.__v_raw,!t&&Ie(Z(e),"iterate",sn),Reflect.get(e,"size",e)}function na(e){e=Z(e);const t=Z(this);return Bs(t).has.call(t,e)||(t.add(e),ft(t,"add",e,e)),this}function sa(e,t){t=Z(t);const n=Z(this),{has:s,get:i}=Bs(n);let r=s.call(n,e);r?oa(n,s,e):(e=Z(e),r=s.call(n,e));const o=i.call(n,e);return n.set(e,t),r?Fn(t,o)&&ft(n,"set",e,t,o):ft(n,"add",e,t),this}function ia(e){const t=Z(this),{has:n,get:s}=Bs(t);let i=n.call(t,e);i?oa(t,n,e):(e=Z(e),i=n.call(t,e));const r=s?s.call(t,e):void 0,o=t.delete(e);return i&&ft(t,"delete",e,void 0,r),o}function ra(){const e=Z(this),t=e.size!==0,n=tn(e)?new Map(e):new Set(e),s=e.clear();return t&&ft(e,"clear",void 0,void 0,n),s}function Gs(e,t){return function(s,i){const r=this,o=r.__v_raw,a=Z(o),l=t?nr:e?ir:ns;return!e&&Ie(a,"iterate",sn),o.forEach((c,f)=>s.call(i,l(c),l(f),r))}}function qs(e,t,n){return function(...s){const i=this.__v_raw,r=Z(i),o=tn(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...s),f=n?nr:t?ir:ns;return!t&&Ie(r,"iterate",l?er:sn),{next(){const{value:u,done:d}=c.next();return d?{value:u,done:d}:{value:a?[f(u[0]),f(u[1])]:f(u),done:d}},[Symbol.iterator](){return this}}}}function Mt(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${It(e)} operation ${n}failed: target is readonly.`,Z(this))}return e==="delete"?!1:this}}function tf(){const e={get(r){return Hs(this,r)},get size(){return Ws(this)},has:Ks,add:na,set:sa,delete:ia,clear:ra,forEach:Gs(!1,!1)},t={get(r){return Hs(this,r,!1,!0)},get size(){return Ws(this)},has:Ks,add:na,set:sa,delete:ia,clear:ra,forEach:Gs(!1,!0)},n={get(r){return Hs(this,r,!0)},get size(){return Ws(this,!0)},has(r){return Ks.call(this,r,!0)},add:Mt("add"),set:Mt("set"),delete:Mt("delete"),clear:Mt("clear"),forEach:Gs(!0,!1)},s={get(r){return Hs(this,r,!0,!0)},get size(){return Ws(this,!0)},has(r){return Ks.call(this,r,!0)},add:Mt("add"),set:Mt("set"),delete:Mt("delete"),clear:Mt("clear"),forEach:Gs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=qs(r,!1,!1),n[r]=qs(r,!0,!1),t[r]=qs(r,!1,!0),s[r]=qs(r,!0,!0)}),[e,n,t,s]}const[nf,sf,rf,of]=tf();function Ys(e,t){const n=t?e?of:rf:e?sf:nf;return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(se(n,i)&&i in s?n:s,i,r)}const af={get:Ys(!1,!1)},lf={get:Ys(!1,!0)},cf={get:Ys(!0,!1)},uf={get:Ys(!0,!0)};function oa(e,t,n){const s=Z(n);if(s!==n&&t.call(e,s)){const i=qi(e);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const aa=new WeakMap,la=new WeakMap,ca=new WeakMap,ua=new WeakMap;function ff(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function df(e){return e.__v_skip||!Object.isExtensible(e)?0:ff(qi(e))}function _t(e){return vt(e)?e:Js(e,!1,ea,af,aa)}function fa(e){return Js(e,!1,Zu,lf,la)}function sr(e){return Js(e,!0,ta,cf,ca)}function kt(e){return Js(e,!0,ef,uf,ua)}function Js(e,t,n,s,i){if(!ee(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=df(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return i.set(e,a),a}function He(e){return vt(e)?He(e.__v_raw):!!(e&&e.__v_isReactive)}function vt(e){return!!(e&&e.__v_isReadonly)}function Dt(e){return!!(e&&e.__v_isShallow)}function ts(e){return He(e)||vt(e)}function Z(e){const t=e&&e.__v_raw;return t?Z(t):e}function qe(e){return $s(e,"__v_skip",!0),e}const ns=e=>ee(e)?_t(e):e,ir=e=>ee(e)?sr(e):e;function rr(e){Nt&&Pe&&(e=Z(e),Jo(e.dep||(e.dep=zi()),{target:e,type:"get",key:"value"}))}function Xs(e,t){e=Z(e),e.dep&&tr(e.dep,{target:e,type:"set",key:"value",newValue:t})}function de(e){return!!(e&&e.__v_isRef===!0)}function an(e){return da(e,!1)}function hf(e){return da(e,!0)}function da(e,t){return de(e)?e:new gf(e,t)}class gf{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Z(t),this._value=n?t:ns(t)}get value(){return rr(this),this._value}set value(t){const n=this.__v_isShallow||Dt(t)||vt(t);t=n?t:Z(t),Fn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ns(t),Xs(this,t))}}function mf(e){Xs(e,e.value)}function or(e){return de(e)?e.value:e}const pf={get:(e,t,n)=>or(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return de(i)&&!de(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function ar(e){return He(e)?e:new Proxy(e,pf)}class bf{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>rr(this),()=>Xs(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function yf(e){return new bf(e)}function lr(e){ts(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=V(e)?new Array(e.length):{};for(const n in e)t[n]=ss(e,n);return t}class wf{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function ss(e,t,n){const s=e[t];return de(s)?s:new wf(e,t,n)}var ha;class _f{constructor(t,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[ha]=!1,this._dirty=!0,this.effect=new es(t,()=>{this._dirty||(this._dirty=!0,Xs(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=Z(this);return rr(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}ha="__v_isReadonly";function vf(e,t,n=!1){let s,i;const r=G(e);r?(s=e,i=()=>{console.warn("Write operation failed: computed value is readonly")}):(s=e.get,i=e.set);const o=new _f(s,i,r||!i,n);return t&&!n&&(o.effect.onTrack=t.onTrack,o.effect.onTrigger=t.onTrigger),o}const ln=[];function In(e){ln.push(e)}function Ln(){ln.pop()}function S(e,...t){rn();const n=ln.length?ln[ln.length-1].component:null,s=n&&n.appContext.config.warnHandler,i=Af();if(s)et(s,n,11,[e+t.join(""),n&&n.proxy,i.map(({vnode:r})=>`at <${xs(n,r.type)}>`).join(`
`),i]);else{const r=[`[Vue warn]: ${e}`,...t];i.length&&r.push(`
`,...Cf(i)),console.warn(...r)}on()}function Af(){let e=ln[ln.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function Cf(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...Ef(n))}),t}function Ef({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,i=` at <${xs(e.component,e.type,s)}`,r=">"+n;return e.props?[i,...xf(e.props),r]:[i+r]}function xf(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...ga(s,e[s]))}),n.length>3&&t.push(" ..."),t}function ga(e,t,n){return ce(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:de(t)?(t=ga(e,Z(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):G(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Z(t),n?t:[`${e}=`,t])}const cr={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function et(e,t,n,s){let i;try{i=s?e(...s):e()}catch(r){cn(r,t,n)}return i}function Le(e,t,n,s){if(G(e)){const r=et(e,t,n,s);return r&&zn(r)&&r.catch(o=>{cn(o,t,n)}),r}const i=[];for(let r=0;r<e.length;r++)i.push(Le(e[r],t,n,s));return i}function cn(e,t,n,s=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=cr[n];for(;r;){const c=r.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){et(l,null,10,[e,o,a]);return}}Sf(e,n,i,s)}function Sf(e,t,n,s=!0){{const i=cr[t];if(n&&In(n),S(`Unhandled error${i?` during execution of ${i}`:""}`),n&&Ln(),s)throw e;console.error(e)}}let is=!1,ur=!1;const xe=[];let dt=0;const Nn=[];let ht=null,Ut=0;const ma=Promise.resolve();let fr=null;const Tf=100;function un(e){const t=fr||ma;return e?t.then(this?e.bind(this):e):t}function Pf(e){let t=dt+1,n=xe.length;for(;t<n;){const s=t+n>>>1;os(xe[s])<e?t=s+1:n=s}return t}function rs(e){(!xe.length||!xe.includes(e,is&&e.allowRecurse?dt+1:dt))&&(e.id==null?xe.push(e):xe.splice(Pf(e.id),0,e),pa())}function pa(){!is&&!ur&&(ur=!0,fr=ma.then(ya))}function Rf(e){const t=xe.indexOf(e);t>dt&&xe.splice(t,1)}function zs(e){V(e)?Nn.push(...e):(!ht||!ht.includes(e,e.allowRecurse?Ut+1:Ut))&&Nn.push(e),pa()}function ba(e,t=is?dt+1:0){for(e=e||new Map;t<xe.length;t++){const n=xe[t];if(n&&n.pre){if(dr(e,n))continue;xe.splice(t,1),t--,n()}}}function Qs(e){if(Nn.length){const t=[...new Set(Nn)];if(Nn.length=0,ht){ht.push(...t);return}for(ht=t,e=e||new Map,ht.sort((n,s)=>os(n)-os(s)),Ut=0;Ut<ht.length;Ut++)dr(e,ht[Ut])||ht[Ut]();ht=null,Ut=0}}const os=e=>e.id==null?1/0:e.id,Of=(e,t)=>{const n=os(e)-os(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ya(e){ur=!1,is=!0,e=e||new Map,xe.sort(Of);const t=n=>dr(e,n);try{for(dt=0;dt<xe.length;dt++){const n=xe[dt];if(n&&n.active!==!1){if(t(n))continue;et(n,null,14)}}}finally{dt=0,xe.length=0,Qs(e),is=!1,fr=null,(xe.length||Nn.length)&&ya(e)}}function dr(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>Tf){const s=t.ownerInstance,i=s&&zt(s.type);return S(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let $t=!1;const Mn=new Set;jo().__VUE_HMR_RUNTIME__={createRecord:hr(wa),rerender:hr(Lf),reload:hr(Nf)};const fn=new Map;function Ff(e){const t=e.type.__hmrId;let n=fn.get(t);n||(wa(t,e.type),n=fn.get(t)),n.instances.add(e)}function If(e){fn.get(e.type.__hmrId).instances.delete(e)}function wa(e,t){return fn.has(e)?!1:(fn.set(e,{initialDef:as(t),instances:new Set}),!0)}function as(e){return tc(e)?e.__vccOpts:e}function Lf(e,t){const n=fn.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,as(s.type).render=t),s.renderCache=[],$t=!0,s.update(),$t=!1}))}function Nf(e,t){const n=fn.get(e);if(!n)return;t=as(t),_a(n.initialDef,t);const s=[...n.instances];for(const i of s){const r=as(i.type);Mn.has(r)||(r!==n.initialDef&&_a(r,t),Mn.add(r)),i.appContext.optionsCache.delete(i.type),i.ceReload?(Mn.add(r),i.ceReload(t.styles),Mn.delete(r)):i.parent?rs(i.parent.update):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}zs(()=>{for(const i of s)Mn.delete(as(i.type))})}function _a(e,t){ne(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function hr(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let tt,ls=[],gr=!1;function cs(e,...t){tt?tt.emit(e,...t):gr||ls.push({event:e,args:t})}function mr(e,t){var n,s;tt=e,tt?(tt.enabled=!0,ls.forEach(({event:i,args:r})=>tt.emit(i,...r)),ls=[]):typeof window<"u"&&window.HTMLElement&&!(!((s=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||s===void 0)&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{mr(r,t)}),setTimeout(()=>{tt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,gr=!0,ls=[])},3e3)):(gr=!0,ls=[])}function va(e,t){cs("app:init",e,t,{Fragment:we,Text:Gt,Comment:ge,Static:qt})}function Aa(e){cs("app:unmount",e)}const pr=br("component:added"),Ca=br("component:updated"),Mf=br("component:removed"),kf=e=>{tt&&typeof tt.cleanupBuffer=="function"&&!tt.cleanupBuffer(e)&&Mf(e)};function br(e){return t=>{cs(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const Df=Ea("perf:start"),Uf=Ea("perf:end");function Ea(e){return(t,n,s)=>{cs(e,t.appContext.app,t.uid,t,n,s)}}function $f(e,t,n){cs("component:emit",e.appContext.app,e,t,n)}const xa={GLOBAL_MOUNT:{message:'The global app bootstrapping API has changed: vm.$mount() and the "el" option have been removed. Use createApp(RootComponent).mount() instead.',link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#mounting-app-instance"},GLOBAL_MOUNT_CONTAINER:{message:"Vue detected directives on the mount container. In Vue 3, the container is no longer considered part of the template and will not be processed/replaced.",link:"https://v3-migration.vuejs.org/breaking-changes/mount-changes.html"},GLOBAL_EXTEND:{message:"Vue.extend() has been removed in Vue 3. Use defineComponent() instead.",link:"https://vuejs.org/api/general.html#definecomponent"},GLOBAL_PROTOTYPE:{message:"Vue.prototype is no longer available in Vue 3. Use app.config.globalProperties instead.",link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#vue-prototype-replaced-by-config-globalproperties"},GLOBAL_SET:{message:"Vue.set() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},GLOBAL_DELETE:{message:"Vue.delete() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},GLOBAL_OBSERVABLE:{message:'Vue.observable() has been removed. Use `import { reactive } from "vue"` from Composition API instead.',link:"https://vuejs.org/api/reactivity-core.html#reactive"},GLOBAL_PRIVATE_UTIL:{message:"Vue.util has been removed. Please refactor to avoid its usage since it was an internal API even in Vue 2."},CONFIG_SILENT:{message:"config.silent has been removed because it is not good practice to intentionally suppress warnings. You can use your browser console's filter features to focus on relevant messages."},CONFIG_DEVTOOLS:{message:"config.devtools has been removed. To enable devtools for production, configure the false compile-time flag.",link:"https://github.com/vuejs/core/tree/main/packages/vue#bundler-build-feature-flags"},CONFIG_KEY_CODES:{message:"config.keyCodes has been removed. In Vue 3, you can directly use the kebab-case key names as v-on modifiers.",link:"https://v3-migration.vuejs.org/breaking-changes/keycode-modifiers.html"},CONFIG_PRODUCTION_TIP:{message:"config.productionTip has been removed.",link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-productiontip-removed"},CONFIG_IGNORED_ELEMENTS:{message:()=>{let e="config.ignoredElements has been removed.";return _n()?e+=' Pass the "isCustomElement" option to @vue/compiler-dom instead.':e+=" Use config.isCustomElement instead.",e},link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-ignoredelements-is-now-config-iscustomelement"},CONFIG_WHITESPACE:{message:'Vue 3 compiler\'s whitespace option will default to "condense" instead of "preserve". To suppress this warning, provide an explicit value for `config.compilerOptions.whitespace`.'},CONFIG_OPTION_MERGE_STRATS:{message:"config.optionMergeStrategies no longer exposes internal strategies. Use custom merge functions instead."},INSTANCE_SET:{message:"vm.$set() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},INSTANCE_DELETE:{message:"vm.$delete() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},INSTANCE_DESTROY:{message:"vm.$destroy() has been removed. Use app.unmount() instead.",link:"https://vuejs.org/api/application.html#app-unmount"},INSTANCE_EVENT_EMITTER:{message:"vm.$on/$once/$off() have been removed. Use an external event emitter library instead.",link:"https://v3-migration.vuejs.org/breaking-changes/events-api.html"},INSTANCE_EVENT_HOOKS:{message:e=>`"${e}" lifecycle events are no longer supported. From templates, use the "vue:" prefix instead of "hook:". For example, @${e} should be changed to @vue:${e.slice(5)}. From JavaScript, use Composition API to dynamically register lifecycle hooks.`,link:"https://v3-migration.vuejs.org/breaking-changes/vnode-lifecycle-events.html"},INSTANCE_CHILDREN:{message:"vm.$children has been removed. Consider refactoring your logic to avoid relying on direct access to child components.",link:"https://v3-migration.vuejs.org/breaking-changes/children.html"},INSTANCE_LISTENERS:{message:'vm.$listeners has been removed. In Vue 3, parent v-on listeners are included in vm.$attrs and it is no longer necessary to separately use v-on="$listeners" if you are already using v-bind="$attrs". (Note: the Vue 3 behavior only applies if this compat config is disabled)',link:"https://v3-migration.vuejs.org/breaking-changes/listeners-removed.html"},INSTANCE_SCOPED_SLOTS:{message:"vm.$scopedSlots has been removed. Use vm.$slots instead.",link:"https://v3-migration.vuejs.org/breaking-changes/slots-unification.html"},INSTANCE_ATTRS_CLASS_STYLE:{message:e=>`Component <${e||"Anonymous"}> has \`inheritAttrs: false\` but is relying on class/style fallthrough from parent. In Vue 3, class/style are now included in $attrs and will no longer fallthrough when inheritAttrs is false. If you are already using v-bind="$attrs" on component root it should render the same end result. If you are binding $attrs to a non-root element and expecting class/style to fallthrough on root, you will need to now manually bind them on root via :class="$attrs.class".`,link:"https://v3-migration.vuejs.org/breaking-changes/attrs-includes-class-style.html"},OPTIONS_DATA_FN:{message:'The "data" option can no longer be a plain object. Always use a function.',link:"https://v3-migration.vuejs.org/breaking-changes/data-option.html"},OPTIONS_DATA_MERGE:{message:e=>`Detected conflicting key "${e}" when merging data option values. In Vue 3, data keys are merged shallowly and will override one another.`,link:"https://v3-migration.vuejs.org/breaking-changes/data-option.html#mixin-merge-behavior-change"},OPTIONS_BEFORE_DESTROY:{message:"`beforeDestroy` has been renamed to `beforeUnmount`."},OPTIONS_DESTROYED:{message:"`destroyed` has been renamed to `unmounted`."},WATCH_ARRAY:{message:`"watch" option or vm.$watch on an array value will no longer trigger on array mutation unless the "deep" option is specified. If current usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ WATCH_ARRAY: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/watch.html"},PROPS_DEFAULT_THIS:{message:e=>`props default value function no longer has access to "this". The compat build only offers access to this.$options.(found in prop "${e}")`,link:"https://v3-migration.vuejs.org/breaking-changes/props-default-this.html"},CUSTOM_DIR:{message:(e,t)=>`Custom directive hook "${e}" has been removed. Use "${t}" instead.`,link:"https://v3-migration.vuejs.org/breaking-changes/custom-directives.html"},V_ON_KEYCODE_MODIFIER:{message:"Using keyCode as v-on modifier is no longer supported. Use kebab-case key name modifiers instead.",link:"https://v3-migration.vuejs.org/breaking-changes/keycode-modifiers.html"},ATTR_FALSE_VALUE:{message:e=>`Attribute "${e}" with v-bind value \`false\` will render ${e}="false" instead of removing it in Vue 3. To remove the attribute, use \`null\` or \`undefined\` instead. If the usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ ATTR_FALSE_VALUE: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/attribute-coercion.html"},ATTR_ENUMERATED_COERCION:{message:(e,t,n)=>`Enumerated attribute "${e}" with v-bind value \`${t}\` will ${t===null?"be removed":"render the value as-is"} instead of coercing the value to "${n}" in Vue 3. Always use explicit "true" or "false" values for enumerated attributes. If the usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ ATTR_ENUMERATED_COERCION: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/attribute-coercion.html"},TRANSITION_CLASSES:{message:""},TRANSITION_GROUP_ROOT:{message:`<TransitionGroup> no longer renders a root <span> element by default if no "tag" prop is specified. If you do not rely on the span for styling, you can disable the compat behavior and suppress this warning with:

  configureCompat({ TRANSITION_GROUP_ROOT: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/transition-group.html"},COMPONENT_ASYNC:{message:e=>{const t=zt(e);return`Async component${t?` <${t}>`:"s"} should be explicitly created via \`defineAsyncComponent()\` in Vue 3. Plain functions will be treated as functional components in non-compat build. If you have already migrated all async component usage and intend to use plain functions for functional components, you can disable the compat behavior and suppress this warning with:

  configureCompat({ COMPONENT_ASYNC: false })
`},link:"https://v3-migration.vuejs.org/breaking-changes/async-components.html"},COMPONENT_FUNCTIONAL:{message:e=>{const t=zt(e);return`Functional component${t?` <${t}>`:"s"} should be defined as a plain function in Vue 3. The "functional" option has been removed. NOTE: Before migrating to use plain functions for functional components, first make sure that all async components usage have been migrated and its compat behavior has been disabled.`},link:"https://v3-migration.vuejs.org/breaking-changes/functional-components.html"},COMPONENT_V_MODEL:{message:e=>{const t="opt-in to Vue 3 behavior on a per-component basis with `compatConfig: { COMPONENT_V_MODEL: false }`.";return e.props&&(V(e.props)?e.props.includes("modelValue"):se(e.props,"modelValue"))?`Component declares "modelValue" prop, which is Vue 3 usage, but is running under Vue 2 compat v-model behavior. You can ${t}`:`v-model usage on component has changed in Vue 3. Component that expects to work with v-model should now use the "modelValue" prop and emit the "update:modelValue" event. You can update the usage and then ${t}`},link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},RENDER_FUNCTION:{message:`Vue 3's render function API has changed. You can opt-in to the new API with:

  configureCompat({ RENDER_FUNCTION: false })

  (This can also be done per-component via the "compatConfig" option.)`,link:"https://v3-migration.vuejs.org/breaking-changes/render-function-api.html"},FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"},PRIVATE_APIS:{message:e=>`"${e}" is a Vue 2 private API that no longer exists in Vue 3. If you are seeing this warning only due to a dependency, you can suppress this warning via { PRIVATE_APIS: 'suppress-warning' }.`}},Sa=Object.create(null),yr=Object.create(null);function Ye(e,t,...n){if(t=t||Xe(),_r(e,t)==="suppress-warning")return;const i=e+n.join("");let r=t&&xs(t,t.type);r==="Anonymous"&&t&&(r=t.uid);const o=i+r;if(o in Sa)return;if(Sa[o]=!0,i in yr){S(`(deprecation ${e}) (${++yr[i]+1})`);return}yr[i]=0;const{message:a,link:l}=xa[e];S(`(deprecation ${e}) ${typeof a=="function"?a(...n):a}${l?`
  Details: ${l}`:""}`),re(e,t,!0)||console.error("^ The above deprecation's compat behavior is disabled and will likely lead to runtime errors.")}const wr={MODE:2};function Vf(e){Ra(e),ne(wr,e)}const Ta=new WeakSet,Pa={};function Ra(e,t){if(!Ta.has(e)){Ta.add(e);for(const n of Object.keys(e))n!=="MODE"&&!(n in xa)&&!(n in Pa)&&(n.startsWith("COMPILER_")?_n()&&S(`Deprecation config "${n}" is compiler-specific and you are running a runtime-only build of Vue. This deprecation should be configured via compiler options in your build setup instead.
Details: https://v3-migration.vuejs.org/breaking-changes/migration-build.html`):S(`Invalid deprecation config "${n}".`),Pa[n]=!0);t&&e.OPTIONS_DATA_MERGE!=null&&S('Deprecation config "OPTIONS_DATA_MERGE" can only be configured globally.')}}function _r(e,t){const n=t&&t.type.compatConfig;return n&&e in n?n[e]:wr[e]}function re(e,t,n=!1){if(!n&&t&&t.type.__isBuiltIn)return!1;const s=_r("MODE",t)||2,i=_r(e,t);return(G(s)?s(t&&t.type):s)===2?i!==!1:i===!0||i==="suppress-warning"}function Ce(e,t,...n){if(re(e,t))Ye(e,t,...n);else throw new Error(`${e} compat has been disabled.`)}function At(e,t,...n){return Ye(e,t,...n),re(e,t)}function Zs(e,t,...n){const s=re(e,t);return s&&Ye(e,t,...n),s}const vr=new WeakMap;function Ar(e){let t=vr.get(e);return t||vr.set(e,t=Object.create(null)),t}function Cr(e,t,n){if(V(t))t.forEach(s=>Cr(e,s,n));else{t.startsWith("hook:")?Ce("INSTANCE_EVENT_HOOKS",e,t):Ce("INSTANCE_EVENT_EMITTER",e);const s=Ar(e);(s[t]||(s[t]=[])).push(n)}return e.proxy}function jf(e,t,n){const s=(...i)=>{Er(e,t,s),n.call(e.proxy,...i)};return s.fn=n,Cr(e,t,s),e.proxy}function Er(e,t,n){Ce("INSTANCE_EVENT_EMITTER",e);const s=e.proxy;if(!t)return vr.set(e,Object.create(null)),s;if(V(t))return t.forEach(o=>Er(e,o,n)),s;const i=Ar(e),r=i[t];return r?n?(i[t]=r.filter(o=>!(o===n||o.fn===n)),s):(i[t]=void 0,s):s}function Bf(e,t,n){const s=Ar(e)[t];return s&&Le(s.map(i=>i.bind(e.proxy)),e,6,n),e.proxy}const us="onModelCompat:",Oa=new WeakSet;function Hf(e){const{type:t,shapeFlag:n,props:s,dynamicProps:i}=e,r=t;if(n&6&&s&&"modelValue"in s){if(!re("COMPONENT_V_MODEL",{type:t}))return;Oa.has(r)||(In(e),Ye("COMPONENT_V_MODEL",{type:t},r),Ln(),Oa.add(r));const o=r.model||{};Fa(o,r.mixins);const{prop:a="value",event:l="input"}=o;a!=="modelValue"&&(s[a]=s.modelValue,delete s.modelValue),i&&(i[i.indexOf("modelValue")]=a),s[us+l]=s["onUpdate:modelValue"],delete s["onUpdate:modelValue"]}}function Fa(e,t){t&&t.forEach(n=>{n.model&&ne(e,n.model),n.mixins&&Fa(e,n.mixins)})}function Kf(e,t,n){if(!re("COMPONENT_V_MODEL",e))return;const s=e.vnode.props,i=s&&s[us+t];i&&et(i,e,6,n)}function Wf(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||oe;{const{emitsOptions:f,propsOptions:[u]}=e;if(f)if(!(t in f)&&!(t.startsWith("hook:")||t.startsWith(us)))(!u||!(lt(t)in u))&&S(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${lt(t)}" prop.`);else{const d=f[t];G(d)&&(d(...n)||S(`Invalid event arguments: event validation failed for event "${t}".`))}}let i=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:d}=s[f]||oe;d&&(i=n.map(y=>ce(y)?y.trim():y)),u&&(i=n.map(ut))}$f(e,t,i);{const f=t.toLowerCase();f!==t&&s[lt(f)]&&S(`Event "${f}" is emitted in component ${xs(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Ae(t)}" instead of "${t}".`)}let a,l=s[a=lt(t)]||s[a=lt(Te(t))];!l&&r&&(l=s[a=lt(Ae(t))]),l&&Le(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Le(c,e,6,i)}return Kf(e,t,i),Bf(e,t,i)}function Ia(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!G(e)){const l=c=>{const f=Ia(c,t,!0);f&&(a=!0,ne(o,f))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(ee(e)&&s.set(e,null),null):(V(r)?r.forEach(l=>o[l]=null):ne(o,r),ee(e)&&s.set(e,o),o)}function ei(e,t){return!e||!at(t)?!1:t.startsWith(us)?!0:(t=t.slice(2).replace(/Once$/,""),se(e,t[0].toLowerCase()+t.slice(1))||se(e,Ae(t))||se(e,t))}let he=null,kn=null;function fs(e){const t=he;return he=e,kn=e&&e.type.__scopeId||null,kn||(kn=e&&e.type._scopeId||null),t}function Gf(e){kn=e}function qf(){kn=null}const Yf=e=>xr;function xr(e,t=he,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&Jr(-1);const r=fs(t);let o;try{o=e(...i)}finally{fs(r),s._d&&Jr(1)}return Ca(t),o};return s._n=!0,s._c=!0,s._d=!0,n&&(s._ns=!0),s}let Sr=!1;function ti(){Sr=!0}function ni(e){const{type:t,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:f,renderCache:u,data:d,setupState:y,ctx:A,inheritAttrs:C}=e;let F,v;const g=fs(e);Sr=!1;try{if(n.shapeFlag&4){const O=i||s;F=Ue(f.call(O,O,u,r,y,d,A)),v=l}else{const O=t;l===r&&ti(),F=Ue(O.length>1?O(r,{get attrs(){return ti(),l},slots:a,emit:c}):O(r,null)),v=t.props?l:Xf(l)}}catch(O){Cs.length=0,cn(O,e,1),F=le(ge)}let E=F,x;if(F.patchFlag>0&&F.patchFlag&2048&&([E,x]=Jf(F)),v&&C!==!1){const O=Object.keys(v),{shapeFlag:D}=E;if(O.length){if(D&7)o&&O.some(ks)&&(v=zf(v,o)),E=De(E,v);else if(!Sr&&E.type!==ge){const P=Object.keys(l),w=[],m=[];for(let _=0,b=P.length;_<b;_++){const N=P[_];at(N)?ks(N)||w.push(N[2].toLowerCase()+N.slice(3)):m.push(N)}m.length&&S(`Extraneous non-props attributes (${m.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),w.length&&S(`Extraneous non-emits event listeners (${w.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}if(re("INSTANCE_ATTRS_CLASS_STYLE",e)&&n.shapeFlag&4&&E.shapeFlag&7){const{class:O,style:D}=n.props||{};(O||D)&&(C===!1&&Ye("INSTANCE_ATTRS_CLASS_STYLE",e,zt(e.type)),E=De(E,{class:O,style:D}))}return n.dirs&&(La(E)||S("Runtime directive used on component with non-element root node. The directives will not function as intended."),E=De(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(La(E)||S("Component inside <Transition> renders non-element root node that cannot be animated."),E.transition=n.transition),x?x(E):F=E,fs(g),F}const Jf=e=>{const t=e.children,n=e.dynamicChildren,s=Tr(t);if(!s)return[e,void 0];const i=t.indexOf(s),r=n?n.indexOf(s):-1,o=a=>{t[i]=a,n&&(r>-1?n[r]=a:a.patchFlag>0&&(e.dynamicChildren=[...n,a]))};return[Ue(s),o]};function Tr(e){let t;for(let n=0;n<e.length;n++){const s=e[n];if(ke(s)){if(s.type!==ge||s.children==="v-if"){if(t)return;t=s}}else return}return t}const Xf=e=>{let t;for(const n in e)(n==="class"||n==="style"||at(n))&&((t||(t={}))[n]=e[n]);return t},zf=(e,t)=>{const n={};for(const s in e)(!ks(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n},La=e=>e.shapeFlag&7||e.type===ge;function Qf(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if((i||a)&&$t||t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Na(s,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const d=f[u];if(o[d]!==s[d]&&!ei(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Na(s,o,c):!0:!!o;return!1}function Na(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!ei(n,r))return!0}return!1}function Pr({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Ma=e=>e.__isSuspense,Zf={name:"Suspense",__isSuspense:!0,process(e,t,n,s,i,r,o,a,l,c){e==null?ed(t,n,s,i,r,o,a,l,c):td(e,t,n,s,i,o,a,l,c)},hydrate:nd,create:Rr,normalize:sd};function ds(e,t){const n=e.props&&e.props[t];G(n)&&n()}function ed(e,t,n,s,i,r,o,a,l){const{p:c,o:{createElement:f}}=l,u=f("div"),d=e.suspense=Rr(e,i,s,t,u,n,r,o,a,l);c(null,d.pendingBranch=e.ssContent,u,null,s,d,r,o),d.deps>0?(ds(e,"onPending"),ds(e,"onFallback"),c(null,e.ssFallback,t,n,s,null,r,o),Dn(d,e.ssFallback)):d.resolve()}function td(e,t,n,s,i,r,o,a,{p:l,um:c,o:{createElement:f}}){const u=t.suspense=e.suspense;u.vnode=t,t.el=e.el;const d=t.ssContent,y=t.ssFallback,{activeBranch:A,pendingBranch:C,isInFallback:F,isHydrating:v}=u;if(C)u.pendingBranch=d,mt(d,C)?(l(C,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0?u.resolve():F&&(l(A,y,n,s,i,null,r,o,a),Dn(u,y))):(u.pendingId++,v?(u.isHydrating=!1,u.activeBranch=C):c(C,i,u),u.deps=0,u.effects.length=0,u.hiddenContainer=f("div"),F?(l(null,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0?u.resolve():(l(A,y,n,s,i,null,r,o,a),Dn(u,y))):A&&mt(d,A)?(l(A,d,n,s,i,u,r,o,a),u.resolve(!0)):(l(null,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0&&u.resolve()));else if(A&&mt(d,A))l(A,d,n,s,i,u,r,o,a),Dn(u,d);else if(ds(t,"onPending"),u.pendingBranch=d,u.pendingId++,l(null,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0)u.resolve();else{const{timeout:g,pendingId:E}=u;g>0?setTimeout(()=>{u.pendingId===E&&u.fallback(y)},g):g===0&&u.fallback(y)}}let ka=!1;function Rr(e,t,n,s,i,r,o,a,l,c,f=!1){ka||(ka=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:u,m:d,um:y,n:A,o:{parentNode:C,remove:F}}=c,v=ut(e.props&&e.props.timeout),g={vnode:e,parent:t,parentComponent:n,isSVG:o,container:s,hiddenContainer:i,anchor:r,deps:0,pendingId:0,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(E=!1){{if(!E&&!g.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(g.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:x,activeBranch:O,pendingBranch:D,pendingId:P,effects:w,parentComponent:m,container:_}=g;if(g.isHydrating)g.isHydrating=!1;else if(!E){const K=O&&D.transition&&D.transition.mode==="out-in";K&&(O.transition.afterLeave=()=>{P===g.pendingId&&d(D,_,B,0)});let{anchor:B}=g;O&&(B=A(O),y(O,m,g,!0)),K||d(D,_,B,0)}Dn(g,D),g.pendingBranch=null,g.isInFallback=!1;let b=g.parent,N=!1;for(;b;){if(b.pendingBranch){b.effects.push(...w),N=!0;break}b=b.parent}N||zs(w),g.effects=[],ds(x,"onResolve")},fallback(E){if(!g.pendingBranch)return;const{vnode:x,activeBranch:O,parentComponent:D,container:P,isSVG:w}=g;ds(x,"onFallback");const m=A(O),_=()=>{g.isInFallback&&(u(null,E,P,m,D,null,w,a,l),Dn(g,E))},b=E.transition&&E.transition.mode==="out-in";b&&(O.transition.afterLeave=_),g.isInFallback=!0,y(O,D,null,!0),b||_()},move(E,x,O){g.activeBranch&&d(g.activeBranch,E,x,O),g.container=E},next(){return g.activeBranch&&A(g.activeBranch)},registerDep(E,x){const O=!!g.pendingBranch;O&&g.deps++;const D=E.vnode.el;E.asyncDep.catch(P=>{cn(P,E,0)}).then(P=>{if(E.isUnmounted||g.isUnmounted||g.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:w}=E;In(w),no(E,P,!1),D&&(w.el=D);const m=!D&&E.subTree.el;x(E,w,C(D||E.subTree.el),D?null:A(E.subTree),g,o,l),m&&F(m),Pr(E,w.el),Ln(),O&&--g.deps===0&&g.resolve()})},unmount(E,x){g.isUnmounted=!0,g.activeBranch&&y(g.activeBranch,n,E,x),g.pendingBranch&&y(g.pendingBranch,n,E,x)}};return g}function nd(e,t,n,s,i,r,o,a,l){const c=t.suspense=Rr(t,s,n,e.parentNode,document.createElement("div"),null,i,r,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,n,c,r,o);return c.deps===0&&c.resolve(),f}function sd(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=Da(s?n.default:n),e.ssFallback=s?Da(n.fallback):le(ge)}function Da(e){let t;if(G(e)){const n=wn&&e._c;n&&(e._d=!1,bi()),e=e(),n&&(e._d=!0,t=Me,ql())}if(V(e)){const n=Tr(e);n||S("<Suspense> slots expect a single root node."),e=n}return e=Ue(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Ua(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):zs(e)}function Dn(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e,i=n.el=t.el;s&&s.subTree===n&&(s.vnode.el=i,Pr(s,i))}function $a(e,t){if(!pe)S("provide() can only be used inside setup().");else{let n=pe.provides;const s=pe.parent&&pe.parent.provides;s===n&&(n=pe.provides=Object.create(s)),n[e]=t}}function Vt(e,t,n=!1){const s=pe||he;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&G(t)?t.call(s.proxy):t;S(`injection "${String(e)}" not found.`)}else S("inject() can only be used inside setup() or functional components.")}function id(e,t){return hs(e,null,t)}function Va(e,t){return hs(e,null,Object.assign(Object.assign({},t),{flush:"post"}))}function rd(e,t){return hs(e,null,Object.assign(Object.assign({},t),{flush:"sync"}))}const si={};function dn(e,t,n){return G(t)||S("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),hs(e,t,n)}function hs(e,t,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=oe){t||(n!==void 0&&S('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&S('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const a=x=>{S("Invalid watch source: ",x,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},l=pe;let c,f=!1,u=!1;if(de(e)?(c=()=>e.value,f=Dt(e)):He(e)?(c=()=>e,s=!0):V(e)?(u=!0,f=e.some(x=>He(x)||Dt(x)),c=()=>e.map(x=>{if(de(x))return x.value;if(He(x))return jt(x);if(G(x))return et(x,l,2);a(x)})):G(e)?t?c=()=>et(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),Le(e,l,3,[y])}:(c=Ee,a(e)),t&&!s){const x=c;c=()=>{const O=x();return V(O)&&Zs("WATCH_ARRAY",l)&&jt(O),O}}if(t&&s){const x=c;c=()=>jt(x())}let d,y=x=>{d=g.onStop=()=>{et(x,l,4)}},A;if(jn)if(y=Ee,t?n&&Le(t,l,3,[c(),u?[]:void 0,y]):c(),i==="sync"){const x=rc();A=x.__watcherHandles||(x.__watcherHandles=[])}else return Ee;let C=u?new Array(e.length).fill(si):si;const F=()=>{if(g.active)if(t){const x=g.run();(s||f||(u?x.some((O,D)=>Fn(O,C[D])):Fn(x,C))||V(x)&&re("WATCH_ARRAY",l))&&(d&&d(),Le(t,l,3,[x,C===si?void 0:u&&C[0]===si?[]:C,y]),C=x)}else g.run()};F.allowRecurse=!!t;let v;i==="sync"?v=F:i==="post"?v=()=>me(F,l&&l.suspense):(F.pre=!0,l&&(F.id=l.uid),v=()=>rs(F));const g=new es(c,v);g.onTrack=r,g.onTrigger=o,t?n?F():C=g.run():i==="post"?me(g.run.bind(g),l&&l.suspense):g.run();const E=()=>{g.stop(),l&&l.scope&&Gi(l.scope.effects,g)};return A&&A.push(E),E}function od(e,t,n){const s=this.proxy,i=ce(e)?e.includes(".")?ja(s,e):()=>s[e]:e.bind(s,s);let r;G(t)?r=t:(r=t.handler,n=t);const o=pe;Jt(this);const a=hs(i,r.bind(s),n);return o?Jt(o):Xt(),a}function ja(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function jt(e,t){if(!ee(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),de(e))jt(e.value,t);else if(V(e))for(let n=0;n<e.length;n++)jt(e[n],t);else if(nn(e)||tn(e))e.forEach(n=>{jt(n,t)});else if(Ds(e))for(const n in e)jt(e[n],t);return e}function Or(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ms(()=>{e.isMounted=!0}),ps(()=>{e.isUnmounting=!0}),e}const Je=[Function,Array],Ba={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Je,onEnter:Je,onAfterEnter:Je,onEnterCancelled:Je,onBeforeLeave:Je,onLeave:Je,onAfterLeave:Je,onLeaveCancelled:Je,onBeforeAppear:Je,onAppear:Je,onAfterAppear:Je,onAppearCancelled:Je},setup(e,{slots:t}){const n=Xe(),s=Or();let i;return()=>{const r=t.default&&ii(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let C=!1;for(const F of r)if(F.type!==ge){if(C){S("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}o=F,C=!0}}const a=Z(e),{mode:l}=a;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&S(`invalid <transition> mode: ${l}`),s.isLeaving)return Ir(o);const c=Ka(o);if(!c)return Ir(o);const f=Un(c,a,s,n);hn(c,f);const u=n.subTree,d=u&&Ka(u);let y=!1;const{getTransitionKey:A}=c.type;if(A){const C=A();i===void 0?i=C:C!==i&&(i=C,y=!0)}if(d&&d.type!==ge&&(!mt(c,d)||y)){const C=Un(d,a,s,n);if(hn(d,C),l==="out-in")return s.isLeaving=!0,C.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},Ir(o);l==="in-out"&&c.type!==ge&&(C.delayLeave=(F,v,g)=>{const E=Ha(s,d);E[String(d.key)]=d,F._leaveCb=()=>{v(),F._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=g})}return o}}};Ba.__isBuiltIn=!0;const Fr=Ba;function Ha(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Un(e,t,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:u,onLeave:d,onAfterLeave:y,onLeaveCancelled:A,onBeforeAppear:C,onAppear:F,onAfterAppear:v,onAppearCancelled:g}=t,E=String(e.key),x=Ha(n,e),O=(w,m)=>{w&&Le(w,s,9,m)},D=(w,m)=>{const _=m[1];O(w,m),V(w)?w.every(b=>b.length<=1)&&_():w.length<=1&&_()},P={mode:r,persisted:o,beforeEnter(w){let m=a;if(!n.isMounted)if(i)m=C||a;else return;w._leaveCb&&w._leaveCb(!0);const _=x[E];_&&mt(e,_)&&_.el._leaveCb&&_.el._leaveCb(),O(m,[w])},enter(w){let m=l,_=c,b=f;if(!n.isMounted)if(i)m=F||l,_=v||c,b=g||f;else return;let N=!1;const K=w._enterCb=B=>{N||(N=!0,B?O(b,[w]):O(_,[w]),P.delayedLeave&&P.delayedLeave(),w._enterCb=void 0)};m?D(m,[w,K]):K()},leave(w,m){const _=String(e.key);if(w._enterCb&&w._enterCb(!0),n.isUnmounting)return m();O(u,[w]);let b=!1;const N=w._leaveCb=K=>{b||(b=!0,m(),K?O(A,[w]):O(y,[w]),w._leaveCb=void 0,x[_]===e&&delete x[_])};x[_]=e,d?D(d,[w,N]):N()},clone(w){return Un(w,t,n,s)}};return P}function Ir(e){if($n(e))return e=De(e),e.children=null,e}function Ka(e){return $n(e)?e.children?e.children[0]:void 0:e}function hn(e,t){e.shapeFlag&6&&e.component?hn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ii(e,t=!1,n){let s=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===we?(o.patchFlag&128&&i++,s=s.concat(ii(o.children,t,a))):(t||o.type!==ge)&&s.push(a!=null?De(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function ri(e){return G(e)?{setup:e,name:e.name}:e}const gn=e=>!!e.type.__asyncLoader;function oi(e){G(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:i=200,timeout:r,suspensible:o=!0,onError:a}=e;let l=null,c,f=0;const u=()=>(f++,l=null,d()),d=()=>{let y;return l||(y=l=t().catch(A=>{if(A=A instanceof Error?A:new Error(String(A)),a)return new Promise((C,F)=>{a(A,()=>C(u()),()=>F(A),f+1)});throw A}).then(A=>{if(y!==l&&l)return l;if(A||S("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),A&&(A.__esModule||A[Symbol.toStringTag]==="Module")&&(A=A.default),A&&!ee(A)&&!G(A))throw new Error(`Invalid async component load result: ${A}`);return c=A,A}))};return ri({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const y=pe;if(c)return()=>Lr(c,y);const A=g=>{l=null,cn(g,y,13,!s)};if(o&&y.suspense||jn)return d().then(g=>()=>Lr(g,y)).catch(g=>(A(g),()=>s?le(s,{error:g}):null));const C=an(!1),F=an(),v=an(!!i);return i&&setTimeout(()=>{v.value=!1},i),r!=null&&setTimeout(()=>{if(!C.value&&!F.value){const g=new Error(`Async component timed out after ${r}ms.`);A(g),F.value=g}},r),d().then(()=>{C.value=!0,y.parent&&$n(y.parent.vnode)&&rs(y.parent.update)}).catch(g=>{A(g),F.value=g}),()=>{if(C.value&&c)return Lr(c,y);if(F.value&&s)return le(s,{error:F.value});if(n&&!v.value)return le(n)}}})}function Lr(e,t){const{ref:n,props:s,children:i,ce:r}=t.vnode,o=le(e,s,i);return o.ref=n,o.ce=r,delete t.vnode.ce,o}const $n=e=>e.type.__isKeepAlive,Wa={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Xe(),s=n.ctx;if(!s.renderer)return()=>{const g=t.default&&t.default();return g&&g.length===1?g[0]:g};const i=new Map,r=new Set;let o=null;n.__v_cache=i;const a=n.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:u}}}=s,d=u("div");s.activate=(g,E,x,O,D)=>{const P=g.component;c(g,E,x,0,a),l(P.vnode,g,E,x,P,a,O,g.slotScopeIds,D),me(()=>{P.isDeactivated=!1,P.a&&ct(P.a);const w=g.props&&g.props.onVnodeMounted;w&&$e(w,P.parent,g)},a),pr(P)},s.deactivate=g=>{const E=g.component;c(g,d,null,1,a),me(()=>{E.da&&ct(E.da);const x=g.props&&g.props.onVnodeUnmounted;x&&$e(x,E.parent,g),E.isDeactivated=!0},a),pr(E)};function y(g){Nr(g),f(g,n,a,!0)}function A(g){i.forEach((E,x)=>{const O=zt(E.type);O&&(!g||!g(O))&&C(x)})}function C(g){const E=i.get(g);!o||E.type!==o.type?y(E):o&&Nr(o),i.delete(g),r.delete(g)}dn(()=>[e.include,e.exclude],([g,E])=>{g&&A(x=>gs(g,x)),E&&A(x=>!gs(E,x))},{flush:"post",deep:!0});let F=null;const v=()=>{F!=null&&i.set(F,Mr(n.subTree))};return ms(v),li(v),ps(()=>{i.forEach(g=>{const{subTree:E,suspense:x}=n,O=Mr(E);if(g.type===O.type){Nr(O);const D=O.component.da;D&&me(D,x);return}y(g)})}),()=>{if(F=null,!t.default)return null;const g=t.default(),E=g[0];if(g.length>1)return S("KeepAlive should contain exactly one component child."),o=null,g;if(!ke(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let x=Mr(E);const O=x.type,D=zt(gn(x)?x.type.__asyncResolved||{}:O),{include:P,exclude:w,max:m}=e;if(P&&(!D||!gs(P,D))||w&&D&&gs(w,D))return o=x,E;const _=x.key==null?O:x.key,b=i.get(_);return x.el&&(x=De(x),E.shapeFlag&128&&(E.ssContent=x)),F=_,b?(x.el=b.el,x.component=b.component,x.transition&&hn(x,x.transition),x.shapeFlag|=512,r.delete(_),r.add(_)):(r.add(_),m&&r.size>parseInt(m,10)&&C(r.values().next().value)),x.shapeFlag|=256,o=x,Ma(E.type)?E:x}}};Wa.__isBuildIn=!0;const Ga=Wa;function gs(e,t){return V(e)?e.some(n=>gs(n,t)):ce(e)?e.split(",").includes(t):e.test?e.test(t):!1}function qa(e,t){Ja(e,"a",t)}function Ya(e,t){Ja(e,"da",t)}function Ja(e,t,n=pe){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ai(t,s,n),n){let i=n.parent;for(;i&&i.parent;)$n(i.parent.vnode)&&ad(s,t,n,i),i=i.parent}}function ad(e,t,n,s){const i=ai(t,e,s,!0);bs(()=>{Gi(s[t],i)},n)}function Nr(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Mr(e){return e.shapeFlag&128?e.ssContent:e}function ai(e,t,n=pe,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;rn(),Jt(n);const a=Le(t,n,e,o);return Xt(),on(),a});return s?i.unshift(r):i.push(r),r}else{const i=lt(cr[e].replace(/ hook$/,""));S(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Ct=e=>(t,n=pe)=>(!jn||e==="sp")&&ai(e,(...s)=>t(...s),n),Xa=Ct("bm"),ms=Ct("m"),za=Ct("bu"),li=Ct("u"),ps=Ct("bum"),bs=Ct("um"),Qa=Ct("sp"),Za=Ct("rtg"),el=Ct("rtc");function tl(e,t=pe){ai("ec",e,t)}function ld(e){Ce("INSTANCE_CHILDREN",e);const t=e.subTree,n=[];return t&&nl(t,n),n}function nl(e,t){if(e.component)t.push(e.component.proxy);else if(e.shapeFlag&16){const n=e.children;for(let s=0;s<n.length;s++)nl(n[s],t)}}function sl(e){Ce("INSTANCE_LISTENERS",e);const t={},n=e.vnode.props;if(!n)return t;for(const s in n)at(s)&&(t[s[2].toLowerCase()+s.slice(3)]=n[s]);return t}const cd={beforeMount:"bind",mounted:"inserted",updated:["update","componentUpdated"],unmounted:"unbind"};function ud(e,t,n){const s=cd[e];if(s)if(V(s)){const i=[];return s.forEach(r=>{const o=t[r];o&&(At("CUSTOM_DIR",n,r,e),i.push(o))}),i.length?i:void 0}else return t[s]&&At("CUSTOM_DIR",n,s,e),t[s]}function il(e){Mu(e)&&S("Do not use built-in directive ids as custom directive id: "+e)}function rl(e,t){const n=he;if(n===null)return S("withDirectives can only be used inside render functions."),e;const s=Ci(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=oe]=t[r];o&&(G(o)&&(o={mounted:o,updated:o}),o.deep&&jt(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function gt(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l||(l=ud(s,a.dir,n)),l&&(rn(),Le(l,n,8,[e.el,a,e,t]),on())}}const ci="components",fd="directives",dd="filters";function hd(e,t){return ui(ci,e,!0,t)||e}const ol=Symbol();function al(e){return ce(e)?ui(ci,e,!1)||e:e||ol}function ll(e){return ui(fd,e)}function cl(e){return ui(dd,e)}function ui(e,t,n=!0,s=!1){const i=he||pe;if(i){const r=i.type;if(e===ci){const a=zt(r,!1);if(a&&(a===t||a===Te(t)||a===It(Te(t))))return r}const o=ul(i[e]||r[e],t)||ul(i.appContext[e],t);if(!o&&s)return r;if(n&&!o){const a=e===ci?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";S(`Failed to resolve ${e.slice(0,-1)}: ${t}${a}`)}return o}else S(`resolve${It(e.slice(0,-1))} can only be used in render() or setup().`)}function ul(e,t){return e&&(e[t]||e[Te(t)]||e[It(Te(t))])}function gd(e){const t=e.type,n=t.render;if(!(!n||n._rc||n._compatChecked||n._compatWrapped)){if(n.length>=2){n._compatChecked=!0;return}if(Zs("RENDER_FUNCTION",e)){const s=t.render=function(){return n.call(this,fi)};s._compatWrapped=!0}}}function fi(e,t,n){if(e||(e=ge),typeof e=="string"){const r=Ae(e);(r==="transition"||r==="transition-group"||r==="keep-alive")&&(e=`__compat__${r}`),e=al(e)}const s=arguments.length,i=V(t);return s===2||i?ee(t)&&!i?ke(t)?di(le(e,null,[t])):di(dl(le(e,fl(t,e)),t)):di(le(e,null,t)):(ke(n)&&(n=[n]),di(dl(le(e,fl(t,e),n),t)))}const md=Ze("staticStyle,staticClass,directives,model,hook");function fl(e,t){if(!e)return null;const n={};for(const s in e)if(s==="attrs"||s==="domProps"||s==="props")ne(n,e[s]);else if(s==="on"||s==="nativeOn"){const i=e[s];for(const r in i){let o=pd(r);s==="nativeOn"&&(o+="Native");const a=n[o],l=i[r];a!==l&&(a?n[o]=[].concat(a,l):n[o]=l)}}else md(s)||(n[s]=e[s]);if(e.staticClass&&(n.class=Ft([e.staticClass,n.class])),e.staticStyle&&(n.style=Pn([e.staticStyle,n.style])),e.model&&ee(t)){const{prop:s="value",event:i="input"}=t.model||{};n[s]=e.model.value,n[us+i]=e.model.callback}return n}function pd(e){return e[0]==="&"&&(e=e.slice(1)+"Passive"),e[0]==="~"&&(e=e.slice(1)+"Once"),e[0]==="!"&&(e=e.slice(1)+"Capture"),lt(e)}function dl(e,t){return t&&t.directives?rl(e,t.directives.map(({name:n,value:s,arg:i,modifiers:r})=>[ll(n),s,i,r])):e}function di(e){const{props:t,children:n}=e;let s;if(e.shapeFlag&6&&V(n)){s={};for(let r=0;r<n.length;r++){const o=n[r],a=ke(o)&&o.props&&o.props.slot||"default",l=s[a]||(s[a]=[]);ke(o)&&o.type==="template"?l.push(o.children):l.push(o)}if(s)for(const r in s){const o=s[r];s[r]=()=>o,s[r]._ns=!0}}const i=t&&t.scopedSlots;return i&&(delete t.scopedSlots,s?ne(s,i):s=i),s&&vi(e,s),e}function hl(e){if(re("RENDER_FUNCTION",he,!0)&&re("PRIVATE_APIS",he,!0)){const t=he,n=()=>e.component&&e.component.proxy;let s;Object.defineProperties(e,{tag:{get:()=>e.type},data:{get:()=>e.props||{},set:i=>e.props=i},elm:{get:()=>e.el},componentInstance:{get:n},child:{get:n},text:{get:()=>ce(e.children)?e.children:null},context:{get:()=>t&&t.proxy},componentOptions:{get:()=>{if(e.shapeFlag&4)return s||(s={Ctor:e.type,propsData:e.props,children:e.children})}}})}}const kr=new Map,gl={get(e,t){const n=e[t];return n&&n()}};function bd(e){if(kr.has(e))return kr.get(e);const t=e.render,n=(s,i)=>{const r=Xe(),o={props:s,children:r.vnode.children||[],data:r.vnode.props||{},scopedSlots:i.slots,parent:r.parent&&r.parent.proxy,slots(){return new Proxy(i.slots,gl)},get listeners(){return sl(r)},get injections(){if(e.inject){const a={};return El(e.inject,a),a}return{}}};return t(fi,o)};return n.props=e.props,n.displayName=e.name,n.compatConfig=e.compatConfig,n.inheritAttrs=!1,kr.set(e,n),n}function ml(e,t,n,s){let i;const r=n&&n[s];if(V(e)||ce(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){Number.isInteger(e)||S(`The v-for range expect an integer value but got ${e}.`),i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,r&&r[o])}else if(ee(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=t(e[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}function pl(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(V(s))for(let i=0;i<s.length;i++)e[s[i].name]=s[i].fn;else s&&(e[s.name]=s.key?(...i)=>{const r=s.fn(...i);return r&&(r.key=s.key),r}:s.fn)}return e}function bl(e,t,n={},s,i){if(he.isCE||he.parent&&gn(he.parent)&&he.parent.isCE)return t!=="default"&&(n.name=t),le("slot",n,s&&s());let r=e[t];r&&r.length>1&&(S("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),r=()=>[]),r&&r._c&&(r._d=!1),bi();const o=r&&yl(r(n)),a=Xr(we,{key:n.key||o&&o.key||`_${t}`},o||(s?s():[]),o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function yl(e){return e.some(t=>ke(t)?!(t.type===ge||t.type===we&&!yl(t.children)):!0)?e:null}function wl(e,t){const n={};if(!ee(e))return S("v-on with no argument expects an object value."),n;for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:lt(s)]=e[s];return n}function yd(e){const t={};for(let n=0;n<e.length;n++)e[n]&&ne(t,e[n]);return t}function wd(e,t,n,s,i){if(n&&ee(n)){V(n)&&(n=yd(n));for(const r in n)if(On(r))e[r]=n[r];else if(r==="class")e.class=Ft([e.class,n.class]);else if(r==="style")e.style=Ft([e.style,n.style]);else{const o=e.attrs||(e.attrs={}),a=Te(r),l=Ae(r);if(!(a in o)&&!(l in o)&&(o[r]=n[r],i)){const c=e.on||(e.on={});c[`update:${r}`]=function(f){n[r]=f}}}}return e}function _d(e,t){return Ai(e,wl(t))}function vd(e,t,n,s,i){return i&&(s=Ai(s,i)),bl(e.slots,t,s,n&&(()=>n))}function Ad(e,t,n){return pl(t||{$stable:!n},_l(e))}function _l(e){for(let t=0;t<e.length;t++){const n=e[t];n&&(V(n)?_l(n):n.name=n.key||"default")}return e}const vl=new WeakMap;function Cd(e,t){let n=vl.get(e);if(n||vl.set(e,n=[]),n[t])return n[t];const s=e.type.staticRenderFns[t],i=e.proxy;return n[t]=s.call(i,null,i)}function Ed(e,t,n,s,i,r){const a=e.appContext.config.keyCodes||{},l=a[n]||s;if(r&&i&&!a[n])return Al(r,i);if(l)return Al(l,t);if(i)return Ae(i)!==n}function Al(e,t){return V(e)?!e.includes(t):e!==t}function xd(e){return e}function Sd(e,t){for(let n=0;n<t.length;n+=2){const s=t[n];typeof s=="string"&&s&&(e[t[n]]=t[n+1])}return e}function Td(e,t){return typeof e=="string"?t+e:e}function Pd(e){const t=(s,i,r)=>{s[i]=r},n=(s,i)=>{delete s[i]};ne(e,{$set:s=>(Ce("INSTANCE_SET",s),t),$delete:s=>(Ce("INSTANCE_DELETE",s),n),$mount:s=>(Ce("GLOBAL_MOUNT",null),s.ctx._compat_mount||Ee),$destroy:s=>(Ce("INSTANCE_DESTROY",s),s.ctx._compat_destroy||Ee),$slots:s=>re("RENDER_FUNCTION",s)&&s.render&&s.render._compatWrapped?new Proxy(s.slots,gl):kt(s.slots),$scopedSlots:s=>{Ce("INSTANCE_SCOPED_SLOTS",s);const i={};for(const r in s.slots){const o=s.slots[r];o._ns||(i[r]=o)}return i},$on:s=>Cr.bind(null,s),$once:s=>jf.bind(null,s),$off:s=>Er.bind(null,s),$children:ld,$listeners:sl}),re("PRIVATE_APIS",null)&&ne(e,{$vnode:s=>s.vnode,$options:s=>{const i=ne({},ws(s));return i.parent=s.proxy.$parent,i.propsData=s.vnode.props,i},_self:s=>s.proxy,_uid:s=>s.uid,_data:s=>s.data,_isMounted:s=>s.isMounted,_isDestroyed:s=>s.isUnmounted,$createElement:()=>fi,_c:()=>fi,_o:()=>xd,_n:()=>ut,_s:()=>Mo,_l:()=>ml,_t:s=>vd.bind(null,s),_q:()=>wt,_i:()=>Jn,_m:s=>Cd.bind(null,s),_f:()=>cl,_k:s=>Ed.bind(null,s),_b:()=>wd,_v:()=>_i,_e:()=>Ql,_u:()=>Ad,_g:()=>_d,_d:()=>Sd,_p:()=>Td})}const Dr=e=>e?Zl(e)?Ci(e)||e.proxy:Dr(e.parent):null,Bt=ne(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>kt(e.props),$attrs:e=>kt(e.attrs),$slots:e=>kt(e.slots),$refs:e=>kt(e.refs),$parent:e=>Dr(e.parent),$root:e=>Dr(e.root),$emit:e=>e.emit,$options:e=>ws(e),$forceUpdate:e=>e.f||(e.f=()=>rs(e.update)),$nextTick:e=>e.n||(e.n=un.bind(e.proxy)),$watch:e=>od.bind(e)});Pd(Bt);const Ur=e=>e==="_"||e==="$",$r=(e,t)=>e!==oe&&!e.__isScriptSetup&&se(e,t),ys={get({_:e},t){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;if(t==="__isVue")return!0;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if($r(s,t))return o[t]=1,s[t];if(i!==oe&&se(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&se(c,t))return o[t]=3,r[t];if(n!==oe&&se(n,t))return o[t]=4,n[t];Vr&&(o[t]=0)}}const f=Bt[t];let u,d;if(f)return t==="$attrs"&&(Ie(e,"get",t),ti()),f(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==oe&&se(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,se(d,t)){const y=Object.getOwnPropertyDescriptor(d,t);if(y.get)return y.get.call(e.proxy);{const A=d[t];return G(A)?Object.assign(A.bind(e.proxy),A):A}}else he&&(!ce(t)||t.indexOf("__v")!==0)&&(i!==oe&&Ur(t[0])&&se(i,t)?S(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===he&&S(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return $r(i,t)?(i[t]=n,!0):i.__isScriptSetup&&se(i,t)?(S(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==oe&&se(s,t)?(s[t]=n,!0):se(e.props,t)?(S(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(S(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||e!==oe&&se(e,o)||$r(t,o)||(a=r[0])&&se(a,o)||se(s,o)||se(Bt,o)||se(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:se(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};ys.ownKeys=e=>(S("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));const Rd=ne({},ys,{get(e,t){if(t!==Symbol.unscopables)return ys.get(e,t,e)},has(e,t){const n=t[0]!=="_"&&!Au(t);return!n&&ys.has(e,t)&&S(`Property ${JSON.stringify(t)} should not start with _ which is a reserved prefix for Vue internals.`),n}});function Od(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Bt).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Bt[n](e),set:Ee})}),t}function Fd(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(s=>{Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>e.props[s],set:Ee})})}function Id(e){const{ctx:t,setupState:n}=e;Object.keys(Z(n)).forEach(s=>{if(!n.__isScriptSetup){if(Ur(s[0])){S(`setup() return property ${JSON.stringify(s)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n[s],set:Ee})}})}function Cl(e,t){for(const n in t){const s=e[n],i=t[n];n in e&&Ds(s)&&Ds(i)?(Ye("OPTIONS_DATA_MERGE",null,n),Cl(s,i)):e[n]=i}return e}function Ld(){const e=Object.create(null);return(t,n)=>{e[n]?S(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let Vr=!0;function Nd(e){const t=ws(e),n=e.proxy,s=e.ctx;Vr=!1,t.beforeCreate&&xl(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:u,mounted:d,beforeUpdate:y,updated:A,activated:C,deactivated:F,beforeDestroy:v,beforeUnmount:g,destroyed:E,unmounted:x,render:O,renderTracked:D,renderTriggered:P,errorCaptured:w,serverPrefetch:m,expose:_,inheritAttrs:b,components:N,directives:K,filters:B}=t,W=Ld();{const[$]=e.propsOptions;if($)for(const z in $)W("Props",z)}if(c&&El(c,s,W,e.appContext.config.unwrapInjectedRef),o)for(const $ in o){const z=o[$];G(z)?(Object.defineProperty(s,$,{value:z.bind(n),configurable:!0,enumerable:!0,writable:!0}),W("Methods",$)):S(`Method "${$}" has type "${typeof z}" in the component definition. Did you reference the function correctly?`)}if(i){G(i)||S("The data option must be a function. Plain object usage is no longer supported.");const $=i.call(n,n);if(zn($)&&S("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!ee($))S("data() should return an object.");else{e.data=_t($);for(const z in $)W("Data",z),Ur(z[0])||Object.defineProperty(s,z,{configurable:!0,enumerable:!0,get:()=>$[z],set:Ee})}}if(Vr=!0,r)for(const $ in r){const z=r[$],X=G(z)?z.bind(n,n):G(z.get)?z.get.bind(n,n):Ee;X===Ee&&S(`Computed property "${$}" has no getter.`);const ae=!G(z)&&G(z.set)?z.set.bind(n):()=>{S(`Write operation failed: computed property "${$}" is readonly.`)},Oe=Ei({get:X,set:ae});Object.defineProperty(s,$,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:Gn=>Oe.value=Gn}),W("Computed",$)}if(a)for(const $ in a)Sl(a[$],s,n,$);if(l){const $=G(l)?l.call(n):l;Reflect.ownKeys($).forEach(z=>{$a(z,$[z])})}f&&xl(f,e,"c");function I($,z){V(z)?z.forEach(X=>$(X.bind(n))):z&&$(z.bind(n))}if(I(Xa,u),I(ms,d),I(za,y),I(li,A),I(qa,C),I(Ya,F),I(tl,w),I(el,D),I(Za,P),I(ps,g),I(bs,x),I(Qa,m),v&&At("OPTIONS_BEFORE_DESTROY",e)&&I(ps,v),E&&At("OPTIONS_DESTROYED",e)&&I(bs,E),V(_))if(_.length){const $=e.exposed||(e.exposed={});_.forEach(z=>{Object.defineProperty($,z,{get:()=>n[z],set:X=>n[z]=X})})}else e.exposed||(e.exposed={});O&&e.render===Ee&&(e.render=O),b!=null&&(e.inheritAttrs=b),N&&(e.components=N),K&&(e.directives=K),B&&re("FILTERS",e)&&(e.filters=B)}function El(e,t,n=Ee,s=!1){V(e)&&(e=jr(e));for(const i in e){const r=e[i];let o;ee(r)?"default"in r?o=Vt(r.from||i,r.default,!0):o=Vt(r.from||i):o=Vt(r),de(o)?s?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):(S(`injected property "${i}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),t[i]=o):t[i]=o,n("Inject",i)}}function xl(e,t,n){Le(V(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Sl(e,t,n,s){const i=s.includes(".")?ja(n,s):()=>n[s];if(ce(e)){const r=t[e];G(r)?dn(i,r):S(`Invalid watch handler specified by key "${e}"`,r)}else if(G(e))dn(i,e.bind(n));else if(ee(e))if(V(e))e.forEach(r=>Sl(r,t,n,s));else{const r=G(e.handler)?e.handler.bind(n):t[e.handler];G(r)?dn(i,r,e):S(`Invalid watch handler specified by key "${e.handler}"`,r)}else S(`Invalid watch option: "${s}"`,e)}function ws(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?re("PRIVATE_APIS",e)?(l=ne({},t),l.parent=e.parent&&e.parent.proxy,l.propsData=e.vnode.props):l=t:(l={},i.length&&i.forEach(c=>mn(l,c,o,!0)),mn(l,t,o)),ee(t)&&r.set(t,l),l}function mn(e,t,n,s=!1){G(t)&&(t=t.options);const{mixins:i,extends:r}=t;r&&mn(e,r,n,!0),i&&i.forEach(o=>mn(e,o,n,!0));for(const o in t)if(s&&o==="expose")S('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=pn[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const pn={data:Tl,props:Ht,emits:Ht,methods:Ht,computed:Ht,beforeCreate:Re,created:Re,beforeMount:Re,mounted:Re,beforeUpdate:Re,updated:Re,beforeDestroy:Re,beforeUnmount:Re,destroyed:Re,unmounted:Re,activated:Re,deactivated:Re,errorCaptured:Re,serverPrefetch:Re,components:Ht,directives:Ht,watch:kd,provide:Tl,inject:Md};pn.filters=Ht;function Tl(e,t){return t?e?function(){return(re("OPTIONS_DATA_MERGE",null)?Cl:ne)(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function Md(e,t){return Ht(jr(e),jr(t))}function jr(e){if(V(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Re(e,t){return e?[...new Set([].concat(e,t))]:t}function Ht(e,t){return e?ne(ne(Object.create(null),e),t):t}function kd(e,t){if(!e)return t;if(!t)return e;const n=ne(Object.create(null),e);for(const s in t)n[s]=Re(e[s],t[s]);return n}function Dd(e,t,n){return new Proxy({},{get(s,i){if(Ye("PROPS_DEFAULT_THIS",null,n),i==="$options")return ws(e);if(i in t)return t[i];const r=e.type.inject;if(r){if(V(r)){if(r.includes(i))return Vt(i)}else if(i in r)return Vt(i)}}})}function Pl(e,t){return!!(e==="is"||(e==="class"||e==="style")&&re("INSTANCE_ATTRS_CLASS_STYLE",t)||at(e)&&re("INSTANCE_LISTENERS",t)||e.startsWith("routerView")||e==="registerRouteInstance")}function Ud(e,t,n,s=!1){const i={},r={};$s(r,yi,1),e.propsDefaults=Object.create(null),Rl(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);Nl(t||{},i,e),n?e.props=s?i:fa(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function $d(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function Vd(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=Z(i),[l]=e.propsOptions;let c=!1;if(!$d(e)&&(s||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let d=f[u];if(ei(e.emitsOptions,d))continue;const y=t[d];if(l)if(se(r,d))y!==r[d]&&(r[d]=y,c=!0);else{const A=Te(d);i[A]=Br(l,a,A,y,e,!1)}else{if(at(d)&&d.endsWith("Native"))d=d.slice(0,-6);else if(Pl(d,e))continue;y!==r[d]&&(r[d]=y,c=!0)}}}}else{Rl(e,t,i,r)&&(c=!0);let f;for(const u in a)(!t||!se(t,u)&&((f=Ae(u))===u||!se(t,f)))&&(l?n&&(n[u]!==void 0||n[f]!==void 0)&&(i[u]=Br(l,a,u,void 0,e,!0)):delete i[u]);if(r!==a)for(const u in r)(!t||!se(t,u)&&!se(t,u+"Native"))&&(delete r[u],c=!0)}c&&ft(e,"set","$attrs"),Nl(t||{},i,e)}function Rl(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(On(l)||(l.startsWith("onHook:")&&At("INSTANCE_EVENT_HOOKS",e,l.slice(2).toLowerCase()),l==="inline-template"))continue;const c=t[l];let f;if(i&&se(i,f=Te(l)))!r||!r.includes(f)?n[f]=c:(a||(a={}))[f]=c;else if(!ei(e.emitsOptions,l)){if(at(l)&&l.endsWith("Native"))l=l.slice(0,-6);else if(Pl(l,e))continue;(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}}if(r){const l=Z(n),c=a||oe;for(let f=0;f<r.length;f++){const u=r[f];n[u]=Br(i,l,u,c[u],e,!se(c,u))}}return o}function Br(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&G(l)){const{propsDefaults:c}=i;n in c?s=c[n]:(Jt(i),s=c[n]=l.call(re("PROPS_DEFAULT_THIS",i)?Dd(i,t,n):null,t),Xt())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ae(n))&&(s=!0))}return s}function Ol(e,t,n=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!G(e)){const f=u=>{G(u)&&(u=u.options),l=!0;const[d,y]=Ol(u,t,!0);ne(o,d),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!l)return ee(e)&&s.set(e,Rn),Rn;if(V(r))for(let f=0;f<r.length;f++){ce(r[f])||S("props must be strings when using array syntax.",r[f]);const u=Te(r[f]);Fl(u)&&(o[u]=oe)}else if(r){ee(r)||S("invalid props options",r);for(const f in r){const u=Te(f);if(Fl(u)){const d=r[f],y=o[u]=V(d)||G(d)?{type:d}:Object.assign({},d);if(y){const A=Ll(Boolean,y.type),C=Ll(String,y.type);y[0]=A>-1,y[1]=C<0||A<C,(A>-1||se(y,"default"))&&a.push(u)}}}}const c=[o,a];return ee(e)&&s.set(e,c),c}function Fl(e){return e[0]!=="$"?!0:(S(`Invalid prop name: "${e}" is a reserved property.`),!1)}function Hr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Il(e,t){return Hr(e)===Hr(t)}function Ll(e,t){return V(t)?t.findIndex(n=>Il(n,e)):G(t)&&Il(t,e)?0:-1}function Nl(e,t,n){const s=Z(t),i=n.propsOptions[0];for(const r in i){let o=i[r];o!=null&&jd(r,s[r],o,!se(e,r)&&!se(e,Ae(r)))}}function jd(e,t,n,s){const{type:i,required:r,validator:o}=n;if(r&&s){S('Missing required prop: "'+e+'"');return}if(!(t==null&&!n.required)){if(i!=null&&i!==!0){let a=!1;const l=V(i)?i:[i],c=[];for(let f=0;f<l.length&&!a;f++){const{valid:u,expectedType:d}=Hd(t,l[f]);c.push(d||""),a=u}if(!a){S(Kd(e,t,c));return}}o&&!o(t)&&S('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Bd=Ze("String,Number,Boolean,Function,Symbol,BigInt");function Hd(e,t){let n;const s=Hr(t);if(Bd(s)){const i=typeof e;n=i===s.toLowerCase(),!n&&i==="object"&&(n=e instanceof t)}else s==="Object"?n=ee(e):s==="Array"?n=V(e):s==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:s}}function Kd(e,t,n){let s=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(It).join(" | ")}`;const i=n[0],r=qi(t),o=Ml(t,i),a=Ml(t,r);return n.length===1&&kl(i)&&!Wd(i,r)&&(s+=` with value ${o}`),s+=`, got ${r} `,kl(r)&&(s+=`with value ${a}.`),s}function Ml(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function kl(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function Wd(...e){return e.some(t=>t.toLowerCase()==="boolean")}const Dl=e=>e[0]==="_"||e==="$stable",Kr=e=>V(e)?e.map(Ue):[Ue(e)],Gd=(e,t,n)=>{if(t._n)return t;const s=xr((...i)=>(pe&&S(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Kr(t(...i))),n);return s._c=!1,s},Ul=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Dl(i))continue;const r=e[i];if(G(r))t[i]=Gd(i,r,s);else if(r!=null){re("RENDER_FUNCTION",n)||S(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const o=Kr(r);t[i]=()=>o}}},$l=(e,t)=>{!$n(e.vnode)&&!re("RENDER_FUNCTION",e)&&S("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Kr(t);e.slots.default=()=>n},qd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Z(t),$s(t,"_",n)):Ul(t,e.slots={},e)}else e.slots={},t&&$l(e,t);$s(e.slots,yi,1)},Yd=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=oe;if(s.shapeFlag&32){const a=t._;a?$t?ne(i,t):n&&a===1?r=!1:(ne(i,t),!n&&a===1&&delete i._):(r=!t.$stable,Ul(t,i,e)),o=t}else t&&($l(e,t),o={default:1});if(r)for(const a in i)!Dl(a)&&!(a in o)&&delete i[a]};function Jd(e){const t={silent:"CONFIG_SILENT",devtools:"CONFIG_DEVTOOLS",ignoredElements:"CONFIG_IGNORED_ELEMENTS",keyCodes:"CONFIG_KEY_CODES",productionTip:"CONFIG_PRODUCTION_TIP"};Object.keys(t).forEach(n=>{let s=e[n];Object.defineProperty(e,n,{enumerable:!0,get(){return s},set(i){Wr||Ye(t[n],null),s=i}})})}function Xd(e){e.optionMergeStrategies=new Proxy({},{get(t,n){if(n in t)return t[n];if(n in pn&&At("CONFIG_OPTION_MERGE_STRATS",null))return pn[n]}})}let Wr=!1,Ne,bn;function zd(e,t){Ne=t({});const n=bn=function l(c={}){return s(c,l)};function s(l={},c){Ce("GLOBAL_MOUNT",null);const{data:f}=l;f&&!G(f)&&At("OPTIONS_DATA_FN",null)&&(l.data=()=>f);const u=e(l);c!==n&&Vl(u,c);const d=u._createRoot(l);return l.el?d.$mount(l.el):d}n.version="2.6.14-compat:3.2.45",n.config=Ne.config,n.use=(l,...c)=>(l&&G(l.install)?l.install(n,...c):G(l)&&l(n,...c),n),n.mixin=l=>(Ne.mixin(l),n),n.component=(l,c)=>c?(Ne.component(l,c),n):Ne.component(l),n.directive=(l,c)=>c?(Ne.directive(l,c),n):Ne.directive(l),n.options={_base:n};let i=1;n.cid=i,n.nextTick=un;const r=new WeakMap;function o(l={}){if(Ce("GLOBAL_EXTEND",null),G(l)&&(l=l.options),r.has(l))return r.get(l);const c=this;function f(d){return s(d?mn(ne({},f.options),d,pn):f.options,f)}f.super=c,f.prototype=Object.create(n.prototype),f.prototype.constructor=f;const u={};for(const d in c.options){const y=c.options[d];u[d]=V(y)?y.slice():ee(y)?ne(Object.create(null),y):y}return f.options=mn(u,l,pn),f.options._base=f,f.extend=o.bind(f),f.mixin=c.mixin,f.use=c.use,f.cid=++i,r.set(l,f),f}n.extend=o.bind(n),n.set=(l,c,f)=>{Ce("GLOBAL_SET",null),l[c]=f},n.delete=(l,c)=>{Ce("GLOBAL_DELETE",null),delete l[c]},n.observable=l=>(Ce("GLOBAL_OBSERVABLE",null),_t(l)),n.filter=(l,c)=>c?(Ne.filter(l,c),n):Ne.filter(l);const a={warn:S,extend:ne,mergeOptions:(l,c,f)=>mn(l,c,f?void 0:pn),defineReactive:rh};return Object.defineProperty(n,"util",{get(){return Ce("GLOBAL_PRIVATE_UTIL",null),a}}),n.configureCompat=Vf,n}function Qd(e,t,n){Zd(e,t),Xd(e.config),Ne&&(nh(e,t,n),eh(e),th(e),Jd(e.config))}function Zd(e,t){t.filters={},e.filter=(n,s)=>(Ce("FILTERS",null),s?(t.filters[n]&&S(`Filter "${n}" has already been registered.`),t.filters[n]=s,e):t.filters[n])}function eh(e){Object.defineProperties(e,{prototype:{get(){return Ye("GLOBAL_PROTOTYPE",null),e.config.globalProperties}},nextTick:{value:un},extend:{value:bn.extend},set:{value:bn.set},delete:{value:bn.delete},observable:{value:bn.observable},util:{get(){return bn.util}}})}function th(e){e._context.mixins=[...Ne._context.mixins],["components","directives","filters"].forEach(t=>{e._context[t]=Object.create(Ne._context[t])}),Wr=!0;for(const t in Ne.config){if(t==="isNativeTag"||_n()&&(t==="isCustomElement"||t==="compilerOptions"))continue;const n=Ne.config[t];e.config[t]=ee(n)?Object.create(n):n,t==="ignoredElements"&&re("CONFIG_IGNORED_ELEMENTS",null)&&!_n()&&V(n)&&(e.config.compilerOptions.isCustomElement=s=>n.some(i=>ce(i)?i===s:i.test(s)))}Wr=!1,Vl(e,bn)}function Vl(e,t){const n=re("GLOBAL_PROTOTYPE",null);n&&(e.config.globalProperties=Object.create(t.prototype));let s=!1;const i=Object.getOwnPropertyDescriptors(t.prototype);for(const r in i)r!=="constructor"&&(s=!0,n&&Object.defineProperty(e.config.globalProperties,r,i[r]));s&&Ye("GLOBAL_PROTOTYPE",null)}function nh(e,t,n){let s=!1;e._createRoot=i=>{const r=e._component,o=le(r,i.propsData||null);o.appContext=t;const a=!G(r)&&!r.render&&!r.template,l=()=>{},c=Zr(o,null,null);return a&&(c.render=l),to(c),o.component=c,o.isCompatRoot=!0,c.ctx._compat_mount=f=>{if(s){S("Root instance is already mounted.");return}let u;if(typeof f=="string"){const y=document.querySelector(f);if(!y){S(`Failed to mount root instance: selector "${f}" returned null.`);return}u=y}else u=f||document.createElement("div");const d=u instanceof SVGElement;if(t.reload=()=>{const y=De(o);y.component=null,n(y,u,d)},a&&c.render===l){for(let y=0;y<u.attributes.length;y++){const A=u.attributes[y];if(A.name!=="v-cloak"&&/^(v-|:|@)/.test(A.name)){Ye("GLOBAL_MOUNT_CONTAINER",null);break}}c.render=null,r.template=u.innerHTML,io(c,!1,!0)}return u.innerHTML="",n(o,u,d),u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),s=!0,e._container=u,u.__vue_app__=e,va(e,Si),c.proxy},c.ctx._compat_destroy=()=>{if(s)n(null,e._container),Aa(e),delete e._container.__vue_app__;else{const{bum:f,scope:u,um:d}=c;f&&ct(f),re("INSTANCE_EVENT_HOOKS",c)&&c.emit("hook:beforeDestroy"),u&&u.stop(),d&&ct(d),re("INSTANCE_EVENT_HOOKS",c)&&c.emit("hook:destroyed")}},c.proxy}}const sh=["push","pop","shift","unshift","splice","sort","reverse"],ih=new WeakSet;function rh(e,t,n){if(ee(n)&&!He(n)&&!ih.has(n)){const i=_t(n);V(n)?sh.forEach(r=>{n[r]=(...o)=>{Array.prototype[r].call(i,...o)}}):Object.keys(n).forEach(r=>{try{Gr(n,r,n[r])}catch{}})}const s=e.$;s&&e===s.proxy?(Gr(s.ctx,t,n),s.accessCache=Object.create(null)):He(e)?e[t]=n:Gr(e,t,n)}function Gr(e,t,n){n=ee(n)?_t(n):n,Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get(){return Ie(e,"get",t),n},set(s){n=ee(s)?_t(s):s,ft(e,"set",t,s)}})}function jl(){return{app:null,config:{isNativeTag:Do,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let oh=0;function ah(e,t){return function(s,i=null){G(s)||(s=Object.assign({},s)),i!=null&&!ee(i)&&(S("root props passed to app.mount() must be an object."),i=null);const r=jl(),o=new Set;let a=!1;const l=r.app={_uid:oh++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Si,get config(){return r.config},set config(c){S("app.config cannot be replaced. Modify individual options instead.")},use(c,...f){return o.has(c)?S("Plugin has already been applied to target app."):c&&G(c.install)?(o.add(c),c.install(l,...f)):G(c)?(o.add(c),c(l,...f)):S('A plugin must either be a function or an object with an "install" function.'),l},mixin(c){return r.mixins.includes(c)?S("Mixin has already been applied to target app"+(c.name?`: ${c.name}`:"")):r.mixins.push(c),l},component(c,f){return eo(c,r.config),f?(r.components[c]&&S(`Component "${c}" has already been registered in target app.`),r.components[c]=f,l):r.components[c]},directive(c,f){return il(c),f?(r.directives[c]&&S(`Directive "${c}" has already been registered in target app.`),r.directives[c]=f,l):r.directives[c]},mount(c,f,u){if(a)S("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{c.__vue_app__&&S("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=le(s,i);return d.appContext=r,r.reload=()=>{e(De(d),c,u)},f&&t?t(d,c):e(d,c,u),a=!0,l._container=c,c.__vue_app__=l,l._instance=d.component,va(l,Si),Ci(d.component)||d.component.proxy}},unmount(){a?(e(null,l._container),l._instance=null,Aa(l),delete l._container.__vue_app__):S("Cannot unmount an app that is not mounted.")},provide(c,f){return c in r.provides&&S(`App already provides property with key "${String(c)}". It will be overwritten with the new value.`),r.provides[c]=f,l}};return Qd(l,r,e),l}}function hi(e,t,n,s,i=!1){if(V(e)){e.forEach((d,y)=>hi(d,t&&(V(t)?t[y]:t),n,s,i));return}if(gn(s)&&!i)return;const r=s.shapeFlag&4?Ci(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=e;if(!a){S("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=t&&t.r,f=a.refs===oe?a.refs={}:a.refs,u=a.setupState;if(c!=null&&c!==l&&(ce(c)?(f[c]=null,se(u,c)&&(u[c]=null)):de(c)&&(c.value=null)),G(l))et(l,a,12,[o,f]);else{const d=ce(l),y=de(l);if(d||y){const A=()=>{if(e.f){const C=d?se(u,l)?u[l]:f[l]:l.value;i?V(C)&&Gi(C,r):V(C)?C.includes(r)||C.push(r):d?(f[l]=[r],se(u,l)&&(u[l]=f[l])):(l.value=[r],e.k&&(f[e.k]=l.value))}else d?(f[l]=o,se(u,l)&&(u[l]=o)):y?(l.value=o,e.k&&(f[e.k]=o)):S("Invalid template ref type:",l,`(${typeof l})`)};o?(A.id=-1,me(A,n)):A()}else S("Invalid template ref type:",l,`(${typeof l})`)}}let Kt=!1;const gi=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",_s=e=>e.nodeType===8;function lh(e){const{mt:t,p:n,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(v,g)=>{if(!g.hasChildNodes()){S("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,v,g),Qs(),g._vnode=v;return}Kt=!1,u(g.firstChild,v,null,null,null),Qs(),g._vnode=v,Kt&&console.error("Hydration completed but contains mismatches.")},u=(v,g,E,x,O,D=!1)=>{const P=_s(v)&&v.data==="[",w=()=>C(v,g,E,x,O,P),{type:m,ref:_,shapeFlag:b,patchFlag:N}=g;let K=v.nodeType;g.el=v,N===-2&&(D=!1,g.dynamicChildren=null);let B=null;switch(m){case Gt:K!==3?g.children===""?(l(g.el=i(""),o(v),v),B=v):B=w():(v.data!==g.children&&(Kt=!0,S(`Hydration text mismatch:
- Client: ${JSON.stringify(v.data)}
- Server: ${JSON.stringify(g.children)}`),v.data=g.children),B=r(v));break;case ge:K!==8||P?B=w():B=r(v);break;case qt:if(P&&(v=r(v),K=v.nodeType),K===1||K===3){B=v;const W=!g.children.length;for(let I=0;I<g.staticCount;I++)W&&(g.children+=B.nodeType===1?B.outerHTML:B.data),I===g.staticCount-1&&(g.anchor=B),B=r(B);return P?r(B):B}else w();break;case we:P?B=A(v,g,E,x,O,D):B=w();break;default:if(b&1)K!==1||g.type.toLowerCase()!==v.tagName.toLowerCase()?B=w():B=d(v,g,E,x,O,D);else if(b&6){g.slotScopeIds=O;const W=o(v);if(t(g,W,null,E,x,gi(W),D),B=P?F(v):r(v),B&&_s(B)&&B.data==="teleport end"&&(B=r(B)),gn(g)){let I;P?(I=le(we),I.anchor=B?B.previousSibling:W.lastChild):I=v.nodeType===3?_i(""):le("div"),I.el=v,g.component.subTree=I}}else b&64?K!==8?B=w():B=g.type.hydrate(v,g,E,x,O,D,e,y):b&128?B=g.type.hydrate(v,g,E,x,gi(o(v)),O,D,e,u):S("Invalid HostVNode type:",m,`(${typeof m})`)}return _!=null&&hi(_,null,x,g),B},d=(v,g,E,x,O,D)=>{D=D||!!g.dynamicChildren;const{type:P,props:w,patchFlag:m,shapeFlag:_,dirs:b}=g,N=P==="input"&&b||P==="option";{if(b&&gt(g,null,E,"created"),w)if(N||!D||m&48)for(const B in w)(N&&B.endsWith("value")||at(B)&&!On(B))&&s(v,B,null,w[B],!1,void 0,E);else w.onClick&&s(v,"onClick",null,w.onClick,!1,void 0,E);let K;if((K=w&&w.onVnodeBeforeMount)&&$e(K,E,g),b&&gt(g,null,E,"beforeMount"),((K=w&&w.onVnodeMounted)||b)&&Ua(()=>{K&&$e(K,E,g),b&&gt(g,null,E,"mounted")},x),_&16&&!(w&&(w.innerHTML||w.textContent))){let B=y(v.firstChild,g,v,E,x,O,D),W=!1;for(;B;){Kt=!0,W||(S(`Hydration children mismatch in <${g.type}>: server rendered element contains more child nodes than client vdom.`),W=!0);const I=B;B=B.nextSibling,a(I)}}else _&8&&v.textContent!==g.children&&(Kt=!0,S(`Hydration text content mismatch in <${g.type}>:
- Client: ${v.textContent}
- Server: ${g.children}`),v.textContent=g.children)}return v.nextSibling},y=(v,g,E,x,O,D,P)=>{P=P||!!g.dynamicChildren;const w=g.children,m=w.length;let _=!1;for(let b=0;b<m;b++){const N=P?w[b]:w[b]=Ue(w[b]);if(v)v=u(v,N,x,O,D,P);else{if(N.type===Gt&&!N.children)continue;Kt=!0,_||(S(`Hydration children mismatch in <${E.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`),_=!0),n(null,N,E,null,x,O,gi(E),D)}}return v},A=(v,g,E,x,O,D)=>{const{slotScopeIds:P}=g;P&&(O=O?O.concat(P):P);const w=o(v),m=y(r(v),g,w,E,x,O,D);return m&&_s(m)&&m.data==="]"?r(g.anchor=m):(Kt=!0,l(g.anchor=c("]"),w,m),m)},C=(v,g,E,x,O,D)=>{if(Kt=!0,S(`Hydration node mismatch:
- Client vnode:`,g.type,`
- Server rendered DOM:`,v,v.nodeType===3?"(text)":_s(v)&&v.data==="["?"(start of fragment)":""),g.el=null,D){const m=F(v);for(;;){const _=r(v);if(_&&_!==m)a(_);else break}}const P=r(v),w=o(v);return a(v),n(null,g,w,P,E,x,gi(w),O),P},F=v=>{let g=0;for(;v;)if(v=r(v),v&&_s(v)&&(v.data==="["&&g++,v.data==="]")){if(g===0)return r(v);g--}return v};return[f,u]}let vs,Wt;function Et(e,t){e.appContext.config.performance&&mi()&&Wt.mark(`vue-${t}-${e.uid}`),Df(e,t,mi()?Wt.now():Date.now())}function xt(e,t){if(e.appContext.config.performance&&mi()){const n=`vue-${t}-${e.uid}`,s=n+":end";Wt.mark(s),Wt.measure(`<${xs(e,e.type)}> ${t}`,n,s),Wt.clearMarks(n),Wt.clearMarks(s)}Uf(e,t,mi()?Wt.now():Date.now())}function mi(){return vs!==void 0||(typeof window<"u"&&window.performance?(vs=!0,Wt=window.performance):vs=!1),vs}function ch(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const me=Ua;function Bl(e){return Kl(e)}function Hl(e){return Kl(e,lh)}function Kl(e,t){ch();const n=jo();n.__VUE__=!0,mr(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:u,nextSibling:d,setScopeId:y=Ee,insertStaticContent:A}=e,C=(h,p,T,L=null,R=null,U=null,H=!1,j=null,k=$t?!1:!!p.dynamicChildren)=>{if(h===p)return;h&&!mt(h,p)&&(L=Wi(h),en(h,R,U,!0),h=null),p.patchFlag===-2&&(k=!1,p.dynamicChildren=null);const{type:M,ref:Y,shapeFlag:q}=p;switch(M){case Gt:F(h,p,T,L);break;case ge:v(h,p,T,L);break;case qt:h==null?g(p,T,L,H):E(h,p,T,H);break;case we:K(h,p,T,L,R,U,H,j,k);break;default:q&1?D(h,p,T,L,R,U,H,j,k):q&6?B(h,p,T,L,R,U,H,j,k):q&64||q&128?M.process(h,p,T,L,R,U,H,j,k,qn):S("Invalid VNode type:",M,`(${typeof M})`)}Y!=null&&R&&hi(Y,h&&h.ref,U,p||h,!p)},F=(h,p,T,L)=>{if(h==null)s(p.el=a(p.children),T,L);else{const R=p.el=h.el;p.children!==h.children&&c(R,p.children)}},v=(h,p,T,L)=>{h==null?s(p.el=l(p.children||""),T,L):p.el=h.el},g=(h,p,T,L)=>{[h.el,h.anchor]=A(h.children,p,T,L,h.el,h.anchor)},E=(h,p,T,L)=>{if(p.children!==h.children){const R=d(h.anchor);O(h),[p.el,p.anchor]=A(p.children,T,R,L)}else p.el=h.el,p.anchor=h.anchor},x=({el:h,anchor:p},T,L)=>{let R;for(;h&&h!==p;)R=d(h),s(h,T,L),h=R;s(p,T,L)},O=({el:h,anchor:p})=>{let T;for(;h&&h!==p;)T=d(h),i(h),h=T;i(p)},D=(h,p,T,L,R,U,H,j,k)=>{H=H||p.type==="svg",h==null?P(p,T,L,R,U,H,j,k):_(h,p,R,U,H,j,k)},P=(h,p,T,L,R,U,H,j)=>{let k,M;const{type:Y,props:q,shapeFlag:J,transition:te,dirs:ie}=h;if(k=h.el=o(h.type,U,q&&q.is,q),J&8?f(k,h.children):J&16&&m(h.children,k,null,L,R,U&&Y!=="foreignObject",H,j),ie&&gt(h,null,L,"created"),q){for(const ue in q)ue!=="value"&&!On(ue)&&r(k,ue,null,q[ue],U,h.children,L,R,Ot);"value"in q&&r(k,"value",null,q.value),(M=q.onVnodeBeforeMount)&&$e(M,L,h)}w(k,h,h.scopeId,H,L),Object.defineProperty(k,"__vnode",{value:h,enumerable:!1}),Object.defineProperty(k,"__vueParentComponent",{value:L,enumerable:!1}),ie&&gt(h,null,L,"beforeMount");const fe=(!R||R&&!R.pendingBranch)&&te&&!te.persisted;fe&&te.beforeEnter(k),s(k,p,T),((M=q&&q.onVnodeMounted)||fe||ie)&&me(()=>{M&&$e(M,L,h),fe&&te.enter(k),ie&&gt(h,null,L,"mounted")},R)},w=(h,p,T,L,R)=>{if(T&&y(h,T),L)for(let U=0;U<L.length;U++)y(h,L[U]);if(R){let U=R.subTree;if(U.patchFlag>0&&U.patchFlag&2048&&(U=Tr(U.children)||U),p===U){const H=R.vnode;w(h,H,H.scopeId,H.slotScopeIds,R.parent)}}},m=(h,p,T,L,R,U,H,j,k=0)=>{for(let M=k;M<h.length;M++){const Y=h[M]=j?Yt(h[M]):Ue(h[M]);C(null,Y,p,T,L,R,U,H,j)}},_=(h,p,T,L,R,U,H)=>{const j=p.el=h.el;let{patchFlag:k,dynamicChildren:M,dirs:Y}=p;k|=h.patchFlag&16;const q=h.props||oe,J=p.props||oe;let te;T&&yn(T,!1),(te=J.onVnodeBeforeUpdate)&&$e(te,T,p,h),Y&&gt(p,h,T,"beforeUpdate"),T&&yn(T,!0),$t&&(k=0,H=!1,M=null);const ie=R&&p.type!=="foreignObject";if(M?(b(h.dynamicChildren,M,j,T,L,ie,U),T&&T.type.__hmrId&&As(h,p)):H||X(h,p,j,null,T,L,ie,U,!1),k>0){if(k&16)N(j,p,q,J,T,L,R);else if(k&2&&q.class!==J.class&&r(j,"class",null,J.class,R),k&4&&r(j,"style",q.style,J.style,R),k&8){const fe=p.dynamicProps;for(let ue=0;ue<fe.length;ue++){const be=fe[ue],ot=q[be],Yn=J[be];(Yn!==ot||be==="value")&&r(j,be,ot,Yn,R,h.children,T,L,Ot)}}k&1&&h.children!==p.children&&f(j,p.children)}else!H&&M==null&&N(j,p,q,J,T,L,R);((te=J.onVnodeUpdated)||Y)&&me(()=>{te&&$e(te,T,p,h),Y&&gt(p,h,T,"updated")},L)},b=(h,p,T,L,R,U,H)=>{for(let j=0;j<p.length;j++){const k=h[j],M=p[j],Y=k.el&&(k.type===we||!mt(k,M)||k.shapeFlag&70)?u(k.el):T;C(k,M,Y,null,L,R,U,H,!0)}},N=(h,p,T,L,R,U,H)=>{if(T!==L){if(T!==oe)for(const j in T)!On(j)&&!(j in L)&&r(h,j,T[j],null,H,p.children,R,U,Ot);for(const j in L){if(On(j))continue;const k=L[j],M=T[j];k!==M&&j!=="value"&&r(h,j,M,k,H,p.children,R,U,Ot)}"value"in L&&r(h,"value",T.value,L.value)}},K=(h,p,T,L,R,U,H,j,k)=>{const M=p.el=h?h.el:a(""),Y=p.anchor=h?h.anchor:a("");let{patchFlag:q,dynamicChildren:J,slotScopeIds:te}=p;($t||q&2048)&&(q=0,k=!1,J=null),te&&(j=j?j.concat(te):te),h==null?(s(M,T,L),s(Y,T,L),m(p.children,T,Y,R,U,H,j,k)):q>0&&q&64&&J&&h.dynamicChildren?(b(h.dynamicChildren,J,T,R,U,H,j),R&&R.type.__hmrId?As(h,p):(p.key!=null||R&&p===R.subTree)&&As(h,p,!0)):X(h,p,T,Y,R,U,H,j,k)},B=(h,p,T,L,R,U,H,j,k)=>{p.slotScopeIds=j,h==null?p.shapeFlag&512?R.ctx.activate(p,T,L,H,k):W(p,T,L,R,U,H,k):I(h,p,k)},W=(h,p,T,L,R,U,H)=>{const j=h.isCompatRoot&&h.component,k=j||(h.component=Zr(h,L,R));if(k.type.__hmrId&&Ff(k),In(h),Et(k,"mount"),$n(h)&&(k.ctx.renderer=qn),j||(Et(k,"init"),to(k),xt(k,"init")),k.asyncDep){if(R&&R.registerDep(k,$),!h.el){const M=k.subTree=le(ge);v(null,M,p,T)}return}$(k,h,p,T,R,U,H),Ln(),xt(k,"mount")},I=(h,p,T)=>{const L=p.component=h.component;if(Qf(h,p,T))if(L.asyncDep&&!L.asyncResolved){In(p),z(L,p,T),Ln();return}else L.next=p,Rf(L.update),L.update();else p.el=h.el,L.vnode=p},$=(h,p,T,L,R,U,H)=>{const j=()=>{if(h.isMounted){let{next:Y,bu:q,u:J,parent:te,vnode:ie}=h,fe=Y,ue;In(Y||h.vnode),yn(h,!1),Y?(Y.el=ie.el,z(h,Y,H)):Y=ie,q&&ct(q),(ue=Y.props&&Y.props.onVnodeBeforeUpdate)&&$e(ue,te,Y,ie),re("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeUpdate"),yn(h,!0),Et(h,"render");const be=ni(h);xt(h,"render");const ot=h.subTree;h.subTree=be,Et(h,"patch"),C(ot,be,u(ot.el),Wi(ot),h,R,U),xt(h,"patch"),Y.el=be.el,fe===null&&Pr(h,be.el),J&&me(J,R),(ue=Y.props&&Y.props.onVnodeUpdated)&&me(()=>$e(ue,te,Y,ie),R),re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:updated"),R),Ca(h),Ln()}else{let Y;const{el:q,props:J}=p,{bm:te,m:ie,parent:fe}=h,ue=gn(p);if(yn(h,!1),te&&ct(te),!ue&&(Y=J&&J.onVnodeBeforeMount)&&$e(Y,fe,p),re("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeMount"),yn(h,!0),q&&Io){const be=()=>{Et(h,"render"),h.subTree=ni(h),xt(h,"render"),Et(h,"hydrate"),Io(q,h.subTree,h,R,null),xt(h,"hydrate")};ue?p.type.__asyncLoader().then(()=>!h.isUnmounted&&be()):be()}else{Et(h,"render");const be=h.subTree=ni(h);xt(h,"render"),Et(h,"patch"),C(null,be,T,L,h,R,U),xt(h,"patch"),p.el=be.el}if(ie&&me(ie,R),!ue&&(Y=J&&J.onVnodeMounted)){const be=p;me(()=>$e(Y,fe,be),R)}re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:mounted"),R),(p.shapeFlag&256||fe&&gn(fe.vnode)&&fe.vnode.shapeFlag&256)&&(h.a&&me(h.a,R),re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:activated"),R)),h.isMounted=!0,pr(h),p=T=L=null}},k=h.effect=new es(j,()=>rs(M),h.scope),M=h.update=()=>k.run();M.id=h.uid,yn(h,!0),k.onTrack=h.rtc?Y=>ct(h.rtc,Y):void 0,k.onTrigger=h.rtg?Y=>ct(h.rtg,Y):void 0,M.ownerInstance=h,M()},z=(h,p,T)=>{p.component=h;const L=h.vnode.props;h.vnode=p,h.next=null,Vd(h,p.props,L,T),Yd(h,p.children,T),rn(),ba(),on()},X=(h,p,T,L,R,U,H,j,k=!1)=>{const M=h&&h.children,Y=h?h.shapeFlag:0,q=p.children,{patchFlag:J,shapeFlag:te}=p;if(J>0){if(J&128){Oe(M,q,T,L,R,U,H,j,k);return}else if(J&256){ae(M,q,T,L,R,U,H,j,k);return}}te&8?(Y&16&&Ot(M,R,U),q!==M&&f(T,q)):Y&16?te&16?Oe(M,q,T,L,R,U,H,j,k):Ot(M,R,U,!0):(Y&8&&f(T,""),te&16&&m(q,T,L,R,U,H,j,k))},ae=(h,p,T,L,R,U,H,j,k)=>{h=h||Rn,p=p||Rn;const M=h.length,Y=p.length,q=Math.min(M,Y);let J;for(J=0;J<q;J++){const te=p[J]=k?Yt(p[J]):Ue(p[J]);C(h[J],te,T,null,R,U,H,j,k)}M>Y?Ot(h,R,U,!0,!1,q):m(p,T,L,R,U,H,j,k,q)},Oe=(h,p,T,L,R,U,H,j,k)=>{let M=0;const Y=p.length;let q=h.length-1,J=Y-1;for(;M<=q&&M<=J;){const te=h[M],ie=p[M]=k?Yt(p[M]):Ue(p[M]);if(mt(te,ie))C(te,ie,T,null,R,U,H,j,k);else break;M++}for(;M<=q&&M<=J;){const te=h[q],ie=p[J]=k?Yt(p[J]):Ue(p[J]);if(mt(te,ie))C(te,ie,T,null,R,U,H,j,k);else break;q--,J--}if(M>q){if(M<=J){const te=J+1,ie=te<Y?p[te].el:L;for(;M<=J;)C(null,p[M]=k?Yt(p[M]):Ue(p[M]),T,ie,R,U,H,j,k),M++}}else if(M>J)for(;M<=q;)en(h[M],R,U,!0),M++;else{const te=M,ie=M,fe=new Map;for(M=ie;M<=J;M++){const Fe=p[M]=k?Yt(p[M]):Ue(p[M]);Fe.key!=null&&(fe.has(Fe.key)&&S("Duplicate keys found during update:",JSON.stringify(Fe.key),"Make sure keys are unique."),fe.set(Fe.key,M))}let ue,be=0;const ot=J-ie+1;let Yn=!1,wu=0;const Ms=new Array(ot);for(M=0;M<ot;M++)Ms[M]=0;for(M=te;M<=q;M++){const Fe=h[M];if(be>=ot){en(Fe,R,U,!0);continue}let yt;if(Fe.key!=null)yt=fe.get(Fe.key);else for(ue=ie;ue<=J;ue++)if(Ms[ue-ie]===0&&mt(Fe,p[ue])){yt=ue;break}yt===void 0?en(Fe,R,U,!0):(Ms[yt-ie]=M+1,yt>=wu?wu=yt:Yn=!0,C(Fe,p[yt],T,null,R,U,H,j,k),be++)}const _u=Yn?uh(Ms):Rn;for(ue=_u.length-1,M=ot-1;M>=0;M--){const Fe=ie+M,yt=p[Fe],vu=Fe+1<Y?p[Fe+1].el:L;Ms[M]===0?C(null,yt,T,vu,R,U,H,j,k):Yn&&(ue<0||M!==_u[ue]?Gn(yt,T,vu,2):ue--)}}},Gn=(h,p,T,L,R=null)=>{const{el:U,type:H,transition:j,children:k,shapeFlag:M}=h;if(M&6){Gn(h.component.subTree,p,T,L);return}if(M&128){h.suspense.move(p,T,L);return}if(M&64){H.move(h,p,T,qn);return}if(H===we){s(U,p,T);for(let q=0;q<k.length;q++)Gn(k[q],p,T,L);s(h.anchor,p,T);return}if(H===qt){x(h,p,T);return}if(L!==2&&M&1&&j)if(L===0)j.beforeEnter(U),s(U,p,T),me(()=>j.enter(U),R);else{const{leave:q,delayLeave:J,afterLeave:te}=j,ie=()=>s(U,p,T),fe=()=>{q(U,()=>{ie(),te&&te()})};J?J(U,ie,fe):fe()}else s(U,p,T)},en=(h,p,T,L=!1,R=!1)=>{const{type:U,props:H,ref:j,children:k,dynamicChildren:M,shapeFlag:Y,patchFlag:q,dirs:J}=h;if(j!=null&&hi(j,null,T,h,!0),Y&256){p.ctx.deactivate(h);return}const te=Y&1&&J,ie=!gn(h);let fe;if(ie&&(fe=H&&H.onVnodeBeforeUnmount)&&$e(fe,p,h),Y&6)Pm(h.component,T,L);else{if(Y&128){h.suspense.unmount(T,L);return}te&&gt(h,null,p,"beforeUnmount"),Y&64?h.type.remove(h,p,T,R,qn,L):M&&(U!==we||q>0&&q&64)?Ot(M,p,T,!1,!0):(U===we&&q&384||!R&&Y&16)&&Ot(k,p,T),L&&Oo(h)}(ie&&(fe=H&&H.onVnodeUnmounted)||te)&&me(()=>{fe&&$e(fe,p,h),te&&gt(h,null,p,"unmounted")},T)},Oo=h=>{const{type:p,el:T,anchor:L,transition:R}=h;if(p===we){h.patchFlag>0&&h.patchFlag&2048&&R&&!R.persisted?h.children.forEach(H=>{H.type===ge?i(H.el):Oo(H)}):Tm(T,L);return}if(p===qt){O(h);return}const U=()=>{i(T),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(h.shapeFlag&1&&R&&!R.persisted){const{leave:H,delayLeave:j}=R,k=()=>H(T,U);j?j(h.el,U,k):k()}else U()},Tm=(h,p)=>{let T;for(;h!==p;)T=d(h),i(h),h=T;i(p)},Pm=(h,p,T)=>{h.type.__hmrId&&If(h);const{bum:L,scope:R,update:U,subTree:H,um:j}=h;L&&ct(L),re("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeDestroy"),R.stop(),U&&(U.active=!1,en(H,h,p,T)),j&&me(j,p),re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:destroyed"),p),me(()=>{h.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve()),kf(h)},Ot=(h,p,T,L=!1,R=!1,U=0)=>{for(let H=U;H<h.length;H++)en(h[H],p,T,L,R)},Wi=h=>h.shapeFlag&6?Wi(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el),yu=(h,p,T)=>{h==null?p._vnode&&en(p._vnode,null,null,!0):C(p._vnode||null,h,p,null,null,null,T),ba(),Qs(),p._vnode=h},qn={p:C,um:en,m:Gn,r:Oo,mt:W,mc:m,pc:X,pbc:b,n:Wi,o:e};let Fo,Io;return t&&([Fo,Io]=t(qn)),{render:yu,hydrate:Fo,createApp:ah(yu,Fo)}}function yn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function As(e,t,n=!1){const s=e.children,i=t.children;if(V(s)&&V(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Yt(i[r]),a.el=o.el),n||As(o,a)),a.type===Gt&&(a.el=o.el),a.type===ge&&!a.el&&(a.el=o.el)}}function uh(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const fh=e=>e.__isTeleport,Vn=e=>e&&(e.disabled||e.disabled===""),Wl=e=>typeof SVGElement<"u"&&e instanceof SVGElement,qr=(e,t)=>{const n=e&&e.to;if(ce(n))if(t){const s=t(n);return s||S(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),s}else return S("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!Vn(e)&&S(`Invalid Teleport target: ${n}`),n},dh={__isTeleport:!0,process(e,t,n,s,i,r,o,a,l,c){const{mc:f,pc:u,pbc:d,o:{insert:y,querySelector:A,createText:C,createComment:F}}=c,v=Vn(t.props);let{shapeFlag:g,children:E,dynamicChildren:x}=t;if($t&&(l=!1,x=null),e==null){const O=t.el=F("teleport start"),D=t.anchor=F("teleport end");y(O,n,s),y(D,n,s);const P=t.target=qr(t.props,A),w=t.targetAnchor=C("");P?(y(w,P),o=o||Wl(P)):v||S("Invalid Teleport target on mount:",P,`(${typeof P})`);const m=(_,b)=>{g&16&&f(E,_,b,i,r,o,a,l)};v?m(n,D):P&&m(P,w)}else{t.el=e.el;const O=t.anchor=e.anchor,D=t.target=e.target,P=t.targetAnchor=e.targetAnchor,w=Vn(e.props),m=w?n:D,_=w?O:P;if(o=o||Wl(D),x?(d(e.dynamicChildren,x,m,i,r,o,a),As(e,t,!0)):l||u(e,t,m,_,i,r,o,a,!1),v)w||pi(t,n,O,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const b=t.target=qr(t.props,A);b?pi(t,b,null,c,0):S("Invalid Teleport target on update:",D,`(${typeof D})`)}else w&&pi(t,D,P,c,1)}Gl(t)},remove(e,t,n,s,{um:i,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:f,target:u,props:d}=e;if(u&&r(f),(o||!Vn(d))&&(r(c),a&16))for(let y=0;y<l.length;y++){const A=l[y];i(A,t,n,!0,!!A.dynamicChildren)}},move:pi,hydrate:hh};function pi(e,t,n,{o:{insert:s},m:i},r=2){r===0&&s(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,u=r===2;if(u&&s(o,t,n),(!u||Vn(f))&&l&16)for(let d=0;d<c.length;d++)i(c[d],t,n,2);u&&s(a,t,n)}function hh(e,t,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const f=t.target=qr(t.props,l);if(f){const u=f._lpa||f.firstChild;if(t.shapeFlag&16)if(Vn(t.props))t.anchor=c(o(e),t,a(e),n,s,i,r),t.targetAnchor=u;else{t.anchor=o(e);let d=u;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(u,t,f,n,s,i,r)}Gl(t)}return t.anchor&&o(t.anchor)}const gh=dh;function Gl(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Yr=new Map;function mh(e){if(Yr.has(e))return Yr.get(e);let t,n;const s=new Promise((o,a)=>{t=o,n=a}),i=e(t,n);let r;return zn(i)?r=oi(()=>i):ee(i)&&!ke(i)&&!V(i)?r=oi({loader:()=>i.component,loadingComponent:i.loading,errorComponent:i.error,delay:i.delay,timeout:i.timeout}):i==null?r=oi(()=>s):r=e,Yr.set(e,r),r}function ph(e,t){return e.__isBuiltIn?e:(G(e)&&e.cid&&(e=e.options),G(e)&&Zs("COMPONENT_ASYNC",t,e)?mh(e):ee(e)&&e.functional&&At("COMPONENT_FUNCTIONAL",t,e)?bd(e):e)}const we=Symbol("Fragment"),Gt=Symbol("Text"),ge=Symbol("Comment"),qt=Symbol("Static"),Cs=[];let Me=null;function bi(e=!1){Cs.push(Me=e?null:[])}function ql(){Cs.pop(),Me=Cs[Cs.length-1]||null}let wn=1;function Jr(e){wn+=e}function Yl(e){return e.dynamicChildren=wn>0?Me||Rn:null,ql(),wn>0&&Me&&Me.push(e),e}function bh(e,t,n,s,i,r){return Yl(Qr(e,t,n,s,i,r,!0))}function Xr(e,t,n,s,i){return Yl(le(e,t,n,s,i,!0))}function ke(e){return e?e.__v_isVNode===!0:!1}function mt(e,t){return t.shapeFlag&6&&Mn.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}let zr;function yh(e){zr=e}const wh=(...e)=>_h(...zr?zr(e,he):e),yi="__vInternal",Jl=({key:e})=>e??null,wi=({ref:e,ref_key:t,ref_for:n})=>e!=null?ce(e)||de(e)||G(e)?{i:he,r:e,k:t,f:!!n}:e:null;function Qr(e,t=null,n=null,s=0,i=null,r=e===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jl(t),ref:t&&wi(t),scopeId:kn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:he};return a?(vi(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=ce(n)?8:16),l.key!==l.key&&S("VNode created with invalid key (NaN). VNode type:",l.type),wn>0&&!o&&Me&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Me.push(l),Hf(l),hl(l),l}const le=wh;function _h(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===ol)&&(e||S(`Invalid vnode type when creating vnode: ${e}.`),e=ge),ke(e)){const a=De(e,t,!0);return n&&vi(a,n),wn>0&&!r&&Me&&(a.shapeFlag&6?Me[Me.indexOf(e)]=a:Me.push(a)),a.patchFlag|=-2,a}if(tc(e)&&(e=e.__vccOpts),e=ph(e,he),t){t=Xl(t);let{class:a,style:l}=t;a&&!ce(a)&&(t.class=Ft(a)),ee(l)&&(ts(l)&&!V(l)&&(l=ne({},l)),t.style=Pn(l))}const o=ce(e)?1:Ma(e)?128:fh(e)?64:ee(e)?4:G(e)?2:0;return o&4&&ts(e)&&(e=Z(e),S("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),Qr(e,t,n,s,i,o,r,!0)}function Xl(e){return e?ts(e)||yi in e?ne({},e):e:null}function De(e,t,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=e,a=t?Ai(s||{},t):s,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Jl(a),ref:t&&t.ref?n&&i?V(i)?i.concat(wi(t)):[i,wi(t)]:wi(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r===-1&&V(o)?o.map(zl):o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&De(e.ssContent),ssFallback:e.ssFallback&&De(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx};return hl(l),l}function zl(e){const t=De(e);return V(e.children)&&(t.children=e.children.map(zl)),t}function _i(e=" ",t=0){return le(Gt,null,e,t)}function vh(e,t){const n=le(qt,null,e);return n.staticCount=t,n}function Ql(e="",t=!1){return t?(bi(),Xr(ge,null,e)):le(ge,null,e)}function Ue(e){return e==null||typeof e=="boolean"?le(ge):V(e)?le(we,null,e.slice()):typeof e=="object"?Yt(e):le(Gt,null,String(e))}function Yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:De(e)}function vi(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(V(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),vi(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(yi in t)?t._ctx=he:i===3&&he&&(he.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:he},n=32):(t=String(t),s&64?(n=16,t=[_i(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ai(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Ft([t.class,s.class]));else if(i==="style")t.style=Pn([t.style,s.style]);else if(at(i)){const r=t[i],o=s[i];o&&r!==o&&!(V(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function $e(e,t,n,s=null){Le(e,t,7,[n,s])}const Ah=jl();let Ch=0;function Zr(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||Ah,r={uid:Ch++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ji(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ol(s,i),emitsOptions:Ia(s,i),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:s.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx=Od(r),r.root=t?t.root:r,r.emit=Wf.bind(null,r),e.ce&&e.ce(r),r}let pe=null;const Xe=()=>pe||he,Jt=e=>{pe=e,e.scope.on()},Xt=()=>{pe&&pe.scope.off(),pe=null},Eh=Ze("slot,component");function eo(e,t){const n=t.isNativeTag||Do;(Eh(e)||n(e))&&S("Do not use built-in or reserved HTML elements as component id: "+e)}function Zl(e){return e.vnode.shapeFlag&4}let jn=!1;function to(e,t=!1){jn=t;const{props:n,children:s}=e.vnode,i=Zl(e);Ud(e,n,i,t),qd(e,s);const r=i?xh(e,t):void 0;return jn=!1,r}function xh(e,t){var n;const s=e.type;{if(s.name&&eo(s.name,e.appContext.config),s.components){const r=Object.keys(s.components);for(let o=0;o<r.length;o++)eo(r[o],e.appContext.config)}if(s.directives){const r=Object.keys(s.directives);for(let o=0;o<r.length;o++)il(r[o])}s.compilerOptions&&_n()&&S('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=qe(new Proxy(e.ctx,ys)),Fd(e);const{setup:i}=s;if(i){const r=e.setupContext=i.length>1?ec(e):null;Jt(e),rn();const o=et(i,e,0,[kt(e.props),r]);if(on(),Xt(),zn(o)){if(o.then(Xt,Xt),t)return o.then(a=>{no(e,a,t)}).catch(a=>{cn(a,e,0)});if(e.asyncDep=o,!e.suspense){const a=(n=s.name)!==null&&n!==void 0?n:"Anonymous";S(`Component <${a}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else no(e,o,t)}else io(e,t)}function no(e,t,n){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ee(t)?(ke(t)&&S("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=ar(t),Id(e)):t!==void 0&&S(`setup() should return an object. Received: ${t===null?"null":typeof t}`),io(e,n)}let Es,so;function Sh(e){Es=e,so=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Rd))}}const _n=()=>!Es;function io(e,t,n){const s=e.type;if(gd(e),s.compatConfig&&Ra(s.compatConfig),!e.render){if(!t&&Es&&!s.render){const i=e.vnode.props&&e.vnode.props["inline-template"]||s.template||ws(e).template;if(i){Et(e,"compile");const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=ne(ne({isCustomElement:r,delimiters:a},o),l);c.compatConfig=Object.create(wr),s.compatConfig&&ne(c.compatConfig,s.compatConfig),s.render=Es(i,c),xt(e,"compile")}}e.render=s.render||Ee,so&&so(e)}n||(Jt(e),rn(),Nd(e),on(),Xt()),!s.render&&e.render===Ee&&!t&&(!Es&&s.template?S('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):S("Component is missing template or render function."))}function Th(e){return new Proxy(e.attrs,{get(t,n){return ti(),Ie(e,"get","$attrs"),t[n]},set(){return S("setupContext.attrs is readonly."),!1},deleteProperty(){return S("setupContext.attrs is readonly."),!1}})}function ec(e){const t=s=>{e.exposed&&S("expose() should be called only once per setup()."),e.exposed=s||{}};let n;return Object.freeze({get attrs(){return n||(n=Th(e))},get slots(){return kt(e.slots)},get emit(){return(s,...i)=>e.emit(s,...i)},expose:t})}function Ci(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ar(qe(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Bt)return Bt[n](e)},has(t,n){return n in t||n in Bt}}))}const Ph=/(?:^|[-_])(\w)/g,Rh=e=>e.replace(Ph,t=>t.toUpperCase()).replace(/[-_]/g,"");function zt(e,t=!0){return G(e)?e.displayName||e.name:e.name||t&&e.__name}function xs(e,t,n=!1){let s=zt(t);if(!s&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(s=i[1])}if(!s&&e&&e.parent){const i=r=>{for(const o in r)if(r[o]===t)return o};s=i(e.components||e.parent.type.components)||i(e.appContext.components)}return s?Rh(s):n?"App":"Anonymous"}function tc(e){return G(e)&&"__vccOpts"in e}const Ei=(e,t)=>vf(e,t,jn),xi=e=>S(`${e}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`);function Oh(){return xi("defineProps"),null}function Fh(){return xi("defineEmits"),null}function Ih(e){xi("defineExpose")}function Lh(e,t){return xi("withDefaults"),null}function Nh(){return nc().slots}function Mh(){return nc().attrs}function nc(){const e=Xe();return e||S("useContext() called without active instance."),e.setupContext||(e.setupContext=ec(e))}function kh(e,t){const n=V(e)?e.reduce((s,i)=>(s[i]={},s),{}):e;for(const s in t){const i=n[s];i?V(i)||G(i)?n[s]={type:i,default:t[s]}:i.default=t[s]:i===null?n[s]={default:t[s]}:S(`props default key "${s}" has no corresponding declaration.`)}return n}function Dh(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function Uh(e){const t=Xe();t||S("withAsyncContext called without active current instance. This is likely a bug.");let n=e();return Xt(),zn(n)&&(n=n.catch(s=>{throw Jt(t),s})),[n,()=>Jt(t)]}function sc(e,t,n){const s=arguments.length;return s===2?ee(t)&&!V(t)?ke(t)?le(e,null,[t]):le(e,t):le(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ke(n)&&(n=[n]),le(e,t,n))}const ic=Symbol("ssrContext"),rc=()=>{{const e=Vt(ic);return e||S("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function oc(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},n={style:"color:#b62e24"},s={style:"color:#9d288c"},i={header(u){return ee(u)?u.__isVue?["div",e,"VueInstance"]:de(u)?["div",{},["span",e,f(u)],"<",a(u.value),">"]:He(u)?["div",{},["span",e,Dt(u)?"ShallowReactive":"Reactive"],"<",a(u),`>${vt(u)?" (readonly)":""}`]:vt(u)?["div",{},["span",e,Dt(u)?"ShallowReadonly":"Readonly"],"<",a(u),">"]:null:null},hasBody(u){return u&&u.__isVue},body(u){if(u&&u.__isVue)return["div",{},...r(u.$)]}};function r(u){const d=[];u.type.props&&u.props&&d.push(o("props",Z(u.props))),u.setupState!==oe&&d.push(o("setup",u.setupState)),u.data!==oe&&d.push(o("data",Z(u.data)));const y=l(u,"computed");y&&d.push(o("computed",y));const A=l(u,"inject");return A&&d.push(o("injected",A)),d.push(["div",{},["span",{style:s.style+";opacity:0.66"},"$ (internal): "],["object",{object:u}]]),d}function o(u,d){return d=ne({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},u],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(y=>["div",{},["span",s,y+": "],a(d[y],!1)])]]:["span",{}]}function a(u,d=!0){return typeof u=="number"?["span",t,u]:typeof u=="string"?["span",n,JSON.stringify(u)]:typeof u=="boolean"?["span",s,u]:ee(u)?["object",{object:d?Z(u):u}]:["span",n,String(u)]}function l(u,d){const y=u.type;if(G(y))return;const A={};for(const C in u.ctx)c(y,C,d)&&(A[C]=u.ctx[C]);return A}function c(u,d,y){const A=u[y];if(V(A)&&A.includes(d)||ee(A)&&d in A||u.extends&&c(u.extends,d,y)||u.mixins&&u.mixins.some(C=>c(C,d,y)))return!0}function f(u){return Dt(u)?"ShallowRef":u.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}function $h(e,t,n,s){const i=n[s];if(i&&ac(i,e))return i;const r=t();return r.memo=e.slice(),n[s]=r}function ac(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(Fn(n[s],t[s]))return!1;return wn>0&&Me&&Me.push(e),!0}const Si="3.2.45",Vh={createComponentInstance:Zr,setupComponent:to,renderComponentRoot:ni,setCurrentRenderingInstance:fs,isVNode:ke,normalizeVNode:Ue},jh=cl,Ke={warnDeprecation:Ye,createCompatVue:zd,isCompatEnabled:re,checkCompatEnabled:Zs,softAssertCompatEnabled:At},Bh="http://www.w3.org/2000/svg",vn=typeof document<"u"?document:null,lc=vn&&vn.createElement("template"),Hh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t?vn.createElementNS(Bh,e):vn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>vn.createTextNode(e),createComment:e=>vn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{lc.innerHTML=s?`<svg>${e}</svg>`:e;const a=lc.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Kh(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Wh(e,t,n){const s=e.style,i=ce(n);if(n&&!i){for(const r in n)ro(s,r,n[r]);if(t&&!ce(t))for(const r in t)n[r]==null&&ro(s,r,"")}else{const r=s.display;i?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=r)}}const Gh=/[^\\];\s*$/,cc=/\s*!important$/;function ro(e,t,n){if(V(n))n.forEach(s=>ro(e,t,s));else if(n==null&&(n=""),Gh.test(n)&&S(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const s=qh(e,t);cc.test(n)?e.setProperty(Ae(s),n.replace(cc,""),"important"):e[s]=n}}const uc=["Webkit","Moz","ms"],oo={};function qh(e,t){const n=oo[t];if(n)return n;let s=Te(t);if(s!=="filter"&&s in e)return oo[t]=s;s=It(s);for(let i=0;i<uc.length;i++){const r=uc[i]+s;if(r in e)return oo[t]=r}return t}const fc="http://www.w3.org/1999/xlink";function Yh(e,t,n,s,i){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(fc,t.slice(6,t.length)):e.setAttributeNS(fc,t,n);else{if(Xh(e,t,n,i))return;const r=Lo(t);n==null||r&&!No(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}const Jh=Ze("contenteditable,draggable,spellcheck");function Xh(e,t,n,s=null){if(Jh(t)){const i=n===null?"false":typeof n!="boolean"&&n!==void 0?"true":null;if(i&&Ke.softAssertCompatEnabled("ATTR_ENUMERATED_COERCION",s,t,n,i))return e.setAttribute(t,i),!0}else if(n===!1&&!Lo(t)&&Ke.softAssertCompatEnabled("ATTR_FALSE_VALUE",s,t))return e.removeAttribute(t),!0;return!1}function zh(e,t,n,s,i,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,i,r),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=No(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}else if(n===!1&&Ke.isCompatEnabled("ATTR_FALSE_VALUE",i)){const l=typeof e[t];(l==="string"||l==="number")&&(Ke.warnDeprecation("ATTR_FALSE_VALUE",i,t),n=l==="number"?0:"",a=!0)}try{e[t]=n}catch(l){a||S(`Failed setting prop "${t}" on <${e.tagName.toLowerCase()}>: value ${n} is invalid.`,l)}a&&e.removeAttribute(t)}function St(e,t,n,s){e.addEventListener(t,n,s)}function Qh(e,t,n,s){e.removeEventListener(t,n,s)}function Zh(e,t,n,s,i=null){const r=e._vei||(e._vei={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=eg(t);if(s){const c=r[t]=sg(s,i);St(e,a,c,l)}else o&&(Qh(e,a,o,l),r[t]=void 0)}}const dc=/(?:Once|Passive|Capture)$/;function eg(e){let t;if(dc.test(e)){t={};let s;for(;s=e.match(dc);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ae(e.slice(2)),t]}let ao=0;const tg=Promise.resolve(),ng=()=>ao||(tg.then(()=>ao=0),ao=Date.now());function sg(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Le(ig(s,n.value),t,5,[s])};return n.value=e,n.attached=ng(),n}function ig(e,t){if(V(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const hc=/^on[a-z]/,rg=(e,t,n,s,i=!1,r,o,a,l)=>{t==="class"?Kh(e,s,i):t==="style"?Wh(e,n,s):at(t)?ks(t)||Zh(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):og(e,t,s,i))?zh(e,t,s,r,o,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Yh(e,t,s,i,o))};function og(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&hc.test(t)&&G(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||hc.test(t)&&ce(n)?!1:t in e}function gc(e,t){const n=ri(e);class s extends Ti{constructor(r){super(n,r,t)}}return s.def=n,s}const ag=e=>gc(e,Uc),lg=typeof HTMLElement<"u"?HTMLElement:class{};class Ti extends lg{constructor(t,n={},s){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.shadowRoot&&S("Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use `defineSSRCustomElement`."),this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,un(()=>{this._connected||(po(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const i of s)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(s,i=!1)=>{const{props:r,styles:o}=s;let a;if(r&&!V(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=ut(this._props[l])),(a||(a=Object.create(null)))[Te(l)]=!0)}this._numberProps=a,i&&this._resolveProps(s),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=V(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of s.map(Te))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(r){this._setProp(i,r)}})}_setAttr(t){let n=this.getAttribute(t);const s=Te(t);this._numberProps&&this._numberProps[s]&&(n=ut(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Ae(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ae(t),n+""):n||this.removeAttribute(Ae(t))))}_update(){po(this._createVNode(),this.shadowRoot)}_createVNode(){const t=le(this._def,ne({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.ceReload=r=>{this._styles&&(this._styles.forEach(o=>this.shadowRoot.removeChild(o)),this._styles.length=0),this._applyStyles(r),this._instance=null,this._update()};const s=(r,o)=>{this.dispatchEvent(new CustomEvent(r,{detail:o}))};n.emit=(r,...o)=>{s(r,o),Ae(r)!==r&&s(Ae(r),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Ti){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s),(this._styles||(this._styles=[])).push(s)})}}function cg(e="$style"){{const t=Xe();if(!t)return S("useCssModule must be called inside setup()"),oe;const n=t.type.__cssModules;if(!n)return S("Current instance does not have CSS modules injected."),oe;const s=n[e];return s||(S(`Current instance does not have CSS module named "${e}".`),oe)}}function ug(e){const t=Xe();if(!t){S("useCssVars is called without current active component instance.");return}const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>co(r,i))},s=()=>{const i=e(t.proxy);lo(t.subTree,i),n(i)};Va(s),ms(()=>{const i=new MutationObserver(s);i.observe(t.subTree.el.parentNode,{childList:!0}),bs(()=>i.disconnect())})}function lo(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{lo(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)co(e.el,t);else if(e.type===we)e.children.forEach(n=>lo(n,t));else if(e.type===qt){let{el:n,anchor:s}=e;for(;n&&(co(n,t),n!==s);)n=n.nextSibling}}function co(e,t){if(e.nodeType===1){const n=e.style;for(const s in t)n.setProperty(`--${s}`,t[s])}}const Qt="transition",Ss="animation",Ts=(e,{slots:t})=>sc(Fr,bc(e),t);Ts.displayName="Transition",Ts.__isBuiltIn=!0;const mc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},fg=Ts.props=ne({},Fr.props,mc),An=(e,t=[])=>{V(e)?e.forEach(n=>n(...t)):e&&e(...t)},pc=e=>e?V(e)?e.some(t=>t.length>1):e.length>1:!1;function bc(e){const t={};for(const I in e)I in mc||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,A=Ke.isCompatEnabled("TRANSITION_CLASSES",null);let C,F,v;if(A){const I=$=>$.replace(/-from$/,"");e.enterFromClass||(C=I(r)),e.appearFromClass||(F=I(l)),e.leaveFromClass||(v=I(u))}const g=dg(i),E=g&&g[0],x=g&&g[1],{onBeforeEnter:O,onEnter:D,onEnterCancelled:P,onLeave:w,onLeaveCancelled:m,onBeforeAppear:_=O,onAppear:b=D,onAppearCancelled:N=P}=t,K=(I,$,z)=>{pt(I,$?f:a),pt(I,$?c:o),z&&z()},B=(I,$)=>{I._isLeaving=!1,pt(I,u),pt(I,y),pt(I,d),$&&$()},W=I=>($,z)=>{const X=I?b:D,ae=()=>K($,I,z);An(X,[$,ae]),yc(()=>{pt($,I?l:r),A&&pt($,I?F:C),ze($,I?f:a),pc(X)||wc($,s,E,ae)})};return ne(t,{onBeforeEnter(I){An(O,[I]),ze(I,r),A&&ze(I,C),ze(I,o)},onBeforeAppear(I){An(_,[I]),ze(I,l),A&&ze(I,F),ze(I,c)},onEnter:W(!1),onAppear:W(!0),onLeave(I,$){I._isLeaving=!0;const z=()=>B(I,$);ze(I,u),A&&ze(I,v),Cc(),ze(I,d),yc(()=>{I._isLeaving&&(pt(I,u),A&&pt(I,v),ze(I,y),pc(w)||wc(I,s,x,z))}),An(w,[I,z])},onEnterCancelled(I){K(I,!1),An(P,[I])},onAppearCancelled(I){K(I,!0),An(N,[I])},onLeaveCancelled(I){B(I),An(m,[I])}})}function dg(e){if(e==null)return null;if(ee(e))return[uo(e.enter),uo(e.leave)];{const t=uo(e);return[t,t]}}function uo(e){const t=ut(e);return hg(t),t}function hg(e){typeof e!="number"?S(`<transition> explicit duration is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&S("<transition> explicit duration is NaN - the duration expression might be incorrect.")}function ze(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function pt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function yc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let gg=0;function wc(e,t,n,s){const i=e._endId=++gg,r=()=>{i===e._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=_c(e,t);if(!o)return s();const c=o+"end";let f=0;const u=()=>{e.removeEventListener(c,d),r()},d=y=>{y.target===e&&++f>=l&&u()};setTimeout(()=>{f<l&&u()},a+1),e.addEventListener(c,d)}function _c(e,t){const n=window.getComputedStyle(e),s=A=>(n[A]||"").split(", "),i=s(`${Qt}Delay`),r=s(`${Qt}Duration`),o=vc(i,r),a=s(`${Ss}Delay`),l=s(`${Ss}Duration`),c=vc(a,l);let f=null,u=0,d=0;t===Qt?o>0&&(f=Qt,u=o,d=r.length):t===Ss?c>0&&(f=Ss,u=c,d=l.length):(u=Math.max(o,c),f=u>0?o>c?Qt:Ss:null,d=f?f===Qt?r.length:l.length:0);const y=f===Qt&&/\b(transform|all)(,|$)/.test(s(`${Qt}Property`).toString());return{type:f,timeout:u,propCount:d,hasTransform:y}}function vc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Ac(n)+Ac(e[s])))}function Ac(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Cc(){return document.body.offsetHeight}const Ec=new WeakMap,xc=new WeakMap,Sc={name:"TransitionGroup",props:ne({},fg,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Xe(),s=Or();let i,r;return li(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!yg(i[0].el,n.vnode.el,o))return;i.forEach(mg),i.forEach(pg);const a=i.filter(bg);Cc(),a.forEach(l=>{const c=l.el,f=c.style;ze(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const u=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",u),c._moveCb=null,pt(c,o))};c.addEventListener("transitionend",u)})}),()=>{const o=Z(e),a=bc(o);let l=o.tag||we;!o.tag&&Ke.checkCompatEnabled("TRANSITION_GROUP_ROOT",n.parent)&&(l="span"),i=r,r=t.default?ii(t.default()):[];for(let c=0;c<r.length;c++){const f=r[c];f.key!=null?hn(f,Un(f,a,s,n)):S("<TransitionGroup> children must be keyed.")}if(i)for(let c=0;c<i.length;c++){const f=i[c];hn(f,Un(f,a,s,n)),Ec.set(f,f.el.getBoundingClientRect())}return le(l,null,r)}}};Sc.__isBuiltIn=!0;const Tc=Sc;function mg(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function pg(e){xc.set(e,e.el.getBoundingClientRect())}function bg(e){const t=Ec.get(e),n=xc.get(e),s=t.left-n.left,i=t.top-n.top;if(s||i){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",e}}function yg(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:r}=_c(s);return i.removeChild(s),r}const Zt=e=>{const t=e.props["onUpdate:modelValue"]||e.props["onModelCompat:input"];return V(t)?n=>ct(t,n):t};function wg(e){e.target.composing=!0}function Pc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pi={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e._assign=Zt(i);const r=s||i.props&&i.props.type==="number";St(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=ut(a)),e._assign(a)}),n&&St(e,"change",()=>{e.value=e.value.trim()}),t||(St(e,"compositionstart",wg),St(e,"compositionend",Pc),St(e,"change",Pc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:i}},r){if(e._assign=Zt(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(i||e.type==="number")&&ut(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},fo={deep:!0,created(e,t,n){e._assign=Zt(n),St(e,"change",()=>{const s=e._modelValue,i=Bn(e),r=e.checked,o=e._assign;if(V(s)){const a=Jn(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(nn(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(Ic(e,r))})},mounted:Rc,beforeUpdate(e,t,n){e._assign=Zt(n),Rc(e,t,n)}};function Rc(e,{value:t,oldValue:n},s){e._modelValue=t,V(t)?e.checked=Jn(t,s.props.value)>-1:nn(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=wt(t,Ic(e,!0)))}const ho={created(e,{value:t},n){e.checked=wt(t,n.props.value),e._assign=Zt(n),St(e,"change",()=>{e._assign(Bn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=Zt(s),t!==n&&(e.checked=wt(t,s.props.value))}},Oc={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=nn(t);St(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?ut(Bn(o)):Bn(o));e._assign(e.multiple?i?new Set(r):r:r[0])}),e._assign=Zt(s)},mounted(e,{value:t}){Fc(e,t)},beforeUpdate(e,t,n){e._assign=Zt(n)},updated(e,{value:t}){Fc(e,t)}};function Fc(e,t){const n=e.multiple;if(n&&!V(t)&&!nn(t)){S(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let s=0,i=e.options.length;s<i;s++){const r=e.options[s],o=Bn(r);if(n)V(t)?r.selected=Jn(t,o)>-1:r.selected=t.has(o);else if(wt(Bn(r),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function Bn(e){return"_value"in e?e._value:e.value}function Ic(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const go={created(e,t,n){Ri(e,t,n,null,"created")},mounted(e,t,n){Ri(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){Ri(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){Ri(e,t,n,s,"updated")}};function Lc(e,t){switch(e){case"SELECT":return Oc;case"TEXTAREA":return Pi;default:switch(t){case"checkbox":return fo;case"radio":return ho;default:return Pi}}}function Ri(e,t,n,s,i){const o=Lc(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,s)}function _g(){Pi.getSSRProps=({value:e})=>({value:e}),ho.getSSRProps=({value:e},t)=>{if(t.props&&wt(t.props.value,e))return{checked:!0}},fo.getSSRProps=({value:e},t)=>{if(V(e)){if(t.props&&Jn(e,t.props.value)>-1)return{checked:!0}}else if(nn(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},go.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Lc(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const vg=["ctrl","shift","alt","meta"],Ag={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>vg.some(n=>e[`${n}Key`]&&!t.includes(n))},Cg=(e,t)=>(n,...s)=>{for(let i=0;i<t.length;i++){const r=Ag[t[i]];if(r&&r(n,t))return}return e(n,...s)},Eg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xg=(e,t)=>{let n,s=null;return s=Xe(),Ke.isCompatEnabled("CONFIG_KEY_CODES",s)&&s&&(n=s.appContext.config.keyCodes),t.some(i=>/^\d+$/.test(i))&&Ke.warnDeprecation("V_ON_KEYCODE_MODIFIER",s),i=>{if(!("key"in i))return;const r=Ae(i.key);if(t.some(o=>o===r||Eg[o]===r))return e(i);{const o=String(i.keyCode);if(Ke.isCompatEnabled("V_ON_KEYCODE_MODIFIER",s)&&t.some(a=>a==o))return e(i);if(n)for(const a of t){const l=n[a];if(l&&(V(l)?l.some(f=>String(f)===o):String(l)===o))return e(i)}}}},mo={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ps(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Ps(e,!0),s.enter(e)):s.leave(e,()=>{Ps(e,!1)}):Ps(e,t))},beforeUnmount(e,{value:t}){Ps(e,t)}};function Ps(e,t){e.style.display=t?e._vod:"none"}function Sg(){mo.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Nc=ne({patchProp:rg},Hh);let Rs,Mc=!1;function kc(){return Rs||(Rs=Bl(Nc))}function Dc(){return Rs=Mc?Rs:Hl(Nc),Mc=!0,Rs}const po=(...e)=>{kc().render(...e)},Uc=(...e)=>{Dc().hydrate(...e)},Oi=(...e)=>{const t=kc().createApp(...e);$c(t),Vc(t);const{mount:n}=t;return t.mount=s=>{const i=jc(s);if(!i)return;const r=t._component;if(!G(r)&&!r.render&&!r.template){r.template=i.innerHTML;for(let a=0;a<i.attributes.length;a++){const l=i.attributes[a];if(l.name!=="v-cloak"&&/^(v-|:|@)/.test(l.name)){Ke.warnDeprecation("GLOBAL_MOUNT_CONTAINER",null);break}}}i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},Tg=(...e)=>{const t=Dc().createApp(...e);$c(t),Vc(t);const{mount:n}=t;return t.mount=s=>{const i=jc(s);if(i)return n(i,!0,i instanceof SVGElement)},t};function $c(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>Ou(t)||Fu(t),writable:!1})}function Vc(e){if(_n()){const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){S("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,s='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(e.config,"compilerOptions",{get(){return S(s),n},set(){S(s)}})}}function jc(e){if(ce(e)){const t=document.querySelector(e);return t||S(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&S('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}let Bc=!1;var Pg=Object.freeze({__proto__:null,render:po,hydrate:Uc,createApp:Oi,createSSRApp:Tg,initDirectivesForSSR:()=>{Bc||(Bc=!0,_g(),Sg())},defineCustomElement:gc,defineSSRCustomElement:ag,VueElement:Ti,useCssModule:cg,useCssVars:ug,Transition:Ts,TransitionGroup:Tc,vModelText:Pi,vModelCheckbox:fo,vModelRadio:ho,vModelSelect:Oc,vModelDynamic:go,withModifiers:Cg,withKeys:xg,vShow:mo,reactive:_t,ref:an,readonly:sr,unref:or,proxyRefs:ar,isRef:de,toRef:ss,toRefs:lr,isProxy:ts,isReactive:He,isReadonly:vt,isShallow:Dt,customRef:yf,triggerRef:mf,shallowRef:hf,shallowReactive:fa,shallowReadonly:kt,markRaw:qe,toRaw:Z,effect:Vu,stop:ju,ReactiveEffect:es,effectScope:Xi,EffectScope:Ji,getCurrentScope:Ho,onScopeDispose:Ko,computed:Ei,watch:dn,watchEffect:id,watchPostEffect:Va,watchSyncEffect:rd,onBeforeMount:Xa,onMounted:ms,onBeforeUpdate:za,onUpdated:li,onBeforeUnmount:ps,onUnmounted:bs,onActivated:qa,onDeactivated:Ya,onRenderTracked:el,onRenderTriggered:Za,onErrorCaptured:tl,onServerPrefetch:Qa,provide:$a,inject:Vt,nextTick:un,defineComponent:ri,defineAsyncComponent:oi,useAttrs:Mh,useSlots:Nh,defineProps:Oh,defineEmits:Fh,defineExpose:Ih,withDefaults:Lh,mergeDefaults:kh,createPropsRestProxy:Dh,withAsyncContext:Uh,getCurrentInstance:Xe,h:sc,createVNode:le,cloneVNode:De,mergeProps:Ai,isVNode:ke,Fragment:we,Text:Gt,Comment:ge,Static:qt,Teleport:gh,Suspense:Zf,KeepAlive:Ga,BaseTransition:Fr,withDirectives:rl,useSSRContext:rc,ssrContextKey:ic,createRenderer:Bl,createHydrationRenderer:Hl,queuePostFlushCb:zs,warn:S,handleError:cn,callWithErrorHandling:et,callWithAsyncErrorHandling:Le,resolveComponent:hd,resolveDirective:ll,resolveDynamicComponent:al,registerRuntimeCompiler:Sh,isRuntimeOnly:_n,useTransitionState:Or,resolveTransitionHooks:Un,setTransitionHooks:hn,getTransitionRawChildren:ii,initCustomFormatter:oc,get devtools(){return tt},setDevtoolsHook:mr,withCtx:xr,pushScopeId:Gf,popScopeId:qf,withScopeId:Yf,renderList:ml,toHandlers:wl,renderSlot:bl,createSlots:pl,withMemo:$h,isMemoSame:ac,openBlock:bi,createBlock:Xr,setBlockTracking:Jr,createTextVNode:_i,createCommentVNode:Ql,createStaticVNode:vh,createElementVNode:Qr,createElementBlock:bh,guardReactiveProps:Xl,toDisplayString:Mo,camelize:Te,capitalize:It,toHandlerKey:lt,normalizeProps:Tu,normalizeClass:Ft,normalizeStyle:Pn,transformVNodeArgs:yh,version:Si,ssrUtils:Vh,resolveFilter:jh,compatUtils:Ke});function Rg(){oc()}Rg();function Og(...e){const t=Oi(...e);return Ke.isCompatEnabled("RENDER_FUNCTION",null)&&(t.component("__compat__transition",Ts),t.component("__compat__transition-group",Tc),t.component("__compat__keep-alive",Ga),t._context.directives.show=mo,t._context.directives.model=go),t}function Fg(){const e=Ke.createCompatVue(Oi,Og);return ne(e,Pg),e}const Ig=Fg();Ig.compile=()=>{S('Runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "@vue/compat/dist/vue.esm-bundler.js".')};var Lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tt={},Ng={get exports(){return Tt},set exports(e){Tt=e}};(function(e,t){(function(n,s){s(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Lg,function(n){var s,i;if(!((i=(s=globalThis.chrome)==null?void 0:s.runtime)!=null&&i.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const r="The message port closed before a response was received.",o=a=>{const l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class c extends WeakMap{constructor(m,_=void 0){super(_),this.createItem=m}get(m){return this.has(m)||this.set(m,this.createItem(m)),super.get(m)}}const f=w=>w&&typeof w=="object"&&typeof w.then=="function",u=(w,m)=>(..._)=>{a.runtime.lastError?w.reject(new Error(a.runtime.lastError.message)):m.singleCallbackArg||_.length<=1&&m.singleCallbackArg!==!1?w.resolve(_[0]):w.resolve(_)},d=w=>w==1?"argument":"arguments",y=(w,m)=>function(b,...N){if(N.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${d(m.minArgs)} for ${w}(), got ${N.length}`);if(N.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${d(m.maxArgs)} for ${w}(), got ${N.length}`);return new Promise((K,B)=>{if(m.fallbackToNoCallback)try{b[w](...N,u({resolve:K,reject:B},m))}catch(W){console.warn(`${w} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,W),b[w](...N),m.fallbackToNoCallback=!1,m.noCallback=!0,K()}else m.noCallback?(b[w](...N),K()):b[w](...N,u({resolve:K,reject:B},m))})},A=(w,m,_)=>new Proxy(m,{apply(b,N,K){return _.call(N,w,...K)}});let C=Function.call.bind(Object.prototype.hasOwnProperty);const F=(w,m={},_={})=>{let b=Object.create(null),N={has(B,W){return W in w||W in b},get(B,W,I){if(W in b)return b[W];if(!(W in w))return;let $=w[W];if(typeof $=="function")if(typeof m[W]=="function")$=A(w,w[W],m[W]);else if(C(_,W)){let z=y(W,_[W]);$=A(w,w[W],z)}else $=$.bind(w);else if(typeof $=="object"&&$!==null&&(C(m,W)||C(_,W)))$=F($,m[W],_[W]);else if(C(_,"*"))$=F($,m[W],_["*"]);else return Object.defineProperty(b,W,{configurable:!0,enumerable:!0,get(){return w[W]},set(z){w[W]=z}}),$;return b[W]=$,$},set(B,W,I,$){return W in b?b[W]=I:w[W]=I,!0},defineProperty(B,W,I){return Reflect.defineProperty(b,W,I)},deleteProperty(B,W){return Reflect.deleteProperty(b,W)}},K=Object.create(w);return new Proxy(K,N)},v=w=>({addListener(m,_,...b){m.addListener(w.get(_),...b)},hasListener(m,_){return m.hasListener(w.get(_))},removeListener(m,_){m.removeListener(w.get(_))}}),g=new c(w=>typeof w!="function"?w:function(_){const b=F(_,{},{getContent:{minArgs:0,maxArgs:0}});w(b)}),E=new c(w=>typeof w!="function"?w:function(_,b,N){let K=!1,B,W=new Promise(X=>{B=function(ae){K=!0,X(ae)}}),I;try{I=w(_,b,B)}catch(X){I=Promise.reject(X)}const $=I!==!0&&f(I);if(I!==!0&&!$&&!K)return!1;const z=X=>{X.then(ae=>{N(ae)},ae=>{let Oe;ae&&(ae instanceof Error||typeof ae.message=="string")?Oe=ae.message:Oe="An unexpected error occurred",N({__mozWebExtensionPolyfillReject__:!0,message:Oe})}).catch(ae=>{console.error("Failed to send onMessage rejected reply",ae)})};return z($?I:W),!0}),x=({reject:w,resolve:m},_)=>{a.runtime.lastError?a.runtime.lastError.message===r?m():w(new Error(a.runtime.lastError.message)):_&&_.__mozWebExtensionPolyfillReject__?w(new Error(_.message)):m(_)},O=(w,m,_,...b)=>{if(b.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${d(m.minArgs)} for ${w}(), got ${b.length}`);if(b.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${d(m.maxArgs)} for ${w}(), got ${b.length}`);return new Promise((N,K)=>{const B=x.bind(null,{resolve:N,reject:K});b.push(B),_.sendMessage(...b)})},D={devtools:{network:{onRequestFinished:v(g)}},runtime:{onMessage:v(E),onMessageExternal:v(E),sendMessage:O.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:O.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},P={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":P},services:{"*":P},websites:{"*":P}},F(a,D,l)};n.exports=o(chrome)}else n.exports=globalThis.browser})})(Ng);class Hc{}class We{}class Kc{}class Mg{}const Fi=new Kc;Fi.pageRegex=new We,Fi.pageRegex["^.*$"]={config:{preventSaveNotification:!1,listMatchingCaseSensitive:!1,blackList:{form:{names:["search"],ids:["search"]},fields:{names:["search","q","query"],ids:["search","q"]}},whiteList:{form:{names:["login"],ids:["login"]},fields:{names:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user name","user id","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login id","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"],ids:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"]}},preferredEntryUuid:null},matchWeight:0,source:"Default"};class Wc{migrateToVersion8(t){Object.assign(t,{overWriteFieldsAutomatically:!1,version:8})}migrateToVersion7(t){t.notificationCountSavePassword>6?Object.assign(t,{notificationCountSavePassword:6,version:7}):Object.assign(t,{version:7})}migrateToVersion6(t){Object.assign(t,{animateWhenOfferingSave:!0,version:6})}migrateToVersion5(t){Object.assign(t,{notifyPasswordAvailableForPaste:!0,version:5})}migrateToVersion4(t){let n=2;t.logLevel===1&&(n=1),Object.assign(t,{logLevel:n,version:4})}migrateToVersion3(t){t.notificationCountGeneric==null&&(t.notificationCountGeneric=0),t.notificationCountSavePassword==null&&(t.notificationCountSavePassword=0),Object.assign(t,{currentSearchTermTimeout:30,version:3})}migrateToVersion2(t){let n=new Kc;if(!t.config||t.config.length==0){n=Fi;return}n.pageRegex=new We,n.hostExact=new We,n.pagePrefix=new We,n.pageRegex["^.*$"]={matchWeight:0,config:this.migrateIndividualSiteConfigSettingsToV2(t.config[0].config),source:"Migration"};for(let s=1;s<t.config.length;s++){const i=t.config[s].url;if(i.indexOf("://")==-1)continue;const r=i.substr(i.indexOf("://")+3);if(r.length<=1)continue;const o=this.migrateIndividualSiteConfigSettingsToV2(t.config[s].config),a=r.indexOf("/");if(a>-1||a==r.lastIndexOf("/")){const l=a>-1?r.substr(0,a):r;n.hostExact[l]={config:o,matchWeight:100,source:"Migration"}}else{let l=200;for(const c in n.pagePrefix)r.startsWith(c)&&l++;n.pagePrefix[r]={config:o,matchWeight:l,source:"Migration"}}}Object.assign(t,{siteConfig:n,config:null,version:2})}migrateIndividualSiteConfigSettingsToV2(t){const n=new Hc;return t.preventSaveNotification==null&&(n.preventSaveNotification=t.preventSaveNotification),t.interestingForms&&(t.interestingForms.name_w&&(n.whiteList?n.whiteList.form?n.whiteList.form.names||(n.whiteList.form.names=[]):n.whiteList.form={names:[]}:n.whiteList={form:{names:[]}},n.whiteList.form.names=t.interestingForms.name_w),t.interestingForms.id_w&&(n.whiteList?n.whiteList.form?n.whiteList.form.ids||(n.whiteList.form.ids=[]):n.whiteList.form={ids:[]}:n.whiteList={form:{ids:[]}},n.whiteList.form.ids=t.interestingForms.id_w),t.interestingForms.name_b&&(n.blackList?n.blackList.form?n.blackList.form.names||(n.blackList.form.names=[]):n.blackList.form={names:[]}:n.blackList={form:{names:[]}},n.blackList.form.names=t.interestingForms.name_b),t.interestingForms.id_b&&(n.blackList?n.blackList.form?n.blackList.form.ids||(n.blackList.form.ids=[]):n.blackList.form={ids:[]}:n.blackList={form:{ids:[]}},n.blackList.form.ids=t.interestingForms.id_b),t.interestingForms.f_name_w&&(n.whiteList?n.whiteList.fields?n.whiteList.fields.names||(n.whiteList.fields.names=[]):n.whiteList.fields={names:[]}:n.whiteList={fields:{names:[]}},n.whiteList.fields.names=t.interestingForms.f_name_w),t.interestingForms.f_id_w&&(n.whiteList?n.whiteList.fields?n.whiteList.fields.ids||(n.whiteList.fields.ids=[]):n.whiteList.fields={ids:[]}:n.whiteList={fields:{ids:[]}},n.whiteList.fields.ids=t.interestingForms.f_id_w),t.interestingForms.f_name_b&&(n.blackList?n.blackList.fields?n.blackList.fields.names||(n.blackList.fields.names=[]):n.blackList.fields={names:[]}:n.blackList={fields:{names:[]}},n.blackList.fields.names=t.interestingForms.f_name_b),t.interestingForms.f_id_b&&(n.blackList?n.blackList.fields?n.blackList.fields.ids||(n.blackList.fields.ids=[]):n.blackList.fields={ids:[]}:n.blackList={fields:{ids:[]}},n.blackList.fields.ids=t.interestingForms.f_id_b)),n}}class kg{constructor(){this.pslInitialised=!1}versionAsInt(t){let n=0;for(let s=0;s<t.length;s++)n=n*256+t[s];return n}versionAsArray(t){const n=[0,0,0];for(let s=n.length-1;s>=0;s--){const i=t&255;n[s]=i,t=(t-i)/256}return n}versionAsString(t){let n="";const s=this.versionAsArray(t);for(let i=0;i<s.length;i++)i>0&&(n+="."),n+=s[i].toString();return n}toHexString(t){return("0"+t.toString(16)).slice(-2)}BigIntFromRandom(t){const n=new Uint8Array(t);window.crypto.getRandomValues(n);const s=Array.from(n).map(this.toHexString).join("");return BigInteger.parse(s,16)}hash(t,n="hex",s="SHA-256"){let i;return typeof t=="string"?i=new TextEncoder().encode(t):i=t,crypto.subtle.digest({name:s},i).then(r=>n=="base64"?nt.byteArrayToBase64(r):Array.from(new Uint8Array(r)).map(this.toHexString).join(""))}intToByteArray(t){const n=[0,0,0,0];for(let s=n.length-1;s>=0;s--){const i=t&255;n[s]=i,t=(t-i)/256}return n}intArrayToByteArray(t){const n=new Array(t.length*4);for(let s=0;s<t.length;s++){let i=t[s];for(let r=3;r>=0;r--){const o=i&255;n[s*4+r]=o,i=(i-o)/256}}return n}stringToByteArray(t){return new TextEncoder().encode(t)}base64toByteArrayForHMAC(t,n,s=null){const i=atob(t),r=i.length;let o=0;if(!s){const a=new ArrayBuffer(r+n);s=new Uint8Array(a),o=20}for(let a=0;a<r;a++)s[a+o]=i.charCodeAt(a);return s}base64toByteArray(t){const n=atob(t),s=n.length,i=new ArrayBuffer(s),r=new Uint8Array(i);for(let o=0;o<s;o++)r[o]=n.charCodeAt(o);return r}byteArrayToBase64(t){let n="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(t),r=i.byteLength,o=r%3,a=r-o;let l,c,f,u,d;for(let y=0;y<a;y=y+3)d=i[y]<<16|i[y+1]<<8|i[y+2],l=(d&16515072)>>18,c=(d&258048)>>12,f=(d&4032)>>6,u=d&63,n+=s[l]+s[c]+s[f]+s[u];return o==1?(d=i[a],l=(d&252)>>2,c=(d&3)<<4,n+=s[l]+s[c]+"=="):o==2&&(d=i[a]<<8|i[a+1],l=(d&64512)>>10,c=(d&1008)>>4,f=(d&15)<<2,n+=s[l]+s[c]+s[f]+"="),n}hexStringToByteArray(t,n=null){if(t.length%2!==0)throw Error("Must have an even number of hex digits to convert to bytes");const s=t.length/2;n||(n=new Uint8Array(s));for(let i=0;i<s;i++)n[i]=parseInt(t.substr(i*2,2),16);return n}newGUID(){const t=[];for(let a=0;a<256;a++)t[a]=(a<16?"0":"")+a.toString(16);const n=new Uint32Array(4);window.crypto.getRandomValues(n);const s=n[0],i=n[1],r=n[2],o=n[3];return t[s&255]+t[s>>8&255]+t[s>>16&255]+t[s>>24&255]+"-"+t[i&255]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[r&63|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[o&255]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]}base64urlDecode(t){return atob(t.replace(/-/g,"+").replace(/_/g,"/"))}binaryToByteArray(t){const n=t.length,s=new ArrayBuffer(n),i=new Uint8Array(s);for(let r=0;r<n;r++)i[r]=t.charCodeAt(r);return i}base64urltoByteArray(t){const n=this.base64urlDecode(t);return this.binaryToByteArray(n)}get psl(){if(!publicSuffixList)throw new Error("publicSuffixList library not present");return this.pslInitialised||(publicSuffixList.parse(pslData.text,punycode.toASCII),this.pslInitialised=!0),publicSuffixList}}const nt=new kg;class Dg{constructor(){this.outputStarted=!1,this.config={logLevel:2}}attachConfig(t){this.debug("Logging system config updated at "+Date()),this.config=t}formatMessage(t){return t?(this.outputStarted||(t="* "+t,this.outputStarted=!0),t):""}debug(t){this.config.logLevel>=4&&(t=this.formatMessage(t),t.length>0&&(console.debug(t),this.config.logLevel>=4&&this.send(4,t)))}info(t){this.config.logLevel>=3&&(t=this.formatMessage(t),t.length>0&&(console.info(t),this.config.logLevel>=4&&this.send(3,t)))}warn(t){this.config.logLevel>=2&&(t=this.formatMessage(t),t.length>0&&(console.warn(t),this.config.logLevel>=4&&this.send(2,t)))}error(t){this.config.logLevel>=1&&(t=this.formatMessage(t),t.length>0&&(console.error(t),this.config.logLevel>=4&&this.send(1,t)))}send(t,n){}stackTrace(){console.groupCollapsed("%c Stack Trace","color:cream; font-style: normal;"),console.debug(new Error().stack),console.groupEnd()}}const ye=new Dg,bo=8,Q=new Mg;Q.autoFillDialogs=!1,Q.autoFillForms=!0,Q.autoFillFormsWithMultipleMatches=!1,Q.autoSubmitForms=!1,Q.autoSubmitDialogs=!1,Q.autoSubmitMatchedForms=!1,Q.connSLClient=2,Q.connSLServerMin=2,Q.keePassDBToOpen="",Q.keePassMRUDB="",Q.KeePassRPCWebSocketPort=12546,Q.KPRPCUsername="",Q.KPRPCStoredKeys={},Q.lastConnectedToKeePass="",Q.listAllOpenDBs=!0,Q.logLevel=2,Q.logMethodConsole=!1,Q.logMethodFile=!1,Q.logSensitiveData=!1,Q.metricsUsageDisabled=!1,Q.metricsUserId="",Q.notifyWhenEntryUpdated=!0,Q.notifyWhenLateDiscovery=!1,Q.notifyWhenLoggedOut=!1,Q.overWriteFieldsAutomatically=!1,Q.rememberMRUDB=!0,Q.rememberMRUGroup=!0,Q.saveFavicons=!0,Q.searchAllOpenDBs=!0,Q.config=null,Q.siteConfig=Fi,Q.tutorialProgress="",Q.version=bo,Q.triggerChangeInputEventAfterFill=!1,Q.autoSubmitNetworkAuthWithSingleMatch=!1,Q.searchNetworkAuth=!0,Q.notificationCountGeneric=0,Q.notificationCountSavePassword=0,Q.currentSearchTermTimeout=30,Q.notifyPasswordAvailableForPaste=!0,Q.animateWhenOfferingSave=!0,Q.keeVaultLaunchMessageDismissed=!1,Q.keeVaultLaunchStart=864e13,Q.keeVaultLaunchEnd=864e13,Q.manualSubmitOverrideProhibited=!1,Q.theme=null,Q.hideConfirmationAfterSave=!1,Q.mustShowReleaseNotesAtStartup=!1,Q.autoFillFieldsWithExistingValue=!1;class Ug{constructor(){this.maxCharsPerPage=1e4,this._listeners=[],this.current=Q,Tt.storage.onChanged.addListener((t,n)=>this.reloadOnStorageChange(t,n))}addChangeListener(t){this._listeners.push(t)}reloadOnStorageChange(t,n){Qe.reload(()=>this._listeners.forEach(s=>s(t,n)))}async setASAP(t){Object.assign(this.current,t),await this.save()}splitStringToPages(t){const n=Math.ceil(t.length/this.maxCharsPerPage),s=new Array(n);for(let i=0,r=0;i<n;++i,r+=this.maxCharsPerPage)s[i]=t.substr(r,this.maxCharsPerPage);return s}async save(){const t=JSON.stringify(this.current),n=this.splitStringToPages(t),s={};s.keeConfigPageCount=n.length;for(let i=0;i<n.length;i++)s["keeConfigPage"+i]=n[i];await Tt.storage.local.set(s)}load(t){Tt.storage.local.get().then(n=>{const s=n.keeConfigPageCount;if(s){let i="";for(let r=0;r<s;r++){const o=n["keeConfigPage"+r];o&&(i+=o)}i&&(this.current=JSON.parse(i))}else{const i=n.keefoxConfigPageCount;if(i){let r="";for(let o=0;o<i;o++){const a=n["keefoxConfigPage"+o];a&&(r+=a)}r&&(this.current=JSON.parse(r))}}this.fixInvalidConfigData(),this.migrateToLatestVersion(),t()})}fixInvalidConfigData(){let t=!1;this.current.KPRPCStoredKeys==null&&(this.current.KPRPCStoredKeys={},t=!0),t&&this.save()}migrateToLatestVersion(){if(this.current.version>=bo)return;const t=new Wc;switch(this.current.version){case 1:t.migrateToVersion2(this.current);case 2:t.migrateToVersion3(this.current);case 3:t.migrateToVersion4(this.current);case 4:t.migrateToVersion5(this.current);case 5:t.migrateToVersion6(this.current);case 6:t.migrateToVersion7(this.current);case 7:t.migrateToVersion8(this.current)}this.save()}migrateFromRemoteToLatestVersion(){if(this.current.version>=bo)return;const t=new Wc;switch(this.current.version){case 5:t.migrateToVersion6(this.current);case 6:t.migrateToVersion7(this.current)}this.save()}reload(t){Tt.storage.local.get().then(n=>{const s=n.keeConfigPageCount;if(s){let i="";for(let r=0;r<s;r++){const o=n["keeConfigPage"+r];o&&(i+=o)}i&&(this.current=Object.assign(this.current,JSON.parse(i)))}t&&t()})}siteConfigLookupFor(t,n){if(t=="Domain"){if(n=="Exact")return this.current.siteConfig.domainExact||(this.current.siteConfig.domainExact=new We),this.current.siteConfig.domainExact;if(n=="Prefix")return this.current.siteConfig.domainPrefix||(this.current.siteConfig.domainPrefix=new We),this.current.siteConfig.domainPrefix;if(n=="Regex")return this.current.siteConfig.domainRegex||(this.current.siteConfig.domainRegex=new We),this.current.siteConfig.domainRegex}else if(t=="Host"){if(n=="Exact")return this.current.siteConfig.hostExact||(this.current.siteConfig.hostExact=new We),this.current.siteConfig.hostExact;if(n=="Prefix")return this.current.siteConfig.hostPrefix||(this.current.siteConfig.hostPrefix=new We),this.current.siteConfig.hostPrefix;if(n=="Regex")return this.current.siteConfig.hostRegex||(this.current.siteConfig.hostRegex=new We),this.current.siteConfig.hostRegex}else if(t=="Page"){if(n=="Exact")return this.current.siteConfig.pageExact||(this.current.siteConfig.pageExact=new We),this.current.siteConfig.pageExact;if(n=="Prefix")return this.current.siteConfig.pagePrefix||(this.current.siteConfig.pagePrefix=new We),this.current.siteConfig.pagePrefix;if(n=="Regex")return this.current.siteConfig.pageRegex||(this.current.siteConfig.pageRegex=new We),this.current.siteConfig.pageRegex}return null}siteConfigFor(t){const n=this.findAllConfigsFor(t);return n.sort((s,i)=>i.matchWeight-s.matchWeight),this.deriveConfigFromMatches(n)}findAllConfigsFor(t){const n=[],s=new URL(t),i=s.host,r=i+s.pathname,o=nt.psl.getDomain(i);for(const a in this.current.siteConfig.domainExact)a===o&&n.push(this.current.siteConfig.domainExact[a]);for(const a in this.current.siteConfig.hostExact)a===i&&n.push(this.current.siteConfig.hostExact[a]);for(const a in this.current.siteConfig.pageExact)a===r&&n.push(this.current.siteConfig.pageExact[a]);for(const a in this.current.siteConfig.domainPrefix)o.startsWith(a)&&n.push(this.current.siteConfig.domainPrefix[a]);for(const a in this.current.siteConfig.hostPrefix)i.startsWith(a)&&n.push(this.current.siteConfig.hostPrefix[a]);for(const a in this.current.siteConfig.pagePrefix)r.startsWith(a)&&n.push(this.current.siteConfig.pagePrefix[a]);for(const a in this.current.siteConfig.domainRegex)new RegExp(a).test(o)&&n.push(this.current.siteConfig.domainRegex[a]);for(const a in this.current.siteConfig.hostRegex)new RegExp(a).test(i)&&n.push(this.current.siteConfig.hostRegex[a]);for(const a in this.current.siteConfig.pageRegex)new RegExp(a).test(r)&&n.push(this.current.siteConfig.pageRegex[a]);return n}findAllConfigsAndIndexFor(t){const n=[],s=new URL(t),i=s.host,r=i+s.pathname,o=nt.psl.getDomain(i);for(const a in this.current.siteConfig.domainExact)a===o&&n.push({node:this.current.siteConfig.domainExact[a],target:"Domain",method:"Exact",lookupValue:a});for(const a in this.current.siteConfig.hostExact)a===i&&n.push({node:this.current.siteConfig.hostExact[a],target:"Host",method:"Exact",lookupValue:a});for(const a in this.current.siteConfig.pageExact)a===r&&n.push({node:this.current.siteConfig.pageExact[a],target:"Page",method:"Exact",lookupValue:a});for(const a in this.current.siteConfig.domainPrefix)o.startsWith(a)&&n.push({node:this.current.siteConfig.domainPrefix[a],target:"Domain",method:"Prefix",lookupValue:a});for(const a in this.current.siteConfig.hostPrefix)i.startsWith(a)&&n.push({node:this.current.siteConfig.hostPrefix[a],target:"Host",method:"Prefix",lookupValue:a});for(const a in this.current.siteConfig.pagePrefix)r.startsWith(a)&&n.push({node:this.current.siteConfig.pagePrefix[a],target:"Page",method:"Prefix",lookupValue:a});for(const a in this.current.siteConfig.domainRegex)new RegExp(a).test(o)&&n.push({node:this.current.siteConfig.domainRegex[a],target:"Domain",method:"Regex",lookupValue:a});for(const a in this.current.siteConfig.hostRegex)new RegExp(a).test(i)&&n.push({node:this.current.siteConfig.hostRegex[a],target:"Host",method:"Regex",lookupValue:a});for(const a in this.current.siteConfig.pageRegex)new RegExp(a).test(r)&&n.push({node:this.current.siteConfig.pageRegex[a],target:"Page",method:"Regex",lookupValue:a});return n}deriveConfigFromMatches(t){const n={};return t.forEach(s=>{s.config.preventSaveNotification!==void 0&&n.preventSaveNotification==null&&(n.preventSaveNotification=s.config.preventSaveNotification),s.config.listMatchingCaseSensitive!==void 0&&n.listMatchingCaseSensitive==null&&(n.listMatchingCaseSensitive=s.config.listMatchingCaseSensitive),s.config.blackList!==void 0&&(n.blackList===void 0&&(n.blackList={}),s.config.blackList.form!==void 0&&(n.blackList.form===void 0&&(n.blackList.form={}),s.config.blackList.form.ids!==void 0&&n.blackList.form.ids===void 0&&(n.blackList.form.ids=s.config.blackList.form.ids),s.config.blackList.form.names!==void 0&&n.blackList.form.names===void 0&&(n.blackList.form.names=s.config.blackList.form.names)),s.config.blackList.fields!==void 0&&(n.blackList.fields===void 0&&(n.blackList.fields={}),s.config.blackList.fields.ids!==void 0&&n.blackList.fields.ids===void 0&&(n.blackList.fields.ids=s.config.blackList.fields.ids),s.config.blackList.fields.names!==void 0&&n.blackList.fields.names===void 0&&(n.blackList.fields.names=s.config.blackList.fields.names))),s.config.whiteList!==void 0&&(n.whiteList===void 0&&(n.whiteList={}),s.config.whiteList.form!==void 0&&(n.whiteList.form===void 0&&(n.whiteList.form={}),s.config.whiteList.form.ids!==void 0&&n.whiteList.form.ids===void 0&&(n.whiteList.form.ids=s.config.whiteList.form.ids),s.config.whiteList.form.names!==void 0&&n.whiteList.form.names===void 0&&(n.whiteList.form.names=s.config.whiteList.form.names)),s.config.whiteList.fields!==void 0&&(n.whiteList.fields===void 0&&(n.whiteList.fields={}),s.config.whiteList.fields.ids!==void 0&&n.whiteList.fields.ids===void 0&&(n.whiteList.fields.ids=s.config.whiteList.fields.ids),s.config.whiteList.fields.names!==void 0&&n.whiteList.fields.names===void 0&&(n.whiteList.fields.names=s.config.whiteList.fields.names))),s.config.preferredEntryUuid!==void 0&&n.preferredEntryUuid==null&&(n.preferredEntryUuid=s.config.preferredEntryUuid)}),n}normalizeFormProperty(t,n){return typeof t!="string"?null:n?t.toLowerCase():t}isFormInteresting(t,n,s){var E,x,O,D,P,w,m,_,b,N,K,B,W,I,$,z;const i=n.listMatchingCaseSensitive!==!0,r=s.map(X=>{var ae,Oe;return i?(ae=X.locators[0])==null?void 0:ae.id.toLowerCase():(Oe=X.locators[0])==null?void 0:Oe.id}).filter(Boolean),o=s.map(X=>{var ae,Oe;return i?(ae=X.locators[0])==null?void 0:ae.name.toLowerCase():(Oe=X.locators[0])==null?void 0:Oe.name}).filter(Boolean),a=this.normalizeFormProperty(t.id,i),l=this.normalizeFormProperty(t.name,i),c=(((x=(E=n==null?void 0:n.blackList)==null?void 0:E.form)==null?void 0:x.ids)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean),f=(((D=(O=n==null?void 0:n.blackList)==null?void 0:O.form)==null?void 0:D.names)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean),u=(((w=(P=n==null?void 0:n.blackList)==null?void 0:P.fields)==null?void 0:w.ids)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean),d=(((_=(m=n==null?void 0:n.blackList)==null?void 0:m.fields)==null?void 0:_.names)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean);if(c.indexOf(a)>=0||f.indexOf(l)>=0||u.some(X=>r.find(ae=>X===ae)!==void 0)||d.some(X=>o.find(ae=>X===ae)!==void 0))return!1;const A=((N=(b=n==null?void 0:n.whiteList)==null?void 0:b.form)==null?void 0:N.ids)||[],C=((B=(K=n==null?void 0:n.whiteList)==null?void 0:K.form)==null?void 0:B.names)||[],F=((I=(W=n==null?void 0:n.whiteList)==null?void 0:W.fields)==null?void 0:I.ids)||[],v=((z=($=n==null?void 0:n.whiteList)==null?void 0:$.fields)==null?void 0:z.names)||[];return A.indexOf(a)>=0||C.indexOf(l)>=0||F.some(X=>r.find(ae=>X===ae)!==void 0)||v.some(X=>o.find(ae=>X===ae)!==void 0)?!0:null}get activeTheme(){return this.current.theme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}togglePreferredEntryUuid(t,n){let s;try{s=new URL(n)}catch{ye.error("Invalid URL supplied to togglePreferredEntryUuid. Preferred entry will not be altered.");return}const i="Domain",r=this.findAllConfigsAndIndexFor(n),a=this.siteConfigFor(n).preferredEntryUuid;a===t?r.forEach(l=>{l.node.config.preferredEntryUuid===t&&this.removePreferredEntryUuid(l)}):(r.forEach(l=>{l.node.config.preferredEntryUuid===a&&this.leastSpecificTarget(i,l.target)===i&&this.removePreferredEntryUuid(l)}),this.addSiteConfigParameters({preferredEntryUuid:t},s,i,"Exact","Auto")),this.save()}removePreferredEntryUuid(t){if(t.node.config.preferredEntryUuid=null,t.node.source==="Auto"&&this.equalsDefaultSiteConfig(t.node.config)){const n=this.siteConfigLookupFor(t.target,t.method);delete n[t.lookupValue]}}equalsDefaultSiteConfig(t){return!(typeof t.preferredEntryUuid=="boolean"||typeof t.preventSaveNotification=="boolean"||typeof t.listMatchingCaseSensitive=="boolean"||t.whiteList||t.blackList)}leastSpecificTarget(t,n){return t==="Domain"||n==="Domain"?"Domain":t==="Host"||n==="Host"?"Host":"Page"}valueFromUrl(t,n){const s=t.host;if(n==="Host")return s;if(n==="Page")return s+t.pathname;if(n==="Domain")return nt.psl.getDomain(s)}addSiteConfigParameters(t,n,s,i,r){const o=this.valueFromUrl(n,s),a=Qe.siteConfigLookupFor(s,i);a[o]||(a[o]={config:new Hc,source:r,matchWeight:100}),Object.assign(a[o].config,t)}}const Qe=new Ug;class Cn{}Cn.MatchedLogins={id:"KeeAddonPanelMatchedLogins",height:300,width:400,name:"matchedLoginsLegacy",autoCloseTime:0,legacy:!0},Cn.GeneratePasswordLegacy={id:"KeeAddonPanelGeneratePassword",height:300,width:400,name:"generatePasswordLegacy",autoCloseTime:0,legacy:!0},Cn.GeneratePassword={id:"KeeAddonPanelGeneratePassword",height:500,width:450,name:"generatePassword",autoCloseTime:0,legacy:!1};class Os{constructor(t,n,s){this.target=n,this.options=t,this.parentFrameId=s}createPanel(){this.options.name=="generatePassword"&&(this.elementToRefocus=document.activeElement),this.container=document.createElement("div");const t=this.container.attachShadow({mode:"closed"});this.container.id=this.options.id;const n=document.createElement("style");n.textContent=`:host(div) {
            display: block !important;
            position: absolute !important;
            z-index: 2147483647 !important;
        }`,t.appendChild(n),this.target?(this.targetRelativeRect=this.target.getBoundingClientRect(),this.positionPanel()):(this.container.style.setProperty("width",this.options.width+"px","important"),this.container.style.setProperty("height",this.options.height+"px","important"),this.container.style.setProperty("top",(window.innerHeight-this.options.height)/2+window.scrollY+"px","important"),this.container.style.setProperty("left",(window.innerWidth-this.options.width)/2+window.scrollX+"px","important"));const s=document.createElement("iframe");s.setAttribute("sandbox","allow-scripts allow-same-origin"),s.setAttribute("allow",""),s.style.setProperty("width","100%","important"),s.style.setProperty("height","100%","important"),s.style.setProperty("visibility","visible","important"),s.style.setProperty("display","block","important"),s.style.setProperty("position","relative","important"),s.style.setProperty("background-color",Qe.activeTheme==="dark"?"#1e1e1e":"#ffffff","important"),s.setAttribute("scrolling","no"),this.options.legacy?s.style.setProperty("border","none","important"):(s.style.setProperty("border","2px solid #1a466b","important"),s.style.setProperty("border-radius","8px","important")),t.appendChild(s);const i=Tt.extension.getURL(`panels/panels${this.options.legacy?"Legacy":""}.html`);s.src=`${i}?parentFrameId=${this.parentFrameId}&autoCloseTime=${this.options.autoCloseTime}&panel=${this.options.name}&theme=${Qe.activeTheme}`;const r=document.getElementsByTagName("body");if(r&&r.length>0)r[0].appendChild(this.container);else{const o=document.getElementsByTagName("frameset");o&&o.length>0&&o[0].insertAdjacentElement("afterend",this.container)}}updateBoundingClientRect(){const t=this.targetRelativeRect;this.targetRelativeRect=this.target.getBoundingClientRect(),(t.top!=this.targetRelativeRect.top||t.bottom!=this.targetRelativeRect.bottom||t.left!=this.targetRelativeRect.left||t.right!=this.targetRelativeRect.right)&&this.positionPanel()}positionPanel(){const t=this.options.height;let n=t;const s=this.options.width;let i=!1;const r=this.targetRelativeRect.top+window.scrollY,o=this.targetRelativeRect.bottom+window.scrollY,a=this.targetRelativeRect.right-12,l=this.targetRelativeRect.bottom+t;if(l>window.innerHeight){const y=this.targetRelativeRect.top-t;if(y>=0)i=!0;else{const A=l-window.innerHeight,C=-y;A>C?(i=!0,n=t-C):n=t-A}}const c=a-this.targetRelativeRect.left;let f;c<s?f=Math.min(this.targetRelativeRect.left,window.innerWidth-s):f=a-s;const u=i?r-n:o,d=f+window.scrollX;this.container.style.setProperty("width",s+"px","important"),this.container.style.setProperty("height",n+"px","important"),this.container.style.setProperty("top",u+"px","important"),this.container.style.setProperty("left",d+"px","important")}closePanel(){const t=document.getElementById(this.options.id);if(t&&t.parentNode.removeChild(t),this.elementToRefocus)try{this.elementToRefocus.focus()}catch{}}}var bt=(e=>(e.CloseAllPanels="closeAllPanels",e.DetectForms="detectForms",e.ResetForms="resetForms",e.GetPasswordProfiles="getPasswordProfiles",e.GeneratePassword="generatePassword",e.ManualFill="manualFill",e.Primary="primary",e.ShowMatchedLoginsPanel="showMatchedLoginsPanel",e.PageHide="pageHide",e.OpenKeePass="openkeepass",e.CreateEntry="createEntry",e.UpdateEntry="updateEntry",e))(bt||{});class $g{constructor(t,n,s,i){this.myPort=t,this.parentFrameId=n,this.formUtils=s,this.createMatchedLoginsPanelNearNode=i,this.fieldsWithIcons=[],this.KEEFOX_ICON_16="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAOdEVYdFRpdGxlAEtlZSBsb2dvN59B9AAAABB0RVh0QXV0aG9yAEtlZSBWYXVsdGXwy5UAAAH8SURBVDiNhZDfS1NhGMc/z3vOEHea0lgXrkisvArWTUSlF9XFIKj/waugtP+hey/M5vpFN0Eg4UVB0WARSglC0IX2AwwtzdywppYsz862875dzLmDbfTcvd/n8/0+X16JX74Sxgt9AHrYmYhVfTbZ88Z6/SeWVEC/szF1brGvVDT2JRqzVLLUCTl28Xrbtq8LwL76JtU1axLhLTm/2A/A1JFp5txOM5RPSCBgM2ypLrWQSXkID+tqd8jljLMpjvgMRFcY2P+NsPI57WxId8gN+HmwkEl5NoBUuWUsrgIqZnu7xLXol6CBmF1mudIOUDU2aQAFsPoq/RkjGYB5L4KnFXvH04p5zwHAwNP8i/TybgAAYkYBitpieL0XP2D2geH1XorarqG6xgIEP0XiycH3wHGAU+0b3D44h6sthvIJZt3OOvYulx07WTcFuxojjeSlSq3u13KYT6VIAwowewOwttoeIRSC2sx2lIqpY5KPdhx43DLg+8yIK3A/qJ111gmJrtmNvvNx4ka5ZQCA0pIGKho0QET5AAYoVUXf+4ffK6y8HMsBEyVtuQC/dQgfMRjG17J3f/w3AEArc7Oo7fD4r0OMFI6ijShRarQZK81EgHhycBro23lO5rLpC824pg0AxEjjotD0OoDdarFaiT053Lb2VhB/uePn81bcX+xXu7resl9RAAAAAElFTkSuQmCC"}removeKeeIconFromAllFields(){for(const t of this.fieldsWithIcons){const n=t.DOMelement;n&&(n.removeEventListener("click",this),n.removeEventListener("mousemove",this),n.style.setProperty("background-image",""),n.style.setProperty("background-repeat",""),n.style.setProperty("background-attachment",""),n.style.setProperty("background-size",""),n.style.setProperty("background-position",""))}this.fieldsWithIcons=[],this.passwordFields=null,this.otherFields=null}addKeeIconToFields(t,n,s){this.passwordFields=t,this.otherFields=n,s.length>1?this.getLabelledIcon(s.length.toString()):this.afterImageLoaded(this.KEEFOX_ICON_16)}skipField(t){return!this.formUtils.isATextFormFieldType(t.field.type)&&t.field.type!="password"||!t.DOMelement||t.DOMelement instanceof HTMLSelectElement||!t.DOMelement.isConnected||t.DOMelement.maxLength>0&&t.DOMelement.maxLength<=3||t.DOMelement.offsetWidth<50}addIcon(t,n){this.fieldsWithIcons.push(t);const s=t.DOMelement;s.addEventListener("click",this),s.addEventListener("mousemove",this),s.style.setProperty("background-image","url('"+n+"')","important"),s.style.setProperty("background-repeat","no-repeat","important"),s.style.setProperty("background-attachment","scroll","important"),s.style.setProperty("background-size","16px 16px","important"),s.style.setProperty("background-position","calc(100% - 4px) 50%","important"),s.style.setProperty("cursor","auto");const i=window.getComputedStyle(t.DOMelement).getPropertyValue("transition-property");["all","background"].some(r=>i.includes(r))&&t.DOMelement.style.setProperty("transition","none","important"),this.overrideBoxShadows(s)}handleEvent(t){t.type==="click"&&this.showMatchedLoginsPanel(t),t.type==="mousemove"&&this.hoverOverInput(t)}limitFields(t){return t.filter(s=>!this.skipField(s)).sort((s,i)=>s.highestScore===i.highestScore?0:s.highestScore<i.highestScore?1:-1).slice(0,2)}afterImageLoaded(t){const n=this.limitFields(this.passwordFields),s=this.limitFields(this.otherFields);for(const i of n.concat(s))this.addIcon(i,t)}overrideBoxShadows(t){const n=window.getComputedStyle(t);if(n){const s=[];s.push(n.getPropertyValue("box-shadow")),s.push(n.getPropertyValue("-webkit-box-shadow")),s.push(n.getPropertyValue("-moz-box-shadow")),s.some(i=>i.indexOf("inset"))&&(t.style.setProperty("box-shadow","initial","important"),t.style.setProperty("-webkit-box-shadow","initial","important"),t.style.setProperty("-moz-box-shadow","initial","important"))}}showMatchedLoginsPanel(t){const n=t.target.getBoundingClientRect(),s=n.left+n.width-22;t.clientX>s&&n.top<=t.clientY&&t.clientY<=n.bottom&&(this.parentFrameId!==0?this.myPort.postMessage({action:bt.ShowMatchedLoginsPanel}):this.createMatchedLoginsPanelNearNode(t.target))}hoverOverInput(t){if(t.target.disabled)return;const n=t.target.getBoundingClientRect(),s=n.left+n.width-22;if(t.clientX>s){t.target.style.setProperty("cursor","pointer","important");return}t.target.style.setProperty("cursor","auto")}getLabelledIcon(t){const n=document.createElement("canvas");n.height=16,n.width=16;const s=document.createElement("img");s.addEventListener("load",()=>{const i=n.getContext("2d");i.drawImage(s,0,0),i.fillStyle="white",i.fillRect(6,8,10,8),i.fillStyle="red",i.font="8px Arial",i.fillText(t,7,15),this.afterImageLoaded(n.toDataURL())}),s.src=this.KEEFOX_ICON_16}}class Vg{}var Gc=(e=>(e.Event="event",e.Websocket="websocket",e))(Gc||{});class Ii{constructor(t){this.icon=t.icon||{version:1,iconImageData:""},this.usernameValue=t.usernameValue||"<no username>",this.usernameName=t.usernameName||"<no username>",this.path=t.path||"UNKNOWN PATH",this.title=t.title||"",this.uRLs=t.uRLs||[],this.url=(t==null?void 0:t.url)||"",this.uuid=t.uuid||nt.newGUID(),this.dbFileName=t.dbFileName||"",this.relevanceScore=t.relevanceScore,this.fullDetails=t.fullDetails,this.isPreferredMatch=t.isPreferredMatch}static fromEntry(t){var n,s;return new Ii({icon:t.icon,usernameValue:(n=Pt.getUsernameField(t))==null?void 0:n.value,usernameName:(s=Pt.getUsernameField(t))==null?void 0:s.name,title:t.title,uRLs:t.URLs,url:t==null?void 0:t.URLs[0],uuid:t.uuid,dbFileName:t.database.fileName,fullDetails:t,isPreferredMatch:t.isPreferredMatch})}static fromKPRPCEntrySummaryDTO(t,n,s){return new Ii({icon:{version:1,iconImageData:t.iconImageData},usernameValue:t.usernameValue,usernameName:t.usernameName,path:n,title:t.title,uRLs:t.uRLs,url:t==null?void 0:t.uRLs[0],uuid:t.uniqueID,dbFileName:s})}}class Fs{constructor(t){this.title=t.title||"",this.uuid=t.uuid||nt.newGUID(),this.icon=t.icon||{version:1,iconImageData:""},this.path=t.path||"UNKNOWN PATH",this.entrySummaries=t.entrySummaries||[],this.groups=t.groups||[]}static fromKPRPCGroupDTO(t,n){return new Fs({title:t.title,uuid:t.uniqueID,icon:{version:1,iconImageData:t.iconImageData},path:t.path,entrySummaries:t.childLightEntries.map(s=>Ii.fromKPRPCEntrySummaryDTO(s,t.path,n)),groups:t.childGroups.map(s=>this.fromKPRPCGroupDTO(s,n))})}static containsId(t,n){return!!(t.uuid===n||t.groups&&t.groups.some(s=>Fs.containsId(s,n)))}}class yo{constructor(t){this.name=t.name||"",this.fileName=t.fileName||"",this.icon=t.icon||{version:1,iconImageData:""},this.root=t.root||new Fs({}),this.active=t.active||!1,this.sessionType=t.sessionType||Gc.Event,this.sessionFeatures=t.sessionFeatures||[""]}static fromKPRPCDatabaseDTO(t,n,s){return new yo({name:t.name,fileName:t.fileName,icon:{version:1,iconImageData:t.iconImageData},root:Fs.fromKPRPCGroupDTO(t.root,t.fileName),active:t.active,sessionType:n,sessionFeatures:s})}}class qc{constructor(t){this.id=t.id||"",this.name=t.name||"",this.type=t.type||"",this.query=t.query,this.labels=t.labels,this.autocompleteValues=t.autocompleteValues}}class jg{}var Ve=(e=>(e.radio="FFTradio",e.username="FFTusername",e.text="FFTtext",e.password="FFTpassword",e.select="FFTselect",e.checkbox="FFTcheckbox",e))(Ve||{});class Ge{constructor(t){this.name=t.name||"",this.value=t.value||"",this.resetValue=t.resetValue||"",this.uuid=t.uuid||nt.newGUID(),this.type=t.type||"text",this.locators=t.locators||[]}static getDisplayValueInternal(t,n,s){return t.type==="boolean"?t.value==="KEEFOX_CHECKED_FLAG_TRUE"?$STR("enabled"):$STR("disabled"):t.type==="password"&&!n?s:t.value}static getDisplayValue(t,n){return Ge.getDisplayValueInternal(t,n,"*".repeat(t.value.length))}static getDisplayName(t){return t.name==="KeePass username"?$STR("username"):t.name==="KeePass password"?$STR("password"):t.name?t.name:"[ "+$STR("no_name")+" ]"}static getDisplayTooltip(t,n){return Ge.getDisplayName(t)+": "+Ge.getDisplayValueInternal(t,n,$STR("click_to_reveal_hide"))}static typeFromDOMtype(t){switch(t){case"password":return"password";case"radio":return"existing";case"checkbox":return"boolean";case"select-one":return"existing";default:return"text"}}static combineDomFieldLists(t,n,s){const i=[];return t>=0&&n[t]&&i.push(n[t]),s.forEach(r=>{i.push(r)}),n.forEach((r,o)=>{o!==t&&i.push(r)}),i}static fromDOM(t,n,s){const i=Bg(t);return new Ge({uuid:nt.newGUID(),name:i&&i.length?i[0]:t.name,locators:[new qc({name:t.name,id:t.id,type:n,labels:i,autocompleteValues:Hg(t)})],value:s,type:Ge.typeFromDOMtype(n)})}static fromKPRPCFieldDTO(t){let n="text",s="text";switch(t.type){case Ve.password:n="password",s="password";break;case Ve.radio:n="existing",s="radio";break;case Ve.checkbox:n="boolean",s="checkbox";break;case Ve.select:n="existing",s="select";break;case Ve.username:n="text",s="text";break;case Ve.text:n="text",s="text";break}return new Ge({name:t.displayName||t.name,uuid:nt.newGUID(),value:t.value,resetValue:t.value,type:n,locators:[new qc({id:t.id,name:t.name,type:s})]})}static toKPRPCFieldDTO(t,n){let s;switch(t.locators[0].type){case"password":s=Ve.password;break;case"radio":s=Ve.radio;break;case"checkbox":s=Ve.checkbox;break;case"select-one":s=Ve.select;break;default:s=n?Ve.username:Ve.text;break}return{displayName:t.name,id:t.locators[0].id,name:t.locators[0].name,type:s,value:t.value,page:-1}}}function Bg(e){var r,o,a,l;const t=[],n=((r=e.labels)==null?void 0:r.length)||0;for(let c=0;c<n;c++){const f=e.labels[c];f!=null&&f.innerText&&t.push(f.innerText)}const s=(o=e.getAttribute("aria-label"))==null?void 0:o.toLowerCase();s&&t.push(s);const i=[];return(a=e.getAttribute("aria-labelledby"))==null||a.trim().split(" ").forEach(c=>{c&&i.push(c)}),(l=e.getAttribute("aria-describedby"))==null||l.trim().split(" ").forEach(c=>{c&&i.push(c)}),i.forEach(c=>{const f=document.getElementById(c);f!=null&&f.innerText&&t.push(f.innerText)}),t.length?t:void 0}function Hg(e){var n,s;const t=[];return(s=(n=e.attributes.autocomplete)==null?void 0:n.value)==null||s.trim().split(" ").forEach(i=>{i&&t.push(i.toLowerCase())}),t.length?t:void 0}class Li{constructor(t){this.title=t.title||"",this.uuid=t.uuid||nt.newGUID(),this.icon=t.icon||{version:1,iconImageData:""},this.path=t.path||"UNKNOWN PATH"}static fromKPRPCGroupSummaryDTO(t){return new Li({title:t.title,uuid:t.uniqueID,icon:{version:1,iconImageData:t.iconImageData},path:t.path})}static fromGroup(t){return new Li({title:t.title,uuid:t.uuid,icon:t.icon,path:t.path})}}class Pt{constructor(t){this.alwaysAutoFill=t.alwaysAutoFill||!1,this.alwaysAutoSubmit=t.alwaysAutoSubmit||!1,this.neverAutoFill=t.neverAutoFill||!1,this.neverAutoSubmit=t.neverAutoSubmit||!1,this.URLs=t.URLs||[],this.fields=t.fields||[],this.httpRealm=t.httpRealm||"",this.parentGroup=t.parentGroup||null,this.uuid=t.uuid||nt.newGUID(),this.title=t.title||"",this.matchAccuracy=t.matchAccuracy||0,this.icon=t.icon||{version:1,iconImageData:""},this.database=t.database||new yo({}),this.relevanceScore=t.relevanceScore,this.lowFieldMatchRatio=t.lowFieldMatchRatio,this.formIndex=t.formIndex,this.entryIndex=t.entryIndex,this.isPreferredMatch=t.isPreferredMatch}static getUsernameField(t){return t.fields.find(n=>n.type==="text")}static getPasswordField(t){return t.fields.find(n=>n.type==="password")}static fromKPRPCEntryDTO(t,n){const s=[];let i=1;const r=t.formFieldList.findIndex(c=>c.type===Ve.username),o=t.formFieldList.map(c=>(c.page>i&&(i=c.page),Ge.fromKPRPCFieldDTO(c))),a=o.findIndex(c=>c.type==="password");return r>-1&&s.push(o[r]),a>-1&&s.push(o[a]),o.forEach((c,f)=>{f!==r&&f!==a&&s.push(c)}),new Pt({URLs:t.uRLs,neverAutoFill:t.neverAutoFill,alwaysAutoFill:t.alwaysAutoFill,neverAutoSubmit:t.neverAutoSubmit,alwaysAutoSubmit:t.alwaysAutoSubmit,icon:{version:1,iconImageData:t.iconImageData},parentGroup:Li.fromKPRPCGroupSummaryDTO(t.parent),database:n,matchAccuracy:t.matchAccuracy,httpRealm:t.hTTPRealm,uuid:t.uniqueID,title:t.title,fields:s})}static toKPRPCEntryDTO(t){const n=new jg;return n.alwaysAutoFill=t.alwaysAutoFill,n.alwaysAutoSubmit=t.alwaysAutoSubmit,n.formFieldList=t.fields.map((s,i)=>Ge.toKPRPCFieldDTO(s,i===0)),n.hTTPRealm=t.httpRealm,n.iconImageData=t.icon.iconImageData,n.neverAutoFill=t.neverAutoFill,n.neverAutoSubmit=t.neverAutoSubmit,n.title=t.title,n.uRLs=t.URLs,n}}var Kg=!1;function Ni(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function wo(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function Wg(){return Yc().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Yc(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Gg=typeof Proxy=="function",qg="devtools-plugin:setup",Yg="plugin:settings:set";let Hn,_o;function Jg(){var e;return Hn!==void 0||(typeof window<"u"&&window.performance?(Hn=!0,_o=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Hn=!0,_o=global.perf_hooks.performance):Hn=!1),Hn}function Xg(){return Jg()?_o.now():Date.now()}class zg{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const s={};if(t.settings)for(const o in t.settings){const a=t.settings[o];s[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},s);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(r,a)}catch{}this.fallbacks={getSettings(){return r},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}r=o},now(){return Xg()}},n&&n.on(Yg,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Jc(e,t){const n=e,s=Yc(),i=Wg(),r=Gg&&n.enableEarlyProxy;if(i&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))i.emit(qg,e,t);else{const o=r?new zg(n,i):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * pinia v2.0.29
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let vo;const Is=e=>vo=e,Xc=Symbol("pinia");function En(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var st;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(st||(st={}));const Mi=typeof window<"u",ki=Mi,zc=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function Qg(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function Ao(e,t,n){const s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){eu(s.response,t,n)},s.onerror=function(){console.error("could not download file")},s.send()}function Qc(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Di(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const Ui=typeof navigator=="object"?navigator:{userAgent:""},Zc=(()=>/Macintosh/.test(Ui.userAgent)&&/AppleWebKit/.test(Ui.userAgent)&&!/Safari/.test(Ui.userAgent))(),eu=Mi?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Zc?Zg:"msSaveOrOpenBlob"in Ui?em:tm:()=>{};function Zg(e,t="download",n){const s=document.createElement("a");s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?Qc(s.href)?Ao(e,t,n):(s.target="_blank",Di(s)):Di(s)):(s.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(s.href)},4e4),setTimeout(function(){Di(s)},0))}function em(e,t="download",n){if(typeof e=="string")if(Qc(e))Ao(e,t,n);else{const s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Di(s)})}else navigator.msSaveOrOpenBlob(Qg(e,n),t)}function tm(e,t,n,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return Ao(e,t,n);const i=e.type==="application/octet-stream",r=/constructor/i.test(String(zc.HTMLElement))||"safari"in zc,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&r||Zc)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw s=null,new Error("Wrong reader.result type");l=o?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=l:location.assign(l),s=null},a.readAsDataURL(e)}else{const a=URL.createObjectURL(e);s?s.location.assign(a):location.href=a,s=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function _e(e,t){const n="🍍 "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,t):t==="error"?console.error(n):t==="warn"?console.warn(n):console.log(n)}function Co(e){return"_a"in e&&"install"in e}function tu(){if(!("clipboard"in navigator))return _e("Your browser doesn't support the Clipboard API","error"),!0}function nu(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(_e('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function nm(e){if(!tu())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),_e("Global state copied to clipboard.")}catch(t){if(nu(t))return;_e("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function sm(e){if(!tu())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),_e("Global state pasted from clipboard.")}catch(t){if(nu(t))return;_e("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function im(e){try{eu(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){_e("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let Rt;function rm(){Rt||(Rt=document.createElement("input"),Rt.type="file",Rt.accept=".json");function e(){return new Promise((t,n)=>{Rt.onchange=async()=>{const s=Rt.files;if(!s)return t(null);const i=s.item(0);return t(i?{text:await i.text(),file:i}:null)},Rt.oncancel=()=>t(null),Rt.onerror=n,Rt.click()})}return e}async function om(e){try{const n=await(await rm())();if(!n)return;const{text:s,file:i}=n;e.state.value=JSON.parse(s),_e(`Global state imported from "${i.name}".`)}catch(t){_e("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function it(e){return{_custom:{display:e}}}const su="🍍 Pinia (root)",Eo="_root";function am(e){return Co(e)?{id:Eo,label:su}:{id:e.$id,label:e.$id}}function lm(e){if(Co(e)){const n=Array.from(e._s.keys()),s=e._s;return{state:n.map(r=>({editable:!0,key:r,value:e.state.value[r]})),getters:n.filter(r=>s.get(r)._getters).map(r=>{const o=s.get(r);return{editable:!1,key:r,value:o._getters.reduce((a,l)=>(a[l]=o[l],a),{})}})}}const t={state:Object.keys(e.$state).map(n=>({editable:!0,key:n,value:e.$state[n]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(n=>({editable:!1,key:n,value:e[n]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(n=>({editable:!0,key:n,value:e[n]}))),t}function cm(e){return e?Array.isArray(e)?e.reduce((t,n)=>(t.keys.push(n.key),t.operations.push(n.type),t.oldValue[n.key]=n.oldValue,t.newValue[n.key]=n.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:it(e.type),key:it(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function um(e){switch(e){case st.direct:return"mutation";case st.patchFunction:return"$patch";case st.patchObject:return"$patch";default:return"unknown"}}let Kn=!0;const $i=[],xn="pinia:mutations",Se="pinia",Vi=e=>"🍍 "+e;function fm(e,t){Jc({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:$i,app:e},n=>{typeof n.now!="function"&&_e("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:xn,label:"Pinia 🍍",color:15064968}),n.addInspector({id:Se,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{nm(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await sm(t),n.sendInspectorTree(Se),n.sendInspectorState(Se)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{im(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await om(t),n.sendInspectorTree(Se),n.sendInspectorState(Se)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:s=>{const i=t._s.get(s);i?i._isOptionsAPI?(i.$reset(),_e(`Store "${s}" reset.`)):_e(`Cannot reset "${s}" store because it's a setup store.`,"warn"):_e(`Cannot reset "${s}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((s,i)=>{const r=s.componentInstance&&s.componentInstance.proxy;if(r&&r._pStores){const o=s.componentInstance.proxy._pStores;Object.values(o).forEach(a=>{s.instanceData.state.push({type:Vi(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:Z(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((l,c)=>(l[c]=a.$state[c],l),{})}),a._getters&&a._getters.length&&s.instanceData.state.push({type:Vi(a.$id),key:"getters",editable:!1,value:a._getters.reduce((l,c)=>{try{l[c]=a[c]}catch(f){l[c]=f}return l},{})})})}}),n.on.getInspectorTree(s=>{if(s.app===e&&s.inspectorId===Se){let i=[t];i=i.concat(Array.from(t._s.values())),s.rootNodes=(s.filter?i.filter(r=>"$id"in r?r.$id.toLowerCase().includes(s.filter.toLowerCase()):su.toLowerCase().includes(s.filter.toLowerCase())):i).map(am)}}),n.on.getInspectorState(s=>{if(s.app===e&&s.inspectorId===Se){const i=s.nodeId===Eo?t:t._s.get(s.nodeId);if(!i)return;i&&(s.state=lm(i))}}),n.on.editInspectorState((s,i)=>{if(s.app===e&&s.inspectorId===Se){const r=s.nodeId===Eo?t:t._s.get(s.nodeId);if(!r)return _e(`store "${s.nodeId}" not found`,"error");const{path:o}=s;Co(r)?o.unshift("state"):(o.length!==1||!r._customProperties.has(o[0])||o[0]in r.$state)&&o.unshift("$state"),Kn=!1,s.set(r,o,s.state.value),Kn=!0}}),n.on.editComponentState(s=>{if(s.type.startsWith("🍍")){const i=s.type.replace(/^🍍\s*/,""),r=t._s.get(i);if(!r)return _e(`store "${i}" not found`,"error");const{path:o}=s;if(o[0]!=="state")return _e(`Invalid path for store "${i}":
${o}
Only state can be modified.`);o[0]="$state",Kn=!1,s.set(r,o,s.state.value),Kn=!0}})})}function dm(e,t){$i.includes(Vi(t.$id))||$i.push(Vi(t.$id)),Jc({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:$i,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const s=typeof n.now=="function"?n.now.bind(n):Date.now;t.$onAction(({after:o,onError:a,name:l,args:c})=>{const f=iu++;n.addTimelineEvent({layerId:xn,event:{time:s(),title:"🛫 "+l,subtitle:"start",data:{store:it(t.$id),action:it(l),args:c},groupId:f}}),o(u=>{Sn=void 0,n.addTimelineEvent({layerId:xn,event:{time:s(),title:"🛬 "+l,subtitle:"end",data:{store:it(t.$id),action:it(l),args:c,result:u},groupId:f}})}),a(u=>{Sn=void 0,n.addTimelineEvent({layerId:xn,event:{time:s(),logType:"error",title:"💥 "+l,subtitle:"end",data:{store:it(t.$id),action:it(l),args:c,error:u},groupId:f}})})},!0),t._customProperties.forEach(o=>{dn(()=>or(t[o]),(a,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(Se),Kn&&n.addTimelineEvent({layerId:xn,event:{time:s(),title:"Change",subtitle:o,data:{newValue:a,oldValue:l},groupId:Sn}})},{deep:!0})}),t.$subscribe(({events:o,type:a},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Se),!Kn)return;const c={time:s(),title:um(a),data:{store:it(t.$id),...cm(o)},groupId:Sn};Sn=void 0,a===st.patchFunction?c.subtitle="⤵️":a===st.patchObject?c.subtitle="🧩":o&&!Array.isArray(o)&&(c.subtitle=o.type),o&&(c.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),n.addTimelineEvent({layerId:xn,event:c})},{detached:!0,flush:"sync"});const i=t._hotUpdate;t._hotUpdate=qe(o=>{i(o),n.addTimelineEvent({layerId:xn,event:{time:s(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:it(t.$id),info:it("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Se),n.sendInspectorState(Se)});const{$dispose:r}=t;t.$dispose=()=>{r(),n.notifyComponentUpdate(),n.sendInspectorTree(Se),n.sendInspectorState(Se),n.getSettings().logStoreChanges&&_e(`Disposed "${t.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(Se),n.sendInspectorState(Se),n.getSettings().logStoreChanges&&_e(`"${t.$id}" store installed 🆕`)})}let iu=0,Sn;function ru(e,t){const n=t.reduce((s,i)=>(s[i]=Z(e)[i],s),{});for(const s in n)e[s]=function(){const i=iu,r=new Proxy(e,{get(...o){return Sn=i,Reflect.get(...o)},set(...o){return Sn=i,Reflect.set(...o)}});return n[s].apply(r,arguments)}}function hm({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),typeof n.state=="function"){ru(t,Object.keys(n.actions));const s=t._hotUpdate;Z(t)._hotUpdate=function(i){s.apply(this,arguments),ru(t,Object.keys(i._hmrPayload.actions))}}dm(e,t)}}function gm(){const e=Xi(!0),t=e.run(()=>an({}));let n=[],s=[];const i=qe({install(r){Is(i),i._a=r,r.provide(Xc,i),r.config.globalProperties.$pinia=i,ki&&fm(r,i),s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!Kg?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return ki&&typeof Proxy<"u"&&i.use(hm),i}function ou(e,t){for(const n in t){const s=t[n];if(!(n in e))continue;const i=e[n];En(i)&&En(s)&&!de(s)&&!He(s)?e[n]=ou(i,s):e[n]=s}return e}const mm=()=>{};function au(e,t,n,s=mm){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&Ho()&&Ko(i),i}function Wn(e,...t){e.slice().forEach(n=>{n(...t)})}function xo(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];En(i)&&En(s)&&e.hasOwnProperty(n)&&!de(s)&&!He(s)?e[n]=xo(i,s):e[n]=s}return e}const pm=Symbol("pinia:skipHydration");function bm(e){return!En(e)||!e.hasOwnProperty(pm)}const{assign:rt}=Object;function lu(e){return!!(de(e)&&e.effect)}function cu(e,t,n,s){const{state:i,actions:r,getters:o}=t,a=n.state.value[e];let l;function c(){!a&&!s&&(n.state.value[e]=i?i():{});const f=lr(s?an(i?i():{}).value:n.state.value[e]);return rt(f,r,Object.keys(o||{}).reduce((u,d)=>(d in f&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${d}" in store "${e}".`),u[d]=qe(Ei(()=>{Is(n);const y=n._s.get(e);return o[d].call(y,y)})),u),{}))}return l=So(e,c,t,n,s,!0),l.$reset=function(){const u=i?i():{};this.$patch(d=>{rt(d,u)})},l}function So(e,t,n={},s,i,r){let o;const a=rt({actions:{}},n);if(!s._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=m=>{c?y=m:c==!1&&!P._hotUpdating&&(Array.isArray(y)?y.push(m):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let c,f,u=qe([]),d=qe([]),y;const A=s.state.value[e];!r&&!A&&!i&&(s.state.value[e]={});const C=an({});let F;function v(m){let _;c=f=!1,y=[],typeof m=="function"?(m(s.state.value[e]),_={type:st.patchFunction,storeId:e,events:y}):(xo(s.state.value[e],m),_={type:st.patchObject,payload:m,storeId:e,events:y});const b=F=Symbol();un().then(()=>{F===b&&(c=!0)}),f=!0,Wn(u,_,s.state.value[e])}const g=()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function E(){o.stop(),u=[],d=[],s._s.delete(e)}function x(m,_){return function(){Is(s);const b=Array.from(arguments),N=[],K=[];function B($){N.push($)}function W($){K.push($)}Wn(d,{args:b,name:m,store:P,after:B,onError:W});let I;try{I=_.apply(this&&this.$id===e?this:P,b)}catch($){throw Wn(K,$),$}return I instanceof Promise?I.then($=>(Wn(N,$),$)).catch($=>(Wn(K,$),Promise.reject($))):(Wn(N,I),I)}}const O=qe({actions:{},getters:{},state:[],hotState:C}),D={_p:s,$id:e,$onAction:au.bind(null,d),$patch:v,$reset:g,$subscribe(m,_={}){const b=au(u,m,_.detached,()=>N()),N=o.run(()=>dn(()=>s.state.value[e],K=>{(_.flush==="sync"?f:c)&&m({storeId:e,type:st.direct,events:y},K)},rt({},l,_)));return b},$dispose:E},P=_t(rt({_hmrPayload:O,_customProperties:qe(new Set)},D));s._s.set(e,P);const w=s._e.run(()=>(o=Xi(),o.run(()=>t())));for(const m in w){const _=w[m];if(de(_)&&!lu(_)||He(_))i?Ni(C.value,m,ss(w,m)):r||(A&&bm(_)&&(de(_)?_.value=A[m]:xo(_,A[m])),s.state.value[e][m]=_),O.state.push(m);else if(typeof _=="function"){const b=i?_:x(m,_);w[m]=b,O.actions[m]=_,a.actions[m]=_}else lu(_)&&(O.getters[m]=r?n.getters[m]:_,Mi&&(w._getters||(w._getters=qe([]))).push(m))}if(rt(P,w),rt(Z(P),w),Object.defineProperty(P,"$state",{get:()=>i?C.value:s.state.value[e],set:m=>{if(i)throw new Error("cannot set hotState");v(_=>{rt(_,m)})}}),P._hotUpdate=qe(m=>{P._hotUpdating=!0,m._hmrPayload.state.forEach(_=>{if(_ in P.$state){const b=m.$state[_],N=P.$state[_];typeof b=="object"&&En(b)&&En(N)?ou(b,N):m.$state[_]=N}Ni(P,_,ss(m.$state,_))}),Object.keys(P.$state).forEach(_=>{_ in m.$state||wo(P,_)}),c=!1,f=!1,s.state.value[e]=ss(m._hmrPayload,"hotState"),f=!0,un().then(()=>{c=!0});for(const _ in m._hmrPayload.actions){const b=m[_];Ni(P,_,x(_,b))}for(const _ in m._hmrPayload.getters){const b=m._hmrPayload.getters[_],N=r?Ei(()=>(Is(s),b.call(P,P))):b;Ni(P,_,N)}Object.keys(P._hmrPayload.getters).forEach(_=>{_ in m._hmrPayload.getters||wo(P,_)}),Object.keys(P._hmrPayload.actions).forEach(_=>{_ in m._hmrPayload.actions||wo(P,_)}),P._hmrPayload=m._hmrPayload,P._getters=m._getters,P._hotUpdating=!1}),ki){const m={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(_=>{Object.defineProperty(P,_,{value:P[_],...m})})}return s._p.forEach(m=>{if(ki){const _=o.run(()=>m({store:P,app:s._a,pinia:s,options:a}));Object.keys(_||{}).forEach(b=>P._customProperties.add(b)),rt(P,_)}else rt(P,o.run(()=>m({store:P,app:s._a,pinia:s,options:a})))}),P.$state&&typeof P.$state=="object"&&typeof P.$state.constructor=="function"&&!P.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${P.$id}".`),A&&r&&n.hydrate&&n.hydrate(P.$state,A),c=!0,f=!0,P}function ym(e,t,n){let s,i;const r=typeof t=="function";typeof e=="string"?(s=e,i=r?n:t):(i=e,s=e.id);function o(a,l){const c=Xe();if(a=a||c&&Vt(Xc,null),a&&Is(a),!vo)throw new Error(`[🍍]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);a=vo,a._s.has(s)||(r?So(s,t,i,a):cu(s,i,a),o._pinia=a);const f=a._s.get(s);if(l){const u="__hot:"+s,d=r?So(u,t,i,a,!0):cu(u,rt({},i),a,!0);l._hotUpdate(d),delete a.state.value[u],a._s.delete(u)}if(Mi&&c&&c.proxy&&!l){const u=c.proxy,d="_pStores"in u?u._pStores:u._pStores={};d[s]=f}return f}return o.$id=s,o}class uu{constructor(){this.newEntry=new Pt({})}}const wm={latestConnectionError:"",lastKeePassRPCRefresh:0,ActiveKeePassDatabaseIndex:-1,KeePassDatabases:[],PasswordProfiles:[],notifications:[],connected:!1,connectedWebsocket:!1,currentSearchTerm:null,loginsFound:!1,searchResults:null,saveState:new uu,generatedPassword:"",saveEntryResult:{result:null,receivedAt:new Date,fileName:null,uuid:null},entryUpdateStartedAtTimestamp:0};var To=(e=>(e.Event="event",e.Websocket="websocket",e))(To||{});const fu=ym("kee",{state:()=>wm,getters:{showGeneratePasswordLink:e=>e.connected,showMatchedLogins:e=>!!e.loginsFound,showNotifications:e=>e.notifications&&!!e.notifications.length,databaseIsOpen:e=>e.connected&&!!e.KeePassDatabases.length,databaseName:e=>{if(e.KeePassDatabases&&e.KeePassDatabases.length&&e.ActiveKeePassDatabaseIndex>=0){const t=e.KeePassDatabases[e.ActiveKeePassDatabaseIndex];return t.name?t.name:t.fileName.replace(/^.*[\\/]/,"")}return""},connectionStatus(e){return e.connected?e.KeePassDatabases.length>1?$STRF("multiplePasswordSourcesEnabled",[e.KeePassDatabases.length.toString()]):e.KeePassDatabases.length==1?this.databaseName:$STR("notifyBarLoginToKeePassButton_tip"):$STR("notifyBarLaunchKeePassButton_tip")},connectionStatusDetail(e){if(e.connected){if(e.KeePassDatabases.length>1)return $STRF("loggedInMultiple_tip",[e.KeePassDatabases.length.toString(),this.databaseName]);if(e.KeePassDatabases.length==1)return $STRF("loggedIn_tip",this.databaseName)}return $STR("notifyBarLaunchKeePass_label")},showOpenKeePassButton:e=>{if(e.connectedWebsocket){const t=e.KeePassDatabases.some(s=>s.sessionType===To.Websocket),n=e.KeePassDatabases.some(s=>s.sessionType===To.Websocket&&s.sessionFeatures.indexOf("KPRPC_OPEN_AND_FOCUS_DATABASE")>=0);return!!(!t||n)}else return!1}},actions:{updateActiveKeePassDatabaseIndex(e){this.ActiveKeePassDatabaseIndex=e},updateConnected(e){this.connected=e},updateConnectedWebsocket(e){this.connectedWebsocket=e},updateCurrentSearchTerm(e){this.currentSearchTerm=e},updateKeePassDatabases(e){this.KeePassDatabases=e},updateLastKeePassRPCRefresh(e){this.lastKeePassRPCRefresh=e},updateLatestConnectionError(e){this.latestConnectionError=e},updateLoginsFound(e){this.loginsFound=e||!1},updateNotifications(e){this.notifications=e},updatePasswordProfiles(e){this.PasswordProfiles=e},updateGeneratedPassword(e){this.generatedPassword=e},updateSubmittedData(e){this.saveState||(this.saveState=new uu),this.saveState.submittedData=e||null},updateSaveState(e){this.saveState=e||null},updateSearchResults(e){this.searchResults=e||null},updateSearchResultWithFullDetails(e){const t=e.uuid;for(const n of this.searchResults)if(n.uuid===t){n.fullDetails=e||null;break}},addNotification(e){this.notifications.push(e)},updateSaveEntryResult(e){this.saveEntryResult=e||null},removeFieldFromActiveEntry(e){const t=this.saveState.newEntry.fields.findIndex(i=>i.type==="text"),n=this.saveState.newEntry.fields.findIndex(i=>i.type==="password"),s=this.saveState.newEntry.fields.findIndex(i=>i.uuid===(e||null));if(this.saveState.newEntry.fields.splice(s,1),s===t){const i=this.saveState.newEntry.fields.findIndex(o=>o.type==="text");if(i<0)return;const r=this.saveState.newEntry.fields.splice(i,1)[0];this.saveState.newEntry.fields.splice(s,0,new Ge({...r,name:"KeePass username"}))}else if(s===n){const i=this.saveState.newEntry.fields.findIndex(o=>o.type==="password");if(i<0)return;const r=this.saveState.newEntry.fields.splice(i,1)[0];this.saveState.newEntry.fields.splice(s,0,new Ge({...r,name:"KeePass password"}))}},updateEntryUpdateStartedAtTimestamp(e){this.entryUpdateStartedAtTimestamp=e||null}}}),du=fu();class _m{constructor(t,n,s,i,r,o,a){this.myPort=t,this.parentFrameId=n,this.formUtils=s,this.formSaving=i,this.Logger=r,this.config=o,this.matchFinder=a,this.findLoginOp={},this.matchResult=new Vg,this.formFinderTimer=null,this.keeFieldIcon=new $g(t,n,s,this.createMatchedLoginsPanelNearNode.bind(this))}executePrimaryAction(){this.matchResult.entries&&this.matchResult.entries.length>0&&this.matchResult.mostRelevantFormIndex!=null&&this.matchResult.mostRelevantFormIndex>=0&&(this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length==1?(this.fillAndSubmit(!1,this.matchResult.mostRelevantFormIndex,0),this.closeMatchedLoginsPanel()):this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length>1&&(this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Os(Cn.MatchedLogins,null,this.parentFrameId),this.matchedLoginsPanelStub.createPanel()))}createMatchedLoginsPanelInCenter(t){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Os(Cn.MatchedLogins,null,t),this.matchedLoginsPanelStub.createPanel()}createMatchedLoginsPanelNearNode(t){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Os(Cn.MatchedLogins,t,this.parentFrameId),this.matchedLoginsPanelStub.createPanel(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}closeMatchedLoginsPanel(){this.matchedLoginsPanelStub&&this.matchedLoginsPanelStub.closePanel(),this.matchedLoginsPanelStub=null,cancelAnimationFrame(this.matchedLoginsPanelStubRaf)}updateMatchedLoginsPanelPosition(){this.matchedLoginsPanelStub.updateBoundingClientRect(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}calculateFieldMatchScore(t,n,s,i,r){const o=t.field;let a=1;return o.type!==n.type?0:(o.locators[0].id!=null&&o.locators[0].id!=null&&o.locators[0].id!=""&&o.locators[0].id==n.locators[0].id?a+=50:i.punishWrongIDAndName&&n.locators[0].id&&(a-=5),o.locators[0].name!=null&&o.locators[0].name!=null&&o.locators[0].name!=""&&o.locators[0].name==n.locators[0].name?a+=40:i.punishWrongIDAndName&&n.locators[0].name&&(a-=5),o.locators[0].type==="radio"&&o.value!=null&&o.value!=null&&o.value!=""&&o.value==n.value&&(a+=30),r===void 0&&this.formUtils.isDOMElementVisible(t.DOMelement)&&(r=!0),a+=r?35:0,a)}fillMatchedFields(t,n,s,i){t.sort(function(o,a){return a.score-o.score});const r=[];for(;t.length>0&&t[0].score>0;){const o=t[0].formFieldIndex,a=t[0].dataFieldIndex,l=s[o],c=n[a],f=l.DOMelement,u=this.getFormFieldCurrentValue(f,l.field.locators[0].type);i&&u&&u!==f.keeInitialDetectedValue?this.Logger.info("Not filling field because it's not empty and was edited by user since last load/fill"):i&&u&&!Qe.current.autoFillFieldsWithExistingValue?this.Logger.info("Not filling field because it's not empty and user preference is to prevent automatic fill"):(this.Logger.info("We will populate field "+o+" (id:"+l.field.locators[0].id+")"),this.fillASingleField(f,l.field.locators[0].type,c.value)),r.push({id:l.field.locators[0].id,DOMelement:f,name:l.field.locators[0].name,value:c.value}),t=t.filter(function(d){return d.dataFieldIndex!=a&&d.formFieldIndex!=o}),t.sort(function(d,y){return y.score-d.score})}return r}getFormFieldCurrentValue(t,n){let s=t.value;return t instanceof HTMLInputElement&&n==="checkbox"&&(t.checked?s="KEEFOX_CHECKED_FLAG_TRUE":s="KEEFOX_CHECKED_FLAG_FALSE"),s}fillASingleField(t,n,s){n=="select-one"?t.value=s:t instanceof HTMLInputElement&&n=="checkbox"?s=="KEEFOX_CHECKED_FLAG_TRUE"?t.checked=!0:t.checked=!1:t instanceof HTMLInputElement&&n=="radio"?t.checked=!0:t.value=s,t.keeInitialDetectedValue=s,t.dispatchEvent(new UIEvent("input",{view:window,bubbles:!0,cancelable:!0})),t.dispatchEvent(new UIEvent("change",{view:window,bubbles:!0,cancelable:!0}))}fillManyFormFields(t,n,s,i,r){if(this.Logger.debug("_fillManyFormFields started"),t==null||t==null||n==null||n==null)return;this.Logger.debug("We've received the data we need"),this.Logger.info("Filling form fields for page "+s);const o=[];for(let a=0;a<t.length;a++)for(let l=0;l<n.length;l++){const c=this.calculateFieldMatchScore(t[a],n[l],s,i);this.Logger.debug("Suitability of putting data field "+l+" into form field "+a+" (id: "+t[a].field.locators[0].id+") is "+c),o.push({score:c,dataFieldIndex:l,formFieldIndex:a})}return this.fillMatchedFields(o,n,t,r)}initMatchResult(t){this.matchResult.UUID="",this.matchResult.entries=[],this.matchResult.mostRelevantFormIndex=null,this.matchResult.mustAutoFillForm=!1,this.matchResult.cannotAutoFillForm=!1,this.matchResult.mustAutoSubmitForm=!1,this.matchResult.cannotAutoSubmitForm=!1,t.UUID!=null&&t.UUID!=null&&t.UUID!=""&&(this.matchResult.UUID=t.UUID,this.matchResult.dbFileName=t.dbFileName,this.matchResult.mustAutoFillForm=!0,t.mustAutoSubmitForm&&(this.matchResult.mustAutoSubmitForm=!0)),this.matchResult.doc=window.document,this.matchResult.formReadyForSubmit=!1,this.matchResult.autofillOnSuccess=t.autofillOnSuccess,this.matchResult.autosubmitOnSuccess=t.autosubmitOnSuccess,this.matchResult.notifyUserOnSuccess=t.notifyUserOnSuccess,this.matchResult.wrappers=[],this.matchResult.allMatchingLogins=[],this.matchResult.formRelevanceScores=[],this.matchResult.submitTargets=[],this.matchResult.usernameIndexArray=[],this.matchResult.passwordFieldsArray=[],this.matchResult.otherFieldsArray=[],this.matchResult.requestCount=0,this.matchResult.responseCount=0,this.matchResult.requestIds=[]}findMatchesInThisFrame(t={}){this.semanticWhitelistCache={},this.semanticBlacklistCache={},this.formFinderTimer!==null&&(clearTimeout(this.formFinderTimer),this.formFinderTimer=null),window.document.forms.length>50&&this.Logger.debug("Too many forms on this page. Assuming it is not a login page and avoiding looking for login forms in order to avoid performance impact.");let n=new Array;for(let a=0;a<window.document.forms.length;a++)n.push(window.document.forms.item(a));const s=this.scanForOrphanedFields(window.document);if(s&&(n=Array.prototype.slice.call(n),n.push(s)),!n||n.length==0){this.Logger.info("No forms found on this page.");return}const i=new URL(window.document.URL);i.hostname=punycode.toUnicode(i.hostname),this.Logger.info("Finding matches in a document. readyState: "+window.document.readyState),this.initMatchResult(t),this.matchResult.forms=n;const r=Qe.siteConfigFor(i.href);this.Logger.debug("findMatches processing "+n.length+" forms");let o=!1;for(let a=0;a<n.length;a++){const l=n[a];this.matchResult.entries[a]=[],this.matchResult.formRelevanceScores[a]=0,this.Logger.debug("about to get form fields");let c;try{c=this.formUtils.getFormFields(l,!1,50)}catch(v){this.Logger.debug("Lost interest in this form after finding too many fields"+v);continue}const f=c.actualUsernameIndex,u=c.pwFields,d=c.otherFields;let y=null;if(y=Qe.isFormInteresting(l,r,d.map(v=>v.field)),y===!1){this.Logger.debug("Lost interest in this form after inspecting field names and IDs");continue}const A=u==null||u.length<=0||u[0]==null,C=f<0||d==null||d.length<=0||d[f]==null;if(A&&(C||y!==!0)){this.Logger.debug("No password field found in this form and either there are no other fields or no whitelisted text field or form element");continue}let F;A?F=d[f].DOMelement:F=u[0].DOMelement,this.attachSubmitHandlers(l,F,a),this.matchResult.usernameIndexArray[a]=f,this.matchResult.passwordFieldsArray[a]=u,this.matchResult.otherFieldsArray[a]=d,this.matchResult.submitTargets[a]=F,o?(this.Logger.debug("form["+a+"]: reusing entries from last form."),this.findLoginOp.formIndexes.push(a)):(this.findLoginOp.forms=n,this.findLoginOp.formIndexes=[a],this.findLoginOp.wrappedBy=this.matchResult,this.matchResult.wrappers[a]=this.findLoginOp,this.matchResult.requestCount++,this.matchFinder(i.href),o=!0)}}async attachSubmitHandlers(t,n,s){try{await Promise.resolve();const i=performance.now(),r=this.findSubmitButton(t,n);this.formSaving.addSubmitHandler(r,t),ye.info("Submit handlers attached asynchronously to form "+s+" in "+(performance.now()-i)+"ms")}catch(i){ye.warn("Exception while adding submit handler. Message: "+i.message)}}scanForOrphanedFields(t){const n=new Date().getTime(),s=[];let i=null;const r=t.getElementsByTagName("input");for(const a of r)a.form||s.push(a);s.length>0&&(i={elements:s,id:"Kee-pseudo-form",name:"Kee-pseudo-form",ownerDocument:t,getElementsByTagName:function(){return this.elements},querySelectorAll:function(){return[]},submit:function(){},offsetParent:!0,addEventListener:function(){},removeEventListener:function(){}});const o=new Date().getTime();return this.Logger.debug("scanForOrphanedFields took: "+(o-n)),i}findLoginsResultHandler(t){if(!t)return;const n=t.filter(s=>Pt.getUsernameField(s)||Pt.getPasswordField(s));this.matchResult=this.getRelevanceOfLoginMatchesAgainstAllForms(n,this.findLoginOp,this.matchResult),this.fillAndSubmit(!0)}getRelevanceOfLoginMatchesAgainstAllForms(t,n,s){const i=JSON.stringify(t);let r=!1;for(let o=0;o<n.forms.length;o++){if(n.formIndexes.indexOf(o)==-1||(s.entries[o]=JSON.parse(i),s.entries[o].length==0))continue;this.Logger.info("match found!");const a=this.formUtils.isDOMElementVisible(s.submitTargets[o]);this.Logger.debug("formVisible: "+a);const l={other:s.otherFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement)),password:s.passwordFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement))};for(let c=0;c<s.entries[o].length;c++){const u={punishWrongIDAndName:du.KeePassDatabases.find(A=>A.fileName===s.entries[o][c].database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},{score:d,lowFieldMatchRatio:y}=this.calculateRelevanceScore(s.entries[o][c],s.passwordFieldsArray[o],s.otherFieldsArray[o],s.currentPage,a,u,l);s.entries[o][c].relevanceScore=d,s.entries[o][c].lowFieldMatchRatio=y,s.entries[o][c].formIndex=o,s.entries[o][c].entryIndex=c,(!r||s.entries[o][c].relevanceScore>s.allMatchingLogins[c].relevanceScore)&&(this.Logger.debug("Higher relevance score found for entry "+c+" with formIndex "+s.entries[o][c].formIndex+" ("+n.forms[o].id+")"),s.allMatchingLogins[c]=s.entries[o][c])}r=!0,s.entries[o].forEach(function(c){c.relevanceScore>s.formRelevanceScores[o]&&(s.formRelevanceScores[o]=c.relevanceScore)}),this.Logger.debug("Relevance of form "+o+" ("+n.forms[o].id+") is "+s.formRelevanceScores[o])}return s}getMostRelevantForm(t){const n=this.matchResult;if(!n)return{bestFormIndex:0,bestRelevanceScore:0,bestFindMatchesResult:void 0};let s=0;return t>=0?s=t:n.formRelevanceScores.forEach((i,r)=>{this.Logger.debug("Relevance of form is "+i),i>n.formRelevanceScores[s]&&(s=r)}),this.Logger.debug("The most relevant form is #"+s),{bestFormIndex:s,bestRelevanceScore:n.formRelevanceScores[s],bestFindMatchesResult:n}}fillAndSubmit(t,n,s){this.Logger.debug("fillAndSubmit started. automated: "+t+", formIndex: "+n+", entryIndex: "+s);const i=this.matchResult;let r;if(!i)return;const o=!t&&(i.mostRelevantFormIndex!==null&&i.mostRelevantFormIndex>=0||typeof n<"u")&&typeof s<"u";o||(i.mostRelevantFormIndex=this.getMostRelevantForm().bestFormIndex),n!==null&&n>=0&&(i.mostRelevantFormIndex=n);const a=i.forms[i.mostRelevantFormIndex],l=i.passwordFieldsArray[i.mostRelevantFormIndex],c=i.otherFieldsArray[i.mostRelevantFormIndex],f=this.sortMatchedEntries(i.entries[i.mostRelevantFormIndex]),u=this.flagUserPreferredEntry(f);!o&&i.entries[i.mostRelevantFormIndex].length>0&&(this.myPort.postMessage({entries:u}),this.keeFieldIcon.addKeeIconToFields(l,c,u));let d=null,y={fill:!1,submit:!1},A=!1;if(i.cannotAutoFillForm=!1,i.cannotAutoSubmitForm=!1,t&&i.autofillOnSuccess===!1&&(i.cannotAutoFillForm=!0),t&&i.autosubmitOnSuccess===!1&&(i.cannotAutoSubmitForm=!0),!i.cannotAutoFillForm){this.Logger.debug("We are allowed to auto-fill this form."),s>=0&&(d=i.entries[i.mostRelevantFormIndex][s],i.UUID=null,i.dbFileName=null);let C=!1;if(d==null&&i.entries[i.mostRelevantFormIndex].length==1)d=i.entries[i.mostRelevantFormIndex][0],C=!0;else if(i.UUID!=null&&i.UUID!=null&&i.UUID!=""){this.Logger.debug("We've been told to use an entry with this UUID: "+i.UUID);for(let F=0;F<i.entries[i.mostRelevantFormIndex].length;F++)if(i.entries[i.mostRelevantFormIndex][F].uuid==i.UUID){d=i.entries[i.mostRelevantFormIndex][F];break}d==null&&this.Logger.warn("Could not find the required KeePass entry. Maybe the website redirected you to a different domain or hostname?")}else d==null&&(!i.entries[i.mostRelevantFormIndex]||!i.entries[i.mostRelevantFormIndex].length)?this.Logger.debug("No entries for form."):d==null&&(this.Logger.debug("Multiple entries for form, so using preferred or most relevant."),d=u.find(F=>F.isPreferredMatch)||u[0],A=!0,C=!0);if(t&&C&&d!=null&&(d.relevanceScore<1?(this.Logger.info("Our selected entry is not relevant enough to exceed our threshold so will not be auto-filled."),d=null):d.lowFieldMatchRatio&&(this.Logger.info("Our selected entry has a low field match ratio so will not be auto-filled."),d=null)),d!=null){const F=o||(t&&A&&!this.config.autoFillFormsWithMultipleMatches?!1:this.config.autoFillForms),v=o?this.config.autoSubmitMatchedForms:this.config.autoSubmitForms;if(y={fill:F,submit:v},o||(d.alwaysAutoFill&&(y.fill=!0),d.neverAutoFill&&(y.fill=!1)),(!o||!this.config.manualSubmitOverrideProhibited)&&(d.alwaysAutoSubmit&&(y.submit=!0),d.neverAutoSubmit&&(y.submit=!1)),y.fill||i.mustAutoFillForm){this.Logger.debug("Going to auto-fill a form");const E={punishWrongIDAndName:du.KeePassDatabases.find(D=>D.fileName===d.database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},x=this.fillManyFormFields(c,d.fields.filter(D=>D.type!=="password"),-1,E,t),O=this.fillManyFormFields(l,d.fields.filter(D=>D.type==="password"),-1,E,t);i.formReadyForSubmit=!0,i.lastFilledPasswords=O,i.lastFilledOther=x,O&&O.length>0?r=O[0].DOMelement:x&&x.length>0&&(r=x[0].DOMelement),this.formSaving.updateMatchResult(i)}}}i.formReadyForSubmit&&(i.UUID==null||i.UUID==null||i.UUID=="")&&(this.Logger.debug("Syncing UUID to: "+d.uuid),i.UUID=d.uuid,i.dbFileName=d.database.fileName),!i.cannotAutoSubmitForm&&(y.submit||i.mustAutoSubmitForm)&&i.formReadyForSubmit?(this.Logger.info("Auto-submitting form..."),this.submitForm(a,r)):o?this.Logger.debug("Matched entry request is not being auto-submitted."):this.matchResult.allMatchingLogins.length>0?t?this.Logger.debug("Automatic form fill complete."):this.Logger.debug("Manual form fill complete."):this.Logger.info("Nothing to fill.")}sortMatchedEntries(t){return t.map(n=>new Pt({...n})).sort((n,s)=>s.relevanceScore-n.relevanceScore)}flagUserPreferredEntry(t){const n=new URL(window.document.URL);n.hostname=punycode.toUnicode(n.hostname);const s=Qe.siteConfigFor(n.href);return t.map(i=>new Pt({...i,isPreferredMatch:s.preferredEntryUuid===i.uuid}))}findSubmitButton(t,n){const s=[];let A=0;const C=(b,N)=>this.commonAncestorDistance(b,N,F),F=new Map,v=this.formUtils;function g(b,N){A>N+60+100||((v.isDOMElementVisible(b)||!v.isDOMElementVisible(n))&&(N+=60),A>N+100)||(s.push({distance:C(b,n),element:b,score:N}),A=N)}function E(b){var K;const N=[];return b.hasAttribute("aria-label")&&N.push(b.getAttribute("aria-label").toLowerCase()),(K=b.getAttribute("aria-labelledby"))==null||K.trim().split(" ").forEach(B=>{if(B){const W=t.ownerDocument.getElementById(B);W&&W.innerText&&N.push(W.innerText.toLowerCase())}}),N}if(Array.from(t.ownerDocument.getElementsByTagName("button")).forEach(b=>{if(b.isConnected&&(!b.type||b.type!="reset")){const N=[];b.name&&N.push(b.name.toLowerCase()),b.textContent&&N.push(b.textContent.toLowerCase()),b.value&&N.push(b.value.toLowerCase()),N.push(...E(b));let K=this.scoreAdjustmentForMagicWords(N,50,this.semanticWhitelistCache,this.semanticBlacklistCache);K+=b.form&&b.form==t?60:40,g(b,K)}}),Array.from(t.getElementsByTagName("input")).forEach(b=>{if(b.isConnected&&b.type!=null){let N=0;if(b.type=="submit"||b.type=="button"){b.name&&(N+=this.scoreAdjustmentForMagicWords([b.name.toLowerCase()],50,this.semanticWhitelistCache,this.semanticBlacklistCache));const K=[];b.value&&K.push(b.value.toLowerCase()),K.push(...E(b)),K.length>0&&(N+=this.scoreAdjustmentForMagicWords(K,40,this.semanticWhitelistCache,this.semanticBlacklistCache)),b.id&&(N+=this.scoreAdjustmentForMagicWords([b.id.toLowerCase()],20,this.semanticWhitelistCache,this.semanticBlacklistCache))}if(b.type=="submit"||b.type=="button"||b.type=="image"){let K=N;K+=b.type=="button"?30:b.type=="image"?40:50,g(b,K)}}}),Array.from(t.ownerDocument.querySelectorAll("[role=button]:not(button)")).forEach(b=>{if(!b.isConnected)return;const N=[];b.name&&N.push(b.name.toLowerCase()),b.id&&N.push(b.id.toLowerCase()),b.title&&N.push(b.title.toLowerCase()),b.innerText&&N.push(b.innerText.toLowerCase()),b.dataSet&&b.dataSet.length>0&&b.dataSet.tooltip&&N.push(b.dataSet.tooltip.toLowerCase()),N.push(...E(b));let K=this.scoreAdjustmentForMagicWords(N,50,this.semanticWhitelistCache,this.semanticBlacklistCache);K+=b.form&&b.form==t?20:10,g(b,K)}),s.length<=0)return null;if(s.length===1)return s[0].element;const x=s.sort((b,N)=>b.distance>N.distance?-1:b.distance<N.distance?1:0),O=x[0].distance-x[x.length-1].distance,D=Math.min(100,20*O);let P=1/x.length,w=x[0].distance;x.forEach((b,N,K)=>{b.distance<w&&(P=(N+1)/K.length,w=b.distance),b.score+=P*D});let m=x[0].score,_=x[0].element;for(let b=1;b<x.length;b++)x[b].score>m&&(m=x[b].score,_=x[b].element);return _}scoreAdjustmentForMagicWords(t,n,s,i){const r=["submit","login","enter","log in","signin","sign in","next","continue"],o=["reset","cancel","back","abort","undo","exit","empty","clear","captcha","totp","forgot","dismiss","delete","show","reveal"];let a=!1,l=!1;for(let c=0;c<t.length&&!a;c++){if(!t[c])continue;const f=t[c].trim();if(f){if(s[f]===!0){a=!0;break}if(s[f]!==!1)for(let u=0;u<r.length;u++)if(f.indexOf(r[u])>=0){a=!0,s[f]=!0;break}else s[f]=!1}}for(let c=0;c<t.length&&!l;c++){if(!t[c])continue;const f=t[c].trim();if(f){if(i[f]===!0){l=!0;break}if(i[f]!==!1)for(let u=0;u<o.length;u++)if(f.indexOf(o[u])>=0){l=!0,i[f]=!0;break}else i[f]=!1}}return a&&l?0:l?-1*n:a?n:0}commonAncestorDistance(t,n,s){let i=1,r=!1;const o=[];let a=0;for(;t=t.parentElement;){const l=s.get(t);if(l!==void 0){i+=l,a=l+1,r=!0;break}if(o.push(t),t.contains(n)){r=!0;break}i++}if(r){if(o.length>0)for(let l=a;l<i&&o.length>0;l++){const c=o.pop();s.set(c,l)}return i}else return 9007199254740991}submitForm(t,n){const s=this.findSubmitButton(t,n);this.formSaving.removeAllSubmitHandlers(),s!=null?(this.Logger.debug("Submiting using element: "+s.name+": "+s.id),s.click()):(this.Logger.debug("Submiting using form"),t.submit())}calculateRelevanceScore(t,n,s,i,r,o,a){let l=0,c=!1;l+=t.matchAccuracy,r||(l-=20);const f=.501,[u,d]=this.determineRelevanceScores("other",s,t.fields.filter(m=>m.type!=="password"),i,o,a.other),[y,A]=this.determineRelevanceScores("password",n,t.fields.filter(m=>m.type==="password"),i,o,a.password),C=u+y,F=n.concat(s).filter(m=>m.field.locators[0].id||m.field.locators[0].name||m.field.value).length,v=t.fields.filter(m=>m.locators[0].id||m.locators[0].name||m.value).length,g=n.concat(s).filter(m=>(m.field.type==="password"||m.field.type==="text")&&(m.field.locators[0].id||m.field.locators[0].name)).length,E=t.fields.filter(m=>(m.type==="password"||m.type==="text")&&(m.locators[0].id||m.locators[0].name||m.value)).length,x=d.filter(m=>m===!0).length+A.filter(m=>m===!0).length,O=n.filter(m=>{var _;return(_=m.field.locators[0].autocompleteValues)==null?void 0:_.some(b=>b==="new-password")}).length,D=Math.min(E+O,x)/Math.max(1,g);this.Logger.debug("formFieldCount: "+F+", loginFieldCount: "+v+", loginFieldCountForAutofill: "+E+", formFieldCountForAutofill: "+g+", formMatchedFieldCountForAutofill: "+x+", numberOfNewPasswordFields: "+O+", fieldMatchRatio: "+D),D<f&&(this.Logger.info(t.uuid+" will be forced to not auto-fill because the form field match ratio ("+D+") is not high enough."),c=!0);const w=C/Math.max(F,v)/(Math.abs(F-v)+1);return l+=w,this.Logger.info("Relevance for "+t.uuid+" is: "+l),{score:l,lowFieldMatchRatio:c}}determineRelevanceScores(t,n,s,i,r,o){var f;let a=0;const l=1,c=[];for(let u=0;u<n.length;u++){let d=0;const y=n[u].field;(f=y.locators[0].autocompleteValues)!=null&&f.some(A=>A==="new-password")&&(c[u]=!0);for(let A=0;A<s.length;A++){const C=this.calculateFieldMatchScore(n[u],s[A],i,r,o[u]);this.Logger.debug("Suitability of putting "+t+" field "+A+" into form field "+u+" (id: "+y.locators[0].id+") is "+C),C>d&&(d=C);const F=C-(o[u]?0:10);(y.type==="text"||y.type==="password")&&F>=l&&s[A].value&&!c[u]&&(c[u]=!0),(n[u].highestScore==null||C>n[u].highestScore)&&(n[u].highestScore=C)}a+=d}return[a,c]}removeKeeIconFromAllFields(){this.keeFieldIcon.removeKeeIconFromAllFields()}}class vm{}class Am{constructor(t){this.findLoginOps=[],this.matchResults=[],this.Logger=t}countAllDocuments(t){if(!this.isUriWeCanFill(t.location))return 0;let n=1;if(t.frames.length>0){const s=t.frames;for(let i=0;i<s.length;i++)n+=this.countAllDocuments(s[i])}return n}isUriWeCanFill(t){return t.protocol=="http:"||t.protocol=="https:"||t.protocol=="file:"}isATextFormFieldType(t){return!(t=="checkbox"||t=="select-one"||t=="radio"||t=="password"||t=="hidden"||t=="submit"||t=="button"||t=="file"||t=="image"||t=="reset")}isAKnownUsernameString(t){const n=t.toLowerCase();return n=="username"||n=="j_username"||n=="user_name"||n=="user"||n=="user-name"||n=="login"||n=="vb_login_username"||n=="name"||n=="user name"||n=="user id"||n=="user-id"||n=="userid"||n=="email"||n=="e-mail"||n=="id"||n=="form_loginname"||n=="wpname"||n=="mail"||n=="loginid"||n=="login id"||n=="login_name"||n=="openid_identifier"||n=="authentication_email"||n=="openid"||n=="auth_email"||n=="auth_id"||n=="authentication_identifier"||n=="authentication_id"||n=="customer_number"||n=="customernumber"||n=="onlineid"}getFormFields(t,n,s){var A;const i=[],r=[],o=[];let a=-1,l=-1,c=-1;const f=t.elements.length,u=f<2e3?f:2e3;for(let C=0;C<u;C++){if(o.length>s)throw new Error("Too many fields");if(t.elements[C].localName.toLowerCase()=="object"||t.elements[C].localName.toLowerCase()=="keygen"||t.elements[C].localName.toLowerCase()=="output"||t.elements[C].localName.toLowerCase()!="input"&&(t.elements[C].type==null||t.elements[C].type==null))continue;const F=t.elements[C].type.toLowerCase();if(F=="fieldset"||F!="password"&&!this.isATextFormFieldType(F)&&F!="checkbox"&&F!="radio"&&F!="select-one"||F=="radio"&&n&&t.elements[C].checked==!1||F=="password"&&n&&!t.elements[C].value||F=="select-one"&&n&&!t.elements[C].value)continue;this.Logger.debug(`processing field with domtype ${F}...`),o[o.length]={index:C,element:new vm,type:F};let v=t.elements[C].value;F=="checkbox"&&(t.elements[C].checked?v="KEEFOX_CHECKED_FLAG_TRUE":v="KEEFOX_CHECKED_FLAG_FALSE");const g=Ge.fromDOM(t.elements[C],F,v);o[o.length-1].element.field=g,o[o.length-1].element.DOMelement=t.elements[C],F=="password"&&a==-1&&(a=o.length-1),this.isATextFormFieldType(F)&&l==-1&&(this.isAKnownUsernameString(t.elements[C].name)||(A=g.locators[0].labels)!=null&&A.some(E=>this.isAKnownUsernameString(E)))&&(l=o.length-1),t.elements[C].keeInitialDetectedValue==null&&(t.elements[C].keeInitialDetectedValue=v)}l!=-1?c=l:a>0&&(c=a-1),this.Logger.debug("usernameIndex: "+c);let d=0,y=0;for(let C=0;C<o.length;C++)o[C].type=="password"?i[i.length]=o[C].element:(this.isATextFormFieldType(o[C].type)||o[C].type=="checkbox"||o[C].type=="radio"||o[C].type=="select-one")&&(r[r.length]=o[C].element,C==c?y=d:d++);return this.Logger.debug("actualUsernameIndex: "+y),this.Logger.debug("otherFields.length:"+r.length),{actualUsernameIndex:y,pwFields:i,otherFields:r}}isDOMElementVisible(t){return!(!t.offsetParent&&t.offsetHeight===0&&t.offsetWidth===0)}}class Cm{constructor(t,n,s){this.myPort=t,this.SubmitHandlerAttachments=[],this.Logger=n,this.formUtils=s}addSubmitHandler(t,n){const s=i=>this.submitHandler(i,n);this.SubmitHandlerAttachments.push({target:t,form:n,handler:s}),t&&t.addEventListener("click",s),n.addEventListener("submit",s)}removeAllSubmitHandlers(){this.SubmitHandlerAttachments.forEach(t=>{t.target&&t.target.removeEventListener("click",t.handler),t.form.removeEventListener("submit",t.handler)}),this.SubmitHandlerAttachments=[]}updateMatchResult(t){this.matchResult=t}submitHandler(t,n){this.Logger.debug("submitHandler called"),this.removeAllSubmitHandlers();const s=n.ownerDocument,i=new URL(s.URL);if(i.hostname=punycode.toUnicode(i.hostname),Qe.siteConfigFor(i.href).preventSaveNotification)return;let o=!1,a=!1;const l=[];let c;try{c=this.formUtils.getFormFields(n,!0,50)}catch(v){this.Logger.warn("Lost interest in this form after finding too many fields"+v);return}const f=c.actualUsernameIndex,u=c.pwFields,d=c.otherFields;if(u.length>1){let v=-1;for(let g=0;g<u.length&&v==-1;g++)for(let E=g+1;E<u.length&&v==-1;E++)u[E].field.value==u[g].field.value&&(v=E);if(v==-1){this.Logger.debug("multiple passwords found (with no identical values)");for(let g=0;g<u.length;g++)l.push(u[g])}else this.Logger.debug("Looks like a password change form or new registration form has been submitted"),u.length==2?(l.push(u[0]),o=!1,a=!0):(o=!1,a=!1,l.push(u[v]))}else u!=null&&u[0]!=null&&u[0]!=null&&l.push(u[0]);const y=this.removeEmptyFields(l),A=this.removeEmptyFields(d),C=!this.matchResult||!this.matchResult.lastFilledPasswords||this.hasFieldBeenModified(y,this.matchResult.lastFilledPasswords),F=!this.matchResult||!this.matchResult.lastFilledOther||this.hasFieldBeenModified(A,this.matchResult.lastFilledOther);if(C||F){const v={url:i.href,fields:Ge.combineDomFieldLists(f,A.map(g=>g.field),y.map(g=>g.field)),title:s.title||i.hostname,isPasswordChangeForm:o,isRegistrationForm:a};this.myPort.postMessage({submittedData:v})}}removeEmptyFields(t){return t.filter(n=>n.field.value||n.field.type==="boolean")}hasFieldBeenModified(t,n){return!!n.find(s=>{const i=t.find(r=>s.DOMelement==r.DOMelement);return!i||i.field.value!=s.value})}}const hu=Cn.GeneratePassword;class Em{constructor(t){this.parentFrameId=t}createGeneratePasswordPanel(){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Os(hu,null,this.parentFrameId),this.generatePasswordPanelStub.createPanel()}createGeneratePasswordPanelNearNode(t){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Os(hu,t,this.parentFrameId),this.generatePasswordPanelStub.createPanel(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}closeGeneratePasswordPanel(){this.generatePasswordPanelStub&&this.generatePasswordPanelStub.closePanel(),this.generatePasswordPanelStub=null,cancelAnimationFrame(this.generatePasswordPanelStubRaf)}updateGeneratePasswordPanelPosition(){this.generatePasswordPanelStub.updateBoundingClientRect(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}}class xm{constructor(t){this.store=t,this.receivedMutations=[],this.initialized=!1,this.pendingMutations=[],this.store.$subscribe(n=>{if(n.type==st.patchObject)this.hookMutation(n);else throw new Error("Pinia generated a non-object mutation. We don't think we can support this and need to know that it is possible for it to happen! Tell us now or weird things will happen.")})}init(t,n,s){this.sendMutation=n,this.store.$patch(t),this.initialized=!0,this.processPendingMutations(),s&&s()}reset(t){this.store.$patch(t)}onRemoteMutation(t){this.initialized&&(this.receivedMutations.push(t),this.store.$patch(t.payload))}hookMutation(t){if(!this.initialized)return this.pendingMutations.push(t);if(!this.receivedMutations.length)return this.sendMutation(t);for(let n=this.receivedMutations.length-1;n>=0;n--)if(this.receivedMutations[n]==t.payload){this.receivedMutations.splice(n,1);break}else n==0&&this.sendMutation(t)}processPendingMutations(){if(this.pendingMutations.length)for(let t=0;t<this.pendingMutations.length;t++)this.sendMutation(this.pendingMutations[t]),this.pendingMutations.splice(t,1)}}class Sm{constructor(){this.mixin={methods:{postMessage:t=>{this.port.postMessage(t)}}}}postMessage(t){this.port.postMessage(t)}startup(t){this.port=Tt.runtime.connect({name:t})}shutdown(){this.port=null}get raw(){return this.port}}const je=new Sm;var Ls;Ls?ye&&ye.error?ye.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ls):console.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ls):Ls=0,Ls+=1;let ji,ve,Ns,Bi,Hi,Ki,Po=!1,gu,mu=!1,pu=!1,bu,Ro;Oi(ri).use(gm());const Tn=fu();if(document.body){let e=function(r){je.postMessage({findMatches:{uri:r}})},t=function(){if(window.location.hostname.endsWith("tutorial-addon.kee.pm")){const r=document.createElement("KeeFoxAddonStateTransferElement");r.setAttribute("state",JSON.stringify({connected:Tn.connected,version:Tt.runtime.getManifest().version,dbLoaded:Tn.KeePassDatabases.length>0,sessionNames:Tn.KeePassDatabases.map(a=>a.sessionType.toString()).filter((a,l,c)=>c.indexOf(a)===l)})),document.documentElement.appendChild(r);const o=new Event("KeeFoxAddonStateTransferEvent",{bubbles:!0,cancelable:!1});r.dispatchEvent(o)}},n=function(r){Hi=r,ye.attachConfig(Qe.current),ji=new Am(ye),Ns=new Cm(je.raw,ye,ji),ve=new _m(je.raw,Hi,ji,Ns,ye,Qe.current,e),Bi=new Em(Hi),Ro.observe(document.body,{childList:!0,subtree:!0}),t()},s=function(){ye.debug("content page starting");try{i(),je.raw==null&&ye.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){ye.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}gu=window.setInterval(()=>{if(je.raw==null){ye.info("Messaging port was not established at page startup. Retrying now...");try{i(),je.raw==null&&ye.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){ye.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}}else clearInterval(gu)},5e3),ye.debug("content page ready")},i=function(){if(je.raw){ye.warn("port already set to '"+je.raw.name+"'. Skipping startup because it should already be underway but is taking a long time.");return}Ki=new xm(Tn),je.startup("page"),je.raw.onMessage.addListener(function(r){if(ye.debug("In browser content page script, received message from background script"),r.initialState&&Ki.init(r.initialState,o=>{je.postMessage({mutation:o})}),r.mutation){Ki.onRemoteMutation(r.mutation);return}Po?r.action==bt.DetectForms&&(r.resetState&&Ki.reset(r.resetState),ve.removeKeeIconFromAllFields(),Ns.removeAllSubmitHandlers(),Tn.entryUpdateStartedAtTimestamp>=Date.now()-2e4?ve.findMatchesInThisFrame({autofillOnSuccess:!1,autosubmitOnSuccess:!1}):ve.findMatchesInThisFrame()):(n(r.frameId),ve.findMatchesInThisFrame(),Po=!0),r.findMatchesResult&&ve.findLoginsResultHandler(r.findMatchesResult),r.action==bt.ManualFill&&r.selectedEntryIndex!=null&&(ve.closeMatchedLoginsPanel(),ve.fillAndSubmit(!1,null,r.selectedEntryIndex)),r.action==bt.ResetForms&&(ve.removeKeeIconFromAllFields(),Ns.removeAllSubmitHandlers()),r.action==bt.Primary&&ve.executePrimaryAction(),r.action==bt.GeneratePassword&&Bi.createGeneratePasswordPanel(),r.action==bt.CloseAllPanels&&(Bi.closeGeneratePasswordPanel(),ve.closeMatchedLoginsPanel()),r.action==bt.ShowMatchedLoginsPanel&&ve.createMatchedLoginsPanelInCenter(r.frameId)})};Ro=new MutationObserver(r=>{if(ve.formFinderTimer!==null||!Tn.connected||Tn.ActiveKeePassDatabaseIndex<0)return;let o=!1;const a=["form","input","select"];r.forEach(l=>{if(!o&&l.type==="childList"&&l.addedNodes.length>0)for(const c of l.addedNodes){if(o)break;for(let f=0;f<a.length;f++){const u=c;if(u.querySelector&&u.querySelector(a[f])){o=!0;break}}}}),o&&(ve.formFinderTimer=window.setTimeout(ve.findMatchesInThisFrame.bind(ve),500))}),window.addEventListener("pageshow",()=>{mu=!0,clearTimeout(bu),pu&&s()}),window.addEventListener("pagehide",()=>{Ro.disconnect(),je.raw&&je.postMessage({action:bt.PageHide}),ve.removeKeeIconFromAllFields(),je.shutdown(),Po=!1,Hi=void 0,ji=void 0,Ns=void 0,ve=void 0,Bi=void 0}),Qe.load(()=>{pu=!0,mu?s():bu=window.setTimeout(s,1500)})}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZ2xvYmFsLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9jb21wYXQvZGlzdC92dWUucnVudGltZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWJleHRlbnNpb24tcG9seWZpbGwvZGlzdC9icm93c2VyLXBvbHlmaWxsLmpzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9jb25maWcudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL0RlZmF1bHRTaXRlQ29uZmlnLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9Db25maWdNaWdyYXRpb25zLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi91dGlscy50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vTG9nZ2VyLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9Db25maWdNYW5hZ2VyLnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvUGFuZWxTdHViLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9BY3Rpb24udHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9rZWVGaWVsZEljb24udHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9NYXRjaFJlc3VsdC50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvU2Vzc2lvblR5cGUudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0VudHJ5U3VtbWFyeS50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvR3JvdXAudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0RhdGFiYXNlLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9tb2RlbC9Mb2NhdG9yLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9tb2RlbC9LUFJQQ0RUT3MudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0ZpZWxkLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9tb2RlbC9Hcm91cFN1bW1hcnkudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0VudHJ5LnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1kZW1pL2xpYi9pbmRleC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9kZXZ0b29scy1hcGkvbGliL2VzbS9lbnYuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9kZXZ0b29scy1hcGkvbGliL2VzbS9jb25zdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL3RpbWUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9kZXZ0b29scy1hcGkvbGliL2VzbS9wcm94eS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BpbmlhL2Rpc3QvcGluaWEubWpzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9TYXZlU3RhdGUudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvS2VlU3RhdGUudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL1Nlc3Npb25UeXBlLnRzIiwiLi4vLi4vLi4vc3JjL3N0b3JlL2luZGV4LnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvZm9ybUZpbGxpbmcudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9NYXRjaGVkRmllbGQudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9mb3Jtc1V0aWxzLnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvZm9ybVNhdmluZy50cyIsIi4uLy4uLy4uL3NyYy9wYWdlL1Bhc3N3b3JkR2VuZXJhdG9yLnRzIiwiLi4vLi4vLi4vc3JjL3N0b3JlL3N5bmNDb250ZW50LnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9wb3J0LnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvcGFnZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxuICogaXMgaW4gdGhhdCBtYXAuXG4gKiBJTVBPUlRBTlQ6IGFsbCBjYWxscyBvZiB0aGlzIGZ1bmN0aW9uIG11c3QgYmUgcHJlZml4ZWQgd2l0aFxuICogXFwvXFwqI1xcX1xcX1BVUkVcXF9cXF9cXCpcXC9cbiAqIFNvIHRoYXQgcm9sbHVwIGNhbiB0cmVlLXNoYWtlIHRoZW0gaWYgbmVjZXNzYXJ5LlxuICovXG5mdW5jdGlvbiBtYWtlTWFwKHN0ciwgZXhwZWN0c0xvd2VyQ2FzZSkge1xuICAgIGNvbnN0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgY29uc3QgbGlzdCA9IHN0ci5zcGxpdCgnLCcpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZSA/IHZhbCA9PiAhIW1hcFt2YWwudG9Mb3dlckNhc2UoKV0gOiB2YWwgPT4gISFtYXBbdmFsXTtcbn1cblxuY29uc3QgR0xPQkFMU19XSElURV9MSVNURUQgPSAnSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTixwYXJzZUZsb2F0LHBhcnNlSW50LGRlY29kZVVSSSwnICtcbiAgICAnZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSwnICtcbiAgICAnT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCxCaWdJbnQnO1xuY29uc3QgaXNHbG9iYWxseVdoaXRlbGlzdGVkID0gLyojX19QVVJFX18qLyBtYWtlTWFwKEdMT0JBTFNfV0hJVEVfTElTVEVEKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGUodmFsdWUpIHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgcmVzID0ge307XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB2YWx1ZVtpXTtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBpc1N0cmluZyhpdGVtKVxuICAgICAgICAgICAgICAgID8gcGFyc2VTdHJpbmdTdHlsZShpdGVtKVxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplU3R5bGUoaXRlbSk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuY29uc3QgbGlzdERlbGltaXRlclJFID0gLzsoPyFbXihdKlxcKSkvZztcbmNvbnN0IHByb3BlcnR5RGVsaW1pdGVyUkUgPSAvOihbXl0rKS87XG5jb25zdCBzdHlsZUNvbW1lbnRSRSA9IC9cXC9cXCouKj9cXCpcXC8vZ3M7XG5mdW5jdGlvbiBwYXJzZVN0cmluZ1N0eWxlKGNzc1RleHQpIHtcbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBjc3NUZXh0XG4gICAgICAgIC5yZXBsYWNlKHN0eWxlQ29tbWVudFJFLCAnJylcbiAgICAgICAgLnNwbGl0KGxpc3REZWxpbWl0ZXJSRSlcbiAgICAgICAgLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICBjb25zdCB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyUkUpO1xuICAgICAgICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJldFt0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzKHZhbHVlKSB7XG4gICAgbGV0IHJlcyA9ICcnO1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgcmVzID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVDbGFzcyh2YWx1ZVtpXSk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgIHJlcyArPSBub3JtYWxpemVkICsgJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVtuYW1lXSkge1xuICAgICAgICAgICAgICAgIHJlcyArPSBuYW1lICsgJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXMudHJpbSgpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHMocHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgeyBjbGFzczoga2xhc3MsIHN0eWxlIH0gPSBwcm9wcztcbiAgICBpZiAoa2xhc3MgJiYgIWlzU3RyaW5nKGtsYXNzKSkge1xuICAgICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgICB9XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIHByb3BzLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoc3R5bGUpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHM7XG59XG5cbi8vIFRoZXNlIHRhZyBjb25maWdzIGFyZSBzaGFyZWQgYmV0d2VlbiBjb21waWxlci1kb20gYW5kIHJ1bnRpbWUtZG9tLCBzbyB0aGV5XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnRcbmNvbnN0IEhUTUxfVEFHUyA9ICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLCcgK1xuICAgICdoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sJyArXG4gICAgJ2ZpZ3VyZSxwaWN0dXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLGEsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLCcgK1xuICAgICdkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnVieSxzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCwnICtcbiAgICAndGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSwnICtcbiAgICAnY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLCcgK1xuICAgICd0aCx0cixidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsJyArXG4gICAgJ29wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsJyArXG4gICAgJ3N1bW1hcnksdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QnO1xuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0VsZW1lbnRcbmNvbnN0IFNWR19UQUdTID0gJ3N2ZyxhbmltYXRlLGFuaW1hdGVNb3Rpb24sYW5pbWF0ZVRyYW5zZm9ybSxjaXJjbGUsY2xpcFBhdGgsY29sb3ItcHJvZmlsZSwnICtcbiAgICAnZGVmcyxkZXNjLGRpc2NhcmQsZWxsaXBzZSxmZUJsZW5kLGZlQ29sb3JNYXRyaXgsZmVDb21wb25lbnRUcmFuc2ZlciwnICtcbiAgICAnZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCwnICtcbiAgICAnZmVEaXN0YW5jZUxpZ2h0LGZlRHJvcFNoYWRvdyxmZUZsb29kLGZlRnVuY0EsZmVGdW5jQixmZUZ1bmNHLGZlRnVuY1IsJyArXG4gICAgJ2ZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsJyArXG4gICAgJ2ZlUG9pbnRMaWdodCxmZVNwZWN1bGFyTGlnaHRpbmcsZmVTcG90TGlnaHQsZmVUaWxlLGZlVHVyYnVsZW5jZSxmaWx0ZXIsJyArXG4gICAgJ2ZvcmVpZ25PYmplY3QsZyxoYXRjaCxoYXRjaHBhdGgsaW1hZ2UsbGluZSxsaW5lYXJHcmFkaWVudCxtYXJrZXIsbWFzaywnICtcbiAgICAnbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLCcgK1xuICAgICdwb2x5Z29uLHBvbHlsaW5lLHJhZGlhbEdyYWRpZW50LHJlY3Qsc2V0LHNvbGlkY29sb3Isc3RvcCxzd2l0Y2gsc3ltYm9sLCcgK1xuICAgICd0ZXh0LHRleHRQYXRoLHRpdGxlLHRzcGFuLHVua25vd24sdXNlLHZpZXcnO1xuLyoqXG4gKiBDb21waWxlciBvbmx5LlxuICogRG8gTk9UIHVzZSBpbiBydW50aW1lIGNvZGUgcGF0aHMgdW5sZXNzIGJlaGluZCBgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpYCBmbGFnLlxuICovXG5jb25zdCBpc0hUTUxUYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoSFRNTF9UQUdTKTtcbi8qKlxuICogQ29tcGlsZXIgb25seS5cbiAqIERvIE5PVCB1c2UgaW4gcnVudGltZSBjb2RlIHBhdGhzIHVubGVzcyBiZWhpbmQgYChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKWAgZmxhZy5cbiAqL1xuY29uc3QgaXNTVkdUYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoU1ZHX1RBR1MpO1xuXG4vKipcbiAqIE9uIHRoZSBjbGllbnQgd2Ugb25seSBuZWVkIHRvIG9mZmVyIHNwZWNpYWwgY2FzZXMgZm9yIGJvb2xlYW4gYXR0cmlidXRlcyB0aGF0XG4gKiBoYXZlIGRpZmZlcmVudCBuYW1lcyBmcm9tIHRoZWlyIGNvcnJlc3BvbmRpbmcgZG9tIHByb3BlcnRpZXM6XG4gKiAtIGl0ZW1zY29wZSAtPiBOL0FcbiAqIC0gYWxsb3dmdWxsc2NyZWVuIC0+IGFsbG93RnVsbHNjcmVlblxuICogLSBmb3Jtbm92YWxpZGF0ZSAtPiBmb3JtTm9WYWxpZGF0ZVxuICogLSBpc21hcCAtPiBpc01hcFxuICogLSBub21vZHVsZSAtPiBub01vZHVsZVxuICogLSBub3ZhbGlkYXRlIC0+IG5vVmFsaWRhdGVcbiAqIC0gcmVhZG9ubHkgLT4gcmVhZE9ubHlcbiAqL1xuY29uc3Qgc3BlY2lhbEJvb2xlYW5BdHRycyA9IGBpdGVtc2NvcGUsYWxsb3dmdWxsc2NyZWVuLGZvcm1ub3ZhbGlkYXRlLGlzbWFwLG5vbW9kdWxlLG5vdmFsaWRhdGUscmVhZG9ubHlgO1xuY29uc3QgaXNTcGVjaWFsQm9vbGVhbkF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyk7XG4vKipcbiAqIEJvb2xlYW4gYXR0cmlidXRlcyBzaG91bGQgYmUgaW5jbHVkZWQgaWYgdGhlIHZhbHVlIGlzIHRydXRoeSBvciAnJy5cbiAqIGUuZy4gYDxzZWxlY3QgbXVsdGlwbGU+YCBjb21waWxlcyB0byBgeyBtdWx0aXBsZTogJycgfWBcbiAqL1xuZnVuY3Rpb24gaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgfHwgdmFsdWUgPT09ICcnO1xufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgZXF1YWwgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBlcXVhbCAmJiBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBlcXVhbCA9IGxvb3NlRXF1YWwoYVtpXSwgYltpXSk7XG4gICAgfVxuICAgIHJldHVybiBlcXVhbDtcbn1cbmZ1bmN0aW9uIGxvb3NlRXF1YWwoYSwgYikge1xuICAgIGlmIChhID09PSBiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcbiAgICBsZXQgYlZhbGlkVHlwZSA9IGlzRGF0ZShiKTtcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCkgOiBmYWxzZTtcbiAgICB9XG4gICAgYVZhbGlkVHlwZSA9IGlzU3ltYm9sKGEpO1xuICAgIGJWYWxpZFR5cGUgPSBpc1N5bWJvbChiKTtcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgICAgIHJldHVybiBhID09PSBiO1xuICAgIH1cbiAgICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcbiAgICBiVmFsaWRUeXBlID0gaXNBcnJheShiKTtcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgICAgIHJldHVybiBhVmFsaWRUeXBlICYmIGJWYWxpZFR5cGUgPyBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikgOiBmYWxzZTtcbiAgICB9XG4gICAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xuICAgIGJWYWxpZFR5cGUgPSBpc09iamVjdChiKTtcbiAgICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZjogdGhpcyBpZiB3aWxsIHByb2JhYmx5IG5ldmVyIGJlIGNhbGxlZCAqL1xuICAgICAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYSkubGVuZ3RoO1xuICAgICAgICBjb25zdCBiS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYikubGVuZ3RoO1xuICAgICAgICBpZiAoYUtleXNDb3VudCAhPT0gYktleXNDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICAgICAgICBjb25zdCBiSGFzS2V5ID0gYi5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgICAgICAgaWYgKChhSGFzS2V5ICYmICFiSGFzS2V5KSB8fFxuICAgICAgICAgICAgICAgICghYUhhc0tleSAmJiBiSGFzS2V5KSB8fFxuICAgICAgICAgICAgICAgICFsb29zZUVxdWFsKGFba2V5XSwgYltrZXldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XG59XG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcbiAgICByZXR1cm4gYXJyLmZpbmRJbmRleChpdGVtID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XG59XG5cbi8qKlxuICogRm9yIGNvbnZlcnRpbmcge3sgaW50ZXJwb2xhdGlvbiB9fSB2YWx1ZXMgdG8gZGlzcGxheWVkIHN0cmluZ3MuXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKHZhbClcbiAgICAgICAgPyB2YWxcbiAgICAgICAgOiB2YWwgPT0gbnVsbFxuICAgICAgICAgICAgPyAnJ1xuICAgICAgICAgICAgOiBpc0FycmF5KHZhbCkgfHxcbiAgICAgICAgICAgICAgICAoaXNPYmplY3QodmFsKSAmJlxuICAgICAgICAgICAgICAgICAgICAodmFsLnRvU3RyaW5nID09PSBvYmplY3RUb1N0cmluZyB8fCAhaXNGdW5jdGlvbih2YWwudG9TdHJpbmcpKSlcbiAgICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgcmVwbGFjZXIsIDIpXG4gICAgICAgICAgICAgICAgOiBTdHJpbmcodmFsKTtcbn07XG5jb25zdCByZXBsYWNlciA9IChfa2V5LCB2YWwpID0+IHtcbiAgICAvLyBjYW4ndCB1c2UgaXNSZWYgaGVyZSBzaW5jZSBAdnVlL3NoYXJlZCBoYXMgbm8gZGVwc1xuICAgIGlmICh2YWwgJiYgdmFsLl9fdl9pc1JlZikge1xuICAgICAgICByZXR1cm4gcmVwbGFjZXIoX2tleSwgdmFsLnZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNNYXAodmFsKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2BNYXAoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwuZW50cmllcygpXS5yZWR1Y2UoKGVudHJpZXMsIFtrZXksIHZhbF0pID0+IHtcbiAgICAgICAgICAgICAgICBlbnRyaWVzW2Ake2tleX0gPT5gXSA9IHZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cmllcztcbiAgICAgICAgICAgIH0sIHt9KVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NldCh2YWwpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbYFNldCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC52YWx1ZXMoKV1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsKSAmJiAhaXNBcnJheSh2YWwpICYmICFpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyh2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufTtcblxuY29uc3QgRU1QVFlfT0JKID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgPyBPYmplY3QuZnJlZXplKHt9KVxuICAgIDoge307XG5jb25zdCBFTVBUWV9BUlIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBPYmplY3QuZnJlZXplKFtdKSA6IFtdO1xuY29uc3QgTk9PUCA9ICgpID0+IHsgfTtcbi8qKlxuICogQWx3YXlzIHJldHVybiBmYWxzZS5cbiAqL1xuY29uc3QgTk8gPSAoKSA9PiBmYWxzZTtcbmNvbnN0IG9uUkUgPSAvXm9uW15hLXpdLztcbmNvbnN0IGlzT24gPSAoa2V5KSA9PiBvblJFLnRlc3Qoa2V5KTtcbmNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IChrZXkpID0+IGtleS5zdGFydHNXaXRoKCdvblVwZGF0ZTonKTtcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5jb25zdCByZW1vdmUgPSAoYXJyLCBlbCkgPT4ge1xuICAgIGNvbnN0IGkgPSBhcnIuaW5kZXhPZihlbCk7XG4gICAgaWYgKGkgPiAtMSkge1xuICAgICAgICBhcnIuc3BsaWNlKGksIDEpO1xuICAgIH1cbn07XG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5jb25zdCBoYXNPd24gPSAodmFsLCBrZXkpID0+IGhhc093blByb3BlcnR5LmNhbGwodmFsLCBrZXkpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc01hcCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBNYXBdJztcbmNvbnN0IGlzU2V0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IFNldF0nO1xuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nO1xuY29uc3QgaXNTdHJpbmcgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N5bWJvbCc7XG5jb25zdCBpc09iamVjdCA9ICh2YWwpID0+IHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JztcbmNvbnN0IGlzUHJvbWlzZSA9ICh2YWwpID0+IHtcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XG59O1xuY29uc3Qgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbmNvbnN0IHRvUmF3VHlwZSA9ICh2YWx1ZSkgPT4ge1xuICAgIC8vIGV4dHJhY3QgXCJSYXdUeXBlXCIgZnJvbSBzdHJpbmdzIGxpa2UgXCJbb2JqZWN0IFJhd1R5cGVdXCJcbiAgICByZXR1cm4gdG9UeXBlU3RyaW5nKHZhbHVlKS5zbGljZSg4LCAtMSk7XG59O1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJztcbmNvbnN0IGlzSW50ZWdlcktleSA9IChrZXkpID0+IGlzU3RyaW5nKGtleSkgJiZcbiAgICBrZXkgIT09ICdOYU4nICYmXG4gICAga2V5WzBdICE9PSAnLScgJiZcbiAgICAnJyArIHBhcnNlSW50KGtleSwgMTApID09PSBrZXk7XG5jb25zdCBpc1Jlc2VydmVkUHJvcCA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChcbi8vIHRoZSBsZWFkaW5nIGNvbW1hIGlzIGludGVudGlvbmFsIHNvIGVtcHR5IHN0cmluZyBcIlwiIGlzIGFsc28gaW5jbHVkZWRcbicsa2V5LHJlZixyZWZfZm9yLHJlZl9rZXksJyArXG4gICAgJ29uVm5vZGVCZWZvcmVNb3VudCxvblZub2RlTW91bnRlZCwnICtcbiAgICAnb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCwnICtcbiAgICAnb25Wbm9kZUJlZm9yZVVubW91bnQsb25Wbm9kZVVubW91bnRlZCcpO1xuY29uc3QgaXNCdWlsdEluRGlyZWN0aXZlID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCxtZW1vJyk7XG5jb25zdCBjYWNoZVN0cmluZ0Z1bmN0aW9uID0gKGZuKSA9PiB7XG4gICAgY29uc3QgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHJldHVybiAoKHN0cikgPT4ge1xuICAgICAgICBjb25zdCBoaXQgPSBjYWNoZVtzdHJdO1xuICAgICAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gICAgfSk7XG59O1xuY29uc3QgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgKF8sIGMpID0+IChjID8gYy50b1VwcGVyQ2FzZSgpIDogJycpKTtcbn0pO1xuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBoeXBoZW5hdGUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHN0ci5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnLSQxJykudG9Mb3dlckNhc2UoKSk7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IGNhcGl0YWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKSk7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgKTtcbi8vIGNvbXBhcmUgd2hldGhlciBhIHZhbHVlIGhhcyBjaGFuZ2VkLCBhY2NvdW50aW5nIGZvciBOYU4uXG5jb25zdCBoYXNDaGFuZ2VkID0gKHZhbHVlLCBvbGRWYWx1ZSkgPT4gIU9iamVjdC5pcyh2YWx1ZSwgb2xkVmFsdWUpO1xuY29uc3QgaW52b2tlQXJyYXlGbnMgPSAoZm5zLCBhcmcpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmbnNbaV0oYXJnKTtcbiAgICB9XG59O1xuY29uc3QgZGVmID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZVxuICAgIH0pO1xufTtcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICAgIGNvbnN0IG4gPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgcmV0dXJuIGlzTmFOKG4pID8gdmFsIDogbjtcbn07XG5sZXQgX2dsb2JhbFRoaXM7XG5jb25zdCBnZXRHbG9iYWxUaGlzID0gKCkgPT4ge1xuICAgIHJldHVybiAoX2dsb2JhbFRoaXMgfHxcbiAgICAgICAgKF9nbG9iYWxUaGlzID1cbiAgICAgICAgICAgIHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpc1xuICAgICAgICAgICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgID8gc2VsZlxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHdpbmRvd1xuICAgICAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2xvYmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSkpO1xufTtcblxuZnVuY3Rpb24gd2Fybihtc2csIC4uLmFyZ3MpIHtcbiAgICBjb25zb2xlLndhcm4oYFtWdWUgd2Fybl0gJHttc2d9YCwgLi4uYXJncyk7XG59XG5cbmxldCBhY3RpdmVFZmZlY3RTY29wZTtcbmNsYXNzIEVmZmVjdFNjb3BlIHtcbiAgICBjb25zdHJ1Y3RvcihkZXRhY2hlZCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZGV0YWNoZWQgPSBkZXRhY2hlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVmZmVjdHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhbnVwcyA9IFtdO1xuICAgICAgICB0aGlzLnBhcmVudCA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xuICAgICAgICBpZiAoIWRldGFjaGVkICYmIGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4ID1cbiAgICAgICAgICAgICAgICAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzIHx8IChhY3RpdmVFZmZlY3RTY29wZS5zY29wZXMgPSBbXSkpLnB1c2godGhpcykgLSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJ1bihmbikge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRFZmZlY3RTY29wZSA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IGN1cnJlbnRFZmZlY3RTY29wZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4oYGNhbm5vdCBydW4gYW4gaW5hY3RpdmUgZWZmZWN0IHNjb3BlLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBvbigpIHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgb2ZmKCkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXMucGFyZW50O1xuICAgIH1cbiAgICBzdG9wKGZyb21QYXJlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBsZXQgaSwgbDtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLmVmZmVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lZmZlY3RzW2ldLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLmNsZWFudXBzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW51cHNbaV0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3Blcykge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29wZXNbaV0uc3RvcCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBuZXN0ZWQgc2NvcGUsIGRlcmVmZXJlbmNlIGZyb20gcGFyZW50IHRvIGF2b2lkIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRldGFjaGVkICYmIHRoaXMucGFyZW50ICYmICFmcm9tUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gb3B0aW1pemVkIE8oMSkgcmVtb3ZhbFxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBhcmVudC5zY29wZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QgJiYgbGFzdCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF0gPSBsYXN0O1xuICAgICAgICAgICAgICAgICAgICBsYXN0LmluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBlZmZlY3RTY29wZShkZXRhY2hlZCkge1xuICAgIHJldHVybiBuZXcgRWZmZWN0U2NvcGUoZGV0YWNoZWQpO1xufVxuZnVuY3Rpb24gcmVjb3JkRWZmZWN0U2NvcGUoZWZmZWN0LCBzY29wZSA9IGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgaWYgKHNjb3BlICYmIHNjb3BlLmFjdGl2ZSkge1xuICAgICAgICBzY29wZS5lZmZlY3RzLnB1c2goZWZmZWN0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50U2NvcGUoKSB7XG4gICAgcmV0dXJuIGFjdGl2ZUVmZmVjdFNjb3BlO1xufVxuZnVuY3Rpb24gb25TY29wZURpc3Bvc2UoZm4pIHtcbiAgICBpZiAoYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUuY2xlYW51cHMucHVzaChmbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuKGBvblNjb3BlRGlzcG9zZSgpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBlZmZlY3Qgc2NvcGVgICtcbiAgICAgICAgICAgIGAgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmApO1xuICAgIH1cbn1cblxuY29uc3QgY3JlYXRlRGVwID0gKGVmZmVjdHMpID0+IHtcbiAgICBjb25zdCBkZXAgPSBuZXcgU2V0KGVmZmVjdHMpO1xuICAgIGRlcC53ID0gMDtcbiAgICBkZXAubiA9IDA7XG4gICAgcmV0dXJuIGRlcDtcbn07XG5jb25zdCB3YXNUcmFja2VkID0gKGRlcCkgPT4gKGRlcC53ICYgdHJhY2tPcEJpdCkgPiAwO1xuY29uc3QgbmV3VHJhY2tlZCA9IChkZXApID0+IChkZXAubiAmIHRyYWNrT3BCaXQpID4gMDtcbmNvbnN0IGluaXREZXBNYXJrZXJzID0gKHsgZGVwcyB9KSA9PiB7XG4gICAgaWYgKGRlcHMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGVwc1tpXS53IHw9IHRyYWNrT3BCaXQ7IC8vIHNldCB3YXMgdHJhY2tlZFxuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGZpbmFsaXplRGVwTWFya2VycyA9IChlZmZlY3QpID0+IHtcbiAgICBjb25zdCB7IGRlcHMgfSA9IGVmZmVjdDtcbiAgICBpZiAoZGVwcy5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHB0ciA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGVwID0gZGVwc1tpXTtcbiAgICAgICAgICAgIGlmICh3YXNUcmFja2VkKGRlcCkgJiYgIW5ld1RyYWNrZWQoZGVwKSkge1xuICAgICAgICAgICAgICAgIGRlcC5kZWxldGUoZWZmZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlcHNbcHRyKytdID0gZGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2xlYXIgYml0c1xuICAgICAgICAgICAgZGVwLncgJj0gfnRyYWNrT3BCaXQ7XG4gICAgICAgICAgICBkZXAubiAmPSB+dHJhY2tPcEJpdDtcbiAgICAgICAgfVxuICAgICAgICBkZXBzLmxlbmd0aCA9IHB0cjtcbiAgICB9XG59O1xuXG5jb25zdCB0YXJnZXRNYXAgPSBuZXcgV2Vha01hcCgpO1xuLy8gVGhlIG51bWJlciBvZiBlZmZlY3RzIGN1cnJlbnRseSBiZWluZyB0cmFja2VkIHJlY3Vyc2l2ZWx5LlxubGV0IGVmZmVjdFRyYWNrRGVwdGggPSAwO1xubGV0IHRyYWNrT3BCaXQgPSAxO1xuLyoqXG4gKiBUaGUgYml0d2lzZSB0cmFjayBtYXJrZXJzIHN1cHBvcnQgYXQgbW9zdCAzMCBsZXZlbHMgb2YgcmVjdXJzaW9uLlxuICogVGhpcyB2YWx1ZSBpcyBjaG9zZW4gdG8gZW5hYmxlIG1vZGVybiBKUyBlbmdpbmVzIHRvIHVzZSBhIFNNSSBvbiBhbGwgcGxhdGZvcm1zLlxuICogV2hlbiByZWN1cnNpb24gZGVwdGggaXMgZ3JlYXRlciwgZmFsbCBiYWNrIHRvIHVzaW5nIGEgZnVsbCBjbGVhbnVwLlxuICovXG5jb25zdCBtYXhNYXJrZXJCaXRzID0gMzA7XG5sZXQgYWN0aXZlRWZmZWN0O1xuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ2l0ZXJhdGUnIDogJycpO1xuY29uc3QgTUFQX0tFWV9JVEVSQVRFX0tFWSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnTWFwIGtleSBpdGVyYXRlJyA6ICcnKTtcbmNsYXNzIFJlYWN0aXZlRWZmZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcihmbiwgc2NoZWR1bGVyID0gbnVsbCwgc2NvcGUpIHtcbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlcHMgPSBbXTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJlY29yZEVmZmVjdFNjb3BlKHRoaXMsIHNjb3BlKTtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mbigpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXJlbnQgPSBhY3RpdmVFZmZlY3Q7XG4gICAgICAgIGxldCBsYXN0U2hvdWxkVHJhY2sgPSBzaG91bGRUcmFjaztcbiAgICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gYWN0aXZlRWZmZWN0O1xuICAgICAgICAgICAgYWN0aXZlRWZmZWN0ID0gdGhpcztcbiAgICAgICAgICAgIHNob3VsZFRyYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYWNrT3BCaXQgPSAxIDw8ICsrZWZmZWN0VHJhY2tEZXB0aDtcbiAgICAgICAgICAgIGlmIChlZmZlY3RUcmFja0RlcHRoIDw9IG1heE1hcmtlckJpdHMpIHtcbiAgICAgICAgICAgICAgICBpbml0RGVwTWFya2Vycyh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mbigpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKGVmZmVjdFRyYWNrRGVwdGggPD0gbWF4TWFya2VyQml0cykge1xuICAgICAgICAgICAgICAgIGZpbmFsaXplRGVwTWFya2Vycyh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNrT3BCaXQgPSAxIDw8IC0tZWZmZWN0VHJhY2tEZXB0aDtcbiAgICAgICAgICAgIGFjdGl2ZUVmZmVjdCA9IHRoaXMucGFyZW50O1xuICAgICAgICAgICAgc2hvdWxkVHJhY2sgPSBsYXN0U2hvdWxkVHJhY2s7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlZmVyU3RvcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIC8vIHN0b3BwZWQgd2hpbGUgcnVubmluZyBpdHNlbGYgLSBkZWZlciB0aGUgY2xlYW51cFxuICAgICAgICBpZiAoYWN0aXZlRWZmZWN0ID09PSB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmVyU3RvcCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIGNsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5vblN0b3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNsZWFudXBFZmZlY3QoZWZmZWN0KSB7XG4gICAgY29uc3QgeyBkZXBzIH0gPSBlZmZlY3Q7XG4gICAgaWYgKGRlcHMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGVwc1tpXS5kZWxldGUoZWZmZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBkZXBzLmxlbmd0aCA9IDA7XG4gICAgfVxufVxuZnVuY3Rpb24gZWZmZWN0KGZuLCBvcHRpb25zKSB7XG4gICAgaWYgKGZuLmVmZmVjdCkge1xuICAgICAgICBmbiA9IGZuLmVmZmVjdC5mbjtcbiAgICB9XG4gICAgY29uc3QgX2VmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChmbik7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgZXh0ZW5kKF9lZmZlY3QsIG9wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucy5zY29wZSlcbiAgICAgICAgICAgIHJlY29yZEVmZmVjdFNjb3BlKF9lZmZlY3QsIG9wdGlvbnMuc2NvcGUpO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMubGF6eSkge1xuICAgICAgICBfZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgICBjb25zdCBydW5uZXIgPSBfZWZmZWN0LnJ1bi5iaW5kKF9lZmZlY3QpO1xuICAgIHJ1bm5lci5lZmZlY3QgPSBfZWZmZWN0O1xuICAgIHJldHVybiBydW5uZXI7XG59XG5mdW5jdGlvbiBzdG9wKHJ1bm5lcikge1xuICAgIHJ1bm5lci5lZmZlY3Quc3RvcCgpO1xufVxubGV0IHNob3VsZFRyYWNrID0gdHJ1ZTtcbmNvbnN0IHRyYWNrU3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHBhdXNlVHJhY2tpbmcoKSB7XG4gICAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcbiAgICBzaG91bGRUcmFjayA9IGZhbHNlO1xufVxuZnVuY3Rpb24gcmVzZXRUcmFja2luZygpIHtcbiAgICBjb25zdCBsYXN0ID0gdHJhY2tTdGFjay5wb3AoKTtcbiAgICBzaG91bGRUcmFjayA9IGxhc3QgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBsYXN0O1xufVxuZnVuY3Rpb24gdHJhY2sodGFyZ2V0LCB0eXBlLCBrZXkpIHtcbiAgICBpZiAoc2hvdWxkVHJhY2sgJiYgYWN0aXZlRWZmZWN0KSB7XG4gICAgICAgIGxldCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICAgICAgICBpZiAoIWRlcHNNYXApIHtcbiAgICAgICAgICAgIHRhcmdldE1hcC5zZXQodGFyZ2V0LCAoZGVwc01hcCA9IG5ldyBNYXAoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZXAgPSBkZXBzTWFwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWRlcCkge1xuICAgICAgICAgICAgZGVwc01hcC5zZXQoa2V5LCAoZGVwID0gY3JlYXRlRGVwKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBldmVudEluZm8gPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgID8geyBlZmZlY3Q6IGFjdGl2ZUVmZmVjdCwgdGFyZ2V0LCB0eXBlLCBrZXkgfVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRyYWNrRWZmZWN0cyhkZXAsIGV2ZW50SW5mbyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhY2tFZmZlY3RzKGRlcCwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykge1xuICAgIGxldCBzaG91bGRUcmFjayA9IGZhbHNlO1xuICAgIGlmIChlZmZlY3RUcmFja0RlcHRoIDw9IG1heE1hcmtlckJpdHMpIHtcbiAgICAgICAgaWYgKCFuZXdUcmFja2VkKGRlcCkpIHtcbiAgICAgICAgICAgIGRlcC5uIHw9IHRyYWNrT3BCaXQ7IC8vIHNldCBuZXdseSB0cmFja2VkXG4gICAgICAgICAgICBzaG91bGRUcmFjayA9ICF3YXNUcmFja2VkKGRlcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEZ1bGwgY2xlYW51cCBtb2RlLlxuICAgICAgICBzaG91bGRUcmFjayA9ICFkZXAuaGFzKGFjdGl2ZUVmZmVjdCk7XG4gICAgfVxuICAgIGlmIChzaG91bGRUcmFjaykge1xuICAgICAgICBkZXAuYWRkKGFjdGl2ZUVmZmVjdCk7XG4gICAgICAgIGFjdGl2ZUVmZmVjdC5kZXBzLnB1c2goZGVwKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBhY3RpdmVFZmZlY3Qub25UcmFjaykge1xuICAgICAgICAgICAgYWN0aXZlRWZmZWN0Lm9uVHJhY2soT2JqZWN0LmFzc2lnbih7IGVmZmVjdDogYWN0aXZlRWZmZWN0IH0sIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXIodGFyZ2V0LCB0eXBlLCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSwgb2xkVGFyZ2V0KSB7XG4gICAgY29uc3QgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgICBpZiAoIWRlcHNNYXApIHtcbiAgICAgICAgLy8gbmV2ZXIgYmVlbiB0cmFja2VkXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGRlcHMgPSBbXTtcbiAgICBpZiAodHlwZSA9PT0gXCJjbGVhclwiIC8qIFRyaWdnZXJPcFR5cGVzLkNMRUFSICovKSB7XG4gICAgICAgIC8vIGNvbGxlY3Rpb24gYmVpbmcgY2xlYXJlZFxuICAgICAgICAvLyB0cmlnZ2VyIGFsbCBlZmZlY3RzIGZvciB0YXJnZXRcbiAgICAgICAgZGVwcyA9IFsuLi5kZXBzTWFwLnZhbHVlcygpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoa2V5ID09PSAnbGVuZ3RoJyAmJiBpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gdG9OdW1iZXIobmV3VmFsdWUpO1xuICAgICAgICBkZXBzTWFwLmZvckVhY2goKGRlcCwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbGVuZ3RoJyB8fCBrZXkgPj0gbmV3TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc2NoZWR1bGUgcnVucyBmb3IgU0VUIHwgQUREIHwgREVMRVRFXG4gICAgICAgIGlmIChrZXkgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KGtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcnVuIGZvciBpdGVyYXRpb24ga2V5IG9uIEFERCB8IERFTEVURSB8IE1hcC5TRVRcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiYWRkXCIgLyogVHJpZ2dlck9wVHlwZXMuQUREICovOlxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0ludGVnZXJLZXkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgaW5kZXggYWRkZWQgdG8gYXJyYXkgLT4gbGVuZ3RoIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KCdsZW5ndGgnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVwiIC8qIFRyaWdnZXJPcFR5cGVzLkRFTEVURSAqLzpcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovOlxuICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBldmVudEluZm8gPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgPyB7IHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCB9XG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmIChkZXBzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAoZGVwc1swXSkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJFZmZlY3RzKGRlcHNbMF0sIGV2ZW50SW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRWZmZWN0cyhkZXBzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZWZmZWN0cyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG4gICAgICAgICAgICBpZiAoZGVwKSB7XG4gICAgICAgICAgICAgICAgZWZmZWN0cy5wdXNoKC4uLmRlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgdHJpZ2dlckVmZmVjdHMoY3JlYXRlRGVwKGVmZmVjdHMpLCBldmVudEluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJpZ2dlckVmZmVjdHMoY3JlYXRlRGVwKGVmZmVjdHMpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJFZmZlY3RzKGRlcCwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykge1xuICAgIC8vIHNwcmVhZCBpbnRvIGFycmF5IGZvciBzdGFiaWxpemF0aW9uXG4gICAgY29uc3QgZWZmZWN0cyA9IGlzQXJyYXkoZGVwKSA/IGRlcCA6IFsuLi5kZXBdO1xuICAgIGZvciAoY29uc3QgZWZmZWN0IG9mIGVmZmVjdHMpIHtcbiAgICAgICAgaWYgKGVmZmVjdC5jb21wdXRlZCkge1xuICAgICAgICAgICAgdHJpZ2dlckVmZmVjdChlZmZlY3QsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgZWZmZWN0IG9mIGVmZmVjdHMpIHtcbiAgICAgICAgaWYgKCFlZmZlY3QuY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIHRyaWdnZXJFZmZlY3QoZWZmZWN0LCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJFZmZlY3QoZWZmZWN0LCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSB7XG4gICAgaWYgKGVmZmVjdCAhPT0gYWN0aXZlRWZmZWN0IHx8IGVmZmVjdC5hbGxvd1JlY3Vyc2UpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBlZmZlY3Qub25UcmlnZ2VyKSB7XG4gICAgICAgICAgICBlZmZlY3Qub25UcmlnZ2VyKGV4dGVuZCh7IGVmZmVjdCB9LCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC5zY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIGVmZmVjdC5zY2hlZHVsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVmZmVjdC5ydW4oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgaXNOb25UcmFja2FibGVLZXlzID0gLyojX19QVVJFX18qLyBtYWtlTWFwKGBfX3Byb3RvX18sX192X2lzUmVmLF9faXNWdWVgKTtcbmNvbnN0IGJ1aWx0SW5TeW1ib2xzID0gbmV3IFNldChcbi8qI19fUFVSRV9fKi9cbk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFN5bWJvbClcbiAgICAvLyBpb3MxMC54IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFN5bWJvbCkgY2FuIGVudW1lcmF0ZSAnYXJndW1lbnRzJyBhbmQgJ2NhbGxlcidcbiAgICAvLyBidXQgYWNjZXNzaW5nIHRoZW0gb24gU3ltYm9sIGxlYWRzIHRvIFR5cGVFcnJvciBiZWNhdXNlIFN5bWJvbCBpcyBhIHN0cmljdCBtb2RlXG4gICAgLy8gZnVuY3Rpb25cbiAgICAuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdhcmd1bWVudHMnICYmIGtleSAhPT0gJ2NhbGxlcicpXG4gICAgLm1hcChrZXkgPT4gU3ltYm9sW2tleV0pXG4gICAgLmZpbHRlcihpc1N5bWJvbCkpO1xuY29uc3QgZ2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIoKTtcbmNvbnN0IHNoYWxsb3dHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcihmYWxzZSwgdHJ1ZSk7XG5jb25zdCByZWFkb25seUdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKHRydWUpO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIodHJ1ZSwgdHJ1ZSk7XG5jb25zdCBhcnJheUluc3RydW1lbnRhdGlvbnMgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUFycmF5SW5zdHJ1bWVudGF0aW9ucygpO1xuZnVuY3Rpb24gY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zKCkge1xuICAgIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSB7fTtcbiAgICBbJ2luY2x1ZGVzJywgJ2luZGV4T2YnLCAnbGFzdEluZGV4T2YnXS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGluc3RydW1lbnRhdGlvbnNba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBhcnIgPSB0b1Jhdyh0aGlzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0cmFjayhhcnIsIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywgaSArICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIHJ1biB0aGUgbWV0aG9kIHVzaW5nIHRoZSBvcmlnaW5hbCBhcmdzIGZpcnN0ICh3aGljaCBtYXkgYmUgcmVhY3RpdmUpXG4gICAgICAgICAgICBjb25zdCByZXMgPSBhcnJba2V5XSguLi5hcmdzKTtcbiAgICAgICAgICAgIGlmIChyZXMgPT09IC0xIHx8IHJlcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGF0IGRpZG4ndCB3b3JrLCBydW4gaXQgYWdhaW4gdXNpbmcgcmF3IHZhbHVlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyW2tleV0oLi4uYXJncy5tYXAodG9SYXcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgWydwdXNoJywgJ3BvcCcsICdzaGlmdCcsICd1bnNoaWZ0JywgJ3NwbGljZSddLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRvUmF3KHRoaXMpW2tleV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBpbnN0cnVtZW50YXRpb25zO1xufVxuZnVuY3Rpb24gY3JlYXRlR2V0dGVyKGlzUmVhZG9ubHkgPSBmYWxzZSwgc2hhbGxvdyA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBQ1RJVkUgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiAhaXNSZWFkb25seTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzU2hhbGxvd1wiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfU0hBTExPVyAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqLyAmJlxuICAgICAgICAgICAgcmVjZWl2ZXIgPT09XG4gICAgICAgICAgICAgICAgKGlzUmVhZG9ubHlcbiAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93XG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dSZWFkb25seU1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZWFkb25seU1hcFxuICAgICAgICAgICAgICAgICAgICA6IHNoYWxsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1JlYWN0aXZlTWFwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlYWN0aXZlTWFwKS5nZXQodGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXRJc0FycmF5ID0gaXNBcnJheSh0YXJnZXQpO1xuICAgICAgICBpZiAoIWlzUmVhZG9ubHkgJiYgdGFyZ2V0SXNBcnJheSAmJiBoYXNPd24oYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXksIHJlY2VpdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXMgPSBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICBpZiAoaXNTeW1ib2woa2V5KSA/IGJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpIDogaXNOb25UcmFja2FibGVLZXlzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1JlYWRvbmx5KSB7XG4gICAgICAgICAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhbGxvdykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWYocmVzKSkge1xuICAgICAgICAgICAgLy8gcmVmIHVud3JhcHBpbmcgLSBza2lwIHVud3JhcCBmb3IgQXJyYXkgKyBpbnRlZ2VyIGtleS5cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRJc0FycmF5ICYmIGlzSW50ZWdlcktleShrZXkpID8gcmVzIDogcmVzLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHJldHVybmVkIHZhbHVlIGludG8gYSBwcm94eSBhcyB3ZWxsLiB3ZSBkbyB0aGUgaXNPYmplY3QgY2hlY2tcbiAgICAgICAgICAgIC8vIGhlcmUgdG8gYXZvaWQgaW52YWxpZCB2YWx1ZSB3YXJuaW5nLiBBbHNvIG5lZWQgdG8gbGF6eSBhY2Nlc3MgcmVhZG9ubHlcbiAgICAgICAgICAgIC8vIGFuZCByZWFjdGl2ZSBoZXJlIHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seSA/IHJlYWRvbmx5KHJlcykgOiByZWFjdGl2ZShyZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn1cbmNvbnN0IHNldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU2V0dGVyKCk7XG5jb25zdCBzaGFsbG93U2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVTZXR0ZXIodHJ1ZSk7XG5mdW5jdGlvbiBjcmVhdGVTZXR0ZXIoc2hhbGxvdyA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgICAgIGxldCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgICAgICBpZiAoaXNSZWFkb25seShvbGRWYWx1ZSkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNoYWxsb3cpIHtcbiAgICAgICAgICAgIGlmICghaXNTaGFsbG93KHZhbHVlKSAmJiAhaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IHRvUmF3KG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSlcbiAgICAgICAgICAgID8gTnVtYmVyKGtleSkgPCB0YXJnZXQubGVuZ3RoXG4gICAgICAgICAgICA6IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgICAgICAvLyBkb24ndCB0cmlnZ2VyIGlmIHRhcmdldCBpcyBzb21ldGhpbmcgdXAgaW4gdGhlIHByb3RvdHlwZSBjaGFpbiBvZiBvcmlnaW5hbFxuICAgICAgICBpZiAodGFyZ2V0ID09PSB0b1JhdyhyZWNlaXZlcikpIHtcbiAgICAgICAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogVHJpZ2dlck9wVHlwZXMuQUREICovLCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLywga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgaGFkS2V5ID0gaGFzT3duKHRhcmdldCwga2V5KTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpO1xuICAgIGlmIChyZXN1bHQgJiYgaGFkS2V5KSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiIC8qIFRyaWdnZXJPcFR5cGVzLkRFTEVURSAqLywga2V5LCB1bmRlZmluZWQsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGhhcyh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuaGFzKHRhcmdldCwga2V5KTtcbiAgICBpZiAoIWlzU3ltYm9sKGtleSkgfHwgIWJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpKSB7XG4gICAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiAvKiBUcmFja09wVHlwZXMuSEFTICovLCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb3duS2V5cyh0YXJnZXQpIHtcbiAgICB0cmFjayh0YXJnZXQsIFwiaXRlcmF0ZVwiIC8qIFRyYWNrT3BUeXBlcy5JVEVSQVRFICovLCBpc0FycmF5KHRhcmdldCkgPyAnbGVuZ3RoJyA6IElURVJBVEVfS0VZKTtcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XG59XG5jb25zdCBtdXRhYmxlSGFuZGxlcnMgPSB7XG4gICAgZ2V0LFxuICAgIHNldCxcbiAgICBkZWxldGVQcm9wZXJ0eSxcbiAgICBoYXMsXG4gICAgb3duS2V5c1xufTtcbmNvbnN0IHJlYWRvbmx5SGFuZGxlcnMgPSB7XG4gICAgZ2V0OiByZWFkb25seUdldCxcbiAgICBzZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybihgU2V0IG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuKGBEZWxldGUgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59O1xuY29uc3Qgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMgPSAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgbXV0YWJsZUhhbmRsZXJzLCB7XG4gICAgZ2V0OiBzaGFsbG93R2V0LFxuICAgIHNldDogc2hhbGxvd1NldFxufSk7XG4vLyBQcm9wcyBoYW5kbGVycyBhcmUgc3BlY2lhbCBpbiB0aGUgc2Vuc2UgdGhhdCBpdCBzaG91bGQgbm90IHVud3JhcCB0b3AtbGV2ZWxcbi8vIHJlZnMgKGluIG9yZGVyIHRvIGFsbG93IHJlZnMgdG8gYmUgZXhwbGljaXRseSBwYXNzZWQgZG93biksIGJ1dCBzaG91bGRcbi8vIHJldGFpbiB0aGUgcmVhY3Rpdml0eSBvZiB0aGUgbm9ybWFsIHJlYWRvbmx5IG9iamVjdC5cbmNvbnN0IHNoYWxsb3dSZWFkb25seUhhbmRsZXJzID0gLyojX19QVVJFX18qLyBleHRlbmQoe30sIHJlYWRvbmx5SGFuZGxlcnMsIHtcbiAgICBnZXQ6IHNoYWxsb3dSZWFkb25seUdldFxufSk7XG5cbmNvbnN0IHRvU2hhbGxvdyA9ICh2YWx1ZSkgPT4gdmFsdWU7XG5jb25zdCBnZXRQcm90byA9ICh2KSA9PiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHYpO1xuZnVuY3Rpb24gZ2V0JDEodGFyZ2V0LCBrZXksIGlzUmVhZG9ubHkgPSBmYWxzZSwgaXNTaGFsbG93ID0gZmFsc2UpIHtcbiAgICAvLyAjMTc3MjogcmVhZG9ubHkocmVhY3RpdmUoTWFwKSkgc2hvdWxkIHJldHVybiByZWFkb25seSArIHJlYWN0aXZlIHZlcnNpb25cbiAgICAvLyBvZiB0aGUgdmFsdWVcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dO1xuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgICBpZiAoIWlzUmVhZG9ubHkpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XG4gICAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywgcmF3S2V5KTtcbiAgICB9XG4gICAgY29uc3QgeyBoYXMgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XG4gICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KHJhd0tleSkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0YXJnZXQgIT09IHJhd1RhcmdldCkge1xuICAgICAgICAvLyAjMzYwMiByZWFkb25seShyZWFjdGl2ZShNYXApKVxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgbmVzdGVkIHJlYWN0aXZlIGBNYXBgIGNhbiBkbyB0cmFja2luZyBmb3IgaXRzZWxmXG4gICAgICAgIHRhcmdldC5nZXQoa2V5KTtcbiAgICB9XG59XG5mdW5jdGlvbiBoYXMkMShrZXksIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dO1xuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgICBpZiAoIWlzUmVhZG9ubHkpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gcmF3S2V5KSB7XG4gICAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIgLyogVHJhY2tPcFR5cGVzLkhBUyAqLywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIgLyogVHJhY2tPcFR5cGVzLkhBUyAqLywgcmF3S2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGtleSA9PT0gcmF3S2V5XG4gICAgICAgID8gdGFyZ2V0LmhhcyhrZXkpXG4gICAgICAgIDogdGFyZ2V0LmhhcyhrZXkpIHx8IHRhcmdldC5oYXMocmF3S2V5KTtcbn1cbmZ1bmN0aW9uIHNpemUodGFyZ2V0LCBpc1JlYWRvbmx5ID0gZmFsc2UpIHtcbiAgICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dO1xuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiIC8qIFRyYWNrT3BUeXBlcy5JVEVSQVRFICovLCBJVEVSQVRFX0tFWSk7XG4gICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgJ3NpemUnLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgY29uc3QgcHJvdG8gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgIGNvbnN0IGhhZEtleSA9IHByb3RvLmhhcy5jYWxsKHRhcmdldCwgdmFsdWUpO1xuICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgIHRhcmdldC5hZGQodmFsdWUpO1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5BREQgKi8sIHZhbHVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuZnVuY3Rpb24gc2V0JDEoa2V5LCB2YWx1ZSkge1xuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XG4gICAgbGV0IGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgICBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICB9XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcbiAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5BREQgKi8sIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuZnVuY3Rpb24gZGVsZXRlRW50cnkoa2V5KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xuICAgIH1cbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHVuZGVmaW5lZDtcbiAgICAvLyBmb3J3YXJkIHRoZSBvcGVyYXRpb24gYmVmb3JlIHF1ZXVlaW5nIHJlYWN0aW9uc1xuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5kZWxldGUoa2V5KTtcbiAgICBpZiAoaGFkS2V5KSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImRlbGV0ZVwiIC8qIFRyaWdnZXJPcFR5cGVzLkRFTEVURSAqLywga2V5LCB1bmRlZmluZWQsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgIGNvbnN0IGhhZEl0ZW1zID0gdGFyZ2V0LnNpemUgIT09IDA7XG4gICAgY29uc3Qgb2xkVGFyZ2V0ID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgID8gaXNNYXAodGFyZ2V0KVxuICAgICAgICAgICAgPyBuZXcgTWFwKHRhcmdldClcbiAgICAgICAgICAgIDogbmV3IFNldCh0YXJnZXQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXG4gICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmNsZWFyKCk7XG4gICAgaWYgKGhhZEl0ZW1zKSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImNsZWFyXCIgLyogVHJpZ2dlck9wVHlwZXMuQ0xFQVIgKi8sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvbGRUYXJnZXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY3JlYXRlRm9yRWFjaChpc1JlYWRvbmx5LCBpc1NoYWxsb3cpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICBjb25zdCBvYnNlcnZlZCA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXTtcbiAgICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAgICAgIWlzUmVhZG9ubHkgJiYgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBUcmFja09wVHlwZXMuSVRFUkFURSAqLywgSVRFUkFURV9LRVkpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIC8vIGltcG9ydGFudDogbWFrZSBzdXJlIHRoZSBjYWxsYmFjayBpc1xuICAgICAgICAgICAgLy8gMS4gaW52b2tlZCB3aXRoIHRoZSByZWFjdGl2ZSBtYXAgYXMgYHRoaXNgIGFuZCAzcmQgYXJnXG4gICAgICAgICAgICAvLyAyLiB0aGUgdmFsdWUgcmVjZWl2ZWQgc2hvdWxkIGJlIGEgY29ycmVzcG9uZGluZyByZWFjdGl2ZS9yZWFkb25seS5cbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHdyYXAodmFsdWUpLCB3cmFwKGtleSksIG9ic2VydmVkKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dO1xuICAgICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgICAgICBjb25zdCB0YXJnZXRJc01hcCA9IGlzTWFwKHJhd1RhcmdldCk7XG4gICAgICAgIGNvbnN0IGlzUGFpciA9IG1ldGhvZCA9PT0gJ2VudHJpZXMnIHx8IChtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcCk7XG4gICAgICAgIGNvbnN0IGlzS2V5T25seSA9IG1ldGhvZCA9PT0gJ2tleXMnICYmIHRhcmdldElzTWFwO1xuICAgICAgICBjb25zdCBpbm5lckl0ZXJhdG9yID0gdGFyZ2V0W21ldGhvZF0oLi4uYXJncyk7XG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgICAgICFpc1JlYWRvbmx5ICYmXG4gICAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiIC8qIFRyYWNrT3BUeXBlcy5JVEVSQVRFICovLCBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVkpO1xuICAgICAgICAvLyByZXR1cm4gYSB3cmFwcGVkIGl0ZXJhdG9yIHdoaWNoIHJldHVybnMgb2JzZXJ2ZWQgdmVyc2lvbnMgb2YgdGhlXG4gICAgICAgIC8vIHZhbHVlcyBlbWl0dGVkIGZyb20gdGhlIHJlYWwgaXRlcmF0b3JcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIGl0ZXJhdG9yIHByb3RvY29sXG4gICAgICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGlubmVySXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkb25lXG4gICAgICAgICAgICAgICAgICAgID8geyB2YWx1ZSwgZG9uZSB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlzUGFpciA/IFt3cmFwKHZhbHVlWzBdKSwgd3JhcCh2YWx1ZVsxXSldIDogd3JhcCh2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gaXRlcmFibGUgcHJvdG9jb2xcbiAgICAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHtjYXBpdGFsaXplKHR5cGUpfSBvcGVyYXRpb24gJHtrZXl9ZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdG9SYXcodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlID09PSBcImRlbGV0ZVwiIC8qIFRyaWdnZXJPcFR5cGVzLkRFTEVURSAqLyA/IGZhbHNlIDogdGhpcztcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSW5zdHJ1bWVudGF0aW9ucygpIHtcbiAgICBjb25zdCBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBzaXplKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNpemUodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhczogaGFzJDEsXG4gICAgICAgIGFkZCxcbiAgICAgICAgc2V0OiBzZXQkMSxcbiAgICAgICAgZGVsZXRlOiBkZWxldGVFbnRyeSxcbiAgICAgICAgY2xlYXIsXG4gICAgICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2goZmFsc2UsIGZhbHNlKVxuICAgIH07XG4gICAgY29uc3Qgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMgPSB7XG4gICAgICAgIGdldChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNpemUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzOiBoYXMkMSxcbiAgICAgICAgYWRkLFxuICAgICAgICBzZXQ6IHNldCQxLFxuICAgICAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxuICAgICAgICBjbGVhcixcbiAgICAgICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgdHJ1ZSlcbiAgICB9O1xuICAgIGNvbnN0IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBzaXplKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNpemUodGhpcywgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhcyhrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBoYXMkMS5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5BREQgKi8pLFxuICAgICAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovKSxcbiAgICAgICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiIC8qIFRyaWdnZXJPcFR5cGVzLkRFTEVURSAqLyksXG4gICAgICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIgLyogVHJpZ2dlck9wVHlwZXMuQ0xFQVIgKi8pLFxuICAgICAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIGZhbHNlKVxuICAgIH07XG4gICAgY29uc3Qgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBzaXplKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNpemUodGhpcywgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhcyhrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBoYXMkMS5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5BREQgKi8pLFxuICAgICAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovKSxcbiAgICAgICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiIC8qIFRyaWdnZXJPcFR5cGVzLkRFTEVURSAqLyksXG4gICAgICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIgLyogVHJpZ2dlck9wVHlwZXMuQ0xFQVIgKi8pLFxuICAgICAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIHRydWUpXG4gICAgfTtcbiAgICBjb25zdCBpdGVyYXRvck1ldGhvZHMgPSBbJ2tleXMnLCAndmFsdWVzJywgJ2VudHJpZXMnLCBTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGl0ZXJhdG9yTWV0aG9kcy5mb3JFYWNoKG1ldGhvZCA9PiB7XG4gICAgICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCB0cnVlLCB0cnVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW1xuICAgICAgICBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyxcbiAgICAgICAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zLFxuICAgICAgICBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyxcbiAgICAgICAgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xuICAgIF07XG59XG5jb25zdCBbbXV0YWJsZUluc3RydW1lbnRhdGlvbnMsIHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucywgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMsIHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnNdID0gLyogI19fUFVSRV9fKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9ucygpO1xuZnVuY3Rpb24gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGlzUmVhZG9ubHksIHNoYWxsb3cpIHtcbiAgICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gc2hhbGxvd1xuICAgICAgICA/IGlzUmVhZG9ubHlcbiAgICAgICAgICAgID8gc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xuICAgICAgICAgICAgOiBzaGFsbG93SW5zdHJ1bWVudGF0aW9uc1xuICAgICAgICA6IGlzUmVhZG9ubHlcbiAgICAgICAgICAgID8gcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXG4gICAgICAgICAgICA6IG11dGFibGVJbnN0cnVtZW50YXRpb25zO1xuICAgIHJldHVybiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB7XG4gICAgICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQUNUSVZFICovKSB7XG4gICAgICAgICAgICByZXR1cm4gIWlzUmVhZG9ubHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFET05MWSAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoaGFzT3duKGluc3RydW1lbnRhdGlvbnMsIGtleSkgJiYga2V5IGluIHRhcmdldFxuICAgICAgICAgICAgPyBpbnN0cnVtZW50YXRpb25zXG4gICAgICAgICAgICA6IHRhcmdldCwga2V5LCByZWNlaXZlcik7XG4gICAgfTtcbn1cbmNvbnN0IG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gICAgZ2V0OiAvKiNfX1BVUkVfXyovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgICBnZXQ6IC8qI19fUFVSRV9fKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxufTtcbmNvbnN0IHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICAgIGdldDogLyojX19QVVJFX18qLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICAgIGdldDogLyojX19QVVJFX18qLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgdHJ1ZSlcbn07XG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KSB7XG4gICAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgICBpZiAocmF3S2V5ICE9PSBrZXkgJiYgaGFzLmNhbGwodGFyZ2V0LCByYXdLZXkpKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcbiAgICAgICAgY29uc29sZS53YXJuKGBSZWFjdGl2ZSAke3R5cGV9IGNvbnRhaW5zIGJvdGggdGhlIHJhdyBhbmQgcmVhY3RpdmUgYCArXG4gICAgICAgICAgICBgdmVyc2lvbnMgb2YgdGhlIHNhbWUgb2JqZWN0JHt0eXBlID09PSBgTWFwYCA/IGAgYXMga2V5c2AgOiBgYH0sIGAgK1xuICAgICAgICAgICAgYHdoaWNoIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcy4gYCArXG4gICAgICAgICAgICBgQXZvaWQgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gdGhlIHJhdyBhbmQgcmVhY3RpdmUgdmVyc2lvbnMgYCArXG4gICAgICAgICAgICBgb2YgYW4gb2JqZWN0IGFuZCBvbmx5IHVzZSB0aGUgcmVhY3RpdmUgdmVyc2lvbiBpZiBwb3NzaWJsZS5gKTtcbiAgICB9XG59XG5cbmNvbnN0IHJlYWN0aXZlTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlNYXAgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gdGFyZ2V0VHlwZU1hcChyYXdUeXBlKSB7XG4gICAgc3dpdGNoIChyYXdUeXBlKSB7XG4gICAgICAgIGNhc2UgJ09iamVjdCc6XG4gICAgICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiAxIC8qIFRhcmdldFR5cGUuQ09NTU9OICovO1xuICAgICAgICBjYXNlICdNYXAnOlxuICAgICAgICBjYXNlICdTZXQnOlxuICAgICAgICBjYXNlICdXZWFrTWFwJzpcbiAgICAgICAgY2FzZSAnV2Vha1NldCc6XG4gICAgICAgICAgICByZXR1cm4gMiAvKiBUYXJnZXRUeXBlLkNPTExFQ1RJT04gKi87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gMCAvKiBUYXJnZXRUeXBlLklOVkFMSUQgKi87XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0VGFyZ2V0VHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZVtcIl9fdl9za2lwXCIgLyogUmVhY3RpdmVGbGFncy5TS0lQICovXSB8fCAhT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSlcbiAgICAgICAgPyAwIC8qIFRhcmdldFR5cGUuSU5WQUxJRCAqL1xuICAgICAgICA6IHRhcmdldFR5cGVNYXAodG9SYXdUeXBlKHZhbHVlKSk7XG59XG5mdW5jdGlvbiByZWFjdGl2ZSh0YXJnZXQpIHtcbiAgICAvLyBpZiB0cnlpbmcgdG8gb2JzZXJ2ZSBhIHJlYWRvbmx5IHByb3h5LCByZXR1cm4gdGhlIHJlYWRvbmx5IHZlcnNpb24uXG4gICAgaWYgKGlzUmVhZG9ubHkodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgbXV0YWJsZUhhbmRsZXJzLCBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzLCByZWFjdGl2ZU1hcCk7XG59XG4vKipcbiAqIFJldHVybiBhIHNoYWxsb3dseS1yZWFjdGl2ZSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3RcbiAqIGxldmVsIHByb3BlcnRpZXMgYXJlIHJlYWN0aXZlLiBJdCBhbHNvIGRvZXMgbm90IGF1dG8tdW53cmFwIHJlZnMgKGV2ZW4gYXQgdGhlXG4gKiByb290IGxldmVsKS5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGZhbHNlLCBzaGFsbG93UmVhY3RpdmVIYW5kbGVycywgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycywgc2hhbGxvd1JlYWN0aXZlTWFwKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHJlYWRvbmx5IGNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdC4gTm90ZSB0aGUgcmV0dXJuZWQgY29weSBpcyBub3RcbiAqIG1hZGUgcmVhY3RpdmUsIGJ1dCBgcmVhZG9ubHlgIGNhbiBiZSBjYWxsZWQgb24gYW4gYWxyZWFkeSByZWFjdGl2ZSBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHJlYWRvbmx5KHRhcmdldCkge1xuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHJlYWRvbmx5SGFuZGxlcnMsIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCByZWFkb25seU1hcCk7XG59XG4vKipcbiAqIFJldHVybnMgYSByZWFjdGl2ZS1jb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QsIHdoZXJlIG9ubHkgdGhlIHJvb3QgbGV2ZWxcbiAqIHByb3BlcnRpZXMgYXJlIHJlYWRvbmx5LCBhbmQgZG9lcyBOT1QgdW53cmFwIHJlZnMgbm9yIHJlY3Vyc2l2ZWx5IGNvbnZlcnRcbiAqIHJldHVybmVkIHByb3BlcnRpZXMuXG4gKiBUaGlzIGlzIHVzZWQgZm9yIGNyZWF0aW5nIHRoZSBwcm9wcyBwcm94eSBvYmplY3QgZm9yIHN0YXRlZnVsIGNvbXBvbmVudHMuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkb25seSh0YXJnZXQpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCB0cnVlLCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycywgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLCBzaGFsbG93UmVhZG9ubHlNYXApO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBpc1JlYWRvbmx5LCBiYXNlSGFuZGxlcnMsIGNvbGxlY3Rpb25IYW5kbGVycywgcHJveHlNYXApIHtcbiAgICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGB2YWx1ZSBjYW5ub3QgYmUgbWFkZSByZWFjdGl2ZTogJHtTdHJpbmcodGFyZ2V0KX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICAvLyB0YXJnZXQgaXMgYWxyZWFkeSBhIFByb3h5LCByZXR1cm4gaXQuXG4gICAgLy8gZXhjZXB0aW9uOiBjYWxsaW5nIHJlYWRvbmx5KCkgb24gYSByZWFjdGl2ZSBvYmplY3RcbiAgICBpZiAodGFyZ2V0W1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXSAmJlxuICAgICAgICAhKGlzUmVhZG9ubHkgJiYgdGFyZ2V0W1wiX192X2lzUmVhY3RpdmVcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQUNUSVZFICovXSkpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgLy8gdGFyZ2V0IGFscmVhZHkgaGFzIGNvcnJlc3BvbmRpbmcgUHJveHlcbiAgICBjb25zdCBleGlzdGluZ1Byb3h5ID0gcHJveHlNYXAuZ2V0KHRhcmdldCk7XG4gICAgaWYgKGV4aXN0aW5nUHJveHkpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nUHJveHk7XG4gICAgfVxuICAgIC8vIG9ubHkgc3BlY2lmaWMgdmFsdWUgdHlwZXMgY2FuIGJlIG9ic2VydmVkLlxuICAgIGNvbnN0IHRhcmdldFR5cGUgPSBnZXRUYXJnZXRUeXBlKHRhcmdldCk7XG4gICAgaWYgKHRhcmdldFR5cGUgPT09IDAgLyogVGFyZ2V0VHlwZS5JTlZBTElEICovKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHRhcmdldCwgdGFyZ2V0VHlwZSA9PT0gMiAvKiBUYXJnZXRUeXBlLkNPTExFQ1RJT04gKi8gPyBjb2xsZWN0aW9uSGFuZGxlcnMgOiBiYXNlSGFuZGxlcnMpO1xuICAgIHByb3h5TWFwLnNldCh0YXJnZXQsIHByb3h5KTtcbiAgICByZXR1cm4gcHJveHk7XG59XG5mdW5jdGlvbiBpc1JlYWN0aXZlKHZhbHVlKSB7XG4gICAgaWYgKGlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlW1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXSk7XG4gICAgfVxuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWN0aXZlXCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFDVElWRSAqL10pO1xufVxuZnVuY3Rpb24gaXNSZWFkb25seSh2YWx1ZSkge1xuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFET05MWSAqL10pO1xufVxuZnVuY3Rpb24gaXNTaGFsbG93KHZhbHVlKSB7XG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzU2hhbGxvd1wiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfU0hBTExPVyAqL10pO1xufVxuZnVuY3Rpb24gaXNQcm94eSh2YWx1ZSkge1xuICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlKSB8fCBpc1JlYWRvbmx5KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XG4gICAgY29uc3QgcmF3ID0gb2JzZXJ2ZWQgJiYgb2JzZXJ2ZWRbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dO1xuICAgIHJldHVybiByYXcgPyB0b1JhdyhyYXcpIDogb2JzZXJ2ZWQ7XG59XG5mdW5jdGlvbiBtYXJrUmF3KHZhbHVlKSB7XG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIgLyogUmVhY3RpdmVGbGFncy5TS0lQICovLCB0cnVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5jb25zdCB0b1JlYWN0aXZlID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFjdGl2ZSh2YWx1ZSkgOiB2YWx1ZTtcbmNvbnN0IHRvUmVhZG9ubHkgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWRvbmx5KHZhbHVlKSA6IHZhbHVlO1xuXG5mdW5jdGlvbiB0cmFja1JlZlZhbHVlKHJlZikge1xuICAgIGlmIChzaG91bGRUcmFjayAmJiBhY3RpdmVFZmZlY3QpIHtcbiAgICAgICAgcmVmID0gdG9SYXcocmVmKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgdHJhY2tFZmZlY3RzKHJlZi5kZXAgfHwgKHJlZi5kZXAgPSBjcmVhdGVEZXAoKSksIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHJlZixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sXG4gICAgICAgICAgICAgICAga2V5OiAndmFsdWUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNrRWZmZWN0cyhyZWYuZGVwIHx8IChyZWYuZGVwID0gY3JlYXRlRGVwKCkpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJSZWZWYWx1ZShyZWYsIG5ld1ZhbCkge1xuICAgIHJlZiA9IHRvUmF3KHJlZik7XG4gICAgaWYgKHJlZi5kZXApIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgdHJpZ2dlckVmZmVjdHMocmVmLmRlcCwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogcmVmLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLFxuICAgICAgICAgICAgICAgIGtleTogJ3ZhbHVlJyxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyaWdnZXJFZmZlY3RzKHJlZi5kZXApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNSZWYocikge1xuICAgIHJldHVybiAhIShyICYmIHIuX192X2lzUmVmID09PSB0cnVlKTtcbn1cbmZ1bmN0aW9uIHJlZih2YWx1ZSkge1xuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWYodmFsdWUpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlZihyYXdWYWx1ZSwgc2hhbGxvdykge1xuICAgIGlmIChpc1JlZihyYXdWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHJhd1ZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlZkltcGwocmF3VmFsdWUsIHNoYWxsb3cpO1xufVxuY2xhc3MgUmVmSW1wbCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIF9fdl9pc1NoYWxsb3cpIHtcbiAgICAgICAgdGhpcy5fX3ZfaXNTaGFsbG93ID0gX192X2lzU2hhbGxvdztcbiAgICAgICAgdGhpcy5kZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBfX3ZfaXNTaGFsbG93ID8gdmFsdWUgOiB0b1Jhdyh2YWx1ZSk7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gX192X2lzU2hhbGxvdyA/IHZhbHVlIDogdG9SZWFjdGl2ZSh2YWx1ZSk7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgdHJhY2tSZWZWYWx1ZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgICAgIGNvbnN0IHVzZURpcmVjdFZhbHVlID0gdGhpcy5fX3ZfaXNTaGFsbG93IHx8IGlzU2hhbGxvdyhuZXdWYWwpIHx8IGlzUmVhZG9ubHkobmV3VmFsKTtcbiAgICAgICAgbmV3VmFsID0gdXNlRGlyZWN0VmFsdWUgPyBuZXdWYWwgOiB0b1JhdyhuZXdWYWwpO1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZChuZXdWYWwsIHRoaXMuX3Jhd1ZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWw7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHVzZURpcmVjdFZhbHVlID8gbmV3VmFsIDogdG9SZWFjdGl2ZShuZXdWYWwpO1xuICAgICAgICAgICAgdHJpZ2dlclJlZlZhbHVlKHRoaXMsIG5ld1ZhbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyUmVmKHJlZikge1xuICAgIHRyaWdnZXJSZWZWYWx1ZShyZWYsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHJlZi52YWx1ZSA6IHZvaWQgMCk7XG59XG5mdW5jdGlvbiB1bnJlZihyZWYpIHtcbiAgICByZXR1cm4gaXNSZWYocmVmKSA/IHJlZi52YWx1ZSA6IHJlZjtcbn1cbmNvbnN0IHNoYWxsb3dVbndyYXBIYW5kbGVycyA9IHtcbiAgICBnZXQ6ICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHVucmVmKFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpLFxuICAgIHNldDogKHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgaWYgKGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZnVuY3Rpb24gcHJveHlSZWZzKG9iamVjdFdpdGhSZWZzKSB7XG4gICAgcmV0dXJuIGlzUmVhY3RpdmUob2JqZWN0V2l0aFJlZnMpXG4gICAgICAgID8gb2JqZWN0V2l0aFJlZnNcbiAgICAgICAgOiBuZXcgUHJveHkob2JqZWN0V2l0aFJlZnMsIHNoYWxsb3dVbndyYXBIYW5kbGVycyk7XG59XG5jbGFzcyBDdXN0b21SZWZJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XG4gICAgICAgIHRoaXMuZGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IGZhY3RvcnkoKCkgPT4gdHJhY2tSZWZWYWx1ZSh0aGlzKSwgKCkgPT4gdHJpZ2dlclJlZlZhbHVlKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fZ2V0ID0gZ2V0O1xuICAgICAgICB0aGlzLl9zZXQgPSBzZXQ7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldCgpO1xuICAgIH1cbiAgICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgICAgIHRoaXMuX3NldChuZXdWYWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGN1c3RvbVJlZihmYWN0b3J5KSB7XG4gICAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xufVxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzUHJveHkob2JqZWN0KSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYHRvUmVmcygpIGV4cGVjdHMgYSByZWFjdGl2ZSBvYmplY3QgYnV0IHJlY2VpdmVkIGEgcGxhaW4gb25lLmApO1xuICAgIH1cbiAgICBjb25zdCByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgcmV0W2tleV0gPSB0b1JlZihvYmplY3QsIGtleSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5jbGFzcyBPYmplY3RSZWZJbXBsIHtcbiAgICBjb25zdHJ1Y3Rvcihfb2JqZWN0LCBfa2V5LCBfZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHRoaXMuX29iamVjdCA9IF9vYmplY3Q7XG4gICAgICAgIHRoaXMuX2tleSA9IF9rZXk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IF9kZWZhdWx0VmFsdWU7XG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkID8gdGhpcy5fZGVmYXVsdFZhbHVlIDogdmFsO1xuICAgIH1cbiAgICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgICAgIHRoaXMuX29iamVjdFt0aGlzLl9rZXldID0gbmV3VmFsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRvUmVmKG9iamVjdCwga2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBjb25zdCB2YWwgPSBvYmplY3Rba2V5XTtcbiAgICByZXR1cm4gaXNSZWYodmFsKVxuICAgICAgICA/IHZhbFxuICAgICAgICA6IG5ldyBPYmplY3RSZWZJbXBsKG9iamVjdCwga2V5LCBkZWZhdWx0VmFsdWUpO1xufVxuXG52YXIgX2E7XG5jbGFzcyBDb21wdXRlZFJlZkltcGwge1xuICAgIGNvbnN0cnVjdG9yKGdldHRlciwgX3NldHRlciwgaXNSZWFkb25seSwgaXNTU1IpIHtcbiAgICAgICAgdGhpcy5fc2V0dGVyID0gX3NldHRlcjtcbiAgICAgICAgdGhpcy5kZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcbiAgICAgICAgdGhpc1tfYV0gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChnZXR0ZXIsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJpZ2dlclJlZlZhbHVlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lZmZlY3QuY29tcHV0ZWQgPSB0aGlzO1xuICAgICAgICB0aGlzLmVmZmVjdC5hY3RpdmUgPSB0aGlzLl9jYWNoZWFibGUgPSAhaXNTU1I7XG4gICAgICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBRE9OTFkgKi9dID0gaXNSZWFkb25seTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICAvLyB0aGUgY29tcHV0ZWQgcmVmIG1heSBnZXQgd3JhcHBlZCBieSBvdGhlciBwcm94aWVzIGUuZy4gcmVhZG9ubHkoKSAjMzM3NlxuICAgICAgICBjb25zdCBzZWxmID0gdG9SYXcodGhpcyk7XG4gICAgICAgIHRyYWNrUmVmVmFsdWUoc2VsZik7XG4gICAgICAgIGlmIChzZWxmLl9kaXJ0eSB8fCAhc2VsZi5fY2FjaGVhYmxlKSB7XG4gICAgICAgICAgICBzZWxmLl9kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5fdmFsdWUgPSBzZWxmLmVmZmVjdC5ydW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5fdmFsdWU7XG4gICAgfVxuICAgIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLl9zZXR0ZXIobmV3VmFsdWUpO1xuICAgIH1cbn1cbl9hID0gXCJfX3ZfaXNSZWFkb25seVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBRE9OTFkgKi87XG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNTU1IgPSBmYWxzZSkge1xuICAgIGxldCBnZXR0ZXI7XG4gICAgbGV0IHNldHRlcjtcbiAgICBjb25zdCBvbmx5R2V0dGVyID0gaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpO1xuICAgIGlmIChvbmx5R2V0dGVyKSB7XG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcbiAgICAgICAgc2V0dGVyID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICA/ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IE5PT1A7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuZ2V0O1xuICAgICAgICBzZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuc2V0O1xuICAgIH1cbiAgICBjb25zdCBjUmVmID0gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgb25seUdldHRlciB8fCAhc2V0dGVyLCBpc1NTUik7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBkZWJ1Z09wdGlvbnMgJiYgIWlzU1NSKSB7XG4gICAgICAgIGNSZWYuZWZmZWN0Lm9uVHJhY2sgPSBkZWJ1Z09wdGlvbnMub25UcmFjaztcbiAgICAgICAgY1JlZi5lZmZlY3Qub25UcmlnZ2VyID0gZGVidWdPcHRpb25zLm9uVHJpZ2dlcjtcbiAgICB9XG4gICAgcmV0dXJuIGNSZWY7XG59XG5cbmNvbnN0IHN0YWNrID0gW107XG5mdW5jdGlvbiBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpIHtcbiAgICBzdGFjay5wdXNoKHZub2RlKTtcbn1cbmZ1bmN0aW9uIHBvcFdhcm5pbmdDb250ZXh0KCkge1xuICAgIHN0YWNrLnBvcCgpO1xufVxuZnVuY3Rpb24gd2FybiQxKG1zZywgLi4uYXJncykge1xuICAgIGlmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gYXZvaWQgcHJvcHMgZm9ybWF0dGluZyBvciB3YXJuIGhhbmRsZXIgdHJhY2tpbmcgZGVwcyB0aGF0IG1pZ2h0IGJlIG11dGF0ZWRcbiAgICAvLyBkdXJpbmcgcGF0Y2gsIGxlYWRpbmcgdG8gaW5maW5pdGUgcmVjdXJzaW9uLlxuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICBjb25zdCBpbnN0YW5jZSA9IHN0YWNrLmxlbmd0aCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLmNvbXBvbmVudCA6IG51bGw7XG4gICAgY29uc3QgYXBwV2FybkhhbmRsZXIgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy53YXJuSGFuZGxlcjtcbiAgICBjb25zdCB0cmFjZSA9IGdldENvbXBvbmVudFRyYWNlKCk7XG4gICAgaWYgKGFwcFdhcm5IYW5kbGVyKSB7XG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhhcHBXYXJuSGFuZGxlciwgaW5zdGFuY2UsIDExIC8qIEVycm9yQ29kZXMuQVBQX1dBUk5fSEFORExFUiAqLywgW1xuICAgICAgICAgICAgbXNnICsgYXJncy5qb2luKCcnKSxcbiAgICAgICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5LFxuICAgICAgICAgICAgdHJhY2VcbiAgICAgICAgICAgICAgICAubWFwKCh7IHZub2RlIH0pID0+IGBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCB2bm9kZS50eXBlKX0+YClcbiAgICAgICAgICAgICAgICAuam9pbignXFxuJyksXG4gICAgICAgICAgICB0cmFjZVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHdhcm5BcmdzID0gW2BbVnVlIHdhcm5dOiAke21zZ31gLCAuLi5hcmdzXTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICh0cmFjZS5sZW5ndGggJiZcbiAgICAgICAgICAgIC8vIGF2b2lkIHNwYW1taW5nIGNvbnNvbGUgZHVyaW5nIHRlc3RzXG4gICAgICAgICAgICAhZmFsc2UpIHtcbiAgICAgICAgICAgIHdhcm5BcmdzLnB1c2goYFxcbmAsIC4uLmZvcm1hdFRyYWNlKHRyYWNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuKC4uLndhcm5BcmdzKTtcbiAgICB9XG4gICAgcmVzZXRUcmFja2luZygpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50VHJhY2UoKSB7XG4gICAgbGV0IGN1cnJlbnRWTm9kZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGlmICghY3VycmVudFZOb2RlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLy8gd2UgY2FuJ3QganVzdCB1c2UgdGhlIHN0YWNrIGJlY2F1c2UgaXQgd2lsbCBiZSBpbmNvbXBsZXRlIGR1cmluZyB1cGRhdGVzXG4gICAgLy8gdGhhdCBkaWQgbm90IHN0YXJ0IGZyb20gdGhlIHJvb3QuIFJlLWNvbnN0cnVjdCB0aGUgcGFyZW50IGNoYWluIHVzaW5nXG4gICAgLy8gaW5zdGFuY2UgcGFyZW50IHBvaW50ZXJzLlxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xuICAgIHdoaWxlIChjdXJyZW50Vk5vZGUpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IG5vcm1hbGl6ZWRTdGFja1swXTtcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XG4gICAgICAgICAgICBsYXN0LnJlY3Vyc2VDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsaXplZFN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgIHZub2RlOiBjdXJyZW50Vk5vZGUsXG4gICAgICAgICAgICAgICAgcmVjdXJzZUNvdW50OiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJlbnRJbnN0YW5jZSA9IGN1cnJlbnRWTm9kZS5jb21wb25lbnQgJiYgY3VycmVudFZOb2RlLmNvbXBvbmVudC5wYXJlbnQ7XG4gICAgICAgIGN1cnJlbnRWTm9kZSA9IHBhcmVudEluc3RhbmNlICYmIHBhcmVudEluc3RhbmNlLnZub2RlO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGZvcm1hdFRyYWNlKHRyYWNlKSB7XG4gICAgY29uc3QgbG9ncyA9IFtdO1xuICAgIHRyYWNlLmZvckVhY2goKGVudHJ5LCBpKSA9PiB7XG4gICAgICAgIGxvZ3MucHVzaCguLi4oaSA9PT0gMCA/IFtdIDogW2BcXG5gXSksIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbG9ncztcbn1cbmZ1bmN0aW9uIGZvcm1hdFRyYWNlRW50cnkoeyB2bm9kZSwgcmVjdXJzZUNvdW50IH0pIHtcbiAgICBjb25zdCBwb3N0Zml4ID0gcmVjdXJzZUNvdW50ID4gMCA/IGAuLi4gKCR7cmVjdXJzZUNvdW50fSByZWN1cnNpdmUgY2FsbHMpYCA6IGBgO1xuICAgIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xuICAgIGNvbnN0IG9wZW4gPSBgIGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUodm5vZGUuY29tcG9uZW50LCB2bm9kZS50eXBlLCBpc1Jvb3QpfWA7XG4gICAgY29uc3QgY2xvc2UgPSBgPmAgKyBwb3N0Zml4O1xuICAgIHJldHVybiB2bm9kZS5wcm9wc1xuICAgICAgICA/IFtvcGVuLCAuLi5mb3JtYXRQcm9wcyh2bm9kZS5wcm9wcyksIGNsb3NlXVxuICAgICAgICA6IFtvcGVuICsgY2xvc2VdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGZvcm1hdFByb3BzKHByb3BzKSB7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAgICBrZXlzLnNsaWNlKDAsIDMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcbiAgICB9KTtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAzKSB7XG4gICAgICAgIHJlcy5wdXNoKGAgLi4uYCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gZm9ybWF0UHJvcChrZXksIHZhbHVlLCByYXcpIHtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgIHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNSZWYodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gZm9ybWF0UHJvcChrZXksIHRvUmF3KHZhbHVlLnZhbHVlKSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PVJlZjxgLCB2YWx1ZSwgYD5gXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIFtgJHtrZXl9PWZuJHt2YWx1ZS5uYW1lID8gYDwke3ZhbHVlLm5hbWV9PmAgOiBgYH1gXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XG4gICAgfVxufVxuXG5jb25zdCBFcnJvclR5cGVTdHJpbmdzID0ge1xuICAgIFtcInNwXCIgLyogTGlmZWN5Y2xlSG9va3MuU0VSVkVSX1BSRUZFVENIICovXTogJ3NlcnZlclByZWZldGNoIGhvb2snLFxuICAgIFtcImJjXCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX0NSRUFURSAqL106ICdiZWZvcmVDcmVhdGUgaG9vaycsXG4gICAgW1wiY1wiIC8qIExpZmVjeWNsZUhvb2tzLkNSRUFURUQgKi9dOiAnY3JlYXRlZCBob29rJyxcbiAgICBbXCJibVwiIC8qIExpZmVjeWNsZUhvb2tzLkJFRk9SRV9NT1VOVCAqL106ICdiZWZvcmVNb3VudCBob29rJyxcbiAgICBbXCJtXCIgLyogTGlmZWN5Y2xlSG9va3MuTU9VTlRFRCAqL106ICdtb3VudGVkIGhvb2snLFxuICAgIFtcImJ1XCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX1VQREFURSAqL106ICdiZWZvcmVVcGRhdGUgaG9vaycsXG4gICAgW1widVwiIC8qIExpZmVjeWNsZUhvb2tzLlVQREFURUQgKi9dOiAndXBkYXRlZCcsXG4gICAgW1wiYnVtXCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX1VOTU9VTlQgKi9dOiAnYmVmb3JlVW5tb3VudCBob29rJyxcbiAgICBbXCJ1bVwiIC8qIExpZmVjeWNsZUhvb2tzLlVOTU9VTlRFRCAqL106ICd1bm1vdW50ZWQgaG9vaycsXG4gICAgW1wiYVwiIC8qIExpZmVjeWNsZUhvb2tzLkFDVElWQVRFRCAqL106ICdhY3RpdmF0ZWQgaG9vaycsXG4gICAgW1wiZGFcIiAvKiBMaWZlY3ljbGVIb29rcy5ERUFDVElWQVRFRCAqL106ICdkZWFjdGl2YXRlZCBob29rJyxcbiAgICBbXCJlY1wiIC8qIExpZmVjeWNsZUhvb2tzLkVSUk9SX0NBUFRVUkVEICovXTogJ2Vycm9yQ2FwdHVyZWQgaG9vaycsXG4gICAgW1wicnRjXCIgLyogTGlmZWN5Y2xlSG9va3MuUkVOREVSX1RSQUNLRUQgKi9dOiAncmVuZGVyVHJhY2tlZCBob29rJyxcbiAgICBbXCJydGdcIiAvKiBMaWZlY3ljbGVIb29rcy5SRU5ERVJfVFJJR0dFUkVEICovXTogJ3JlbmRlclRyaWdnZXJlZCBob29rJyxcbiAgICBbMCAvKiBFcnJvckNvZGVzLlNFVFVQX0ZVTkNUSU9OICovXTogJ3NldHVwIGZ1bmN0aW9uJyxcbiAgICBbMSAvKiBFcnJvckNvZGVzLlJFTkRFUl9GVU5DVElPTiAqL106ICdyZW5kZXIgZnVuY3Rpb24nLFxuICAgIFsyIC8qIEVycm9yQ29kZXMuV0FUQ0hfR0VUVEVSICovXTogJ3dhdGNoZXIgZ2V0dGVyJyxcbiAgICBbMyAvKiBFcnJvckNvZGVzLldBVENIX0NBTExCQUNLICovXTogJ3dhdGNoZXIgY2FsbGJhY2snLFxuICAgIFs0IC8qIEVycm9yQ29kZXMuV0FUQ0hfQ0xFQU5VUCAqL106ICd3YXRjaGVyIGNsZWFudXAgZnVuY3Rpb24nLFxuICAgIFs1IC8qIEVycm9yQ29kZXMuTkFUSVZFX0VWRU5UX0hBTkRMRVIgKi9dOiAnbmF0aXZlIGV2ZW50IGhhbmRsZXInLFxuICAgIFs2IC8qIEVycm9yQ29kZXMuQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi9dOiAnY29tcG9uZW50IGV2ZW50IGhhbmRsZXInLFxuICAgIFs3IC8qIEVycm9yQ29kZXMuVk5PREVfSE9PSyAqL106ICd2bm9kZSBob29rJyxcbiAgICBbOCAvKiBFcnJvckNvZGVzLkRJUkVDVElWRV9IT09LICovXTogJ2RpcmVjdGl2ZSBob29rJyxcbiAgICBbOSAvKiBFcnJvckNvZGVzLlRSQU5TSVRJT05fSE9PSyAqL106ICd0cmFuc2l0aW9uIGhvb2snLFxuICAgIFsxMCAvKiBFcnJvckNvZGVzLkFQUF9FUlJPUl9IQU5ETEVSICovXTogJ2FwcCBlcnJvckhhbmRsZXInLFxuICAgIFsxMSAvKiBFcnJvckNvZGVzLkFQUF9XQVJOX0hBTkRMRVIgKi9dOiAnYXBwIHdhcm5IYW5kbGVyJyxcbiAgICBbMTIgLyogRXJyb3JDb2Rlcy5GVU5DVElPTl9SRUYgKi9dOiAncmVmIGZ1bmN0aW9uJyxcbiAgICBbMTMgLyogRXJyb3JDb2Rlcy5BU1lOQ19DT01QT05FTlRfTE9BREVSICovXTogJ2FzeW5jIGNvbXBvbmVudCBsb2FkZXInLFxuICAgIFsxNCAvKiBFcnJvckNvZGVzLlNDSEVEVUxFUiAqL106ICdzY2hlZHVsZXIgZmx1c2guIFRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFscyBidWcuICcgK1xuICAgICAgICAnUGxlYXNlIG9wZW4gYW4gaXNzdWUgYXQgaHR0cHM6Ly9uZXctaXNzdWUudnVlanMub3JnLz9yZXBvPXZ1ZWpzL2NvcmUnXG59O1xuZnVuY3Rpb24gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICAgIGxldCByZXM7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzID0gYXJncyA/IGZuKC4uLmFyZ3MpIDogZm4oKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICBjb25zdCByZXMgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcbiAgICAgICAgaWYgKHJlcyAmJiBpc1Byb21pc2UocmVzKSkge1xuICAgICAgICAgICAgcmVzLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xufVxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcbiAgICBjb25zdCBjb250ZXh0Vk5vZGUgPSBpbnN0YW5jZSA/IGluc3RhbmNlLnZub2RlIDogbnVsbDtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgbGV0IGN1ciA9IGluc3RhbmNlLnBhcmVudDtcbiAgICAgICAgLy8gdGhlIGV4cG9zZWQgaW5zdGFuY2UgaXMgdGhlIHJlbmRlciBwcm94eSB0byBrZWVwIGl0IGNvbnNpc3RlbnQgd2l0aCAyLnhcbiAgICAgICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XG4gICAgICAgIC8vIGluIHByb2R1Y3Rpb24gdGhlIGhvb2sgcmVjZWl2ZXMgb25seSB0aGUgZXJyb3IgY29kZVxuICAgICAgICBjb25zdCBlcnJvckluZm8gPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBFcnJvclR5cGVTdHJpbmdzW3R5cGVdIDogdHlwZTtcbiAgICAgICAgd2hpbGUgKGN1cikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JDYXB0dXJlZEhvb2tzID0gY3VyLmVjO1xuICAgICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rcykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3NbaV0oZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mbykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXIgPSBjdXIucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIGFwcC1sZXZlbCBoYW5kbGluZ1xuICAgICAgICBjb25zdCBhcHBFcnJvckhhbmRsZXIgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5lcnJvckhhbmRsZXI7XG4gICAgICAgIGlmIChhcHBFcnJvckhhbmRsZXIpIHtcbiAgICAgICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhhcHBFcnJvckhhbmRsZXIsIG51bGwsIDEwIC8qIEVycm9yQ29kZXMuQVBQX0VSUk9SX0hBTkRMRVIgKi8sIFtlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYpO1xufVxuZnVuY3Rpb24gbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYgPSB0cnVlKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCBpbmZvID0gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXTtcbiAgICAgICAgaWYgKGNvbnRleHRWTm9kZSkge1xuICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGNvbnRleHRWTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgd2FybiQxKGBVbmhhbmRsZWQgZXJyb3Ike2luZm8gPyBgIGR1cmluZyBleGVjdXRpb24gb2YgJHtpbmZvfWAgOiBgYH1gKTtcbiAgICAgICAgaWYgKGNvbnRleHRWTm9kZSkge1xuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjcmFzaCBpbiBkZXYgYnkgZGVmYXVsdCBzbyBpdCdzIG1vcmUgbm90aWNlYWJsZVxuICAgICAgICBpZiAodGhyb3dJbkRldikge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyByZWNvdmVyIGluIHByb2QgdG8gcmVkdWNlIHRoZSBpbXBhY3Qgb24gZW5kLXVzZXJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH1cbn1cblxubGV0IGlzRmx1c2hpbmcgPSBmYWxzZTtcbmxldCBpc0ZsdXNoUGVuZGluZyA9IGZhbHNlO1xuY29uc3QgcXVldWUgPSBbXTtcbmxldCBmbHVzaEluZGV4ID0gMDtcbmNvbnN0IHBlbmRpbmdQb3N0Rmx1c2hDYnMgPSBbXTtcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xubGV0IHBvc3RGbHVzaEluZGV4ID0gMDtcbmNvbnN0IHJlc29sdmVkUHJvbWlzZSA9IC8qI19fUFVSRV9fKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5sZXQgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XG5jb25zdCBSRUNVUlNJT05fTElNSVQgPSAxMDA7XG5mdW5jdGlvbiBuZXh0VGljayhmbikge1xuICAgIGNvbnN0IHAgPSBjdXJyZW50Rmx1c2hQcm9taXNlIHx8IHJlc29sdmVkUHJvbWlzZTtcbiAgICByZXR1cm4gZm4gPyBwLnRoZW4odGhpcyA/IGZuLmJpbmQodGhpcykgOiBmbikgOiBwO1xufVxuLy8gIzI3Njhcbi8vIFVzZSBiaW5hcnktc2VhcmNoIHRvIGZpbmQgYSBzdWl0YWJsZSBwb3NpdGlvbiBpbiB0aGUgcXVldWUsXG4vLyBzbyB0aGF0IHRoZSBxdWV1ZSBtYWludGFpbnMgdGhlIGluY3JlYXNpbmcgb3JkZXIgb2Ygam9iJ3MgaWQsXG4vLyB3aGljaCBjYW4gcHJldmVudCB0aGUgam9iIGZyb20gYmVpbmcgc2tpcHBlZCBhbmQgYWxzbyBjYW4gYXZvaWQgcmVwZWF0ZWQgcGF0Y2hpbmcuXG5mdW5jdGlvbiBmaW5kSW5zZXJ0aW9uSW5kZXgoaWQpIHtcbiAgICAvLyB0aGUgc3RhcnQgaW5kZXggc2hvdWxkIGJlIGBmbHVzaEluZGV4ICsgMWBcbiAgICBsZXQgc3RhcnQgPSBmbHVzaEluZGV4ICsgMTtcbiAgICBsZXQgZW5kID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBjb25zdCBtaWRkbGUgPSAoc3RhcnQgKyBlbmQpID4+PiAxO1xuICAgICAgICBjb25zdCBtaWRkbGVKb2JJZCA9IGdldElkKHF1ZXVlW21pZGRsZV0pO1xuICAgICAgICBtaWRkbGVKb2JJZCA8IGlkID8gKHN0YXJ0ID0gbWlkZGxlICsgMSkgOiAoZW5kID0gbWlkZGxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0O1xufVxuZnVuY3Rpb24gcXVldWVKb2Ioam9iKSB7XG4gICAgLy8gdGhlIGRlZHVwZSBzZWFyY2ggdXNlcyB0aGUgc3RhcnRJbmRleCBhcmd1bWVudCBvZiBBcnJheS5pbmNsdWRlcygpXG4gICAgLy8gYnkgZGVmYXVsdCB0aGUgc2VhcmNoIGluZGV4IGluY2x1ZGVzIHRoZSBjdXJyZW50IGpvYiB0aGF0IGlzIGJlaW5nIHJ1blxuICAgIC8vIHNvIGl0IGNhbm5vdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiBhZ2Fpbi5cbiAgICAvLyBpZiB0aGUgam9iIGlzIGEgd2F0Y2goKSBjYWxsYmFjaywgdGhlIHNlYXJjaCB3aWxsIHN0YXJ0IHdpdGggYSArMSBpbmRleCB0b1xuICAgIC8vIGFsbG93IGl0IHJlY3Vyc2l2ZWx5IHRyaWdnZXIgaXRzZWxmIC0gaXQgaXMgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0b1xuICAgIC8vIGVuc3VyZSBpdCBkb2Vzbid0IGVuZCB1cCBpbiBhbiBpbmZpbml0ZSBsb29wLlxuICAgIGlmICghcXVldWUubGVuZ3RoIHx8XG4gICAgICAgICFxdWV1ZS5pbmNsdWRlcyhqb2IsIGlzRmx1c2hpbmcgJiYgam9iLmFsbG93UmVjdXJzZSA/IGZsdXNoSW5kZXggKyAxIDogZmx1c2hJbmRleCkpIHtcbiAgICAgICAgaWYgKGpvYi5pZCA9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGpvYik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UoZmluZEluc2VydGlvbkluZGV4KGpvYi5pZCksIDAsIGpvYik7XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVGbHVzaCgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlRmx1c2goKSB7XG4gICAgaWYgKCFpc0ZsdXNoaW5nICYmICFpc0ZsdXNoUGVuZGluZykge1xuICAgICAgICBpc0ZsdXNoUGVuZGluZyA9IHRydWU7XG4gICAgICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSByZXNvbHZlZFByb21pc2UudGhlbihmbHVzaEpvYnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGludmFsaWRhdGVKb2Ioam9iKSB7XG4gICAgY29uc3QgaSA9IHF1ZXVlLmluZGV4T2Yoam9iKTtcbiAgICBpZiAoaSA+IGZsdXNoSW5kZXgpIHtcbiAgICAgICAgcXVldWUuc3BsaWNlKGksIDEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlUG9zdEZsdXNoQ2IoY2IpIHtcbiAgICBpZiAoIWlzQXJyYXkoY2IpKSB7XG4gICAgICAgIGlmICghYWN0aXZlUG9zdEZsdXNoQ2JzIHx8XG4gICAgICAgICAgICAhYWN0aXZlUG9zdEZsdXNoQ2JzLmluY2x1ZGVzKGNiLCBjYi5hbGxvd1JlY3Vyc2UgPyBwb3N0Rmx1c2hJbmRleCArIDEgOiBwb3N0Rmx1c2hJbmRleCkpIHtcbiAgICAgICAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaChjYik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGlmIGNiIGlzIGFuIGFycmF5LCBpdCBpcyBhIGNvbXBvbmVudCBsaWZlY3ljbGUgaG9vayB3aGljaCBjYW4gb25seSBiZVxuICAgICAgICAvLyB0cmlnZ2VyZWQgYnkgYSBqb2IsIHdoaWNoIGlzIGFscmVhZHkgZGVkdXBlZCBpbiB0aGUgbWFpbiBxdWV1ZSwgc29cbiAgICAgICAgLy8gd2UgY2FuIHNraXAgZHVwbGljYXRlIGNoZWNrIGhlcmUgdG8gaW1wcm92ZSBwZXJmXG4gICAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaCguLi5jYik7XG4gICAgfVxuICAgIHF1ZXVlRmx1c2goKTtcbn1cbmZ1bmN0aW9uIGZsdXNoUHJlRmx1c2hDYnMoc2VlbiwgXG4vLyBpZiBjdXJyZW50bHkgZmx1c2hpbmcsIHNraXAgdGhlIGN1cnJlbnQgam9iIGl0c2VsZlxuaSA9IGlzRmx1c2hpbmcgPyBmbHVzaEluZGV4ICsgMSA6IDApIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjYiA9IHF1ZXVlW2ldO1xuICAgICAgICBpZiAoY2IgJiYgY2IucHJlKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHF1ZXVlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIGNiKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBmbHVzaFBvc3RGbHVzaENicyhzZWVuKSB7XG4gICAgaWYgKHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGRlZHVwZWQgPSBbLi4ubmV3IFNldChwZW5kaW5nUG9zdEZsdXNoQ2JzKV07XG4gICAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gIzE5NDcgYWxyZWFkeSBoYXMgYWN0aXZlIHF1ZXVlLCBuZXN0ZWQgZmx1c2hQb3N0Rmx1c2hDYnMgY2FsbFxuICAgICAgICBpZiAoYWN0aXZlUG9zdEZsdXNoQ2JzKSB7XG4gICAgICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMucHVzaCguLi5kZWR1cGVkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBkZWR1cGVkO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNvcnQoKGEsIGIpID0+IGdldElkKGEpIC0gZ2V0SWQoYikpO1xuICAgICAgICBmb3IgKHBvc3RGbHVzaEluZGV4ID0gMDsgcG9zdEZsdXNoSW5kZXggPCBhY3RpdmVQb3N0Rmx1c2hDYnMubGVuZ3RoOyBwb3N0Rmx1c2hJbmRleCsrKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKCk7XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcbiAgICAgICAgcG9zdEZsdXNoSW5kZXggPSAwO1xuICAgIH1cbn1cbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBJbmZpbml0eSA6IGpvYi5pZDtcbmNvbnN0IGNvbXBhcmF0b3IgPSAoYSwgYikgPT4ge1xuICAgIGNvbnN0IGRpZmYgPSBnZXRJZChhKSAtIGdldElkKGIpO1xuICAgIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAgIGlmIChhLnByZSAmJiAhYi5wcmUpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChiLnByZSAmJiAhYS5wcmUpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgcmV0dXJuIGRpZmY7XG59O1xuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcbiAgICBpc0ZsdXNoUGVuZGluZyA9IGZhbHNlO1xuICAgIGlzRmx1c2hpbmcgPSB0cnVlO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgc2VlbiA9IHNlZW4gfHwgbmV3IE1hcCgpO1xuICAgIH1cbiAgICAvLyBTb3J0IHF1ZXVlIGJlZm9yZSBmbHVzaC5cbiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcbiAgICAvLyAxLiBDb21wb25lbnRzIGFyZSB1cGRhdGVkIGZyb20gcGFyZW50IHRvIGNoaWxkLiAoYmVjYXVzZSBwYXJlbnQgaXMgYWx3YXlzXG4gICAgLy8gICAgY3JlYXRlZCBiZWZvcmUgdGhlIGNoaWxkIHNvIGl0cyByZW5kZXIgZWZmZWN0IHdpbGwgaGF2ZSBzbWFsbGVyXG4gICAgLy8gICAgcHJpb3JpdHkgbnVtYmVyKVxuICAgIC8vIDIuIElmIGEgY29tcG9uZW50IGlzIHVubW91bnRlZCBkdXJpbmcgYSBwYXJlbnQgY29tcG9uZW50J3MgdXBkYXRlLFxuICAgIC8vICAgIGl0cyB1cGRhdGUgY2FuIGJlIHNraXBwZWQuXG4gICAgcXVldWUuc29ydChjb21wYXJhdG9yKTtcbiAgICAvLyBjb25kaXRpb25hbCB1c2FnZSBvZiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZSBtdXN0IGJlIGRldGVybWluZWQgb3V0IG9mXG4gICAgLy8gdHJ5IC4uLiBjYXRjaCBibG9jayBzaW5jZSBSb2xsdXAgYnkgZGVmYXVsdCBkZS1vcHRpbWl6ZXMgdHJlZXNoYWtpbmdcbiAgICAvLyBpbnNpZGUgdHJ5LWNhdGNoLiBUaGlzIGNhbiBsZWF2ZSBhbGwgd2FybmluZyBjb2RlIHVuc2hha2VkLiBBbHRob3VnaFxuICAgIC8vIHRoZXkgd291bGQgZ2V0IGV2ZW50dWFsbHkgc2hha2VuIGJ5IGEgbWluaWZpZXIgbGlrZSB0ZXJzZXIsIHNvbWUgbWluaWZpZXJzXG4gICAgLy8gd291bGQgZmFpbCB0byBkbyB0aGF0IChlLmcuIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9lc2J1aWxkL2lzc3Vlcy8xNjEwKVxuICAgIGNvbnN0IGNoZWNrID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgID8gKGpvYikgPT4gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGpvYilcbiAgICAgICAgOiBOT09QO1xuICAgIHRyeSB7XG4gICAgICAgIGZvciAoZmx1c2hJbmRleCA9IDA7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3Qgam9iID0gcXVldWVbZmx1c2hJbmRleF07XG4gICAgICAgICAgICBpZiAoam9iICYmIGpvYi5hY3RpdmUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVjayhqb2IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgcnVubmluZzpgLCBqb2IuaWQpXG4gICAgICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGpvYiwgbnVsbCwgMTQgLyogRXJyb3JDb2Rlcy5TQ0hFRFVMRVIgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBmbHVzaEluZGV4ID0gMDtcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XG4gICAgICAgIGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgICAgICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIC8vIHNvbWUgcG9zdEZsdXNoQ2IgcXVldWVkIGpvYnMhXG4gICAgICAgIC8vIGtlZXAgZmx1c2hpbmcgdW50aWwgaXQgZHJhaW5zLlxuICAgICAgICBpZiAocXVldWUubGVuZ3RoIHx8IHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBmbHVzaEpvYnMoc2Vlbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgZm4pIHtcbiAgICBpZiAoIXNlZW4uaGFzKGZuKSkge1xuICAgICAgICBzZWVuLnNldChmbiwgMSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBjb3VudCA9IHNlZW4uZ2V0KGZuKTtcbiAgICAgICAgaWYgKGNvdW50ID4gUkVDVVJTSU9OX0xJTUlUKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGZuLm93bmVySW5zdGFuY2U7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gaW5zdGFuY2UgJiYgZ2V0Q29tcG9uZW50TmFtZShpbnN0YW5jZS50eXBlKTtcbiAgICAgICAgICAgIHdhcm4kMShgTWF4aW11bSByZWN1cnNpdmUgdXBkYXRlcyBleGNlZWRlZCR7Y29tcG9uZW50TmFtZSA/IGAgaW4gY29tcG9uZW50IDwke2NvbXBvbmVudE5hbWV9PmAgOiBgYH0uIGAgK1xuICAgICAgICAgICAgICAgIGBUaGlzIG1lYW5zIHlvdSBoYXZlIGEgcmVhY3RpdmUgZWZmZWN0IHRoYXQgaXMgbXV0YXRpbmcgaXRzIG93biBgICtcbiAgICAgICAgICAgICAgICBgZGVwZW5kZW5jaWVzIGFuZCB0aHVzIHJlY3Vyc2l2ZWx5IHRyaWdnZXJpbmcgaXRzZWxmLiBQb3NzaWJsZSBzb3VyY2VzIGAgK1xuICAgICAgICAgICAgICAgIGBpbmNsdWRlIGNvbXBvbmVudCB0ZW1wbGF0ZSwgcmVuZGVyIGZ1bmN0aW9uLCB1cGRhdGVkIGhvb2sgb3IgYCArXG4gICAgICAgICAgICAgICAgYHdhdGNoZXIgc291cmNlIGZ1bmN0aW9uLmApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWVuLnNldChmbiwgY291bnQgKyAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG5sZXQgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xuY29uc3QgaG1yRGlydHlDb21wb25lbnRzID0gbmV3IFNldCgpO1xuLy8gRXhwb3NlIHRoZSBITVIgcnVudGltZSBvbiB0aGUgZ2xvYmFsIG9iamVjdFxuLy8gVGhpcyBtYWtlcyBpdCBlbnRpcmVseSB0cmVlLXNoYWthYmxlIHdpdGhvdXQgcG9sbHV0aW5nIHRoZSBleHBvcnRzIGFuZCBtYWtlc1xuLy8gaXQgZWFzaWVyIHRvIGJlIHVzZWQgaW4gdG9vbGluZ3MgbGlrZSB2dWUtbG9hZGVyXG4vLyBOb3RlOiBmb3IgYSBjb21wb25lbnQgdG8gYmUgZWxpZ2libGUgZm9yIEhNUiBpdCBhbHNvIG5lZWRzIHRoZSBfX2htcklkIG9wdGlvblxuLy8gdG8gYmUgc2V0IHNvIHRoYXQgaXRzIGluc3RhbmNlcyBjYW4gYmUgcmVnaXN0ZXJlZCAvIHJlbW92ZWQuXG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX0hNUl9SVU5USU1FX18gPSB7XG4gICAgICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxuICAgICAgICByZXJlbmRlcjogdHJ5V3JhcChyZXJlbmRlciksXG4gICAgICAgIHJlbG9hZDogdHJ5V3JhcChyZWxvYWQpXG4gICAgfTtcbn1cbmNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gICAgY29uc3QgaWQgPSBpbnN0YW5jZS50eXBlLl9faG1ySWQ7XG4gICAgbGV0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICAgIGlmICghcmVjb3JkKSB7XG4gICAgICAgIGNyZWF0ZVJlY29yZChpZCwgaW5zdGFuY2UudHlwZSk7XG4gICAgICAgIHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICAgIH1cbiAgICByZWNvcmQuaW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gICAgbWFwLmdldChpbnN0YW5jZS50eXBlLl9faG1ySWQpLmluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBpbml0aWFsRGVmKSB7XG4gICAgaWYgKG1hcC5oYXMoaWQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbWFwLnNldChpZCwge1xuICAgICAgICBpbml0aWFsRGVmOiBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbml0aWFsRGVmKSxcbiAgICAgICAgaW5zdGFuY2VzOiBuZXcgU2V0KClcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIHJldHVybiBpc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkgPyBjb21wb25lbnQuX192Y2NPcHRzIDogY29tcG9uZW50O1xufVxuZnVuY3Rpb24gcmVyZW5kZXIoaWQsIG5ld1JlbmRlcikge1xuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICAgIGlmICghcmVjb3JkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gdXBkYXRlIGluaXRpYWwgcmVjb3JkIChmb3Igbm90LXlldC1yZW5kZXJlZCBjb21wb25lbnQpXG4gICAgcmVjb3JkLmluaXRpYWxEZWYucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgIFsuLi5yZWNvcmQuaW5zdGFuY2VzXS5mb3JFYWNoKGluc3RhbmNlID0+IHtcbiAgICAgICAgaWYgKG5ld1JlbmRlcikge1xuICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgICAgICAgICAgbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSkucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLnJlbmRlckNhY2hlID0gW107XG4gICAgICAgIC8vIHRoaXMgZmxhZyBmb3JjZXMgY2hpbGQgY29tcG9uZW50cyB3aXRoIHNsb3QgY29udGVudCB0byB1cGRhdGVcbiAgICAgICAgaXNIbXJVcGRhdGluZyA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgICBpc0htclVwZGF0aW5nID0gZmFsc2U7XG4gICAgfSk7XG59XG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcbiAgICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgICBpZiAoIXJlY29yZClcbiAgICAgICAgcmV0dXJuO1xuICAgIG5ld0NvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChuZXdDb21wKTtcbiAgICAvLyB1cGRhdGUgaW5pdGlhbCBkZWYgKGZvciBub3QteWV0LXJlbmRlcmVkIGNvbXBvbmVudHMpXG4gICAgdXBkYXRlQ29tcG9uZW50RGVmKHJlY29yZC5pbml0aWFsRGVmLCBuZXdDb21wKTtcbiAgICAvLyBjcmVhdGUgYSBzbmFwc2hvdCB3aGljaCBhdm9pZHMgdGhlIHNldCBiZWluZyBtdXRhdGVkIGR1cmluZyB1cGRhdGVzXG4gICAgY29uc3QgaW5zdGFuY2VzID0gWy4uLnJlY29yZC5pbnN0YW5jZXNdO1xuICAgIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgaW5zdGFuY2VzKSB7XG4gICAgICAgIGNvbnN0IG9sZENvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKTtcbiAgICAgICAgaWYgKCFobXJEaXJ0eUNvbXBvbmVudHMuaGFzKG9sZENvbXApKSB7XG4gICAgICAgICAgICAvLyAxLiBVcGRhdGUgZXhpc3RpbmcgY29tcCBkZWZpbml0aW9uIHRvIG1hdGNoIG5ldyBvbmVcbiAgICAgICAgICAgIGlmIChvbGRDb21wICE9PSByZWNvcmQuaW5pdGlhbERlZikge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudERlZihvbGRDb21wLCBuZXdDb21wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDIuIG1hcmsgZGVmaW5pdGlvbiBkaXJ0eS4gVGhpcyBmb3JjZXMgdGhlIHJlbmRlcmVyIHRvIHJlcGxhY2UgdGhlXG4gICAgICAgICAgICAvLyBjb21wb25lbnQgb24gcGF0Y2guXG4gICAgICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuYWRkKG9sZENvbXApO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuIGludmFsaWRhdGUgb3B0aW9ucyByZXNvbHV0aW9uIGNhY2hlXG4gICAgICAgIGluc3RhbmNlLmFwcENvbnRleHQub3B0aW9uc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICAgICAgLy8gNC4gYWN0dWFsbHkgdXBkYXRlXG4gICAgICAgIGlmIChpbnN0YW5jZS5jZVJlbG9hZCkge1xuICAgICAgICAgICAgLy8gY3VzdG9tIGVsZW1lbnRcbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5hZGQob2xkQ29tcCk7XG4gICAgICAgICAgICBpbnN0YW5jZS5jZVJlbG9hZChuZXdDb21wLnN0eWxlcyk7XG4gICAgICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuZGVsZXRlKG9sZENvbXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluc3RhbmNlLnBhcmVudCkge1xuICAgICAgICAgICAgLy8gNC4gRm9yY2UgdGhlIHBhcmVudCBpbnN0YW5jZSB0byByZS1yZW5kZXIuIFRoaXMgd2lsbCBjYXVzZSBhbGwgdXBkYXRlZFxuICAgICAgICAgICAgLy8gY29tcG9uZW50cyB0byBiZSB1bm1vdW50ZWQgYW5kIHJlLW1vdW50ZWQuIFF1ZXVlIHRoZSB1cGRhdGUgc28gdGhhdCB3ZVxuICAgICAgICAgICAgLy8gZG9uJ3QgZW5kIHVwIGZvcmNpbmcgdGhlIHNhbWUgcGFyZW50IHRvIHJlLXJlbmRlciBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKSB7XG4gICAgICAgICAgICAvLyByb290IGluc3RhbmNlIG1vdW50ZWQgdmlhIGNyZWF0ZUFwcCgpIGhhcyBhIHJlbG9hZCBtZXRob2RcbiAgICAgICAgICAgIGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIHJvb3QgaW5zdGFuY2UgaW5zaWRlIHRyZWUgY3JlYXRlZCB2aWEgcmF3IHJlbmRlcigpLiBGb3JjZSByZWxvYWQuXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tITVJdIFJvb3Qgb3IgbWFudWFsbHkgbW91bnRlZCBpbnN0YW5jZSBtb2RpZmllZC4gRnVsbCByZWxvYWQgcmVxdWlyZWQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gNS4gbWFrZSBzdXJlIHRvIGNsZWFudXAgZGlydHkgaG1yIGNvbXBvbmVudHMgYWZ0ZXIgdXBkYXRlXG4gICAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgaW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuZGVsZXRlKG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApIHtcbiAgICBleHRlbmQob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2xkQ29tcCkge1xuICAgICAgICBpZiAoa2V5ICE9PSAnX19maWxlJyAmJiAhKGtleSBpbiBuZXdDb21wKSkge1xuICAgICAgICAgICAgZGVsZXRlIG9sZENvbXBba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRyeVdyYXAoZm4pIHtcbiAgICByZXR1cm4gKGlkLCBhcmcpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBmbihpZCwgYXJnKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0hNUl0gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIFZ1ZSBjb21wb25lbnQgaG90LXJlbG9hZC4gYCArXG4gICAgICAgICAgICAgICAgYEZ1bGwgcmVsb2FkIHJlcXVpcmVkLmApO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxubGV0IGRldnRvb2xzO1xubGV0IGJ1ZmZlciA9IFtdO1xubGV0IGRldnRvb2xzTm90SW5zdGFsbGVkID0gZmFsc2U7XG5mdW5jdGlvbiBlbWl0KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgaWYgKGRldnRvb2xzKSB7XG4gICAgICAgIGRldnRvb2xzLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICghZGV2dG9vbHNOb3RJbnN0YWxsZWQpIHtcbiAgICAgICAgYnVmZmVyLnB1c2goeyBldmVudCwgYXJncyB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXREZXZ0b29sc0hvb2soaG9vaywgdGFyZ2V0KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBkZXZ0b29scyA9IGhvb2s7XG4gICAgaWYgKGRldnRvb2xzKSB7XG4gICAgICAgIGRldnRvb2xzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICBidWZmZXIuZm9yRWFjaCgoeyBldmVudCwgYXJncyB9KSA9PiBkZXZ0b29scy5lbWl0KGV2ZW50LCAuLi5hcmdzKSk7XG4gICAgICAgIGJ1ZmZlciA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChcbiAgICAvLyBoYW5kbGUgbGF0ZSBkZXZ0b29scyBpbmplY3Rpb24gLSBvbmx5IGRvIHRoaXMgaWYgd2UgYXJlIGluIGFuIGFjdHVhbFxuICAgIC8vIGJyb3dzZXIgZW52aXJvbm1lbnQgdG8gYXZvaWQgdGhlIHRpbWVyIGhhbmRsZSBzdGFsbGluZyB0ZXN0IHJ1bm5lciBleGl0XG4gICAgLy8gKCM0ODE1KVxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIC8vIHNvbWUgZW52cyBtb2NrIHdpbmRvdyBidXQgbm90IGZ1bGx5XG4gICAgICAgIHdpbmRvdy5IVE1MRWxlbWVudCAmJlxuICAgICAgICAvLyBhbHNvIGV4Y2x1ZGUganNkb21cbiAgICAgICAgISgoX2IgPSAoX2EgPSB3aW5kb3cubmF2aWdhdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudXNlckFnZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoJ2pzZG9tJykpKSB7XG4gICAgICAgIGNvbnN0IHJlcGxheSA9ICh0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9XG4gICAgICAgICAgICB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyB8fCBbXSk7XG4gICAgICAgIHJlcGxheS5wdXNoKChuZXdIb29rKSA9PiB7XG4gICAgICAgICAgICBzZXREZXZ0b29sc0hvb2sobmV3SG9vaywgdGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNsZWFyIGJ1ZmZlciBhZnRlciAzcyAtIHRoZSB1c2VyIHByb2JhYmx5IGRvZXNuJ3QgaGF2ZSBkZXZ0b29scyBpbnN0YWxsZWRcbiAgICAgICAgLy8gYXQgYWxsLCBhbmQga2VlcGluZyB0aGUgYnVmZmVyIHdpbGwgY2F1c2UgbWVtb3J5IGxlYWtzICgjNDczOClcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWRldnRvb2xzKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gPSBudWxsO1xuICAgICAgICAgICAgICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMzAwMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBub24tYnJvd3NlciBlbnYsIGFzc3VtZSBub3QgaW5zdGFsbGVkXG4gICAgICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICAgICAgYnVmZmVyID0gW107XG4gICAgfVxufVxuZnVuY3Rpb24gZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbikge1xuICAgIGVtaXQoXCJhcHA6aW5pdFwiIC8qIERldnRvb2xzSG9va3MuQVBQX0lOSVQgKi8sIGFwcCwgdmVyc2lvbiwge1xuICAgICAgICBGcmFnbWVudCxcbiAgICAgICAgVGV4dCxcbiAgICAgICAgQ29tbWVudCxcbiAgICAgICAgU3RhdGljXG4gICAgfSk7XG59XG5mdW5jdGlvbiBkZXZ0b29sc1VubW91bnRBcHAoYXBwKSB7XG4gICAgZW1pdChcImFwcDp1bm1vdW50XCIgLyogRGV2dG9vbHNIb29rcy5BUFBfVU5NT1VOVCAqLywgYXBwKTtcbn1cbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50QWRkZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDphZGRlZFwiIC8qIERldnRvb2xzSG9va3MuQ09NUE9ORU5UX0FEREVEICovKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCA9IFxuLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6dXBkYXRlZFwiIC8qIERldnRvb2xzSG9va3MuQ09NUE9ORU5UX1VQREFURUQgKi8pO1xuY29uc3QgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBEZXZ0b29sc0hvb2tzLkNPTVBPTkVOVF9SRU1PVkVEICovKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IChjb21wb25lbnQpID0+IHtcbiAgICBpZiAoZGV2dG9vbHMgJiZcbiAgICAgICAgdHlwZW9mIGRldnRvb2xzLmNsZWFudXBCdWZmZXIgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBjb21wb25lbnQgaWYgaXQgd2Fzbid0IGJ1ZmZlcmVkXG4gICAgICAgICFkZXZ0b29scy5jbGVhbnVwQnVmZmVyKGNvbXBvbmVudCkpIHtcbiAgICAgICAgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChjb21wb25lbnQpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xuICAgIHJldHVybiAoY29tcG9uZW50KSA9PiB7XG4gICAgICAgIGVtaXQoaG9vaywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQudWlkLCBjb21wb25lbnQucGFyZW50ID8gY29tcG9uZW50LnBhcmVudC51aWQgOiB1bmRlZmluZWQsIGNvbXBvbmVudCk7XG4gICAgfTtcbn1cbmNvbnN0IGRldnRvb2xzUGVyZlN0YXJ0ID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6c3RhcnRcIiAvKiBEZXZ0b29sc0hvb2tzLlBFUkZPUk1BTkNFX1NUQVJUICovKTtcbmNvbnN0IGRldnRvb2xzUGVyZkVuZCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soXCJwZXJmOmVuZFwiIC8qIERldnRvb2xzSG9va3MuUEVSRk9STUFOQ0VfRU5EICovKTtcbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKGhvb2spIHtcbiAgICByZXR1cm4gKGNvbXBvbmVudCwgdHlwZSwgdGltZSkgPT4ge1xuICAgICAgICBlbWl0KGhvb2ssIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LnVpZCwgY29tcG9uZW50LCB0eXBlLCB0aW1lKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gZGV2dG9vbHNDb21wb25lbnRFbWl0KGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcykge1xuICAgIGVtaXQoXCJjb21wb25lbnQ6ZW1pdFwiIC8qIERldnRvb2xzSG9va3MuQ09NUE9ORU5UX0VNSVQgKi8sIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LCBldmVudCwgcGFyYW1zKTtcbn1cblxuY29uc3QgZGVwcmVjYXRpb25EYXRhID0ge1xuICAgIFtcIkdMT0JBTF9NT1VOVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX01PVU5UICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVGhlIGdsb2JhbCBhcHAgYm9vdHN0cmFwcGluZyBBUEkgaGFzIGNoYW5nZWQ6IHZtLiRtb3VudCgpIGFuZCB0aGUgXCJlbFwiIGAgK1xuICAgICAgICAgICAgYG9wdGlvbiBoYXZlIGJlZW4gcmVtb3ZlZC4gVXNlIGNyZWF0ZUFwcChSb290Q29tcG9uZW50KS5tb3VudCgpIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2dsb2JhbC1hcGkuaHRtbCNtb3VudGluZy1hcHAtaW5zdGFuY2VgXG4gICAgfSxcbiAgICBbXCJHTE9CQUxfTU9VTlRfQ09OVEFJTkVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfTU9VTlRfQ09OVEFJTkVSICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlIGRldGVjdGVkIGRpcmVjdGl2ZXMgb24gdGhlIG1vdW50IGNvbnRhaW5lci4gYCArXG4gICAgICAgICAgICBgSW4gVnVlIDMsIHRoZSBjb250YWluZXIgaXMgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgdGVtcGxhdGUgYCArXG4gICAgICAgICAgICBgYW5kIHdpbGwgbm90IGJlIHByb2Nlc3NlZC9yZXBsYWNlZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvbW91bnQtY2hhbmdlcy5odG1sYFxuICAgIH0sXG4gICAgW1wiR0xPQkFMX0VYVEVORFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX0VYVEVORCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5leHRlbmQoKSBoYXMgYmVlbiByZW1vdmVkIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBVc2UgZGVmaW5lQ29tcG9uZW50KCkgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92dWVqcy5vcmcvYXBpL2dlbmVyYWwuaHRtbCNkZWZpbmVjb21wb25lbnRgXG4gICAgfSxcbiAgICBbXCJHTE9CQUxfUFJPVE9UWVBFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfUFJPVE9UWVBFICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlLnByb3RvdHlwZSBpcyBubyBsb25nZXIgYXZhaWxhYmxlIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBVc2UgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2dsb2JhbC1hcGkuaHRtbCN2dWUtcHJvdG90eXBlLXJlcGxhY2VkLWJ5LWNvbmZpZy1nbG9iYWxwcm9wZXJ0aWVzYFxuICAgIH0sXG4gICAgW1wiR0xPQkFMX1NFVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX1NFVCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5zZXQoKSBoYXMgYmVlbiByZW1vdmVkIGFzIGl0IGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFNpbXBseSB1c2UgbmF0aXZlIEphdmFTY3JpcHQgbXV0YXRpb25zLmBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9ERUxFVEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9ERUxFVEUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUuZGVsZXRlKCkgaGFzIGJlZW4gcmVtb3ZlZCBhcyBpdCBpcyBubyBsb25nZXIgbmVlZGVkIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXG4gICAgfSxcbiAgICBbXCJHTE9CQUxfT0JTRVJWQUJMRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX09CU0VSVkFCTEUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUub2JzZXJ2YWJsZSgpIGhhcyBiZWVuIHJlbW92ZWQuIGAgK1xuICAgICAgICAgICAgYFVzZSBcXGBpbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gXCJ2dWVcIlxcYCBmcm9tIENvbXBvc2l0aW9uIEFQSSBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3Z1ZWpzLm9yZy9hcGkvcmVhY3Rpdml0eS1jb3JlLmh0bWwjcmVhY3RpdmVgXG4gICAgfSxcbiAgICBbXCJHTE9CQUxfUFJJVkFURV9VVElMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfUFJJVkFURV9VVElMICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlLnV0aWwgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHJlZmFjdG9yIHRvIGF2b2lkIGl0cyB1c2FnZSBgICtcbiAgICAgICAgICAgIGBzaW5jZSBpdCB3YXMgYW4gaW50ZXJuYWwgQVBJIGV2ZW4gaW4gVnVlIDIuYFxuICAgIH0sXG4gICAgW1wiQ09ORklHX1NJTEVOVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX1NJTEVOVCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5zaWxlbnQgaGFzIGJlZW4gcmVtb3ZlZCBiZWNhdXNlIGl0IGlzIG5vdCBnb29kIHByYWN0aWNlIHRvIGAgK1xuICAgICAgICAgICAgYGludGVudGlvbmFsbHkgc3VwcHJlc3Mgd2FybmluZ3MuIFlvdSBjYW4gdXNlIHlvdXIgYnJvd3NlciBjb25zb2xlJ3MgYCArXG4gICAgICAgICAgICBgZmlsdGVyIGZlYXR1cmVzIHRvIGZvY3VzIG9uIHJlbGV2YW50IG1lc3NhZ2VzLmBcbiAgICB9LFxuICAgIFtcIkNPTkZJR19ERVZUT09MU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX0RFVlRPT0xTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLmRldnRvb2xzIGhhcyBiZWVuIHJlbW92ZWQuIFRvIGVuYWJsZSBkZXZ0b29scyBmb3IgYCArXG4gICAgICAgICAgICBgcHJvZHVjdGlvbiwgY29uZmlndXJlIHRoZSBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gY29tcGlsZS10aW1lIGZsYWcuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb3JlL3RyZWUvbWFpbi9wYWNrYWdlcy92dWUjYnVuZGxlci1idWlsZC1mZWF0dXJlLWZsYWdzYFxuICAgIH0sXG4gICAgW1wiQ09ORklHX0tFWV9DT0RFU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX0tFWV9DT0RFUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5rZXlDb2RlcyBoYXMgYmVlbiByZW1vdmVkLiBgICtcbiAgICAgICAgICAgIGBJbiBWdWUgMywgeW91IGNhbiBkaXJlY3RseSB1c2UgdGhlIGtlYmFiLWNhc2Uga2V5IG5hbWVzIGFzIHYtb24gbW9kaWZpZXJzLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9rZXljb2RlLW1vZGlmaWVycy5odG1sYFxuICAgIH0sXG4gICAgW1wiQ09ORklHX1BST0RVQ1RJT05fVElQXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfUFJPRFVDVElPTl9USVAgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBjb25maWcucHJvZHVjdGlvblRpcCBoYXMgYmVlbiByZW1vdmVkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9nbG9iYWwtYXBpLmh0bWwjY29uZmlnLXByb2R1Y3Rpb250aXAtcmVtb3ZlZGBcbiAgICB9LFxuICAgIFtcIkNPTkZJR19JR05PUkVEX0VMRU1FTlRTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfSUdOT1JFRF9FTEVNRU5UUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKCkgPT4ge1xuICAgICAgICAgICAgbGV0IG1zZyA9IGBjb25maWcuaWdub3JlZEVsZW1lbnRzIGhhcyBiZWVuIHJlbW92ZWQuYDtcbiAgICAgICAgICAgIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICAgICAgICAgICAgICBtc2cgKz0gYCBQYXNzIHRoZSBcImlzQ3VzdG9tRWxlbWVudFwiIG9wdGlvbiB0byBAdnVlL2NvbXBpbGVyLWRvbSBpbnN0ZWFkLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtc2cgKz0gYCBVc2UgY29uZmlnLmlzQ3VzdG9tRWxlbWVudCBpbnN0ZWFkLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICB9LFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZ2xvYmFsLWFwaS5odG1sI2NvbmZpZy1pZ25vcmVkZWxlbWVudHMtaXMtbm93LWNvbmZpZy1pc2N1c3RvbWVsZW1lbnRgXG4gICAgfSxcbiAgICBbXCJDT05GSUdfV0hJVEVTUEFDRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX1dISVRFU1BBQ0UgKi9dOiB7XG4gICAgICAgIC8vIHRoaXMgd2FybmluZyBpcyBvbmx5IHJlbGV2YW50IGluIHRoZSBmdWxsIGJ1aWxkIHdoZW4gdXNpbmcgcnVudGltZVxuICAgICAgICAvLyBjb21waWxhdGlvbiwgc28gaXQncyBwdXQgaW4gdGhlIHJ1bnRpbWUgY29tcGF0Q29uZmlnIGxpc3QuXG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgMyBjb21waWxlcidzIHdoaXRlc3BhY2Ugb3B0aW9uIHdpbGwgZGVmYXVsdCB0byBcImNvbmRlbnNlXCIgaW5zdGVhZCBvZiBgICtcbiAgICAgICAgICAgIGBcInByZXNlcnZlXCIuIFRvIHN1cHByZXNzIHRoaXMgd2FybmluZywgcHJvdmlkZSBhbiBleHBsaWNpdCB2YWx1ZSBmb3IgYCArXG4gICAgICAgICAgICBgXFxgY29uZmlnLmNvbXBpbGVyT3B0aW9ucy53aGl0ZXNwYWNlXFxgLmBcbiAgICB9LFxuICAgIFtcIkNPTkZJR19PUFRJT05fTUVSR0VfU1RSQVRTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfT1BUSU9OX01FUkdFX1NUUkFUUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXMgbm8gbG9uZ2VyIGV4cG9zZXMgaW50ZXJuYWwgc3RyYXRlZ2llcy4gYCArXG4gICAgICAgICAgICBgVXNlIGN1c3RvbSBtZXJnZSBmdW5jdGlvbnMgaW5zdGVhZC5gXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9TRVRcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX1NFVCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYHZtLiRzZXQoKSBoYXMgYmVlbiByZW1vdmVkIGFzIGl0IGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFNpbXBseSB1c2UgbmF0aXZlIEphdmFTY3JpcHQgbXV0YXRpb25zLmBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX0RFTEVURVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfREVMRVRFICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJGRlbGV0ZSgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgU2ltcGx5IHVzZSBuYXRpdmUgSmF2YVNjcmlwdCBtdXRhdGlvbnMuYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfREVTVFJPWVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfREVTVFJPWSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYHZtLiRkZXN0cm95KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGFwcC51bm1vdW50KCkgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92dWVqcy5vcmcvYXBpL2FwcGxpY2F0aW9uLmh0bWwjYXBwLXVubW91bnRgXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9FVkVOVF9FTUlUVEVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9FTUlUVEVSICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJG9uLyRvbmNlLyRvZmYoKSBoYXZlIGJlZW4gcmVtb3ZlZC4gYCArXG4gICAgICAgICAgICBgVXNlIGFuIGV4dGVybmFsIGV2ZW50IGVtaXR0ZXIgbGlicmFyeSBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9ldmVudHMtYXBpLmh0bWxgXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGV2ZW50ID0+IGBcIiR7ZXZlbnR9XCIgbGlmZWN5Y2xlIGV2ZW50cyBhcmUgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gRnJvbSB0ZW1wbGF0ZXMsIGAgK1xuICAgICAgICAgICAgYHVzZSB0aGUgXCJ2dWU6XCIgcHJlZml4IGluc3RlYWQgb2YgXCJob29rOlwiLiBGb3IgZXhhbXBsZSwgQCR7ZXZlbnR9IGAgK1xuICAgICAgICAgICAgYHNob3VsZCBiZSBjaGFuZ2VkIHRvIEB2dWU6JHtldmVudC5zbGljZSg1KX0uIGAgK1xuICAgICAgICAgICAgYEZyb20gSmF2YVNjcmlwdCwgdXNlIENvbXBvc2l0aW9uIEFQSSB0byBkeW5hbWljYWxseSByZWdpc3RlciBsaWZlY3ljbGUgYCArXG4gICAgICAgICAgICBgaG9va3MuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3Zub2RlLWxpZmVjeWNsZS1ldmVudHMuaHRtbGBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX0NISUxEUkVOXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9DSElMRFJFTiAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYHZtLiRjaGlsZHJlbiBoYXMgYmVlbiByZW1vdmVkLiBDb25zaWRlciByZWZhY3RvcmluZyB5b3VyIGxvZ2ljIGAgK1xuICAgICAgICAgICAgYHRvIGF2b2lkIHJlbHlpbmcgb24gZGlyZWN0IGFjY2VzcyB0byBjaGlsZCBjb21wb25lbnRzLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9jaGlsZHJlbi5odG1sYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfTElTVEVORVJTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9MSVNURU5FUlMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kbGlzdGVuZXJzIGhhcyBiZWVuIHJlbW92ZWQuIEluIFZ1ZSAzLCBwYXJlbnQgdi1vbiBsaXN0ZW5lcnMgYXJlIGAgK1xuICAgICAgICAgICAgYGluY2x1ZGVkIGluIHZtLiRhdHRycyBhbmQgaXQgaXMgbm8gbG9uZ2VyIG5lY2Vzc2FyeSB0byBzZXBhcmF0ZWx5IHVzZSBgICtcbiAgICAgICAgICAgIGB2LW9uPVwiJGxpc3RlbmVyc1wiIGlmIHlvdSBhcmUgYWxyZWFkeSB1c2luZyB2LWJpbmQ9XCIkYXR0cnNcIi4gYCArXG4gICAgICAgICAgICBgKE5vdGU6IHRoZSBWdWUgMyBiZWhhdmlvciBvbmx5IGFwcGxpZXMgaWYgdGhpcyBjb21wYXQgY29uZmlnIGlzIGRpc2FibGVkKWAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9saXN0ZW5lcnMtcmVtb3ZlZC5odG1sYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfU0NPUEVEX1NMT1RTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9TQ09QRURfU0xPVFMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kc2NvcGVkU2xvdHMgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZtLiRzbG90cyBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9zbG90cy11bmlmaWNhdGlvbi5odG1sYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFICovXToge1xuICAgICAgICBtZXNzYWdlOiBjb21wb25lbnROYW1lID0+IGBDb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZSB8fCAnQW5vbnltb3VzJ30+IGhhcyBcXGBpbmhlcml0QXR0cnM6IGZhbHNlXFxgIGJ1dCBpcyBgICtcbiAgICAgICAgICAgIGByZWx5aW5nIG9uIGNsYXNzL3N0eWxlIGZhbGx0aHJvdWdoIGZyb20gcGFyZW50LiBJbiBWdWUgMywgY2xhc3Mvc3R5bGUgYCArXG4gICAgICAgICAgICBgYXJlIG5vdyBpbmNsdWRlZCBpbiAkYXR0cnMgYW5kIHdpbGwgbm8gbG9uZ2VyIGZhbGx0aHJvdWdoIHdoZW4gYCArXG4gICAgICAgICAgICBgaW5oZXJpdEF0dHJzIGlzIGZhbHNlLiBJZiB5b3UgYXJlIGFscmVhZHkgdXNpbmcgdi1iaW5kPVwiJGF0dHJzXCIgb24gYCArXG4gICAgICAgICAgICBgY29tcG9uZW50IHJvb3QgaXQgc2hvdWxkIHJlbmRlciB0aGUgc2FtZSBlbmQgcmVzdWx0LiBgICtcbiAgICAgICAgICAgIGBJZiB5b3UgYXJlIGJpbmRpbmcgJGF0dHJzIHRvIGEgbm9uLXJvb3QgZWxlbWVudCBhbmQgZXhwZWN0aW5nIGAgK1xuICAgICAgICAgICAgYGNsYXNzL3N0eWxlIHRvIGZhbGx0aHJvdWdoIG9uIHJvb3QsIHlvdSB3aWxsIG5lZWQgdG8gbm93IG1hbnVhbGx5IGJpbmQgYCArXG4gICAgICAgICAgICBgdGhlbSBvbiByb290IHZpYSA6Y2xhc3M9XCIkYXR0cnMuY2xhc3NcIi5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvYXR0cnMtaW5jbHVkZXMtY2xhc3Mtc3R5bGUuaHRtbGBcbiAgICB9LFxuICAgIFtcIk9QVElPTlNfREFUQV9GTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19EQVRBX0ZOICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVGhlIFwiZGF0YVwiIG9wdGlvbiBjYW4gbm8gbG9uZ2VyIGJlIGEgcGxhaW4gb2JqZWN0LiBgICtcbiAgICAgICAgICAgIGBBbHdheXMgdXNlIGEgZnVuY3Rpb24uYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2RhdGEtb3B0aW9uLmh0bWxgXG4gICAgfSxcbiAgICBbXCJPUFRJT05TX0RBVEFfTUVSR0VcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREFUQV9NRVJHRSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKGtleSkgPT4gYERldGVjdGVkIGNvbmZsaWN0aW5nIGtleSBcIiR7a2V5fVwiIHdoZW4gbWVyZ2luZyBkYXRhIG9wdGlvbiB2YWx1ZXMuIGAgK1xuICAgICAgICAgICAgYEluIFZ1ZSAzLCBkYXRhIGtleXMgYXJlIG1lcmdlZCBzaGFsbG93bHkgYW5kIHdpbGwgb3ZlcnJpZGUgb25lIGFub3RoZXIuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2RhdGEtb3B0aW9uLmh0bWwjbWl4aW4tbWVyZ2UtYmVoYXZpb3ItY2hhbmdlYFxuICAgIH0sXG4gICAgW1wiT1BUSU9OU19CRUZPUkVfREVTVFJPWVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19CRUZPUkVfREVTVFJPWSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFxcYGJlZm9yZURlc3Ryb3lcXGAgaGFzIGJlZW4gcmVuYW1lZCB0byBcXGBiZWZvcmVVbm1vdW50XFxgLmBcbiAgICB9LFxuICAgIFtcIk9QVElPTlNfREVTVFJPWUVEXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RFU1RST1lFRCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFxcYGRlc3Ryb3llZFxcYCBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYHVubW91bnRlZFxcYC5gXG4gICAgfSxcbiAgICBbXCJXQVRDSF9BUlJBWVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuV0FUQ0hfQVJSQVkgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBcIndhdGNoXCIgb3B0aW9uIG9yIHZtLiR3YXRjaCBvbiBhbiBhcnJheSB2YWx1ZSB3aWxsIG5vIGxvbmdlciBgICtcbiAgICAgICAgICAgIGB0cmlnZ2VyIG9uIGFycmF5IG11dGF0aW9uIHVubGVzcyB0aGUgXCJkZWVwXCIgb3B0aW9uIGlzIHNwZWNpZmllZC4gYCArXG4gICAgICAgICAgICBgSWYgY3VycmVudCB1c2FnZSBpcyBpbnRlbmRlZCwgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIGAgK1xuICAgICAgICAgICAgYHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIldBVENIX0FSUkFZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5XQVRDSF9BUlJBWSAqL306IGZhbHNlIH0pXFxuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3dhdGNoLmh0bWxgXG4gICAgfSxcbiAgICBbXCJQUk9QU19ERUZBVUxUX1RISVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlBST1BTX0RFRkFVTFRfVEhJUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKGtleSkgPT4gYHByb3BzIGRlZmF1bHQgdmFsdWUgZnVuY3Rpb24gbm8gbG9uZ2VyIGhhcyBhY2Nlc3MgdG8gXCJ0aGlzXCIuIFRoZSBjb21wYXQgYCArXG4gICAgICAgICAgICBgYnVpbGQgb25seSBvZmZlcnMgYWNjZXNzIHRvIHRoaXMuJG9wdGlvbnMuYCArXG4gICAgICAgICAgICBgKGZvdW5kIGluIHByb3AgXCIke2tleX1cIilgLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvcHJvcHMtZGVmYXVsdC10aGlzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDVVNUT01fRElSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DVVNUT01fRElSICovXToge1xuICAgICAgICBtZXNzYWdlOiAobGVnYWN5SG9vaywgbmV3SG9vaykgPT4gYEN1c3RvbSBkaXJlY3RpdmUgaG9vayBcIiR7bGVnYWN5SG9va31cIiBoYXMgYmVlbiByZW1vdmVkLiBgICtcbiAgICAgICAgICAgIGBVc2UgXCIke25ld0hvb2t9XCIgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvY3VzdG9tLWRpcmVjdGl2ZXMuaHRtbGBcbiAgICB9LFxuICAgIFtcIlZfT05fS0VZQ09ERV9NT0RJRklFUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuVl9PTl9LRVlDT0RFX01PRElGSUVSICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVXNpbmcga2V5Q29kZSBhcyB2LW9uIG1vZGlmaWVyIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIGAgK1xuICAgICAgICAgICAgYFVzZSBrZWJhYi1jYXNlIGtleSBuYW1lIG1vZGlmaWVycyBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9rZXljb2RlLW1vZGlmaWVycy5odG1sYFxuICAgIH0sXG4gICAgW1wiQVRUUl9GQUxTRV9WQUxVRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9GQUxTRV9WQUxVRSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKG5hbWUpID0+IGBBdHRyaWJ1dGUgXCIke25hbWV9XCIgd2l0aCB2LWJpbmQgdmFsdWUgXFxgZmFsc2VcXGAgd2lsbCByZW5kZXIgYCArXG4gICAgICAgICAgICBgJHtuYW1lfT1cImZhbHNlXCIgaW5zdGVhZCBvZiByZW1vdmluZyBpdCBpbiBWdWUgMy4gVG8gcmVtb3ZlIHRoZSBhdHRyaWJ1dGUsIGAgK1xuICAgICAgICAgICAgYHVzZSBcXGBudWxsXFxgIG9yIFxcYHVuZGVmaW5lZFxcYCBpbnN0ZWFkLiBJZiB0aGUgdXNhZ2UgaXMgaW50ZW5kZWQsIGAgK1xuICAgICAgICAgICAgYHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgd2l0aDpgICtcbiAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJBVFRSX0ZBTFNFX1ZBTFVFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0ZBTFNFX1ZBTFVFICovfTogZmFsc2UgfSlcXG5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvYXR0cmlidXRlLWNvZXJjaW9uLmh0bWxgXG4gICAgfSxcbiAgICBbXCJBVFRSX0VOVU1FUkFURURfQ09FUkNJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLkFUVFJfRU5VTUVSQVRFRF9DT0VSQ0lPTiAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKG5hbWUsIHZhbHVlLCBjb2VyY2VkKSA9PiBgRW51bWVyYXRlZCBhdHRyaWJ1dGUgXCIke25hbWV9XCIgd2l0aCB2LWJpbmQgdmFsdWUgXFxgJHt2YWx1ZX1cXGAgd2lsbCBgICtcbiAgICAgICAgICAgIGAke3ZhbHVlID09PSBudWxsID8gYGJlIHJlbW92ZWRgIDogYHJlbmRlciB0aGUgdmFsdWUgYXMtaXNgfSBpbnN0ZWFkIG9mIGNvZXJjaW5nIHRoZSB2YWx1ZSB0byBcIiR7Y29lcmNlZH1cIiBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgQWx3YXlzIHVzZSBleHBsaWNpdCBcInRydWVcIiBvciBcImZhbHNlXCIgdmFsdWVzIGZvciBlbnVtZXJhdGVkIGF0dHJpYnV0ZXMuIGAgK1xuICAgICAgICAgICAgYElmIHRoZSB1c2FnZSBpcyBpbnRlbmRlZCwgYCArXG4gICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkFUVFJfRU5VTUVSQVRFRF9DT0VSQ0lPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovfTogZmFsc2UgfSlcXG5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvYXR0cmlidXRlLWNvZXJjaW9uLmh0bWxgXG4gICAgfSxcbiAgICBbXCJUUkFOU0lUSU9OX0NMQVNTRVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlRSQU5TSVRJT05fQ0xBU1NFUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYGAgLy8gdGhpcyBmZWF0dXJlIGNhbm5vdCBiZSBydW50aW1lLWRldGVjdGVkXG4gICAgfSxcbiAgICBbXCJUUkFOU0lUSU9OX0dST1VQX1JPT1RcIiAvKiBEZXByZWNhdGlvblR5cGVzLlRSQU5TSVRJT05fR1JPVVBfUk9PVCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYDxUcmFuc2l0aW9uR3JvdXA+IG5vIGxvbmdlciByZW5kZXJzIGEgcm9vdCA8c3Bhbj4gZWxlbWVudCBieSBgICtcbiAgICAgICAgICAgIGBkZWZhdWx0IGlmIG5vIFwidGFnXCIgcHJvcCBpcyBzcGVjaWZpZWQuIElmIHlvdSBkbyBub3QgcmVseSBvbiB0aGUgc3BhbiBgICtcbiAgICAgICAgICAgIGBmb3Igc3R5bGluZywgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgYCArXG4gICAgICAgICAgICBgd2FybmluZyB3aXRoOmAgK1xuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIlRSQU5TSVRJT05fR1JPVVBfUk9PVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuVFJBTlNJVElPTl9HUk9VUF9ST09UICovfTogZmFsc2UgfSlcXG5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvdHJhbnNpdGlvbi1ncm91cC5odG1sYFxuICAgIH0sXG4gICAgW1wiQ09NUE9ORU5UX0FTWU5DXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfQVNZTkMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShjb21wKTtcbiAgICAgICAgICAgIHJldHVybiAoYEFzeW5jIGNvbXBvbmVudCR7bmFtZSA/IGAgPCR7bmFtZX0+YCA6IGBzYH0gc2hvdWxkIGJlIGV4cGxpY2l0bHkgY3JlYXRlZCB2aWEgXFxgZGVmaW5lQXN5bmNDb21wb25lbnQoKVxcYCBgICtcbiAgICAgICAgICAgICAgICBgaW4gVnVlIDMuIFBsYWluIGZ1bmN0aW9ucyB3aWxsIGJlIHRyZWF0ZWQgYXMgZnVuY3Rpb25hbCBjb21wb25lbnRzIGluIGAgK1xuICAgICAgICAgICAgICAgIGBub24tY29tcGF0IGJ1aWxkLiBJZiB5b3UgaGF2ZSBhbHJlYWR5IG1pZ3JhdGVkIGFsbCBhc3luYyBjb21wb25lbnQgYCArXG4gICAgICAgICAgICAgICAgYHVzYWdlIGFuZCBpbnRlbmQgdG8gdXNlIHBsYWluIGZ1bmN0aW9ucyBmb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLCBgICtcbiAgICAgICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgYCArXG4gICAgICAgICAgICAgICAgYHdhcm5pbmcgd2l0aDpgICtcbiAgICAgICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiQ09NUE9ORU5UX0FTWU5DXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfQVNZTkMgKi99OiBmYWxzZSB9KVxcbmApO1xuICAgICAgICB9LFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvYXN5bmMtY29tcG9uZW50cy5odG1sYFxuICAgIH0sXG4gICAgW1wiQ09NUE9ORU5UX0ZVTkNUSU9OQUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9GVU5DVElPTkFMICovXToge1xuICAgICAgICBtZXNzYWdlOiAoY29tcCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY29tcCk7XG4gICAgICAgICAgICByZXR1cm4gKGBGdW5jdGlvbmFsIGNvbXBvbmVudCR7bmFtZSA/IGAgPCR7bmFtZX0+YCA6IGBzYH0gc2hvdWxkIGJlIGRlZmluZWQgYXMgYSBwbGFpbiBmdW5jdGlvbiBpbiBWdWUgMy4gVGhlIFwiZnVuY3Rpb25hbFwiIGAgK1xuICAgICAgICAgICAgICAgIGBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZC4gTk9URTogQmVmb3JlIG1pZ3JhdGluZyB0byB1c2UgcGxhaW4gYCArXG4gICAgICAgICAgICAgICAgYGZ1bmN0aW9ucyBmb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLCBmaXJzdCBtYWtlIHN1cmUgdGhhdCBhbGwgYXN5bmMgYCArXG4gICAgICAgICAgICAgICAgYGNvbXBvbmVudHMgdXNhZ2UgaGF2ZSBiZWVuIG1pZ3JhdGVkIGFuZCBpdHMgY29tcGF0IGJlaGF2aW9yIGhhcyBgICtcbiAgICAgICAgICAgICAgICBgYmVlbiBkaXNhYmxlZC5gKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2Z1bmN0aW9uYWwtY29tcG9uZW50cy5odG1sYFxuICAgIH0sXG4gICAgW1wiQ09NUE9ORU5UX1ZfTU9ERUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9WX01PREVMICovXToge1xuICAgICAgICBtZXNzYWdlOiAoY29tcCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29uZmlnTXNnID0gYG9wdC1pbiB0byBgICtcbiAgICAgICAgICAgICAgICBgVnVlIDMgYmVoYXZpb3Igb24gYSBwZXItY29tcG9uZW50IGJhc2lzIHdpdGggXFxgY29tcGF0Q29uZmlnOiB7ICR7XCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX1ZfTU9ERUwgKi99OiBmYWxzZSB9XFxgLmA7XG4gICAgICAgICAgICBpZiAoY29tcC5wcm9wcyAmJlxuICAgICAgICAgICAgICAgIChpc0FycmF5KGNvbXAucHJvcHMpXG4gICAgICAgICAgICAgICAgICAgID8gY29tcC5wcm9wcy5pbmNsdWRlcygnbW9kZWxWYWx1ZScpXG4gICAgICAgICAgICAgICAgICAgIDogaGFzT3duKGNvbXAucHJvcHMsICdtb2RlbFZhbHVlJykpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChgQ29tcG9uZW50IGRlY2xhcmVzIFwibW9kZWxWYWx1ZVwiIHByb3AsIHdoaWNoIGlzIFZ1ZSAzIHVzYWdlLCBidXQgYCArXG4gICAgICAgICAgICAgICAgICAgIGBpcyBydW5uaW5nIHVuZGVyIFZ1ZSAyIGNvbXBhdCB2LW1vZGVsIGJlaGF2aW9yLiBZb3UgY2FuICR7Y29uZmlnTXNnfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChgdi1tb2RlbCB1c2FnZSBvbiBjb21wb25lbnQgaGFzIGNoYW5nZWQgaW4gVnVlIDMuIENvbXBvbmVudCB0aGF0IGV4cGVjdHMgYCArXG4gICAgICAgICAgICAgICAgYHRvIHdvcmsgd2l0aCB2LW1vZGVsIHNob3VsZCBub3cgdXNlIHRoZSBcIm1vZGVsVmFsdWVcIiBwcm9wIGFuZCBlbWl0IHRoZSBgICtcbiAgICAgICAgICAgICAgICBgXCJ1cGRhdGU6bW9kZWxWYWx1ZVwiIGV2ZW50LiBZb3UgY2FuIHVwZGF0ZSB0aGUgdXNhZ2UgYW5kIHRoZW4gJHtjb25maWdNc2d9YCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy92LW1vZGVsLmh0bWxgXG4gICAgfSxcbiAgICBbXCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZSAzJ3MgcmVuZGVyIGZ1bmN0aW9uIEFQSSBoYXMgY2hhbmdlZC4gYCArXG4gICAgICAgICAgICBgWW91IGNhbiBvcHQtaW4gdG8gdGhlIG5ldyBBUEkgd2l0aDpgICtcbiAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqL306IGZhbHNlIH0pXFxuYCArXG4gICAgICAgICAgICBgXFxuICAoVGhpcyBjYW4gYWxzbyBiZSBkb25lIHBlci1jb21wb25lbnQgdmlhIHRoZSBcImNvbXBhdENvbmZpZ1wiIG9wdGlvbi4pYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3JlbmRlci1mdW5jdGlvbi1hcGkuaHRtbGBcbiAgICB9LFxuICAgIFtcIkZJTFRFUlNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkZJTFRFUlMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBmaWx0ZXJzIGhhdmUgYmVlbiByZW1vdmVkIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBUaGUgXCJ8XCIgc3ltYm9sIHdpbGwgYmUgdHJlYXRlZCBhcyBuYXRpdmUgSmF2YVNjcmlwdCBiaXR3aXNlIE9SIG9wZXJhdG9yLiBgICtcbiAgICAgICAgICAgIGBVc2UgbWV0aG9kIGNhbGxzIG9yIGNvbXB1dGVkIHByb3BlcnRpZXMgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZmlsdGVycy5odG1sYFxuICAgIH0sXG4gICAgW1wiUFJJVkFURV9BUElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUklWQVRFX0FQSVMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IG5hbWUgPT4gYFwiJHtuYW1lfVwiIGlzIGEgVnVlIDIgcHJpdmF0ZSBBUEkgdGhhdCBubyBsb25nZXIgZXhpc3RzIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBJZiB5b3UgYXJlIHNlZWluZyB0aGlzIHdhcm5pbmcgb25seSBkdWUgdG8gYSBkZXBlbmRlbmN5LCB5b3UgY2FuIGAgK1xuICAgICAgICAgICAgYHN1cHByZXNzIHRoaXMgd2FybmluZyB2aWEgeyBQUklWQVRFX0FQSVM6ICdzdXBwcmVzcy13YXJuaW5nJyB9LmBcbiAgICB9XG59O1xuY29uc3QgaW5zdGFuY2VXYXJuZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3Qgd2FybkNvdW50ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIHdhcm5EZXByZWNhdGlvbihrZXksIGluc3RhbmNlLCAuLi5hcmdzKSB7XG4gICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnN0YW5jZSA9IGluc3RhbmNlIHx8IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIC8vIGNoZWNrIHVzZXIgY29uZmlnXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29tcGF0Q29uZmlnRm9yS2V5KGtleSwgaW5zdGFuY2UpO1xuICAgIGlmIChjb25maWcgPT09ICdzdXBwcmVzcy13YXJuaW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGR1cEtleSA9IGtleSArIGFyZ3Muam9pbignJyk7XG4gICAgbGV0IGNvbXBJZCA9IGluc3RhbmNlICYmIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpO1xuICAgIGlmIChjb21wSWQgPT09ICdBbm9ueW1vdXMnICYmIGluc3RhbmNlKSB7XG4gICAgICAgIGNvbXBJZCA9IGluc3RhbmNlLnVpZDtcbiAgICB9XG4gICAgLy8gc2tpcCBpZiB0aGUgc2FtZSB3YXJuaW5nIGlzIGVtaXR0ZWQgZm9yIHRoZSBzYW1lIGNvbXBvbmVudCB0eXBlXG4gICAgY29uc3QgY29tcG9uZW50RHVwS2V5ID0gZHVwS2V5ICsgY29tcElkO1xuICAgIGlmIChjb21wb25lbnREdXBLZXkgaW4gaW5zdGFuY2VXYXJuZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnN0YW5jZVdhcm5lZFtjb21wb25lbnREdXBLZXldID0gdHJ1ZTtcbiAgICAvLyBzYW1lIHdhcm5pbmcsIGJ1dCBkaWZmZXJlbnQgY29tcG9uZW50LiBza2lwIHRoZSBsb25nIG1lc3NhZ2UgYW5kIGp1c3RcbiAgICAvLyBsb2cgdGhlIGtleSBhbmQgY291bnQuXG4gICAgaWYgKGR1cEtleSBpbiB3YXJuQ291bnQpIHtcbiAgICAgICAgd2FybiQxKGAoZGVwcmVjYXRpb24gJHtrZXl9KSAoJHsrK3dhcm5Db3VudFtkdXBLZXldICsgMX0pYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2FybkNvdW50W2R1cEtleV0gPSAwO1xuICAgIGNvbnN0IHsgbWVzc2FnZSwgbGluayB9ID0gZGVwcmVjYXRpb25EYXRhW2tleV07XG4gICAgd2FybiQxKGAoZGVwcmVjYXRpb24gJHtrZXl9KSAke3R5cGVvZiBtZXNzYWdlID09PSAnZnVuY3Rpb24nID8gbWVzc2FnZSguLi5hcmdzKSA6IG1lc3NhZ2V9JHtsaW5rID8gYFxcbiAgRGV0YWlsczogJHtsaW5rfWAgOiBgYH1gKTtcbiAgICBpZiAoIWlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlLCB0cnVlKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBeIFRoZSBhYm92ZSBkZXByZWNhdGlvbidzIGNvbXBhdCBiZWhhdmlvciBpcyBkaXNhYmxlZCBhbmQgd2lsbCBsaWtlbHkgYCArXG4gICAgICAgICAgICBgbGVhZCB0byBydW50aW1lIGVycm9ycy5gKTtcbiAgICB9XG59XG5jb25zdCBnbG9iYWxDb21wYXRDb25maWcgPSB7XG4gICAgTU9ERTogMlxufTtcbmZ1bmN0aW9uIGNvbmZpZ3VyZUNvbXBhdChjb25maWcpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHZhbGlkYXRlQ29tcGF0Q29uZmlnKGNvbmZpZyk7XG4gICAgfVxuICAgIGV4dGVuZChnbG9iYWxDb21wYXRDb25maWcsIGNvbmZpZyk7XG59XG5jb25zdCBzZWVuQ29uZmlnT2JqZWN0cyA9IC8qI19fUFVSRV9fKi8gbmV3IFdlYWtTZXQoKTtcbmNvbnN0IHdhcm5lZEludmFsaWRLZXlzID0ge307XG4vLyBkZXYgb25seVxuZnVuY3Rpb24gdmFsaWRhdGVDb21wYXRDb25maWcoY29uZmlnLCBpbnN0YW5jZSkge1xuICAgIGlmIChzZWVuQ29uZmlnT2JqZWN0cy5oYXMoY29uZmlnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlZW5Db25maWdPYmplY3RzLmFkZChjb25maWcpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGNvbmZpZykpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJ01PREUnICYmXG4gICAgICAgICAgICAhKGtleSBpbiBkZXByZWNhdGlvbkRhdGEpICYmXG4gICAgICAgICAgICAhKGtleSBpbiB3YXJuZWRJbnZhbGlkS2V5cykpIHtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnQ09NUElMRVJfJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSdW50aW1lT25seSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgRGVwcmVjYXRpb24gY29uZmlnIFwiJHtrZXl9XCIgaXMgY29tcGlsZXItc3BlY2lmaWMgYW5kIHlvdSBhcmUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgcnVubmluZyBhIHJ1bnRpbWUtb25seSBidWlsZCBvZiBWdWUuIFRoaXMgZGVwcmVjYXRpb24gc2hvdWxkIGJlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGNvbmZpZ3VyZWQgdmlhIGNvbXBpbGVyIG9wdGlvbnMgaW4geW91ciBidWlsZCBzZXR1cCBpbnN0ZWFkLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYERldGFpbHM6IGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL21pZ3JhdGlvbi1idWlsZC5odG1sYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBJbnZhbGlkIGRlcHJlY2F0aW9uIGNvbmZpZyBcIiR7a2V5fVwiLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2FybmVkSW52YWxpZEtleXNba2V5XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluc3RhbmNlICYmIGNvbmZpZ1tcIk9QVElPTlNfREFUQV9NRVJHRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19EQVRBX01FUkdFICovXSAhPSBudWxsKSB7XG4gICAgICAgIHdhcm4kMShgRGVwcmVjYXRpb24gY29uZmlnIFwiJHtcIk9QVElPTlNfREFUQV9NRVJHRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19EQVRBX01FUkdFICovfVwiIGNhbiBvbmx5IGJlIGNvbmZpZ3VyZWQgZ2xvYmFsbHkuYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q29tcGF0Q29uZmlnRm9yS2V5KGtleSwgaW5zdGFuY2UpIHtcbiAgICBjb25zdCBpbnN0YW5jZUNvbmZpZyA9IGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuY29tcGF0Q29uZmlnO1xuICAgIGlmIChpbnN0YW5jZUNvbmZpZyAmJiBrZXkgaW4gaW5zdGFuY2VDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlQ29uZmlnW2tleV07XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxDb21wYXRDb25maWdba2V5XTtcbn1cbmZ1bmN0aW9uIGlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlLCBlbmFibGVGb3JCdWlsdEluID0gZmFsc2UpIHtcbiAgICAvLyBza2lwIGNvbXBhdCBmb3IgYnVpbHQtaW4gY29tcG9uZW50c1xuICAgIGlmICghZW5hYmxlRm9yQnVpbHRJbiAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9faXNCdWlsdEluKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcmF3TW9kZSA9IGdldENvbXBhdENvbmZpZ0ZvcktleSgnTU9ERScsIGluc3RhbmNlKSB8fCAyO1xuICAgIGNvbnN0IHZhbCA9IGdldENvbXBhdENvbmZpZ0ZvcktleShrZXksIGluc3RhbmNlKTtcbiAgICBjb25zdCBtb2RlID0gaXNGdW5jdGlvbihyYXdNb2RlKVxuICAgICAgICA/IHJhd01vZGUoaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZSlcbiAgICAgICAgOiByYXdNb2RlO1xuICAgIGlmIChtb2RlID09PSAyKSB7XG4gICAgICAgIHJldHVybiB2YWwgIT09IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbCA9PT0gdHJ1ZSB8fCB2YWwgPT09ICdzdXBwcmVzcy13YXJuaW5nJztcbiAgICB9XG59XG4vKipcbiAqIFVzZSB0aGlzIGZvciBmZWF0dXJlcyB0aGF0IGFyZSBjb21wbGV0ZWx5IHJlbW92ZWQgaW4gbm9uLWNvbXBhdCBidWlsZC5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Q29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlLCAuLi5hcmdzKSB7XG4gICAgaWYgKCFpc0NvbXBhdEVuYWJsZWQoa2V5LCBpbnN0YW5jZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2tleX0gY29tcGF0IGhhcyBiZWVuIGRpc2FibGVkLmApO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybkRlcHJlY2F0aW9uKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpO1xuICAgIH1cbn1cbi8qKlxuICogVXNlIHRoaXMgZm9yIGZlYXR1cmVzIHdoZXJlIGxlZ2FjeSB1c2FnZSBpcyBzdGlsbCBwb3NzaWJsZSwgYnV0IHdpbGwgbGlrZWx5XG4gKiBsZWFkIHRvIHJ1bnRpbWUgZXJyb3IgaWYgY29tcGF0IGlzIGRpc2FibGVkLiAod2FybiBpbiBhbGwgY2FzZXMpXG4gKi9cbmZ1bmN0aW9uIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm5EZXByZWNhdGlvbihrZXksIGluc3RhbmNlLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIGlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlKTtcbn1cbi8qKlxuICogVXNlIHRoaXMgZm9yIGZlYXR1cmVzIHdpdGggdGhlIHNhbWUgc3ludGF4IGJ1dCB3aXRoIG11dHVhbGx5IGV4Y2x1c2l2ZVxuICogYmVoYXZpb3IgaW4gMiB2cyAzLiBPbmx5IHdhcm4gaWYgY29tcGF0IGlzIGVuYWJsZWQuXG4gKiBlLmcuIHJlbmRlciBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBjaGVja0NvbXBhdEVuYWJsZWQoa2V5LCBpbnN0YW5jZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuYWJsZWQgPSBpc0NvbXBhdEVuYWJsZWQoa2V5LCBpbnN0YW5jZSk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBlbmFibGVkKSB7XG4gICAgICAgIHdhcm5EZXByZWNhdGlvbihrZXksIGluc3RhbmNlLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuYWJsZWQ7XG59XG5cbmNvbnN0IGV2ZW50UmVnaXN0cnlNYXAgPSAvKiNfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBnZXRSZWdpc3RyeShpbnN0YW5jZSkge1xuICAgIGxldCBldmVudHMgPSBldmVudFJlZ2lzdHJ5TWFwLmdldChpbnN0YW5jZSk7XG4gICAgaWYgKCFldmVudHMpIHtcbiAgICAgICAgZXZlbnRSZWdpc3RyeU1hcC5zZXQoaW5zdGFuY2UsIChldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpKSk7XG4gICAgfVxuICAgIHJldHVybiBldmVudHM7XG59XG5mdW5jdGlvbiBvbihpbnN0YW5jZSwgZXZlbnQsIGZuKSB7XG4gICAgaWYgKGlzQXJyYXkoZXZlbnQpKSB7XG4gICAgICAgIGV2ZW50LmZvckVhY2goZSA9PiBvbihpbnN0YW5jZSwgZSwgZm4pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChldmVudC5zdGFydHNXaXRoKCdob29rOicpKSB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0VNSVRURVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0VNSVRURVIgKi8sIGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBldmVudHMgPSBnZXRSZWdpc3RyeShpbnN0YW5jZSk7XG4gICAgICAgIChldmVudHNbZXZlbnRdIHx8IChldmVudHNbZXZlbnRdID0gW10pKS5wdXNoKGZuKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xufVxuZnVuY3Rpb24gb25jZShpbnN0YW5jZSwgZXZlbnQsIGZuKSB7XG4gICAgY29uc3Qgd3JhcHBlZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIG9mZihpbnN0YW5jZSwgZXZlbnQsIHdyYXBwZWQpO1xuICAgICAgICBmbi5jYWxsKGluc3RhbmNlLnByb3h5LCAuLi5hcmdzKTtcbiAgICB9O1xuICAgIHdyYXBwZWQuZm4gPSBmbjtcbiAgICBvbihpbnN0YW5jZSwgZXZlbnQsIHdyYXBwZWQpO1xuICAgIHJldHVybiBpbnN0YW5jZS5wcm94eTtcbn1cbmZ1bmN0aW9uIG9mZihpbnN0YW5jZSwgZXZlbnQsIGZuKSB7XG4gICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0VNSVRURVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0VNSVRURVIgKi8sIGluc3RhbmNlKTtcbiAgICBjb25zdCB2bSA9IGluc3RhbmNlLnByb3h5O1xuICAgIC8vIGFsbFxuICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgZXZlbnRSZWdpc3RyeU1hcC5zZXQoaW5zdGFuY2UsIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICByZXR1cm4gdm07XG4gICAgfVxuICAgIC8vIGFycmF5IG9mIGV2ZW50c1xuICAgIGlmIChpc0FycmF5KGV2ZW50KSkge1xuICAgICAgICBldmVudC5mb3JFYWNoKGUgPT4gb2ZmKGluc3RhbmNlLCBlLCBmbikpO1xuICAgICAgICByZXR1cm4gdm07XG4gICAgfVxuICAgIC8vIHNwZWNpZmljIGV2ZW50XG4gICAgY29uc3QgZXZlbnRzID0gZ2V0UmVnaXN0cnkoaW5zdGFuY2UpO1xuICAgIGNvbnN0IGNicyA9IGV2ZW50c1tldmVudF07XG4gICAgaWYgKCFjYnMpIHtcbiAgICAgICAgcmV0dXJuIHZtO1xuICAgIH1cbiAgICBpZiAoIWZuKSB7XG4gICAgICAgIGV2ZW50c1tldmVudF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB2bTtcbiAgICB9XG4gICAgZXZlbnRzW2V2ZW50XSA9IGNicy5maWx0ZXIoY2IgPT4gIShjYiA9PT0gZm4gfHwgY2IuZm4gPT09IGZuKSk7XG4gICAgcmV0dXJuIHZtO1xufVxuZnVuY3Rpb24gZW1pdCQxKGluc3RhbmNlLCBldmVudCwgYXJncykge1xuICAgIGNvbnN0IGNicyA9IGdldFJlZ2lzdHJ5KGluc3RhbmNlKVtldmVudF07XG4gICAgaWYgKGNicykge1xuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhjYnMubWFwKGNiID0+IGNiLmJpbmQoaW5zdGFuY2UucHJveHkpKSwgaW5zdGFuY2UsIDYgLyogRXJyb3JDb2Rlcy5DT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZS5wcm94eTtcbn1cblxuY29uc3QgY29tcGF0TW9kZWxFdmVudFByZWZpeCA9IGBvbk1vZGVsQ29tcGF0OmA7XG5jb25zdCB3YXJuZWRUeXBlcyA9IG5ldyBXZWFrU2V0KCk7XG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5Vk1vZGVsUHJvcHModm5vZGUpIHtcbiAgICBjb25zdCB7IHR5cGUsIHNoYXBlRmxhZywgcHJvcHMsIGR5bmFtaWNQcm9wcyB9ID0gdm5vZGU7XG4gICAgY29uc3QgY29tcCA9IHR5cGU7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8gJiYgcHJvcHMgJiYgJ21vZGVsVmFsdWUnIGluIHByb3BzKSB7XG4gICAgICAgIGlmICghaXNDb21wYXRFbmFibGVkKFwiQ09NUE9ORU5UX1ZfTU9ERUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9WX01PREVMICovLCBcbiAgICAgICAgLy8gdGhpcyBpcyBhIHNwZWNpYWwgY2FzZSB3aGVyZSB3ZSB3YW50IHRvIHVzZSB0aGUgdm5vZGUgY29tcG9uZW50J3NcbiAgICAgICAgLy8gY29tcGF0IGNvbmZpZyBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHJlbmRlcmluZyBpbnN0YW5jZSAod2hpY2ggaXMgdGhlXG4gICAgICAgIC8vIHBhcmVudCBvZiB0aGUgY29tcG9uZW50IHRoYXQgZXhwb3NlcyB2LW1vZGVsKVxuICAgICAgICB7IHR5cGUgfSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICF3YXJuZWRUeXBlcy5oYXMoY29tcCkpIHtcbiAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSk7XG4gICAgICAgICAgICB3YXJuRGVwcmVjYXRpb24oXCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX1ZfTU9ERUwgKi8sIHsgdHlwZSB9LCBjb21wKTtcbiAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgICAgICB3YXJuZWRUeXBlcy5hZGQoY29tcCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdjMgY29tcGlsZWQgbW9kZWwgY29kZSAtPiB2MiBjb21wYXQgcHJvcHNcbiAgICAgICAgLy8gbW9kZWxWYWx1ZSAtPiB2YWx1ZVxuICAgICAgICAvLyBvblVwZGF0ZTptb2RlbFZhbHVlIC0+IG9uTW9kZWxDb21wYXQ6aW5wdXRcbiAgICAgICAgY29uc3QgbW9kZWwgPSBjb21wLm1vZGVsIHx8IHt9O1xuICAgICAgICBhcHBseU1vZGVsRnJvbU1peGlucyhtb2RlbCwgY29tcC5taXhpbnMpO1xuICAgICAgICBjb25zdCB7IHByb3AgPSAndmFsdWUnLCBldmVudCA9ICdpbnB1dCcgfSA9IG1vZGVsO1xuICAgICAgICBpZiAocHJvcCAhPT0gJ21vZGVsVmFsdWUnKSB7XG4gICAgICAgICAgICBwcm9wc1twcm9wXSA9IHByb3BzLm1vZGVsVmFsdWU7XG4gICAgICAgICAgICBkZWxldGUgcHJvcHMubW9kZWxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbXBvcnRhbnQ6IHVwZGF0ZSBkeW5hbWljIHByb3BzXG4gICAgICAgIGlmIChkeW5hbWljUHJvcHMpIHtcbiAgICAgICAgICAgIGR5bmFtaWNQcm9wc1tkeW5hbWljUHJvcHMuaW5kZXhPZignbW9kZWxWYWx1ZScpXSA9IHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHNbY29tcGF0TW9kZWxFdmVudFByZWZpeCArIGV2ZW50XSA9IHByb3BzWydvblVwZGF0ZTptb2RlbFZhbHVlJ107XG4gICAgICAgIGRlbGV0ZSBwcm9wc1snb25VcGRhdGU6bW9kZWxWYWx1ZSddO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5TW9kZWxGcm9tTWl4aW5zKG1vZGVsLCBtaXhpbnMpIHtcbiAgICBpZiAobWl4aW5zKSB7XG4gICAgICAgIG1peGlucy5mb3JFYWNoKG0gPT4ge1xuICAgICAgICAgICAgaWYgKG0ubW9kZWwpXG4gICAgICAgICAgICAgICAgZXh0ZW5kKG1vZGVsLCBtLm1vZGVsKTtcbiAgICAgICAgICAgIGlmIChtLm1peGlucylcbiAgICAgICAgICAgICAgICBhcHBseU1vZGVsRnJvbU1peGlucyhtb2RlbCwgbS5taXhpbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb21wYXRNb2RlbEVtaXQoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKSB7XG4gICAgaWYgKCFpc0NvbXBhdEVuYWJsZWQoXCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX1ZfTU9ERUwgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XG4gICAgY29uc3QgbW9kZWxIYW5kbGVyID0gcHJvcHMgJiYgcHJvcHNbY29tcGF0TW9kZWxFdmVudFByZWZpeCArIGV2ZW50XTtcbiAgICBpZiAobW9kZWxIYW5kbGVyKSB7XG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhtb2RlbEhhbmRsZXIsIGluc3RhbmNlLCA2IC8qIEVycm9yQ29kZXMuQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZW1pdCQyKGluc3RhbmNlLCBldmVudCwgLi4ucmF3QXJncykge1xuICAgIGlmIChpbnN0YW5jZS5pc1VubW91bnRlZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29uc3QgeyBlbWl0c09wdGlvbnMsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10gfSA9IGluc3RhbmNlO1xuICAgICAgICBpZiAoZW1pdHNPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIShldmVudCBpbiBlbWl0c09wdGlvbnMpICYmXG4gICAgICAgICAgICAgICAgISgoZXZlbnQuc3RhcnRzV2l0aCgnaG9vazonKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RhcnRzV2l0aChjb21wYXRNb2RlbEV2ZW50UHJlZml4KSkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wc09wdGlvbnMgfHwgISh0b0hhbmRsZXJLZXkoZXZlbnQpIGluIHByb3BzT3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgZW1pdHRlZCBldmVudCBcIiR7ZXZlbnR9XCIgYnV0IGl0IGlzIG5laXRoZXIgZGVjbGFyZWQgaW4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgdGhlIGVtaXRzIG9wdGlvbiBub3IgYXMgYW4gXCIke3RvSGFuZGxlcktleShldmVudCl9XCIgcHJvcC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBlbWl0c09wdGlvbnNbZXZlbnRdO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRvciguLi5yYXdBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEludmFsaWQgZXZlbnQgYXJndW1lbnRzOiBldmVudCB2YWxpZGF0aW9uIGZhaWxlZCBmb3IgZXZlbnQgXCIke2V2ZW50fVwiLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBhcmdzID0gcmF3QXJncztcbiAgICBjb25zdCBpc01vZGVsTGlzdGVuZXIgPSBldmVudC5zdGFydHNXaXRoKCd1cGRhdGU6Jyk7XG4gICAgLy8gZm9yIHYtbW9kZWwgdXBkYXRlOnh4eCBldmVudHMsIGFwcGx5IG1vZGlmaWVycyBvbiBhcmdzXG4gICAgY29uc3QgbW9kZWxBcmcgPSBpc01vZGVsTGlzdGVuZXIgJiYgZXZlbnQuc2xpY2UoNyk7XG4gICAgaWYgKG1vZGVsQXJnICYmIG1vZGVsQXJnIGluIHByb3BzKSB7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVyc0tleSA9IGAke21vZGVsQXJnID09PSAnbW9kZWxWYWx1ZScgPyAnbW9kZWwnIDogbW9kZWxBcmd9TW9kaWZpZXJzYDtcbiAgICAgICAgY29uc3QgeyBudW1iZXIsIHRyaW0gfSA9IHByb3BzW21vZGlmaWVyc0tleV0gfHwgRU1QVFlfT0JKO1xuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKGEgPT4gKGlzU3RyaW5nKGEpID8gYS50cmltKCkgOiBhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG51bWJlcikge1xuICAgICAgICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKHRvTnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEVtaXQoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcbiAgICAgICAgICAgIHdhcm4kMShgRXZlbnQgXCIke2xvd2VyQ2FzZUV2ZW50fVwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50IGAgK1xuICAgICAgICAgICAgICAgIGAke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfSBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXCIke2V2ZW50fVwiLiBgICtcbiAgICAgICAgICAgICAgICBgTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2UgYCArXG4gICAgICAgICAgICAgICAgYHYtb24gdG8gbGlzdGVuIHRvIGNhbWVsQ2FzZSBldmVudHMgd2hlbiB1c2luZyBpbi1ET00gdGVtcGxhdGVzLiBgICtcbiAgICAgICAgICAgICAgICBgWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXCIke2h5cGhlbmF0ZShldmVudCl9XCIgaW5zdGVhZCBvZiBcIiR7ZXZlbnR9XCIuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGhhbmRsZXJOYW1lO1xuICAgIGxldCBoYW5kbGVyID0gcHJvcHNbKGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGV2ZW50KSldIHx8XG4gICAgICAgIC8vIGFsc28gdHJ5IGNhbWVsQ2FzZSBldmVudCBoYW5kbGVyICgjMjI0OSlcbiAgICAgICAgcHJvcHNbKGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSkpXTtcbiAgICAvLyBmb3Igdi1tb2RlbCB1cGRhdGU6eHh4IGV2ZW50cywgYWxzbyB0cmlnZ2VyIGtlYmFiLWNhc2UgZXF1aXZhbGVudFxuICAgIC8vIGZvciBwcm9wcyBwYXNzZWQgdmlhIGtlYmFiLWNhc2VcbiAgICBpZiAoIWhhbmRsZXIgJiYgaXNNb2RlbExpc3RlbmVyKSB7XG4gICAgICAgIGhhbmRsZXIgPSBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoaHlwaGVuYXRlKGV2ZW50KSkpXTtcbiAgICB9XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaGFuZGxlciwgaW5zdGFuY2UsIDYgLyogRXJyb3JDb2Rlcy5DT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XG4gICAgfVxuICAgIGNvbnN0IG9uY2VIYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgKyBgT25jZWBdO1xuICAgIGlmIChvbmNlSGFuZGxlcikge1xuICAgICAgICBpZiAoIWluc3RhbmNlLmVtaXR0ZWQpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLmVtaXR0ZWQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdID0gdHJ1ZTtcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcob25jZUhhbmRsZXIsIGluc3RhbmNlLCA2IC8qIEVycm9yQ29kZXMuQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGNvbXBhdE1vZGVsRW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gZW1pdCQxKGluc3RhbmNlLCBldmVudCwgYXJncyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplRW1pdHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IGNhY2hlID0gYXBwQ29udGV4dC5lbWl0c0NhY2hlO1xuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgICBpZiAoY2FjaGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG4gICAgY29uc3QgcmF3ID0gY29tcC5lbWl0cztcbiAgICBsZXQgbm9ybWFsaXplZCA9IHt9O1xuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcbiAgICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEZyb21FeHRlbmQgPSBub3JtYWxpemVFbWl0c09wdGlvbnMocmF3LCBhcHBDb250ZXh0LCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkRnJvbUV4dGVuZCkge1xuICAgICAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBub3JtYWxpemVkRnJvbUV4dGVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgICAgICAgIGV4dGVuZEVtaXRzKGNvbXAuZXh0ZW5kcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXAubWl4aW5zKSB7XG4gICAgICAgICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgICAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgICAgICAgIGNhY2hlLnNldChjb21wLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgICAgICByYXcuZm9yRWFjaChrZXkgPT4gKG5vcm1hbGl6ZWRba2V5XSA9IG51bGwpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4dGVuZChub3JtYWxpemVkLCByYXcpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KGNvbXAsIG5vcm1hbGl6ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplZDtcbn1cbi8vIENoZWNrIGlmIGFuIGluY29taW5nIHByb3Aga2V5IGlzIGEgZGVjbGFyZWQgZW1pdCBldmVudCBsaXN0ZW5lci5cbi8vIGUuZy4gV2l0aCBgZW1pdHM6IHsgY2xpY2s6IG51bGwgfWAsIHByb3BzIG5hbWVkIGBvbkNsaWNrYCBhbmQgYG9uY2xpY2tgIGFyZVxuLy8gYm90aCBjb25zaWRlcmVkIG1hdGNoZWQgbGlzdGVuZXJzLlxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XG4gICAgaWYgKCFvcHRpb25zIHx8ICFpc09uKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoY29tcGF0TW9kZWxFdmVudFByZWZpeCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sICcnKTtcbiAgICByZXR1cm4gKGhhc093bihvcHRpb25zLCBrZXlbMF0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgxKSkgfHxcbiAgICAgICAgaGFzT3duKG9wdGlvbnMsIGh5cGhlbmF0ZShrZXkpKSB8fFxuICAgICAgICBoYXNPd24ob3B0aW9ucywga2V5KSk7XG59XG5cbi8qKlxuICogbWFyayB0aGUgY3VycmVudCByZW5kZXJpbmcgaW5zdGFuY2UgZm9yIGFzc2V0IHJlc29sdXRpb24gKGUuZy5cbiAqIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUpIGR1cmluZyByZW5kZXJcbiAqL1xubGV0IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xuLyoqXG4gKiBOb3RlOiByZW5kZXJpbmcgY2FsbHMgbWF5YmUgbmVzdGVkLiBUaGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgcGFyZW50IHJlbmRlcmluZ1xuICogaW5zdGFuY2UgaWYgcHJlc2VudCwgd2hpY2ggc2hvdWxkIGJlIHJlc3RvcmVkIGFmdGVyIHRoZSByZW5kZXIgaXMgZG9uZTpcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpKVxuICogLy8gLi4ucmVuZGVyXG4gKiBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldilcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBwcmV2ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIGN1cnJlbnRTY29wZUlkID0gKGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuX19zY29wZUlkKSB8fCBudWxsO1xuICAgIC8vIHYyIHByZS1jb21waWxlZCBjb21wb25lbnRzIHVzZXMgX3Njb3BlSWQgaW5zdGVhZCBvZiBfX3Njb3BlSWRcbiAgICBpZiAoIWN1cnJlbnRTY29wZUlkKSB7XG4gICAgICAgIGN1cnJlbnRTY29wZUlkID0gKGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuX3Njb3BlSWQpIHx8IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBwcmV2O1xufVxuLyoqXG4gKiBTZXQgc2NvcGUgaWQgd2hlbiBjcmVhdGluZyBob2lzdGVkIHZub2Rlcy5cbiAqIEBwcml2YXRlIGNvbXBpbGVyIGhlbHBlclxuICovXG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xuICAgIGN1cnJlbnRTY29wZUlkID0gaWQ7XG59XG4vKipcbiAqIFRlY2huaWNhbGx5IHdlIG5vIGxvbmdlciBuZWVkIHRoaXMgYWZ0ZXIgMy4wLjggYnV0IHdlIG5lZWQgdG8ga2VlcCB0aGUgc2FtZVxuICogQVBJIGZvciBiYWNrd2FyZHMgY29tcGF0IHcvIGNvZGUgZ2VuZXJhdGVkIGJ5IGNvbXBpbGVycy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBvcFNjb3BlSWQoKSB7XG4gICAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xufVxuLyoqXG4gKiBPbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCB3aXRoU2NvcGVJZCA9IChfaWQpID0+IHdpdGhDdHg7XG4vKipcbiAqIFdyYXAgYSBzbG90IGZ1bmN0aW9uIHRvIG1lbW9pemUgY3VycmVudCByZW5kZXJpbmcgaW5zdGFuY2VcbiAqIEBwcml2YXRlIGNvbXBpbGVyIGhlbHBlclxuICovXG5mdW5jdGlvbiB3aXRoQ3R4KGZuLCBjdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIGlzTm9uU2NvcGVkU2xvdCAvLyB0cnVlIG9ubHlcbikge1xuICAgIGlmICghY3R4KVxuICAgICAgICByZXR1cm4gZm47XG4gICAgLy8gYWxyZWFkeSBub3JtYWxpemVkXG4gICAgaWYgKGZuLl9uKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gICAgY29uc3QgcmVuZGVyRm5XaXRoQ29udGV4dCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIC8vIElmIGEgdXNlciBjYWxscyBhIGNvbXBpbGVkIHNsb3QgaW5zaWRlIGEgdGVtcGxhdGUgZXhwcmVzc2lvbiAoIzE3NDUpLCBpdFxuICAgICAgICAvLyBjYW4gbWVzcyB1cCBibG9jayB0cmFja2luZywgc28gYnkgZGVmYXVsdCB3ZSBkaXNhYmxlIGJsb2NrIHRyYWNraW5nIGFuZFxuICAgICAgICAvLyBmb3JjZSBiYWlsIG91dCB3aGVuIGludm9raW5nIGEgY29tcGlsZWQgc2xvdCAoaW5kaWNhdGVkIGJ5IHRoZSAuX2QgZmxhZykuXG4gICAgICAgIC8vIFRoaXMgaXNuJ3QgbmVjZXNzYXJ5IGlmIHJlbmRlcmluZyBhIGNvbXBpbGVkIGA8c2xvdD5gLCBzbyB3ZSBmbGlwIHRoZVxuICAgICAgICAvLyAuX2QgZmxhZyBvZmYgd2hlbiBpbnZva2luZyB0aGUgd3JhcHBlZCBmbiBpbnNpZGUgYHJlbmRlclNsb3RgLlxuICAgICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgICAgICAgc2V0QmxvY2tUcmFja2luZygtMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldkluc3RhbmNlID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGN0eCk7XG4gICAgICAgIGxldCByZXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXMgPSBmbiguLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2SW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgICAgICAgICAgICBzZXRCbG9ja1RyYWNraW5nKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoY3R4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgLy8gbWFyayBub3JtYWxpemVkIHRvIGF2b2lkIGR1cGxpY2F0ZWQgd3JhcHBpbmdcbiAgICByZW5kZXJGbldpdGhDb250ZXh0Ll9uID0gdHJ1ZTtcbiAgICAvLyBtYXJrIHRoaXMgYXMgY29tcGlsZWQgYnkgZGVmYXVsdFxuICAgIC8vIHRoaXMgaXMgdXNlZCBpbiB2bm9kZS50cyAtPiBub3JtYWxpemVDaGlsZHJlbigpIHRvIHNldCB0aGUgc2xvdFxuICAgIC8vIHJlbmRlcmluZyBmbGFnLlxuICAgIHJlbmRlckZuV2l0aENvbnRleHQuX2MgPSB0cnVlO1xuICAgIC8vIGRpc2FibGUgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdFxuICAgIHJlbmRlckZuV2l0aENvbnRleHQuX2QgPSB0cnVlO1xuICAgIC8vIGNvbXBhdCBidWlsZCBvbmx5IGZsYWcgdG8gZGlzdGluZ3Vpc2ggc2NvcGVkIHNsb3RzIGZyb20gbm9uLXNjb3BlZCBvbmVzXG4gICAgaWYgKGlzTm9uU2NvcGVkU2xvdCkge1xuICAgICAgICByZW5kZXJGbldpdGhDb250ZXh0Ll9ucyA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJGbldpdGhDb250ZXh0O1xufVxuXG4vKipcbiAqIGRldiBvbmx5IGZsYWcgdG8gdHJhY2sgd2hldGhlciAkYXR0cnMgd2FzIHVzZWQgZHVyaW5nIHJlbmRlci5cbiAqIElmICRhdHRycyB3YXMgdXNlZCBkdXJpbmcgcmVuZGVyIHRoZW4gdGhlIHdhcm5pbmcgZm9yIGZhaWxlZCBhdHRyc1xuICogZmFsbHRocm91Z2ggY2FuIGJlIHN1cHByZXNzZWQuXG4gKi9cbmxldCBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcbiAgICBhY2Nlc3NlZEF0dHJzID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcbiAgICBjb25zdCB7IHR5cGU6IENvbXBvbmVudCwgdm5vZGUsIHByb3h5LCB3aXRoUHJveHksIHByb3BzLCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdLCBzbG90cywgYXR0cnMsIGVtaXQsIHJlbmRlciwgcmVuZGVyQ2FjaGUsIGRhdGEsIHNldHVwU3RhdGUsIGN0eCwgaW5oZXJpdEF0dHJzIH0gPSBpbnN0YW5jZTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGxldCBmYWxsdGhyb3VnaEF0dHJzO1xuICAgIGNvbnN0IHByZXYgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgLy8gd2l0aFByb3h5IGlzIGEgcHJveHkgd2l0aCBhIGRpZmZlcmVudCBgaGFzYCB0cmFwIG9ubHkgZm9yXG4gICAgICAgICAgICAvLyBydW50aW1lLWNvbXBpbGVkIHJlbmRlciBmdW5jdGlvbnMgdXNpbmcgYHdpdGhgIGJsb2NrLlxuICAgICAgICAgICAgY29uc3QgcHJveHlUb1VzZSA9IHdpdGhQcm94eSB8fCBwcm94eTtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKHJlbmRlci5jYWxsKHByb3h5VG9Vc2UsIHByb3h5VG9Vc2UsIHJlbmRlckNhY2hlLCBwcm9wcywgc2V0dXBTdGF0ZSwgZGF0YSwgY3R4KSk7XG4gICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gYXR0cnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsXG4gICAgICAgICAgICBjb25zdCByZW5kZXIgPSBDb21wb25lbnQ7XG4gICAgICAgICAgICAvLyBpbiBkZXYsIG1hcmsgYXR0cnMgYWNjZXNzZWQgaWYgb3B0aW9uYWwgcHJvcHMgKGF0dHJzID09PSBwcm9wcylcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYXR0cnMgPT09IHByb3BzKSB7XG4gICAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKHJlbmRlci5sZW5ndGggPiAxXG4gICAgICAgICAgICAgICAgPyByZW5kZXIocHJvcHMsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG90cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IHsgYXR0cnMsIHNsb3RzLCBlbWl0IH0pXG4gICAgICAgICAgICAgICAgOiByZW5kZXIocHJvcHMsIG51bGwgLyogd2Uga25vdyBpdCBkb2Vzbid0IG5lZWQgaXQgKi8pKTtcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBDb21wb25lbnQucHJvcHNcbiAgICAgICAgICAgICAgICA/IGF0dHJzXG4gICAgICAgICAgICAgICAgOiBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2goYXR0cnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgYmxvY2tTdGFjay5sZW5ndGggPSAwO1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAxIC8qIEVycm9yQ29kZXMuUkVOREVSX0ZVTkNUSU9OICovKTtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gICAgfVxuICAgIC8vIGF0dHIgbWVyZ2luZ1xuICAgIC8vIGluIGRldiBtb2RlLCBjb21tZW50cyBhcmUgcHJlc2VydmVkLCBhbmQgaXQncyBwb3NzaWJsZSBmb3IgYSB0ZW1wbGF0ZVxuICAgIC8vIHRvIGhhdmUgY29tbWVudHMgYWxvbmcgc2lkZSB0aGUgcm9vdCBlbGVtZW50IHdoaWNoIG1ha2VzIGl0IGEgZnJhZ21lbnRcbiAgICBsZXQgcm9vdCA9IHJlc3VsdDtcbiAgICBsZXQgc2V0Um9vdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgIHJlc3VsdC5wYXRjaEZsYWcgPiAwICYmXG4gICAgICAgIHJlc3VsdC5wYXRjaEZsYWcgJiAyMDQ4IC8qIFBhdGNoRmxhZ3MuREVWX1JPT1RfRlJBR01FTlQgKi8pIHtcbiAgICAgICAgW3Jvb3QsIHNldFJvb3RdID0gZ2V0Q2hpbGRSb290KHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChmYWxsdGhyb3VnaEF0dHJzICYmIGluaGVyaXRBdHRycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGZhbGx0aHJvdWdoQXR0cnMpO1xuICAgICAgICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gcm9vdDtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgKDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovIHwgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHNPcHRpb25zICYmIGtleXMuc29tZShpc01vZGVsTGlzdGVuZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGEgdi1tb2RlbCBsaXN0ZW5lciAob25VcGRhdGU6eHh4KSBoYXMgYSBjb3JyZXNwb25kaW5nIGRlY2xhcmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb3AsIGl0IGluZGljYXRlcyB0aGlzIGNvbXBvbmVudCBleHBlY3RzIHRvIGhhbmRsZSB2LW1vZGVsIGFuZFxuICAgICAgICAgICAgICAgICAgICAvLyBpdCBzaG91bGQgbm90IGZhbGx0aHJvdWdoLlxuICAgICAgICAgICAgICAgICAgICAvLyByZWxhdGVkOiAjMTU0MywgIzE2NDMsICMxOTg5XG4gICAgICAgICAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBmaWx0ZXJNb2RlbExpc3RlbmVycyhmYWxsdGhyb3VnaEF0dHJzLCBwcm9wc09wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb290ID0gY2xvbmVWTm9kZShyb290LCBmYWxsdGhyb3VnaEF0dHJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhYWNjZXNzZWRBdHRycyAmJiByb290LnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGxBdHRycyA9IE9iamVjdC5rZXlzKGF0dHJzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudEF0dHJzID0gW107XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0cmFBdHRycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWxsQXR0cnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGFsbEF0dHJzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgdi1tb2RlbCBoYW5kbGVycyB3aGVuIHRoZXkgZmFpbCB0byBmYWxsdGhyb3VnaFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBgb25gLCBsb3dlcmNhc2UgZmlyc3QgbGV0dGVyIHRvIHJlZmxlY3QgZXZlbnQgY2FzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWNjdXJhdGVseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QXR0cnMucHVzaChrZXlbMl0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXh0cmFBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBFeHRyYW5lb3VzIG5vbi1wcm9wcyBhdHRyaWJ1dGVzIChgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke2V4dHJhQXR0cnMuam9pbignLCAnKX0pIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBFeHRyYW5lb3VzIG5vbi1lbWl0cyBldmVudCBsaXN0ZW5lcnMgKGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXZlbnRBdHRycy5qb2luKCcsICcpfSkgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRSAqLywgaW5zdGFuY2UpICYmXG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU2hhcGVGbGFncy5TVEFURUZVTF9DT01QT05FTlQgKi8gJiZcbiAgICAgICAgcm9vdC5zaGFwZUZsYWcgJiAoMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gfCA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSkge1xuICAgICAgICBjb25zdCB7IGNsYXNzOiBjbHMsIHN0eWxlIH0gPSB2bm9kZS5wcm9wcyB8fCB7fTtcbiAgICAgICAgaWYgKGNscyB8fCBzdHlsZSkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbmhlcml0QXR0cnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgd2FybkRlcHJlY2F0aW9uKFwiSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFICovLCBpbnN0YW5jZSwgZ2V0Q29tcG9uZW50TmFtZShpbnN0YW5jZS50eXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb290ID0gY2xvbmVWTm9kZShyb290LCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IGNscyxcbiAgICAgICAgICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGluaGVyaXQgZGlyZWN0aXZlc1xuICAgIGlmICh2bm9kZS5kaXJzKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcbiAgICAgICAgICAgIHdhcm4kMShgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIGAgK1xuICAgICAgICAgICAgICAgIGBUaGUgZGlyZWN0aXZlcyB3aWxsIG5vdCBmdW5jdGlvbiBhcyBpbnRlbmRlZC5gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjbG9uZSBiZWZvcmUgbXV0YXRpbmcgc2luY2UgdGhlIHJvb3QgbWF5IGJlIGEgaG9pc3RlZCB2bm9kZVxuICAgICAgICByb290ID0gY2xvbmVWTm9kZShyb290KTtcbiAgICAgICAgcm9vdC5kaXJzID0gcm9vdC5kaXJzID8gcm9vdC5kaXJzLmNvbmNhdCh2bm9kZS5kaXJzKSA6IHZub2RlLmRpcnM7XG4gICAgfVxuICAgIC8vIGluaGVyaXQgdHJhbnNpdGlvbiBkYXRhXG4gICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSBgICtcbiAgICAgICAgICAgICAgICBgdGhhdCBjYW5ub3QgYmUgYW5pbWF0ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcm9vdC50cmFuc2l0aW9uID0gdm5vZGUudHJhbnNpdGlvbjtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXRSb290KSB7XG4gICAgICAgIHNldFJvb3Qocm9vdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSByb290O1xuICAgIH1cbiAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogZGV2IG9ubHlcbiAqIEluIGRldiBtb2RlLCB0ZW1wbGF0ZSByb290IGxldmVsIGNvbW1lbnRzIGFyZSByZW5kZXJlZCwgd2hpY2ggdHVybnMgdGhlXG4gKiB0ZW1wbGF0ZSBpbnRvIGEgZnJhZ21lbnQgcm9vdCwgYnV0IHdlIG5lZWQgdG8gbG9jYXRlIHRoZSBzaW5nbGUgZWxlbWVudFxuICogcm9vdCBmb3IgYXR0cnMgYW5kIHNjb3BlIGlkIHByb2Nlc3NpbmcuXG4gKi9cbmNvbnN0IGdldENoaWxkUm9vdCA9ICh2bm9kZSkgPT4ge1xuICAgIGNvbnN0IHJhd0NoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgY29uc3QgZHluYW1pY0NoaWxkcmVuID0gdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkUm9vdCA9IGZpbHRlclNpbmdsZVJvb3QocmF3Q2hpbGRyZW4pO1xuICAgIGlmICghY2hpbGRSb290KSB7XG4gICAgICAgIHJldHVybiBbdm5vZGUsIHVuZGVmaW5lZF07XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gcmF3Q2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpO1xuICAgIGNvbnN0IGR5bmFtaWNJbmRleCA9IGR5bmFtaWNDaGlsZHJlbiA/IGR5bmFtaWNDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCkgOiAtMTtcbiAgICBjb25zdCBzZXRSb290ID0gKHVwZGF0ZWRSb290KSA9PiB7XG4gICAgICAgIHJhd0NoaWxkcmVuW2luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoZHluYW1pY0luZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW5bZHluYW1pY0luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodXBkYXRlZFJvb3QucGF0Y2hGbGFnID4gMCkge1xuICAgICAgICAgICAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IFsuLi5keW5hbWljQ2hpbGRyZW4sIHVwZGF0ZWRSb290XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFtub3JtYWxpemVWTm9kZShjaGlsZFJvb3QpLCBzZXRSb290XTtcbn07XG5mdW5jdGlvbiBmaWx0ZXJTaW5nbGVSb290KGNoaWxkcmVuKSB7XG4gICAgbGV0IHNpbmdsZVJvb3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBpZiAoaXNWTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIC8vIGlnbm9yZSB1c2VyIGNvbW1lbnRcbiAgICAgICAgICAgIGlmIChjaGlsZC50eXBlICE9PSBDb21tZW50IHx8IGNoaWxkLmNoaWxkcmVuID09PSAndi1pZicpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2luZ2xlUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBoYXMgbW9yZSB0aGFuIDEgbm9uLWNvbW1lbnQgY2hpbGQsIHJldHVybiBub3dcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlUm9vdCA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2luZ2xlUm9vdDtcbn1cbmNvbnN0IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCA9IChhdHRycykgPT4ge1xuICAgIGxldCByZXM7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScgfHwgaXNPbihrZXkpKSB7XG4gICAgICAgICAgICAocmVzIHx8IChyZXMgPSB7fSkpW2tleV0gPSBhdHRyc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59O1xuY29uc3QgZmlsdGVyTW9kZWxMaXN0ZW5lcnMgPSAoYXR0cnMsIHByb3BzKSA9PiB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcbiAgICAgICAgICAgIHJlc1trZXldID0gYXR0cnNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcbiAgICByZXR1cm4gKHZub2RlLnNoYXBlRmxhZyAmICg2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovIHwgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8pIHx8XG4gICAgICAgIHZub2RlLnR5cGUgPT09IENvbW1lbnQgLy8gcG90ZW50aWFsIHYtaWYgYnJhbmNoIHN3aXRjaFxuICAgICk7XG59O1xuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcbiAgICBjb25zdCB7IHByb3BzOiBwcmV2UHJvcHMsIGNoaWxkcmVuOiBwcmV2Q2hpbGRyZW4sIGNvbXBvbmVudCB9ID0gcHJldlZOb2RlO1xuICAgIGNvbnN0IHsgcHJvcHM6IG5leHRQcm9wcywgY2hpbGRyZW46IG5leHRDaGlsZHJlbiwgcGF0Y2hGbGFnIH0gPSBuZXh0Vk5vZGU7XG4gICAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xuICAgIC8vIFBhcmVudCBjb21wb25lbnQncyByZW5kZXIgZnVuY3Rpb24gd2FzIGhvdC11cGRhdGVkLiBTaW5jZSB0aGlzIG1heSBoYXZlXG4gICAgLy8gY2F1c2VkIHRoZSBjaGlsZCBjb21wb25lbnQncyBzbG90cyBjb250ZW50IHRvIGhhdmUgY2hhbmdlZCwgd2UgbmVlZCB0b1xuICAgIC8vIGZvcmNlIHRoZSBjaGlsZCB0byB1cGRhdGUgYXMgd2VsbC5cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBmb3JjZSBjaGlsZCB1cGRhdGUgZm9yIHJ1bnRpbWUgZGlyZWN0aXZlIG9yIHRyYW5zaXRpb24gb24gY29tcG9uZW50IHZub2RlLlxuICAgIGlmIChuZXh0Vk5vZGUuZGlycyB8fCBuZXh0Vk5vZGUudHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9wdGltaXplZCAmJiBwYXRjaEZsYWcgPj0gMCkge1xuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTAyNCAvKiBQYXRjaEZsYWdzLkRZTkFNSUNfU0xPVFMgKi8pIHtcbiAgICAgICAgICAgIC8vIHNsb3QgY29udGVudCB0aGF0IHJlZmVyZW5jZXMgdmFsdWVzIHRoYXQgbWlnaHQgaGF2ZSBjaGFuZ2VkLFxuICAgICAgICAgICAgLy8gZS5nLiBpbiBhIHYtZm9yXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovKSB7XG4gICAgICAgICAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgICAgICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByZXNlbmNlIG9mIHRoaXMgZmxhZyBpbmRpY2F0ZXMgcHJvcHMgYXJlIGFsd2F5cyBub24tbnVsbFxuICAgICAgICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhdGNoRmxhZyAmIDggLyogUGF0Y2hGbGFncy5QUk9QUyAqLykge1xuICAgICAgICAgICAgY29uc3QgZHluYW1pY1Byb3BzID0gbmV4dFZOb2RlLmR5bmFtaWNQcm9wcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Byb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZHluYW1pY1Byb3BzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzRW1pdExpc3RlbmVyKGVtaXRzLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBwYXRoIGlzIG9ubHkgdGFrZW4gYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zXG4gICAgICAgIC8vIHNvIHByZXNlbmNlIG9mIGFueSBjaGlsZHJlbiBsZWFkcyB0byBhIGZvcmNlZCB1cGRhdGVcbiAgICAgICAgaWYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmICghbmV4dENoaWxkcmVuIHx8ICFuZXh0Q2hpbGRyZW4uJHN0YWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2UHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0c09wdGlvbnMpIHtcbiAgICBjb25zdCBuZXh0S2V5cyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XG4gICAgaWYgKG5leHRLZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMocHJldlByb3BzKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbmV4dEtleXNbaV07XG4gICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiZcbiAgICAgICAgICAgICFpc0VtaXRMaXN0ZW5lcihlbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUhPQ0hvc3RFbCh7IHZub2RlLCBwYXJlbnQgfSwgZWwgLy8gSG9zdE5vZGVcbikge1xuICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50LnN1YlRyZWUgPT09IHZub2RlKSB7XG4gICAgICAgICh2bm9kZSA9IHBhcmVudC52bm9kZSkuZWwgPSBlbDtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG59XG5cbmNvbnN0IGlzU3VzcGVuc2UgPSAodHlwZSkgPT4gdHlwZS5fX2lzU3VzcGVuc2U7XG4vLyBTdXNwZW5zZSBleHBvc2VzIGEgY29tcG9uZW50LWxpa2UgQVBJLCBhbmQgaXMgdHJlYXRlZCBsaWtlIGEgY29tcG9uZW50XG4vLyBpbiB0aGUgY29tcGlsZXIsIGJ1dCBpbnRlcm5hbGx5IGl0J3MgYSBzcGVjaWFsIGJ1aWx0LWluIHR5cGUgdGhhdCBob29rc1xuLy8gZGlyZWN0bHkgaW50byB0aGUgcmVuZGVyZXIuXG5jb25zdCBTdXNwZW5zZUltcGwgPSB7XG4gICAgbmFtZTogJ1N1c3BlbnNlJyxcbiAgICAvLyBJbiBvcmRlciB0byBtYWtlIFN1c3BlbnNlIHRyZWUtc2hha2FibGUsIHdlIG5lZWQgdG8gYXZvaWQgaW1wb3J0aW5nIGl0XG4gICAgLy8gZGlyZWN0bHkgaW4gdGhlIHJlbmRlcmVyLiBUaGUgcmVuZGVyZXIgY2hlY2tzIGZvciB0aGUgX19pc1N1c3BlbnNlIGZsYWdcbiAgICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcbiAgICAvLyBpbnRlcm5hbHMuXG4gICAgX19pc1N1c3BlbnNlOiB0cnVlLFxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBcbiAgICAvLyBwbGF0Zm9ybS1zcGVjaWZpYyBpbXBsIHBhc3NlZCBmcm9tIHJlbmRlcmVyXG4gICAgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICAgIG1vdW50U3VzcGVuc2UobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVN1c3BlbnNlLFxuICAgIGNyZWF0ZTogY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSxcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW5cbn07XG4vLyBGb3JjZS1jYXN0ZWQgcHVibGljIHR5cGluZyBmb3IgaCBhbmQgVFNYIHByb3BzIGluZmVyZW5jZVxuY29uc3QgU3VzcGVuc2UgPSAoU3VzcGVuc2VJbXBsXG4gICAgKTtcbmZ1bmN0aW9uIHRyaWdnZXJFdmVudCh2bm9kZSwgbmFtZSkge1xuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wc1tuYW1lXTtcbiAgICBpZiAoaXNGdW5jdGlvbihldmVudExpc3RlbmVyKSkge1xuICAgICAgICBldmVudExpc3RlbmVyKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbW91bnRTdXNwZW5zZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgICBjb25zdCB7IHA6IHBhdGNoLCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gICAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3Qgc3VzcGVuc2UgPSAodm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KHZub2RlLCBwYXJlbnRTdXNwZW5zZSwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSk7XG4gICAgLy8gc3RhcnQgbW91bnRpbmcgdGhlIGNvbnRlbnQgc3VidHJlZSBpbiBhbiBvZmYtZG9tIGNvbnRhaW5lclxuICAgIHBhdGNoKG51bGwsIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50KSwgaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcbiAgICAvLyBub3cgY2hlY2sgaWYgd2UgaGF2ZSBlbmNvdW50ZXJlZCBhbnkgYXN5bmMgZGVwc1xuICAgIGlmIChzdXNwZW5zZS5kZXBzID4gMCkge1xuICAgICAgICAvLyBoYXMgYXN5bmNcbiAgICAgICAgLy8gaW52b2tlIEBmYWxsYmFjayBldmVudFxuICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvblBlbmRpbmcnKTtcbiAgICAgICAgdHJpZ2dlckV2ZW50KHZub2RlLCAnb25GYWxsYmFjaycpO1xuICAgICAgICAvLyBtb3VudCB0aGUgZmFsbGJhY2sgdHJlZVxuICAgICAgICBwYXRjaChudWxsLCB2bm9kZS5zc0ZhbGxiYWNrLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzKTtcbiAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFN1c3BlbnNlIGhhcyBubyBhc3luYyBkZXBzLiBKdXN0IHJlc29sdmUuXG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IHA6IHBhdGNoLCB1bTogdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSkge1xuICAgIGNvbnN0IHN1c3BlbnNlID0gKG4yLnN1c3BlbnNlID0gbjEuc3VzcGVuc2UpO1xuICAgIHN1c3BlbnNlLnZub2RlID0gbjI7XG4gICAgbjIuZWwgPSBuMS5lbDtcbiAgICBjb25zdCBuZXdCcmFuY2ggPSBuMi5zc0NvbnRlbnQ7XG4gICAgY29uc3QgbmV3RmFsbGJhY2sgPSBuMi5zc0ZhbGxiYWNrO1xuICAgIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcbiAgICBpZiAocGVuZGluZ0JyYW5jaCkge1xuICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgcGVuZGluZ0JyYW5jaCkpIHtcbiAgICAgICAgICAgIC8vIHNhbWUgcm9vdCB0eXBlIGJ1dCBjb250ZW50IG1heSBoYXZlIGNoYW5nZWQuXG4gICAgICAgICAgICBwYXRjaChwZW5kaW5nQnJhbmNoLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0luRmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0ZhbGxiYWNrLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0b2dnbGVkIGJlZm9yZSBwZW5kaW5nIHRyZWUgaXMgcmVzb2x2ZWRcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCsrO1xuICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdG9nZ2xlZCBiZWZvcmUgaHlkcmF0aW9uIGlzIGZpbmlzaGVkLCB0aGUgY3VycmVudCBET00gdHJlZSBpc1xuICAgICAgICAgICAgICAgIC8vIG5vIGxvbmdlciB2YWxpZC4gc2V0IGl0IGFzIHRoZSBhY3RpdmUgYnJhbmNoIHNvIGl0IHdpbGwgYmUgdW5tb3VudGVkXG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZXNvbHZlZFxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpbmNyZW1lbnQgcGVuZGluZyBJRC4gdGhpcyBpcyB1c2VkIHRvIGludmFsaWRhdGUgYXN5bmMgY2FsbGJhY2tzXG4gICAgICAgICAgICAvLyByZXNldCBzdXNwZW5zZSBzdGF0ZVxuICAgICAgICAgICAgc3VzcGVuc2UuZGVwcyA9IDA7XG4gICAgICAgICAgICAvLyBkaXNjYXJkIGVmZmVjdHMgZnJvbSBwZW5kaW5nIGJyYW5jaFxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgLy8gZGlzY2FyZCBwcmV2aW91cyBjb250YWluZXJcbiAgICAgICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gZmFsbGJhY2sgc3RhdGVcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3RmFsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XG4gICAgICAgICAgICAgICAgLy8gdG9nZ2xlZCBcImJhY2tcIiB0byBjdXJyZW50IGFjdGl2ZSBicmFuY2hcbiAgICAgICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgcmVzb2x2ZVxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hlZCB0byBhIDNyZCBicmFuY2hcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xuICAgICAgICAgICAgLy8gcm9vdCBkaWQgbm90IGNoYW5nZSwganVzdCBub3JtYWwgcGF0Y2hcbiAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3QnJhbmNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJvb3Qgbm9kZSB0b2dnbGVkXG4gICAgICAgICAgICAvLyBpbnZva2UgQHBlbmRpbmcgZXZlbnRcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudChuMiwgJ29uUGVuZGluZycpO1xuICAgICAgICAgICAgLy8gbW91bnQgcGVuZGluZyBicmFuY2ggaW4gb2ZmLWRvbSBjb250YWluZXJcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQrKztcbiAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGluY29taW5nIGJyYW5jaCBoYXMgbm8gYXN5bmMgZGVwcywgcmVzb2x2ZSBub3cuXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xuICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbWVvdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmxldCBoYXNXYXJuZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudCwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBpc0h5ZHJhdGluZyA9IGZhbHNlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UgJiYgIWhhc1dhcm5lZCkge1xuICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAvLyBAdHMtaWdub3JlIGBjb25zb2xlLmluZm9gIGNhbm5vdCBiZSBudWxsIGVycm9yXG4gICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKGA8U3VzcGVuc2U+IGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIGFuZCBpdHMgQVBJIHdpbGwgbGlrZWx5IGNoYW5nZS5gKTtcbiAgICB9XG4gICAgY29uc3QgeyBwOiBwYXRjaCwgbTogbW92ZSwgdW06IHVubW91bnQsIG46IG5leHQsIG86IHsgcGFyZW50Tm9kZSwgcmVtb3ZlIH0gfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICAgIGNvbnN0IHRpbWVvdXQgPSB0b051bWJlcih2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50aW1lb3V0KTtcbiAgICBjb25zdCBzdXNwZW5zZSA9IHtcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBpc1NWRyxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBoaWRkZW5Db250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgZGVwczogMCxcbiAgICAgICAgcGVuZGluZ0lkOiAwLFxuICAgICAgICB0aW1lb3V0OiB0eXBlb2YgdGltZW91dCA9PT0gJ251bWJlcicgPyB0aW1lb3V0IDogLTEsXG4gICAgICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcbiAgICAgICAgcGVuZGluZ0JyYW5jaDogbnVsbCxcbiAgICAgICAgaXNJbkZhbGxiYWNrOiB0cnVlLFxuICAgICAgICBpc0h5ZHJhdGluZyxcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxuICAgICAgICBlZmZlY3RzOiBbXSxcbiAgICAgICAgcmVzb2x2ZShyZXN1bWUgPSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGlmICghcmVzdW1lICYmICFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCB3aXRob3V0IGEgcGVuZGluZyBicmFuY2guYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgb24gYW4gYWxyZWFkeSB1bm1vdW50ZWQgc3VzcGVuc2UgYm91bmRhcnkuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB2bm9kZSwgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBwZW5kaW5nSWQsIGVmZmVjdHMsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyIH0gPSBzdXNwZW5zZTtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghcmVzdW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGFjdGl2ZUJyYW5jaCAmJlxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xuICAgICAgICAgICAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0lkID09PSBzdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIE1vdmVUeXBlLkVOVEVSICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBpbml0aWFsIGFuY2hvciBvbiBtb3VudFxuICAgICAgICAgICAgICAgIGxldCB7IGFuY2hvciB9ID0gc3VzcGVuc2U7XG4gICAgICAgICAgICAgICAgLy8gdW5tb3VudCBjdXJyZW50IGFjdGl2ZSB0cmVlXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmFsbGJhY2sgdHJlZSB3YXMgbW91bnRlZCwgaXQgbWF5IGhhdmUgYmVlbiBtb3ZlZFxuICAgICAgICAgICAgICAgICAgICAvLyBhcyBwYXJ0IG9mIGEgcGFyZW50IHN1c3BlbnNlLiBnZXQgdGhlIGxhdGVzdCBhbmNob3IgZm9yIGluc2VydGlvblxuICAgICAgICAgICAgICAgICAgICBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgY29udGVudCBmcm9tIG9mZi1kb20gY29udGFpbmVyIHRvIGFjdHVhbCBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBNb3ZlVHlwZS5FTlRFUiAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBwZW5kaW5nQnJhbmNoKTtcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBudWxsO1xuICAgICAgICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBmbHVzaCBidWZmZXJlZCBlZmZlY3RzXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gc3VzcGVuc2UucGFyZW50O1xuICAgICAgICAgICAgbGV0IGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IGZhbHNlO1xuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3VuZCBhIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlLCBtZXJnZSBidWZmZXJlZCBwb3N0IGpvYnNcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50byB0aGF0IHBhcmVudFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZWZmZWN0cy5wdXNoKC4uLmVmZmVjdHMpO1xuICAgICAgICAgICAgICAgICAgICBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vIHBlbmRpbmcgcGFyZW50IHN1c3BlbnNlLCBmbHVzaCBhbGwgam9ic1xuICAgICAgICAgICAgaWYgKCFoYXNVbnJlc29sdmVkQW5jZXN0b3IpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cyA9IFtdO1xuICAgICAgICAgICAgLy8gaW52b2tlIEByZXNvbHZlIGV2ZW50XG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvblJlc29sdmUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmFsbGJhY2soZmFsbGJhY2tWTm9kZSkge1xuICAgICAgICAgICAgaWYgKCFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB2bm9kZSwgYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaXNTVkcgfSA9IHN1c3BlbnNlO1xuICAgICAgICAgICAgLy8gaW52b2tlIEBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KHZub2RlLCAnb25GYWxsYmFjaycpO1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dChhY3RpdmVCcmFuY2gpO1xuICAgICAgICAgICAgY29uc3QgbW91bnRGYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG1vdW50IHRoZSBmYWxsYmFjayB0cmVlXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgZmFsbGJhY2tWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbiAmJiBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XG4gICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSBtb3VudEZhbGxiYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHVubW91bnQgY3VycmVudCBhY3RpdmUgYnJhbmNoXG4gICAgICAgICAgICB1bm1vdW50KGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBubyBzdXNwZW5zZSBzbyB1bm1vdW50IGhvb2tzIGZpcmUgbm93XG4gICAgICAgICAgICB0cnVlIC8vIHNob3VsZFJlbW92ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghZGVsYXlFbnRlcikge1xuICAgICAgICAgICAgICAgIG1vdW50RmFsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbW92ZShjb250YWluZXIsIGFuY2hvciwgdHlwZSkge1xuICAgICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoICYmXG4gICAgICAgICAgICAgICAgbW92ZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCB0eXBlKTtcbiAgICAgICAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xuICAgICAgICB9LFxuICAgICAgICByZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzSW5QZW5kaW5nU3VzcGVuc2UgPSAhIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2g7XG4gICAgICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSkge1xuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmRlcHMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGh5ZHJhdGVkRWwgPSBpbnN0YW5jZS52bm9kZS5lbDtcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgLmFzeW5jRGVwLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMCAvKiBFcnJvckNvZGVzLlNFVFVQX0ZVTkNUSU9OICovKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmNTZXR1cFJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gcmV0cnkgd2hlbiB0aGUgc2V0dXAoKSBwcm9taXNlIHJlc29sdmVzLlxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgaGF2ZSBiZWVuIHVubW91bnRlZCBiZWZvcmUgcmVzb2x2ZS5cbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkICE9PSBpbnN0YW5jZS5zdXNwZW5zZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmV0cnkgZnJvbSB0aGlzIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUgfSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIGFzeW5jU2V0dXBSZXN1bHQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaHlkcmF0ZWRFbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSBtYXkgaGF2ZSBiZWVuIHJlcGxhY2VkIGlmIGFuIHVwZGF0ZSBoYXBwZW5lZCBiZWZvcmUgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzeW5jIGRlcCBpcyByZXNvbHZlZC5cbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBoeWRyYXRlZEVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9ICFoeWRyYXRlZEVsICYmIGluc3RhbmNlLnN1YlRyZWUuZWw7XG4gICAgICAgICAgICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoaW5zdGFuY2UsIHZub2RlLCBcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiBtb3ZlZCBiZWZvcmUgcmVzb2x2ZS5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCBhIGh5ZHJhdGlvbiwgaW5zdGFuY2Uuc3ViVHJlZSB3aWxsIGJlIHRoZSBjb21tZW50XG4gICAgICAgICAgICAgICAgLy8gcGxhY2Vob2xkZXIuXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZShoeWRyYXRlZEVsIHx8IGluc3RhbmNlLnN1YlRyZWUuZWwpLCBcbiAgICAgICAgICAgICAgICAvLyBhbmNob3Igd2lsbCBub3QgYmUgdXNlZCBpZiB0aGlzIGlzIGh5ZHJhdGlvbiwgc28gb25seSBuZWVkIHRvXG4gICAgICAgICAgICAgICAgLy8gY29uc2lkZXIgdGhlIGNvbW1lbnQgcGxhY2Vob2xkZXIgY2FzZS5cbiAgICAgICAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksIHN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCB2bm9kZS5lbCk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvbmx5IGRlY3JlYXNlIGRlcHMgY291bnQgaWYgc3VzcGVuc2UgaXMgbm90IGFscmVhZHkgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSkge1xuICAgICAgICAgICAgc3VzcGVuc2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCkge1xuICAgICAgICAgICAgICAgIHVubW91bnQoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgICAgICAgIHVubW91bnQoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gc3VzcGVuc2U7XG59XG5mdW5jdGlvbiBoeWRyYXRlU3VzcGVuc2Uobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG4gICAgY29uc3Qgc3VzcGVuc2UgPSAodm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KHZub2RlLCBwYXJlbnRTdXNwZW5zZSwgcGFyZW50Q29tcG9uZW50LCBub2RlLnBhcmVudE5vZGUsIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCBudWxsLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCB0cnVlIC8qIGh5ZHJhdGluZyAqLykpO1xuICAgIC8vIHRoZXJlIGFyZSB0d28gcG9zc2libGUgc2NlbmFyaW9zIGZvciBzZXJ2ZXItcmVuZGVyZWQgc3VzcGVuc2U6XG4gICAgLy8gLSBzdWNjZXNzOiBzc3IgY29udGVudCBzaG91bGQgYmUgZnVsbHkgcmVzb2x2ZWRcbiAgICAvLyAtIGZhaWx1cmU6IHNzciBjb250ZW50IHNob3VsZCBiZSB0aGUgZmFsbGJhY2sgYnJhbmNoLlxuICAgIC8vIGhvd2V2ZXIsIG9uIHRoZSBjbGllbnQgd2UgZG9uJ3QgcmVhbGx5IGtub3cgaWYgaXQgaGFzIGZhaWxlZCBvciBub3RcbiAgICAvLyBhdHRlbXB0IHRvIGh5ZHJhdGUgdGhlIERPTSBhc3N1bWluZyBpdCBoYXMgc3VjY2VlZGVkLCBidXQgd2Ugc3RpbGxcbiAgICAvLyBuZWVkIHRvIGNvbnN0cnVjdCBhIHN1c3BlbnNlIGJvdW5kYXJ5IGZpcnN0XG4gICAgY29uc3QgcmVzdWx0ID0gaHlkcmF0ZU5vZGUobm9kZSwgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQpLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XG4gICAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcbiAgICBjb25zdCBpc1Nsb3RDaGlsZHJlbiA9IHNoYXBlRmxhZyAmIDMyIC8qIFNoYXBlRmxhZ3MuU0xPVFNfQ0hJTERSRU4gKi87XG4gICAgdm5vZGUuc3NDb250ZW50ID0gbm9ybWFsaXplU3VzcGVuc2VTbG90KGlzU2xvdENoaWxkcmVuID8gY2hpbGRyZW4uZGVmYXVsdCA6IGNoaWxkcmVuKTtcbiAgICB2bm9kZS5zc0ZhbGxiYWNrID0gaXNTbG90Q2hpbGRyZW5cbiAgICAgICAgPyBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZmFsbGJhY2spXG4gICAgICAgIDogY3JlYXRlVk5vZGUoQ29tbWVudCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZVNsb3Qocykge1xuICAgIGxldCBibG9jaztcbiAgICBpZiAoaXNGdW5jdGlvbihzKSkge1xuICAgICAgICBjb25zdCB0cmFja0Jsb2NrID0gaXNCbG9ja1RyZWVFbmFibGVkICYmIHMuX2M7XG4gICAgICAgIGlmICh0cmFja0Jsb2NrKSB7XG4gICAgICAgICAgICAvLyBkaXNhYmxlVHJhY2tpbmc6IGZhbHNlXG4gICAgICAgICAgICAvLyBhbGxvdyBibG9jayB0cmFja2luZyBmb3IgY29tcGlsZWQgc2xvdHNcbiAgICAgICAgICAgIC8vIChzZWUgLi9jb21wb25lbnRSZW5kZXJDb250ZXh0LnRzKVxuICAgICAgICAgICAgcy5fZCA9IGZhbHNlO1xuICAgICAgICAgICAgb3BlbkJsb2NrKCk7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IHMoKTtcbiAgICAgICAgaWYgKHRyYWNrQmxvY2spIHtcbiAgICAgICAgICAgIHMuX2QgPSB0cnVlO1xuICAgICAgICAgICAgYmxvY2sgPSBjdXJyZW50QmxvY2s7XG4gICAgICAgICAgICBjbG9zZUJsb2NrKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQXJyYXkocykpIHtcbiAgICAgICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFzaW5nbGVDaGlsZCkge1xuICAgICAgICAgICAgd2FybiQxKGA8U3VzcGVuc2U+IHNsb3RzIGV4cGVjdCBhIHNpbmdsZSByb290IG5vZGUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IHNpbmdsZUNoaWxkO1xuICAgIH1cbiAgICBzID0gbm9ybWFsaXplVk5vZGUocyk7XG4gICAgaWYgKGJsb2NrICYmICFzLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBzLmR5bmFtaWNDaGlsZHJlbiA9IGJsb2NrLmZpbHRlcihjID0+IGMgIT09IHMpO1xuICAgIH1cbiAgICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xuICAgIGlmIChzdXNwZW5zZSAmJiBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaChmbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoZm4pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgYnJhbmNoKSB7XG4gICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xuICAgIGNvbnN0IHsgdm5vZGUsIHBhcmVudENvbXBvbmVudCB9ID0gc3VzcGVuc2U7XG4gICAgY29uc3QgZWwgPSAodm5vZGUuZWwgPSBicmFuY2guZWwpO1xuICAgIC8vIGluIGNhc2Ugc3VzcGVuc2UgaXMgdGhlIHJvb3Qgbm9kZSBvZiBhIGNvbXBvbmVudCxcbiAgICAvLyByZWN1cnNpdmVseSB1cGRhdGUgdGhlIEhPQyBlbFxuICAgIGlmIChwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnN1YlRyZWUgPT09IHZub2RlKSB7XG4gICAgICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xuICAgICAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoIWN1cnJlbnRJbnN0YW5jZSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYHByb3ZpZGUoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXM7XG4gICAgICAgIC8vIGJ5IGRlZmF1bHQgYW4gaW5zdGFuY2UgaW5oZXJpdHMgaXRzIHBhcmVudCdzIHByb3ZpZGVzIG9iamVjdFxuICAgICAgICAvLyBidXQgd2hlbiBpdCBuZWVkcyB0byBwcm92aWRlIHZhbHVlcyBvZiBpdHMgb3duLCBpdCBjcmVhdGVzIGl0c1xuICAgICAgICAvLyBvd24gcHJvdmlkZXMgb2JqZWN0IHVzaW5nIHBhcmVudCBwcm92aWRlcyBvYmplY3QgYXMgcHJvdG90eXBlLlxuICAgICAgICAvLyB0aGlzIHdheSBpbiBgaW5qZWN0YCB3ZSBjYW4gc2ltcGx5IGxvb2sgdXAgaW5qZWN0aW9ucyBmcm9tIGRpcmVjdFxuICAgICAgICAvLyBwYXJlbnQgYW5kIGxldCB0aGUgcHJvdG90eXBlIGNoYWluIGRvIHRoZSB3b3JrLlxuICAgICAgICBjb25zdCBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQgJiYgY3VycmVudEluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcbiAgICAgICAgaWYgKHBhcmVudFByb3ZpZGVzID09PSBwcm92aWRlcykge1xuICAgICAgICAgICAgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXMgPSBPYmplY3QuY3JlYXRlKHBhcmVudFByb3ZpZGVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXG4gICAgICAgIHByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbmplY3Qoa2V5LCBkZWZhdWx0VmFsdWUsIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSA9IGZhbHNlKSB7XG4gICAgLy8gZmFsbGJhY2sgdG8gYGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZWAgc28gdGhhdCB0aGlzIGNhbiBiZSBjYWxsZWQgaW5cbiAgICAvLyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAvLyAjMjQwMFxuICAgICAgICAvLyB0byBzdXBwb3J0IGBhcHAudXNlYCBwbHVnaW5zLFxuICAgICAgICAvLyBmYWxsYmFjayB0byBhcHBDb250ZXh0J3MgYHByb3ZpZGVzYCBpZiB0aGUgaW5zdGFuY2UgaXMgYXQgcm9vdFxuICAgICAgICBjb25zdCBwcm92aWRlcyA9IGluc3RhbmNlLnBhcmVudCA9PSBudWxsXG4gICAgICAgICAgICA/IGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQgJiYgaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dC5wcm92aWRlc1xuICAgICAgICAgICAgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XG4gICAgICAgIGlmIChwcm92aWRlcyAmJiBrZXkgaW4gcHJvdmlkZXMpIHtcbiAgICAgICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJlYXREZWZhdWx0QXNGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgICAgID8gZGVmYXVsdFZhbHVlLmNhbGwoaW5zdGFuY2UucHJveHkpXG4gICAgICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuJDEoYGluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLmApO1xuICAgIH1cbn1cblxuLy8gU2ltcGxlIGVmZmVjdC5cbmZ1bmN0aW9uIHdhdGNoRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICAgIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiB3YXRjaFBvc3RFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBmbHVzaDogJ3Bvc3QnIH0pIDogeyBmbHVzaDogJ3Bvc3QnIH0pKTtcbn1cbmZ1bmN0aW9uIHdhdGNoU3luY0VmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGZsdXNoOiAnc3luYycgfSkgOiB7IGZsdXNoOiAnc3luYycgfSkpO1xufVxuLy8gaW5pdGlhbCB2YWx1ZSBmb3Igd2F0Y2hlcnMgdG8gdHJpZ2dlciBvbiB1bmRlZmluZWQgaW5pdGlhbCB2YWx1ZXNcbmNvbnN0IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA9IHt9O1xuLy8gaW1wbGVtZW50YXRpb25cbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGNiKSkge1xuICAgICAgICB3YXJuJDEoYFxcYHdhdGNoKGZuLCBvcHRpb25zPylcXGAgc2lnbmF0dXJlIGhhcyBiZWVuIG1vdmVkIHRvIGEgc2VwYXJhdGUgQVBJLiBgICtcbiAgICAgICAgICAgIGBVc2UgXFxgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KVxcYCBpbnN0ZWFkLiBcXGB3YXRjaFxcYCBub3cgb25seSBgICtcbiAgICAgICAgICAgIGBzdXBwb3J0cyBcXGB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xuICAgIH1cbiAgICByZXR1cm4gZG9XYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGRvV2F0Y2goc291cmNlLCBjYiwgeyBpbW1lZGlhdGUsIGRlZXAsIGZsdXNoLCBvblRyYWNrLCBvblRyaWdnZXIgfSA9IEVNUFRZX09CSikge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNiKSB7XG4gICAgICAgIGlmIChpbW1lZGlhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2FybiQxKGB3YXRjaCgpIFwiaW1tZWRpYXRlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIGAgK1xuICAgICAgICAgICAgICAgIGB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWVwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShgd2F0Y2goKSBcImRlZXBcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgYCArXG4gICAgICAgICAgICAgICAgYHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgd2FybkludmFsaWRTb3VyY2UgPSAocykgPT4ge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggc291cmNlOiBgLCBzLCBgQSB3YXRjaCBzb3VyY2UgY2FuIG9ubHkgYmUgYSBnZXR0ZXIvZWZmZWN0IGZ1bmN0aW9uLCBhIHJlZiwgYCArXG4gICAgICAgICAgICBgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLmApO1xuICAgIH07XG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgbGV0IGdldHRlcjtcbiAgICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XG4gICAgbGV0IGlzTXVsdGlTb3VyY2UgPSBmYWxzZTtcbiAgICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UudmFsdWU7XG4gICAgICAgIGZvcmNlVHJpZ2dlciA9IGlzU2hhbGxvdyhzb3VyY2UpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHNvdXJjZSkpIHtcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlO1xuICAgICAgICBkZWVwID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIGlzTXVsdGlTb3VyY2UgPSB0cnVlO1xuICAgICAgICBmb3JjZVRyaWdnZXIgPSBzb3VyY2Uuc29tZShzID0+IGlzUmVhY3RpdmUocykgfHwgaXNTaGFsbG93KHMpKTtcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLm1hcChzID0+IHtcbiAgICAgICAgICAgIGlmIChpc1JlZihzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmF2ZXJzZShzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHMsIGluc3RhbmNlLCAyIC8qIEVycm9yQ29kZXMuV0FUQ0hfR0VUVEVSICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgIC8vIGdldHRlciB3aXRoIGNiXG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoc291cmNlLCBpbnN0YW5jZSwgMiAvKiBFcnJvckNvZGVzLldBVENIX0dFVFRFUiAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBubyBjYiAtPiBzaW1wbGUgZWZmZWN0XG4gICAgICAgICAgICBnZXR0ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNsZWFudXApIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoc291cmNlLCBpbnN0YW5jZSwgMyAvKiBFcnJvckNvZGVzLldBVENIX0NBTExCQUNLICovLCBbb25DbGVhbnVwXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZXR0ZXIgPSBOT09QO1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uoc291cmNlKTtcbiAgICB9XG4gICAgLy8gMi54IGFycmF5IG11dGF0aW9uIHdhdGNoIGNvbXBhdFxuICAgIGlmIChjYiAmJiAhZGVlcCkge1xuICAgICAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xuICAgICAgICBnZXR0ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBiYXNlR2V0dGVyKCk7XG4gICAgICAgICAgICBpZiAoaXNBcnJheSh2YWwpICYmXG4gICAgICAgICAgICAgICAgY2hlY2tDb21wYXRFbmFibGVkKFwiV0FUQ0hfQVJSQVlcIiAvKiBEZXByZWNhdGlvblR5cGVzLldBVENIX0FSUkFZICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZSh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGNiICYmIGRlZXApIHtcbiAgICAgICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gdHJhdmVyc2UoYmFzZUdldHRlcigpKTtcbiAgICB9XG4gICAgbGV0IGNsZWFudXA7XG4gICAgbGV0IG9uQ2xlYW51cCA9IChmbikgPT4ge1xuICAgICAgICBjbGVhbnVwID0gZWZmZWN0Lm9uU3RvcCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIDQgLyogRXJyb3JDb2Rlcy5XQVRDSF9DTEVBTlVQICovKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8vIGluIFNTUiB0aGVyZSBpcyBubyBuZWVkIHRvIHNldHVwIGFuIGFjdHVhbCBlZmZlY3QsIGFuZCBpdCBzaG91bGQgYmUgbm9vcFxuICAgIC8vIHVubGVzcyBpdCdzIGVhZ2VyIG9yIHN5bmMgZmx1c2hcbiAgICBsZXQgc3NyQ2xlYW51cDtcbiAgICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgICAgIC8vIHdlIHdpbGwgYWxzbyBub3QgY2FsbCB0aGUgaW52YWxpZGF0ZSBjYWxsYmFjayAoKyBydW5uZXIgaXMgbm90IHNldCB1cClcbiAgICAgICAgb25DbGVhbnVwID0gTk9PUDtcbiAgICAgICAgaWYgKCFjYikge1xuICAgICAgICAgICAgZ2V0dGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhjYiwgaW5zdGFuY2UsIDMgLyogRXJyb3JDb2Rlcy5XQVRDSF9DQUxMQkFDSyAqLywgW1xuICAgICAgICAgICAgICAgIGdldHRlcigpLFxuICAgICAgICAgICAgICAgIGlzTXVsdGlTb3VyY2UgPyBbXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXBcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbHVzaCA9PT0gJ3N5bmMnKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB1c2VTU1JDb250ZXh0KCk7XG4gICAgICAgICAgICBzc3JDbGVhbnVwID0gY3R4Ll9fd2F0Y2hlckhhbmRsZXMgfHwgKGN0eC5fX3dhdGNoZXJIYW5kbGVzID0gW10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE5PT1A7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IG9sZFZhbHVlID0gaXNNdWx0aVNvdXJjZVxuICAgICAgICA/IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKS5maWxsKElOSVRJQUxfV0FUQ0hFUl9WQUxVRSlcbiAgICAgICAgOiBJTklUSUFMX1dBVENIRVJfVkFMVUU7XG4gICAgY29uc3Qgam9iID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWVmZmVjdC5hY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgIC8vIHdhdGNoKHNvdXJjZSwgY2IpXG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IGVmZmVjdC5ydW4oKTtcbiAgICAgICAgICAgIGlmIChkZWVwIHx8XG4gICAgICAgICAgICAgICAgZm9yY2VUcmlnZ2VyIHx8XG4gICAgICAgICAgICAgICAgKGlzTXVsdGlTb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgPyBuZXdWYWx1ZS5zb21lKCh2LCBpKSA9PiBoYXNDaGFuZ2VkKHYsIG9sZFZhbHVlW2ldKSlcbiAgICAgICAgICAgICAgICAgICAgOiBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHx8XG4gICAgICAgICAgICAgICAgKGlzQXJyYXkobmV3VmFsdWUpICYmXG4gICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIldBVENIX0FSUkFZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5XQVRDSF9BUlJBWSAqLywgaW5zdGFuY2UpKSkge1xuICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgYmVmb3JlIHJ1bm5pbmcgY2IgYWdhaW5cbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBpbnN0YW5jZSwgMyAvKiBFcnJvckNvZGVzLldBVENIX0NBTExCQUNLICovLCBbXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9PT0gSU5JVElBTF9XQVRDSEVSX1ZBTFVFXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAoaXNNdWx0aVNvdXJjZSAmJiBvbGRWYWx1ZVswXSA9PT0gSU5JVElBTF9XQVRDSEVSX1ZBTFVFKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9sZFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvbkNsZWFudXBcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gd2F0Y2hFZmZlY3RcbiAgICAgICAgICAgIGVmZmVjdC5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gaW1wb3J0YW50OiBtYXJrIHRoZSBqb2IgYXMgYSB3YXRjaGVyIGNhbGxiYWNrIHNvIHRoYXQgc2NoZWR1bGVyIGtub3dzXG4gICAgLy8gaXQgaXMgYWxsb3dlZCB0byBzZWxmLXRyaWdnZXIgKCMxNzI3KVxuICAgIGpvYi5hbGxvd1JlY3Vyc2UgPSAhIWNiO1xuICAgIGxldCBzY2hlZHVsZXI7XG4gICAgaWYgKGZsdXNoID09PSAnc3luYycpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gam9iOyAvLyB0aGUgc2NoZWR1bGVyIGZ1bmN0aW9uIGdldHMgY2FsbGVkIGRpcmVjdGx5XG4gICAgfVxuICAgIGVsc2UgaWYgKGZsdXNoID09PSAncG9zdCcpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gKCkgPT4gcXVldWVQb3N0UmVuZGVyRWZmZWN0KGpvYiwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gZGVmYXVsdDogJ3ByZSdcbiAgICAgICAgam9iLnByZSA9IHRydWU7XG4gICAgICAgIGlmIChpbnN0YW5jZSlcbiAgICAgICAgICAgIGpvYi5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICAgICAgc2NoZWR1bGVyID0gKCkgPT4gcXVldWVKb2Ioam9iKTtcbiAgICB9XG4gICAgY29uc3QgZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGdldHRlciwgc2NoZWR1bGVyKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGVmZmVjdC5vblRyYWNrID0gb25UcmFjaztcbiAgICAgICAgZWZmZWN0Lm9uVHJpZ2dlciA9IG9uVHJpZ2dlcjtcbiAgICB9XG4gICAgLy8gaW5pdGlhbCBydW5cbiAgICBpZiAoY2IpIHtcbiAgICAgICAgaWYgKGltbWVkaWF0ZSkge1xuICAgICAgICAgICAgam9iKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvbGRWYWx1ZSA9IGVmZmVjdC5ydW4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChmbHVzaCA9PT0gJ3Bvc3QnKSB7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChlZmZlY3QucnVuLmJpbmQoZWZmZWN0KSwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgICBjb25zdCB1bndhdGNoID0gKCkgPT4ge1xuICAgICAgICBlZmZlY3Quc3RvcCgpO1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc2NvcGUpIHtcbiAgICAgICAgICAgIHJlbW92ZShpbnN0YW5jZS5zY29wZS5lZmZlY3RzLCBlZmZlY3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoc3NyQ2xlYW51cClcbiAgICAgICAgc3NyQ2xlYW51cC5wdXNoKHVud2F0Y2gpO1xuICAgIHJldHVybiB1bndhdGNoO1xufVxuLy8gdGhpcy4kd2F0Y2hcbmZ1bmN0aW9uIGluc3RhbmNlV2F0Y2goc291cmNlLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHB1YmxpY1RoaXMgPSB0aGlzLnByb3h5O1xuICAgIGNvbnN0IGdldHRlciA9IGlzU3RyaW5nKHNvdXJjZSlcbiAgICAgICAgPyBzb3VyY2UuaW5jbHVkZXMoJy4nKVxuICAgICAgICAgICAgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIHNvdXJjZSlcbiAgICAgICAgICAgIDogKCkgPT4gcHVibGljVGhpc1tzb3VyY2VdXG4gICAgICAgIDogc291cmNlLmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcyk7XG4gICAgbGV0IGNiO1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICBjYiA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2IgPSB2YWx1ZS5oYW5kbGVyO1xuICAgICAgICBvcHRpb25zID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IGN1ciA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICBzZXRDdXJyZW50SW5zdGFuY2UodGhpcyk7XG4gICAgY29uc3QgcmVzID0gZG9XYXRjaChnZXR0ZXIsIGNiLmJpbmQocHVibGljVGhpcyksIG9wdGlvbnMpO1xuICAgIGlmIChjdXIpIHtcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGN1cik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY3JlYXRlUGF0aEdldHRlcihjdHgsIHBhdGgpIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBsZXQgY3VyID0gY3R4O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aCAmJiBjdXI7IGkrKykge1xuICAgICAgICAgICAgY3VyID0gY3VyW3NlZ21lbnRzW2ldXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyO1xuICAgIH07XG59XG5mdW5jdGlvbiB0cmF2ZXJzZSh2YWx1ZSwgc2Vlbikge1xuICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IHZhbHVlW1wiX192X3NraXBcIiAvKiBSZWFjdGl2ZUZsYWdzLlNLSVAgKi9dKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc2VlbiA9IHNlZW4gfHwgbmV3IFNldCgpO1xuICAgIGlmIChzZWVuLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBzZWVuLmFkZCh2YWx1ZSk7XG4gICAgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgICAgICB0cmF2ZXJzZSh2YWx1ZS52YWx1ZSwgc2Vlbik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBzZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkgfHwgaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICAgIHRyYXZlcnNlKHYsIHNlZW4pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlW2tleV0sIHNlZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gdXNlVHJhbnNpdGlvblN0YXRlKCkge1xuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBpc01vdW50ZWQ6IGZhbHNlLFxuICAgICAgICBpc0xlYXZpbmc6IGZhbHNlLFxuICAgICAgICBpc1VubW91bnRpbmc6IGZhbHNlLFxuICAgICAgICBsZWF2aW5nVk5vZGVzOiBuZXcgTWFwKClcbiAgICB9O1xuICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICAgIHN0YXRlLmlzTW91bnRlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgICAgc3RhdGUuaXNVbm1vdW50aW5nID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gc3RhdGU7XG59XG5jb25zdCBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvciA9IFtGdW5jdGlvbiwgQXJyYXldO1xuY29uc3QgQmFzZVRyYW5zaXRpb25JbXBsID0ge1xuICAgIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgbW9kZTogU3RyaW5nLFxuICAgICAgICBhcHBlYXI6IEJvb2xlYW4sXG4gICAgICAgIHBlcnNpc3RlZDogQm9vbGVhbixcbiAgICAgICAgLy8gZW50ZXJcbiAgICAgICAgb25CZWZvcmVFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkFmdGVyRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkVudGVyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgLy8gbGVhdmVcbiAgICAgICAgb25CZWZvcmVMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkFmdGVyTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgLy8gYXBwZWFyXG4gICAgICAgIG9uQmVmb3JlQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25BcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkFmdGVyQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25BcHBlYXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yXG4gICAgfSxcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgICAgIGxldCBwcmV2VHJhbnNpdGlvbktleTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGFzRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBsb2NhdGUgZmlyc3Qgbm9uLWNvbW1lbnQgY2hpbGRcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGMgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBoYXNGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhcm4gbW9yZSB0aGFuIG9uZSBub24tY29tbWVudCBjaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMSgnPHRyYW5zaXRpb24+IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBzaW5nbGUgZWxlbWVudCBvciBjb21wb25lbnQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVXNlIDx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGM7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byB0cmFjayByZWFjdGl2aXR5IGZvciB0aGVzZSBwcm9wcyBzbyB1c2UgdGhlIHJhd1xuICAgICAgICAgICAgLy8gcHJvcHMgZm9yIGEgYml0IGJldHRlciBwZXJmXG4gICAgICAgICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgICAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XG4gICAgICAgICAgICAvLyBjaGVjayBtb2RlXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgbW9kZSAmJlxuICAgICAgICAgICAgICAgIG1vZGUgIT09ICdpbi1vdXQnICYmXG4gICAgICAgICAgICAgICAgbW9kZSAhPT0gJ291dC1pbicgJiZcbiAgICAgICAgICAgICAgICBtb2RlICE9PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYGludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICR7bW9kZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5pc0xlYXZpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpbiB0aGUgY2FzZSBvZiA8dHJhbnNpdGlvbj48a2VlcC1hbGl2ZS8+PC90cmFuc2l0aW9uPiwgd2UgbmVlZCB0b1xuICAgICAgICAgICAgLy8gY29tcGFyZSB0aGUgdHlwZSBvZiB0aGUga2VwdC1hbGl2ZSBjaGlsZHJlbi5cbiAgICAgICAgICAgIGNvbnN0IGlubmVyQ2hpbGQgPSBnZXRLZWVwQWxpdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICBpZiAoIWlubmVyQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbnRlckhvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCByYXdQcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCBlbnRlckhvb2tzKTtcbiAgICAgICAgICAgIGNvbnN0IG9sZENoaWxkID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICAgICAgICAgIGNvbnN0IG9sZElubmVyQ2hpbGQgPSBvbGRDaGlsZCAmJiBnZXRLZWVwQWxpdmVDaGlsZChvbGRDaGlsZCk7XG4gICAgICAgICAgICBsZXQgdHJhbnNpdGlvbktleUNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHsgZ2V0VHJhbnNpdGlvbktleSB9ID0gaW5uZXJDaGlsZC50eXBlO1xuICAgICAgICAgICAgaWYgKGdldFRyYW5zaXRpb25LZXkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRUcmFuc2l0aW9uS2V5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZUcmFuc2l0aW9uS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldlRyYW5zaXRpb25LZXkgPSBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSAhPT0gcHJldlRyYW5zaXRpb25LZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldlRyYW5zaXRpb25LZXkgPSBrZXk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25LZXlDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBoYW5kbGUgbW9kZVxuICAgICAgICAgICAgaWYgKG9sZElubmVyQ2hpbGQgJiZcbiAgICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQgJiZcbiAgICAgICAgICAgICAgICAoIWlzU2FtZVZOb2RlVHlwZShpbm5lckNoaWxkLCBvbGRJbm5lckNoaWxkKSB8fCB0cmFuc2l0aW9uS2V5Q2hhbmdlZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nSG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIHJhd1Byb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBvbGQgdHJlZSdzIGhvb2tzIGluIGNhc2Ugb2YgZHluYW1pYyB0cmFuc2l0aW9uXG4gICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIGxlYXZpbmdIb29rcyk7XG4gICAgICAgICAgICAgICAgLy8gc3dpdGNoaW5nIGJldHdlZW4gZGlmZmVyZW50IHZpZXdzXG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdvdXQtaW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiBwbGFjZWhvbGRlciBub2RlIGFuZCBxdWV1ZSB1cGRhdGUgd2hlbiBsZWF2ZSBmaW5pc2hlc1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIzY4MzVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IGFsc28gbmVlZHMgdG8gYmUgdXBkYXRlZCB3aGVuIGFjdGl2ZSBpcyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS51cGRhdGUuYWN0aXZlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnICYmIGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nSG9va3MuZGVsYXlMZWF2ZSA9IChlbCwgZWFybHlSZW1vdmUsIGRlbGF5ZWRMZWF2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgb2xkSW5uZXJDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVbU3RyaW5nKG9sZElubmVyQ2hpbGQua2V5KV0gPSBvbGRJbm5lckNoaWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWFybHkgcmVtb3ZhbCBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFybHlSZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZW50ZXJIb29rcy5kZWxheWVkTGVhdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50ZXJIb29rcy5kZWxheWVkTGVhdmUgPSBkZWxheWVkTGVhdmU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9O1xuICAgIH1cbn07XG57XG4gICAgQmFzZVRyYW5zaXRpb25JbXBsLl9faXNCdWlsdEluID0gdHJ1ZTtcbn1cbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcbmNvbnN0IEJhc2VUcmFuc2l0aW9uID0gQmFzZVRyYW5zaXRpb25JbXBsO1xuZnVuY3Rpb24gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpIHtcbiAgICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xuICAgIGxldCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBsZWF2aW5nVk5vZGVzLmdldCh2bm9kZS50eXBlKTtcbiAgICBpZiAoIWxlYXZpbmdWTm9kZXNDYWNoZSkge1xuICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZWF2aW5nVk5vZGVzLnNldCh2bm9kZS50eXBlLCBsZWF2aW5nVk5vZGVzQ2FjaGUpO1xuICAgIH1cbiAgICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xufVxuLy8gVGhlIHRyYW5zaXRpb24gaG9va3MgYXJlIGF0dGFjaGVkIHRvIHRoZSB2bm9kZSBhcyB2bm9kZS50cmFuc2l0aW9uXG4vLyBhbmQgd2lsbCBiZSBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5nIGluIHRoZSByZW5kZXJlci5cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uSG9va3Modm5vZGUsIHByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpIHtcbiAgICBjb25zdCB7IGFwcGVhciwgbW9kZSwgcGVyc2lzdGVkID0gZmFsc2UsIG9uQmVmb3JlRW50ZXIsIG9uRW50ZXIsIG9uQWZ0ZXJFbnRlciwgb25FbnRlckNhbmNlbGxlZCwgb25CZWZvcmVMZWF2ZSwgb25MZWF2ZSwgb25BZnRlckxlYXZlLCBvbkxlYXZlQ2FuY2VsbGVkLCBvbkJlZm9yZUFwcGVhciwgb25BcHBlYXIsIG9uQWZ0ZXJBcHBlYXIsIG9uQXBwZWFyQ2FuY2VsbGVkIH0gPSBwcm9wcztcbiAgICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSk7XG4gICAgY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncykgPT4ge1xuICAgICAgICBob29rICYmXG4gICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgOSAvKiBFcnJvckNvZGVzLlRSQU5TSVRJT05fSE9PSyAqLywgYXJncyk7XG4gICAgfTtcbiAgICBjb25zdCBjYWxsQXN5bmNIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgZG9uZSA9IGFyZ3NbMV07XG4gICAgICAgIGNhbGxIb29rKGhvb2ssIGFyZ3MpO1xuICAgICAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgICAgICAgaWYgKGhvb2suZXZlcnkoaG9vayA9PiBob29rLmxlbmd0aCA8PSAxKSlcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaG9vay5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBob29rcyA9IHtcbiAgICAgICAgbW9kZSxcbiAgICAgICAgcGVyc2lzdGVkLFxuICAgICAgICBiZWZvcmVFbnRlcihlbCkge1xuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvciBzYW1lIGVsZW1lbnQgKHYtc2hvdylcbiAgICAgICAgICAgIGlmIChlbC5fbGVhdmVDYikge1xuICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiKHRydWUgLyogY2FuY2VsbGVkICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvciB0b2dnbGVkIGVsZW1lbnQgd2l0aCBzYW1lIGtleSAodi1pZilcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZSA9IGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xuICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJlxuICAgICAgICAgICAgICAgIGlzU2FtZVZOb2RlVHlwZSh2bm9kZSwgbGVhdmluZ1ZOb2RlKSAmJlxuICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZS5lbC5fbGVhdmVDYikge1xuICAgICAgICAgICAgICAgIC8vIGZvcmNlIGVhcmx5IHJlbW92YWwgKG5vdCBjYW5jZWxsZWQpXG4gICAgICAgICAgICAgICAgbGVhdmluZ1ZOb2RlLmVsLl9sZWF2ZUNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW50ZXIoZWwpIHtcbiAgICAgICAgICAgIGxldCBob29rID0gb25FbnRlcjtcbiAgICAgICAgICAgIGxldCBhZnRlckhvb2sgPSBvbkFmdGVyRW50ZXI7XG4gICAgICAgICAgICBsZXQgY2FuY2VsSG9vayA9IG9uRW50ZXJDYW5jZWxsZWQ7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9vayA9IG9uQXBwZWFyIHx8IG9uRW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxIb29rID0gb25BcHBlYXJDYW5jZWxsZWQgfHwgb25FbnRlckNhbmNlbGxlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBkb25lID0gKGVsLl9lbnRlckNiID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2soY2FuY2VsSG9vaywgW2VsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhhZnRlckhvb2ssIFtlbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2tzLmRlbGF5ZWRMZWF2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbC5fZW50ZXJDYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGhvb2spIHtcbiAgICAgICAgICAgICAgICBjYWxsQXN5bmNIb29rKGhvb2ssIFtlbCwgZG9uZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsZWF2ZShlbCwgcmVtb3ZlKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgICAgICAgICAgIGlmIChlbC5fZW50ZXJDYikge1xuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiKHRydWUgLyogY2FuY2VsbGVkICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5pc1VubW91bnRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsSG9vayhvbkJlZm9yZUxlYXZlLCBbZWxdKTtcbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGRvbmUgPSAoZWwuX2xlYXZlQ2IgPSAoY2FuY2VsbGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhvbkxlYXZlQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKG9uQWZ0ZXJMZWF2ZSwgW2VsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmIChsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XSA9PT0gdm5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV0gPSB2bm9kZTtcbiAgICAgICAgICAgIGlmIChvbkxlYXZlKSB7XG4gICAgICAgICAgICAgICAgY2FsbEFzeW5jSG9vayhvbkxlYXZlLCBbZWwsIGRvbmVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xvbmUodm5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlLCBwcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGhvb2tzO1xufVxuLy8gdGhlIHBsYWNlaG9sZGVyIHJlYWxseSBvbmx5IGhhbmRsZXMgb25lIHNwZWNpYWwgY2FzZTogS2VlcEFsaXZlXG4vLyBpbiB0aGUgY2FzZSBvZiBhIEtlZXBBbGl2ZSBpbiBhIGxlYXZlIHBoYXNlIHdlIG5lZWQgdG8gcmV0dXJuIGEgS2VlcEFsaXZlXG4vLyBwbGFjZWhvbGRlciB3aXRoIGVtcHR5IGNvbnRlbnQgdG8gYXZvaWQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBmcm9tIGJlaW5nXG4vLyB1bm1vdW50ZWQuXG5mdW5jdGlvbiBlbXB0eVBsYWNlaG9sZGVyKHZub2RlKSB7XG4gICAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xuICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICB2bm9kZS5jaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIHJldHVybiB2bm9kZTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRLZWVwQWxpdmVDaGlsZCh2bm9kZSkge1xuICAgIHJldHVybiBpc0tlZXBBbGl2ZSh2bm9kZSlcbiAgICAgICAgPyB2bm9kZS5jaGlsZHJlblxuICAgICAgICAgICAgPyB2bm9kZS5jaGlsZHJlblswXVxuICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgOiB2bm9kZTtcbn1cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgaG9va3MpIHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLyAmJiB2bm9kZS5jb21wb25lbnQpIHtcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBob29rcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgIHZub2RlLnNzQ29udGVudC50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NDb250ZW50KTtcbiAgICAgICAgdm5vZGUuc3NGYWxsYmFjay50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NGYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2bm9kZS50cmFuc2l0aW9uID0gaG9va3M7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkcmVuLCBrZWVwQ29tbWVudCA9IGZhbHNlLCBwYXJlbnRLZXkpIHtcbiAgICBsZXQgcmV0ID0gW107XG4gICAgbGV0IGtleWVkRnJhZ21lbnRDb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgLy8gIzUzNjAgaW5oZXJpdCBwYXJlbnQga2V5IGluIGNhc2Ugb2YgPHRlbXBsYXRlIHYtZm9yPlxuICAgICAgICBjb25zdCBrZXkgPSBwYXJlbnRLZXkgPT0gbnVsbFxuICAgICAgICAgICAgPyBjaGlsZC5rZXlcbiAgICAgICAgICAgIDogU3RyaW5nKHBhcmVudEtleSkgKyBTdHJpbmcoY2hpbGQua2V5ICE9IG51bGwgPyBjaGlsZC5rZXkgOiBpKTtcbiAgICAgICAgLy8gaGFuZGxlIGZyYWdtZW50IGNoaWxkcmVuIGNhc2UsIGUuZy4gdi1mb3JcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQucGF0Y2hGbGFnICYgMTI4IC8qIFBhdGNoRmxhZ3MuS0VZRURfRlJBR01FTlQgKi8pXG4gICAgICAgICAgICAgICAga2V5ZWRGcmFnbWVudENvdW50Kys7XG4gICAgICAgICAgICByZXQgPSByZXQuY29uY2F0KGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZC5jaGlsZHJlbiwga2VlcENvbW1lbnQsIGtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbW1lbnQgcGxhY2Vob2xkZXJzIHNob3VsZCBiZSBza2lwcGVkLCBlLmcuIHYtaWZcbiAgICAgICAgZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgICAgcmV0LnB1c2goa2V5ICE9IG51bGwgPyBjbG9uZVZOb2RlKGNoaWxkLCB7IGtleSB9KSA6IGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAjMTEyNiBpZiBhIHRyYW5zaXRpb24gY2hpbGRyZW4gbGlzdCBjb250YWlucyBtdWx0aXBsZSBzdWIgZnJhZ21lbnRzLCB0aGVzZVxuICAgIC8vIGZyYWdtZW50cyB3aWxsIGJlIG1lcmdlZCBpbnRvIGEgZmxhdCBjaGlsZHJlbiBhcnJheS4gU2luY2UgZWFjaCB2LWZvclxuICAgIC8vIGZyYWdtZW50IG1heSBjb250YWluIGRpZmZlcmVudCBzdGF0aWMgYmluZGluZ3MgaW5zaWRlLCB3ZSBuZWVkIHRvIGRlLW9wXG4gICAgLy8gdGhlc2UgY2hpbGRyZW4gdG8gZm9yY2UgZnVsbCBkaWZmcyB0byBlbnN1cmUgY29ycmVjdCBiZWhhdmlvci5cbiAgICBpZiAoa2V5ZWRGcmFnbWVudENvdW50ID4gMSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yIC8qIFBhdGNoRmxhZ3MuQkFJTCAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG4vLyBpbXBsZW1lbnRhdGlvbiwgY2xvc2UgdG8gbm8tb3BcbmZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob3B0aW9ucykgPyB7IHNldHVwOiBvcHRpb25zLCBuYW1lOiBvcHRpb25zLm5hbWUgfSA6IG9wdGlvbnM7XG59XG5cbmNvbnN0IGlzQXN5bmNXcmFwcGVyID0gKGkpID0+ICEhaS50eXBlLl9fYXN5bmNMb2FkZXI7XG5mdW5jdGlvbiBkZWZpbmVBc3luY0NvbXBvbmVudChzb3VyY2UpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgICAgIHNvdXJjZSA9IHsgbG9hZGVyOiBzb3VyY2UgfTtcbiAgICB9XG4gICAgY29uc3QgeyBsb2FkZXIsIGxvYWRpbmdDb21wb25lbnQsIGVycm9yQ29tcG9uZW50LCBkZWxheSA9IDIwMCwgdGltZW91dCwgLy8gdW5kZWZpbmVkID0gbmV2ZXIgdGltZXMgb3V0XG4gICAgc3VzcGVuc2libGUgPSB0cnVlLCBvbkVycm9yOiB1c2VyT25FcnJvciB9ID0gc291cmNlO1xuICAgIGxldCBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgbGV0IHJlc29sdmVkQ29tcDtcbiAgICBsZXQgcmV0cmllcyA9IDA7XG4gICAgY29uc3QgcmV0cnkgPSAoKSA9PiB7XG4gICAgICAgIHJldHJpZXMrKztcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgICAgICByZXR1cm4gbG9hZCgpO1xuICAgIH07XG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICAgICAgbGV0IHRoaXNSZXF1ZXN0O1xuICAgICAgICByZXR1cm4gKHBlbmRpbmdSZXF1ZXN0IHx8XG4gICAgICAgICAgICAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9XG4gICAgICAgICAgICAgICAgbG9hZGVyKClcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJSZXRyeSA9ICgpID0+IHJlc29sdmUocmV0cnkoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckZhaWwgPSAoKSA9PiByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyT25FcnJvcihlcnIsIHVzZXJSZXRyeSwgdXNlckZhaWwsIHJldHJpZXMgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGNvbXApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNSZXF1ZXN0ICE9PSBwZW5kaW5nUmVxdWVzdCAmJiBwZW5kaW5nUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWNvbXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB5b3UgYXJlIHVzaW5nIHJldHJ5KCksIG1ha2Ugc3VyZSB0byByZXR1cm4gaXRzIHJldHVybiB2YWx1ZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcm9wIG1vZHVsZSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoY29tcC5fX2VzTW9kdWxlIHx8IGNvbXBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ01vZHVsZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29tcCAmJiAhaXNPYmplY3QoY29tcCkgJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3luYyBjb21wb25lbnQgbG9hZCByZXN1bHQ6ICR7Y29tcH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZENvbXAgPSBjb21wO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcDtcbiAgICAgICAgICAgICAgICB9KSkpO1xuICAgIH07XG4gICAgcmV0dXJuIGRlZmluZUNvbXBvbmVudCh7XG4gICAgICAgIG5hbWU6ICdBc3luY0NvbXBvbmVudFdyYXBwZXInLFxuICAgICAgICBfX2FzeW5jTG9hZGVyOiBsb2FkLFxuICAgICAgICBnZXQgX19hc3luY1Jlc29sdmVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkQ29tcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0dXAoKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgICAgICAgIC8vIGFscmVhZHkgcmVzb2x2ZWRcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMTMgLyogRXJyb3JDb2Rlcy5BU1lOQ19DT01QT05FTlRfTE9BREVSICovLCAhZXJyb3JDb21wb25lbnQgLyogZG8gbm90IHRocm93IGluIGRldiBpZiB1c2VyIHByb3ZpZGVkIGVycm9yIGNvbXBvbmVudCAqLyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gc3VzcGVuc2UtY29udHJvbGxlZCBvciBTU1IuXG4gICAgICAgICAgICBpZiAoKHN1c3BlbnNpYmxlICYmIGluc3RhbmNlLnN1c3BlbnNlKSB8fFxuICAgICAgICAgICAgICAgIChpc0luU1NSQ29tcG9uZW50U2V0dXApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvYWQoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihjb21wID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChjb21wLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGVycm9yQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxvYWRlZCA9IHJlZihmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHJlZigpO1xuICAgICAgICAgICAgY29uc3QgZGVsYXllZCA9IHJlZighIWRlbGF5KTtcbiAgICAgICAgICAgIGlmIChkZWxheSkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkZWxheWVkLnZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWxvYWRlZC52YWx1ZSAmJiAhZXJyb3IudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgQXN5bmMgY29tcG9uZW50IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXR9bXMuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9hZCgpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxvYWRlZC52YWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLnBhcmVudCAmJiBpc0tlZXBBbGl2ZShpbnN0YW5jZS5wYXJlbnQudm5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhcmVudCBpcyBrZWVwLWFsaXZlLCBmb3JjZSB1cGRhdGUgc28gdGhlIGxvYWRlZCBjb21wb25lbnQnc1xuICAgICAgICAgICAgICAgICAgICAvLyBuYW1lIGlzIHRha2VuIGludG8gYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICBxdWV1ZUpvYihpbnN0YW5jZS5wYXJlbnQudXBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJvci52YWx1ZSAmJiBlcnJvckNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvci52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobG9hZGluZ0NvbXBvbmVudCAmJiAhZGVsYXllZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUobG9hZGluZ0NvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHBhcmVudCkge1xuICAgIGNvbnN0IHsgcmVmLCBwcm9wcywgY2hpbGRyZW4sIGNlIH0gPSBwYXJlbnQudm5vZGU7XG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShjb21wLCBwcm9wcywgY2hpbGRyZW4pO1xuICAgIC8vIGVuc3VyZSBpbm5lciBjb21wb25lbnQgaW5oZXJpdHMgdGhlIGFzeW5jIHdyYXBwZXIncyByZWYgb3duZXJcbiAgICB2bm9kZS5yZWYgPSByZWY7XG4gICAgLy8gcGFzcyB0aGUgY3VzdG9tIGVsZW1lbnQgY2FsbGJhY2sgb24gdG8gdGhlIGlubmVyIGNvbXBcbiAgICAvLyBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIGFzeW5jIHdyYXBwZXJcbiAgICB2bm9kZS5jZSA9IGNlO1xuICAgIGRlbGV0ZSBwYXJlbnQudm5vZGUuY2U7XG4gICAgcmV0dXJuIHZub2RlO1xufVxuXG5jb25zdCBpc0tlZXBBbGl2ZSA9ICh2bm9kZSkgPT4gdm5vZGUudHlwZS5fX2lzS2VlcEFsaXZlO1xuY29uc3QgS2VlcEFsaXZlSW1wbCA9IHtcbiAgICBuYW1lOiBgS2VlcEFsaXZlYCxcbiAgICAvLyBNYXJrZXIgZm9yIHNwZWNpYWwgaGFuZGxpbmcgaW5zaWRlIHRoZSByZW5kZXJlci4gV2UgYXJlIG5vdCB1c2luZyBhID09PVxuICAgIC8vIGNoZWNrIGRpcmVjdGx5IG9uIEtlZXBBbGl2ZSBpbiB0aGUgcmVuZGVyZXIsIGJlY2F1c2UgaW1wb3J0aW5nIGl0IGRpcmVjdGx5XG4gICAgLy8gd291bGQgcHJldmVudCBpdCBmcm9tIGJlaW5nIHRyZWUtc2hha2VuLlxuICAgIF9faXNLZWVwQWxpdmU6IHRydWUsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgaW5jbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgICAgIGV4Y2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxuICAgICAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cbiAgICB9LFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgLy8gS2VlcEFsaXZlIGNvbW11bmljYXRlcyB3aXRoIHRoZSBpbnN0YW50aWF0ZWQgcmVuZGVyZXIgdmlhIHRoZVxuICAgICAgICAvLyBjdHggd2hlcmUgdGhlIHJlbmRlcmVyIHBhc3NlcyBpbiBpdHMgaW50ZXJuYWxzLFxuICAgICAgICAvLyBhbmQgdGhlIEtlZXBBbGl2ZSBpbnN0YW5jZSBleHBvc2VzIGFjdGl2YXRlL2RlYWN0aXZhdGUgaW1wbGVtZW50YXRpb25zLlxuICAgICAgICAvLyBUaGUgd2hvbGUgcG9pbnQgb2YgdGhpcyBpcyB0byBhdm9pZCBpbXBvcnRpbmcgS2VlcEFsaXZlIGRpcmVjdGx5IGluIHRoZVxuICAgICAgICAvLyByZW5kZXJlciB0byBmYWNpbGl0YXRlIHRyZWUtc2hha2luZy5cbiAgICAgICAgY29uc3Qgc2hhcmVkQ29udGV4dCA9IGluc3RhbmNlLmN0eDtcbiAgICAgICAgLy8gaWYgdGhlIGludGVybmFsIHJlbmRlcmVyIGlzIG5vdCByZWdpc3RlcmVkLCBpdCBpbmRpY2F0ZXMgdGhhdCB0aGlzIGlzIHNlcnZlci1zaWRlIHJlbmRlcmluZyxcbiAgICAgICAgLy8gZm9yIEtlZXBBbGl2ZSwgd2UganVzdCBuZWVkIHRvIHJlbmRlciBpdHMgY2hpbGRyZW5cbiAgICAgICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBzbG90cy5kZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCA9PT0gMSA/IGNoaWxkcmVuWzBdIDogY2hpbGRyZW47XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBrZXlzID0gbmV3IFNldCgpO1xuICAgICAgICBsZXQgY3VycmVudCA9IG51bGw7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5fX3ZfY2FjaGUgPSBjYWNoZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJlbnRTdXNwZW5zZSA9IGluc3RhbmNlLnN1c3BlbnNlO1xuICAgICAgICBjb25zdCB7IHJlbmRlcmVyOiB7IHA6IHBhdGNoLCBtOiBtb3ZlLCB1bTogX3VubW91bnQsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0gfSA9IHNoYXJlZENvbnRleHQ7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc2hhcmVkQ29udGV4dC5hY3RpdmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgICAgICAgbW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogTW92ZVR5cGUuRU5URVIgKi8sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIC8vIGluIGNhc2UgcHJvcHMgaGF2ZSBjaGFuZ2VkXG4gICAgICAgICAgICBwYXRjaChpbnN0YW5jZS52bm9kZSwgdm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCB2bm9kZS5zbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzRGVhY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuYSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZU1vdW50ZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZS5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb21wb25lbnRzIHRyZWVcbiAgICAgICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2hhcmVkQ29udGV4dC5kZWFjdGl2YXRlID0gKHZub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgICAgICAgIG1vdmUodm5vZGUsIHN0b3JhZ2VDb250YWluZXIsIG51bGwsIDEgLyogTW92ZVR5cGUuTEVBVkUgKi8sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlLmRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZVVubW91bnRlZDtcbiAgICAgICAgICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc0RlYWN0aXZhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvbXBvbmVudHMgdHJlZVxuICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiB1bm1vdW50KHZub2RlKSB7XG4gICAgICAgICAgICAvLyByZXNldCB0aGUgc2hhcGVGbGFnIHNvIGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWRcbiAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcbiAgICAgICAgICAgIF91bm1vdW50KHZub2RlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XG4gICAgICAgICAgICBjYWNoZS5mb3JFYWNoKCh2bm9kZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUodm5vZGUudHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgKCFmaWx0ZXIgfHwgIWZpbHRlcihuYW1lKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcHJ1bmVDYWNoZUVudHJ5KGtleSkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnQgfHwgY2FjaGVkLnR5cGUgIT09IGN1cnJlbnQudHlwZSkge1xuICAgICAgICAgICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSBpbnN0YW5jZSBzaG91bGQgbm8gbG9uZ2VyIGJlIGtlcHQtYWxpdmUuXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdW5tb3VudCBpdCBub3cgYnV0IGl0IG1pZ2h0IGJlIGxhdGVyLCBzbyByZXNldCBpdHMgZmxhZyBub3cuXG4gICAgICAgICAgICAgICAgcmVzZXRTaGFwZUZsYWcoY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIGtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJ1bmUgY2FjaGUgb24gaW5jbHVkZS9leGNsdWRlIHByb3AgY2hhbmdlXG4gICAgICAgIHdhdGNoKCgpID0+IFtwcm9wcy5pbmNsdWRlLCBwcm9wcy5leGNsdWRlXSwgKFtpbmNsdWRlLCBleGNsdWRlXSkgPT4ge1xuICAgICAgICAgICAgaW5jbHVkZSAmJiBwcnVuZUNhY2hlKG5hbWUgPT4gbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSk7XG4gICAgICAgICAgICBleGNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiAhbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSk7XG4gICAgICAgIH0sIFxuICAgICAgICAvLyBwcnVuZSBwb3N0LXJlbmRlciBhZnRlciBgY3VycmVudGAgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICB7IGZsdXNoOiAncG9zdCcsIGRlZXA6IHRydWUgfSk7XG4gICAgICAgIC8vIGNhY2hlIHN1YiB0cmVlIGFmdGVyIHJlbmRlclxuICAgICAgICBsZXQgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICAgICAgY29uc3QgY2FjaGVTdWJ0cmVlID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gZml4ICMxNjIxLCB0aGUgcGVuZGluZ0NhY2hlS2V5IGNvdWxkIGJlIDBcbiAgICAgICAgICAgIGlmIChwZW5kaW5nQ2FjaGVLZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICAgICAgb25VcGRhdGVkKGNhY2hlU3VidHJlZSk7XG4gICAgICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgICAgICAgICBjYWNoZS5mb3JFYWNoKGNhY2hlZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdWJUcmVlLCBzdXNwZW5zZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgY29uc3Qgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHN1YlRyZWUpO1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGluc3RhbmNlIHdpbGwgYmUgdW5tb3VudGVkIGFzIHBhcnQgb2Yga2VlcC1hbGl2ZSdzIHVubW91bnRcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBidXQgaW52b2tlIGl0cyBkZWFjdGl2YXRlZCBob29rIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGEgPSB2bm9kZS5jb21wb25lbnQuZGE7XG4gICAgICAgICAgICAgICAgICAgIGRhICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkYSwgc3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoIXNsb3RzLmRlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgcmF3Vk5vZGUgPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEtlZXBBbGl2ZSBzaG91bGQgY29udGFpbiBleGFjdGx5IG9uZSBjb21wb25lbnQgY2hpbGQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fFxuICAgICAgICAgICAgICAgICghKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDQgLyogU2hhcGVGbGFncy5TVEFURUZVTF9DT01QT05FTlQgKi8pICYmXG4gICAgICAgICAgICAgICAgICAgICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2bm9kZSA9IGdldElubmVyQ2hpbGQocmF3Vk5vZGUpO1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IHZub2RlLnR5cGU7XG4gICAgICAgICAgICAvLyBmb3IgYXN5bmMgY29tcG9uZW50cywgbmFtZSBjaGVjayBzaG91bGQgYmUgYmFzZWQgaW4gaXRzIGxvYWRlZFxuICAgICAgICAgICAgLy8gaW5uZXIgY29tcG9uZW50IGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoaXNBc3luY1dyYXBwZXIodm5vZGUpXG4gICAgICAgICAgICAgICAgPyB2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCB8fCB7fVxuICAgICAgICAgICAgICAgIDogY29tcCk7XG4gICAgICAgICAgICBjb25zdCB7IGluY2x1ZGUsIGV4Y2x1ZGUsIG1heCB9ID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAoKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSkgfHxcbiAgICAgICAgICAgICAgICAoZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHZub2RlO1xuICAgICAgICAgICAgICAgIHJldHVybiByYXdWTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHZub2RlLmtleSA9PSBudWxsID8gY29tcCA6IHZub2RlLmtleTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZFZOb2RlID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgICAgICAvLyBjbG9uZSB2bm9kZSBpZiBpdCdzIHJldXNlZCBiZWNhdXNlIHdlIGFyZSBnb2luZyB0byBtdXRhdGUgaXRcbiAgICAgICAgICAgIGlmICh2bm9kZS5lbCkge1xuICAgICAgICAgICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhd1ZOb2RlLnNzQ29udGVudCA9IHZub2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICMxNTEzIGl0J3MgcG9zc2libGUgZm9yIHRoZSByZXR1cm5lZCB2bm9kZSB0byBiZSBjbG9uZWQgZHVlIHRvIGF0dHJcbiAgICAgICAgICAgIC8vIGZhbGx0aHJvdWdoIG9yIHNjb3BlSWQsIHNvIHRoZSB2bm9kZSBoZXJlIG1heSBub3QgYmUgdGhlIGZpbmFsIHZub2RlXG4gICAgICAgICAgICAvLyB0aGF0IGlzIG1vdW50ZWQuIEluc3RlYWQgb2YgY2FjaGluZyBpdCBkaXJlY3RseSwgd2Ugc3RvcmUgdGhlIHBlbmRpbmdcbiAgICAgICAgICAgIC8vIGtleSBhbmQgY2FjaGUgYGluc3RhbmNlLnN1YlRyZWVgICh0aGUgbm9ybWFsaXplZCB2bm9kZSkgaW5cbiAgICAgICAgICAgIC8vIGJlZm9yZU1vdW50L2JlZm9yZVVwZGF0ZSBob29rcy5cbiAgICAgICAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcbiAgICAgICAgICAgIGlmIChjYWNoZWRWTm9kZSkge1xuICAgICAgICAgICAgICAgIC8vIGNvcHkgb3ZlciBtb3VudGVkIHN0YXRlXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwgPSBjYWNoZWRWTm9kZS5lbDtcbiAgICAgICAgICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBjYWNoZWRWTm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgdXBkYXRlIHRyYW5zaXRpb24gaG9va3Mgb24gc3ViVHJlZVxuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIHZub2RlLnRyYW5zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB2bm9kZSBiZWluZyBtb3VudGVkIGFzIGZyZXNoXG4gICAgICAgICAgICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDUxMiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xuICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhpcyBrZXkgdGhlIGZyZXNoZXN0XG4gICAgICAgICAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAvLyBwcnVuZSBvbGRlc3QgZW50cnlcbiAgICAgICAgICAgICAgICBpZiAobWF4ICYmIGtleXMuc2l6ZSA+IHBhcnNlSW50KG1heCwgMTApKSB7XG4gICAgICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXZvaWQgdm5vZGUgYmVpbmcgdW5tb3VudGVkXG4gICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gMjU2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xuICAgICAgICAgICAgY3VycmVudCA9IHZub2RlO1xuICAgICAgICAgICAgcmV0dXJuIGlzU3VzcGVuc2UocmF3Vk5vZGUudHlwZSkgPyByYXdWTm9kZSA6IHZub2RlO1xuICAgICAgICB9O1xuICAgIH1cbn07XG57XG4gICAgS2VlcEFsaXZlSW1wbC5fX2lzQnVpbGRJbiA9IHRydWU7XG59XG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2Vcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXG5jb25zdCBLZWVwQWxpdmUgPSBLZWVwQWxpdmVJbXBsO1xuZnVuY3Rpb24gbWF0Y2hlcyhwYXR0ZXJuLCBuYW1lKSB7XG4gICAgaWYgKGlzQXJyYXkocGF0dGVybikpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4uc29tZSgocCkgPT4gbWF0Y2hlcyhwLCBuYW1lKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KCcsJykuaW5jbHVkZXMobmFtZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhdHRlcm4udGVzdCkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KG5hbWUpO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG9uQWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xuICAgIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImFcIiAvKiBMaWZlY3ljbGVIb29rcy5BQ1RJVkFURUQgKi8sIHRhcmdldCk7XG59XG5mdW5jdGlvbiBvbkRlYWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xuICAgIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImRhXCIgLyogTGlmZWN5Y2xlSG9va3MuREVBQ1RJVkFURUQgKi8sIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gICAgLy8gY2FjaGUgdGhlIGRlYWN0aXZhdGUgYnJhbmNoIGNoZWNrIHdyYXBwZXIgZm9yIGluamVjdGVkIGhvb2tzIHNvIHRoZSBzYW1lXG4gICAgLy8gaG9vayBjYW4gYmUgcHJvcGVybHkgZGVkdXBlZCBieSB0aGUgc2NoZWR1bGVyLiBcIl9fd2RjXCIgc3RhbmRzIGZvciBcIndpdGhcbiAgICAvLyBkZWFjdGl2YXRpb24gY2hlY2tcIi5cbiAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZGMgfHxcbiAgICAgICAgKGhvb2suX193ZGMgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBvbmx5IGZpcmUgdGhlIGhvb2sgaWYgdGhlIHRhcmdldCBpbnN0YW5jZSBpcyBOT1QgaW4gYSBkZWFjdGl2YXRlZCBicmFuY2guXG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IHRhcmdldDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBob29rKCk7XG4gICAgICAgIH0pO1xuICAgIGluamVjdEhvb2sodHlwZSwgd3JhcHBlZEhvb2ssIHRhcmdldCk7XG4gICAgLy8gSW4gYWRkaXRpb24gdG8gcmVnaXN0ZXJpbmcgaXQgb24gdGhlIHRhcmdldCBpbnN0YW5jZSwgd2Ugd2FsayB1cCB0aGUgcGFyZW50XG4gICAgLy8gY2hhaW4gYW5kIHJlZ2lzdGVyIGl0IG9uIGFsbCBhbmNlc3RvciBpbnN0YW5jZXMgdGhhdCBhcmUga2VlcC1hbGl2ZSByb290cy5cbiAgICAvLyBUaGlzIGF2b2lkcyB0aGUgbmVlZCB0byB3YWxrIHRoZSBlbnRpcmUgY29tcG9uZW50IHRyZWUgd2hlbiBpbnZva2luZyB0aGVzZVxuICAgIC8vIGhvb2tzLCBhbmQgbW9yZSBpbXBvcnRhbnRseSwgYXZvaWRzIHRoZSBuZWVkIHRvIHRyYWNrIGNoaWxkIGNvbXBvbmVudHMgaW5cbiAgICAvLyBhcnJheXMuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoaXNLZWVwQWxpdmUoY3VycmVudC5wYXJlbnQudm5vZGUpKSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0VG9LZWVwQWxpdmVSb290KHdyYXBwZWRIb29rLCB0eXBlLCB0YXJnZXQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaW5qZWN0VG9LZWVwQWxpdmVSb290KGhvb2ssIHR5cGUsIHRhcmdldCwga2VlcEFsaXZlUm9vdCkge1xuICAgIC8vIGluamVjdEhvb2sgd3JhcHMgdGhlIG9yaWdpbmFsIGZvciBlcnJvciBoYW5kbGluZywgc28gbWFrZSBzdXJlIHRvIHJlbW92ZVxuICAgIC8vIHRoZSB3cmFwcGVkIHZlcnNpb24uXG4gICAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKHR5cGUsIGhvb2ssIGtlZXBBbGl2ZVJvb3QsIHRydWUgLyogcHJlcGVuZCAqLyk7XG4gICAgb25Vbm1vdW50ZWQoKCkgPT4ge1xuICAgICAgICByZW1vdmUoa2VlcEFsaXZlUm9vdFt0eXBlXSwgaW5qZWN0ZWQpO1xuICAgIH0sIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZXNldFNoYXBlRmxhZyh2bm9kZSkge1xuICAgIC8vIGJpdHdpc2Ugb3BlcmF0aW9ucyB0byByZW1vdmUga2VlcCBhbGl2ZSBmbGFnc1xuICAgIHZub2RlLnNoYXBlRmxhZyAmPSB+MjU2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xuICAgIHZub2RlLnNoYXBlRmxhZyAmPSB+NTEyIC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XG59XG5mdW5jdGlvbiBnZXRJbm5lckNoaWxkKHZub2RlKSB7XG4gICAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovID8gdm5vZGUuc3NDb250ZW50IDogdm5vZGU7XG59XG5cbmZ1bmN0aW9uIGluamVjdEhvb2sodHlwZSwgaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlLCBwcmVwZW5kID0gZmFsc2UpIHtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IGhvb2tzID0gdGFyZ2V0W3R5cGVdIHx8ICh0YXJnZXRbdHlwZV0gPSBbXSk7XG4gICAgICAgIC8vIGNhY2hlIHRoZSBlcnJvciBoYW5kbGluZyB3cmFwcGVyIGZvciBpbmplY3RlZCBob29rcyBzbyB0aGUgc2FtZSBob29rXG4gICAgICAgIC8vIGNhbiBiZSBwcm9wZXJseSBkZWR1cGVkIGJ5IHRoZSBzY2hlZHVsZXIuIFwiX193ZWhcIiBzdGFuZHMgZm9yIFwid2l0aCBlcnJvclxuICAgICAgICAvLyBoYW5kbGluZ1wiLlxuICAgICAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZWggfHxcbiAgICAgICAgICAgIChob29rLl9fd2VoID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZGlzYWJsZSB0cmFja2luZyBpbnNpZGUgYWxsIGxpZmVjeWNsZSBob29rc1xuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgY2FuIHBvdGVudGlhbGx5IGJlIGNhbGxlZCBpbnNpZGUgZWZmZWN0cy5cbiAgICAgICAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGN1cnJlbnRJbnN0YW5jZSBkdXJpbmcgaG9vayBpbnZvY2F0aW9uLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYXNzdW1lcyB0aGUgaG9vayBkb2VzIG5vdCBzeW5jaHJvbm91c2x5IHRyaWdnZXIgb3RoZXIgaG9va3MsIHdoaWNoXG4gICAgICAgICAgICAgICAgLy8gY2FuIG9ubHkgYmUgZmFsc2Ugd2hlbiB0aGUgdXNlciBkb2VzIHNvbWV0aGluZyByZWFsbHkgZnVua3kuXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgdGFyZ2V0LCB0eXBlLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICAgICAgICBob29rcy51bnNoaWZ0KHdyYXBwZWRIb29rKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvb2tzLnB1c2god3JhcHBlZEhvb2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cmFwcGVkSG9vaztcbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IGFwaU5hbWUgPSB0b0hhbmRsZXJLZXkoRXJyb3JUeXBlU3RyaW5nc1t0eXBlXS5yZXBsYWNlKC8gaG9vayQvLCAnJykpO1xuICAgICAgICB3YXJuJDEoYCR7YXBpTmFtZX0gaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBgICtcbiAgICAgICAgICAgIGBhc3NvY2lhdGVkIHdpdGguIGAgK1xuICAgICAgICAgICAgYExpZmVjeWNsZSBpbmplY3Rpb24gQVBJcyBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBleGVjdXRpb24gb2Ygc2V0dXAoKS5gICtcbiAgICAgICAgICAgIChgIElmIHlvdSBhcmUgdXNpbmcgYXN5bmMgc2V0dXAoKSwgbWFrZSBzdXJlIHRvIHJlZ2lzdGVyIGxpZmVjeWNsZSBgICtcbiAgICAgICAgICAgICAgICAgICAgYGhvb2tzIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQgc3RhdGVtZW50LmBcbiAgICAgICAgICAgICAgICApKTtcbiAgICB9XG59XG5jb25zdCBjcmVhdGVIb29rID0gKGxpZmVjeWNsZSkgPT4gKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkgPT4gXG4vLyBwb3N0LWNyZWF0ZSBsaWZlY3ljbGUgcmVnaXN0cmF0aW9ucyBhcmUgbm9vcHMgZHVyaW5nIFNTUiAoZXhjZXB0IGZvciBzZXJ2ZXJQcmVmZXRjaClcbighaXNJblNTUkNvbXBvbmVudFNldHVwIHx8IGxpZmVjeWNsZSA9PT0gXCJzcFwiIC8qIExpZmVjeWNsZUhvb2tzLlNFUlZFUl9QUkVGRVRDSCAqLykgJiZcbiAgICBpbmplY3RIb29rKGxpZmVjeWNsZSwgKC4uLmFyZ3MpID0+IGhvb2soLi4uYXJncyksIHRhcmdldCk7XG5jb25zdCBvbkJlZm9yZU1vdW50ID0gY3JlYXRlSG9vayhcImJtXCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX01PVU5UICovKTtcbmNvbnN0IG9uTW91bnRlZCA9IGNyZWF0ZUhvb2soXCJtXCIgLyogTGlmZWN5Y2xlSG9va3MuTU9VTlRFRCAqLyk7XG5jb25zdCBvbkJlZm9yZVVwZGF0ZSA9IGNyZWF0ZUhvb2soXCJidVwiIC8qIExpZmVjeWNsZUhvb2tzLkJFRk9SRV9VUERBVEUgKi8pO1xuY29uc3Qgb25VcGRhdGVkID0gY3JlYXRlSG9vayhcInVcIiAvKiBMaWZlY3ljbGVIb29rcy5VUERBVEVEICovKTtcbmNvbnN0IG9uQmVmb3JlVW5tb3VudCA9IGNyZWF0ZUhvb2soXCJidW1cIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfVU5NT1VOVCAqLyk7XG5jb25zdCBvblVubW91bnRlZCA9IGNyZWF0ZUhvb2soXCJ1bVwiIC8qIExpZmVjeWNsZUhvb2tzLlVOTU9VTlRFRCAqLyk7XG5jb25zdCBvblNlcnZlclByZWZldGNoID0gY3JlYXRlSG9vayhcInNwXCIgLyogTGlmZWN5Y2xlSG9va3MuU0VSVkVSX1BSRUZFVENIICovKTtcbmNvbnN0IG9uUmVuZGVyVHJpZ2dlcmVkID0gY3JlYXRlSG9vayhcInJ0Z1wiIC8qIExpZmVjeWNsZUhvb2tzLlJFTkRFUl9UUklHR0VSRUQgKi8pO1xuY29uc3Qgb25SZW5kZXJUcmFja2VkID0gY3JlYXRlSG9vayhcInJ0Y1wiIC8qIExpZmVjeWNsZUhvb2tzLlJFTkRFUl9UUkFDS0VEICovKTtcbmZ1bmN0aW9uIG9uRXJyb3JDYXB0dXJlZChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgICBpbmplY3RIb29rKFwiZWNcIiAvKiBMaWZlY3ljbGVIb29rcy5FUlJPUl9DQVBUVVJFRCAqLywgaG9vaywgdGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tcGF0Q2hpbGRyZW4oaW5zdGFuY2UpIHtcbiAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfQ0hJTERSRU5cIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0NISUxEUkVOICovLCBpbnN0YW5jZSk7XG4gICAgY29uc3Qgcm9vdCA9IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICBpZiAocm9vdCkge1xuICAgICAgICB3YWxrKHJvb3QsIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xufVxuZnVuY3Rpb24gd2Fsayh2bm9kZSwgY2hpbGRyZW4pIHtcbiAgICBpZiAodm5vZGUuY29tcG9uZW50KSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godm5vZGUuY29tcG9uZW50LnByb3h5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICBjb25zdCB2bm9kZXMgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHdhbGsodm5vZGVzW2ldLCBjaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENvbXBhdExpc3RlbmVycyhpbnN0YW5jZSkge1xuICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9MSVNURU5FUlNcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0xJU1RFTkVSUyAqLywgaW5zdGFuY2UpO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHt9O1xuICAgIGNvbnN0IHJhd1Byb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XG4gICAgaWYgKCFyYXdQcm9wcykge1xuICAgICAgICByZXR1cm4gbGlzdGVuZXJzO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xuICAgICAgICBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNba2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMyldID0gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGlzdGVuZXJzO1xufVxuXG5jb25zdCBsZWdhY3lEaXJlY3RpdmVIb29rTWFwID0ge1xuICAgIGJlZm9yZU1vdW50OiAnYmluZCcsXG4gICAgbW91bnRlZDogJ2luc2VydGVkJyxcbiAgICB1cGRhdGVkOiBbJ3VwZGF0ZScsICdjb21wb25lbnRVcGRhdGVkJ10sXG4gICAgdW5tb3VudGVkOiAndW5iaW5kJ1xufTtcbmZ1bmN0aW9uIG1hcENvbXBhdERpcmVjdGl2ZUhvb2sobmFtZSwgZGlyLCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IG1hcHBlZE5hbWUgPSBsZWdhY3lEaXJlY3RpdmVIb29rTWFwW25hbWVdO1xuICAgIGlmIChtYXBwZWROYW1lKSB7XG4gICAgICAgIGlmIChpc0FycmF5KG1hcHBlZE5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBob29rID0gW107XG4gICAgICAgICAgICBtYXBwZWROYW1lLmZvckVhY2gobWFwcGVkID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXBwZWRIb29rID0gZGlyW21hcHBlZF07XG4gICAgICAgICAgICAgICAgaWYgKG1hcHBlZEhvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJDVVNUT01fRElSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DVVNUT01fRElSICovLCBpbnN0YW5jZSwgbWFwcGVkLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaG9vay5wdXNoKG1hcHBlZEhvb2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGhvb2subGVuZ3RoID8gaG9vayA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkaXJbbWFwcGVkTmFtZV0pIHtcbiAgICAgICAgICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIkNVU1RPTV9ESVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNVU1RPTV9ESVIgKi8sIGluc3RhbmNlLCBtYXBwZWROYW1lLCBuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkaXJbbWFwcGVkTmFtZV07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuUnVudGltZSBoZWxwZXIgZm9yIGFwcGx5aW5nIGRpcmVjdGl2ZXMgdG8gYSB2bm9kZS4gRXhhbXBsZSB1c2FnZTpcblxuY29uc3QgY29tcCA9IHJlc29sdmVDb21wb25lbnQoJ2NvbXAnKVxuY29uc3QgZm9vID0gcmVzb2x2ZURpcmVjdGl2ZSgnZm9vJylcbmNvbnN0IGJhciA9IHJlc29sdmVEaXJlY3RpdmUoJ2JhcicpXG5cbnJldHVybiB3aXRoRGlyZWN0aXZlcyhoKGNvbXApLCBbXG4gIFtmb28sIHRoaXMueF0sXG4gIFtiYXIsIHRoaXMueV1cbl0pXG4qL1xuZnVuY3Rpb24gdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpIHtcbiAgICBpZiAoaXNCdWlsdEluRGlyZWN0aXZlKG5hbWUpKSB7XG4gICAgICAgIHdhcm4kMSgnRG8gbm90IHVzZSBidWlsdC1pbiBkaXJlY3RpdmUgaWRzIGFzIGN1c3RvbSBkaXJlY3RpdmUgaWQ6ICcgKyBuYW1lKTtcbiAgICB9XG59XG4vKipcbiAqIEFkZHMgZGlyZWN0aXZlcyB0byBhIFZOb2RlLlxuICovXG5mdW5jdGlvbiB3aXRoRGlyZWN0aXZlcyh2bm9kZSwgZGlyZWN0aXZlcykge1xuICAgIGNvbnN0IGludGVybmFsSW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgaWYgKGludGVybmFsSW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgd2l0aERpcmVjdGl2ZXMgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9ucy5gKTtcbiAgICAgICAgcmV0dXJuIHZub2RlO1xuICAgIH1cbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEV4cG9zZVByb3h5KGludGVybmFsSW5zdGFuY2UpIHx8XG4gICAgICAgIGludGVybmFsSW5zdGFuY2UucHJveHk7XG4gICAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzIHx8ICh2bm9kZS5kaXJzID0gW10pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgW2RpciwgdmFsdWUsIGFyZywgbW9kaWZpZXJzID0gRU1QVFlfT0JKXSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGRpcikpIHtcbiAgICAgICAgICAgICAgICBkaXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdW50ZWQ6IGRpcixcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZDogZGlyXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXIuZGVlcCkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpbmRpbmdzLnB1c2goe1xuICAgICAgICAgICAgICAgIGRpcixcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZTogdm9pZCAwLFxuICAgICAgICAgICAgICAgIGFyZyxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIHByZXZWTm9kZSwgaW5zdGFuY2UsIG5hbWUpIHtcbiAgICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnM7XG4gICAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBiaW5kaW5nID0gYmluZGluZ3NbaV07XG4gICAgICAgIGlmIChvbGRCaW5kaW5ncykge1xuICAgICAgICAgICAgYmluZGluZy5vbGRWYWx1ZSA9IG9sZEJpbmRpbmdzW2ldLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XG4gICAgICAgIGlmICghaG9vaykge1xuICAgICAgICAgICAgaG9vayA9IG1hcENvbXBhdERpcmVjdGl2ZUhvb2sobmFtZSwgYmluZGluZy5kaXIsIGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9vaykge1xuICAgICAgICAgICAgLy8gZGlzYWJsZSB0cmFja2luZyBpbnNpZGUgYWxsIGxpZmVjeWNsZSBob29rc1xuICAgICAgICAgICAgLy8gc2luY2UgdGhleSBjYW4gcG90ZW50aWFsbHkgYmUgY2FsbGVkIGluc2lkZSBlZmZlY3RzLlxuICAgICAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDggLyogRXJyb3JDb2Rlcy5ESVJFQ1RJVkVfSE9PSyAqLywgW1xuICAgICAgICAgICAgICAgIHZub2RlLmVsLFxuICAgICAgICAgICAgICAgIGJpbmRpbmcsXG4gICAgICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICAgICAgcHJldlZOb2RlXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgQ09NUE9ORU5UUyA9ICdjb21wb25lbnRzJztcbmNvbnN0IERJUkVDVElWRVMgPSAnZGlyZWN0aXZlcyc7XG5jb25zdCBGSUxURVJTID0gJ2ZpbHRlcnMnO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50KG5hbWUsIG1heWJlU2VsZlJlZmVyZW5jZSkge1xuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xufVxuY29uc3QgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCA9IFN5bWJvbCgpO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICBpZiAoaXNTdHJpbmcoY29tcG9uZW50KSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KENPTVBPTkVOVFMsIGNvbXBvbmVudCwgZmFsc2UpIHx8IGNvbXBvbmVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGludmFsaWQgdHlwZXMgd2lsbCBmYWxsdGhyb3VnaCB0byBjcmVhdGVWTm9kZSBhbmQgcmFpc2Ugd2FybmluZ1xuICAgICAgICByZXR1cm4gKGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKTtcbiAgICB9XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUobmFtZSkge1xuICAgIHJldHVybiByZXNvbHZlQXNzZXQoRElSRUNUSVZFUywgbmFtZSk7XG59XG4vKipcbiAqIHYyIGNvbXBhdCBvbmx5XG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUZpbHRlcihuYW1lKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChGSUxURVJTLCBuYW1lKTtcbn1cbi8vIGltcGxlbWVudGF0aW9uXG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIHx8IGN1cnJlbnRJbnN0YW5jZTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgICAgICAgLy8gZXhwbGljaXQgc2VsZiBuYW1lIGhhcyBoaWdoZXN0IHByaW9yaXR5XG4gICAgICAgIGlmICh0eXBlID09PSBDT01QT05FTlRTKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxmTmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50LCBmYWxzZSAvKiBkbyBub3QgaW5jbHVkZSBpbmZlcnJlZCBuYW1lIHRvIGF2b2lkIGJyZWFraW5nIGV4aXN0aW5nIGNvZGUgKi8pO1xuICAgICAgICAgICAgaWYgKHNlbGZOYW1lICYmXG4gICAgICAgICAgICAgICAgKHNlbGZOYW1lID09PSBuYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgIHNlbGZOYW1lID09PSBjYW1lbGl6ZShuYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXMgPSBcbiAgICAgICAgLy8gbG9jYWwgcmVnaXN0cmF0aW9uXG4gICAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IHdoaWNoIGlzIHJlc29sdmVkIGZvciBvcHRpb25zIEFQSVxuICAgICAgICByZXNvbHZlKGluc3RhbmNlW3R5cGVdIHx8IENvbXBvbmVudFt0eXBlXSwgbmFtZSkgfHxcbiAgICAgICAgICAgIC8vIGdsb2JhbCByZWdpc3RyYXRpb25cbiAgICAgICAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSk7XG4gICAgICAgIGlmICghcmVzICYmIG1heWJlU2VsZlJlZmVyZW5jZSkge1xuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdG8gaW1wbGljaXQgc2VsZi1yZWZlcmVuY2VcbiAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuTWlzc2luZyAmJiAhcmVzKSB7XG4gICAgICAgICAgICBjb25zdCBleHRyYSA9IHR5cGUgPT09IENPTVBPTkVOVFNcbiAgICAgICAgICAgICAgICA/IGBcXG5JZiB0aGlzIGlzIGEgbmF0aXZlIGN1c3RvbSBlbGVtZW50LCBtYWtlIHN1cmUgdG8gZXhjbHVkZSBpdCBmcm9tIGAgK1xuICAgICAgICAgICAgICAgICAgICBgY29tcG9uZW50IHJlc29sdXRpb24gdmlhIGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnQuYFxuICAgICAgICAgICAgICAgIDogYGA7XG4gICAgICAgICAgICB3YXJuJDEoYEZhaWxlZCB0byByZXNvbHZlICR7dHlwZS5zbGljZSgwLCAtMSl9OiAke25hbWV9JHtleHRyYX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybiQxKGByZXNvbHZlJHtjYXBpdGFsaXplKHR5cGUuc2xpY2UoMCwgLTEpKX0gYCArXG4gICAgICAgICAgICBgY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcbiAgICByZXR1cm4gKHJlZ2lzdHJ5ICYmXG4gICAgICAgIChyZWdpc3RyeVtuYW1lXSB8fFxuICAgICAgICAgICAgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8XG4gICAgICAgICAgICByZWdpc3RyeVtjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKV0pKTtcbn1cblxuZnVuY3Rpb24gY29udmVydExlZ2FjeVJlbmRlckZuKGluc3RhbmNlKSB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgICBjb25zdCByZW5kZXIgPSBDb21wb25lbnQucmVuZGVyO1xuICAgIC8vIHYzIHJ1bnRpbWUgY29tcGlsZWQsIG9yIGFscmVhZHkgY2hlY2tlZCAvIHdyYXBwZWRcbiAgICBpZiAoIXJlbmRlciB8fCByZW5kZXIuX3JjIHx8IHJlbmRlci5fY29tcGF0Q2hlY2tlZCB8fCByZW5kZXIuX2NvbXBhdFdyYXBwZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocmVuZGVyLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIC8vIHYzIHByZS1jb21waWxlZCBmdW5jdGlvbiwgc2luY2UgdjIgcmVuZGVyIGZ1bmN0aW9ucyBuZXZlciBuZWVkIG1vcmUgdGhhblxuICAgICAgICAvLyAyIGFyZ3VtZW50cywgYW5kIHYyIGZ1bmN0aW9uYWwgcmVuZGVyIGZ1bmN0aW9ucyB3b3VsZCBoYXZlIGFscmVhZHkgYmVlblxuICAgICAgICAvLyBub3JtYWxpemVkIGludG8gdjMgZnVuY3Rpb25hbCBjb21wb25lbnRzXG4gICAgICAgIHJlbmRlci5fY29tcGF0Q2hlY2tlZCA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gdjIgcmVuZGVyIGZ1bmN0aW9uLCB0cnkgdG8gcHJvdmlkZSBjb21wYXRcbiAgICBpZiAoY2hlY2tDb21wYXRFbmFibGVkKFwiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi8sIGluc3RhbmNlKSkge1xuICAgICAgICBjb25zdCB3cmFwcGVkID0gKENvbXBvbmVudC5yZW5kZXIgPSBmdW5jdGlvbiBjb21wYXRSZW5kZXIoKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyLmNhbGwodGhpcywgY29tcGF0SCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHdyYXBwZWQuX2NvbXBhdFdyYXBwZWQgPSB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbXBhdEgodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbikge1xuICAgIGlmICghdHlwZSkge1xuICAgICAgICB0eXBlID0gQ29tbWVudDtcbiAgICB9XG4gICAgLy8gdG8gc3VwcG9ydCB2MiBzdHJpbmcgY29tcG9uZW50IG5hbWUgbG9vayF1cFxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgdCA9IGh5cGhlbmF0ZSh0eXBlKTtcbiAgICAgICAgaWYgKHQgPT09ICd0cmFuc2l0aW9uJyB8fCB0ID09PSAndHJhbnNpdGlvbi1ncm91cCcgfHwgdCA9PT0gJ2tlZXAtYWxpdmUnKSB7XG4gICAgICAgICAgICAvLyBzaW5jZSB0cmFuc2l0aW9uIGFuZCB0cmFuc2l0aW9uLWdyb3VwIGFyZSBydW50aW1lLWRvbS1zcGVjaWZpYyxcbiAgICAgICAgICAgIC8vIHdlIGNhbm5vdCBpbXBvcnQgdGhlbSBkaXJlY3RseSBoZXJlLiBJbnN0ZWFkIHRoZXkgYXJlIHJlZ2lzdGVyZWQgdXNpbmdcbiAgICAgICAgICAgIC8vIHNwZWNpYWwga2V5cyBpbiBAdnVlL2NvbXBhdCBlbnRyeS5cbiAgICAgICAgICAgIHR5cGUgPSBgX19jb21wYXRfXyR7dH1gO1xuICAgICAgICB9XG4gICAgICAgIHR5cGUgPSByZXNvbHZlRHluYW1pY0NvbXBvbmVudCh0eXBlKTtcbiAgICB9XG4gICAgY29uc3QgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgY29uc3QgaXMybmRBcmdBcnJheUNoaWxkcmVuID0gaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pO1xuICAgIGlmIChsID09PSAyIHx8IGlzMm5kQXJnQXJyYXlDaGlsZHJlbikge1xuICAgICAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXMybmRBcmdBcnJheUNoaWxkcmVuKSB7XG4gICAgICAgICAgICAvLyBzaW5nbGUgdm5vZGUgd2l0aG91dCBwcm9wc1xuICAgICAgICAgICAgaWYgKGlzVk5vZGUocHJvcHNPckNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb252ZXJ0TGVnYWN5U2xvdHMoY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgW3Byb3BzT3JDaGlsZHJlbl0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByb3BzIHdpdGhvdXQgY2hpbGRyZW5cbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0TGVnYWN5U2xvdHMoY29udmVydExlZ2FjeURpcmVjdGl2ZXMoY3JlYXRlVk5vZGUodHlwZSwgY29udmVydExlZ2FjeVByb3BzKHByb3BzT3JDaGlsZHJlbiwgdHlwZSkpLCBwcm9wc09yQ2hpbGRyZW4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG9taXQgcHJvcHNcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0TGVnYWN5U2xvdHMoY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpc1ZOb2RlKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb252ZXJ0TGVnYWN5U2xvdHMoY29udmVydExlZ2FjeURpcmVjdGl2ZXMoY3JlYXRlVk5vZGUodHlwZSwgY29udmVydExlZ2FjeVByb3BzKHByb3BzT3JDaGlsZHJlbiwgdHlwZSksIGNoaWxkcmVuKSwgcHJvcHNPckNoaWxkcmVuKSk7XG4gICAgfVxufVxuY29uc3Qgc2tpcExlZ2FjeVJvb3RMZXZlbFByb3BzID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdzdGF0aWNTdHlsZSxzdGF0aWNDbGFzcyxkaXJlY3RpdmVzLG1vZGVsLGhvb2snKTtcbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lQcm9wcyhsZWdhY3lQcm9wcywgdHlwZSkge1xuICAgIGlmICghbGVnYWN5UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGNvbnZlcnRlZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGxlZ2FjeVByb3BzKSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdhdHRycycgfHwga2V5ID09PSAnZG9tUHJvcHMnIHx8IGtleSA9PT0gJ3Byb3BzJykge1xuICAgICAgICAgICAgZXh0ZW5kKGNvbnZlcnRlZCwgbGVnYWN5UHJvcHNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnb24nIHx8IGtleSA9PT0gJ25hdGl2ZU9uJykge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gbGVnYWN5UHJvcHNba2V5XTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgaW4gbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGhhbmRsZXJLZXkgPSBjb252ZXJ0TGVnYWN5RXZlbnRLZXkoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICduYXRpdmVPbicpXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXJLZXkgKz0gYE5hdGl2ZWA7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBjb252ZXJ0ZWRbaGFuZGxlcktleV07XG4gICAgICAgICAgICAgICAgY29uc3QgaW5jb21pbmcgPSBsaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyAhPT0gaW5jb21pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWRbaGFuZGxlcktleV0gPSBbXS5jb25jYXQoZXhpc3RpbmcsIGluY29taW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZFtoYW5kbGVyS2V5XSA9IGluY29taW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFza2lwTGVnYWN5Um9vdExldmVsUHJvcHMoa2V5KSkge1xuICAgICAgICAgICAgY29udmVydGVkW2tleV0gPSBsZWdhY3lQcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChsZWdhY3lQcm9wcy5zdGF0aWNDbGFzcykge1xuICAgICAgICBjb252ZXJ0ZWQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbbGVnYWN5UHJvcHMuc3RhdGljQ2xhc3MsIGNvbnZlcnRlZC5jbGFzc10pO1xuICAgIH1cbiAgICBpZiAobGVnYWN5UHJvcHMuc3RhdGljU3R5bGUpIHtcbiAgICAgICAgY29udmVydGVkLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW2xlZ2FjeVByb3BzLnN0YXRpY1N0eWxlLCBjb252ZXJ0ZWQuc3R5bGVdKTtcbiAgICB9XG4gICAgaWYgKGxlZ2FjeVByb3BzLm1vZGVsICYmIGlzT2JqZWN0KHR5cGUpKSB7XG4gICAgICAgIC8vIHYyIGNvbXBpbGVkIGNvbXBvbmVudCB2LW1vZGVsXG4gICAgICAgIGNvbnN0IHsgcHJvcCA9ICd2YWx1ZScsIGV2ZW50ID0gJ2lucHV0JyB9ID0gdHlwZS5tb2RlbCB8fCB7fTtcbiAgICAgICAgY29udmVydGVkW3Byb3BdID0gbGVnYWN5UHJvcHMubW9kZWwudmFsdWU7XG4gICAgICAgIGNvbnZlcnRlZFtjb21wYXRNb2RlbEV2ZW50UHJlZml4ICsgZXZlbnRdID0gbGVnYWN5UHJvcHMubW9kZWwuY2FsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBjb252ZXJ0ZWQ7XG59XG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5RXZlbnRLZXkoZXZlbnQpIHtcbiAgICAvLyBub3JtYWxpemUgdjIgZXZlbnQgcHJlZml4ZXNcbiAgICBpZiAoZXZlbnRbMF0gPT09ICcmJykge1xuICAgICAgICBldmVudCA9IGV2ZW50LnNsaWNlKDEpICsgJ1Bhc3NpdmUnO1xuICAgIH1cbiAgICBpZiAoZXZlbnRbMF0gPT09ICd+Jykge1xuICAgICAgICBldmVudCA9IGV2ZW50LnNsaWNlKDEpICsgJ09uY2UnO1xuICAgIH1cbiAgICBpZiAoZXZlbnRbMF0gPT09ICchJykge1xuICAgICAgICBldmVudCA9IGV2ZW50LnNsaWNlKDEpICsgJ0NhcHR1cmUnO1xuICAgIH1cbiAgICByZXR1cm4gdG9IYW5kbGVyS2V5KGV2ZW50KTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lEaXJlY3RpdmVzKHZub2RlLCBwcm9wcykge1xuICAgIGlmIChwcm9wcyAmJiBwcm9wcy5kaXJlY3RpdmVzKSB7XG4gICAgICAgIHJldHVybiB3aXRoRGlyZWN0aXZlcyh2bm9kZSwgcHJvcHMuZGlyZWN0aXZlcy5tYXAoKHsgbmFtZSwgdmFsdWUsIGFyZywgbW9kaWZpZXJzIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgcmVzb2x2ZURpcmVjdGl2ZShuYW1lKSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICBhcmcsXG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzXG4gICAgICAgICAgICBdO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lTbG90cyh2bm9kZSkge1xuICAgIGNvbnN0IHsgcHJvcHMsIGNoaWxkcmVuIH0gPSB2bm9kZTtcbiAgICBsZXQgc2xvdHM7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8gJiYgaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgc2xvdHMgPSB7fTtcbiAgICAgICAgLy8gY2hlY2sgXCJzbG90XCIgcHJvcGVydHkgb24gdm5vZGVzIGFuZCB0dXJuIHRoZW0gaW50byB2MyBmdW5jdGlvbiBzbG90c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY29uc3Qgc2xvdE5hbWUgPSAoaXNWTm9kZShjaGlsZCkgJiYgY2hpbGQucHJvcHMgJiYgY2hpbGQucHJvcHMuc2xvdCkgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHNsb3RzW3Nsb3ROYW1lXSB8fCAoc2xvdHNbc2xvdE5hbWVdID0gW10pO1xuICAgICAgICAgICAgaWYgKGlzVk5vZGUoY2hpbGQpICYmIGNoaWxkLnR5cGUgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgICAgICAgICBzbG90LnB1c2goY2hpbGQuY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2xvdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2xvdHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvdENoaWxkcmVuID0gc2xvdHNba2V5XTtcbiAgICAgICAgICAgICAgICBzbG90c1trZXldID0gKCkgPT4gc2xvdENoaWxkcmVuO1xuICAgICAgICAgICAgICAgIHNsb3RzW2tleV0uX25zID0gdHJ1ZTsgLyogbm9uLXNjb3BlZCBzbG90ICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2NvcGVkU2xvdHMgPSBwcm9wcyAmJiBwcm9wcy5zY29wZWRTbG90cztcbiAgICBpZiAoc2NvcGVkU2xvdHMpIHtcbiAgICAgICAgZGVsZXRlIHByb3BzLnNjb3BlZFNsb3RzO1xuICAgICAgICBpZiAoc2xvdHMpIHtcbiAgICAgICAgICAgIGV4dGVuZChzbG90cywgc2NvcGVkU2xvdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2xvdHMgPSBzY29wZWRTbG90cztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2xvdHMpIHtcbiAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIHNsb3RzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gZGVmaW5lTGVnYWN5Vk5vZGVQcm9wZXJ0aWVzKHZub2RlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHRydWUgLyogZW5hYmxlIGZvciBidWlsdC1pbnMgKi8pICYmXG4gICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIlBSSVZBVEVfQVBJU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuUFJJVkFURV9BUElTICovLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHRydWUgLyogZW5hYmxlIGZvciBidWlsdC1pbnMgKi8pKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IGdldEluc3RhbmNlID0gKCkgPT4gdm5vZGUuY29tcG9uZW50ICYmIHZub2RlLmNvbXBvbmVudC5wcm94eTtcbiAgICAgICAgbGV0IGNvbXBvbmVudE9wdGlvbnM7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHZub2RlLCB7XG4gICAgICAgICAgICB0YWc6IHsgZ2V0OiAoKSA9PiB2bm9kZS50eXBlIH0sXG4gICAgICAgICAgICBkYXRhOiB7IGdldDogKCkgPT4gdm5vZGUucHJvcHMgfHwge30sIHNldDogcCA9PiAodm5vZGUucHJvcHMgPSBwKSB9LFxuICAgICAgICAgICAgZWxtOiB7IGdldDogKCkgPT4gdm5vZGUuZWwgfSxcbiAgICAgICAgICAgIGNvbXBvbmVudEluc3RhbmNlOiB7IGdldDogZ2V0SW5zdGFuY2UgfSxcbiAgICAgICAgICAgIGNoaWxkOiB7IGdldDogZ2V0SW5zdGFuY2UgfSxcbiAgICAgICAgICAgIHRleHQ6IHsgZ2V0OiAoKSA9PiAoaXNTdHJpbmcodm5vZGUuY2hpbGRyZW4pID8gdm5vZGUuY2hpbGRyZW4gOiBudWxsKSB9LFxuICAgICAgICAgICAgY29udGV4dDogeyBnZXQ6ICgpID0+IGNvbnRleHQgJiYgY29udGV4dC5wcm94eSB9LFxuICAgICAgICAgICAgY29tcG9uZW50T3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50T3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY29tcG9uZW50T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdG9yOiB2bm9kZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzRGF0YTogdm5vZGUucHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IHZub2RlLmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jb25zdCBub3JtYWxpemVkRnVuY3Rpb25hbENvbXBvbmVudE1hcCA9IG5ldyBNYXAoKTtcbmNvbnN0IGxlZ2FjeVNsb3RQcm94eUhhbmRsZXJzID0ge1xuICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICBjb25zdCBzbG90ID0gdGFyZ2V0W2tleV07XG4gICAgICAgIHJldHVybiBzbG90ICYmIHNsb3QoKTtcbiAgICB9XG59O1xuZnVuY3Rpb24gY29udmVydExlZ2FjeUZ1bmN0aW9uYWxDb21wb25lbnQoY29tcCkge1xuICAgIGlmIChub3JtYWxpemVkRnVuY3Rpb25hbENvbXBvbmVudE1hcC5oYXMoY29tcCkpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRGdW5jdGlvbmFsQ29tcG9uZW50TWFwLmdldChjb21wKTtcbiAgICB9XG4gICAgY29uc3QgbGVnYWN5Rm4gPSBjb21wLnJlbmRlcjtcbiAgICBjb25zdCBGdW5jID0gKHByb3BzLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgY29uc3QgbGVnYWN5Q3R4ID0ge1xuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICBjaGlsZHJlbjogaW5zdGFuY2Uudm5vZGUuY2hpbGRyZW4gfHwgW10sXG4gICAgICAgICAgICBkYXRhOiBpbnN0YW5jZS52bm9kZS5wcm9wcyB8fCB7fSxcbiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiBjdHguc2xvdHMsXG4gICAgICAgICAgICBwYXJlbnQ6IGluc3RhbmNlLnBhcmVudCAmJiBpbnN0YW5jZS5wYXJlbnQucHJveHksXG4gICAgICAgICAgICBzbG90cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KGN0eC5zbG90cywgbGVnYWN5U2xvdFByb3h5SGFuZGxlcnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBsaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBhdExpc3RlbmVycyhpbnN0YW5jZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGluamVjdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXAuaW5qZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUluamVjdGlvbnMoY29tcC5pbmplY3QsIGluamVjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbGVnYWN5Rm4oY29tcGF0SCwgbGVnYWN5Q3R4KTtcbiAgICB9O1xuICAgIEZ1bmMucHJvcHMgPSBjb21wLnByb3BzO1xuICAgIEZ1bmMuZGlzcGxheU5hbWUgPSBjb21wLm5hbWU7XG4gICAgRnVuYy5jb21wYXRDb25maWcgPSBjb21wLmNvbXBhdENvbmZpZztcbiAgICAvLyB2MiBmdW5jdGlvbmFsIGNvbXBvbmVudHMgZG8gbm90IGluaGVyaXQgYXR0cnNcbiAgICBGdW5jLmluaGVyaXRBdHRycyA9IGZhbHNlO1xuICAgIG5vcm1hbGl6ZWRGdW5jdGlvbmFsQ29tcG9uZW50TWFwLnNldChjb21wLCBGdW5jKTtcbiAgICByZXR1cm4gRnVuYztcbn1cblxuLyoqXG4gKiBBY3R1YWwgaW1wbGVtZW50YXRpb25cbiAqL1xuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0sIGNhY2hlLCBpbmRleCkge1xuICAgIGxldCByZXQ7XG4gICAgY29uc3QgY2FjaGVkID0gKGNhY2hlICYmIGNhY2hlW2luZGV4XSk7XG4gICAgaWYgKGlzQXJyYXkoc291cmNlKSB8fCBpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgICAgIHJldCA9IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKHNvdXJjZVtpXSwgaSwgdW5kZWZpbmVkLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFOdW1iZXIuaXNJbnRlZ2VyKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHdhcm4kMShgVGhlIHYtZm9yIHJhbmdlIGV4cGVjdCBhbiBpbnRlZ2VyIHZhbHVlIGJ1dCBnb3QgJHtzb3VyY2V9LmApO1xuICAgICAgICB9XG4gICAgICAgIHJldCA9IG5ldyBBcnJheShzb3VyY2UpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZTsgaSsrKSB7XG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKGkgKyAxLCBpLCB1bmRlZmluZWQsIGNhY2hlZCAmJiBjYWNoZWRbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgICAgaWYgKHNvdXJjZVtTeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICAgICAgICByZXQgPSBBcnJheS5mcm9tKHNvdXJjZSwgKGl0ZW0sIGkpID0+IHJlbmRlckl0ZW0oaXRlbSwgaSwgdW5kZWZpbmVkLCBjYWNoZWQgJiYgY2FjaGVkW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgICAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKHNvdXJjZVtrZXldLCBrZXksIGksIGNhY2hlZCAmJiBjYWNoZWRbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXQgPSBbXTtcbiAgICB9XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICAgIGNhY2hlW2luZGV4XSA9IHJldDtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuLyoqXG4gKiBDb21waWxlciBydW50aW1lIGhlbHBlciBmb3IgY3JlYXRpbmcgZHluYW1pYyBzbG90cyBvYmplY3RcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNsb3RzKHNsb3RzLCBkeW5hbWljU2xvdHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzbG90ID0gZHluYW1pY1Nsb3RzW2ldO1xuICAgICAgICAvLyBhcnJheSBvZiBkeW5hbWljIHNsb3QgZ2VuZXJhdGVkIGJ5IDx0ZW1wbGF0ZSB2LWZvcj1cIi4uLlwiICNbLi4uXT5cbiAgICAgICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2xvdC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgIC8vIGNvbmRpdGlvbmFsIHNpbmdsZSBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1pZj1cIi4uLlwiICNmb28+XG4gICAgICAgICAgICBzbG90c1tzbG90Lm5hbWVdID0gc2xvdC5rZXlcbiAgICAgICAgICAgICAgICA/ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IHNsb3QuZm4oLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dGFjaCBicmFuY2gga2V5IHNvIGVhY2ggY29uZGl0aW9uYWwgYnJhbmNoIGlzIGNvbnNpZGVyZWQgYVxuICAgICAgICAgICAgICAgICAgICAvLyBkaWZmZXJlbnQgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5rZXkgPSBzbG90LmtleTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBzbG90LmZuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzbG90cztcbn1cblxuLyoqXG4gKiBDb21waWxlciBydW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIGA8c2xvdC8+YFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVuZGVyU2xvdChzbG90cywgbmFtZSwgcHJvcHMgPSB7fSwgXG4vLyB0aGlzIGlzIG5vdCBhIHVzZXItZmFjaW5nIGZ1bmN0aW9uLCBzbyB0aGUgZmFsbGJhY2sgaXMgYWx3YXlzIGdlbmVyYXRlZCBieVxuLy8gdGhlIGNvbXBpbGVyIGFuZCBndWFyYW50ZWVkIHRvIGJlIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGFuIGFycmF5XG5mYWxsYmFjaywgbm9TbG90dGVkKSB7XG4gICAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5pc0NFIHx8XG4gICAgICAgIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UucGFyZW50ICYmXG4gICAgICAgICAgICBpc0FzeW5jV3JhcHBlcihjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UucGFyZW50KSAmJlxuICAgICAgICAgICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudC5pc0NFKSkge1xuICAgICAgICBpZiAobmFtZSAhPT0gJ2RlZmF1bHQnKVxuICAgICAgICAgICAgcHJvcHMubmFtZSA9IG5hbWU7XG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSgnc2xvdCcsIHByb3BzLCBmYWxsYmFjayAmJiBmYWxsYmFjaygpKTtcbiAgICB9XG4gICAgbGV0IHNsb3QgPSBzbG90c1tuYW1lXTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNsb3QgJiYgc2xvdC5sZW5ndGggPiAxKSB7XG4gICAgICAgIHdhcm4kMShgU1NSLW9wdGltaXplZCBzbG90IGZ1bmN0aW9uIGRldGVjdGVkIGluIGEgbm9uLVNTUi1vcHRpbWl6ZWQgcmVuZGVyIGAgK1xuICAgICAgICAgICAgYGZ1bmN0aW9uLiBZb3UgbmVlZCB0byBtYXJrIHRoaXMgY29tcG9uZW50IHdpdGggJGR5bmFtaWMtc2xvdHMgaW4gdGhlIGAgK1xuICAgICAgICAgICAgYHBhcmVudCB0ZW1wbGF0ZS5gKTtcbiAgICAgICAgc2xvdCA9ICgpID0+IFtdO1xuICAgIH1cbiAgICAvLyBhIGNvbXBpbGVkIHNsb3QgZGlzYWJsZXMgYmxvY2sgdHJhY2tpbmcgYnkgZGVmYXVsdCB0byBhdm9pZCBtYW51YWxcbiAgICAvLyBpbnZvY2F0aW9uIGludGVyZmVyaW5nIHdpdGggdGVtcGxhdGUtYmFzZWQgYmxvY2sgdHJhY2tpbmcsIGJ1dCBpblxuICAgIC8vIGByZW5kZXJTbG90YCB3ZSBjYW4gYmUgc3VyZSB0aGF0IGl0J3MgdGVtcGxhdGUtYmFzZWQgc28gd2UgY2FuIGZvcmNlXG4gICAgLy8gZW5hYmxlIGl0LlxuICAgIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICAgICAgc2xvdC5fZCA9IGZhbHNlO1xuICAgIH1cbiAgICBvcGVuQmxvY2soKTtcbiAgICBjb25zdCB2YWxpZFNsb3RDb250ZW50ID0gc2xvdCAmJiBlbnN1cmVWYWxpZFZOb2RlKHNsb3QocHJvcHMpKTtcbiAgICBjb25zdCByZW5kZXJlZCA9IGNyZWF0ZUJsb2NrKEZyYWdtZW50LCB7XG4gICAgICAgIGtleTogcHJvcHMua2V5IHx8XG4gICAgICAgICAgICAvLyBzbG90IGNvbnRlbnQgYXJyYXkgb2YgYSBkeW5hbWljIGNvbmRpdGlvbmFsIHNsb3QgbWF5IGhhdmUgYSBicmFuY2hcbiAgICAgICAgICAgIC8vIGtleSBhdHRhY2hlZCBpbiB0aGUgYGNyZWF0ZVNsb3RzYCBoZWxwZXIsIHJlc3BlY3QgdGhhdFxuICAgICAgICAgICAgKHZhbGlkU2xvdENvbnRlbnQgJiYgdmFsaWRTbG90Q29udGVudC5rZXkpIHx8XG4gICAgICAgICAgICBgXyR7bmFtZX1gXG4gICAgfSwgdmFsaWRTbG90Q29udGVudCB8fCAoZmFsbGJhY2sgPyBmYWxsYmFjaygpIDogW10pLCB2YWxpZFNsb3RDb250ZW50ICYmIHNsb3RzLl8gPT09IDEgLyogU2xvdEZsYWdzLlNUQUJMRSAqL1xuICAgICAgICA/IDY0IC8qIFBhdGNoRmxhZ3MuU1RBQkxFX0ZSQUdNRU5UICovXG4gICAgICAgIDogLTIgLyogUGF0Y2hGbGFncy5CQUlMICovKTtcbiAgICBpZiAoIW5vU2xvdHRlZCAmJiByZW5kZXJlZC5zY29wZUlkKSB7XG4gICAgICAgIHJlbmRlcmVkLnNsb3RTY29wZUlkcyA9IFtyZW5kZXJlZC5zY29wZUlkICsgJy1zJ107XG4gICAgfVxuICAgIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICAgICAgc2xvdC5fZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJlZDtcbn1cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkVk5vZGUodm5vZGVzKSB7XG4gICAgcmV0dXJuIHZub2Rlcy5zb21lKGNoaWxkID0+IHtcbiAgICAgICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IEZyYWdtZW50ICYmXG4gICAgICAgICAgICAhZW5zdXJlVmFsaWRWTm9kZShjaGlsZC5jaGlsZHJlbikpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pXG4gICAgICAgID8gdm5vZGVzXG4gICAgICAgIDogbnVsbDtcbn1cblxuLyoqXG4gKiBGb3IgcHJlZml4aW5nIGtleXMgaW4gdi1vbj1cIm9ialwiIHdpdGggXCJvblwiXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0b0hhbmRsZXJzKG9iaiwgcHJlc2VydmVDYXNlSWZOZWNlc3NhcnkpIHtcbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc09iamVjdChvYmopKSB7XG4gICAgICAgIHdhcm4kMShgdi1vbiB3aXRoIG5vIGFyZ3VtZW50IGV4cGVjdHMgYW4gb2JqZWN0IHZhbHVlLmApO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgcmV0W3ByZXNlcnZlQ2FzZUlmTmVjZXNzYXJ5ICYmIC9bQS1aXS8udGVzdChrZXkpXG4gICAgICAgICAgICA/IGBvbjoke2tleX1gXG4gICAgICAgICAgICA6IHRvSGFuZGxlcktleShrZXkpXSA9IG9ialtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiB0b09iamVjdChhcnIpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJyW2ldKSB7XG4gICAgICAgICAgICBleHRlbmQocmVzLCBhcnJbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBsZWdhY3lCaW5kT2JqZWN0UHJvcHMoZGF0YSwgX3RhZywgdmFsdWUsIF9hc1Byb3AsIGlzU3luYykge1xuICAgIGlmICh2YWx1ZSAmJiBpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRvT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtkYXRhLmNsYXNzLCB2YWx1ZS5jbGFzc10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5zdHlsZSA9IG5vcm1hbGl6ZUNsYXNzKFtkYXRhLnN0eWxlLCB2YWx1ZS5zdHlsZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBkYXRhLmF0dHJzIHx8IChkYXRhLmF0dHJzID0ge30pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaHlwaGVuYXRlZEtleSA9IGh5cGhlbmF0ZShrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghKGNhbWVsaXplZEtleSBpbiBhdHRycykgJiYgIShoeXBoZW5hdGVkS2V5IGluIGF0dHJzKSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb24gPSBkYXRhLm9uIHx8IChkYXRhLm9uID0ge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25bYHVwZGF0ZToke2tleX1gXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtrZXldID0gJGV2ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIGxlZ2FjeUJpbmRPYmplY3RMaXN0ZW5lcnMocHJvcHMsIGxpc3RlbmVycykge1xuICAgIHJldHVybiBtZXJnZVByb3BzKHByb3BzLCB0b0hhbmRsZXJzKGxpc3RlbmVycykpO1xufVxuZnVuY3Rpb24gbGVnYWN5UmVuZGVyU2xvdChpbnN0YW5jZSwgbmFtZSwgZmFsbGJhY2ssIHByb3BzLCBiaW5kT2JqZWN0KSB7XG4gICAgaWYgKGJpbmRPYmplY3QpIHtcbiAgICAgICAgcHJvcHMgPSBtZXJnZVByb3BzKHByb3BzLCBiaW5kT2JqZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlclNsb3QoaW5zdGFuY2Uuc2xvdHMsIG5hbWUsIHByb3BzLCBmYWxsYmFjayAmJiAoKCkgPT4gZmFsbGJhY2spKTtcbn1cbmZ1bmN0aW9uIGxlZ2FjeXJlc29sdmVTY29wZWRTbG90cyhmbnMsIHJhdywgXG4vLyB0aGUgZm9sbG93aW5nIGFyZSBhZGRlZCBpbiAyLjZcbmhhc0R5bmFtaWNLZXlzKSB7XG4gICAgLy8gdjIgZGVmYXVsdCBzbG90IGRvZXNuJ3QgaGF2ZSBuYW1lXG4gICAgcmV0dXJuIGNyZWF0ZVNsb3RzKHJhdyB8fCB7ICRzdGFibGU6ICFoYXNEeW5hbWljS2V5cyB9LCBtYXBLZXlUb05hbWUoZm5zKSk7XG59XG5mdW5jdGlvbiBtYXBLZXlUb05hbWUoc2xvdHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZuID0gc2xvdHNbaV07XG4gICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICAgICAgICAgICAgbWFwS2V5VG9OYW1lKGZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZuLm5hbWUgPSBmbi5rZXkgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzbG90cztcbn1cbmNvbnN0IHN0YXRpY0NhY2hlTWFwID0gLyojX19QVVJFX18qLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gbGVnYWN5UmVuZGVyU3RhdGljKGluc3RhbmNlLCBpbmRleCkge1xuICAgIGxldCBjYWNoZSA9IHN0YXRpY0NhY2hlTWFwLmdldChpbnN0YW5jZSk7XG4gICAgaWYgKCFjYWNoZSkge1xuICAgICAgICBzdGF0aWNDYWNoZU1hcC5zZXQoaW5zdGFuY2UsIChjYWNoZSA9IFtdKSk7XG4gICAgfVxuICAgIGlmIChjYWNoZVtpbmRleF0pIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XTtcbiAgICB9XG4gICAgY29uc3QgZm4gPSBpbnN0YW5jZS50eXBlLnN0YXRpY1JlbmRlckZuc1tpbmRleF07XG4gICAgY29uc3QgY3R4ID0gaW5zdGFuY2UucHJveHk7XG4gICAgcmV0dXJuIChjYWNoZVtpbmRleF0gPSBmbi5jYWxsKGN0eCwgbnVsbCwgY3R4KSk7XG59XG5mdW5jdGlvbiBsZWdhY3lDaGVja0tleUNvZGVzKGluc3RhbmNlLCBldmVudEtleUNvZGUsIGtleSwgYnVpbHRJbktleUNvZGUsIGV2ZW50S2V5TmFtZSwgYnVpbHRJbktleU5hbWUpIHtcbiAgICBjb25zdCBjb25maWcgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZztcbiAgICBjb25zdCBjb25maWdLZXlDb2RlcyA9IGNvbmZpZy5rZXlDb2RlcyB8fCB7fTtcbiAgICBjb25zdCBtYXBwZWRLZXlDb2RlID0gY29uZmlnS2V5Q29kZXNba2V5XSB8fCBidWlsdEluS2V5Q29kZTtcbiAgICBpZiAoYnVpbHRJbktleU5hbWUgJiYgZXZlbnRLZXlOYW1lICYmICFjb25maWdLZXlDb2Rlc1trZXldKSB7XG4gICAgICAgIHJldHVybiBpc0tleU5vdE1hdGNoKGJ1aWx0SW5LZXlOYW1lLCBldmVudEtleU5hbWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXBwZWRLZXlDb2RlKSB7XG4gICAgICAgIHJldHVybiBpc0tleU5vdE1hdGNoKG1hcHBlZEtleUNvZGUsIGV2ZW50S2V5Q29kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50S2V5TmFtZSkge1xuICAgICAgICByZXR1cm4gaHlwaGVuYXRlKGV2ZW50S2V5TmFtZSkgIT09IGtleTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0tleU5vdE1hdGNoKGV4cGVjdCwgYWN0dWFsKSB7XG4gICAgaWYgKGlzQXJyYXkoZXhwZWN0KSkge1xuICAgICAgICByZXR1cm4gIWV4cGVjdC5pbmNsdWRlcyhhY3R1YWwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdCAhPT0gYWN0dWFsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxlZ2FjeU1hcmtPbmNlKHRyZWUpIHtcbiAgICByZXR1cm4gdHJlZTtcbn1cbmZ1bmN0aW9uIGxlZ2FjeUJpbmREeW5hbWljS2V5cyhwcm9wcywgdmFsdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdmFsdWVzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5KSB7XG4gICAgICAgICAgICBwcm9wc1t2YWx1ZXNbaV1dID0gdmFsdWVzW2kgKyAxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBsZWdhY3lQcmVwZW5kTW9kaWZpZXIodmFsdWUsIHN5bWJvbCkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gc3ltYm9sICsgdmFsdWUgOiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gaW5zdGFsbENvbXBhdEluc3RhbmNlUHJvcGVydGllcyhtYXApIHtcbiAgICBjb25zdCBzZXQgPSAodGFyZ2V0LCBrZXksIHZhbCkgPT4ge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHZhbDtcbiAgICB9O1xuICAgIGNvbnN0IGRlbCA9ICh0YXJnZXQsIGtleSkgPT4ge1xuICAgICAgICBkZWxldGUgdGFyZ2V0W2tleV07XG4gICAgfTtcbiAgICBleHRlbmQobWFwLCB7XG4gICAgICAgICRzZXQ6IGkgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX1NFVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfU0VUICovLCBpKTtcbiAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgICRkZWxldGU6IGkgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0RFTEVURVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfREVMRVRFICovLCBpKTtcbiAgICAgICAgICAgIHJldHVybiBkZWw7XG4gICAgICAgIH0sXG4gICAgICAgICRtb3VudDogaSA9PiB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiR0xPQkFMX01PVU5UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfTU9VTlQgKi8sIG51bGwgLyogdGhpcyB3YXJuaW5nIGlzIGdsb2JhbCAqLyk7XG4gICAgICAgICAgICAvLyByb290IG1vdW50IG92ZXJyaWRlIGZyb20gLi9nbG9iYWwudHMgaW4gaW5zdGFsbENvbXBhdE1vdW50XG4gICAgICAgICAgICByZXR1cm4gaS5jdHguX2NvbXBhdF9tb3VudCB8fCBOT09QO1xuICAgICAgICB9LFxuICAgICAgICAkZGVzdHJveTogaSA9PiB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfREVTVFJPWVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfREVTVFJPWSAqLywgaSk7XG4gICAgICAgICAgICAvLyByb290IGRlc3Ryb3kgb3ZlcnJpZGUgZnJvbSAuL2dsb2JhbC50cyBpbiBpbnN0YWxsQ29tcGF0TW91bnRcbiAgICAgICAgICAgIHJldHVybiBpLmN0eC5fY29tcGF0X2Rlc3Ryb3kgfHwgTk9PUDtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gb3ZlcnJpZGVzIGV4aXN0aW5nIGFjY2Vzc29yXG4gICAgICAgICRzbG90czogaSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi8sIGkpICYmXG4gICAgICAgICAgICAgICAgaS5yZW5kZXIgJiZcbiAgICAgICAgICAgICAgICBpLnJlbmRlci5fY29tcGF0V3JhcHBlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkoaS5zbG90cywgbGVnYWN5U2xvdFByb3h5SGFuZGxlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHM7XG4gICAgICAgIH0sXG4gICAgICAgICRzY29wZWRTbG90czogaSA9PiB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfU0NPUEVEX1NMT1RTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9TQ09QRURfU0xPVFMgKi8sIGkpO1xuICAgICAgICAgICAgY29uc3QgcmVzID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpLnNsb3RzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm4gPSBpLnNsb3RzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKCFmbi5fbnMgLyogbm9uLXNjb3BlZCBzbG90ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1trZXldID0gZm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSxcbiAgICAgICAgJG9uOiBpID0+IG9uLmJpbmQobnVsbCwgaSksXG4gICAgICAgICRvbmNlOiBpID0+IG9uY2UuYmluZChudWxsLCBpKSxcbiAgICAgICAgJG9mZjogaSA9PiBvZmYuYmluZChudWxsLCBpKSxcbiAgICAgICAgJGNoaWxkcmVuOiBnZXRDb21wYXRDaGlsZHJlbixcbiAgICAgICAgJGxpc3RlbmVyczogZ2V0Q29tcGF0TGlzdGVuZXJzXG4gICAgfSk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIlBSSVZBVEVfQVBJU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuUFJJVkFURV9BUElTICovLCBudWxsKSkge1xuICAgICAgICBleHRlbmQobWFwLCB7XG4gICAgICAgICAgICAvLyBuZWVkZWQgYnkgbWFueSBsaWJzIC8gcmVuZGVyIGZuc1xuICAgICAgICAgICAgJHZub2RlOiBpID0+IGkudm5vZGUsXG4gICAgICAgICAgICAvLyBpbmplY3QgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGludG8gJG9wdGlvbnMgZm9yIGNvbXBhdFxuICAgICAgICAgICAgLy8gZS5nLiB2dWV4IG5lZWRzIHRoaXMuJG9wdGlvbnMucGFyZW50XG4gICAgICAgICAgICAkb3B0aW9uczogaSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gZXh0ZW5kKHt9LCByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpKSk7XG4gICAgICAgICAgICAgICAgcmVzLnBhcmVudCA9IGkucHJveHkuJHBhcmVudDtcbiAgICAgICAgICAgICAgICByZXMucHJvcHNEYXRhID0gaS52bm9kZS5wcm9wcztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHNvbWUgcHJpdmF0ZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIGxpa2VseSBhY2Nlc3NlZC4uLlxuICAgICAgICAgICAgX3NlbGY6IGkgPT4gaS5wcm94eSxcbiAgICAgICAgICAgIF91aWQ6IGkgPT4gaS51aWQsXG4gICAgICAgICAgICBfZGF0YTogaSA9PiBpLmRhdGEsXG4gICAgICAgICAgICBfaXNNb3VudGVkOiBpID0+IGkuaXNNb3VudGVkLFxuICAgICAgICAgICAgX2lzRGVzdHJveWVkOiBpID0+IGkuaXNVbm1vdW50ZWQsXG4gICAgICAgICAgICAvLyB2MiByZW5kZXIgaGVscGVyc1xuICAgICAgICAgICAgJGNyZWF0ZUVsZW1lbnQ6ICgpID0+IGNvbXBhdEgsXG4gICAgICAgICAgICBfYzogKCkgPT4gY29tcGF0SCxcbiAgICAgICAgICAgIF9vOiAoKSA9PiBsZWdhY3lNYXJrT25jZSxcbiAgICAgICAgICAgIF9uOiAoKSA9PiB0b051bWJlcixcbiAgICAgICAgICAgIF9zOiAoKSA9PiB0b0Rpc3BsYXlTdHJpbmcsXG4gICAgICAgICAgICBfbDogKCkgPT4gcmVuZGVyTGlzdCxcbiAgICAgICAgICAgIF90OiBpID0+IGxlZ2FjeVJlbmRlclNsb3QuYmluZChudWxsLCBpKSxcbiAgICAgICAgICAgIF9xOiAoKSA9PiBsb29zZUVxdWFsLFxuICAgICAgICAgICAgX2k6ICgpID0+IGxvb3NlSW5kZXhPZixcbiAgICAgICAgICAgIF9tOiBpID0+IGxlZ2FjeVJlbmRlclN0YXRpYy5iaW5kKG51bGwsIGkpLFxuICAgICAgICAgICAgX2Y6ICgpID0+IHJlc29sdmVGaWx0ZXIsXG4gICAgICAgICAgICBfazogaSA9PiBsZWdhY3lDaGVja0tleUNvZGVzLmJpbmQobnVsbCwgaSksXG4gICAgICAgICAgICBfYjogKCkgPT4gbGVnYWN5QmluZE9iamVjdFByb3BzLFxuICAgICAgICAgICAgX3Y6ICgpID0+IGNyZWF0ZVRleHRWTm9kZSxcbiAgICAgICAgICAgIF9lOiAoKSA9PiBjcmVhdGVDb21tZW50Vk5vZGUsXG4gICAgICAgICAgICBfdTogKCkgPT4gbGVnYWN5cmVzb2x2ZVNjb3BlZFNsb3RzLFxuICAgICAgICAgICAgX2c6ICgpID0+IGxlZ2FjeUJpbmRPYmplY3RMaXN0ZW5lcnMsXG4gICAgICAgICAgICBfZDogKCkgPT4gbGVnYWN5QmluZER5bmFtaWNLZXlzLFxuICAgICAgICAgICAgX3A6ICgpID0+IGxlZ2FjeVByZXBlbmRNb2RpZmllclxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qKlxuICogIzI0MzcgSW4gVnVlIDMsIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBkbyBub3QgaGF2ZSBhIHB1YmxpYyBpbnN0YW5jZSBwcm94eSBidXRcbiAqIHRoZXkgZXhpc3QgaW4gdGhlIGludGVybmFsIHBhcmVudCBjaGFpbi4gRm9yIGNvZGUgdGhhdCByZWxpZXMgb24gdHJhdmVyc2luZ1xuICogcHVibGljICRwYXJlbnQgY2hhaW5zLCBza2lwIGZ1bmN0aW9uYWwgb25lcyBhbmQgZ28gdG8gdGhlIHBhcmVudCBpbnN0ZWFkLlxuICovXG5jb25zdCBnZXRQdWJsaWNJbnN0YW5jZSA9IChpKSA9PiB7XG4gICAgaWYgKCFpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSlcbiAgICAgICAgcmV0dXJuIGdldEV4cG9zZVByb3h5KGkpIHx8IGkucHJveHk7XG4gICAgcmV0dXJuIGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KTtcbn07XG5jb25zdCBwdWJsaWNQcm9wZXJ0aWVzTWFwID0gXG4vLyBNb3ZlIFBVUkUgbWFya2VyIHRvIG5ldyBsaW5lIHRvIHdvcmthcm91bmQgY29tcGlsZXIgZGlzY2FyZGluZyBpdFxuLy8gZHVlIHRvIHR5cGUgYW5ub3RhdGlvblxuLyojX19QVVJFX18qLyBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICQ6IGkgPT4gaSxcbiAgICAkZWw6IGkgPT4gaS52bm9kZS5lbCxcbiAgICAkZGF0YTogaSA9PiBpLmRhdGEsXG4gICAgJHByb3BzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5wcm9wcykgOiBpLnByb3BzKSxcbiAgICAkYXR0cnM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLmF0dHJzKSA6IGkuYXR0cnMpLFxuICAgICRzbG90czogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuc2xvdHMpIDogaS5zbG90cyksXG4gICAgJHJlZnM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnJlZnMpIDogaS5yZWZzKSxcbiAgICAkcGFyZW50OiBpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KSxcbiAgICAkcm9vdDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnJvb3QpLFxuICAgICRlbWl0OiBpID0+IGkuZW1pdCxcbiAgICAkb3B0aW9uczogaSA9PiAoX19WVUVfT1BUSU9OU19BUElfXyA/IHJlc29sdmVNZXJnZWRPcHRpb25zKGkpIDogaS50eXBlKSxcbiAgICAkZm9yY2VVcGRhdGU6IGkgPT4gaS5mIHx8IChpLmYgPSAoKSA9PiBxdWV1ZUpvYihpLnVwZGF0ZSkpLFxuICAgICRuZXh0VGljazogaSA9PiBpLm4gfHwgKGkubiA9IG5leHRUaWNrLmJpbmQoaS5wcm94eSkpLFxuICAgICR3YXRjaDogaSA9PiAoX19WVUVfT1BUSU9OU19BUElfXyA/IGluc3RhbmNlV2F0Y2guYmluZChpKSA6IE5PT1ApXG59KTtcbntcbiAgICBpbnN0YWxsQ29tcGF0SW5zdGFuY2VQcm9wZXJ0aWVzKHB1YmxpY1Byb3BlcnRpZXNNYXApO1xufVxuY29uc3QgaXNSZXNlcnZlZFByZWZpeCA9IChrZXkpID0+IGtleSA9PT0gJ18nIHx8IGtleSA9PT0gJyQnO1xuY29uc3QgaGFzU2V0dXBCaW5kaW5nID0gKHN0YXRlLCBrZXkpID0+IHN0YXRlICE9PSBFTVBUWV9PQkogJiYgIXN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc3RhdGUsIGtleSk7XG5jb25zdCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSB7XG4gICAgZ2V0KHsgXzogaW5zdGFuY2UgfSwga2V5KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xuICAgICAgICAvLyBmb3IgaW50ZXJuYWwgZm9ybWF0dGVycyB0byBrbm93IHRoYXQgdGhpcyBpcyBhIFZ1ZSBpbnN0YW5jZVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSA9PT0gJ19faXNWdWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkYXRhIC8gcHJvcHMgLyBjdHhcbiAgICAgICAgLy8gVGhpcyBnZXR0ZXIgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IHByb3BlcnR5IGFjY2VzcyBvbiB0aGUgcmVuZGVyIGNvbnRleHRcbiAgICAgICAgLy8gZHVyaW5nIHJlbmRlciBhbmQgaXMgYSBtYWpvciBob3RzcG90LiBUaGUgbW9zdCBleHBlbnNpdmUgcGFydCBvZiB0aGlzXG4gICAgICAgIC8vIGlzIHRoZSBtdWx0aXBsZSBoYXNPd24oKSBjYWxscy4gSXQncyBtdWNoIGZhc3RlciB0byBkbyBhIHNpbXBsZSBwcm9wZXJ0eVxuICAgICAgICAvLyBhY2Nlc3Mgb24gYSBwbGFpbiBvYmplY3QsIHNvIHdlIHVzZSBhbiBhY2Nlc3NDYWNoZSBvYmplY3QgKHdpdGggbnVsbFxuICAgICAgICAvLyBwcm90b3R5cGUpIHRvIG1lbW9pemUgd2hhdCBhY2Nlc3MgdHlwZSBhIGtleSBjb3JyZXNwb25kcyB0by5cbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcbiAgICAgICAgaWYgKGtleVswXSAhPT0gJyQnKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gYWNjZXNzQ2FjaGVba2V5XTtcbiAgICAgICAgICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxIC8qIEFjY2Vzc1R5cGVzLlNFVFVQICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIEFjY2Vzc1R5cGVzLkRBVEEgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQgLyogQWNjZXNzVHlwZXMuQ09OVEVYVCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzIC8qIEFjY2Vzc1R5cGVzLlBST1BTICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQ6IGp1c3QgZmFsbHRocm91Z2hcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAxIC8qIEFjY2Vzc1R5cGVzLlNFVFVQICovO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBBY2Nlc3NUeXBlcy5EQVRBICovO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIC8vIG9ubHkgY2FjaGUgb3RoZXIgcHJvcGVydGllcyB3aGVuIGluc3RhbmNlIGhhcyBkZWNsYXJlZCAodGh1cyBzdGFibGUpXG4gICAgICAgICAgICAvLyBwcm9wc1xuICAgICAgICAgICAgKG5vcm1hbGl6ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkgJiZcbiAgICAgICAgICAgICAgICBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogQWNjZXNzVHlwZXMuUFJPUFMgKi87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogQWNjZXNzVHlwZXMuQ09OVEVYVCAqLztcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghX19WVUVfT1BUSU9OU19BUElfXyB8fCBzaG91bGRDYWNoZUFjY2Vzcykge1xuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAwIC8qIEFjY2Vzc1R5cGVzLk9USEVSICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcbiAgICAgICAgbGV0IGNzc01vZHVsZSwgZ2xvYmFsUHJvcGVydGllcztcbiAgICAgICAgLy8gcHVibGljICR4eHggcHJvcGVydGllc1xuICAgICAgICBpZiAocHVibGljR2V0dGVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnJGF0dHJzJykge1xuICAgICAgICAgICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sIGtleSk7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHVibGljR2V0dGVyKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgLy8gY3NzIG1vZHVsZSAoaW5qZWN0ZWQgYnkgdnVlLWxvYWRlcilcbiAgICAgICAgKGNzc01vZHVsZSA9IHR5cGUuX19jc3NNb2R1bGVzKSAmJlxuICAgICAgICAgICAgKGNzc01vZHVsZSA9IGNzc01vZHVsZVtrZXldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc01vZHVsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICAgICAgICAvLyB1c2VyIG1heSBzZXQgY3VzdG9tIHByb3BlcnRpZXMgdG8gYHRoaXNgIHRoYXQgc3RhcnQgd2l0aCBgJGBcbiAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIEFjY2Vzc1R5cGVzLkNPTlRFWFQgKi87XG4gICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgIC8vIGdsb2JhbCBwcm9wZXJ0aWVzXG4gICAgICAgICgoZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpLFxuICAgICAgICAgICAgaGFzT3duKGdsb2JhbFByb3BlcnRpZXMsIGtleSkpKSB7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZ2xvYmFsUHJvcGVydGllcywga2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzYy5nZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2MuZ2V0LmNhbGwoaW5zdGFuY2UucHJveHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZ2xvYmFsUHJvcGVydGllc1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNGdW5jdGlvbih2YWwpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24odmFsLmJpbmQoaW5zdGFuY2UucHJveHkpLCB2YWwpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgJiZcbiAgICAgICAgICAgICghaXNTdHJpbmcoa2V5KSB8fFxuICAgICAgICAgICAgICAgIC8vICMxMDkxIGF2b2lkIGludGVybmFsIGlzUmVmL2lzVk5vZGUgY2hlY2tzIG9uIGNvbXBvbmVudCBpbnN0YW5jZSBsZWFkaW5nXG4gICAgICAgICAgICAgICAgLy8gdG8gaW5maW5pdGUgd2FybmluZyBsb29wXG4gICAgICAgICAgICAgICAga2V5LmluZGV4T2YoJ19fdicpICE9PSAwKSkge1xuICAgICAgICAgICAgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBpc1Jlc2VydmVkUHJlZml4KGtleVswXSkgJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gbXVzdCBiZSBhY2Nlc3NlZCB2aWEgJGRhdGEgYmVjYXVzZSBpdCBzdGFydHMgd2l0aCBhIHJlc2VydmVkIGAgK1xuICAgICAgICAgICAgICAgICAgICBgY2hhcmFjdGVyIChcIiRcIiBvciBcIl9cIikgYW5kIGlzIG5vdCBwcm94aWVkIG9uIHRoZSByZW5kZXIgY29udGV4dC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGluc3RhbmNlID09PSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gd2FzIGFjY2Vzc2VkIGR1cmluZyByZW5kZXIgYCArXG4gICAgICAgICAgICAgICAgICAgIGBidXQgaXMgbm90IGRlZmluZWQgb24gaW5zdGFuY2UuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhLCBzZXR1cFN0YXRlLCBjdHggfSA9IGluc3RhbmNlO1xuICAgICAgICBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgICAgICAgIHNldHVwU3RhdGVba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICBzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJlxuICAgICAgICAgICAgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgICAgICAgIHdhcm4kMShgQ2Fubm90IG11dGF0ZSA8c2NyaXB0IHNldHVwPiBiaW5kaW5nIFwiJHtrZXl9XCIgZnJvbSBPcHRpb25zIEFQSS5gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzT3duKGluc3RhbmNlLnByb3BzLCBrZXkpKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5WzBdID09PSAnJCcgJiYga2V5LnNsaWNlKDEpIGluIGluc3RhbmNlKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFByb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCAkIGFyZSByZXNlcnZlZCBhbmQgcmVhZG9ubHkuYCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSBpbiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBoYXMoeyBfOiB7IGRhdGEsIHNldHVwU3RhdGUsIGFjY2Vzc0NhY2hlLCBjdHgsIGFwcENvbnRleHQsIHByb3BzT3B0aW9ucyB9IH0sIGtleSkge1xuICAgICAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgICAgICByZXR1cm4gKCEhYWNjZXNzQ2FjaGVba2V5XSB8fFxuICAgICAgICAgICAgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkgfHxcbiAgICAgICAgICAgIGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpIHx8XG4gICAgICAgICAgICAoKG5vcm1hbGl6ZWRQcm9wcyA9IHByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSkgfHxcbiAgICAgICAgICAgIGhhc093bihjdHgsIGtleSkgfHxcbiAgICAgICAgICAgIGhhc093bihwdWJsaWNQcm9wZXJ0aWVzTWFwLCBrZXkpIHx8XG4gICAgICAgICAgICBoYXNPd24oYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywga2V5KSk7XG4gICAgfSxcbiAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICBpZiAoZGVzY3JpcHRvci5nZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaW52YWxpZGF0ZSBrZXkgY2FjaGUgb2YgYSBnZXR0ZXIgYmFzZWQgcHJvcGVydHkgIzU0MTdcbiAgICAgICAgICAgIHRhcmdldC5fLmFjY2Vzc0NhY2hlW2tleV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhhc093bihkZXNjcmlwdG9yLCAndmFsdWUnKSkge1xuICAgICAgICAgICAgdGhpcy5zZXQodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IudmFsdWUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG59O1xuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZmFsc2UpIHtcbiAgICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMub3duS2V5cyA9ICh0YXJnZXQpID0+IHtcbiAgICAgICAgd2FybiQxKGBBdm9pZCBhcHAgbG9naWMgdGhhdCByZWxpZXMgb24gZW51bWVyYXRpbmcga2V5cyBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZS4gYCArXG4gICAgICAgICAgICBgVGhlIGtleXMgd2lsbCBiZSBlbXB0eSBpbiBwcm9kdWN0aW9uIG1vZGUgdG8gYXZvaWQgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQuYCk7XG4gICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgICB9O1xufVxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gLyojX19QVVJFX18qLyBleHRlbmQoe30sIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycywge1xuICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICAvLyBmYXN0IHBhdGggZm9yIHVuc2NvcGFibGVzIHdoZW4gdXNpbmcgYHdpdGhgIGJsb2NrXG4gICAgICAgIGlmIChrZXkgPT09IFN5bWJvbC51bnNjb3BhYmxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuZ2V0KHRhcmdldCwga2V5LCB0YXJnZXQpO1xuICAgIH0sXG4gICAgaGFzKF8sIGtleSkge1xuICAgICAgICBjb25zdCBoYXMgPSBrZXlbMF0gIT09ICdfJyAmJiAhaXNHbG9iYWxseVdoaXRlbGlzdGVkKGtleSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhcyAmJiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuaGFzKF8sIGtleSkpIHtcbiAgICAgICAgICAgIHdhcm4kMShgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXyB3aGljaCBpcyBhIHJlc2VydmVkIHByZWZpeCBmb3IgVnVlIGludGVybmFscy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzO1xuICAgIH1cbn0pO1xuLy8gZGV2IG9ubHlcbi8vIEluIGRldiBtb2RlLCB0aGUgcHJveHkgdGFyZ2V0IGV4cG9zZXMgdGhlIHNhbWUgcHJvcGVydGllcyBhcyBzZWVuIG9uIGB0aGlzYFxuLy8gZm9yIGVhc2llciBjb25zb2xlIGluc3BlY3Rpb24uIEluIHByb2QgbW9kZSBpdCB3aWxsIGJlIGFuIGVtcHR5IG9iamVjdCBzb1xuLy8gdGhlc2UgcHJvcGVydGllcyBkZWZpbml0aW9ucyBjYW4gYmUgc2tpcHBlZC5cbmZ1bmN0aW9uIGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgICAvLyBleHBvc2UgaW50ZXJuYWwgaW5zdGFuY2UgZm9yIHByb3h5IGhhbmRsZXJzXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2VcbiAgICB9KTtcbiAgICAvLyBleHBvc2UgcHVibGljIHByb3BlcnRpZXNcbiAgICBPYmplY3Qua2V5cyhwdWJsaWNQcm9wZXJ0aWVzTWFwKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSksXG4gICAgICAgICAgICAvLyBpbnRlcmNlcHRlZCBieSB0aGUgcHJveHkgc28gbm8gbmVlZCBmb3IgaW1wbGVtZW50YXRpb24sXG4gICAgICAgICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xuICAgICAgICAgICAgc2V0OiBOT09QXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0YXJnZXQ7XG59XG4vLyBkZXYgb25seVxuZnVuY3Rpb24gZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgICBjb25zdCB7IGN0eCwgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKHByb3BzT3B0aW9ucykge1xuICAgICAgICBPYmplY3Qua2V5cyhwcm9wc09wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2UucHJvcHNba2V5XSxcbiAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyBkZXYgb25seVxuZnVuY3Rpb24gZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlIH0gPSBpbnN0YW5jZTtcbiAgICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpZiAoIXNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwKSB7XG4gICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBzZXR1cCgpIHJldHVybiBwcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBcIiRcIiBvciBcIl9cIiBgICtcbiAgICAgICAgICAgICAgICAgICAgYHdoaWNoIGFyZSByZXNlcnZlZCBwcmVmaXhlcyBmb3IgVnVlIGludGVybmFscy5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHNldHVwU3RhdGVba2V5XSxcbiAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZXBNZXJnZURhdGEodG8sIGZyb20pIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XG4gICAgICAgIGNvbnN0IHRvVmFsID0gdG9ba2V5XTtcbiAgICAgICAgY29uc3QgZnJvbVZhbCA9IGZyb21ba2V5XTtcbiAgICAgICAgaWYgKGtleSBpbiB0byAmJiBpc1BsYWluT2JqZWN0KHRvVmFsKSAmJiBpc1BsYWluT2JqZWN0KGZyb21WYWwpKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkRlcHJlY2F0aW9uKFwiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfTUVSR0UgKi8sIG51bGwsIGtleSk7XG4gICAgICAgICAgICBkZWVwTWVyZ2VEYXRhKHRvVmFsLCBmcm9tVmFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRvW2tleV0gPSBmcm9tVmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0bztcbn1cblxuZnVuY3Rpb24gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIHtcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgcmV0dXJuICh0eXBlLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIHdhcm4kMShgJHt0eXBlfSBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiAke2NhY2hlW2tleV19LmApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHR5cGU7XG4gICAgICAgIH1cbiAgICB9O1xufVxubGV0IHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbmZ1bmN0aW9uIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgY29uc3QgcHVibGljVGhpcyA9IGluc3RhbmNlLnByb3h5O1xuICAgIGNvbnN0IGN0eCA9IGluc3RhbmNlLmN0eDtcbiAgICAvLyBkbyBub3QgY2FjaGUgcHJvcGVydHkgYWNjZXNzIG9uIHB1YmxpYyBwcm94eSBkdXJpbmcgc3RhdGUgaW5pdGlhbGl6YXRpb25cbiAgICBzaG91bGRDYWNoZUFjY2VzcyA9IGZhbHNlO1xuICAgIC8vIGNhbGwgYmVmb3JlQ3JlYXRlIGZpcnN0IGJlZm9yZSBhY2Nlc3Npbmcgb3RoZXIgb3B0aW9ucyBzaW5jZVxuICAgIC8vIHRoZSBob29rIG1heSBtdXRhdGUgcmVzb2x2ZWQgb3B0aW9ucyAoIzI3OTEpXG4gICAgaWYgKG9wdGlvbnMuYmVmb3JlQ3JlYXRlKSB7XG4gICAgICAgIGNhbGxIb29rKG9wdGlvbnMuYmVmb3JlQ3JlYXRlLCBpbnN0YW5jZSwgXCJiY1wiIC8qIExpZmVjeWNsZUhvb2tzLkJFRk9SRV9DUkVBVEUgKi8pO1xuICAgIH1cbiAgICBjb25zdCB7IFxuICAgIC8vIHN0YXRlXG4gICAgZGF0YTogZGF0YU9wdGlvbnMsIGNvbXB1dGVkOiBjb21wdXRlZE9wdGlvbnMsIG1ldGhvZHMsIHdhdGNoOiB3YXRjaE9wdGlvbnMsIHByb3ZpZGU6IHByb3ZpZGVPcHRpb25zLCBpbmplY3Q6IGluamVjdE9wdGlvbnMsIFxuICAgIC8vIGxpZmVjeWNsZVxuICAgIGNyZWF0ZWQsIGJlZm9yZU1vdW50LCBtb3VudGVkLCBiZWZvcmVVcGRhdGUsIHVwZGF0ZWQsIGFjdGl2YXRlZCwgZGVhY3RpdmF0ZWQsIGJlZm9yZURlc3Ryb3ksIGJlZm9yZVVubW91bnQsIGRlc3Ryb3llZCwgdW5tb3VudGVkLCByZW5kZXIsIHJlbmRlclRyYWNrZWQsIHJlbmRlclRyaWdnZXJlZCwgZXJyb3JDYXB0dXJlZCwgc2VydmVyUHJlZmV0Y2gsIFxuICAgIC8vIHB1YmxpYyBBUElcbiAgICBleHBvc2UsIGluaGVyaXRBdHRycywgXG4gICAgLy8gYXNzZXRzXG4gICAgY29tcG9uZW50cywgZGlyZWN0aXZlcywgZmlsdGVycyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29uc3QgW3Byb3BzT3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gICAgICAgIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIlByb3BzXCIgLyogT3B0aW9uVHlwZXMuUFJPUFMgKi8sIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gb3B0aW9ucyBpbml0aWFsaXphdGlvbiBvcmRlciAodG8gYmUgY29uc2lzdGVudCB3aXRoIFZ1ZSAyKTpcbiAgICAvLyAtIHByb3BzIChhbHJlYWR5IGRvbmUgb3V0c2lkZSBvZiB0aGlzIGZ1bmN0aW9uKVxuICAgIC8vIC0gaW5qZWN0XG4gICAgLy8gLSBtZXRob2RzXG4gICAgLy8gLSBkYXRhIChkZWZlcnJlZCBzaW5jZSBpdCByZWxpZXMgb24gYHRoaXNgIGFjY2VzcylcbiAgICAvLyAtIGNvbXB1dGVkXG4gICAgLy8gLSB3YXRjaCAoZGVmZXJyZWQgc2luY2UgaXQgcmVsaWVzIG9uIGB0aGlzYCBhY2Nlc3MpXG4gICAgaWYgKGluamVjdE9wdGlvbnMpIHtcbiAgICAgICAgcmVzb2x2ZUluamVjdGlvbnMoaW5qZWN0T3B0aW9ucywgY3R4LCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMsIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnVud3JhcEluamVjdGVkUmVmKTtcbiAgICB9XG4gICAgaWYgKG1ldGhvZHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWV0aG9kcykge1xuICAgICAgICAgICAgY29uc3QgbWV0aG9kSGFuZGxlciA9IG1ldGhvZHNba2V5XTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG1ldGhvZEhhbmRsZXIpKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gZGV2IG1vZGUsIHdlIHVzZSB0aGUgYGNyZWF0ZVJlbmRlckNvbnRleHRgIGZ1bmN0aW9uIHRvIGRlZmluZVxuICAgICAgICAgICAgICAgIC8vIG1ldGhvZHMgdG8gdGhlIHByb3h5IHRhcmdldCwgYW5kIHRob3NlIGFyZSByZWFkLW9ubHkgYnV0XG4gICAgICAgICAgICAgICAgLy8gcmVjb25maWd1cmFibGUsIHNvIGl0IG5lZWRzIHRvIGJlIHJlZGVmaW5lZCBoZXJlXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjdHhba2V5XSA9IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJNZXRob2RzXCIgLyogT3B0aW9uVHlwZXMuTUVUSE9EUyAqLywga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYE1ldGhvZCBcIiR7a2V5fVwiIGhhcyB0eXBlIFwiJHt0eXBlb2YgbWV0aG9kSGFuZGxlcn1cIiBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIGAgK1xuICAgICAgICAgICAgICAgICAgICBgRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGF0YU9wdGlvbnMpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNGdW5jdGlvbihkYXRhT3B0aW9ucykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgVGhlIGRhdGEgb3B0aW9uIG11c3QgYmUgYSBmdW5jdGlvbi4gYCArXG4gICAgICAgICAgICAgICAgYFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBkYXRhT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzUHJvbWlzZShkYXRhKSkge1xuICAgICAgICAgICAgd2FybiQxKGBkYXRhKCkgcmV0dXJuZWQgYSBQcm9taXNlIC0gbm90ZSBkYXRhKCkgY2Fubm90IGJlIGFzeW5jOyBJZiB5b3UgYCArXG4gICAgICAgICAgICAgICAgYGludGVuZCB0byBwZXJmb3JtIGRhdGEgZmV0Y2hpbmcgYmVmb3JlIGNvbXBvbmVudCByZW5kZXJzLCB1c2UgYCArXG4gICAgICAgICAgICAgICAgYGFzeW5jIHNldHVwKCkgKyA8U3VzcGVuc2U+LmApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYGRhdGEoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC5gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluc3RhbmNlLmRhdGEgPSByZWFjdGl2ZShkYXRhKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkRhdGFcIiAvKiBPcHRpb25UeXBlcy5EQVRBICovLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBleHBvc2UgZGF0YSBvbiBjdHggZHVyaW5nIGRldlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBkYXRhW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBOT09QXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzdGF0ZSBpbml0aWFsaXphdGlvbiBjb21wbGV0ZSBhdCB0aGlzIHBvaW50IC0gc3RhcnQgY2FjaGluZyBhY2Nlc3NcbiAgICBzaG91bGRDYWNoZUFjY2VzcyA9IHRydWU7XG4gICAgaWYgKGNvbXB1dGVkT3B0aW9ucykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjb21wdXRlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdCA9IGNvbXB1dGVkT3B0aW9uc1trZXldO1xuICAgICAgICAgICAgY29uc3QgZ2V0ID0gaXNGdW5jdGlvbihvcHQpXG4gICAgICAgICAgICAgICAgPyBvcHQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKVxuICAgICAgICAgICAgICAgIDogaXNGdW5jdGlvbihvcHQuZ2V0KVxuICAgICAgICAgICAgICAgICAgICA/IG9wdC5nZXQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKVxuICAgICAgICAgICAgICAgICAgICA6IE5PT1A7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGdldCA9PT0gTk9PUCkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2V0ID0gIWlzRnVuY3Rpb24ob3B0KSAmJiBpc0Z1bmN0aW9uKG9wdC5zZXQpXG4gICAgICAgICAgICAgICAgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcylcbiAgICAgICAgICAgICAgICA6IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICA/ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBpcyByZWFkb25seS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IE5PT1A7XG4gICAgICAgICAgICBjb25zdCBjID0gY29tcHV0ZWQkMSh7XG4gICAgICAgICAgICAgICAgZ2V0LFxuICAgICAgICAgICAgICAgIHNldFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGMudmFsdWUsXG4gICAgICAgICAgICAgICAgc2V0OiB2ID0+IChjLnZhbHVlID0gdilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogT3B0aW9uVHlwZXMuQ09NUFVURUQgKi8sIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdhdGNoT3B0aW9ucykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB3YXRjaE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNyZWF0ZVdhdGNoZXIod2F0Y2hPcHRpb25zW2tleV0sIGN0eCwgcHVibGljVGhpcywga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvdmlkZU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXMgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb25zKVxuICAgICAgICAgICAgPyBwcm92aWRlT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMpXG4gICAgICAgICAgICA6IHByb3ZpZGVPcHRpb25zO1xuICAgICAgICBSZWZsZWN0Lm93bktleXMocHJvdmlkZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIHByb3ZpZGUoa2V5LCBwcm92aWRlc1trZXldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChjcmVhdGVkKSB7XG4gICAgICAgIGNhbGxIb29rKGNyZWF0ZWQsIGluc3RhbmNlLCBcImNcIiAvKiBMaWZlY3ljbGVIb29rcy5DUkVBVEVEICovKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJMaWZlY3ljbGVIb29rKHJlZ2lzdGVyLCBob29rKSB7XG4gICAgICAgIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgICAgICAgICBob29rLmZvckVhY2goX2hvb2sgPT4gcmVnaXN0ZXIoX2hvb2suYmluZChwdWJsaWNUaGlzKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhvb2spIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyKGhvb2suYmluZChwdWJsaWNUaGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlTW91bnQsIGJlZm9yZU1vdW50KTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Nb3VudGVkLCBtb3VudGVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVcGRhdGUsIGJlZm9yZVVwZGF0ZSk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVXBkYXRlZCwgdXBkYXRlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQWN0aXZhdGVkLCBhY3RpdmF0ZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkRlYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRXJyb3JDYXB0dXJlZCwgZXJyb3JDYXB0dXJlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJhY2tlZCwgcmVuZGVyVHJhY2tlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJpZ2dlcmVkLCByZW5kZXJUcmlnZ2VyZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVubW91bnQsIGJlZm9yZVVubW91bnQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVubW91bnRlZCwgdW5tb3VudGVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25TZXJ2ZXJQcmVmZXRjaCwgc2VydmVyUHJlZmV0Y2gpO1xuICAgIHtcbiAgICAgICAgaWYgKGJlZm9yZURlc3Ryb3kgJiZcbiAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiT1BUSU9OU19CRUZPUkVfREVTVFJPWVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19CRUZPUkVfREVTVFJPWSAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVbm1vdW50LCBiZWZvcmVEZXN0cm95KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVzdHJveWVkICYmXG4gICAgICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIk9QVElPTlNfREVTVFJPWUVEXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RFU1RST1lFRCAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Vbm1vdW50ZWQsIGRlc3Ryb3llZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQXJyYXkoZXhwb3NlKSkge1xuICAgICAgICBpZiAoZXhwb3NlLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZXhwb3NlZCA9IGluc3RhbmNlLmV4cG9zZWQgfHwgKGluc3RhbmNlLmV4cG9zZWQgPSB7fSk7XG4gICAgICAgICAgICBleHBvc2UuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvc2VkLCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNUaGlzW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIHNldDogdmFsID0+IChwdWJsaWNUaGlzW2tleV0gPSB2YWwpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgICAgICAgaW5zdGFuY2UuZXhwb3NlZCA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIG9wdGlvbnMgdGhhdCBhcmUgaGFuZGxlZCB3aGVuIGNyZWF0aW5nIHRoZSBpbnN0YW5jZSBidXQgYWxzbyBuZWVkIHRvIGJlXG4gICAgLy8gYXBwbGllZCBmcm9tIG1peGluc1xuICAgIGlmIChyZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QKSB7XG4gICAgICAgIGluc3RhbmNlLnJlbmRlciA9IHJlbmRlcjtcbiAgICB9XG4gICAgaWYgKGluaGVyaXRBdHRycyAhPSBudWxsKSB7XG4gICAgICAgIGluc3RhbmNlLmluaGVyaXRBdHRycyA9IGluaGVyaXRBdHRycztcbiAgICB9XG4gICAgLy8gYXNzZXQgb3B0aW9ucy5cbiAgICBpZiAoY29tcG9uZW50cylcbiAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gICAgaWYgKGRpcmVjdGl2ZXMpXG4gICAgICAgIGluc3RhbmNlLmRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzO1xuICAgIGlmIChmaWx0ZXJzICYmXG4gICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIkZJTFRFUlNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkZJTFRFUlMgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICBpbnN0YW5jZS5maWx0ZXJzID0gZmlsdGVycztcbiAgICB9XG59XG5mdW5jdGlvbiByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IE5PT1AsIHVud3JhcFJlZiA9IGZhbHNlKSB7XG4gICAgaWYgKGlzQXJyYXkoaW5qZWN0T3B0aW9ucykpIHtcbiAgICAgICAgaW5qZWN0T3B0aW9ucyA9IG5vcm1hbGl6ZUluamVjdChpbmplY3RPcHRpb25zKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaW5qZWN0T3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XG4gICAgICAgIGxldCBpbmplY3RlZDtcbiAgICAgICAgaWYgKGlzT2JqZWN0KG9wdCkpIHtcbiAgICAgICAgICAgIGlmICgnZGVmYXVsdCcgaW4gb3B0KSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3Qob3B0LmZyb20gfHwga2V5LCBvcHQuZGVmYXVsdCwgdHJ1ZSAvKiB0cmVhdCBkZWZhdWx0IGZ1bmN0aW9uIGFzIGZhY3RvcnkgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3Qob3B0LmZyb20gfHwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVmKGluamVjdGVkKSkge1xuICAgICAgICAgICAgLy8gVE9ETyByZW1vdmUgdGhlIGNoZWNrIGluIDMuM1xuICAgICAgICAgICAgaWYgKHVud3JhcFJlZikge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gaW5qZWN0ZWQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHNldDogdiA9PiAoaW5qZWN0ZWQudmFsdWUgPSB2KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYGluamVjdGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgYSByZWYgYW5kIHdpbGwgYmUgYXV0by11bndyYXBwZWQgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgYW5kIG5vIGxvbmdlciBuZWVkcyBcXGAudmFsdWVcXGAgaW4gdGhlIG5leHQgbWlub3IgcmVsZWFzZS4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgVG8gb3B0LWluIHRvIHRoZSBuZXcgYmVoYXZpb3Igbm93LCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBzZXQgXFxgYXBwLmNvbmZpZy51bndyYXBJbmplY3RlZFJlZiA9IHRydWVcXGAgKHRoaXMgY29uZmlnIGlzIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHRlbXBvcmFyeSBhbmQgd2lsbCBub3QgYmUgbmVlZGVkIGluIHRoZSBmdXR1cmUuKWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHhba2V5XSA9IGluamVjdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3R4W2tleV0gPSBpbmplY3RlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJJbmplY3RcIiAvKiBPcHRpb25UeXBlcy5JTkpFQ1QgKi8sIGtleSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjYWxsSG9vayhob29rLCBpbnN0YW5jZSwgdHlwZSkge1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGlzQXJyYXkoaG9vaylcbiAgICAgICAgPyBob29rLm1hcChoID0+IGguYmluZChpbnN0YW5jZS5wcm94eSkpXG4gICAgICAgIDogaG9vay5iaW5kKGluc3RhbmNlLnByb3h5KSwgaW5zdGFuY2UsIHR5cGUpO1xufVxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlcihyYXcsIGN0eCwgcHVibGljVGhpcywga2V5KSB7XG4gICAgY29uc3QgZ2V0dGVyID0ga2V5LmluY2x1ZGVzKCcuJylcbiAgICAgICAgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSlcbiAgICAgICAgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XG4gICAgaWYgKGlzU3RyaW5nKHJhdykpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhd31cImAsIGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xuICAgICAgICB3YXRjaChnZXR0ZXIsIHJhdy5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QocmF3KSkge1xuICAgICAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICAgICAgICByYXcuZm9yRWFjaChyID0+IGNyZWF0ZVdhdGNoZXIociwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBpc0Z1bmN0aW9uKHJhdy5oYW5kbGVyKVxuICAgICAgICAgICAgICAgID8gcmF3LmhhbmRsZXIuYmluZChwdWJsaWNUaGlzKVxuICAgICAgICAgICAgICAgIDogY3R4W3Jhdy5oYW5kbGVyXTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgICAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyLCByYXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3LmhhbmRsZXJ9XCJgLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNvbHZlIG1lcmdlZCBvcHRpb25zIGFuZCBjYWNoZSBpdCBvbiB0aGUgY29tcG9uZW50LlxuICogVGhpcyBpcyBkb25lIG9ubHkgb25jZSBwZXItY29tcG9uZW50IHNpbmNlIHRoZSBtZXJnaW5nIGRvZXMgbm90IGludm9sdmVcbiAqIGluc3RhbmNlcy5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBiYXNlID0gaW5zdGFuY2UudHlwZTtcbiAgICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGJhc2U7XG4gICAgY29uc3QgeyBtaXhpbnM6IGdsb2JhbE1peGlucywgb3B0aW9uc0NhY2hlOiBjYWNoZSwgY29uZmlnOiB7IG9wdGlvbk1lcmdlU3RyYXRlZ2llcyB9IH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0O1xuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChiYXNlKTtcbiAgICBsZXQgcmVzb2x2ZWQ7XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgICByZXNvbHZlZCA9IGNhY2hlZDtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWdsb2JhbE1peGlucy5sZW5ndGggJiYgIW1peGlucyAmJiAhZXh0ZW5kc09wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIlBSSVZBVEVfQVBJU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuUFJJVkFURV9BUElTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gZXh0ZW5kKHt9LCBiYXNlKTtcbiAgICAgICAgICAgIHJlc29sdmVkLnBhcmVudCA9IGluc3RhbmNlLnBhcmVudCAmJiBpbnN0YW5jZS5wYXJlbnQucHJveHk7XG4gICAgICAgICAgICByZXNvbHZlZC5wcm9wc0RhdGEgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gYmFzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZWQgPSB7fTtcbiAgICAgICAgaWYgKGdsb2JhbE1peGlucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGdsb2JhbE1peGlucy5mb3JFYWNoKG0gPT4gbWVyZ2VPcHRpb25zKHJlc29sdmVkLCBtLCBvcHRpb25NZXJnZVN0cmF0ZWdpZXMsIHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgICBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIGJhc2UsIG9wdGlvbk1lcmdlU3RyYXRlZ2llcyk7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChiYXNlKSkge1xuICAgICAgICBjYWNoZS5zZXQoYmFzZSwgcmVzb2x2ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZWQ7XG59XG5mdW5jdGlvbiBtZXJnZU9wdGlvbnModG8sIGZyb20sIHN0cmF0cywgYXNNaXhpbiA9IGZhbHNlKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oZnJvbSkpIHtcbiAgICAgICAgZnJvbSA9IGZyb20ub3B0aW9ucztcbiAgICB9XG4gICAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBmcm9tO1xuICAgIGlmIChleHRlbmRzT3B0aW9ucykge1xuICAgICAgICBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBzdHJhdHMsIHRydWUpO1xuICAgIH1cbiAgICBpZiAobWl4aW5zKSB7XG4gICAgICAgIG1peGlucy5mb3JFYWNoKChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIHN0cmF0cywgdHJ1ZSkpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XG4gICAgICAgIGlmIChhc01peGluICYmIGtleSA9PT0gJ2V4cG9zZScpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm4kMShgXCJleHBvc2VcIiBvcHRpb24gaXMgaWdub3JlZCB3aGVuIGRlY2xhcmVkIGluIG1peGlucyBvciBleHRlbmRzLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYEl0IHNob3VsZCBvbmx5IGJlIGRlY2xhcmVkIGluIHRoZSBiYXNlIGNvbXBvbmVudCBpdHNlbGYuYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzdHJhdCA9IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHNba2V5XSB8fCAoc3RyYXRzICYmIHN0cmF0c1trZXldKTtcbiAgICAgICAgICAgIHRvW2tleV0gPSBzdHJhdCA/IHN0cmF0KHRvW2tleV0sIGZyb21ba2V5XSkgOiBmcm9tW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvO1xufVxuY29uc3QgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyA9IHtcbiAgICBkYXRhOiBtZXJnZURhdGFGbixcbiAgICBwcm9wczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAgIGVtaXRzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gICAgLy8gb2JqZWN0c1xuICAgIG1ldGhvZHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgICBjb21wdXRlZDogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAgIC8vIGxpZmVjeWNsZVxuICAgIGJlZm9yZUNyZWF0ZTogbWVyZ2VBc0FycmF5LFxuICAgIGNyZWF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgICBiZWZvcmVNb3VudDogbWVyZ2VBc0FycmF5LFxuICAgIG1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgICBiZWZvcmVVcGRhdGU6IG1lcmdlQXNBcnJheSxcbiAgICB1cGRhdGVkOiBtZXJnZUFzQXJyYXksXG4gICAgYmVmb3JlRGVzdHJveTogbWVyZ2VBc0FycmF5LFxuICAgIGJlZm9yZVVubW91bnQ6IG1lcmdlQXNBcnJheSxcbiAgICBkZXN0cm95ZWQ6IG1lcmdlQXNBcnJheSxcbiAgICB1bm1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgICBhY3RpdmF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgICBkZWFjdGl2YXRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGVycm9yQ2FwdHVyZWQ6IG1lcmdlQXNBcnJheSxcbiAgICBzZXJ2ZXJQcmVmZXRjaDogbWVyZ2VBc0FycmF5LFxuICAgIC8vIGFzc2V0c1xuICAgIGNvbXBvbmVudHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgICBkaXJlY3RpdmVzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gICAgLy8gd2F0Y2hcbiAgICB3YXRjaDogbWVyZ2VXYXRjaE9wdGlvbnMsXG4gICAgLy8gcHJvdmlkZSAvIGluamVjdFxuICAgIHByb3ZpZGU6IG1lcmdlRGF0YUZuLFxuICAgIGluamVjdDogbWVyZ2VJbmplY3Rcbn07XG57XG4gICAgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cy5maWx0ZXJzID0gbWVyZ2VPYmplY3RPcHRpb25zO1xufVxuZnVuY3Rpb24gbWVyZ2VEYXRhRm4odG8sIGZyb20pIHtcbiAgICBpZiAoIWZyb20pIHtcbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIH1cbiAgICBpZiAoIXRvKSB7XG4gICAgICAgIHJldHVybiBmcm9tO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkRGF0YUZuKCkge1xuICAgICAgICByZXR1cm4gKGlzQ29tcGF0RW5hYmxlZChcIk9QVElPTlNfREFUQV9NRVJHRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19EQVRBX01FUkdFICovLCBudWxsKVxuICAgICAgICAgICAgPyBkZWVwTWVyZ2VEYXRhXG4gICAgICAgICAgICA6IGV4dGVuZCkoaXNGdW5jdGlvbih0bykgPyB0by5jYWxsKHRoaXMsIHRoaXMpIDogdG8sIGlzRnVuY3Rpb24oZnJvbSkgPyBmcm9tLmNhbGwodGhpcywgdGhpcykgOiBmcm9tKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbWVyZ2VJbmplY3QodG8sIGZyb20pIHtcbiAgICByZXR1cm4gbWVyZ2VPYmplY3RPcHRpb25zKG5vcm1hbGl6ZUluamVjdCh0byksIG5vcm1hbGl6ZUluamVjdChmcm9tKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QocmF3KSB7XG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc1tyYXdbaV1dID0gcmF3W2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIHJldHVybiByYXc7XG59XG5mdW5jdGlvbiBtZXJnZUFzQXJyYXkodG8sIGZyb20pIHtcbiAgICByZXR1cm4gdG8gPyBbLi4ubmV3IFNldChbXS5jb25jYXQodG8sIGZyb20pKV0gOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VPYmplY3RPcHRpb25zKHRvLCBmcm9tKSB7XG4gICAgcmV0dXJuIHRvID8gZXh0ZW5kKGV4dGVuZChPYmplY3QuY3JlYXRlKG51bGwpLCB0byksIGZyb20pIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlV2F0Y2hPcHRpb25zKHRvLCBmcm9tKSB7XG4gICAgaWYgKCF0bylcbiAgICAgICAgcmV0dXJuIGZyb207XG4gICAgaWYgKCFmcm9tKVxuICAgICAgICByZXR1cm4gdG87XG4gICAgY29uc3QgbWVyZ2VkID0gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIHRvKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XG4gICAgICAgIG1lcmdlZFtrZXldID0gbWVyZ2VBc0FycmF5KHRvW2tleV0sIGZyb21ba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVByb3BzRGVmYXVsdFRoaXMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wS2V5KSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eSh7fSwge1xuICAgICAgICBnZXQoXywga2V5KSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB3YXJuRGVwcmVjYXRpb24oXCJQUk9QU19ERUZBVUxUX1RISVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlBST1BTX0RFRkFVTFRfVEhJUyAqLywgbnVsbCwgcHJvcEtleSk7XG4gICAgICAgICAgICAvLyAkb3B0aW9uc1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJyRvcHRpb25zJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwcm9wc1xuICAgICAgICAgICAgaWYgKGtleSBpbiByYXdQcm9wcykge1xuICAgICAgICAgICAgICAgIHJldHVybiByYXdQcm9wc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaW5qZWN0aW9uc1xuICAgICAgICAgICAgY29uc3QgaW5qZWN0aW9ucyA9IGluc3RhbmNlLnR5cGUuaW5qZWN0O1xuICAgICAgICAgICAgaWYgKGluamVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShpbmplY3Rpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5qZWN0aW9ucy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5IGluIGluamVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzaG91bGRTa2lwQXR0cihrZXksIGluc3RhbmNlKSB7XG4gICAgaWYgKGtleSA9PT0gJ2lzJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKChrZXkgPT09ICdjbGFzcycgfHwga2V5ID09PSAnc3R5bGUnKSAmJlxuICAgICAgICBpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlzT24oa2V5KSAmJlxuICAgICAgICBpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9MSVNURU5FUlNcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0xJU1RFTkVSUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyB2dWUtcm91dGVyXG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCdyb3V0ZXJWaWV3JykgfHwga2V5ID09PSAncmVnaXN0ZXJSb3V0ZUluc3RhbmNlJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpbml0UHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBpc1N0YXRlZnVsLCAvLyByZXN1bHQgb2YgYml0d2lzZSBmbGFnIGNvbXBhcmlzb25cbmlzU1NSID0gZmFsc2UpIHtcbiAgICBjb25zdCBwcm9wcyA9IHt9O1xuICAgIGNvbnN0IGF0dHJzID0ge307XG4gICAgZGVmKGF0dHJzLCBJbnRlcm5hbE9iamVjdEtleSwgMSk7XG4gICAgaW5zdGFuY2UucHJvcHNEZWZhdWx0cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcbiAgICAvLyBlbnN1cmUgYWxsIGRlY2xhcmVkIHByb3Aga2V5cyBhcmUgcHJlc2VudFxuICAgIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkge1xuICAgICAgICBpZiAoIShrZXkgaW4gcHJvcHMpKSB7XG4gICAgICAgICAgICBwcm9wc1trZXldID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHZhbGlkYXRpb25cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChpc1N0YXRlZnVsKSB7XG4gICAgICAgIC8vIHN0YXRlZnVsXG4gICAgICAgIGluc3RhbmNlLnByb3BzID0gaXNTU1IgPyBwcm9wcyA6IHNoYWxsb3dSZWFjdGl2ZShwcm9wcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWluc3RhbmNlLnR5cGUucHJvcHMpIHtcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWwgdy8gb3B0aW9uYWwgcHJvcHMsIHByb3BzID09PSBhdHRyc1xuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBhdHRycztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWwgdy8gZGVjbGFyZWQgcHJvcHNcbiAgICAgICAgICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UuYXR0cnMgPSBhdHRycztcbn1cbmZ1bmN0aW9uIGlzSW5IbXJDb250ZXh0KGluc3RhbmNlKSB7XG4gICAgd2hpbGUgKGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChpbnN0YW5jZS50eXBlLl9faG1ySWQpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCByYXdQcmV2UHJvcHMsIG9wdGltaXplZCkge1xuICAgIGNvbnN0IHsgcHJvcHMsIGF0dHJzLCB2bm9kZTogeyBwYXRjaEZsYWcgfSB9ID0gaW5zdGFuY2U7XG4gICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICAgIGNvbnN0IFtvcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XG4gICAgaWYgKFxuICAgIC8vIGFsd2F5cyBmb3JjZSBmdWxsIGRpZmYgaW4gZGV2XG4gICAgLy8gLSAjMTk0MiBpZiBobXIgaXMgZW5hYmxlZCB3aXRoIHNmYyBjb21wb25lbnRcbiAgICAvLyAtIHZpdGUjODcyIG5vbi1zZmMgY29tcG9uZW50IHVzZWQgYnkgc2ZjIGNvbXBvbmVudFxuICAgICEoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSW5IbXJDb250ZXh0KGluc3RhbmNlKSkgJiZcbiAgICAgICAgKG9wdGltaXplZCB8fCBwYXRjaEZsYWcgPiAwKSAmJlxuICAgICAgICAhKHBhdGNoRmxhZyAmIDE2IC8qIFBhdGNoRmxhZ3MuRlVMTF9QUk9QUyAqLykpIHtcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDggLyogUGF0Y2hGbGFncy5QUk9QUyAqLykge1xuICAgICAgICAgICAgLy8gQ29tcGlsZXItZ2VuZXJhdGVkIHByb3BzICYgbm8ga2V5cyBjaGFuZ2UsIGp1c3Qgc2V0IHRoZSB1cGRhdGVkXG4gICAgICAgICAgICAvLyB0aGUgcHJvcHMuXG4gICAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gaW5zdGFuY2Uudm5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBpZiB0aGUgcHJvcCBrZXkgaXMgYSBkZWNsYXJlZCBlbWl0IGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgaWYgKGlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUFJPUFMgZmxhZyBndWFyYW50ZWVzIHJhd1Byb3BzIHRvIGJlIG5vbi1udWxsXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHIgLyBwcm9wcyBzZXBhcmF0aW9uIHdhcyBkb25lIG9uIGluaXQgYW5kIHdpbGwgYmUgY29uc2lzdGVudFxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGlzIGNvZGUgcGF0aCwgc28ganVzdCBjaGVjayBpZiBhdHRycyBoYXZlIGl0LlxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duKGF0dHJzLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1tjYW1lbGl6ZWRLZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGNhbWVsaXplZEtleSwgdmFsdWUsIGluc3RhbmNlLCBmYWxzZSAvKiBpc0Fic2VudCAqLyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc09uKGtleSkgJiYga2V5LmVuZHNXaXRoKCdOYXRpdmUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGtleS5zbGljZSgwLCAtNik7IC8vIHJlbW92ZSBOYXRpdmUgcG9zdGZpeFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hvdWxkU2tpcEF0dHIoa2V5LCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGZ1bGwgcHJvcHMgdXBkYXRlLlxuICAgICAgICBpZiAoc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSkge1xuICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbiBjYXNlIG9mIGR5bmFtaWMgcHJvcHMsIGNoZWNrIGlmIHdlIG5lZWQgdG8gZGVsZXRlIGtleXMgZnJvbVxuICAgICAgICAvLyB0aGUgcHJvcHMgb2JqZWN0XG4gICAgICAgIGxldCBrZWJhYktleTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICAgICAgICBpZiAoIXJhd1Byb3BzIHx8XG4gICAgICAgICAgICAgICAgLy8gZm9yIGNhbWVsQ2FzZVxuICAgICAgICAgICAgICAgICghaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgcG9zc2libGUgdGhlIG9yaWdpbmFsIHByb3BzIHdhcyBwYXNzZWQgaW4gYXMga2ViYWItY2FzZVxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcbiAgICAgICAgICAgICAgICAgICAgKChrZWJhYktleSA9IGh5cGhlbmF0ZShrZXkpKSA9PT0ga2V5IHx8ICFoYXNPd24ocmF3UHJvcHMsIGtlYmFiS2V5KSkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGNhbWVsQ2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgKHJhd1ByZXZQcm9wc1trZXldICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3Iga2ViYWItY2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd1ByZXZQcm9wc1trZWJhYktleV0gIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywga2V5LCB1bmRlZmluZWQsIGluc3RhbmNlLCB0cnVlIC8qIGlzQWJzZW50ICovKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGluIHRoZSBjYXNlIG9mIGZ1bmN0aW9uYWwgY29tcG9uZW50IHcvbyBwcm9wcyBkZWNsYXJhdGlvbiwgcHJvcHMgYW5kXG4gICAgICAgIC8vIGF0dHJzIHBvaW50IHRvIHRoZSBzYW1lIG9iamVjdCBzbyBpdCBzaG91bGQgYWxyZWFkeSBoYXZlIGJlZW4gdXBkYXRlZC5cbiAgICAgICAgaWYgKGF0dHJzICE9PSByYXdDdXJyZW50UHJvcHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyYXdQcm9wcyB8fFxuICAgICAgICAgICAgICAgICAgICAoIWhhc093bihyYXdQcm9wcywga2V5KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKCFoYXNPd24ocmF3UHJvcHMsIGtleSArICdOYXRpdmUnKSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyB0cmlnZ2VyIHVwZGF0ZXMgZm9yICRhdHRycyBpbiBjYXNlIGl0J3MgdXNlZCBpbiBjb21wb25lbnQgc2xvdHNcbiAgICBpZiAoaGFzQXR0cnNDaGFuZ2VkKSB7XG4gICAgICAgIHRyaWdnZXIoaW5zdGFuY2UsIFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLCAnJGF0dHJzJyk7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpIHtcbiAgICBjb25zdCBbb3B0aW9ucywgbmVlZENhc3RLZXlzXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XG4gICAgbGV0IHJhd0Nhc3RWYWx1ZXM7XG4gICAgaWYgKHJhd1Byb3BzKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiByYXdQcm9wcykge1xuICAgICAgICAgICAgLy8ga2V5LCByZWYgYXJlIHJlc2VydmVkIGFuZCBuZXZlciBwYXNzZWQgZG93blxuICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ29uSG9vazonKSkge1xuICAgICAgICAgICAgICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UsIGtleS5zbGljZSgyKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2lubGluZS10ZW1wbGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xuICAgICAgICAgICAgLy8gcHJvcCBvcHRpb24gbmFtZXMgYXJlIGNhbWVsaXplZCBkdXJpbmcgbm9ybWFsaXphdGlvbiwgc28gdG8gc3VwcG9ydFxuICAgICAgICAgICAgLy8ga2ViYWIgLT4gY2FtZWwgY29udmVyc2lvbiBoZXJlIHdlIG5lZWQgdG8gY2FtZWxpemUgdGhlIGtleS5cbiAgICAgICAgICAgIGxldCBjYW1lbEtleTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIGhhc093bihvcHRpb25zLCAoY2FtZWxLZXkgPSBjYW1lbGl6ZShrZXkpKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5lZWRDYXN0S2V5cyB8fCAhbmVlZENhc3RLZXlzLmluY2x1ZGVzKGNhbWVsS2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wc1tjYW1lbEtleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIChyYXdDYXN0VmFsdWVzIHx8IChyYXdDYXN0VmFsdWVzID0ge30pKVtjYW1lbEtleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgLy8gQW55IG5vbi1kZWNsYXJlZCAoZWl0aGVyIGFzIGEgcHJvcCBvciBhbiBlbWl0dGVkIGV2ZW50KSBwcm9wcyBhcmUgcHV0XG4gICAgICAgICAgICAgICAgLy8gaW50byBhIHNlcGFyYXRlIGBhdHRyc2Agb2JqZWN0IGZvciBzcHJlYWRpbmcuIE1ha2Ugc3VyZSB0byBwcmVzZXJ2ZVxuICAgICAgICAgICAgICAgIC8vIG9yaWdpbmFsIGtleSBjYXNpbmdcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09uKGtleSkgJiYga2V5LmVuZHNXaXRoKCdOYXRpdmUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5LnNsaWNlKDAsIC02KTsgLy8gcmVtb3ZlIE5hdGl2ZSBwb3N0Zml4XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hvdWxkU2tpcEF0dHIoa2V5LCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBhdHRycykgfHwgdmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobmVlZENhc3RLZXlzKSB7XG4gICAgICAgIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgICAgY29uc3QgY2FzdFZhbHVlcyA9IHJhd0Nhc3RWYWx1ZXMgfHwgRU1QVFlfT0JKO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lZWRDYXN0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gbmVlZENhc3RLZXlzW2ldO1xuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcmF3Q3VycmVudFByb3BzLCBrZXksIGNhc3RWYWx1ZXNba2V5XSwgaW5zdGFuY2UsICFoYXNPd24oY2FzdFZhbHVlcywga2V5KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhc0F0dHJzQ2hhbmdlZDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcHJvcHMsIGtleSwgdmFsdWUsIGluc3RhbmNlLCBpc0Fic2VudCkge1xuICAgIGNvbnN0IG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgICBpZiAob3B0ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgaGFzRGVmYXVsdCA9IGhhc093bihvcHQsICdkZWZhdWx0Jyk7XG4gICAgICAgIC8vIGRlZmF1bHQgdmFsdWVzXG4gICAgICAgIGlmIChoYXNEZWZhdWx0ICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG9wdC5kZWZhdWx0O1xuICAgICAgICAgICAgaWYgKG9wdC50eXBlICE9PSBGdW5jdGlvbiAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHByb3BzRGVmYXVsdHMgfSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gcHJvcHNEZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldID0gZGVmYXVsdFZhbHVlLmNhbGwoaXNDb21wYXRFbmFibGVkKFwiUFJPUFNfREVGQVVMVF9USElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUk9QU19ERUZBVUxUX1RISVMgKi8sIGluc3RhbmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVQcm9wc0RlZmF1bHRUaGlzKGluc3RhbmNlLCBwcm9wcywga2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLCBwcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYm9vbGVhbiBjYXN0aW5nXG4gICAgICAgIGlmIChvcHRbMCAvKiBCb29sZWFuRmxhZ3Muc2hvdWxkQ2FzdCAqL10pIHtcbiAgICAgICAgICAgIGlmIChpc0Fic2VudCAmJiAhaGFzRGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRbMSAvKiBCb29sZWFuRmxhZ3Muc2hvdWxkQ2FzdFRydWUgKi9dICYmXG4gICAgICAgICAgICAgICAgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQucHJvcHNDYWNoZTtcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29tcCk7XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgIH1cbiAgICBjb25zdCByYXcgPSBjb21wLnByb3BzO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB7fTtcbiAgICBjb25zdCBuZWVkQ2FzdEtleXMgPSBbXTtcbiAgICAvLyBhcHBseSBtaXhpbi9leHRlbmRzIHByb3BzXG4gICAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgICAgICBjb25zdCBleHRlbmRQcm9wcyA9IChyYXcpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHJhdykpIHtcbiAgICAgICAgICAgICAgICByYXcgPSByYXcub3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgW3Byb3BzLCBrZXlzXSA9IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpO1xuICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHByb3BzKTtcbiAgICAgICAgICAgIGlmIChrZXlzKVxuICAgICAgICAgICAgICAgIG5lZWRDYXN0S2V5cy5wdXNoKC4uLmtleXMpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcC5leHRlbmRzKSB7XG4gICAgICAgICAgICBleHRlbmRQcm9wcyhjb21wLmV4dGVuZHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICAgICAgICBjYWNoZS5zZXQoY29tcCwgRU1QVFlfQVJSKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRU1QVFlfQVJSO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1N0cmluZyhyYXdbaV0pKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBwcm9wcyBtdXN0IGJlIHN0cmluZ3Mgd2hlbiB1c2luZyBhcnJheSBzeW50YXguYCwgcmF3W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShyYXdbaV0pO1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gRU1QVFlfT0JKO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHJhdykge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc09iamVjdChyYXcpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYGludmFsaWQgcHJvcHMgb3B0aW9uc2AsIHJhdyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmF3KSB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0ID0gcmF3W2tleV07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IChub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID1cbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSA/IHsgdHlwZTogb3B0IH0gOiBPYmplY3QuYXNzaWduKHt9LCBvcHQpKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nSW5kZXggPSBnZXRUeXBlSW5kZXgoU3RyaW5nLCBwcm9wLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBwcm9wWzAgLyogQm9vbGVhbkZsYWdzLnNob3VsZENhc3QgKi9dID0gYm9vbGVhbkluZGV4ID4gLTE7XG4gICAgICAgICAgICAgICAgICAgIHByb3BbMSAvKiBCb29sZWFuRmxhZ3Muc2hvdWxkQ2FzdFRydWUgKi9dID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0luZGV4IDwgMCB8fCBib29sZWFuSW5kZXggPCBzdHJpbmdJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHByb3AgbmVlZHMgYm9vbGVhbiBjYXN0aW5nIG9yIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvb2xlYW5JbmRleCA+IC0xIHx8IGhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXTtcbiAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KGNvbXAsIHJlcyk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BOYW1lKGtleSkge1xuICAgIGlmIChrZXlbMF0gIT09ICckJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm4kMShgSW52YWxpZCBwcm9wIG5hbWU6IFwiJHtrZXl9XCIgaXMgYSByZXNlcnZlZCBwcm9wZXJ0eS5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gdXNlIGZ1bmN0aW9uIHN0cmluZyBuYW1lIHRvIGNoZWNrIHR5cGUgY29uc3RydWN0b3JzXG4vLyBzbyB0aGF0IGl0IHdvcmtzIGFjcm9zcyB2bXMgLyBpZnJhbWVzLlxuZnVuY3Rpb24gZ2V0VHlwZShjdG9yKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBjdG9yICYmIGN0b3IudG9TdHJpbmcoKS5tYXRjaCgvXlxccypmdW5jdGlvbiAoXFx3KykvKTtcbiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IGN0b3IgPT09IG51bGwgPyAnbnVsbCcgOiAnJztcbn1cbmZ1bmN0aW9uIGlzU2FtZVR5cGUoYSwgYikge1xuICAgIHJldHVybiBnZXRUeXBlKGEpID09PSBnZXRUeXBlKGIpO1xufVxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4KHR5cGUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgICBpZiAoaXNBcnJheShleHBlY3RlZFR5cGVzKSkge1xuICAgICAgICByZXR1cm4gZXhwZWN0ZWRUeXBlcy5maW5kSW5kZXgodCA9PiBpc1NhbWVUeXBlKHQsIHR5cGUpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihleHBlY3RlZFR5cGVzKSkge1xuICAgICAgICByZXR1cm4gaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzLCB0eXBlKSA/IDAgOiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBkZXYgb25seVxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzLCBwcm9wcywgaW5zdGFuY2UpIHtcbiAgICBjb25zdCByZXNvbHZlZFZhbHVlcyA9IHRvUmF3KHByb3BzKTtcbiAgICBjb25zdCBvcHRpb25zID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgaWYgKG9wdCA9PSBudWxsKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHZhbGlkYXRlUHJvcChrZXksIHJlc29sdmVkVmFsdWVzW2tleV0sIG9wdCwgIWhhc093bihyYXdQcm9wcywga2V5KSAmJiAhaGFzT3duKHJhd1Byb3BzLCBoeXBoZW5hdGUoa2V5KSkpO1xuICAgIH1cbn1cbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVQcm9wKG5hbWUsIHZhbHVlLCBwcm9wLCBpc0Fic2VudCkge1xuICAgIGNvbnN0IHsgdHlwZSwgcmVxdWlyZWQsIHZhbGlkYXRvciB9ID0gcHJvcDtcbiAgICAvLyByZXF1aXJlZCFcbiAgICBpZiAocmVxdWlyZWQgJiYgaXNBYnNlbnQpIHtcbiAgICAgICAgd2FybiQxKCdNaXNzaW5nIHJlcXVpcmVkIHByb3A6IFwiJyArIG5hbWUgKyAnXCInKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBtaXNzaW5nIGJ1dCBvcHRpb25hbFxuICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICFwcm9wLnJlcXVpcmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gdHlwZSBjaGVja1xuICAgIGlmICh0eXBlICE9IG51bGwgJiYgdHlwZSAhPT0gdHJ1ZSkge1xuICAgICAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCB0eXBlcyA9IGlzQXJyYXkodHlwZSkgPyB0eXBlIDogW3R5cGVdO1xuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGVzID0gW107XG4gICAgICAgIC8vIHZhbHVlIGlzIHZhbGlkIGFzIGxvbmcgYXMgb25lIG9mIHRoZSBzcGVjaWZpZWQgdHlwZXMgbWF0Y2hcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGggJiYgIWlzVmFsaWQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgeyB2YWxpZCwgZXhwZWN0ZWRUeXBlIH0gPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlc1tpXSk7XG4gICAgICAgICAgICBleHBlY3RlZFR5cGVzLnB1c2goZXhwZWN0ZWRUeXBlIHx8ICcnKTtcbiAgICAgICAgICAgIGlzVmFsaWQgPSB2YWxpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBjdXN0b20gdmFsaWRhdG9yXG4gICAgaWYgKHZhbGlkYXRvciAmJiAhdmFsaWRhdG9yKHZhbHVlKSkge1xuICAgICAgICB3YXJuJDEoJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nKTtcbiAgICB9XG59XG5jb25zdCBpc1NpbXBsZVR5cGUgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ1N0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wsQmlnSW50Jyk7XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIGFzc2VydFR5cGUodmFsdWUsIHR5cGUpIHtcbiAgICBsZXQgdmFsaWQ7XG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcbiAgICBpZiAoaXNTaW1wbGVUeXBlKGV4cGVjdGVkVHlwZSkpIHtcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgICAgdmFsaWQgPSB0ID09PSBleHBlY3RlZFR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgLy8gZm9yIHByaW1pdGl2ZSB3cmFwcGVyIG9iamVjdHNcbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnT2JqZWN0Jykge1xuICAgICAgICB2YWxpZCA9IGlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnQXJyYXknKSB7XG4gICAgICAgIHZhbGlkID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ251bGwnKSB7XG4gICAgICAgIHZhbGlkID0gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQsXG4gICAgICAgIGV4cGVjdGVkVHlwZVxuICAgIH07XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykge1xuICAgIGxldCBtZXNzYWdlID0gYEludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCIke25hbWV9XCIuYCArXG4gICAgICAgIGAgRXhwZWN0ZWQgJHtleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKCcgfCAnKX1gO1xuICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGV4cGVjdGVkVHlwZXNbMF07XG4gICAgY29uc3QgcmVjZWl2ZWRUeXBlID0gdG9SYXdUeXBlKHZhbHVlKTtcbiAgICBjb25zdCBleHBlY3RlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKTtcbiAgICBjb25zdCByZWNlaXZlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKTtcbiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgZXhwZWN0ZWQgdmFsdWVcbiAgICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgaXNFeHBsaWNhYmxlKGV4cGVjdGVkVHlwZSkgJiZcbiAgICAgICAgIWlzQm9vbGVhbihleHBlY3RlZFR5cGUsIHJlY2VpdmVkVHlwZSkpIHtcbiAgICAgICAgbWVzc2FnZSArPSBgIHdpdGggdmFsdWUgJHtleHBlY3RlZFZhbHVlfWA7XG4gICAgfVxuICAgIG1lc3NhZ2UgKz0gYCwgZ290ICR7cmVjZWl2ZWRUeXBlfSBgO1xuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSByZWNlaXZlZCB2YWx1ZVxuICAgIGlmIChpc0V4cGxpY2FibGUocmVjZWl2ZWRUeXBlKSkge1xuICAgICAgICBtZXNzYWdlICs9IGB3aXRoIHZhbHVlICR7cmVjZWl2ZWRWYWx1ZX0uYDtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gJ1N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGBcIiR7dmFsdWV9XCJgO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnTnVtYmVyJykge1xuICAgICAgICByZXR1cm4gYCR7TnVtYmVyKHZhbHVlKX1gO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gICAgfVxufVxuLyoqXG4gKiBkZXYgb25seVxuICovXG5mdW5jdGlvbiBpc0V4cGxpY2FibGUodHlwZSkge1xuICAgIGNvbnN0IGV4cGxpY2l0VHlwZXMgPSBbJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbiddO1xuICAgIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoZWxlbSA9PiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pO1xufVxuLyoqXG4gKiBkZXYgb25seVxuICovXG5mdW5jdGlvbiBpc0Jvb2xlYW4oLi4uYXJncykge1xuICAgIHJldHVybiBhcmdzLnNvbWUoZWxlbSA9PiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09ICdib29sZWFuJyk7XG59XG5cbmNvbnN0IGlzSW50ZXJuYWxLZXkgPSAoa2V5KSA9PiBrZXlbMF0gPT09ICdfJyB8fCBrZXkgPT09ICckc3RhYmxlJztcbmNvbnN0IG5vcm1hbGl6ZVNsb3RWYWx1ZSA9ICh2YWx1ZSkgPT4gaXNBcnJheSh2YWx1ZSlcbiAgICA/IHZhbHVlLm1hcChub3JtYWxpemVWTm9kZSlcbiAgICA6IFtub3JtYWxpemVWTm9kZSh2YWx1ZSldO1xuY29uc3Qgbm9ybWFsaXplU2xvdCA9IChrZXksIHJhd1Nsb3QsIGN0eCkgPT4ge1xuICAgIGlmIChyYXdTbG90Ll9uKSB7XG4gICAgICAgIC8vIGFscmVhZHkgbm9ybWFsaXplZCAtICM1MzUzXG4gICAgICAgIHJldHVybiByYXdTbG90O1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkID0gd2l0aEN0eCgoLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGN1cnJlbnRJbnN0YW5jZSkge1xuICAgICAgICAgICAgd2FybiQxKGBTbG90IFwiJHtrZXl9XCIgaW52b2tlZCBvdXRzaWRlIG9mIHRoZSByZW5kZXIgZnVuY3Rpb246IGAgK1xuICAgICAgICAgICAgICAgIGB0aGlzIHdpbGwgbm90IHRyYWNrIGRlcGVuZGVuY2llcyB1c2VkIGluIHRoZSBzbG90LiBgICtcbiAgICAgICAgICAgICAgICBgSW52b2tlIHRoZSBzbG90IGZ1bmN0aW9uIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVNsb3RWYWx1ZShyYXdTbG90KC4uLmFyZ3MpKTtcbiAgICB9LCBjdHgpO1xuICAgIG5vcm1hbGl6ZWQuX2MgPSBmYWxzZTtcbiAgICByZXR1cm4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMsIGluc3RhbmNlKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gcmF3U2xvdHMuX2N0eDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdTbG90cykge1xuICAgICAgICBpZiAoaXNJbnRlcm5hbEtleShrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmF3U2xvdHNba2V5XTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICBzbG90c1trZXldID0gbm9ybWFsaXplU2xvdChrZXksIHZhbHVlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAhKGlzQ29tcGF0RW5hYmxlZChcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovLCBpbnN0YW5jZSkpKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgc2xvdHNba2V5XSA9ICgpID0+IG5vcm1hbGl6ZWQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3Qgbm9ybWFsaXplVk5vZGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICFpc0tlZXBBbGl2ZShpbnN0YW5jZS52bm9kZSkgJiZcbiAgICAgICAgIShpc0NvbXBhdEVuYWJsZWQoXCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqLywgaW5zdGFuY2UpKSkge1xuICAgICAgICB3YXJuJDEoYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3IgZGVmYXVsdCBzbG90LiBgICtcbiAgICAgICAgICAgIGBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gKTtcbiAgICB9XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZShjaGlsZHJlbik7XG4gICAgaW5zdGFuY2Uuc2xvdHMuZGVmYXVsdCA9ICgpID0+IG5vcm1hbGl6ZWQ7XG59O1xuY29uc3QgaW5pdFNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xuICAgIGlmIChpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiAzMiAvKiBTaGFwZUZsYWdzLlNMT1RTX0NISUxEUkVOICovKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xuICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgLy8gdXNlcnMgY2FuIGdldCB0aGUgc2hhbGxvdyByZWFkb25seSB2ZXJzaW9uIG9mIHRoZSBzbG90cyBvYmplY3QgdGhyb3VnaCBgdGhpcy4kc2xvdHNgLFxuICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIGF2b2lkIHRoZSBwcm94eSBvYmplY3QgcG9sbHV0aW5nIHRoZSBzbG90cyBvZiB0aGUgaW50ZXJuYWwgaW5zdGFuY2VcbiAgICAgICAgICAgIGluc3RhbmNlLnNsb3RzID0gdG9SYXcoY2hpbGRyZW4pO1xuICAgICAgICAgICAgLy8gbWFrZSBjb21waWxlciBtYXJrZXIgbm9uLWVudW1lcmFibGVcbiAgICAgICAgICAgIGRlZihjaGlsZHJlbiwgJ18nLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCAoaW5zdGFuY2Uuc2xvdHMgPSB7fSksIGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2Uuc2xvdHMgPSB7fTtcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVmKGluc3RhbmNlLnNsb3RzLCBJbnRlcm5hbE9iamVjdEtleSwgMSk7XG59O1xuY29uc3QgdXBkYXRlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCB7IHZub2RlLCBzbG90cyB9ID0gaW5zdGFuY2U7XG4gICAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcbiAgICBsZXQgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gRU1QVFlfT0JKO1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAzMiAvKiBTaGFwZUZsYWdzLlNMT1RTX0NISUxEUkVOICovKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xuICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgLy8gY29tcGlsZWQgc2xvdHMuXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBQYXJlbnQgd2FzIEhNUiB1cGRhdGVkIHNvIHNsb3QgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHVwZGF0ZSBzbG90cyBhbmQgbWFyayBpbnN0YW5jZSBmb3IgaG1yIGFzIHdlbGxcbiAgICAgICAgICAgICAgICBleHRlbmQoc2xvdHMsIGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGltaXplZCAmJiB0eXBlID09PSAxIC8qIFNsb3RGbGFncy5TVEFCTEUgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlZCBBTkQgc3RhYmxlLlxuICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlLCBhbmQgc2tpcCBzdGFsZSBzbG90cyByZW1vdmFsLlxuICAgICAgICAgICAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlZCBidXQgZHluYW1pYyAodi1pZi92LWZvciBvbiBzbG90cykgLSB1cGRhdGUgc2xvdHMsIGJ1dCBza2lwXG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsaXphdGlvbi5cbiAgICAgICAgICAgICAgICBleHRlbmQoc2xvdHMsIGNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAvLyAjMjg5M1xuICAgICAgICAgICAgICAgIC8vIHdoZW4gcmVuZGVyaW5nIHRoZSBvcHRpbWl6ZWQgc2xvdHMgYnkgbWFudWFsbHkgd3JpdHRlbiByZW5kZXIgZnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBkZWxldGUgdGhlIGBzbG90cy5fYCBmbGFnIGlmIG5lY2Vzc2FyeSB0byBtYWtlIHN1YnNlcXVlbnQgdXBkYXRlcyByZWxpYWJsZSxcbiAgICAgICAgICAgICAgICAvLyBpLmUuIGxldCB0aGUgYHJlbmRlclNsb3RgIGNyZWF0ZSB0aGUgYmFpbGVkIEZyYWdtZW50XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSAvKiBTbG90RmxhZ3MuU1RBQkxFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzbG90cy5fO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gIWNoaWxkcmVuLiRzdGFibGU7XG4gICAgICAgICAgICBub3JtYWxpemVPYmplY3RTbG90cyhjaGlsZHJlbiwgc2xvdHMsIGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBjaGlsZHJlbjtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgLy8gbm9uIHNsb3Qgb2JqZWN0IGNoaWxkcmVuIChkaXJlY3QgdmFsdWUpIHBhc3NlZCB0byBhIGNvbXBvbmVudFxuICAgICAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gICAgICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IHsgZGVmYXVsdDogMSB9O1xuICAgIH1cbiAgICAvLyBkZWxldGUgc3RhbGUgc2xvdHNcbiAgICBpZiAobmVlZERlbGV0aW9uQ2hlY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmICEoa2V5IGluIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2xvdHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8vIGRldiBvbmx5XG5mdW5jdGlvbiBpbnN0YWxsTGVnYWN5Q29uZmlnV2FybmluZ3MoY29uZmlnKSB7XG4gICAgY29uc3QgbGVnYWN5Q29uZmlnT3B0aW9ucyA9IHtcbiAgICAgICAgc2lsZW50OiBcIkNPTkZJR19TSUxFTlRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19TSUxFTlQgKi8sXG4gICAgICAgIGRldnRvb2xzOiBcIkNPTkZJR19ERVZUT09MU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX0RFVlRPT0xTICovLFxuICAgICAgICBpZ25vcmVkRWxlbWVudHM6IFwiQ09ORklHX0lHTk9SRURfRUxFTUVOVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19JR05PUkVEX0VMRU1FTlRTICovLFxuICAgICAgICBrZXlDb2RlczogXCJDT05GSUdfS0VZX0NPREVTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfS0VZX0NPREVTICovLFxuICAgICAgICBwcm9kdWN0aW9uVGlwOiBcIkNPTkZJR19QUk9EVUNUSU9OX1RJUFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX1BST0RVQ1RJT05fVElQICovXG4gICAgfTtcbiAgICBPYmplY3Qua2V5cyhsZWdhY3lDb25maWdPcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxldCB2YWwgPSBjb25maWdba2V5XTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbmZpZywga2V5LCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KG5ld1ZhbCkge1xuICAgICAgICAgICAgICAgIGlmICghaXNDb3B5aW5nQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5EZXByZWNhdGlvbihsZWdhY3lDb25maWdPcHRpb25zW2tleV0sIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWwgPSBuZXdWYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gaW5zdGFsbExlZ2FjeU9wdGlvbk1lcmdlU3RyYXRzKGNvbmZpZykge1xuICAgIGNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXMgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXkgaW4gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyAmJlxuICAgICAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiQ09ORklHX09QVElPTl9NRVJHRV9TVFJBVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19PUFRJT05fTUVSR0VfU1RSQVRTICovLCBudWxsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxubGV0IGlzQ29weWluZ0NvbmZpZyA9IGZhbHNlO1xuLy8gZXhwb3J0ZWQgb25seSBmb3IgdGVzdFxubGV0IHNpbmdsZXRvbkFwcDtcbmxldCBzaW5nbGV0b25DdG9yO1xuLy8gTGVnYWN5IGdsb2JhbCBWdWUgY29uc3RydWN0b3JcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBhdFZ1ZShjcmVhdGVBcHAsIGNyZWF0ZVNpbmdsZXRvbkFwcCkge1xuICAgIHNpbmdsZXRvbkFwcCA9IGNyZWF0ZVNpbmdsZXRvbkFwcCh7fSk7XG4gICAgY29uc3QgVnVlID0gKHNpbmdsZXRvbkN0b3IgPSBmdW5jdGlvbiBWdWUob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVDb21wYXRBcHAob3B0aW9ucywgVnVlKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wYXRBcHAob3B0aW9ucyA9IHt9LCBDdG9yKSB7XG4gICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJHTE9CQUxfTU9VTlRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9NT1VOVCAqLywgbnVsbCk7XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKGRhdGEgJiZcbiAgICAgICAgICAgICFpc0Z1bmN0aW9uKGRhdGEpICYmXG4gICAgICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIk9QVElPTlNfREFUQV9GTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19EQVRBX0ZOICovLCBudWxsKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gKCkgPT4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHAgPSBjcmVhdGVBcHAob3B0aW9ucyk7XG4gICAgICAgIGlmIChDdG9yICE9PSBWdWUpIHtcbiAgICAgICAgICAgIGFwcGx5U2luZ2xldG9uUHJvdG90eXBlKGFwcCwgQ3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdm0gPSBhcHAuX2NyZWF0ZVJvb3Qob3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zLmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdm0uJG1vdW50KG9wdGlvbnMuZWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZtO1xuICAgICAgICB9XG4gICAgfVxuICAgIFZ1ZS52ZXJzaW9uID0gYDIuNi4xNC1jb21wYXQ6JHtcIjMuMi40NVwifWA7XG4gICAgVnVlLmNvbmZpZyA9IHNpbmdsZXRvbkFwcC5jb25maWc7XG4gICAgVnVlLnVzZSA9IChwLCAuLi5vcHRpb25zKSA9PiB7XG4gICAgICAgIGlmIChwICYmIGlzRnVuY3Rpb24ocC5pbnN0YWxsKSkge1xuICAgICAgICAgICAgcC5pbnN0YWxsKFZ1ZSwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihwKSkge1xuICAgICAgICAgICAgcChWdWUsIC4uLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBWdWU7XG4gICAgfTtcbiAgICBWdWUubWl4aW4gPSBtID0+IHtcbiAgICAgICAgc2luZ2xldG9uQXBwLm1peGluKG0pO1xuICAgICAgICByZXR1cm4gVnVlO1xuICAgIH07XG4gICAgVnVlLmNvbXBvbmVudCA9ICgobmFtZSwgY29tcCkgPT4ge1xuICAgICAgICBpZiAoY29tcCkge1xuICAgICAgICAgICAgc2luZ2xldG9uQXBwLmNvbXBvbmVudChuYW1lLCBjb21wKTtcbiAgICAgICAgICAgIHJldHVybiBWdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2luZ2xldG9uQXBwLmNvbXBvbmVudChuYW1lKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFZ1ZS5kaXJlY3RpdmUgPSAoKG5hbWUsIGRpcikgPT4ge1xuICAgICAgICBpZiAoZGlyKSB7XG4gICAgICAgICAgICBzaW5nbGV0b25BcHAuZGlyZWN0aXZlKG5hbWUsIGRpcik7XG4gICAgICAgICAgICByZXR1cm4gVnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNpbmdsZXRvbkFwcC5kaXJlY3RpdmUobmFtZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBWdWUub3B0aW9ucyA9IHsgX2Jhc2U6IFZ1ZSB9O1xuICAgIGxldCBjaWQgPSAxO1xuICAgIFZ1ZS5jaWQgPSBjaWQ7XG4gICAgVnVlLm5leHRUaWNrID0gbmV4dFRpY2s7XG4gICAgY29uc3QgZXh0ZW5kQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuICAgIGZ1bmN0aW9uIGV4dGVuZEN0b3IoZXh0ZW5kT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJHTE9CQUxfRVhURU5EXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfRVhURU5EICovLCBudWxsKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZXh0ZW5kT3B0aW9ucykpIHtcbiAgICAgICAgICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zLm9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dGVuZENhY2hlLmhhcyhleHRlbmRPcHRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuIGV4dGVuZENhY2hlLmdldChleHRlbmRPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBTdXBlciA9IHRoaXM7XG4gICAgICAgIGZ1bmN0aW9uIFN1YlZ1ZShpbmxpbmVPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIWlubGluZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29tcGF0QXBwKFN1YlZ1ZS5vcHRpb25zLCBTdWJWdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbXBhdEFwcChtZXJnZU9wdGlvbnMoZXh0ZW5kKHt9LCBTdWJWdWUub3B0aW9ucyksIGlubGluZU9wdGlvbnMsIGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMpLCBTdWJWdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFN1YlZ1ZS5zdXBlciA9IFN1cGVyO1xuICAgICAgICBTdWJWdWUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShWdWUucHJvdG90eXBlKTtcbiAgICAgICAgU3ViVnVlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN1YlZ1ZTtcbiAgICAgICAgLy8gY2xvbmUgbm9uLXByaW1pdGl2ZSBiYXNlIG9wdGlvbiB2YWx1ZXMgZm9yIGVkZ2UgY2FzZSBvZiBtdXRhdGluZ1xuICAgICAgICAvLyBleHRlbmRlZCBvcHRpb25zXG4gICAgICAgIGNvbnN0IG1lcmdlQmFzZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBTdXBlci5vcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBzdXBlclZhbHVlID0gU3VwZXIub3B0aW9uc1trZXldO1xuICAgICAgICAgICAgbWVyZ2VCYXNlW2tleV0gPSBpc0FycmF5KHN1cGVyVmFsdWUpXG4gICAgICAgICAgICAgICAgPyBzdXBlclZhbHVlLnNsaWNlKClcbiAgICAgICAgICAgICAgICA6IGlzT2JqZWN0KHN1cGVyVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgID8gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIHN1cGVyVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIDogc3VwZXJWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBTdWJWdWUub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhtZXJnZUJhc2UsIGV4dGVuZE9wdGlvbnMsIGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMpO1xuICAgICAgICBTdWJWdWUub3B0aW9ucy5fYmFzZSA9IFN1YlZ1ZTtcbiAgICAgICAgU3ViVnVlLmV4dGVuZCA9IGV4dGVuZEN0b3IuYmluZChTdWJWdWUpO1xuICAgICAgICBTdWJWdWUubWl4aW4gPSBTdXBlci5taXhpbjtcbiAgICAgICAgU3ViVnVlLnVzZSA9IFN1cGVyLnVzZTtcbiAgICAgICAgU3ViVnVlLmNpZCA9ICsrY2lkO1xuICAgICAgICBleHRlbmRDYWNoZS5zZXQoZXh0ZW5kT3B0aW9ucywgU3ViVnVlKTtcbiAgICAgICAgcmV0dXJuIFN1YlZ1ZTtcbiAgICB9XG4gICAgVnVlLmV4dGVuZCA9IGV4dGVuZEN0b3IuYmluZChWdWUpO1xuICAgIFZ1ZS5zZXQgPSAodGFyZ2V0LCBrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJHTE9CQUxfU0VUXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfU0VUICovLCBudWxsKTtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICAgIFZ1ZS5kZWxldGUgPSAodGFyZ2V0LCBrZXkpID0+IHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9ERUxFVEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9ERUxFVEUgKi8sIG51bGwpO1xuICAgICAgICBkZWxldGUgdGFyZ2V0W2tleV07XG4gICAgfTtcbiAgICBWdWUub2JzZXJ2YWJsZSA9ICh0YXJnZXQpID0+IHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9PQlNFUlZBQkxFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfT0JTRVJWQUJMRSAqLywgbnVsbCk7XG4gICAgICAgIHJldHVybiByZWFjdGl2ZSh0YXJnZXQpO1xuICAgIH07XG4gICAgVnVlLmZpbHRlciA9ICgobmFtZSwgZmlsdGVyKSA9PiB7XG4gICAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICAgIHNpbmdsZXRvbkFwcC5maWx0ZXIobmFtZSwgZmlsdGVyKTtcbiAgICAgICAgICAgIHJldHVybiBWdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2luZ2xldG9uQXBwLmZpbHRlcihuYW1lKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGludGVybmFsIHV0aWxzIC0gdGhlc2UgYXJlIHRlY2huaWNhbGx5IGludGVybmFsIGJ1dCBzb21lIHBsdWdpbnMgdXNlIGl0LlxuICAgIGNvbnN0IHV0aWwgPSB7XG4gICAgICAgIHdhcm46IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHdhcm4kMSA6IE5PT1AsXG4gICAgICAgIGV4dGVuZCxcbiAgICAgICAgbWVyZ2VPcHRpb25zOiAocGFyZW50LCBjaGlsZCwgdm0pID0+IG1lcmdlT3B0aW9ucyhwYXJlbnQsIGNoaWxkLCB2bSA/IHVuZGVmaW5lZCA6IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMpLFxuICAgICAgICBkZWZpbmVSZWFjdGl2ZVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSwgJ3V0aWwnLCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJHTE9CQUxfUFJJVkFURV9VVElMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfUFJJVkFURV9VVElMICovLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybiB1dGlsO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgVnVlLmNvbmZpZ3VyZUNvbXBhdCA9IGNvbmZpZ3VyZUNvbXBhdDtcbiAgICByZXR1cm4gVnVlO1xufVxuZnVuY3Rpb24gaW5zdGFsbEFwcENvbXBhdFByb3BlcnRpZXMoYXBwLCBjb250ZXh0LCByZW5kZXIpIHtcbiAgICBpbnN0YWxsRmlsdGVyTWV0aG9kKGFwcCwgY29udGV4dCk7XG4gICAgaW5zdGFsbExlZ2FjeU9wdGlvbk1lcmdlU3RyYXRzKGFwcC5jb25maWcpO1xuICAgIGlmICghc2luZ2xldG9uQXBwKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIGNhbGwgb2YgY3JlYXRpbmcgdGhlIHNpbmdsZXRvbiBpdHNlbGYgc28gdGhlIHJlc3QgaXNcbiAgICAgICAgLy8gdW5uZWNlc3NhcnlcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnN0YWxsQ29tcGF0TW91bnQoYXBwLCBjb250ZXh0LCByZW5kZXIpO1xuICAgIGluc3RhbGxMZWdhY3lBUElzKGFwcCk7XG4gICAgYXBwbHlTaW5nbGV0b25BcHBNdXRhdGlvbnMoYXBwKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKVxuICAgICAgICBpbnN0YWxsTGVnYWN5Q29uZmlnV2FybmluZ3MoYXBwLmNvbmZpZyk7XG59XG5mdW5jdGlvbiBpbnN0YWxsRmlsdGVyTWV0aG9kKGFwcCwgY29udGV4dCkge1xuICAgIGNvbnRleHQuZmlsdGVycyA9IHt9O1xuICAgIGFwcC5maWx0ZXIgPSAobmFtZSwgZmlsdGVyKSA9PiB7XG4gICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJGSUxURVJTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5GSUxURVJTICovLCBudWxsKTtcbiAgICAgICAgaWYgKCFmaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmZpbHRlcnNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb250ZXh0LmZpbHRlcnNbbmFtZV0pIHtcbiAgICAgICAgICAgIHdhcm4kMShgRmlsdGVyIFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmZpbHRlcnNbbmFtZV0gPSBmaWx0ZXI7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGluc3RhbGxMZWdhY3lBUElzKGFwcCkge1xuICAgIC8vIGV4cG9zZSBnbG9iYWwgQVBJIG9uIGFwcCBpbnN0YW5jZSBmb3IgbGVnYWN5IHBsdWdpbnNcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhcHAsIHtcbiAgICAgICAgLy8gc28gdGhhdCBhcHAudXNlKCkgY2FuIHdvcmsgd2l0aCBsZWdhY3kgcGx1Z2lucyB0aGF0IGV4dGVuZCBwcm90b3R5cGVzXG4gICAgICAgIHByb3RvdHlwZToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuRGVwcmVjYXRpb24oXCJHTE9CQUxfUFJPVE9UWVBFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfUFJPVE9UWVBFICovLCBudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBuZXh0VGljazogeyB2YWx1ZTogbmV4dFRpY2sgfSxcbiAgICAgICAgZXh0ZW5kOiB7IHZhbHVlOiBzaW5nbGV0b25DdG9yLmV4dGVuZCB9LFxuICAgICAgICBzZXQ6IHsgdmFsdWU6IHNpbmdsZXRvbkN0b3Iuc2V0IH0sXG4gICAgICAgIGRlbGV0ZTogeyB2YWx1ZTogc2luZ2xldG9uQ3Rvci5kZWxldGUgfSxcbiAgICAgICAgb2JzZXJ2YWJsZTogeyB2YWx1ZTogc2luZ2xldG9uQ3Rvci5vYnNlcnZhYmxlIH0sXG4gICAgICAgIHV0aWw6IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2luZ2xldG9uQ3Rvci51dGlsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBhcHBseVNpbmdsZXRvbkFwcE11dGF0aW9ucyhhcHApIHtcbiAgICAvLyBjb3B5IG92ZXIgYXNzZXQgcmVnaXN0cmllcyBhbmQgZGVvcHQgZmxhZ1xuICAgIGFwcC5fY29udGV4dC5taXhpbnMgPSBbLi4uc2luZ2xldG9uQXBwLl9jb250ZXh0Lm1peGluc107XG4gICAgWydjb21wb25lbnRzJywgJ2RpcmVjdGl2ZXMnLCAnZmlsdGVycyddLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhcHAuX2NvbnRleHRba2V5XSA9IE9iamVjdC5jcmVhdGUoc2luZ2xldG9uQXBwLl9jb250ZXh0W2tleV0pO1xuICAgIH0pO1xuICAgIC8vIGNvcHkgb3ZlciBnbG9iYWwgY29uZmlnIG11dGF0aW9uc1xuICAgIGlzQ29weWluZ0NvbmZpZyA9IHRydWU7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2luZ2xldG9uQXBwLmNvbmZpZykge1xuICAgICAgICBpZiAoa2V5ID09PSAnaXNOYXRpdmVUYWcnKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmIChpc1J1bnRpbWVPbmx5KCkgJiZcbiAgICAgICAgICAgIChrZXkgPT09ICdpc0N1c3RvbUVsZW1lbnQnIHx8IGtleSA9PT0gJ2NvbXBpbGVyT3B0aW9ucycpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWwgPSBzaW5nbGV0b25BcHAuY29uZmlnW2tleV07XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXBwLmNvbmZpZ1trZXldID0gaXNPYmplY3QodmFsKSA/IE9iamVjdC5jcmVhdGUodmFsKSA6IHZhbDtcbiAgICAgICAgLy8gY29tcGF0IGZvciBydW50aW1lIGlnbm9yZWRFbGVtZW50cyAtPiBpc0N1c3RvbUVsZW1lbnRcbiAgICAgICAgaWYgKGtleSA9PT0gJ2lnbm9yZWRFbGVtZW50cycgJiZcbiAgICAgICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIkNPTkZJR19JR05PUkVEX0VMRU1FTlRTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfSUdOT1JFRF9FTEVNRU5UUyAqLywgbnVsbCkgJiZcbiAgICAgICAgICAgICFpc1J1bnRpbWVPbmx5KCkgJiZcbiAgICAgICAgICAgIGlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgYXBwLmNvbmZpZy5jb21waWxlck9wdGlvbnMuaXNDdXN0b21FbGVtZW50ID0gdGFnID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsLnNvbWUodiA9PiAoaXNTdHJpbmcodikgPyB2ID09PSB0YWcgOiB2LnRlc3QodGFnKSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0NvcHlpbmdDb25maWcgPSBmYWxzZTtcbiAgICBhcHBseVNpbmdsZXRvblByb3RvdHlwZShhcHAsIHNpbmdsZXRvbkN0b3IpO1xufVxuZnVuY3Rpb24gYXBwbHlTaW5nbGV0b25Qcm90b3R5cGUoYXBwLCBDdG9yKSB7XG4gICAgLy8gY29weSBwcm90b3R5cGUgYXVnbWVudGF0aW9ucyBhcyBjb25maWcuZ2xvYmFsUHJvcGVydGllc1xuICAgIGNvbnN0IGVuYWJsZWQgPSBpc0NvbXBhdEVuYWJsZWQoXCJHTE9CQUxfUFJPVE9UWVBFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfUFJPVE9UWVBFICovLCBudWxsKTtcbiAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMgPSBPYmplY3QuY3JlYXRlKEN0b3IucHJvdG90eXBlKTtcbiAgICB9XG4gICAgbGV0IGhhc1Byb3RvdHlwZUF1Z21lbnRhdGlvbnMgPSBmYWxzZTtcbiAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKEN0b3IucHJvdG90eXBlKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBkZXNjcmlwdG9ycykge1xuICAgICAgICBpZiAoa2V5ICE9PSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgICBoYXNQcm90b3R5cGVBdWdtZW50YXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywga2V5LCBkZXNjcmlwdG9yc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhhc1Byb3RvdHlwZUF1Z21lbnRhdGlvbnMpIHtcbiAgICAgICAgd2FybkRlcHJlY2F0aW9uKFwiR0xPQkFMX1BST1RPVFlQRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX1BST1RPVFlQRSAqLywgbnVsbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5zdGFsbENvbXBhdE1vdW50KGFwcCwgY29udGV4dCwgcmVuZGVyKSB7XG4gICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFZ1ZSAyIHN1cHBvcnRzIHRoZSBiZWhhdmlvciBvZiBjcmVhdGluZyBhIGNvbXBvbmVudCBpbnN0YW5jZSBidXQgbm90XG4gICAgICogbW91bnRpbmcgaXQsIHdoaWNoIGlzIG5vIGxvbmdlciBwb3NzaWJsZSBpbiBWdWUgMyAtIHRoaXMgaW50ZXJuYWxcbiAgICAgKiBmdW5jdGlvbiBzaW11bGF0ZXMgdGhhdCBiZWhhdmlvci5cbiAgICAgKi9cbiAgICBhcHAuX2NyZWF0ZVJvb3QgPSBvcHRpb25zID0+IHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoY29tcG9uZW50LCBvcHRpb25zLnByb3BzRGF0YSB8fCBudWxsKTtcbiAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGhhc05vUmVuZGVyID0gIWlzRnVuY3Rpb24oY29tcG9uZW50KSAmJiAhY29tcG9uZW50LnJlbmRlciAmJiAhY29tcG9uZW50LnRlbXBsYXRlO1xuICAgICAgICBjb25zdCBlbXB0eVJlbmRlciA9ICgpID0+IHsgfTtcbiAgICAgICAgLy8gY3JlYXRlIHJvb3QgaW5zdGFuY2VcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgbnVsbCwgbnVsbCk7XG4gICAgICAgIC8vIHN1cHByZXNzIFwibWlzc2luZyByZW5kZXIgZm5cIiB3YXJuaW5nIHNpbmNlIGl0IGNhbid0IGJlIGRldGVybWluZWRcbiAgICAgICAgLy8gdW50aWwgJG1vdW50IGlzIGNhbGxlZFxuICAgICAgICBpZiAoaGFzTm9SZW5kZXIpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IGVtcHR5UmVuZGVyO1xuICAgICAgICB9XG4gICAgICAgIHNldHVwQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgICAgICAgdm5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XG4gICAgICAgIHZub2RlLmlzQ29tcGF0Um9vdCA9IHRydWU7XG4gICAgICAgIC8vICRtb3VudCAmICRkZXN0cm95XG4gICAgICAgIC8vIHRoZXNlIGFyZSBkZWZpbmVkIG9uIGN0eCBhbmQgcGlja2VkIHVwIGJ5IHRoZSAkbW91bnQvJGRlc3Ryb3lcbiAgICAgICAgLy8gcHVibGljIHByb3BlcnR5IGdldHRlcnMgb24gdGhlIGluc3RhbmNlIHByb3h5LlxuICAgICAgICAvLyBOb3RlOiB0aGUgZm9sbG93aW5nIGFzc3VtZXMgRE9NIGVudmlyb25tZW50IHNpbmNlIHRoZSBjb21wYXQgYnVpbGRcbiAgICAgICAgLy8gb25seSB0YXJnZXRzIHdlYi4gSXQgZXNzZW50aWFsbHkgaW5jbHVkZXMgbG9naWMgZm9yIGFwcC5tb3VudCBmcm9tXG4gICAgICAgIC8vIGJvdGggcnVudGltZS1jb3JlIEFORCBydW50aW1lLWRvbS5cbiAgICAgICAgaW5zdGFuY2UuY3R4Ll9jb21wYXRfbW91bnQgPSAoc2VsZWN0b3JPckVsKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgUm9vdCBpbnN0YW5jZSBpcyBhbHJlYWR5IG1vdW50ZWQuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3JPckVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JPckVsKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgRmFpbGVkIHRvIG1vdW50IHJvb3QgaW5zdGFuY2U6IHNlbGVjdG9yIFwiJHtzZWxlY3Rvck9yRWx9XCIgcmV0dXJuZWQgbnVsbC5gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBzZWxlY3Rvck9yRWwgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc1NWRyA9IGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XG4gICAgICAgICAgICAvLyBITVIgcm9vdCByZWxvYWRcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlbG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBhdCBtb2RlIHdpbGwgdXNlIGluc3RhbmNlIGlmIG5vdCByZXNldCB0byBudWxsXG4gICAgICAgICAgICAgICAgICAgIGNsb25lZC5jb21wb25lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXIoY2xvbmVkLCBjb250YWluZXIsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVzb2x2ZSBpbi1ET00gdGVtcGxhdGUgaWYgY29tcG9uZW50IGRpZCBub3QgcHJvdmlkZSByZW5kZXJcbiAgICAgICAgICAgIC8vIGFuZCBubyBzZXR1cC9taXhpbiByZW5kZXIgZnVuY3Rpb25zIGFyZSBwcm92aWRlZCAoYnkgY2hlY2tpbmdcbiAgICAgICAgICAgIC8vIHRoYXQgdGhlIGluc3RhbmNlIGlzIHN0aWxsIHVzaW5nIHRoZSBwbGFjZWhvbGRlciByZW5kZXIgZm4pXG4gICAgICAgICAgICBpZiAoaGFzTm9SZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBlbXB0eVJlbmRlcikge1xuICAgICAgICAgICAgICAgIC8vIHJvb3QgZGlyZWN0aXZlcyBjaGVja1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250YWluZXIuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0ciA9IGNvbnRhaW5lci5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHIubmFtZSAhPT0gJ3YtY2xvYWsnICYmIC9eKHYtfDp8QCkvLnRlc3QoYXR0ci5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5EZXByZWNhdGlvbihcIkdMT0JBTF9NT1VOVF9DT05UQUlORVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9NT1VOVF9DT05UQUlORVIgKi8sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgZmFsc2UsIHRydWUgLyogc2tpcCBvcHRpb25zICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyIGNvbnRlbnQgYmVmb3JlIG1vdW50aW5nXG4gICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAvLyBUT0RPIGh5ZHJhdGlvblxuICAgICAgICAgICAgcmVuZGVyKHZub2RlLCBjb250YWluZXIsIGlzU1ZHKTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgndi1jbG9haycpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtdi1hcHAnLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgYXBwLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgICAgICBjb250YWluZXIuX192dWVfYXBwX18gPSBhcHA7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xuICAgICAgICB9O1xuICAgICAgICBpbnN0YW5jZS5jdHguX2NvbXBhdF9kZXN0cm95ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcihudWxsLCBhcHAuX2NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBhcHAuX2NvbnRhaW5lci5fX3Z1ZV9hcHBfXztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYnVtLCBzY29wZSwgdW0gfSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIC8vIGJlZm9yZURlc3Ryb3kgaG9va3NcbiAgICAgICAgICAgICAgICBpZiAoYnVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJ1bSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5lbWl0KCdob29rOmJlZm9yZURlc3Ryb3knKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3RvcCBlZmZlY3RzXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdW5tb3VudGVkIGhvb2tcbiAgICAgICAgICAgICAgICBpZiAodW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnModW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZW1pdCgnaG9vazpkZXN0cm95ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5wcm94eTtcbiAgICB9O1xufVxuY29uc3QgbWV0aG9kc1RvUGF0Y2ggPSBbXG4gICAgJ3B1c2gnLFxuICAgICdwb3AnLFxuICAgICdzaGlmdCcsXG4gICAgJ3Vuc2hpZnQnLFxuICAgICdzcGxpY2UnLFxuICAgICdzb3J0JyxcbiAgICAncmV2ZXJzZSdcbl07XG5jb25zdCBwYXRjaGVkID0gbmV3IFdlYWtTZXQoKTtcbmZ1bmN0aW9uIGRlZmluZVJlYWN0aXZlKG9iaiwga2V5LCB2YWwpIHtcbiAgICAvLyBpdCdzIHBvc3NpYmxlIGZvciB0aGUgb3JpZ2luYWwgb2JqZWN0IHRvIGJlIG11dGF0ZWQgYWZ0ZXIgYmVpbmcgZGVmaW5lZFxuICAgIC8vIGFuZCBleHBlY3RpbmcgcmVhY3Rpdml0eS4uLiB3ZSBhcmUgY292ZXJpbmcgaXQgaGVyZSBiZWNhdXNlIHRoaXMgc2VlbXMgdG9cbiAgICAvLyBiZSBhIGJpdCBtb3JlIGNvbW1vbi5cbiAgICBpZiAoaXNPYmplY3QodmFsKSAmJiAhaXNSZWFjdGl2ZSh2YWwpICYmICFwYXRjaGVkLmhhcyh2YWwpKSB7XG4gICAgICAgIGNvbnN0IHJlYWN0aXZlVmFsID0gcmVhY3RpdmUodmFsKTtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgbWV0aG9kc1RvUGF0Y2guZm9yRWFjaChtID0+IHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdmFsW21dID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGVbbV0uY2FsbChyZWFjdGl2ZVZhbCwgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgT2JqZWN0LmtleXModmFsKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5lUmVhY3RpdmVTaW1wbGUodmFsLCBrZXksIHZhbFtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaSA9IG9iai4kO1xuICAgIGlmIChpICYmIG9iaiA9PT0gaS5wcm94eSkge1xuICAgICAgICAvLyB0YXJnZXQgaXMgYSBWdWUgaW5zdGFuY2UgLSBkZWZpbmUgb24gaW5zdGFuY2UuY3R4XG4gICAgICAgIGRlZmluZVJlYWN0aXZlU2ltcGxlKGkuY3R4LCBrZXksIHZhbCk7XG4gICAgICAgIGkuYWNjZXNzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcbiAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWZpbmVSZWFjdGl2ZVNpbXBsZShvYmosIGtleSwgdmFsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZWZpbmVSZWFjdGl2ZVNpbXBsZShvYmosIGtleSwgdmFsKSB7XG4gICAgdmFsID0gaXNPYmplY3QodmFsKSA/IHJlYWN0aXZlKHZhbCkgOiB2YWw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgdHJhY2sob2JqLCBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sIGtleSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQobmV3VmFsKSB7XG4gICAgICAgICAgICB2YWwgPSBpc09iamVjdChuZXdWYWwpID8gcmVhY3RpdmUobmV3VmFsKSA6IG5ld1ZhbDtcbiAgICAgICAgICAgIHRyaWdnZXIob2JqLCBcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLywga2V5LCBuZXdWYWwpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXBwOiBudWxsLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGlzTmF0aXZlVGFnOiBOTyxcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlOiBmYWxzZSxcbiAgICAgICAgICAgIGdsb2JhbFByb3BlcnRpZXM6IHt9LFxuICAgICAgICAgICAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiB7fSxcbiAgICAgICAgICAgIGVycm9ySGFuZGxlcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgd2FybkhhbmRsZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbXBpbGVyT3B0aW9uczoge31cbiAgICAgICAgfSxcbiAgICAgICAgbWl4aW5zOiBbXSxcbiAgICAgICAgY29tcG9uZW50czoge30sXG4gICAgICAgIGRpcmVjdGl2ZXM6IHt9LFxuICAgICAgICBwcm92aWRlczogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgb3B0aW9uc0NhY2hlOiBuZXcgV2Vha01hcCgpLFxuICAgICAgICBwcm9wc0NhY2hlOiBuZXcgV2Vha01hcCgpLFxuICAgICAgICBlbWl0c0NhY2hlOiBuZXcgV2Vha01hcCgpXG4gICAgfTtcbn1cbmxldCB1aWQgPSAwO1xuZnVuY3Rpb24gY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcHAocm9vdENvbXBvbmVudCwgcm9vdFByb3BzID0gbnVsbCkge1xuICAgICAgICBpZiAoIWlzRnVuY3Rpb24ocm9vdENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIHJvb3RDb21wb25lbnQgPSBPYmplY3QuYXNzaWduKHt9LCByb290Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9vdFByb3BzICE9IG51bGwgJiYgIWlzT2JqZWN0KHJvb3RQcm9wcykpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYHJvb3QgcHJvcHMgcGFzc2VkIHRvIGFwcC5tb3VudCgpIG11c3QgYmUgYW4gb2JqZWN0LmApO1xuICAgICAgICAgICAgcm9vdFByb3BzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xuICAgICAgICBjb25zdCBpbnN0YWxsZWRQbHVnaW5zID0gbmV3IFNldCgpO1xuICAgICAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGFwcCA9IChjb250ZXh0LmFwcCA9IHtcbiAgICAgICAgICAgIF91aWQ6IHVpZCsrLFxuICAgICAgICAgICAgX2NvbXBvbmVudDogcm9vdENvbXBvbmVudCxcbiAgICAgICAgICAgIF9wcm9wczogcm9vdFByb3BzLFxuICAgICAgICAgICAgX2NvbnRhaW5lcjogbnVsbCxcbiAgICAgICAgICAgIF9jb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgX2luc3RhbmNlOiBudWxsLFxuICAgICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgICAgIGdldCBjb25maWcoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCBjb25maWcodikge1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBhcHAuY29uZmlnIGNhbm5vdCBiZSByZXBsYWNlZC4gTW9kaWZ5IGluZGl2aWR1YWwgb3B0aW9ucyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaGFzKHBsdWdpbikpIHtcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgUGx1Z2luIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmluc3RhbGwoYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihwbHVnaW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBBIHBsdWdpbiBtdXN0IGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCB3aXRoIGFuIFwiaW5zdGFsbFwiIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGZ1bmN0aW9uLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1peGluKG1peGluKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubWl4aW5zLnB1c2gobWl4aW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKCdNaXhpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtaXhpbi5uYW1lID8gYDogJHttaXhpbi5uYW1lfWAgOiAnJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJ01peGlucyBhcmUgb25seSBhdmFpbGFibGUgaW4gYnVpbGRzIHN1cHBvcnRpbmcgT3B0aW9ucyBBUEknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21wb25lbnQobmFtZSwgY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29udGV4dC5jb25maWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC5jb21wb25lbnRzW25hbWVdID0gY29tcG9uZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRpcmVjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXJlY3RpdmVzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYERpcmVjdGl2ZSBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdID0gZGlyZWN0aXZlO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW91bnQocm9vdENvbnRhaW5lciwgaXNIeWRyYXRlLCBpc1NWRykge1xuICAgICAgICAgICAgICAgIGlmICghaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICM1NTcxXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBUaGVyZSBpcyBhbHJlYWR5IGFuIGFwcCBpbnN0YW5jZSBtb3VudGVkIG9uIHRoZSBob3N0IGNvbnRhaW5lci5cXG5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgIElmIHlvdSB3YW50IHRvIG1vdW50IGFub3RoZXIgYXBwIG9uIHRoZSBzYW1lIGhvc3QgY29udGFpbmVyLGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAgeW91IG5lZWQgdG8gdW5tb3VudCB0aGUgcHJldmlvdXMgYXBwIGJ5IGNhbGxpbmcgXFxgYXBwLnVubW91bnQoKVxcYCBmaXJzdC5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIGFwcCBjb250ZXh0IG9uIHRoZSByb290IFZOb2RlLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgYmUgc2V0IG9uIHRoZSByb290IGluc3RhbmNlIG9uIGluaXRpYWwgbW91bnQuXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLmFwcENvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgICAgICAgICAvLyBITVIgcm9vdCByZWxvYWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyKGNsb25lVk5vZGUodm5vZGUpLCByb290Q29udGFpbmVyLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0h5ZHJhdGUgJiYgaHlkcmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZSh2bm9kZSwgcm9vdENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXIodm5vZGUsIHJvb3RDb250YWluZXIsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IHJvb3RDb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgIHJvb3RDb250YWluZXIuX192dWVfYXBwX18gPSBhcHA7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuX2luc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEV4cG9zZVByb3h5KHZub2RlLmNvbXBvbmVudCkgfHwgdm5vZGUuY29tcG9uZW50LnByb3h5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBBcHAgaGFzIGFscmVhZHkgYmVlbiBtb3VudGVkLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYElmIHlvdSB3YW50IHRvIHJlbW91bnQgdGhlIHNhbWUgYXBwLCBtb3ZlIHlvdXIgYXBwIGNyZWF0aW9uIGxvZ2ljIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBjcmVhdGUgZnJlc2ggYXBwIGluc3RhbmNlcyBmb3IgZWFjaCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBtb3VudCAtIGUuZy4gXFxgY29uc3QgY3JlYXRlTXlBcHAgPSAoKSA9PiBjcmVhdGVBcHAoQXBwKVxcYGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bm1vdW50KCkge1xuICAgICAgICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBDYW5ub3QgdW5tb3VudCBhbiBhcHAgdGhhdCBpcyBub3QgbW91bnRlZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvdmlkZShrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIi4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgSXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIHRoZSBuZXcgdmFsdWUuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB7XG4gICAgICAgICAgICBpbnN0YWxsQXBwQ29tcGF0UHJvcGVydGllcyhhcHAsIGNvbnRleHQsIHJlbmRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICB9O1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIGZvciBoYW5kbGluZyBhIHRlbXBsYXRlIHJlZlxuICovXG5mdW5jdGlvbiBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgaXNVbm1vdW50ID0gZmFsc2UpIHtcbiAgICBpZiAoaXNBcnJheShyYXdSZWYpKSB7XG4gICAgICAgIHJhd1JlZi5mb3JFYWNoKChyLCBpKSA9PiBzZXRSZWYociwgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIGlzVW5tb3VudCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xuICAgICAgICAvLyB3aGVuIG1vdW50aW5nIGFzeW5jIGNvbXBvbmVudHMsIG5vdGhpbmcgbmVlZHMgdG8gYmUgZG9uZSxcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgdGVtcGxhdGUgcmVmIGlzIGZvcndhcmRlZCB0byBpbm5lciBjb21wb25lbnRcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZWZWYWx1ZSA9IHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU2hhcGVGbGFncy5TVEFURUZVTF9DT01QT05FTlQgKi9cbiAgICAgICAgPyBnZXRFeHBvc2VQcm94eSh2bm9kZS5jb21wb25lbnQpIHx8IHZub2RlLmNvbXBvbmVudC5wcm94eVxuICAgICAgICA6IHZub2RlLmVsO1xuICAgIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xuICAgIGNvbnN0IHsgaTogb3duZXIsIHI6IHJlZiB9ID0gcmF3UmVmO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIW93bmVyKSB7XG4gICAgICAgIHdhcm4kMShgTWlzc2luZyByZWYgb3duZXIgY29udGV4dC4gcmVmIGNhbm5vdCBiZSB1c2VkIG9uIGhvaXN0ZWQgdm5vZGVzLiBgICtcbiAgICAgICAgICAgIGBBIHZub2RlIHdpdGggcmVmIG11c3QgYmUgY3JlYXRlZCBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbi5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvbGRSZWYgPSBvbGRSYXdSZWYgJiYgb2xkUmF3UmVmLnI7XG4gICAgY29uc3QgcmVmcyA9IG93bmVyLnJlZnMgPT09IEVNUFRZX09CSiA/IChvd25lci5yZWZzID0ge30pIDogb3duZXIucmVmcztcbiAgICBjb25zdCBzZXR1cFN0YXRlID0gb3duZXIuc2V0dXBTdGF0ZTtcbiAgICAvLyBkeW5hbWljIHJlZiBjaGFuZ2VkLiB1bnNldCBvbGQgcmVmXG4gICAgaWYgKG9sZFJlZiAhPSBudWxsICYmIG9sZFJlZiAhPT0gcmVmKSB7XG4gICAgICAgIGlmIChpc1N0cmluZyhvbGRSZWYpKSB7XG4gICAgICAgICAgICByZWZzW29sZFJlZl0gPSBudWxsO1xuICAgICAgICAgICAgaWYgKGhhc093bihzZXR1cFN0YXRlLCBvbGRSZWYpKSB7XG4gICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtvbGRSZWZdID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlZihvbGRSZWYpKSB7XG4gICAgICAgICAgICBvbGRSZWYudmFsdWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKHJlZikpIHtcbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKHJlZiwgb3duZXIsIDEyIC8qIEVycm9yQ29kZXMuRlVOQ1RJT05fUkVGICovLCBbdmFsdWUsIHJlZnNdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IF9pc1N0cmluZyA9IGlzU3RyaW5nKHJlZik7XG4gICAgICAgIGNvbnN0IF9pc1JlZiA9IGlzUmVmKHJlZik7XG4gICAgICAgIGlmIChfaXNTdHJpbmcgfHwgX2lzUmVmKSB7XG4gICAgICAgICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmYpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBfaXNTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaGFzT3duKHNldHVwU3RhdGUsIHJlZilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNldHVwU3RhdGVbcmVmXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVmc1tyZWZdXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVW5tb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheShleGlzdGluZykgJiYgcmVtb3ZlKGV4aXN0aW5nLCByZWZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkoZXhpc3RpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZzW3JlZl0gPSBbcmVmVmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIHJlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHJlZnNbcmVmXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1JlZi5rKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmc1tyYXdSZWYua10gPSByZWYudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWV4aXN0aW5nLmluY2x1ZGVzKHJlZlZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLnB1c2gocmVmVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgICAgICAgICAgICByZWZzW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093bihzZXR1cFN0YXRlLCByZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChfaXNSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdSZWYuaylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnNbcmF3UmVmLmtdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJ0ludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6JywgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRvU2V0LmlkID0gLTE7XG4gICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb1NldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybiQxKCdJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOicsIHJlZiwgYCgke3R5cGVvZiByZWZ9KWApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5sZXQgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcbmNvbnN0IGlzU1ZHQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gL3N2Zy8udGVzdChjb250YWluZXIubmFtZXNwYWNlVVJJKSAmJiBjb250YWluZXIudGFnTmFtZSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xuY29uc3QgaXNDb21tZW50ID0gKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDggLyogRE9NTm9kZVR5cGVzLkNPTU1FTlQgKi87XG4vLyBOb3RlOiBoeWRyYXRpb24gaXMgRE9NLXNwZWNpZmljXG4vLyBCdXQgd2UgaGF2ZSB0byBwbGFjZSBpdCBpbiBjb3JlIGR1ZSB0byB0aWdodCBjb3VwbGluZyB3aXRoIGNvcmUgLSBzcGxpdHRpbmdcbi8vIGl0IG91dCBjcmVhdGVzIGEgdG9uIG9mIHVubmVjZXNzYXJ5IGNvbXBsZXhpdHkuXG4vLyBIeWRyYXRpb24gYWxzbyBkZXBlbmRzIG9uIHNvbWUgcmVuZGVyZXIgaW50ZXJuYWwgbG9naWMgd2hpY2ggbmVlZHMgdG8gYmVcbi8vIHBhc3NlZCBpbiB2aWEgYXJndW1lbnRzLlxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gICAgY29uc3QgeyBtdDogbW91bnRDb21wb25lbnQsIHA6IHBhdGNoLCBvOiB7IHBhdGNoUHJvcCwgY3JlYXRlVGV4dCwgbmV4dFNpYmxpbmcsIHBhcmVudE5vZGUsIHJlbW92ZSwgaW5zZXJ0LCBjcmVhdGVDb21tZW50IH0gfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICAgIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xuICAgICAgICBpZiAoIWNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm4kMShgQXR0ZW1wdGluZyB0byBoeWRyYXRlIGV4aXN0aW5nIG1hcmt1cCBidXQgY29udGFpbmVyIGlzIGVtcHR5LiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFBlcmZvcm1pbmcgZnVsbCBtb3VudCBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgICAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhc01pc21hdGNoID0gZmFsc2U7XG4gICAgICAgIGh5ZHJhdGVOb2RlKGNvbnRhaW5lci5maXJzdENoaWxkLCB2bm9kZSwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICAgICAgaWYgKGhhc01pc21hdGNoICYmICFmYWxzZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBlcnJvciBzaG91bGQgc2hvdyB1cCBpbiBwcm9kdWN0aW9uXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBIeWRyYXRpb24gY29tcGxldGVkIGJ1dCBjb250YWlucyBtaXNtYXRjaGVzLmApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoeWRyYXRlTm9kZSA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgICAgICBjb25zdCBpc0ZyYWdtZW50U3RhcnQgPSBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWyc7XG4gICAgICAgIGNvbnN0IG9uTWlzbWF0Y2ggPSAoKSA9PiBoYW5kbGVNaXNtYXRjaChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50U3RhcnQpO1xuICAgICAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnLCBwYXRjaEZsYWcgfSA9IHZub2RlO1xuICAgICAgICBsZXQgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIHZub2RlLmVsID0gbm9kZTtcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA9PT0gLTIgLyogUGF0Y2hGbGFncy5CQUlMICovKSB7XG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHROb2RlID0gbnVsbDtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFRleHQ6XG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDMgLyogRE9NTm9kZVR5cGVzLlRFWFQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gIzU3MjggZW1wdHkgdGV4dCBub2RlIGluc2lkZSBhIHNsb3QgY2FuIGNhdXNlIGh5ZHJhdGlvbiBmYWlsdXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhlIHNlcnZlciByZW5kZXJlZCBIVE1MIHdvbid0IGNvbnRhaW4gYSB0ZXh0IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0KCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoJycpKSwgcGFyZW50Tm9kZShub2RlKSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2g6YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcXG4tIENsaWVudDogJHtKU09OLnN0cmluZ2lmeShub2RlLmRhdGEpfWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBTZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkodm5vZGUuY2hpbGRyZW4pfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogRE9NTm9kZVR5cGVzLkNPTU1FTlQgKi8gfHwgaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFN0YXRpYzpcbiAgICAgICAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVudGlyZSB0ZW1wbGF0ZSBpcyBzdGF0aWMgYnV0IFNTUmVkIGFzIGEgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT09IDEgLyogRE9NTm9kZVR5cGVzLkVMRU1FTlQgKi8gfHwgZG9tVHlwZSA9PT0gMyAvKiBET01Ob2RlVHlwZXMuVEVYVCAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmUgYW5jaG9yLCBhZG9wdCBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHN0YXRpYyB2bm9kZSBoYXMgaXRzIGNvbnRlbnQgc3RyaXBwZWQgZHVyaW5nIGJ1aWxkLFxuICAgICAgICAgICAgICAgICAgICAvLyBhZG9wdCBpdCBmcm9tIHRoZSBzZXJ2ZXItcmVuZGVyZWQgSFRNTC5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZFRvQWRvcHRDb250ZW50ID0gIXZub2RlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZS5zdGF0aWNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVlZFRvQWRvcHRDb250ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLm5vZGVUeXBlID09PSAxIC8qIERPTU5vZGVUeXBlcy5FTEVNRU5UICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5leHROb2RlLm91dGVySFRNTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXh0Tm9kZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHROb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzRnJhZ21lbnRTdGFydCA/IG5leHRTaWJsaW5nKG5leHROb2RlKSA6IG5leHROb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb25NaXNtYXRjaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgICAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVGcmFnbWVudChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSAxIC8qIERPTU5vZGVUeXBlcy5FTEVNRU5UICovIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS50eXBlLnRvTG93ZXJDYXNlKCkgIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRWxlbWVudChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBzZXR0aW5nIHVwIHRoZSByZW5kZXIgZWZmZWN0LCBpZiB0aGUgaW5pdGlhbCB2bm9kZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyAuZWwgc2V0LCB0aGUgY29tcG9uZW50IHdpbGwgcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudFxuICAgICAgICAgICAgICAgICAgICAvLyBvbiBpdHMgc3ViLXRyZWUuXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgbW91bnRDb21wb25lbnQodm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBiZSBhc3luYywgc28gaW4gdGhlIGNhc2Ugb2YgZnJhZ21lbnRzIHdlIGNhbm5vdCByZWx5XG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGNvbXBvbmVudCdzIHJlbmRlcmVkIG91dHB1dCB0byBkZXRlcm1pbmUgdGhlIGVuZCBvZiB0aGUgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5zdGVhZCwgd2UgZG8gYSBsb29rYWhlYWQgdG8gZmluZCB0aGUgZW5kIGFuY2hvciBub2RlLlxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGlzRnJhZ21lbnRTdGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3Iobm9kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vICM0MjkzIHRlbGVwb3J0IGFzIGNvbXBvbmVudCByb290XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Tm9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21tZW50KG5leHROb2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUuZGF0YSA9PT0gJ3RlbGVwb3J0IGVuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICMzNzg3XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGNvbXBvbmVudCBpcyBhc3luYywgaXQgbWF5IGdldCBtb3ZlZCAvIHVubW91bnRlZCBiZWZvcmUgaXRzXG4gICAgICAgICAgICAgICAgICAgIC8vIGlubmVyIGNvbXBvbmVudCBpcyBsb2FkZWQsIHNvIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIHRoYXQgbWF0Y2hlcyBpdHMgYWRvcHRlZCBET00uXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJUcmVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUgPSBjcmVhdGVWTm9kZShGcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVHJlZS5hbmNob3IgPSBuZXh0Tm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5leHROb2RlLnByZXZpb3VzU2libGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNvbnRhaW5lci5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUcmVlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGNyZWF0ZVRleHRWTm9kZSgnJykgOiBjcmVhdGVWTm9kZSgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJUcmVlLmVsID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLmNvbXBvbmVudC5zdWJUcmVlID0gc3ViVHJlZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4IC8qIERPTU5vZGVUeXBlcy5DT01NRU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gdm5vZGUudHlwZS5oeWRyYXRlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVDaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKHBhcmVudE5vZGUobm9kZSkpLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMSgnSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHROb2RlO1xuICAgIH07XG4gICAgY29uc3QgaHlkcmF0ZUVsZW1lbnQgPSAoZWwsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHBhdGNoRmxhZywgc2hhcGVGbGFnLCBkaXJzIH0gPSB2bm9kZTtcbiAgICAgICAgLy8gIzQwMDYgZm9yIGZvcm0gZWxlbWVudHMgd2l0aCBub24tc3RyaW5nIHYtbW9kZWwgdmFsdWUgYmluZGluZ3NcbiAgICAgICAgLy8gZS5nLiA8b3B0aW9uIDp2YWx1ZT1cIm9ialwiPiwgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIDp0cnVlLXZhbHVlPVwiMVwiPlxuICAgICAgICBjb25zdCBmb3JjZVBhdGNoVmFsdWUgPSAodHlwZSA9PT0gJ2lucHV0JyAmJiBkaXJzKSB8fCB0eXBlID09PSAnb3B0aW9uJztcbiAgICAgICAgLy8gc2tpcCBwcm9wcyAmIGNoaWxkcmVuIGlmIHRoaXMgaXMgaG9pc3RlZCBzdGF0aWMgbm9kZXNcbiAgICAgICAgLy8gIzU0MDUgaW4gZGV2LCBhbHdheXMgaHlkcmF0ZSBjaGlsZHJlbiBmb3IgSE1SXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgZm9yY2VQYXRjaFZhbHVlIHx8IHBhdGNoRmxhZyAhPT0gLTEgLyogUGF0Y2hGbGFncy5IT0lTVEVEICovKSB7XG4gICAgICAgICAgICBpZiAoZGlycykge1xuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2NyZWF0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByb3BzXG4gICAgICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yY2VQYXRjaFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgICAgICFvcHRpbWl6ZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgKDE2IC8qIFBhdGNoRmxhZ3MuRlVMTF9QUk9QUyAqLyB8IDMyIC8qIFBhdGNoRmxhZ3MuSFlEUkFURV9FVkVOVFMgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGZvcmNlUGF0Y2hWYWx1ZSAmJiBrZXkuZW5kc1dpdGgoJ3ZhbHVlJykpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGlzT24oa2V5KSAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSwgZmFsc2UsIHVuZGVmaW5lZCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wcy5vbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgY2xpY2sgbGlzdGVuZXJzICh3aGljaCBpcyBtb3N0IG9mdGVuKSB0byBhdm9pZFxuICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRpbmcgdGhyb3VnaCBwcm9wcy5cbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCAnb25DbGljaycsIG51bGwsIHByb3BzLm9uQ2xpY2ssIGZhbHNlLCB1bmRlZmluZWQsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdm5vZGUgLyBkaXJlY3RpdmUgaG9va3NcbiAgICAgICAgICAgIGxldCB2bm9kZUhvb2tzO1xuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xuICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlTW91bnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBkaXJzKSB7XG4gICAgICAgICAgICAgICAgcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdtb3VudGVkJyk7XG4gICAgICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hpbGRyZW5cbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovICYmXG4gICAgICAgICAgICAgICAgLy8gc2tpcCBpZiBlbGVtZW50IGhhcyBpbm5lckhUTUwgLyB0ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oZWwuZmlyc3RDaGlsZCwgdm5vZGUsIGVsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBpbiA8JHt2bm9kZS50eXBlfT46IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBzZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBtb3JlIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBTU1JlZCBET00gY29udGFpbnMgbW9yZSBub2RlcyB0aGFuIGl0IHNob3VsZC4gUmVtb3ZlIHRoZW0uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1ciA9IG5leHQ7XG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmUoY3VyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA4IC8qIFNoYXBlRmxhZ3MuVEVYVF9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgICAgIGlmIChlbC50ZXh0Q29udGVudCAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgSHlkcmF0aW9uIHRleHQgY29udGVudCBtaXNtYXRjaCBpbiA8JHt2bm9kZS50eXBlfT46XFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gQ2xpZW50OiAke2VsLnRleHRDb250ZW50fVxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtIFNlcnZlcjogJHt2bm9kZS5jaGlsZHJlbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsLm5leHRTaWJsaW5nO1xuICAgIH07XG4gICAgY29uc3QgaHlkcmF0ZUNoaWxkcmVuID0gKG5vZGUsIHBhcmVudFZOb2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXBhcmVudFZOb2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnRWTm9kZS5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgdm5vZGUgPSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICA/IGNoaWxkcmVuW2ldXG4gICAgICAgICAgICAgICAgOiAoY2hpbGRyZW5baV0gPSBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gaHlkcmF0ZU5vZGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IFRleHQgJiYgIXZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIGluIDwke2NvbnRhaW5lci50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PjogYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgc2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgZmV3ZXIgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGhlIFNTUmVkIERPTSBkaWRuJ3QgY29udGFpbiBlbm91Z2ggbm9kZXMuIE1vdW50IHRoZSBtaXNzaW5nIG9uZXMuXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgc2xvdFNjb3BlSWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIGNvbnN0IGh5ZHJhdGVGcmFnbWVudCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgY29uc3QgeyBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSB2bm9kZTtcbiAgICAgICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICAgICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHNcbiAgICAgICAgICAgICAgICA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpXG4gICAgICAgICAgICAgICAgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICBjb25zdCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIGlmIChuZXh0ICYmIGlzQ29tbWVudChuZXh0KSAmJiBuZXh0LmRhdGEgPT09ICddJykge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgPSBuZXh0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBmcmFnbWVudCBkaWRuJ3QgaHlkcmF0ZSBzdWNjZXNzZnVsbHksIHNpbmNlIHdlIGRpZG4ndCBnZXQgYSBlbmQgYW5jaG9yXG4gICAgICAgICAgICAvLyBiYWNrLiBUaGlzIHNob3VsZCBoYXZlIGxlZCB0byBub2RlL2NoaWxkcmVuIG1pc21hdGNoIHdhcm5pbmdzLlxuICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGFuY2hvciBpcyBtaXNzaW5nLCB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmUgYW5kIGluc2VydCBpdFxuICAgICAgICAgICAgaW5zZXJ0KCh2bm9kZS5hbmNob3IgPSBjcmVhdGVDb21tZW50KGBdYCkpLCBjb250YWluZXIsIG5leHQpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZU1pc21hdGNoID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnQpID0+IHtcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIHdhcm4kMShgSHlkcmF0aW9uIG5vZGUgbWlzbWF0Y2g6XFxuLSBDbGllbnQgdm5vZGU6YCwgdm5vZGUudHlwZSwgYFxcbi0gU2VydmVyIHJlbmRlcmVkIERPTTpgLCBub2RlLCBub2RlLm5vZGVUeXBlID09PSAzIC8qIERPTU5vZGVUeXBlcy5URVhUICovXG4gICAgICAgICAgICAgICAgPyBgKHRleHQpYFxuICAgICAgICAgICAgICAgIDogaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gJ1snXG4gICAgICAgICAgICAgICAgICAgID8gYChzdGFydCBvZiBmcmFnbWVudClgXG4gICAgICAgICAgICAgICAgICAgIDogYGApO1xuICAgICAgICB2bm9kZS5lbCA9IG51bGw7XG4gICAgICAgIGlmIChpc0ZyYWdtZW50KSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZXhjZXNzaXZlIGZyYWdtZW50IG5vZGVzXG4gICAgICAgICAgICBjb25zdCBlbmQgPSBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3Iobm9kZSk7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0ICE9PSBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKG5leHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgcmVtb3ZlKG5vZGUpO1xuICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyLCBuZXh0LCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBzbG90U2NvcGVJZHMpO1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICAgIGNvbnN0IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvciA9IChub2RlKSA9PiB7XG4gICAgICAgIGxldCBtYXRjaCA9IDA7XG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICBpZiAobm9kZSAmJiBpc0NvbW1lbnQobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSAnWycpXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKys7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2gtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIHJldHVybiBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbmxldCBzdXBwb3J0ZWQ7XG5sZXQgcGVyZjtcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgIHBlcmYubWFyayhgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YCk7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzUGVyZlN0YXJ0KGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICBjb25zdCBzdGFydFRhZyA9IGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gO1xuICAgICAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcbiAgICAgICAgcGVyZi5tYXJrKGVuZFRhZyk7XG4gICAgICAgIHBlcmYubWVhc3VyZShgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9PiAke3R5cGV9YCwgc3RhcnRUYWcsIGVuZFRhZyk7XG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XG4gICAgICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc1BlcmZFbmQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHN1cHBvcnRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzdXBwb3J0ZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgb25seSBjYWxsZWQgaW4gZXNtLWJ1bmRsZXIgYnVpbGRzLlxuICogSXQgaXMgY2FsbGVkIHdoZW4gYSByZW5kZXJlciBpcyBjcmVhdGVkLCBpbiBgYmFzZUNyZWF0ZVJlbmRlcmVyYCBzbyB0aGF0XG4gKiBpbXBvcnRpbmcgcnVudGltZS1jb3JlIGlzIHNpZGUtZWZmZWN0cyBmcmVlLlxuICpcbiAqIGlzdGFuYnVsLWlnbm9yZS1uZXh0XG4gKi9cbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XG4gICAgY29uc3QgbmVlZFdhcm4gPSBbXTtcbiAgICBpZiAodHlwZW9mIF9fVlVFX09QVElPTlNfQVBJX18gIT09ICdib29sZWFuJykge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfT1BUSU9OU19BUElfX2ApO1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfT1BUSU9OU19BUElfXyA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX1BST0RfREVWVE9PTFNfX2ApO1xuICAgICAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbmVlZFdhcm4ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG11bHRpID0gbmVlZFdhcm4ubGVuZ3RoID4gMTtcbiAgICAgICAgY29uc29sZS53YXJuKGBGZWF0dXJlIGZsYWcke211bHRpID8gYHNgIDogYGB9ICR7bmVlZFdhcm4uam9pbignLCAnKX0gJHttdWx0aSA/IGBhcmVgIDogYGlzYH0gbm90IGV4cGxpY2l0bHkgZGVmaW5lZC4gWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUsIGAgK1xuICAgICAgICAgICAgYHdoaWNoIGV4cGVjdHMgdGhlc2UgY29tcGlsZS10aW1lIGZlYXR1cmUgZmxhZ3MgdG8gYmUgZ2xvYmFsbHkgaW5qZWN0ZWQgYCArXG4gICAgICAgICAgICBgdmlhIHRoZSBidW5kbGVyIGNvbmZpZyBpbiBvcmRlciB0byBnZXQgYmV0dGVyIHRyZWUtc2hha2luZyBpbiB0aGUgYCArXG4gICAgICAgICAgICBgcHJvZHVjdGlvbiBidW5kbGUuXFxuXFxuYCArXG4gICAgICAgICAgICBgRm9yIG1vcmUgZGV0YWlscywgc2VlIGh0dHBzOi8vbGluay52dWVqcy5vcmcvZmVhdHVyZS1mbGFncy5gKTtcbiAgICB9XG59XG5cbmNvbnN0IHF1ZXVlUG9zdFJlbmRlckVmZmVjdCA9IHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlXG4gICAgO1xuLyoqXG4gKiBUaGUgY3JlYXRlUmVuZGVyZXIgZnVuY3Rpb24gYWNjZXB0cyB0d28gZ2VuZXJpYyBhcmd1bWVudHM6XG4gKiBIb3N0Tm9kZSBhbmQgSG9zdEVsZW1lbnQsIGNvcnJlc3BvbmRpbmcgdG8gTm9kZSBhbmQgRWxlbWVudCB0eXBlcyBpbiB0aGVcbiAqIGhvc3QgZW52aXJvbm1lbnQuIEZvciBleGFtcGxlLCBmb3IgcnVudGltZS1kb20sIEhvc3ROb2RlIHdvdWxkIGJlIHRoZSBET01cbiAqIGBOb2RlYCBpbnRlcmZhY2UgYW5kIEhvc3RFbGVtZW50IHdvdWxkIGJlIHRoZSBET00gYEVsZW1lbnRgIGludGVyZmFjZS5cbiAqXG4gKiBDdXN0b20gcmVuZGVyZXJzIGNhbiBwYXNzIGluIHRoZSBwbGF0Zm9ybSBzcGVjaWZpYyB0eXBlcyBsaWtlIHRoaXM6XG4gKlxuICogYGBgIGpzXG4gKiBjb25zdCB7IHJlbmRlciwgY3JlYXRlQXBwIH0gPSBjcmVhdGVSZW5kZXJlcjxOb2RlLCBFbGVtZW50Pih7XG4gKiAgIHBhdGNoUHJvcCxcbiAqICAgLi4ubm9kZU9wc1xuICogfSlcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zKTtcbn1cbi8vIFNlcGFyYXRlIEFQSSBmb3IgY3JlYXRpbmcgaHlkcmF0aW9uLWVuYWJsZWQgcmVuZGVyZXIuXG4vLyBIeWRyYXRpb24gbG9naWMgaXMgb25seSB1c2VkIHdoZW4gY2FsbGluZyB0aGlzIGZ1bmN0aW9uLCBtYWtpbmcgaXRcbi8vIHRyZWUtc2hha2FibGUuXG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMpO1xufVxuLy8gaW1wbGVtZW50YXRpb25cbmZ1bmN0aW9uIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GbnMpIHtcbiAgICAvLyBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyBjaGVja1xuICAgIHtcbiAgICAgICAgaW5pdEZlYXR1cmVGbGFncygpO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XG4gICAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIHNldERldnRvb2xzSG9vayh0YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXywgdGFyZ2V0KTtcbiAgICB9XG4gICAgY29uc3QgeyBpbnNlcnQ6IGhvc3RJbnNlcnQsIHJlbW92ZTogaG9zdFJlbW92ZSwgcGF0Y2hQcm9wOiBob3N0UGF0Y2hQcm9wLCBjcmVhdGVFbGVtZW50OiBob3N0Q3JlYXRlRWxlbWVudCwgY3JlYXRlVGV4dDogaG9zdENyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQ6IGhvc3RDcmVhdGVDb21tZW50LCBzZXRUZXh0OiBob3N0U2V0VGV4dCwgc2V0RWxlbWVudFRleHQ6IGhvc3RTZXRFbGVtZW50VGV4dCwgcGFyZW50Tm9kZTogaG9zdFBhcmVudE5vZGUsIG5leHRTaWJsaW5nOiBob3N0TmV4dFNpYmxpbmcsIHNldFNjb3BlSWQ6IGhvc3RTZXRTY29wZUlkID0gTk9PUCwgaW5zZXJ0U3RhdGljQ29udGVudDogaG9zdEluc2VydFN0YXRpY0NvbnRlbnQgfSA9IG9wdGlvbnM7XG4gICAgLy8gTm90ZTogZnVuY3Rpb25zIGluc2lkZSB0aGlzIGNsb3N1cmUgc2hvdWxkIHVzZSBgY29uc3QgeHh4ID0gKCkgPT4ge31gXG4gICAgLy8gc3R5bGUgaW4gb3JkZXIgdG8gcHJldmVudCBiZWluZyBpbmxpbmVkIGJ5IG1pbmlmaWVycy5cbiAgICBjb25zdCBwYXRjaCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yID0gbnVsbCwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCwgcGFyZW50U3VzcGVuc2UgPSBudWxsLCBpc1NWRyA9IGZhbHNlLCBzbG90U2NvcGVJZHMgPSBudWxsLCBvcHRpbWl6ZWQgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZyA/IGZhbHNlIDogISFuMi5keW5hbWljQ2hpbGRyZW4pID0+IHtcbiAgICAgICAgaWYgKG4xID09PSBuMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhdGNoaW5nICYgbm90IHNhbWUgdHlwZSwgdW5tb3VudCBvbGQgdHJlZVxuICAgICAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgICAgICBhbmNob3IgPSBnZXROZXh0SG9zdE5vZGUobjEpO1xuICAgICAgICAgICAgdW5tb3VudChuMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgICBuMSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4yLnBhdGNoRmxhZyA9PT0gLTIgLyogUGF0Y2hGbGFncy5CQUlMICovKSB7XG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZyB9ID0gbjI7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUZXh0OlxuICAgICAgICAgICAgICAgIHByb2Nlc3NUZXh0KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICAgICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU3RhdGljOlxuICAgICAgICAgICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdW50U3RhdGljTm9kZShuMiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoU3RhdGljTm9kZShuMSwgbjIsIGNvbnRhaW5lciwgaXNTVkcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0ZyYWdtZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLykge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRWxlbWVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NDb21wb25lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogU2hhcGVGbGFncy5URUxFUE9SVCAqLykge1xuICAgICAgICAgICAgICAgICAgICB0eXBlLnByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICAgICAgICAgICAgICB0eXBlLnByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKCdJbnZhbGlkIFZOb2RlIHR5cGU6JywgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHJlZlxuICAgICAgICBpZiAocmVmICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50KSB7XG4gICAgICAgICAgICBzZXRSZWYocmVmLCBuMSAmJiBuMS5yZWYsIHBhcmVudFN1c3BlbnNlLCBuMiB8fCBuMSwgIW4yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgaG9zdEluc2VydCgobjIuZWwgPSBob3N0Q3JlYXRlVGV4dChuMi5jaGlsZHJlbikpLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IChuMi5lbCA9IG4xLmVsKTtcbiAgICAgICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBob3N0U2V0VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwcm9jZXNzQ29tbWVudE5vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgaG9zdEluc2VydCgobjIuZWwgPSBob3N0Q3JlYXRlQ29tbWVudChuMi5jaGlsZHJlbiB8fCAnJykpLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGVyZSdzIG5vIHN1cHBvcnQgZm9yIGR5bmFtaWMgY29tbWVudHNcbiAgICAgICAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1vdW50U3RhdGljTm9kZSA9IChuMiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHKSA9PiB7XG4gICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG4yLmVsLCBuMi5hbmNob3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV2IC8gSE1SIG9ubHlcbiAgICAgKi9cbiAgICBjb25zdCBwYXRjaFN0YXRpY05vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGlzU1ZHKSA9PiB7XG4gICAgICAgIC8vIHN0YXRpYyBub2RlcyBhcmUgb25seSBwYXRjaGVkIGR1cmluZyBkZXYgZm9yIEhNUlxuICAgICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBob3N0TmV4dFNpYmxpbmcobjEuYW5jaG9yKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xuICAgICAgICAgICAgcmVtb3ZlU3RhdGljTm9kZShuMSk7XG4gICAgICAgICAgICBbbjIuZWwsIG4yLmFuY2hvcl0gPSBob3N0SW5zZXJ0U3RhdGljQ29udGVudChuMi5jaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICAgICAgICBuMi5hbmNob3IgPSBuMS5hbmNob3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XG4gICAgICAgIGxldCBuZXh0O1xuICAgICAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGFuY2hvcikge1xuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIGVsID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBob3N0SW5zZXJ0KGFuY2hvciwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9KSA9PiB7XG4gICAgICAgIGxldCBuZXh0O1xuICAgICAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGFuY2hvcikge1xuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XG4gICAgICAgICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgICAgICAgIGVsID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBob3N0UmVtb3ZlKGFuY2hvcik7XG4gICAgfTtcbiAgICBjb25zdCBwcm9jZXNzRWxlbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBuMi50eXBlID09PSAnc3ZnJztcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICAgIG1vdW50RWxlbWVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRjaEVsZW1lbnQobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgbGV0IGVsO1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBzaGFwZUZsYWcsIHRyYW5zaXRpb24sIGRpcnMgfSA9IHZub2RlO1xuICAgICAgICBlbCA9IHZub2RlLmVsID0gaG9zdENyZWF0ZUVsZW1lbnQodm5vZGUudHlwZSwgaXNTVkcsIHByb3BzICYmIHByb3BzLmlzLCBwcm9wcyk7XG4gICAgICAgIC8vIG1vdW50IGNoaWxkcmVuIGZpcnN0LCBzaW5jZSBzb21lIHByb3BzIG1heSByZWx5IG9uIGNoaWxkIGNvbnRlbnRcbiAgICAgICAgLy8gYmVpbmcgYWxyZWFkeSByZW5kZXJlZCwgZS5nLiBgPHNlbGVjdCB2YWx1ZT5gXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA4IC8qIFNoYXBlRmxhZ3MuVEVYVF9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCB2bm9kZS5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgbW91bnRDaGlsZHJlbih2bm9kZS5jaGlsZHJlbiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHICYmIHR5cGUgIT09ICdmb3JlaWduT2JqZWN0Jywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdjcmVhdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICd2YWx1ZScgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTcGVjaWFsIGNhc2UgZm9yIHNldHRpbmcgdmFsdWUgb24gRE9NIGVsZW1lbnRzOlxuICAgICAgICAgICAgICogLSBpdCBjYW4gYmUgb3JkZXItc2Vuc2l0aXZlIChlLmcuIHNob3VsZCBiZSBzZXQgKmFmdGVyKiBtaW4vbWF4LCAjMjMyNSwgIzQwMjQpXG4gICAgICAgICAgICAgKiAtIGl0IG5lZWRzIHRvIGJlIGZvcmNlZCAoIzE0NzEpXG4gICAgICAgICAgICAgKiAjMjM1MyBwcm9wb3NlcyBhZGRpbmcgYW5vdGhlciByZW5kZXJlciBvcHRpb24gdG8gY29uZmlndXJlIHRoaXMsIGJ1dFxuICAgICAgICAgICAgICogdGhlIHByb3BlcnRpZXMgYWZmZWN0cyBhcmUgc28gZmluaXRlIGl0IGlzIHdvcnRoIHNwZWNpYWwgY2FzaW5nIGl0XG4gICAgICAgICAgICAgKiBoZXJlIHRvIHJlZHVjZSB0aGUgY29tcGxleGl0eS4gKFNwZWNpYWwgY2FzaW5nIGl0IGFsc28gc2hvdWxkIG5vdFxuICAgICAgICAgICAgICogYWZmZWN0IG5vbi1ET00gcmVuZGVyZXJzKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBwcm9wcykge1xuICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICd2YWx1ZScsIG51bGwsIHByb3BzLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xuICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNjb3BlSWRcbiAgICAgICAgc2V0U2NvcGVJZChlbCwgdm5vZGUsIHZub2RlLnNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ19fdm5vZGUnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZub2RlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgJ19fdnVlUGFyZW50Q29tcG9uZW50Jywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVNb3VudCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vICMxNTgzIEZvciBpbnNpZGUgc3VzcGVuc2UgKyBzdXNwZW5zZSBub3QgcmVzb2x2ZWQgY2FzZSwgZW50ZXIgaG9vayBzaG91bGQgY2FsbCB3aGVuIHN1c3BlbnNlIHJlc29sdmVkXG4gICAgICAgIC8vICMxNjg5IEZvciBpbnNpZGUgc3VzcGVuc2UgKyBzdXNwZW5zZSByZXNvbHZlZCBjYXNlLCBqdXN0IGNhbGwgaXRcbiAgICAgICAgY29uc3QgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSAoIXBhcmVudFN1c3BlbnNlIHx8IChwYXJlbnRTdXNwZW5zZSAmJiAhcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCkpICYmXG4gICAgICAgICAgICB0cmFuc2l0aW9uICYmXG4gICAgICAgICAgICAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQ7XG4gICAgICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fFxuICAgICAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgfHxcbiAgICAgICAgICAgIGRpcnMpIHtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnbW91bnRlZCcpO1xuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXRTY29wZUlkID0gKGVsLCB2bm9kZSwgc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgICAgICAgaWYgKHNjb3BlSWQpIHtcbiAgICAgICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2xvdFNjb3BlSWRzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RTY29wZUlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzbG90U2NvcGVJZHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGxldCBzdWJUcmVlID0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWU7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgc3ViVHJlZS5wYXRjaEZsYWcgPiAwICYmXG4gICAgICAgICAgICAgICAgc3ViVHJlZS5wYXRjaEZsYWcgJiAyMDQ4IC8qIFBhdGNoRmxhZ3MuREVWX1JPT1RfRlJBR01FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICBzdWJUcmVlID1cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZub2RlID09PSBzdWJUcmVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XG4gICAgICAgICAgICAgICAgc2V0U2NvcGVJZChlbCwgcGFyZW50Vk5vZGUsIHBhcmVudFZOb2RlLnNjb3BlSWQsIHBhcmVudFZOb2RlLnNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50LnBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHN0YXJ0ID0gMCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSAoY2hpbGRyZW5baV0gPSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGNoaWxkcmVuW2ldKVxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pKTtcbiAgICAgICAgICAgIHBhdGNoKG51bGwsIGNoaWxkLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGF0Y2hFbGVtZW50ID0gKG4xLCBuMiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gKG4yLmVsID0gbjEuZWwpO1xuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XG4gICAgICAgIC8vICMxNDI2IHRha2UgdGhlIG9sZCB2bm9kZSdzIHBhdGNoIGZsYWcgaW50byBhY2NvdW50IHNpbmNlIHVzZXIgbWF5IGNsb25lIGFcbiAgICAgICAgLy8gY29tcGlsZXItZ2VuZXJhdGVkIHZub2RlLCB3aGljaCBkZS1vcHRzIHRvIEZVTExfUFJPUFNcbiAgICAgICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2IC8qIFBhdGNoRmxhZ3MuRlVMTF9QUk9QUyAqLztcbiAgICAgICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgICAgIGNvbnN0IG5ld1Byb3BzID0gbjIucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICAvLyBkaXNhYmxlIHJlY3Vyc2UgaW4gYmVmb3JlVXBkYXRlIGhvb2tzXG4gICAgICAgIHBhcmVudENvbXBvbmVudCAmJiB0b2dnbGVSZWN1cnNlKHBhcmVudENvbXBvbmVudCwgZmFsc2UpO1xuICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpKSB7XG4gICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVVcGRhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIHRydWUpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgICAgIC8vIEhNUiB1cGRhdGVkLCBmb3JjZSBmdWxsIGRpZmZcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJlQ2hpbGRyZW5TVkcgPSBpc1NWRyAmJiBuMi50eXBlICE9PSAnZm9yZWlnbk9iamVjdCc7XG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgZWwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGFyZUNoaWxkcmVuU1ZHLCBzbG90U2NvcGVJZHMpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnR5cGUuX19obXJJZCkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XG4gICAgICAgICAgICAvLyBmdWxsIGRpZmZcbiAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4objEsIG4yLCBlbCwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcsIHNsb3RTY29wZUlkcywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICAgICAgICAvLyB0aGUgcHJlc2VuY2Ugb2YgYSBwYXRjaEZsYWcgbWVhbnMgdGhpcyBlbGVtZW50J3MgcmVuZGVyIGNvZGUgd2FzXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyIGFuZCBjYW4gdGFrZSB0aGUgZmFzdCBwYXRoLlxuICAgICAgICAgICAgLy8gaW4gdGhpcyBwYXRoIG9sZCBub2RlIGFuZCBuZXcgbm9kZSBhcmUgZ3VhcmFudGVlZCB0byBoYXZlIHRoZSBzYW1lIHNoYXBlXG4gICAgICAgICAgICAvLyAoaS5lLiBhdCB0aGUgZXhhY3Qgc2FtZSBwb3NpdGlvbiBpbiB0aGUgc291cmNlIHRlbXBsYXRlKVxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2IC8qIFBhdGNoRmxhZ3MuRlVMTF9QUk9QUyAqLykge1xuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQgcHJvcHMgY29udGFpbiBkeW5hbWljIGtleXMsIGZ1bGwgZGlmZiBuZWVkZWRcbiAgICAgICAgICAgICAgICBwYXRjaFByb3BzKGVsLCBuMiwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBjbGFzc1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgY2xhc3MgYmluZGluZ3MuXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIgLyogUGF0Y2hGbGFncy5DTEFTUyAqLykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCAnY2xhc3MnLCBudWxsLCBuZXdQcm9wcy5jbGFzcywgaXNTVkcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHN0eWxlXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBzdHlsZSBiaW5kaW5nc1xuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiA0IC8qIFBhdGNoRmxhZ3MuU1RZTEUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3N0eWxlJywgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHByb3BzXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBwcm9wL2F0dHIgYmluZGluZ3NcbiAgICAgICAgICAgICAgICAvLyBvdGhlciB0aGFuIGNsYXNzIGFuZCBzdHlsZS4gVGhlIGtleXMgb2YgZHluYW1pYyBwcm9wL2F0dHJzIGFyZSBzYXZlZCBmb3JcbiAgICAgICAgICAgICAgICAvLyBmYXN0ZXIgaXRlcmF0aW9uLlxuICAgICAgICAgICAgICAgIC8vIE5vdGUgZHluYW1pYyBrZXlzIGxpa2UgOltmb29dPVwiYmFyXCIgd2lsbCBjYXVzZSB0aGlzIG9wdGltaXphdGlvbiB0b1xuICAgICAgICAgICAgICAgIC8vIGJhaWwgb3V0IGFuZCBnbyB0aHJvdWdoIGEgZnVsbCBkaWZmIGJlY2F1c2Ugd2UgbmVlZCB0byB1bnNldCB0aGUgb2xkIGtleVxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiA4IC8qIFBhdGNoRmxhZ3MuUFJPUFMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGZsYWcgaXMgcHJlc2VudCB0aGVuIGR5bmFtaWNQcm9wcyBtdXN0IGJlIG5vbi1udWxsXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ld1Byb3BzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAjMTQ3MSBmb3JjZSBwYXRjaCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHwga2V5ID09PSAndmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBpc1NWRywgbjEuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXh0XG4gICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBvbmx5IGR5bmFtaWMgdGV4dCBjaGlsZHJlbi5cbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAxIC8qIFBhdGNoRmxhZ3MuVEVYVCAqLykge1xuICAgICAgICAgICAgICAgIGlmIChuMS5jaGlsZHJlbiAhPT0gbjIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHVub3B0aW1pemVkLCBmdWxsIGRpZmZcbiAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVVcGRhdGVkKSB8fCBkaXJzKSB7XG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XG4gICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKG4yLCBuMSwgcGFyZW50Q29tcG9uZW50LCAndXBkYXRlZCcpO1xuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBUaGUgZmFzdCBwYXRoIGZvciBibG9ja3MuXG4gICAgY29uc3QgcGF0Y2hCbG9ja0NoaWxkcmVuID0gKG9sZENoaWxkcmVuLCBuZXdDaGlsZHJlbiwgZmFsbGJhY2tDb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZOb2RlID0gbmV3Q2hpbGRyZW5baV07XG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGNvbnRhaW5lciAocGFyZW50IGVsZW1lbnQpIGZvciB0aGUgcGF0Y2guXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBcbiAgICAgICAgICAgIC8vIG9sZFZOb2RlIG1heSBiZSBhbiBlcnJvcmVkIGFzeW5jIHNldHVwKCkgY29tcG9uZW50IGluc2lkZSBTdXNwZW5zZVxuICAgICAgICAgICAgLy8gd2hpY2ggd2lsbCBub3QgaGF2ZSBhIG1vdW50ZWQgZWxlbWVudFxuICAgICAgICAgICAgb2xkVk5vZGUuZWwgJiZcbiAgICAgICAgICAgICAgICAvLyAtIEluIHRoZSBjYXNlIG9mIGEgRnJhZ21lbnQsIHdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgYWN0dWFsIHBhcmVudFxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBGcmFnbWVudCBpdHNlbGYgc28gaXQgY2FuIG1vdmUgaXRzIGNoaWxkcmVuLlxuICAgICAgICAgICAgICAgIChvbGRWTm9kZS50eXBlID09PSBGcmFnbWVudCB8fFxuICAgICAgICAgICAgICAgICAgICAvLyAtIEluIHRoZSBjYXNlIG9mIGRpZmZlcmVudCBub2RlcywgdGhlcmUgaXMgZ29pbmcgdG8gYmUgYSByZXBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBhbHNvIHJlcXVpcmVzIHRoZSBjb3JyZWN0IHBhcmVudCBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgIWlzU2FtZVZOb2RlVHlwZShvbGRWTm9kZSwgbmV3Vk5vZGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBjb21wb25lbnQsIGl0IGNvdWxkIGNvbnRhaW4gYW55dGhpbmcuXG4gICAgICAgICAgICAgICAgICAgIG9sZFZOb2RlLnNoYXBlRmxhZyAmICg2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovIHwgNjQgLyogU2hhcGVGbGFncy5URUxFUE9SVCAqLykpXG4gICAgICAgICAgICAgICAgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbClcbiAgICAgICAgICAgICAgICA6IC8vIEluIG90aGVyIGNhc2VzLCB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBub3QgYWN0dWFsbHkgdXNlZCBzbyB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IHBhc3MgdGhlIGJsb2NrIGVsZW1lbnQgaGVyZSB0byBhdm9pZCBhIERPTSBwYXJlbnROb2RlIGNhbGwuXG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyO1xuICAgICAgICAgICAgcGF0Y2gob2xkVk5vZGUsIG5ld1ZOb2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwYXRjaFByb3BzID0gKGVsLCB2bm9kZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRykgPT4ge1xuICAgICAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAob2xkUHJvcHMgIT09IEVNUFRZX09CSikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgb2xkUHJvcHNba2V5XSwgbnVsbCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgICAgICAgICAvLyBlbXB0eSBzdHJpbmcgaXMgbm90IHZhbGlkIHByb3BcbiAgICAgICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ld1Byb3BzW2tleV07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgLy8gZGVmZXIgcGF0Y2hpbmcgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiAmJiBrZXkgIT09ICd2YWx1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCAndmFsdWUnLCBvbGRQcm9wcy52YWx1ZSwgbmV3UHJvcHMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwcm9jZXNzRnJhZ21lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50U3RhcnRBbmNob3IgPSAobjIuZWwgPSBuMSA/IG4xLmVsIDogaG9zdENyZWF0ZVRleHQoJycpKTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRFbmRBbmNob3IgPSAobjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xuICAgICAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gbjI7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIC8vICM1NTIzIGRldiByb290IGZyYWdtZW50IG1heSBpbmhlcml0IGRpcmVjdGl2ZXNcbiAgICAgICAgICAgIChpc0htclVwZGF0aW5nIHx8IHBhdGNoRmxhZyAmIDIwNDggLyogUGF0Y2hGbGFncy5ERVZfUk9PVF9GUkFHTUVOVCAqLykpIHtcbiAgICAgICAgICAgIC8vIEhNUiB1cGRhdGVkIC8gRGV2IHJvb3QgZnJhZ21lbnQgKHcvIGNvbW1lbnRzKSwgZm9yY2UgZnVsbCBkaWZmXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBzbG90IGZyYWdtZW50IHdpdGggOnNsb3R0ZWQgc2NvcGUgaWRzXG4gICAgICAgIGlmIChmcmFnbWVudFNsb3RTY29wZUlkcykge1xuICAgICAgICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzXG4gICAgICAgICAgICAgICAgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKVxuICAgICAgICAgICAgICAgIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRTdGFydEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgaG9zdEluc2VydChmcmFnbWVudEVuZEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgLy8gYSBmcmFnbWVudCBjYW4gb25seSBoYXZlIGFycmF5IGNoaWxkcmVuXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGFyZSBlaXRoZXIgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciwgb3IgaW1wbGljaXRseSBjcmVhdGVkXG4gICAgICAgICAgICAvLyBmcm9tIGFycmF5cy5cbiAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4objIuY2hpbGRyZW4sIGNvbnRhaW5lciwgZnJhZ21lbnRFbmRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJlxuICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmIDY0IC8qIFBhdGNoRmxhZ3MuU1RBQkxFX0ZSQUdNRU5UICovICYmXG4gICAgICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuICYmXG4gICAgICAgICAgICAgICAgLy8gIzI3MTUgdGhlIHByZXZpb3VzIGZyYWdtZW50IGNvdWxkJ3ZlIGJlZW4gYSBCQUlMZWQgb25lIGFzIGEgcmVzdWx0XG4gICAgICAgICAgICAgICAgLy8gb2YgcmVuZGVyU2xvdCgpIHdpdGggbm8gdmFsaWQgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBhIHN0YWJsZSBmcmFnbWVudCAodGVtcGxhdGUgcm9vdCBvciA8dGVtcGxhdGUgdi1mb3I+KSBkb2Vzbid0IG5lZWQgdG9cbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBjaGlsZHJlbiBvcmRlciwgYnV0IGl0IG1heSBjb250YWluIGR5bmFtaWNDaGlsZHJlbi5cbiAgICAgICAgICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4objEuZHluYW1pY0NoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnR5cGUuX19obXJJZCkge1xuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIC8vICMyMDgwIGlmIHRoZSBzdGFibGUgZnJhZ21lbnQgaGFzIGEga2V5LCBpdCdzIGEgPHRlbXBsYXRlIHYtZm9yPiB0aGF0IG1heVxuICAgICAgICAgICAgICAgIC8vICBnZXQgbW92ZWQgYXJvdW5kLiBNYWtlIHN1cmUgYWxsIHJvb3QgbGV2ZWwgdm5vZGVzIGluaGVyaXQgZWwuXG4gICAgICAgICAgICAgICAgLy8gIzIxMzQgb3IgaWYgaXQncyBhIGNvbXBvbmVudCByb290LCBpdCBtYXkgYWxzbyBnZXQgbW92ZWQgYXJvdW5kXG4gICAgICAgICAgICAgICAgLy8gYXMgdGhlIGNvbXBvbmVudCBpcyBiZWluZyBtb3ZlZC5cbiAgICAgICAgICAgICAgICBuMi5rZXkgIT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICAocGFyZW50Q29tcG9uZW50ICYmIG4yID09PSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHRydWUgLyogc2hhbGxvdyAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8ga2V5ZWQgLyB1bmtleWVkLCBvciBtYW51YWwgZnJhZ21lbnRzLlxuICAgICAgICAgICAgICAgIC8vIGZvciBrZXllZCAmIHVua2V5ZWQsIHNpbmNlIHRoZXkgYXJlIGNvbXBpbGVyIGdlbmVyYXRlZCBmcm9tIHYtZm9yLFxuICAgICAgICAgICAgICAgIC8vIGVhY2ggY2hpbGQgaXMgZ3VhcmFudGVlZCB0byBiZSBhIGJsb2NrIHNvIHRoZSBmcmFnbWVudCB3aWxsIG5ldmVyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBkeW5hbWljQ2hpbGRyZW4uXG4gICAgICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGNvbnRhaW5lciwgZnJhZ21lbnRFbmRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChuMi5zaGFwZUZsYWcgJiA1MTIgLyogU2hhcGVGbGFncy5DT01QT05FTlRfS0VQVF9BTElWRSAqLykge1xuICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguYWN0aXZhdGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vdW50Q29tcG9uZW50KG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtb3VudENvbXBvbmVudCA9IChpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIC8vIDIueCBjb21wYXQgbWF5IHByZS1jcmVhdGUgdGhlIGNvbXBvbmVudCBpbnN0YW5jZSBiZWZvcmUgYWN0dWFsbHlcbiAgICAgICAgLy8gbW91bnRpbmdcbiAgICAgICAgY29uc3QgY29tcGF0TW91bnRJbnN0YW5jZSA9IGluaXRpYWxWTm9kZS5pc0NvbXBhdFJvb3QgJiYgaW5pdGlhbFZOb2RlLmNvbXBvbmVudDtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBjb21wYXRNb3VudEluc3RhbmNlIHx8XG4gICAgICAgICAgICAoaW5pdGlhbFZOb2RlLmNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKGluaXRpYWxWTm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSkpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgICAgICAgcmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChpbml0aWFsVk5vZGUpO1xuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbmplY3QgcmVuZGVyZXIgaW50ZXJuYWxzIGZvciBrZWVwQWxpdmVcbiAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGluaXRpYWxWTm9kZSkpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLmN0eC5yZW5kZXJlciA9IGludGVybmFscztcbiAgICAgICAgfVxuICAgICAgICAvLyByZXNvbHZlIHByb3BzIGFuZCBzbG90cyBmb3Igc2V0dXAgY29udGV4dFxuICAgICAgICBpZiAoIShjb21wYXRNb3VudEluc3RhbmNlKSkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHVwQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNldHVwKCkgaXMgYXN5bmMuIFRoaXMgY29tcG9uZW50IHJlbGllcyBvbiBhc3luYyBsb2dpYyB0byBiZSByZXNvbHZlZFxuICAgICAgICAvLyBiZWZvcmUgcHJvY2VlZGluZ1xuICAgICAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXApIHtcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCk7XG4gICAgICAgICAgICAvLyBHaXZlIGl0IGEgcGxhY2Vob2xkZXIgaWYgdGhpcyBpcyBub3QgaHlkcmF0aW9uXG4gICAgICAgICAgICAvLyBUT0RPIGhhbmRsZSBzZWxmLWRlZmluZWQgZmFsbGJhY2tcbiAgICAgICAgICAgIGlmICghaW5pdGlhbFZOb2RlLmVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAoaW5zdGFuY2Uuc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpKTtcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobnVsbCwgcGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IChuMSwgbjIsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IChuMi5jb21wb25lbnQgPSBuMS5jb21wb25lbnQpO1xuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKSkge1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmXG4gICAgICAgICAgICAgICAgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3luYyAmIHN0aWxsIHBlbmRpbmcgLSBqdXN0IHVwZGF0ZSBwcm9wcyBhbmQgc2xvdHNcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgY29tcG9uZW50J3MgcmVhY3RpdmUgZWZmZWN0IGZvciByZW5kZXIgaXNuJ3Qgc2V0LXVwIHlldFxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG4yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuMiwgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vcm1hbCB1cGRhdGVcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbjI7XG4gICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGUgY2hpbGQgY29tcG9uZW50IGlzIGFsc28gcXVldWVkLCByZW1vdmUgaXQgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAvLyBkb3VibGUgdXBkYXRpbmcgdGhlIHNhbWUgY2hpbGQgY29tcG9uZW50IGluIHRoZSBzYW1lIGZsdXNoLlxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVKb2IoaW5zdGFuY2UudXBkYXRlKTtcbiAgICAgICAgICAgICAgICAvLyBpbnN0YW5jZS51cGRhdGUgaXMgdGhlIHJlYWN0aXZlIGVmZmVjdC5cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIHVwZGF0ZSBuZWVkZWQuIGp1c3QgY29weSBvdmVyIHByb3BlcnRpZXNcbiAgICAgICAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICAgICAgICBpbnN0YW5jZS52bm9kZSA9IG4yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzZXR1cFJlbmRlckVmZmVjdCA9IChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50VXBkYXRlRm4gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbCwgcHJvcHMgfSA9IGluaXRpYWxWTm9kZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJtLCBtLCBwYXJlbnQgfSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQXN5bmNXcmFwcGVyVk5vZGUgPSBpc0FzeW5jV3JhcHBlcihpbml0aWFsVk5vZGUpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmVNb3VudCBob29rXG4gICAgICAgICAgICAgICAgaWYgKGJtKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZUJlZm9yZU1vdW50XG4gICAgICAgICAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmVtaXQoJ2hvb2s6YmVmb3JlTW91bnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGVsICYmIGh5ZHJhdGVOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIGhhcyBhZG9wdGVkIGhvc3Qgbm9kZSAtIHBlcmZvcm0gaHlkcmF0aW9uIGluc3RlYWQgb2YgbW91bnQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGh5ZHJhdGVTdWJUcmVlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRlTm9kZShlbCwgaW5zdGFuY2Uuc3ViVHJlZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXJWTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZOb2RlLnR5cGUuX19hc3luY0xvYWRlcigpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3RlOiB3ZSBhcmUgbW92aW5nIHRoZSByZW5kZXIgY2FsbCBpbnRvIGFuIGFzeW5jIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggbWVhbnMgaXQgd29uJ3QgdHJhY2sgZGVwZW5kZW5jaWVzIC0gYnV0IGl0J3Mgb2sgYmVjYXVzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBzZXJ2ZXItcmVuZGVyZWQgYXN5bmMgd3JhcHBlciBpcyBhbHJlYWR5IGluIHJlc29sdmVkIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgaXQgd2lsbCBuZXZlciBuZWVkIHRvIGNoYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+ICFpbnN0YW5jZS5pc1VubW91bnRlZCAmJiBoeWRyYXRlU3ViVHJlZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YlRyZWUgPSAoaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtb3VudGVkIGhvb2tcbiAgICAgICAgICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QobSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvblZub2RlTW91bnRlZFxuICAgICAgICAgICAgICAgIGlmICghaXNBc3luY1dyYXBwZXJWTm9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjb3BlZEluaXRpYWxWTm9kZSA9IGluaXRpYWxWTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgc2NvcGVkSW5pdGlhbFZOb2RlKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGluc3RhbmNlLmVtaXQoJ2hvb2s6bW91bnRlZCcpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGFjdGl2YXRlZCBob29rIGZvciBrZWVwLWFsaXZlIHJvb3RzLlxuICAgICAgICAgICAgICAgIC8vICMxNzQyIGFjdGl2YXRlZCBob29rIG11c3QgYmUgYWNjZXNzZWQgYWZ0ZXIgZmlyc3QgcmVuZGVyXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGhvb2sgbWF5IGJlIGluamVjdGVkIGJ5IGEgY2hpbGQga2VlcC1hbGl2ZVxuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsVk5vZGUuc2hhcGVGbGFnICYgMjU2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovIHx8XG4gICAgICAgICAgICAgICAgICAgIChwYXJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXN5bmNXcmFwcGVyKHBhcmVudC52bm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC52bm9kZS5zaGFwZUZsYWcgJiAyNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGluc3RhbmNlLmEsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW5zdGFuY2UuZW1pdCgnaG9vazphY3RpdmF0ZWQnKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICMyNDU4OiBkZWZlcmVuY2UgbW91bnQtb25seSBvYmplY3QgcGFyYW1ldGVycyB0byBwcmV2ZW50IG1lbWxlYWtzXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZOb2RlID0gY29udGFpbmVyID0gYW5jaG9yID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZUNvbXBvbmVudFxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdHJpZ2dlcmVkIGJ5IG11dGF0aW9uIG9mIGNvbXBvbmVudCdzIG93biBzdGF0ZSAobmV4dDogbnVsbClcbiAgICAgICAgICAgICAgICAvLyBPUiBwYXJlbnQgY2FsbGluZyBwcm9jZXNzQ29tcG9uZW50IChuZXh0OiBWTm9kZSlcbiAgICAgICAgICAgICAgICBsZXQgeyBuZXh0LCBidSwgdSwgcGFyZW50LCB2bm9kZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgbGV0IG9yaWdpbk5leHQgPSBuZXh0O1xuICAgICAgICAgICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobmV4dCB8fCBpbnN0YW5jZS52bm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERpc2FsbG93IGNvbXBvbmVudCBlZmZlY3QgcmVjdXJzaW9uIGR1cmluZyBwcmUtbGlmZWN5Y2xlIGhvb2tzLlxuICAgICAgICAgICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSB2bm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlVXBkYXRlIGhvb2tcbiAgICAgICAgICAgICAgICBpZiAoYnUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvblZub2RlQmVmb3JlVXBkYXRlXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5lbWl0KCdob29rOmJlZm9yZVVwZGF0ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAvLyByZW5kZXJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IG5leHRUcmVlO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGF0Y2gocHJldlRyZWUsIG5leHRUcmVlLCBcbiAgICAgICAgICAgICAgICAvLyBwYXJlbnQgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgdGVsZXBvcnRcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50Tm9kZShwcmV2VHJlZS5lbCksIFxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSBmcmFnbWVudFxuICAgICAgICAgICAgICAgIGdldE5leHRIb3N0Tm9kZShwcmV2VHJlZSksIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5leHQuZWwgPSBuZXh0VHJlZS5lbDtcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luTmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWxmLXRyaWdnZXJlZCB1cGRhdGUuIEluIGNhc2Ugb2YgSE9DLCB1cGRhdGUgcGFyZW50IGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSBlbC4gSE9DIGlzIGluZGljYXRlZCBieSBwYXJlbnQgaW5zdGFuY2UncyBzdWJUcmVlIHBvaW50aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGNoaWxkIGNvbXBvbmVudCdzIHZub2RlXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgbmV4dFRyZWUuZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVkIGhvb2tcbiAgICAgICAgICAgICAgICBpZiAodSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvblZub2RlVXBkYXRlZFxuICAgICAgICAgICAgICAgIGlmICgodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVVcGRhdGVkKSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiBpbnN0YW5jZS5lbWl0KCdob29rOnVwZGF0ZWQnKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBjcmVhdGUgcmVhY3RpdmUgZWZmZWN0IGZvciByZW5kZXJpbmdcbiAgICAgICAgY29uc3QgZWZmZWN0ID0gKGluc3RhbmNlLmVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChjb21wb25lbnRVcGRhdGVGbiwgKCkgPT4gcXVldWVKb2IodXBkYXRlKSwgaW5zdGFuY2Uuc2NvcGUgLy8gdHJhY2sgaXQgaW4gY29tcG9uZW50J3MgZWZmZWN0IHNjb3BlXG4gICAgICAgICkpO1xuICAgICAgICBjb25zdCB1cGRhdGUgPSAoaW5zdGFuY2UudXBkYXRlID0gKCkgPT4gZWZmZWN0LnJ1bigpKTtcbiAgICAgICAgdXBkYXRlLmlkID0gaW5zdGFuY2UudWlkO1xuICAgICAgICAvLyBhbGxvd1JlY3Vyc2VcbiAgICAgICAgLy8gIzE4MDEsICMyMDQzIGNvbXBvbmVudCByZW5kZXIgZWZmZWN0cyBzaG91bGQgYWxsb3cgcmVjdXJzaXZlIHVwZGF0ZXNcbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGVmZmVjdC5vblRyYWNrID0gaW5zdGFuY2UucnRjXG4gICAgICAgICAgICAgICAgPyBlID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0YywgZSlcbiAgICAgICAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgICAgICAgIGVmZmVjdC5vblRyaWdnZXIgPSBpbnN0YW5jZS5ydGdcbiAgICAgICAgICAgICAgICA/IGUgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRnLCBlKVxuICAgICAgICAgICAgICAgIDogdm9pZCAwO1xuICAgICAgICAgICAgdXBkYXRlLm93bmVySW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciA9IChpbnN0YW5jZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgbmV4dFZOb2RlLmNvbXBvbmVudCA9IGluc3RhbmNlO1xuICAgICAgICBjb25zdCBwcmV2UHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuZXh0Vk5vZGU7XG4gICAgICAgIGluc3RhbmNlLm5leHQgPSBudWxsO1xuICAgICAgICB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgbmV4dFZOb2RlLnByb3BzLCBwcmV2UHJvcHMsIG9wdGltaXplZCk7XG4gICAgICAgIHVwZGF0ZVNsb3RzKGluc3RhbmNlLCBuZXh0Vk5vZGUuY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgLy8gcHJvcHMgdXBkYXRlIG1heSBoYXZlIHRyaWdnZXJlZCBwcmUtZmx1c2ggd2F0Y2hlcnMuXG4gICAgICAgIC8vIGZsdXNoIHRoZW0gYmVmb3JlIHRoZSByZW5kZXIgdXBkYXRlLlxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKCk7XG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICB9O1xuICAgIGNvbnN0IHBhdGNoQ2hpbGRyZW4gPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgYzEgPSBuMSAmJiBuMS5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgcHJldlNoYXBlRmxhZyA9IG4xID8gbjEuc2hhcGVGbGFnIDogMDtcbiAgICAgICAgY29uc3QgYzIgPSBuMi5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgeyBwYXRjaEZsYWcsIHNoYXBlRmxhZyB9ID0gbjI7XG4gICAgICAgIC8vIGZhc3QgcGF0aFxuICAgICAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEyOCAvKiBQYXRjaEZsYWdzLktFWUVEX0ZSQUdNRU5UICovKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBiZSBlaXRoZXIgZnVsbHkta2V5ZWQgb3IgbWl4ZWQgKHNvbWUga2V5ZWQgc29tZSBub3QpXG4gICAgICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgcGF0Y2hGbGFnIG1lYW5zIGNoaWxkcmVuIGFyZSBndWFyYW50ZWVkIHRvIGJlIGFycmF5c1xuICAgICAgICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhdGNoRmxhZyAmIDI1NiAvKiBQYXRjaEZsYWdzLlVOS0VZRURfRlJBR01FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyB1bmtleWVkXG4gICAgICAgICAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hpbGRyZW4gaGFzIDMgcG9zc2liaWxpdGllczogdGV4dCwgYXJyYXkgb3Igbm8gY2hpbGRyZW4uXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA4IC8qIFNoYXBlRmxhZ3MuVEVYVF9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgLy8gdGV4dCBjaGlsZHJlbiBmYXN0IHBhdGhcbiAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYzIgIT09IGMxKSB7XG4gICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgYzIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldiBjaGlsZHJlbiB3YXMgYXJyYXlcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyB0d28gYXJyYXlzLCBjYW5ub3QgYXNzdW1lIGFueXRoaW5nLCBkbyBmdWxsIGRpZmZcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBubyBuZXcgY2hpbGRyZW4sIGp1c3QgdW5tb3VudCBvbGRcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBwcmV2IGNoaWxkcmVuIHdhcyB0ZXh0IE9SIG51bGxcbiAgICAgICAgICAgICAgICAvLyBuZXcgY2hpbGRyZW4gaXMgYXJyYXkgT1IgbnVsbFxuICAgICAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgOCAvKiBTaGFwZUZsYWdzLlRFWFRfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtb3VudCBuZXcgaWYgYXJyYXlcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgICAgICAgICBtb3VudENoaWxkcmVuKGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBjMSA9IGMxIHx8IEVNUFRZX0FSUjtcbiAgICAgICAgYzIgPSBjMiB8fCBFTVBUWV9BUlI7XG4gICAgICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gYzIubGVuZ3RoO1xuICAgICAgICBjb25zdCBjb21tb25MZW5ndGggPSBNYXRoLm1pbihvbGRMZW5ndGgsIG5ld0xlbmd0aCk7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IChjMltpXSA9IG9wdGltaXplZFxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpO1xuICAgICAgICAgICAgcGF0Y2goYzFbaV0sIG5leHRDaGlsZCwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGRcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSwgZmFsc2UsIGNvbW1vbkxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBtb3VudCBuZXdcbiAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGNvbW1vbkxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIGNhbiBiZSBhbGwta2V5ZWQgb3IgbWl4ZWRcbiAgICBjb25zdCBwYXRjaEtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgY29uc3QgbDIgPSBjMi5sZW5ndGg7XG4gICAgICAgIGxldCBlMSA9IGMxLmxlbmd0aCAtIDE7IC8vIHByZXYgZW5kaW5nIGluZGV4XG4gICAgICAgIGxldCBlMiA9IGwyIC0gMTsgLy8gbmV4dCBlbmRpbmcgaW5kZXhcbiAgICAgICAgLy8gMS4gc3luYyBmcm9tIHN0YXJ0XG4gICAgICAgIC8vIChhIGIpIGNcbiAgICAgICAgLy8gKGEgYikgZCBlXG4gICAgICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgICAgICAgIGNvbnN0IG4xID0gYzFbaV07XG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltpXSA9IG9wdGltaXplZFxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpO1xuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgICAgICAgICAgcGF0Y2gobjEsIG4yLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyAyLiBzeW5jIGZyb20gZW5kXG4gICAgICAgIC8vIGEgKGIgYylcbiAgICAgICAgLy8gZCBlIChiIGMpXG4gICAgICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgICAgICAgIGNvbnN0IG4xID0gYzFbZTFdO1xuICAgICAgICAgICAgY29uc3QgbjIgPSAoYzJbZTJdID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltlMl0pXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltlMl0pKTtcbiAgICAgICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICAgICAgICAgIHBhdGNoKG4xLCBuMiwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlMS0tO1xuICAgICAgICAgICAgZTItLTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLiBjb21tb24gc2VxdWVuY2UgKyBtb3VudFxuICAgICAgICAvLyAoYSBiKVxuICAgICAgICAvLyAoYSBiKSBjXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDEsIGUyID0gMlxuICAgICAgICAvLyAoYSBiKVxuICAgICAgICAvLyBjIChhIGIpXG4gICAgICAgIC8vIGkgPSAwLCBlMSA9IC0xLCBlMiA9IDBcbiAgICAgICAgaWYgKGkgPiBlMSkge1xuICAgICAgICAgICAgaWYgKGkgPD0gZTIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0UG9zID0gZTIgKyAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRQb3MgPCBsMiA/IGMyW25leHRQb3NdLmVsIDogcGFyZW50QW5jaG9yO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDw9IGUyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIChjMltpXSA9IG9wdGltaXplZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNC4gY29tbW9uIHNlcXVlbmNlICsgdW5tb3VudFxuICAgICAgICAvLyAoYSBiKSBjXG4gICAgICAgIC8vIChhIGIpXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDIsIGUyID0gMVxuICAgICAgICAvLyBhIChiIGMpXG4gICAgICAgIC8vIChiIGMpXG4gICAgICAgIC8vIGkgPSAwLCBlMSA9IDAsIGUyID0gLTFcbiAgICAgICAgZWxzZSBpZiAoaSA+IGUyKSB7XG4gICAgICAgICAgICB3aGlsZSAoaSA8PSBlMSkge1xuICAgICAgICAgICAgICAgIHVubW91bnQoYzFbaV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA1LiB1bmtub3duIHNlcXVlbmNlXG4gICAgICAgIC8vIFtpIC4uLiBlMSArIDFdOiBhIGIgW2MgZCBlXSBmIGdcbiAgICAgICAgLy8gW2kgLi4uIGUyICsgMV06IGEgYiBbZSBkIGMgaF0gZiBnXG4gICAgICAgIC8vIGkgPSAyLCBlMSA9IDQsIGUyID0gNVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHMxID0gaTsgLy8gcHJldiBzdGFydGluZyBpbmRleFxuICAgICAgICAgICAgY29uc3QgczIgPSBpOyAvLyBuZXh0IHN0YXJ0aW5nIGluZGV4XG4gICAgICAgICAgICAvLyA1LjEgYnVpbGQga2V5OmluZGV4IG1hcCBmb3IgbmV3Q2hpbGRyZW5cbiAgICAgICAgICAgIGNvbnN0IGtleVRvTmV3SW5kZXhNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGkgPSBzMjsgaSA8PSBlMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gKGMyW2ldID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXG4gICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dENoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5VG9OZXdJbmRleE1hcC5oYXMobmV4dENoaWxkLmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgRHVwbGljYXRlIGtleXMgZm91bmQgZHVyaW5nIHVwZGF0ZTpgLCBKU09OLnN0cmluZ2lmeShuZXh0Q2hpbGQua2V5KSwgYE1ha2Ugc3VyZSBrZXlzIGFyZSB1bmlxdWUuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAga2V5VG9OZXdJbmRleE1hcC5zZXQobmV4dENoaWxkLmtleSwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNS4yIGxvb3AgdGhyb3VnaCBvbGQgY2hpbGRyZW4gbGVmdCB0byBiZSBwYXRjaGVkIGFuZCB0cnkgdG8gcGF0Y2hcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIG5vZGVzICYgcmVtb3ZlIG5vZGVzIHRoYXQgYXJlIG5vIGxvbmdlciBwcmVzZW50XG4gICAgICAgICAgICBsZXQgajtcbiAgICAgICAgICAgIGxldCBwYXRjaGVkID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHRvQmVQYXRjaGVkID0gZTIgLSBzMiArIDE7XG4gICAgICAgICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHVzZWQgdG8gdHJhY2sgd2hldGhlciBhbnkgbm9kZSBoYXMgbW92ZWRcbiAgICAgICAgICAgIGxldCBtYXhOZXdJbmRleFNvRmFyID0gMDtcbiAgICAgICAgICAgIC8vIHdvcmtzIGFzIE1hcDxuZXdJbmRleCwgb2xkSW5kZXg+XG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgb2xkSW5kZXggaXMgb2Zmc2V0IGJ5ICsxXG4gICAgICAgICAgICAvLyBhbmQgb2xkSW5kZXggPSAwIGlzIGEgc3BlY2lhbCB2YWx1ZSBpbmRpY2F0aW5nIHRoZSBuZXcgbm9kZSBoYXNcbiAgICAgICAgICAgIC8vIG5vIGNvcnJlc3BvbmRpbmcgb2xkIG5vZGUuXG4gICAgICAgICAgICAvLyB1c2VkIGZvciBkZXRlcm1pbmluZyBsb25nZXN0IHN0YWJsZSBzdWJzZXF1ZW5jZVxuICAgICAgICAgICAgY29uc3QgbmV3SW5kZXhUb09sZEluZGV4TWFwID0gbmV3IEFycmF5KHRvQmVQYXRjaGVkKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0JlUGF0Y2hlZDsgaSsrKVxuICAgICAgICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSBzMTsgaSA8PSBlMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkNoaWxkID0gYzFbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZWQgPj0gdG9CZVBhdGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsIG5ldyBjaGlsZHJlbiBoYXZlIGJlZW4gcGF0Y2hlZCBzbyB0aGlzIGNhbiBvbmx5IGJlIGEgcmVtb3ZhbFxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbmV3SW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZDaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGtleVRvTmV3SW5kZXhNYXAuZ2V0KHByZXZDaGlsZC5rZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5LWxlc3Mgbm9kZSwgdHJ5IHRvIGxvY2F0ZSBhIGtleS1sZXNzIG5vZGUgb2YgdGhlIHNhbWUgdHlwZVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSBzMjsgaiA8PSBlMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ogLSBzMl0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NhbWVWTm9kZVR5cGUocHJldkNoaWxkLCBjMltqXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW25ld0luZGV4IC0gczJdID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSBtYXhOZXdJbmRleFNvRmFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhOZXdJbmRleFNvRmFyID0gbmV3SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gocHJldkNoaWxkLCBjMltuZXdJbmRleF0sIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hlZCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDUuMyBtb3ZlIGFuZCBtb3VudFxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgbG9uZ2VzdCBzdGFibGUgc3Vic2VxdWVuY2Ugb25seSB3aGVuIG5vZGVzIGhhdmUgbW92ZWRcbiAgICAgICAgICAgIGNvbnN0IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlID0gbW92ZWRcbiAgICAgICAgICAgICAgICA/IGdldFNlcXVlbmNlKG5ld0luZGV4VG9PbGRJbmRleE1hcClcbiAgICAgICAgICAgICAgICA6IEVNUFRZX0FSUjtcbiAgICAgICAgICAgIGogPSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgLy8gbG9vcGluZyBiYWNrd2FyZHMgc28gdGhhdCB3ZSBjYW4gdXNlIGxhc3QgcGF0Y2hlZCBub2RlIGFzIGFuY2hvclxuICAgICAgICAgICAgZm9yIChpID0gdG9CZVBhdGNoZWQgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHMyICsgaTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltuZXh0SW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRJbmRleCArIDEgPCBsMiA/IGMyW25leHRJbmRleCArIDFdLmVsIDogcGFyZW50QW5jaG9yO1xuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW91bnQgbmV3XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaWY6XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIHN0YWJsZSBzdWJzZXF1ZW5jZSAoZS5nLiBhIHJldmVyc2UpXG4gICAgICAgICAgICAgICAgICAgIC8vIE9SIGN1cnJlbnQgbm9kZSBpcyBub3QgYW1vbmcgdGhlIHN0YWJsZSBzZXF1ZW5jZVxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaSAhPT0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2Vbal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUobmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgMiAvKiBNb3ZlVHlwZS5SRU9SREVSICovKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGotLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbW92ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwpID0+IHtcbiAgICAgICAgY29uc3QgeyBlbCwgdHlwZSwgdHJhbnNpdGlvbiwgY2hpbGRyZW4sIHNoYXBlRmxhZyB9ID0gdm5vZGU7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICBtb3ZlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSB7XG4gICAgICAgICAgICB0eXBlLm1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnRlcm5hbHMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBob3N0SW5zZXJ0KHZub2RlLmFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcbiAgICAgICAgICAgIG1vdmVTdGF0aWNOb2RlKHZub2RlLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2luZ2xlIG5vZGVzXG4gICAgICAgIGNvbnN0IG5lZWRUcmFuc2l0aW9uID0gbW92ZVR5cGUgIT09IDIgLyogTW92ZVR5cGUuUkVPUkRFUiAqLyAmJlxuICAgICAgICAgICAgc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gJiZcbiAgICAgICAgICAgIHRyYW5zaXRpb247XG4gICAgICAgIGlmIChuZWVkVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgaWYgKG1vdmVUeXBlID09PSAwIC8qIE1vdmVUeXBlLkVOVEVSICovKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB0cmFuc2l0aW9uLmVudGVyKGVsKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSwgYWZ0ZXJMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmUgPSAoKSA9PiBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUxlYXZlKGVsLCByZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHVubW91bnQgPSAodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHJlZiwgY2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgc2hhcGVGbGFnLCBwYXRjaEZsYWcsIGRpcnMgfSA9IHZub2RlO1xuICAgICAgICAvLyB1bnNldCByZWZcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAyNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi8pIHtcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2hvdWxkSW52b2tlRGlycyA9IHNoYXBlRmxhZyAmIDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovICYmIGRpcnM7XG4gICAgICAgIGNvbnN0IHNob3VsZEludm9rZVZub2RlSG9vayA9ICFpc0FzeW5jV3JhcHBlcih2bm9kZSk7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2VWbm9kZUhvb2sgJiZcbiAgICAgICAgICAgICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcbiAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZVVubW91bnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgaW50ZXJuYWxzLCBkb1JlbW92ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkeW5hbWljQ2hpbGRyZW4gJiZcbiAgICAgICAgICAgICAgICAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcbiAgICAgICAgICAgICAgICAodHlwZSAhPT0gRnJhZ21lbnQgfHxcbiAgICAgICAgICAgICAgICAgICAgKHBhdGNoRmxhZyA+IDAgJiYgcGF0Y2hGbGFnICYgNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi8pKSkge1xuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCBmb3IgYmxvY2sgbm9kZXM6IG9ubHkgbmVlZCB0byB1bm1vdW50IGR5bmFtaWMgY2hpbGRyZW4uXG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGR5bmFtaWNDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHR5cGUgPT09IEZyYWdtZW50ICYmXG4gICAgICAgICAgICAgICAgcGF0Y2hGbGFnICZcbiAgICAgICAgICAgICAgICAgICAgKDEyOCAvKiBQYXRjaEZsYWdzLktFWUVEX0ZSQUdNRU5UICovIHwgMjU2IC8qIFBhdGNoRmxhZ3MuVU5LRVlFRF9GUkFHTUVOVCAqLykpIHx8XG4gICAgICAgICAgICAgICAgKCFvcHRpbWl6ZWQgJiYgc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykpIHtcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlKHZub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHNob3VsZEludm9rZVZub2RlSG9vayAmJlxuICAgICAgICAgICAgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVVbm1vdW50ZWQpKSB8fFxuICAgICAgICAgICAgc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgICAgICAgc2hvdWxkSW52b2tlRGlycyAmJlxuICAgICAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICd1bm1vdW50ZWQnKTtcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlID0gdm5vZGUgPT4ge1xuICAgICAgICBjb25zdCB7IHR5cGUsIGVsLCBhbmNob3IsIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICAgICAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgPiAwICYmXG4gICAgICAgICAgICAgICAgdm5vZGUucGF0Y2hGbGFnICYgMjA0OCAvKiBQYXRjaEZsYWdzLkRFVl9ST09UX0ZSQUdNRU5UICovICYmXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZCkge1xuICAgICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFJlbW92ZShjaGlsZC5lbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVGcmFnbWVudChlbCwgYW5jaG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKHZub2RlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwZXJmb3JtUmVtb3ZlID0gKCkgPT4ge1xuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQgJiYgdHJhbnNpdGlvbi5hZnRlckxlYXZlKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5hZnRlckxlYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyAmJlxuICAgICAgICAgICAgdHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4gbGVhdmUoZWwsIHBlcmZvcm1SZW1vdmUpO1xuICAgICAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgICAgICAgICBkZWxheUxlYXZlKHZub2RlLmVsLCBwZXJmb3JtUmVtb3ZlLCBwZXJmb3JtTGVhdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVyZm9ybUxlYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwZXJmb3JtUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUZyYWdtZW50ID0gKGN1ciwgZW5kKSA9PiB7XG4gICAgICAgIC8vIEZvciBmcmFnbWVudHMsIGRpcmVjdGx5IHJlbW92ZSBhbGwgY29udGFpbmVkIERPTSBub2Rlcy5cbiAgICAgICAgLy8gKGZyYWdtZW50IGNoaWxkIG5vZGVzIGNhbm5vdCBoYXZlIHRyYW5zaXRpb24pXG4gICAgICAgIGxldCBuZXh0O1xuICAgICAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcbiAgICAgICAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoY3VyKTtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoY3VyKTtcbiAgICAgICAgICAgIGN1ciA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdFJlbW92ZShlbmQpO1xuICAgIH07XG4gICAgY29uc3QgdW5tb3VudENvbXBvbmVudCA9IChpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKSA9PiB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGJ1bSwgc2NvcGUsIHVwZGF0ZSwgc3ViVHJlZSwgdW0gfSA9IGluc3RhbmNlO1xuICAgICAgICAvLyBiZWZvcmVVbm1vdW50IGhvb2tcbiAgICAgICAgaWYgKGJ1bSkge1xuICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLmVtaXQoJ2hvb2s6YmVmb3JlRGVzdHJveScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN0b3AgZWZmZWN0cyBpbiBjb21wb25lbnQgc2NvcGVcbiAgICAgICAgc2NvcGUuc3RvcCgpO1xuICAgICAgICAvLyB1cGRhdGUgbWF5IGJlIG51bGwgaWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGJlZm9yZSBpdHMgYXN5bmNcbiAgICAgICAgLy8gc2V0dXAgaGFzIHJlc29sdmVkLlxuICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgICAvLyBzbyB0aGF0IHNjaGVkdWxlciB3aWxsIG5vIGxvbmdlciBpbnZva2UgaXRcbiAgICAgICAgICAgIHVwZGF0ZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHVubW91bnQoc3ViVHJlZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5tb3VudGVkIGhvb2tcbiAgICAgICAgaWYgKHVtKSB7XG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodW0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiBpbnN0YW5jZS5lbWl0KCdob29rOmRlc3Ryb3llZCcpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAvLyBBIGNvbXBvbmVudCB3aXRoIGFzeW5jIGRlcCBpbnNpZGUgYSBwZW5kaW5nIHN1c3BlbnNlIGlzIHVubW91bnRlZCBiZWZvcmVcbiAgICAgICAgLy8gaXRzIGFzeW5jIGRlcCByZXNvbHZlcy4gVGhpcyBzaG91bGQgcmVtb3ZlIHRoZSBkZXAgZnJvbSB0aGUgc3VzcGVuc2UsIGFuZFxuICAgICAgICAvLyBjYXVzZSB0aGUgc3VzcGVuc2UgdG8gcmVzb2x2ZSBpbW1lZGlhdGVseSBpZiB0aGF0IHdhcyB0aGUgbGFzdCBkZXAuXG4gICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJlxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJlxuICAgICAgICAgICAgIXBhcmVudFN1c3BlbnNlLmlzVW5tb3VudGVkICYmXG4gICAgICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCAmJlxuICAgICAgICAgICAgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgJiZcbiAgICAgICAgICAgIGluc3RhbmNlLnN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xuICAgICAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHVubW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UsIHN0YXJ0ID0gMCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdW5tb3VudChjaGlsZHJlbltpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldE5leHRIb3N0Tm9kZSA9IHZub2RlID0+IHtcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXROZXh0SG9zdE5vZGUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHZub2RlLnN1c3BlbnNlLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG9zdE5leHRTaWJsaW5nKCh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlciA9ICh2bm9kZSwgY29udGFpbmVyLCBpc1NWRykgPT4ge1xuICAgICAgICBpZiAodm5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5fdm5vZGUpIHtcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNvbnRhaW5lci5fdm5vZGUsIG51bGwsIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF0Y2goY29udGFpbmVyLl92bm9kZSB8fCBudWxsLCB2bm9kZSwgY29udGFpbmVyLCBudWxsLCBudWxsLCBudWxsLCBpc1NWRyk7XG4gICAgICAgIH1cbiAgICAgICAgZmx1c2hQcmVGbHVzaENicygpO1xuICAgICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgICAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgfTtcbiAgICBjb25zdCBpbnRlcm5hbHMgPSB7XG4gICAgICAgIHA6IHBhdGNoLFxuICAgICAgICB1bTogdW5tb3VudCxcbiAgICAgICAgbTogbW92ZSxcbiAgICAgICAgcjogcmVtb3ZlLFxuICAgICAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgICAgIG1jOiBtb3VudENoaWxkcmVuLFxuICAgICAgICBwYzogcGF0Y2hDaGlsZHJlbixcbiAgICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXG4gICAgICAgIG46IGdldE5leHRIb3N0Tm9kZSxcbiAgICAgICAgbzogb3B0aW9uc1xuICAgIH07XG4gICAgbGV0IGh5ZHJhdGU7XG4gICAgbGV0IGh5ZHJhdGVOb2RlO1xuICAgIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcbiAgICAgICAgW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXSA9IGNyZWF0ZUh5ZHJhdGlvbkZucyhpbnRlcm5hbHMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXIsXG4gICAgICAgIGh5ZHJhdGUsXG4gICAgICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcbiAgICB9O1xufVxuZnVuY3Rpb24gdG9nZ2xlUmVjdXJzZSh7IGVmZmVjdCwgdXBkYXRlIH0sIGFsbG93ZWQpIHtcbiAgICBlZmZlY3QuYWxsb3dSZWN1cnNlID0gdXBkYXRlLmFsbG93UmVjdXJzZSA9IGFsbG93ZWQ7XG59XG4vKipcbiAqICMxMTU2XG4gKiBXaGVuIGEgY29tcG9uZW50IGlzIEhNUi1lbmFibGVkLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGFsbCBzdGF0aWMgbm9kZXNcbiAqIGluc2lkZSBhIGJsb2NrIGFsc28gaW5oZXJpdCB0aGUgRE9NIGVsZW1lbnQgZnJvbSB0aGUgcHJldmlvdXMgdHJlZSBzbyB0aGF0XG4gKiBITVIgdXBkYXRlcyAod2hpY2ggYXJlIGZ1bGwgdXBkYXRlcykgY2FuIHJldHJpZXZlIHRoZSBlbGVtZW50IGZvciBwYXRjaGluZy5cbiAqXG4gKiAjMjA4MFxuICogSW5zaWRlIGtleWVkIGB0ZW1wbGF0ZWAgZnJhZ21lbnQgc3RhdGljIGNoaWxkcmVuLCBpZiBhIGZyYWdtZW50IGlzIG1vdmVkLFxuICogdGhlIGNoaWxkcmVuIHdpbGwgYWx3YXlzIGJlIG1vdmVkLiBUaGVyZWZvcmUsIGluIG9yZGVyIHRvIGVuc3VyZSBjb3JyZWN0IG1vdmVcbiAqIHBvc2l0aW9uLCBlbCBzaG91bGQgYmUgaW5oZXJpdGVkIGZyb20gcHJldmlvdXMgbm9kZXMuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcbiAgICBjb25zdCBjaDEgPSBuMS5jaGlsZHJlbjtcbiAgICBjb25zdCBjaDIgPSBuMi5jaGlsZHJlbjtcbiAgICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoMS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbmx5IGNhbGxlZCBpbiB0aGUgb3B0aW1pemVkIHBhdGggc28gYXJyYXkgY2hpbGRyZW4gYXJlXG4gICAgICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIHZub2Rlc1xuICAgICAgICAgICAgY29uc3QgYzEgPSBjaDFbaV07XG4gICAgICAgICAgICBsZXQgYzIgPSBjaDJbaV07XG4gICAgICAgICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gJiYgIWMyLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyIC8qIFBhdGNoRmxhZ3MuSFlEUkFURV9FVkVOVFMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xuICAgICAgICAgICAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXNoYWxsb3cpXG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4oYzEsIGMyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICM2ODUyIGFsc28gaW5oZXJpdCBmb3IgdGV4dCBub2Rlc1xuICAgICAgICAgICAgaWYgKGMyLnR5cGUgPT09IFRleHQpIHtcbiAgICAgICAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWxzbyBpbmhlcml0IGZvciBjb21tZW50IG5vZGVzLCBidXQgbm90IHBsYWNlaG9sZGVycyAoZS5nLiB2LWlmIHdoaWNoXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlIHJlY2VpdmVkIC5lbCBkdXJpbmcgYmxvY2sgcGF0Y2gpXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGMyLnR5cGUgPT09IENvbW1lbnQgJiYgIWMyLmVsKSB7XG4gICAgICAgICAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xvbmdlc3RfaW5jcmVhc2luZ19zdWJzZXF1ZW5jZVxuZnVuY3Rpb24gZ2V0U2VxdWVuY2UoYXJyKSB7XG4gICAgY29uc3QgcCA9IGFyci5zbGljZSgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFswXTtcbiAgICBsZXQgaSwgaiwgdSwgdiwgYztcbiAgICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBhcnJJID0gYXJyW2ldO1xuICAgICAgICBpZiAoYXJySSAhPT0gMCkge1xuICAgICAgICAgICAgaiA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xuICAgICAgICAgICAgICAgIHBbaV0gPSBqO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdSA9IDA7XG4gICAgICAgICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAodSA8IHYpIHtcbiAgICAgICAgICAgICAgICBjID0gKHUgKyB2KSA+PiAxO1xuICAgICAgICAgICAgICAgIGlmIChhcnJbcmVzdWx0W2NdXSA8IGFyckkpIHtcbiAgICAgICAgICAgICAgICAgICAgdSA9IGMgKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IGM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyckkgPCBhcnJbcmVzdWx0W3VdXSkge1xuICAgICAgICAgICAgICAgIGlmICh1ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBwW2ldID0gcmVzdWx0W3UgLSAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0W3VdID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1ID0gcmVzdWx0Lmxlbmd0aDtcbiAgICB2ID0gcmVzdWx0W3UgLSAxXTtcbiAgICB3aGlsZSAodS0tID4gMCkge1xuICAgICAgICByZXN1bHRbdV0gPSB2O1xuICAgICAgICB2ID0gcFt2XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuY29uc3QgaXNUZWxlcG9ydCA9ICh0eXBlKSA9PiB0eXBlLl9faXNUZWxlcG9ydDtcbmNvbnN0IGlzVGVsZXBvcnREaXNhYmxlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkID09PSAnJyk7XG5jb25zdCBpc1RhcmdldFNWRyA9ICh0YXJnZXQpID0+IHR5cGVvZiBTVkdFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xuY29uc3QgcmVzb2x2ZVRhcmdldCA9IChwcm9wcywgc2VsZWN0KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBwcm9wcyAmJiBwcm9wcy50bztcbiAgICBpZiAoaXNTdHJpbmcodGFyZ2V0U2VsZWN0b3IpKSB7XG4gICAgICAgIGlmICghc2VsZWN0KSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEN1cnJlbnQgcmVuZGVyZXIgZG9lcyBub3Qgc3VwcG9ydCBzdHJpbmcgdGFyZ2V0IGZvciBUZWxlcG9ydHMuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgKG1pc3NpbmcgcXVlcnlTZWxlY3RvciByZW5kZXJlciBvcHRpb24pYCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHNlbGVjdCh0YXJnZXRTZWxlY3Rvcik7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEZhaWxlZCB0byBsb2NhdGUgVGVsZXBvcnQgdGFyZ2V0IHdpdGggc2VsZWN0b3IgXCIke3RhcmdldFNlbGVjdG9yfVwiLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBOb3RlIHRoZSB0YXJnZXQgZWxlbWVudCBtdXN0IGV4aXN0IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgLSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpLmUuIHRoZSB0YXJnZXQgY2Fubm90IGJlIHJlbmRlcmVkIGJ5IHRoZSBjb21wb25lbnQgaXRzZWxmLCBhbmQgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgaWRlYWxseSBzaG91bGQgYmUgb3V0c2lkZSBvZiB0aGUgZW50aXJlIFZ1ZSBjb21wb25lbnQgdHJlZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXRhcmdldFNlbGVjdG9yICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYEludmFsaWQgVGVsZXBvcnQgdGFyZ2V0OiAke3RhcmdldFNlbGVjdG9yfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXRTZWxlY3RvcjtcbiAgICB9XG59O1xuY29uc3QgVGVsZXBvcnRJbXBsID0ge1xuICAgIF9faXNUZWxlcG9ydDogdHJ1ZSxcbiAgICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKSB7XG4gICAgICAgIGNvbnN0IHsgbWM6IG1vdW50Q2hpbGRyZW4sIHBjOiBwYXRjaENoaWxkcmVuLCBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbiwgbzogeyBpbnNlcnQsIHF1ZXJ5U2VsZWN0b3IsIGNyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gaW50ZXJuYWxzO1xuICAgICAgICBjb25zdCBkaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMi5wcm9wcyk7XG4gICAgICAgIGxldCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiB9ID0gbjI7XG4gICAgICAgIC8vICMzMzAyXG4gICAgICAgIC8vIEhNUiB1cGRhdGVkLCBmb3JjZSBmdWxsIGRpZmZcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGluc2VydCBhbmNob3JzIGluIHRoZSBtYWluIHZpZXdcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gKG4yLmVsID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVDb21tZW50KCd0ZWxlcG9ydCBzdGFydCcpXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVUZXh0KCcnKSk7XG4gICAgICAgICAgICBjb25zdCBtYWluQW5jaG9yID0gKG4yLmFuY2hvciA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgZW5kJylcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcbiAgICAgICAgICAgIGluc2VydChwbGFjZWhvbGRlciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgaW5zZXJ0KG1haW5BbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IChuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRBbmNob3IgPSAobjIudGFyZ2V0QW5jaG9yID0gY3JlYXRlVGV4dCgnJykpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGluc2VydCh0YXJnZXRBbmNob3IsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgLy8gIzI2NTIgd2UgY291bGQgYmUgdGVsZXBvcnRpbmcgZnJvbSBhIG5vbi1TVkcgdHJlZSBpbnRvIGFuIFNWRyB0cmVlXG4gICAgICAgICAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBpc1RhcmdldFNWRyh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFkaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHdhcm4kMSgnSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gbW91bnQ6JywgdGFyZ2V0LCBgKCR7dHlwZW9mIHRhcmdldH0pYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtb3VudCA9IChjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRlbGVwb3J0ICphbHdheXMqIGhhcyBBcnJheSBjaGlsZHJlbi4gVGhpcyBpcyBlbmZvcmNlZCBpbiBib3RoIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVyIGFuZCB2bm9kZSBjaGlsZHJlbiBub3JtYWxpemF0aW9uLlxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBtb3VudChjb250YWluZXIsIG1haW5BbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgbW91bnQodGFyZ2V0LCB0YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbnRlbnRcbiAgICAgICAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICAgICAgICBjb25zdCBtYWluQW5jaG9yID0gKG4yLmFuY2hvciA9IG4xLmFuY2hvcik7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAobjIudGFyZ2V0ID0gbjEudGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IChuMi50YXJnZXRBbmNob3IgPSBuMS50YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgY29uc3Qgd2FzRGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjEucHJvcHMpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEFuY2hvciA9IHdhc0Rpc2FibGVkID8gbWFpbkFuY2hvciA6IHRhcmdldEFuY2hvcjtcbiAgICAgICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggd2hlbiB0aGUgdGVsZXBvcnQgaGFwcGVucyB0byBiZSBhIGJsb2NrIHJvb3RcbiAgICAgICAgICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4objEuZHluYW1pY0NoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIGN1cnJlbnRDb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xuICAgICAgICAgICAgICAgIC8vIGV2ZW4gaW4gYmxvY2sgdHJlZSBtb2RlIHdlIG5lZWQgdG8gbWFrZSBzdXJlIGFsbCByb290LWxldmVsIG5vZGVzXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIHRlbGVwb3J0IGluaGVyaXQgcHJldmlvdXMgRE9NIHJlZmVyZW5jZXMgc28gdGhhdCB0aGV5IGNhblxuICAgICAgICAgICAgICAgIC8vIGJlIG1vdmVkIGluIGZ1dHVyZSBwYXRjaGVzLlxuICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY3VycmVudENvbnRhaW5lciwgY3VycmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3YXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbmFibGVkIC0+IGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaW50byBtYWluIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIGNvbnRhaW5lciwgbWFpbkFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRlbGVwb3J0TW92ZVR5cGVzLlRPR0dMRSAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdGFyZ2V0IGNoYW5nZWRcbiAgICAgICAgICAgICAgICBpZiAoKG4yLnByb3BzICYmIG4yLnByb3BzLnRvKSAhPT0gKG4xLnByb3BzICYmIG4xLnByb3BzLnRvKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVUZWxlcG9ydChuMiwgbmV4dFRhcmdldCwgbnVsbCwgaW50ZXJuYWxzLCAwIC8qIFRlbGVwb3J0TW92ZVR5cGVzLlRBUkdFVF9DSEFOR0UgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKCdJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiB1cGRhdGU6JywgdGFyZ2V0LCBgKCR7dHlwZW9mIHRhcmdldH0pYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAod2FzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZWQgLT4gZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gdGVsZXBvcnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIG1vdmVUZWxlcG9ydChuMiwgdGFyZ2V0LCB0YXJnZXRBbmNob3IsIGludGVybmFscywgMSAvKiBUZWxlcG9ydE1vdmVUeXBlcy5UT0dHTEUgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVDc3NWYXJzKG4yKTtcbiAgICB9LFxuICAgIHJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkLCB7IHVtOiB1bm1vdW50LCBvOiB7IHJlbW92ZTogaG9zdFJlbW92ZSB9IH0sIGRvUmVtb3ZlKSB7XG4gICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiwgYW5jaG9yLCB0YXJnZXRBbmNob3IsIHRhcmdldCwgcHJvcHMgfSA9IHZub2RlO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBob3N0UmVtb3ZlKHRhcmdldEFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYW4gdW5tb3VudGVkIHRlbGVwb3J0IHNob3VsZCBhbHdheXMgcmVtb3ZlIGl0cyBjaGlsZHJlbiBpZiBub3QgZGlzYWJsZWRcbiAgICAgICAgaWYgKGRvUmVtb3ZlIHx8ICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICAgICAgICBob3N0UmVtb3ZlKGFuY2hvcik7XG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChjaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSwgISFjaGlsZC5keW5hbWljQ2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbW92ZTogbW92ZVRlbGVwb3J0LFxuICAgIGh5ZHJhdGU6IGh5ZHJhdGVUZWxlcG9ydFxufTtcbmZ1bmN0aW9uIG1vdmVUZWxlcG9ydCh2bm9kZSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHsgbzogeyBpbnNlcnQgfSwgbTogbW92ZSB9LCBtb3ZlVHlwZSA9IDIgLyogVGVsZXBvcnRNb3ZlVHlwZXMuUkVPUkRFUiAqLykge1xuICAgIC8vIG1vdmUgdGFyZ2V0IGFuY2hvciBpZiB0aGlzIGlzIGEgdGFyZ2V0IGNoYW5nZS5cbiAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogVGVsZXBvcnRNb3ZlVHlwZXMuVEFSR0VUX0NIQU5HRSAqLykge1xuICAgICAgICBpbnNlcnQodm5vZGUudGFyZ2V0QW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gICAgfVxuICAgIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xuICAgIGNvbnN0IGlzUmVvcmRlciA9IG1vdmVUeXBlID09PSAyIC8qIFRlbGVwb3J0TW92ZVR5cGVzLlJFT1JERVIgKi87XG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cbiAgICBpZiAoaXNSZW9yZGVyKSB7XG4gICAgICAgIGluc2VydChlbCwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICAgIH1cbiAgICAvLyBpZiB0aGlzIGlzIGEgcmUtb3JkZXIgYW5kIHRlbGVwb3J0IGlzIGVuYWJsZWQgKGNvbnRlbnQgaXMgaW4gdGFyZ2V0KVxuICAgIC8vIGRvIG5vdCBtb3ZlIGNoaWxkcmVuLiBTbyB0aGUgb3Bwb3NpdGUgaXM6IG9ubHkgbW92ZSBjaGlsZHJlbiBpZiB0aGlzXG4gICAgLy8gaXMgbm90IGEgcmVvcmRlciwgb3IgdGhlIHRlbGVwb3J0IGlzIGRpc2FibGVkXG4gICAgaWYgKCFpc1Jlb3JkZXIgfHwgaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgICAvLyBUZWxlcG9ydCBoYXMgZWl0aGVyIEFycmF5IGNoaWxkcmVuIG9yIG5vIGNoaWxkcmVuLlxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCAyIC8qIE1vdmVUeXBlLlJFT1JERVIgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIG1vdmUgbWFpbiB2aWV3IGFuY2hvciBpZiB0aGlzIGlzIGEgcmUtb3JkZXIuXG4gICAgaWYgKGlzUmVvcmRlcikge1xuICAgICAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yIH0gfSwgaHlkcmF0ZUNoaWxkcmVuKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gKHZub2RlLnRhcmdldCA9IHJlc29sdmVUYXJnZXQodm5vZGUucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIC8vIGlmIG11bHRpcGxlIHRlbGVwb3J0cyByZW5kZXJlZCB0byB0aGUgc2FtZSB0YXJnZXQgZWxlbWVudCwgd2UgbmVlZCB0b1xuICAgICAgICAvLyBwaWNrIHVwIGZyb20gd2hlcmUgdGhlIGxhc3QgdGVsZXBvcnQgZmluaXNoZWQgaW5zdGVhZCBvZiB0aGUgZmlyc3Qgbm9kZVxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0Ll9scGEgfHwgdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICBpZiAoaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKSkge1xuICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IGh5ZHJhdGVDaGlsZHJlbihuZXh0U2libGluZyhub2RlKSwgdm5vZGUsIHBhcmVudE5vZGUobm9kZSksIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICAgICAgLy8gbG9va2FoZWFkIHVudGlsIHdlIGZpbmQgdGhlIHRhcmdldCBhbmNob3JcbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW5ub3QgcmVseSBvbiByZXR1cm4gdmFsdWUgb2YgaHlkcmF0ZUNoaWxkcmVuKCkgYmVjYXVzZSB0aGVyZVxuICAgICAgICAgICAgICAgIC8vIGNvdWxkIGJlIG5lc3RlZCB0ZWxlcG9ydHNcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEFuY2hvciA9IG5leHRTaWJsaW5nKHRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRBbmNob3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEFuY2hvci5ub2RlVHlwZSA9PT0gOCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QW5jaG9yLmRhdGEgPT09ICd0ZWxlcG9ydCBhbmNob3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSB0YXJnZXRBbmNob3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuX2xwYSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLnRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoeWRyYXRlQ2hpbGRyZW4odGFyZ2V0Tm9kZSwgdm5vZGUsIHRhcmdldCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNzc1ZhcnModm5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XG59XG4vLyBGb3JjZS1jYXN0ZWQgcHVibGljIHR5cGluZyBmb3IgaCBhbmQgVFNYIHByb3BzIGluZmVyZW5jZVxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5mdW5jdGlvbiB1cGRhdGVDc3NWYXJzKHZub2RlKSB7XG4gICAgLy8gcHJlc2VuY2Ugb2YgLnV0IG1ldGhvZCBpbmRpY2F0ZXMgb3duZXIgY29tcG9uZW50IHVzZXMgY3NzIHZhcnMuXG4gICAgLy8gY29kZSBwYXRoIGhlcmUgY2FuIGFzc3VtZSBicm93c2VyIGVudmlyb25tZW50LlxuICAgIGNvbnN0IGN0eCA9IHZub2RlLmN0eDtcbiAgICBpZiAoY3R4ICYmIGN0eC51dCkge1xuICAgICAgICBsZXQgbm9kZSA9IHZub2RlLmNoaWxkcmVuWzBdLmVsO1xuICAgICAgICB3aGlsZSAobm9kZSAhPT0gdm5vZGUudGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSlcbiAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnZGF0YS12LW93bmVyJywgY3R4LnVpZCk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICBjdHgudXQoKTtcbiAgICB9XG59XG5cbmNvbnN0IG5vcm1hbGl6ZWRBc3luY0NvbXBvbmVudE1hcCA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lBc3luY0NvbXBvbmVudChjb21wKSB7XG4gICAgaWYgKG5vcm1hbGl6ZWRBc3luY0NvbXBvbmVudE1hcC5oYXMoY29tcCkpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRBc3luY0NvbXBvbmVudE1hcC5nZXQoY29tcCk7XG4gICAgfVxuICAgIC8vIHdlIGhhdmUgdG8gY2FsbCB0aGUgZnVuY3Rpb24gaGVyZSBkdWUgdG8gaG93IHYyJ3MgQVBJIHdvbid0IGV4cG9zZSB0aGVcbiAgICAvLyBvcHRpb25zIHVudGlsIHdlIGNhbGwgaXRcbiAgICBsZXQgcmVzb2x2ZTtcbiAgICBsZXQgcmVqZWN0O1xuICAgIGNvbnN0IGZhbGxiYWNrUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyLCByaikgPT4ge1xuICAgICAgICAocmVzb2x2ZSA9IHIpLCAocmVqZWN0ID0gcmopO1xuICAgIH0pO1xuICAgIGNvbnN0IHJlcyA9IGNvbXAocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICBsZXQgY29udmVydGVkO1xuICAgIGlmIChpc1Byb21pc2UocmVzKSkge1xuICAgICAgICBjb252ZXJ0ZWQgPSBkZWZpbmVBc3luY0NvbXBvbmVudCgoKSA9PiByZXMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChyZXMpICYmICFpc1ZOb2RlKHJlcykgJiYgIWlzQXJyYXkocmVzKSkge1xuICAgICAgICBjb252ZXJ0ZWQgPSBkZWZpbmVBc3luY0NvbXBvbmVudCh7XG4gICAgICAgICAgICBsb2FkZXI6ICgpID0+IHJlcy5jb21wb25lbnQsXG4gICAgICAgICAgICBsb2FkaW5nQ29tcG9uZW50OiByZXMubG9hZGluZyxcbiAgICAgICAgICAgIGVycm9yQ29tcG9uZW50OiByZXMuZXJyb3IsXG4gICAgICAgICAgICBkZWxheTogcmVzLmRlbGF5LFxuICAgICAgICAgICAgdGltZW91dDogcmVzLnRpbWVvdXRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlcyA9PSBudWxsKSB7XG4gICAgICAgIGNvbnZlcnRlZCA9IGRlZmluZUFzeW5jQ29tcG9uZW50KCgpID0+IGZhbGxiYWNrUHJvbWlzZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb252ZXJ0ZWQgPSBjb21wOyAvLyBwcm9iYWJseSBhIHYzIGZ1bmN0aW9uYWwgY29tcFxuICAgIH1cbiAgICBub3JtYWxpemVkQXN5bmNDb21wb25lbnRNYXAuc2V0KGNvbXAsIGNvbnZlcnRlZCk7XG4gICAgcmV0dXJuIGNvbnZlcnRlZDtcbn1cblxuZnVuY3Rpb24gY29udmVydExlZ2FjeUNvbXBvbmVudChjb21wLCBpbnN0YW5jZSkge1xuICAgIGlmIChjb21wLl9faXNCdWlsdEluKSB7XG4gICAgICAgIHJldHVybiBjb21wO1xuICAgIH1cbiAgICAvLyAyLnggY29uc3RydWN0b3JcbiAgICBpZiAoaXNGdW5jdGlvbihjb21wKSAmJiBjb21wLmNpZCkge1xuICAgICAgICBjb21wID0gY29tcC5vcHRpb25zO1xuICAgIH1cbiAgICAvLyAyLnggYXN5bmMgY29tcG9uZW50XG4gICAgaWYgKGlzRnVuY3Rpb24oY29tcCkgJiZcbiAgICAgICAgY2hlY2tDb21wYXRFbmFibGVkKFwiQ09NUE9ORU5UX0FTWU5DXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfQVNZTkMgKi8sIGluc3RhbmNlLCBjb21wKSkge1xuICAgICAgICAvLyBzaW5jZSBhZnRlciBkaXNhYmxpbmcgdGhpcywgcGxhaW4gZnVuY3Rpb25zIGFyZSBzdGlsbCB2YWxpZCB1c2FnZSwgZG8gbm90XG4gICAgICAgIC8vIHVzZSBzb2Z0QXNzZXJ0IGhlcmUuXG4gICAgICAgIHJldHVybiBjb252ZXJ0TGVnYWN5QXN5bmNDb21wb25lbnQoY29tcCk7XG4gICAgfVxuICAgIC8vIDIueCBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICAgIGlmIChpc09iamVjdChjb21wKSAmJlxuICAgICAgICBjb21wLmZ1bmN0aW9uYWwgJiZcbiAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJDT01QT05FTlRfRlVOQ1RJT05BTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX0ZVTkNUSU9OQUwgKi8sIGluc3RhbmNlLCBjb21wKSkge1xuICAgICAgICByZXR1cm4gY29udmVydExlZ2FjeUZ1bmN0aW9uYWxDb21wb25lbnQoY29tcCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wO1xufVxuXG5jb25zdCBGcmFnbWVudCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnRnJhZ21lbnQnIDogdW5kZWZpbmVkKTtcbmNvbnN0IFRleHQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ1RleHQnIDogdW5kZWZpbmVkKTtcbmNvbnN0IENvbW1lbnQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ0NvbW1lbnQnIDogdW5kZWZpbmVkKTtcbmNvbnN0IFN0YXRpYyA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnU3RhdGljJyA6IHVuZGVmaW5lZCk7XG4vLyBTaW5jZSB2LWlmIGFuZCB2LWZvciBhcmUgdGhlIHR3byBwb3NzaWJsZSB3YXlzIG5vZGUgc3RydWN0dXJlIGNhbiBkeW5hbWljYWxseVxuLy8gY2hhbmdlLCBvbmNlIHdlIGNvbnNpZGVyIHYtaWYgYnJhbmNoZXMgYW5kIGVhY2ggdi1mb3IgZnJhZ21lbnQgYSBibG9jaywgd2Vcbi8vIGNhbiBkaXZpZGUgYSB0ZW1wbGF0ZSBpbnRvIG5lc3RlZCBibG9ja3MsIGFuZCB3aXRoaW4gZWFjaCBibG9jayB0aGUgbm9kZVxuLy8gc3RydWN0dXJlIHdvdWxkIGJlIHN0YWJsZS4gVGhpcyBhbGxvd3MgdXMgdG8gc2tpcCBtb3N0IGNoaWxkcmVuIGRpZmZpbmdcbi8vIGFuZCBvbmx5IHdvcnJ5IGFib3V0IHRoZSBkeW5hbWljIG5vZGVzIChpbmRpY2F0ZWQgYnkgcGF0Y2ggZmxhZ3MpLlxuY29uc3QgYmxvY2tTdGFjayA9IFtdO1xubGV0IGN1cnJlbnRCbG9jayA9IG51bGw7XG4vKipcbiAqIE9wZW4gYSBibG9jay5cbiAqIFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AuIEl0IGNhbm5vdCBiZSBwYXJ0IG9mIGBjcmVhdGVCbG9ja2BcbiAqIGJlY2F1c2UgdGhlIGNoaWxkcmVuIG9mIHRoZSBibG9jayBhcmUgZXZhbHVhdGVkIGJlZm9yZSBgY3JlYXRlQmxvY2tgIGl0c2VsZlxuICogaXMgY2FsbGVkLiBUaGUgZ2VuZXJhdGVkIGNvZGUgdHlwaWNhbGx5IGxvb2tzIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gcmVuZGVyKCkge1xuICogICByZXR1cm4gKG9wZW5CbG9jaygpLGNyZWF0ZUJsb2NrKCdkaXYnLCBudWxsLCBbLi4uXSkpXG4gKiB9XG4gKiBgYGBcbiAqIGRpc2FibGVUcmFja2luZyBpcyB0cnVlIHdoZW4gY3JlYXRpbmcgYSB2LWZvciBmcmFnbWVudCBibG9jaywgc2luY2UgYSB2LWZvclxuICogZnJhZ21lbnQgYWx3YXlzIGRpZmZzIGl0cyBjaGlsZHJlbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBvcGVuQmxvY2soZGlzYWJsZVRyYWNraW5nID0gZmFsc2UpIHtcbiAgICBibG9ja1N0YWNrLnB1c2goKGN1cnJlbnRCbG9jayA9IGRpc2FibGVUcmFja2luZyA/IG51bGwgOiBbXSkpO1xufVxuZnVuY3Rpb24gY2xvc2VCbG9jaygpIHtcbiAgICBibG9ja1N0YWNrLnBvcCgpO1xuICAgIGN1cnJlbnRCbG9jayA9IGJsb2NrU3RhY2tbYmxvY2tTdGFjay5sZW5ndGggLSAxXSB8fCBudWxsO1xufVxuLy8gV2hldGhlciB3ZSBzaG91bGQgYmUgdHJhY2tpbmcgZHluYW1pYyBjaGlsZCBub2RlcyBpbnNpZGUgYSBibG9jay5cbi8vIE9ubHkgdHJhY2tzIHdoZW4gdGhpcyB2YWx1ZSBpcyA+IDBcbi8vIFdlIGFyZSBub3QgdXNpbmcgYSBzaW1wbGUgYm9vbGVhbiBiZWNhdXNlIHRoaXMgdmFsdWUgbWF5IG5lZWQgdG8gYmVcbi8vIGluY3JlbWVudGVkL2RlY3JlbWVudGVkIGJ5IG5lc3RlZCB1c2FnZSBvZiB2LW9uY2UgKHNlZSBiZWxvdylcbmxldCBpc0Jsb2NrVHJlZUVuYWJsZWQgPSAxO1xuLyoqXG4gKiBCbG9jayB0cmFja2luZyBzb21ldGltZXMgbmVlZHMgdG8gYmUgZGlzYWJsZWQsIGZvciBleGFtcGxlIGR1cmluZyB0aGVcbiAqIGNyZWF0aW9uIG9mIGEgdHJlZSB0aGF0IG5lZWRzIHRvIGJlIGNhY2hlZCBieSB2LW9uY2UuIFRoZSBjb21waWxlciBnZW5lcmF0ZXNcbiAqIGNvZGUgbGlrZSB0aGlzOlxuICpcbiAqIGBgYCBqc1xuICogX2NhY2hlWzFdIHx8IChcbiAqICAgc2V0QmxvY2tUcmFja2luZygtMSksXG4gKiAgIF9jYWNoZVsxXSA9IGNyZWF0ZVZOb2RlKC4uLiksXG4gKiAgIHNldEJsb2NrVHJhY2tpbmcoMSksXG4gKiAgIF9jYWNoZVsxXVxuICogKVxuICogYGBgXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2V0QmxvY2tUcmFja2luZyh2YWx1ZSkge1xuICAgIGlzQmxvY2tUcmVlRW5hYmxlZCArPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldHVwQmxvY2sodm5vZGUpIHtcbiAgICAvLyBzYXZlIGN1cnJlbnQgYmxvY2sgY2hpbGRyZW4gb24gdGhlIGJsb2NrIHZub2RlXG4gICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID1cbiAgICAgICAgaXNCbG9ja1RyZWVFbmFibGVkID4gMCA/IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlIgOiBudWxsO1xuICAgIC8vIGNsb3NlIGJsb2NrXG4gICAgY2xvc2VCbG9jaygpO1xuICAgIC8vIGEgYmxvY2sgaXMgYWx3YXlzIGdvaW5nIHRvIGJlIHBhdGNoZWQsIHNvIHRyYWNrIGl0IGFzIGEgY2hpbGQgb2YgaXRzXG4gICAgLy8gcGFyZW50IGJsb2NrXG4gICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50QmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgc2hhcGVGbGFnKSB7XG4gICAgcmV0dXJuIHNldHVwQmxvY2soY3JlYXRlQmFzZVZOb2RlKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHNoYXBlRmxhZywgdHJ1ZSAvKiBpc0Jsb2NrICovKSk7XG59XG4vKipcbiAqIENyZWF0ZSBhIGJsb2NrIHJvb3Qgdm5vZGUuIFRha2VzIHRoZSBzYW1lIGV4YWN0IGFyZ3VtZW50cyBhcyBgY3JlYXRlVk5vZGVgLlxuICogQSBibG9jayByb290IGtlZXBzIHRyYWNrIG9mIGR5bmFtaWMgbm9kZXMgd2l0aGluIHRoZSBibG9jayBpbiB0aGVcbiAqIGBkeW5hbWljQ2hpbGRyZW5gIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMpIHtcbiAgICByZXR1cm4gc2V0dXBCbG9jayhjcmVhdGVWTm9kZSh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzLCB0cnVlIC8qIGlzQmxvY2s6IHByZXZlbnQgYSBibG9jayBmcm9tIHRyYWNraW5nIGl0c2VsZiAqLykpO1xufVxuZnVuY3Rpb24gaXNWTm9kZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA/IHZhbHVlLl9fdl9pc1ZOb2RlID09PSB0cnVlIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICBuMi5zaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovICYmXG4gICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5oYXMobjIudHlwZSkpIHtcbiAgICAgICAgLy8gIzcwNDIsIGVuc3VyZSB0aGUgdm5vZGUgYmVpbmcgdW5tb3VudGVkIGR1cmluZyBITVJcbiAgICAgICAgLy8gYml0d2lzZSBvcGVyYXRpb25zIHRvIHJlbW92ZSBrZWVwIGFsaXZlIGZsYWdzXG4gICAgICAgIG4xLnNoYXBlRmxhZyAmPSB+MjU2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovO1xuICAgICAgICBuMi5zaGFwZUZsYWcgJj0gfjUxMiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xuICAgICAgICAvLyBITVIgb25seTogaWYgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBob3QtdXBkYXRlZCwgZm9yY2UgYSByZWxvYWQuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XG59XG5sZXQgdm5vZGVBcmdzVHJhbnNmb3JtZXI7XG4vKipcbiAqIEludGVybmFsIEFQSSBmb3IgcmVnaXN0ZXJpbmcgYW4gYXJndW1lbnRzIHRyYW5zZm9ybSBmb3IgY3JlYXRlVk5vZGVcbiAqIHVzZWQgZm9yIGNyZWF0aW5nIHN0dWJzIGluIHRoZSB0ZXN0LXV0aWxzXG4gKiBJdCBpcyAqaW50ZXJuYWwqIGJ1dCBuZWVkcyB0byBiZSBleHBvc2VkIGZvciB0ZXN0LXV0aWxzIHRvIHBpY2sgdXAgcHJvcGVyXG4gKiB0eXBpbmdzXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybVZOb2RlQXJncyh0cmFuc2Zvcm1lcikge1xuICAgIHZub2RlQXJnc1RyYW5zZm9ybWVyID0gdHJhbnNmb3JtZXI7XG59XG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcbiAgICByZXR1cm4gX2NyZWF0ZVZOb2RlKC4uLih2bm9kZUFyZ3NUcmFuc2Zvcm1lclxuICAgICAgICA/IHZub2RlQXJnc1RyYW5zZm9ybWVyKGFyZ3MsIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSlcbiAgICAgICAgOiBhcmdzKSk7XG59O1xuY29uc3QgSW50ZXJuYWxPYmplY3RLZXkgPSBgX192SW50ZXJuYWxgO1xuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcbmNvbnN0IG5vcm1hbGl6ZVJlZiA9ICh7IHJlZiwgcmVmX2tleSwgcmVmX2ZvciB9KSA9PiB7XG4gICAgcmV0dXJuIChyZWYgIT0gbnVsbFxuICAgICAgICA/IGlzU3RyaW5nKHJlZikgfHwgaXNSZWYocmVmKSB8fCBpc0Z1bmN0aW9uKHJlZilcbiAgICAgICAgICAgID8geyBpOiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHI6IHJlZiwgazogcmVmX2tleSwgZjogISFyZWZfZm9yIH1cbiAgICAgICAgICAgIDogcmVmXG4gICAgICAgIDogbnVsbCk7XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVZOb2RlKHR5cGUsIHByb3BzID0gbnVsbCwgY2hpbGRyZW4gPSBudWxsLCBwYXRjaEZsYWcgPSAwLCBkeW5hbWljUHJvcHMgPSBudWxsLCBzaGFwZUZsYWcgPSB0eXBlID09PSBGcmFnbWVudCA/IDAgOiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLywgaXNCbG9ja05vZGUgPSBmYWxzZSwgbmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24gPSBmYWxzZSkge1xuICAgIGNvbnN0IHZub2RlID0ge1xuICAgICAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcbiAgICAgICAgX192X3NraXA6IHRydWUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBrZXk6IHByb3BzICYmIG5vcm1hbGl6ZUtleShwcm9wcyksXG4gICAgICAgIHJlZjogcHJvcHMgJiYgbm9ybWFsaXplUmVmKHByb3BzKSxcbiAgICAgICAgc2NvcGVJZDogY3VycmVudFNjb3BlSWQsXG4gICAgICAgIHNsb3RTY29wZUlkczogbnVsbCxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgIGNvbXBvbmVudDogbnVsbCxcbiAgICAgICAgc3VzcGVuc2U6IG51bGwsXG4gICAgICAgIHNzQ29udGVudDogbnVsbCxcbiAgICAgICAgc3NGYWxsYmFjazogbnVsbCxcbiAgICAgICAgZGlyczogbnVsbCxcbiAgICAgICAgdHJhbnNpdGlvbjogbnVsbCxcbiAgICAgICAgZWw6IG51bGwsXG4gICAgICAgIGFuY2hvcjogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICB0YXJnZXRBbmNob3I6IG51bGwsXG4gICAgICAgIHN0YXRpY0NvdW50OiAwLFxuICAgICAgICBzaGFwZUZsYWcsXG4gICAgICAgIHBhdGNoRmxhZyxcbiAgICAgICAgZHluYW1pY1Byb3BzLFxuICAgICAgICBkeW5hbWljQ2hpbGRyZW46IG51bGwsXG4gICAgICAgIGFwcENvbnRleHQ6IG51bGwsXG4gICAgICAgIGN0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlXG4gICAgfTtcbiAgICBpZiAobmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24pIHtcbiAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKTtcbiAgICAgICAgLy8gbm9ybWFsaXplIHN1c3BlbnNlIGNoaWxkcmVuXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICAgICAgdHlwZS5ub3JtYWxpemUodm5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIC8vIGNvbXBpbGVkIGVsZW1lbnQgdm5vZGUgLSBpZiBjaGlsZHJlbiBpcyBwYXNzZWQsIG9ubHkgcG9zc2libGUgdHlwZXMgYXJlXG4gICAgICAgIC8vIHN0cmluZyBvciBBcnJheS5cbiAgICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IGlzU3RyaW5nKGNoaWxkcmVuKVxuICAgICAgICAgICAgPyA4IC8qIFNoYXBlRmxhZ3MuVEVYVF9DSElMRFJFTiAqL1xuICAgICAgICAgICAgOiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovO1xuICAgIH1cbiAgICAvLyB2YWxpZGF0ZSBrZXlcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHZub2RlLmtleSAhPT0gdm5vZGUua2V5KSB7XG4gICAgICAgIHdhcm4kMShgVk5vZGUgY3JlYXRlZCB3aXRoIGludmFsaWQga2V5IChOYU4pLiBWTm9kZSB0eXBlOmAsIHZub2RlLnR5cGUpO1xuICAgIH1cbiAgICAvLyB0cmFjayB2bm9kZSBmb3IgYmxvY2sgdHJlZVxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmXG4gICAgICAgIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxuICAgICAgICAhaXNCbG9ja05vZGUgJiZcbiAgICAgICAgLy8gaGFzIGN1cnJlbnQgcGFyZW50IGJsb2NrXG4gICAgICAgIGN1cnJlbnRCbG9jayAmJlxuICAgICAgICAvLyBwcmVzZW5jZSBvZiBhIHBhdGNoIGZsYWcgaW5kaWNhdGVzIHRoaXMgbm9kZSBuZWVkcyBwYXRjaGluZyBvbiB1cGRhdGVzLlxuICAgICAgICAvLyBjb21wb25lbnQgbm9kZXMgYWxzbyBzaG91bGQgYWx3YXlzIGJlIHBhdGNoZWQsIGJlY2F1c2UgZXZlbiBpZiB0aGVcbiAgICAgICAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXG4gICAgICAgIC8vIHRoZSBuZXh0IHZub2RlIHNvIHRoYXQgaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZCBsYXRlci5cbiAgICAgICAgKHZub2RlLnBhdGNoRmxhZyA+IDAgfHwgc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykgJiZcbiAgICAgICAgLy8gdGhlIEVWRU5UUyBmbGFnIGlzIG9ubHkgZm9yIGh5ZHJhdGlvbiBhbmQgaWYgaXQgaXMgdGhlIG9ubHkgZmxhZywgdGhlXG4gICAgICAgIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXG4gICAgICAgIHZub2RlLnBhdGNoRmxhZyAhPT0gMzIgLyogUGF0Y2hGbGFncy5IWURSQVRFX0VWRU5UUyAqLykge1xuICAgICAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gICAgfVxuICAgIHtcbiAgICAgICAgY29udmVydExlZ2FjeVZNb2RlbFByb3BzKHZub2RlKTtcbiAgICAgICAgZGVmaW5lTGVnYWN5Vk5vZGVQcm9wZXJ0aWVzKHZub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xufVxuY29uc3QgY3JlYXRlVk5vZGUgPSAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA6IF9jcmVhdGVWTm9kZSk7XG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcbiAgICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICF0eXBlKSB7XG4gICAgICAgICAgICB3YXJuJDEoYEludmFsaWQgdm5vZGUgdHlwZSB3aGVuIGNyZWF0aW5nIHZub2RlOiAke3R5cGV9LmApO1xuICAgICAgICB9XG4gICAgICAgIHR5cGUgPSBDb21tZW50O1xuICAgIH1cbiAgICBpZiAoaXNWTm9kZSh0eXBlKSkge1xuICAgICAgICAvLyBjcmVhdGVWTm9kZSByZWNlaXZpbmcgYW4gZXhpc3Rpbmcgdm5vZGUuIFRoaXMgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAgIC8vIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIi8+XG4gICAgICAgIC8vICMyMDc4IG1ha2Ugc3VyZSB0byBtZXJnZSByZWZzIGR1cmluZyB0aGUgY2xvbmUgaW5zdGVhZCBvZiBvdmVyd3JpdGluZyBpdFxuICAgICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHR5cGUsIHByb3BzLCB0cnVlIC8qIG1lcmdlUmVmOiB0cnVlICovKTtcbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBub3JtYWxpemVDaGlsZHJlbihjbG9uZWQsIGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiAhaXNCbG9ja05vZGUgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgICAgICAgICBpZiAoY2xvbmVkLnNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2tbY3VycmVudEJsb2NrLmluZGV4T2YodHlwZSldID0gY2xvbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEJsb2NrLnB1c2goY2xvbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbG9uZWQucGF0Y2hGbGFnIHw9IC0yIC8qIFBhdGNoRmxhZ3MuQkFJTCAqLztcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9XG4gICAgLy8gY2xhc3MgY29tcG9uZW50IG5vcm1hbGl6YXRpb24uXG4gICAgaWYgKGlzQ2xhc3NDb21wb25lbnQodHlwZSkpIHtcbiAgICAgICAgdHlwZSA9IHR5cGUuX192Y2NPcHRzO1xuICAgIH1cbiAgICAvLyAyLnggYXN5bmMvZnVuY3Rpb25hbCBjb21wb25lbnQgY29tcGF0XG4gICAge1xuICAgICAgICB0eXBlID0gY29udmVydExlZ2FjeUNvbXBvbmVudCh0eXBlLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpO1xuICAgIH1cbiAgICAvLyBjbGFzcyAmIHN0eWxlIG5vcm1hbGl6YXRpb24uXG4gICAgaWYgKHByb3BzKSB7XG4gICAgICAgIC8vIGZvciByZWFjdGl2ZSBvciBwcm94eSBvYmplY3RzLCB3ZSBuZWVkIHRvIGNsb25lIGl0IHRvIGVuYWJsZSBtdXRhdGlvbi5cbiAgICAgICAgcHJvcHMgPSBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpO1xuICAgICAgICBsZXQgeyBjbGFzczoga2xhc3MsIHN0eWxlIH0gPSBwcm9wcztcbiAgICAgICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcbiAgICAgICAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc09iamVjdChzdHlsZSkpIHtcbiAgICAgICAgICAgIC8vIHJlYWN0aXZlIHN0YXRlIG9iamVjdHMgbmVlZCB0byBiZSBjbG9uZWQgc2luY2UgdGhleSBhcmUgbGlrZWx5IHRvIGJlXG4gICAgICAgICAgICAvLyBtdXRhdGVkXG4gICAgICAgICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUgPSBleHRlbmQoe30sIHN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BzLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGVuY29kZSB0aGUgdm5vZGUgdHlwZSBpbmZvcm1hdGlvbiBpbnRvIGEgYml0bWFwXG4gICAgY29uc3Qgc2hhcGVGbGFnID0gaXNTdHJpbmcodHlwZSlcbiAgICAgICAgPyAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqL1xuICAgICAgICA6IGlzU3VzcGVuc2UodHlwZSlcbiAgICAgICAgICAgID8gMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi9cbiAgICAgICAgICAgIDogaXNUZWxlcG9ydCh0eXBlKVxuICAgICAgICAgICAgICAgID8gNjQgLyogU2hhcGVGbGFncy5URUxFUE9SVCAqL1xuICAgICAgICAgICAgICAgIDogaXNPYmplY3QodHlwZSlcbiAgICAgICAgICAgICAgICAgICAgPyA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovXG4gICAgICAgICAgICAgICAgICAgIDogaXNGdW5jdGlvbih0eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAyIC8qIFNoYXBlRmxhZ3MuRlVOQ1RJT05BTF9DT01QT05FTlQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNoYXBlRmxhZyAmIDQgLyogU2hhcGVGbGFncy5TVEFURUZVTF9DT01QT05FTlQgKi8gJiYgaXNQcm94eSh0eXBlKSkge1xuICAgICAgICB0eXBlID0gdG9SYXcodHlwZSk7XG4gICAgICAgIHdhcm4kMShgVnVlIHJlY2VpdmVkIGEgQ29tcG9uZW50IHdoaWNoIHdhcyBtYWRlIGEgcmVhY3RpdmUgb2JqZWN0LiBUaGlzIGNhbiBgICtcbiAgICAgICAgICAgIGBsZWFkIHRvIHVubmVjZXNzYXJ5IHBlcmZvcm1hbmNlIG92ZXJoZWFkLCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgYnkgYCArXG4gICAgICAgICAgICBgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGAgK1xuICAgICAgICAgICAgYGluc3RlYWQgb2YgXFxgcmVmXFxgLmAsIGBcXG5Db21wb25lbnQgdGhhdCB3YXMgbWFkZSByZWFjdGl2ZTogYCwgdHlwZSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgc2hhcGVGbGFnLCBpc0Jsb2NrTm9kZSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gaXNQcm94eShwcm9wcykgfHwgSW50ZXJuYWxPYmplY3RLZXkgaW4gcHJvcHNcbiAgICAgICAgPyBleHRlbmQoe30sIHByb3BzKVxuICAgICAgICA6IHByb3BzO1xufVxuZnVuY3Rpb24gY2xvbmVWTm9kZSh2bm9kZSwgZXh0cmFQcm9wcywgbWVyZ2VSZWYgPSBmYWxzZSkge1xuICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBOT1QgdXNpbmcgc3ByZWFkIG9yIGV4dGVuZCB0byBhdm9pZCB0aGUgcnVudGltZVxuICAgIC8vIGtleSBlbnVtZXJhdGlvbiBjb3N0LlxuICAgIGNvbnN0IHsgcHJvcHMsIHJlZiwgcGF0Y2hGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gICAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcbiAgICBjb25zdCBjbG9uZWQgPSB7XG4gICAgICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgICAgICBfX3Zfc2tpcDogdHJ1ZSxcbiAgICAgICAgdHlwZTogdm5vZGUudHlwZSxcbiAgICAgICAgcHJvcHM6IG1lcmdlZFByb3BzLFxuICAgICAgICBrZXk6IG1lcmdlZFByb3BzICYmIG5vcm1hbGl6ZUtleShtZXJnZWRQcm9wcyksXG4gICAgICAgIHJlZjogZXh0cmFQcm9wcyAmJiBleHRyYVByb3BzLnJlZlxuICAgICAgICAgICAgPyAvLyAjMjA3OCBpbiB0aGUgY2FzZSBvZiA8Y29tcG9uZW50IDppcz1cInZub2RlXCIgcmVmPVwiZXh0cmFcIi8+XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZub2RlIGl0c2VsZiBhbHJlYWR5IGhhcyBhIHJlZiwgY2xvbmVWTm9kZSB3aWxsIG5lZWQgdG8gbWVyZ2VcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVmcyBzbyB0aGUgc2luZ2xlIHZub2RlIGNhbiBiZSBzZXQgb24gbXVsdGlwbGUgcmVmc1xuICAgICAgICAgICAgICAgIG1lcmdlUmVmICYmIHJlZlxuICAgICAgICAgICAgICAgICAgICA/IGlzQXJyYXkocmVmKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZWYuY29uY2F0KG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogW3JlZiwgbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXVxuICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKVxuICAgICAgICAgICAgOiByZWYsXG4gICAgICAgIHNjb3BlSWQ6IHZub2RlLnNjb3BlSWQsXG4gICAgICAgIHNsb3RTY29wZUlkczogdm5vZGUuc2xvdFNjb3BlSWRzLFxuICAgICAgICBjaGlsZHJlbjogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhdGNoRmxhZyA9PT0gLTEgLyogUGF0Y2hGbGFncy5IT0lTVEVEICovICYmIGlzQXJyYXkoY2hpbGRyZW4pXG4gICAgICAgICAgICA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSlcbiAgICAgICAgICAgIDogY2hpbGRyZW4sXG4gICAgICAgIHRhcmdldDogdm5vZGUudGFyZ2V0LFxuICAgICAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcbiAgICAgICAgc3RhdGljQ291bnQ6IHZub2RlLnN0YXRpY0NvdW50LFxuICAgICAgICBzaGFwZUZsYWc6IHZub2RlLnNoYXBlRmxhZyxcbiAgICAgICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcbiAgICAgICAgLy8gZXhpc3RpbmcgcGF0Y2ggZmxhZyB0byBiZSByZWxpYWJsZSBhbmQgbmVlZCB0byBhZGQgdGhlIEZVTExfUFJPUFMgZmxhZy5cbiAgICAgICAgLy8gbm90ZTogcHJlc2VydmUgZmxhZyBmb3IgZnJhZ21lbnRzIHNpbmNlIHRoZXkgdXNlIHRoZSBmbGFnIGZvciBjaGlsZHJlblxuICAgICAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXG4gICAgICAgIHBhdGNoRmxhZzogZXh0cmFQcm9wcyAmJiB2bm9kZS50eXBlICE9PSBGcmFnbWVudFxuICAgICAgICAgICAgPyBwYXRjaEZsYWcgPT09IC0xIC8vIGhvaXN0ZWQgbm9kZVxuICAgICAgICAgICAgICAgID8gMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovXG4gICAgICAgICAgICAgICAgOiBwYXRjaEZsYWcgfCAxNiAvKiBQYXRjaEZsYWdzLkZVTExfUFJPUFMgKi9cbiAgICAgICAgICAgIDogcGF0Y2hGbGFnLFxuICAgICAgICBkeW5hbWljUHJvcHM6IHZub2RlLmR5bmFtaWNQcm9wcyxcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuOiB2bm9kZS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXG4gICAgICAgIGRpcnM6IHZub2RlLmRpcnMsXG4gICAgICAgIHRyYW5zaXRpb246IHZub2RlLnRyYW5zaXRpb24sXG4gICAgICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxuICAgICAgICAvLyB0aGV5ICpzaG91bGQqIGJlIGNvcGllZCBmb3Iga2VwdC1hbGl2ZSB2bm9kZXMuIFNvIHdlIGp1c3QgYWx3YXlzIGNvcHlcbiAgICAgICAgLy8gdGhlbSBzaW5jZSB0aGVtIGJlaW5nIG5vbi1udWxsIGR1cmluZyBhIG1vdW50IGRvZXNuJ3QgYWZmZWN0IHRoZSBsb2dpYyBhc1xuICAgICAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxuICAgICAgICBjb21wb25lbnQ6IHZub2RlLmNvbXBvbmVudCxcbiAgICAgICAgc3VzcGVuc2U6IHZub2RlLnN1c3BlbnNlLFxuICAgICAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXG4gICAgICAgIHNzRmFsbGJhY2s6IHZub2RlLnNzRmFsbGJhY2sgJiYgY2xvbmVWTm9kZSh2bm9kZS5zc0ZhbGxiYWNrKSxcbiAgICAgICAgZWw6IHZub2RlLmVsLFxuICAgICAgICBhbmNob3I6IHZub2RlLmFuY2hvcixcbiAgICAgICAgY3R4OiB2bm9kZS5jdHhcbiAgICB9O1xuICAgIHtcbiAgICAgICAgZGVmaW5lTGVnYWN5Vk5vZGVQcm9wZXJ0aWVzKGNsb25lZCk7XG4gICAgfVxuICAgIHJldHVybiBjbG9uZWQ7XG59XG4vKipcbiAqIERldiBvbmx5LCBmb3IgSE1SIG9mIGhvaXN0ZWQgdm5vZGVzIHJldXNlZCBpbiB2LWZvclxuICogaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlL2lzc3Vlcy8yMDIyXG4gKi9cbmZ1bmN0aW9uIGRlZXBDbG9uZVZOb2RlKHZub2RlKSB7XG4gICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgaWYgKGlzQXJyYXkodm5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBjbG9uZWQ7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0ID0gJyAnLCBmbGFnID0gMCkge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCB0ZXh0LCBmbGFnKTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RhdGljVk5vZGUoY29udGVudCwgbnVtYmVyT2ZOb2Rlcykge1xuICAgIC8vIEEgc3RhdGljIHZub2RlIGNhbiBjb250YWluIG11bHRpcGxlIHN0cmluZ2lmaWVkIGVsZW1lbnRzLCBhbmQgdGhlIG51bWJlclxuICAgIC8vIG9mIGVsZW1lbnRzIGlzIG5lY2Vzc2FyeSBmb3IgaHlkcmF0aW9uLlxuICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoU3RhdGljLCBudWxsLCBjb250ZW50KTtcbiAgICB2bm9kZS5zdGF0aWNDb3VudCA9IG51bWJlck9mTm9kZXM7XG4gICAgcmV0dXJuIHZub2RlO1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVDb21tZW50Vk5vZGUodGV4dCA9ICcnLCBcbi8vIHdoZW4gdXNlZCBhcyB0aGUgdi1lbHNlIGJyYW5jaCwgdGhlIGNvbW1lbnQgbm9kZSBtdXN0IGJlIGNyZWF0ZWQgYXMgYVxuLy8gYmxvY2sgdG8gZW5zdXJlIGNvcnJlY3QgdXBkYXRlcy5cbmFzQmxvY2sgPSBmYWxzZSkge1xuICAgIHJldHVybiBhc0Jsb2NrXG4gICAgICAgID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhDb21tZW50LCBudWxsLCB0ZXh0KSlcbiAgICAgICAgOiBjcmVhdGVWTm9kZShDb21tZW50LCBudWxsLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkID09IG51bGwgfHwgdHlwZW9mIGNoaWxkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgLy8gZW1wdHkgcGxhY2Vob2xkZXJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkKSkge1xuICAgICAgICAvLyBmcmFnbWVudFxuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoRnJhZ21lbnQsIG51bGwsIFxuICAgICAgICAvLyAjMzY2NiwgYXZvaWQgcmVmZXJlbmNlIHBvbGx1dGlvbiB3aGVuIHJldXNpbmcgdm5vZGVcbiAgICAgICAgY2hpbGQuc2xpY2UoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gYWxyZWFkeSB2bm9kZSwgdGhpcyBzaG91bGQgYmUgdGhlIG1vc3QgY29tbW9uIHNpbmNlIGNvbXBpbGVkIHRlbXBsYXRlc1xuICAgICAgICAvLyBhbHdheXMgcHJvZHVjZSBhbGwtdm5vZGUgY2hpbGRyZW4gYXJyYXlzXG4gICAgICAgIHJldHVybiBjbG9uZUlmTW91bnRlZChjaGlsZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBzdHJpbmdzIGFuZCBudW1iZXJzXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCBTdHJpbmcoY2hpbGQpKTtcbiAgICB9XG59XG4vLyBvcHRpbWl6ZWQgbm9ybWFsaXphdGlvbiBmb3IgdGVtcGxhdGUtY29tcGlsZWQgcmVuZGVyIGZuc1xuZnVuY3Rpb24gY2xvbmVJZk1vdW50ZWQoY2hpbGQpIHtcbiAgICByZXR1cm4gKGNoaWxkLmVsID09PSBudWxsICYmIGNoaWxkLnBhdGNoRmxhZyAhPT0gLTEgLyogUGF0Y2hGbGFncy5IT0lTVEVEICovKSB8fFxuICAgICAgICBjaGlsZC5tZW1vXG4gICAgICAgID8gY2hpbGRcbiAgICAgICAgOiBjbG9uZVZOb2RlKGNoaWxkKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbikge1xuICAgIGxldCB0eXBlID0gMDtcbiAgICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gdm5vZGU7XG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICB0eXBlID0gMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgKDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovIHwgNjQgLyogU2hhcGVGbGFncy5URUxFUE9SVCAqLykpIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBzbG90IHRvIHBsYWluIGNoaWxkcmVuIGZvciBwbGFpbiBlbGVtZW50IGFuZCBUZWxlcG9ydFxuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IGNoaWxkcmVuLmRlZmF1bHQ7XG4gICAgICAgICAgICBpZiAoc2xvdCkge1xuICAgICAgICAgICAgICAgIC8vIF9jIG1hcmtlciBpcyBhZGRlZCBieSB3aXRoQ3R4KCkgaW5kaWNhdGluZyB0aGlzIGlzIGEgY29tcGlsZWQgc2xvdFxuICAgICAgICAgICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIHNsb3QoKSk7XG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9IDMyIC8qIFNoYXBlRmxhZ3MuU0xPVFNfQ0hJTERSRU4gKi87XG4gICAgICAgICAgICBjb25zdCBzbG90RmxhZyA9IGNoaWxkcmVuLl87XG4gICAgICAgICAgICBpZiAoIXNsb3RGbGFnICYmICEoSW50ZXJuYWxPYmplY3RLZXkgaW4gY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4uX2N0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNsb3RGbGFnID09PSAzIC8qIFNsb3RGbGFncy5GT1JXQVJERUQgKi8gJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgLy8gYSBjaGlsZCBjb21wb25lbnQgcmVjZWl2ZXMgZm9yd2FyZGVkIHNsb3RzIGZyb20gdGhlIHBhcmVudC5cbiAgICAgICAgICAgICAgICAvLyBpdHMgc2xvdCB0eXBlIGlzIGRldGVybWluZWQgYnkgaXRzIHBhcmVudCdzIHNsb3QgdHlwZS5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnNsb3RzLl8gPT09IDEgLyogU2xvdEZsYWdzLlNUQUJMRSAqLykge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMSAvKiBTbG90RmxhZ3MuU1RBQkxFICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uXyA9IDIgLyogU2xvdEZsYWdzLkRZTkFNSUMgKi87XG4gICAgICAgICAgICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0IC8qIFBhdGNoRmxhZ3MuRFlOQU1JQ19TTE9UUyAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihjaGlsZHJlbikpIHtcbiAgICAgICAgY2hpbGRyZW4gPSB7IGRlZmF1bHQ6IGNoaWxkcmVuLCBfY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfTtcbiAgICAgICAgdHlwZSA9IDMyIC8qIFNoYXBlRmxhZ3MuU0xPVFNfQ0hJTERSRU4gKi87XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjaGlsZHJlbiA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgICAgIC8vIGZvcmNlIHRlbGVwb3J0IGNoaWxkcmVuIHRvIGFycmF5IHNvIGl0IGNhbiBiZSBtb3ZlZCBhcm91bmRcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pIHtcbiAgICAgICAgICAgIHR5cGUgPSAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovO1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0eXBlID0gOCAvKiBTaGFwZUZsYWdzLlRFWFRfQ0hJTERSRU4gKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcbn1cbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xuICAgIGNvbnN0IHJldCA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0b01lcmdlID0gYXJnc1tpXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdG9NZXJnZSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0LmNsYXNzID0gbm9ybWFsaXplQ2xhc3MoW3JldC5jbGFzcywgdG9NZXJnZS5jbGFzc10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgICAgIHJldC5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKFtyZXQuc3R5bGUsIHRvTWVyZ2Uuc3R5bGVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcmV0W2tleV07XG4gICAgICAgICAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKGluY29taW5nICYmXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nICE9PSBpbmNvbWluZyAmJlxuICAgICAgICAgICAgICAgICAgICAhKGlzQXJyYXkoZXhpc3RpbmcpICYmIGV4aXN0aW5nLmluY2x1ZGVzKGluY29taW5nKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBbXS5jb25jYXQoZXhpc3RpbmcsIGluY29taW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbmNvbWluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcmV0W2tleV0gPSB0b01lcmdlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIGludm9rZVZOb2RlSG9vayhob29rLCBpbnN0YW5jZSwgdm5vZGUsIHByZXZWTm9kZSA9IG51bGwpIHtcbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgNyAvKiBFcnJvckNvZGVzLlZOT0RFX0hPT0sgKi8sIFtcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIHByZXZWTm9kZVxuICAgIF0pO1xufVxuXG5jb25zdCBlbXB0eUFwcENvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XG5sZXQgdWlkJDEgPSAwO1xuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2Uodm5vZGUsIHBhcmVudCwgc3VzcGVuc2UpIHtcbiAgICBjb25zdCB0eXBlID0gdm5vZGUudHlwZTtcbiAgICAvLyBpbmhlcml0IHBhcmVudCBhcHAgY29udGV4dCAtIG9yIC0gaWYgcm9vdCwgYWRvcHQgZnJvbSByb290IHZub2RlXG4gICAgY29uc3QgYXBwQ29udGV4dCA9IChwYXJlbnQgPyBwYXJlbnQuYXBwQ29udGV4dCA6IHZub2RlLmFwcENvbnRleHQpIHx8IGVtcHR5QXBwQ29udGV4dDtcbiAgICBjb25zdCBpbnN0YW5jZSA9IHtcbiAgICAgICAgdWlkOiB1aWQkMSsrLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBhcHBDb250ZXh0LFxuICAgICAgICByb290OiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICBzdWJUcmVlOiBudWxsLFxuICAgICAgICBlZmZlY3Q6IG51bGwsXG4gICAgICAgIHVwZGF0ZTogbnVsbCxcbiAgICAgICAgc2NvcGU6IG5ldyBFZmZlY3RTY29wZSh0cnVlIC8qIGRldGFjaGVkICovKSxcbiAgICAgICAgcmVuZGVyOiBudWxsLFxuICAgICAgICBwcm94eTogbnVsbCxcbiAgICAgICAgZXhwb3NlZDogbnVsbCxcbiAgICAgICAgZXhwb3NlUHJveHk6IG51bGwsXG4gICAgICAgIHdpdGhQcm94eTogbnVsbCxcbiAgICAgICAgcHJvdmlkZXM6IHBhcmVudCA/IHBhcmVudC5wcm92aWRlcyA6IE9iamVjdC5jcmVhdGUoYXBwQ29udGV4dC5wcm92aWRlcyksXG4gICAgICAgIGFjY2Vzc0NhY2hlOiBudWxsLFxuICAgICAgICByZW5kZXJDYWNoZTogW10sXG4gICAgICAgIC8vIGxvY2FsIHJlc29sdmVkIGFzc2V0c1xuICAgICAgICBjb21wb25lbnRzOiBudWxsLFxuICAgICAgICBkaXJlY3RpdmVzOiBudWxsLFxuICAgICAgICAvLyByZXNvbHZlZCBwcm9wcyBhbmQgZW1pdHMgb3B0aW9uc1xuICAgICAgICBwcm9wc09wdGlvbnM6IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICAgICAgZW1pdHNPcHRpb25zOiBub3JtYWxpemVFbWl0c09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgICAgIC8vIGVtaXRcbiAgICAgICAgZW1pdDogbnVsbCxcbiAgICAgICAgZW1pdHRlZDogbnVsbCxcbiAgICAgICAgLy8gcHJvcHMgZGVmYXVsdCB2YWx1ZVxuICAgICAgICBwcm9wc0RlZmF1bHRzOiBFTVBUWV9PQkosXG4gICAgICAgIC8vIGluaGVyaXRBdHRyc1xuICAgICAgICBpbmhlcml0QXR0cnM6IHR5cGUuaW5oZXJpdEF0dHJzLFxuICAgICAgICAvLyBzdGF0ZVxuICAgICAgICBjdHg6IEVNUFRZX09CSixcbiAgICAgICAgZGF0YTogRU1QVFlfT0JKLFxuICAgICAgICBwcm9wczogRU1QVFlfT0JKLFxuICAgICAgICBhdHRyczogRU1QVFlfT0JKLFxuICAgICAgICBzbG90czogRU1QVFlfT0JKLFxuICAgICAgICByZWZzOiBFTVBUWV9PQkosXG4gICAgICAgIHNldHVwU3RhdGU6IEVNUFRZX09CSixcbiAgICAgICAgc2V0dXBDb250ZXh0OiBudWxsLFxuICAgICAgICAvLyBzdXNwZW5zZSByZWxhdGVkXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBzdXNwZW5zZUlkOiBzdXNwZW5zZSA/IHN1c3BlbnNlLnBlbmRpbmdJZCA6IDAsXG4gICAgICAgIGFzeW5jRGVwOiBudWxsLFxuICAgICAgICBhc3luY1Jlc29sdmVkOiBmYWxzZSxcbiAgICAgICAgLy8gbGlmZWN5Y2xlIGhvb2tzXG4gICAgICAgIC8vIG5vdCB1c2luZyBlbnVtcyBoZXJlIGJlY2F1c2UgaXQgcmVzdWx0cyBpbiBjb21wdXRlZCBwcm9wZXJ0aWVzXG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICAgICAgaXNEZWFjdGl2YXRlZDogZmFsc2UsXG4gICAgICAgIGJjOiBudWxsLFxuICAgICAgICBjOiBudWxsLFxuICAgICAgICBibTogbnVsbCxcbiAgICAgICAgbTogbnVsbCxcbiAgICAgICAgYnU6IG51bGwsXG4gICAgICAgIHU6IG51bGwsXG4gICAgICAgIHVtOiBudWxsLFxuICAgICAgICBidW06IG51bGwsXG4gICAgICAgIGRhOiBudWxsLFxuICAgICAgICBhOiBudWxsLFxuICAgICAgICBydGc6IG51bGwsXG4gICAgICAgIHJ0YzogbnVsbCxcbiAgICAgICAgZWM6IG51bGwsXG4gICAgICAgIHNwOiBudWxsXG4gICAgfTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGluc3RhbmNlLmN0eCA9IGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuY3R4ID0geyBfOiBpbnN0YW5jZSB9O1xuICAgIH1cbiAgICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZS5lbWl0ID0gZW1pdCQyLmJpbmQobnVsbCwgaW5zdGFuY2UpO1xuICAgIC8vIGFwcGx5IGN1c3RvbSBlbGVtZW50IHNwZWNpYWwgaGFuZGxpbmdcbiAgICBpZiAodm5vZGUuY2UpIHtcbiAgICAgICAgdm5vZGUuY2UoaW5zdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG59XG5sZXQgY3VycmVudEluc3RhbmNlID0gbnVsbDtcbmNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG5jb25zdCBzZXRDdXJyZW50SW5zdGFuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgICBjdXJyZW50SW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZS5zY29wZS5vbigpO1xufTtcbmNvbnN0IHVuc2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4ge1xuICAgIGN1cnJlbnRJbnN0YW5jZSAmJiBjdXJyZW50SW5zdGFuY2Uuc2NvcGUub2ZmKCk7XG4gICAgY3VycmVudEluc3RhbmNlID0gbnVsbDtcbn07XG5jb25zdCBpc0J1aWx0SW5UYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50Jyk7XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29uZmlnKSB7XG4gICAgY29uc3QgYXBwSXNOYXRpdmVUYWcgPSBjb25maWcuaXNOYXRpdmVUYWcgfHwgTk87XG4gICAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBhcHBJc05hdGl2ZVRhZyhuYW1lKSkge1xuICAgICAgICB3YXJuJDEoJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgaWQ6ICcgKyBuYW1lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDQgLyogU2hhcGVGbGFncy5TVEFURUZVTF9DT01QT05FTlQgKi87XG59XG5sZXQgaXNJblNTUkNvbXBvbmVudFNldHVwID0gZmFsc2U7XG5mdW5jdGlvbiBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IgPSBmYWxzZSkge1xuICAgIGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGlzU1NSO1xuICAgIGNvbnN0IHsgcHJvcHMsIGNoaWxkcmVuIH0gPSBpbnN0YW5jZS52bm9kZTtcbiAgICBjb25zdCBpc1N0YXRlZnVsID0gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSk7XG4gICAgaW5pdFByb3BzKGluc3RhbmNlLCBwcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IpO1xuICAgIGluaXRTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gaXNTdGF0ZWZ1bFxuICAgICAgICA/IHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcbiAgICByZXR1cm4gc2V0dXBSZXN1bHQ7XG59XG5mdW5jdGlvbiBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaWYgKENvbXBvbmVudC5uYW1lKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoQ29tcG9uZW50Lm5hbWUsIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ29tcG9uZW50LmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmNvbXBvbmVudHMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lc1tpXSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChDb21wb25lbnQuZGlyZWN0aXZlcykge1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuZGlyZWN0aXZlcyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQ29tcG9uZW50LmNvbXBpbGVyT3B0aW9ucyAmJiBpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICAgICAgICAgIHdhcm4kMShgXCJjb21waWxlck9wdGlvbnNcIiBpcyBvbmx5IHN1cHBvcnRlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlIHRoYXQgYCArXG4gICAgICAgICAgICAgICAgYGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyLiBTaW5jZSB5b3UgYXJlIHVzaW5nIGEgcnVudGltZS1vbmx5IGAgK1xuICAgICAgICAgICAgICAgIGBidWlsZCwgdGhlIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgeW91ciBidWlsZCB0b29sIGNvbmZpZyBpbnN0ZWFkLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIDAuIGNyZWF0ZSByZW5kZXIgcHJveHkgcHJvcGVydHkgYWNjZXNzIGNhY2hlXG4gICAgaW5zdGFuY2UuYWNjZXNzQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIC8vIDEuIGNyZWF0ZSBwdWJsaWMgaW5zdGFuY2UgLyByZW5kZXIgcHJveHlcbiAgICAvLyBhbHNvIG1hcmsgaXQgcmF3IHNvIGl0J3MgbmV2ZXIgb2JzZXJ2ZWRcbiAgICBpbnN0YW5jZS5wcm94eSA9IG1hcmtSYXcobmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKSk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gICAgfVxuICAgIC8vIDIuIGNhbGwgc2V0dXAoKVxuICAgIGNvbnN0IHsgc2V0dXAgfSA9IENvbXBvbmVudDtcbiAgICBpZiAoc2V0dXApIHtcbiAgICAgICAgY29uc3Qgc2V0dXBDb250ZXh0ID0gKGluc3RhbmNlLnNldHVwQ29udGV4dCA9XG4gICAgICAgICAgICBzZXR1cC5sZW5ndGggPiAxID8gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSA6IG51bGwpO1xuICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNldHVwLCBpbnN0YW5jZSwgMCAvKiBFcnJvckNvZGVzLlNFVFVQX0ZVTkNUSU9OICovLCBbKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnByb3BzKSA6IGluc3RhbmNlLnByb3BzLCBzZXR1cENvbnRleHRdKTtcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBpZiAoaXNQcm9taXNlKHNldHVwUmVzdWx0KSkge1xuICAgICAgICAgICAgc2V0dXBSZXN1bHQudGhlbih1bnNldEN1cnJlbnRJbnN0YW5jZSwgdW5zZXRDdXJyZW50SW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKGlzU1NSKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBwcm9taXNlIHNvIHNlcnZlci1yZW5kZXJlciBjYW4gd2FpdCBvbiBpdFxuICAgICAgICAgICAgICAgIHJldHVybiBzZXR1cFJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZWRSZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHJlc29sdmVkUmVzdWx0LCBpc1NTUik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlLCBpbnN0YW5jZSwgMCAvKiBFcnJvckNvZGVzLlNFVFVQX0ZVTkNUSU9OICovKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFzeW5jIHNldHVwIHJldHVybmVkIFByb21pc2UuXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBoZXJlIGFuZCB3YWl0IGZvciByZS1lbnRyeS5cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCA9IHNldHVwUmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWluc3RhbmNlLnN1c3BlbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSAoX2EgPSBDb21wb25lbnQubmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ0Fub255bW91cyc7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IDwke25hbWV9Pjogc2V0dXAgZnVuY3Rpb24gcmV0dXJuZWQgYSBwcm9taXNlLCBidXQgbm8gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgPFN1c3BlbnNlPiBib3VuZGFyeSB3YXMgZm91bmQgaW4gdGhlIHBhcmVudCBjb21wb25lbnQgdHJlZS4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgQSBjb21wb25lbnQgd2l0aCBhc3luYyBzZXR1cCgpIG11c3QgYmUgbmVzdGVkIGluIGEgPFN1c3BlbnNlPiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpbiBvcmRlciB0byBiZSByZW5kZXJlZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcbiAgICB9XG59XG5mdW5jdGlvbiBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oc2V0dXBSZXN1bHQpKSB7XG4gICAgICAgIC8vIHNldHVwIHJldHVybmVkIGFuIGlubGluZSByZW5kZXIgZnVuY3Rpb25cbiAgICAgICAgaWYgKGluc3RhbmNlLnR5cGUuX19zc3JJbmxpbmVSZW5kZXIpIHtcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIGZ1bmN0aW9uJ3MgbmFtZSBpcyBgc3NyUmVuZGVyYCAoY29tcGlsZWQgYnkgU0ZDIGlubGluZSBtb2RlKSxcbiAgICAgICAgICAgIC8vIHNldCBpdCBhcyBzc3JSZW5kZXIgaW5zdGVhZC5cbiAgICAgICAgICAgIGluc3RhbmNlLnNzclJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3Qoc2V0dXBSZXN1bHQpKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcbiAgICAgICAgICAgIHdhcm4kMShgc2V0dXAoKSBzaG91bGQgbm90IHJldHVybiBWTm9kZXMgZGlyZWN0bHkgLSBgICtcbiAgICAgICAgICAgICAgICBgcmV0dXJuIGEgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0dXAgcmV0dXJuZWQgYmluZGluZ3MuXG4gICAgICAgIC8vIGFzc3VtaW5nIGEgcmVuZGVyIGZ1bmN0aW9uIGNvbXBpbGVkIGZyb20gdGVtcGxhdGUgaXMgcHJlc2VudC5cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSA9IHNldHVwUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLnNldHVwU3RhdGUgPSBwcm94eVJlZnMoc2V0dXBSZXN1bHQpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2V0dXBSZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3YXJuJDEoYHNldHVwKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuIFJlY2VpdmVkOiAke3NldHVwUmVzdWx0ID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHNldHVwUmVzdWx0fWApO1xuICAgIH1cbiAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xufVxubGV0IGNvbXBpbGU7XG5sZXQgaW5zdGFsbFdpdGhQcm94eTtcbi8qKlxuICogRm9yIHJ1bnRpbWUtZG9tIHRvIHJlZ2lzdGVyIHRoZSBjb21waWxlci5cbiAqIE5vdGUgdGhlIGV4cG9ydGVkIG1ldGhvZCB1c2VzIGFueSB0byBhdm9pZCBkLnRzIHJlbHlpbmcgb24gdGhlIGNvbXBpbGVyIHR5cGVzLlxuICovXG5mdW5jdGlvbiByZWdpc3RlclJ1bnRpbWVDb21waWxlcihfY29tcGlsZSkge1xuICAgIGNvbXBpbGUgPSBfY29tcGlsZTtcbiAgICBpbnN0YWxsV2l0aFByb3h5ID0gaSA9PiB7XG4gICAgICAgIGlmIChpLnJlbmRlci5fcmMpIHtcbiAgICAgICAgICAgIGkud2l0aFByb3h5ID0gbmV3IFByb3h5KGkuY3R4LCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8vIGRldiBvbmx5XG5jb25zdCBpc1J1bnRpbWVPbmx5ID0gKCkgPT4gIWNvbXBpbGU7XG5mdW5jdGlvbiBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IsIHNraXBPcHRpb25zKSB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgICB7XG4gICAgICAgIGNvbnZlcnRMZWdhY3lSZW5kZXJGbihpbnN0YW5jZSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgQ29tcG9uZW50LmNvbXBhdENvbmZpZykge1xuICAgICAgICAgICAgdmFsaWRhdGVDb21wYXRDb25maWcoQ29tcG9uZW50LmNvbXBhdENvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdGVtcGxhdGUgLyByZW5kZXIgZnVuY3Rpb24gbm9ybWFsaXphdGlvblxuICAgIC8vIGNvdWxkIGJlIGFscmVhZHkgc2V0IHdoZW4gcmV0dXJuZWQgZnJvbSBzZXR1cCgpXG4gICAgaWYgKCFpbnN0YW5jZS5yZW5kZXIpIHtcbiAgICAgICAgLy8gb25seSBkbyBvbi10aGUtZmx5IGNvbXBpbGUgaWYgbm90IGluIFNTUiAtIFNTUiBvbi10aGUtZmx5IGNvbXBpbGF0aW9uXG4gICAgICAgIC8vIGlzIGRvbmUgYnkgc2VydmVyLXJlbmRlcmVyXG4gICAgICAgIGlmICghaXNTU1IgJiYgY29tcGlsZSAmJiAhQ29tcG9uZW50LnJlbmRlcikge1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSAoaW5zdGFuY2Uudm5vZGUucHJvcHMgJiZcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS52bm9kZS5wcm9wc1snaW5saW5lLXRlbXBsYXRlJ10pIHx8XG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LnRlbXBsYXRlIHx8XG4gICAgICAgICAgICAgICAgcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpLnRlbXBsYXRlO1xuICAgICAgICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgaXNDdXN0b21FbGVtZW50LCBjb21waWxlck9wdGlvbnMgfSA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGVsaW1pdGVycywgY29tcGlsZXJPcHRpb25zOiBjb21wb25lbnRDb21waWxlck9wdGlvbnMgfSA9IENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbENvbXBpbGVyT3B0aW9ucyA9IGV4dGVuZChleHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGRlbGltaXRlcnNcbiAgICAgICAgICAgICAgICB9LCBjb21waWxlck9wdGlvbnMpLCBjb21wb25lbnRDb21waWxlck9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFzcyBydW50aW1lIGNvbXBhdCBjb25maWcgaW50byB0aGUgY29tcGlsZXJcbiAgICAgICAgICAgICAgICAgICAgZmluYWxDb21waWxlck9wdGlvbnMuY29tcGF0Q29uZmlnID0gT2JqZWN0LmNyZWF0ZShnbG9iYWxDb21wYXRDb25maWcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQ29tcG9uZW50LmNvbXBhdENvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlcyBhcmUgbm90IGNvbXBhdGlibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZChmaW5hbENvbXBpbGVyT3B0aW9ucy5jb21wYXRDb25maWcsIENvbXBvbmVudC5jb21wYXRDb25maWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIENvbXBvbmVudC5yZW5kZXIgPSBjb21waWxlKHRlbXBsYXRlLCBmaW5hbENvbXBpbGVyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSAoQ29tcG9uZW50LnJlbmRlciB8fCBOT09QKTtcbiAgICAgICAgLy8gZm9yIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2tzLCB0aGUgcmVuZGVyXG4gICAgICAgIC8vIHByb3h5IHVzZWQgbmVlZHMgYSBkaWZmZXJlbnQgYGhhc2AgaGFuZGxlciB3aGljaCBpcyBtb3JlIHBlcmZvcm1hbnQgYW5kXG4gICAgICAgIC8vIGFsc28gb25seSBhbGxvd3MgYSB3aGl0ZWxpc3Qgb2YgZ2xvYmFscyB0byBmYWxsdGhyb3VnaC5cbiAgICAgICAgaWYgKGluc3RhbGxXaXRoUHJveHkpIHtcbiAgICAgICAgICAgIGluc3RhbGxXaXRoUHJveHkoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHN1cHBvcnQgZm9yIDIueCBvcHRpb25zXG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIShza2lwT3B0aW9ucykpIHtcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UpO1xuICAgICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICAgIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgfVxuICAgIC8vIHdhcm4gbWlzc2luZyB0ZW1wbGF0ZS9yZW5kZXJcbiAgICAvLyB0aGUgcnVudGltZSBjb21waWxhdGlvbiBvZiB0ZW1wbGF0ZSBpbiBTU1IgaXMgZG9uZSBieSBzZXJ2ZXItcmVuZGVyXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhQ29tcG9uZW50LnJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1AgJiYgIWlzU1NSKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIWNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlKSB7XG4gICAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBwcm92aWRlZCB0ZW1wbGF0ZSBvcHRpb24gYnV0IGAgK1xuICAgICAgICAgICAgICAgIGBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXG4gICAgICAgICAgICAgICAgKGAgQ29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBhbGlhcyBcInZ1ZVwiIHRvIFwidnVlL2Rpc3QvdnVlLmVzbS1idW5kbGVyLmpzXCIuYFxuICAgICAgICAgICAgICAgICAgICApIC8qIHNob3VsZCBub3QgaGFwcGVuICovKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IGlzIG1pc3NpbmcgdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uLmApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQXR0cnNQcm94eShpbnN0YW5jZSkge1xuICAgIHJldHVybiBuZXcgUHJveHkoaW5zdGFuY2UuYXR0cnMsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICAgICAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywgJyRhdHRycycpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZVByb3BlcnR5KCkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICAgICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sICckYXR0cnMnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSB7XG4gICAgY29uc3QgZXhwb3NlID0gZXhwb3NlZCA9PiB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgICAgICAgd2FybiQxKGBleHBvc2UoKSBzaG91bGQgYmUgY2FsbGVkIG9ubHkgb25jZSBwZXIgc2V0dXAoKS5gKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5leHBvc2VkID0gZXhwb3NlZCB8fCB7fTtcbiAgICB9O1xuICAgIGxldCBhdHRycztcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIC8vIFdlIHVzZSBnZXR0ZXJzIGluIGRldiBpbiBjYXNlIGxpYnMgbGlrZSB0ZXN0LXV0aWxzIG92ZXJ3cml0ZSBpbnN0YW5jZVxuICAgICAgICAvLyBwcm9wZXJ0aWVzIChvdmVyd3JpdGVzIHNob3VsZCBub3QgYmUgZG9uZSBpbiBwcm9kKVxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzIHx8IChhdHRycyA9IGNyZWF0ZUF0dHJzUHJveHkoaW5zdGFuY2UpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgc2xvdHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5zbG90cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGVtaXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwb3NlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMgfHwgKGF0dHJzID0gY3JlYXRlQXR0cnNQcm94eShpbnN0YW5jZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNsb3RzOiBpbnN0YW5jZS5zbG90cyxcbiAgICAgICAgICAgIGVtaXQ6IGluc3RhbmNlLmVtaXQsXG4gICAgICAgICAgICBleHBvc2VcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRFeHBvc2VQcm94eShpbnN0YW5jZSkge1xuICAgIGlmIChpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICAgIHJldHVybiAoaW5zdGFuY2UuZXhwb3NlUHJveHkgfHxcbiAgICAgICAgICAgIChpbnN0YW5jZS5leHBvc2VQcm94eSA9IG5ldyBQcm94eShwcm94eVJlZnMobWFya1JhdyhpbnN0YW5jZS5leHBvc2VkKSksIHtcbiAgICAgICAgICAgICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgaW4gcHVibGljUHJvcGVydGllc01hcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhcyh0YXJnZXQsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5IGluIHRhcmdldCB8fCBrZXkgaW4gcHVibGljUHJvcGVydGllc01hcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkpO1xuICAgIH1cbn1cbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKShcXHcpL2c7XG5jb25zdCBjbGFzc2lmeSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKGNsYXNzaWZ5UkUsIGMgPT4gYy50b1VwcGVyQ2FzZSgpKS5yZXBsYWNlKC9bLV9dL2csICcnKTtcbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50LCBpbmNsdWRlSW5mZXJyZWQgPSB0cnVlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oQ29tcG9uZW50KVxuICAgICAgICA/IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZVxuICAgICAgICA6IENvbXBvbmVudC5uYW1lIHx8IChpbmNsdWRlSW5mZXJyZWQgJiYgQ29tcG9uZW50Ll9fbmFtZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gZm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgQ29tcG9uZW50LCBpc1Jvb3QgPSBmYWxzZSkge1xuICAgIGxldCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQpO1xuICAgIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gQ29tcG9uZW50Ll9fZmlsZS5tYXRjaCgvKFteL1xcXFxdKylcXC5cXHcrJC8pO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaFsxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5hbWUgJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICAgIC8vIHRyeSB0byBpbmZlciB0aGUgbmFtZSBiYXNlZCBvbiByZXZlcnNlIHJlc29sdXRpb25cbiAgICAgICAgY29uc3QgaW5mZXJGcm9tUmVnaXN0cnkgPSAocmVnaXN0cnkpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2lzdHJ5W2tleV0gPT09IENvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbmFtZSA9XG4gICAgICAgICAgICBpbmZlckZyb21SZWdpc3RyeShpbnN0YW5jZS5jb21wb25lbnRzIHx8XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50cykgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUgPyBjbGFzc2lmeShuYW1lKSA6IGlzUm9vdCA/IGBBcHBgIDogYEFub255bW91c2A7XG59XG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpICYmICdfX3ZjY09wdHMnIGluIHZhbHVlO1xufVxuXG5jb25zdCBjb21wdXRlZCQxID0gKChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucykgPT4ge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMsIGlzSW5TU1JDb21wb25lbnRTZXR1cCk7XG59KTtcblxuLy8gZGV2IG9ubHlcbmNvbnN0IHdhcm5SdW50aW1lVXNhZ2UgPSAobWV0aG9kKSA9PiB3YXJuJDEoYCR7bWV0aG9kfSgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYCArXG4gICAgYDxzY3JpcHQgc2V0dXA+IG9mIGEgc2luZ2xlIGZpbGUgY29tcG9uZW50LiBJdHMgYXJndW1lbnRzIHNob3VsZCBiZSBgICtcbiAgICBgY29tcGlsZWQgYXdheSBhbmQgcGFzc2luZyBpdCBhdCBydW50aW1lIGhhcyBubyBlZmZlY3QuYCk7XG4vLyBpbXBsZW1lbnRhdGlvblxuZnVuY3Rpb24gZGVmaW5lUHJvcHMoKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVQcm9wc2ApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8vIGltcGxlbWVudGF0aW9uXG5mdW5jdGlvbiBkZWZpbmVFbWl0cygpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUVtaXRzYCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBWdWUgYDxzY3JpcHQgc2V0dXA+YCBjb21waWxlciBtYWNybyBmb3IgZGVjbGFyaW5nIGEgY29tcG9uZW50J3MgZXhwb3NlZFxuICogaW5zdGFuY2UgcHJvcGVydGllcyB3aGVuIGl0IGlzIGFjY2Vzc2VkIGJ5IGEgcGFyZW50IGNvbXBvbmVudCB2aWEgdGVtcGxhdGVcbiAqIHJlZnMuXG4gKlxuICogYDxzY3JpcHQgc2V0dXA+YCBjb21wb25lbnRzIGFyZSBjbG9zZWQgYnkgZGVmYXVsdCAtIGkuZS4gdmFyaWFibGVzIGluc2lkZVxuICogdGhlIGA8c2NyaXB0IHNldHVwPmAgc2NvcGUgaXMgbm90IGV4cG9zZWQgdG8gcGFyZW50IHVubGVzcyBleHBsaWNpdGx5IGV4cG9zZWRcbiAqIHZpYSBgZGVmaW5lRXhwb3NlYC5cbiAqXG4gKiBUaGlzIGlzIG9ubHkgdXNhYmxlIGluc2lkZSBgPHNjcmlwdCBzZXR1cD5gLCBpcyBjb21waWxlZCBhd2F5IGluIHRoZVxuICogb3V0cHV0IGFuZCBzaG91bGQgKipub3QqKiBiZSBhY3R1YWxseSBjYWxsZWQgYXQgcnVudGltZS5cbiAqL1xuZnVuY3Rpb24gZGVmaW5lRXhwb3NlKGV4cG9zZWQpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUV4cG9zZWApO1xuICAgIH1cbn1cbi8qKlxuICogVnVlIGA8c2NyaXB0IHNldHVwPmAgY29tcGlsZXIgbWFjcm8gZm9yIHByb3ZpZGluZyBwcm9wcyBkZWZhdWx0IHZhbHVlcyB3aGVuXG4gKiB1c2luZyB0eXBlLWJhc2VkIGBkZWZpbmVQcm9wc2AgZGVjbGFyYXRpb24uXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqIGBgYHRzXG4gKiB3aXRoRGVmYXVsdHMoZGVmaW5lUHJvcHM8e1xuICogICBzaXplPzogbnVtYmVyXG4gKiAgIGxhYmVscz86IHN0cmluZ1tdXG4gKiB9PigpLCB7XG4gKiAgIHNpemU6IDMsXG4gKiAgIGxhYmVsczogKCkgPT4gWydkZWZhdWx0IGxhYmVsJ11cbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBUaGlzIGlzIG9ubHkgdXNhYmxlIGluc2lkZSBgPHNjcmlwdCBzZXR1cD5gLCBpcyBjb21waWxlZCBhd2F5IGluIHRoZSBvdXRwdXRcbiAqIGFuZCBzaG91bGQgKipub3QqKiBiZSBhY3R1YWxseSBjYWxsZWQgYXQgcnVudGltZS5cbiAqL1xuZnVuY3Rpb24gd2l0aERlZmF1bHRzKHByb3BzLCBkZWZhdWx0cykge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FyblJ1bnRpbWVVc2FnZShgd2l0aERlZmF1bHRzYCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXNlU2xvdHMoKSB7XG4gICAgcmV0dXJuIGdldENvbnRleHQoKS5zbG90cztcbn1cbmZ1bmN0aW9uIHVzZUF0dHJzKCkge1xuICAgIHJldHVybiBnZXRDb250ZXh0KCkuYXR0cnM7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KCkge1xuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpKSB7XG4gICAgICAgIHdhcm4kMShgdXNlQ29udGV4dCgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGkuc2V0dXBDb250ZXh0IHx8IChpLnNldHVwQ29udGV4dCA9IGNyZWF0ZVNldHVwQ29udGV4dChpKSk7XG59XG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciBtZXJnaW5nIGRlZmF1bHQgZGVjbGFyYXRpb25zLiBJbXBvcnRlZCBieSBjb21waWxlZCBjb2RlXG4gKiBvbmx5LlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIG1lcmdlRGVmYXVsdHMocmF3LCBkZWZhdWx0cykge1xuICAgIGNvbnN0IHByb3BzID0gaXNBcnJheShyYXcpXG4gICAgICAgID8gcmF3LnJlZHVjZSgobm9ybWFsaXplZCwgcCkgPT4gKChub3JtYWxpemVkW3BdID0ge30pLCBub3JtYWxpemVkKSwge30pXG4gICAgICAgIDogcmF3O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgICAgIGNvbnN0IG9wdCA9IHByb3BzW2tleV07XG4gICAgICAgIGlmIChvcHQpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpKSB7XG4gICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHsgdHlwZTogb3B0LCBkZWZhdWx0OiBkZWZhdWx0c1trZXldIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHQuZGVmYXVsdCA9IGRlZmF1bHRzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0ID09PSBudWxsKSB7XG4gICAgICAgICAgICBwcm9wc1trZXldID0geyBkZWZhdWx0OiBkZWZhdWx0c1trZXldIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYHByb3BzIGRlZmF1bHQga2V5IFwiJHtrZXl9XCIgaGFzIG5vIGNvcnJlc3BvbmRpbmcgZGVjbGFyYXRpb24uYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BzO1xufVxuLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSBhIHByb3h5IGZvciB0aGUgcmVzdCBlbGVtZW50IHdoZW4gZGVzdHJ1Y3R1cmluZyBwcm9wcyB3aXRoXG4gKiBkZWZpbmVQcm9wcygpLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVByb3BzUmVzdFByb3h5KHByb3BzLCBleGNsdWRlZEtleXMpIHtcbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICBpZiAoIWV4Y2x1ZGVkS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmV0LCBrZXksIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcHJvcHNba2V5XVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cbi8qKlxuICogYDxzY3JpcHQgc2V0dXA+YCBoZWxwZXIgZm9yIHBlcnNpc3RpbmcgdGhlIGN1cnJlbnQgaW5zdGFuY2UgY29udGV4dCBvdmVyXG4gKiBhc3luYy9hd2FpdCBmbG93cy5cbiAqXG4gKiBgQHZ1ZS9jb21waWxlci1zZmNgIGNvbnZlcnRzIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IHggPSBhd2FpdCBmb28oKVxuICogYGBgXG4gKlxuICogaW50bzpcbiAqXG4gKiBgYGB0c1xuICogbGV0IF9fdGVtcCwgX19yZXN0b3JlXG4gKiBjb25zdCB4ID0gKChbX190ZW1wLCBfX3Jlc3RvcmVdID0gd2l0aEFzeW5jQ29udGV4dCgoKSA9PiBmb28oKSkpLF9fdGVtcD1hd2FpdCBfX3RlbXAsX19yZXN0b3JlKCksX190ZW1wKVxuICogYGBgXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gd2l0aEFzeW5jQ29udGV4dChnZXRBd2FpdGFibGUpIHtcbiAgICBjb25zdCBjdHggPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjdHgpIHtcbiAgICAgICAgd2FybiQxKGB3aXRoQXN5bmNDb250ZXh0IGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBjdXJyZW50IGluc3RhbmNlLiBgICtcbiAgICAgICAgICAgIGBUaGlzIGlzIGxpa2VseSBhIGJ1Zy5gKTtcbiAgICB9XG4gICAgbGV0IGF3YWl0YWJsZSA9IGdldEF3YWl0YWJsZSgpO1xuICAgIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKGlzUHJvbWlzZShhd2FpdGFibGUpKSB7XG4gICAgICAgIGF3YWl0YWJsZSA9IGF3YWl0YWJsZS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShjdHgpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBbYXdhaXRhYmxlLCAoKSA9PiBzZXRDdXJyZW50SW5zdGFuY2UoY3R4KV07XG59XG5cbi8vIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxuZnVuY3Rpb24gaCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gICAgY29uc3QgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGwgPT09IDIpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHByb3BzT3JDaGlsZHJlbikgJiYgIWlzQXJyYXkocHJvcHNPckNoaWxkcmVuKSkge1xuICAgICAgICAgICAgLy8gc2luZ2xlIHZub2RlIHdpdGhvdXQgcHJvcHNcbiAgICAgICAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgW3Byb3BzT3JDaGlsZHJlbl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJvcHMgd2l0aG91dCBjaGlsZHJlblxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzT3JDaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBvbWl0IHByb3BzXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGwgPiAzKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcbiAgICB9XG59XG5cbmNvbnN0IHNzckNvbnRleHRLZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHNzckNvbnRleHRgIDogYGApO1xuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcbiAgICB7XG4gICAgICAgIGNvbnN0IGN0eCA9IGluamVjdChzc3JDb250ZXh0S2V5KTtcbiAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm4kMShgU2VydmVyIHJlbmRlcmluZyBjb250ZXh0IG5vdCBwcm92aWRlZC4gTWFrZSBzdXJlIHRvIG9ubHkgY2FsbCBgICtcbiAgICAgICAgICAgICAgICAgICAgYHVzZVNTUkNvbnRleHQoKSBjb25kaXRpb25hbGx5IGluIHRoZSBzZXJ2ZXIgYnVpbGQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN0eDtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuICAgIGlmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdnVlU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6IzNiYTc3NicgfTtcbiAgICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojMGIxYmM5JyB9O1xuICAgIGNvbnN0IHN0cmluZ1N0eWxlID0geyBzdHlsZTogJ2NvbG9yOiNiNjJlMjQnIH07XG4gICAgY29uc3Qga2V5d29yZFN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiM5ZDI4OGMnIH07XG4gICAgLy8gY3VzdG9tIGZvcm1hdHRlciBmb3IgQ2hyb21lXG4gICAgLy8gaHR0cHM6Ly93d3cubWF0dHpldW5lcnQuY29tLzIwMTYvMDIvMTkvY3VzdG9tLWNocm9tZS1kZXZ0b29scy1vYmplY3QtZm9ybWF0dGVycy5odG1sXG4gICAgY29uc3QgZm9ybWF0dGVyID0ge1xuICAgICAgICBoZWFkZXIob2JqKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGFsc28gZm9ybWF0IENvbXBvbmVudFB1YmxpY0luc3RhbmNlICYgY3R4LnNsb3RzL2F0dHJzIGluIHNldHVwXG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmouX19pc1Z1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbJ2RpdicsIHZ1ZVN0eWxlLCBgVnVlSW5zdGFuY2VgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmKG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxuICAgICAgICAgICAgICAgICAgICAnPCcsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iai52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGA+YFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCBpc1NoYWxsb3cob2JqKSA/ICdTaGFsbG93UmVhY3RpdmUnIDogJ1JlYWN0aXZlJ10sXG4gICAgICAgICAgICAgICAgICAgICc8JyxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICAgICAgICAgICAgYD4ke2lzUmVhZG9ubHkob2JqKSA/IGAgKHJlYWRvbmx5KWAgOiBgYH1gXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhZG9ubHkob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gJ1NoYWxsb3dSZWFkb25seScgOiAnUmVhZG9ubHknXSxcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxuICAgICAgICAgICAgICAgICAgICAnPidcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGhhc0JvZHkob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2lzVnVlO1xuICAgICAgICB9LFxuICAgICAgICBib2R5KG9iaikge1xuICAgICAgICAgICAgaWYgKG9iaiAmJiBvYmouX19pc1Z1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgICAgLi4uZm9ybWF0SW5zdGFuY2Uob2JqLiQpXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZm9ybWF0SW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICAgICAgY29uc3QgYmxvY2tzID0gW107XG4gICAgICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdwcm9wcycsIHRvUmF3KGluc3RhbmNlLnByb3BzKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ3NldHVwJywgaW5zdGFuY2Uuc2V0dXBTdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ2RhdGEnLCB0b1JhdyhpbnN0YW5jZS5kYXRhKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdjb21wdXRlZCcpO1xuICAgICAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ2NvbXB1dGVkJywgY29tcHV0ZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmplY3RlZCA9IGV4dHJhY3RLZXlzKGluc3RhbmNlLCAnaW5qZWN0Jyk7XG4gICAgICAgIGlmIChpbmplY3RlZCkge1xuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnaW5qZWN0ZWQnLCBpbmplY3RlZCkpO1xuICAgICAgICB9XG4gICAgICAgIGJsb2Nrcy5wdXNoKFtcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGtleXdvcmRTdHlsZS5zdHlsZSArICc7b3BhY2l0eTowLjY2J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJyQgKGludGVybmFsKTogJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFsnb2JqZWN0JywgeyBvYmplY3Q6IGluc3RhbmNlIH1dXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gYmxvY2tzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUJsb2NrKHR5cGUsIHRhcmdldCkge1xuICAgICAgICB0YXJnZXQgPSBleHRlbmQoe30sIHRhcmdldCk7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCB7fV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBzdHlsZTogJ2xpbmUtaGVpZ2h0OjEuMjVlbTttYXJnaW4tYm90dG9tOjAuNmVtJyB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdjb2xvcjojNDc2NTgyJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiAncGFkZGluZy1sZWZ0OjEuMjVlbSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgWydzcGFuJywga2V5d29yZFN0eWxlLCBrZXkgKyAnOiAnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKHRhcmdldFtrZXldLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBhc1JhdyA9IHRydWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIG51bWJlclN0eWxlLCB2XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBzdHJpbmdTdHlsZSwgSlNPTi5zdHJpbmdpZnkodildO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBrZXl3b3JkU3R5bGUsIHZdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gWydvYmplY3QnLCB7IG9iamVjdDogYXNSYXcgPyB0b1Jhdyh2KSA6IHYgfV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgc3RyaW5nU3R5bGUsIFN0cmluZyh2KV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZXh0cmFjdEtleXMoaW5zdGFuY2UsIHR5cGUpIHtcbiAgICAgICAgY29uc3QgQ29tcCA9IGluc3RhbmNlLnR5cGU7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXh0cmFjdGVkID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLmN0eCkge1xuICAgICAgICAgICAgaWYgKGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkpIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWRba2V5XSA9IGluc3RhbmNlLmN0eFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHRyYWN0ZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkge1xuICAgICAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcbiAgICAgICAgaWYgKChpc0FycmF5KG9wdHMpICYmIG9wdHMuaW5jbHVkZXMoa2V5KSkgfHxcbiAgICAgICAgICAgIChpc09iamVjdChvcHRzKSAmJiBrZXkgaW4gb3B0cykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb21wLmV4dGVuZHMgJiYgaXNLZXlPZlR5cGUoQ29tcC5leHRlbmRzLCBrZXksIHR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ29tcC5taXhpbnMgJiYgQ29tcC5taXhpbnMuc29tZShtID0+IGlzS2V5T2ZUeXBlKG0sIGtleSwgdHlwZSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcbiAgICAgICAgaWYgKGlzU2hhbGxvdyh2KSkge1xuICAgICAgICAgICAgcmV0dXJuIGBTaGFsbG93UmVmYDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodi5lZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBgQ29tcHV0ZWRSZWZgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgUmVmYDtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcbiAgICAgICAgd2luZG93LmRldnRvb2xzRm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3aXRoTWVtbyhtZW1vLCByZW5kZXIsIGNhY2hlLCBpbmRleCkge1xuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlW2luZGV4XTtcbiAgICBpZiAoY2FjaGVkICYmIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSkge1xuICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgIH1cbiAgICBjb25zdCByZXQgPSByZW5kZXIoKTtcbiAgICAvLyBzaGFsbG93IGNsb25lXG4gICAgcmV0Lm1lbW8gPSBtZW1vLnNsaWNlKCk7XG4gICAgcmV0dXJuIChjYWNoZVtpbmRleF0gPSByZXQpO1xufVxuZnVuY3Rpb24gaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pIHtcbiAgICBjb25zdCBwcmV2ID0gY2FjaGVkLm1lbW87XG4gICAgaWYgKHByZXYubGVuZ3RoICE9IG1lbW8ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKHByZXZbaV0sIG1lbW9baV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIHRvIGxldCBwYXJlbnQgYmxvY2sgdHJhY2sgaXQgd2hlbiByZXR1cm5pbmcgY2FjaGVkXG4gICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKGNhY2hlZCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBDb3JlIEFQSSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IHZlcnNpb24gPSBcIjMuMi40NVwiO1xuY29uc3QgX3NzclV0aWxzID0ge1xuICAgIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlLFxuICAgIHNldHVwQ29tcG9uZW50LFxuICAgIHJlbmRlckNvbXBvbmVudFJvb3QsXG4gICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlLFxuICAgIGlzVk5vZGUsXG4gICAgbm9ybWFsaXplVk5vZGVcbn07XG4vKipcbiAqIFNTUiB1dGlscyBmb3IgXFxAdnVlL3NlcnZlci1yZW5kZXJlci4gT25seSBleHBvc2VkIGluIHNzci1wb3NzaWJsZSBidWlsZHMuXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3Qgc3NyVXRpbHMgPSAoX3NzclV0aWxzICk7XG4vKipcbiAqIEBpbnRlcm5hbCBvbmx5IGV4cG9zZWQgaW4gY29tcGF0IGJ1aWxkc1xuICovXG5jb25zdCByZXNvbHZlRmlsdGVyJDEgPSByZXNvbHZlRmlsdGVyIDtcbmNvbnN0IF9jb21wYXRVdGlscyA9IHtcbiAgICB3YXJuRGVwcmVjYXRpb24sXG4gICAgY3JlYXRlQ29tcGF0VnVlLFxuICAgIGlzQ29tcGF0RW5hYmxlZCxcbiAgICBjaGVja0NvbXBhdEVuYWJsZWQsXG4gICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWRcbn07XG4vKipcbiAqIEBpbnRlcm5hbCBvbmx5IGV4cG9zZWQgaW4gY29tcGF0IGJ1aWxkcy5cbiAqL1xuY29uc3QgY29tcGF0VXRpbHMgPSAoX2NvbXBhdFV0aWxzICk7XG5cbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmNvbnN0IGRvYyA9ICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiBudWxsKTtcbmNvbnN0IHRlbXBsYXRlQ29udGFpbmVyID0gZG9jICYmIC8qI19fUFVSRV9fKi8gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5jb25zdCBub2RlT3BzID0ge1xuICAgIGluc2VydDogKGNoaWxkLCBwYXJlbnQsIGFuY2hvcikgPT4ge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBhbmNob3IgfHwgbnVsbCk7XG4gICAgfSxcbiAgICByZW1vdmU6IGNoaWxkID0+IHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gY2hpbGQucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY3JlYXRlRWxlbWVudDogKHRhZywgaXNTVkcsIGlzLCBwcm9wcykgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGlzU1ZHXG4gICAgICAgICAgICA/IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIHRhZylcbiAgICAgICAgICAgIDogZG9jLmNyZWF0ZUVsZW1lbnQodGFnLCBpcyA/IHsgaXMgfSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmICh0YWcgPT09ICdzZWxlY3QnICYmIHByb3BzICYmIHByb3BzLm11bHRpcGxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCBwcm9wcy5tdWx0aXBsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG4gICAgY3JlYXRlVGV4dDogdGV4dCA9PiBkb2MuY3JlYXRlVGV4dE5vZGUodGV4dCksXG4gICAgY3JlYXRlQ29tbWVudDogdGV4dCA9PiBkb2MuY3JlYXRlQ29tbWVudCh0ZXh0KSxcbiAgICBzZXRUZXh0OiAobm9kZSwgdGV4dCkgPT4ge1xuICAgICAgICBub2RlLm5vZGVWYWx1ZSA9IHRleHQ7XG4gICAgfSxcbiAgICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9LFxuICAgIHBhcmVudE5vZGU6IG5vZGUgPT4gbm9kZS5wYXJlbnROb2RlLFxuICAgIG5leHRTaWJsaW5nOiBub2RlID0+IG5vZGUubmV4dFNpYmxpbmcsXG4gICAgcXVlcnlTZWxlY3Rvcjogc2VsZWN0b3IgPT4gZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLFxuICAgIHNldFNjb3BlSWQoZWwsIGlkKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZShpZCwgJycpO1xuICAgIH0sXG4gICAgLy8gX19VTlNBRkVfX1xuICAgIC8vIFJlYXNvbjogaW5uZXJIVE1MLlxuICAgIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAvLyBBcyBsb25nIGFzIHRoZSB1c2VyIG9ubHkgdXNlcyB0cnVzdGVkIHRlbXBsYXRlcywgdGhpcyBpcyBzYWZlLlxuICAgIGluc2VydFN0YXRpY0NvbnRlbnQoY29udGVudCwgcGFyZW50LCBhbmNob3IsIGlzU1ZHLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIC8vIDxwYXJlbnQ+IGJlZm9yZSB8IGZpcnN0IC4uLiBsYXN0IHwgYW5jaG9yIDwvcGFyZW50PlxuICAgICAgICBjb25zdCBiZWZvcmUgPSBhbmNob3IgPyBhbmNob3IucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZDtcbiAgICAgICAgLy8gIzUzMDggY2FuIG9ubHkgdGFrZSBjYWNoZWQgcGF0aCBpZjpcbiAgICAgICAgLy8gLSBoYXMgYSBzaW5nbGUgcm9vdCBub2RlXG4gICAgICAgIC8vIC0gbmV4dFNpYmxpbmcgaW5mbyBpcyBzdGlsbCBhdmFpbGFibGVcbiAgICAgICAgaWYgKHN0YXJ0ICYmIChzdGFydCA9PT0gZW5kIHx8IHN0YXJ0Lm5leHRTaWJsaW5nKSkge1xuICAgICAgICAgICAgLy8gY2FjaGVkXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoc3RhcnQuY2xvbmVOb2RlKHRydWUpLCBhbmNob3IpO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PT0gZW5kIHx8ICEoc3RhcnQgPSBzdGFydC5uZXh0U2libGluZykpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZnJlc2ggaW5zZXJ0XG4gICAgICAgICAgICB0ZW1wbGF0ZUNvbnRhaW5lci5pbm5lckhUTUwgPSBpc1NWRyA/IGA8c3ZnPiR7Y29udGVudH08L3N2Zz5gIDogY29udGVudDtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGVtcGxhdGVDb250YWluZXIuY29udGVudDtcbiAgICAgICAgICAgIGlmIChpc1NWRykge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBvdXRlciBzdmcgd3JhcHBlclxuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0ZW1wbGF0ZS5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIHdoaWxlICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUuYXBwZW5kQ2hpbGQod3JhcHBlci5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGVtcGxhdGUucmVtb3ZlQ2hpbGQod3JhcHBlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHRlbXBsYXRlLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAvLyBmaXJzdFxuICAgICAgICAgICAgYmVmb3JlID8gYmVmb3JlLm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAvLyBsYXN0XG4gICAgICAgICAgICBhbmNob3IgPyBhbmNob3IucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZFxuICAgICAgICBdO1xuICAgIH1cbn07XG5cbi8vIGNvbXBpbGVyIHNob3VsZCBub3JtYWxpemUgY2xhc3MgKyA6Y2xhc3MgYmluZGluZ3Mgb24gdGhlIHNhbWUgZWxlbWVudFxuLy8gaW50byBhIHNpbmdsZSBiaW5kaW5nIFsnc3RhdGljQ2xhc3MnLCBkeW5hbWljXVxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XG4gICAgLy8gZGlyZWN0bHkgc2V0dGluZyBjbGFzc05hbWUgc2hvdWxkIGJlIGZhc3RlciB0aGFuIHNldEF0dHJpYnV0ZSBpbiB0aGVvcnlcbiAgICAvLyBpZiB0aGlzIGlzIGFuIGVsZW1lbnQgZHVyaW5nIGEgdHJhbnNpdGlvbiwgdGFrZSB0aGUgdGVtcG9yYXJ5IHRyYW5zaXRpb25cbiAgICAvLyBjbGFzc2VzIGludG8gYWNjb3VudC5cbiAgICBjb25zdCB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsLl92dGM7XG4gICAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlID8gW3ZhbHVlLCAuLi50cmFuc2l0aW9uQ2xhc3Nlc10gOiBbLi4udHJhbnNpdGlvbkNsYXNzZXNdKS5qb2luKCcgJyk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTVkcpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcGF0Y2hTdHlsZShlbCwgcHJldiwgbmV4dCkge1xuICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgY29uc3QgaXNDc3NTdHJpbmcgPSBpc1N0cmluZyhuZXh0KTtcbiAgICBpZiAobmV4dCAmJiAhaXNDc3NTdHJpbmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV4dCkge1xuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgbmV4dFtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldiAmJiAhaXNTdHJpbmcocHJldikpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY3VycmVudERpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuICAgICAgICBpZiAoaXNDc3NTdHJpbmcpIHtcbiAgICAgICAgICAgIGlmIChwcmV2ICE9PSBuZXh0KSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuY3NzVGV4dCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldikge1xuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluZGljYXRlcyB0aGF0IHRoZSBgZGlzcGxheWAgb2YgdGhlIGVsZW1lbnQgaXMgY29udHJvbGxlZCBieSBgdi1zaG93YCxcbiAgICAgICAgLy8gc28gd2UgYWx3YXlzIGtlZXAgdGhlIGN1cnJlbnQgYGRpc3BsYXlgIHZhbHVlIHJlZ2FyZGxlc3Mgb2YgdGhlIGBzdHlsZWBcbiAgICAgICAgLy8gdmFsdWUsIHRodXMgaGFuZGluZyBvdmVyIGNvbnRyb2wgdG8gYHYtc2hvd2AuXG4gICAgICAgIGlmICgnX3ZvZCcgaW4gZWwpIHtcbiAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgPSBjdXJyZW50RGlzcGxheTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IHNlbWljb2xvblJFID0gL1teXFxcXF07XFxzKiQvO1xuY29uc3QgaW1wb3J0YW50UkUgPSAvXFxzKiFpbXBvcnRhbnQkLztcbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2YWwpIHtcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHZhbC5mb3JFYWNoKHYgPT4gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHYpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICh2YWwgPT0gbnVsbClcbiAgICAgICAgICAgIHZhbCA9ICcnO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBpZiAoc2VtaWNvbG9uUkUudGVzdCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBVbmV4cGVjdGVkIHNlbWljb2xvbiBhdCB0aGUgZW5kIG9mICcke25hbWV9JyBzdHlsZSB2YWx1ZTogJyR7dmFsfSdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKCctLScpKSB7XG4gICAgICAgICAgICAvLyBjdXN0b20gcHJvcGVydHkgZGVmaW5pdGlvblxuICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWZpeGVkID0gYXV0b1ByZWZpeChzdHlsZSwgbmFtZSk7XG4gICAgICAgICAgICBpZiAoaW1wb3J0YW50UkUudGVzdCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgLy8gIWltcG9ydGFudFxuICAgICAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KGh5cGhlbmF0ZShwcmVmaXhlZCksIHZhbC5yZXBsYWNlKGltcG9ydGFudFJFLCAnJyksICdpbXBvcnRhbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlW3ByZWZpeGVkXSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IHByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ21zJ107XG5jb25zdCBwcmVmaXhDYWNoZSA9IHt9O1xuZnVuY3Rpb24gYXV0b1ByZWZpeChzdHlsZSwgcmF3TmFtZSkge1xuICAgIGNvbnN0IGNhY2hlZCA9IHByZWZpeENhY2hlW3Jhd05hbWVdO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG4gICAgbGV0IG5hbWUgPSBjYW1lbGl6ZShyYXdOYW1lKTtcbiAgICBpZiAobmFtZSAhPT0gJ2ZpbHRlcicgJiYgbmFtZSBpbiBzdHlsZSkge1xuICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gbmFtZSk7XG4gICAgfVxuICAgIG5hbWUgPSBjYXBpdGFsaXplKG5hbWUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJlZml4ZWQgPSBwcmVmaXhlc1tpXSArIG5hbWU7XG4gICAgICAgIGlmIChwcmVmaXhlZCBpbiBzdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIChwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IHByZWZpeGVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmF3TmFtZTtcbn1cblxuY29uc3QgeGxpbmtOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcbmZ1bmN0aW9uIHBhdGNoQXR0cihlbCwga2V5LCB2YWx1ZSwgaXNTVkcsIGluc3RhbmNlKSB7XG4gICAgaWYgKGlzU1ZHICYmIGtleS5zdGFydHNXaXRoKCd4bGluazonKSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoY29tcGF0Q29lcmNlQXR0cihlbCwga2V5LCB2YWx1ZSwgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90ZSB3ZSBhcmUgb25seSBjaGVja2luZyBib29sZWFuIGF0dHJpYnV0ZXMgdGhhdCBkb24ndCBoYXZlIGFcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkb20gcHJvcCBvZiB0aGUgc2FtZSBuYW1lIGhlcmUuXG4gICAgICAgIGNvbnN0IGlzQm9vbGVhbiA9IGlzU3BlY2lhbEJvb2xlYW5BdHRyKGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChpc0Jvb2xlYW4gJiYgIWluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSkpKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGlzQm9vbGVhbiA/ICcnIDogdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gMi54IGNvbXBhdFxuY29uc3QgaXNFbnVtZXJhdGVkQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnY29udGVudGVkaXRhYmxlLGRyYWdnYWJsZSxzcGVsbGNoZWNrJylcbiAgICA7XG5mdW5jdGlvbiBjb21wYXRDb2VyY2VBdHRyKGVsLCBrZXksIHZhbHVlLCBpbnN0YW5jZSA9IG51bGwpIHtcbiAgICBpZiAoaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7XG4gICAgICAgIGNvbnN0IHYyQ29lcmNlZFZhbHVlID0gdmFsdWUgPT09IG51bGxcbiAgICAgICAgICAgID8gJ2ZhbHNlJ1xuICAgICAgICAgICAgOiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyAndHJ1ZSdcbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGlmICh2MkNvZXJjZWRWYWx1ZSAmJlxuICAgICAgICAgICAgY29tcGF0VXRpbHMuc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJBVFRSX0VOVU1FUkFURURfQ09FUkNJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLkFUVFJfRU5VTUVSQVRFRF9DT0VSQ0lPTiAqLywgaW5zdGFuY2UsIGtleSwgdmFsdWUsIHYyQ29lcmNlZFZhbHVlKSkge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgdjJDb2VyY2VkVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgPT09IGZhbHNlICYmXG4gICAgICAgICFpc1NwZWNpYWxCb29sZWFuQXR0cihrZXkpICYmXG4gICAgICAgIGNvbXBhdFV0aWxzLnNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiQVRUUl9GQUxTRV9WQUxVRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9GQUxTRV9WQUxVRSAqLywgaW5zdGFuY2UsIGtleSkpIHtcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIF9fVU5TQUZFX19cbi8vIGZ1bmN0aW9ucy4gVGhlIHVzZXIgaXMgcmVzcG9uc2libGUgZm9yIHVzaW5nIHRoZW0gd2l0aCBvbmx5IHRydXN0ZWQgY29udGVudC5cbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgXG4vLyB0aGUgZm9sbG93aW5nIGFyZ3MgYXJlIHBhc3NlZCBvbmx5IGR1ZSB0byBwb3RlbnRpYWwgaW5uZXJIVE1ML3RleHRDb250ZW50XG4vLyBvdmVycmlkaW5nIGV4aXN0aW5nIFZOb2RlcywgaW4gd2hpY2ggY2FzZSB0aGUgb2xkIHRyZWUgbXVzdCBiZSBwcm9wZXJseVxuLy8gdW5tb3VudGVkLlxucHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pIHtcbiAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJyB8fCBrZXkgPT09ICd0ZXh0Q29udGVudCcpIHtcbiAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxba2V5XSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICd2YWx1ZScgJiZcbiAgICAgICAgZWwudGFnTmFtZSAhPT0gJ1BST0dSRVNTJyAmJlxuICAgICAgICAvLyBjdXN0b20gZWxlbWVudHMgbWF5IHVzZSBfdmFsdWUgaW50ZXJuYWxseVxuICAgICAgICAhZWwudGFnTmFtZS5pbmNsdWRlcygnLScpKSB7XG4gICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXG4gICAgICAgIC8vIG5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmUgc3RyaW5naWZpZWQuXG4gICAgICAgIGVsLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuICAgICAgICBpZiAoZWwudmFsdWUgIT09IG5ld1ZhbHVlIHx8XG4gICAgICAgICAgICAvLyAjNDk1NjogYWx3YXlzIHNldCBmb3IgT1BUSU9OIGVsZW1lbnRzIGJlY2F1c2UgaXRzIHZhbHVlIGZhbGxzIGJhY2sgdG9cbiAgICAgICAgICAgIC8vIHRleHRDb250ZW50IGlmIG5vIHZhbHVlIGF0dHJpYnV0ZSBpcyBwcmVzZW50LiBBbmQgc2V0dGluZyAudmFsdWUgZm9yXG4gICAgICAgICAgICAvLyBPUFRJT04gaGFzIG5vIHNpZGUgZWZmZWN0XG4gICAgICAgICAgICBlbC50YWdOYW1lID09PSAnT1BUSU9OJykge1xuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbmVlZFJlbW92ZSA9IGZhbHNlO1xuICAgIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIGVsW2tleV07XG4gICAgICAgIGlmICh0eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIC8vIGUuZy4gPHNlbGVjdCBtdWx0aXBsZT4gY29tcGlsZXMgdG8geyBtdWx0aXBsZTogJycgfVxuICAgICAgICAgICAgdmFsdWUgPSBpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09IG51bGwgJiYgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIGUuZy4gPGRpdiA6aWQ9XCJudWxsXCI+XG4gICAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIGUuZy4gPGltZyA6d2lkdGg9XCJudWxsXCI+XG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgY29tcGF0VXRpbHMuaXNDb21wYXRFbmFibGVkKFwiQVRUUl9GQUxTRV9WQUxVRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9GQUxTRV9WQUxVRSAqLywgcGFyZW50Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBlbFtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhdFV0aWxzLndhcm5EZXByZWNhdGlvbihcIkFUVFJfRkFMU0VfVkFMVUVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkFUVFJfRkFMU0VfVkFMVUUgKi8sIHBhcmVudENvbXBvbmVudCwga2V5KTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHR5cGUgPT09ICdudW1iZXInID8gMCA6ICcnO1xuICAgICAgICAgICAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHNvbWUgcHJvcGVydGllcyBwZXJmb3JtIHZhbHVlIHZhbGlkYXRpb24gYW5kIHRocm93LFxuICAgIC8vIHNvbWUgcHJvcGVydGllcyBoYXMgZ2V0dGVyLCBubyBzZXR0ZXIsIHdpbGwgZXJyb3IgaW4gJ3VzZSBzdHJpY3QnXG4gICAgLy8gZWcuIDxzZWxlY3QgOnR5cGU9XCJudWxsXCI+PC9zZWxlY3Q+IDxzZWxlY3QgOndpbGxWYWxpZGF0ZT1cIm51bGxcIj48L3NlbGVjdD5cbiAgICB0cnkge1xuICAgICAgICBlbFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGRvIG5vdCB3YXJuIGlmIHZhbHVlIGlzIGF1dG8tY29lcmNlZCBmcm9tIG51bGxpc2ggdmFsdWVzXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIW5lZWRSZW1vdmUpIHtcbiAgICAgICAgICAgIHdhcm4kMShgRmFpbGVkIHNldHRpbmcgcHJvcCBcIiR7a2V5fVwiIG9uIDwke2VsLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcbiAgICAgICAgICAgICAgICBgdmFsdWUgJHt2YWx1ZX0gaXMgaW52YWxpZC5gLCBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZWVkUmVtb3ZlICYmIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xufVxuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHBhdGNoRXZlbnQoZWwsIHJhd05hbWUsIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpbnN0YW5jZSA9IG51bGwpIHtcbiAgICAvLyB2ZWkgPSB2dWUgZXZlbnQgaW52b2tlcnNcbiAgICBjb25zdCBpbnZva2VycyA9IGVsLl92ZWkgfHwgKGVsLl92ZWkgPSB7fSk7XG4gICAgY29uc3QgZXhpc3RpbmdJbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV07XG4gICAgaWYgKG5leHRWYWx1ZSAmJiBleGlzdGluZ0ludm9rZXIpIHtcbiAgICAgICAgLy8gcGF0Y2hcbiAgICAgICAgZXhpc3RpbmdJbnZva2VyLnZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gcGFyc2VOYW1lKHJhd05hbWUpO1xuICAgICAgICBpZiAobmV4dFZhbHVlKSB7XG4gICAgICAgICAgICAvLyBhZGRcbiAgICAgICAgICAgIGNvbnN0IGludm9rZXIgPSAoaW52b2tlcnNbcmF3TmFtZV0gPSBjcmVhdGVJbnZva2VyKG5leHRWYWx1ZSwgaW5zdGFuY2UpKTtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGludm9rZXIsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV4aXN0aW5nSW52b2tlcikge1xuICAgICAgICAgICAgLy8gcmVtb3ZlXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBleGlzdGluZ0ludm9rZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaW52b2tlcnNbcmF3TmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBvcHRpb25zTW9kaWZpZXJSRSA9IC8oPzpPbmNlfFBhc3NpdmV8Q2FwdHVyZSkkLztcbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lKSB7XG4gICAgbGV0IG9wdGlvbnM7XG4gICAgaWYgKG9wdGlvbnNNb2RpZmllclJFLnRlc3QobmFtZSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICBsZXQgbTtcbiAgICAgICAgd2hpbGUgKChtID0gbmFtZS5tYXRjaChvcHRpb25zTW9kaWZpZXJSRSkpKSB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBuYW1lLmxlbmd0aCAtIG1bMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG9wdGlvbnNbbVswXS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZXZlbnQgPSBuYW1lWzJdID09PSAnOicgPyBuYW1lLnNsaWNlKDMpIDogaHlwaGVuYXRlKG5hbWUuc2xpY2UoMikpO1xuICAgIHJldHVybiBbZXZlbnQsIG9wdGlvbnNdO1xufVxuLy8gVG8gYXZvaWQgdGhlIG92ZXJoZWFkIG9mIHJlcGVhdGVkbHkgY2FsbGluZyBEYXRlLm5vdygpLCB3ZSBjYWNoZVxuLy8gYW5kIHVzZSB0aGUgc2FtZSB0aW1lc3RhbXAgZm9yIGFsbCBldmVudCBsaXN0ZW5lcnMgYXR0YWNoZWQgaW4gdGhlIHNhbWUgdGljay5cbmxldCBjYWNoZWROb3cgPSAwO1xuY29uc3QgcCA9IC8qI19fUFVSRV9fKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5jb25zdCBnZXROb3cgPSAoKSA9PiBjYWNoZWROb3cgfHwgKHAudGhlbigoKSA9PiAoY2FjaGVkTm93ID0gMCkpLCAoY2FjaGVkTm93ID0gRGF0ZS5ub3coKSkpO1xuZnVuY3Rpb24gY3JlYXRlSW52b2tlcihpbml0aWFsVmFsdWUsIGluc3RhbmNlKSB7XG4gICAgY29uc3QgaW52b2tlciA9IChlKSA9PiB7XG4gICAgICAgIC8vIGFzeW5jIGVkZ2UgY2FzZSB2dWVqcy92dWUjNjU2NlxuICAgICAgICAvLyBpbm5lciBjbGljayBldmVudCB0cmlnZ2VycyBwYXRjaCwgZXZlbnQgaGFuZGxlclxuICAgICAgICAvLyBhdHRhY2hlZCB0byBvdXRlciBlbGVtZW50IGR1cmluZyBwYXRjaCwgYW5kIHRyaWdnZXJlZCBhZ2Fpbi4gVGhpc1xuICAgICAgICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cbiAgICAgICAgLy8gdGhpcyBubyBsb25nZXIgaGFwcGVucyBmb3IgdGVtcGxhdGVzIGluIFZ1ZSAzLCBidXQgY291bGQgc3RpbGwgYmVcbiAgICAgICAgLy8gdGhlb3JldGljYWxseSBwb3NzaWJsZSBmb3IgaGFuZC13cml0dGVuIHJlbmRlciBmdW5jdGlvbnMuXG4gICAgICAgIC8vIHRoZSBzb2x1dGlvbjogd2Ugc2F2ZSB0aGUgdGltZXN0YW1wIHdoZW4gYSBoYW5kbGVyIGlzIGF0dGFjaGVkLFxuICAgICAgICAvLyBhbmQgYWxzbyBhdHRhY2ggdGhlIHRpbWVzdGFtcCB0byBhbnkgZXZlbnQgdGhhdCB3YXMgaGFuZGxlZCBieSB2dWVcbiAgICAgICAgLy8gZm9yIHRoZSBmaXJzdCB0aW1lICh0byBhdm9pZCBpbmNvbnNpc3RlbnQgZXZlbnQgdGltZXN0YW1wIGltcGxlbWVudGF0aW9uc1xuICAgICAgICAvLyBvciBldmVudHMgZmlyZWQgZnJvbSBpZnJhbWVzLCBlLmcuICMyNTEzKVxuICAgICAgICAvLyBUaGUgaGFuZGxlciB3b3VsZCBvbmx5IGZpcmUgaWYgdGhlIGV2ZW50IHBhc3NlZCB0byBpdCB3YXMgZmlyZWRcbiAgICAgICAgLy8gQUZURVIgaXQgd2FzIGF0dGFjaGVkLlxuICAgICAgICBpZiAoIWUuX3Z0cykge1xuICAgICAgICAgICAgZS5fdnRzID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLl92dHMgPD0gaW52b2tlci5hdHRhY2hlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIGludm9rZXIudmFsdWUpLCBpbnN0YW5jZSwgNSAvKiBFcnJvckNvZGVzLk5BVElWRV9FVkVOVF9IQU5ETEVSICovLCBbZV0pO1xuICAgIH07XG4gICAgaW52b2tlci52YWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICBpbnZva2VyLmF0dGFjaGVkID0gZ2V0Tm93KCk7XG4gICAgcmV0dXJuIGludm9rZXI7XG59XG5mdW5jdGlvbiBwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCB2YWx1ZSkge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFN0b3AgPSBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICBvcmlnaW5hbFN0b3AuY2FsbChlKTtcbiAgICAgICAgICAgIGUuX3N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdmFsdWUubWFwKGZuID0+IChlKSA9PiAhZS5fc3RvcHBlZCAmJiBmbiAmJiBmbihlKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuXG5jb25zdCBuYXRpdmVPblJFID0gL15vblthLXpdLztcbmNvbnN0IHBhdGNoUHJvcCA9IChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgaXNTVkcgPSBmYWxzZSwgcHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pID0+IHtcbiAgICBpZiAoa2V5ID09PSAnY2xhc3MnKSB7XG4gICAgICAgIHBhdGNoQ2xhc3MoZWwsIG5leHRWYWx1ZSwgaXNTVkcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgcGF0Y2hTdHlsZShlbCwgcHJldlZhbHVlLCBuZXh0VmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgbGlzdGVuZXJzXG4gICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcbiAgICAgICAgICAgIHBhdGNoRXZlbnQoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoa2V5WzBdID09PSAnLidcbiAgICAgICAgPyAoKGtleSA9IGtleS5zbGljZSgxKSksIHRydWUpXG4gICAgICAgIDoga2V5WzBdID09PSAnXidcbiAgICAgICAgICAgID8gKChrZXkgPSBrZXkuc2xpY2UoMSkpLCBmYWxzZSlcbiAgICAgICAgICAgIDogc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpKSB7XG4gICAgICAgIHBhdGNoRE9NUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgPGlucHV0IHYtbW9kZWwgdHlwZT1cImNoZWNrYm94XCI+IHdpdGhcbiAgICAgICAgLy8gOnRydWUtdmFsdWUgJiA6ZmFsc2UtdmFsdWVcbiAgICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgZG9tIHByb3BlcnRpZXMgc2luY2Ugbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZVxuICAgICAgICAvLyBzdHJpbmdpZmllZC5cbiAgICAgICAgaWYgKGtleSA9PT0gJ3RydWUtdmFsdWUnKSB7XG4gICAgICAgICAgICBlbC5fdHJ1ZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ2ZhbHNlLXZhbHVlJykge1xuICAgICAgICAgICAgZWwuX2ZhbHNlVmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2hBdHRyKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcsIHBhcmVudENvbXBvbmVudCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHNob3VsZFNldEFzUHJvcChlbCwga2V5LCB2YWx1ZSwgaXNTVkcpIHtcbiAgICBpZiAoaXNTVkcpIHtcbiAgICAgICAgLy8gbW9zdCBrZXlzIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZSBvbiBzdmcgZWxlbWVudHMgdG8gd29ya1xuICAgICAgICAvLyAuLi5leGNlcHQgaW5uZXJIVE1MICYgdGV4dENvbnRlbnRcbiAgICAgICAgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgfHwga2V5ID09PSAndGV4dENvbnRlbnQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvciBuYXRpdmUgb25jbGljayB3aXRoIGZ1bmN0aW9uIHZhbHVlc1xuICAgICAgICBpZiAoa2V5IGluIGVsICYmIG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIHRoZXNlIGFyZSBlbnVtZXJhdGVkIGF0dHJzLCBob3dldmVyIHRoZWlyIGNvcnJlc3BvbmRpbmcgRE9NIHByb3BlcnRpZXNcbiAgICAvLyBhcmUgYWN0dWFsbHkgYm9vbGVhbnMgLSB0aGlzIGxlYWRzIHRvIHNldHRpbmcgaXQgd2l0aCBhIHN0cmluZyBcImZhbHNlXCJcbiAgICAvLyB2YWx1ZSBsZWFkaW5nIGl0IHRvIGJlIGNvZXJjZWQgdG8gYHRydWVgLCBzbyB3ZSBuZWVkIHRvIGFsd2F5cyB0cmVhdFxuICAgIC8vIHRoZW0gYXMgYXR0cmlidXRlcy5cbiAgICAvLyBOb3RlIHRoYXQgYGNvbnRlbnRFZGl0YWJsZWAgZG9lc24ndCBoYXZlIHRoaXMgcHJvYmxlbTogaXRzIERPTVxuICAgIC8vIHByb3BlcnR5IGlzIGFsc28gZW51bWVyYXRlZCBzdHJpbmcgdmFsdWVzLlxuICAgIGlmIChrZXkgPT09ICdzcGVsbGNoZWNrJyB8fCBrZXkgPT09ICdkcmFnZ2FibGUnIHx8IGtleSA9PT0gJ3RyYW5zbGF0ZScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyAjMTc4NywgIzI4NDAgZm9ybSBwcm9wZXJ0eSBvbiBmb3JtIGVsZW1lbnRzIGlzIHJlYWRvbmx5IGFuZCBtdXN0IGJlIHNldCBhc1xuICAgIC8vIGF0dHJpYnV0ZS5cbiAgICBpZiAoa2V5ID09PSAnZm9ybScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyAjMTUyNiA8aW5wdXQgbGlzdD4gbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXG4gICAgaWYgKGtleSA9PT0gJ2xpc3QnICYmIGVsLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyAjMjc2NiA8dGV4dGFyZWEgdHlwZT4gbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXG4gICAgaWYgKGtleSA9PT0gJ3R5cGUnICYmIGVsLnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBuYXRpdmUgb25jbGljayB3aXRoIHN0cmluZyB2YWx1ZSwgbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlXG4gICAgaWYgKG5hdGl2ZU9uUkUudGVzdChrZXkpICYmIGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBrZXkgaW4gZWw7XG59XG5cbmZ1bmN0aW9uIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgaHlkcmF0ZSkge1xuICAgIGNvbnN0IENvbXAgPSBkZWZpbmVDb21wb25lbnQob3B0aW9ucyk7XG4gICAgY2xhc3MgVnVlQ3VzdG9tRWxlbWVudCBleHRlbmRzIFZ1ZUVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3Rvcihpbml0aWFsUHJvcHMpIHtcbiAgICAgICAgICAgIHN1cGVyKENvbXAsIGluaXRpYWxQcm9wcywgaHlkcmF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVnVlQ3VzdG9tRWxlbWVudC5kZWYgPSBDb21wO1xuICAgIHJldHVybiBWdWVDdXN0b21FbGVtZW50O1xufVxuY29uc3QgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudCA9ICgob3B0aW9ucykgPT4ge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gZGVmaW5lQ3VzdG9tRWxlbWVudChvcHRpb25zLCBoeWRyYXRlKTtcbn0pO1xuY29uc3QgQmFzZUNsYXNzID0gKHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBIVE1MRWxlbWVudCA6IGNsYXNzIHtcbn0pO1xuY2xhc3MgVnVlRWxlbWVudCBleHRlbmRzIEJhc2VDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoX2RlZiwgX3Byb3BzID0ge30sIGh5ZHJhdGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZGVmID0gX2RlZjtcbiAgICAgICAgdGhpcy5fcHJvcHMgPSBfcHJvcHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX251bWJlclByb3BzID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCAmJiBoeWRyYXRlKSB7XG4gICAgICAgICAgICBoeWRyYXRlKHRoaXMuX2NyZWF0ZVZOb2RlKCksIHRoaXMuc2hhZG93Um9vdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgQ3VzdG9tIGVsZW1lbnQgaGFzIHByZS1yZW5kZXJlZCBkZWNsYXJhdGl2ZSBzaGFkb3cgcm9vdCBidXQgaXMgbm90IGAgK1xuICAgICAgICAgICAgICAgICAgICBgZGVmaW5lZCBhcyBoeWRyYXRhYmxlLiBVc2UgXFxgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudFxcYC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kZWYuX19hc3luY0xvYWRlcikge1xuICAgICAgICAgICAgICAgIC8vIGZvciBzeW5jIGNvbXBvbmVudCBkZWZzIHdlIGNhbiBpbW1lZGlhdGVseSByZXNvbHZlIHByb3BzXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZVByb3BzKHRoaXMuX2RlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZURlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByZW5kZXIobnVsbCwgdGhpcy5zaGFkb3dSb290KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZXNvbHZlIGlubmVyIGNvbXBvbmVudCBkZWZpbml0aW9uIChoYW5kbGUgcG9zc2libGUgYXN5bmMgY29tcG9uZW50KVxuICAgICAqL1xuICAgIF9yZXNvbHZlRGVmKCkge1xuICAgICAgICB0aGlzLl9yZXNvbHZlZCA9IHRydWU7XG4gICAgICAgIC8vIHNldCBpbml0aWFsIGF0dHJzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRBdHRyKHRoaXMuYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3YXRjaCBmdXR1cmUgYXR0ciBjaGFuZ2VzXG4gICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0QXR0cihtLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZSA9IChkZWYsIGlzQXN5bmMgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBwcm9wcywgc3R5bGVzIH0gPSBkZWY7XG4gICAgICAgICAgICAvLyBjYXN0IE51bWJlci10eXBlIHByb3BzIHNldCBiZWZvcmUgcmVzb2x2ZVxuICAgICAgICAgICAgbGV0IG51bWJlclByb3BzO1xuICAgICAgICAgICAgaWYgKHByb3BzICYmICFpc0FycmF5KHByb3BzKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdCA9IHByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHQgPT09IE51bWJlciB8fCAob3B0ICYmIG9wdC50eXBlID09PSBOdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3Byb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvcHNba2V5XSA9IHRvTnVtYmVyKHRoaXMuX3Byb3BzW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKG51bWJlclByb3BzIHx8IChudW1iZXJQcm9wcyA9IE9iamVjdC5jcmVhdGUobnVsbCkpKVtjYW1lbGl6ZShrZXkpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9udW1iZXJQcm9wcyA9IG51bWJlclByb3BzO1xuICAgICAgICAgICAgaWYgKGlzQXN5bmMpIHtcbiAgICAgICAgICAgICAgICAvLyBkZWZpbmluZyBnZXR0ZXIvc2V0dGVycyBvbiBwcm90b3R5cGVcbiAgICAgICAgICAgICAgICAvLyBmb3Igc3luYyBkZWZzLCB0aGlzIGFscmVhZHkgaGFwcGVuZWQgaW4gdGhlIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZVByb3BzKGRlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhcHBseSBDU1NcbiAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKHN0eWxlcyk7XG4gICAgICAgICAgICAvLyBpbml0aWFsIHJlbmRlclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFzeW5jRGVmID0gdGhpcy5fZGVmLl9fYXN5bmNMb2FkZXI7XG4gICAgICAgIGlmIChhc3luY0RlZikge1xuICAgICAgICAgICAgYXN5bmNEZWYoKS50aGVuKGRlZiA9PiByZXNvbHZlKGRlZiwgdHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLl9kZWYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZXNvbHZlUHJvcHMoZGVmKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvcHMgfSA9IGRlZjtcbiAgICAgICAgY29uc3QgZGVjbGFyZWRQcm9wS2V5cyA9IGlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBPYmplY3Qua2V5cyhwcm9wcyB8fCB7fSk7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBwcm9wcyBzZXQgcHJlLXVwZ3JhZGUgb3IgY29ubmVjdFxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzKSkge1xuICAgICAgICAgICAgaWYgKGtleVswXSAhPT0gJ18nICYmIGRlY2xhcmVkUHJvcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFByb3Aoa2V5LCB0aGlzW2tleV0sIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkZWZpbmluZyBnZXR0ZXIvc2V0dGVycyBvbiBwcm90b3R5cGVcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZGVjbGFyZWRQcm9wS2V5cy5tYXAoY2FtZWxpemUpKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UHJvcChrZXkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KHZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfc2V0QXR0cihrZXkpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgY29uc3QgY2FtZWxLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICBpZiAodGhpcy5fbnVtYmVyUHJvcHMgJiYgdGhpcy5fbnVtYmVyUHJvcHNbY2FtZWxLZXldKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRQcm9wKGNhbWVsS2V5LCB2YWx1ZSwgZmFsc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfZ2V0UHJvcChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BzW2tleV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9zZXRQcm9wKGtleSwgdmFsLCBzaG91bGRSZWZsZWN0ID0gdHJ1ZSwgc2hvdWxkVXBkYXRlID0gdHJ1ZSkge1xuICAgICAgICBpZiAodmFsICE9PSB0aGlzLl9wcm9wc1trZXldKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wc1trZXldID0gdmFsO1xuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSAmJiB0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVmbGVjdFxuICAgICAgICAgICAgaWYgKHNob3VsZFJlZmxlY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCB2YWwgKyAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoaHlwaGVuYXRlKGtleSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfdXBkYXRlKCkge1xuICAgICAgICByZW5kZXIodGhpcy5fY3JlYXRlVk5vZGUoKSwgdGhpcy5zaGFkb3dSb290KTtcbiAgICB9XG4gICAgX2NyZWF0ZVZOb2RlKCkge1xuICAgICAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHRoaXMuX2RlZiwgZXh0ZW5kKHt9LCB0aGlzLl9wcm9wcykpO1xuICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgICAgICB2bm9kZS5jZSA9IGluc3RhbmNlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzQ0UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIEhNUlxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY2VSZWxvYWQgPSBuZXdTdHlsZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWx3YXlzIHJlc2V0IHN0eWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0eWxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlcy5mb3JFYWNoKHMgPT4gdGhpcy5zaGFkb3dSb290LnJlbW92ZUNoaWxkKHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKG5ld1N0eWxlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzcGF0Y2ggPSAoZXZlbnQsIGFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChldmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBhcmdzXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGludGVyY2VwdCBlbWl0XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZW1pdCA9IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBkaXNwYXRjaCBib3RoIHRoZSByYXcgYW5kIGh5cGhlbmF0ZWQgdmVyc2lvbnMgb2YgYW4gZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gbWF0Y2ggVnVlIGJlaGF2aW9yXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGV2ZW50LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5cGhlbmF0ZShldmVudCkgIT09IGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChoeXBoZW5hdGUoZXZlbnQpLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gbG9jYXRlIG5lYXJlc3QgVnVlIGN1c3RvbSBlbGVtZW50IHBhcmVudCBmb3IgcHJvdmlkZS9pbmplY3RcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgICAgICB3aGlsZSAoKHBhcmVudCA9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCAmJiAocGFyZW50LnBhcmVudE5vZGUgfHwgcGFyZW50Lmhvc3QpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgVnVlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UucGFyZW50ID0gcGFyZW50Ll9pbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnByb3ZpZGVzID0gcGFyZW50Ll9pbnN0YW5jZS5wcm92aWRlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm5vZGU7XG4gICAgfVxuICAgIF9hcHBseVN0eWxlcyhzdHlsZXMpIHtcbiAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgICAgc3R5bGVzLmZvckVhY2goY3NzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBzLnRleHRDb250ZW50ID0gY3NzO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChzKTtcbiAgICAgICAgICAgICAgICAvLyByZWNvcmQgZm9yIEhNUlxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX3N0eWxlcyB8fCAodGhpcy5fc3R5bGVzID0gW10pKS5wdXNoKHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1c2VDc3NNb2R1bGUobmFtZSA9ICckc3R5bGUnKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYHVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKWApO1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb2R1bGVzID0gaW5zdGFuY2UudHlwZS5fX2Nzc01vZHVsZXM7XG4gICAgICAgIGlmICghbW9kdWxlcykge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGVzIGluamVjdGVkLmApO1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb2QgPSBtb2R1bGVzW25hbWVdO1xuICAgICAgICBpZiAoIW1vZCkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybiQxKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcIiR7bmFtZX1cIi5gKTtcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vZDtcbiAgICB9XG59XG5cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIFNGQydzIENTUyB2YXJpYWJsZSBpbmplY3Rpb24gZmVhdHVyZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHVzZUNzc1ZhcnMoZ2V0dGVyKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICB3YXJuJDEoYHVzZUNzc1ZhcnMgaXMgY2FsbGVkIHdpdGhvdXQgY3VycmVudCBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZVRlbGVwb3J0cyA9IChpbnN0YW5jZS51dCA9ICh2YXJzID0gZ2V0dGVyKGluc3RhbmNlLnByb3h5KSkgPT4ge1xuICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLXYtb3duZXI9XCIke2luc3RhbmNlLnVpZH1cIl1gKSkuZm9yRWFjaChub2RlID0+IHNldFZhcnNPbk5vZGUobm9kZSwgdmFycykpO1xuICAgIH0pO1xuICAgIGNvbnN0IHNldFZhcnMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UucHJveHkpO1xuICAgICAgICBzZXRWYXJzT25WTm9kZShpbnN0YW5jZS5zdWJUcmVlLCB2YXJzKTtcbiAgICAgICAgdXBkYXRlVGVsZXBvcnRzKHZhcnMpO1xuICAgIH07XG4gICAgd2F0Y2hQb3N0RWZmZWN0KHNldFZhcnMpO1xuICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoc2V0VmFycyk7XG4gICAgICAgIG9iLm9ic2VydmUoaW5zdGFuY2Uuc3ViVHJlZS5lbC5wYXJlbnROb2RlLCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgICAgICAgb25Vbm1vdW50ZWQoKCkgPT4gb2IuZGlzY29ubmVjdCgpKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldFZhcnNPblZOb2RlKHZub2RlLCB2YXJzKSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2U7XG4gICAgICAgIHZub2RlID0gc3VzcGVuc2UuYWN0aXZlQnJhbmNoO1xuICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJiAhc3VzcGVuc2UuaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VmFyc09uVk5vZGUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCB2YXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGRyaWxsIGRvd24gSE9DcyB1bnRpbCBpdCdzIGEgbm9uLWNvbXBvbmVudCB2bm9kZVxuICAgIHdoaWxlICh2bm9kZS5jb21wb25lbnQpIHtcbiAgICAgICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgICB9XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovICYmIHZub2RlLmVsKSB7XG4gICAgICAgIHNldFZhcnNPbk5vZGUodm5vZGUuZWwsIHZhcnMpO1xuICAgIH1cbiAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gc2V0VmFyc09uVk5vZGUoYywgdmFycykpO1xuICAgIH1cbiAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBTdGF0aWMpIHtcbiAgICAgICAgbGV0IHsgZWwsIGFuY2hvciB9ID0gdm5vZGU7XG4gICAgICAgIHdoaWxlIChlbCkge1xuICAgICAgICAgICAgc2V0VmFyc09uTm9kZShlbCwgdmFycyk7XG4gICAgICAgICAgICBpZiAoZWwgPT09IGFuY2hvcilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKSB7XG4gICAgaWYgKGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhcnMpIHtcbiAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KGAtLSR7a2V5fWAsIHZhcnNba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IFRSQU5TSVRJT04gPSAndHJhbnNpdGlvbic7XG5jb25zdCBBTklNQVRJT04gPSAnYW5pbWF0aW9uJztcbi8vIERPTSBUcmFuc2l0aW9uIGlzIGEgaGlnaGVyLW9yZGVyLWNvbXBvbmVudCBiYXNlZCBvbiB0aGUgcGxhdGZvcm0tYWdub3N0aWNcbi8vIGJhc2UgVHJhbnNpdGlvbiBjb21wb25lbnQsIHdpdGggRE9NLXNwZWNpZmljIGxvZ2ljLlxuY29uc3QgVHJhbnNpdGlvbiA9IChwcm9wcywgeyBzbG90cyB9KSA9PiBoKEJhc2VUcmFuc2l0aW9uLCByZXNvbHZlVHJhbnNpdGlvblByb3BzKHByb3BzKSwgc2xvdHMpO1xuVHJhbnNpdGlvbi5kaXNwbGF5TmFtZSA9ICdUcmFuc2l0aW9uJztcbntcbiAgICBUcmFuc2l0aW9uLl9faXNCdWlsdEluID0gdHJ1ZTtcbn1cbmNvbnN0IERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XG4gICAgbmFtZTogU3RyaW5nLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjc3M6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgZHVyYXRpb246IFtTdHJpbmcsIE51bWJlciwgT2JqZWN0XSxcbiAgICBlbnRlckZyb21DbGFzczogU3RyaW5nLFxuICAgIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgICBlbnRlclRvQ2xhc3M6IFN0cmluZyxcbiAgICBhcHBlYXJGcm9tQ2xhc3M6IFN0cmluZyxcbiAgICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nLFxuICAgIGFwcGVhclRvQ2xhc3M6IFN0cmluZyxcbiAgICBsZWF2ZUZyb21DbGFzczogU3RyaW5nLFxuICAgIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgICBsZWF2ZVRvQ2xhc3M6IFN0cmluZ1xufTtcbmNvbnN0IFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSAoVHJhbnNpdGlvbi5wcm9wcyA9XG4gICAgLyojX19QVVJFX18qLyBleHRlbmQoe30sIEJhc2VUcmFuc2l0aW9uLnByb3BzLCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSk7XG4vKipcbiAqICMzMjI3IEluY29taW5nIGhvb2tzIG1heSBiZSBtZXJnZWQgaW50byBhcnJheXMgd2hlbiB3cmFwcGluZyBUcmFuc2l0aW9uXG4gKiB3aXRoIGN1c3RvbSBIT0NzLlxuICovXG5jb25zdCBjYWxsSG9vayQxID0gKGhvb2ssIGFyZ3MgPSBbXSkgPT4ge1xuICAgIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgICAgIGhvb2suZm9yRWFjaChoID0+IGgoLi4uYXJncykpO1xuICAgIH1cbiAgICBlbHNlIGlmIChob29rKSB7XG4gICAgICAgIGhvb2soLi4uYXJncyk7XG4gICAgfVxufTtcbi8qKlxuICogQ2hlY2sgaWYgYSBob29rIGV4cGVjdHMgYSBjYWxsYmFjayAoMm5kIGFyZyksIHdoaWNoIG1lYW5zIHRoZSB1c2VyXG4gKiBpbnRlbmRzIHRvIGV4cGxpY2l0bHkgY29udHJvbCB0aGUgZW5kIG9mIHRoZSB0cmFuc2l0aW9uLlxuICovXG5jb25zdCBoYXNFeHBsaWNpdENhbGxiYWNrID0gKGhvb2spID0+IHtcbiAgICByZXR1cm4gaG9va1xuICAgICAgICA/IGlzQXJyYXkoaG9vaylcbiAgICAgICAgICAgID8gaG9vay5zb21lKGggPT4gaC5sZW5ndGggPiAxKVxuICAgICAgICAgICAgOiBob29rLmxlbmd0aCA+IDFcbiAgICAgICAgOiBmYWxzZTtcbn07XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKSB7XG4gICAgY29uc3QgYmFzZVByb3BzID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMpKSB7XG4gICAgICAgICAgICBiYXNlUHJvcHNba2V5XSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJhd1Byb3BzLmNzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VQcm9wcztcbiAgICB9XG4gICAgY29uc3QgeyBuYW1lID0gJ3YnLCB0eXBlLCBkdXJhdGlvbiwgZW50ZXJGcm9tQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1mcm9tYCwgZW50ZXJBY3RpdmVDbGFzcyA9IGAke25hbWV9LWVudGVyLWFjdGl2ZWAsIGVudGVyVG9DbGFzcyA9IGAke25hbWV9LWVudGVyLXRvYCwgYXBwZWFyRnJvbUNsYXNzID0gZW50ZXJGcm9tQ2xhc3MsIGFwcGVhckFjdGl2ZUNsYXNzID0gZW50ZXJBY3RpdmVDbGFzcywgYXBwZWFyVG9DbGFzcyA9IGVudGVyVG9DbGFzcywgbGVhdmVGcm9tQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1mcm9tYCwgbGVhdmVBY3RpdmVDbGFzcyA9IGAke25hbWV9LWxlYXZlLWFjdGl2ZWAsIGxlYXZlVG9DbGFzcyA9IGAke25hbWV9LWxlYXZlLXRvYCB9ID0gcmF3UHJvcHM7XG4gICAgLy8gbGVnYWN5IHRyYW5zaXRpb24gY2xhc3MgY29tcGF0XG4gICAgY29uc3QgbGVnYWN5Q2xhc3NFbmFibGVkID0gY29tcGF0VXRpbHMuaXNDb21wYXRFbmFibGVkKFwiVFJBTlNJVElPTl9DTEFTU0VTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5UUkFOU0lUSU9OX0NMQVNTRVMgKi8sIG51bGwpO1xuICAgIGxldCBsZWdhY3lFbnRlckZyb21DbGFzcztcbiAgICBsZXQgbGVnYWN5QXBwZWFyRnJvbUNsYXNzO1xuICAgIGxldCBsZWdhY3lMZWF2ZUZyb21DbGFzcztcbiAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgIGNvbnN0IHRvTGVnYWN5Q2xhc3MgPSAoY2xzKSA9PiBjbHMucmVwbGFjZSgvLWZyb20kLywgJycpO1xuICAgICAgICBpZiAoIXJhd1Byb3BzLmVudGVyRnJvbUNsYXNzKSB7XG4gICAgICAgICAgICBsZWdhY3lFbnRlckZyb21DbGFzcyA9IHRvTGVnYWN5Q2xhc3MoZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmF3UHJvcHMuYXBwZWFyRnJvbUNsYXNzKSB7XG4gICAgICAgICAgICBsZWdhY3lBcHBlYXJGcm9tQ2xhc3MgPSB0b0xlZ2FjeUNsYXNzKGFwcGVhckZyb21DbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyYXdQcm9wcy5sZWF2ZUZyb21DbGFzcykge1xuICAgICAgICAgICAgbGVnYWN5TGVhdmVGcm9tQ2xhc3MgPSB0b0xlZ2FjeUNsYXNzKGxlYXZlRnJvbUNsYXNzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkdXJhdGlvbnMgPSBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbik7XG4gICAgY29uc3QgZW50ZXJEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMF07XG4gICAgY29uc3QgbGVhdmVEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMV07XG4gICAgY29uc3QgeyBvbkJlZm9yZUVudGVyLCBvbkVudGVyLCBvbkVudGVyQ2FuY2VsbGVkLCBvbkxlYXZlLCBvbkxlYXZlQ2FuY2VsbGVkLCBvbkJlZm9yZUFwcGVhciA9IG9uQmVmb3JlRW50ZXIsIG9uQXBwZWFyID0gb25FbnRlciwgb25BcHBlYXJDYW5jZWxsZWQgPSBvbkVudGVyQ2FuY2VsbGVkIH0gPSBiYXNlUHJvcHM7XG4gICAgY29uc3QgZmluaXNoRW50ZXIgPSAoZWwsIGlzQXBwZWFyLCBkb25lKSA9PiB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcyk7XG4gICAgICAgIGRvbmUgJiYgZG9uZSgpO1xuICAgIH07XG4gICAgY29uc3QgZmluaXNoTGVhdmUgPSAoZWwsIGRvbmUpID0+IHtcbiAgICAgICAgZWwuX2lzTGVhdmluZyA9IGZhbHNlO1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgICAgICBkb25lICYmIGRvbmUoKTtcbiAgICB9O1xuICAgIGNvbnN0IG1ha2VFbnRlckhvb2sgPSAoaXNBcHBlYXIpID0+IHtcbiAgICAgICAgcmV0dXJuIChlbCwgZG9uZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaG9vayA9IGlzQXBwZWFyID8gb25BcHBlYXIgOiBvbkVudGVyO1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaEVudGVyKGVsLCBpc0FwcGVhciwgZG9uZSk7XG4gICAgICAgICAgICBjYWxsSG9vayQxKGhvb2ssIFtlbCwgcmVzb2x2ZV0pO1xuICAgICAgICAgICAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyRnJvbUNsYXNzIDogZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGlmIChsZWdhY3lDbGFzc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGxlZ2FjeUFwcGVhckZyb21DbGFzcyA6IGxlZ2FjeUVudGVyRnJvbUNsYXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzRXhwbGljaXRDYWxsYmFjayhob29rKSkge1xuICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGVudGVyRHVyYXRpb24sIHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIGV4dGVuZChiYXNlUHJvcHMsIHtcbiAgICAgICAgb25CZWZvcmVFbnRlcihlbCkge1xuICAgICAgICAgICAgY2FsbEhvb2skMShvbkJlZm9yZUVudGVyLCBbZWxdKTtcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgaWYgKGxlZ2FjeUNsYXNzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVnYWN5RW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25CZWZvcmVBcHBlYXIoZWwpIHtcbiAgICAgICAgICAgIGNhbGxIb29rJDEob25CZWZvcmVBcHBlYXIsIFtlbF0pO1xuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgaWYgKGxlZ2FjeUNsYXNzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVnYWN5QXBwZWFyRnJvbUNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyQWN0aXZlQ2xhc3MpO1xuICAgICAgICB9LFxuICAgICAgICBvbkVudGVyOiBtYWtlRW50ZXJIb29rKGZhbHNlKSxcbiAgICAgICAgb25BcHBlYXI6IG1ha2VFbnRlckhvb2sodHJ1ZSksXG4gICAgICAgIG9uTGVhdmUoZWwsIGRvbmUpIHtcbiAgICAgICAgICAgIGVsLl9pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaExlYXZlKGVsLCBkb25lKTtcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgaWYgKGxlZ2FjeUNsYXNzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVnYWN5TGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IHNvICotbGVhdmUtZnJvbSBjbGFzc2VzIGltbWVkaWF0ZWx5IHRha2UgZWZmZWN0ICgjMjU5MylcbiAgICAgICAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVsLl9pc0xlYXZpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuY2VsbGVkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKGxlZ2FjeUNsYXNzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlZ2FjeUxlYXZlRnJvbUNsYXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzRXhwbGljaXRDYWxsYmFjayhvbkxlYXZlKSkge1xuICAgICAgICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGxlYXZlRHVyYXRpb24sIHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FsbEhvb2skMShvbkxlYXZlLCBbZWwsIHJlc29sdmVdKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FbnRlckNhbmNlbGxlZChlbCkge1xuICAgICAgICAgICAgZmluaXNoRW50ZXIoZWwsIGZhbHNlKTtcbiAgICAgICAgICAgIGNhbGxIb29rJDEob25FbnRlckNhbmNlbGxlZCwgW2VsXSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkKGVsKSB7XG4gICAgICAgICAgICBmaW5pc2hFbnRlcihlbCwgdHJ1ZSk7XG4gICAgICAgICAgICBjYWxsSG9vayQxKG9uQXBwZWFyQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xuICAgICAgICAgICAgZmluaXNoTGVhdmUoZWwpO1xuICAgICAgICAgICAgY2FsbEhvb2skMShvbkxlYXZlQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pIHtcbiAgICBpZiAoZHVyYXRpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XG4gICAgICAgIHJldHVybiBbTnVtYmVyT2YoZHVyYXRpb24uZW50ZXIpLCBOdW1iZXJPZihkdXJhdGlvbi5sZWF2ZSldO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbiA9IE51bWJlck9mKGR1cmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIFtuLCBuXTtcbiAgICB9XG59XG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcbiAgICBjb25zdCByZXMgPSB0b051bWJlcih2YWwpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpXG4gICAgICAgIHZhbGlkYXRlRHVyYXRpb24ocmVzKTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVEdXJhdGlvbih2YWwpIHtcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2FybiQxKGA8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb24gaXMgbm90IGEgdmFsaWQgbnVtYmVyIC0gYCArXG4gICAgICAgICAgICBgZ290ICR7SlNPTi5zdHJpbmdpZnkodmFsKX0uYCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcbiAgICAgICAgd2FybiQxKGA8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb24gaXMgTmFOIC0gYCArXG4gICAgICAgICAgICAndGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XG4gICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgZWwuY2xhc3NMaXN0LmFkZChjKSk7XG4gICAgKGVsLl92dGMgfHxcbiAgICAgICAgKGVsLl92dGMgPSBuZXcgU2V0KCkpKS5hZGQoY2xzKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XG4gICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgZWwuY2xhc3NMaXN0LnJlbW92ZShjKSk7XG4gICAgY29uc3QgeyBfdnRjIH0gPSBlbDtcbiAgICBpZiAoX3Z0Yykge1xuICAgICAgICBfdnRjLmRlbGV0ZShjbHMpO1xuICAgICAgICBpZiAoIV92dGMuc2l6ZSkge1xuICAgICAgICAgICAgZWwuX3Z0YyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIG5leHRGcmFtZShjYikge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gICAgfSk7XG59XG5sZXQgZW5kSWQgPSAwO1xuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGV4cGxpY2l0VGltZW91dCwgcmVzb2x2ZSkge1xuICAgIGNvbnN0IGlkID0gKGVsLl9lbmRJZCA9ICsrZW5kSWQpO1xuICAgIGNvbnN0IHJlc29sdmVJZk5vdFN0YWxlID0gKCkgPT4ge1xuICAgICAgICBpZiAoaWQgPT09IGVsLl9lbmRJZCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoZXhwbGljaXRUaW1lb3V0KSB7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmVJZk5vdFN0YWxlLCBleHBsaWNpdFRpbWVvdXQpO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgfVxuICAgIGNvbnN0IGVuZEV2ZW50ID0gdHlwZSArICdlbmQnO1xuICAgIGxldCBlbmRlZCA9IDA7XG4gICAgY29uc3QgZW5kID0gKCkgPT4ge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG4gICAgICAgIHJlc29sdmVJZk5vdFN0YWxlKCk7XG4gICAgfTtcbiAgICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZWwgJiYgKytlbmRlZCA+PSBwcm9wQ291bnQpIHtcbiAgICAgICAgICAgIGVuZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG4gICAgICAgICAgICBlbmQoKTtcbiAgICAgICAgfVxuICAgIH0sIHRpbWVvdXQgKyAxKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAgIC8vIEpTRE9NIG1heSByZXR1cm4gdW5kZWZpbmVkIGZvciB0cmFuc2l0aW9uIHByb3BlcnRpZXNcbiAgICBjb25zdCBnZXRTdHlsZVByb3BlcnRpZXMgPSAoa2V5KSA9PiAoc3R5bGVzW2tleV0gfHwgJycpLnNwbGl0KCcsICcpO1xuICAgIGNvbnN0IHRyYW5zaXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1EZWxheWApO1xuICAgIGNvbnN0IHRyYW5zaXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1EdXJhdGlvbmApO1xuICAgIGNvbnN0IHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uRGVsYXlzLCB0cmFuc2l0aW9uRHVyYXRpb25zKTtcbiAgICBjb25zdCBhbmltYXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfURlbGF5YCk7XG4gICAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke0FOSU1BVElPTn1EdXJhdGlvbmApO1xuICAgIGNvbnN0IGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcbiAgICBsZXQgdHlwZSA9IG51bGw7XG4gICAgbGV0IHRpbWVvdXQgPSAwO1xuICAgIGxldCBwcm9wQ291bnQgPSAwO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcbiAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgdHlwZSA9IFRSQU5TSVRJT047XG4gICAgICAgICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG4gICAgICAgICAgICBwcm9wQ291bnQgPSB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuICAgICAgICBpZiAoYW5pbWF0aW9uVGltZW91dCA+IDApIHtcbiAgICAgICAgICAgIHR5cGUgPSBBTklNQVRJT047XG4gICAgICAgICAgICB0aW1lb3V0ID0gYW5pbWF0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHByb3BDb3VudCA9IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XG4gICAgICAgIHR5cGUgPVxuICAgICAgICAgICAgdGltZW91dCA+IDBcbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25UaW1lb3V0ID4gYW5pbWF0aW9uVGltZW91dFxuICAgICAgICAgICAgICAgICAgICA/IFRSQU5TSVRJT05cbiAgICAgICAgICAgICAgICAgICAgOiBBTklNQVRJT05cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIHByb3BDb3VudCA9IHR5cGVcbiAgICAgICAgICAgID8gdHlwZSA9PT0gVFJBTlNJVElPTlxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGhcbiAgICAgICAgICAgICAgICA6IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGhcbiAgICAgICAgICAgIDogMDtcbiAgICB9XG4gICAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJlxuICAgICAgICAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvLnRlc3QoZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059UHJvcGVydHlgKS50b1N0cmluZygpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlLFxuICAgICAgICB0aW1lb3V0LFxuICAgICAgICBwcm9wQ291bnQsXG4gICAgICAgIGhhc1RyYW5zZm9ybVxuICAgIH07XG59XG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XG4gICAgd2hpbGUgKGRlbGF5cy5sZW5ndGggPCBkdXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWF4KC4uLmR1cmF0aW9ucy5tYXAoKGQsIGkpID0+IHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSkpKTtcbn1cbi8vIE9sZCB2ZXJzaW9ucyBvZiBDaHJvbWl1bSAoYmVsb3cgNjEuMC4zMTYzLjEwMCkgZm9ybWF0cyBmbG9hdGluZyBwb2ludGVyXG4vLyBudW1iZXJzIGluIGEgbG9jYWxlLWRlcGVuZGVudCB3YXksIHVzaW5nIGEgY29tbWEgaW5zdGVhZCBvZiBhIGRvdC5cbi8vIElmIGNvbW1hIGlzIG5vdCByZXBsYWNlZCB3aXRoIGEgZG90LCB0aGUgaW5wdXQgd2lsbCBiZSByb3VuZGVkIGRvd25cbi8vIChpLmUuIGFjdGluZyBhcyBhIGZsb29yIGZ1bmN0aW9uKSBjYXVzaW5nIHVuZXhwZWN0ZWQgYmVoYXZpb3JzXG5mdW5jdGlvbiB0b01zKHMpIHtcbiAgICByZXR1cm4gTnVtYmVyKHMuc2xpY2UoMCwgLTEpLnJlcGxhY2UoJywnLCAnLicpKSAqIDEwMDA7XG59XG4vLyBzeW5jaHJvbm91c2x5IGZvcmNlIGxheW91dCB0byBwdXQgZWxlbWVudHMgaW50byBhIGNlcnRhaW4gc3RhdGVcbmZ1bmN0aW9uIGZvcmNlUmVmbG93KCkge1xuICAgIHJldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcbn1cblxuY29uc3QgcG9zaXRpb25NYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgbmV3UG9zaXRpb25NYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgVHJhbnNpdGlvbkdyb3VwSW1wbCA9IHtcbiAgICBuYW1lOiAnVHJhbnNpdGlvbkdyb3VwJyxcbiAgICBwcm9wczogLyojX19QVVJFX18qLyBleHRlbmQoe30sIFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIHtcbiAgICAgICAgdGFnOiBTdHJpbmcsXG4gICAgICAgIG1vdmVDbGFzczogU3RyaW5nXG4gICAgfSksXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xuICAgICAgICBsZXQgcHJldkNoaWxkcmVuO1xuICAgICAgICBsZXQgY2hpbGRyZW47XG4gICAgICAgIG9uVXBkYXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBjaGlsZHJlbiBpcyBndWFyYW50ZWVkIHRvIGV4aXN0IGFmdGVyIGluaXRpYWwgcmVuZGVyXG4gICAgICAgICAgICBpZiAoIXByZXZDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtb3ZlQ2xhc3MgPSBwcm9wcy5tb3ZlQ2xhc3MgfHwgYCR7cHJvcHMubmFtZSB8fCAndid9LW1vdmVgO1xuICAgICAgICAgICAgaWYgKCFoYXNDU1NUcmFuc2Zvcm0ocHJldkNoaWxkcmVuWzBdLmVsLCBpbnN0YW5jZS52bm9kZS5lbCwgbW92ZUNsYXNzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlc1xuICAgICAgICAgICAgLy8gaW4gZWFjaCBpdGVyYXRpb24gLSB3aGljaCBoZWxwcyBwcmV2ZW50IGxheW91dCB0aHJhc2hpbmcuXG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG4gICAgICAgICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcbiAgICAgICAgICAgIC8vIGZvcmNlIHJlZmxvdyB0byBwdXQgZXZlcnl0aGluZyBpbiBwb3NpdGlvblxuICAgICAgICAgICAgZm9yY2VSZWZsb3coKTtcbiAgICAgICAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGMuZWw7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUud2Via2l0VHJhbnNmb3JtID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgY2IgPSAoZWwuX21vdmVDYiA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBjYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5fbW92ZUNiID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBjYik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgICAgICAgIGNvbnN0IGNzc1RyYW5zaXRpb25Qcm9wcyA9IHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpO1xuICAgICAgICAgICAgbGV0IHRhZyA9IHJhd1Byb3BzLnRhZyB8fCBGcmFnbWVudDtcbiAgICAgICAgICAgIGlmICghcmF3UHJvcHMudGFnICYmXG4gICAgICAgICAgICAgICAgY29tcGF0VXRpbHMuY2hlY2tDb21wYXRFbmFibGVkKFwiVFJBTlNJVElPTl9HUk9VUF9ST09UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5UUkFOU0lUSU9OX0dST1VQX1JPT1QgKi8sIGluc3RhbmNlLnBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICB0YWcgPSAnc3Bhbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2Q2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCA/IGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCkpIDogW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGNoaWxkLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGA8VHJhbnNpdGlvbkdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHByZXZDaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGNoaWxkLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkpO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbk1hcC5zZXQoY2hpbGQsIGNoaWxkLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodGFnLCBudWxsLCBjaGlsZHJlbik7XG4gICAgICAgIH07XG4gICAgfVxufTtcbntcbiAgICBUcmFuc2l0aW9uR3JvdXBJbXBsLl9faXNCdWlsdEluID0gdHJ1ZTtcbn1cbmNvbnN0IFRyYW5zaXRpb25Hcm91cCA9IFRyYW5zaXRpb25Hcm91cEltcGw7XG5mdW5jdGlvbiBjYWxsUGVuZGluZ0NicyhjKSB7XG4gICAgY29uc3QgZWwgPSBjLmVsO1xuICAgIGlmIChlbC5fbW92ZUNiKSB7XG4gICAgICAgIGVsLl9tb3ZlQ2IoKTtcbiAgICB9XG4gICAgaWYgKGVsLl9lbnRlckNiKSB7XG4gICAgICAgIGVsLl9lbnRlckNiKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVjb3JkUG9zaXRpb24oYykge1xuICAgIG5ld1Bvc2l0aW9uTWFwLnNldChjLCBjLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbn1cbmZ1bmN0aW9uIGFwcGx5VHJhbnNsYXRpb24oYykge1xuICAgIGNvbnN0IG9sZFBvcyA9IHBvc2l0aW9uTWFwLmdldChjKTtcbiAgICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XG4gICAgY29uc3QgZHggPSBvbGRQb3MubGVmdCAtIG5ld1Bvcy5sZWZ0O1xuICAgIGNvbnN0IGR5ID0gb2xkUG9zLnRvcCAtIG5ld1Bvcy50b3A7XG4gICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICAgIGNvbnN0IHMgPSBjLmVsLnN0eWxlO1xuICAgICAgICBzLnRyYW5zZm9ybSA9IHMud2Via2l0VHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2R4fXB4LCR7ZHl9cHgpYDtcbiAgICAgICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnMHMnO1xuICAgICAgICByZXR1cm4gYztcbiAgICB9XG59XG5mdW5jdGlvbiBoYXNDU1NUcmFuc2Zvcm0oZWwsIHJvb3QsIG1vdmVDbGFzcykge1xuICAgIC8vIERldGVjdCB3aGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW92ZSBjbGFzcyBhcHBsaWVkIGhhc1xuICAgIC8vIENTUyB0cmFuc2l0aW9ucy4gU2luY2UgdGhlIGVsZW1lbnQgbWF5IGJlIGluc2lkZSBhbiBlbnRlcmluZ1xuICAgIC8vIHRyYW5zaXRpb24gYXQgdGhpcyB2ZXJ5IG1vbWVudCwgd2UgbWFrZSBhIGNsb25lIG9mIGl0IGFuZCByZW1vdmVcbiAgICAvLyBhbGwgb3RoZXIgdHJhbnNpdGlvbiBjbGFzc2VzIGFwcGxpZWQgdG8gZW5zdXJlIG9ubHkgdGhlIG1vdmUgY2xhc3NcbiAgICAvLyBpcyBhcHBsaWVkLlxuICAgIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XG4gICAgaWYgKGVsLl92dGMpIHtcbiAgICAgICAgZWwuX3Z0Yy5mb3JFYWNoKGNscyA9PiB7XG4gICAgICAgICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1vdmVDbGFzcy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5hZGQoYykpO1xuICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgY29uc3QgY29udGFpbmVyID0gKHJvb3Qubm9kZVR5cGUgPT09IDEgPyByb290IDogcm9vdC5wYXJlbnROb2RlKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIGNvbnN0IHsgaGFzVHJhbnNmb3JtIH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XG4gICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICByZXR1cm4gaGFzVHJhbnNmb3JtO1xufVxuXG5jb25zdCBnZXRNb2RlbEFzc2lnbmVyID0gKHZub2RlKSA9PiB7XG4gICAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1snb25VcGRhdGU6bW9kZWxWYWx1ZSddIHx8XG4gICAgICAgICh2bm9kZS5wcm9wc1snb25Nb2RlbENvbXBhdDppbnB1dCddKTtcbiAgICByZXR1cm4gaXNBcnJheShmbikgPyB2YWx1ZSA9PiBpbnZva2VBcnJheUZucyhmbiwgdmFsdWUpIDogZm47XG59O1xuZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0KGUpIHtcbiAgICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xufVxuZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZChlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgaWYgKHRhcmdldC5jb21wb3NpbmcpIHtcbiAgICAgICAgdGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICAgICAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JykpO1xuICAgIH1cbn1cbi8vIFdlIGFyZSBleHBvcnRpbmcgdGhlIHYtbW9kZWwgcnVudGltZSBkaXJlY3RseSBhcyB2bm9kZSBob29rcyBzbyB0aGF0IGl0IGNhblxuLy8gYmUgdHJlZS1zaGFrZW4gaW4gY2FzZSB2LW1vZGVsIGlzIG5ldmVyIHVzZWQuXG5jb25zdCB2TW9kZWxUZXh0ID0ge1xuICAgIGNyZWF0ZWQoZWwsIHsgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICAgICAgY29uc3QgY2FzdFRvTnVtYmVyID0gbnVtYmVyIHx8ICh2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlID09PSAnbnVtYmVyJyk7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGxhenkgPyAnY2hhbmdlJyA6ICdpbnB1dCcsIGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNvbXBvc2luZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgZG9tVmFsdWUgPSBlbC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAgICAgZG9tVmFsdWUgPSBkb21WYWx1ZS50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FzdFRvTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZG9tVmFsdWUgPSB0b051bWJlcihkb21WYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbC5fYXNzaWduKGRvbVZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVsLnZhbHVlID0gZWwudmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsYXp5KSB7XG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY29tcG9zaXRpb25zdGFydCcsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgICAgICAgIC8vIFNhZmFyaSA8IDEwLjIgJiBVSVdlYlZpZXcgZG9lc24ndCBmaXJlIGNvbXBvc2l0aW9uZW5kIHdoZW5cbiAgICAgICAgICAgIC8vIHN3aXRjaGluZyBmb2N1cyBiZWZvcmUgY29uZmlybWluZyBjb21wb3NpdGlvbiBjaG9pY2VcbiAgICAgICAgICAgIC8vIHRoaXMgYWxzbyBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgc29tZSBicm93c2VycyBlLmcuIGlPUyBDaHJvbWVcbiAgICAgICAgICAgIC8vIGZpcmVzIFwiY2hhbmdlXCIgaW5zdGVhZCBvZiBcImlucHV0XCIgb24gYXV0b2NvbXBsZXRlLlxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXG4gICAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgICAgIGVsLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgfSxcbiAgICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgICAgIC8vIGF2b2lkIGNsZWFyaW5nIHVucmVzb2x2ZWQgdGV4dC4gIzIzMDJcbiAgICAgICAgaWYgKGVsLmNvbXBvc2luZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsICYmIGVsLnR5cGUgIT09ICdyYW5nZScpIHtcbiAgICAgICAgICAgIGlmIChsYXp5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyaW0gJiYgZWwudmFsdWUudHJpbSgpID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobnVtYmVyIHx8IGVsLnR5cGUgPT09ICdudW1iZXInKSAmJiB0b051bWJlcihlbC52YWx1ZSkgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3Qgdk1vZGVsQ2hlY2tib3ggPSB7XG4gICAgLy8gIzQwOTYgYXJyYXkgY2hlY2tib3hlcyBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gICAgZGVlcDogdHJ1ZSxcbiAgICBjcmVhdGVkKGVsLCBfLCB2bm9kZSkge1xuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RlbFZhbHVlID0gZWwuX21vZGVsVmFsdWU7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50VmFsdWUgPSBnZXRWYWx1ZShlbCk7XG4gICAgICAgICAgICBjb25zdCBjaGVja2VkID0gZWwuY2hlY2tlZDtcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnbiA9IGVsLl9hc3NpZ247XG4gICAgICAgICAgICBpZiAoaXNBcnJheShtb2RlbFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbG9vc2VJbmRleE9mKG1vZGVsVmFsdWUsIGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBpbmRleCAhPT0gLTE7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQgJiYgIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbihtb2RlbFZhbHVlLmNvbmNhdChlbGVtZW50VmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBbLi4ubW9kZWxWYWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9uZWQgPSBuZXcgU2V0KG1vZGVsVmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZC5hZGQoZWxlbWVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZC5kZWxldGUoZWxlbWVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXNzaWduKGNsb25lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NpZ24oZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8vIHNldCBpbml0aWFsIGNoZWNrZWQgb24gbW91bnQgdG8gd2FpdCBmb3IgdHJ1ZS12YWx1ZS9mYWxzZS12YWx1ZVxuICAgIG1vdW50ZWQ6IHNldENoZWNrZWQsXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgICAgIHNldENoZWNrZWQoZWwsIGJpbmRpbmcsIHZub2RlKTtcbiAgICB9XG59O1xuZnVuY3Rpb24gc2V0Q2hlY2tlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgICBlbC5fbW9kZWxWYWx1ZSA9IHZhbHVlO1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VJbmRleE9mKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSkgPiAtMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIGVsLmNoZWNrZWQgPSB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIGdldENoZWNrYm94VmFsdWUoZWwsIHRydWUpKTtcbiAgICB9XG59XG5jb25zdCB2TW9kZWxSYWRpbyA9IHtcbiAgICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZ2V0VmFsdWUoZWwpKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCB2TW9kZWxTZWxlY3QgPSB7XG4gICAgLy8gPHNlbGVjdCBtdWx0aXBsZT4gdmFsdWUgbmVlZCB0byBiZSBkZWVwIHRyYXZlcnNlZFxuICAgIGRlZXA6IHRydWUsXG4gICAgY3JlYXRlZChlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgICAgIGNvbnN0IGlzU2V0TW9kZWwgPSBpc1NldCh2YWx1ZSk7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXJcbiAgICAgICAgICAgICAgICAuY2FsbChlbC5vcHRpb25zLCAobykgPT4gby5zZWxlY3RlZClcbiAgICAgICAgICAgICAgICAubWFwKChvKSA9PiBudW1iZXIgPyB0b051bWJlcihnZXRWYWx1ZShvKSkgOiBnZXRWYWx1ZShvKSk7XG4gICAgICAgICAgICBlbC5fYXNzaWduKGVsLm11bHRpcGxlXG4gICAgICAgICAgICAgICAgPyBpc1NldE1vZGVsXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IFNldChzZWxlY3RlZFZhbClcbiAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFZhbFxuICAgICAgICAgICAgICAgIDogc2VsZWN0ZWRWYWxbMF0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIH0sXG4gICAgLy8gc2V0IHZhbHVlIGluIG1vdW50ZWQgJiB1cGRhdGVkIGJlY2F1c2UgPHNlbGVjdD4gcmVsaWVzIG9uIGl0cyBjaGlsZHJlblxuICAgIC8vIDxvcHRpb24+cy5cbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgICB9LFxuICAgIGJlZm9yZVVwZGF0ZShlbCwgX2JpbmRpbmcsIHZub2RlKSB7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICB9LFxuICAgIHVwZGF0ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgICAgICBzZXRTZWxlY3RlZChlbCwgdmFsdWUpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgdmFsdWUpIHtcbiAgICBjb25zdCBpc011bHRpcGxlID0gZWwubXVsdGlwbGU7XG4gICAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXkodmFsdWUpICYmICFpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICB3YXJuJDEoYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBgICtcbiAgICAgICAgICAgICAgICBgYnV0IGdvdCAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpfS5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGVsLm9wdGlvbnNbaV07XG4gICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gZ2V0VmFsdWUob3B0aW9uKTtcbiAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgb3B0aW9uVmFsdWUpID4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB2YWx1ZS5oYXMob3B0aW9uVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpXG4gICAgICAgICAgICAgICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzTXVsdGlwbGUgJiYgZWwuc2VsZWN0ZWRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgIH1cbn1cbi8vIHJldHJpZXZlIHJhdyB2YWx1ZSBzZXQgdmlhIDp2YWx1ZSBiaW5kaW5nc1xuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcbiAgICByZXR1cm4gJ192YWx1ZScgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcbn1cbi8vIHJldHJpZXZlIHJhdyB2YWx1ZSBmb3IgdHJ1ZS12YWx1ZSBhbmQgZmFsc2UtdmFsdWUgc2V0IHZpYSA6dHJ1ZS12YWx1ZSBvciA6ZmFsc2UtdmFsdWUgYmluZGluZ3NcbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcbiAgICBjb25zdCBrZXkgPSBjaGVja2VkID8gJ190cnVlVmFsdWUnIDogJ19mYWxzZVZhbHVlJztcbiAgICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XG59XG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xuICAgIGNyZWF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCAnY3JlYXRlZCcpO1xuICAgIH0sXG4gICAgbW91bnRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsICdtb3VudGVkJyk7XG4gICAgfSxcbiAgICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgJ2JlZm9yZVVwZGF0ZScpO1xuICAgIH0sXG4gICAgdXBkYXRlZChlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCAndXBkYXRlZCcpO1xuICAgIH1cbn07XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY01vZGVsKHRhZ05hbWUsIHR5cGUpIHtcbiAgICBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSAnU0VMRUNUJzpcbiAgICAgICAgICAgIHJldHVybiB2TW9kZWxTZWxlY3Q7XG4gICAgICAgIGNhc2UgJ1RFWFRBUkVBJzpcbiAgICAgICAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdk1vZGVsQ2hlY2tib3g7XG4gICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdk1vZGVsUmFkaW87XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgaG9vaykge1xuICAgIGNvbnN0IG1vZGVsVG9Vc2UgPSByZXNvbHZlRHluYW1pY01vZGVsKGVsLnRhZ05hbWUsIHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGUpO1xuICAgIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcbiAgICBmbiAmJiBmbihlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSk7XG59XG4vLyBTU1Igdm5vZGUgdHJhbnNmb3Jtcywgb25seSB1c2VkIHdoZW4gdXNlciBpbmNsdWRlcyBjbGllbnQtb3JpZW50ZWQgcmVuZGVyXG4vLyBmdW5jdGlvbiBpbiBTU1JcbmZ1bmN0aW9uIGluaXRWTW9kZWxGb3JTU1IoKSB7XG4gICAgdk1vZGVsVGV4dC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+ICh7IHZhbHVlIH0pO1xuICAgIHZNb2RlbFJhZGlvLmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSwgdm5vZGUpID0+IHtcbiAgICAgICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlRXF1YWwodm5vZGUucHJvcHMudmFsdWUsIHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2TW9kZWxDaGVja2JveC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodm5vZGUucHJvcHMgJiYgdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2TW9kZWxEeW5hbWljLmdldFNTUlByb3BzID0gKGJpbmRpbmcsIHZub2RlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygdm5vZGUudHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChcbiAgICAgICAgLy8gcmVzb2x2ZUR5bmFtaWNNb2RlbCBleHBlY3RzIGFuIHVwcGVyY2FzZSB0YWcgbmFtZSwgYnV0IHZub2RlLnR5cGUgaXMgbG93ZXJjYXNlXG4gICAgICAgIHZub2RlLnR5cGUudG9VcHBlckNhc2UoKSwgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZSk7XG4gICAgICAgIGlmIChtb2RlbFRvVXNlLmdldFNTUlByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kZWxUb1VzZS5nZXRTU1JQcm9wcyhiaW5kaW5nLCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5jb25zdCBzeXN0ZW1Nb2RpZmllcnMgPSBbJ2N0cmwnLCAnc2hpZnQnLCAnYWx0JywgJ21ldGEnXTtcbmNvbnN0IG1vZGlmaWVyR3VhcmRzID0ge1xuICAgIHN0b3A6IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSxcbiAgICBwcmV2ZW50OiBlID0+IGUucHJldmVudERlZmF1bHQoKSxcbiAgICBzZWxmOiBlID0+IGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQsXG4gICAgY3RybDogZSA9PiAhZS5jdHJsS2V5LFxuICAgIHNoaWZ0OiBlID0+ICFlLnNoaWZ0S2V5LFxuICAgIGFsdDogZSA9PiAhZS5hbHRLZXksXG4gICAgbWV0YTogZSA9PiAhZS5tZXRhS2V5LFxuICAgIGxlZnQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcbiAgICBtaWRkbGU6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMSxcbiAgICByaWdodDogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAyLFxuICAgIGV4YWN0OiAoZSwgbW9kaWZpZXJzKSA9PiBzeXN0ZW1Nb2RpZmllcnMuc29tZShtID0+IGVbYCR7bX1LZXlgXSAmJiAhbW9kaWZpZXJzLmluY2x1ZGVzKG0pKVxufTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3Qgd2l0aE1vZGlmaWVycyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XG4gICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZ3VhcmQgPSBtb2RpZmllckd1YXJkc1ttb2RpZmllcnNbaV1dO1xuICAgICAgICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4oZXZlbnQsIC4uLmFyZ3MpO1xuICAgIH07XG59O1xuLy8gS2VwdCBmb3IgMi54IGNvbXBhdC5cbi8vIE5vdGU6IElFMTEgY29tcGF0IGZvciBgc3BhY2ViYXJgIGFuZCBgZGVsYCBpcyByZW1vdmVkIGZvciBub3cuXG5jb25zdCBrZXlOYW1lcyA9IHtcbiAgICBlc2M6ICdlc2NhcGUnLFxuICAgIHNwYWNlOiAnICcsXG4gICAgdXA6ICdhcnJvdy11cCcsXG4gICAgbGVmdDogJ2Fycm93LWxlZnQnLFxuICAgIHJpZ2h0OiAnYXJyb3ctcmlnaHQnLFxuICAgIGRvd246ICdhcnJvdy1kb3duJyxcbiAgICBkZWxldGU6ICdiYWNrc3BhY2UnXG59O1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCB3aXRoS2V5cyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XG4gICAgbGV0IGdsb2JhbEtleUNvZGVzO1xuICAgIGxldCBpbnN0YW5jZSA9IG51bGw7XG4gICAge1xuICAgICAgICBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBpZiAoY29tcGF0VXRpbHMuaXNDb21wYXRFbmFibGVkKFwiQ09ORklHX0tFWV9DT0RFU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX0tFWV9DT0RFUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBnbG9iYWxLZXlDb2RlcyA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmtleUNvZGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbW9kaWZpZXJzLnNvbWUobSA9PiAvXlxcZCskLy50ZXN0KG0pKSkge1xuICAgICAgICAgICAgY29tcGF0VXRpbHMud2FybkRlcHJlY2F0aW9uKFwiVl9PTl9LRVlDT0RFX01PRElGSUVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5WX09OX0tFWUNPREVfTU9ESUZJRVIgKi8sIGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghKCdrZXknIGluIGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XG4gICAgICAgIGlmIChtb2RpZmllcnMuc29tZShrID0+IGsgPT09IGV2ZW50S2V5IHx8IGtleU5hbWVzW2tdID09PSBldmVudEtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmbihldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qga2V5Q29kZSA9IFN0cmluZyhldmVudC5rZXlDb2RlKTtcbiAgICAgICAgICAgIGlmIChjb21wYXRVdGlscy5pc0NvbXBhdEVuYWJsZWQoXCJWX09OX0tFWUNPREVfTU9ESUZJRVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLlZfT05fS0VZQ09ERV9NT0RJRklFUiAqLywgaW5zdGFuY2UpICYmXG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzLnNvbWUobW9kID0+IG1vZCA9PSBrZXlDb2RlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmbihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2xvYmFsS2V5Q29kZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG1vZCBvZiBtb2RpZmllcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZXMgPSBnbG9iYWxLZXlDb2Rlc1ttb2RdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBpc0FycmF5KGNvZGVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY29kZXMuc29tZShjb2RlID0+IFN0cmluZyhjb2RlKSA9PT0ga2V5Q29kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyhjb2RlcykgPT09IGtleUNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuY29uc3QgdlNob3cgPSB7XG4gICAgYmVmb3JlTW91bnQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICAgICAgZWwuX3ZvZCA9IGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICcnIDogZWwuc3R5bGUuZGlzcGxheTtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICAgICAgaWYgKCF2YWx1ZSA9PT0gIW9sZFZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmxlYXZlKGVsLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYmVmb3JlVW5tb3VudChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICB9XG59O1xuZnVuY3Rpb24gc2V0RGlzcGxheShlbCwgdmFsdWUpIHtcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbC5fdm9kIDogJ25vbmUnO1xufVxuLy8gU1NSIHZub2RlIHRyYW5zZm9ybXMsIG9ubHkgdXNlZCB3aGVuIHVzZXIgaW5jbHVkZXMgY2xpZW50LW9yaWVudGVkIHJlbmRlclxuLy8gZnVuY3Rpb24gaW4gU1NSXG5mdW5jdGlvbiBpbml0VlNob3dGb3JTU1IoKSB7XG4gICAgdlNob3cuZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9KSA9PiB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0eWxlOiB7IGRpc3BsYXk6ICdub25lJyB9IH07XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSAvKiNfX1BVUkVfXyovIGV4dGVuZCh7IHBhdGNoUHJvcCB9LCBub2RlT3BzKTtcbi8vIGxhenkgY3JlYXRlIHRoZSByZW5kZXJlciAtIHRoaXMgbWFrZXMgY29yZSByZW5kZXJlciBsb2dpYyB0cmVlLXNoYWthYmxlXG4vLyBpbiBjYXNlIHRoZSB1c2VyIG9ubHkgaW1wb3J0cyByZWFjdGl2aXR5IHV0aWxpdGllcyBmcm9tIFZ1ZS5cbmxldCByZW5kZXJlcjtcbmxldCBlbmFibGVkSHlkcmF0aW9uID0gZmFsc2U7XG5mdW5jdGlvbiBlbnN1cmVSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gKHJlbmRlcmVyIHx8XG4gICAgICAgIChyZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucykpKTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkge1xuICAgIHJlbmRlcmVyID0gZW5hYmxlZEh5ZHJhdGlvblxuICAgICAgICA/IHJlbmRlcmVyXG4gICAgICAgIDogY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKTtcbiAgICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICByZXR1cm4gcmVuZGVyZXI7XG59XG4vLyB1c2UgZXhwbGljaXQgdHlwZSBjYXN0cyBoZXJlIHRvIGF2b2lkIGltcG9ydCgpIGNhbGxzIGluIHJvbGxlZC11cCBkLnRzXG5jb25zdCByZW5kZXIgPSAoKC4uLmFyZ3MpID0+IHtcbiAgICBlbnN1cmVSZW5kZXJlcigpLnJlbmRlciguLi5hcmdzKTtcbn0pO1xuY29uc3QgaHlkcmF0ZSA9ICgoLi4uYXJncykgPT4ge1xuICAgIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcbn0pO1xuY29uc3QgY3JlYXRlQXBwID0gKCguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgYXBwID0gZW5zdXJlUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgICAgICBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApO1xuICAgIH1cbiAgICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gICAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgICAgICBpZiAoIWNvbnRhaW5lcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XG4gICAgICAgIGlmICghaXNGdW5jdGlvbihjb21wb25lbnQpICYmICFjb21wb25lbnQucmVuZGVyICYmICFjb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgICAgICAgIC8vIF9fVU5TQUZFX19cbiAgICAgICAgICAgIC8vIFJlYXNvbjogcG90ZW50aWFsIGV4ZWN1dGlvbiBvZiBKUyBleHByZXNzaW9ucyBpbiBpbi1ET00gdGVtcGxhdGUuXG4gICAgICAgICAgICAvLyBUaGUgdXNlciBtdXN0IG1ha2Ugc3VyZSB0aGUgaW4tRE9NIHRlbXBsYXRlIGlzIHRydXN0ZWQuIElmIGl0J3NcbiAgICAgICAgICAgIC8vIHJlbmRlcmVkIGJ5IHRoZSBzZXJ2ZXIsIHRoZSB0ZW1wbGF0ZSBzaG91bGQgbm90IGNvbnRhaW4gYW55IHVzZXIgZGF0YS5cbiAgICAgICAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XG4gICAgICAgICAgICAvLyAyLnggY29tcGF0IGNoZWNrXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250YWluZXIuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyID0gY29udGFpbmVyLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRyLm5hbWUgIT09ICd2LWNsb2FrJyAmJiAvXih2LXw6fEApLy50ZXN0KGF0dHIubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhdFV0aWxzLndhcm5EZXByZWNhdGlvbihcIkdMT0JBTF9NT1VOVF9DT05UQUlORVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9NT1VOVF9DT05UQUlORVIgKi8sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2xlYXIgY29udGVudCBiZWZvcmUgbW91bnRpbmdcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBjb25zdCBwcm94eSA9IG1vdW50KGNvbnRhaW5lciwgZmFsc2UsIGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpO1xuICAgICAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgndi1jbG9haycpO1xuICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS12LWFwcCcsICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgfTtcbiAgICByZXR1cm4gYXBwO1xufSk7XG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBhcHAgPSBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gICAgfVxuICAgIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcbiAgICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XG4gICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBtb3VudChjb250YWluZXIsIHRydWUsIGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gYXBwO1xufSk7XG5mdW5jdGlvbiBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApIHtcbiAgICAvLyBJbmplY3QgYGlzTmF0aXZlVGFnYFxuICAgIC8vIHRoaXMgaXMgdXNlZCBmb3IgY29tcG9uZW50IG5hbWUgdmFsaWRhdGlvbiAoZGV2IG9ubHkpXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsICdpc05hdGl2ZVRhZycsIHtcbiAgICAgICAgdmFsdWU6ICh0YWcpID0+IGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZyksXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgIH0pO1xufVxuLy8gZGV2IG9ubHlcbmZ1bmN0aW9uIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCkge1xuICAgIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICAgICAgY29uc3QgaXNDdXN0b21FbGVtZW50ID0gYXBwLmNvbmZpZy5pc0N1c3RvbUVsZW1lbnQ7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCAnaXNDdXN0b21FbGVtZW50Jywge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0N1c3RvbUVsZW1lbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgVGhlIFxcYGlzQ3VzdG9tRWxlbWVudFxcYCBjb25maWcgb3B0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBgICtcbiAgICAgICAgICAgICAgICAgICAgYFxcYGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnRcXGAgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbXBpbGVyT3B0aW9ucyA9IGFwcC5jb25maWcuY29tcGlsZXJPcHRpb25zO1xuICAgICAgICBjb25zdCBtc2cgPSBgVGhlIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBjb25maWcgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgYCArXG4gICAgICAgICAgICBgYSBidWlsZCBvZiBWdWUuanMgdGhhdCBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlciAoYWthIFwiZnVsbCBidWlsZFwiKS4gYCArXG4gICAgICAgICAgICBgU2luY2UgeW91IGFyZSB1c2luZyB0aGUgcnVudGltZS1vbmx5IGJ1aWxkLCBcXGBjb21waWxlck9wdGlvbnNcXGAgYCArXG4gICAgICAgICAgICBgbXVzdCBiZSBwYXNzZWQgdG8gXFxgQHZ1ZS9jb21waWxlci1kb21cXGAgaW4gdGhlIGJ1aWxkIHNldHVwIGluc3RlYWQuXFxuYCArXG4gICAgICAgICAgICBgLSBGb3IgdnVlLWxvYWRlcjogcGFzcyBpdCB2aWEgdnVlLWxvYWRlcidzIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBsb2FkZXIgb3B0aW9uLlxcbmAgK1xuICAgICAgICAgICAgYC0gRm9yIHZ1ZS1jbGk6IHNlZSBodHRwczovL2NsaS52dWVqcy5vcmcvZ3VpZGUvd2VicGFjay5odG1sI21vZGlmeWluZy1vcHRpb25zLW9mLWEtbG9hZGVyXFxuYCArXG4gICAgICAgICAgICBgLSBGb3Igdml0ZTogcGFzcyBpdCB2aWEgQHZpdGVqcy9wbHVnaW4tdnVlIG9wdGlvbnMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUvdHJlZS9tYWluL3BhY2thZ2VzL3BsdWdpbi12dWUjZXhhbXBsZS1mb3ItcGFzc2luZy1vcHRpb25zLXRvLXZ1ZWNvbXBpbGVyLWRvbWA7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCAnY29tcGlsZXJPcHRpb25zJywge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShtc2cpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlck9wdGlvbnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyKSB7XG4gICAgaWYgKGlzU3RyaW5nKGNvbnRhaW5lcikpIHtcbiAgICAgICAgY29uc3QgcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFyZXMpIHtcbiAgICAgICAgICAgIHdhcm4kMShgRmFpbGVkIHRvIG1vdW50IGFwcDogbW91bnQgdGFyZ2V0IHNlbGVjdG9yIFwiJHtjb250YWluZXJ9XCIgcmV0dXJuZWQgbnVsbC5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgIHdpbmRvdy5TaGFkb3dSb290ICYmXG4gICAgICAgIGNvbnRhaW5lciBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290ICYmXG4gICAgICAgIGNvbnRhaW5lci5tb2RlID09PSAnY2xvc2VkJykge1xuICAgICAgICB3YXJuJDEoYG1vdW50aW5nIG9uIGEgU2hhZG93Um9vdCB3aXRoIFxcYHttb2RlOiBcImNsb3NlZFwifVxcYCBtYXkgbGVhZCB0byB1bnByZWRpY3RhYmxlIGJ1Z3NgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cbmxldCBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IGZhbHNlO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgaW5pdERpcmVjdGl2ZXNGb3JTU1IgPSAoKSA9PiB7XG4gICAgICAgIGlmICghc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGluaXRWTW9kZWxGb3JTU1IoKTtcbiAgICAgICAgICAgIGluaXRWU2hvd0ZvclNTUigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIDtcblxudmFyIHJ1bnRpbWVEb20gPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgcmVuZGVyOiByZW5kZXIsXG4gIGh5ZHJhdGU6IGh5ZHJhdGUsXG4gIGNyZWF0ZUFwcDogY3JlYXRlQXBwLFxuICBjcmVhdGVTU1JBcHA6IGNyZWF0ZVNTUkFwcCxcbiAgaW5pdERpcmVjdGl2ZXNGb3JTU1I6IGluaXREaXJlY3RpdmVzRm9yU1NSLFxuICBkZWZpbmVDdXN0b21FbGVtZW50OiBkZWZpbmVDdXN0b21FbGVtZW50LFxuICBkZWZpbmVTU1JDdXN0b21FbGVtZW50OiBkZWZpbmVTU1JDdXN0b21FbGVtZW50LFxuICBWdWVFbGVtZW50OiBWdWVFbGVtZW50LFxuICB1c2VDc3NNb2R1bGU6IHVzZUNzc01vZHVsZSxcbiAgdXNlQ3NzVmFyczogdXNlQ3NzVmFycyxcbiAgVHJhbnNpdGlvbjogVHJhbnNpdGlvbixcbiAgVHJhbnNpdGlvbkdyb3VwOiBUcmFuc2l0aW9uR3JvdXAsXG4gIHZNb2RlbFRleHQ6IHZNb2RlbFRleHQsXG4gIHZNb2RlbENoZWNrYm94OiB2TW9kZWxDaGVja2JveCxcbiAgdk1vZGVsUmFkaW86IHZNb2RlbFJhZGlvLFxuICB2TW9kZWxTZWxlY3Q6IHZNb2RlbFNlbGVjdCxcbiAgdk1vZGVsRHluYW1pYzogdk1vZGVsRHluYW1pYyxcbiAgd2l0aE1vZGlmaWVyczogd2l0aE1vZGlmaWVycyxcbiAgd2l0aEtleXM6IHdpdGhLZXlzLFxuICB2U2hvdzogdlNob3csXG4gIHJlYWN0aXZlOiByZWFjdGl2ZSxcbiAgcmVmOiByZWYsXG4gIHJlYWRvbmx5OiByZWFkb25seSxcbiAgdW5yZWY6IHVucmVmLFxuICBwcm94eVJlZnM6IHByb3h5UmVmcyxcbiAgaXNSZWY6IGlzUmVmLFxuICB0b1JlZjogdG9SZWYsXG4gIHRvUmVmczogdG9SZWZzLFxuICBpc1Byb3h5OiBpc1Byb3h5LFxuICBpc1JlYWN0aXZlOiBpc1JlYWN0aXZlLFxuICBpc1JlYWRvbmx5OiBpc1JlYWRvbmx5LFxuICBpc1NoYWxsb3c6IGlzU2hhbGxvdyxcbiAgY3VzdG9tUmVmOiBjdXN0b21SZWYsXG4gIHRyaWdnZXJSZWY6IHRyaWdnZXJSZWYsXG4gIHNoYWxsb3dSZWY6IHNoYWxsb3dSZWYsXG4gIHNoYWxsb3dSZWFjdGl2ZTogc2hhbGxvd1JlYWN0aXZlLFxuICBzaGFsbG93UmVhZG9ubHk6IHNoYWxsb3dSZWFkb25seSxcbiAgbWFya1JhdzogbWFya1JhdyxcbiAgdG9SYXc6IHRvUmF3LFxuICBlZmZlY3Q6IGVmZmVjdCxcbiAgc3RvcDogc3RvcCxcbiAgUmVhY3RpdmVFZmZlY3Q6IFJlYWN0aXZlRWZmZWN0LFxuICBlZmZlY3RTY29wZTogZWZmZWN0U2NvcGUsXG4gIEVmZmVjdFNjb3BlOiBFZmZlY3RTY29wZSxcbiAgZ2V0Q3VycmVudFNjb3BlOiBnZXRDdXJyZW50U2NvcGUsXG4gIG9uU2NvcGVEaXNwb3NlOiBvblNjb3BlRGlzcG9zZSxcbiAgY29tcHV0ZWQ6IGNvbXB1dGVkJDEsXG4gIHdhdGNoOiB3YXRjaCxcbiAgd2F0Y2hFZmZlY3Q6IHdhdGNoRWZmZWN0LFxuICB3YXRjaFBvc3RFZmZlY3Q6IHdhdGNoUG9zdEVmZmVjdCxcbiAgd2F0Y2hTeW5jRWZmZWN0OiB3YXRjaFN5bmNFZmZlY3QsXG4gIG9uQmVmb3JlTW91bnQ6IG9uQmVmb3JlTW91bnQsXG4gIG9uTW91bnRlZDogb25Nb3VudGVkLFxuICBvbkJlZm9yZVVwZGF0ZTogb25CZWZvcmVVcGRhdGUsXG4gIG9uVXBkYXRlZDogb25VcGRhdGVkLFxuICBvbkJlZm9yZVVubW91bnQ6IG9uQmVmb3JlVW5tb3VudCxcbiAgb25Vbm1vdW50ZWQ6IG9uVW5tb3VudGVkLFxuICBvbkFjdGl2YXRlZDogb25BY3RpdmF0ZWQsXG4gIG9uRGVhY3RpdmF0ZWQ6IG9uRGVhY3RpdmF0ZWQsXG4gIG9uUmVuZGVyVHJhY2tlZDogb25SZW5kZXJUcmFja2VkLFxuICBvblJlbmRlclRyaWdnZXJlZDogb25SZW5kZXJUcmlnZ2VyZWQsXG4gIG9uRXJyb3JDYXB0dXJlZDogb25FcnJvckNhcHR1cmVkLFxuICBvblNlcnZlclByZWZldGNoOiBvblNlcnZlclByZWZldGNoLFxuICBwcm92aWRlOiBwcm92aWRlLFxuICBpbmplY3Q6IGluamVjdCxcbiAgbmV4dFRpY2s6IG5leHRUaWNrLFxuICBkZWZpbmVDb21wb25lbnQ6IGRlZmluZUNvbXBvbmVudCxcbiAgZGVmaW5lQXN5bmNDb21wb25lbnQ6IGRlZmluZUFzeW5jQ29tcG9uZW50LFxuICB1c2VBdHRyczogdXNlQXR0cnMsXG4gIHVzZVNsb3RzOiB1c2VTbG90cyxcbiAgZGVmaW5lUHJvcHM6IGRlZmluZVByb3BzLFxuICBkZWZpbmVFbWl0czogZGVmaW5lRW1pdHMsXG4gIGRlZmluZUV4cG9zZTogZGVmaW5lRXhwb3NlLFxuICB3aXRoRGVmYXVsdHM6IHdpdGhEZWZhdWx0cyxcbiAgbWVyZ2VEZWZhdWx0czogbWVyZ2VEZWZhdWx0cyxcbiAgY3JlYXRlUHJvcHNSZXN0UHJveHk6IGNyZWF0ZVByb3BzUmVzdFByb3h5LFxuICB3aXRoQXN5bmNDb250ZXh0OiB3aXRoQXN5bmNDb250ZXh0LFxuICBnZXRDdXJyZW50SW5zdGFuY2U6IGdldEN1cnJlbnRJbnN0YW5jZSxcbiAgaDogaCxcbiAgY3JlYXRlVk5vZGU6IGNyZWF0ZVZOb2RlLFxuICBjbG9uZVZOb2RlOiBjbG9uZVZOb2RlLFxuICBtZXJnZVByb3BzOiBtZXJnZVByb3BzLFxuICBpc1ZOb2RlOiBpc1ZOb2RlLFxuICBGcmFnbWVudDogRnJhZ21lbnQsXG4gIFRleHQ6IFRleHQsXG4gIENvbW1lbnQ6IENvbW1lbnQsXG4gIFN0YXRpYzogU3RhdGljLFxuICBUZWxlcG9ydDogVGVsZXBvcnQsXG4gIFN1c3BlbnNlOiBTdXNwZW5zZSxcbiAgS2VlcEFsaXZlOiBLZWVwQWxpdmUsXG4gIEJhc2VUcmFuc2l0aW9uOiBCYXNlVHJhbnNpdGlvbixcbiAgd2l0aERpcmVjdGl2ZXM6IHdpdGhEaXJlY3RpdmVzLFxuICB1c2VTU1JDb250ZXh0OiB1c2VTU1JDb250ZXh0LFxuICBzc3JDb250ZXh0S2V5OiBzc3JDb250ZXh0S2V5LFxuICBjcmVhdGVSZW5kZXJlcjogY3JlYXRlUmVuZGVyZXIsXG4gIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcixcbiAgcXVldWVQb3N0Rmx1c2hDYjogcXVldWVQb3N0Rmx1c2hDYixcbiAgd2Fybjogd2FybiQxLFxuICBoYW5kbGVFcnJvcjogaGFuZGxlRXJyb3IsXG4gIGNhbGxXaXRoRXJyb3JIYW5kbGluZzogY2FsbFdpdGhFcnJvckhhbmRsaW5nLFxuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZzogY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsXG4gIHJlc29sdmVDb21wb25lbnQ6IHJlc29sdmVDb21wb25lbnQsXG4gIHJlc29sdmVEaXJlY3RpdmU6IHJlc29sdmVEaXJlY3RpdmUsXG4gIHJlc29sdmVEeW5hbWljQ29tcG9uZW50OiByZXNvbHZlRHluYW1pY0NvbXBvbmVudCxcbiAgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXI6IHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyLFxuICBpc1J1bnRpbWVPbmx5OiBpc1J1bnRpbWVPbmx5LFxuICB1c2VUcmFuc2l0aW9uU3RhdGU6IHVzZVRyYW5zaXRpb25TdGF0ZSxcbiAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rczogcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyxcbiAgc2V0VHJhbnNpdGlvbkhvb2tzOiBzZXRUcmFuc2l0aW9uSG9va3MsXG4gIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbjogZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLFxuICBpbml0Q3VzdG9tRm9ybWF0dGVyOiBpbml0Q3VzdG9tRm9ybWF0dGVyLFxuICBnZXQgZGV2dG9vbHMgKCkgeyByZXR1cm4gZGV2dG9vbHM7IH0sXG4gIHNldERldnRvb2xzSG9vazogc2V0RGV2dG9vbHNIb29rLFxuICB3aXRoQ3R4OiB3aXRoQ3R4LFxuICBwdXNoU2NvcGVJZDogcHVzaFNjb3BlSWQsXG4gIHBvcFNjb3BlSWQ6IHBvcFNjb3BlSWQsXG4gIHdpdGhTY29wZUlkOiB3aXRoU2NvcGVJZCxcbiAgcmVuZGVyTGlzdDogcmVuZGVyTGlzdCxcbiAgdG9IYW5kbGVyczogdG9IYW5kbGVycyxcbiAgcmVuZGVyU2xvdDogcmVuZGVyU2xvdCxcbiAgY3JlYXRlU2xvdHM6IGNyZWF0ZVNsb3RzLFxuICB3aXRoTWVtbzogd2l0aE1lbW8sXG4gIGlzTWVtb1NhbWU6IGlzTWVtb1NhbWUsXG4gIG9wZW5CbG9jazogb3BlbkJsb2NrLFxuICBjcmVhdGVCbG9jazogY3JlYXRlQmxvY2ssXG4gIHNldEJsb2NrVHJhY2tpbmc6IHNldEJsb2NrVHJhY2tpbmcsXG4gIGNyZWF0ZVRleHRWTm9kZTogY3JlYXRlVGV4dFZOb2RlLFxuICBjcmVhdGVDb21tZW50Vk5vZGU6IGNyZWF0ZUNvbW1lbnRWTm9kZSxcbiAgY3JlYXRlU3RhdGljVk5vZGU6IGNyZWF0ZVN0YXRpY1ZOb2RlLFxuICBjcmVhdGVFbGVtZW50Vk5vZGU6IGNyZWF0ZUJhc2VWTm9kZSxcbiAgY3JlYXRlRWxlbWVudEJsb2NrOiBjcmVhdGVFbGVtZW50QmxvY2ssXG4gIGd1YXJkUmVhY3RpdmVQcm9wczogZ3VhcmRSZWFjdGl2ZVByb3BzLFxuICB0b0Rpc3BsYXlTdHJpbmc6IHRvRGlzcGxheVN0cmluZyxcbiAgY2FtZWxpemU6IGNhbWVsaXplLFxuICBjYXBpdGFsaXplOiBjYXBpdGFsaXplLFxuICB0b0hhbmRsZXJLZXk6IHRvSGFuZGxlcktleSxcbiAgbm9ybWFsaXplUHJvcHM6IG5vcm1hbGl6ZVByb3BzLFxuICBub3JtYWxpemVDbGFzczogbm9ybWFsaXplQ2xhc3MsXG4gIG5vcm1hbGl6ZVN0eWxlOiBub3JtYWxpemVTdHlsZSxcbiAgdHJhbnNmb3JtVk5vZGVBcmdzOiB0cmFuc2Zvcm1WTm9kZUFyZ3MsXG4gIHZlcnNpb246IHZlcnNpb24sXG4gIHNzclV0aWxzOiBzc3JVdGlscyxcbiAgcmVzb2x2ZUZpbHRlcjogcmVzb2x2ZUZpbHRlciQxLFxuICBjb21wYXRVdGlsczogY29tcGF0VXRpbHNcbn0pO1xuXG5mdW5jdGlvbiBpbml0RGV2KCkge1xuICAgIHtcbiAgICAgICAgaW5pdEN1c3RvbUZvcm1hdHRlcigpO1xuICAgIH1cbn1cblxuLy8gVGhpcyBlbnRyeSBleHBvcnRzIHRoZSBydW50aW1lIG9ubHksIGFuZCBpcyBidWlsdCBhc1xuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGluaXREZXYoKTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRDcmVhdGVBcHAoLi4uYXJncykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBhcHAgPSBjcmVhdGVBcHAoLi4uYXJncyk7XG4gICAgaWYgKGNvbXBhdFV0aWxzLmlzQ29tcGF0RW5hYmxlZChcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovLCBudWxsKSkge1xuICAgICAgICAvLyByZWdpc3RlciBidWlsdC1pbiBjb21wb25lbnRzIHNvIHRoYXQgdGhleSBjYW4gYmUgcmVzb2x2ZWQgdmlhIHN0cmluZ3NcbiAgICAgICAgLy8gaW4gdGhlIGxlZ2FjeSBoKCkgY2FsbC4gVGhlIF9fY29tcGF0X18gcHJlZml4IGlzIHRvIGVuc3VyZSB0aGF0IHYzIGgoKVxuICAgICAgICAvLyBkb2Vzbid0IGdldCBhZmZlY3RlZC5cbiAgICAgICAgYXBwLmNvbXBvbmVudCgnX19jb21wYXRfX3RyYW5zaXRpb24nLCBUcmFuc2l0aW9uKTtcbiAgICAgICAgYXBwLmNvbXBvbmVudCgnX19jb21wYXRfX3RyYW5zaXRpb24tZ3JvdXAnLCBUcmFuc2l0aW9uR3JvdXApO1xuICAgICAgICBhcHAuY29tcG9uZW50KCdfX2NvbXBhdF9fa2VlcC1hbGl2ZScsIEtlZXBBbGl2ZSk7XG4gICAgICAgIC8vIGJ1aWx0LWluIGRpcmVjdGl2ZXMuIE5vIG5lZWQgZm9yIHByZWZpeCBzaW5jZSB0aGVyZSdzIG5vIHJlbmRlciBmbiBBUElcbiAgICAgICAgLy8gZm9yIHJlc29sdmluZyBkaXJlY3RpdmVzIHZpYSBzdHJpbmcgaW4gdjMuXG4gICAgICAgIGFwcC5fY29udGV4dC5kaXJlY3RpdmVzLnNob3cgPSB2U2hvdztcbiAgICAgICAgYXBwLl9jb250ZXh0LmRpcmVjdGl2ZXMubW9kZWwgPSB2TW9kZWxEeW5hbWljO1xuICAgIH1cbiAgICByZXR1cm4gYXBwO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tcGF0VnVlJDEoKSB7XG4gICAgY29uc3QgVnVlID0gY29tcGF0VXRpbHMuY3JlYXRlQ29tcGF0VnVlKGNyZWF0ZUFwcCwgd3JhcHBlZENyZWF0ZUFwcCk7XG4gICAgZXh0ZW5kKFZ1ZSwgcnVudGltZURvbSk7XG4gICAgcmV0dXJuIFZ1ZTtcbn1cblxuLy8gVGhpcyBlbnRyeSBleHBvcnRzIHRoZSBydW50aW1lIG9ubHksIGFuZCBpcyBidWlsdCBhc1xuY29uc3QgVnVlID0gY3JlYXRlQ29tcGF0VnVlJDEoKTtcblZ1ZS5jb21waWxlID0gKCgpID0+IHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm4kMShgUnVudGltZSBjb21waWxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnVpbGQgb2YgVnVlLmAgK1xuICAgICAgICAgICAgKGAgQ29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBhbGlhcyBcInZ1ZVwiIHRvIFwiQHZ1ZS9jb21wYXQvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gXG4gICAgICAgICAgICAgICAgKSAvKiBzaG91bGQgbm90IGhhcHBlbiAqLyk7XG4gICAgfVxufSk7XG5cbmNvbnN0IHsgY29uZmlndXJlQ29tcGF0OiBjb25maWd1cmVDb21wYXQkMSB9ID0gVnVlO1xuXG5leHBvcnQgZGVmYXVsdCBWdWU7XG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQ29tbWVudCwgRWZmZWN0U2NvcGUsIEZyYWdtZW50LCBLZWVwQWxpdmUsIFJlYWN0aXZlRWZmZWN0LCBTdGF0aWMsIFN1c3BlbnNlLCBUZWxlcG9ydCwgVGV4dCwgVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwLCBWdWVFbGVtZW50LCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgY2FsbFdpdGhFcnJvckhhbmRsaW5nLCBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgY2xvbmVWTm9kZSwgY29tcGF0VXRpbHMsIGNvbXB1dGVkJDEgYXMgY29tcHV0ZWQsIGNvbmZpZ3VyZUNvbXBhdCQxIGFzIGNvbmZpZ3VyZUNvbXBhdCwgY3JlYXRlQXBwLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJhc2VWTm9kZSBhcyBjcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVQcm9wc1Jlc3RQcm94eSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNTUkFwcCwgY3JlYXRlU2xvdHMsIGNyZWF0ZVN0YXRpY1ZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZVZOb2RlLCBjdXN0b21SZWYsIGRlZmluZUFzeW5jQ29tcG9uZW50LCBkZWZpbmVDb21wb25lbnQsIGRlZmluZUN1c3RvbUVsZW1lbnQsIGRlZmluZUVtaXRzLCBkZWZpbmVFeHBvc2UsIGRlZmluZVByb3BzLCBkZWZpbmVTU1JDdXN0b21FbGVtZW50LCBkZXZ0b29scywgZWZmZWN0LCBlZmZlY3RTY29wZSwgZ2V0Q3VycmVudEluc3RhbmNlLCBnZXRDdXJyZW50U2NvcGUsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgZ3VhcmRSZWFjdGl2ZVByb3BzLCBoLCBoYW5kbGVFcnJvciwgaHlkcmF0ZSwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5pdERpcmVjdGl2ZXNGb3JTU1IsIGluamVjdCwgaXNNZW1vU2FtZSwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzUnVudGltZU9ubHksIGlzU2hhbGxvdywgaXNWTm9kZSwgbWFya1JhdywgbWVyZ2VEZWZhdWx0cywgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TY29wZURpc3Bvc2UsIG9uU2VydmVyUHJlZmV0Y2gsIG9uVW5tb3VudGVkLCBvblVwZGF0ZWQsIG9wZW5CbG9jaywgcG9wU2NvcGVJZCwgcHJvdmlkZSwgcHJveHlSZWZzLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyLCByZW5kZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlRmlsdGVyJDEgYXMgcmVzb2x2ZUZpbHRlciwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgc2V0QmxvY2tUcmFja2luZywgc2V0RGV2dG9vbHNIb29rLCBzZXRUcmFuc2l0aW9uSG9va3MsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzc3JDb250ZXh0S2V5LCBzc3JVdGlscywgc3RvcCwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvSGFuZGxlcnMsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0cmFuc2Zvcm1WTm9kZUFyZ3MsIHRyaWdnZXJSZWYsIHVucmVmLCB1c2VBdHRycywgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB1c2VTU1JDb250ZXh0LCB1c2VTbG90cywgdXNlVHJhbnNpdGlvblN0YXRlLCB2TW9kZWxDaGVja2JveCwgdk1vZGVsRHluYW1pYywgdk1vZGVsUmFkaW8sIHZNb2RlbFNlbGVjdCwgdk1vZGVsVGV4dCwgdlNob3csIHZlcnNpb24sIHdhcm4kMSBhcyB3YXJuLCB3YXRjaCwgd2F0Y2hFZmZlY3QsIHdhdGNoUG9zdEVmZmVjdCwgd2F0Y2hTeW5jRWZmZWN0LCB3aXRoQXN5bmNDb250ZXh0LCB3aXRoQ3R4LCB3aXRoRGVmYXVsdHMsIHdpdGhEaXJlY3RpdmVzLCB3aXRoS2V5cywgd2l0aE1lbW8sIHdpdGhNb2RpZmllcnMsIHdpdGhTY29wZUlkIH07XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIiwgW1wibW9kdWxlXCJdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGZhY3RvcnkobW9kdWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbW9kID0ge1xuICAgICAgZXhwb3J0czoge31cbiAgICB9O1xuICAgIGZhY3RvcnkobW9kKTtcbiAgICBnbG9iYWwuYnJvd3NlciA9IG1vZC5leHBvcnRzO1xuICB9XG59KSh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAobW9kdWxlKSB7XG4gIC8qIHdlYmV4dGVuc2lvbi1wb2x5ZmlsbCAtIHYwLjEwLjAgLSBGcmkgQXVnIDEyIDIwMjIgMTk6NDI6NDQgKi9cblxuICAvKiAtKi0gTW9kZTogaW5kZW50LXRhYnMtbW9kZTogbmlsOyBqcy1pbmRlbnQtbGV2ZWw6IDIgLSotICovXG5cbiAgLyogdmltOiBzZXQgc3RzPTIgc3c9MiBldCB0dz04MDogKi9cblxuICAvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gICAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAgICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgaWYgKCFnbG9iYWxUaGlzLmNocm9tZT8ucnVudGltZT8uaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNjcmlwdCBzaG91bGQgb25seSBiZSBsb2FkZWQgaW4gYSBicm93c2VyIGV4dGVuc2lvbi5cIik7XG4gIH1cblxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMuYnJvd3NlciA9PT0gXCJ1bmRlZmluZWRcIiB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsVGhpcy5icm93c2VyKSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIGNvbnN0IENIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSA9IFwiVGhlIG1lc3NhZ2UgcG9ydCBjbG9zZWQgYmVmb3JlIGEgcmVzcG9uc2Ugd2FzIHJlY2VpdmVkLlwiOyAvLyBXcmFwcGluZyB0aGUgYnVsayBvZiB0aGlzIHBvbHlmaWxsIGluIGEgb25lLXRpbWUtdXNlIGZ1bmN0aW9uIGlzIGEgbWlub3JcbiAgICAvLyBvcHRpbWl6YXRpb24gZm9yIEZpcmVmb3guIFNpbmNlIFNwaWRlcm1vbmtleSBkb2VzIG5vdCBmdWxseSBwYXJzZSB0aGVcbiAgICAvLyBjb250ZW50cyBvZiBhIGZ1bmN0aW9uIHVudGlsIHRoZSBmaXJzdCB0aW1lIGl0J3MgY2FsbGVkLCBhbmQgc2luY2UgaXQgd2lsbFxuICAgIC8vIG5ldmVyIGFjdHVhbGx5IG5lZWQgdG8gYmUgY2FsbGVkLCB0aGlzIGFsbG93cyB0aGUgcG9seWZpbGwgdG8gYmUgaW5jbHVkZWRcbiAgICAvLyBpbiBGaXJlZm94IG5lYXJseSBmb3IgZnJlZS5cblxuICAgIGNvbnN0IHdyYXBBUElzID0gZXh0ZW5zaW9uQVBJcyA9PiB7XG4gICAgICAvLyBOT1RFOiBhcGlNZXRhZGF0YSBpcyBhc3NvY2lhdGVkIHRvIHRoZSBjb250ZW50IG9mIHRoZSBhcGktbWV0YWRhdGEuanNvbiBmaWxlXG4gICAgICAvLyBhdCBidWlsZCB0aW1lIGJ5IHJlcGxhY2luZyB0aGUgZm9sbG93aW5nIFwiaW5jbHVkZVwiIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhlXG4gICAgICAvLyBKU09OIGZpbGUuXG4gICAgICBjb25zdCBhcGlNZXRhZGF0YSA9IHtcbiAgICAgICAgXCJhbGFybXNcIjoge1xuICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjbGVhckFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJvb2ttYXJrc1wiOiB7XG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDaGlsZHJlblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFJlY2VudFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFN1YlRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUcmVlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwibW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJicm93c2VyQWN0aW9uXCI6IHtcbiAgICAgICAgICBcImRpc2FibGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlbmFibGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRCYWRnZUJhY2tncm91bmRDb2xvclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJhZGdlVGV4dFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJvcGVuUG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRCYWRnZUJhY2tncm91bmRDb2xvclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEJhZGdlVGV4dFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEljb25cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRQb3B1cFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFRpdGxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYnJvd3NpbmdEYXRhXCI6IHtcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUNhY2hlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlQ29va2llc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZURvd25sb2Fkc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUZvcm1EYXRhXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlSGlzdG9yeVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUxvY2FsU3RvcmFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVBhc3N3b3Jkc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVBsdWdpbkRhdGFcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvbW1hbmRzXCI6IHtcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvbnRleHRNZW51c1wiOiB7XG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJjb29raWVzXCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbENvb2tpZVN0b3Jlc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImRldnRvb2xzXCI6IHtcbiAgICAgICAgICBcImluc3BlY3RlZFdpbmRvd1wiOiB7XG4gICAgICAgICAgICBcImV2YWxcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDIsXG4gICAgICAgICAgICAgIFwic2luZ2xlQ2FsbGJhY2tBcmdcIjogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicGFuZWxzXCI6IHtcbiAgICAgICAgICAgIFwiY3JlYXRlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDMsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAzLFxuICAgICAgICAgICAgICBcInNpbmdsZUNhbGxiYWNrQXJnXCI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImVsZW1lbnRzXCI6IHtcbiAgICAgICAgICAgICAgXCJjcmVhdGVTaWRlYmFyUGFuZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJkb3dubG9hZHNcIjoge1xuICAgICAgICAgIFwiY2FuY2VsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZG93bmxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlcmFzZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZpbGVJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3BlblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInBhdXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRmlsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlc3VtZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJleHRlbnNpb25cIjoge1xuICAgICAgICAgIFwiaXNBbGxvd2VkRmlsZVNjaGVtZUFjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImlzQWxsb3dlZEluY29nbml0b0FjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImhpc3RvcnlcIjoge1xuICAgICAgICAgIFwiYWRkVXJsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlUmFuZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVVcmxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRWaXNpdHNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpMThuXCI6IHtcbiAgICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWNjZXB0TGFuZ3VhZ2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaWRlbnRpdHlcIjoge1xuICAgICAgICAgIFwibGF1bmNoV2ViQXV0aEZsb3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZGxlXCI6IHtcbiAgICAgICAgICBcInF1ZXJ5U3RhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJtYW5hZ2VtZW50XCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFNlbGZcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRFbmFibGVkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwidW5pbnN0YWxsU2VsZlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm5vdGlmaWNhdGlvbnNcIjoge1xuICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRQZXJtaXNzaW9uTGV2ZWxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwYWdlQWN0aW9uXCI6IHtcbiAgICAgICAgICBcImdldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWRlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzaG93XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicGVybWlzc2lvbnNcIjoge1xuICAgICAgICAgIFwiY29udGFpbnNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXF1ZXN0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicnVudGltZVwiOiB7XG4gICAgICAgICAgXCJnZXRCYWNrZ3JvdW5kUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBsYXRmb3JtSW5mb1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5PcHRpb25zUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlcXVlc3RVcGRhdGVDaGVja1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VuZE5hdGl2ZU1lc3NhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRVbmluc3RhbGxVUkxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXNzaW9uc1wiOiB7XG4gICAgICAgICAgXCJnZXREZXZpY2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50bHlDbG9zZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXN0b3JlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic3RvcmFnZVwiOiB7XG4gICAgICAgICAgXCJsb2NhbFwiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1hbmFnZWRcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic3luY1wiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRhYnNcIjoge1xuICAgICAgICAgIFwiY2FwdHVyZVZpc2libGVUYWJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZXRlY3RMYW5ndWFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRpc2NhcmRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkdXBsaWNhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJleGVjdXRlU2NyaXB0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Q3VycmVudFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnb0JhY2tcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnb0ZvcndhcmRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWdobGlnaHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJpbnNlcnRDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicXVlcnlcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZWxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZW5kTWVzc2FnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b3BTaXRlc1wiOiB7XG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWJOYXZpZ2F0aW9uXCI6IHtcbiAgICAgICAgICBcImdldEFsbEZyYW1lc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZyYW1lXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2ViUmVxdWVzdFwiOiB7XG4gICAgICAgICAgXCJoYW5kbGVyQmVoYXZpb3JDaGFuZ2VkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2luZG93c1wiOiB7XG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDdXJyZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0TGFzdEZvY3VzZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGFwaU1ldGFkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXBpLW1ldGFkYXRhLmpzb24gaGFzIG5vdCBiZWVuIGluY2x1ZGVkIGluIGJyb3dzZXItcG9seWZpbGxcIik7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEEgV2Vha01hcCBzdWJjbGFzcyB3aGljaCBjcmVhdGVzIGFuZCBzdG9yZXMgYSB2YWx1ZSBmb3IgYW55IGtleSB3aGljaCBkb2VzXG4gICAgICAgKiBub3QgZXhpc3Qgd2hlbiBhY2Nlc3NlZCwgYnV0IGJlaGF2ZXMgZXhhY3RseSBhcyBhbiBvcmRpbmFyeSBXZWFrTWFwXG4gICAgICAgKiBvdGhlcndpc2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY3JlYXRlSXRlbVxuICAgICAgICogICAgICAgIEEgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgaW4gb3JkZXIgdG8gY3JlYXRlIHRoZSB2YWx1ZSBmb3IgYW55XG4gICAgICAgKiAgICAgICAga2V5IHdoaWNoIGRvZXMgbm90IGV4aXN0LCB0aGUgZmlyc3QgdGltZSBpdCBpcyBhY2Nlc3NlZC4gVGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gcmVjZWl2ZXMsIGFzIGl0cyBvbmx5IGFyZ3VtZW50LCB0aGUga2V5IGJlaW5nIGNyZWF0ZWQuXG4gICAgICAgKi9cblxuXG4gICAgICBjbGFzcyBEZWZhdWx0V2Vha01hcCBleHRlbmRzIFdlYWtNYXAge1xuICAgICAgICBjb25zdHJ1Y3RvcihjcmVhdGVJdGVtLCBpdGVtcyA9IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHN1cGVyKGl0ZW1zKTtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUl0ZW0gPSBjcmVhdGVJdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB0aGlzLmNyZWF0ZUl0ZW0oa2V5KSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHN1cGVyLmdldChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBvYmplY3QgaXMgYW4gb2JqZWN0IHdpdGggYSBgdGhlbmAgbWV0aG9kLCBhbmQgY2FuXG4gICAgICAgKiB0aGVyZWZvcmUgYmUgYXNzdW1lZCB0byBiZWhhdmUgYXMgYSBQcm9taXNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRlc3QuXG4gICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdGhlbmFibGUuXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCBpc1RoZW5hYmxlID0gdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2gsIHdoZW4gY2FsbGVkLCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0XG4gICAgICAgKiB0aGUgZ2l2ZW4gcHJvbWlzZSBiYXNlZCBvbiBob3cgaXQgaXMgY2FsbGVkOlxuICAgICAgICpcbiAgICAgICAqIC0gSWYsIHdoZW4gY2FsbGVkLCBgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yYCBjb250YWlucyBhIG5vbi1udWxsIG9iamVjdCxcbiAgICAgICAqICAgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQgd2l0aCB0aGF0IHZhbHVlLlxuICAgICAgICogLSBJZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggZXhhY3RseSBvbmUgYXJndW1lbnQsIHRoZSBwcm9taXNlIGlzXG4gICAgICAgKiAgIHJlc29sdmVkIHRvIHRoYXQgdmFsdWUuXG4gICAgICAgKiAtIE90aGVyd2lzZSwgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgdG8gYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlXG4gICAgICAgKiAgIGZ1bmN0aW9uJ3MgYXJndW1lbnRzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9taXNlXG4gICAgICAgKiAgICAgICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJlc29sdXRpb24gYW5kIHJlamVjdGlvbiBmdW5jdGlvbnMgb2YgYVxuICAgICAgICogICAgICAgIHByb21pc2UuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcm9taXNlLnJlc29sdmVcbiAgICAgICAqICAgICAgICBUaGUgcHJvbWlzZSdzIHJlc29sdXRpb24gZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcm9taXNlLnJlamVjdFxuICAgICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVqZWN0aW9uIGZ1bmN0aW9uLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhXG4gICAgICAgKiAgICAgICAgTWV0YWRhdGEgYWJvdXQgdGhlIHdyYXBwZWQgbWV0aG9kIHdoaWNoIGhhcyBjcmVhdGVkIHRoZSBjYWxsYmFjay5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmdcbiAgICAgICAqICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIG9ubHkgdGhlIGZpcnN0XG4gICAgICAgKiAgICAgICAgYXJndW1lbnQgb2YgdGhlIGNhbGxiYWNrLCBhbHRlcm5hdGl2ZWx5IGFuIGFycmF5IG9mIGFsbCB0aGVcbiAgICAgICAqICAgICAgICBjYWxsYmFjayBhcmd1bWVudHMgaXMgcmVzb2x2ZWQuIEJ5IGRlZmF1bHQsIGlmIHRoZSBjYWxsYmFja1xuICAgICAgICogICAgICAgIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCBvbmx5IGEgc2luZ2xlIGFyZ3VtZW50LCB0aGF0IHdpbGwgYmVcbiAgICAgICAqICAgICAgICByZXNvbHZlZCB0byB0aGUgcHJvbWlzZSwgd2hpbGUgYWxsIGFyZ3VtZW50cyB3aWxsIGJlIHJlc29sdmVkIGFzXG4gICAgICAgKiAgICAgICAgYW4gYXJyYXkgaWYgbXVsdGlwbGUgYXJlIGdpdmVuLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICAgICAqICAgICAgICBUaGUgZ2VuZXJhdGVkIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAgICovXG5cblxuICAgICAgY29uc3QgbWFrZUNhbGxiYWNrID0gKHByb21pc2UsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAoLi4uY2FsbGJhY2tBcmdzKSA9PiB7XG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVqZWN0KG5ldyBFcnJvcihleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnIHx8IGNhbGxiYWNrQXJncy5sZW5ndGggPD0gMSAmJiBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3NbMF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoY2FsbGJhY2tBcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwbHVyYWxpemVBcmd1bWVudHMgPSBudW1BcmdzID0+IG51bUFyZ3MgPT0gMSA/IFwiYXJndW1lbnRcIiA6IFwiYXJndW1lbnRzXCI7XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYSB3cmFwcGVyIGZ1bmN0aW9uIGZvciBhIG1ldGhvZCB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCBtZXRhZGF0YS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAgICogICAgICAgIFRoZSBuYW1lIG9mIHRoZSBtZXRob2Qgd2hpY2ggaXMgYmVpbmcgd3JhcHBlZC5cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtZXRhZGF0YVxuICAgICAgICogICAgICAgIE1ldGFkYXRhIGFib3V0IHRoZSBtZXRob2QgYmVpbmcgd3JhcHBlZC5cbiAgICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWluQXJnc1xuICAgICAgICogICAgICAgIFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgd2hpY2ggbXVzdCBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24uIElmIGNhbGxlZCB3aXRoIGZld2VyIHRoYW4gdGhpcyBudW1iZXIgb2YgYXJndW1lbnRzLCB0aGVcbiAgICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5tYXhBcmdzXG4gICAgICAgKiAgICAgICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB3aGljaCBtYXkgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAgICogICAgICAgIGZ1bmN0aW9uLiBJZiBjYWxsZWQgd2l0aCBtb3JlIHRoYW4gdGhpcyBudW1iZXIgb2YgYXJndW1lbnRzLCB0aGVcbiAgICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZ1xuICAgICAgICogICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggb25seSB0aGUgZmlyc3RcbiAgICAgICAqICAgICAgICBhcmd1bWVudCBvZiB0aGUgY2FsbGJhY2ssIGFsdGVybmF0aXZlbHkgYW4gYXJyYXkgb2YgYWxsIHRoZVxuICAgICAgICogICAgICAgIGNhbGxiYWNrIGFyZ3VtZW50cyBpcyByZXNvbHZlZC4gQnkgZGVmYXVsdCwgaWYgdGhlIGNhbGxiYWNrXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIG9ubHkgYSBzaW5nbGUgYXJndW1lbnQsIHRoYXQgd2lsbCBiZVxuICAgICAgICogICAgICAgIHJlc29sdmVkIHRvIHRoZSBwcm9taXNlLCB3aGlsZSBhbGwgYXJndW1lbnRzIHdpbGwgYmUgcmVzb2x2ZWQgYXNcbiAgICAgICAqICAgICAgICBhbiBhcnJheSBpZiBtdWx0aXBsZSBhcmUgZ2l2ZW4uXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKG9iamVjdCwgLi4uKil9XG4gICAgICAgKiAgICAgICBUaGUgZ2VuZXJhdGVkIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCB3cmFwQXN5bmNGdW5jdGlvbiA9IChuYW1lLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNGdW5jdGlvbldyYXBwZXIodGFyZ2V0LCAuLi5hcmdzKSB7XG4gICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgbWV0YWRhdGEubWluQXJncykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAke21ldGFkYXRhLm1pbkFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1pbkFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiBtZXRhZGF0YS5tYXhBcmdzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IG1vc3QgJHttZXRhZGF0YS5tYXhBcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5tYXhBcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YS5mYWxsYmFja1RvTm9DYWxsYmFjaykge1xuICAgICAgICAgICAgICAvLyBUaGlzIEFQSSBtZXRob2QgaGFzIGN1cnJlbnRseSBubyBjYWxsYmFjayBvbiBDaHJvbWUsIGJ1dCBpdCByZXR1cm4gYSBwcm9taXNlIG9uIEZpcmVmb3gsXG4gICAgICAgICAgICAgIC8vIGFuZCBzbyB0aGUgcG9seWZpbGwgd2lsbCB0cnkgdG8gY2FsbCBpdCB3aXRoIGEgY2FsbGJhY2sgZmlyc3QsIGFuZCBpdCB3aWxsIGZhbGxiYWNrXG4gICAgICAgICAgICAgIC8vIHRvIG5vdCBwYXNzaW5nIHRoZSBjYWxsYmFjayBpZiB0aGUgZmlyc3QgY2FsbCBmYWlscy5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncywgbWFrZUNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICB9LCBtZXRhZGF0YSkpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChjYkVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGAke25hbWV9IEFQSSBtZXRob2QgZG9lc24ndCBzZWVtIHRvIHN1cHBvcnQgdGhlIGNhbGxiYWNrIHBhcmFtZXRlciwgYCArIFwiZmFsbGluZyBiYWNrIHRvIGNhbGwgaXQgd2l0aG91dCBhIGNhbGxiYWNrOiBcIiwgY2JFcnJvcik7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MpOyAvLyBVcGRhdGUgdGhlIEFQSSBtZXRob2QgbWV0YWRhdGEsIHNvIHRoYXQgdGhlIG5leHQgQVBJIGNhbGxzIHdpbGwgbm90IHRyeSB0b1xuICAgICAgICAgICAgICAgIC8vIHVzZSB0aGUgdW5zdXBwb3J0ZWQgY2FsbGJhY2sgYW55bW9yZS5cblxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEubm9DYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLm5vQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncywgbWFrZUNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICB9LCBtZXRhZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogV3JhcHMgYW4gZXhpc3RpbmcgbWV0aG9kIG9mIHRoZSB0YXJnZXQgb2JqZWN0LCBzbyB0aGF0IGNhbGxzIHRvIGl0IGFyZVxuICAgICAgICogaW50ZXJjZXB0ZWQgYnkgdGhlIGdpdmVuIHdyYXBwZXIgZnVuY3Rpb24uIFRoZSB3cmFwcGVyIGZ1bmN0aW9uIHJlY2VpdmVzLFxuICAgICAgICogYXMgaXRzIGZpcnN0IGFyZ3VtZW50LCB0aGUgb3JpZ2luYWwgYHRhcmdldGAgb2JqZWN0LCBmb2xsb3dlZCBieSBlYWNoIG9mXG4gICAgICAgKiB0aGUgYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgb3JpZ2luYWwgbWV0aG9kLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRcbiAgICAgICAqICAgICAgICBUaGUgb3JpZ2luYWwgdGFyZ2V0IG9iamVjdCB0aGF0IHRoZSB3cmFwcGVkIG1ldGhvZCBiZWxvbmdzIHRvLlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWV0aG9kXG4gICAgICAgKiAgICAgICAgVGhlIG1ldGhvZCBiZWluZyB3cmFwcGVkLiBUaGlzIGlzIHVzZWQgYXMgdGhlIHRhcmdldCBvZiB0aGUgUHJveHlcbiAgICAgICAqICAgICAgICBvYmplY3Qgd2hpY2ggaXMgY3JlYXRlZCB0byB3cmFwIHRoZSBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgVGhlIHdyYXBwZXIgZnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkIGluIHBsYWNlIG9mIGEgZGlyZWN0IGludm9jYXRpb25cbiAgICAgICAqICAgICAgICBvZiB0aGUgd3JhcHBlZCBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge1Byb3h5PGZ1bmN0aW9uPn1cbiAgICAgICAqICAgICAgICBBIFByb3h5IG9iamVjdCBmb3IgdGhlIGdpdmVuIG1ldGhvZCwgd2hpY2ggaW52b2tlcyB0aGUgZ2l2ZW4gd3JhcHBlclxuICAgICAgICogICAgICAgIG1ldGhvZCBpbiBpdHMgcGxhY2UuXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCB3cmFwTWV0aG9kID0gKHRhcmdldCwgbWV0aG9kLCB3cmFwcGVyKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobWV0aG9kLCB7XG4gICAgICAgICAgYXBwbHkodGFyZ2V0TWV0aG9kLCB0aGlzT2JqLCBhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5jYWxsKHRoaXNPYmosIHRhcmdldCwgLi4uYXJncyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgbGV0IGhhc093blByb3BlcnR5ID0gRnVuY3Rpb24uY2FsbC5iaW5kKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBvYmplY3QgaW4gYSBQcm94eSB3aGljaCBpbnRlcmNlcHRzIGFuZCB3cmFwcyBjZXJ0YWluIG1ldGhvZHNcbiAgICAgICAqIGJhc2VkIG9uIHRoZSBnaXZlbiBgd3JhcHBlcnNgIGFuZCBgbWV0YWRhdGFgIG9iamVjdHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAgICogICAgICAgIFRoZSB0YXJnZXQgb2JqZWN0IHRvIHdyYXAuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IFt3cmFwcGVycyA9IHt9XVxuICAgICAgICogICAgICAgIEFuIG9iamVjdCB0cmVlIGNvbnRhaW5pbmcgd3JhcHBlciBmdW5jdGlvbnMgZm9yIHNwZWNpYWwgY2FzZXMuIEFueVxuICAgICAgICogICAgICAgIGZ1bmN0aW9uIHByZXNlbnQgaW4gdGhpcyBvYmplY3QgdHJlZSBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgdGhlXG4gICAgICAgKiAgICAgICAgbWV0aG9kIGluIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBgdGFyZ2V0YCBvYmplY3QgdHJlZS4gVGhlc2VcbiAgICAgICAqICAgICAgICB3cmFwcGVyIG1ldGhvZHMgYXJlIGludm9rZWQgYXMgZGVzY3JpYmVkIGluIHtAc2VlIHdyYXBNZXRob2R9LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbbWV0YWRhdGEgPSB7fV1cbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgdHJlZSBjb250YWluaW5nIG1ldGFkYXRhIHVzZWQgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZVxuICAgICAgICogICAgICAgIFByb21pc2UtYmFzZWQgd3JhcHBlciBmdW5jdGlvbnMgZm9yIGFzeW5jaHJvbm91cy4gQW55IGZ1bmN0aW9uIGluXG4gICAgICAgKiAgICAgICAgdGhlIGB0YXJnZXRgIG9iamVjdCB0cmVlIHdoaWNoIGhhcyBhIGNvcnJlc3BvbmRpbmcgbWV0YWRhdGEgb2JqZWN0XG4gICAgICAgKiAgICAgICAgaW4gdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIGBtZXRhZGF0YWAgdHJlZSBpcyByZXBsYWNlZCB3aXRoIGFuXG4gICAgICAgKiAgICAgICAgYXV0b21hdGljYWxseS1nZW5lcmF0ZWQgd3JhcHBlciBmdW5jdGlvbiwgYXMgZGVzY3JpYmVkIGluXG4gICAgICAgKiAgICAgICAge0BzZWUgd3JhcEFzeW5jRnVuY3Rpb259XG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge1Byb3h5PG9iamVjdD59XG4gICAgICAgKi9cblxuICAgICAgY29uc3Qgd3JhcE9iamVjdCA9ICh0YXJnZXQsIHdyYXBwZXJzID0ge30sIG1ldGFkYXRhID0ge30pID0+IHtcbiAgICAgICAgbGV0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgbGV0IGhhbmRsZXJzID0ge1xuICAgICAgICAgIGhhcyhwcm94eVRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0IHx8IHByb3AgaW4gY2FjaGU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGdldChwcm94eVRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIGlmIChwcm9wIGluIGNhY2hlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWNoZVtwcm9wXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEocHJvcCBpbiB0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRhcmdldFtwcm9wXTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBtZXRob2Qgb24gdGhlIHVuZGVybHlpbmcgb2JqZWN0LiBDaGVjayBpZiB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAgIC8vIGFueSB3cmFwcGluZy5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3cmFwcGVyc1twcm9wXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIHNwZWNpYWwtY2FzZSB3cmFwcGVyIGZvciB0aGlzIG1ldGhvZC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBNZXRob2QodGFyZ2V0LCB0YXJnZXRbcHJvcF0sIHdyYXBwZXJzW3Byb3BdKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFuIGFzeW5jIG1ldGhvZCB0aGF0IHdlIGhhdmUgbWV0YWRhdGEgZm9yLiBDcmVhdGUgYVxuICAgICAgICAgICAgICAgIC8vIFByb21pc2Ugd3JhcHBlciBmb3IgaXQuXG4gICAgICAgICAgICAgICAgbGV0IHdyYXBwZXIgPSB3cmFwQXN5bmNGdW5jdGlvbihwcm9wLCBtZXRhZGF0YVtwcm9wXSk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwTWV0aG9kKHRhcmdldCwgdGFyZ2V0W3Byb3BdLCB3cmFwcGVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbWV0aG9kIHRoYXQgd2UgZG9uJ3Qga25vdyBvciBjYXJlIGFib3V0LiBSZXR1cm4gdGhlXG4gICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwgbWV0aG9kLCBib3VuZCB0byB0aGUgdW5kZXJseWluZyBvYmplY3QuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5iaW5kKHRhcmdldCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmIChoYXNPd25Qcm9wZXJ0eSh3cmFwcGVycywgcHJvcCkgfHwgaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIHByb3ApKSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFuIG9iamVjdCB0aGF0IHdlIG5lZWQgdG8gZG8gc29tZSB3cmFwcGluZyBmb3IgdGhlIGNoaWxkcmVuXG4gICAgICAgICAgICAgIC8vIG9mLiBDcmVhdGUgYSBzdWItb2JqZWN0IHdyYXBwZXIgZm9yIGl0IHdpdGggdGhlIGFwcHJvcHJpYXRlIGNoaWxkXG4gICAgICAgICAgICAgIC8vIG1ldGFkYXRhLlxuICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBPYmplY3QodmFsdWUsIHdyYXBwZXJzW3Byb3BdLCBtZXRhZGF0YVtwcm9wXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBcIipcIikpIHtcbiAgICAgICAgICAgICAgLy8gV3JhcCBhbGwgcHJvcGVydGllcyBpbiAqIG5hbWVzcGFjZS5cbiAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwT2JqZWN0KHZhbHVlLCB3cmFwcGVyc1twcm9wXSwgbWV0YWRhdGFbXCIqXCJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gZG8gYW55IHdyYXBwaW5nIGZvciB0aGlzIHByb3BlcnR5LFxuICAgICAgICAgICAgICAvLyBzbyBqdXN0IGZvcndhcmQgYWxsIGFjY2VzcyB0byB0aGUgdW5kZXJseWluZyBvYmplY3QuXG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjYWNoZSwgcHJvcCwge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgc2V0KHByb3h5VGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIGlmIChwcm9wIGluIGNhY2hlKSB7XG4gICAgICAgICAgICAgIGNhY2hlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHByb3h5VGFyZ2V0LCBwcm9wLCBkZXNjKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShjYWNoZSwgcHJvcCwgZGVzYyk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGRlbGV0ZVByb3BlcnR5KHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShjYWNoZSwgcHJvcCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH07IC8vIFBlciBjb250cmFjdCBvZiB0aGUgUHJveHkgQVBJLCB0aGUgXCJnZXRcIiBwcm94eSBoYW5kbGVyIG11c3QgcmV0dXJuIHRoZVxuICAgICAgICAvLyBvcmlnaW5hbCB2YWx1ZSBvZiB0aGUgdGFyZ2V0IGlmIHRoYXQgdmFsdWUgaXMgZGVjbGFyZWQgcmVhZC1vbmx5IGFuZFxuICAgICAgICAvLyBub24tY29uZmlndXJhYmxlLiBGb3IgdGhpcyByZWFzb24sIHdlIGNyZWF0ZSBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgICAgLy8gcHJvdG90eXBlIHNldCB0byBgdGFyZ2V0YCBpbnN0ZWFkIG9mIHVzaW5nIGB0YXJnZXRgIGRpcmVjdGx5LlxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgY2Fubm90IHJldHVybiBhIGN1c3RvbSBvYmplY3QgZm9yIEFQSXMgdGhhdFxuICAgICAgICAvLyBhcmUgZGVjbGFyZWQgcmVhZC1vbmx5IGFuZCBub24tY29uZmlndXJhYmxlLCBzdWNoIGFzIGBjaHJvbWUuZGV2dG9vbHNgLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgcHJveHkgaGFuZGxlcnMgdGhlbXNlbHZlcyB3aWxsIHN0aWxsIHVzZSB0aGUgb3JpZ2luYWwgYHRhcmdldGBcbiAgICAgICAgLy8gaW5zdGVhZCBvZiB0aGUgYHByb3h5VGFyZ2V0YCwgc28gdGhhdCB0aGUgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBhcmVcbiAgICAgICAgLy8gZGVyZWZlcmVuY2VkIHZpYSB0aGUgb3JpZ2luYWwgdGFyZ2V0cy5cblxuICAgICAgICBsZXQgcHJveHlUYXJnZXQgPSBPYmplY3QuY3JlYXRlKHRhcmdldCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkocHJveHlUYXJnZXQsIGhhbmRsZXJzKTtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYSBzZXQgb2Ygd3JhcHBlciBmdW5jdGlvbnMgZm9yIGFuIGV2ZW50IG9iamVjdCwgd2hpY2ggaGFuZGxlc1xuICAgICAgICogd3JhcHBpbmcgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRoYXQgdGhvc2UgbWVzc2FnZXMgYXJlIHBhc3NlZC5cbiAgICAgICAqXG4gICAgICAgKiBBIHNpbmdsZSB3cmFwcGVyIGlzIGNyZWF0ZWQgZm9yIGVhY2ggbGlzdGVuZXIgZnVuY3Rpb24sIGFuZCBzdG9yZWQgaW4gYVxuICAgICAgICogbWFwLiBTdWJzZXF1ZW50IGNhbGxzIHRvIGBhZGRMaXN0ZW5lcmAsIGBoYXNMaXN0ZW5lcmAsIG9yIGByZW1vdmVMaXN0ZW5lcmBcbiAgICAgICAqIHJldHJpZXZlIHRoZSBvcmlnaW5hbCB3cmFwcGVyLCBzbyB0aGF0ICBhdHRlbXB0cyB0byByZW1vdmUgYVxuICAgICAgICogcHJldmlvdXNseS1hZGRlZCBsaXN0ZW5lciB3b3JrIGFzIGV4cGVjdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RGVmYXVsdFdlYWtNYXA8ZnVuY3Rpb24sIGZ1bmN0aW9uPn0gd3JhcHBlck1hcFxuICAgICAgICogICAgICAgIEEgRGVmYXVsdFdlYWtNYXAgb2JqZWN0IHdoaWNoIHdpbGwgY3JlYXRlIHRoZSBhcHByb3ByaWF0ZSB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgZm9yIGEgZ2l2ZW4gbGlzdGVuZXIgZnVuY3Rpb24gd2hlbiBvbmUgZG9lcyBub3QgZXhpc3QsIGFuZCByZXRyaWV2ZVxuICAgICAgICogICAgICAgIGFuIGV4aXN0aW5nIG9uZSB3aGVuIGl0IGRvZXMuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBFdmVudCA9IHdyYXBwZXJNYXAgPT4gKHtcbiAgICAgICAgYWRkTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lciwgLi4uYXJncykge1xuICAgICAgICAgIHRhcmdldC5hZGRMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lciksIC4uLmFyZ3MpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhhc0xpc3RlbmVyKHRhcmdldCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0Lmhhc0xpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lcikge1xuICAgICAgICAgIHRhcmdldC5yZW1vdmVMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lcikpO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvblJlcXVlc3RGaW5pc2hlZFdyYXBwZXJzID0gbmV3IERlZmF1bHRXZWFrTWFwKGxpc3RlbmVyID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwcyBhbiBvblJlcXVlc3RGaW5pc2hlZCBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IHdpbGwgcmV0dXJuIGFcbiAgICAgICAgICogYGdldENvbnRlbnQoKWAgcHJvcGVydHkgd2hpY2ggcmV0dXJucyBhIGBQcm9taXNlYCByYXRoZXIgdGhhbiB1c2luZyBhXG4gICAgICAgICAqIGNhbGxiYWNrIEFQSS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgICAgICAgKiAgICAgICAgVGhlIEhBUiBlbnRyeSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBuZXR3b3JrIHJlcXVlc3QuXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9uUmVxdWVzdEZpbmlzaGVkKHJlcSkge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRSZXEgPSB3cmFwT2JqZWN0KHJlcSwge31cbiAgICAgICAgICAvKiB3cmFwcGVycyAqL1xuICAgICAgICAgICwge1xuICAgICAgICAgICAgZ2V0Q29udGVudDoge1xuICAgICAgICAgICAgICBtaW5BcmdzOiAwLFxuICAgICAgICAgICAgICBtYXhBcmdzOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGlzdGVuZXIod3JhcHBlZFJlcSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG9uTWVzc2FnZVdyYXBwZXJzID0gbmV3IERlZmF1bHRXZWFrTWFwKGxpc3RlbmVyID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwcyBhIG1lc3NhZ2UgbGlzdGVuZXIgZnVuY3Rpb24gc28gdGhhdCBpdCBtYXkgc2VuZCByZXNwb25zZXMgYmFzZWQgb25cbiAgICAgICAgICogaXRzIHJldHVybiB2YWx1ZSwgcmF0aGVyIHRoYW4gYnkgcmV0dXJuaW5nIGEgc2VudGluZWwgdmFsdWUgYW5kIGNhbGxpbmcgYVxuICAgICAgICAgKiBjYWxsYmFjay4gSWYgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHJldHVybnMgYSBQcm9taXNlLCB0aGUgcmVzcG9uc2UgaXNcbiAgICAgICAgICogc2VudCB3aGVuIHRoZSBwcm9taXNlIGVpdGhlciByZXNvbHZlcyBvciByZWplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0geyp9IG1lc3NhZ2VcbiAgICAgICAgICogICAgICAgIFRoZSBtZXNzYWdlIHNlbnQgYnkgdGhlIG90aGVyIGVuZCBvZiB0aGUgY2hhbm5lbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHNlbmRlclxuICAgICAgICAgKiAgICAgICAgRGV0YWlscyBhYm91dCB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlLlxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSBzZW5kUmVzcG9uc2VcbiAgICAgICAgICogICAgICAgIEEgY2FsbGJhY2sgd2hpY2gsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJiaXRyYXJ5IGFyZ3VtZW50LCBzZW5kc1xuICAgICAgICAgKiAgICAgICAgdGhhdCB2YWx1ZSBhcyBhIHJlc3BvbnNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgICAgICogICAgICAgIFRydWUgaWYgdGhlIHdyYXBwZWQgbGlzdGVuZXIgcmV0dXJuZWQgYSBQcm9taXNlLCB3aGljaCB3aWxsIGxhdGVyXG4gICAgICAgICAqICAgICAgICB5aWVsZCBhIHJlc3BvbnNlLiBGYWxzZSBvdGhlcndpc2UuXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9uTWVzc2FnZShtZXNzYWdlLCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuICAgICAgICAgIGxldCBkaWRDYWxsU2VuZFJlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgICAgbGV0IHdyYXBwZWRTZW5kUmVzcG9uc2U7XG4gICAgICAgICAgbGV0IHNlbmRSZXNwb25zZVByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRTZW5kUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgZGlkQ2FsbFNlbmRSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGxpc3RlbmVyKG1lc3NhZ2UsIHNlbmRlciwgd3JhcHBlZFNlbmRSZXNwb25zZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzUmVzdWx0VGhlbmFibGUgPSByZXN1bHQgIT09IHRydWUgJiYgaXNUaGVuYWJsZShyZXN1bHQpOyAvLyBJZiB0aGUgbGlzdGVuZXIgZGlkbid0IHJldHVybmVkIHRydWUgb3IgYSBQcm9taXNlLCBvciBjYWxsZWRcbiAgICAgICAgICAvLyB3cmFwcGVkU2VuZFJlc3BvbnNlIHN5bmNocm9ub3VzbHksIHdlIGNhbiBleGl0IGVhcmxpZXJcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZXJlIHdpbGwgYmUgbm8gcmVzcG9uc2Ugc2VudCBmcm9tIHRoaXMgbGlzdGVuZXIuXG5cbiAgICAgICAgICBpZiAocmVzdWx0ICE9PSB0cnVlICYmICFpc1Jlc3VsdFRoZW5hYmxlICYmICFkaWRDYWxsU2VuZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSAvLyBBIHNtYWxsIGhlbHBlciB0byBzZW5kIHRoZSBtZXNzYWdlIGlmIHRoZSBwcm9taXNlIHJlc29sdmVzXG4gICAgICAgICAgLy8gYW5kIGFuIGVycm9yIGlmIHRoZSBwcm9taXNlIHJlamVjdHMgKGEgd3JhcHBlZCBzZW5kTWVzc2FnZSBoYXNcbiAgICAgICAgICAvLyB0byB0cmFuc2xhdGUgdGhlIG1lc3NhZ2UgaW50byBhIHJlc29sdmVkIHByb21pc2Ugb3IgYSByZWplY3RlZFxuICAgICAgICAgIC8vIHByb21pc2UpLlxuXG5cbiAgICAgICAgICBjb25zdCBzZW5kUHJvbWlzZWRSZXN1bHQgPSBwcm9taXNlID0+IHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihtc2cgPT4ge1xuICAgICAgICAgICAgICAvLyBzZW5kIHRoZSBtZXNzYWdlIHZhbHVlLlxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UobXNnKTtcbiAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgLy8gU2VuZCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGVycm9yIGlmIHRoZSByZWplY3RlZCB2YWx1ZVxuICAgICAgICAgICAgICAvLyBpcyBhbiBpbnN0YW5jZSBvZiBlcnJvciwgb3IgdGhlIG9iamVjdCBpdHNlbGYgb3RoZXJ3aXNlLlxuICAgICAgICAgICAgICBsZXQgbWVzc2FnZTtcblxuICAgICAgICAgICAgICBpZiAoZXJyb3IgJiYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgfHwgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICBfX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X186IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIC8vIFByaW50IGFuIGVycm9yIG9uIHRoZSBjb25zb2xlIGlmIHVuYWJsZSB0byBzZW5kIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZW5kIG9uTWVzc2FnZSByZWplY3RlZCByZXBseVwiLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTsgLy8gSWYgdGhlIGxpc3RlbmVyIHJldHVybmVkIGEgUHJvbWlzZSwgc2VuZCB0aGUgcmVzb2x2ZWQgdmFsdWUgYXMgYVxuICAgICAgICAgIC8vIHJlc3VsdCwgb3RoZXJ3aXNlIHdhaXQgdGhlIHByb21pc2UgcmVsYXRlZCB0byB0aGUgd3JhcHBlZFNlbmRSZXNwb25zZVxuICAgICAgICAgIC8vIGNhbGxiYWNrIHRvIHJlc29sdmUgYW5kIHNlbmQgaXQgYXMgYSByZXNwb25zZS5cblxuXG4gICAgICAgICAgaWYgKGlzUmVzdWx0VGhlbmFibGUpIHtcbiAgICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZW5kUHJvbWlzZWRSZXN1bHQoc2VuZFJlc3BvbnNlUHJvbWlzZSk7XG4gICAgICAgICAgfSAvLyBMZXQgQ2hyb21lIGtub3cgdGhhdCB0aGUgbGlzdGVuZXIgaXMgcmVwbHlpbmcuXG5cblxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrID0gKHtcbiAgICAgICAgcmVqZWN0LFxuICAgICAgICByZXNvbHZlXG4gICAgICB9LCByZXBseSkgPT4ge1xuICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgIC8vIERldGVjdCB3aGVuIG5vbmUgb2YgdGhlIGxpc3RlbmVycyByZXBsaWVkIHRvIHRoZSBzZW5kTWVzc2FnZSBjYWxsIGFuZCByZXNvbHZlXG4gICAgICAgICAgLy8gdGhlIHByb21pc2UgdG8gdW5kZWZpbmVkIGFzIGluIEZpcmVmb3guXG4gICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3dlYmV4dGVuc2lvbi1wb2x5ZmlsbC9pc3N1ZXMvMTMwXG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSA9PT0gQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFKSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvci5tZXNzYWdlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcGx5ICYmIHJlcGx5Ll9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXykge1xuICAgICAgICAgIC8vIENvbnZlcnQgYmFjayB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3IgaW50b1xuICAgICAgICAgIC8vIGFuIEVycm9yIGluc3RhbmNlLlxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IocmVwbHkubWVzc2FnZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUocmVwbHkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB3cmFwcGVkU2VuZE1lc3NhZ2UgPSAobmFtZSwgbWV0YWRhdGEsIGFwaU5hbWVzcGFjZU9iaiwgLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAke21ldGFkYXRhLm1pbkFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1pbkFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IG1vc3QgJHttZXRhZGF0YS5tYXhBcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5tYXhBcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRDYiA9IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrLmJpbmQobnVsbCwge1xuICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFyZ3MucHVzaCh3cmFwcGVkQ2IpO1xuICAgICAgICAgIGFwaU5hbWVzcGFjZU9iai5zZW5kTWVzc2FnZSguLi5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzdGF0aWNXcmFwcGVycyA9IHtcbiAgICAgICAgZGV2dG9vbHM6IHtcbiAgICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgICBvblJlcXVlc3RGaW5pc2hlZDogd3JhcEV2ZW50KG9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBydW50aW1lOiB7XG4gICAgICAgICAgb25NZXNzYWdlOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIG9uTWVzc2FnZUV4dGVybmFsOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgICBtYXhBcmdzOiAzXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgdGFiczoge1xuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIG1pbkFyZ3M6IDIsXG4gICAgICAgICAgICBtYXhBcmdzOiAzXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHNldHRpbmdNZXRhZGF0YSA9IHtcbiAgICAgICAgY2xlYXI6IHtcbiAgICAgICAgICBtaW5BcmdzOiAxLFxuICAgICAgICAgIG1heEFyZ3M6IDFcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICBtYXhBcmdzOiAxXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgbWF4QXJnczogMVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYXBpTWV0YWRhdGEucHJpdmFjeSA9IHtcbiAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgIFwiKlwiOiBzZXR0aW5nTWV0YWRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgc2VydmljZXM6IHtcbiAgICAgICAgICBcIipcIjogc2V0dGluZ01ldGFkYXRhXG4gICAgICAgIH0sXG4gICAgICAgIHdlYnNpdGVzOiB7XG4gICAgICAgICAgXCIqXCI6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHdyYXBPYmplY3QoZXh0ZW5zaW9uQVBJcywgc3RhdGljV3JhcHBlcnMsIGFwaU1ldGFkYXRhKTtcbiAgICB9OyAvLyBUaGUgYnVpbGQgcHJvY2VzcyBhZGRzIGEgVU1EIHdyYXBwZXIgYXJvdW5kIHRoaXMgZmlsZSwgd2hpY2ggbWFrZXMgdGhlXG4gICAgLy8gYG1vZHVsZWAgdmFyaWFibGUgYXZhaWxhYmxlLlxuXG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHdyYXBBUElzKGNocm9tZSk7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxUaGlzLmJyb3dzZXI7XG4gIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci1wb2x5ZmlsbC5qcy5tYXBcbiIsImV4cG9ydCB0eXBlIFNpdGVDb25maWdNZXRob2QgPSBcIkV4YWN0XCIgfCBcIlByZWZpeFwiIHwgXCJSZWdleFwiO1xuZXhwb3J0IHR5cGUgU2l0ZUNvbmZpZ1RhcmdldCA9IFwiRG9tYWluXCIgfCBcIkhvc3RcIiB8IFwiUGFnZVwiO1xuZXhwb3J0IHR5cGUgU2l0ZUNvbmZpZ05vZGVUeXBlID0gXCJNaWdyYXRpb25cIiB8IFwiVXNlclwiIHwgXCJEZWZhdWx0XCIgfCBcIkF1dG9cIjtcblxuZXhwb3J0IGNsYXNzIEZvcm1NYXRjaENvbmZpZyB7XG4gICAgZm9ybT86IHtcbiAgICAgICAgbmFtZXM/OiBzdHJpbmdbXTtcbiAgICAgICAgaWRzPzogc3RyaW5nW107XG4gICAgfTtcbiAgICBmaWVsZHM/OiB7XG4gICAgICAgIG5hbWVzPzogc3RyaW5nW107XG4gICAgICAgIGlkcz86IHN0cmluZ1tdO1xuICAgIH07XG4gICAgcXVlcnlTZWxlY3RvcnM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFNpdGVDb25maWcge1xuICAgIHdoaXRlTGlzdD86IEZvcm1NYXRjaENvbmZpZztcbiAgICBibGFja0xpc3Q/OiBGb3JtTWF0Y2hDb25maWc7XG4gICAgcHJldmVudFNhdmVOb3RpZmljYXRpb24/OiBib29sZWFuO1xuICAgIGxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmU/OiBib29sZWFuO1xuICAgIHByZWZlcnJlZEVudHJ5VXVpZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFNpdGVDb25maWdOb2RlIHtcbiAgICBjb25maWc6IFNpdGVDb25maWc7XG4gICAgbWF0Y2hXZWlnaHQ6IG51bWJlcjsgLy8gaGVscCB0byBkZWNpZGUgd2hpY2ggY29uZmlnIHRvIHVzZSB3aGVuIG1vcmUgdGhhbiBvbmUgbWF0Y2hlcyBjdXJyZW50IFVSTFxuICAgIHNvdXJjZTogU2l0ZUNvbmZpZ05vZGVUeXBlO1xufVxuXG5leHBvcnQgY2xhc3MgU2l0ZUNvbmZpZ0xvb2t1cCB7XG4gICAgW2tleTogc3RyaW5nXTogU2l0ZUNvbmZpZ05vZGU7XG59XG5cbmV4cG9ydCBjbGFzcyBTaXRlQ29uZmlnSW5kZXgge1xuICAgIGRvbWFpblJlZ2V4PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBkb21haW5FeGFjdD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgZG9tYWluUHJlZml4PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBob3N0UmVnZXg/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIGhvc3RFeGFjdD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgaG9zdFByZWZpeD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgcGFnZVJlZ2V4PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBwYWdlRXhhY3Q/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIHBhZ2VQcmVmaXg6IFNpdGVDb25maWdMb29rdXA7XG59XG5cbmV4cG9ydCBjbGFzcyBDb25maWcge1xuICAgIGF1dG9GaWxsRGlhbG9nczogYm9vbGVhbjtcbiAgICBhdXRvRmlsbEZvcm1zOiBib29sZWFuO1xuICAgIGF1dG9GaWxsRm9ybXNXaXRoTXVsdGlwbGVNYXRjaGVzOiBib29sZWFuO1xuICAgIGF1dG9TdWJtaXRGb3JtczogYm9vbGVhbjtcbiAgICBhdXRvU3VibWl0RGlhbG9nczogYm9vbGVhbjtcbiAgICBhdXRvU3VibWl0TWF0Y2hlZEZvcm1zOiBib29sZWFuO1xuICAgIGNvbm5TTENsaWVudDogbnVtYmVyO1xuICAgIGNvbm5TTFNlcnZlck1pbjogbnVtYmVyO1xuICAgIGtlZVBhc3NEQlRvT3Blbjogc3RyaW5nO1xuICAgIGtlZVBhc3NNUlVEQjogc3RyaW5nO1xuICAgIEtlZVBhc3NSUENXZWJTb2NrZXRQb3J0OiBudW1iZXI7XG4gICAgS1BSUENVc2VybmFtZTogc3RyaW5nO1xuICAgIEtQUlBDU3RvcmVkS2V5czogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICBsYXN0Q29ubmVjdGVkVG9LZWVQYXNzOiBzdHJpbmc7XG4gICAgbGlzdEFsbE9wZW5EQnM6IGJvb2xlYW47XG4gICAgbG9nTGV2ZWw6IG51bWJlcjtcbiAgICBsb2dNZXRob2RDb25zb2xlOiBib29sZWFuO1xuICAgIGxvZ01ldGhvZEZpbGU6IGJvb2xlYW47XG4gICAgbG9nU2Vuc2l0aXZlRGF0YTogYm9vbGVhbjtcbiAgICBtZXRyaWNzVXNhZ2VEaXNhYmxlZDogYm9vbGVhbjtcbiAgICBtZXRyaWNzVXNlcklkOiBzdHJpbmc7XG4gICAgbXJ1R3JvdXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgbm90aWZ5V2hlbkVudHJ5VXBkYXRlZDogYm9vbGVhbjtcbiAgICBub3RpZnlXaGVuTGF0ZURpc2NvdmVyeTogYm9vbGVhbjtcbiAgICBub3RpZnlXaGVuTG9nZ2VkT3V0OiBib29sZWFuO1xuICAgIG92ZXJXcml0ZUZpZWxkc0F1dG9tYXRpY2FsbHk6IGJvb2xlYW47IC8vIGRlcHJlY2F0ZWRcbiAgICByZW1lbWJlck1SVURCOiBib29sZWFuO1xuICAgIHJlbWVtYmVyTVJVR3JvdXA6IGJvb2xlYW47XG4gICAgc2F2ZUZhdmljb25zOiBib29sZWFuO1xuICAgIHNlYXJjaEFsbE9wZW5EQnM6IGJvb2xlYW47XG4gICAgc2l0ZUNvbmZpZzogU2l0ZUNvbmZpZ0luZGV4O1xuICAgIGNvbmZpZzogeyB1cmw6IHN0cmluZzsgY29uZmlnOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9W107XG4gICAgdHV0b3JpYWxQcm9ncmVzczogc3RyaW5nO1xuICAgIHZlcnNpb246IG51bWJlcjsgLy8gZGVmYXVsdCBpcyBpbmNyZW1lbnRlZCB3aGVuIGNoYW5nZXMgYXJlIGludHJvZHVjZWQgdGhhdCByZXF1aXJlIGRhdGEgbWlncmF0aW9uXG4gICAgdHJpZ2dlckNoYW5nZUlucHV0RXZlbnRBZnRlckZpbGw6IGJvb2xlYW47XG4gICAgYXV0b1N1Ym1pdE5ldHdvcmtBdXRoV2l0aFNpbmdsZU1hdGNoOiBib29sZWFuO1xuICAgIHNlYXJjaE5ldHdvcmtBdXRoOiBib29sZWFuO1xuICAgIHBvcnRDb25uZWN0aW9uRGVsYXk6IG51bWJlcjsgLy8gZGVwcmVjYXRlZFxuICAgIG5vdGlmaWNhdGlvbkNvdW50R2VuZXJpYzogbnVtYmVyO1xuICAgIG5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkOiBudW1iZXI7XG4gICAgY3VycmVudFNlYXJjaFRlcm1UaW1lb3V0OiBudW1iZXI7XG4gICAgbm90aWZ5UGFzc3dvcmRBdmFpbGFibGVGb3JQYXN0ZTogYm9vbGVhbjtcbiAgICBhbmltYXRlV2hlbk9mZmVyaW5nU2F2ZTogYm9vbGVhbjtcbiAgICBrZWVWYXVsdExhdW5jaE1lc3NhZ2VEaXNtaXNzZWQ6IGJvb2xlYW47XG4gICAga2VlVmF1bHRMYXVuY2hTdGFydDogbnVtYmVyO1xuICAgIGtlZVZhdWx0TGF1bmNoRW5kOiBudW1iZXI7XG4gICAgbWFudWFsU3VibWl0T3ZlcnJpZGVQcm9oaWJpdGVkOiBib29sZWFuO1xuICAgIHRoZW1lOiBzdHJpbmc7XG4gICAgaGlkZUNvbmZpcm1hdGlvbkFmdGVyU2F2ZTogYm9vbGVhbjtcbiAgICBtdXN0U2hvd1JlbGVhc2VOb3Rlc0F0U3RhcnR1cDogYm9vbGVhbjtcbiAgICBhdXRvRmlsbEZpZWxkc1dpdGhFeGlzdGluZ1ZhbHVlOiBib29sZWFuO1xufVxuIiwiaW1wb3J0IHsgU2l0ZUNvbmZpZ0luZGV4LCBTaXRlQ29uZmlnTG9va3VwIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0U2l0ZUNvbmZpZyA9IG5ldyBTaXRlQ29uZmlnSW5kZXgoKTtcbmRlZmF1bHRTaXRlQ29uZmlnLnBhZ2VSZWdleCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG5cbmRlZmF1bHRTaXRlQ29uZmlnLnBhZ2VSZWdleFtcIl4uKiRcIl0gPSB7XG4gICAgY29uZmlnOiB7XG4gICAgICAgIC8qIFRPRE86NDogPyBJbiBmdXR1cmUgd2UgY2FuIGdpdmUgZmluZXIgY29udHJvbCBvZiBmb3JtIHJlc2Nhbm5pbmcgYmVoYXZpb3VyIGZyb20gaGVyZVxuICAgICAgICAgICAgcmVzY2FuRE9NZXZlbnRzOlxuICAgICAgICAgICAgW3tcblxuICAgICAgICAgICAgICAgIC8vIC9odG1sL2JvZHkvZGl2WzNdL2Rpdi9oMS9zbWFsbFxuXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjbGlja1wiIHwgXCJtdXRhdGlvblwiIHwgXCJob3ZlclwiIHwgZXRjLFxuICAgICAgICAgICAgICAgIHhwYXRoOiBcIi9odG1sL2JvZHkvZGl2WzNdL2Rpdi9oMS9zbWFsbFwiLCAvLyB3ZSBzaG91bGQgZG8gYSBzYW5pdHkgY2hlY2sgb24gcmV0dXJuZWQgaXRlbXMgYW5kIGxpbWl0IHRvIG1heCBvZiB+YSBodW5kcmVkIERPTSBub2Rlc1xuICAgICAgICAgICAgICAgIGlkOiBcInNvbWVJRFwiLFxuICAgICAgICAgICAgICAgIC8vc29tZXRoaW5nIGVsc2UgdG8gbGltaXQgbXV0YXRpb24gZXZlbnRzIHRvIGNyZWF0ZSBvbmUgKGUuZy4gY3JlYXRpb24gb2YgbmV3IGNoaWxkIGl0ZW0gbWF0Y2hpbmcgY2VydGFpbiB4cGF0aD8gZXRjLilcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgKi9cblxuICAgICAgICBwcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbjogZmFsc2UsXG4gICAgICAgIGxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmU6IGZhbHNlLFxuXG4gICAgICAgIC8qXG4gICAgICAgICAgICAgICAgRm9ybXMgd2lsbCBiZSBzY2FubmVkIGlmZiB0aGV5IGhhdmUgYSBwYXNzd29yZCAodHlwZSkgZmllbGRcbiAgICAgICAgICAgICAgICBVTkxFU1Mgb25lIG9mIHRoZSBpbnRlcmVzdGluZ0Zvcm1zIGFycmF5cyBtYXRjaGVzIHRoZSBmb3JtIGluIHF1ZXN0aW9uLlxuICAgICAgICAgICAgICAgIEFsbCAodyloaXRlbGlzdHMgd2lsbCBmb3JjZSB0aGUgZm9ybSB0byBiZSBzY2FubmVkIGZvciBtYXRjaGluZyBwYXNzd29yZHMuXG4gICAgICAgICAgICAgICAgKGIpbGFja2xpc3RzIHdpbGwgcHJldmVudCB0aGUgZm9ybSBiZWluZyBzY2FubmVkLlxuICAgICAgICAgICAgICAgIChiKWxhY2tsaXN0cyBoYXZlIHByaW9yaXR5IG92ZXIgd2hpdGVsaXN0cyBvZiB0aGUgc2FtZSB0eXBlIGJ1dCB0aGUgcHJpb3JpdGllc1xuICAgICAgICAgICAgICAgIG9mIGRpZmZlcmVudCB0eXBlcyBvZiBjaGVjayBhcmUgdW5kZWZpbmVkIGhlcmUgLSB5b3UnbGwgaGF2ZSB0byBsb29rIGF0IHRoZVxuICAgICAgICAgICAgICAgIGJlaGF2aW91ciBvZiB0aGUgZm9ybSBtYXRjaGluZyBjb2RlIHdoaWNoIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAgICAgICAgICAgICovXG4gICAgICAgIGJsYWNrTGlzdDoge1xuICAgICAgICAgICAgZm9ybTogeyBuYW1lczogW1wic2VhcmNoXCJdLCBpZHM6IFtcInNlYXJjaFwiXSB9LFxuICAgICAgICAgICAgZmllbGRzOiB7IG5hbWVzOiBbXCJzZWFyY2hcIiwgXCJxXCIsIFwicXVlcnlcIl0sIGlkczogW1wic2VhcmNoXCIsIFwicVwiXSB9XG4gICAgICAgIH0sXG4gICAgICAgIHdoaXRlTGlzdDoge1xuICAgICAgICAgICAgZm9ybTogeyBuYW1lczogW1wibG9naW5cIl0sIGlkczogW1wibG9naW5cIl0gfSxcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIG5hbWVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJqX3VzZXJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXItbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmJfbG9naW5fdXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlciBuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlciBpZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXItaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcImUtbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcImlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybV9sb2dpbm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ3cG5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luIGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5fbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm9wZW5pZF9pZGVudGlmaWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aGVudGljYXRpb25fZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvcGVuaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoX2VtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aF9pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhlbnRpY2F0aW9uX2lkZW50aWZpZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoZW50aWNhdGlvbl9pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImN1c3RvbWVyX251bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICBcImN1c3RvbWVybnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib25saW5laWRcIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgaWRzOiBbXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJqX3VzZXJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXItbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmJfbG9naW5fdXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlci1pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJpZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImVtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZS1tYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtX2xvZ2lubmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIndwbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbmlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5fbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm9wZW5pZF9pZGVudGlmaWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aGVudGljYXRpb25fZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvcGVuaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoX2VtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aF9pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhlbnRpY2F0aW9uX2lkZW50aWZpZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoZW50aWNhdGlvbl9pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImN1c3RvbWVyX251bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICBcImN1c3RvbWVybnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib25saW5laWRcIlxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcHJlZmVycmVkRW50cnlVdWlkOiBudWxsXG4gICAgfSxcbiAgICBtYXRjaFdlaWdodDogMCxcbiAgICBzb3VyY2U6IFwiRGVmYXVsdFwiXG59O1xuIiwiaW1wb3J0IHsgU2l0ZUNvbmZpZywgQ29uZmlnLCBTaXRlQ29uZmlnTG9va3VwLCBTaXRlQ29uZmlnSW5kZXggfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IGRlZmF1bHRTaXRlQ29uZmlnIH0gZnJvbSBcIi4vRGVmYXVsdFNpdGVDb25maWdcIjtcblxuZXhwb3J0IGNsYXNzIENvbmZpZ01pZ3JhdGlvbnMge1xuICAgIHB1YmxpYyBtaWdyYXRlVG9WZXJzaW9uOChjdXJyZW50OiBDb25maWcpIHtcbiAgICAgICAgLy8gVGhpcyBpc24ndCByZWxpYWJsZSBkdWUgdG8gc3luYyBzbyB3ZSd2ZSBkZXByZWNhdGVkIHRoZSBzZXR0aW5nXG4gICAgICAgIC8vIGFuZCBjcmVhdGVkIGEgbmV3IG9uZSB0aGF0IHJlcXVpcmVzIG5vIG1pZ3JhdGlvblxuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIG92ZXJXcml0ZUZpZWxkc0F1dG9tYXRpY2FsbHk6IGZhbHNlLFxuICAgICAgICAgICAgdmVyc2lvbjogOFxuICAgICAgICB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb243KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBpZiAoY3VycmVudC5ub3RpZmljYXRpb25Db3VudFNhdmVQYXNzd29yZCA+IDYpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudCwge1xuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkOiA2LFxuICAgICAgICAgICAgICAgIHZlcnNpb246IDdcbiAgICAgICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudCwgeyB2ZXJzaW9uOiA3IH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBtaWdyYXRlVG9WZXJzaW9uNihjdXJyZW50OiBDb25maWcpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7XG4gICAgICAgICAgICBhbmltYXRlV2hlbk9mZmVyaW5nU2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZlcnNpb246IDZcbiAgICAgICAgfSBhcyBQYXJ0aWFsPENvbmZpZz4pO1xuICAgIH1cblxuICAgIHB1YmxpYyBtaWdyYXRlVG9WZXJzaW9uNShjdXJyZW50OiBDb25maWcpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7XG4gICAgICAgICAgICBub3RpZnlQYXNzd29yZEF2YWlsYWJsZUZvclBhc3RlOiB0cnVlLFxuICAgICAgICAgICAgdmVyc2lvbjogNVxuICAgICAgICB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb240KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBsZXQgbmV3TG9nTGV2ZWwgPSAyO1xuICAgICAgICBpZiAoY3VycmVudC5sb2dMZXZlbCA9PT0gMSkge1xuICAgICAgICAgICAgbmV3TG9nTGV2ZWwgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7IGxvZ0xldmVsOiBuZXdMb2dMZXZlbCwgdmVyc2lvbjogNCB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb24zKGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBpZiAoY3VycmVudC5ub3RpZmljYXRpb25Db3VudEdlbmVyaWMgPT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudC5ub3RpZmljYXRpb25Db3VudEdlbmVyaWMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50Lm5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkID09IG51bGwpIHtcbiAgICAgICAgICAgIGN1cnJlbnQubm90aWZpY2F0aW9uQ291bnRTYXZlUGFzc3dvcmQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7XG4gICAgICAgICAgICBjdXJyZW50U2VhcmNoVGVybVRpbWVvdXQ6IDMwLFxuICAgICAgICAgICAgdmVyc2lvbjogM1xuICAgICAgICB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb24yKGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBsZXQgbmV3U2l0ZUNvbmZpZyA9IG5ldyBTaXRlQ29uZmlnSW5kZXgoKTtcblxuICAgICAgICBpZiAoIWN1cnJlbnQuY29uZmlnIHx8IGN1cnJlbnQuY29uZmlnLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBuZXdTaXRlQ29uZmlnID0gZGVmYXVsdFNpdGVDb25maWc7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbmV3U2l0ZUNvbmZpZy5wYWdlUmVnZXggPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICBuZXdTaXRlQ29uZmlnLmhvc3RFeGFjdCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgIG5ld1NpdGVDb25maWcucGFnZVByZWZpeCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG5cbiAgICAgICAgbmV3U2l0ZUNvbmZpZy5wYWdlUmVnZXhbXCJeLiokXCJdID0ge1xuICAgICAgICAgICAgbWF0Y2hXZWlnaHQ6IDAsXG4gICAgICAgICAgICBjb25maWc6IHRoaXMubWlncmF0ZUluZGl2aWR1YWxTaXRlQ29uZmlnU2V0dGluZ3NUb1YyKGN1cnJlbnQuY29uZmlnWzBdLmNvbmZpZyksXG4gICAgICAgICAgICBzb3VyY2U6IFwiTWlncmF0aW9uXCJcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKFxuICAgICAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICAgICAgaSA8IGN1cnJlbnQuY29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgIGkrKyAvLyBza2lwIGZpcnN0IHdoaWNoIGlzIGFsd2F5cyBcIipcIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGN1cnJlbnQuY29uZmlnW2ldLnVybDtcbiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZihcIjovL1wiKSA9PSAtMSkgY29udGludWU7IC8vIGludmFsaWQgZGF0YSBmcm9tIG9sZCBjb25maWdcbiAgICAgICAgICAgIGNvbnN0IHdpdGhvdXRQcm90b2NvbCA9IHVybC5zdWJzdHIodXJsLmluZGV4T2YoXCI6Ly9cIikgKyAzKTtcbiAgICAgICAgICAgIGlmICh3aXRob3V0UHJvdG9jb2wubGVuZ3RoIDw9IDEpIGNvbnRpbnVlOyAvLyBpbnZhbGlkIGRhdGEgZnJvbSBvbGQgY29uZmlnXG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHRoaXMubWlncmF0ZUluZGl2aWR1YWxTaXRlQ29uZmlnU2V0dGluZ3NUb1YyKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQuY29uZmlnW2ldLmNvbmZpZ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aEluZGV4ID0gd2l0aG91dFByb3RvY29sLmluZGV4T2YoXCIvXCIpO1xuXG4gICAgICAgICAgICBpZiAocGF0aEluZGV4ID4gLTEgfHwgcGF0aEluZGV4ID09IHdpdGhvdXRQcm90b2NvbC5sYXN0SW5kZXhPZihcIi9cIikpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmluZyB0cmFpbGluZyBzbGFzaCBpZiB3ZSBoYXZlIG9ubHkgYSBob3N0IG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBob3N0ID1cbiAgICAgICAgICAgICAgICAgICAgcGF0aEluZGV4ID4gLTEgPyB3aXRob3V0UHJvdG9jb2wuc3Vic3RyKDAsIHBhdGhJbmRleCkgOiB3aXRob3V0UHJvdG9jb2w7XG5cbiAgICAgICAgICAgICAgICAvLyBVc2VyIG1heSBoYXZlIGNvbmZpZ3VyZWQgYSBwcmVmaXggbWF0Y2ggaW4gS2VlRm94IDEueCBidXQgaXQncyBub3QgYW4gZXNwZWNpYWxseSB1c2VmdWxcbiAgICAgICAgICAgICAgICAvLyBiZWhhdmlvdXIgYW5kIGhhcyBwb3RlbnRpYWwgdG8gYmUgdW5zYWZlIGluIGZ1dHVyZSBzbyB3ZSBjb252ZXJ0IGFsbCB0byBleGFjdCBtYXRjaGVzIG5vd1xuICAgICAgICAgICAgICAgIG5ld1NpdGVDb25maWcuaG9zdEV4YWN0W2hvc3RdID0ge1xuICAgICAgICAgICAgICAgICAgICBjb25maWc6IG5ld0NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hXZWlnaHQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBcIk1pZ3JhdGlvblwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCBpbmNyZWFzaW5nIHdlaWdodCB1bnRpbCB3ZSBmaW5kIG5vIG90aGVyIHNob3J0ZXIgZXhpc3RpbmcgZW50cmllcy4gVGhpcyBhc3N1bWVzIG9yZGVyaW5nIGJ5IGxlbmd0aFxuICAgICAgICAgICAgICAgIC8vIGluIHRoZSBvcmlnaW5hbCBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHRyYW5zZmVycmVkIHRvIHRoZSBuZXcgY29uZmlnIGluIHNhbWUgb3JkZXJcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBpc24ndCBjb21wbGV0ZWx5IHNhZmUgYnV0IG9ubHkgYmVjYXVzZSBvZiBidWdzIGluIEtlZUZveCAxLnggd2hpY2ggbWF5IGhhdmUgYWZmZWN0ZWQgZGF0YSBpbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAvLyBpbiBvbmUgb3IgdHdvIHJhcmUgY2FzZXMgYW5kIHdoaWNoIHdlIGNhbiBubyBsb25nZXIgZml4IHJlbGlhYmx5IGFueXdheS5cbiAgICAgICAgICAgICAgICBsZXQgd2VpZ2h0ID0gMjAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFnZVByZWZpeCBpbiBuZXdTaXRlQ29uZmlnLnBhZ2VQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpdGhvdXRQcm90b2NvbC5zdGFydHNXaXRoKHBhZ2VQcmVmaXgpKSB3ZWlnaHQrKztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBuZXdTaXRlQ29uZmlnLnBhZ2VQcmVmaXhbd2l0aG91dFByb3RvY29sXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBuZXdDb25maWcsXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoV2VpZ2h0OiB3ZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogXCJNaWdyYXRpb25cIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIHNpdGVDb25maWc6IG5ld1NpdGVDb25maWcsXG4gICAgICAgICAgICBjb25maWc6IG51bGwsXG4gICAgICAgICAgICB2ZXJzaW9uOiAyXG4gICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1pZ3JhdGVJbmRpdmlkdWFsU2l0ZUNvbmZpZ1NldHRpbmdzVG9WMihvbGRDb25maWc6IGFueSk6IFNpdGVDb25maWcge1xuICAgICAgICBjb25zdCBzYyA9IG5ldyBTaXRlQ29uZmlnKCk7XG4gICAgICAgIGlmIChvbGRDb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgc2MucHJldmVudFNhdmVOb3RpZmljYXRpb24gPSBvbGRDb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zKSB7XG4gICAgICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMubmFtZV93KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy53aGl0ZUxpc3QpIHNjLndoaXRlTGlzdCA9IHsgZm9ybTogeyBuYW1lczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZm9ybSkgc2Mud2hpdGVMaXN0LmZvcm0gPSB7IG5hbWVzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZm9ybS5uYW1lcykgc2Mud2hpdGVMaXN0LmZvcm0ubmFtZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy53aGl0ZUxpc3QuZm9ybS5uYW1lcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLm5hbWVfdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5pZF93KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy53aGl0ZUxpc3QpIHNjLndoaXRlTGlzdCA9IHsgZm9ybTogeyBpZHM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2Mud2hpdGVMaXN0LmZvcm0pIHNjLndoaXRlTGlzdC5mb3JtID0geyBpZHM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5mb3JtLmlkcykgc2Mud2hpdGVMaXN0LmZvcm0uaWRzID0gW107XG4gICAgICAgICAgICAgICAgc2Mud2hpdGVMaXN0LmZvcm0uaWRzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuaWRfdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5uYW1lX2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLmJsYWNrTGlzdCkgc2MuYmxhY2tMaXN0ID0geyBmb3JtOiB7IG5hbWVzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5mb3JtKSBzYy5ibGFja0xpc3QuZm9ybSA9IHsgbmFtZXM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5mb3JtLm5hbWVzKSBzYy5ibGFja0xpc3QuZm9ybS5uYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLmJsYWNrTGlzdC5mb3JtLm5hbWVzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMubmFtZV9iO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmlkX2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLmJsYWNrTGlzdCkgc2MuYmxhY2tMaXN0ID0geyBmb3JtOiB7IGlkczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZm9ybSkgc2MuYmxhY2tMaXN0LmZvcm0gPSB7IGlkczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZvcm0uaWRzKSBzYy5ibGFja0xpc3QuZm9ybS5pZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy5ibGFja0xpc3QuZm9ybS5pZHMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5pZF9iO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfbmFtZV93KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy53aGl0ZUxpc3QpIHNjLndoaXRlTGlzdCA9IHsgZmllbGRzOiB7IG5hbWVzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5maWVsZHMpIHNjLndoaXRlTGlzdC5maWVsZHMgPSB7IG5hbWVzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzKSBzYy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgc2Mud2hpdGVMaXN0LmZpZWxkcy5uYW1lcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfbmFtZV93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfaWRfdykge1xuICAgICAgICAgICAgICAgIGlmICghc2Mud2hpdGVMaXN0KSBzYy53aGl0ZUxpc3QgPSB7IGZpZWxkczogeyBpZHM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2Mud2hpdGVMaXN0LmZpZWxkcykgc2Mud2hpdGVMaXN0LmZpZWxkcyA9IHsgaWRzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZmllbGRzLmlkcykgc2Mud2hpdGVMaXN0LmZpZWxkcy5pZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy53aGl0ZUxpc3QuZmllbGRzLmlkcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfaWRfdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5mX25hbWVfYikge1xuICAgICAgICAgICAgICAgIGlmICghc2MuYmxhY2tMaXN0KSBzYy5ibGFja0xpc3QgPSB7IGZpZWxkczogeyBuYW1lczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZmllbGRzKSBzYy5ibGFja0xpc3QuZmllbGRzID0geyBuYW1lczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcykgc2MuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLmJsYWNrTGlzdC5maWVsZHMubmFtZXMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5mX25hbWVfYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5mX2lkX2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLmJsYWNrTGlzdCkgc2MuYmxhY2tMaXN0ID0geyBmaWVsZHM6IHsgaWRzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5maWVsZHMpIHNjLmJsYWNrTGlzdC5maWVsZHMgPSB7IGlkczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZpZWxkcy5pZHMpIHNjLmJsYWNrTGlzdC5maWVsZHMuaWRzID0gW107XG4gICAgICAgICAgICAgICAgc2MuYmxhY2tMaXN0LmZpZWxkcy5pZHMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5mX2lkX2I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjO1xuICAgIH1cbn1cbiIsImRlY2xhcmUgY29uc3QgcHVibGljU3VmZml4TGlzdDtcbmRlY2xhcmUgY29uc3QgcHVueWNvZGU7XG5kZWNsYXJlIGNvbnN0IHBzbERhdGE7XG5cbmV4cG9ydCBjbGFzcyBVdGlscyB7XG4gICAgcHJpdmF0ZSBwc2xJbml0aWFsaXNlZCA9IGZhbHNlO1xuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAvIEdlbmVyYWwgdXRpbGl0eSBmdW5jdGlvbnNcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIHZlcnNpb25Bc0ludCh2ZXJzaW9uQXJyYXkpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJzaW9uQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiAyNTYgKyB2ZXJzaW9uQXJyYXlbaV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgdmVyc2lvbkFzQXJyYXkodmVyc2lvbkludCkge1xuICAgICAgICBjb25zdCBieXRlQXJyYXkgPSBbMCwgMCwgMF07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGJ5dGVBcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgYnl0ZSA9IHZlcnNpb25JbnQgJiAweGZmO1xuICAgICAgICAgICAgYnl0ZUFycmF5W2ldID0gYnl0ZTtcbiAgICAgICAgICAgIHZlcnNpb25JbnQgPSAodmVyc2lvbkludCAtIGJ5dGUpIC8gMjU2O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ5dGVBcnJheTtcbiAgICB9XG5cbiAgICB2ZXJzaW9uQXNTdHJpbmcodmVyc2lvbkludCkge1xuICAgICAgICBsZXQgdmFsdWUgPSBcIlwiO1xuICAgICAgICBjb25zdCB2ZXJzaW9uQXJyYXkgPSB0aGlzLnZlcnNpb25Bc0FycmF5KHZlcnNpb25JbnQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnNpb25BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB2YWx1ZSArPSBcIi5cIjtcbiAgICAgICAgICAgIHZhbHVlICs9IHZlcnNpb25BcnJheVtpXS50b1N0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8vIHJldHVybiB0aGUgdHdvLWRpZ2l0IGhleGFkZWNpbWFsIGNvZGUgZm9yIGEgYnl0ZVxuICAgIHRvSGV4U3RyaW5nKGNoYXJDb2RlKSB7XG4gICAgICAgIHJldHVybiAoXCIwXCIgKyBjaGFyQ29kZS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcbiAgICB9XG5cbiAgICBCaWdJbnRGcm9tUmFuZG9tKGJ5dGVDb3VudCkge1xuICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ5dGVDb3VudCk7XG4gICAgICAgIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGJ5dGVzKTtcbiAgICAgICAgY29uc3QgaGV4ID0gQXJyYXkuZnJvbShieXRlcykubWFwKHRoaXMudG9IZXhTdHJpbmcpLmpvaW4oXCJcIik7XG4gICAgICAgIHJldHVybiBCaWdJbnRlZ2VyLnBhcnNlKGhleCwgMTYpO1xuICAgIH1cblxuICAgIC8vIGlucHV0IGNhbiBiZSBlaXRoZXIgVVRGOCBmb3JtYXR0ZWQgc3RyaW5nIG9yIGEgYnl0ZSBhcnJheVxuICAgIGhhc2g8VCBleHRlbmRzIHN0cmluZyB8IFVpbnQ4QXJyYXk+KGRhdGE6IFQsIG91dEZvcm1hdCA9IFwiaGV4XCIsIGFsZ29yaXRobSA9IFwiU0hBLTI1NlwiKSB7XG4gICAgICAgIGxldCBpbkJ1ZmZlcjogYW55O1xuXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiKSBpbkJ1ZmZlciA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShkYXRhKTtcbiAgICAgICAgZWxzZSBpbkJ1ZmZlciA9IGRhdGE7XG5cbiAgICAgICAgcmV0dXJuIGNyeXB0by5zdWJ0bGUuZGlnZXN0KHsgbmFtZTogYWxnb3JpdGhtIH0sIGluQnVmZmVyKS50aGVuKG91dEJ1ZmZlciA9PiB7XG4gICAgICAgICAgICBpZiAob3V0Rm9ybWF0ID09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuYnl0ZUFycmF5VG9CYXNlNjQob3V0QnVmZmVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkob3V0QnVmZmVyKSkubWFwKHRoaXMudG9IZXhTdHJpbmcpLmpvaW4oXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGludFRvQnl0ZUFycmF5KGludCkge1xuICAgICAgICBjb25zdCBieXRlQXJyYXkgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSBieXRlQXJyYXkubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgY29uc3QgYnl0ZSA9IGludCAmIDB4ZmY7XG4gICAgICAgICAgICBieXRlQXJyYXlbaW5kZXhdID0gYnl0ZTtcbiAgICAgICAgICAgIGludCA9IChpbnQgLSBieXRlKSAvIDI1NjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBieXRlQXJyYXk7XG4gICAgfVxuXG4gICAgaW50QXJyYXlUb0J5dGVBcnJheShpbnRBcnJheSkge1xuICAgICAgICBjb25zdCBieXRlQXJyYXkgPSBuZXcgQXJyYXkoaW50QXJyYXkubGVuZ3RoICogNCk7XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGludEFycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgbGV0IGludCA9IGludEFycmF5W2luZGV4XTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAzOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGUgPSBpbnQgJiAweGZmO1xuICAgICAgICAgICAgICAgIGJ5dGVBcnJheVtpbmRleCAqIDQgKyBqXSA9IGJ5dGU7XG4gICAgICAgICAgICAgICAgaW50ID0gKGludCAtIGJ5dGUpIC8gMjU2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ5dGVBcnJheTtcbiAgICB9XG5cbiAgICBzdHJpbmdUb0J5dGVBcnJheShzdHIpIHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICByZXR1cm4gZS5lbmNvZGUoc3RyKTtcbiAgICB9XG5cbiAgICAvLyBBIHZhcmlhdGlvbiBvZiBiYXNlNjR0b0J5dGVBcnJheSB3aGljaCBhbGxvd3MgdXMgdG8gY2FsY3VsYXRlIGEgSE1BQyBmYXJcbiAgICAvLyBtb3JlIGVmZmljaWVudGx5IHRoYW4gd2l0aCBzZXBlcmF0ZSBtZW1vcnkgYnVmZmVyc1xuICAgIGJhc2U2NHRvQnl0ZUFycmF5Rm9ySE1BQyhpbnB1dCwgZXh0cmFMZW5ndGgsIHZpZXcgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGJpbmFyeSA9IGF0b2IoaW5wdXQpO1xuICAgICAgICBjb25zdCBsZW4gPSBiaW5hcnkubGVuZ3RoO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgaWYgKCF2aWV3KSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobGVuICsgZXh0cmFMZW5ndGgpO1xuICAgICAgICAgICAgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICBvZmZzZXQgPSAyMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2aWV3W2kgKyBvZmZzZXRdID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuXG4gICAgYmFzZTY0dG9CeXRlQXJyYXkoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgYmluYXJ5ID0gYXRvYihpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxlbiA9IGJpbmFyeS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihsZW4pO1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmlld1tpXSA9IGJpbmFyeS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cblxuICAgIGJ5dGVBcnJheVRvQmFzZTY0KGFycmF5QnVmZmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGJhc2U2NCA9IFwiXCI7XG4gICAgICAgIGNvbnN0IGVuY29kaW5ncyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiO1xuICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgY29uc3QgYnl0ZUxlbmd0aCA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gICAgICAgIGNvbnN0IGJ5dGVSZW1haW5kZXIgPSBieXRlTGVuZ3RoICUgMztcbiAgICAgICAgY29uc3QgbWFpbkxlbmd0aCA9IGJ5dGVMZW5ndGggLSBieXRlUmVtYWluZGVyO1xuICAgICAgICBsZXQgYTtcbiAgICAgICAgbGV0IGI7XG4gICAgICAgIGxldCBjO1xuICAgICAgICBsZXQgZDtcbiAgICAgICAgbGV0IGNodW5rO1xuXG4gICAgICAgIC8vIE1haW4gbG9vcCBkZWFscyB3aXRoIGJ5dGVzIGluIGNodW5rcyBvZiAzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFpbkxlbmd0aDsgaSA9IGkgKyAzKSB7XG4gICAgICAgICAgICAvLyBDb21iaW5lIGludG8gYSBzaW5nbGUgaW50ZWdlclxuICAgICAgICAgICAgY2h1bmsgPSAoYnl0ZXNbaV0gPDwgMTYpIHwgKGJ5dGVzW2kgKyAxXSA8PCA4KSB8IGJ5dGVzW2kgKyAyXTtcblxuICAgICAgICAgICAgLy8gVXNlIGJpdG1hc2tzIHRvIGV4dHJhY3QgNi1iaXQgc2VnbWVudHMgZnJvbSB0aGUgdHJpcGxldFxuICAgICAgICAgICAgYSA9IChjaHVuayAmIDE2NTE1MDcyKSA+PiAxODsgLy8gMTY1MTUwNzIgPSAoMl42IC0gMSkgPDwgMThcbiAgICAgICAgICAgIGIgPSAoY2h1bmsgJiAyNTgwNDgpID4+IDEyOyAvLyAyNTgwNDggPSAoMl42IC0gMSkgPDwgMTJcbiAgICAgICAgICAgIGMgPSAoY2h1bmsgJiA0MDMyKSA+PiA2OyAvLyA0MDMyID0gKDJeNiAtIDEpIDw8IDZcbiAgICAgICAgICAgIGQgPSBjaHVuayAmIDYzOyAvLyA2MyA9IDJeNiAtIDFcblxuICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgcmF3IGJpbmFyeSBzZWdtZW50cyB0byB0aGUgYXBwcm9wcmlhdGUgQVNDSUkgZW5jb2RpbmdcbiAgICAgICAgICAgIGJhc2U2NCArPSBlbmNvZGluZ3NbYV0gKyBlbmNvZGluZ3NbYl0gKyBlbmNvZGluZ3NbY10gKyBlbmNvZGluZ3NbZF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWFsIHdpdGggdGhlIHJlbWFpbmluZyBieXRlcyBhbmQgcGFkZGluZ1xuICAgICAgICBpZiAoYnl0ZVJlbWFpbmRlciA9PSAxKSB7XG4gICAgICAgICAgICBjaHVuayA9IGJ5dGVzW21haW5MZW5ndGhdO1xuXG4gICAgICAgICAgICBhID0gKGNodW5rICYgMjUyKSA+PiAyOyAvLyAyNTIgPSAoMl42IC0gMSkgPDwgMlxuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyB0byB6ZXJvXG4gICAgICAgICAgICBiID0gKGNodW5rICYgMykgPDwgNDsgLy8gMyA9IDJeMiAtIDFcblxuICAgICAgICAgICAgYmFzZTY0ICs9IGVuY29kaW5nc1thXSArIGVuY29kaW5nc1tiXSArIFwiPT1cIjtcbiAgICAgICAgfSBlbHNlIGlmIChieXRlUmVtYWluZGVyID09IDIpIHtcbiAgICAgICAgICAgIGNodW5rID0gKGJ5dGVzW21haW5MZW5ndGhdIDw8IDgpIHwgYnl0ZXNbbWFpbkxlbmd0aCArIDFdO1xuXG4gICAgICAgICAgICBhID0gKGNodW5rICYgNjQ1MTIpID4+IDEwOyAvLyA2NDUxMiA9ICgyXjYgLSAxKSA8PCAxMFxuICAgICAgICAgICAgYiA9IChjaHVuayAmIDEwMDgpID4+IDQ7IC8vIDEwMDggID0gKDJeNiAtIDEpIDw8IDRcblxuICAgICAgICAgICAgLy8gU2V0IHRoZSAyIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgdG8gemVyb1xuICAgICAgICAgICAgYyA9IChjaHVuayAmIDE1KSA8PCAyOyAvLyAxNSA9IDJeNCAtIDFcblxuICAgICAgICAgICAgYmFzZTY0ICs9IGVuY29kaW5nc1thXSArIGVuY29kaW5nc1tiXSArIGVuY29kaW5nc1tjXSArIFwiPVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2U2NDtcbiAgICB9XG5cbiAgICBoZXhTdHJpbmdUb0J5dGVBcnJheShoZXhTdHJpbmcsIGJ5dGVBcnJheSA9IG51bGwpIHtcbiAgICAgICAgaWYgKGhleFN0cmluZy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIk11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZiBoZXggZGlnaXRzIHRvIGNvbnZlcnQgdG8gYnl0ZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnVtQnl0ZXMgPSBoZXhTdHJpbmcubGVuZ3RoIC8gMjtcbiAgICAgICAgaWYgKCFieXRlQXJyYXkpIGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KG51bUJ5dGVzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1CeXRlczsgaSsrKSB7XG4gICAgICAgICAgICBieXRlQXJyYXlbaV0gPSBwYXJzZUludChoZXhTdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBieXRlQXJyYXk7XG4gICAgfVxuXG4gICAgbmV3R1VJRCgpIHtcbiAgICAgICAgY29uc3QgbHV0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgICAgIGx1dFtpXSA9IChpIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgaS50b1N0cmluZygxNik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkdmFscyA9IG5ldyBVaW50MzJBcnJheSg0KTtcbiAgICAgICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoZHZhbHMpO1xuICAgICAgICBjb25zdCBkMCA9IGR2YWxzWzBdO1xuICAgICAgICBjb25zdCBkMSA9IGR2YWxzWzFdO1xuICAgICAgICBjb25zdCBkMiA9IGR2YWxzWzJdO1xuICAgICAgICBjb25zdCBkMyA9IGR2YWxzWzNdO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgbHV0W2QwICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMCA+PiA4KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDAgPj4gMTYpICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMCA+PiAyNCkgJiAweGZmXSArXG4gICAgICAgICAgICBcIi1cIiArXG4gICAgICAgICAgICBsdXRbZDEgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbKGQxID4+IDgpICYgMHhmZl0gK1xuICAgICAgICAgICAgXCItXCIgK1xuICAgICAgICAgICAgbHV0WygoZDEgPj4gMTYpICYgMHgwZikgfCAweDQwXSArXG4gICAgICAgICAgICBsdXRbKGQxID4+IDI0KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIFwiLVwiICtcbiAgICAgICAgICAgIGx1dFsoZDIgJiAweDNmKSB8IDB4ODBdICtcbiAgICAgICAgICAgIGx1dFsoZDIgPj4gOCkgJiAweGZmXSArXG4gICAgICAgICAgICBcIi1cIiArXG4gICAgICAgICAgICBsdXRbKGQyID4+IDE2KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDIgPj4gMjQpICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0W2QzICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMyA+PiA4KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDMgPj4gMTYpICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMyA+PiAyNCkgJiAweGZmXVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGJhc2U2NHVybERlY29kZShpbnB1dDogc3RyaW5nKSB7XG4gICAgICAgIC8vIEkgZG9uJ3Qgc2VlIHdoeSB3ZSBkbyBhbnkgcmVwbGFjZW1lbnRzIGhlcmUuIFNlZW1zIGEgcG9pbnRsZXNzIHdhc3RlIG9mIGN5Y2xlcy4gTmVlZHMgdGVzdGluZyBhbmQgcmVtb3ZhbCBpZiBJJ20gcmlnaHQuXG4gICAgICAgIHJldHVybiBhdG9iKGlucHV0LnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpKTtcbiAgICB9XG5cbiAgICBiaW5hcnlUb0J5dGVBcnJheShiaW5hcnk6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICAgICAgICBjb25zdCBsZW4gPSBiaW5hcnkubGVuZ3RoO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobGVuKTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZpZXdbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG5cbiAgICBiYXNlNjR1cmx0b0J5dGVBcnJheShpbnB1dDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGJpbmFyeSA9IHRoaXMuYmFzZTY0dXJsRGVjb2RlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJ5VG9CeXRlQXJyYXkoYmluYXJ5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBzbCgpIHtcbiAgICAgICAgaWYgKCFwdWJsaWNTdWZmaXhMaXN0KSB0aHJvdyBuZXcgRXJyb3IoXCJwdWJsaWNTdWZmaXhMaXN0IGxpYnJhcnkgbm90IHByZXNlbnRcIik7XG4gICAgICAgIGlmICghdGhpcy5wc2xJbml0aWFsaXNlZCkge1xuICAgICAgICAgICAgcHVibGljU3VmZml4TGlzdC5wYXJzZShwc2xEYXRhLnRleHQsIHB1bnljb2RlLnRvQVNDSUkpO1xuICAgICAgICAgICAgdGhpcy5wc2xJbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHB1YmxpY1N1ZmZpeExpc3Q7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdXRpbHMgPSBuZXcgVXRpbHMoKTtcbiIsIi8qXG4gIFRoZXJlIGFyZSBmb3VyIGN1bXVsYXRpdmUgbG9nIGxldmVscy5cblxuICBFcnJvciA9IDFcbiAgV2FybiA9IDJcbiAgSW5mbyA9IDNcbiAgRGVidWcgPSA0XG5cbiAgVGhlIGRlZmF1bHQgbGV2ZWwgKFdhcm4pIHdpbGwgYmUgc2V0IGFzIHBhcnQgb2YgdGhlIGluc3RhbGxhdGlvbiBwcm9jZXNzLlxuXG4gIElmIERlYnVnIGxldmVsIGlzIHNlbGVjdGVkLCBhIFBlcnNpc3RlbnRMb2dnZXIgb2JqZWN0IGluIHRoZSBiYWNrZ3JvdW5kXG4gIHByb2Nlc3Mgd2lsbCBzdG9yZSB0aGUgbG9nIGVudHJpZXMgaW4gbG9jYWxTdG9yYWdlIG9uIGEgcmVndWxhciBiYXNpcy4gQnV0XG4gIG9ubHkgaWYgeW91IGVkaXQgdGhlIGNvZGUgdG8gZW5hYmxlIHRoaXMgZmVhdHVyZSBiZWNhdXNlIGl0IGlzIHZlcnkgcmVzb3VyY2UtaHVuZ3J5XG5cbiovXG5cbmV4cG9ydCBjbGFzcyBLZWVMb2dnZXIge1xuICAgIHByaXZhdGUgb3V0cHV0U3RhcnRlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgY29uZmlnID0geyBsb2dMZXZlbDogMiB9O1xuXG4gICAgYXR0YWNoQ29uZmlnKGNvbmZpZzogeyBsb2dMZXZlbDogbnVtYmVyIH0pIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyhcIkxvZ2dpbmcgc3lzdGVtIGNvbmZpZyB1cGRhdGVkIGF0IFwiICsgRGF0ZSgpKTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlKSByZXR1cm4gXCJcIjtcblxuICAgICAgICBpZiAoIXRoaXMub3V0cHV0U3RhcnRlZCkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IFwiKiBcIiArIG1lc3NhZ2U7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgZGVidWcobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0KSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcubG9nTGV2ZWwgPj0gNCAmJiB0aGlzLnNlbmQoNCwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcubG9nTGV2ZWwgPj0gMykge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRoaXMuZm9ybWF0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcubG9nTGV2ZWwgPj0gNCAmJiB0aGlzLnNlbmQoMywgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3YXJuKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcubG9nTGV2ZWwgPj0gMikge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRoaXMuZm9ybWF0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcubG9nTGV2ZWwgPj0gNCAmJiB0aGlzLnNlbmQoMiwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxvZ0xldmVsID49IDEpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLmZvcm1hdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCgxLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBzZW5kKGxvZ0xldmVsOiAxIHwgMiB8IDMgfCA0LCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgICAgLy8gRm9yIGFkdmFuY2VkIGRlYnVnZ2luZywgZXNwZWNpYWxseSBhY3Jvc3MgYnJvd3NlciByZXN0YXJ0cyxcbiAgICAgICAgLy8gZW5hYmxlIHRoZSBjb2RlIGJlbG93IGFuZCB0aGUgcmVsZXZhbnQgUGVyc2lzdGVudExvZ2dlciBsaW5lc1xuICAgICAgICAvLyBpbiBiYWNrZ3JvdW5kLnRzXG4gICAgICAgIC8vIGNvbnN0IGxvZ0VudHJ5ID0ge2xvZ0xldmVsLCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1lc3NhZ2V9O1xuICAgICAgICAvLyBpZiAod2luZG93LktlZVBlcnNpc3RlbnRMb2dnZXIpIHtcbiAgICAgICAgLy8gICAgIC8vIFdpbGwgb25seSBiZSB0cnVlIGluIHRoZSBiYWNrZ3JvdW5kIHByb2Nlc3NcbiAgICAgICAgLy8gICAgIHdpbmRvdy5LZWVQZXJzaXN0ZW50TG9nZ2VyLmVtaXQobG9nRW50cnkpO1xuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKGxvZ0VudHJ5KTtcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIHN0YWNrVHJhY2UoKSB7XG4gICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXCIlYyBTdGFjayBUcmFjZVwiLCBcImNvbG9yOmNyZWFtOyBmb250LXN0eWxlOiBub3JtYWw7XCIpO1xuICAgICAgICBjb25zb2xlLmRlYnVnKG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IEtlZUxvZyA9IG5ldyBLZWVMb2dnZXIoKTtcbiIsImltcG9ydCB7XG4gICAgQ29uZmlnLFxuICAgIFNpdGVDb25maWcsXG4gICAgU2l0ZUNvbmZpZ0xvb2t1cCxcbiAgICBTaXRlQ29uZmlnTWV0aG9kLFxuICAgIFNpdGVDb25maWdOb2RlLFxuICAgIFNpdGVDb25maWdOb2RlVHlwZSxcbiAgICBTaXRlQ29uZmlnVGFyZ2V0XG59IGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IHsgQ29uZmlnTWlncmF0aW9ucyB9IGZyb20gXCIuL0NvbmZpZ01pZ3JhdGlvbnNcIjtcbmltcG9ydCB7IGRlZmF1bHRTaXRlQ29uZmlnIH0gZnJvbSBcIi4vRGVmYXVsdFNpdGVDb25maWdcIjtcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IEZpZWxkIH0gZnJvbSBcIi4vbW9kZWwvRmllbGRcIjtcbmltcG9ydCB7IEtlZUxvZyB9IGZyb20gXCIuL0xvZ2dlclwiO1xuXG50eXBlIFNpdGVDb25maWdOb2RlQW5kSW5kZXggPSB7XG4gICAgbm9kZTogU2l0ZUNvbmZpZ05vZGU7XG4gICAgdGFyZ2V0OiBTaXRlQ29uZmlnVGFyZ2V0O1xuICAgIG1ldGhvZDogU2l0ZUNvbmZpZ01ldGhvZDtcbiAgICBsb29rdXBWYWx1ZTogc3RyaW5nO1xufTtcblxuLypcbiAgRW50cnktc3BlY2lmaWMgY29uZmlndXJhdGlvbiBpcyBzdG9yZWQgaW4gS2VlUGFzcyBidXQgaW4gZnV0dXJlIG1heWJlXG4gIHdlJ2xsIHN0aWxsIG1ha2UgaXQgYXZhaWxhYmxlIGZyb20gdGhpcyBpbnRlcmZhY2UuXG4qL1xuXG4vLyBQcmV0ZW5kIGJyb3dzZXIgKFdlYkV4dGVuc2lvbnMpIGlzIGNocm9tZSAod2UgaW5jbHVkZSBhXG4vLyBwb2x5ZmlsbCBmcm9tIE1vemlsbGEgYnV0IGl0IGRvZXNuJ3Qgd29yayBpbiBzb21lIGNhc2VzKVxuZGVjbGFyZSBjb25zdCBjaHJvbWU7XG5cbi8vIGluY3JlbWVudCB3aGVuIGNoYW5nZXMgYXJlIGludHJvZHVjZWQgdGhhdCByZXF1aXJlIGRhdGEgbWlncmF0aW9uXG5leHBvcnQgY29uc3QgTEFURVNUX1ZFUlNJT04gPSA4O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdENvbmZpZyA9IG5ldyBDb25maWcoKTtcbmRlZmF1bHRDb25maWcuYXV0b0ZpbGxEaWFsb2dzID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmF1dG9GaWxsRm9ybXMgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5hdXRvRmlsbEZvcm1zV2l0aE11bHRpcGxlTWF0Y2hlcyA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5hdXRvU3VibWl0Rm9ybXMgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcuYXV0b1N1Ym1pdERpYWxvZ3MgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcuYXV0b1N1Ym1pdE1hdGNoZWRGb3JtcyA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5jb25uU0xDbGllbnQgPSAyO1xuZGVmYXVsdENvbmZpZy5jb25uU0xTZXJ2ZXJNaW4gPSAyO1xuZGVmYXVsdENvbmZpZy5rZWVQYXNzREJUb09wZW4gPSBcIlwiO1xuZGVmYXVsdENvbmZpZy5rZWVQYXNzTVJVREIgPSBcIlwiO1xuZGVmYXVsdENvbmZpZy5LZWVQYXNzUlBDV2ViU29ja2V0UG9ydCA9IDEyNTQ2O1xuZGVmYXVsdENvbmZpZy5LUFJQQ1VzZXJuYW1lID0gXCJcIjtcbmRlZmF1bHRDb25maWcuS1BSUENTdG9yZWRLZXlzID0ge307XG5kZWZhdWx0Q29uZmlnLmxhc3RDb25uZWN0ZWRUb0tlZVBhc3MgPSBcIlwiO1xuZGVmYXVsdENvbmZpZy5saXN0QWxsT3BlbkRCcyA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLmxvZ0xldmVsID0gMjtcbmRlZmF1bHRDb25maWcubG9nTWV0aG9kQ29uc29sZSA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5sb2dNZXRob2RGaWxlID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmxvZ1NlbnNpdGl2ZURhdGEgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcubWV0cmljc1VzYWdlRGlzYWJsZWQgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcubWV0cmljc1VzZXJJZCA9IFwiXCI7XG5kZWZhdWx0Q29uZmlnLm5vdGlmeVdoZW5FbnRyeVVwZGF0ZWQgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5ub3RpZnlXaGVuTGF0ZURpc2NvdmVyeSA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5ub3RpZnlXaGVuTG9nZ2VkT3V0ID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLm92ZXJXcml0ZUZpZWxkc0F1dG9tYXRpY2FsbHkgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcucmVtZW1iZXJNUlVEQiA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLnJlbWVtYmVyTVJVR3JvdXAgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5zYXZlRmF2aWNvbnMgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5zZWFyY2hBbGxPcGVuREJzID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcuY29uZmlnID0gbnVsbDtcbmRlZmF1bHRDb25maWcuc2l0ZUNvbmZpZyA9IGRlZmF1bHRTaXRlQ29uZmlnO1xuZGVmYXVsdENvbmZpZy50dXRvcmlhbFByb2dyZXNzID0gXCJcIjtcbmRlZmF1bHRDb25maWcudmVyc2lvbiA9IExBVEVTVF9WRVJTSU9OO1xuZGVmYXVsdENvbmZpZy50cmlnZ2VyQ2hhbmdlSW5wdXRFdmVudEFmdGVyRmlsbCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5hdXRvU3VibWl0TmV0d29ya0F1dGhXaXRoU2luZ2xlTWF0Y2ggPSBmYWxzZTtcbmRlZmF1bHRDb25maWcuc2VhcmNoTmV0d29ya0F1dGggPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5ub3RpZmljYXRpb25Db3VudEdlbmVyaWMgPSAwO1xuZGVmYXVsdENvbmZpZy5ub3RpZmljYXRpb25Db3VudFNhdmVQYXNzd29yZCA9IDA7XG5kZWZhdWx0Q29uZmlnLmN1cnJlbnRTZWFyY2hUZXJtVGltZW91dCA9IDMwO1xuZGVmYXVsdENvbmZpZy5ub3RpZnlQYXNzd29yZEF2YWlsYWJsZUZvclBhc3RlID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcuYW5pbWF0ZVdoZW5PZmZlcmluZ1NhdmUgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5rZWVWYXVsdExhdW5jaE1lc3NhZ2VEaXNtaXNzZWQgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcua2VlVmF1bHRMYXVuY2hTdGFydCA9IDg2NDAwMDAwMDAwMDAwMDA7XG5kZWZhdWx0Q29uZmlnLmtlZVZhdWx0TGF1bmNoRW5kID0gODY0MDAwMDAwMDAwMDAwMDtcbmRlZmF1bHRDb25maWcubWFudWFsU3VibWl0T3ZlcnJpZGVQcm9oaWJpdGVkID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLnRoZW1lID0gbnVsbDtcbmRlZmF1bHRDb25maWcuaGlkZUNvbmZpcm1hdGlvbkFmdGVyU2F2ZSA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5tdXN0U2hvd1JlbGVhc2VOb3Rlc0F0U3RhcnR1cCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5hdXRvRmlsbEZpZWxkc1dpdGhFeGlzdGluZ1ZhbHVlID0gZmFsc2U7XG5cbmV4cG9ydCBjbGFzcyBDb25maWdNYW5hZ2VyIHtcbiAgICBwdWJsaWMgY3VycmVudDogQ29uZmlnO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbWF4Q2hhcnNQZXJQYWdlOiBudW1iZXIgPSAxMDAwMDtcbiAgICBwcml2YXRlIF9saXN0ZW5lcnMgPSBbXTtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gZGVmYXVsdENvbmZpZztcbiAgICAgICAgYnJvd3Nlci5zdG9yYWdlLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcigoYSwgYikgPT4gdGhpcy5yZWxvYWRPblN0b3JhZ2VDaGFuZ2UoYSwgYikpO1xuICAgIH1cblxuICAgIC8vIFNvbWUgcHJvY2Vzc2VzIG1heSB3YW50IHRvIHRha2UgYWN0aW9uIHdoZW4gc2V0dGluZ3MgYXJlIGNoYW5nZWQgKGUuZy4gdGhlIGJhY2tncm91bmRcbiAgICAvLyBwcm9jZXNzIHRvIG5vdGlmeSB0aGUgS1BSUEMgc2VydmVyKS4gVXNpbmcgdGhpcyByYXRoZXIgdGhhbiBicm93c2VyLnN0b3JhZ2Uub25DaGFuZ2VkLmFkZExpc3RlbmVyXG4gICAgLy8gZW5zdXJlcyB0aGF0IG91ciBjb25maWdNYW5hZ2VyIGRhdGEgaXMgY29uc2lzdGVudCB3aXRoIHRoZSB1bmRlcmx5aW5nIHN0b3JhZ2VcbiAgICBwdWJsaWMgYWRkQ2hhbmdlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVsb2FkT25TdG9yYWdlQ2hhbmdlKGNoYW5nZXM6IGJyb3dzZXIuc3RvcmFnZS5TdG9yYWdlQ2hhbmdlLCBhcmVhOiBzdHJpbmcpIHtcbiAgICAgICAgLy8gV2UgYXNzdW1lIGV2ZXJ5IGNoYW5nZSByZXF1aXJlcyBhIHJlbG9hZCBvZiB0aGUgY29uZmlnIGRhdGEuIFNpbmNlIHdlIGJhdGNoIGFuZFxuICAgICAgICAvLyBwYWdlIHRoZSBkYXRhIHRvIGVuYWJsZSBlbm91Z2ggc3RvcmFnZSBzcGFjZSB0aGlzIGlzIGxpa2xleSBzYWZlIGZvciB0aGVcbiAgICAgICAgLy8gbG9uZy10ZXJtIGJ1dCBwZXJoYXBzIHBlcmZvcm1hbmNlIGdhaW5zIGNvdWxkIGJlIGZvdW5kIGFyb3VuZCBoZXJlIG9uZSBkYXkuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIGFsc28gcmVsb2FkIGFmdGVyIGV2ZXJ5IHNhdmUgd2hpY2ggaXMgaG9ycmlibHkgaW5lZmZpY2llbnQgYnV0IHRoZSBhbHRlcm5hdGl2ZVxuICAgICAgICAvLyBpcyBmaW5kaW5nIGEgcmVsaWFibGUgY3Jvc3MtcHJvY2VzcyBsb2NraW5nIG1lY2hhbmlzbSB0byBlbnN1cmUgd2Ugb25seSBkaXNhYmxlXG4gICAgICAgIC8vIHJlbG9hZGluZyBkdXJpbmcgYW4gYXN5bmMgc2F2ZSBvcGVyYXRpb24gYW5kIG5vdCBmb3IgYSBtb21lbnQgbG9uZ2VyLiBUaGF0J3MganVzdFxuICAgICAgICAvLyBub3Qgd29ydGggdGhlIHJpc2sgb2YgbWlzc2luZyBhIGNoYW5nZSBmcm9tIGFub3RoZXIgcHJvY2Vzcy5cblxuICAgICAgICBjb25maWdNYW5hZ2VyLnJlbG9hZCgoKSA9PiB0aGlzLl9saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihjaGFuZ2VzLCBhcmVhKSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBzZXRBU0FQKHZhbHVlczogUGFydGlhbDxDb25maWc+KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jdXJyZW50LCB2YWx1ZXMpO1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3BsaXRTdHJpbmdUb1BhZ2VzKHN0cjogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IG51bVBhZ2VzID0gTWF0aC5jZWlsKHN0ci5sZW5ndGggLyB0aGlzLm1heENoYXJzUGVyUGFnZSk7XG4gICAgICAgIGNvbnN0IHBhZ2VzID0gbmV3IEFycmF5KG51bVBhZ2VzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbyA9IDA7IGkgPCBudW1QYWdlczsgKytpLCBvICs9IHRoaXMubWF4Q2hhcnNQZXJQYWdlKSB7XG4gICAgICAgICAgICBwYWdlc1tpXSA9IHN0ci5zdWJzdHIobywgdGhpcy5tYXhDaGFyc1BlclBhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYWdlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc2F2ZSgpIHtcbiAgICAgICAgY29uc3QgY29uZmlnU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50KTtcbiAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLnNwbGl0U3RyaW5nVG9QYWdlcyhjb25maWdTdHJpbmcpO1xuICAgICAgICBjb25zdCBjb25maWdWYWx1ZXM6IGFueSA9IHt9O1xuXG4gICAgICAgIGNvbmZpZ1ZhbHVlcy5rZWVDb25maWdQYWdlQ291bnQgPSBwYWdlcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uZmlnVmFsdWVzW1wia2VlQ29uZmlnUGFnZVwiICsgaV0gPSBwYWdlc1tpXTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KGNvbmZpZ1ZhbHVlcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWQob25Mb2FkZWQpIHtcbiAgICAgICAgLy8gV2UgY29tcGxldGVseSByZXBsYWNlIGN1cnJlbnQgY29uZmlnIHdpdGggd2hhdCB3ZSBsb2FkIGJlY2F1c2Ugd2VcbiAgICAgICAgLy8gZG9uJ3Qga25vdyB0aGF0IGFwcGx5aW5nIG9udG8gdGhlIGRlZmF1bHRzIHdpbGwgcmVzdWx0IGluIGEgc2FmZVxuICAgICAgICAvLyBtaWdyYXRpb24gZnJvbSBhbnkgb2xkIHZlcnNpb24gdGhhdCB3ZSBsb2FkLiBJdCB3b3VsZCBwcm9iYWJseSBiZVxuICAgICAgICAvLyBmaW5lIGJ1dCBtaWdodCByZXF1aXJlIHZlcnNpb24gY29tcGFyaXNvbnMuLi4gaW4gd2hpY2ggY2FzZSB3ZSBtaWdodFxuICAgICAgICAvLyBhcyB3ZWxsIGp1c3QgaW5jcmVtZW50IHRoZSB2ZXJzaW9uIG51bWJlciBhbmQgcnVuIGEgbWlncmF0aW9uIG9uY2VcbiAgICAgICAgLy8gcmF0aGVyIHRoYW4gaW5jdXIgaW5jcmVhc2VkIG9uZ29pbmcgbG9hZCBjb3N0cy5cbiAgICAgICAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldCgpLnRoZW4oY29uZmlnID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudCA9IGNvbmZpZ1tcImtlZUNvbmZpZ1BhZ2VDb3VudFwiXTtcblxuICAgICAgICAgICAgaWYgKHBhZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgIGxldCBjb25maWdTdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFBhZ2UgPSBjb25maWdbXCJrZWVDb25maWdQYWdlXCIgKyBpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRQYWdlKSBjb25maWdTdHJpbmcgKz0gbmV4dFBhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb25maWdTdHJpbmcpIHRoaXMuY3VycmVudCA9IEpTT04ucGFyc2UoY29uZmlnU3RyaW5nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkUGFnZUNvdW50ID0gY29uZmlnW1wia2VlZm94Q29uZmlnUGFnZUNvdW50XCJdO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9sZFBhZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29uZmlnU3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRQYWdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFBhZ2UgPSBjb25maWdbXCJrZWVmb3hDb25maWdQYWdlXCIgKyBpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0UGFnZSkgY29uZmlnU3RyaW5nICs9IG5leHRQYWdlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWdTdHJpbmcpIHRoaXMuY3VycmVudCA9IEpTT04ucGFyc2UoY29uZmlnU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOjQ6IERlbGV0ZSB0aGUgb2xkIGtlZWZveCBwcmVmaXhlZCBkYXRhIHRvIHNhdmUgc3BhY2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZpeEludmFsaWRDb25maWdEYXRhKCk7XG4gICAgICAgICAgICB0aGlzLm1pZ3JhdGVUb0xhdGVzdFZlcnNpb24oKTtcbiAgICAgICAgICAgIG9uTG9hZGVkKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRoaXMgaXMgdHlwaWNhbGx5IGludmFsaWQgZHVlIHRvIHRoZSBwcmV2aW91cyBleGVjdXRpb24gb2YgYWxwaGEgYW5kIGJldGEgY29kZVxuICAgIC8vIG9uIHRoZSB1c2VyJ3Mgc3lzdGVtIGJ1dCB3aGF0ZXZlciB0aGUgcmVhc29uLCB0aGUgaXRlbXMgaGVyZSBhcmUgZXNwZWNpYWxseSBoYXJkXG4gICAgLy8gdG8gZml4IHRocm91Z2ggdGhlIFVJIGFuZCBjcml0aWNhbCB0byBLZWUgZnVuY3Rpb25hbGl0eSBzbyB3ZSB0YWtlIG5vIGNoYW5jZXNcbiAgICBwcml2YXRlIGZpeEludmFsaWRDb25maWdEYXRhKCkge1xuICAgICAgICBsZXQgc2F2ZU5lZWRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50LktQUlBDU3RvcmVkS2V5cyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQuS1BSUENTdG9yZWRLZXlzID0ge307XG4gICAgICAgICAgICBzYXZlTmVlZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2F2ZU5lZWRlZCkgdGhpcy5zYXZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtaWdyYXRlVG9MYXRlc3RWZXJzaW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50LnZlcnNpb24gPj0gTEFURVNUX1ZFUlNJT04pIHJldHVybjtcbiAgICAgICAgY29uc3QgbWlncmF0aW9ucyA9IG5ldyBDb25maWdNaWdyYXRpb25zKCk7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWZhbGx0aHJvdWdoICovXG4gICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50LnZlcnNpb24pIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb24yKHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uMyh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjQodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb241KHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uNih0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjcodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb244KHRoaXMuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1mYWxsdGhyb3VnaCAqL1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWlncmF0ZUZyb21SZW1vdGVUb0xhdGVzdFZlcnNpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQudmVyc2lvbiA+PSBMQVRFU1RfVkVSU0lPTikgcmV0dXJuO1xuICAgICAgICBjb25zdCBtaWdyYXRpb25zID0gbmV3IENvbmZpZ01pZ3JhdGlvbnMoKTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tZmFsbHRocm91Z2ggKi9cbiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnQudmVyc2lvbikge1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjYodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb243KHRoaXMuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1mYWxsdGhyb3VnaCAqL1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbG9hZChvbkxvYWRlZD8pIHtcbiAgICAgICAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldCgpLnRoZW4oY29uZmlnID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudCA9IGNvbmZpZ1tcImtlZUNvbmZpZ1BhZ2VDb3VudFwiXTtcblxuICAgICAgICAgICAgaWYgKHBhZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgIGxldCBjb25maWdTdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFBhZ2UgPSBjb25maWdbXCJrZWVDb25maWdQYWdlXCIgKyBpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRQYWdlKSBjb25maWdTdHJpbmcgKz0gbmV4dFBhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb25maWdTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gT2JqZWN0LmFzc2lnbih0aGlzLmN1cnJlbnQsIEpTT04ucGFyc2UoY29uZmlnU3RyaW5nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uTG9hZGVkKSBvbkxvYWRlZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2l0ZUNvbmZpZ0xvb2t1cEZvcih0YXJnZXQ6IFNpdGVDb25maWdUYXJnZXQsIG1ldGhvZDogU2l0ZUNvbmZpZ01ldGhvZCkge1xuICAgICAgICBpZiAodGFyZ2V0ID09IFwiRG9tYWluXCIpIHtcbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJFeGFjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5FeGFjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5FeGFjdCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5FeGFjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJQcmVmaXhcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblByZWZpeCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5QcmVmaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiUmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUmVnZXggPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ID09IFwiSG9zdFwiKSB7XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiRXhhY3RcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdEV4YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0RXhhY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiUHJlZml4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFByZWZpeCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIlJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RSZWdleCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UmVnZXggPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCA9PSBcIlBhZ2VcIikge1xuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIkV4YWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlRXhhY3QgPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZUV4YWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIlByZWZpeFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUHJlZml4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXggPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJSZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2l0ZUNvbmZpZ0Zvcih1cmw6IHN0cmluZyk6IFNpdGVDb25maWcge1xuICAgICAgICBjb25zdCBtYXRjaGVkQ29uZmlnTm9kZXMgPSB0aGlzLmZpbmRBbGxDb25maWdzRm9yKHVybCk7XG4gICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5zb3J0KChub2RlMSwgbm9kZTIpID0+IG5vZGUyLm1hdGNoV2VpZ2h0IC0gbm9kZTEubWF0Y2hXZWlnaHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5kZXJpdmVDb25maWdGcm9tTWF0Y2hlcyhtYXRjaGVkQ29uZmlnTm9kZXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmluZEFsbENvbmZpZ3NGb3IodXJsU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlZENvbmZpZ05vZGVzOiBTaXRlQ29uZmlnTm9kZVtdID0gW107XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcbiAgICAgICAgY29uc3QgaG9zdCA9IHVybC5ob3N0O1xuICAgICAgICBjb25zdCBwYWdlID0gaG9zdCArIHVybC5wYXRobmFtZTtcbiAgICAgICAgY29uc3QgZG9tYWluID0gdXRpbHMucHNsLmdldERvbWFpbihob3N0KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0KSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IGRvbWFpbikge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0RXhhY3QpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gaG9zdCkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHBhZ2UpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlRXhhY3RbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblByZWZpeCkge1xuICAgICAgICAgICAgaWYgKGRvbWFpbi5zdGFydHNXaXRoKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblByZWZpeFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFByZWZpeCkge1xuICAgICAgICAgICAgaWYgKGhvc3Quc3RhcnRzV2l0aCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUHJlZml4KSB7XG4gICAgICAgICAgICBpZiAocGFnZS5zdGFydHNXaXRoKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXhbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblJlZ2V4KSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCh2YWx1ZSkudGVzdChkb21haW4pKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUmVnZXhbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RSZWdleCkge1xuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAodmFsdWUpLnRlc3QoaG9zdCkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UmVnZXhbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleCkge1xuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAodmFsdWUpLnRlc3QocGFnZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUmVnZXhbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRjaGVkQ29uZmlnTm9kZXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kQWxsQ29uZmlnc0FuZEluZGV4Rm9yKHVybFN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXM6IFNpdGVDb25maWdOb2RlQW5kSW5kZXhbXSA9IFtdO1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHVybFN0cmluZyk7XG4gICAgICAgIGNvbnN0IGhvc3QgPSB1cmwuaG9zdDtcbiAgICAgICAgY29uc3QgcGFnZSA9IGhvc3QgKyB1cmwucGF0aG5hbWU7XG4gICAgICAgIGNvbnN0IGRvbWFpbiA9IHV0aWxzLnBzbC5nZXREb21haW4oaG9zdCk7XG5cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5FeGFjdCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBkb21haW4pIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5FeGFjdFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJEb21haW5cIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkV4YWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdEV4YWN0KSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IGhvc3QpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0RXhhY3RbdmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiSG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiRXhhY3RcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcGFnZSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJQYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJFeGFjdFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblByZWZpeCkge1xuICAgICAgICAgICAgaWYgKGRvbWFpbi5zdGFydHNXaXRoKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblByZWZpeFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJEb21haW5cIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlByZWZpeFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RQcmVmaXgpIHtcbiAgICAgICAgICAgIGlmIChob3N0LnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFByZWZpeFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJIb3N0XCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQcmVmaXhcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUHJlZml4KSB7XG4gICAgICAgICAgICBpZiAocGFnZS5zdGFydHNXaXRoKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXhbdmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiUGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUHJlZml4XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUmVnZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHZhbHVlKS50ZXN0KGRvbWFpbikpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJEb21haW5cIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4KSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCh2YWx1ZSkudGVzdChob3N0KSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RSZWdleFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJIb3N0XCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJSZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleCkge1xuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAodmFsdWUpLnRlc3QocGFnZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUmVnZXhbdmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiUGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlcml2ZUNvbmZpZ0Zyb21NYXRjaGVzKG1hdGNoZWRDb25maWdOb2RlczogU2l0ZUNvbmZpZ05vZGVbXSkge1xuICAgICAgICBjb25zdCBkZXJpdmVkQ29uZmlnOiBTaXRlQ29uZmlnID0ge307XG4gICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5vZGUuY29uZmlnLnByZXZlbnRTYXZlTm90aWZpY2F0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLnByZXZlbnRTYXZlTm90aWZpY2F0aW9uID09IG51bGxcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb24gPSBub2RlLmNvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBub2RlLmNvbmZpZy5saXN0TWF0Y2hpbmdDYXNlU2Vuc2l0aXZlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmUgPT0gbnVsbFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5saXN0TWF0Y2hpbmdDYXNlU2Vuc2l0aXZlID0gbm9kZS5jb25maWcubGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLmJsYWNrTGlzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcuYmxhY2tMaXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5ibGFja0xpc3QgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLmJsYWNrTGlzdC5mb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZvcm0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy5ibGFja0xpc3QuZm9ybS5pZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZvcm0uaWRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5mb3JtLmlkcyA9IG5vZGUuY29uZmlnLmJsYWNrTGlzdC5mb3JtLmlkcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0LmZvcm0ubmFtZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZvcm0ubmFtZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZvcm0ubmFtZXMgPSBub2RlLmNvbmZpZy5ibGFja0xpc3QuZm9ybS5uYW1lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0LmZpZWxkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5maWVsZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZmllbGRzID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLmJsYWNrTGlzdC5maWVsZHMuaWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5maWVsZHMuaWRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5maWVsZHMuaWRzID0gbm9kZS5jb25maWcuYmxhY2tMaXN0LmZpZWxkcy5pZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLmJsYWNrTGlzdC5maWVsZHMubmFtZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZmllbGRzLm5hbWVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jb25maWcuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLndoaXRlTGlzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcud2hpdGVMaXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLndoaXRlTGlzdC5mb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZvcm0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy53aGl0ZUxpc3QuZm9ybS5pZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZvcm0uaWRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5mb3JtLmlkcyA9IG5vZGUuY29uZmlnLndoaXRlTGlzdC5mb3JtLmlkcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0LmZvcm0ubmFtZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZvcm0ubmFtZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZvcm0ubmFtZXMgPSBub2RlLmNvbmZpZy53aGl0ZUxpc3QuZm9ybS5uYW1lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0LmZpZWxkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5maWVsZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZmllbGRzID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLndoaXRlTGlzdC5maWVsZHMuaWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5maWVsZHMuaWRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5maWVsZHMuaWRzID0gbm9kZS5jb25maWcud2hpdGVMaXN0LmZpZWxkcy5pZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLndoaXRlTGlzdC5maWVsZHMubmFtZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZpZWxkcy5uYW1lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jb25maWcud2hpdGVMaXN0LmZpZWxkcy5uYW1lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5vZGUuY29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQgPT0gbnVsbFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQgPSBub2RlLmNvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVyaXZlZENvbmZpZztcbiAgICB9XG5cbiAgICBwcml2YXRlIG5vcm1hbGl6ZUZvcm1Qcm9wZXJ0eShpbnB1dDogdW5rbm93biwgaWM6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBpYyA/IGlucHV0LnRvTG93ZXJDYXNlKCkgOiBpbnB1dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNGb3JtSW50ZXJlc3RpbmcoZm9ybTogSFRNTEZvcm1FbGVtZW50LCBjb25mOiBTaXRlQ29uZmlnLCBvdGhlckZpZWxkczogRmllbGRbXSkge1xuICAgICAgICBjb25zdCBpYyA9IGNvbmYubGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZSAhPT0gdHJ1ZTtcbiAgICAgICAgY29uc3QgZmllbGRJZHMgPSBvdGhlckZpZWxkc1xuICAgICAgICAgICAgLm1hcChmaWVsZCA9PiAoaWMgPyBmaWVsZC5sb2NhdG9yc1swXT8uaWQudG9Mb3dlckNhc2UoKSA6IGZpZWxkLmxvY2F0b3JzWzBdPy5pZCkpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBmaWVsZE5hbWVzID0gb3RoZXJGaWVsZHNcbiAgICAgICAgICAgIC5tYXAoZmllbGQgPT4gKGljID8gZmllbGQubG9jYXRvcnNbMF0/Lm5hbWUudG9Mb3dlckNhc2UoKSA6IGZpZWxkLmxvY2F0b3JzWzBdPy5uYW1lKSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IHRoaXMubm9ybWFsaXplRm9ybVByb3BlcnR5KGZvcm0uaWQsIGljKTtcbiAgICAgICAgY29uc3QgZm9ybU5hbWUgPSB0aGlzLm5vcm1hbGl6ZUZvcm1Qcm9wZXJ0eShmb3JtLm5hbWUsIGljKTtcbiAgICAgICAgY29uc3QgZXhjbHVkZUZvcm1JZHMgPSAoY29uZj8uYmxhY2tMaXN0Py5mb3JtPy5pZHMgfHwgW10pXG4gICAgICAgICAgICAubWFwKHggPT4gKGljID8geD8udG9Mb3dlckNhc2UoKSA6IHgpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgZXhjbHVkZUZvcm1OYW1lcyA9IChjb25mPy5ibGFja0xpc3Q/LmZvcm0/Lm5hbWVzIHx8IFtdKVxuICAgICAgICAgICAgLm1hcCh4ID0+IChpYyA/IHg/LnRvTG93ZXJDYXNlKCkgOiB4KSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IGV4Y2x1ZGVGaWVsZElkcyA9IChjb25mPy5ibGFja0xpc3Q/LmZpZWxkcz8uaWRzIHx8IFtdKVxuICAgICAgICAgICAgLm1hcCh4ID0+IChpYyA/IHg/LnRvTG93ZXJDYXNlKCkgOiB4KSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IGV4Y2x1ZGVGaWVsZE5hbWVzID0gKGNvbmY/LmJsYWNrTGlzdD8uZmllbGRzPy5uYW1lcyB8fCBbXSlcbiAgICAgICAgICAgIC5tYXAoeCA9PiAoaWMgPyB4Py50b0xvd2VyQ2FzZSgpIDogeCkpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuXG4gICAgICAgIGNvbnN0IGV4Y2x1ZGVkID1cbiAgICAgICAgICAgIGV4Y2x1ZGVGb3JtSWRzLmluZGV4T2YoZm9ybUlkKSA+PSAwIHx8XG4gICAgICAgICAgICBleGNsdWRlRm9ybU5hbWVzLmluZGV4T2YoZm9ybU5hbWUpID49IDAgfHxcbiAgICAgICAgICAgIGV4Y2x1ZGVGaWVsZElkcy5zb21lKGlkID0+IGZpZWxkSWRzLmZpbmQoaSA9PiBpZCA9PT0gaSkgIT09IHVuZGVmaW5lZCkgfHxcbiAgICAgICAgICAgIGV4Y2x1ZGVGaWVsZE5hbWVzLnNvbWUobmFtZSA9PiBmaWVsZE5hbWVzLmZpbmQobiA9PiBuYW1lID09PSBuKSAhPT0gdW5kZWZpbmVkKTtcblxuICAgICAgICBpZiAoZXhjbHVkZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBpbmNsdWRlRm9ybUlkcyA9IGNvbmY/LndoaXRlTGlzdD8uZm9ybT8uaWRzIHx8IFtdO1xuICAgICAgICBjb25zdCBpbmNsdWRlRm9ybU5hbWVzID0gY29uZj8ud2hpdGVMaXN0Py5mb3JtPy5uYW1lcyB8fCBbXTtcbiAgICAgICAgY29uc3QgaW5jbHVkZUZpZWxkSWRzID0gY29uZj8ud2hpdGVMaXN0Py5maWVsZHM/LmlkcyB8fCBbXTtcbiAgICAgICAgY29uc3QgaW5jbHVkZUZpZWxkTmFtZXMgPSBjb25mPy53aGl0ZUxpc3Q/LmZpZWxkcz8ubmFtZXMgfHwgW107XG5cbiAgICAgICAgY29uc3QgaW5jbHVkZWQgPVxuICAgICAgICAgICAgaW5jbHVkZUZvcm1JZHMuaW5kZXhPZihmb3JtSWQpID49IDAgfHxcbiAgICAgICAgICAgIGluY2x1ZGVGb3JtTmFtZXMuaW5kZXhPZihmb3JtTmFtZSkgPj0gMCB8fFxuICAgICAgICAgICAgaW5jbHVkZUZpZWxkSWRzLnNvbWUoaWQgPT4gZmllbGRJZHMuZmluZChpID0+IGlkID09PSBpKSAhPT0gdW5kZWZpbmVkKSB8fFxuICAgICAgICAgICAgaW5jbHVkZUZpZWxkTmFtZXMuc29tZShuYW1lID0+IGZpZWxkTmFtZXMuZmluZChuID0+IG5hbWUgPT09IG4pICE9PSB1bmRlZmluZWQpO1xuXG4gICAgICAgIGlmIChpbmNsdWRlZCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBhY3RpdmVUaGVtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50LnRoZW1lIHx8XG4gICAgICAgICAgICAod2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXMgPyBcImRhcmtcIiA6IFwibGlnaHRcIilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9nZ2xlUHJlZmVycmVkRW50cnlVdWlkKHV1aWQ6IHN0cmluZywgdXJsU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHVybDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgS2VlTG9nLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiSW52YWxpZCBVUkwgc3VwcGxpZWQgdG8gdG9nZ2xlUHJlZmVycmVkRW50cnlVdWlkLiBQcmVmZXJyZWQgZW50cnkgd2lsbCBub3QgYmUgYWx0ZXJlZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb25maWd1cmVkVGFyZ2V0OiBTaXRlQ29uZmlnVGFyZ2V0ID0gXCJEb21haW5cIjtcbiAgICAgICAgY29uc3QgYWxsQ29uZmlnTm9kZXNBbmRMb29rdXBzID0gdGhpcy5maW5kQWxsQ29uZmlnc0FuZEluZGV4Rm9yKHVybFN0cmluZyk7XG4gICAgICAgIGNvbnN0IGRlcml2ZWRDb25maWcgPSB0aGlzLnNpdGVDb25maWdGb3IodXJsU3RyaW5nKTtcbiAgICAgICAgY29uc3QgY3VycmVudFByZWZlcnJlZFV1aWQgPSBkZXJpdmVkQ29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZDtcblxuICAgICAgICBpZiAoY3VycmVudFByZWZlcnJlZFV1aWQgPT09IHV1aWQpIHtcbiAgICAgICAgICAgIGFsbENvbmZpZ05vZGVzQW5kTG9va3Vwcy5mb3JFYWNoKGNubCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNubC5ub2RlLmNvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQgPT09IHV1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQcmVmZXJyZWRFbnRyeVV1aWQoY25sKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsbENvbmZpZ05vZGVzQW5kTG9va3Vwcy5mb3JFYWNoKGNubCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjbmwubm9kZS5jb25maWcucHJlZmVycmVkRW50cnlVdWlkID09PSBjdXJyZW50UHJlZmVycmVkVXVpZCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlYXN0U3BlY2lmaWNUYXJnZXQoY29uZmlndXJlZFRhcmdldCwgY25sLnRhcmdldCkgPT09IGNvbmZpZ3VyZWRUYXJnZXRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQcmVmZXJyZWRFbnRyeVV1aWQoY25sKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5hZGRTaXRlQ29uZmlnUGFyYW1ldGVycyhcbiAgICAgICAgICAgICAgICB7IHByZWZlcnJlZEVudHJ5VXVpZDogdXVpZCB9IGFzIFNpdGVDb25maWcsXG4gICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyZWRUYXJnZXQsXG4gICAgICAgICAgICAgICAgXCJFeGFjdFwiLFxuICAgICAgICAgICAgICAgIFwiQXV0b1wiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlUHJlZmVycmVkRW50cnlVdWlkKGNubDogU2l0ZUNvbmZpZ05vZGVBbmRJbmRleCkge1xuICAgICAgICBjbmwubm9kZS5jb25maWcucHJlZmVycmVkRW50cnlVdWlkID0gbnVsbDtcblxuICAgICAgICAvLyBVbmxlc3MgdGhlIHVzZXIgaGFzIG1hbnVhbGx5IG1vZGlmaWVkIHRoZSBwZXItc2l0ZSBjb25maWcgZm9yIHRoaXMgc2l0ZVxuICAgICAgICAvLyB3ZSBjYW4gdGlkeSB1cCB0aGlzIHVubmVjZXNzYXJ5IGRhdGFcbiAgICAgICAgaWYgKGNubC5ub2RlLnNvdXJjZSA9PT0gXCJBdXRvXCIgJiYgdGhpcy5lcXVhbHNEZWZhdWx0U2l0ZUNvbmZpZyhjbmwubm9kZS5jb25maWcpKSB7XG4gICAgICAgICAgICBjb25zdCBsb29rdXAgPSB0aGlzLnNpdGVDb25maWdMb29rdXBGb3IoY25sLnRhcmdldCwgY25sLm1ldGhvZCk7XG4gICAgICAgICAgICBkZWxldGUgbG9va3VwW2NubC5sb29rdXBWYWx1ZV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGVxdWFsc0RlZmF1bHRTaXRlQ29uZmlnKGNvbmZpZzogU2l0ZUNvbmZpZykge1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQgPT09IFwiYm9vbGVhblwiKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLnByZXZlbnRTYXZlTm90aWZpY2F0aW9uID09PSBcImJvb2xlYW5cIikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5saXN0TWF0Y2hpbmdDYXNlU2Vuc2l0aXZlID09PSBcImJvb2xlYW5cIikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29uZmlnLndoaXRlTGlzdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29uZmlnLmJsYWNrTGlzdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxlYXN0U3BlY2lmaWNUYXJnZXQodDE6IFNpdGVDb25maWdUYXJnZXQsIHQyOiBTaXRlQ29uZmlnVGFyZ2V0KTogU2l0ZUNvbmZpZ1RhcmdldCB7XG4gICAgICAgIGlmICh0MSA9PT0gXCJEb21haW5cIiB8fCB0MiA9PT0gXCJEb21haW5cIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiRG9tYWluXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQxID09PSBcIkhvc3RcIiB8fCB0MiA9PT0gXCJIb3N0XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkhvc3RcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJQYWdlXCI7XG4gICAgfVxuXG4gICAgcHVibGljIHZhbHVlRnJvbVVybCh1cmw6IFVSTCwgdGFyZ2V0OiBTaXRlQ29uZmlnVGFyZ2V0KTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgaG9zdCA9IHVybC5ob3N0O1xuICAgICAgICBpZiAodGFyZ2V0ID09PSBcIkhvc3RcIikgcmV0dXJuIGhvc3Q7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IFwiUGFnZVwiKSByZXR1cm4gaG9zdCArIHVybC5wYXRobmFtZTtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gXCJEb21haW5cIikgcmV0dXJuIHV0aWxzLnBzbC5nZXREb21haW4oaG9zdCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFNpdGVDb25maWdQYXJhbWV0ZXJzKFxuICAgICAgICBwYXJ0aWFsQ29uZmlnOiBQYXJ0aWFsPFNpdGVDb25maWc+LFxuICAgICAgICB1cmw6IFVSTCxcbiAgICAgICAgdGFyZ2V0OiBTaXRlQ29uZmlnVGFyZ2V0LFxuICAgICAgICBtZXRob2Q6IFNpdGVDb25maWdNZXRob2QsXG4gICAgICAgIHNvdXJjZTogU2l0ZUNvbmZpZ05vZGVUeXBlXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZUZyb21VcmwodXJsLCB0YXJnZXQpO1xuICAgICAgICBjb25zdCBjb25maWdMb29rdXAgPSBjb25maWdNYW5hZ2VyLnNpdGVDb25maWdMb29rdXBGb3IodGFyZ2V0LCBtZXRob2QpO1xuICAgICAgICBpZiAoIWNvbmZpZ0xvb2t1cFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIGNvbmZpZ0xvb2t1cFt2YWx1ZV0gPSB7IGNvbmZpZzogbmV3IFNpdGVDb25maWcoKSwgc291cmNlLCBtYXRjaFdlaWdodDogMTAwIH07XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWdMb29rdXBbdmFsdWVdLmNvbmZpZywgcGFydGlhbENvbmZpZyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgY29uZmlnTWFuYWdlciA9IG5ldyBDb25maWdNYW5hZ2VyKCk7XG4iLCJpbXBvcnQgeyBjb25maWdNYW5hZ2VyIH0gZnJvbSBcIi4uL2NvbW1vbi9Db25maWdNYW5hZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBQYW5lbFN0dWJPcHRpb25zIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGF1dG9DbG9zZVRpbWU6IG51bWJlcjtcbiAgICBsZWdhY3k6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgc3RhdGljIE1hdGNoZWRMb2dpbnM6IFBhbmVsU3R1Yk9wdGlvbnMgPSB7XG4gICAgICAgIGlkOiBcIktlZUFkZG9uUGFuZWxNYXRjaGVkTG9naW5zXCIsXG4gICAgICAgIGhlaWdodDogMzAwLFxuICAgICAgICB3aWR0aDogNDAwLFxuICAgICAgICBuYW1lOiBcIm1hdGNoZWRMb2dpbnNMZWdhY3lcIixcbiAgICAgICAgYXV0b0Nsb3NlVGltZTogMCxcbiAgICAgICAgbGVnYWN5OiB0cnVlXG4gICAgfTtcblxuICAgIHB1YmxpYyBzdGF0aWMgR2VuZXJhdGVQYXNzd29yZExlZ2FjeTogUGFuZWxTdHViT3B0aW9ucyA9IHtcbiAgICAgICAgaWQ6IFwiS2VlQWRkb25QYW5lbEdlbmVyYXRlUGFzc3dvcmRcIixcbiAgICAgICAgaGVpZ2h0OiAzMDAsXG4gICAgICAgIHdpZHRoOiA0MDAsXG4gICAgICAgIG5hbWU6IFwiZ2VuZXJhdGVQYXNzd29yZExlZ2FjeVwiLFxuICAgICAgICBhdXRvQ2xvc2VUaW1lOiAwLFxuICAgICAgICBsZWdhY3k6IHRydWVcbiAgICB9O1xuXG4gICAgcHVibGljIHN0YXRpYyBHZW5lcmF0ZVBhc3N3b3JkOiBQYW5lbFN0dWJPcHRpb25zID0ge1xuICAgICAgICBpZDogXCJLZWVBZGRvblBhbmVsR2VuZXJhdGVQYXNzd29yZFwiLFxuICAgICAgICBoZWlnaHQ6IDUwMCxcbiAgICAgICAgd2lkdGg6IDQ1MCxcbiAgICAgICAgbmFtZTogXCJnZW5lcmF0ZVBhc3N3b3JkXCIsXG4gICAgICAgIGF1dG9DbG9zZVRpbWU6IDAsXG4gICAgICAgIGxlZ2FjeTogZmFsc2VcbiAgICB9O1xufVxuXG5leHBvcnQgY2xhc3MgUGFuZWxTdHViIHtcbiAgICBwcml2YXRlIHRhcmdldDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgdGFyZ2V0UmVsYXRpdmVSZWN0OiBDbGllbnRSZWN0O1xuICAgIHByaXZhdGUgb3B0aW9uczogUGFuZWxTdHViT3B0aW9ucztcbiAgICBwcml2YXRlIHBhcmVudEZyYW1lSWQ6IG51bWJlcjtcbiAgICBwcml2YXRlIGVsZW1lbnRUb1JlZm9jdXM6IEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBQYW5lbFN0dWJPcHRpb25zLCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBwYXJlbnRGcmFtZUlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucGFyZW50RnJhbWVJZCA9IHBhcmVudEZyYW1lSWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZVBhbmVsKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm5hbWUgPT0gXCJnZW5lcmF0ZVBhc3N3b3JkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFRvUmVmb2N1cyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmNvbnRhaW5lci5hdHRhY2hTaGFkb3coeyBtb2RlOiBcImNsb3NlZFwiIH0pO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pZCA9IHRoaXMub3B0aW9ucy5pZDtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYDpob3N0KGRpdikge1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgei1pbmRleDogMjE0NzQ4MzY0NyAhaW1wb3J0YW50O1xuICAgICAgICB9YDtcbiAgICAgICAgc2hhZG93LmFwcGVuZENoaWxkKHN0eWxlKTtcblxuICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0ID0gdGhpcy50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uUGFuZWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFwid2lkdGhcIiwgdGhpcy5vcHRpb25zLndpZHRoICsgXCJweFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFwiaGVpZ2h0XCIsIHRoaXMub3B0aW9ucy5oZWlnaHQgKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgXCJ0b3BcIixcbiAgICAgICAgICAgICAgICAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5vcHRpb25zLmhlaWdodCkgLyAyICsgd2luZG93LnNjcm9sbFkgKyBcInB4XCIsXG4gICAgICAgICAgICAgICAgXCJpbXBvcnRhbnRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgICAgIFwibGVmdFwiLFxuICAgICAgICAgICAgICAgICh3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMub3B0aW9ucy53aWR0aCkgLyAyICsgd2luZG93LnNjcm9sbFggKyBcInB4XCIsXG4gICAgICAgICAgICAgICAgXCJpbXBvcnRhbnRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzYW5kYm94XCIsIFwiYWxsb3ctc2NyaXB0cyBhbGxvdy1zYW1lLW9yaWdpblwiKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcImFsbG93XCIsIFwiXCIpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXCJ3aWR0aFwiLCBcIjEwMCVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcImhlaWdodFwiLCBcIjEwMCVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcInBvc2l0aW9uXCIsIFwicmVsYXRpdmVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZC1jb2xvclwiLFxuICAgICAgICAgICAgY29uZmlnTWFuYWdlci5hY3RpdmVUaGVtZSA9PT0gXCJkYXJrXCIgPyBcIiMxZTFlMWVcIiA6IFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJpbXBvcnRhbnRcIlxuICAgICAgICApO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwic2Nyb2xsaW5nXCIsIFwibm9cIik7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGVnYWN5KSB7XG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXCJib3JkZXJcIiwgXCJub25lXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwiYm9yZGVyXCIsIFwiMnB4IHNvbGlkICMxYTQ2NmJcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXCJib3JkZXItcmFkaXVzXCIsIFwiOHB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhZG93LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gYnJvd3Nlci5leHRlbnNpb24uZ2V0VVJMKFxuICAgICAgICAgICAgYHBhbmVscy9wYW5lbHMke3RoaXMub3B0aW9ucy5sZWdhY3kgPyBcIkxlZ2FjeVwiIDogXCJcIn0uaHRtbGBcbiAgICAgICAgKTtcbiAgICAgICAgaWZyYW1lLnNyYyA9IGAke3RlbXBsYXRlfT9wYXJlbnRGcmFtZUlkPSR7dGhpcy5wYXJlbnRGcmFtZUlkfSZhdXRvQ2xvc2VUaW1lPSR7dGhpcy5vcHRpb25zLmF1dG9DbG9zZVRpbWV9JnBhbmVsPSR7dGhpcy5vcHRpb25zLm5hbWV9JnRoZW1lPSR7Y29uZmlnTWFuYWdlci5hY3RpdmVUaGVtZX1gO1xuXG4gICAgICAgIGNvbnN0IGJvZHlFbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKTtcbiAgICAgICAgaWYgKGJvZHlFbGVtZW50cyAmJiBib2R5RWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYm9keUVsZW1lbnRzWzBdLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lc2V0RWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImZyYW1lc2V0XCIpO1xuICAgICAgICAgICAgaWYgKGZyYW1lc2V0RWxlbWVudHMgJiYgZnJhbWVzZXRFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZnJhbWVzZXRFbGVtZW50c1swXS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlQm91bmRpbmdDbGllbnRSZWN0KCkge1xuICAgICAgICBjb25zdCBvbGRSZWN0ID0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3Q7XG4gICAgICAgIHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0ID0gdGhpcy50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgb2xkUmVjdC50b3AgIT0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QudG9wIHx8XG4gICAgICAgICAgICBvbGRSZWN0LmJvdHRvbSAhPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC5ib3R0b20gfHxcbiAgICAgICAgICAgIG9sZFJlY3QubGVmdCAhPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC5sZWZ0IHx8XG4gICAgICAgICAgICBvbGRSZWN0LnJpZ2h0ICE9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LnJpZ2h0XG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvblBhbmVsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHBvc2l0aW9uUGFuZWwoKSB7XG4gICAgICAgIGNvbnN0IHByZWZlcnJlZENvbnRhaW5lckhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIGxldCBjb250YWluZXJIZWlnaHQgPSBwcmVmZXJyZWRDb250YWluZXJIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoO1xuICAgICAgICBsZXQgcG9zaXRpb25BYm92ZSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHRhcmdldFRvcCA9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICBjb25zdCB0YXJnZXRCb3R0b20gPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC5ib3R0b20gKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgY29uc3QgcHJlZmVycmVkQXJyb3dYQ29vcmQgPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC5yaWdodCAtIDEyO1xuXG4gICAgICAgIGNvbnN0IHByZWZlcnJlZEJvdHRvbSA9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmJvdHRvbSArIHByZWZlcnJlZENvbnRhaW5lckhlaWdodDtcbiAgICAgICAgaWYgKHByZWZlcnJlZEJvdHRvbSA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgICAgY29uc3QgcHJlZmVycmVkVG9wID0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QudG9wIC0gcHJlZmVycmVkQ29udGFpbmVySGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHByZWZlcnJlZFRvcCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25BYm92ZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93Qm90dG9tID0gcHJlZmVycmVkQm90dG9tIC0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93VG9wID0gLXByZWZlcnJlZFRvcDtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcmZsb3dCb3R0b20gPiBvdmVyZmxvd1RvcCkge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkFib3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gcHJlZmVycmVkQ29udGFpbmVySGVpZ2h0IC0gb3ZlcmZsb3dUb3A7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gcHJlZmVycmVkQ29udGFpbmVySGVpZ2h0IC0gb3ZlcmZsb3dCb3R0b207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSBhcyBmYXIgbGVmdCBhcyBwb3NzaWJsZSB3aGlsZSBrZWVwaW5nIHRoZSBLZWUgaWNvbiBhYm92ZSB0aGUgY29udGFpbmVyIGFuZCBub3RcbiAgICAgICAgLy8gZ29pbmcgYmV5b25kIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHRhcmdldC4gV2UgYXNzdW1lIHRoZSBLZWUgaWNvbiBpcyBhbHdheXMgdmlzaWJsZSBiZWNhdXNlXG4gICAgICAgIC8vIHRoZSB1c2VyIGhhcyBoYWQgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgYnV0dG9uIGluaXRpYWxseS4gVGhhdCBhc3N1bXB0aW9uIHdvbid0IGFsd2F5cyBob2xkXG4gICAgICAgIC8vIC0gZS5nLiBpbiB2ZXJ5IG5hcnJvdyBzY3JlZW5zIHdpdGgga2V5Ym9hcmQgYWN0aXZhdGlvbiBvciBzb21lIGxhdGVyIHdpbmRvdyBvciBET00gYWRqdXN0bWVudHMgYnV0IHRoaXMgc2hvdWxkXG4gICAgICAgIC8vIGJlIGFuIGVkZ2UgY2FzZSB0aGF0IHVzZXJzIGNhbiB3b3JrIGFyb3VuZCB1bnRpbCB3ZSBoYXZlIG1vcmUgdGltZSB0byBleHRlbmQgc3VwcG9ydCB0byB0aG9zZSBzY2VuYXJpb3MuXG4gICAgICAgIGNvbnN0IHRhcmdldFdpZHRoID0gcHJlZmVycmVkQXJyb3dYQ29vcmQgLSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC5sZWZ0O1xuICAgICAgICBsZXQgcmVsYXRpdmVMZWZ0OiBudW1iZXI7XG4gICAgICAgIGlmICh0YXJnZXRXaWR0aCA8IGNvbnRhaW5lcldpZHRoKSB7XG4gICAgICAgICAgICByZWxhdGl2ZUxlZnQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoIC0gY29udGFpbmVyV2lkdGhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWxhdGl2ZUxlZnQgPSBwcmVmZXJyZWRBcnJvd1hDb29yZCAtIGNvbnRhaW5lcldpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9wID0gcG9zaXRpb25BYm92ZSA/IHRhcmdldFRvcCAtIGNvbnRhaW5lckhlaWdodCA6IHRhcmdldEJvdHRvbTtcbiAgICAgICAgY29uc3QgbGVmdCA9IHJlbGF0aXZlTGVmdCArIHdpbmRvdy5zY3JvbGxYO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcIndpZHRoXCIsIGNvbnRhaW5lcldpZHRoICsgXCJweFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgY29udGFpbmVySGVpZ2h0ICsgXCJweFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJ0b3BcIiwgdG9wICsgXCJweFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJsZWZ0XCIsIGxlZnQgKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZVBhbmVsKCkge1xuICAgICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMub3B0aW9ucy5pZCk7XG4gICAgICAgIGlmIChwYW5lbCkgcGFuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwYW5lbCk7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRUb1JlZm9jdXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgKHRoaXMuZWxlbWVudFRvUmVmb2N1cyBhcyBIVE1MRWxlbWVudCkuZm9jdXMoKTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8vIEV4cGVjdGVkIGlmIGFjdGl2ZUVsZW1lbnQgd2FzIG5vdCBhY3R1YWxseSBhbiBIVE1MRWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGVudW0gQWN0aW9uIHtcbiAgICBDbG9zZUFsbFBhbmVscyA9IFwiY2xvc2VBbGxQYW5lbHNcIixcbiAgICBEZXRlY3RGb3JtcyA9IFwiZGV0ZWN0Rm9ybXNcIixcbiAgICBSZXNldEZvcm1zID0gXCJyZXNldEZvcm1zXCIsXG4gICAgR2V0UGFzc3dvcmRQcm9maWxlcyA9IFwiZ2V0UGFzc3dvcmRQcm9maWxlc1wiLFxuICAgIEdlbmVyYXRlUGFzc3dvcmQgPSBcImdlbmVyYXRlUGFzc3dvcmRcIixcbiAgICBNYW51YWxGaWxsID0gXCJtYW51YWxGaWxsXCIsXG4gICAgUHJpbWFyeSA9IFwicHJpbWFyeVwiLFxuICAgIFNob3dNYXRjaGVkTG9naW5zUGFuZWwgPSBcInNob3dNYXRjaGVkTG9naW5zUGFuZWxcIixcbiAgICBQYWdlSGlkZSA9IFwicGFnZUhpZGVcIixcbiAgICBPcGVuS2VlUGFzcyA9IFwib3BlbmtlZXBhc3NcIixcbiAgICBDcmVhdGVFbnRyeSA9IFwiY3JlYXRlRW50cnlcIixcbiAgICBVcGRhdGVFbnRyeSA9IFwidXBkYXRlRW50cnlcIlxufVxuIiwiaW1wb3J0IHsgRm9ybVV0aWxzIH0gZnJvbSBcIi4vZm9ybXNVdGlsc1wiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSBcIi4uL2NvbW1vbi9BY3Rpb25cIjtcbmltcG9ydCB7IEFkZG9uTWVzc2FnZSB9IGZyb20gXCIuLi9jb21tb24vQWRkb25NZXNzYWdlXCI7XG5pbXBvcnQgeyBNYXRjaGVkRmllbGQgfSBmcm9tIFwiLi9NYXRjaGVkRmllbGRcIjtcbmltcG9ydCB7IEVudHJ5IH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9FbnRyeVwiO1xuXG5leHBvcnQgY2xhc3MgS2VlRmllbGRJY29uIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBteVBvcnQ6IGJyb3dzZXIucnVudGltZS5Qb3J0LFxuICAgICAgICBwcml2YXRlIHBhcmVudEZyYW1lSWQ6IG51bWJlcixcbiAgICAgICAgcHJpdmF0ZSBmb3JtVXRpbHM6IEZvcm1VdGlscyxcbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVNYXRjaGVkTG9naW5zUGFuZWxOZWFyTm9kZTogKGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkXG4gICAgKSB7fVxuXG4gICAgcHJpdmF0ZSBmaWVsZHNXaXRoSWNvbnM6IE1hdGNoZWRGaWVsZFtdID0gW107XG4gICAgcHJpdmF0ZSBwYXNzd29yZEZpZWxkczogTWF0Y2hlZEZpZWxkW107XG4gICAgcHJpdmF0ZSBvdGhlckZpZWxkczogTWF0Y2hlZEZpZWxkW107XG5cbiAgICBwdWJsaWMgcmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5maWVsZHNXaXRoSWNvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZmllbGQuRE9NZWxlbWVudDtcbiAgICAgICAgICAgIGlmICghZWxlbWVudCkgY29udGludWU7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwiXCIpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtcmVwZWF0XCIsIFwiXCIpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtYXR0YWNobWVudFwiLCBcIlwiKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLXNpemVcIiwgXCJcIik7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1wb3NpdGlvblwiLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpZWxkc1dpdGhJY29ucyA9IFtdO1xuICAgICAgICB0aGlzLnBhc3N3b3JkRmllbGRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vdGhlckZpZWxkcyA9IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEtlZUljb25Ub0ZpZWxkcyhcbiAgICAgICAgcGFzc3dvcmRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdLFxuICAgICAgICBvdGhlckZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIGVudHJpZXM6IEVudHJ5W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5wYXNzd29yZEZpZWxkcyA9IHBhc3N3b3JkRmllbGRzO1xuICAgICAgICB0aGlzLm90aGVyRmllbGRzID0gb3RoZXJGaWVsZHM7XG5cbiAgICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5nZXRMYWJlbGxlZEljb24oZW50cmllcy5sZW5ndGgudG9TdHJpbmcoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFmdGVySW1hZ2VMb2FkZWQodGhpcy5LRUVGT1hfSUNPTl8xNik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNraXBGaWVsZChmaWVsZDogTWF0Y2hlZEZpZWxkKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICF0aGlzLmZvcm1VdGlscy5pc0FUZXh0Rm9ybUZpZWxkVHlwZShmaWVsZC5maWVsZC50eXBlKSAmJlxuICAgICAgICAgICAgZmllbGQuZmllbGQudHlwZSAhPSBcInBhc3N3b3JkXCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhZmllbGQuRE9NZWxlbWVudCB8fFxuICAgICAgICAgICAgZmllbGQuRE9NZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50IHx8XG4gICAgICAgICAgICAhZmllbGQuRE9NZWxlbWVudC5pc0Nvbm5lY3RlZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWVsZC5ET01lbGVtZW50Lm1heExlbmd0aCA+IDAgJiYgZmllbGQuRE9NZWxlbWVudC5tYXhMZW5ndGggPD0gMykgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChmaWVsZC5ET01lbGVtZW50Lm9mZnNldFdpZHRoIDwgNTApIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRJY29uKGZpZWxkOiBNYXRjaGVkRmllbGQsIGltYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5maWVsZHNXaXRoSWNvbnMucHVzaChmaWVsZCk7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudDogSFRNTEVsZW1lbnQgPSBmaWVsZC5ET01lbGVtZW50O1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMpO1xuXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwidXJsKCdcIiArIGltYWdlICsgXCInKVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtcmVwZWF0XCIsIFwibm8tcmVwZWF0XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCIsIFwic2Nyb2xsXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1zaXplXCIsIFwiMTZweCAxNnB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1wb3NpdGlvblwiLCBcImNhbGMoMTAwJSAtIDRweCkgNTAlXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiY3Vyc29yXCIsIFwiYXV0b1wiKTtcblxuICAgICAgICBjb25zdCB0cmFuc2l0aW9uQ29uZmlnID0gd2luZG93XG4gICAgICAgICAgICAuZ2V0Q29tcHV0ZWRTdHlsZShmaWVsZC5ET01lbGVtZW50KVxuICAgICAgICAgICAgLmdldFByb3BlcnR5VmFsdWUoXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCIpO1xuICAgICAgICBpZiAoW1wiYWxsXCIsIFwiYmFja2dyb3VuZFwiXS5zb21lKHZhbCA9PiB0cmFuc2l0aW9uQ29uZmlnLmluY2x1ZGVzKHZhbCkpKSB7XG4gICAgICAgICAgICBmaWVsZC5ET01lbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwidHJhbnNpdGlvblwiLCBcIm5vbmVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm92ZXJyaWRlQm94U2hhZG93cyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlRXZlbnQoZTogRXZlbnQpIHtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJjbGlja1wiKSB0aGlzLnNob3dNYXRjaGVkTG9naW5zUGFuZWwoZSk7XG4gICAgICAgIGlmIChlLnR5cGUgPT09IFwibW91c2Vtb3ZlXCIpIHRoaXMuaG92ZXJPdmVySW5wdXQoZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsaW1pdEZpZWxkcyhmaWVsZHM6IE1hdGNoZWRGaWVsZFtdKSB7XG4gICAgICAgIGNvbnN0IG9yZGVyZWRGaWVsZHMgPSBmaWVsZHNcbiAgICAgICAgICAgIC5maWx0ZXIoZiA9PiAhdGhpcy5za2lwRmllbGQoZikpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhLmhpZ2hlc3RTY29yZSA9PT0gYi5oaWdoZXN0U2NvcmUpIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBhLmhpZ2hlc3RTY29yZSA8IGIuaGlnaGVzdFNjb3JlID8gMSA6IC0xO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvcmRlcmVkRmllbGRzLnNsaWNlKDAsIDIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWZ0ZXJJbWFnZUxvYWRlZChpbWFnZTogc3RyaW5nKSB7XG4gICAgICAgIC8vIFB1dCBpY29ucyBpbiBvbmx5IHRoZSB0b3AgMiBtYXRjaGluZyBwYXNzd29yZCBhbmQgdGV4dCBmaWVsZHNcbiAgICAgICAgY29uc3QgZmllbGRTZXQxID0gdGhpcy5saW1pdEZpZWxkcyh0aGlzLnBhc3N3b3JkRmllbGRzKTtcbiAgICAgICAgY29uc3QgZmllbGRTZXQyID0gdGhpcy5saW1pdEZpZWxkcyh0aGlzLm90aGVyRmllbGRzKTtcbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZFNldDEuY29uY2F0KGZpZWxkU2V0MikpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSWNvbihmaWVsZCwgaW1hZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvdmVycmlkZUJveFNoYWRvd3MoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICAgIGlmIChjdXJyZW50U3R5bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd3MgPSBbXTtcbiAgICAgICAgICAgIHNoYWRvd3MucHVzaChjdXJyZW50U3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcImJveC1zaGFkb3dcIikpO1xuICAgICAgICAgICAgc2hhZG93cy5wdXNoKGN1cnJlbnRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiLXdlYmtpdC1ib3gtc2hhZG93XCIpKTtcbiAgICAgICAgICAgIHNoYWRvd3MucHVzaChjdXJyZW50U3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcIi1tb3otYm94LXNoYWRvd1wiKSk7XG4gICAgICAgICAgICBpZiAoc2hhZG93cy5zb21lKHMgPT4gcy5pbmRleE9mKFwiaW5zZXRcIikpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJveC1zaGFkb3dcIiwgXCJpbml0aWFsXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItd2Via2l0LWJveC1zaGFkb3dcIiwgXCJpbml0aWFsXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItbW96LWJveC1zaGFkb3dcIiwgXCJpbml0aWFsXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93TWF0Y2hlZExvZ2luc1BhbmVsKGUpIHtcbiAgICAgICAgY29uc3QgYmNyZWN0ID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGxlZnRMaW1pdCA9IGJjcmVjdC5sZWZ0ICsgYmNyZWN0LndpZHRoIC0gMjI7XG4gICAgICAgIGlmIChlLmNsaWVudFggPiBsZWZ0TGltaXQgJiYgYmNyZWN0LnRvcCA8PSBlLmNsaWVudFkgJiYgZS5jbGllbnRZIDw9IGJjcmVjdC5ib3R0b20pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudEZyYW1lSWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm15UG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogQWN0aW9uLlNob3dNYXRjaGVkTG9naW5zUGFuZWxcbiAgICAgICAgICAgICAgICB9IGFzIEFkZG9uTWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTWF0Y2hlZExvZ2luc1BhbmVsTmVhck5vZGUoZS50YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBob3Zlck92ZXJJbnB1dChlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldC5kaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBiY3JlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVmdExpbWl0ID0gYmNyZWN0LmxlZnQgKyBiY3JlY3Qud2lkdGggLSAyMjtcbiAgICAgICAgaWYgKGUuY2xpZW50WCA+IGxlZnRMaW1pdCkge1xuICAgICAgICAgICAgZS50YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGUudGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KFwiY3Vyc29yXCIsIFwiYXV0b1wiKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldExhYmVsbGVkSWNvbih0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDE2O1xuICAgICAgICBjYW52YXMud2lkdGggPSAxNjtcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCg2LCA4LCAxMCwgOCk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwicmVkXCI7XG4gICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBcIjhweCBBcmlhbFwiO1xuICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCA3LCAxNSk7XG4gICAgICAgICAgICB0aGlzLmFmdGVySW1hZ2VMb2FkZWQoY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGltZy5zcmMgPSB0aGlzLktFRUZPWF9JQ09OXzE2O1xuICAgIH1cblxuICAgIHJlYWRvbmx5IEtFRUZPWF9JQ09OXzE2ID1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVlBQUFBZjgvOWhBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFBQWx3U0ZsekFBQUE3QUFBQU93QmVTaHh2UUFBQUJsMFJWaDBVMjltZEhkaGNtVUFkM2QzTG1sdWEzTmpZWEJsTG05eVo1dnVQQm9BQUFBT2RFVllkRlJwZEd4bEFFdGxaU0JzYjJkdk41OUI5QUFBQUJCMFJWaDBRWFYwYUc5eUFFdGxaU0JXWVhWc2RHWHd5NVVBQUFIOFNVUkJWRGlOaFpEZlMxTmhHTWMvejN2T0VIZWEwbGdYcmtpc3ZBcldUVVNsRjlYRklLai93YXVndFAraGV5L001dnBGTjBFZzRVVkIwV0FSU2dsQzBJWDJBd3d0emR5d3BwWXN6ODYyODc1ZHpMbURiZlRjdmQvbjgvMCtYMTZKWDc0U3hndDlBSHJZbVloVmZUYlo4OFo2L1NlV1ZFQy9zekYxYnJHdlZEVDJKUnF6VkxMVUNUbDI4WHJidHE4THdMNzZKdFUxYXhMaExUbS8yQS9BMUpGcDV0eE9NNVJQU0NCZ00yeXBMcldRU1hrSUQrdHFkOGpsakxNcGp2Z01SRmNZMlArTnNQSTU3V3hJZDhnTitIbXdrRWw1Tm9CVXVXVXNyZ0lxWm51N3hMWG9sNkNCbUYxbXVkSU9VRFUyYVFBRnNQb3EvUmtqR1lCNUw0S25GWHZIMDRwNXp3SEF3TlA4aS9UeWJnQUFZa1lCaXRwaWVMMFhQMkQyZ2VIMVhvcmFycUc2eGdJRVAwWGl5Y0gzd0hHQVUrMGIzRDQ0aDZzdGh2SUpadDNPT3ZZdWx4MDdXVGNGdXhvamplU2xTcTN1MTNLWVQ2VklBd293ZXdPd3R0b2VJUlNDMnN4MmxJcXBZNUtQZGh4NDNETGcrOHlJSzNBL3FKMTExZ21KcnRtTnZ2Tng0a2E1WlFDQTBwSUdLaG8wUUVUNUFBWW9WVVhmKzRmZks2eThITXNCRXlWdHVRQy9kUWdmTVJqRzE3SjNmL3czQUVBcmM3T283ZkQ0cjBPTUZJNmlqU2hSYXJRWks4MUVnSGh5Y0JybzIzbE81ckxwQzgyNHBnMEF4RWpqb3REME9vRGRhckZhaVQwNTNMYjJWaEIvdWVQbjgxYmNYK3hYdTdyZXNsOVJBQUFBQUVsRlRrU3VRbUNDXCI7XG59XG4iLCJpbXBvcnQgeyBGaWxsZWRGaWVsZCB9IGZyb20gXCIuL0ZpbGxlZEZpZWxkXCI7XG5pbXBvcnQgeyBFbnRyeSB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRW50cnlcIjtcbmltcG9ydCB7IE1hdGNoZWRGaWVsZCB9IGZyb20gXCIuL01hdGNoZWRGaWVsZFwiO1xuXG5leHBvcnQgY2xhc3MgTWF0Y2hSZXN1bHQge1xuICAgIGVudHJpZXM6IEVudHJ5W11bXTtcbiAgICBzdWJtaXRUYXJnZXRzOiBIVE1MRWxlbWVudFtdO1xuICAgIHVzZXJuYW1lSW5kZXhBcnJheTogbnVtYmVyW107XG4gICAgcGFzc3dvcmRGaWVsZHNBcnJheTogTWF0Y2hlZEZpZWxkW11bXTtcbiAgICBvdGhlckZpZWxkc0FycmF5OiBNYXRjaGVkRmllbGRbXVtdO1xuICAgIGN1cnJlbnRQYWdlOiBudW1iZXI7XG4gICAgYWxsTWF0Y2hpbmdMb2dpbnM6IGFueVtdO1xuICAgIGZvcm1SZWxldmFuY2VTY29yZXM6IG51bWJlcltdO1xuICAgIFVVSUQ6IHN0cmluZztcbiAgICBtdXN0QXV0b0ZpbGxGb3JtOiBib29sZWFuO1xuICAgIGNhbm5vdEF1dG9GaWxsRm9ybTogYm9vbGVhbjtcbiAgICBtdXN0QXV0b1N1Ym1pdEZvcm06IGJvb2xlYW47XG4gICAgY2Fubm90QXV0b1N1Ym1pdEZvcm06IGJvb2xlYW47XG4gICAgZGJGaWxlTmFtZTogc3RyaW5nO1xuICAgIGRvYzogRG9jdW1lbnQ7XG4gICAgZm9ybXM6IEhUTUxGb3JtRWxlbWVudFtdO1xuICAgIGZvcm1SZWFkeUZvclN1Ym1pdDogYm9vbGVhbjtcbiAgICBhdXRvZmlsbE9uU3VjY2VzczogYm9vbGVhbjtcbiAgICBhdXRvc3VibWl0T25TdWNjZXNzOiBib29sZWFuO1xuICAgIG5vdGlmeVVzZXJPblN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgd3JhcHBlcnM6IGFueVtdO1xuICAgIHJlcXVlc3RDb3VudDogbnVtYmVyO1xuICAgIHJlc3BvbnNlQ291bnQ6IG51bWJlcjtcbiAgICByZXF1ZXN0SWRzOiBhbnlbXTtcbiAgICBtb3N0UmVsZXZhbnRGb3JtSW5kZXg/OiBudW1iZXI7XG4gICAgbGFzdEZpbGxlZE90aGVyOiBGaWxsZWRGaWVsZFtdO1xuICAgIGxhc3RGaWxsZWRQYXNzd29yZHM6IEZpbGxlZEZpZWxkW107XG59XG4iLCJleHBvcnQgZW51bSBTZXNzaW9uVHlwZSB7XG4gICAgRXZlbnQgPSBcImV2ZW50XCIsXG4gICAgV2Vic29ja2V0ID0gXCJ3ZWJzb2NrZXRcIlxufVxuIiwiaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi9FbnRyeVwiO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gXCIuL0ljb25cIjtcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBFbnRyeVN1bW1hcnlEdG8gfSBmcm9tIFwiLi9LUFJQQ0RUT3NcIjtcblxuZXhwb3J0IGNsYXNzIEVudHJ5U3VtbWFyeSB7XG4gICAgaWNvbjogSWNvbjtcbiAgICB1c2VybmFtZVZhbHVlOiBzdHJpbmc7XG4gICAgdXNlcm5hbWVOYW1lOiBzdHJpbmc7XG4gICAgcGF0aDogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdVJMczogc3RyaW5nW107XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgdXVpZDogc3RyaW5nO1xuICAgIGRiRmlsZU5hbWU6IHN0cmluZztcbiAgICByZWxldmFuY2VTY29yZTogbnVtYmVyO1xuICAgIGZ1bGxEZXRhaWxzPzogRW50cnk7IC8vVE9ETzo0OiByZW1vdmUgY2lyY3VsYXIgcmVmZXJlbmNlIGJ5IG1haW50YWluaW5nIGluZGVwZW5kZW50IEVudHJ5IGxvb2t1cCBieSB1dWlkP1xuICAgIGlzUHJlZmVycmVkTWF0Y2g/OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoZTogUGFydGlhbDxFbnRyeVN1bW1hcnk+KSB7XG4gICAgICAgIHRoaXMuaWNvbiA9IGUuaWNvbiB8fCB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IFwiXCIgfTtcbiAgICAgICAgdGhpcy51c2VybmFtZVZhbHVlID0gZS51c2VybmFtZVZhbHVlIHx8IFwiPG5vIHVzZXJuYW1lPlwiO1xuICAgICAgICB0aGlzLnVzZXJuYW1lTmFtZSA9IGUudXNlcm5hbWVOYW1lIHx8IFwiPG5vIHVzZXJuYW1lPlwiO1xuICAgICAgICB0aGlzLnBhdGggPSBlLnBhdGggfHwgXCJVTktOT1dOIFBBVEhcIjtcbiAgICAgICAgdGhpcy50aXRsZSA9IGUudGl0bGUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy51UkxzID0gZS51UkxzIHx8IFtdO1xuICAgICAgICB0aGlzLnVybCA9IGU/LnVybCB8fCBcIlwiO1xuICAgICAgICB0aGlzLnV1aWQgPSBlLnV1aWQgfHwgdXRpbHMubmV3R1VJRCgpO1xuICAgICAgICB0aGlzLmRiRmlsZU5hbWUgPSBlLmRiRmlsZU5hbWUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5yZWxldmFuY2VTY29yZSA9IGUucmVsZXZhbmNlU2NvcmU7XG4gICAgICAgIHRoaXMuZnVsbERldGFpbHMgPSBlLmZ1bGxEZXRhaWxzO1xuICAgICAgICB0aGlzLmlzUHJlZmVycmVkTWF0Y2ggPSBlLmlzUHJlZmVycmVkTWF0Y2g7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmcm9tRW50cnkoZW50cnk6IEVudHJ5KSB7XG4gICAgICAgIHJldHVybiBuZXcgRW50cnlTdW1tYXJ5KHtcbiAgICAgICAgICAgIGljb246IGVudHJ5Lmljb24sXG4gICAgICAgICAgICB1c2VybmFtZVZhbHVlOiBFbnRyeS5nZXRVc2VybmFtZUZpZWxkKGVudHJ5KT8udmFsdWUsXG4gICAgICAgICAgICB1c2VybmFtZU5hbWU6IEVudHJ5LmdldFVzZXJuYW1lRmllbGQoZW50cnkpPy5uYW1lLFxuICAgICAgICAgICAgdGl0bGU6IGVudHJ5LnRpdGxlLFxuICAgICAgICAgICAgdVJMczogZW50cnkuVVJMcyxcbiAgICAgICAgICAgIHVybDogZW50cnk/LlVSTHNbMF0sXG4gICAgICAgICAgICB1dWlkOiBlbnRyeS51dWlkLFxuICAgICAgICAgICAgZGJGaWxlTmFtZTogZW50cnkuZGF0YWJhc2UuZmlsZU5hbWUsXG4gICAgICAgICAgICBmdWxsRGV0YWlsczogZW50cnksXG4gICAgICAgICAgICBpc1ByZWZlcnJlZE1hdGNoOiBlbnRyeS5pc1ByZWZlcnJlZE1hdGNoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUtQUlBDRW50cnlTdW1tYXJ5RFRPKFxuICAgICAgICBlbnRyeVN1bW1hcnlEdG86IEVudHJ5U3VtbWFyeUR0byxcbiAgICAgICAgcGF0aDogc3RyaW5nLFxuICAgICAgICBkYkZpbGVOYW1lOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbnRyeVN1bW1hcnkoe1xuICAgICAgICAgICAgaWNvbjogeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBlbnRyeVN1bW1hcnlEdG8uaWNvbkltYWdlRGF0YSB9LFxuICAgICAgICAgICAgdXNlcm5hbWVWYWx1ZTogZW50cnlTdW1tYXJ5RHRvLnVzZXJuYW1lVmFsdWUsXG4gICAgICAgICAgICB1c2VybmFtZU5hbWU6IGVudHJ5U3VtbWFyeUR0by51c2VybmFtZU5hbWUsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgdGl0bGU6IGVudHJ5U3VtbWFyeUR0by50aXRsZSxcbiAgICAgICAgICAgIHVSTHM6IGVudHJ5U3VtbWFyeUR0by51UkxzLFxuICAgICAgICAgICAgdXJsOiBlbnRyeVN1bW1hcnlEdG8/LnVSTHNbMF0sXG4gICAgICAgICAgICB1dWlkOiBlbnRyeVN1bW1hcnlEdG8udW5pcXVlSUQsXG4gICAgICAgICAgICBkYkZpbGVOYW1lXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEVudHJ5U3VtbWFyeSB9IGZyb20gXCIuL0VudHJ5U3VtbWFyeVwiO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gXCIuL0ljb25cIjtcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBHcm91cER0byB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuXG5leHBvcnQgY2xhc3MgR3JvdXAge1xuICAgIHJlYWRvbmx5IHRpdGxlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdXVpZDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGljb246IEljb247XG4gICAgcmVhZG9ubHkgcGF0aDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGVudHJ5U3VtbWFyaWVzOiBFbnRyeVN1bW1hcnlbXTtcbiAgICByZWFkb25seSBncm91cHM6IEdyb3VwW107XG4gICAgLy9jaGlsZEVudHJpZXM6IEVudHJ5W10gLSB0aGlzIGlzIG9ubHkgbmVlZGVkIGlmIHdlIGV2ZXIgcmVxdWVzdCBHZXRBbGxEYXRhYmFzZXModHJ1ZSkgYnV0IEtlZSBjdXJyZW50bHkgaGFzIG5vIG5lZWQgZm9yIHRoaXMgS1BSUEMgZmVhdHVyZVxuXG4gICAgY29uc3RydWN0b3IoZzogUGFydGlhbDxHcm91cD4pIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IGcudGl0bGUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy51dWlkID0gZy51dWlkIHx8IHV0aWxzLm5ld0dVSUQoKTtcbiAgICAgICAgdGhpcy5pY29uID0gZy5pY29uIHx8IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogXCJcIiB9O1xuICAgICAgICB0aGlzLnBhdGggPSBnLnBhdGggfHwgXCJVTktOT1dOIFBBVEhcIjtcbiAgICAgICAgdGhpcy5lbnRyeVN1bW1hcmllcyA9IGcuZW50cnlTdW1tYXJpZXMgfHwgW107XG4gICAgICAgIHRoaXMuZ3JvdXBzID0gZy5ncm91cHMgfHwgW107XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmcm9tS1BSUENHcm91cERUTyhncm91cER0bzogR3JvdXBEdG8sIGRiRmlsZU5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmV3IEdyb3VwKHtcbiAgICAgICAgICAgIHRpdGxlOiBncm91cER0by50aXRsZSxcbiAgICAgICAgICAgIHV1aWQ6IGdyb3VwRHRvLnVuaXF1ZUlELFxuICAgICAgICAgICAgaWNvbjogeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBncm91cER0by5pY29uSW1hZ2VEYXRhIH0sXG4gICAgICAgICAgICBwYXRoOiBncm91cER0by5wYXRoLFxuICAgICAgICAgICAgZW50cnlTdW1tYXJpZXM6IGdyb3VwRHRvLmNoaWxkTGlnaHRFbnRyaWVzLm1hcChjaGlsZExpZ2h0RW50cnkgPT5cbiAgICAgICAgICAgICAgICBFbnRyeVN1bW1hcnkuZnJvbUtQUlBDRW50cnlTdW1tYXJ5RFRPKGNoaWxkTGlnaHRFbnRyeSwgZ3JvdXBEdG8ucGF0aCwgZGJGaWxlTmFtZSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBncm91cHM6IGdyb3VwRHRvLmNoaWxkR3JvdXBzLm1hcChjaGlsZEdyb3VwID0+XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tS1BSUENHcm91cERUTyhjaGlsZEdyb3VwLCBkYkZpbGVOYW1lKVxuICAgICAgICAgICAgKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGNvbnRhaW5zSWQoZ3JvdXA6IEdyb3VwLCBpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmIChncm91cC51dWlkID09PSBpZCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChncm91cC5ncm91cHMgJiYgZ3JvdXAuZ3JvdXBzLnNvbWUoZyA9PiBHcm91cC5jb250YWluc0lkKGcsIGlkKSkpIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU2Vzc2lvblR5cGUgfSBmcm9tIFwiLi9TZXNzaW9uVHlwZVwiO1xuaW1wb3J0IHsgRGF0YWJhc2VEdG8gfSBmcm9tIFwiLi9LUFJQQ0RUT3NcIjtcbmltcG9ydCB7IEljb24gfSBmcm9tIFwiLi9JY29uXCI7XG5pbXBvcnQgeyBHcm91cCB9IGZyb20gXCIuL0dyb3VwXCI7XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGZpbGVOYW1lOiBzdHJpbmc7XG4gICAgaWNvbjogSWNvbjtcbiAgICByb290OiBHcm91cDtcbiAgICBhY3RpdmU6IGJvb2xlYW47XG4gICAgc2Vzc2lvblR5cGU6IFNlc3Npb25UeXBlO1xuICAgIHNlc3Npb25GZWF0dXJlczogc3RyaW5nW107XG5cbiAgICBjb25zdHJ1Y3RvcihkYjogUGFydGlhbDxEYXRhYmFzZT4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gZGIubmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLmZpbGVOYW1lID0gZGIuZmlsZU5hbWUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5pY29uID0gZGIuaWNvbiB8fCB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IFwiXCIgfTtcbiAgICAgICAgdGhpcy5yb290ID0gZGIucm9vdCB8fCBuZXcgR3JvdXAoe30pO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGRiLmFjdGl2ZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXNzaW9uVHlwZSA9IGRiLnNlc3Npb25UeXBlIHx8IFNlc3Npb25UeXBlLkV2ZW50O1xuICAgICAgICB0aGlzLnNlc3Npb25GZWF0dXJlcyA9IGRiLnNlc3Npb25GZWF0dXJlcyB8fCBbXCJcIl07XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmcm9tS1BSUENEYXRhYmFzZURUTyhcbiAgICAgICAgZHRvOiBEYXRhYmFzZUR0byxcbiAgICAgICAgc2Vzc2lvblR5cGU6IFNlc3Npb25UeXBlLFxuICAgICAgICBzZXNzaW9uRmVhdHVyZXM6IHN0cmluZ1tdXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YWJhc2Uoe1xuICAgICAgICAgICAgbmFtZTogZHRvLm5hbWUsXG4gICAgICAgICAgICBmaWxlTmFtZTogZHRvLmZpbGVOYW1lLFxuICAgICAgICAgICAgaWNvbjogeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBkdG8uaWNvbkltYWdlRGF0YSB9LFxuICAgICAgICAgICAgcm9vdDogR3JvdXAuZnJvbUtQUlBDR3JvdXBEVE8oZHRvLnJvb3QsIGR0by5maWxlTmFtZSksXG4gICAgICAgICAgICBhY3RpdmU6IGR0by5hY3RpdmUsXG4gICAgICAgICAgICBzZXNzaW9uVHlwZSxcbiAgICAgICAgICAgIHNlc3Npb25GZWF0dXJlc1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgTG9jYXRvciB7XG4gICAgLy8gSFRNTCBpZCBhdHRyaWJ1dGVcbiAgICBpZDogc3RyaW5nO1xuXG4gICAgLy8gSFRNTCBuYW1lIGF0dHJpYnV0ZVxuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8vIEhUTUwgaW5wdXQgdHlwZVxuICAgIHR5cGU6IHN0cmluZztcblxuICAgIC8vIEhUTUwgRE9NIHNlbGVjdCBxdWVyeVxuICAgIHF1ZXJ5Pzogc3RyaW5nO1xuXG4gICAgLy8gVmlzaWJsZSBhbmQgYWNjZXNzaWJpbGl0eSBsYWJlbHNcbiAgICBsYWJlbHM/OiBzdHJpbmdbXTtcblxuICAgIC8vIEFueSBhdXRvY29tcGxldGUgdmFsdWVzIHdlIGZvdW5kLCBvciByZXF1aXJlLCBpbiB0aGUgRE9NXG4gICAgYXV0b2NvbXBsZXRlVmFsdWVzPzogc3RyaW5nW107XG5cbiAgICBjb25zdHJ1Y3Rvcihsb2NhdG9yOiBQYXJ0aWFsPExvY2F0b3I+KSB7XG4gICAgICAgIHRoaXMuaWQgPSBsb2NhdG9yLmlkIHx8IFwiXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IGxvY2F0b3IubmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnR5cGUgPSBsb2NhdG9yLnR5cGUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5xdWVyeSA9IGxvY2F0b3IucXVlcnk7XG4gICAgICAgIHRoaXMubGFiZWxzID0gbG9jYXRvci5sYWJlbHM7XG4gICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlVmFsdWVzID0gbG9jYXRvci5hdXRvY29tcGxldGVWYWx1ZXM7XG4gICAgfVxuXG4gICAgLy9UT0RPOjQ6IFRoaW5ncyBsaWtlIE1heExlbmd0aCB0aGF0IGNhbiBiZSB1c2VkIHRvIGJvdGggaGVscCBpZGVudGlmeSB0aGUgZmllbGQgYW5kIGdlbmVyYXRlIG5ldyB2YWx1ZXMvcGFzc3dvcmRzXG59XG4iLCJpbXBvcnQgeyBTZXNzaW9uVHlwZSB9IGZyb20gXCIuL1Nlc3Npb25UeXBlXCI7XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZFByb2ZpbGVEdG8ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBzZXNzaW9uVHlwZTogU2Vzc2lvblR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUR0byB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGZpbGVOYW1lPzogc3RyaW5nO1xuICAgIGljb25JbWFnZURhdGE6IHN0cmluZztcbiAgICByb290OiBHcm91cER0bztcbiAgICBhY3RpdmU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2VTdW1tYXJ5RHRvIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZmlsZU5hbWU/OiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHJvb3Q6IEdyb3VwU3VtbWFyeUR0bztcbiAgICBhY3RpdmU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgR3JvdXBTdW1tYXJ5RHRvIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVuaXF1ZUlEOiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHBhdGg6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEdyb3VwRHRvIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVuaXF1ZUlEOiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHBhdGg6IHN0cmluZztcbiAgICBjaGlsZExpZ2h0RW50cmllczogRW50cnlTdW1tYXJ5RHRvW107XG4gICAgY2hpbGRHcm91cHM6IEdyb3VwRHRvW107XG4gICAgLy9jaGlsZEVudHJpZXM6IEVudHJ5RHRvW10gLSB0aGlzIGlzIG9ubHkgbmVlZGVkIGlmIHdlIGV2ZXIgcmVxdWVzdCBHZXRBbGxEYXRhYmFzZXModHJ1ZSkgYnV0IEtlZSBjdXJyZW50bHkgaGFzIG5vIG5lZWQgZm9yIHRoaXMgS1BSUEMgZmVhdHVyZVxufVxuXG5leHBvcnQgZW51bSBQbGFjZWhvbGRlckhhbmRsaW5nIHtcbiAgICBEZWZhdWx0ID0gXCJEZWZhdWx0XCIsXG4gICAgRW5hYmxlZCA9IFwiRW5hYmxlZFwiLFxuICAgIERpc2FibGVkID0gXCJEaXNhYmxlZFwiXG59XG5cbmV4cG9ydCBlbnVtIE1hdGNoQWNjdXJhY3lFbnVtIHtcbiAgICAvLyBCZXN0ID0gTm9uLVVSTCBtYXRjaCAoaS5lLiB3ZSBtYXRjaGVkIGJ5IFVVSUQgaW5zdGVhZClcbiAgICAvLyBCZXN0ID0gUmVnZXggbWF0Y2ggKGl0IGlzIGltcG9zc2libGUgZm9yIHVzIHRvIGluZmVyIGhvd1xuICAgIC8vIGFjY3VyYXRlIGEgcmVnZXggbWF0Y2ggaXMgaW4gY29tcGFyaXNvbiB3aXRoIG90aGVyIGNsYXNzZXNcbiAgICAvLyBvZiBtYXRjaCBzbyB3ZSBhbHdheXMgdHJlYXQgaXQgYXMgdGhlIGJlc3QgcG9zc2libGUgbWF0Y2hcbiAgICAvLyBldmVuIGlmIHRoZSByZWdleCBpdHNlbGYgaXMgdmVyeSBsb29zZSlcbiAgICAvLyBCZXN0ID0gU2FtZSBVUkwgaW5jbHVkaW5nIHF1ZXJ5IHN0cmluZ1xuXG4gICAgLy8gQ2xvc2UgPSBTYW1lIFVSTCBleGNsdWRpbmcgcXVlcnkgc3RyaW5nXG5cbiAgICAvLyBIb3N0bmFtZUFuZFBvcnQgPSBTYW1lIGhvc3RuYW1lIGFuZCBwb3J0XG5cbiAgICAvLyBIb3N0bmFtZSA9IFNhbWUgaG9zdG5hbWUgKGRvbWFpbiArIHN1YmRvbWFpbnMpXG5cbiAgICAvLyBEb21haW4gPSBTYW1lIGRvbWFpblxuXG4gICAgLy8gTm9uZSA9IE5vIG1hdGNoIChlLmcuIHdoZW4gd2UgYXJlIGJlaW5nIGFza2VkIHRvIHJldHVybiBhbGwgZW50cmllcylcblxuICAgIEJlc3QgPSA1MCxcbiAgICBDbG9zZSA9IDQwLFxuICAgIEhvc3RuYW1lQW5kUG9ydCA9IDMwLFxuICAgIEhvc3RuYW1lID0gMjAsXG4gICAgRG9tYWluID0gMTAsXG4gICAgTm9uZSA9IDBcbn1cblxuZXhwb3J0IGNsYXNzIEVudHJ5RHRvIHtcbiAgICBkYjogRGF0YWJhc2VEdG87XG4gICAgcGFyZW50OiBHcm91cFN1bW1hcnlEdG87XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIGFsd2F5c0F1dG9GaWxsOiBib29sZWFuO1xuICAgIGFsd2F5c0F1dG9TdWJtaXQ6IGJvb2xlYW47XG4gICAgbmV2ZXJBdXRvRmlsbDogYm9vbGVhbjtcbiAgICBuZXZlckF1dG9TdWJtaXQ6IGJvb2xlYW47XG4gICAgcHJpb3JpdHk6IG51bWJlcjtcbiAgICB1UkxzOiBzdHJpbmdbXTtcbiAgICBtYXRjaEFjY3VyYWN5OiBudW1iZXI7XG4gICAgaFRUUFJlYWxtOiBzdHJpbmc7XG4gICAgdW5pcXVlSUQ6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGZvcm1GaWVsZExpc3Q6IEZpZWxkRHRvW107XG59XG5cbmV4cG9ydCBjbGFzcyBFbnRyeVN1bW1hcnlEdG8ge1xuICAgIGljb25JbWFnZURhdGE6IHN0cmluZztcbiAgICB1UkxzOiBzdHJpbmdbXTtcbiAgICB1bmlxdWVJRDogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdXNlcm5hbWVWYWx1ZTogc3RyaW5nO1xuICAgIHVzZXJuYW1lTmFtZTogc3RyaW5nO1xufVxuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y2xhc3MtbmFtZVxuZXhwb3J0IGNsYXNzIEZpZWxkRHRvIHtcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuXG4gICAgLy8gXCJuYW1lXCIgYXR0cmlidXRlIG9uIHRoZSBIVE1MIGZvcm0gZWxlbWVudFxuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8vIFwidmFsdWVcIiBhdHRyaWJ1dGUgb24gdGhlIEhUTUwgZm9ybSBlbGVtZW50XG4gICAgdmFsdWU6IHN0cmluZztcblxuICAgIC8vIFwiaWRcIiBhdHRyaWJ1dGUgb24gdGhlIEhUTUwgZm9ybSBlbGVtZW50XG4gICAgaWQ6IHN0cmluZztcblxuICAgIC8vIFwidHlwZVwiIGF0dHJpYnV0ZSBvbiB0aGUgSFRNTCBmb3JtIGVsZW1lbnRcbiAgICB0eXBlOiBGb3JtRmllbGRUeXBlRFRPO1xuXG4gICAgcGFnZTogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBGb3JtRmllbGRUeXBlRFRPIHtcbiAgICByYWRpbyA9IFwiRkZUcmFkaW9cIixcbiAgICB1c2VybmFtZSA9IFwiRkZUdXNlcm5hbWVcIixcbiAgICB0ZXh0ID0gXCJGRlR0ZXh0XCIsXG4gICAgcGFzc3dvcmQgPSBcIkZGVHBhc3N3b3JkXCIsXG4gICAgc2VsZWN0ID0gXCJGRlRzZWxlY3RcIixcbiAgICBjaGVja2JveCA9IFwiRkZUY2hlY2tib3hcIlxufVxuIiwiaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IExvY2F0b3IgfSBmcm9tIFwiLi9Mb2NhdG9yXCI7XG5pbXBvcnQgeyBGaWVsZER0bywgRm9ybUZpZWxkVHlwZURUTyB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuXG5leHBvcnQgdHlwZSBGaWVsZFR5cGUgPSBcInBhc3N3b3JkXCIgfCBcInRleHRcIiB8IFwiZXhpc3RpbmdcIiB8IFwiYm9vbGVhblwiIHwgXCJvdHBcIiB8IFwic29tZS1jaGFyc1wiO1xuXG5leHBvcnQgY2xhc3MgRmllbGQge1xuICAgIC8vIFVuaXF1ZSBJRCB0aGF0IHdlIGNhbiB1c2UgdG8gaGVscCBVSSBvcGVyYXRpb25zIGFuZCBpZGVudGlmaWNhdGlvbiB3aGVuIHRoZXJlIGlzIG5vIGtub3duIG5hbWUgZm9yIHRoaXMgZmllbGQuXG4gICAgLy8gQWxzbyBtYXkgYmUgdXNlZnVsIGluIGZ1dHVyZSBmb3IgbXVsdGlwbGUtcGFnZSByZWNvbmZpZ3VyYXRpb24gb3IgcGVyLWJyb3dzZXIgZmllbGQgY29uZmlndXJhdGlvbiBvdmVycmlkZXM/XG4gICAgcmVhZG9ubHkgdXVpZDogc3RyaW5nO1xuXG4gICAgLy8gdmlzdWFsIGlkZW50aWZpZXIgZm9yIHRoZSBmaWVsZC4gTWF5IGJlIHNwZWNpZmllZCBieSB0aGUgdXNlciBvciBpbmZlcnJlZCBmcm9tXG4gICAgLy8gZWl0aGVyIGRlZmF1bHQgRW50cnkgZGF0YSAodXNlcm5hbWUvcGFzc3dvcmQvT1RQKSBvciBmb3JtIGZpZWxkIGxhYmVsIG9yIG5hbWUgYXR0cmlidXRlXG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gICAgLy8gVGhlIHZhbHVlIHdlJ2xsIGZpbGwgaW50byB0aGUgZm9ybS5cbiAgICAvLyBGb3IgZXhpc3RpbmcgZGV0ZXJtaW5lcyB3aGljaCBvcHRpb24gdG8gYWN0aXZhdGUuXG4gICAgLy8gRm9yIGJvb2xlYW4gZGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGFjdGl2YXRlIG9yIGRlYWN0aXZhdGUgKHRvIGlnbm9yZSwgZGVsZXRlIHRoZSBmaWVsZCByZWNvcmQpXG4gICAgLy8gRm9yIE9UUCwgbmVlZCB0byB3b3JrIG91dCB3aGV0aGVyIHdlIHdpbGwgaGF2ZSB0byB0cmFuc2ZlciB0aGUgc2VjcmV0cyBhbmQgcmVjYWxjdWxhdGUgaW4gdGhlIGJyb3dzZXIgb3IganVzdCB0cmVhdCBhcyBzdGFuZGFyZCB2YWx1ZVxuICAgIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmc7XG5cbiAgICAvLyB0eXBlIG9mIGRhdGEgdGhpcyBmaWVsZCByZXByZXNlbnRzLiBUaGVyZSdzIG5vIDEwMCUgd2F5IHRvIG1hdGNoIHRoaXMgdG8gdGhlIHR5cGUgb2YgSFRNTCBmb3JtIGVsZW1lbnQgYnV0IGl0J3Mgb2Z0ZW4gbG9naWNhbC5cbiAgICAvLyBFLmcuIHBhc3N3b3JkIGdvZXMgaW50byBwYXNzd29yZCBmaWVsZHMgdW5sZXNzIHVzZXIgZXhwbGljaXRseSByZS1jb25maWd1cmVzIHRoYXQ7IGV4aXN0aW5nIHdvdWxkIHR5cGljYWxseSBtYXRjaCBzb21ldGhpbmdcbiAgICAvLyBsaWtlIGEgcmFkaW8gYnV0dG9uIG9yIHNlbGVjdCBvcHRpb24gYWxyZWFkeSBwcmVzZW50IG9uIHRoZSBIVE1MIGZvcm07IGJvb2xlYW4gd291bGQgbWF0Y2ggYSBjaGVja2JveC5cbiAgICByZWFkb25seSB0eXBlOiBGaWVsZFR5cGU7XG5cbiAgICAvLyBIb3cgd2UgY2FuIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0IGluIHRoZSBIVE1MLlxuICAgIHJlYWRvbmx5IGxvY2F0b3JzOiBMb2NhdG9yW107XG5cbiAgICAvLyB0cmFja3MgdGhlIG1vc3QgcmVjZW50IHZhbHVlIHdlIHdhbnQgdG8gcmVzZXQgdG8gaW4gY2FzZXMgd2hlcmUgdGhlIHVzZXIgaGFzIHRoYXQgcG9zc2liaWxpdHlcbiAgICByZWFkb25seSByZXNldFZhbHVlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihmaWVsZDogUGFydGlhbDxGaWVsZD4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gZmllbGQubmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnZhbHVlID0gZmllbGQudmFsdWUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5yZXNldFZhbHVlID0gZmllbGQucmVzZXRWYWx1ZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnV1aWQgPSBmaWVsZC51dWlkIHx8IHV0aWxzLm5ld0dVSUQoKTtcbiAgICAgICAgdGhpcy50eXBlID0gZmllbGQudHlwZSB8fCBcInRleHRcIjtcbiAgICAgICAgdGhpcy5sb2NhdG9ycyA9IGZpZWxkLmxvY2F0b3JzIHx8IFtdO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldERpc3BsYXlWYWx1ZUludGVybmFsKFxuICAgICAgICBmaWVsZDogRmllbGQsXG4gICAgICAgIHJldmVhbFBhc3N3b3JkczogYm9vbGVhbixcbiAgICAgICAgcmVwbGFjZW1lbnRJZlByb3RlY3RlZDogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIGlmIChmaWVsZC50eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnZhbHVlID09PSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfVFJVRVwiID8gJFNUUihcImVuYWJsZWRcIikgOiAkU1RSKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQudHlwZSA9PT0gXCJwYXNzd29yZFwiICYmICFyZXZlYWxQYXNzd29yZHNcbiAgICAgICAgICAgICAgICA/IHJlcGxhY2VtZW50SWZQcm90ZWN0ZWRcbiAgICAgICAgICAgICAgICA6IGZpZWxkLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3BsYXlWYWx1ZShmaWVsZDogRmllbGQsIHJldmVhbFBhc3N3b3JkczogYm9vbGVhbikge1xuICAgICAgICByZXR1cm4gRmllbGQuZ2V0RGlzcGxheVZhbHVlSW50ZXJuYWwoXG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIHJldmVhbFBhc3N3b3JkcyxcbiAgICAgICAgICAgIFwiKlwiLnJlcGVhdChmaWVsZC52YWx1ZS5sZW5ndGgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3BsYXlOYW1lKGZpZWxkOiBGaWVsZCkge1xuICAgICAgICBpZiAoZmllbGQubmFtZSA9PT0gXCJLZWVQYXNzIHVzZXJuYW1lXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAkU1RSKFwidXNlcm5hbWVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQubmFtZSA9PT0gXCJLZWVQYXNzIHBhc3N3b3JkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAkU1RSKFwicGFzc3dvcmRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQubmFtZSA/IGZpZWxkLm5hbWUgOiBcIlsgXCIgKyAkU1RSKFwibm9fbmFtZVwiKSArIFwiIF1cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXNwbGF5VG9vbHRpcChmaWVsZDogRmllbGQsIHJldmVhbFBhc3N3b3JkczogYm9vbGVhbikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgRmllbGQuZ2V0RGlzcGxheU5hbWUoZmllbGQpICtcbiAgICAgICAgICAgIFwiOiBcIiArXG4gICAgICAgICAgICBGaWVsZC5nZXREaXNwbGF5VmFsdWVJbnRlcm5hbChmaWVsZCwgcmV2ZWFsUGFzc3dvcmRzLCAkU1RSKFwiY2xpY2tfdG9fcmV2ZWFsX2hpZGVcIikpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RhdGljIHR5cGVGcm9tRE9NdHlwZShkb21UeXBlOiBzdHJpbmcpOiBGaWVsZFR5cGUge1xuICAgICAgICAvLyBXZSBjYW4ndCBrbm93IGV2ZXJ5IHR5cGUgdGhhdCBtYXkgZXhpc3QgaW4gZnV0dXJlIHNvIGFzc3VtZTpcbiAgICAgICAgLy8gMS4gdW5rbm93biB0eXBlcyBtdXN0IGJlIHRleHRcbiAgICAgICAgLy8gMi4gd2Ugd29uJ3QgYmUgYXNrZWQgdG8gaGFuZGxlIHR5cGVzIGZvciBpcnJlbGV2YW50IGVsZW1lbnRzIHN1Y2ggYXMgYnV0dG9uc1xuICAgICAgICBzd2l0Y2ggKGRvbVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcInBhc3N3b3JkXCI7XG4gICAgICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgY2FzZSBcInNlbGVjdC1vbmVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXh0XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCeSBjb252ZW50aW9uIHRoZSBmaXJzdCBub24tcGFzc3dvcmQgaXRlbSB3aWxsIGJlIHRoZSB1c2VybmFtZSBhbmQgdGhlIHBhc3N3b3JkIHdpbGwgYmUgZWl0aGVyIDFzdCBvciAybmQgaW4gdGhlIGxpc3RcbiAgICBzdGF0aWMgY29tYmluZURvbUZpZWxkTGlzdHModXNlcm5hbWVJbmRleDogbnVtYmVyLCBvdGhlckZpZWxkczogRmllbGRbXSwgcGFzc3dvcmRzOiBGaWVsZFtdKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkczogRmllbGRbXSA9IFtdO1xuICAgICAgICBpZiAodXNlcm5hbWVJbmRleCA+PSAwICYmIG90aGVyRmllbGRzW3VzZXJuYW1lSW5kZXhdKSB7XG4gICAgICAgICAgICBmaWVsZHMucHVzaChvdGhlckZpZWxkc1t1c2VybmFtZUluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFzc3dvcmRzLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICBmaWVsZHMucHVzaChmKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG90aGVyRmllbGRzLmZvckVhY2goKGYsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHVzZXJuYW1lSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBmaWVsZHMucHVzaChmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21ET00oZWxlbWVudDogYW55LCBkb21UeXBlOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gY29sbGVjdExhYmVscyhlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZCh7XG4gICAgICAgICAgICB1dWlkOiB1dGlscy5uZXdHVUlEKCksXG4gICAgICAgICAgICBuYW1lOiBsYWJlbHMgJiYgbGFiZWxzLmxlbmd0aCA/IGxhYmVsc1swXSA6IGVsZW1lbnQubmFtZSxcbiAgICAgICAgICAgIGxvY2F0b3JzOiBbXG4gICAgICAgICAgICAgICAgbmV3IExvY2F0b3Ioe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBlbGVtZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBkb21UeXBlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbHMsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZVZhbHVlczogY29sbGVjdEF1dG9jb21wbGV0ZVZhbHVlcyhlbGVtZW50KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB0eXBlOiBGaWVsZC50eXBlRnJvbURPTXR5cGUoZG9tVHlwZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21LUFJQQ0ZpZWxkRFRPKGY6IEZpZWxkRHRvKSB7XG4gICAgICAgIGxldCB0eXBlOiBGaWVsZFR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgbGV0IGxvY2F0b3JUeXBlID0gXCJ0ZXh0XCI7XG5cbiAgICAgICAgc3dpdGNoIChmLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy5wYXNzd29yZDpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJwYXNzd29yZFwiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJwYXNzd29yZFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlRFRPLnJhZGlvOlxuICAgICAgICAgICAgICAgIHR5cGUgPSBcImV4aXN0aW5nXCI7XG4gICAgICAgICAgICAgICAgbG9jYXRvclR5cGUgPSBcInJhZGlvXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZvcm1GaWVsZFR5cGVEVE8uY2hlY2tib3g6XG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlRFRPLnNlbGVjdDpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJzZWxlY3RcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy51c2VybmFtZTpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgICAgICAgICAgbG9jYXRvclR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy50ZXh0OlxuICAgICAgICAgICAgICAgIHR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICAgICAgICBsb2NhdG9yVHlwZSA9IFwidGV4dFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZCh7XG4gICAgICAgICAgICBuYW1lOiBmLmRpc3BsYXlOYW1lIHx8IGYubmFtZSxcbiAgICAgICAgICAgIHV1aWQ6IHV0aWxzLm5ld0dVSUQoKSxcbiAgICAgICAgICAgIHZhbHVlOiBmLnZhbHVlLFxuICAgICAgICAgICAgcmVzZXRWYWx1ZTogZi52YWx1ZSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBsb2NhdG9yczogW1xuICAgICAgICAgICAgICAgIG5ldyBMb2NhdG9yKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGYuaWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGYubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbG9jYXRvclR5cGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdG9LUFJQQ0ZpZWxkRFRPKGY6IEZpZWxkLCBpc1VzZXJuYW1lOiBib29sZWFuKSB7XG4gICAgICAgIGxldCBmZnQ6IEZvcm1GaWVsZFR5cGVEVE87XG5cbiAgICAgICAgc3dpdGNoIChmLmxvY2F0b3JzWzBdLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxuICAgICAgICAgICAgICAgIGZmdCA9IEZvcm1GaWVsZFR5cGVEVE8ucGFzc3dvcmQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICAgICAgICBmZnQgPSBGb3JtRmllbGRUeXBlRFRPLnJhZGlvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgICAgICAgZmZ0ID0gRm9ybUZpZWxkVHlwZURUTy5jaGVja2JveDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzZWxlY3Qtb25lXCI6XG4gICAgICAgICAgICAgICAgZmZ0ID0gRm9ybUZpZWxkVHlwZURUTy5zZWxlY3Q7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZmdCA9IGlzVXNlcm5hbWUgPyBGb3JtRmllbGRUeXBlRFRPLnVzZXJuYW1lIDogRm9ybUZpZWxkVHlwZURUTy50ZXh0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBmLm5hbWUsXG4gICAgICAgICAgICBpZDogZi5sb2NhdG9yc1swXS5pZCxcbiAgICAgICAgICAgIG5hbWU6IGYubG9jYXRvcnNbMF0ubmFtZSxcbiAgICAgICAgICAgIHR5cGU6IGZmdCxcbiAgICAgICAgICAgIHZhbHVlOiBmLnZhbHVlLFxuICAgICAgICAgICAgcGFnZTogLTFcbiAgICAgICAgfSBhcyBGaWVsZER0bztcbiAgICB9XG59XG5cbi8vIE1pZ2h0IGJlIG90aGVyIGVsZW1lbnQgdHlwZXMgYnV0IG1haW4gdGhpbmcgaXMgdGhleSBoYXZlIHRoZSBsYWJlbHMgcHJvcGVydHlcbmZ1bmN0aW9uIGNvbGxlY3RMYWJlbHMoZWxlbWVudDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50KSB7XG4gICAgY29uc3QgbGFiZWxzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGxhYmVsc0NvdW50ID0gZWxlbWVudC5sYWJlbHM/Lmxlbmd0aCB8fCAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFiZWxzQ291bnQ7IGkrKykge1xuICAgICAgICBjb25zdCBsYWJlbCA9IGVsZW1lbnQubGFiZWxzW2ldO1xuICAgICAgICBpZiAobGFiZWw/LmlubmVyVGV4dCkgbGFiZWxzLnB1c2gobGFiZWwuaW5uZXJUZXh0KTtcbiAgICB9XG4gICAgY29uc3QgYXJpYUxhYmVsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpPy50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChhcmlhTGFiZWwpIGxhYmVscy5wdXNoKGFyaWFMYWJlbCk7XG4gICAgY29uc3QgYXJpYUxhYmVsSWRzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGVsZW1lbnRcbiAgICAgICAgLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiKVxuICAgICAgICA/LnRyaW0oKVxuICAgICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAgIC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgIGlmIChpZCkgYXJpYUxhYmVsSWRzLnB1c2goaWQpO1xuICAgICAgICB9KTtcbiAgICBlbGVtZW50XG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpXG4gICAgICAgID8udHJpbSgpXG4gICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgaWYgKGlkKSBhcmlhTGFiZWxJZHMucHVzaChpZCk7XG4gICAgICAgIH0pO1xuICAgIGFyaWFMYWJlbElkcy5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAobGFiZWxFbGVtZW50Py5pbm5lclRleHQpIGxhYmVscy5wdXNoKGxhYmVsRWxlbWVudC5pbm5lclRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiBsYWJlbHMubGVuZ3RoID8gbGFiZWxzIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0QXV0b2NvbXBsZXRlVmFsdWVzKGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudCkge1xuICAgIGNvbnN0IHZhbHVlczogc3RyaW5nW10gPSBbXTtcbiAgICBlbGVtZW50LmF0dHJpYnV0ZXNbXCJhdXRvY29tcGxldGVcIl0/LnZhbHVlXG4gICAgICAgID8udHJpbSgpXG4gICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgLmZvckVhY2godiA9PiB7XG4gICAgICAgICAgICBpZiAodikgdmFsdWVzLnB1c2godi50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcy5sZW5ndGggPyB2YWx1ZXMgOiB1bmRlZmluZWQ7XG59XG4iLCJpbXBvcnQgeyBJY29uIH0gZnJvbSBcIi4vSWNvblwiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IEdyb3VwU3VtbWFyeUR0byB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuaW1wb3J0IHsgR3JvdXAgfSBmcm9tIFwiLi9Hcm91cFwiO1xuXG5leHBvcnQgY2xhc3MgR3JvdXBTdW1tYXJ5IHtcbiAgICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHV1aWQ6IHN0cmluZztcbiAgICByZWFkb25seSBpY29uOiBJY29uO1xuICAgIHJlYWRvbmx5IHBhdGg6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGc6IFBhcnRpYWw8R3JvdXBTdW1tYXJ5Pikge1xuICAgICAgICB0aGlzLnRpdGxlID0gZy50aXRsZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnV1aWQgPSBnLnV1aWQgfHwgdXRpbHMubmV3R1VJRCgpO1xuICAgICAgICB0aGlzLmljb24gPSBnLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMucGF0aCA9IGcucGF0aCB8fCBcIlVOS05PV04gUEFUSFwiO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUtQUlBDR3JvdXBTdW1tYXJ5RFRPKGdyb3VwU3VtbWFyeUR0bzogR3JvdXBTdW1tYXJ5RHRvKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JvdXBTdW1tYXJ5KHtcbiAgICAgICAgICAgIHRpdGxlOiBncm91cFN1bW1hcnlEdG8udGl0bGUsXG4gICAgICAgICAgICB1dWlkOiBncm91cFN1bW1hcnlEdG8udW5pcXVlSUQsXG4gICAgICAgICAgICBpY29uOiB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IGdyb3VwU3VtbWFyeUR0by5pY29uSW1hZ2VEYXRhIH0sXG4gICAgICAgICAgICBwYXRoOiBncm91cFN1bW1hcnlEdG8ucGF0aFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21Hcm91cChncm91cDogR3JvdXApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcm91cFN1bW1hcnkoe1xuICAgICAgICAgICAgdGl0bGU6IGdyb3VwLnRpdGxlLFxuICAgICAgICAgICAgdXVpZDogZ3JvdXAudXVpZCxcbiAgICAgICAgICAgIGljb246IGdyb3VwLmljb24sXG4gICAgICAgICAgICBwYXRoOiBncm91cC5wYXRoXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFRlbXBvcmFyeUlEU3RyaW5nID1cbiAgICBcIlRFTVBPUkFSWSBJRCBUTyBJREVOVElGWSBUSElTIEFTIEEgRElSVFkgRU5UUlkgVEhBVCBET0VTTidUIEVYSVNUIElOIFNPVVJDRSBEQVRBQkFTRSBZRVRcIjtcbiIsImltcG9ydCB7IEljb24gfSBmcm9tIFwiLi9JY29uXCI7XG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gXCIuL0RhdGFiYXNlXCI7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi9GaWVsZFwiO1xuaW1wb3J0IHsgRW50cnlEdG8sIEZvcm1GaWVsZFR5cGVEVE8gfSBmcm9tIFwiLi9LUFJQQ0RUT3NcIjtcbmltcG9ydCB7IERhdGFiYXNlU3VtbWFyeSB9IGZyb20gXCIuL0RhdGFiYXNlU3VtbWFyeVwiO1xuaW1wb3J0IHsgR3JvdXBTdW1tYXJ5IH0gZnJvbSBcIi4vR3JvdXBTdW1tYXJ5XCI7XG5cbi8vIEFsdGhvdWdoIHdlIHVzZSB1dWlkcyBmb3IgRmllbGRzIGFuZCBwb3NzaWJseSBMb2NhdG9ycywgd2UgZG9uJ3QgYWxsb3cgdGhlbSB0byBleGlzdCBvdXRzaWRlIG9mIHRoZWlyIHBhcmVudCBlbnRyeS5cblxuZXhwb3J0IGNsYXNzIEVudHJ5IHtcbiAgICAvLyBhcnJheSBvZiBVUkwgc3RyaW5ncyAobm9ybWFsbHkganVzdCBvbmUgaXMgbmVlZGVkXG4gICAgLy8gYnV0IGEgZ2l2ZW4gZW50cnkgY2FuIGJlIGFzc29jaWF0ZWQgd2l0aCBtb3JlIHRoYW4gb25lIHNpdGVcbiAgICAvLyBvciB3aXRoIG11bHRpcGxlIHBhZ2VzIG9uIHRoYXQgc2l0ZSlcbiAgICByZWFkb25seSBVUkxzOiBzdHJpbmdbXTtcblxuICAgIC8vIEhvdyBhY2N1cmF0ZSBpcyB0aGUgYmVzdCBVUkwgbWF0Y2ggZm9yIHRoaXMgZW50cnkgKG9ubHkgc2V0IGlmIGVudHJ5XG4gICAgLy8gd2FzIHN1cHBsaWVkIGluIHJlc3BvbnNlIHRvIGNlcnRhaW4gc2VhcmNoIHJlcXVlc3RzKS4gSGlnaGVyID0gY2xvc2VyIG1hdGNoXG4gICAgcmVhZG9ubHkgbWF0Y2hBY2N1cmFjeTogbnVtYmVyO1xuXG4gICAgLy8gVGhlIHJlYWxtIG9mIGEgSFRUUCBhdXRoZW50aWNhdGlvbiByZXF1ZXN0XG4gICAgcmVhZG9ubHkgaHR0cFJlYWxtOiBzdHJpbmc7XG5cbiAgICAvLyBUaGUgaW5kZXggb2YgdGhlIG90aGVyRmllbGQgd2hpY2ggd2Ugd2lsbCB0cmVhdCBhcyB0aGUgdXNlcm5hbWUgaW4gS2VlUGFzc1xuICAgIC8vIHJlYWRvbmx5IHVzZXJuYW1lSW5kZXg6IG51bWJlcjtcblxuICAgIHJlYWRvbmx5IGZpZWxkczogRmllbGRbXTtcblxuICAgIC8vIFRoZSBLZWVQYXNzIGVudHJ5J3MgdW5pcXVlSUQgKGlmIGtub3duKVxuICAgIHJlYWRvbmx5IHV1aWQ6IHN0cmluZztcblxuICAgIC8vIFRoZSB0aXRsZSBvZiB0aGUgS2VlUGFzcyBlbnRyeSAoYXV0by1nZW5lcmF0ZWQgZnJvbSB0aGUgcGFnZSB0aXRsZSBieSBkZWZhdWx0LFxuICAgIC8vIG9yIHRoZSBwYWdlIFVSTCdzIGhvc3RuYW1lIGlmIG5vIHRpdGxlIGlzIHNldClcbiAgICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xuXG4gICAgcmVhZG9ubHkgaWNvbjogSWNvbjtcblxuICAgIHJlYWRvbmx5IHBhcmVudEdyb3VwOiBHcm91cFN1bW1hcnk7XG5cbiAgICByZWFkb25seSBhbHdheXNBdXRvRmlsbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBhbHdheXNBdXRvU3VibWl0OiBib29sZWFuO1xuICAgIHJlYWRvbmx5IG5ldmVyQXV0b0ZpbGw6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgbmV2ZXJBdXRvU3VibWl0OiBib29sZWFuO1xuXG4gICAgcmVhZG9ubHkgZGF0YWJhc2U6IERhdGFiYXNlU3VtbWFyeTtcblxuICAgIC8vIEhvdyByZWxldmFudCB0aGlzIGVudHJ5IGlzIHRvIHRoZSBjdXJyZW50IGZvcm0gaW5cbiAgICAvLyB0aGUgYnJvd3NlciAtIHRyYW5zaWVudCAobm90IHN0b3JlZCBpbiBLZWVQYXNzKVxuICAgIC8vVE9ETzo0IHB1dCBhbGwgbWF0Y2ggZGF0YSBpbnRvIGEgbmV3IG9iamVjdD9cbiAgICByZWxldmFuY2VTY29yZTogbnVtYmVyO1xuICAgIGxvd0ZpZWxkTWF0Y2hSYXRpbzogYW55O1xuICAgIGZvcm1JbmRleDogbnVtYmVyO1xuICAgIGVudHJ5SW5kZXg6IG51bWJlcjtcbiAgICBpc1ByZWZlcnJlZE1hdGNoPzogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGU6IFBhcnRpYWw8RW50cnk+KSB7XG4gICAgICAgIHRoaXMuYWx3YXlzQXV0b0ZpbGwgPSBlLmFsd2F5c0F1dG9GaWxsIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLmFsd2F5c0F1dG9TdWJtaXQgPSBlLmFsd2F5c0F1dG9TdWJtaXQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMubmV2ZXJBdXRvRmlsbCA9IGUubmV2ZXJBdXRvRmlsbCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5uZXZlckF1dG9TdWJtaXQgPSBlLm5ldmVyQXV0b1N1Ym1pdCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5VUkxzID0gZS5VUkxzIHx8IFtdO1xuICAgICAgICB0aGlzLmZpZWxkcyA9IGUuZmllbGRzIHx8IFtdO1xuICAgICAgICB0aGlzLmh0dHBSZWFsbSA9IGUuaHR0cFJlYWxtIHx8IFwiXCI7XG4gICAgICAgIHRoaXMucGFyZW50R3JvdXAgPSBlLnBhcmVudEdyb3VwIHx8IG51bGw7XG4gICAgICAgIHRoaXMudXVpZCA9IGUudXVpZCB8fCB1dGlscy5uZXdHVUlEKCk7XG4gICAgICAgIHRoaXMudGl0bGUgPSBlLnRpdGxlIHx8IFwiXCI7XG4gICAgICAgIHRoaXMubWF0Y2hBY2N1cmFjeSA9IGUubWF0Y2hBY2N1cmFjeSB8fCAwO1xuICAgICAgICB0aGlzLmljb24gPSBlLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMuZGF0YWJhc2UgPSBlLmRhdGFiYXNlIHx8IG5ldyBEYXRhYmFzZSh7fSk7XG4gICAgICAgIHRoaXMucmVsZXZhbmNlU2NvcmUgPSBlLnJlbGV2YW5jZVNjb3JlO1xuICAgICAgICB0aGlzLmxvd0ZpZWxkTWF0Y2hSYXRpbyA9IGUubG93RmllbGRNYXRjaFJhdGlvO1xuICAgICAgICB0aGlzLmZvcm1JbmRleCA9IGUuZm9ybUluZGV4O1xuICAgICAgICB0aGlzLmVudHJ5SW5kZXggPSBlLmVudHJ5SW5kZXg7XG4gICAgICAgIHRoaXMuaXNQcmVmZXJyZWRNYXRjaCA9IGUuaXNQcmVmZXJyZWRNYXRjaDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldFVzZXJuYW1lRmllbGQoZW50cnk6IEVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5maWVsZHMuZmluZChmID0+IGYudHlwZSA9PT0gXCJ0ZXh0XCIpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIGdldFBhc3N3b3JkRmllbGQoZW50cnk6IEVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5maWVsZHMuZmluZChmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21LUFJQQ0VudHJ5RFRPKGVudHJ5RHRvOiBFbnRyeUR0bywgZGI6IERhdGFiYXNlU3VtbWFyeSkge1xuICAgICAgICBjb25zdCBzb3J0ZWRGaWVsZHM6IEZpZWxkW10gPSBbXTtcbiAgICAgICAgbGV0IG1heGltdW1QYWdlID0gMTtcbiAgICAgICAgY29uc3QgdXNlcm5hbWVJbmRleCA9IGVudHJ5RHRvLmZvcm1GaWVsZExpc3QuZmluZEluZGV4KFxuICAgICAgICAgICAgZiA9PiBmLnR5cGUgPT09IEZvcm1GaWVsZFR5cGVEVE8udXNlcm5hbWVcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB1bnNvcnRlZEZpZWxkcyA9IGVudHJ5RHRvLmZvcm1GaWVsZExpc3QubWFwKGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYucGFnZSA+IG1heGltdW1QYWdlKSBtYXhpbXVtUGFnZSA9IGYucGFnZTtcblxuICAgICAgICAgICAgcmV0dXJuIEZpZWxkLmZyb21LUFJQQ0ZpZWxkRFRPKGYpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZmlyc3RQYXNzd29yZEluZGV4ID0gdW5zb3J0ZWRGaWVsZHMuZmluZEluZGV4KGYgPT4gZi50eXBlID09PSBcInBhc3N3b3JkXCIpO1xuXG4gICAgICAgIGlmICh1c2VybmFtZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHNvcnRlZEZpZWxkcy5wdXNoKHVuc29ydGVkRmllbGRzW3VzZXJuYW1lSW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RQYXNzd29yZEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHNvcnRlZEZpZWxkcy5wdXNoKHVuc29ydGVkRmllbGRzW2ZpcnN0UGFzc3dvcmRJbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHVuc29ydGVkRmllbGRzLmZvckVhY2goKGYsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChpICE9PSB1c2VybmFtZUluZGV4ICYmIGkgIT09IGZpcnN0UGFzc3dvcmRJbmRleCkge1xuICAgICAgICAgICAgICAgIHNvcnRlZEZpZWxkcy5wdXNoKGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBlbnRyeSA9IG5ldyBFbnRyeSh7XG4gICAgICAgICAgICBVUkxzOiBlbnRyeUR0by51UkxzLFxuICAgICAgICAgICAgbmV2ZXJBdXRvRmlsbDogZW50cnlEdG8ubmV2ZXJBdXRvRmlsbCxcbiAgICAgICAgICAgIGFsd2F5c0F1dG9GaWxsOiBlbnRyeUR0by5hbHdheXNBdXRvRmlsbCxcbiAgICAgICAgICAgIG5ldmVyQXV0b1N1Ym1pdDogZW50cnlEdG8ubmV2ZXJBdXRvU3VibWl0LFxuICAgICAgICAgICAgYWx3YXlzQXV0b1N1Ym1pdDogZW50cnlEdG8uYWx3YXlzQXV0b1N1Ym1pdCxcbiAgICAgICAgICAgIGljb246IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogZW50cnlEdG8uaWNvbkltYWdlRGF0YSB9LFxuICAgICAgICAgICAgcGFyZW50R3JvdXA6IEdyb3VwU3VtbWFyeS5mcm9tS1BSUENHcm91cFN1bW1hcnlEVE8oZW50cnlEdG8ucGFyZW50KSxcbiAgICAgICAgICAgIGRhdGFiYXNlOiBkYixcbiAgICAgICAgICAgIG1hdGNoQWNjdXJhY3k6IGVudHJ5RHRvLm1hdGNoQWNjdXJhY3ksXG4gICAgICAgICAgICBodHRwUmVhbG06IGVudHJ5RHRvLmhUVFBSZWFsbSxcbiAgICAgICAgICAgIHV1aWQ6IGVudHJ5RHRvLnVuaXF1ZUlELFxuICAgICAgICAgICAgdGl0bGU6IGVudHJ5RHRvLnRpdGxlLFxuICAgICAgICAgICAgZmllbGRzOiBzb3J0ZWRGaWVsZHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdG9LUFJQQ0VudHJ5RFRPKGVudHJ5OiBFbnRyeSkge1xuICAgICAgICBjb25zdCBlbnRyeUR0byA9IG5ldyBFbnRyeUR0bygpO1xuICAgICAgICBlbnRyeUR0by5hbHdheXNBdXRvRmlsbCA9IGVudHJ5LmFsd2F5c0F1dG9GaWxsO1xuICAgICAgICBlbnRyeUR0by5hbHdheXNBdXRvU3VibWl0ID0gZW50cnkuYWx3YXlzQXV0b1N1Ym1pdDtcbiAgICAgICAgZW50cnlEdG8uZm9ybUZpZWxkTGlzdCA9IGVudHJ5LmZpZWxkcy5tYXAoKGYsIGkpID0+IEZpZWxkLnRvS1BSUENGaWVsZERUTyhmLCBpID09PSAwKSk7XG4gICAgICAgIGVudHJ5RHRvLmhUVFBSZWFsbSA9IGVudHJ5Lmh0dHBSZWFsbTtcbiAgICAgICAgZW50cnlEdG8uaWNvbkltYWdlRGF0YSA9IGVudHJ5Lmljb24uaWNvbkltYWdlRGF0YTtcbiAgICAgICAgZW50cnlEdG8ubmV2ZXJBdXRvRmlsbCA9IGVudHJ5Lm5ldmVyQXV0b0ZpbGw7XG4gICAgICAgIGVudHJ5RHRvLm5ldmVyQXV0b1N1Ym1pdCA9IGVudHJ5Lm5ldmVyQXV0b1N1Ym1pdDtcbiAgICAgICAgZW50cnlEdG8udGl0bGUgPSBlbnRyeS50aXRsZTtcbiAgICAgICAgZW50cnlEdG8udVJMcyA9IGVudHJ5LlVSTHM7XG4gICAgICAgIHJldHVybiBlbnRyeUR0bztcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBWdWUgZnJvbSAndnVlJ1xuXG52YXIgaXNWdWUyID0gZmFsc2VcbnZhciBpc1Z1ZTMgPSB0cnVlXG52YXIgVnVlMiA9IHVuZGVmaW5lZFxuXG5mdW5jdGlvbiBpbnN0YWxsKCkge31cblxuZXhwb3J0IGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgdmFsKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICB0YXJnZXQubGVuZ3RoID0gTWF0aC5tYXgodGFyZ2V0Lmxlbmd0aCwga2V5KVxuICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxLCB2YWwpXG4gICAgcmV0dXJuIHZhbFxuICB9XG4gIHRhcmdldFtrZXldID0gdmFsXG4gIHJldHVybiB2YWxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbCh0YXJnZXQsIGtleSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgdGFyZ2V0LnNwbGljZShrZXksIDEpXG4gICAgcmV0dXJuXG4gIH1cbiAgZGVsZXRlIHRhcmdldFtrZXldXG59XG5cbmV4cG9ydCAqIGZyb20gJ3Z1ZSdcbmV4cG9ydCB7XG4gIFZ1ZSxcbiAgVnVlMixcbiAgaXNWdWUyLFxuICBpc1Z1ZTMsXG4gIGluc3RhbGwsXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0RGV2dG9vbHNHbG9iYWxIb29rKCkge1xuICAgIHJldHVybiBnZXRUYXJnZXQoKS5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgPyB3aW5kb3dcbiAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgIDoge307XG59XG5leHBvcnQgY29uc3QgaXNQcm94eUF2YWlsYWJsZSA9IHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJztcbiIsImV4cG9ydCBjb25zdCBIT09LX1NFVFVQID0gJ2RldnRvb2xzLXBsdWdpbjpzZXR1cCc7XG5leHBvcnQgY29uc3QgSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUID0gJ3BsdWdpbjpzZXR0aW5nczpzZXQnO1xuIiwibGV0IHN1cHBvcnRlZDtcbmxldCBwZXJmO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGVyZm9ybWFuY2VTdXBwb3J0ZWQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChzdXBwb3J0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3VwcG9ydGVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmICgoX2EgPSBnbG9iYWwucGVyZl9ob29rcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBlcmZvcm1hbmNlKSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBwZXJmID0gZ2xvYmFsLnBlcmZfaG9va3MucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIGlzUGVyZm9ybWFuY2VTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpO1xufVxuIiwiaW1wb3J0IHsgSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUIH0gZnJvbSAnLi9jb25zdC5qcyc7XG5pbXBvcnQgeyBub3cgfSBmcm9tICcuL3RpbWUuanMnO1xuZXhwb3J0IGNsYXNzIEFwaVByb3h5IHtcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW4sIGhvb2spIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldFF1ZXVlID0gW107XG4gICAgICAgIHRoaXMub25RdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5ob29rID0gaG9vaztcbiAgICAgICAgY29uc3QgZGVmYXVsdFNldHRpbmdzID0ge307XG4gICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gcGx1Z2luLnNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHBsdWdpbi5zZXR0aW5nc1tpZF07XG4gICAgICAgICAgICAgICAgZGVmYXVsdFNldHRpbmdzW2lkXSA9IGl0ZW0uZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2FsU2V0dGluZ3NTYXZlSWQgPSBgX192dWUtZGV2dG9vbHMtcGx1Z2luLXNldHRpbmdzX18ke3BsdWdpbi5pZH1gO1xuICAgICAgICBsZXQgY3VycmVudFNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFNldHRpbmdzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU2V0dGluZ3NTYXZlSWQpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmF3KTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudFNldHRpbmdzLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm9vcFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmFsbGJhY2tzID0ge1xuICAgICAgICAgICAgZ2V0U2V0dGluZ3MoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZXR0aW5ncztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRTZXR0aW5ncyh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU2V0dGluZ3NTYXZlSWQsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm93KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3coKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChob29rKSB7XG4gICAgICAgICAgICBob29rLm9uKEhPT0tfUExVR0lOX1NFVFRJTkdTX1NFVCwgKHBsdWdpbklkLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW5JZCA9PT0gdGhpcy5wbHVnaW4uaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWxsYmFja3Muc2V0U2V0dGluZ3ModmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJveGllZE9uID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgICAgICBnZXQ6IChfdGFyZ2V0LCBwcm9wKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5vbltwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJveGllZFRhcmdldCA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICAgICAgZ2V0OiAoX3RhcmdldCwgcHJvcCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJveGllZE9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChPYmplY3Qua2V5cyh0aGlzLmZhbGxiYWNrcykuaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6ICgpID0+IHsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFsbGJhY2tzW3Byb3BdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNldFJlYWxUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5vblF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5vbltpdGVtLm1ldGhvZF0oLi4uaXRlbS5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy50YXJnZXRRdWV1ZSkge1xuICAgICAgICAgICAgaXRlbS5yZXNvbHZlKGF3YWl0IHRoaXMudGFyZ2V0W2l0ZW0ubWV0aG9kXSguLi5pdGVtLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFRhcmdldCwgZ2V0RGV2dG9vbHNHbG9iYWxIb29rLCBpc1Byb3h5QXZhaWxhYmxlIH0gZnJvbSAnLi9lbnYuanMnO1xuaW1wb3J0IHsgSE9PS19TRVRVUCB9IGZyb20gJy4vY29uc3QuanMnO1xuaW1wb3J0IHsgQXBpUHJveHkgfSBmcm9tICcuL3Byb3h5LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYXBpL2luZGV4LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcGx1Z2luLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdGltZS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBEZXZ0b29sc1BsdWdpbihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSB7XG4gICAgY29uc3QgZGVzY3JpcHRvciA9IHBsdWdpbkRlc2NyaXB0b3I7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0VGFyZ2V0KCk7XG4gICAgY29uc3QgaG9vayA9IGdldERldnRvb2xzR2xvYmFsSG9vaygpO1xuICAgIGNvbnN0IGVuYWJsZVByb3h5ID0gaXNQcm94eUF2YWlsYWJsZSAmJiBkZXNjcmlwdG9yLmVuYWJsZUVhcmx5UHJveHk7XG4gICAgaWYgKGhvb2sgJiYgKHRhcmdldC5fX1ZVRV9ERVZUT09MU19QTFVHSU5fQVBJX0FWQUlMQUJMRV9fIHx8ICFlbmFibGVQcm94eSkpIHtcbiAgICAgICAgaG9vay5lbWl0KEhPT0tfU0VUVVAsIHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcHJveHkgPSBlbmFibGVQcm94eSA/IG5ldyBBcGlQcm94eShkZXNjcmlwdG9yLCBob29rKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX1BMVUdJTlNfXyB8fCBbXTtcbiAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgIHBsdWdpbkRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgICAgICAgICBzZXR1cEZuLFxuICAgICAgICAgICAgcHJveHksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJveHkpXG4gICAgICAgICAgICBzZXR1cEZuKHByb3h5LnByb3hpZWRUYXJnZXQpO1xuICAgIH1cbn1cbiIsIi8qIVxuICAqIHBpbmlhIHYyLjAuMjlcbiAgKiAoYykgMjAyMyBFZHVhcmRvIFNhbiBNYXJ0aW4gTW9yb3RlXG4gICogQGxpY2Vuc2UgTUlUXG4gICovXG5pbXBvcnQgeyBnZXRDdXJyZW50SW5zdGFuY2UsIGluamVjdCwgdG9SYXcsIHdhdGNoLCB1bnJlZiwgbWFya1JhdywgZWZmZWN0U2NvcGUsIHJlZiwgaXNWdWUyLCBpc1JlZiwgaXNSZWFjdGl2ZSwgc2V0LCBnZXRDdXJyZW50U2NvcGUsIG9uU2NvcGVEaXNwb3NlLCByZWFjdGl2ZSwgdG9SZWYsIGRlbCwgbmV4dFRpY2ssIGNvbXB1dGVkLCB0b1JlZnMgfSBmcm9tICd2dWUtZGVtaSc7XG5pbXBvcnQgeyBzZXR1cERldnRvb2xzUGx1Z2luIH0gZnJvbSAnQHZ1ZS9kZXZ0b29scy1hcGknO1xuXG4vKipcclxuICogc2V0QWN0aXZlUGluaWEgbXVzdCBiZSBjYWxsZWQgdG8gaGFuZGxlIFNTUiBhdCB0aGUgdG9wIG9mIGZ1bmN0aW9ucyBsaWtlXHJcbiAqIGBmZXRjaGAsIGBzZXR1cGAsIGBzZXJ2ZXJQcmVmZXRjaGAgYW5kIG90aGVyc1xyXG4gKi9cclxubGV0IGFjdGl2ZVBpbmlhO1xyXG4vKipcclxuICogU2V0cyBvciB1bnNldHMgdGhlIGFjdGl2ZSBwaW5pYS4gVXNlZCBpbiBTU1IgYW5kIGludGVybmFsbHkgd2hlbiBjYWxsaW5nXHJcbiAqIGFjdGlvbnMgYW5kIGdldHRlcnNcclxuICpcclxuICogQHBhcmFtIHBpbmlhIC0gUGluaWEgaW5zdGFuY2VcclxuICovXHJcbmNvbnN0IHNldEFjdGl2ZVBpbmlhID0gKHBpbmlhKSA9PiAoYWN0aXZlUGluaWEgPSBwaW5pYSk7XHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgcGluaWEgaWYgdGhlcmUgaXMgYW55LlxyXG4gKi9cclxuY29uc3QgZ2V0QWN0aXZlUGluaWEgPSAoKSA9PiAoZ2V0Q3VycmVudEluc3RhbmNlKCkgJiYgaW5qZWN0KHBpbmlhU3ltYm9sKSkgfHwgYWN0aXZlUGluaWE7XHJcbmNvbnN0IHBpbmlhU3ltYm9sID0gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IFN5bWJvbCgncGluaWEnKSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFN5bWJvbCgpKTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxubykge1xyXG4gICAgcmV0dXJuIChvICYmXHJcbiAgICAgICAgdHlwZW9mIG8gPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSAnW29iamVjdCBPYmplY3RdJyAmJlxyXG4gICAgICAgIHR5cGVvZiBvLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyk7XHJcbn1cclxuLy8gdHlwZSBEZWVwUmVhZG9ubHk8VD4gPSB7IHJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBEZWVwUmVhZG9ubHk8VFtQXT4gfVxyXG4vLyBUT0RPOiBjYW4gd2UgY2hhbmdlIHRoZXNlIHRvIG51bWJlcnM/XHJcbi8qKlxyXG4gKiBQb3NzaWJsZSB0eXBlcyBmb3IgU3Vic2NyaXB0aW9uQ2FsbGJhY2tcclxuICovXHJcbnZhciBNdXRhdGlvblR5cGU7XHJcbihmdW5jdGlvbiAoTXV0YXRpb25UeXBlKSB7XHJcbiAgICAvKipcclxuICAgICAqIERpcmVjdCBtdXRhdGlvbiBvZiB0aGUgc3RhdGU6XHJcbiAgICAgKlxyXG4gICAgICogLSBgc3RvcmUubmFtZSA9ICduZXcgbmFtZSdgXHJcbiAgICAgKiAtIGBzdG9yZS4kc3RhdGUubmFtZSA9ICduZXcgbmFtZSdgXHJcbiAgICAgKiAtIGBzdG9yZS5saXN0LnB1c2goJ25ldyBpdGVtJylgXHJcbiAgICAgKi9cclxuICAgIE11dGF0aW9uVHlwZVtcImRpcmVjdFwiXSA9IFwiZGlyZWN0XCI7XHJcbiAgICAvKipcclxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGFuIG9iamVjdFxyXG4gICAgICpcclxuICAgICAqIC0gYHN0b3JlLiRwYXRjaCh7IG5hbWU6ICduZXdOYW1lJyB9KWBcclxuICAgICAqL1xyXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hPYmplY3RcIl0gPSBcInBhdGNoIG9iamVjdFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNdXRhdGVkIHRoZSBzdGF0ZSB3aXRoIGAkcGF0Y2hgIGFuZCBhIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogLSBgc3RvcmUuJHBhdGNoKHN0YXRlID0+IHN0YXRlLm5hbWUgPSAnbmV3TmFtZScpYFxyXG4gICAgICovXHJcbiAgICBNdXRhdGlvblR5cGVbXCJwYXRjaEZ1bmN0aW9uXCJdID0gXCJwYXRjaCBmdW5jdGlvblwiO1xyXG4gICAgLy8gbWF5YmUgcmVzZXQ/IGZvciAkc3RhdGUgPSB7fSBhbmQgJHJlc2V0XHJcbn0pKE11dGF0aW9uVHlwZSB8fCAoTXV0YXRpb25UeXBlID0ge30pKTtcblxuY29uc3QgSVNfQ0xJRU5UID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XHJcbi8qKlxyXG4gKiBTaG91bGQgd2UgYWRkIHRoZSBkZXZ0b29scyBwbHVnaW5zLlxyXG4gKiAtIG9ubHkgaWYgZGV2IG1vZGUgb3IgZm9yY2VkIHRocm91Z2ggdGhlIHByb2QgZGV2dG9vbHMgZmxhZ1xyXG4gKiAtIG5vdCBpbiB0ZXN0XHJcbiAqIC0gb25seSBpZiB3aW5kb3cgZXhpc3RzIChjb3VsZCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZSlcclxuICovXHJcbmNvbnN0IFVTRV9ERVZUT09MUyA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykgJiYgSVNfQ0xJRU5UO1xuXG4vKlxyXG4gKiBGaWxlU2F2ZXIuanMgQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXHJcbiAqXHJcbiAqIE9yaWdpbmFsbHkgYnkgRWxpIEdyZXksIGFkYXB0ZWQgYXMgYW4gRVNNIG1vZHVsZSBieSBFZHVhcmRvIFNhbiBNYXJ0aW5cclxuICogTW9yb3RlLlxyXG4gKlxyXG4gKiBMaWNlbnNlIDogTUlUXHJcbiAqL1xyXG4vLyBUaGUgb25lIGFuZCBvbmx5IHdheSBvZiBnZXR0aW5nIGdsb2JhbCBzY29wZSBpbiBhbGwgZW52aXJvbm1lbnRzXHJcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8zMjc3MTgyLzEwMDg5OTlcclxuY29uc3QgX2dsb2JhbCA9IC8qI19fUFVSRV9fKi8gKCgpID0+IHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy53aW5kb3cgPT09IHdpbmRvd1xyXG4gICAgPyB3aW5kb3dcclxuICAgIDogdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZlxyXG4gICAgICAgID8gc2VsZlxyXG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsXHJcbiAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnXHJcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcclxuICAgICAgICAgICAgICAgIDogeyBIVE1MRWxlbWVudDogbnVsbCB9KSgpO1xyXG5mdW5jdGlvbiBib20oYmxvYiwgeyBhdXRvQm9tID0gZmFsc2UgfSA9IHt9KSB7XHJcbiAgICAvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxyXG4gICAgLy8gbm90ZTogeW91ciBicm93c2VyIHdpbGwgYXV0b21hdGljYWxseSBjb252ZXJ0IFVURi0xNiBVK0ZFRkYgdG8gRUYgQkIgQkZcclxuICAgIGlmIChhdXRvQm9tICYmXHJcbiAgICAgICAgL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSgweGZlZmYpLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYmxvYjtcclxufVxyXG5mdW5jdGlvbiBkb3dubG9hZCh1cmwsIG5hbWUsIG9wdHMpIHtcclxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XHJcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xyXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzYXZlQXMoeGhyLnJlc3BvbnNlLCBuYW1lLCBvcHRzKTtcclxuICAgIH07XHJcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdjb3VsZCBub3QgZG93bmxvYWQgZmlsZScpO1xyXG4gICAgfTtcclxuICAgIHhoci5zZW5kKCk7XHJcbn1cclxuZnVuY3Rpb24gY29yc0VuYWJsZWQodXJsKSB7XHJcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIC8vIHVzZSBzeW5jIHRvIGF2b2lkIHBvcHVwIGJsb2NrZXJcclxuICAgIHhoci5vcGVuKCdIRUFEJywgdXJsLCBmYWxzZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICByZXR1cm4geGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8PSAyOTk7XHJcbn1cclxuLy8gYGEuY2xpY2soKWAgZG9lc24ndCB3b3JrIGZvciBhbGwgYnJvd3NlcnMgKCM0NjUpXHJcbmZ1bmN0aW9uIGNsaWNrKG5vZGUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc3QgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XHJcbiAgICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KCdjbGljaycsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgODAsIDIwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XHJcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgX25hdmlnYXRvciA9IFxyXG4gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogJycgfTtcclxuLy8gRGV0ZWN0IFdlYlZpZXcgaW5zaWRlIGEgbmF0aXZlIG1hY09TIGFwcCBieSBydWxpbmcgb3V0IGFsbCBicm93c2Vyc1xyXG4vLyBXZSBqdXN0IG5lZWQgdG8gY2hlY2sgZm9yICdTYWZhcmknIGJlY2F1c2UgYWxsIG90aGVyIGJyb3dzZXJzIChiZXNpZGVzIEZpcmVmb3gpIGluY2x1ZGUgdGhhdCB0b29cclxuLy8gaHR0cHM6Ly93d3cud2hhdGlzbXlicm93c2VyLmNvbS9ndWlkZXMvdGhlLWxhdGVzdC11c2VyLWFnZW50L21hY29zXHJcbmNvbnN0IGlzTWFjT1NXZWJWaWV3ID0gLyojX19QVVJFX18qLyAoKCkgPT4gL01hY2ludG9zaC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcclxuICAgIC9BcHBsZVdlYktpdC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcclxuICAgICEvU2FmYXJpLy50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSkoKTtcclxuY29uc3Qgc2F2ZUFzID0gIUlTX0NMSUVOVFxyXG4gICAgPyAoKSA9PiB7IH0gLy8gbm9vcFxyXG4gICAgOiAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSkgdW5sZXNzIHRoaXMgaXMgYSBtYWNPUyBXZWJWaWV3IG9yIG1pbmkgcHJvZ3JhbVxyXG4gICAgICAgIHR5cGVvZiBIVE1MQW5jaG9yRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAgICAgJ2Rvd25sb2FkJyBpbiBIVE1MQW5jaG9yRWxlbWVudC5wcm90b3R5cGUgJiZcclxuICAgICAgICAgICAgIWlzTWFjT1NXZWJWaWV3XHJcbiAgICAgICAgICAgID8gZG93bmxvYWRTYXZlQXNcclxuICAgICAgICAgICAgOiAvLyBVc2UgbXNTYXZlT3JPcGVuQmxvYiBhcyBhIHNlY29uZCBhcHByb2FjaFxyXG4gICAgICAgICAgICAgICAgJ21zU2F2ZU9yT3BlbkJsb2InIGluIF9uYXZpZ2F0b3JcclxuICAgICAgICAgICAgICAgICAgICA/IG1zU2F2ZUFzXHJcbiAgICAgICAgICAgICAgICAgICAgOiAvLyBGYWxsYmFjayB0byB1c2luZyBGaWxlUmVhZGVyIGFuZCBhIHBvcHVwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTYXZlclNhdmVBcztcclxuZnVuY3Rpb24gZG93bmxvYWRTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcclxuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBhLmRvd25sb2FkID0gbmFtZTtcclxuICAgIGEucmVsID0gJ25vb3BlbmVyJzsgLy8gdGFibmFiYmluZ1xyXG4gICAgLy8gVE9ETzogZGV0ZWN0IGNocm9tZSBleHRlbnNpb25zICYgcGFja2FnZWQgYXBwc1xyXG4gICAgLy8gYS50YXJnZXQgPSAnX2JsYW5rJ1xyXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vIFN1cHBvcnQgcmVndWxhciBsaW5rc1xyXG4gICAgICAgIGEuaHJlZiA9IGJsb2I7XHJcbiAgICAgICAgaWYgKGEub3JpZ2luICE9PSBsb2NhdGlvbi5vcmlnaW4pIHtcclxuICAgICAgICAgICAgaWYgKGNvcnNFbmFibGVkKGEuaHJlZikpIHtcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcclxuICAgICAgICAgICAgICAgIGNsaWNrKGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjbGljayhhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBTdXBwb3J0IGJsb2JzXHJcbiAgICAgICAgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpO1xyXG4gICAgICAgIH0sIDRlNCk7IC8vIDQwc1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGljayhhKTtcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBtc1NhdmVBcyhibG9iLCBuYW1lID0gJ2Rvd25sb2FkJywgb3B0cykge1xyXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xyXG4gICAgICAgICAgICBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGEuaHJlZiA9IGJsb2I7XHJcbiAgICAgICAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2xpY2soYSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IHdvcmtzIG9uIHdpbmRvd3NcclxuICAgICAgICBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihib20oYmxvYiwgb3B0cyksIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZpbGVTYXZlclNhdmVBcyhibG9iLCBuYW1lLCBvcHRzLCBwb3B1cCkge1xyXG4gICAgLy8gT3BlbiBhIHBvcHVwIGltbWVkaWF0ZWx5IGRvIGdvIGFyb3VuZCBwb3B1cCBibG9ja2VyXHJcbiAgICAvLyBNb3N0bHkgb25seSBhdmFpbGFibGUgb24gdXNlciBpbnRlcmFjdGlvbiBhbmQgdGhlIGZpbGVSZWFkZXIgaXMgYXN5bmMgc28uLi5cclxuICAgIHBvcHVwID0gcG9wdXAgfHwgb3BlbignJywgJ19ibGFuaycpO1xyXG4gICAgaWYgKHBvcHVwKSB7XHJcbiAgICAgICAgcG9wdXAuZG9jdW1lbnQudGl0bGUgPSBwb3B1cC5kb2N1bWVudC5ib2R5LmlubmVyVGV4dCA9ICdkb3dubG9hZGluZy4uLic7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKVxyXG4gICAgICAgIHJldHVybiBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcclxuICAgIGNvbnN0IGZvcmNlID0gYmxvYi50eXBlID09PSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcclxuICAgIGNvbnN0IGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChTdHJpbmcoX2dsb2JhbC5IVE1MRWxlbWVudCkpIHx8ICdzYWZhcmknIGluIF9nbG9iYWw7XHJcbiAgICBjb25zdCBpc0Nocm9tZUlPUyA9IC9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIGlmICgoaXNDaHJvbWVJT1MgfHwgKGZvcmNlICYmIGlzU2FmYXJpKSB8fCBpc01hY09TV2ViVmlldykgJiZcclxuICAgICAgICB0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIFVSTHNcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSByZWFkZXIucmVzdWx0O1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHBvcHVwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgcmVhZGVyLnJlc3VsdCB0eXBlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXJsID0gaXNDaHJvbWVJT1NcclxuICAgICAgICAgICAgICAgID8gdXJsXHJcbiAgICAgICAgICAgICAgICA6IHVybC5yZXBsYWNlKC9eZGF0YTpbXjtdKjsvLCAnZGF0YTphdHRhY2htZW50L2ZpbGU7Jyk7XHJcbiAgICAgICAgICAgIGlmIChwb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgcG9wdXAubG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvcHVwID0gbnVsbDsgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBpZiAocG9wdXApXHJcbiAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICBwb3B1cCA9IG51bGw7IC8vIHJldmVyc2UtdGFibmFiYmluZyAjNDYwXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcclxuICAgIH1cclxufVxuXG4vKipcclxuICogU2hvd3MgYSB0b2FzdCBvciBjb25zb2xlLmxvZ1xyXG4gKlxyXG4gKiBAcGFyYW0gbWVzc2FnZSAtIG1lc3NhZ2UgdG8gbG9nXHJcbiAqIEBwYXJhbSB0eXBlIC0gZGlmZmVyZW50IGNvbG9yIG9mIHRoZSB0b29sdGlwXHJcbiAqL1xyXG5mdW5jdGlvbiB0b2FzdE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xyXG4gICAgY29uc3QgcGluaWFNZXNzYWdlID0gJ/CfjY0gJyArIG1lc3NhZ2U7XHJcbiAgICBpZiAodHlwZW9mIF9fVlVFX0RFVlRPT0xTX1RPQVNUX18gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBfX1ZVRV9ERVZUT09MU19UT0FTVF9fKHBpbmlhTWVzc2FnZSwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihwaW5pYU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3dhcm4nKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKHBpbmlhTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhwaW5pYU1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzUGluaWEobykge1xyXG4gICAgcmV0dXJuICdfYScgaW4gbyAmJiAnaW5zdGFsbCcgaW4gbztcclxufVxuXG5mdW5jdGlvbiBjaGVja0NsaXBib2FyZEFjY2VzcygpIHtcclxuICAgIGlmICghKCdjbGlwYm9hcmQnIGluIG5hdmlnYXRvcikpIHtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoYFlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdGhlIENsaXBib2FyZCBBUElgLCAnZXJyb3InKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcclxuICAgICAgICBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2RvY3VtZW50IGlzIG5vdCBmb2N1c2VkJykpIHtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoJ1lvdSBuZWVkIHRvIGFjdGl2YXRlIHRoZSBcIkVtdWxhdGUgYSBmb2N1c2VkIHBhZ2VcIiBzZXR0aW5nIGluIHRoZSBcIlJlbmRlcmluZ1wiIHBhbmVsIG9mIGRldnRvb2xzLicsICd3YXJuJyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsQ29weVN0YXRlKHBpbmlhKSB7XHJcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KEpTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKSk7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgY29waWVkIHRvIGNsaXBib2FyZC4nKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBzZXJpYWxpemUgdGhlIHN0YXRlLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpIHtcclxuICAgIGlmIChjaGVja0NsaXBib2FyZEFjY2VzcygpKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWUgPSBKU09OLnBhcnNlKGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKSk7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgcGFzdGVkIGZyb20gY2xpcGJvYXJkLicpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGNoZWNrTm90Rm9jdXNlZEVycm9yKGVycm9yKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGRlc2VyaWFsaXplIHRoZSBzdGF0ZSBmcm9tIGNsaXBib2FyZC4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxyXG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxTYXZlU3RhdGUocGluaWEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgc2F2ZUFzKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShwaW5pYS5zdGF0ZS52YWx1ZSldLCB7XHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnLFxyXG4gICAgICAgIH0pLCAncGluaWEtc3RhdGUuanNvbicpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gZXhwb3J0IHRoZSBzdGF0ZSBhcyBKU09OLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbmxldCBmaWxlSW5wdXQ7XHJcbmZ1bmN0aW9uIGdldEZpbGVPcGVuZXIoKSB7XHJcbiAgICBpZiAoIWZpbGVJbnB1dCkge1xyXG4gICAgICAgIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XHJcbiAgICAgICAgZmlsZUlucHV0LmFjY2VwdCA9ICcuanNvbic7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvcGVuRmlsZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGZpbGVJbnB1dC5maWxlcztcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZXMuaXRlbSgwKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdGV4dDogYXdhaXQgZmlsZS50ZXh0KCksIGZpbGUgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IFRPRE86IGNoYW5nZWQgZnJvbSA0LjMgdG8gNC40XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmNhbmNlbCA9ICgpID0+IHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBvcGVuRmlsZTtcclxufVxyXG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG9wZW4gPSBhd2FpdCBnZXRGaWxlT3BlbmVyKCk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlbigpO1xyXG4gICAgICAgIGlmICghcmVzdWx0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgeyB0ZXh0LCBmaWxlIH0gPSByZXN1bHQ7XHJcbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWUgPSBKU09OLnBhcnNlKHRleHQpO1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgR2xvYmFsIHN0YXRlIGltcG9ydGVkIGZyb20gXCIke2ZpbGUubmFtZX1cIi5gKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGV4cG9ydCB0aGUgc3RhdGUgYXMgSlNPTi4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5KGRpc3BsYXkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX2N1c3RvbToge1xyXG4gICAgICAgICAgICBkaXNwbGF5LFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IFBJTklBX1JPT1RfTEFCRUwgPSAn8J+NjSBQaW5pYSAocm9vdCknO1xyXG5jb25zdCBQSU5JQV9ST09UX0lEID0gJ19yb290JztcclxuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKHN0b3JlKSB7XHJcbiAgICByZXR1cm4gaXNQaW5pYShzdG9yZSlcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgaWQ6IFBJTklBX1JPT1RfSUQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBQSU5JQV9ST09UX0xBQkVMLFxyXG4gICAgICAgIH1cclxuICAgICAgICA6IHtcclxuICAgICAgICAgICAgaWQ6IHN0b3JlLiRpZCxcclxuICAgICAgICAgICAgbGFiZWw6IHN0b3JlLiRpZCxcclxuICAgICAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoc3RvcmUpIHtcclxuICAgIGlmIChpc1BpbmlhKHN0b3JlKSkge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlTmFtZXMgPSBBcnJheS5mcm9tKHN0b3JlLl9zLmtleXMoKSk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVNYXAgPSBzdG9yZS5fcztcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgc3RhdGU6IHN0b3JlTmFtZXMubWFwKChzdG9yZUlkKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBrZXk6IHN0b3JlSWQsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuc3RhdGUudmFsdWVbc3RvcmVJZF0sXHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgZ2V0dGVyczogc3RvcmVOYW1lc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoaWQpID0+IHN0b3JlTWFwLmdldChpZCkuX2dldHRlcnMpXHJcbiAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBzdG9yZU1hcC5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBpZCxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuX2dldHRlcnMucmVkdWNlKChnZXR0ZXJzLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwge30pLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICBzdGF0ZTogT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5tYXAoKGtleSkgPT4gKHtcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlLiRzdGF0ZVtrZXldLFxyXG4gICAgICAgIH0pKSxcclxuICAgIH07XHJcbiAgICAvLyBhdm9pZCBhZGRpbmcgZW1wdHkgZ2V0dGVyc1xyXG4gICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgIHN0YXRlLmdldHRlcnMgPSBzdG9yZS5fZ2V0dGVycy5tYXAoKGdldHRlck5hbWUpID0+ICh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAga2V5OiBnZXR0ZXJOYW1lLFxyXG4gICAgICAgICAgICB2YWx1ZTogc3RvcmVbZ2V0dGVyTmFtZV0sXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLnNpemUpIHtcclxuICAgICAgICBzdGF0ZS5jdXN0b21Qcm9wZXJ0aWVzID0gQXJyYXkuZnJvbShzdG9yZS5fY3VzdG9tUHJvcGVydGllcykubWFwKChrZXkpID0+ICh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtrZXldLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGF0ZTtcclxufVxyXG5mdW5jdGlvbiBmb3JtYXRFdmVudERhdGEoZXZlbnRzKSB7XHJcbiAgICBpZiAoIWV2ZW50cylcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudHMpKSB7XHJcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGFkZCBhbmQgZGVsZXRlIGZvciBhcnJheXMgYW5kIG9iamVjdHNcclxuICAgICAgICByZXR1cm4gZXZlbnRzLnJlZHVjZSgoZGF0YSwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZGF0YS5rZXlzLnB1c2goZXZlbnQua2V5KTtcclxuICAgICAgICAgICAgZGF0YS5vcGVyYXRpb25zLnB1c2goZXZlbnQudHlwZSk7XHJcbiAgICAgICAgICAgIGRhdGEub2xkVmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm9sZFZhbHVlO1xyXG4gICAgICAgICAgICBkYXRhLm5ld1ZhbHVlW2V2ZW50LmtleV0gPSBldmVudC5uZXdWYWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBvbGRWYWx1ZToge30sXHJcbiAgICAgICAgICAgIGtleXM6IFtdLFxyXG4gICAgICAgICAgICBvcGVyYXRpb25zOiBbXSxcclxuICAgICAgICAgICAgbmV3VmFsdWU6IHt9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgb3BlcmF0aW9uOiBmb3JtYXREaXNwbGF5KGV2ZW50cy50eXBlKSxcclxuICAgICAgICAgICAga2V5OiBmb3JtYXREaXNwbGF5KGV2ZW50cy5rZXkpLFxyXG4gICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnRzLm9sZFZhbHVlLFxyXG4gICAgICAgICAgICBuZXdWYWx1ZTogZXZlbnRzLm5ld1ZhbHVlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0TXV0YXRpb25UeXBlKHR5cGUpIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLmRpcmVjdDpcclxuICAgICAgICAgICAgcmV0dXJuICdtdXRhdGlvbic7XHJcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbjpcclxuICAgICAgICAgICAgcmV0dXJuICckcGF0Y2gnO1xyXG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0OlxyXG4gICAgICAgICAgICByZXR1cm4gJyRwYXRjaCc7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJztcclxuICAgIH1cclxufVxuXG4vLyB0aW1lbGluZSBjYW4gYmUgcGF1c2VkIHdoZW4gZGlyZWN0bHkgY2hhbmdpbmcgdGhlIHN0YXRlXHJcbmxldCBpc1RpbWVsaW5lQWN0aXZlID0gdHJ1ZTtcclxuY29uc3QgY29tcG9uZW50U3RhdGVUeXBlcyA9IFtdO1xyXG5jb25zdCBNVVRBVElPTlNfTEFZRVJfSUQgPSAncGluaWE6bXV0YXRpb25zJztcclxuY29uc3QgSU5TUEVDVE9SX0lEID0gJ3BpbmlhJztcclxuLyoqXHJcbiAqIEdldHMgdGhlIGRpc3BsYXllZCBuYW1lIG9mIGEgc3RvcmUgaW4gZGV2dG9vbHNcclxuICpcclxuICogQHBhcmFtIGlkIC0gaWQgb2YgdGhlIHN0b3JlXHJcbiAqIEByZXR1cm5zIGEgZm9ybWF0dGVkIHN0cmluZ1xyXG4gKi9cclxuY29uc3QgZ2V0U3RvcmVUeXBlID0gKGlkKSA9PiAn8J+NjSAnICsgaWQ7XHJcbi8qKlxyXG4gKiBBZGQgdGhlIHBpbmlhIHBsdWdpbiB3aXRob3V0IGFueSBzdG9yZS4gQWxsb3dzIGRpc3BsYXlpbmcgYSBQaW5pYSBwbHVnaW4gdGFiXHJcbiAqIGFzIHNvb24gYXMgaXQgaXMgYWRkZWQgdG8gdGhlIGFwcGxpY2F0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gVnVlIGFwcGxpY2F0aW9uXHJcbiAqIEBwYXJhbSBwaW5pYSAtIHBpbmlhIGluc3RhbmNlXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclBpbmlhRGV2dG9vbHMoYXBwLCBwaW5pYSkge1xyXG4gICAgc2V0dXBEZXZ0b29sc1BsdWdpbih7XHJcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcclxuICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxyXG4gICAgICAgIGxvZ286ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9sb2dvLnN2ZycsXHJcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXHJcbiAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZycsXHJcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcyxcclxuICAgICAgICBhcHAsXHJcbiAgICB9LCAoYXBpKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcGkubm93ICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XHJcbiAgICAgICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBgUGluaWEg8J+NjWAsXHJcbiAgICAgICAgICAgIGNvbG9yOiAweGU1ZGY4OCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcclxuICAgICAgICAgICAgaWQ6IElOU1BFQ1RPUl9JRCxcclxuICAgICAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcclxuICAgICAgICAgICAgaWNvbjogJ3N0b3JhZ2UnLFxyXG4gICAgICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdTZWFyY2ggc3RvcmVzJyxcclxuICAgICAgICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdjb250ZW50X2NvcHknLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NlcmlhbGl6ZSBhbmQgY29weSB0aGUgc3RhdGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9wYXN0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1JlcGxhY2UgdGhlIHN0YXRlIHdpdGggdGhlIGNvbnRlbnQgb2YgeW91ciBjbGlwYm9hcmQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnc2F2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkdsb2JhbFNhdmVTdGF0ZShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2F2ZSB0aGUgc3RhdGUgYXMgYSBKU09OIGZpbGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZm9sZGVyX29wZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdJbXBvcnQgdGhlIHN0YXRlIGZyb20gYSBKU09OIGZpbGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgbm9kZUFjdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAncmVzdG9yZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1Jlc2V0IHRoZSBzdGF0ZSAob3B0aW9uIHN0b3JlIG9ubHkpJyxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IChub2RlSWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQobm9kZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IHdhc24ndCBmb3VuZC5gLCAnd2FybicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzdG9yZS5faXNPcHRpb25zQVBJKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYENhbm5vdCByZXNldCBcIiR7bm9kZUlkfVwiIHN0b3JlIGJlY2F1c2UgaXQncyBhIHNldHVwIHN0b3JlLmAsICd3YXJuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS4kcmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgU3RvcmUgXCIke25vZGVJZH1cIiByZXNldC5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwaS5vbi5pbnNwZWN0Q29tcG9uZW50KChwYXlsb2FkLCBjdHgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJveHkgPSAocGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZS5wcm94eSk7XHJcbiAgICAgICAgICAgIGlmIChwcm94eSAmJiBwcm94eS5fcFN0b3Jlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWFTdG9yZXMgPSBwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlLnByb3h5Ll9wU3RvcmVzO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhwaW5pYVN0b3JlcykuZm9yRWFjaCgoc3RvcmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3N0YXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5faXNPcHRpb25zQVBJXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b1JhdyhzdG9yZS4kc3RhdGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3Jlc3RvcmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdSZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBzdG9yZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiBzdG9yZS4kcmVzZXQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogLy8gTk9URTogd29ya2Fyb3VuZCB0byB1bndyYXAgdHJhbnNmZXJyZWQgcmVmc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0b3JlLiRzdGF0ZSkucmVkdWNlKChzdGF0ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBzdG9yZS4kc3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmUuX2dldHRlcnMgJiYgc3RvcmUuX2dldHRlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdnZXR0ZXJzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcnNba2V5XSA9IHN0b3JlW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBqdXN0IHdhbnQgdG8gc2hvdyBpdCBpbiBkZXZ0b29sc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmVzID0gW3BpbmlhXTtcclxuICAgICAgICAgICAgICAgIHN0b3JlcyA9IHN0b3Jlcy5jb25jYXQoQXJyYXkuZnJvbShwaW5pYS5fcy52YWx1ZXMoKSkpO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5yb290Tm9kZXMgPSAocGF5bG9hZC5maWx0ZXJcclxuICAgICAgICAgICAgICAgICAgICA/IHN0b3Jlcy5maWx0ZXIoKHN0b3JlKSA9PiAnJGlkJyBpbiBzdG9yZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0b3JlLiRpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBJTklBX1JPT1RfTEFCRUwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSlcclxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlcykubWFwKGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXHJcbiAgICAgICAgICAgICAgICAgICAgPyBwaW5pYVxyXG4gICAgICAgICAgICAgICAgICAgIDogcGluaWEuX3MuZ2V0KHBheWxvYWQubm9kZUlkKTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGJlIHRoZSBzZWxlY3RlZCBzdG9yZSByZXN0b3JlZCBmb3IgYSBkaWZmZXJlbnQgcHJvamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIGl0J3MgYmV0dGVyIG5vdCB0byBzYXkgYW55dGhpbmcgaGVyZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpbnNwZWN0ZWRTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuc3RhdGUgPSBmb3JtYXRTdG9yZUZvckluc3BlY3RvclN0YXRlKGluc3BlY3RlZFN0b3JlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQsIGN0eCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluc3BlY3RlZFN0b3JlID0gcGF5bG9hZC5ub2RlSWQgPT09IFBJTklBX1JPT1RfSURcclxuICAgICAgICAgICAgICAgICAgICA/IHBpbmlhXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnNwZWN0ZWRTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtwYXlsb2FkLm5vZGVJZH1cIiBub3QgZm91bmRgLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gcGF5bG9hZDtcclxuICAgICAgICAgICAgICAgIGlmICghaXNQaW5pYShpbnNwZWN0ZWRTdG9yZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3Mgb25seSB0aGUgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggIT09IDEgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWluc3BlY3RlZFN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmhhcyhwYXRoWzBdKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoWzBdIGluIGluc3BlY3RlZFN0b3JlLiRzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoJyRzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJvb3QgYWNjZXNzLCB3ZSBjYW4gb21pdCB0aGUgYC52YWx1ZWAgYmVjYXVzZSB0aGUgZGV2dG9vbHMgQVBJIGRvZXMgaXQgZm9yIHVzXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KCdzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoaW5zcGVjdGVkU3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZWRpdENvbXBvbmVudFN0YXRlKChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLnR5cGUuc3RhcnRzV2l0aCgn8J+NjScpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUlkID0gcGF5bG9hZC50eXBlLnJlcGxhY2UoL17wn42NXFxzKi8sICcnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KHN0b3JlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtzdG9yZUlkfVwiIG5vdCBmb3VuZGAsICdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBwYXlsb2FkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbMF0gIT09ICdzdGF0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBJbnZhbGlkIHBhdGggZm9yIHN0b3JlIFwiJHtzdG9yZUlkfVwiOlxcbiR7cGF0aH1cXG5Pbmx5IHN0YXRlIGNhbiBiZSBtb2RpZmllZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJld3JpdGUgdGhlIGZpcnN0IGVudHJ5IHRvIGJlIGFibGUgdG8gZGlyZWN0bHkgc2V0IHRoZSBzdGF0ZSBhc1xyXG4gICAgICAgICAgICAgICAgLy8gd2VsbCBhcyBhbnkgb3RoZXIgcGF0aFxyXG4gICAgICAgICAgICAgICAgcGF0aFswXSA9ICckc3RhdGUnO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoc3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGFkZFN0b3JlVG9EZXZ0b29scyhhcHAsIHN0b3JlKSB7XHJcbiAgICBpZiAoIWNvbXBvbmVudFN0YXRlVHlwZXMuaW5jbHVkZXMoZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCkpKSB7XHJcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcy5wdXNoKGdldFN0b3JlVHlwZShzdG9yZS4kaWQpKTtcclxuICAgIH1cclxuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xyXG4gICAgICAgIGlkOiAnZGV2LmVzbS5waW5pYScsXHJcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcclxuICAgICAgICBsb2dvOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvbG9nby5zdmcnLFxyXG4gICAgICAgIHBhY2thZ2VOYW1lOiAncGluaWEnLFxyXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxyXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMsXHJcbiAgICAgICAgYXBwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGxvZ1N0b3JlQ2hhbmdlczoge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOb3RpZnkgYWJvdXQgbmV3L2RlbGV0ZWQgc3RvcmVzJyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gdXNlRW1vamlzOiB7XHJcbiAgICAgICAgICAgIC8vICAgbGFiZWw6ICdVc2UgZW1vamlzIGluIG1lc3NhZ2VzIOKaoe+4jycsXHJcbiAgICAgICAgICAgIC8vICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICAgICAgICAvLyAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICB9LFxyXG4gICAgfSwgKGFwaSkgPT4ge1xyXG4gICAgICAgIC8vIGdyYWNlZnVsbHkgaGFuZGxlIGVycm9yc1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHR5cGVvZiBhcGkubm93ID09PSAnZnVuY3Rpb24nID8gYXBpLm5vdy5iaW5kKGFwaSkgOiBEYXRlLm5vdztcclxuICAgICAgICBzdG9yZS4kb25BY3Rpb24oKHsgYWZ0ZXIsIG9uRXJyb3IsIG5hbWUsIGFyZ3MgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBncm91cElkID0gcnVubmluZ0FjdGlvbklkKys7XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5urICcgKyBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhZnRlcigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfm6wgJyArIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgb25FcnJvcigoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+SpSAnICsgbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICB3YXRjaCgoKSA9PiB1bnJlZihzdG9yZVtuYW1lXSksIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1RpbWVsaW5lQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hhbmdlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGl2ZUFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN0b3JlLiRzdWJzY3JpYmUoKHsgZXZlbnRzLCB0eXBlIH0sIHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGltZWxpbmVBY3RpdmUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIHJvb3RTdG9yZS5zdGF0ZVtzdG9yZS5pZF0gPSBzdGF0ZVxyXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRFdmVudERhdGEoZXZlbnRzKSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBncm91cElkOiBhY3RpdmVBY3Rpb24sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IGZvciB0aGUgbmV4dCBtdXRhdGlvblxyXG4gICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gJ+Kkte+4jyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSAn8J+nqSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnRzICYmICFBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9IGV2ZW50cy50eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5kYXRhWydyYXdFdmVudChzKSddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0RlYnVnZ2VyRXZlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ3JhdyBEZWJ1Z2dlckV2ZW50W10nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudERhdGEsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIHsgZGV0YWNoZWQ6IHRydWUsIGZsdXNoOiAnc3luYycgfSk7XHJcbiAgICAgICAgY29uc3QgaG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcclxuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcclxuICAgICAgICAgICAgaG90VXBkYXRlKG5ld1N0b3JlKTtcclxuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CflKUgJyArIHN0b3JlLiRpZCxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0hNUiB1cGRhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogZm9ybWF0RGlzcGxheShgSE1SIHVwZGF0ZWApLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkZXZ0b29scyB0b29cclxuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHsgJGRpc3Bvc2UgfSA9IHN0b3JlO1xyXG4gICAgICAgIHN0b3JlLiRkaXNwb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAkZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgICAgIGFwaS5nZXRTZXR0aW5ncygpLmxvZ1N0b3JlQ2hhbmdlcyAmJlxyXG4gICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBEaXNwb3NlZCBcIiR7c3RvcmUuJGlkfVwiIHN0b3JlIPCfl5FgKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHRyaWdnZXIgYW4gdXBkYXRlIHNvIGl0IGNhbiBkaXNwbGF5IG5ldyByZWdpc3RlcmVkIHN0b3Jlc1xyXG4gICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgYXBpLmdldFNldHRpbmdzKCkubG9nU3RvcmVDaGFuZ2VzICYmXHJcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgXCIke3N0b3JlLiRpZH1cIiBzdG9yZSBpbnN0YWxsZWQg8J+GlWApO1xyXG4gICAgfSk7XHJcbn1cclxubGV0IHJ1bm5pbmdBY3Rpb25JZCA9IDA7XHJcbmxldCBhY3RpdmVBY3Rpb247XHJcbi8qKlxyXG4gKiBQYXRjaGVzIGEgc3RvcmUgdG8gZW5hYmxlIGFjdGlvbiBncm91cGluZyBpbiBkZXZ0b29scyBieSB3cmFwcGluZyB0aGUgc3RvcmUgd2l0aCBhIFByb3h5IHRoYXQgaXMgcGFzc2VkIGFzIHRoZVxyXG4gKiBjb250ZXh0IG9mIGFsbCBhY3Rpb25zLCBhbGxvd2luZyB1cyB0byBzZXQgYHJ1bm5pbmdBY3Rpb25gIG9uIGVhY2ggYWNjZXNzIGFuZCBlZmZlY3RpdmVseSBhc3NvY2lhdGluZyBhbnkgc3RhdGVcclxuICogbXV0YXRpb24gdG8gdGhlIGFjdGlvbi5cclxuICpcclxuICogQHBhcmFtIHN0b3JlIC0gc3RvcmUgdG8gcGF0Y2hcclxuICogQHBhcmFtIGFjdGlvbk5hbWVzIC0gbGlzdCBvZiBhY3Rpb25zdCB0byBwYXRjaFxyXG4gKi9cclxuZnVuY3Rpb24gcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgYWN0aW9uTmFtZXMpIHtcclxuICAgIC8vIG9yaWdpbmFsIGFjdGlvbnMgb2YgdGhlIHN0b3JlIGFzIHRoZXkgYXJlIGdpdmVuIGJ5IHBpbmlhLiBXZSBhcmUgZ29pbmcgdG8gb3ZlcnJpZGUgdGhlbVxyXG4gICAgY29uc3QgYWN0aW9ucyA9IGFjdGlvbk5hbWVzLnJlZHVjZSgoc3RvcmVBY3Rpb25zLCBhY3Rpb25OYW1lKSA9PiB7XHJcbiAgICAgICAgLy8gdXNlIHRvUmF3IHRvIGF2b2lkIHRyYWNraW5nICM1NDFcclxuICAgICAgICBzdG9yZUFjdGlvbnNbYWN0aW9uTmFtZV0gPSB0b1JhdyhzdG9yZSlbYWN0aW9uTmFtZV07XHJcbiAgICAgICAgcmV0dXJuIHN0b3JlQWN0aW9ucztcclxuICAgIH0sIHt9KTtcclxuICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBhY3Rpb25zKSB7XHJcbiAgICAgICAgc3RvcmVbYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHNldEFjdGl2ZVBpbmlhKHN0b3JlLl9wKVxyXG4gICAgICAgICAgICAvLyB0aGUgcnVubmluZyBhY3Rpb24gaWQgaXMgaW5jcmVtZW50ZWQgaW4gYSBiZWZvcmUgYWN0aW9uIGhvb2tcclxuICAgICAgICAgICAgY29uc3QgX2FjdGlvbklkID0gcnVubmluZ0FjdGlvbklkO1xyXG4gICAgICAgICAgICBjb25zdCB0cmFja2VkU3RvcmUgPSBuZXcgUHJveHkoc3RvcmUsIHtcclxuICAgICAgICAgICAgICAgIGdldCguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCguLi5hcmdzKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQoLi4uYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnNbYWN0aW9uTmFtZV0uYXBwbHkodHJhY2tlZFN0b3JlLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbilcclxuICovXHJcbmZ1bmN0aW9uIGRldnRvb2xzUGx1Z2luKHsgYXBwLCBzdG9yZSwgb3B0aW9ucyB9KSB7XHJcbiAgICAvLyBITVIgbW9kdWxlXHJcbiAgICBpZiAoc3RvcmUuJGlkLnN0YXJ0c1dpdGgoJ19faG90OicpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gZGV0ZWN0IG9wdGlvbiBhcGkgdnMgc2V0dXAgYXBpXHJcbiAgICBpZiAob3B0aW9ucy5zdGF0ZSkge1xyXG4gICAgICAgIHN0b3JlLl9pc09wdGlvbnNBUEkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gb25seSB3cmFwIGFjdGlvbnMgaW4gb3B0aW9uLWRlZmluZWQgc3RvcmVzIGFzIHRoaXMgdGVjaG5pcXVlIHJlbGllcyBvblxyXG4gICAgLy8gd3JhcHBpbmcgdGhlIGNvbnRleHQgb2YgdGhlIGFjdGlvbiB3aXRoIGEgcHJveHlcclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zdGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoXHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogY2FuIGNhc3QgdGhlIHN0b3JlLi4uXHJcbiAgICAgICAgc3RvcmUsIE9iamVjdC5rZXlzKG9wdGlvbnMuYWN0aW9ucykpO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcclxuICAgICAgICAvLyBVcGdyYWRlIHRoZSBITVIgdG8gYWxzbyB1cGRhdGUgdGhlIG5ldyBhY3Rpb25zXHJcbiAgICAgICAgdG9SYXcoc3RvcmUpLl9ob3RVcGRhdGUgPSBmdW5jdGlvbiAobmV3U3RvcmUpIHtcclxuICAgICAgICAgICAgb3JpZ2luYWxIb3RVcGRhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgT2JqZWN0LmtleXMobmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBhZGRTdG9yZVRvRGV2dG9vbHMoYXBwLCBcclxuICAgIC8vIEZJWE1FOiBpcyB0aGVyZSBhIHdheSB0byBhbGxvdyB0aGUgYXNzaWdubWVudCBmcm9tIFN0b3JlPElkLCBTLCBHLCBBPiB0byBTdG9yZUdlbmVyaWM/XHJcbiAgICBzdG9yZSk7XHJcbn1cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBQaW5pYSBpbnN0YW5jZSB0byBiZSB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUGluaWEoKSB7XHJcbiAgICBjb25zdCBzY29wZSA9IGVmZmVjdFNjb3BlKHRydWUpO1xyXG4gICAgLy8gTk9URTogaGVyZSB3ZSBjb3VsZCBjaGVjayB0aGUgd2luZG93IG9iamVjdCBmb3IgYSBzdGF0ZSBhbmQgZGlyZWN0bHkgc2V0IGl0XHJcbiAgICAvLyBpZiB0aGVyZSBpcyBhbnl0aGluZyBsaWtlIGl0IHdpdGggVnVlIDMgU1NSXHJcbiAgICBjb25zdCBzdGF0ZSA9IHNjb3BlLnJ1bigoKSA9PiByZWYoe30pKTtcclxuICAgIGxldCBfcCA9IFtdO1xyXG4gICAgLy8gcGx1Z2lucyBhZGRlZCBiZWZvcmUgY2FsbGluZyBhcHAudXNlKHBpbmlhKVxyXG4gICAgbGV0IHRvQmVJbnN0YWxsZWQgPSBbXTtcclxuICAgIGNvbnN0IHBpbmlhID0gbWFya1Jhdyh7XHJcbiAgICAgICAgaW5zdGFsbChhcHApIHtcclxuICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgY2FsbGluZyB1c2VTdG9yZSgpIG91dHNpZGUgb2YgYSBjb21wb25lbnQgc2V0dXAgYWZ0ZXJcclxuICAgICAgICAgICAgLy8gaW5zdGFsbGluZyBwaW5pYSdzIHBsdWdpblxyXG4gICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgIGlmICghaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBwaW5pYS5fYSA9IGFwcDtcclxuICAgICAgICAgICAgICAgIGFwcC5wcm92aWRlKHBpbmlhU3ltYm9sLCBwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHBpbmlhID0gcGluaWE7XHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKFVTRV9ERVZUT09MUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGluaWFEZXZ0b29scyhhcHAsIHBpbmlhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRvQmVJbnN0YWxsZWQuZm9yRWFjaCgocGx1Z2luKSA9PiBfcC5wdXNoKHBsdWdpbikpO1xyXG4gICAgICAgICAgICAgICAgdG9CZUluc3RhbGxlZCA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1c2UocGx1Z2luKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fYSAmJiAhaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkLnB1c2gocGx1Z2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9wLnB1c2gocGx1Z2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9wLFxyXG4gICAgICAgIC8vIGl0J3MgYWN0dWFsbHkgdW5kZWZpbmVkIGhlcmVcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgX2E6IG51bGwsXHJcbiAgICAgICAgX2U6IHNjb3BlLFxyXG4gICAgICAgIF9zOiBuZXcgTWFwKCksXHJcbiAgICAgICAgc3RhdGUsXHJcbiAgICB9KTtcclxuICAgIC8vIHBpbmlhIGRldnRvb2xzIHJlbHkgb24gZGV2IG9ubHkgZmVhdHVyZXMgc28gdGhleSBjYW5ub3QgYmUgZm9yY2VkIHVubGVzc1xyXG4gICAgLy8gdGhlIGRldiBidWlsZCBvZiBWdWUgaXMgdXNlZC4gQXZvaWQgb2xkIGJyb3dzZXJzIGxpa2UgSUUxMS5cclxuICAgIGlmIChVU0VfREVWVE9PTFMgJiYgdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGluaWE7XHJcbn1cblxuLyoqXHJcbiAqIENoZWNrcyBpZiBhIGZ1bmN0aW9uIGlzIGEgYFN0b3JlRGVmaW5pdGlvbmAuXHJcbiAqXHJcbiAqIEBwYXJhbSBmbiAtIG9iamVjdCB0byB0ZXN0XHJcbiAqIEByZXR1cm5zIHRydWUgaWYgYGZuYCBpcyBhIFN0b3JlRGVmaW5pdGlvblxyXG4gKi9cclxuY29uc3QgaXNVc2VTdG9yZSA9IChmbikgPT4ge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZm4uJGlkID09PSAnc3RyaW5nJztcclxufTtcclxuLyoqXHJcbiAqIE11dGF0ZXMgaW4gcGxhY2UgYG5ld1N0YXRlYCB3aXRoIGBvbGRTdGF0ZWAgdG8gX2hvdCB1cGRhdGVfIGl0LiBJdCB3aWxsXHJcbiAqIHJlbW92ZSBhbnkga2V5IG5vdCBleGlzdGluZyBpbiBgbmV3U3RhdGVgIGFuZCByZWN1cnNpdmVseSBtZXJnZSBwbGFpblxyXG4gKiBvYmplY3RzLlxyXG4gKlxyXG4gKiBAcGFyYW0gbmV3U3RhdGUgLSBuZXcgc3RhdGUgb2JqZWN0IHRvIGJlIHBhdGNoZWRcclxuICogQHBhcmFtIG9sZFN0YXRlIC0gb2xkIHN0YXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcGF0Y2ggbmV3U3RhdGVcclxuICogQHJldHVybnMgLSBuZXdTdGF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcGF0Y2hPYmplY3QobmV3U3RhdGUsIG9sZFN0YXRlKSB7XHJcbiAgICAvLyBubyBuZWVkIHRvIGdvIHRocm91Z2ggc3ltYm9scyBiZWNhdXNlIHRoZXkgY2Fubm90IGJlIHNlcmlhbGl6ZWQgYW55d2F5XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTdGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gb2xkU3RhdGVba2V5XTtcclxuICAgICAgICAvLyBza2lwIHRoZSB3aG9sZSBzdWIgdHJlZVxyXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdTdGF0ZSkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gbmV3U3RhdGVba2V5XTtcclxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcclxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxyXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcclxuICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHBhdGNoT2JqZWN0KHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBvYmplY3RzIGFyZSBlaXRoZXIgYSBiaXQgbW9yZSBjb21wbGV4IChlLmcuIHJlZnMpIG9yIHByaW1pdGl2ZXMsIHNvIHdlXHJcbiAgICAgICAgICAgIC8vIGp1c3Qgc2V0IHRoZSB3aG9sZSB0aGluZ1xyXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBzZXQobmV3U3RhdGUsIGtleSwgc3ViUGF0Y2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHN1YlBhdGNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1N0YXRlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGFuIF9hY2NlcHRfIGZ1bmN0aW9uIHRvIHBhc3MgdG8gYGltcG9ydC5tZXRhLmhvdGAgaW4gVml0ZSBhcHBsaWNhdGlvbnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IHVzZVVzZXIgPSBkZWZpbmVTdG9yZSguLi4pXHJcbiAqIGlmIChpbXBvcnQubWV0YS5ob3QpIHtcclxuICogICBpbXBvcnQubWV0YS5ob3QuYWNjZXB0KGFjY2VwdEhNUlVwZGF0ZSh1c2VVc2VyLCBpbXBvcnQubWV0YS5ob3QpKVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0gaW5pdGlhbFVzZVN0b3JlIC0gcmV0dXJuIG9mIHRoZSBkZWZpbmVTdG9yZSB0byBob3QgdXBkYXRlXHJcbiAqIEBwYXJhbSBob3QgLSBgaW1wb3J0Lm1ldGEuaG90YFxyXG4gKi9cclxuZnVuY3Rpb24gYWNjZXB0SE1SVXBkYXRlKGluaXRpYWxVc2VTdG9yZSwgaG90KSB7XHJcbiAgICAvLyBzdHJpcCBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gaWlmZS5wcm9kXHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKG5ld01vZHVsZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBpbmlhID0gaG90LmRhdGEucGluaWEgfHwgaW5pdGlhbFVzZVN0b3JlLl9waW5pYTtcclxuICAgICAgICBpZiAoIXBpbmlhKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgc3RvcmUgaXMgc3RpbGwgbm90IHVzZWRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgcGluaWEgaW5zdGFuY2UgYWNyb3NzIGxvYWRzXHJcbiAgICAgICAgaG90LmRhdGEucGluaWEgPSBwaW5pYTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ290IGRhdGEnLCBuZXdTdG9yZSlcclxuICAgICAgICBmb3IgKGNvbnN0IGV4cG9ydE5hbWUgaW4gbmV3TW9kdWxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZVN0b3JlID0gbmV3TW9kdWxlW2V4cG9ydE5hbWVdO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hlY2tpbmcgZm9yJywgZXhwb3J0TmFtZSlcclxuICAgICAgICAgICAgaWYgKGlzVXNlU3RvcmUodXNlU3RvcmUpICYmIHBpbmlhLl9zLmhhcyh1c2VTdG9yZS4kaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQWNjZXB0aW5nIHVwZGF0ZSBmb3InLCB1c2VTdG9yZS4kaWQpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHVzZVN0b3JlLiRpZDtcclxuICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gaW5pdGlhbFVzZVN0b3JlLiRpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhlIGlkIG9mIHRoZSBzdG9yZSBjaGFuZ2VkIGZyb20gXCIke2luaXRpYWxVc2VTdG9yZS4kaWR9XCIgdG8gXCIke2lkfVwiLiBSZWxvYWRpbmcuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGltcG9ydC5tZXRhLmhvdC5pbnZhbGlkYXRlKClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG90LmludmFsaWRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1N0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtQaW5pYV06IHNraXBwaW5nIGhtciBiZWNhdXNlIHN0b3JlIGRvZXNuJ3QgZXhpc3QgeWV0YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXNlU3RvcmUocGluaWEsIGV4aXN0aW5nU3RvcmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG5jb25zdCBub29wID0gKCkgPT4geyB9O1xyXG5mdW5jdGlvbiBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9ucywgY2FsbGJhY2ssIGRldGFjaGVkLCBvbkNsZWFudXAgPSBub29wKSB7XHJcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goY2FsbGJhY2spO1xyXG4gICAgY29uc3QgcmVtb3ZlU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoIWRldGFjaGVkICYmIGdldEN1cnJlbnRTY29wZSgpKSB7XHJcbiAgICAgICAgb25TY29wZURpc3Bvc2UocmVtb3ZlU3Vic2NyaXB0aW9uKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlclN1YnNjcmlwdGlvbnMoc3Vic2NyaXB0aW9ucywgLi4uYXJncykge1xyXG4gICAgc3Vic2NyaXB0aW9ucy5zbGljZSgpLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBtZXJnZVJlYWN0aXZlT2JqZWN0cyh0YXJnZXQsIHBhdGNoVG9BcHBseSkge1xyXG4gICAgLy8gSGFuZGxlIE1hcCBpbnN0YW5jZXNcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBNYXAgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgTWFwKSB7XHJcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHRhcmdldC5zZXQoa2V5LCB2YWx1ZSkpO1xyXG4gICAgfVxyXG4gICAgLy8gSGFuZGxlIFNldCBpbnN0YW5jZXNcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBTZXQgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgU2V0KSB7XHJcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2godGFyZ2V0LmFkZCwgdGFyZ2V0KTtcclxuICAgIH1cclxuICAgIC8vIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCBzeW1ib2xzIGJlY2F1c2UgdGhleSBjYW5ub3QgYmUgc2VyaWFsaXplZCBhbnl3YXlcclxuICAgIGZvciAoY29uc3Qga2V5IGluIHBhdGNoVG9BcHBseSkge1xyXG4gICAgICAgIGlmICghcGF0Y2hUb0FwcGx5Lmhhc093blByb3BlcnR5KGtleSkpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gcGF0Y2hUb0FwcGx5W2tleV07XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcclxuICAgICAgICAgICAgdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkgJiZcclxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxyXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcclxuICAgICAgICAgICAgLy8gTk9URTogaGVyZSBJIHdhbnRlZCB0byB3YXJuIGFib3V0IGluY29uc2lzdGVudCB0eXBlcyBidXQgaXQncyBub3QgcG9zc2libGUgYmVjYXVzZSBpbiBzZXR1cCBzdG9yZXMgb25lIG1pZ2h0XHJcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGFzIGEgY2VydGFpbiB0eXBlIGUuZy4gYSBNYXAsIGFuZCB0aGVuIGZvciBzb21lIHJlYXNvbiwgZHVyaW5nIFNTUiwgY2hhbmdlIHRoYXRcclxuICAgICAgICAgICAgLy8gdG8gYHVuZGVmaW5lZGAuIFdoZW4gdHJ5aW5nIHRvIGh5ZHJhdGUsIHdlIHdhbnQgdG8gb3ZlcnJpZGUgdGhlIE1hcCB3aXRoIGB1bmRlZmluZWRgLlxyXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBzdWJQYXRjaCBpcyBhIHZhbGlkIHZhbHVlXHJcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc3ViUGF0Y2g7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5jb25zdCBza2lwSHlkcmF0ZVN5bWJvbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgPyBTeW1ib2woJ3BpbmlhOnNraXBIeWRyYXRpb24nKVxyXG4gICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBTeW1ib2woKTtcclxuY29uc3Qgc2tpcEh5ZHJhdGVNYXAgPSAvKiNfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XHJcbi8qKlxyXG4gKiBUZWxscyBQaW5pYSB0byBza2lwIHRoZSBoeWRyYXRpb24gcHJvY2VzcyBvZiBhIGdpdmVuIG9iamVjdC4gVGhpcyBpcyB1c2VmdWwgaW4gc2V0dXAgc3RvcmVzIChvbmx5KSB3aGVuIHlvdSByZXR1cm4gYVxyXG4gKiBzdGF0ZWZ1bCBvYmplY3QgaW4gdGhlIHN0b3JlIGJ1dCBpdCBpc24ndCByZWFsbHkgc3RhdGUuIGUuZy4gcmV0dXJuaW5nIGEgcm91dGVyIGluc3RhbmNlIGluIGEgc2V0dXAgc3RvcmUuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmogLSB0YXJnZXQgb2JqZWN0XHJcbiAqIEByZXR1cm5zIG9ialxyXG4gKi9cclxuZnVuY3Rpb24gc2tpcEh5ZHJhdGUob2JqKSB7XHJcbiAgICByZXR1cm4gaXNWdWUyXHJcbiAgICAgICAgPyAvLyBpbiBAdnVlL2NvbXBvc2l0aW9uLWFwaSwgdGhlIHJlZnMgYXJlIHNlYWxlZCBzbyBkZWZpbmVQcm9wZXJ0eSBkb2Vzbid0IHdvcmsuLi5cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gc2tpcEh5ZHJhdGVNYXAuc2V0KG9iaiwgMSkgJiYgb2JqXHJcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBza2lwSHlkcmF0ZVN5bWJvbCwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBzaG91bGQgYmUgaHlkcmF0ZWRcclxuICpcclxuICogQHBhcmFtIG9iaiAtIHRhcmdldCB2YXJpYWJsZVxyXG4gKiBAcmV0dXJucyB0cnVlIGlmIGBvYmpgIHNob3VsZCBiZSBoeWRyYXRlZFxyXG4gKi9cclxuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZShvYmopIHtcclxuICAgIHJldHVybiBpc1Z1ZTJcclxuICAgICAgICA/IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovICFza2lwSHlkcmF0ZU1hcC5oYXMob2JqKVxyXG4gICAgICAgIDogIWlzUGxhaW5PYmplY3Qob2JqKSB8fCAhb2JqLmhhc093blByb3BlcnR5KHNraXBIeWRyYXRlU3ltYm9sKTtcclxufVxyXG5jb25zdCB7IGFzc2lnbiB9ID0gT2JqZWN0O1xyXG5mdW5jdGlvbiBpc0NvbXB1dGVkKG8pIHtcclxuICAgIHJldHVybiAhIShpc1JlZihvKSAmJiBvLmVmZmVjdCk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSwgaG90KSB7XHJcbiAgICBjb25zdCB7IHN0YXRlLCBhY3Rpb25zLCBnZXR0ZXJzIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVbaWRdO1xyXG4gICAgbGV0IHN0b3JlO1xyXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICAgICAgaWYgKCFpbml0aWFsU3RhdGUgJiYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIWhvdCkpIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcclxuICAgICAgICAgICAgICAgIHNldChwaW5pYS5zdGF0ZS52YWx1ZSwgaWQsIHN0YXRlID8gc3RhdGUoKSA6IHt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlW2lkXSA9IHN0YXRlID8gc3RhdGUoKSA6IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGF2b2lkIGNyZWF0aW5nIGEgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWVcclxuICAgICAgICBjb25zdCBsb2NhbFN0YXRlID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdFxyXG4gICAgICAgICAgICA/IC8vIHVzZSByZWYoKSB0byB1bndyYXAgcmVmcyBpbnNpZGUgc3RhdGUgVE9ETzogY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCBuZWNlc3NhcnlcclxuICAgICAgICAgICAgICAgIHRvUmVmcyhyZWYoc3RhdGUgPyBzdGF0ZSgpIDoge30pLnZhbHVlKVxyXG4gICAgICAgICAgICA6IHRvUmVmcyhwaW5pYS5zdGF0ZS52YWx1ZVtpZF0pO1xyXG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxTdGF0ZSwgYWN0aW9ucywgT2JqZWN0LmtleXMoZ2V0dGVycyB8fCB7fSkucmVkdWNlKChjb21wdXRlZEdldHRlcnMsIG5hbWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuYW1lIGluIGxvY2FsU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBBIGdldHRlciBjYW5ub3QgaGF2ZSB0aGUgc2FtZSBuYW1lIGFzIGFub3RoZXIgc3RhdGUgcHJvcGVydHkuIFJlbmFtZSBvbmUgb2YgdGhlbS4gRm91bmQgd2l0aCBcIiR7bmFtZX1cIiBpbiBzdG9yZSBcIiR7aWR9XCIuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcHV0ZWRHZXR0ZXJzW25hbWVdID0gbWFya1Jhdyhjb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY3JlYXRlZCBqdXN0IGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgY3Jvc3MgdXNpbmcgc3RvcmVzXHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVnVlMiAmJiAhc3RvcmUuX3IpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGdldHRlcnMhW25hbWVdLmNhbGwoY29udGV4dCwgY29udGV4dClcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGF2b2lkIHJlYWRpbmcgdGhlIGdldHRlciB3aGlsZSBhc3NpZ25pbmcgd2l0aCBhIGdsb2JhbCB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnNbbmFtZV0uY2FsbChzdG9yZSwgc3RvcmUpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZEdldHRlcnM7XHJcbiAgICAgICAgfSwge30pKTtcclxuICAgIH1cclxuICAgIHN0b3JlID0gY3JlYXRlU2V0dXBTdG9yZShpZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhLCBob3QsIHRydWUpO1xyXG4gICAgc3RvcmUuJHJlc2V0ID0gZnVuY3Rpb24gJHJlc2V0KCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGUgPyBzdGF0ZSgpIDoge307XHJcbiAgICAgICAgLy8gd2UgdXNlIGEgcGF0Y2ggdG8gZ3JvdXAgYWxsIGNoYW5nZXMgaW50byBvbmUgc2luZ2xlIHN1YnNjcmlwdGlvblxyXG4gICAgICAgIHRoaXMuJHBhdGNoKCgkc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgYXNzaWduKCRzdGF0ZSwgbmV3U3RhdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBzdG9yZTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVTZXR1cFN0b3JlKCRpZCwgc2V0dXAsIG9wdGlvbnMgPSB7fSwgcGluaWEsIGhvdCwgaXNPcHRpb25zU3RvcmUpIHtcclxuICAgIGxldCBzY29wZTtcclxuICAgIGNvbnN0IG9wdGlvbnNGb3JQbHVnaW4gPSBhc3NpZ24oeyBhY3Rpb25zOiB7fSB9LCBvcHRpb25zKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogYWN0aXZlIGlzIGFuIGludGVybmFsIHByb3BlcnR5XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFwaW5pYS5fZS5hY3RpdmUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BpbmlhIGRlc3Ryb3llZCcpO1xyXG4gICAgfVxyXG4gICAgLy8gd2F0Y2hlciBvcHRpb25zIGZvciAkc3Vic2NyaWJlXHJcbiAgICBjb25zdCAkc3Vic2NyaWJlT3B0aW9ucyA9IHtcclxuICAgICAgICBkZWVwOiB0cnVlLFxyXG4gICAgICAgIC8vIGZsdXNoOiAncG9zdCcsXHJcbiAgICB9O1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVnVlMikge1xyXG4gICAgICAgICRzdWJzY3JpYmVPcHRpb25zLm9uVHJpZ2dlciA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAoaXNMaXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgICAgIGRlYnVnZ2VyRXZlbnRzID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0cmlnZ2VyaW5nIHRoaXMgd2hpbGUgdGhlIHN0b3JlIGlzIGJlaW5nIGJ1aWx0IGFuZCB0aGUgc3RhdGUgaXMgYmVpbmcgc2V0IGluIHBpbmlhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNMaXN0ZW5pbmcgPT0gZmFsc2UgJiYgIXN0b3JlLl9ob3RVcGRhdGluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHBhdGNoIHNlbmQgYWxsIHRoZSBldmVudHMgdG9nZXRoZXIgbGF0ZXJcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkZWJ1Z2dlckV2ZW50cykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfjY0gZGVidWdnZXJFdmVudHMgc2hvdWxkIGJlIGFuIGFycmF5LiBUaGlzIGlzIG1vc3QgbGlrZWx5IGFuIGludGVybmFsIFBpbmlhIGJ1Zy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBpbnRlcm5hbCBzdGF0ZVxyXG4gICAgbGV0IGlzTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXHJcbiAgICBsZXQgaXNTeW5jTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXHJcbiAgICBsZXQgc3Vic2NyaXB0aW9ucyA9IG1hcmtSYXcoW10pO1xyXG4gICAgbGV0IGFjdGlvblN1YnNjcmlwdGlvbnMgPSBtYXJrUmF3KFtdKTtcclxuICAgIGxldCBkZWJ1Z2dlckV2ZW50cztcclxuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF07XHJcbiAgICAvLyBhdm9pZCBzZXR0aW5nIHRoZSBzdGF0ZSBmb3Igb3B0aW9uIHN0b3JlcyBpZiBpdCBpcyBzZXRcclxuICAgIC8vIGJ5IHRoZSBzZXR1cFxyXG4gICAgaWYgKCFpc09wdGlvbnNTdG9yZSAmJiAhaW5pdGlhbFN0YXRlICYmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICFob3QpKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWUsICRpZCwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGhvdFN0YXRlID0gcmVmKHt9KTtcclxuICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgdG9vIG1hbnkgbGlzdGVuZXJzXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcGluaWEvaXNzdWVzLzExMjlcclxuICAgIGxldCBhY3RpdmVMaXN0ZW5lcjtcclxuICAgIGZ1bmN0aW9uICRwYXRjaChwYXJ0aWFsU3RhdGVPck11dGF0b3IpIHtcclxuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uTXV0YXRpb247XHJcbiAgICAgICAgaXNMaXN0ZW5pbmcgPSBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAvLyByZXNldCB0aGUgZGVidWdnZXIgZXZlbnRzIHNpbmNlIHBhdGNoZXMgYXJlIHN5bmNcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsU3RhdGVPck11dGF0b3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcGFydGlhbFN0YXRlT3JNdXRhdG9yKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pO1xyXG4gICAgICAgICAgICBzdWJzY3JpcHRpb25NdXRhdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5wYXRjaEZ1bmN0aW9uLFxyXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1lcmdlUmVhY3RpdmVPYmplY3RzKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIHBhcnRpYWxTdGF0ZU9yTXV0YXRvcik7XHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk11dGF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcGFydGlhbFN0YXRlT3JNdXRhdG9yLFxyXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbXlMaXN0ZW5lcklkID0gKGFjdGl2ZUxpc3RlbmVyID0gU3ltYm9sKCkpO1xyXG4gICAgICAgIG5leHRUaWNrKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVMaXN0ZW5lciA9PT0gbXlMaXN0ZW5lcklkKSB7XHJcbiAgICAgICAgICAgICAgICBpc0xpc3RlbmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgcGF1c2VkIHRoZSB3YXRjaGVyLCB3ZSBuZWVkIHRvIG1hbnVhbGx5IGNhbGwgdGhlIHN1YnNjcmlwdGlvbnNcclxuICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCBzdWJzY3JpcHRpb25NdXRhdGlvbiwgcGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgY29uc3QgJHJlc2V0ID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg8J+NjTogU3RvcmUgXCIkeyRpZH1cIiBpcyBidWlsdCB1c2luZyB0aGUgc2V0dXAgc3ludGF4IGFuZCBkb2VzIG5vdCBpbXBsZW1lbnQgJHJlc2V0KCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDogbm9vcDtcclxuICAgIGZ1bmN0aW9uICRkaXNwb3NlKCkge1xyXG4gICAgICAgIHNjb3BlLnN0b3AoKTtcclxuICAgICAgICBzdWJzY3JpcHRpb25zID0gW107XHJcbiAgICAgICAgYWN0aW9uU3Vic2NyaXB0aW9ucyA9IFtdO1xyXG4gICAgICAgIHBpbmlhLl9zLmRlbGV0ZSgkaWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXcmFwcyBhbiBhY3Rpb24gdG8gaGFuZGxlIHN1YnNjcmlwdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIHRoZSBhY3Rpb25cclxuICAgICAqIEBwYXJhbSBhY3Rpb24gLSBhY3Rpb24gdG8gd3JhcFxyXG4gICAgICogQHJldHVybnMgYSB3cmFwcGVkIGFjdGlvbiB0byBoYW5kbGUgc3Vic2NyaXB0aW9uc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB3cmFwQWN0aW9uKG5hbWUsIGFjdGlvbikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcclxuICAgICAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgY29uc3QgYWZ0ZXJDYWxsYmFja0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgY29uc3Qgb25FcnJvckNhbGxiYWNrTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZnRlcihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJDYWxsYmFja0xpc3QucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvcihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvckNhbGxiYWNrTGlzdC5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFjdGlvblN1YnNjcmlwdGlvbnMsIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgc3RvcmUsXHJcbiAgICAgICAgICAgICAgICBhZnRlcixcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXQgcmV0O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0ID0gYWN0aW9uLmFwcGx5KHRoaXMgJiYgdGhpcy4kaWQgPT09ICRpZCA/IHRoaXMgOiBzdG9yZSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc3luYyBlcnJvcnNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKG9uRXJyb3JDYWxsYmFja0xpc3QsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0XHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhvbkVycm9yQ2FsbGJhY2tMaXN0LCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsbG93IHRoZSBhZnRlckNhbGxiYWNrIHRvIG92ZXJyaWRlIHRoZSByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHJldCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IF9obXJQYXlsb2FkID0gLyojX19QVVJFX18qLyBtYXJrUmF3KHtcclxuICAgICAgICBhY3Rpb25zOiB7fSxcclxuICAgICAgICBnZXR0ZXJzOiB7fSxcclxuICAgICAgICBzdGF0ZTogW10sXHJcbiAgICAgICAgaG90U3RhdGUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHBhcnRpYWxTdG9yZSA9IHtcclxuICAgICAgICBfcDogcGluaWEsXHJcbiAgICAgICAgLy8gX3M6IHNjb3BlLFxyXG4gICAgICAgICRpZCxcclxuICAgICAgICAkb25BY3Rpb246IGFkZFN1YnNjcmlwdGlvbi5iaW5kKG51bGwsIGFjdGlvblN1YnNjcmlwdGlvbnMpLFxyXG4gICAgICAgICRwYXRjaCxcclxuICAgICAgICAkcmVzZXQsXHJcbiAgICAgICAgJHN1YnNjcmliZShjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZVN1YnNjcmlwdGlvbiA9IGFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25zLCBjYWxsYmFjaywgb3B0aW9ucy5kZXRhY2hlZCwgKCkgPT4gc3RvcFdhdGNoZXIoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3BXYXRjaGVyID0gc2NvcGUucnVuKCgpID0+IHdhdGNoKCgpID0+IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIChzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmx1c2ggPT09ICdzeW5jJyA/IGlzU3luY0xpc3RlbmluZyA6IGlzTGlzdGVuaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5kaXJlY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBhc3NpZ24oe30sICRzdWJzY3JpYmVPcHRpb25zLCBvcHRpb25zKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlU3Vic2NyaXB0aW9uO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJGRpc3Bvc2UsXHJcbiAgICB9O1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgLy8gc3RhcnQgYXMgbm9uIHJlYWR5XHJcbiAgICAgICAgcGFydGlhbFN0b3JlLl9yID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdG9yZSA9IHJlYWN0aXZlKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBVU0VfREVWVE9PTFNcclxuICAgICAgICA/IGFzc2lnbih7XHJcbiAgICAgICAgICAgIF9obXJQYXlsb2FkLFxyXG4gICAgICAgICAgICBfY3VzdG9tUHJvcGVydGllczogbWFya1JhdyhuZXcgU2V0KCkpLCAvLyBkZXZ0b29scyBjdXN0b20gcHJvcGVydGllc1xyXG4gICAgICAgIH0sIHBhcnRpYWxTdG9yZVxyXG4gICAgICAgIC8vIG11c3QgYmUgYWRkZWQgbGF0ZXJcclxuICAgICAgICAvLyBzZXR1cFN0b3JlXHJcbiAgICAgICAgKVxyXG4gICAgICAgIDogcGFydGlhbFN0b3JlKTtcclxuICAgIC8vIHN0b3JlIHRoZSBwYXJ0aWFsIHN0b3JlIG5vdyBzbyB0aGUgc2V0dXAgb2Ygc3RvcmVzIGNhbiBpbnN0YW50aWF0ZSBlYWNoIG90aGVyIGJlZm9yZSB0aGV5IGFyZSBmaW5pc2hlZCB3aXRob3V0XHJcbiAgICAvLyBjcmVhdGluZyBpbmZpbml0ZSBsb29wcy5cclxuICAgIHBpbmlhLl9zLnNldCgkaWQsIHN0b3JlKTtcclxuICAgIC8vIFRPRE86IGlkZWEgY3JlYXRlIHNraXBTZXJpYWxpemUgdGhhdCBtYXJrcyBwcm9wZXJ0aWVzIGFzIG5vbiBzZXJpYWxpemFibGUgYW5kIHRoZXkgYXJlIHNraXBwZWRcclxuICAgIGNvbnN0IHNldHVwU3RvcmUgPSBwaW5pYS5fZS5ydW4oKCkgPT4ge1xyXG4gICAgICAgIHNjb3BlID0gZWZmZWN0U2NvcGUoKTtcclxuICAgICAgICByZXR1cm4gc2NvcGUucnVuKCgpID0+IHNldHVwKCkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBvdmVyd3JpdGUgZXhpc3RpbmcgYWN0aW9ucyB0byBzdXBwb3J0ICRvbkFjdGlvblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2V0dXBTdG9yZSkge1xyXG4gICAgICAgIGNvbnN0IHByb3AgPSBzZXR1cFN0b3JlW2tleV07XHJcbiAgICAgICAgaWYgKChpc1JlZihwcm9wKSAmJiAhaXNDb21wdXRlZChwcm9wKSkgfHwgaXNSZWFjdGl2ZShwcm9wKSkge1xyXG4gICAgICAgICAgICAvLyBtYXJrIGl0IGFzIGEgcGllY2Ugb2Ygc3RhdGUgdG8gYmUgc2VyaWFsaXplZFxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xyXG4gICAgICAgICAgICAgICAgc2V0KGhvdFN0YXRlLnZhbHVlLCBrZXksIHRvUmVmKHNldHVwU3RvcmUsIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlT3B0aW9uU3RvcmUgZGlyZWN0bHkgc2V0cyB0aGUgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWUgc28gd2VcclxuICAgICAgICAgICAgICAgIC8vIGNhbiBqdXN0IHNraXAgdGhhdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc09wdGlvbnNTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gc2V0dXAgc3RvcmVzIHdlIG11c3QgaHlkcmF0ZSB0aGUgc3RhdGUgYW5kIHN5bmMgcGluaWEgc3RhdGUgdHJlZSB3aXRoIHRoZSByZWZzIHRoZSB1c2VyIGp1c3QgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSAmJiBzaG91bGRIeWRyYXRlKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVmKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AudmFsdWUgPSBpbml0aWFsU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgcmVhY3RpdmUgb2JqZWN0LCBsZXRzIHJlY3Vyc2l2ZWx5IGFzc2lnblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBwcm9wIGlzIHVua25vd25cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VSZWFjdGl2ZU9iamVjdHMocHJvcCwgaW5pdGlhbFN0YXRlW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRoZSByZWYgdG8gdGhlIHBpbmlhIHN0YXRlIHRvIGtlZXAgZXZlcnl0aGluZyBpbiBzeW5jXHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWVbJGlkXSwga2V5LCBwcm9wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlWyRpZF1ba2V5XSA9IHByb3A7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuc3RhdGUucHVzaChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFjdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBhcmUgb3ZlcnJpZGluZyB0aGUgZnVuY3Rpb24gd2UgYXZvaWQgd3JhcHBpbmcgaWZcclxuICAgICAgICAgICAgY29uc3QgYWN0aW9uVmFsdWUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90ID8gcHJvcCA6IHdyYXBBY3Rpb24oa2V5LCBwcm9wKTtcclxuICAgICAgICAgICAgLy8gdGhpcyBhIGhvdCBtb2R1bGUgcmVwbGFjZW1lbnQgc3RvcmUgYmVjYXVzZSB0aGUgaG90VXBkYXRlIG1ldGhvZCBuZWVkc1xyXG4gICAgICAgICAgICAvLyB0byBkbyBpdCB3aXRoIHRoZSByaWdodCBjb250ZXh0XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBzZXQoc2V0dXBTdG9yZSwga2V5LCBhY3Rpb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICBzZXR1cFN0b3JlW2tleV0gPSBhY3Rpb25WYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBfaG1yUGF5bG9hZC5hY3Rpb25zW2tleV0gPSBwcm9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGxpc3QgYWN0aW9ucyBzbyB0aGV5IGNhbiBiZSB1c2VkIGluIHBsdWdpbnNcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICBvcHRpb25zRm9yUGx1Z2luLmFjdGlvbnNba2V5XSA9IHByb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAvLyBhZGQgZ2V0dGVycyBmb3IgZGV2dG9vbHNcclxuICAgICAgICAgICAgaWYgKGlzQ29tcHV0ZWQocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLmdldHRlcnNba2V5XSA9IGlzT3B0aW9uc1N0b3JlXHJcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZ2V0dGVyc1trZXldXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm9wO1xyXG4gICAgICAgICAgICAgICAgaWYgKElTX0NMSUVOVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlcnMgPSBzZXR1cFN0b3JlLl9nZXR0ZXJzIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHNhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNldHVwU3RvcmUuX2dldHRlcnMgPSBtYXJrUmF3KFtdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0dGVycy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBhZGQgdGhlIHN0YXRlLCBnZXR0ZXJzLCBhbmQgYWN0aW9uIHByb3BlcnRpZXNcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHNldHVwU3RvcmUpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBzZXQoc3RvcmUsIGtleSwgc2V0dXBTdG9yZVtrZXldKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFzc2lnbihzdG9yZSwgc2V0dXBTdG9yZSk7XHJcbiAgICAgICAgLy8gYWxsb3dzIHJldHJpZXZpbmcgcmVhY3RpdmUgb2JqZWN0cyB3aXRoIGBzdG9yZVRvUmVmcygpYC4gTXVzdCBiZSBjYWxsZWQgYWZ0ZXIgYXNzaWduaW5nIHRvIHRoZSByZWFjdGl2ZSBvYmplY3QuXHJcbiAgICAgICAgLy8gTWFrZSBgc3RvcmVUb1JlZnMoKWAgd29yayB3aXRoIGByZWFjdGl2ZSgpYCAjNzk5XHJcbiAgICAgICAgYXNzaWduKHRvUmF3KHN0b3JlKSwgc2V0dXBTdG9yZSk7XHJcbiAgICB9XHJcbiAgICAvLyB1c2UgdGhpcyBpbnN0ZWFkIG9mIGEgY29tcHV0ZWQgd2l0aCBzZXR0ZXIgdG8gYmUgYWJsZSB0byBjcmVhdGUgaXQgYW55d2hlcmVcclxuICAgIC8vIHdpdGhvdXQgbGlua2luZyB0aGUgY29tcHV0ZWQgbGlmZXNwYW4gdG8gd2hlcmV2ZXIgdGhlIHN0b3JlIGlzIGZpcnN0XHJcbiAgICAvLyBjcmVhdGVkLlxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JlLCAnJHN0YXRlJywge1xyXG4gICAgICAgIGdldDogKCkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QgPyBob3RTdGF0ZS52YWx1ZSA6IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pLFxyXG4gICAgICAgIHNldDogKHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3Qgc2V0IGhvdFN0YXRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHBhdGNoKCgkc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGFzc2lnbigkc3RhdGUsIHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgLy8gYWRkIHRoZSBob3RVcGRhdGUgYmVmb3JlIHBsdWdpbnMgdG8gYWxsb3cgdGhlbSB0byBvdmVycmlkZSBpdFxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcclxuICAgICAgICAgICAgc3RvcmUuX2hvdFVwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgbmV3U3RvcmUuX2htclBheWxvYWQuc3RhdGUuZm9yRWFjaCgoc3RhdGVLZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUtleSBpbiBzdG9yZS4kc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZVRhcmdldCA9IG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkU3RhdGVTb3VyY2UgPSBzdG9yZS4kc3RhdGVbc3RhdGVLZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3U3RhdGVUYXJnZXQgPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3QobmV3U3RhdGVUYXJnZXQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3Qob2xkU3RhdGVTb3VyY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoT2JqZWN0KG5ld1N0YXRlVGFyZ2V0LCBvbGRTdGF0ZVNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2ZlciB0aGUgcmVmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV0gPSBvbGRTdGF0ZVNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBkaXJlY3QgYWNjZXNzIHByb3BlcnRpZXMgdG8gYWxsb3cgc3RvcmUuc3RhdGVQcm9wZXJ0eSB0byB3b3JrIGFzXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZS4kc3RhdGUuc3RhdGVQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBzdGF0ZUtleSwgdG9SZWYobmV3U3RvcmUuJHN0YXRlLCBzdGF0ZUtleSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGRlbGV0ZWQgc3RhdGUgcHJvcGVydGllc1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZUtleSBpbiBuZXdTdG9yZS4kc3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsKHN0b3JlLCBzdGF0ZUtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBhdm9pZCBkZXZ0b29scyBsb2dnaW5nIHRoaXMgYXMgYSBtdXRhdGlvblxyXG4gICAgICAgICAgICBpc0xpc3RlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHRvUmVmKG5ld1N0b3JlLl9obXJQYXlsb2FkLCAnaG90U3RhdGUnKTtcclxuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgbmV4dFRpY2soKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlzTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBuZXdTdG9yZVthY3Rpb25OYW1lXTtcclxuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgYWN0aW9uTmFtZSwgd3JhcEFjdGlvbihhY3Rpb25OYW1lLCBhY3Rpb24pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUT0RPOiBkb2VzIHRoaXMgd29yayBpbiBib3RoIHNldHVwIGFuZCBvcHRpb24gc3RvcmU/XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2V0dGVyTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXIgPSBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzW2dldHRlck5hbWVdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVyVmFsdWUgPSBpc09wdGlvbnNTdG9yZVxyXG4gICAgICAgICAgICAgICAgICAgID8gLy8gc3BlY2lhbCBoYW5kbGluZyBvZiBvcHRpb25zIGFwaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwoc3RvcmUsIHN0b3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICA6IGdldHRlcjtcclxuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgZ2V0dGVyTmFtZSwgZ2V0dGVyVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBkZWxldGVkIGdldHRlcnNcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkIGFjdGlvbnNcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHZhbHVlcyB1c2VkIGluIGRldnRvb2xzIGFuZCB0byBhbGxvdyBkZWxldGluZyBuZXcgcHJvcGVydGllcyBsYXRlciBvblxyXG4gICAgICAgICAgICBzdG9yZS5faG1yUGF5bG9hZCA9IG5ld1N0b3JlLl9obXJQYXlsb2FkO1xyXG4gICAgICAgICAgICBzdG9yZS5fZ2V0dGVycyA9IG5ld1N0b3JlLl9nZXR0ZXJzO1xyXG4gICAgICAgICAgICBzdG9yZS5faG90VXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChVU0VfREVWVE9PTFMpIHtcclxuICAgICAgICBjb25zdCBub25FbnVtZXJhYmxlID0ge1xyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBhdm9pZCB3YXJuaW5nIG9uIGRldnRvb2xzIHRyeWluZyB0byBkaXNwbGF5IHRoaXMgcHJvcGVydHlcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBbJ19wJywgJ19obXJQYXlsb2FkJywgJ19nZXR0ZXJzJywgJ19jdXN0b21Qcm9wZXJ0aWVzJ10uZm9yRWFjaCgocCkgPT4ge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RvcmUsIHAsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtwXSxcclxuICAgICAgICAgICAgICAgIC4uLm5vbkVudW1lcmFibGUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgLy8gbWFyayB0aGUgc3RvcmUgYXMgcmVhZHkgYmVmb3JlIHBsdWdpbnNcclxuICAgICAgICBzdG9yZS5fciA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyBhcHBseSBhbGwgcGx1Z2luc1xyXG4gICAgcGluaWEuX3AuZm9yRWFjaCgoZXh0ZW5kZXIpID0+IHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmIChVU0VfREVWVE9PTFMpIHtcclxuICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XHJcbiAgICAgICAgICAgICAgICBzdG9yZSxcclxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXHJcbiAgICAgICAgICAgICAgICBwaW5pYSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXh0ZW5zaW9ucyB8fCB7fSkuZm9yRWFjaCgoa2V5KSA9PiBzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5hZGQoa2V5KSk7XHJcbiAgICAgICAgICAgIGFzc2lnbihzdG9yZSwgZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhc3NpZ24oc3RvcmUsIHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XHJcbiAgICAgICAgICAgICAgICBzdG9yZSxcclxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXHJcbiAgICAgICAgICAgICAgICBwaW5pYSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgc3RvcmUuJHN0YXRlICYmXHJcbiAgICAgICAgdHlwZW9mIHN0b3JlLiRzdGF0ZSA9PT0gJ29iamVjdCcgJiZcclxuICAgICAgICB0eXBlb2Ygc3RvcmUuJHN0YXRlLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgIXN0b3JlLiRzdGF0ZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluY2x1ZGVzKCdbbmF0aXZlIGNvZGVdJykpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFvwn42NXTogVGhlIFwic3RhdGVcIiBtdXN0IGJlIGEgcGxhaW4gb2JqZWN0LiBJdCBjYW5ub3QgYmVcXG5gICtcclxuICAgICAgICAgICAgYFxcdHN0YXRlOiAoKSA9PiBuZXcgTXlDbGFzcygpXFxuYCArXHJcbiAgICAgICAgICAgIGBGb3VuZCBpbiBzdG9yZSBcIiR7c3RvcmUuJGlkfVwiLmApO1xyXG4gICAgfVxyXG4gICAgLy8gb25seSBhcHBseSBoeWRyYXRlIHRvIG9wdGlvbiBzdG9yZXMgd2l0aCBhbiBpbml0aWFsIHN0YXRlIGluIHBpbmlhXHJcbiAgICBpZiAoaW5pdGlhbFN0YXRlICYmXHJcbiAgICAgICAgaXNPcHRpb25zU3RvcmUgJiZcclxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUpIHtcclxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUoc3RvcmUuJHN0YXRlLCBpbml0aWFsU3RhdGUpO1xyXG4gICAgfVxyXG4gICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgIHJldHVybiBzdG9yZTtcclxufVxyXG5mdW5jdGlvbiBkZWZpbmVTdG9yZShcclxuLy8gVE9ETzogYWRkIHByb3BlciB0eXBlcyBmcm9tIGFib3ZlXHJcbmlkT3JPcHRpb25zLCBzZXR1cCwgc2V0dXBPcHRpb25zKSB7XHJcbiAgICBsZXQgaWQ7XHJcbiAgICBsZXQgb3B0aW9ucztcclxuICAgIGNvbnN0IGlzU2V0dXBTdG9yZSA9IHR5cGVvZiBzZXR1cCA9PT0gJ2Z1bmN0aW9uJztcclxuICAgIGlmICh0eXBlb2YgaWRPck9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWQgPSBpZE9yT3B0aW9ucztcclxuICAgICAgICAvLyB0aGUgb3B0aW9uIHN0b3JlIHNldHVwIHdpbGwgY29udGFpbiB0aGUgYWN0dWFsIG9wdGlvbnMgaW4gdGhpcyBjYXNlXHJcbiAgICAgICAgb3B0aW9ucyA9IGlzU2V0dXBTdG9yZSA/IHNldHVwT3B0aW9ucyA6IHNldHVwO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGlkT3JPcHRpb25zO1xyXG4gICAgICAgIGlkID0gaWRPck9wdGlvbnMuaWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB1c2VTdG9yZShwaW5pYSwgaG90KSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgcGluaWEgPVxyXG4gICAgICAgICAgICAvLyBpbiB0ZXN0IG1vZGUsIGlnbm9yZSB0aGUgYXJndW1lbnQgcHJvdmlkZWQgYXMgd2UgY2FuIGFsd2F5cyByZXRyaWV2ZSBhXHJcbiAgICAgICAgICAgIC8vIHBpbmlhIGluc3RhbmNlIHdpdGggZ2V0QWN0aXZlUGluaWEoKVxyXG4gICAgICAgICAgICAoKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpICYmIGFjdGl2ZVBpbmlhICYmIGFjdGl2ZVBpbmlhLl90ZXN0aW5nID8gbnVsbCA6IHBpbmlhKSB8fFxyXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRJbnN0YW5jZSAmJiBpbmplY3QocGluaWFTeW1ib2wsIG51bGwpKTtcclxuICAgICAgICBpZiAocGluaWEpXHJcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY3RpdmVQaW5pYSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvwn42NXTogZ2V0QWN0aXZlUGluaWEgd2FzIGNhbGxlZCB3aXRoIG5vIGFjdGl2ZSBQaW5pYS4gRGlkIHlvdSBmb3JnZXQgdG8gaW5zdGFsbCBwaW5pYT9cXG5gICtcclxuICAgICAgICAgICAgICAgIGBcXHRjb25zdCBwaW5pYSA9IGNyZWF0ZVBpbmlhKClcXG5gICtcclxuICAgICAgICAgICAgICAgIGBcXHRhcHAudXNlKHBpbmlhKVxcbmAgK1xyXG4gICAgICAgICAgICAgICAgYFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBpbmlhID0gYWN0aXZlUGluaWE7XHJcbiAgICAgICAgaWYgKCFwaW5pYS5fcy5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0aW5nIHRoZSBzdG9yZSByZWdpc3RlcnMgaXQgaW4gYHBpbmlhLl9zYFxyXG4gICAgICAgICAgICBpZiAoaXNTZXR1cFN0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVTZXR1cFN0b3JlKGlkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogbm90IHRoZSByaWdodCBpbmZlcnJlZCB0eXBlXHJcbiAgICAgICAgICAgICAgICB1c2VTdG9yZS5fcGluaWEgPSBwaW5pYTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcclxuICAgICAgICAgICAgY29uc3QgaG90SWQgPSAnX19ob3Q6JyArIGlkO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTdG9yZSA9IGlzU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVTZXR1cFN0b3JlKGhvdElkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEsIHRydWUpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZU9wdGlvbnNTdG9yZShob3RJZCwgYXNzaWduKHt9LCBvcHRpb25zKSwgcGluaWEsIHRydWUpO1xyXG4gICAgICAgICAgICBob3QuX2hvdFVwZGF0ZShuZXdTdG9yZSk7XHJcbiAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIHN0YXRlIHByb3BlcnRpZXMgYW5kIHRoZSBzdG9yZSBmcm9tIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICBkZWxldGUgcGluaWEuc3RhdGUudmFsdWVbaG90SWRdO1xyXG4gICAgICAgICAgICBwaW5pYS5fcy5kZWxldGUoaG90SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzYXZlIHN0b3JlcyBpbiBpbnN0YW5jZXMgdG8gYWNjZXNzIHRoZW0gZGV2dG9vbHNcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIElTX0NMSUVOVCAmJlxyXG4gICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UgJiZcclxuICAgICAgICAgICAgY3VycmVudEluc3RhbmNlLnByb3h5ICYmXHJcbiAgICAgICAgICAgIC8vIGF2b2lkIGFkZGluZyBzdG9yZXMgdGhhdCBhcmUganVzdCBidWlsdCBmb3IgaG90IG1vZHVsZSByZXBsYWNlbWVudFxyXG4gICAgICAgICAgICAhaG90KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZtID0gY3VycmVudEluc3RhbmNlLnByb3h5O1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9ICdfcFN0b3JlcycgaW4gdm0gPyB2bS5fcFN0b3JlcyA6ICh2bS5fcFN0b3JlcyA9IHt9KTtcclxuICAgICAgICAgICAgY2FjaGVbaWRdID0gc3RvcmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0b3JlR2VuZXJpYyBjYW5ub3QgYmUgY2FzdGVkIHRvd2FyZHMgU3RvcmVcclxuICAgICAgICByZXR1cm4gc3RvcmU7XHJcbiAgICB9XHJcbiAgICB1c2VTdG9yZS4kaWQgPSBpZDtcclxuICAgIHJldHVybiB1c2VTdG9yZTtcclxufVxuXG5sZXQgbWFwU3RvcmVTdWZmaXggPSAnU3RvcmUnO1xyXG4vKipcclxuICogQ2hhbmdlcyB0aGUgc3VmZml4IGFkZGVkIGJ5IGBtYXBTdG9yZXMoKWAuIENhbiBiZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLlxyXG4gKiBEZWZhdWx0cyB0byBgXCJTdG9yZVwiYC4gTWFrZSBzdXJlIHRvIGV4dGVuZCB0aGUgTWFwU3RvcmVzQ3VzdG9taXphdGlvblxyXG4gKiBpbnRlcmZhY2UgaWYgeW91IGFyZSB1c2luZyBUeXBlU2NyaXB0LlxyXG4gKlxyXG4gKiBAcGFyYW0gc3VmZml4IC0gbmV3IHN1ZmZpeFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0TWFwU3RvcmVTdWZmaXgoc3VmZml4IC8vIGNvdWxkIGJlICdTdG9yZScgYnV0IHRoYXQgd291bGQgYmUgYW5ub3lpbmcgZm9yIEpTXHJcbikge1xyXG4gICAgbWFwU3RvcmVTdWZmaXggPSBzdWZmaXg7XHJcbn1cclxuLyoqXHJcbiAqIEFsbG93cyB1c2luZyBzdG9yZXMgd2l0aG91dCB0aGUgY29tcG9zaXRpb24gQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW5cclxuICogb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZCBvZiBhIGNvbXBvbmVudC4gSXQgYWNjZXB0cyBhIGxpc3RcclxuICogb2Ygc3RvcmUgZGVmaW5pdGlvbnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGV4cG9ydCBkZWZhdWx0IHtcclxuICogICBjb21wdXRlZDoge1xyXG4gKiAgICAgLy8gb3RoZXIgY29tcHV0ZWQgcHJvcGVydGllc1xyXG4gKiAgICAgLi4ubWFwU3RvcmVzKHVzZVVzZXJTdG9yZSwgdXNlQ2FydFN0b3JlKVxyXG4gKiAgIH0sXHJcbiAqXHJcbiAqICAgY3JlYXRlZCgpIHtcclxuICogICAgIHRoaXMudXNlclN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJ1c2VyXCJcclxuICogICAgIHRoaXMuY2FydFN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJjYXJ0XCJcclxuICogICB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSBzdG9yZXMgLSBsaXN0IG9mIHN0b3JlcyB0byBtYXAgdG8gYW4gb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXBTdG9yZXMoLi4uc3RvcmVzKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIEFycmF5LmlzQXJyYXkoc3RvcmVzWzBdKSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBEaXJlY3RseSBwYXNzIGFsbCBzdG9yZXMgdG8gXCJtYXBTdG9yZXMoKVwiIHdpdGhvdXQgcHV0dGluZyB0aGVtIGluIGFuIGFycmF5OlxcbmAgK1xyXG4gICAgICAgICAgICBgUmVwbGFjZVxcbmAgK1xyXG4gICAgICAgICAgICBgXFx0bWFwU3RvcmVzKFt1c2VBdXRoU3RvcmUsIHVzZUNhcnRTdG9yZV0pXFxuYCArXHJcbiAgICAgICAgICAgIGB3aXRoXFxuYCArXHJcbiAgICAgICAgICAgIGBcXHRtYXBTdG9yZXModXNlQXV0aFN0b3JlLCB1c2VDYXJ0U3RvcmUpXFxuYCArXHJcbiAgICAgICAgICAgIGBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcclxuICAgICAgICBzdG9yZXMgPSBzdG9yZXNbMF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RvcmVzLnJlZHVjZSgocmVkdWNlZCwgdXNlU3RvcmUpID0+IHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiAkaWQgaXMgYWRkZWQgYnkgZGVmaW5lU3RvcmVcclxuICAgICAgICByZWR1Y2VkW3VzZVN0b3JlLiRpZCArIG1hcFN0b3JlU3VmZml4XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgfSwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBBbGxvd3MgdXNpbmcgc3RhdGUgYW5kIGdldHRlcnMgZnJvbSBvbmUgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cclxuICogQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW4gb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZFxyXG4gKiBvZiBhIGNvbXBvbmVudC5cclxuICpcclxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cclxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gbWFwU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxyXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pXHJcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh0aGlzLiRwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUtleSA9IGtleXNPck1hcHBlcltrZXldO1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIHNvbWUgcmVhc29uIFRTIGlzIHVuYWJsZSB0byBpbmZlciB0aGUgdHlwZSBvZiBzdG9yZUtleSB0byBiZSBhXHJcbiAgICAgICAgICAgICAgICAvLyBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBzdG9yZUtleSA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVLZXkuY2FsbCh0aGlzLCBzdG9yZSlcclxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlW3N0b3JlS2V5XTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3IgYG1hcFN0YXRlKClgLiBZb3Ugc2hvdWxkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cclxuICogQGRlcHJlY2F0ZWQgdXNlIGBtYXBTdGF0ZSgpYCBpbnN0ZWFkLlxyXG4gKi9cclxuY29uc3QgbWFwR2V0dGVycyA9IG1hcFN0YXRlO1xyXG4vKipcclxuICogQWxsb3dzIGRpcmVjdGx5IHVzaW5nIGFjdGlvbnMgZnJvbSB5b3VyIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXHJcbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBtZXRob2RzYCBmaWVsZFxyXG4gKiBvZiBhIGNvbXBvbmVudC5cclxuICpcclxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cclxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gbWFwQWN0aW9ucyh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzT3JNYXBwZXIpXHJcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldKC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcclxuICAgICAgICB9LCB7fSlcclxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXlzT3JNYXBwZXJba2V5XV0oLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgICAgIH0sIHt9KTtcclxufVxyXG4vKipcclxuICogQWxsb3dzIHVzaW5nIHN0YXRlIGFuZCBnZXR0ZXJzIGZyb20gb25lIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXHJcbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGRcclxuICogb2YgYSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXHJcbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG1hcFdyaXRhYmxlU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxyXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0ge1xyXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGVhc2llciB0byB0eXBlIGl0IGhlcmUgYXMgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XSA9IHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgICAgIH0sIHt9KVxyXG4gICAgICAgIDogT2JqZWN0LmtleXMoa2V5c09yTWFwcGVyKS5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IHtcclxuICAgICAgICAgICAgICAgIGdldCgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGVhc2llciB0byB0eXBlIGl0IGhlcmUgYXMgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dID0gdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pO1xyXG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBvZiByZWZlcmVuY2VzIHdpdGggYWxsIHRoZSBzdGF0ZSwgZ2V0dGVycywgYW5kIHBsdWdpbi1hZGRlZFxyXG4gKiBzdGF0ZSBwcm9wZXJ0aWVzIG9mIHRoZSBzdG9yZS4gU2ltaWxhciB0byBgdG9SZWZzKClgIGJ1dCBzcGVjaWZpY2FsbHlcclxuICogZGVzaWduZWQgZm9yIFBpbmlhIHN0b3JlcyBzbyBtZXRob2RzIGFuZCBub24gcmVhY3RpdmUgcHJvcGVydGllcyBhcmVcclxuICogY29tcGxldGVseSBpZ25vcmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBleHRyYWN0IHRoZSByZWZzIGZyb21cclxuICovXHJcbmZ1bmN0aW9uIHN0b3JlVG9SZWZzKHN0b3JlKSB7XHJcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy84NTJcclxuICAgIC8vIEl0J3MgZWFzaWVyIHRvIGp1c3QgdXNlIHRvUmVmcygpIGV2ZW4gaWYgaXQgaW5jbHVkZXMgbW9yZSBzdHVmZlxyXG4gICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRvUmVmcyBpbmNsdWRlIG1ldGhvZHMgYW5kIG90aGVyc1xyXG4gICAgICAgIHJldHVybiB0b1JlZnMoc3RvcmUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc3RvcmUgPSB0b1JhdyhzdG9yZSk7XHJcbiAgICAgICAgY29uc3QgcmVmcyA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHN0b3JlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3RvcmVba2V5XTtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKHZhbHVlKSB8fCBpc1JlYWN0aXZlKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIGtleSBpcyBzdGF0ZSBvciBnZXR0ZXJcclxuICAgICAgICAgICAgICAgIHJlZnNba2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLS0tXHJcbiAgICAgICAgICAgICAgICAgICAgdG9SZWYoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlZnM7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFZ1ZSAyIFBsdWdpbiB0aGF0IG11c3QgYmUgaW5zdGFsbGVkIGZvciBwaW5pYSB0byB3b3JrLiBOb3RlICoqeW91IGRvbid0IG5lZWRcclxuICogdGhpcyBwbHVnaW4gaWYgeW91IGFyZSB1c2luZyBOdXh0LmpzKiouIFVzZSB0aGUgYGJ1aWxkTW9kdWxlYCBpbnN0ZWFkOlxyXG4gKiBodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9zc3IvbnV4dC5odG1sLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcclxuICogaW1wb3J0IHsgUGluaWFWdWVQbHVnaW4sIGNyZWF0ZVBpbmlhIH0gZnJvbSAncGluaWEnXHJcbiAqXHJcbiAqIFZ1ZS51c2UoUGluaWFWdWVQbHVnaW4pXHJcbiAqIGNvbnN0IHBpbmlhID0gY3JlYXRlUGluaWEoKVxyXG4gKlxyXG4gKiBuZXcgVnVlKHtcclxuICogICBlbDogJyNhcHAnLFxyXG4gKiAgIC8vIC4uLlxyXG4gKiAgIHBpbmlhLFxyXG4gKiB9KVxyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIF9WdWUgLSBgVnVlYCBpbXBvcnRlZCBmcm9tICd2dWUnLlxyXG4gKi9cclxuY29uc3QgUGluaWFWdWVQbHVnaW4gPSBmdW5jdGlvbiAoX1Z1ZSkge1xyXG4gICAgLy8gRXF1aXZhbGVudCBvZlxyXG4gICAgLy8gYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRwaW5pYSA9IHBpbmlhXHJcbiAgICBfVnVlLm1peGluKHtcclxuICAgICAgICBiZWZvcmVDcmVhdGUoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5waW5pYSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWEgPSBvcHRpb25zLnBpbmlhO1xyXG4gICAgICAgICAgICAgICAgLy8gSEFDSzogdGFrZW4gZnJvbSBwcm92aWRlKCk6IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb21wb3NpdGlvbi1hcGkvYmxvYi9tYWluL3NyYy9hcGlzL2luamVjdC50cyNMMzFcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3Byb3ZpZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZUNhY2hlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfcHJvdmlkZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcHJvdmlkZUNhY2hlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICh2KSA9PiBPYmplY3QuYXNzaWduKHByb3ZpZGVDYWNoZSwgdiksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm92aWRlZFtwaW5pYVN5bWJvbF0gPSBwaW5pYTtcclxuICAgICAgICAgICAgICAgIC8vIHByb3BhZ2F0ZSB0aGUgcGluaWEgaW5zdGFuY2UgaW4gYW4gU1NSIGZyaWVuZGx5IHdheVxyXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgYWRkaW5nIGl0IHRvIG51eHQgdHdpY2VcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJHBpbmlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGluaWEgPSBwaW5pYTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBpbmlhLl9hID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGlmIChJU19DTElFTlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyBjYWxsaW5nIHVzZVN0b3JlKCkgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCBzZXR1cCBhZnRlclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RhbGxpbmcgcGluaWEncyBwbHVnaW5cclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoVVNFX0RFVlRPT0xTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKHBpbmlhLl9hLCBwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuJHBpbmlhICYmIG9wdGlvbnMucGFyZW50ICYmIG9wdGlvbnMucGFyZW50LiRwaW5pYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcGluaWEgPSBvcHRpb25zLnBhcmVudC4kcGluaWE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlc3Ryb3llZCgpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BTdG9yZXM7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59O1xuXG5leHBvcnQgeyBNdXRhdGlvblR5cGUsIFBpbmlhVnVlUGx1Z2luLCBhY2NlcHRITVJVcGRhdGUsIGNyZWF0ZVBpbmlhLCBkZWZpbmVTdG9yZSwgZ2V0QWN0aXZlUGluaWEsIG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlLCBtYXBTdG9yZXMsIG1hcFdyaXRhYmxlU3RhdGUsIHNldEFjdGl2ZVBpbmlhLCBzZXRNYXBTdG9yZVN1ZmZpeCwgc2tpcEh5ZHJhdGUsIHN0b3JlVG9SZWZzIH07XG4iLCJpbXBvcnQgeyBTdWJtaXR0ZWREYXRhIH0gZnJvbSBcIi4vU3VibWl0dGVkRGF0YVwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi9tb2RlbC9FbnRyeVwiO1xuXG5leHBvcnQgY2xhc3MgU2F2ZVN0YXRlIHtcbiAgICBvcmlnaW5hbEVudHJ5PzogRW50cnk7XG4gICAgbmV3RW50cnk6IEVudHJ5ID0gbmV3IEVudHJ5KHt9KTtcbiAgICB0aXRsZVJlc2V0VmFsdWU6IHN0cmluZztcbiAgICBzdWJtaXR0ZWREYXRhPzogU3VibWl0dGVkRGF0YTtcbiAgICBsYXN0QWN0aXZlQXQ/OiBEYXRlO1xuICAgIHNob3dVUkxNaXNtYXRjaFdhcm5pbmc6IGJvb2xlYW47XG4gICAgZmF2aWNvbj86IHN0cmluZztcbn1cbiIsImltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9EYXRhYmFzZVwiO1xuaW1wb3J0IHsgUGFzc3dvcmRQcm9maWxlIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9QYXNzd29yZFByb2ZpbGVcIjtcbmltcG9ydCB7IEtlZU5vdGlmaWNhdGlvbiB9IGZyb20gXCIuLi9jb21tb24vS2VlTm90aWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBFbnRyeVN1bW1hcnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5U3VtbWFyeVwiO1xuaW1wb3J0IHsgU2F2ZVN0YXRlIH0gZnJvbSBcIi4uL2NvbW1vbi9TYXZlU3RhdGVcIjtcbmltcG9ydCB7IFNhdmVFbnRyeVJlc3VsdCB9IGZyb20gXCIuLi9jb21tb24vU2F2ZUVudHJ5UmVzdWx0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2VlU3RhdGUge1xuICAgIGxhdGVzdENvbm5lY3Rpb25FcnJvcjogc3RyaW5nO1xuICAgIGxhc3RLZWVQYXNzUlBDUmVmcmVzaDogbnVtYmVyO1xuICAgIEFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4OiBudW1iZXI7XG4gICAgS2VlUGFzc0RhdGFiYXNlczogRGF0YWJhc2VbXTtcbiAgICBQYXNzd29yZFByb2ZpbGVzOiBQYXNzd29yZFByb2ZpbGVbXTtcbiAgICBub3RpZmljYXRpb25zOiBLZWVOb3RpZmljYXRpb25bXTtcbiAgICBjb25uZWN0ZWQ6IGJvb2xlYW47XG4gICAgY29ubmVjdGVkV2Vic29ja2V0OiBib29sZWFuO1xuICAgIGN1cnJlbnRTZWFyY2hUZXJtOiBzdHJpbmc7XG4gICAgbG9naW5zRm91bmQ6IGJvb2xlYW47XG4gICAgc2VhcmNoUmVzdWx0czogRW50cnlTdW1tYXJ5W107XG4gICAgc2F2ZVN0YXRlOiBTYXZlU3RhdGU7XG4gICAgZ2VuZXJhdGVkUGFzc3dvcmQ6IHN0cmluZztcbiAgICBzYXZlRW50cnlSZXN1bHQ6IFNhdmVFbnRyeVJlc3VsdDtcbiAgICBlbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgbGF0ZXN0Q29ubmVjdGlvbkVycm9yOiBcIlwiLFxuICAgIGxhc3RLZWVQYXNzUlBDUmVmcmVzaDogMCxcbiAgICBBY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleDogLTEsXG4gICAgS2VlUGFzc0RhdGFiYXNlczogW10sXG4gICAgUGFzc3dvcmRQcm9maWxlczogW10sXG4gICAgbm90aWZpY2F0aW9uczogW10sXG4gICAgY29ubmVjdGVkOiBmYWxzZSxcbiAgICBjb25uZWN0ZWRXZWJzb2NrZXQ6IGZhbHNlLFxuICAgIGN1cnJlbnRTZWFyY2hUZXJtOiBudWxsLFxuICAgIGxvZ2luc0ZvdW5kOiBmYWxzZSxcbiAgICBzZWFyY2hSZXN1bHRzOiBudWxsLFxuICAgIHNhdmVTdGF0ZTogbmV3IFNhdmVTdGF0ZSgpLFxuICAgIGdlbmVyYXRlZFBhc3N3b3JkOiBcIlwiLFxuICAgIHNhdmVFbnRyeVJlc3VsdDoge1xuICAgICAgICByZXN1bHQ6IG51bGwsXG4gICAgICAgIHJlY2VpdmVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGZpbGVOYW1lOiBudWxsLFxuICAgICAgICB1dWlkOiBudWxsXG4gICAgfSxcbiAgICBlbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcDogMFxufTtcbiIsImV4cG9ydCBlbnVtIFNlc3Npb25UeXBlIHtcbiAgICBFdmVudCA9IFwiZXZlbnRcIixcbiAgICBXZWJzb2NrZXQgPSBcIndlYnNvY2tldFwiXG59XG4iLCJpbXBvcnQgeyBkZWZpbmVTdG9yZSwgRGVmaW5lU3RvcmVPcHRpb25zLCBTdGF0ZVRyZWUsIFN0b3JlRGVmaW5pdGlvbiwgX0dldHRlcnNUcmVlIH0gZnJvbSBcInBpbmlhXCI7XG5cbmltcG9ydCB7IEtlZVN0YXRlLCBkZWZhdWx0cyB9IGZyb20gXCIuL0tlZVN0YXRlXCI7XG5pbXBvcnQgeyBTYXZlU3RhdGUgfSBmcm9tIFwiLi4vY29tbW9uL1NhdmVTdGF0ZVwiO1xuaW1wb3J0IHsgU2Vzc2lvblR5cGUgfSBmcm9tIFwifi9jb21tb24vU2Vzc2lvblR5cGVcIjtcbmltcG9ydCB7IEZpZWxkIH0gZnJvbSBcIn4vY29tbW9uL21vZGVsL0ZpZWxkXCI7XG5cbi8qKlxuICogQSByZXBsYWNlbWVudCBmb3IgYGRlZmluZVN0b3JlYCB3aGljaCBtYWtlcyBhbGwgc3RhdGUgcHJvcGVydGllcyByZWFkb25seVxuICogdG8gcHJldmVudCBtdXRhdGlvbnMgb3V0c2lkZSBvZiBhY3Rpb25zLlxuICovXG4vLyBmdW5jdGlvbiBkZWZpbmVJbW11dGFibGVTdG9yZTxJZCBleHRlbmRzIHN0cmluZywgUyBleHRlbmRzIFN0YXRlVHJlZSA9IGFueSwgRyBleHRlbmRzIF9HZXR0ZXJzVHJlZTxTPiA9IGFueSwgQSA9IGFueT4oXG4vLyAgICAgaWQ6IElkLFxuLy8gICAgIG9wdGlvbnM6IE9taXQ8RGVmaW5lU3RvcmVPcHRpb25zPElkLCBTLCBHLCBBPiwgXCJpZFwiPlxuLy8gICApOiBTdG9yZURlZmluaXRpb248SWQsIFJlYWRvbmx5PFM+LCBHLCBBPiB7XG4vLyAgICAgcmV0dXJuIGRlZmluZVN0b3JlKGlkLCBvcHRpb25zKTtcbi8vICAgfVxuXG5jb25zdCB1c2VTdG9yZSA9IGRlZmluZVN0b3JlKFwia2VlXCIsIHtcbiAgICBzdGF0ZTogKCk6IEtlZVN0YXRlID0+IChkZWZhdWx0cyksXG4gICAgZ2V0dGVyczoge1xuICAgICAgICBzaG93R2VuZXJhdGVQYXNzd29yZExpbms6IChzdGF0ZTogS2VlU3RhdGUpID0+IHN0YXRlLmNvbm5lY3RlZCxcbiAgICAgICAgc2hvd01hdGNoZWRMb2dpbnM6IChzdGF0ZTogS2VlU3RhdGUpID0+ICEhc3RhdGUubG9naW5zRm91bmQsXG4gICAgICAgIHNob3dOb3RpZmljYXRpb25zOiAoc3RhdGU6IEtlZVN0YXRlKSA9PlxuICAgICAgICAgICAgc3RhdGUubm90aWZpY2F0aW9ucyAmJiAhIXN0YXRlLm5vdGlmaWNhdGlvbnMubGVuZ3RoLFxuICAgICAgICBkYXRhYmFzZUlzT3BlbjogKHN0YXRlOiBLZWVTdGF0ZSkgPT5cbiAgICAgICAgICAgIHN0YXRlLmNvbm5lY3RlZCAmJiAhIXN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoLFxuXG4gICAgICAgIGRhdGFiYXNlTmFtZTogKHN0YXRlOiBLZWVTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHN0YXRlLktlZVBhc3NEYXRhYmFzZXMgJiZcbiAgICAgICAgICAgICAgICBzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHN0YXRlLkFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4ID49IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gc3RhdGUuS2VlUGFzc0RhdGFiYXNlc1tzdGF0ZS5BY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRiLm5hbWUgPyBkYi5uYW1lIDogZGIuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFwvXS8sIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXMoc3RhdGU6IEtlZVN0YXRlKTogc3RyaW5nIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkU1RSRihcIm11bHRpcGxlUGFzc3dvcmRTb3VyY2VzRW5hYmxlZFwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aC50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhYmFzZU5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRTVFIoXCJub3RpZnlCYXJMb2dpblRvS2VlUGFzc0J1dHRvbl90aXBcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJFNUUihcIm5vdGlmeUJhckxhdW5jaEtlZVBhc3NCdXR0b25fdGlwXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzRGV0YWlsKHN0YXRlOiBLZWVTdGF0ZSk6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJFNUUkYoXCJsb2dnZWRJbk11bHRpcGxlX3RpcFwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhYmFzZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkU1RSRihcImxvZ2dlZEluX3RpcFwiLCB0aGlzLmRhdGFiYXNlTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICRTVFIoXCJub3RpZnlCYXJMYXVuY2hLZWVQYXNzX2xhYmVsXCIpO1xuICAgICAgICB9LFxuICAgICAgICBzaG93T3BlbktlZVBhc3NCdXR0b246IChzdGF0ZTogS2VlU3RhdGUpID0+IHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jb25uZWN0ZWRXZWJzb2NrZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNXZWJzb2NrZXREQnMgPSBzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgIGRiID0+IGRiLnNlc3Npb25UeXBlID09PSBTZXNzaW9uVHlwZS5XZWJzb2NrZXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRzV2Vic29ja2V0Rm9jdXMgPSBzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgIGRiID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5zZXNzaW9uVHlwZSA9PT0gU2Vzc2lvblR5cGUuV2Vic29ja2V0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5zZXNzaW9uRmVhdHVyZXMuaW5kZXhPZihcIktQUlBDX09QRU5fQU5EX0ZPQ1VTX0RBVEFCQVNFXCIpID49IDBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmICghaGFzV2Vic29ja2V0REJzIHx8IHN1cHBvcnRzV2Vic29ja2V0Rm9jdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBhY3Rpb25zOiB7XG4gICAgICAgIHVwZGF0ZUFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4KHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuQWN0aXZlS2VlUGFzc0RhdGFiYXNlSW5kZXggPSBwYXlsb2FkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUNvbm5lY3RlZChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHBheWxvYWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlQ29ubmVjdGVkV2Vic29ja2V0KHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkV2Vic29ja2V0ID0gcGF5bG9hZDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVDdXJyZW50U2VhcmNoVGVybShwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTZWFyY2hUZXJtID0gcGF5bG9hZDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVLZWVQYXNzRGF0YWJhc2VzKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuS2VlUGFzc0RhdGFiYXNlcyA9IHBheWxvYWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlTGFzdEtlZVBhc3NSUENSZWZyZXNoKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdEtlZVBhc3NSUENSZWZyZXNoID0gcGF5bG9hZDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVMYXRlc3RDb25uZWN0aW9uRXJyb3IocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5sYXRlc3RDb25uZWN0aW9uRXJyb3IgPSBwYXlsb2FkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUxvZ2luc0ZvdW5kKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9naW5zRm91bmQgPSBwYXlsb2FkIHx8IGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZU5vdGlmaWNhdGlvbnMocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zID0gcGF5bG9hZDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVQYXNzd29yZFByb2ZpbGVzKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuUGFzc3dvcmRQcm9maWxlcyA9IHBheWxvYWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlR2VuZXJhdGVkUGFzc3dvcmQocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZWRQYXNzd29yZCA9IHBheWxvYWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlU3VibWl0dGVkRGF0YShwYXlsb2FkKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2F2ZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlU3RhdGUgPSBuZXcgU2F2ZVN0YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZS5zdWJtaXR0ZWREYXRhID0gcGF5bG9hZCB8fCBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVNhdmVTdGF0ZShwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZSA9IHBheWxvYWQgfHwgbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVTZWFyY2hSZXN1bHRzKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9IHBheWxvYWQgfHwgbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVTZWFyY2hSZXN1bHRXaXRoRnVsbERldGFpbHMocGF5bG9hZCkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBwYXlsb2FkLnV1aWQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgdGhpcy5zZWFyY2hSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMudXVpZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5mdWxsRGV0YWlscyA9IHBheWxvYWQgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChwYXlsb2FkKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVTYXZlRW50cnlSZXN1bHQocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5zYXZlRW50cnlSZXN1bHQgPSBwYXlsb2FkIHx8IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlRmllbGRGcm9tQWN0aXZlRW50cnkocGF5bG9hZCkge1xuXG4gICAgICAgICAgICBjb25zdCBmaXJzdFRleHRGaWVsZEluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICBmID0+IGYudHlwZSA9PT0gXCJ0ZXh0XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFBhc3N3b3JkRmllbGRJbmRleCA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgZiA9PiBmLnR5cGUgPT09IFwicGFzc3dvcmRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsRmllbGRJbmRleCA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgZiA9PiBmLnV1aWQgPT09IChwYXlsb2FkIHx8IG51bGwpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLnNwbGljZShvcmlnaW5hbEZpZWxkSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxGaWVsZEluZGV4ID09PSBmaXJzdFRleHRGaWVsZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VXNlcm5hbWVJbmRleCA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgIGYgPT4gZi50eXBlID09PSBcInRleHRcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1VzZXJuYW1lSW5kZXggPCAwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VXNlcm5hbWUgPSB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuc3BsaWNlKG5ld1VzZXJuYW1lSW5kZXgsIDEpWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRmllbGRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZpZWxkKHsgLi4ubmV3VXNlcm5hbWUsIG5hbWU6IFwiS2VlUGFzcyB1c2VybmFtZVwiIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3JpZ2luYWxGaWVsZEluZGV4ID09PSBmaXJzdFBhc3N3b3JkRmllbGRJbmRleCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkSW5kZXggPSB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgICAgICBmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UGFzc3dvcmRJbmRleCA8IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5zcGxpY2UobmV3UGFzc3dvcmRJbmRleCwgMSlbMF07XG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxGaWVsZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoeyAuLi5uZXdQYXNzd29yZCwgbmFtZTogXCJLZWVQYXNzIHBhc3N3b3JkXCIgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUVudHJ5VXBkYXRlU3RhcnRlZEF0VGltZXN0YW1wKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW50cnlVcGRhdGVTdGFydGVkQXRUaW1lc3RhbXAgPSBwYXlsb2FkIHx8IG51bGw7XG4gICAgICAgIH1cblxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB1c2VTdG9yZTtcblxuZXhwb3J0IHR5cGUgS2VlU3RvcmUgPSBPbWl0PFxuICAgIFJldHVyblR5cGU8dHlwZW9mIHVzZVN0b3JlPixcbiAgICBrZXlvZiBSZXR1cm5UeXBlPHR5cGVvZiBkZWZpbmVTdG9yZT5cbj47XG4iLCJpbXBvcnQgeyBGaWxsZWRGaWVsZCB9IGZyb20gXCIuL0ZpbGxlZEZpZWxkXCI7XG5pbXBvcnQgeyBQYW5lbFN0dWIsIFBhbmVsU3R1Yk9wdGlvbnMgfSBmcm9tIFwiLi9QYW5lbFN0dWJcIjtcbmltcG9ydCB7IEZvcm1VdGlscyB9IGZyb20gXCIuL2Zvcm1zVXRpbHNcIjtcbmltcG9ydCB7IEZvcm1TYXZpbmcgfSBmcm9tIFwiLi9mb3JtU2F2aW5nXCI7XG5pbXBvcnQgeyBLZWVGaWVsZEljb24gfSBmcm9tIFwiLi9rZWVGaWVsZEljb25cIjtcbmltcG9ydCB7IE1hdGNoUmVzdWx0IH0gZnJvbSBcIi4vTWF0Y2hSZXN1bHRcIjtcbmltcG9ydCB7IEZpbmRNYXRjaGVzQmVoYXZpb3VyIH0gZnJvbSBcIi4vZmluZE1hdGNoZXNCZWhhdmlvdXJcIjtcbmltcG9ydCB7IEtlZUxvZ2dlciwgS2VlTG9nIH0gZnJvbSBcIi4uL2NvbW1vbi9Mb2dnZXJcIjtcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gXCIuLi9jb21tb24vY29uZmlnXCI7XG5pbXBvcnQgeyBjb25maWdNYW5hZ2VyIH0gZnJvbSBcIi4uL2NvbW1vbi9Db25maWdNYW5hZ2VyXCI7XG5pbXBvcnQgeyBNYXRjaGVkRmllbGQgfSBmcm9tIFwiLi9NYXRjaGVkRmllbGRcIjtcbmltcG9ydCB7IEZpZWxkIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9GaWVsZFwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5XCI7XG5pbXBvcnQgdXNlU3RvcmUgZnJvbSBcIn4vc3RvcmVcIjtcblxuY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpO1xuXG5pbnRlcmZhY2UgU2NvcmVNYXRyaXgge1xuICAgIHNjb3JlOiBudW1iZXI7XG4gICAgZm9ybUZpZWxkSW5kZXg6IG51bWJlcjtcbiAgICBkYXRhRmllbGRJbmRleDogbnVtYmVyO1xufVxuXG5kZWNsYXJlIGNvbnN0IHB1bnljb2RlO1xuXG5jbGFzcyBGaWxsQW5kU3VibWl0QWN0aW9uIHtcbiAgICBmaWxsOiBib29sZWFuO1xuICAgIHN1Ym1pdDogYm9vbGVhbjtcbn1cblxuY2xhc3MgU3VibWl0Q2FuZGlkYXRlIHtcbiAgICBkaXN0YW5jZTogbnVtYmVyO1xuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHNjb3JlOiBudW1iZXI7XG59XG5cbmNsYXNzIEZpZWxkTWF0Y2hTY29yZUNvbmZpZyB7XG4gICAgcHVuaXNoV3JvbmdJREFuZE5hbWU6IGJvb2xlYW47XG59XG5cbmNsYXNzIFZpc2libGVGaWVsZENhY2hlIHtcbiAgICBwYXNzd29yZDogYm9vbGVhbltdO1xuICAgIG90aGVyOiBib29sZWFuW107XG59XG5cbmV4cG9ydCBjbGFzcyBGb3JtRmlsbGluZyB7XG4gICAgcHJpdmF0ZSBmaW5kTG9naW5PcDogYW55ID0ge307XG4gICAgcHJpdmF0ZSBtYXRjaFJlc3VsdDogTWF0Y2hSZXN1bHQgPSBuZXcgTWF0Y2hSZXN1bHQoKTtcbiAgICBwcml2YXRlIGtlZUZpZWxkSWNvbjogS2VlRmllbGRJY29uO1xuXG4gICAgcHVibGljIG1hdGNoZWRMb2dpbnNQYW5lbFN0dWI6IFBhbmVsU3R1YjtcbiAgICBwcml2YXRlIG1hdGNoZWRMb2dpbnNQYW5lbFN0dWJSYWY6IG51bWJlcjtcblxuICAgIC8vIFNob3VsZCByZWFsbHkgbWFrZSB0aGlzIHByaXZhdGUgYW5kIGNhbGwgaW5kaXJlY3RseSBidXQgSSdtIHdhcnkgb2YgYWxsIHBlcmZvcm1hbmNlIG92ZXJoZWFkcyB3cnQgRE9NIG11dGF0aW9uIG9ic2VydmVyc1xuICAgIHB1YmxpYyBmb3JtRmluZGVyVGltZXI6IG51bWJlciA9IG51bGw7XG5cbiAgICBwcml2YXRlIHNlbWFudGljV2hpdGVsaXN0Q2FjaGU7XG4gICAgcHJpdmF0ZSBzZW1hbnRpY0JsYWNrbGlzdENhY2hlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgbXlQb3J0OiBicm93c2VyLnJ1bnRpbWUuUG9ydCxcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnRGcmFtZUlkOiBudW1iZXIsXG4gICAgICAgIHByaXZhdGUgZm9ybVV0aWxzOiBGb3JtVXRpbHMsXG4gICAgICAgIHByaXZhdGUgZm9ybVNhdmluZzogRm9ybVNhdmluZyxcbiAgICAgICAgcHJpdmF0ZSBMb2dnZXI6IEtlZUxvZ2dlcixcbiAgICAgICAgcHJpdmF0ZSBjb25maWc6IENvbmZpZyxcbiAgICAgICAgcHJpdmF0ZSBtYXRjaEZpbmRlcjogeyAodXJpOiBzdHJpbmcpOiB2b2lkIH1cbiAgICApIHtcbiAgICAgICAgdGhpcy5rZWVGaWVsZEljb24gPSBuZXcgS2VlRmllbGRJY29uKFxuICAgICAgICAgICAgbXlQb3J0LFxuICAgICAgICAgICAgcGFyZW50RnJhbWVJZCxcbiAgICAgICAgICAgIGZvcm1VdGlscyxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTWF0Y2hlZExvZ2luc1BhbmVsTmVhck5vZGUuYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBleGVjdXRlUHJpbWFyeUFjdGlvbigpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzICYmXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmVudHJpZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggIT0gbnVsbCAmJlxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggPj0gMFxuICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoUmVzdWx0LmVudHJpZXNbdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWxsQW5kU3VibWl0KGZhbHNlLCB0aGlzLm1hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmVudHJpZXNbdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNYXRjaGVkTG9naW5zUGFuZWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKFxuICAgICAgICAgICAgICAgICAgICBQYW5lbFN0dWJPcHRpb25zLk1hdGNoZWRMb2dpbnMsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RnJhbWVJZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlTWF0Y2hlZExvZ2luc1BhbmVsSW5DZW50ZXIoc3BlY2lmaWNGcmFtZUlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKFxuICAgICAgICAgICAgUGFuZWxTdHViT3B0aW9ucy5NYXRjaGVkTG9naW5zLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHNwZWNpZmljRnJhbWVJZFxuICAgICAgICApO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIuY3JlYXRlUGFuZWwoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlTWF0Y2hlZExvZ2luc1BhbmVsTmVhck5vZGUodGFyZ2V0OiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNsb3NlTWF0Y2hlZExvZ2luc1BhbmVsKCk7XG4gICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1YiA9IG5ldyBQYW5lbFN0dWIoXG4gICAgICAgICAgICBQYW5lbFN0dWJPcHRpb25zLk1hdGNoZWRMb2dpbnMsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICB0aGlzLnBhcmVudEZyYW1lSWRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1YlJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PlxuICAgICAgICAgICAgdGhpcy51cGRhdGVNYXRjaGVkTG9naW5zUGFuZWxQb3NpdGlvbigpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlTWF0Y2hlZExvZ2luc1BhbmVsKCkge1xuICAgICAgICBpZiAodGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViKSB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIuY2xvc2VQYW5lbCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIgPSBudWxsO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWJSYWYpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVNYXRjaGVkTG9naW5zUGFuZWxQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLnVwZGF0ZUJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWJSYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWF0Y2hlZExvZ2luc1BhbmVsUG9zaXRpb24oKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIFJlcXVpcmVzIEtlZVBhc3NSUEMgIzEwMVxuICAgIC8vIHByaXZhdGUgY2FsY3VsYXRlTGFiZWxNYXRjaFNjb3JlKG1hdGNoZWRGaWVsZDogTWF0Y2hlZEZpZWxkLCBkYXRhRmllbGQ6IEZpZWxkKSB7XG4gICAgLy8gICAgIGlmICghbWF0Y2hlZEZpZWxkLmZpZWxkLm5hbWUgfHwgIWRhdGFGaWVsZC5uYW1lKSByZXR1cm4gMDtcblxuICAgIC8vICAgICAvLyBXZSBvbmx5IHBlcnNpc3QgYSBzaW5nbGUgXCJsYWJlbFwiIHZhbHVlLCBpbXBsaWNpdGx5IHZpYSB0aGUgZGlzcGxheSBuYW1lXG4gICAgLy8gICAgIC8vIGZpZWxkLiBDb3VsZCBjaGFuZ2UgdGhpcyBpbiBmdXR1cmUgd2l0aCBhZGRpdGlvbmFsIGZlYXR1cmVzIGFkZGVkIHRvIHRoZVxuICAgIC8vICAgICAvLyBLZWVQYXNzUlBDIGxpYnJhcmllcy5cbiAgICAvLyAgICAgaWYgKFxuICAgIC8vICAgICAgICAgbWF0Y2hlZEZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLmxhYmVscy5zb21lKFxuICAgIC8vICAgICAgICAgICAgIG1hdGNoZWRGaWVsZExhYmVsID0+XG4gICAgLy8gICAgICAgICAgICAgICAgIG1hdGNoZWRGaWVsZExhYmVsLnRvTG93ZXJDYXNlKCkgPT09IGRhdGFGaWVsZC5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAvLyAgICAgICAgIClcbiAgICAvLyAgICAgKSB7XG4gICAgLy8gICAgICAgICByZXR1cm4gMTAwO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgY29uc3Qgd2Vha01hdGNoTGFiZWxzID0gW2RhdGFGaWVsZC5uYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgIC8vICAgICBpZiAoZGF0YUZpZWxkLm5hbWUgIT09IGRhdGFGaWVsZC5sb2NhdG9yc1swXS5uYW1lKSB7XG4gICAgLy8gICAgICAgICB3ZWFrTWF0Y2hMYWJlbHMucHVzaChkYXRhRmllbGQubG9jYXRvcnNbMF0ubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGlmIChcbiAgICAvLyAgICAgICAgIG1hdGNoZWRGaWVsZC5maWVsZC5sb2NhdG9yc1swXS5sYWJlbHMuc29tZShtYXRjaGVkRmllbGRMYWJlbCA9PiB7XG4gICAgLy8gICAgICAgICAgICAgd2Vha01hdGNoTGFiZWxzLnNvbWUoXG4gICAgLy8gICAgICAgICAgICAgICAgIGRhdGFMYWJlbCA9PiBtYXRjaGVkRmllbGRMYWJlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZGF0YUxhYmVsKSA+PSAwXG4gICAgLy8gICAgICAgICAgICAgKTtcbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICkge1xuICAgIC8vICAgICAgICAgcmV0dXJuIDMwO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiAwO1xuICAgIC8vIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlRmllbGRNYXRjaFNjb3JlKFxuICAgICAgICBtYXRjaGVkRmllbGQ6IE1hdGNoZWRGaWVsZCxcbiAgICAgICAgZGF0YUZpZWxkOiBGaWVsZCxcbiAgICAgICAgX2N1cnJlbnRQYWdlLCAvL1RPRE86NDogcmVtb3ZlIHBhcmFtXG4gICAgICAgIGNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICBpc1Zpc2libGU/OiBib29sZWFuXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZCA9IG1hdGNoZWRGaWVsZC5maWVsZDtcbiAgICAgICAgLy8gRGVmYXVsdCBzY29yZSBpcyAxIHNvIHRoYXQgYmFkIG1hdGNoZXMgd2hpY2ggYXJlIGF0IGxlYXN0IHRoZSBjb3JyZWN0IHR5cGVcbiAgICAgICAgLy8gaGF2ZSBhIGNoYW5jZSBvZiBiZWluZyBzZWxlY3RlZCBpZiBubyBnb29kIG1hdGNoZXMgYXJlIGZvdW5kXG4gICAgICAgIGxldCBzY29yZSA9IDE7XG5cbiAgICAgICAgLy8gRG8gbm90IGFsbG93IGFueSBtYXRjaCBpZiBmaWVsZCB0eXBlcyBhcmUgc2lnbmlmaWNhbnRseSBtaXNtYXRjaGVkIChlLmcuIGNoZWNrYm94IHZzIHRleHQgZmllbGQpXG4gICAgICAgIGlmIChmb3JtRmllbGQudHlwZSAhPT0gZGF0YUZpZWxkLnR5cGUpIHJldHVybiAwO1xuXG4gICAgICAgIC8vIHNjb3JlICs9IHRoaXMuY2FsY3VsYXRlTGFiZWxNYXRjaFNjb3JlKG1hdGNoZWRGaWVsZCwgZGF0YUZpZWxkKTtcblxuICAgICAgICAvLyBJZiBmaWVsZCBJRHMgbWF0Y2ggKysrKytcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLmlkICE9IG51bGwgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5pZCAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5pZCAhPSBcIlwiICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0uaWQgPT0gZGF0YUZpZWxkLmxvY2F0b3JzWzBdLmlkXG4gICAgICAgICkge1xuICAgICAgICAgICAgc2NvcmUgKz0gNTA7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnB1bmlzaFdyb25nSURBbmROYW1lICYmIGRhdGFGaWVsZC5sb2NhdG9yc1swXS5pZCkge1xuICAgICAgICAgICAgc2NvcmUgLT0gNTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGZpZWxkIG5hbWVzIG1hdGNoICsrKytcbiAgICAgICAgLy8gKFdlIGRvIG5vdCB0cmVhdCBJRCBhbmQgTkFNRSBhcyBtdXR1YWxseSBleGNsdXNpdmUgYmVjYXVzZSBzb21lIGJhZGx5IHdyaXR0ZW5cbiAgICAgICAgLy8gd2Vic2l0ZXMgbWlnaHQgaGF2ZSBkdXBsaWNhdGUgSURzIGJ1dCBkaWZmZXJlbnQgbmFtZXMgc28gdGhpcyBjb21iaW5lZCBhcHByb2FjaFxuICAgICAgICAvLyBtaWdodCBhbGxvdyB0aGVtIHRvIHdvcmsgY29ycmVjdGx5KVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0ubmFtZSAhPSBudWxsICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0ubmFtZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5uYW1lICE9IFwiXCIgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5uYW1lID09IGRhdGFGaWVsZC5sb2NhdG9yc1swXS5uYW1lXG4gICAgICAgICkge1xuICAgICAgICAgICAgc2NvcmUgKz0gNDA7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnB1bmlzaFdyb25nSURBbmROYW1lICYmIGRhdGFGaWVsZC5sb2NhdG9yc1swXS5uYW1lKSB7XG4gICAgICAgICAgICBzY29yZSAtPSA1O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmFkaW8gYnV0dG9ucyBoYXZlIHRoZWlyIHZhbHVlcyBzZXQgYnkgdGhlIHdlYnNpdGUgYW5kIGhlbmNlIGNhbiBwcm92aWRlXG4gICAgICAgIC8vIGEgdXNlZnVsIGN1ZSB3aGVuIGJvdGggaWQgYW5kIG5hbWUgbWF0Y2hpbmcgZmFpbHNcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLnR5cGUgPT09IFwicmFkaW9cIiAmJlxuICAgICAgICAgICAgZm9ybUZpZWxkLnZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC52YWx1ZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC52YWx1ZSAhPSBcIlwiICYmXG4gICAgICAgICAgICBmb3JtRmllbGQudmFsdWUgPT0gZGF0YUZpZWxkLnZhbHVlXG4gICAgICAgICkge1xuICAgICAgICAgICAgc2NvcmUgKz0gMzA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBpc1Zpc2libGUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdGhpcy5mb3JtVXRpbHMuaXNET01FbGVtZW50VmlzaWJsZShtYXRjaGVkRmllbGQuRE9NZWxlbWVudClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBpc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcmUgKz0gaXNWaXNpYmxlID8gMzUgOiAwO1xuXG4gICAgICAgIHJldHVybiBzY29yZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbGxNYXRjaGVkRmllbGRzKFxuICAgICAgICBmaWVsZFNjb3JlTWF0cml4OiBTY29yZU1hdHJpeFtdLFxuICAgICAgICBkYXRhRmllbGRzOiBGaWVsZFtdLFxuICAgICAgICBmb3JtRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgYXV0b21hdGVkOiBib29sZWFuXG4gICAgKSB7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gbWFrZSBzdXJlIGVhY2ggZGF0YSBmaWVsZCBpcyBtYXRjaGVkIHRvIG9ubHkgb25lIGZvcm0gZmllbGQgYnV0IHdlXG4gICAgICAgIC8vIGRvbid0IGtub3cgd2hpY2ggZmllbGQgd2lsbCBiZSB0aGUgYmVzdCBtYXRjaCBhbmQgd2UgZG9uJ3Qgd2FudCB0byBpZ25vcmVcbiAgICAgICAgLy8gbGVzcyBhY2N1cmF0ZSBtYXRjaGVzIGp1c3QgYmVjYXVzZSB0aGV5IGhhcHBlbiB0byBhcHBlYXIgbGF0ZXIuXG5cbiAgICAgICAgLy8gV2UgaGF2ZSBhIG1hdHJpeCBvZiBvYmplY3RzIHJlcHJlc2VudGluZyBlYWNoIHBvc3NpYmxlIGNvbWJpbmF0aW9uIG9mIGRhdGEgZmllbGRcbiAgICAgICAgLy8gYW5kIGZvcm0gZmllbGQgYW5kIHRoZSBzY29yZSBmb3IgdGhhdCBtYXRjaC5cbiAgICAgICAgLy8gV2UgY2hvb3NlIHdoYXQgdG8gZmlsbCBieSBzb3J0aW5nIHRoYXQgbGlzdCBieSBzY29yZS5cbiAgICAgICAgLy8gQWZ0ZXIgZmlsbGluZyBhIGZpZWxkIHdlIHJlbW92ZSBhbGwgb2JqZWN0cyBmcm9tIHRoZSBsaXN0IHdoaWNoIGFyZSBmb3IgdGhlXG4gICAgICAgIC8vIGRhdGEgZmllbGQgd2UganVzdCBmaWxsZWQgaW4gYW5kIHRoZSBmb3JtIGZpZWxkIHdlIGZpbGxlZCBpbi5cblxuICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIGFsd2F5cyBmaWxsIGVhY2ggZm9ybSBmaWVsZCBvbmx5IG9uY2UsIHdpdGggdGhlIGJlc3QgbWF0Y2hcbiAgICAgICAgLy8gc2VsZWN0ZWQgZnJvbSBhbGwgZGF0YSBmaWVsZHMgdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiBzZWxlY3RlZCBmb3IgYW5vdGhlciBmb3JtIGZpZWxkXG5cbiAgICAgICAgLy8gVGhlIGFib3ZlIGFsZ29yaXRobSBjb3VsZCBtYXliZSBiZSB0d2Vha2VkIHNsaWdodGx5IGluIG9yZGVyIHRvIGF1dG8tZmlsbFxuICAgICAgICAvLyBhIFwiY2hhbmdlIHBhc3N3b3JkXCIgZm9ybSBpZiB3ZSBldmVyIG1hbmFnZSB0byBtYWtlIHRoYXQgYXV0b21hdGVkXG5cbiAgICAgICAgLy8gKHNjb3JlIGlzIHJlZHVjZWQgYnkgb25lIGZvciBlYWNoIHBvc2l0aW9uIHdlIGZpbmQgaW4gdGhlIGZvcm0gLSB0aGlzIGdpdmVzXG4gICAgICAgIC8vIGEgc2xpZ2h0IHByaW9yaXR5IHRvIGZpZWxkcyBhdCB0aGUgdG9wIG9mIGEgZm9ybSB3aGljaCBjYW4gYmUgdXNlZnVsIG9jY2FzaW9uYWxseSlcblxuICAgICAgICBmaWVsZFNjb3JlTWF0cml4LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLnNjb3JlIC0gYS5zY29yZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVtZW1iZXIgd2hhdCB3ZSd2ZSBmaWxsZWQgaW4gc28gd2UgY2FuIG1ha2UgbW9yZSBhY2N1cmF0ZSBkZWNpc2lvbnMgd2hlblxuICAgICAgICAvLyB0aGUgZm9ybSBpcyBzdWJtaXR0ZWQgbGF0ZXIuIFdlIHJlc2lzdCB0aGUgdXJnZSB0aGUgaW5kZXggYnkgZWxlbWVudCBJRCBvclxuICAgICAgICAvLyB0aGUgRE9NZWxlbWVudCBpdHNlbGYgYmVjYXVzZSBzb21lIHdlYnNpdGVzIGRvIG5vdCBzcGVjaWZ5IGFuIElEIGFuZCBzb21lXG4gICAgICAgIC8vIG1heSByZW1vdmUgdGhlIERPTWVsZW1lbnQgYmVmb3JlIHdlIHN1Ym1pdCB0aGUgZm9ybSAoc29tZXRpbWVzIHVuZGVyIHVzZXJcbiAgICAgICAgLy8gZGlyZWN0aW9uIGJ1dCBvY2Nhc2lvbmFsbHkgYXV0b21hdGljYWxseSB0b28pXG4gICAgICAgIGNvbnN0IGZpbGxlZEZpZWxkczogRmlsbGVkRmllbGRbXSA9IFtdO1xuXG4gICAgICAgIC8vIEtlZXAgZmlsbGluZyBpbiBmaWVsZHMgdW50aWwgd2UgZmluZCBubyBtb3JlIHdpdGggYSBwb3NpdGl2ZSBzY29yZVxuICAgICAgICB3aGlsZSAoZmllbGRTY29yZU1hdHJpeC5sZW5ndGggPiAwICYmIGZpZWxkU2NvcmVNYXRyaXhbMF0uc2NvcmUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBmZmkgPSBmaWVsZFNjb3JlTWF0cml4WzBdLmZvcm1GaWVsZEluZGV4O1xuICAgICAgICAgICAgY29uc3QgZGZpID0gZmllbGRTY29yZU1hdHJpeFswXS5kYXRhRmllbGRJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1GaWVsZCA9IGZvcm1GaWVsZHNbZmZpXTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFGaWVsZCA9IGRhdGFGaWVsZHNbZGZpXTtcbiAgICAgICAgICAgIGNvbnN0IGRvbUVsZW1lbnQgPSBmb3JtRmllbGQuRE9NZWxlbWVudDtcblxuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5nZXRGb3JtRmllbGRDdXJyZW50VmFsdWUoXG4gICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICBmb3JtRmllbGQuZmllbGQubG9jYXRvcnNbMF0udHlwZVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGF1dG9tYXRlZCAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSAhPT0gKGRvbUVsZW1lbnQgYXMgYW55KS5rZWVJbml0aWFsRGV0ZWN0ZWRWYWx1ZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgICAgXCJOb3QgZmlsbGluZyBmaWVsZCBiZWNhdXNlIGl0J3Mgbm90IGVtcHR5IGFuZCB3YXMgZWRpdGVkIGJ5IHVzZXIgc2luY2UgbGFzdCBsb2FkL2ZpbGxcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIGF1dG9tYXRlZCAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSAmJlxuICAgICAgICAgICAgICAgICFjb25maWdNYW5hZ2VyLmN1cnJlbnQuYXV0b0ZpbGxGaWVsZHNXaXRoRXhpc3RpbmdWYWx1ZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgICAgXCJOb3QgZmlsbGluZyBmaWVsZCBiZWNhdXNlIGl0J3Mgbm90IGVtcHR5IGFuZCB1c2VyIHByZWZlcmVuY2UgaXMgdG8gcHJldmVudCBhdXRvbWF0aWMgZmlsbFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgICAgXCJXZSB3aWxsIHBvcHVsYXRlIGZpZWxkIFwiICsgZmZpICsgXCIgKGlkOlwiICsgZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLmlkICsgXCIpXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsbEFTaW5nbGVGaWVsZChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFGaWVsZC52YWx1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbGxlZEZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLmlkLFxuICAgICAgICAgICAgICAgIERPTWVsZW1lbnQ6IGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgbmFtZTogZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRhdGFGaWVsZC52YWx1ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZpZWxkU2NvcmVNYXRyaXggPSBmaWVsZFNjb3JlTWF0cml4LmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmRhdGFGaWVsZEluZGV4ICE9IGRmaSAmJiBlbGVtZW50LmZvcm1GaWVsZEluZGV4ICE9IGZmaTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmaWVsZFNjb3JlTWF0cml4LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYi5zY29yZSAtIGEuc2NvcmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsbGVkRmllbGRzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Rm9ybUZpZWxkQ3VycmVudFZhbHVlKFxuICAgICAgICBkb21FbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQsXG4gICAgICAgIGZpZWxkVHlwZTogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIGxldCBjdXJyZW50VmFsdWUgPSBkb21FbGVtZW50LnZhbHVlO1xuICAgICAgICBpZiAoZG9tRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgZmllbGRUeXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIGlmIChkb21FbGVtZW50LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfVFJVRVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfRkFMU0VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlsbEFTaW5nbGVGaWVsZChcbiAgICAgICAgZG9tRWxlbWVudDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50LFxuICAgICAgICBmaWVsZFR5cGU6IHN0cmluZyxcbiAgICAgICAgdmFsdWU6IHN0cmluZ1xuICAgICkge1xuICAgICAgICBpZiAoZmllbGRUeXBlID09IFwic2VsZWN0LW9uZVwiKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9tRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgZmllbGRUeXBlID09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiS0VFRk9YX0NIRUNLRURfRkxBR19UUlVFXCIpIGRvbUVsZW1lbnQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGRvbUVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGZpZWxkVHlwZSA9PSBcInJhZGlvXCIpIHtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvL1RPRE86NDogSW52ZXN0aWdhdGUgYW5kIGRvY3VtZW50IHdoeSB3ZSdyZSBub3QgdXNpbmcgZGF0YSBhdHRyaWJ1dGVzIHRvIHN0b3JlIHRoaXMgc3RyaW5nIGluIHRoZSBET01cbiAgICAgICAgKGRvbUVsZW1lbnQgYXMgYW55KS5rZWVJbml0aWFsRGV0ZWN0ZWRWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIGRvbUVsZW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBVSUV2ZW50KFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgIHZpZXc6IHdpbmRvdyxcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGRvbUVsZW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBVSUV2ZW50KFwiY2hhbmdlXCIsIHtcbiAgICAgICAgICAgICAgICB2aWV3OiB3aW5kb3csXG4gICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlsbE1hbnlGb3JtRmllbGRzKFxuICAgICAgICBmb3JtRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgZGF0YUZpZWxkczogRmllbGRbXSxcbiAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgIHNjb3JlQ29uZmlnOiBGaWVsZE1hdGNoU2NvcmVDb25maWcsXG4gICAgICAgIGF1dG9tYXRlZDogYm9vbGVhblxuICAgICkge1xuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIl9maWxsTWFueUZvcm1GaWVsZHMgc3RhcnRlZFwiKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBmb3JtRmllbGRzID09IG51bGwgfHxcbiAgICAgICAgICAgIGZvcm1GaWVsZHMgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBkYXRhRmllbGRzID09IG51bGwgfHxcbiAgICAgICAgICAgIGRhdGFGaWVsZHMgPT0gdW5kZWZpbmVkXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJXZSd2ZSByZWNlaXZlZCB0aGUgZGF0YSB3ZSBuZWVkXCIpO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJGaWxsaW5nIGZvcm0gZmllbGRzIGZvciBwYWdlIFwiICsgY3VycmVudFBhZ2UpO1xuXG4gICAgICAgIC8vIHdlIHRyeSB0byBmaWxsIGV2ZXJ5IGZvcm0gZmllbGQuIFdlIHRyeSB0byBtYXRjaCBieSBpZCBmaXJzdCBhbmQgdGhlbiBuYW1lIGJlZm9yZSBqdXN0IGd1ZXNzaW5nLlxuICAgICAgICAvLyBHZW5lcmFsbHkgd2UnbGwgb25seSBmaWxsIGlmIHRoZSBtYXRjaGVkIGZpZWxkIGlzIG9mIHRoZSBzYW1lIHR5cGUgYXMgdGhlIGZvcm0gZmllbGQgYnV0XG4gICAgICAgIC8vIHdlIGFyZSBmbGV4aWJsZSBSRSB0ZXh0IGFuZCB1c2VybmFtZSBmaWVsZHMgYmVjYXVzZSB0aGF0J3MgYW4gYXJ0aWZpY2lhbCBkaWZmZXJlbmNlXG4gICAgICAgIC8vIGZvciB0aGUgc2FrZSBvZiB0aGUgS2VlIHBhc3N3b3JkIG1hbmFnZW1lbnQgc29mdHdhcmUuIEhvd2V2ZXIsIHVzZXJuYW1lcyB3aWxsIGJlIGNob3NlbiBhYm92ZVxuICAgICAgICAvLyB0ZXh0IGZpZWxkcyBpZiBhbGwgZWxzZSBpcyBlcXVhbFxuICAgICAgICBjb25zdCBmaWVsZFNjb3JlTWF0cml4ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3JtRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRhdGFGaWVsZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuY2FsY3VsYXRlRmllbGRNYXRjaFNjb3JlKFxuICAgICAgICAgICAgICAgICAgICBmb3JtRmllbGRzW2ldLFxuICAgICAgICAgICAgICAgICAgICBkYXRhRmllbGRzW2pdLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVDb25maWdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIlN1aXRhYmlsaXR5IG9mIHB1dHRpbmcgZGF0YSBmaWVsZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBqICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGludG8gZm9ybSBmaWVsZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIChpZDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkc1tpXS5maWVsZC5sb2NhdG9yc1swXS5pZCArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIikgaXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGZpZWxkU2NvcmVNYXRyaXgucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlOiBzY29yZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUZpZWxkSW5kZXg6IGosXG4gICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZEluZGV4OiBpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5maWxsTWF0Y2hlZEZpZWxkcyhmaWVsZFNjb3JlTWF0cml4LCBkYXRhRmllbGRzLCBmb3JtRmllbGRzLCBhdXRvbWF0ZWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdE1hdGNoUmVzdWx0KGJlaGF2aW91cjogRmluZE1hdGNoZXNCZWhhdmlvdXIpIHtcbiAgICAgICAgLy9UT0RPOjQ6ICM2IGNyZWF0ZSBuZXcgb2JqZWN0IG1pZ2h0IGNhdXNlIGlzc3VlcyB3aXRoIG11bHRpLXBhZ2Ugb3Igc3VibWl0IGJlaGF2aW91cj8gaWYgbm90LCB0aGlzIHdvdWxkIGJlIG5lYXRlcjpcbiAgICAgICAgLy8gbWF0Y2hSZXN1bHQgPSBuZXcgTWF0Y2hSZXN1bHQoKTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5VVUlEID0gXCJcIjtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm11c3RBdXRvRmlsbEZvcm0gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5jYW5ub3RBdXRvRmlsbEZvcm0gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tdXN0QXV0b1N1Ym1pdEZvcm0gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5jYW5ub3RBdXRvU3VibWl0Rm9ybSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChiZWhhdmlvdXIuVVVJRCAhPSB1bmRlZmluZWQgJiYgYmVoYXZpb3VyLlVVSUQgIT0gbnVsbCAmJiBiZWhhdmlvdXIuVVVJRCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAvLyBLZWVwIGEgcmVjb3JkIG9mIHRoZSBzcGVjaWZpYyBlbnRyeSB3ZSBhcmUgZ29pbmcgdG8gc2VhcmNoIGZvciAod2UgZGVsZXRlXG4gICAgICAgICAgICAvLyB0aGUgdGFic3RhdGUgYmVsb3cgYW5kIHJlLWNyZWF0ZSBpdCBkdXJpbmcgZm9ybSBmaWxsKVxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5VVUlEID0gYmVoYXZpb3VyLlVVSUQ7XG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmRiRmlsZU5hbWUgPSBiZWhhdmlvdXIuZGJGaWxlTmFtZTtcblxuICAgICAgICAgICAgLy8gd2Ugd2FudCB0byBmaWxsIHRoZSBmb3JtIHdpdGggdGhpcyBkYXRhXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm11c3RBdXRvRmlsbEZvcm0gPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoYmVoYXZpb3VyLm11c3RBdXRvU3VibWl0Rm9ybSkgdGhpcy5tYXRjaFJlc3VsdC5tdXN0QXV0b1N1Ym1pdEZvcm0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5kb2MgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5mb3JtUmVhZHlGb3JTdWJtaXQgPSBmYWxzZTsgLy8gdHJhY2tzIHdoZXRoZXIgd2UgYWN0dWFsbHkgYXV0by1maWxsIG9uIHRoaXMgcGFnZVxuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmF1dG9maWxsT25TdWNjZXNzID0gYmVoYXZpb3VyLmF1dG9maWxsT25TdWNjZXNzO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmF1dG9zdWJtaXRPblN1Y2Nlc3MgPSBiZWhhdmlvdXIuYXV0b3N1Ym1pdE9uU3VjY2VzcztcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5ub3RpZnlVc2VyT25TdWNjZXNzID0gYmVoYXZpb3VyLm5vdGlmeVVzZXJPblN1Y2Nlc3M7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQud3JhcHBlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5hbGxNYXRjaGluZ0xvZ2lucyA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5zdWJtaXRUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQudXNlcm5hbWVJbmRleEFycmF5ID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQucGFzc3dvcmRGaWVsZHNBcnJheSA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5yZXF1ZXN0Q291bnQgPSAwO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnJlc3BvbnNlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnJlcXVlc3RJZHMgPSBbXTsgLy8gdGhlIEpTT05SUEMgcmVxdWVzdCBJZHMgdGhhdCByZWZlcmVuY2UgdGhpcyBtYXRjaFJlc3VsdCBvYmplY3QgKHRvIGFsbG93IGRlbGV0aW9uIGFmdGVyIGFzeW5jIGNhbGxiYWNrIHByb2Nlc3NpbmcpXG4gICAgfVxuXG4gICAgLyogRXhwZWN0cyB0aGlzIGRhdGEgb2JqZWN0OlxuICAgIHtcbiAgICAgICAgYXV0b2ZpbGxPblN1Y2Nlc3M6IHRydWUsIC8vIFRoaXMgd29uJ3Qgb3ZlcnJpZGUgb3RoZXIgY29uZmlndXJhdGlvbiBvcHRpb25zIGlmIHRydWUgYnV0IGlmIGZhbHNlIGl0IHdpbGwuXG4gICAgICAgIGF1dG9zdWJtaXRPblN1Y2Nlc3M6IHRydWUsIC8vIFRoaXMgd29uJ3Qgb3ZlcnJpZGUgb3RoZXIgY29uZmlndXJhdGlvbiBvcHRpb25zIGlmIHRydWUgYnV0IGlmIGZhbHNlIGl0IHdpbGwuXG4gICAgICAgIG5vdGlmeVVzZXJPblN1Y2Nlc3M6IHRydWUsIC8vIGUuZy4gdXNlZCB3aGVuIHBlcmlvZGljIGZvcm0gcG9sbGluZyBmaW5kcyBhIGZvcm0gYWZ0ZXIgdGhlIHBhZ2UgaGFzIGxvYWRlZC5cbiAgICAgICAgLi4uIG90aGVyc1xuICAgIH1cbiAgICAqL1xuICAgIHB1YmxpYyBmaW5kTWF0Y2hlc0luVGhpc0ZyYW1lKGJlaGF2aW91cjogRmluZE1hdGNoZXNCZWhhdmlvdXIgPSB7fSkge1xuICAgICAgICB0aGlzLnNlbWFudGljV2hpdGVsaXN0Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlID0ge307XG5cbiAgICAgICAgLy8gV2hldGhlciBvciBub3QgdGhpcyB3YXMgaW52b2tlZCBhcyBhIHJlc3VsdCBvZiBhIERPTSBtdXRhdGlvbiwgd2Ugd29uJ3QgbmVlZCB0aGUgdGltZXIgdG8gZmlyZSBhbnltb3JlXG4gICAgICAgIGlmICh0aGlzLmZvcm1GaW5kZXJUaW1lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZm9ybUZpbmRlclRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuZm9ybUZpbmRlclRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aW5kb3cuZG9jdW1lbnQuZm9ybXMubGVuZ3RoID4gNTApIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgIFwiVG9vIG1hbnkgZm9ybXMgb24gdGhpcyBwYWdlLiBBc3N1bWluZyBpdCBpcyBub3QgYSBsb2dpbiBwYWdlXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBhbmQgYXZvaWRpbmcgbG9va2luZyBmb3IgbG9naW4gZm9ybXMgaW4gb3JkZXIgdG8gYXZvaWQgcGVyZm9ybWFuY2UgaW1wYWN0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FuJ3QgYXBwZW5kIHRvIGEgSFRNTENvbGxlY3Rpb24gYnV0IGFsbCB3ZSByZWFsbHkgdXNlIGl0IGZvciBpcyBpdGVyYXRpb25cbiAgICAgICAgLy8gYW5kIGxlbmd0aCBzbyBjb252ZXJ0aW5nIHRvIGFuIGFycmF5IHNvbWV0aW1lcyB3aWxsIGNhdXNlIG5vIGlzc3Vlc1xuICAgICAgICBsZXQgZm9ybXMgPSBuZXcgQXJyYXk8SFRNTEZvcm1FbGVtZW50PigpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbmRvdy5kb2N1bWVudC5mb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9ybXMucHVzaCh3aW5kb3cuZG9jdW1lbnQuZm9ybXMuaXRlbShpKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3JjaW5nIGEgc2NhbiBmb3Igb3JwaGFuZWQgZmllbGRzIG9uIGFsbCBwYWdlcy4gTWF5IG5lZWQgdG8gY2hhbmdlXG4gICAgICAgIC8vIHRoaXMgaWYgcmVhbCB3b3JsZCBwZXJmb3JtYW5jZSBpcyB0b28gc2xvdy5cbiAgICAgICAgY29uc3QgcHNldWRvRm9ybSA9IHRoaXMuc2NhbkZvck9ycGhhbmVkRmllbGRzKHdpbmRvdy5kb2N1bWVudCk7XG4gICAgICAgIGlmIChwc2V1ZG9Gb3JtKSB7XG4gICAgICAgICAgICBmb3JtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZvcm1zKTtcbiAgICAgICAgICAgIGZvcm1zLnB1c2gocHNldWRvRm9ybSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvcm1zIHx8IGZvcm1zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiTm8gZm9ybXMgZm91bmQgb24gdGhpcyBwYWdlLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmRvY3VtZW50LlVSTCk7XG4gICAgICAgIHVybC5ob3N0bmFtZSA9IHB1bnljb2RlLnRvVW5pY29kZSh1cmwuaG9zdG5hbWUpO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICBcIkZpbmRpbmcgbWF0Y2hlcyBpbiBhIGRvY3VtZW50LiByZWFkeVN0YXRlOiBcIiArIHdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5pbml0TWF0Y2hSZXN1bHQoYmVoYXZpb3VyKTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5mb3JtcyA9IGZvcm1zO1xuXG4gICAgICAgIGNvbnN0IGNvbmYgPSBjb25maWdNYW5hZ2VyLnNpdGVDb25maWdGb3IodXJsLmhyZWYpO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZmluZE1hdGNoZXMgcHJvY2Vzc2luZyBcIiArIGZvcm1zLmxlbmd0aCArIFwiIGZvcm1zXCIpO1xuXG4gICAgICAgIGxldCBzZWFyY2hTZW50VG9LZWVQYXNzID0gZmFsc2U7XG5cbiAgICAgICAgLy8gRm9yIGV2ZXJ5IGZvcm0sIGluY2x1ZGluZyBhbnkgcHNldWRvIGZvcm1zIHdlIGNyZWF0ZWQgZWFybGllclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmb3JtID0gZm9ybXNbaV07XG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmVudHJpZXNbaV0gPSBbXTtcblxuICAgICAgICAgICAgLy8gdGhlIG92ZXJhbGwgcmVsZXZhbmNlIG9mIHRoaXMgZm9ybSBpcyB0aGUgbWF4aW11bSBvZiBpdCdzXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBlbnRyaWVzIChzbyB3ZSBmaWxsIHRoZSBtb3N0IHJlbGV2YW50IGZvcm0pXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXNbaV0gPSAwO1xuXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImFib3V0IHRvIGdldCBmb3JtIGZpZWxkc1wiKTtcbiAgICAgICAgICAgIGxldCBzY2FuUmVzdWx0OiB7XG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHM6IE1hdGNoZWRGaWVsZFtdO1xuICAgICAgICAgICAgICAgIGFjdHVhbFVzZXJuYW1lSW5kZXg/OiBudW1iZXI7XG4gICAgICAgICAgICAgICAgcHdGaWVsZHM/OiBNYXRjaGVkRmllbGRbXTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNjYW5SZXN1bHQgPSB0aGlzLmZvcm1VdGlscy5nZXRGb3JtRmllbGRzKGZvcm0sIGZhbHNlLCA1MCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJMb3N0IGludGVyZXN0IGluIHRoaXMgZm9ybSBhZnRlciBmaW5kaW5nIHRvbyBtYW55IGZpZWxkc1wiICsgZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZUluZGV4ID0gc2NhblJlc3VsdC5hY3R1YWxVc2VybmFtZUluZGV4O1xuICAgICAgICAgICAgY29uc3QgcGFzc3dvcmRGaWVsZHMgPSBzY2FuUmVzdWx0LnB3RmllbGRzO1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJGaWVsZHMgPSBzY2FuUmVzdWx0Lm90aGVyRmllbGRzO1xuXG4gICAgICAgICAgICAvLyBXZSB3YW50IHRvIGZpbGwgaW4gdGhpcyBmb3JtIGlmIHdlIGZpbmQgYSBwYXNzd29yZCBmaWVsZCBidXQgZmlyc3RcbiAgICAgICAgICAgIC8vIHdlIGNoZWNrIHdoZXRoZXIgYW55IHdoaXRlbGlzdCBvciBibGFja2xpc3QgZW50cmllcyBtdXN0IG92ZXJyaWRlIHRoYXQgYmVoYXZpb3VyXG4gICAgICAgICAgICBsZXQgaW50ZXJlc3RpbmdGb3JtOiBib29sZWFuID0gbnVsbDtcblxuICAgICAgICAgICAgaW50ZXJlc3RpbmdGb3JtID0gY29uZmlnTWFuYWdlci5pc0Zvcm1JbnRlcmVzdGluZyhcbiAgICAgICAgICAgICAgICBmb3JtLFxuICAgICAgICAgICAgICAgIGNvbmYsXG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHMubWFwKGYgPT4gZi5maWVsZClcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpbnRlcmVzdGluZ0Zvcm0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgIFwiTG9zdCBpbnRlcmVzdCBpbiB0aGlzIGZvcm0gYWZ0ZXIgaW5zcGVjdGluZyBmaWVsZCBuYW1lcyBhbmQgSURzXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBub1Bhc3N3b3JkRmllbGQgPVxuICAgICAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzID09IG51bGwgfHwgcGFzc3dvcmRGaWVsZHMubGVuZ3RoIDw9IDAgfHwgcGFzc3dvcmRGaWVsZHNbMF0gPT0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG5vT3RoZXJGaWVsZCA9XG4gICAgICAgICAgICAgICAgdXNlcm5hbWVJbmRleCA8IDAgfHxcbiAgICAgICAgICAgICAgICBvdGhlckZpZWxkcyA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHMubGVuZ3RoIDw9IDAgfHxcbiAgICAgICAgICAgICAgICBvdGhlckZpZWxkc1t1c2VybmFtZUluZGV4XSA9PSBudWxsO1xuXG4gICAgICAgICAgICBpZiAobm9QYXNzd29yZEZpZWxkICYmIChub090aGVyRmllbGQgfHwgaW50ZXJlc3RpbmdGb3JtICE9PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIk5vIHBhc3N3b3JkIGZpZWxkIGZvdW5kIGluIHRoaXMgZm9ybSBhbmQgZWl0aGVyIHRoZXJlIGFyZSBubyBvdGhlclwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGZpZWxkcyBvciBubyB3aGl0ZWxpc3RlZCB0ZXh0IGZpZWxkIG9yIGZvcm0gZWxlbWVudFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHN1Ym1pdFRhcmdldE5laWdoYm91cjogSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAobm9QYXNzd29yZEZpZWxkKSB7XG4gICAgICAgICAgICAgICAgc3VibWl0VGFyZ2V0TmVpZ2hib3VyID0gb3RoZXJGaWVsZHNbdXNlcm5hbWVJbmRleF0uRE9NZWxlbWVudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3VibWl0VGFyZ2V0TmVpZ2hib3VyID0gcGFzc3dvcmRGaWVsZHNbMF0uRE9NZWxlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hdHRhY2hTdWJtaXRIYW5kbGVycyhmb3JtLCBzdWJtaXRUYXJnZXROZWlnaGJvdXIsIGkpO1xuXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnVzZXJuYW1lSW5kZXhBcnJheVtpXSA9IHVzZXJuYW1lSW5kZXg7XG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXlbaV0gPSBwYXNzd29yZEZpZWxkcztcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQub3RoZXJGaWVsZHNBcnJheVtpXSA9IG90aGVyRmllbGRzO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5zdWJtaXRUYXJnZXRzW2ldID0gc3VibWl0VGFyZ2V0TmVpZ2hib3VyO1xuXG4gICAgICAgICAgICAvLyBUaGUgZW50cmllcyByZXR1cm5lZCBmcm9tIEtlZVBhc3MgZm9yIGV2ZXJ5IGZvcm0gd2lsbCBiZSBpZGVudGljYWwgKGJhc2VkIG9uIHRhYi9mcmFtZSBVUkwpXG4gICAgICAgICAgICBpZiAoIXNlYXJjaFNlbnRUb0tlZVBhc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmRMb2dpbk9wLmZvcm1zID0gZm9ybXM7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kTG9naW5PcC5mb3JtSW5kZXhlcyA9IFtpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmRMb2dpbk9wLndyYXBwZWRCeSA9IHRoaXMubWF0Y2hSZXN1bHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC53cmFwcGVyc1tpXSA9IHRoaXMuZmluZExvZ2luT3A7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5yZXF1ZXN0Q291bnQrKztcblxuICAgICAgICAgICAgICAgIC8vIFNlYXJjaCBmb3IgbWF0Y2hpbmcgZW50cmllcyBmb3IgdGhlIHJlbGV2YW50IFVSTC4gVGhpcyByZXF1ZXN0IGlzIGFzeW5jaHJvbm91cy5cbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoRmluZGVyKHVybC5ocmVmKTtcbiAgICAgICAgICAgICAgICBzZWFyY2hTZW50VG9LZWVQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJmb3JtW1wiICsgaSArIFwiXTogcmV1c2luZyBlbnRyaWVzIGZyb20gbGFzdCBmb3JtLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmRMb2dpbk9wLmZvcm1JbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gLy8gZW5kIG9mIGZvcm0gZm9yIGxvb3BcbiAgICB9XG5cbiAgICAvLyBJdCdzIE9LIGZvciB0aGlzIHRvIHRha2UgYSBmZXcgc2Vjb25kcyAtIGh1bWFucyBjYW4ndCB0eXBlIHRoYXQgZmFzdC5cbiAgICAvLyBCeSBtYWtpbmcgdGhpcyBhc3luYyB3ZSBhbGxvdyB0aGUgc2VhcmNoIGZvciBlbnRyaWVzIHRvIGJlZ2luIGVhcmxpZXJcbiAgICAvLyBhbmQgcmVkdWNlIHBlcmNlaXZlZCBpbXBhY3Qgb24gcGFnZSBsb2FkIHRpbWVcbiAgICBwcml2YXRlIGFzeW5jIGF0dGFjaFN1Ym1pdEhhbmRsZXJzKFxuICAgICAgICBmb3JtOiBIVE1MRm9ybUVsZW1lbnQsXG4gICAgICAgIHN1Ym1pdFRhcmdldE5laWdoYm91cjogSFRNTEVsZW1lbnQsXG4gICAgICAgIGZvcm1OdW1iZXI6IG51bWJlclxuICAgICkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgY29uc3Qgc3VibWl0VGFyZ2V0ID0gdGhpcy5maW5kU3VibWl0QnV0dG9uKGZvcm0sIHN1Ym1pdFRhcmdldE5laWdoYm91cik7XG4gICAgICAgICAgICB0aGlzLmZvcm1TYXZpbmcuYWRkU3VibWl0SGFuZGxlcihzdWJtaXRUYXJnZXQsIGZvcm0pO1xuICAgICAgICAgICAgS2VlTG9nLmluZm8oXG4gICAgICAgICAgICAgICAgXCJTdWJtaXQgaGFuZGxlcnMgYXR0YWNoZWQgYXN5bmNocm9ub3VzbHkgdG8gZm9ybSBcIiArXG4gICAgICAgICAgICAgICAgICAgIGZvcm1OdW1iZXIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBpbiBcIiArXG4gICAgICAgICAgICAgICAgICAgIChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0KSArXG4gICAgICAgICAgICAgICAgICAgIFwibXNcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgS2VlTG9nLndhcm4oXCJFeGNlcHRpb24gd2hpbGUgYWRkaW5nIHN1Ym1pdCBoYW5kbGVyLiBNZXNzYWdlOiBcIiArIGUubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNjYW5Gb3JPcnBoYW5lZEZpZWxkcyhkb2MpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBvcnBoYW5lZEZpZWxkcyA9IFtdO1xuICAgICAgICBsZXQgcHNldWRvRm9ybSA9IG51bGw7XG5cbiAgICAgICAgLy8gbXVjaCBmYXN0ZXIgdGhhbiBxdWVyeVNlbGVjdG9yQWxsXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIik7XG4gICAgICAgIGZvciAoY29uc3QgdGFnIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoIXRhZy5mb3JtKSBvcnBoYW5lZEZpZWxkcy5wdXNoKHRhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3JwaGFuZWRGaWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcHNldWRvRm9ybSA9IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50czogb3JwaGFuZWRGaWVsZHMsXG4gICAgICAgICAgICAgICAgaWQ6IFwiS2VlLXBzZXVkby1mb3JtXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJLZWUtcHNldWRvLWZvcm1cIixcbiAgICAgICAgICAgICAgICBvd25lckRvY3VtZW50OiBkb2MsXG4gICAgICAgICAgICAgICAgZ2V0RWxlbWVudHNCeVRhZ05hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHM7XG4gICAgICAgICAgICAgICAgfSwgLy8gT25seSB1c2UgaXMgZm9yIGxpc3RpbmcgaW5wdXQgZWxlbWVudHNcbiAgICAgICAgICAgICAgICBxdWVyeVNlbGVjdG9yQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9LCAvLyBPbmx5IHVzZSBpcyBmb3IgbGlzdGluZyBidXR0b24gZWxlbWVudHNcbiAgICAgICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0sIC8vIE5vdCBwb3NzaWJsZSB0byBzdWJtaXQgYSBwc2V1ZG8gZm9ybSB1bmxlc3MgYSBidXR0b24gd2l0aCBjdXN0b20gSlMgaGFzIGFscmVhZHkgYmVlbiBmb3VuZFxuICAgICAgICAgICAgICAgIG9mZnNldFBhcmVudDogdHJ1ZSwgLy8gVGhpcyB0cmlja3MgZWxlbWVudCB2aXNpYmlsaXR5IGNoZWNrcyBpbnRvIHRyZWF0aW5nIHRoaXMgYXMgdmlzaWJsZSB0byB0aGUgdXNlclxuICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0sIC8vVE9ETzo0OiBob29rIHVwIHRvIHRoZSBzdWJtaXQgZnVuY3Rpb24gdG8gc2ltdWxhdGUgcmVhbCBmb3JtIHN1Ym1pc3Npb25cbiAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzY2FuRm9yT3JwaGFuZWRGaWVsZHMgdG9vazogXCIgKyAodG4gLSB0KSk7XG5cbiAgICAgICAgcmV0dXJuIHBzZXVkb0Zvcm07XG4gICAgfVxuXG4gICAgcHVibGljIGZpbmRMb2dpbnNSZXN1bHRIYW5kbGVyKGVudHJpZXM6IEVudHJ5W10pIHtcbiAgICAgICAgaWYgKCFlbnRyaWVzKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbGlkRW50cmllcyA9IGVudHJpZXMuZmlsdGVyKFxuICAgICAgICAgICAgZSA9PiBFbnRyeS5nZXRVc2VybmFtZUZpZWxkKGUpIHx8IEVudHJ5LmdldFBhc3N3b3JkRmllbGQoZSlcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0ID0gdGhpcy5nZXRSZWxldmFuY2VPZkxvZ2luTWF0Y2hlc0FnYWluc3RBbGxGb3JtcyhcbiAgICAgICAgICAgIHZhbGlkRW50cmllcyxcbiAgICAgICAgICAgIHRoaXMuZmluZExvZ2luT3AsXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5maWxsQW5kU3VibWl0KHRydWUpO1xuICAgIH1cblxuICAgIGdldFJlbGV2YW5jZU9mTG9naW5NYXRjaGVzQWdhaW5zdEFsbEZvcm1zKFxuICAgICAgICBlbnRyaWVzOiBFbnRyeVtdLFxuICAgICAgICBmaW5kTG9naW5PcCxcbiAgICAgICAgbWF0Y2hSZXN1bHQ6IE1hdGNoUmVzdWx0XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGNyU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZW50cmllcyk7XG4gICAgICAgIGxldCBmaXJzdE1hdGNoUHJvY2Vzc2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaW5kTG9naW5PcC5mb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gU2tpcCBhbnkgZm9ybSB0aGF0IHdlIGRvbid0IHdhbnQgdG8gbWF0Y2ggYWdhaW5zdCB0aGlzIHNldCBvZiBlbnRyaWVzXG4gICAgICAgICAgICBpZiAoZmluZExvZ2luT3AuZm9ybUluZGV4ZXMuaW5kZXhPZihpKSA9PSAtMSkgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgZm9ybSwgd2UgaGF2ZSB0byB3b3JrIHdpdGggY2xvbmVzIG9mIHRoZSBlbnRyeSBzb1xuICAgICAgICAgICAgLy8gdGhhdCB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGUgcmVsZXZhbmN5IHNjb3JlcywgZXRjLiBpbmRlcGVuZGVudGx5IGZvciBlYWNoXG4gICAgICAgICAgICAvLyBmb3JtIGFuZCBlbnRyeSBjb21iaW5hdGlvbi4gV2UgY291bGQgYmUgbW9yZSBlZmZpY2llbnQgZm9yIHRoZSBjb21tb24gY2FzZSBvZiAxIGZvcm1cbiAgICAgICAgICAgIC8vIGJ5IGF2b2lkaW5nIHRoZSBjbG9uZSB0aGVuIGJ1dCBrZWVwaW5nIHRoZSBzYW1lIGJlaGF2aW91ciBnaXZlcyB1cyBhIGhpZ2hlciBjaGFuY2VcbiAgICAgICAgICAgIC8vIG9mIG5vdGljaW5nIGJ1Z3MuXG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldID0gSlNPTi5wYXJzZShjclN0cmluZyk7IC8vVE9ETzo0OiBmYXN0ZXIgY2xvbmU/IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0d1aWRlL0FQSS9ET00vVGhlX3N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtID9cblxuICAgICAgICAgICAgLy8gTm90aGluZyB0byBkbyBpZiB3ZSBoYXZlIG5vIG1hdGNoaW5nIGVudHJpZXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKG1hdGNoUmVzdWx0LmVudHJpZXNbaV0ubGVuZ3RoID09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwibWF0Y2ggZm91bmQhXCIpO1xuXG4gICAgICAgICAgICBjb25zdCBmb3JtVmlzaWJsZSA9IHRoaXMuZm9ybVV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUobWF0Y2hSZXN1bHQuc3VibWl0VGFyZ2V0c1tpXSk7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImZvcm1WaXNpYmxlOiBcIiArIGZvcm1WaXNpYmxlKTtcblxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZUZpZWxkQ2FjaGUgPSB7XG4gICAgICAgICAgICAgICAgb3RoZXI6IG1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXlbaV0ubWFwKGYgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtVXRpbHMuaXNET01FbGVtZW50VmlzaWJsZShmLkRPTWVsZW1lbnQpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogbWF0Y2hSZXN1bHQucGFzc3dvcmRGaWVsZHNBcnJheVtpXS5tYXAoZiA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1VdGlscy5pc0RPTUVsZW1lbnRWaXNpYmxlKGYuRE9NZWxlbWVudClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIHJlbGV2YW5jZSBvZiBlYWNoIGVudHJ5IHRvIHRoaXMgZm9ybVxuICAgICAgICAgICAgLy8gd2UgY291bGQgc2tpcCB0aGlzIHdoZW4gYXV0b2ZpbGxpbmcgYmFzZWQgb24gdXVpZCBidXQgd2Ugd291bGQgaGF2ZSB0byBjaGVjayBmb3JcbiAgICAgICAgICAgIC8vIG1hdGNoZXMgZmlyc3Qgb3IgZWxzZSB3ZSByaXNrIG5vIG1hdGNoIGFuZCBubyBhbHRlcm5hdGl2ZSBtYXRjaGluZyBlbnRyaWVzIG9uIHRoZSBtYWluVUlcbiAgICAgICAgICAgIC8vIGFuZCB3ZSBhbHNvIG5vdyBjb25zaWRlciB0aGUgdG90YWxpdHkgb2YgcG9zc2libGUgbWF0Y2hlcyBhZ2FpbnN0IGEgZmllbGQgaW4gb3JkZXJcbiAgICAgICAgICAgIC8vIHRvIGxpbWl0IHdoaWNoIGZpZWxkcyB3ZSBzaG92ZSBhIEtlZSBpY29uIGludG8uXG4gICAgICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IG1hdGNoUmVzdWx0LmVudHJpZXNbaV0ubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN0b3JlLktlZVBhc3NEYXRhYmFzZXMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgZGIgPT4gZGIuZmlsZU5hbWUgPT09IG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0uZGF0YWJhc2UuZmlsZU5hbWVcbiAgICAgICAgICAgICAgICApLnNlc3Npb25GZWF0dXJlcztcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZE1hdGNoU2NvcmVDb25maWc6IEZpZWxkTWF0Y2hTY29yZUNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHVuaXNoV3JvbmdJREFuZE5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5pbmRleE9mKFwiS1BSUENfRklFTERfREVGQVVMVF9OQU1FX0FORF9JRF9FTVBUWVwiKSA+PSAwXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNjb3JlLCBsb3dGaWVsZE1hdGNoUmF0aW8gfSA9IHRoaXMuY2FsY3VsYXRlUmVsZXZhbmNlU2NvcmUoXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0sXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXlbaV0sXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXlbaV0sXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgICAgICAgICBmb3JtVmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlRmllbGRDYWNoZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBjaG9vc2luZyBiZXN0IGZvcm0gc2hvdWxkIG5vdCBiZSBhZmZlY3RlZCBieSBsb3dGaWVsZE1hdGNoUmF0aW8gZW50cnkgc2NvcmVcbiAgICAgICAgICAgICAgICAvLyBidXQgd2hlbiB3ZSBjb21lIHRvIGZpbGwgdGhlIGZvcm0gd2UgY2FuIGZvcmNlIG91cnNlbHZlcyBpbnRvIGEgbm8tYXV0by1maWxsIGJlaGF2aW91ci5cbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLnJlbGV2YW5jZVNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5sb3dGaWVsZE1hdGNoUmF0aW8gPSBsb3dGaWVsZE1hdGNoUmF0aW87XG5cbiAgICAgICAgICAgICAgICAvLyBhbHNvIHNldCB0aGUgZm9ybSBpbmRleCBhbmQgZW50cnkgaW5kZXggb24gdGhlIGludGVybmFsIGVudHJ5IG9iamVjdCBzb1xuICAgICAgICAgICAgICAgIC8vIGl0IHdpbGwgcGVyc2lzdCB3aGVuIGxhdGVyIHBhc3NlZCB0byB0aGUgVUkgYW5kIHdlIGNhbiB1bHRpbWF0ZWx5XG4gICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgc2FtZSBlbnRyeSBvYmplY3Qgd2hlbiBwcm9jZXNzaW5nIGEgbWF0Y2hlZCBlbnRyeVxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0uZm9ybUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLmVudHJ5SW5kZXggPSB2O1xuXG4gICAgICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhlIGJlc3QgZm9ybSBmb3IgZWFjaCBlbnRyeVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgIWZpcnN0TWF0Y2hQcm9jZXNzZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5yZWxldmFuY2VTY29yZSA+XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5hbGxNYXRjaGluZ0xvZ2luc1t2XS5yZWxldmFuY2VTY29yZVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSGlnaGVyIHJlbGV2YW5jZSBzY29yZSBmb3VuZCBmb3IgZW50cnkgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIHdpdGggZm9ybUluZGV4IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLmZvcm1JbmRleCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kTG9naW5PcC5mb3Jtc1tpXS5pZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIpXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuYWxsTWF0Y2hpbmdMb2dpbnNbdl0gPSBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpcnN0TWF0Y2hQcm9jZXNzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBiZXN0IGVudHJ5IGZvciB0aGlzIGZvcm1cbiAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV0uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIGlmIChjLnJlbGV2YW5jZVNjb3JlID4gbWF0Y2hSZXN1bHQuZm9ybVJlbGV2YW5jZVNjb3Jlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzW2ldID0gYy5yZWxldmFuY2VTY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgXCJSZWxldmFuY2Ugb2YgZm9ybSBcIiArXG4gICAgICAgICAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgICAgICAgICBcIiAoXCIgK1xuICAgICAgICAgICAgICAgICAgICBmaW5kTG9naW5PcC5mb3Jtc1tpXS5pZCArXG4gICAgICAgICAgICAgICAgICAgIFwiKSBpcyBcIiArXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXNbaV1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoUmVzdWx0O1xuICAgIH1cblxuICAgIGdldE1vc3RSZWxldmFudEZvcm0oZm9ybUluZGV4PzogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGZpbmRNYXRjaGVzUmVzdWx0ID0gdGhpcy5tYXRjaFJlc3VsdDtcblxuICAgICAgICAvLyBUaGVyZSBtYXkgYmUgbm8gcmVzdWx0cyBmb3IgdGhpcyBmcmFtZSAoZS5nLiBubyBmb3JtcyBmb3VuZCwgc2VhcmNoIGZhaWxlZCwgZXRjLilcbiAgICAgICAgaWYgKCFmaW5kTWF0Y2hlc1Jlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBiZXN0Rm9ybUluZGV4OiAwLFxuICAgICAgICAgICAgICAgIGJlc3RSZWxldmFuY2VTY29yZTogMCxcbiAgICAgICAgICAgICAgICBiZXN0RmluZE1hdGNoZXNSZXN1bHQ6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtb3N0UmVsZXZhbnRGb3JtSW5kZXggPSAwO1xuXG4gICAgICAgIGlmIChmb3JtSW5kZXggPj0gMCkgbW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gZm9ybUluZGV4O1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpbmRNYXRjaGVzUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXMuZm9yRWFjaCgoYywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlJlbGV2YW5jZSBvZiBmb3JtIGlzIFwiICsgYyk7XG4gICAgICAgICAgICAgICAgaWYgKGMgPiBmaW5kTWF0Y2hlc1Jlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzW21vc3RSZWxldmFudEZvcm1JbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgbW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlRoZSBtb3N0IHJlbGV2YW50IGZvcm0gaXMgI1wiICsgbW9zdFJlbGV2YW50Rm9ybUluZGV4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJlc3RGb3JtSW5kZXg6IG1vc3RSZWxldmFudEZvcm1JbmRleCxcbiAgICAgICAgICAgIGJlc3RSZWxldmFuY2VTY29yZTogZmluZE1hdGNoZXNSZXN1bHQuZm9ybVJlbGV2YW5jZVNjb3Jlc1ttb3N0UmVsZXZhbnRGb3JtSW5kZXhdLFxuICAgICAgICAgICAgYmVzdEZpbmRNYXRjaGVzUmVzdWx0OiBmaW5kTWF0Y2hlc1Jlc3VsdFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGF1dG9tYXRlZCBjb3VsZCBiZSBvbiBwYWdlIGxvYWQgb3IgcmVzdWx0aW5nIGZyb20gb3RoZXIgbm9uLXVzZXItaW50ZXJhY3Rpb24uXG4gICAgLy8gSXQncyBwb3NzaWJsZSB0byBmaWxsIGFuZCBzdWJtaXQgYSBlbnRyeSB3aXRoIGEgc3BlY2lmaWMgdXVpZCBidXRcbiAgICAvLyB0aGF0IHByb2Nlc3MgaXMgbm93IGNlbnRlcmVkIG9uIHRoZSBmaW5kTWF0Y2hlcyBmdW5jdGlvbi4gVGhpcyBmdW5jdGlvbiBqdXN0XG4gICAgLy8gdGFrZXMgdGhlIHJlc3VsdHMgb2YgdGhhdCAod2hpY2ggbWF5IGluY2x1ZGUgYSBzcGVjaWZpYyBlbnRyeSB0byBmaWxsIGFuZCBzdWJtaXQgdG8gYSBzcGVjaWZpYyBmb3JtKVxuICAgIGZpbGxBbmRTdWJtaXQoYXV0b21hdGVkOiBib29sZWFuLCBmb3JtSW5kZXg/OiBudW1iZXIsIGVudHJ5SW5kZXg/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICBcImZpbGxBbmRTdWJtaXQgc3RhcnRlZC4gYXV0b21hdGVkOiBcIiArXG4gICAgICAgICAgICAgICAgYXV0b21hdGVkICtcbiAgICAgICAgICAgICAgICBcIiwgZm9ybUluZGV4OiBcIiArXG4gICAgICAgICAgICAgICAgZm9ybUluZGV4ICtcbiAgICAgICAgICAgICAgICBcIiwgZW50cnlJbmRleDogXCIgK1xuICAgICAgICAgICAgICAgIGVudHJ5SW5kZXhcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHRoaXMubWF0Y2hSZXN1bHQ7XG4gICAgICAgIGxldCBzdWJtaXRUYXJnZXROZWlnaGJvdXI7XG5cbiAgICAgICAgLy8gR2l2ZSB1cCBpZiB3ZSBoYXZlIG5vIHJlc3VsdHMgZm9yIHRoaXMgZnJhbWUgKGkuZS4gdGhlcmUgd2VyZSBubyBmb3JtcyB0byBmaWxsKVxuICAgICAgICBpZiAoIW1hdGNoUmVzdWx0KSByZXR1cm47XG5cbiAgICAgICAgLy8gV2UgZG8gc29tZSB0aGluZ3MgZGlmZmVyZW50bHkgaWYgd2UncmUgYmVpbmcgbWFudWFsbHkgYXNrZWQgdG8gZmlsbCBhbmRcbiAgICAgICAgLy8gc3VibWl0IGEgc3BlY2lmaWMgbWF0Y2hlZCBlbnRyeVxuICAgICAgICBjb25zdCBpc01hdGNoZWRMb2dpblJlcXVlc3QgPVxuICAgICAgICAgICAgIWF1dG9tYXRlZCAmJlxuICAgICAgICAgICAgKChtYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggPj0gMCkgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZm9ybUluZGV4ICE9IFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAgICAgICB0eXBlb2YgZW50cnlJbmRleCAhPSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICAgIGlmICghaXNNYXRjaGVkTG9naW5SZXF1ZXN0KSB7XG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggPSB0aGlzLmdldE1vc3RSZWxldmFudEZvcm0oKS5iZXN0Rm9ybUluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3VwcGxpZWQgZm9ybUlEIG92ZXJyaWRlcyBhbnkgdGhhdCB3ZSBqdXN0IGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCBhYm92ZVxuICAgICAgICBpZiAoZm9ybUluZGV4ICE9PSBudWxsICYmIGZvcm1JbmRleCA+PSAwKSBtYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggPSBmb3JtSW5kZXg7XG5cbiAgICAgICAgLy8gZnJvbSBub3cgb24gd2UgY29uY2VudHJhdGUgb24ganVzdCB0aGUgbW9zdCByZWxldmFudCBmb3JtIGFuZCB0aGUgZmllbGRzIHdlIGZvdW5kIGVhcmxpZXJcbiAgICAgICAgY29uc3QgZm9ybSA9IG1hdGNoUmVzdWx0LmZvcm1zW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF07XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkRmllbGRzID0gbWF0Y2hSZXN1bHQucGFzc3dvcmRGaWVsZHNBcnJheVttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdO1xuICAgICAgICBjb25zdCBvdGhlckZpZWxkcyA9IG1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXlbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XTtcblxuICAgICAgICBjb25zdCBvcmRlcmVkRW50cmllcyA9IHRoaXMuc29ydE1hdGNoZWRFbnRyaWVzKFxuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2UgPSB0aGlzLmZsYWdVc2VyUHJlZmVycmVkRW50cnkob3JkZXJlZEVudHJpZXMpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc01hdGNoZWRMb2dpblJlcXVlc3QgJiZcbiAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5teVBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGVudHJpZXM6IG9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2VcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBHaXZlIHRoZSB1c2VyIGEgd2F5IHRvIGNob29zZSBhbiBlbnRyeSBpbnRlcmFjdGl2ZWx5XG4gICAgICAgICAgICB0aGlzLmtlZUZpZWxkSWNvbi5hZGRLZWVJY29uVG9GaWVsZHMoXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRGaWVsZHMsXG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHMsXG4gICAgICAgICAgICAgICAgb3JkZXJlZEVudHJpZXNXaXRoUHJlZmVyZW5jZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoaXMgcmVjb3JkcyB0aGUgZW50cnkgdGhhdCB3ZSBldmVudHVhbGx5IGNob29zZSBhcyB0aGUgb25lIHRvIGZpbGwgdGhlIGNob3NlbiBmb3JtIHdpdGhcbiAgICAgICAgbGV0IG1hdGNoaW5nTG9naW46IEVudHJ5ID0gbnVsbDtcbiAgICAgICAgbGV0IGFjdGlvbjogRmlsbEFuZFN1Ym1pdEFjdGlvbiA9IHsgZmlsbDogZmFsc2UsIHN1Ym1pdDogZmFsc2UgfTtcbiAgICAgICAgbGV0IG11bHRpcGxlTWF0Y2hlcyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIElmIHdlIHN0YXJ0ZWQgdGhpcyBmaWxsL3N1Ym1pdCBhdHRlbXB0IGZyb20gY2VydGFpbiBjb250ZXh0cywgd2Ugd2lsbCBoYXZlXG4gICAgICAgIC8vIGJlZW4gdG9sZCB0byBlbnN1cmUgd2UgZG8gbm90IHBlcmZvcm0gYXV0by1maWxsIG9yIHN1Ym1pdCBhbmQgd2UnbGwgaW5zdGVhZFxuICAgICAgICAvLyBqdXN0IHRlbGwgdGhlIFVJIHRvIG5vdGlmeSB0aGUgdXNlciBhYm91dCBhbnkgbWF0Y2hlcyB3ZSBmb3VuZC4gQWx0aG91Z2hcbiAgICAgICAgLy8gd2UgaWdub3JlIHRoaXMgcnVsZSBpZiB0aGUgdXNlciBpbml0aWF0ZWQgdGhlIGZpbGwvc3VibWl0LlxuICAgICAgICBtYXRjaFJlc3VsdC5jYW5ub3RBdXRvRmlsbEZvcm0gPSBmYWxzZTtcbiAgICAgICAgbWF0Y2hSZXN1bHQuY2Fubm90QXV0b1N1Ym1pdEZvcm0gPSBmYWxzZTtcblxuICAgICAgICBpZiAoYXV0b21hdGVkICYmIG1hdGNoUmVzdWx0LmF1dG9maWxsT25TdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuY2Fubm90QXV0b0ZpbGxGb3JtID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0b21hdGVkICYmIG1hdGNoUmVzdWx0LmF1dG9zdWJtaXRPblN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5jYW5ub3RBdXRvU3VibWl0Rm9ybSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBObyBwb2ludCBsb29raW5nIGF0IGVudHJ5IHNwZWNpZmljIHByZWZlcmVuY2VzIGlmIHdlIGFyZSBub3QgYWxsb3dlZCB0byBhdXRvLWZpbGxcbiAgICAgICAgaWYgKCFtYXRjaFJlc3VsdC5jYW5ub3RBdXRvRmlsbEZvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiV2UgYXJlIGFsbG93ZWQgdG8gYXV0by1maWxsIHRoaXMgZm9ybS5cIik7XG5cbiAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGJlZW4gaW5zdHJ1Y3RlZCB0byBmaWxsIGEgc3BlY2lmaWMgZW50cnksIHdlIG5lZWQgdG8gc2VsZWN0IHRoYXRcbiAgICAgICAgICAgIC8vIGVudHJ5IGFuZCBjbGVhciBhbnkgcHJldmlvdXNseSBzZXQgaW5mb3JtYXRpb24gYWJvdXQgYW4gYXV0by1maWxsZWQgZW50cnlcbiAgICAgICAgICAgIC8vIHNvIGl0IGNhbiBiZSBzZXQgY29ycmVjdGx5IGxhdGVyXG4gICAgICAgICAgICBpZiAoZW50cnlJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9IG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XVtlbnRyeUluZGV4XTtcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEID0gbnVsbDtcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5kYkZpbGVOYW1lID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNoZWNrTWF0Y2hpbmdMb2dpblJlbGV2YW5jZVRocmVzaG9sZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4gPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGggPT0gMVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9IG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XVswXTtcbiAgICAgICAgICAgICAgICBjaGVja01hdGNoaW5nTG9naW5SZWxldmFuY2VUaHJlc2hvbGQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEICE9IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgIT0gXCJcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB0aGUgcmVsZXZhbmNlIHRlc3RzIGlmIHdlIGhhdmUgYmVlbiB0b2xkIHRvIHVzZSBhIHNwZWNpZmljIFVVSURcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJXZSd2ZSBiZWVuIHRvbGQgdG8gdXNlIGFuIGVudHJ5IHdpdGggdGhpcyBVVUlEOiBcIiArIG1hdGNoUmVzdWx0LlVVSURcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50IDwgbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY291bnQrK1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF1bY291bnRdLnV1aWQgPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSURcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF1bY291bnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nTG9naW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb3VsZCBub3QgZmluZCB0aGUgcmVxdWlyZWQgS2VlUGFzcyBlbnRyeS4gTWF5YmUgdGhlIHdlYnNpdGUgcmVkaXJlY3RlZCB5b3UgdG8gYSBkaWZmZXJlbnQgZG9tYWluIG9yIGhvc3RuYW1lP1wiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAoIW1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XSB8fFxuICAgICAgICAgICAgICAgICAgICAhbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdLmxlbmd0aClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTm8gZW50cmllcyBmb3IgZm9ybS5cIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoaW5nTG9naW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIk11bHRpcGxlIGVudHJpZXMgZm9yIGZvcm0sIHNvIHVzaW5nIHByZWZlcnJlZCBvciBtb3N0IHJlbGV2YW50LlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID1cbiAgICAgICAgICAgICAgICAgICAgb3JkZXJlZEVudHJpZXNXaXRoUHJlZmVyZW5jZS5maW5kKGUgPT4gZS5pc1ByZWZlcnJlZE1hdGNoKSB8fFxuICAgICAgICAgICAgICAgICAgICBvcmRlcmVkRW50cmllc1dpdGhQcmVmZXJlbmNlWzBdO1xuICAgICAgICAgICAgICAgIG11bHRpcGxlTWF0Y2hlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2hlY2tNYXRjaGluZ0xvZ2luUmVsZXZhbmNlVGhyZXNob2xkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF1dG9tYXRlZCAmJiBjaGVja01hdGNoaW5nTG9naW5SZWxldmFuY2VUaHJlc2hvbGQgJiYgbWF0Y2hpbmdMb2dpbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nTG9naW4ucmVsZXZhbmNlU2NvcmUgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk91ciBzZWxlY3RlZCBlbnRyeSBpcyBub3QgcmVsZXZhbnQgZW5vdWdoIHRvIGV4Y2VlZCBvdXIgdGhyZXNob2xkIHNvIHdpbGwgbm90IGJlIGF1dG8tZmlsbGVkLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4gPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hpbmdMb2dpbi5sb3dGaWVsZE1hdGNoUmF0aW8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiT3VyIHNlbGVjdGVkIGVudHJ5IGhhcyBhIGxvdyBmaWVsZCBtYXRjaCByYXRpbyBzbyB3aWxsIG5vdCBiZSBhdXRvLWZpbGxlZC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL1RPRE86NDogIzYgbXVsdGktcGFnZVxuICAgICAgICAgICAgICAgIC8vIC8vIHJlY29yZCAvIHVwZGF0ZSB0aGUgaW5mbyBhdHRhY2hlZCB0byB0aGlzIHRhYiByZWdhcmRpbmdcbiAgICAgICAgICAgICAgICAvLyAvLyB0aGUgbnVtYmVyIG9mIHBhZ2VzIG9mIGZvcm1zIHdlIHdhbnQgdG8gZmlsbCBpblxuICAgICAgICAgICAgICAgIC8vIC8vIE5COiB3ZSBkbyB0aGlzIGV2ZW4gaWYgd2Uga25vdyB0aGlzIGlzIGEgc2luZ2xlIGZvcm1cbiAgICAgICAgICAgICAgICAvLyAvLyBzdWJtaXNzaW9uIGJlY2F1YXNlIHRoZW4gaWYgdGhlIHVzZXIgZ2V0cyBkdW1wZWRcbiAgICAgICAgICAgICAgICAvLyAvLyBiYWNrIHRvIHRoZSBmb3JtIChwYXNzd29yZCBlcnJvcj8pIHRoZW4gd2Uga25vdyBub3RcbiAgICAgICAgICAgICAgICAvLyAvLyB0byBhdXRvLXN1Ym1pdCBhZ2FpbiAodG8gYXZvaWQgZ2V0dGluZyBzdHVjayBpbiBhIGxvb3ApXG5cbiAgICAgICAgICAgICAgICAvLyBpZiAodGFiU3RhdGUuY3VycmVudFBhZ2UgPiB0YWJTdGF0ZS5tYXhpbXVtUGFnZSlcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIEkgZG9uJ3QgdGhpbmsgdGhpcyBzaG91bGQgZXZlciBoYXBwZW4gYmVjYXVzZSBpdCdzIHJlc2V0IG9uRm9ybVN1Ym1pdFxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBiZWZvcmUgdGhpcyBwYWdlIGhhcyBsb2FkZWQuXG5cbiAgICAgICAgICAgICAgICAvLyAgICAgdGFiU3RhdGUuY3VycmVudFBhZ2UgPSAwO1xuICAgICAgICAgICAgICAgIC8vICAgICB0YWJTdGF0ZS5tYXhpbXVtUGFnZSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gICAgIHRhYlN0YXRlLmZvcmNlQXV0b1N1Ym1pdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgLy8gICAgIG1hdGNoUmVzdWx0LmNhbm5vdEF1dG9TdWJtaXRGb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIkV4Y2VlZGVkIGV4cGVjdGVkIG51bWJlciBvZiBwYWdlcyBkdXJpbmcgdGhpcyBmb3JtLWZpbGxpbmcgc2Vzc2lvbi4gTm90IGF1dG8tc3VibWl0aW5nIHRoaXMgZm9ybS5cIik7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgLy8gLy8gSWYgdGhlIHVzZXIgbWFudWFsbHkgcmVxdWVzdGVkIHRoaXMgdG8gYmUgZmlsbGVkIGluIG9yIHRoZSBjdXJyZW50IHBhZ2UgaXMgdW5rbm93blxuICAgICAgICAgICAgICAgIC8vIGlmICghYXV0b21hdGVkKS8vVE9ETzo0OiAjNiBtdWx0aS1wYWdlIHx8IHRhYlN0YXRlLmN1cnJlbnRQYWdlIDw9IDApXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgICBsZXQgbWF4aW11bVBhZ2VDb3VudCA9IDE7XG4gICAgICAgICAgICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hpbmdMb2dpbi5wYXNzd29yZHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgLy8gICAgIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnN0IHBhc3NGaWVsZCA9IG1hdGNoaW5nTG9naW4ucGFzc3dvcmRzW2ldO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKHBhc3NGaWVsZC5mb3JtRmllbGRQYWdlID4gbWF4aW11bVBhZ2VDb3VudClcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtYXhpbXVtUGFnZUNvdW50ID0gcGFzc0ZpZWxkLmZvcm1GaWVsZFBhZ2U7XG4gICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaGluZ0xvZ2luLm90aGVyRmllbGRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjb25zdCBvdGhlckZpZWxkID0gbWF0Y2hpbmdMb2dpbi5vdGhlckZpZWxkc1tpXTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChvdGhlckZpZWxkLmZvcm1GaWVsZFBhZ2UgPiBtYXhpbXVtUGFnZUNvdW50KVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1heGltdW1QYWdlQ291bnQgPSBvdGhlckZpZWxkLmZvcm1GaWVsZFBhZ2U7XG4gICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgICAgLy9UT0RPOjQ6ICM2OiBtdWx0aS1wYWdlXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIC8vIGFsd2F5cyBhc3N1bWUgcGFnZSAxICh2ZXJ5IHJhcmUgY2FzZXMgd2lsbCBnbyB3cm9uZyAtIHNlZSBnaXRodWIgS2VlRm94ICM0MTEgZm9yIHJlbGV2YW50IGVuaGFuY2VtZW50IHJlcXVlc3QpXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIC8vIFBvc3NpYmxlIHJlZ3Jlc3Npb24gc2luY2UgdjEuNDogV2UgdXNlZCB0byBpZ25vcmUgY3VycmVudFBhZ2UgZW50aXJlbHkgZm9yIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgIC8vICAgICAvLyAvLyBwYWdlIG9mIGEgc3VibWlzc2lvbiwgbm93IHdlIG1pZ2h0IHRyeSB0byBnaXZlIHByZWZlcmVuY2UgdG8gcGFnZSAxIGZpZWxkcyAodGhvdWdoIHRvdGFsXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIC8vIHJlbGV2YW5jZSBzY29yZSBzaG91bGRuJ3QgYmUgc2hpZnRlZCBieSBlbm91Z2ggdG8gYWZmZWN0IG90aGVyd2lzZSB3ZWxsLW1hdGNoZWQgZmllbGRzKVxuICAgICAgICAgICAgICAgIC8vICAgICAvLyB0YWJTdGF0ZS5jdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIHRhYlN0YXRlLm1heGltdW1QYWdlID0gbWF4aW11bVBhZ2VDb3VudDtcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJjdXJyZW50UGFnZSBpczogXCIgKyB0YWJTdGF0ZS5jdXJyZW50UGFnZSk7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwibWF4aW11bVBhZ2UgaXM6IFwiICsgdGFiU3RhdGUubWF4aW11bVBhZ2UpO1xuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgYXV0by1maWxsIGJlaGF2aW91ciBkZXBlbmRzIHVwb24gd2hldGhlciB0aGlzIGlzIGF1dG9tYXRpYyBvclxuICAgICAgICAgICAgICAgIC8vIG1hbnVhbCwgdGhlIGNvcnJlc3BvbmRpbmcgdXNlciBcImF1dG9tYXRpY1wiIG9wdGlvbiwgaWYgdGhlcmUgYXJlIG9uZSBvciBtYW55IG1hdGNoZXNcbiAgICAgICAgICAgICAgICAvLyBhbmQgdGhlIHVzZXIgb3B0aW9uIHRvIHByZXZlbnQgYXV0b21hdGljIGZpbGwgZHVlIHRvIG11bHRpcGxlIG1hdGNoZXNcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRvRmlsbEVuYWJsZWQgPVxuICAgICAgICAgICAgICAgICAgICBpc01hdGNoZWRMb2dpblJlcXVlc3QgfHxcbiAgICAgICAgICAgICAgICAgICAgKGF1dG9tYXRlZCAmJiBtdWx0aXBsZU1hdGNoZXMgJiYgIXRoaXMuY29uZmlnLmF1dG9GaWxsRm9ybXNXaXRoTXVsdGlwbGVNYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY29uZmlnLmF1dG9GaWxsRm9ybXMpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBhdXRvLXN1Ym1pdCBiZWhhdmlvdXIgZGVwZW5kcyB1cG9uIHdoZXRoZXIgdGhpcyBpcyBhdXRvbWF0aWMgb3IgbWFudWFsIGFuZCB0aGUgY29ycmVzcG9uZGluZyB1c2VyIG9wdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9TdWJtaXRFbmFibGVkID0gaXNNYXRjaGVkTG9naW5SZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5jb25maWcuYXV0b1N1Ym1pdE1hdGNoZWRGb3Jtc1xuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY29uZmlnLmF1dG9TdWJtaXRGb3JtcztcblxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IHsgZmlsbDogYXV0b0ZpbGxFbmFibGVkLCBzdWJtaXQ6IGF1dG9TdWJtaXRFbmFibGVkIH07XG5cbiAgICAgICAgICAgICAgICAvLyBPdmVycmlkZSBmaWxsIHByZWZlcmVuY2VzIGZyb20gcGVyLWVudHJ5IGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgIC8vIHVubGVzcyB1c2VyIGV4cGxpY2l0eSBzZWxlY3RlZCB0aGUgbWF0Y2hlZCBlbnRyeVxuICAgICAgICAgICAgICAgIGlmICghaXNNYXRjaGVkTG9naW5SZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLmFsd2F5c0F1dG9GaWxsKSBhY3Rpb24uZmlsbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLm5ldmVyQXV0b0ZpbGwpIGFjdGlvbi5maWxsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgc3VibWl0IHByZWZlcmVuY2VzIGZyb20gcGVyLWVudHJ5IGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgIGlmICghaXNNYXRjaGVkTG9naW5SZXF1ZXN0IHx8ICF0aGlzLmNvbmZpZy5tYW51YWxTdWJtaXRPdmVycmlkZVByb2hpYml0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nTG9naW4uYWx3YXlzQXV0b1N1Ym1pdCkgYWN0aW9uLnN1Ym1pdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLm5ldmVyQXV0b1N1Ym1pdCkgYWN0aW9uLnN1Ym1pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZmlsbCB8fCBtYXRjaFJlc3VsdC5tdXN0QXV0b0ZpbGxGb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiR29pbmcgdG8gYXV0by1maWxsIGEgZm9ybVwiKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN0b3JlLktlZVBhc3NEYXRhYmFzZXMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiID0+IGRiLmZpbGVOYW1lID09PSBtYXRjaGluZ0xvZ2luLmRhdGFiYXNlLmZpbGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICkuc2Vzc2lvbkZlYXR1cmVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29yZUNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVuaXNoV3JvbmdJREFuZE5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMuaW5kZXhPZihcIktQUlBDX0ZJRUxEX0RFRkFVTFRfTkFNRV9BTkRfSURfRU1QVFlcIikgPj0gMFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0RmlsbGVkT3RoZXIgPSB0aGlzLmZpbGxNYW55Rm9ybUZpZWxkcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbi5maWVsZHMuZmlsdGVyKGYgPT4gZi50eXBlICE9PSBcInBhc3N3b3JkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29yZUNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9tYXRlZFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0RmlsbGVkUGFzc3dvcmRzID0gdGhpcy5maWxsTWFueUZvcm1GaWVsZHMoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZEZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4uZmllbGRzLmZpbHRlcihmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVDb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZm9ybVJlYWR5Rm9yU3VibWl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQubGFzdEZpbGxlZFBhc3N3b3JkcyA9IGxhc3RGaWxsZWRQYXNzd29yZHM7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0Lmxhc3RGaWxsZWRPdGhlciA9IGxhc3RGaWxsZWRPdGhlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RGaWxsZWRQYXNzd29yZHMgJiYgbGFzdEZpbGxlZFBhc3N3b3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRUYXJnZXROZWlnaGJvdXIgPSBsYXN0RmlsbGVkUGFzc3dvcmRzWzBdLkRPTWVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdEZpbGxlZE90aGVyICYmIGxhc3RGaWxsZWRPdGhlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRUYXJnZXROZWlnaGJvdXIgPSBsYXN0RmlsbGVkT3RoZXJbMF0uRE9NZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1TYXZpbmcudXBkYXRlTWF0Y2hSZXN1bHQobWF0Y2hSZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIG9ubHkgZG8gdGhpcyBpZiBhbnkgZm9ybXMgd2VyZSBhdXRvLWZpbGxlZCBzdWNjZXNzZnVsbHlcbiAgICAgICAgaWYgKG1hdGNoUmVzdWx0LmZvcm1SZWFkeUZvclN1Ym1pdCkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZGlkbid0IGFscmVhZHkgZGVmaW5lIGEgdXVpZCwgd2Ugc2V0IGl0IHVwIG5vd1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuVVVJRCA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuVVVJRCA9PSBcIlwiXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlN5bmNpbmcgVVVJRCB0bzogXCIgKyBtYXRjaGluZ0xvZ2luLnV1aWQpO1xuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgPSBtYXRjaGluZ0xvZ2luLnV1aWQ7XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZGJGaWxlTmFtZSA9IG1hdGNoaW5nTG9naW4uZGF0YWJhc2UuZmlsZU5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGlzIGZvcm0gZmlsbCBpcyB0aGUgbm9uLWZpbmFsIHBhZ2Ugb2YgYSBtdWx0aS1wYWdlIGxvZ2luIHByb2Nlc3Mgd2UgcmVjb3JkIHRoZVxuICAgICAgICAvLyBVVUlEIGFuZCBkYkZpbGVuYW1lLiBXZSBhbHNvIGVuYWJsZSBhdXRvLXN1Ym1pdCBpbiBzb21lIGNpcmN1bXN0YW5jZXNcbiAgICAgICAgLy9UT0RPOjQ6ICM2OiBtdWx0aS1wYWdlXG4gICAgICAgIC8vIGlmIChtYXRjaFJlc3VsdC5VVUlEICE9IHVuZGVmaW5lZCAmJiBtYXRjaFJlc3VsdC5VVUlEICE9IG51bGwgJiYgbWF0Y2hSZXN1bHQuVVVJRCAhPSBcIlwiKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICBpZiAodGFiU3RhdGUuY3VycmVudFBhZ2UgPiAwICYmIHRhYlN0YXRlLmN1cnJlbnRQYWdlIDwgdGFiU3RhdGUubWF4aW11bVBhZ2UpXG4gICAgICAgIC8vICAgICB7XG4gICAgICAgIC8vICAgICAgICAgaWYgKG1hdGNoUmVzdWx0LlVVSUQpXG4gICAgICAgIC8vICAgICAgICAge1xuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgVVVJRCB0bzogXCIgKyBtYXRjaFJlc3VsdC5VVUlEKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGFiU3RhdGUuVVVJRCA9IG1hdGNoUmVzdWx0LlVVSUQ7XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgIGlmIChtYXRjaFJlc3VsdC5kYkZpbGVOYW1lKVxuICAgICAgICAvLyAgICAgICAgIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTZXR0aW5nIGRiRmlsZU5hbWUgdG86IFwiICsgbWF0Y2hSZXN1bHQuZGJGaWxlTmFtZSk7XG4gICAgICAgIC8vICAgICAgICAgICAgIHRhYlN0YXRlLmRiRmlsZU5hbWUgPSBtYXRjaFJlc3VsdC5kYkZpbGVOYW1lO1xuICAgICAgICAvLyAgICAgICAgIH1cblxuICAgICAgICAvLyAgICAgICAgIC8vIFdlIGZvcmNlIGF1dG8gc3VibWl0IGZvciBhbGwgbXVsdGktcGFnZSBlbnRyaWVzIHRoYXQgaGF2ZSBiZWVuIHRyaWdnZXJlZFxuICAgICAgICAvLyAgICAgICAgIC8vIGJ5IGEgb25lLWNsaWNrIG9yIG1hdGNoZWQgbG9naW4gdXNlciBzZWxlY3Rpb24sIHByb3ZpZGVkIHRoYXQgb3BlcmF0aW9uXG4gICAgICAgIC8vICAgICAgICAgLy8gaGFzIG5vdCBhbHJlYWR5IGJlZW4gbWFya2VkIGNvbXBsZXRlIGJ5IHRoZSBvbkZvcm1TdWJtaXRIYW5kbGVyIGluIGZvcm1zU2F2ZVRhYi5qc1xuICAgICAgICAvLyAgICAgICAgIGlmICh0YWJTdGF0ZS51c2VyUmVjZW50bHlEZW1hbmRlZEF1dG9TdWJtaXQpXG4gICAgICAgIC8vICAgICAgICAge1xuICAgICAgICAvLyAgICAgICAgICAgICB0YWJTdGF0ZS5mb3JjZUF1dG9TdWJtaXQgPSB0cnVlO1xuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlNldCBmb3JjZUF1dG9TdWJtaXQgdG86IHRydWVcIik7XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW1hdGNoUmVzdWx0LmNhbm5vdEF1dG9TdWJtaXRGb3JtICYmXG4gICAgICAgICAgICAoYWN0aW9uLnN1Ym1pdCB8fCBtYXRjaFJlc3VsdC5tdXN0QXV0b1N1Ym1pdEZvcm0pICYmXG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5mb3JtUmVhZHlGb3JTdWJtaXRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiQXV0by1zdWJtaXR0aW5nIGZvcm0uLi5cIik7XG4gICAgICAgICAgICB0aGlzLnN1Ym1pdEZvcm0oZm9ybSwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoZWRMb2dpblJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTWF0Y2hlZCBlbnRyeSByZXF1ZXN0IGlzIG5vdCBiZWluZyBhdXRvLXN1Ym1pdHRlZC5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXRjaFJlc3VsdC5hbGxNYXRjaGluZ0xvZ2lucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1dG9tYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkF1dG9tYXRpYyBmb3JtIGZpbGwgY29tcGxldGUuXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTWFudWFsIGZvcm0gZmlsbCBjb21wbGV0ZS5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiTm90aGluZyB0byBmaWxsLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNvcnRNYXRjaGVkRW50cmllcyhlbnRyaWVzOiBFbnRyeVtdKTogRW50cnlbXSB7XG4gICAgICAgIHJldHVybiBlbnRyaWVzXG4gICAgICAgICAgICAubWFwKGUgPT4gbmV3IEVudHJ5KHsgLi4uZSB9KSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnJlbGV2YW5jZVNjb3JlIC0gYS5yZWxldmFuY2VTY29yZSk7XG4gICAgfVxuXG4gICAgZmxhZ1VzZXJQcmVmZXJyZWRFbnRyeShvcmRlcmVkRW50cmllczogRW50cnlbXSk6IEVudHJ5W10ge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5kb2N1bWVudC5VUkwpO1xuICAgICAgICB1cmwuaG9zdG5hbWUgPSBwdW55Y29kZS50b1VuaWNvZGUodXJsLmhvc3RuYW1lKTtcbiAgICAgICAgY29uc3QgY29uZiA9IGNvbmZpZ01hbmFnZXIuc2l0ZUNvbmZpZ0Zvcih1cmwuaHJlZik7XG4gICAgICAgIHJldHVybiBvcmRlcmVkRW50cmllcy5tYXAoXG4gICAgICAgICAgICBlID0+XG4gICAgICAgICAgICAgICAgbmV3IEVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZSxcbiAgICAgICAgICAgICAgICAgICAgaXNQcmVmZXJyZWRNYXRjaDogY29uZi5wcmVmZXJyZWRFbnRyeVV1aWQgPT09IGUudXVpZCA/IHRydWUgOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kU3VibWl0QnV0dG9uKGZvcm06IEhUTUxGb3JtRWxlbWVudCwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjYW5kaWRhdGVzOiBTdWJtaXRDYW5kaWRhdGVbXSA9IFtdO1xuICAgICAgICBjb25zdCBESVNUQU5DRV9NQVhfU0NPUkUgPSAxMDA7XG4gICAgICAgIGNvbnN0IERJU1RBTkNFX0RJRkZFUkVOQ0VfRkFDVE9SID0gMjA7XG4gICAgICAgIGNvbnN0IFZJU0lCTEVfU0NPUkUgPSA2MDtcbiAgICAgICAgY29uc3QgQ0FUX0JVVFRPTklORk9STV9TQ09SRSA9IDYwO1xuICAgICAgICBjb25zdCBDQVRfU1VCTUlUSU5QVVRJTkZPUk1fU0NPUkUgPSA1MDtcbiAgICAgICAgY29uc3QgQ0FUX0JVVFRPTk9VVFNJREVGT1JNX1NDT1JFID0gNDA7XG4gICAgICAgIGNvbnN0IENBVF9JTUFHRUlOUFVUSU5GT1JNX1NDT1JFID0gNDA7XG4gICAgICAgIGNvbnN0IENBVF9CVVRUT05JTlBVVElORk9STV9TQ09SRSA9IDMwO1xuICAgICAgICBjb25zdCBDQVRfQlVUVE9OUk9MRUlORk9STV9TQ09SRSA9IDIwO1xuICAgICAgICBjb25zdCBDQVRfQlVUVE9OUk9MRU9VVFNJREVGT1JNX1NDT1JFID0gMTA7XG4gICAgICAgIGxldCBtaW5TY29yZVRvV2luID0gMDtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VDYWxjID0gKHYsIHQpID0+IHRoaXMuY29tbW9uQW5jZXN0b3JEaXN0YW5jZSh2LCB0LCBkaXN0YW5jZU1hcCk7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlTWFwID0gbmV3IE1hcDxOb2RlLCBudW1iZXI+KCk7XG4gICAgICAgIGNvbnN0IGZVdGlscyA9IHRoaXMuZm9ybVV0aWxzO1xuXG4gICAgICAgIGZ1bmN0aW9uIHZlcmlmeVBvdGVudGlhbENhbmRpZGF0ZSh2YWx1ZTogSFRNTEVsZW1lbnQsIHNjb3JlOiBudW1iZXIpIHtcbiAgICAgICAgICAgIC8vIGFib3J0IGVhcmx5IGlmIHdlIGNhbid0IHdpbiBldmVuIHdpdGggYSBwZXJmZWN0IHZpc2liaWxpdHkgYW5kIGRpc3RhbmNlIHNjb3JlXG4gICAgICAgICAgICBpZiAobWluU2NvcmVUb1dpbiA+IHNjb3JlICsgVklTSUJMRV9TQ09SRSArIERJU1RBTkNFX01BWF9TQ09SRSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBpc1Zpc2libGUgPSBmVXRpbHMuaXNET01FbGVtZW50VmlzaWJsZSh2YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIFNvbWUgZm9ybXMgYXJlIGhpZGRlbiAoZS5nLiBUd2l0dGVyKSBhbmQgc2ltcGx5IHJldmVhbGVkIHRvIHRoZSB1c2VyIGF0IGEgbGF0ZXIgdGltZVxuICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlIHNob3VsZCBvbmx5IHB1bmlzaCBiYXNlZCBvbiB2aXNpYmlsaXR5IGlmIHRoZSBmb3JtIHN1Ym1pdFRhcmdldE5laWdoYm91ciBpcyB2aXNpYmxlLlxuICAgICAgICAgICAgaWYgKGlzVmlzaWJsZSB8fCAhZlV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUoc3VibWl0VGFyZ2V0TmVpZ2hib3VyKSkge1xuICAgICAgICAgICAgICAgIHNjb3JlICs9IFZJU0lCTEVfU0NPUkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFib3J0IGVhcmx5IGlmIHdlIGNhbid0IHdpbiBldmVuIHdpdGggYSBwZXJmZWN0IHZpc2liaWxpdHkgYW5kIGRpc3RhbmNlIHNjb3JlXG4gICAgICAgICAgICBpZiAobWluU2NvcmVUb1dpbiA+IHNjb3JlICsgRElTVEFOQ0VfTUFYX1NDT1JFKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGRpc3RhbmNlQ2FsYyh2YWx1ZSwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyKSxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBzY29yZTogc2NvcmVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtaW5TY29yZVRvV2luID0gc2NvcmU7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlQXJpYUxhYmVsVmFsdWVzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbHMgPSBbXTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikpIHtcbiAgICAgICAgICAgICAgICBsYWJlbHMucHVzaChlbGVtZW50LmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAgICAgLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiKVxuICAgICAgICAgICAgICAgID8udHJpbSgpXG4gICAgICAgICAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYWJlbEVsZW1lbnQgPSBmb3JtLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsRWxlbWVudCAmJiBsYWJlbEVsZW1lbnQuaW5uZXJUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzLnB1c2gobGFiZWxFbGVtZW50LmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gbGFiZWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIEluIEZpcmVmb3ggQXJyYXkuZnJvbS4uLmZvcmVhY2ggaXMgYWJvdXQgNTAlIGZhc3RlciB0aGFuIHRoZSBhbHRlcm5hdGl2ZSBpbiB0aGlzIGNvbW1lbnQgYmVsb3cuLi4gYnV0IDIwJSBzbG93ZXIgaW4gQ2hyb21lLlxuICAgICAgICAgICAgY29uc3QgYnV0dG9ucyA9IGZvcm0ub3duZXJEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJ1dHRvblwiKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaTxidXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBidXR0b25zW2ldO1xuICAgICAgICAgICAgICAgIC4uLlxuICAgICAgICAgICAgKi9cbiAgICAgICAgQXJyYXkuZnJvbShmb3JtLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJidXR0b25cIikpLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZS5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZS50eXBlIHx8IHZhbHVlLnR5cGUgIT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLm5hbWUpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudGV4dENvbnRlbnQpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhbHVlKSBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLnZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLnB1c2goLi4ucmVzb2x2ZUFyaWFMYWJlbFZhbHVlcyh2YWx1ZSkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgNTAsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzY29yZSArPVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5mb3JtICYmIHZhbHVlLmZvcm0gPT0gZm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBDQVRfQlVUVE9OSU5GT1JNX1NDT1JFXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENBVF9CVVRUT05PVVRTSURFRk9STV9TQ09SRTtcblxuICAgICAgICAgICAgICAgIHZlcmlmeVBvdGVudGlhbENhbmRpZGF0ZSh2YWx1ZSwgc2NvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBBcnJheS5mcm9tKGZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKSkuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlLmlzQ29ubmVjdGVkKSByZXR1cm47XG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlbWFudGljU2NvcmUgPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT0gXCJzdWJtaXRcIiB8fCB2YWx1ZS50eXBlID09IFwiYnV0dG9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljU2NvcmUgKz0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBOYW1lcyBhcmUgbW9yZSBpbXBvcnRhbnQgYnV0IHNvbWV0aW1lcyB0aGV5IGRvbid0IGV4aXN0IG9yIGFyZSByYW5kb21cbiAgICAgICAgICAgICAgICAgICAgLy8gc28gY2hlY2sgd2hhdCBpcyBhY3R1YWxseSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLnZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLnB1c2goLi4ucmVzb2x2ZUFyaWFMYWJlbFZhbHVlcyh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VtYW50aWNWYWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNTY29yZSArPSB0aGlzLnNjb3JlQWRqdXN0bWVudEZvck1hZ2ljV29yZHMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY1doaXRlbGlzdENhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNCbGFja2xpc3RDYWNoZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNTY29yZSArPSB0aGlzLnNjb3JlQWRqdXN0bWVudEZvck1hZ2ljV29yZHMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PSBcInN1Ym1pdFwiIHx8IHZhbHVlLnR5cGUgPT0gXCJidXR0b25cIiB8fCB2YWx1ZS50eXBlID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmUgPSBzZW1hbnRpY1Njb3JlO1xuICAgICAgICAgICAgICAgICAgICBzY29yZSArPVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudHlwZSA9PSBcImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBDQVRfQlVUVE9OSU5QVVRJTkZPUk1fU0NPUkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlLnR5cGUgPT0gXCJpbWFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBDQVRfSU1BR0VJTlBVVElORk9STV9TQ09SRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogQ0FUX1NVQk1JVElOUFVUSU5GT1JNX1NDT1JFO1xuICAgICAgICAgICAgICAgICAgICB2ZXJpZnlQb3RlbnRpYWxDYW5kaWRhdGUodmFsdWUsIHNjb3JlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEFycmF5LmZyb20oZm9ybS5vd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbcm9sZT1idXR0b25dOm5vdChidXR0b24pXCIpKS5mb3JFYWNoKFxuICAgICAgICAgICAgKHZhbHVlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlLmlzQ29ubmVjdGVkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgICAgICAvLyB0ZWNobmljYWxcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubmFtZSkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5pZCkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS5pZC50b0xvd2VyQ2FzZSgpKTtcblxuICAgICAgICAgICAgICAgIC8vIHVzZXIgdmlzaWJsZVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50aXRsZSkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS50aXRsZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5uZXJUZXh0KSBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuZGF0YVNldCAmJiB2YWx1ZS5kYXRhU2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmRhdGFTZXQudG9vbHRpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS5kYXRhU2V0LnRvb2x0aXAudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMucHVzaCguLi5yZXNvbHZlQXJpYUxhYmVsVmFsdWVzKHZhbHVlKSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgc2NvcmUgPSB0aGlzLnNjb3JlQWRqdXN0bWVudEZvck1hZ2ljV29yZHMoXG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICA1MCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY1doaXRlbGlzdENhY2hlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHNjb3JlICs9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLmZvcm0gJiYgdmFsdWUuZm9ybSA9PSBmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICA/IENBVF9CVVRUT05ST0xFSU5GT1JNX1NDT1JFXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENBVF9CVVRUT05ST0xFT1VUU0lERUZPUk1fU0NPUkU7XG4gICAgICAgICAgICAgICAgdmVyaWZ5UG90ZW50aWFsQ2FuZGlkYXRlKHZhbHVlLCBzY29yZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoIDw9IDApIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDEpIHJldHVybiBjYW5kaWRhdGVzWzBdLmVsZW1lbnQ7XG5cbiAgICAgICAgY29uc3Qgc3VibWl0RWxlbWVudHMgPSBjYW5kaWRhdGVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLmRpc3RhbmNlID4gYi5kaXN0YW5jZSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGEuZGlzdGFuY2UgPCBiLmRpc3RhbmNlKSByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBtYXhEaXN0YW5jZURpZmZlcmVuY2UgPVxuICAgICAgICAgICAgc3VibWl0RWxlbWVudHNbMF0uZGlzdGFuY2UgLSBzdWJtaXRFbGVtZW50c1tzdWJtaXRFbGVtZW50cy5sZW5ndGggLSAxXS5kaXN0YW5jZTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VTY29yZSA9IE1hdGgubWluKFxuICAgICAgICAgICAgRElTVEFOQ0VfTUFYX1NDT1JFLFxuICAgICAgICAgICAgRElTVEFOQ0VfRElGRkVSRU5DRV9GQUNUT1IgKiBtYXhEaXN0YW5jZURpZmZlcmVuY2VcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGRpc3RhbmNlRmFjdG9yID0gMSAvIHN1Ym1pdEVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgbGV0IGxhc3REaXN0YW5jZSA9IHN1Ym1pdEVsZW1lbnRzWzBdLmRpc3RhbmNlO1xuICAgICAgICBzdWJtaXRFbGVtZW50cy5mb3JFYWNoKChjYW5kaWRhdGUsIGluZGV4LCBlbGVtZW50cykgPT4ge1xuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZS5kaXN0YW5jZSA8IGxhc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlRmFjdG9yID0gKGluZGV4ICsgMSkgLyBlbGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGFzdERpc3RhbmNlID0gY2FuZGlkYXRlLmRpc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FuZGlkYXRlLnNjb3JlICs9IGRpc3RhbmNlRmFjdG9yICogZGlzdGFuY2VTY29yZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9UT0RPOjQ6IG1vcmUgYWNjdXJhdGUgc2VhcmNoaW5nIG9mIHN1Ym1pdCBidXR0b25zLCBldGMuIHRvIGF2b2lkIHBhc3N3b3JkIHJlc2V0cyBpZiBwb3NzaWJsZVxuICAgICAgICAvLyBtYXliZSBzcGVjaWFsIGNhc2VzIGZvciBjb21tb24gSFRNTCBvdXRwdXQgcGF0dGVybnMgKGUuZy4gamF2YXNjcmlwdC1vbmx5IEFTUC5ORVQgZm9ybXMpXG5cbiAgICAgICAgbGV0IG1heFNjb3JlID0gc3VibWl0RWxlbWVudHNbMF0uc2NvcmU7XG4gICAgICAgIGxldCBtYXhTY29yZUVsZW1lbnQgPSBzdWJtaXRFbGVtZW50c1swXS5lbGVtZW50O1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN1Ym1pdEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3VibWl0RWxlbWVudHNbaV0uc2NvcmUgPiBtYXhTY29yZSkge1xuICAgICAgICAgICAgICAgIG1heFNjb3JlID0gc3VibWl0RWxlbWVudHNbaV0uc2NvcmU7XG4gICAgICAgICAgICAgICAgbWF4U2NvcmVFbGVtZW50ID0gc3VibWl0RWxlbWVudHNbaV0uZWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4U2NvcmVFbGVtZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgc2NvcmVBZGp1c3RtZW50Rm9yTWFnaWNXb3JkcyhcbiAgICAgICAgc2VtYW50aWNWYWx1ZXM6IHN0cmluZ1tdLFxuICAgICAgICBmYWN0b3I6IG51bWJlcixcbiAgICAgICAgc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgc2VtYW50aWNCbGFja2xpc3RDYWNoZVxuICAgICkge1xuICAgICAgICAvL1RPRE86NDogb3RoZXIgbGFuZ3VhZ2VzXG4gICAgICAgIGNvbnN0IGdvb2RXb3JkcyA9IFtcbiAgICAgICAgICAgIFwic3VibWl0XCIsXG4gICAgICAgICAgICBcImxvZ2luXCIsXG4gICAgICAgICAgICBcImVudGVyXCIsXG4gICAgICAgICAgICBcImxvZyBpblwiLFxuICAgICAgICAgICAgXCJzaWduaW5cIixcbiAgICAgICAgICAgIFwic2lnbiBpblwiLFxuICAgICAgICAgICAgXCJuZXh0XCIsXG4gICAgICAgICAgICBcImNvbnRpbnVlXCJcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgYmFkV29yZHMgPSBbXG4gICAgICAgICAgICBcInJlc2V0XCIsXG4gICAgICAgICAgICBcImNhbmNlbFwiLFxuICAgICAgICAgICAgXCJiYWNrXCIsXG4gICAgICAgICAgICBcImFib3J0XCIsXG4gICAgICAgICAgICBcInVuZG9cIixcbiAgICAgICAgICAgIFwiZXhpdFwiLFxuICAgICAgICAgICAgXCJlbXB0eVwiLFxuICAgICAgICAgICAgXCJjbGVhclwiLFxuICAgICAgICAgICAgXCJjYXB0Y2hhXCIsXG4gICAgICAgICAgICBcInRvdHBcIixcbiAgICAgICAgICAgIFwiZm9yZ290XCIsXG4gICAgICAgICAgICBcImRpc21pc3NcIixcbiAgICAgICAgICAgIFwiZGVsZXRlXCIsXG4gICAgICAgICAgICBcInNob3dcIixcbiAgICAgICAgICAgIFwicmV2ZWFsXCJcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGdvb2RTY29yZSA9IGZhbHNlO1xuICAgICAgICBsZXQgYmFkU2NvcmUgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbWFudGljVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZ29vZFNjb3JlKSBicmVhaztcbiAgICAgICAgICAgIGlmICghc2VtYW50aWNWYWx1ZXNbaV0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZSA9IHNlbWFudGljVmFsdWVzW2ldLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghc2VtYW50aWNWYWx1ZSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChzZW1hbnRpY1doaXRlbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZ29vZFNjb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZW1hbnRpY1doaXRlbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnb29kV29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VtYW50aWNWYWx1ZS5pbmRleE9mKGdvb2RXb3Jkc1tqXSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBnb29kU2NvcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1doaXRlbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNXaGl0ZWxpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbWFudGljVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYmFkU2NvcmUpIGJyZWFrO1xuICAgICAgICAgICAgaWYgKCFzZW1hbnRpY1ZhbHVlc1tpXSkgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBzZW1hbnRpY1ZhbHVlID0gc2VtYW50aWNWYWx1ZXNbaV0udHJpbSgpO1xuICAgICAgICAgICAgaWYgKCFzZW1hbnRpY1ZhbHVlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKHNlbWFudGljQmxhY2tsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBiYWRTY29yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VtYW50aWNCbGFja2xpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYmFkV29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VtYW50aWNWYWx1ZS5pbmRleE9mKGJhZFdvcmRzW2pdKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhZFNjb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNCbGFja2xpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljQmxhY2tsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ29vZFNjb3JlICYmIGJhZFNjb3JlKSByZXR1cm4gMDtcbiAgICAgICAgaWYgKGJhZFNjb3JlKSByZXR1cm4gLTEgKiBmYWN0b3I7XG4gICAgICAgIGlmIChnb29kU2NvcmUpIHJldHVybiBmYWN0b3I7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29tbW9uQW5jZXN0b3JEaXN0YW5jZShub2RlQTogTm9kZSwgbm9kZUI6IE5vZGUsIGRpc3RhbmNlTWFwOiBNYXA8Tm9kZSwgbnVtYmVyPikge1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSAxO1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGVuZGluZ01hcDogQXJyYXk8Tm9kZT4gPSBbXTtcbiAgICAgICAgbGV0IHBlbmRpbmdNYXBTdGFydERpc3RhbmNlID0gMDtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uZC1hc3NpZ25cbiAgICAgICAgd2hpbGUgKChub2RlQSA9IG5vZGVBLnBhcmVudEVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWROb2RlRGlzdGFuY2UgPSBkaXN0YW5jZU1hcC5nZXQobm9kZUEpO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGtub3cgaG93IGZhciB0aGUgcGFyZW50IGlzIHdlIGNhbiByZXR1cm4gZWFybHkgYnV0IHdlIG1heSBoYXZlIGxlYXJudCBhYm91dCBtb3JlIG5vZGVzIG9uIG91ciB3YXlcbiAgICAgICAgICAgIGlmIChjYWNoZWROb2RlRGlzdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlICs9IGNhY2hlZE5vZGVEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nTWFwU3RhcnREaXN0YW5jZSA9IGNhY2hlZE5vZGVEaXN0YW5jZSArIDE7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3ZSBrbm93IHdlIGRvbid0IGtub3cgaG93IGZhciB0aGlzIG5vZGUgaXMgc28gbGV0cyBpbXBsaWNpdGx5IHN0b3JlIGhvdyBmYXIgd2UgaGF2ZSBnb3Qgc28gZmFyXG4gICAgICAgICAgICBwZW5kaW5nTWFwLnB1c2gobm9kZUEpO1xuXG4gICAgICAgICAgICBpZiAobm9kZUEuY29udGFpbnMobm9kZUIpKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzdGFuY2UrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgLy8gZWFjaCBub2RlIHRoYXQgd2UgY2FtZSBhY3Jvc3Mgb24gb3VyIGpvdXJuZXkgY2FuIGJlIGFzc2lnbmVkIGEgdmFsdWUgb2YgaG93IGZhciBpdCBpcyBmcm9tIHRoZSBjb21tb24gcGFyZW50XG4gICAgICAgICAgICBpZiAocGVuZGluZ01hcC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBlbmRpbmdNYXBTdGFydERpc3RhbmNlOyBpIDwgZGlzdGFuY2UgJiYgcGVuZGluZ01hcC5sZW5ndGggPiAwOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHBlbmRpbmdNYXAucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlTWFwLnNldChub2RlLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlzdGFuY2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEaXNjb25uZWN0ZWQgbm9kZSAoSSBndWVzcyAtIHByb2JhYmx5IHdvbid0IGV2ZXIgaGFwcGVuKVxuICAgICAgICAgICAgcmV0dXJuIDkwMDcxOTkyNTQ3NDA5OTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdWJtaXQgYSBmb3JtXG4gICAgcHJpdmF0ZSBzdWJtaXRGb3JtKGZvcm06IEhUTUxGb3JtRWxlbWVudCwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBzdWJtaXRFbGVtZW50ID0gdGhpcy5maW5kU3VibWl0QnV0dG9uKGZvcm0sIHN1Ym1pdFRhcmdldE5laWdoYm91cik7XG5cbiAgICAgICAgLy8gQXZvaWQgc2VhcmNoaW5nIGZvciBtYXRjaGluZyBwYXNzd29yZHMgdXBvbiBhdXRvLXN1Ym1pc3Npb25cbiAgICAgICAgdGhpcy5mb3JtU2F2aW5nLnJlbW92ZUFsbFN1Ym1pdEhhbmRsZXJzKCk7XG5cbiAgICAgICAgLy8gSWYgd2UndmUgZm91bmQgYSBidXR0b24gdG8gY2xpY2ssIHVzZSB0aGF0OyBpZiBub3QsIGp1c3Qgc3VibWl0IHRoZSBmb3JtLlxuICAgICAgICBpZiAoc3VibWl0RWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICBcIlN1Ym1pdGluZyB1c2luZyBlbGVtZW50OiBcIiArIChzdWJtaXRFbGVtZW50IGFzIGFueSkubmFtZSArIFwiOiBcIiArIHN1Ym1pdEVsZW1lbnQuaWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzdWJtaXRFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlN1Ym1pdGluZyB1c2luZyBmb3JtXCIpO1xuICAgICAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vVE9ETzo0OiBtYXliZSBzb21ldGhpbmcgbGlrZSB0aGlzIG1pZ2h0IGJlIHVzZWZ1bD8gRHVubm8gd2h5IGEgY2xpY2soKVxuICAgICAgICAvLyBhYm92ZSB3b3VsZG4ndCBiZSBzdWZmaWNpZW50IGJ1dCBtYXliZSBzb21lIGN1c3RvbSBldmVudCByYWlzaW5nIG1pZ2h0IGJlIGhhbmR5Li4uXG4gICAgICAgIC8qXG4gICAgICAgIGZ1bmN0aW9uIHNpbXVsYXRlQ2xpY2soKSB7XG4gICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO1xuICAgICAgICBldnQuaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCB0cnVlLCB0cnVlLCB3aW5kb3csXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICAgIHZhciBjYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hlY2tib3hcIik7XG4gICAgICAgIHZhciBjYW5jZWxlZCA9ICFjYi5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICAgIGlmKGNhbmNlbGVkKSB7XG4gICAgICAgICAgICAvLyBBIGhhbmRsZXIgY2FsbGVkIHByZXZlbnREZWZhdWx0XG4gICAgICAgICAgICBhbGVydChcImNhbmNlbGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm9uZSBvZiB0aGUgaGFuZGxlcnMgY2FsbGVkIHByZXZlbnREZWZhdWx0XG4gICAgICAgICAgICBhbGVydChcIm5vdCBjYW5jZWxlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICovXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVSZWxldmFuY2VTY29yZShcbiAgICAgICAgZW50cnk6IEVudHJ5LFxuICAgICAgICBwYXNzd29yZEZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgY3VycmVudFBhZ2U6IG51bWJlcixcbiAgICAgICAgZm9ybVZpc2libGU6IGJvb2xlYW4sXG4gICAgICAgIHNjb3JlQ29uZmlnOiBGaWVsZE1hdGNoU2NvcmVDb25maWcsXG4gICAgICAgIHZpc2libGVGaWVsZENhY2hlOiBWaXNpYmxlRmllbGRDYWNoZVxuICAgICkge1xuICAgICAgICBsZXQgc2NvcmUgPSAwO1xuICAgICAgICBsZXQgbG93RmllbGRNYXRjaFJhdGlvID0gZmFsc2U7XG5cbiAgICAgICAgLy8gS2VlIDMuNCsgbm8gbG9uZ2VyIGNvbnNpZGVycyBwcmlvcml0eSBvdmVycmlkZXMgYmVjYXVzZSB0aGV5IHdlcmVcbiAgICAgICAgLy8gY29tcGxpY2F0ZWQgYW5kIHVucmVsaWFibGUgZXZlbiB3aGVuIGZ1bGx5IHVuZGVyc3Rvb2QuXG5cbiAgICAgICAgLy8gS2VlIDEuNSsgbm8gbG9uZ2VyIGNvbnNpZGVycyBhY3Rpb24gVVJMcyBpbiByZWxldmFuY2Ugd2VpZ2h0aW5nLiBTaW5jZSB0aGUgb25seVxuICAgICAgICAvLyBlbnRyeSBlbnRyaWVzIG9mIGludGVyZXN0IGFyZSBhbHJlYWR5IHByZS1tYXRjaGVkIGJ5IEtlZVBhc3MsIHRoaXMgc2hvdWxkIGhhdmUgYmVlblxuICAgICAgICAvLyBhZGRpbmcgbmVnbGlnYWJsZSBhY2N1cmFjeSB0byB0aGUgZm9ybSBtYXRjaGluZy5cblxuICAgICAgICBzY29yZSArPSBlbnRyeS5tYXRjaEFjY3VyYWN5O1xuXG4gICAgICAgIC8vIFB1bmlzaCBidXQgZG9uJ3QgZW50aXJlbHkgZXhjbHVkZSBtYXRjaGVzIGFnYWluc3QgaW52aXNpYmxlIGZvcm1zXG4gICAgICAgIC8vIFRoaXMgaXMgaW4gYWRkaXRpb24gdG8gdGhlIG1heGltdW0gc2NvcmUgb2YgaW52aXNpYmxlIGZpZWxkcyBiZWluZyBsaW1pdGVkXG4gICAgICAgIC8vIHNvIHRoYXQgZm9ybXMgd2l0aCBzb21lIHZpc2libGUgZmllbGRzIGJ1dCBpbnZpc2libGUgdXNlcm5hbWUvcGFzc3dvcmRcbiAgICAgICAgLy8gZmllbGRzIChvciBvdXIgYmVzdCBndWVzcyBhdCB0aGVtIGFueXdheSkgYXJlIGNvbnNpZGVyZWQgYSBsZXNzIGxpa2VseSBtYXRjaFxuICAgICAgICBpZiAoIWZvcm1WaXNpYmxlKSBzY29yZSAtPSAyMDtcblxuICAgICAgICAvLyBUaGlzIGlzIHNpbWlsYXIgdG8gX2ZpbGxNYW55Rm9ybUZpZWxkcyBzbyBtaWdodCBiZSBhYmxlIHRvIHJldXNlIHRoZSByZXN1bHRzIGluIGZ1dHVyZVxuICAgICAgICAvLyAoYnV0IG5lZWQgdG8gd2F0Y2ggZm9yIGNoYW5nZXMgdGhhdCBpbnZhbGlkYXRlIHRoZSBlYXJsaWVyIGNhbGN1bGF0aW9ucykuXG5cbiAgICAgICAgLy8gUmVxdWlyZSBhdCBsZWFzdCBhIHR5cGUgbWF0Y2ggZm9yIDItZmllbGQgZm9ybXMgKGUuZy4gdXNlci9wYXNzKTsgMSBtaXNzaW5nXG4gICAgICAgIC8vIG1hdGNoIGZvciAzIG9yIDQgZmllbGQgZm9ybXM7IGV0Yy5cbiAgICAgICAgY29uc3QgbWluTWF0Y2hlZEZpZWxkQ291bnRSYXRpbyA9IDAuNTAxO1xuXG4gICAgICAgIGNvbnN0IFtvdGhlclJlbGV2YW5jZVNjb3JlLCBvdGhlckZpZWxkTWF0Y2hTdWNjZXNzZXNdID0gdGhpcy5kZXRlcm1pbmVSZWxldmFuY2VTY29yZXMoXG4gICAgICAgICAgICBcIm90aGVyXCIsXG4gICAgICAgICAgICBvdGhlckZpZWxkcyxcbiAgICAgICAgICAgIGVudHJ5LmZpZWxkcy5maWx0ZXIoZiA9PiBmLnR5cGUgIT09IFwicGFzc3dvcmRcIiksXG4gICAgICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgIHNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgdmlzaWJsZUZpZWxkQ2FjaGUub3RoZXJcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgW3Bhc3N3b3JkUmVsZXZhbmNlU2NvcmUsIHBhc3N3b3JkRmllbGRNYXRjaFN1Y2Nlc3Nlc10gPSB0aGlzLmRldGVybWluZVJlbGV2YW5jZVNjb3JlcyhcbiAgICAgICAgICAgIFwicGFzc3dvcmRcIixcbiAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzLFxuICAgICAgICAgICAgZW50cnkuZmllbGRzLmZpbHRlcihmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiKSxcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgc2NvcmVDb25maWcsXG4gICAgICAgICAgICB2aXNpYmxlRmllbGRDYWNoZS5wYXNzd29yZFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsUmVsZXZhbmNlU2NvcmUgPSBvdGhlclJlbGV2YW5jZVNjb3JlICsgcGFzc3dvcmRSZWxldmFuY2VTY29yZTtcblxuICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIGZpZWxkcyB0aGF0IGNhbiBldmVyIG1hdGNoIGFib3ZlIHRoZSBtaW5pbXVtIChlc3NlbnRpYWxseVxuICAgICAgICAvLyBpZ25vcmUgZW1wdHkgZm9ybSBvciBlbnRyeSBmaWVsZHMpLiBXaWxsIHVuZGVyZXN0aW1hdGUgbnVtYmVyIG9mIGZvcm1cbiAgICAgICAgLy8gZmllbGRzLCByZXN1bHRpbmcgaW4gaW5jcmVhc2VkIG1hdGNoIHJhdGlvIGFuZCBsZXNzIGFjY3VyYXRlIHJlbGV2YW5jeVxuICAgICAgICAvLyBzY29yZXMgZm9yIGZvcm1zIHRoYXQgY29udGFpbiBhIHVzZXJuYW1lL3Bhc3N3b3JkIGZpZWxkIHdpdGggbm8gbmFtZVxuICAgICAgICAvLyBvciBpZCBhdHRyaWJ1dGVzLiBObyBpZGVhIGlmIHRoaXMgd2lsbCBjYXVzZSBhIHByb2JsZW0uIFNlZW1zIHRvLlxuICAgICAgICAvLyBNaXRpZ2F0aW5nIGJ5IGFkanVzdGluZyBtaW4gcmVsZXZhbmN5IHZhbHVlcywgZXRjLiBzbyBjYW4gcmVtb3ZlXG4gICAgICAgIC8vIHRoaXMgY29tbWVudCBpbiBhIGZldyB2ZXJzaW9ucyBpZiBhbGwgaXMgZ29vZC5cbiAgICAgICAgLy8gdjMuNSBzdGlsbCBub3QgZ29vZC4gSGF2ZSBmaXhlZCBhIHZpc2liaWxpdHkgYnVnLCB3aGljaCBleGFjZXJiYXRlc1xuICAgICAgICAvLyBzb21lIG90aGVyIGJ1Z3MuIFdpbGwgdHJ5IGlnbm9yaW5nIG5vbi10ZXh0L3Bhc3N3b3JkIGZpZWxkcyBpbiByYXRpb1xuICAgICAgICAvLyBjYWxjdWxhdGlvbiBmb3IgYXV0b2ZpbGwgKGNhbiBleHRlbmQgdG8gZm9ybSBzZWxlY3Rpb24gY2FsY3VsYXRpb24gbGF0ZXIgaWYgZ29vZClcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkQ291bnQgPSBwYXNzd29yZEZpZWxkc1xuICAgICAgICAgICAgLmNvbmNhdChvdGhlckZpZWxkcylcbiAgICAgICAgICAgIC5maWx0ZXIoZiA9PiBmLmZpZWxkLmxvY2F0b3JzWzBdLmlkIHx8IGYuZmllbGQubG9jYXRvcnNbMF0ubmFtZSB8fCBmLmZpZWxkLnZhbHVlKVxuICAgICAgICAgICAgLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbG9naW5GaWVsZENvdW50ID0gZW50cnkuZmllbGRzLmZpbHRlcihcbiAgICAgICAgICAgIGYgPT4gZi5sb2NhdG9yc1swXS5pZCB8fCBmLmxvY2F0b3JzWzBdLm5hbWUgfHwgZi52YWx1ZVxuICAgICAgICApLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkQ291bnRGb3JBdXRvZmlsbCA9IHBhc3N3b3JkRmllbGRzXG4gICAgICAgICAgICAuY29uY2F0KG90aGVyRmllbGRzKVxuICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICBmID0+XG4gICAgICAgICAgICAgICAgICAgIChmLmZpZWxkLnR5cGUgPT09IFwicGFzc3dvcmRcIiB8fCBmLmZpZWxkLnR5cGUgPT09IFwidGV4dFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAoZi5maWVsZC5sb2NhdG9yc1swXS5pZCB8fCBmLmZpZWxkLmxvY2F0b3JzWzBdLm5hbWUpXG4gICAgICAgICAgICApLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbG9naW5GaWVsZENvdW50Rm9yQXV0b2ZpbGwgPSBlbnRyeS5maWVsZHMuZmlsdGVyKFxuICAgICAgICAgICAgZiA9PlxuICAgICAgICAgICAgICAgIChmLnR5cGUgPT09IFwicGFzc3dvcmRcIiB8fCBmLnR5cGUgPT09IFwidGV4dFwiKSAmJlxuICAgICAgICAgICAgICAgIChmLmxvY2F0b3JzWzBdLmlkIHx8IGYubG9jYXRvcnNbMF0ubmFtZSB8fCBmLnZhbHVlKVxuICAgICAgICApLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBmb3JtTWF0Y2hlZEZpZWxkQ291bnRGb3JBdXRvZmlsbCA9XG4gICAgICAgICAgICBvdGhlckZpZWxkTWF0Y2hTdWNjZXNzZXMuZmlsdGVyKHMgPT4gcyA9PT0gdHJ1ZSkubGVuZ3RoICtcbiAgICAgICAgICAgIHBhc3N3b3JkRmllbGRNYXRjaFN1Y2Nlc3Nlcy5maWx0ZXIocyA9PiBzID09PSB0cnVlKS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgbnVtYmVyT2ZOZXdQYXNzd29yZEZpZWxkcyA9IHBhc3N3b3JkRmllbGRzLmZpbHRlcihmID0+XG4gICAgICAgICAgICBmLmZpZWxkLmxvY2F0b3JzWzBdLmF1dG9jb21wbGV0ZVZhbHVlcz8uc29tZSh2ID0+IHYgPT09IFwibmV3LXBhc3N3b3JkXCIpXG4gICAgICAgICkubGVuZ3RoO1xuXG4gICAgICAgIC8vIExpbWl0aW5nIHRvIG51bWJlciBvZiBlbnRyeSBmaWVsZHMgd2lsbCByZWR1Y2UgZmFsc2UgcG9zaXRpdmVzIGJ1dFxuICAgICAgICAvL2luY3JlYXNlIGNoYW5jZSBvZiBhIHZhbGlkIGZvcm0gYmVpbmcgbWlzc2VkLlxuICAgICAgICAvLyBUbyBoZWxwIHdpdGggcGFzc3dvcmQgY2hhbmdpbmcsIHdlIHRyZWF0IGFueSBrbm93biBcIm5ldyBwYXNzd29yZFwiIGZpZWxkcyBhcyBhbiBhdXRvbWF0aWMgbWF0Y2hcbiAgICAgICAgY29uc3QgZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGwgPVxuICAgICAgICAgICAgTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgbG9naW5GaWVsZENvdW50Rm9yQXV0b2ZpbGwgKyBudW1iZXJPZk5ld1Bhc3N3b3JkRmllbGRzLFxuICAgICAgICAgICAgICAgIGZvcm1NYXRjaGVkRmllbGRDb3VudEZvckF1dG9maWxsXG4gICAgICAgICAgICApIC8gTWF0aC5tYXgoMSwgZm9ybUZpZWxkQ291bnRGb3JBdXRvZmlsbCk7XG5cbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICBcImZvcm1GaWVsZENvdW50OiBcIiArXG4gICAgICAgICAgICAgICAgZm9ybUZpZWxkQ291bnQgK1xuICAgICAgICAgICAgICAgIFwiLCBsb2dpbkZpZWxkQ291bnQ6IFwiICtcbiAgICAgICAgICAgICAgICBsb2dpbkZpZWxkQ291bnQgK1xuICAgICAgICAgICAgICAgIFwiLCBsb2dpbkZpZWxkQ291bnRGb3JBdXRvZmlsbDogXCIgK1xuICAgICAgICAgICAgICAgIGxvZ2luRmllbGRDb3VudEZvckF1dG9maWxsICtcbiAgICAgICAgICAgICAgICBcIiwgZm9ybUZpZWxkQ291bnRGb3JBdXRvZmlsbDogXCIgK1xuICAgICAgICAgICAgICAgIGZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGwgK1xuICAgICAgICAgICAgICAgIFwiLCBmb3JtTWF0Y2hlZEZpZWxkQ291bnRGb3JBdXRvZmlsbDogXCIgK1xuICAgICAgICAgICAgICAgIGZvcm1NYXRjaGVkRmllbGRDb3VudEZvckF1dG9maWxsICtcbiAgICAgICAgICAgICAgICBcIiwgbnVtYmVyT2ZOZXdQYXNzd29yZEZpZWxkczogXCIgK1xuICAgICAgICAgICAgICAgIG51bWJlck9mTmV3UGFzc3dvcmRGaWVsZHMgK1xuICAgICAgICAgICAgICAgIFwiLCBmaWVsZE1hdGNoUmF0aW86IFwiICtcbiAgICAgICAgICAgICAgICBmaWVsZE1hdGNoUmF0aW9Gb3JBdXRvZmlsbFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChmaWVsZE1hdGNoUmF0aW9Gb3JBdXRvZmlsbCA8IG1pbk1hdGNoZWRGaWVsZENvdW50UmF0aW8pIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgZW50cnkudXVpZCArXG4gICAgICAgICAgICAgICAgICAgIFwiIHdpbGwgYmUgZm9yY2VkIHRvIG5vdCBhdXRvLWZpbGwgYmVjYXVzZSB0aGUgZm9ybSBmaWVsZCBtYXRjaCByYXRpbyAoXCIgK1xuICAgICAgICAgICAgICAgICAgICBmaWVsZE1hdGNoUmF0aW9Gb3JBdXRvZmlsbCArXG4gICAgICAgICAgICAgICAgICAgIFwiKSBpcyBub3QgaGlnaCBlbm91Z2guXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsb3dGaWVsZE1hdGNoUmF0aW8gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXZlcmFnZUZpZWxkUmVsZXZhbmNlID1cbiAgICAgICAgICAgIHRvdGFsUmVsZXZhbmNlU2NvcmUgLyBNYXRoLm1heChmb3JtRmllbGRDb3VudCwgbG9naW5GaWVsZENvdW50KTtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRSZWxldmFuY2UgPVxuICAgICAgICAgICAgYXZlcmFnZUZpZWxkUmVsZXZhbmNlIC8gKE1hdGguYWJzKGZvcm1GaWVsZENvdW50IC0gbG9naW5GaWVsZENvdW50KSArIDEpO1xuXG4gICAgICAgIHNjb3JlICs9IGFkanVzdGVkUmVsZXZhbmNlO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJSZWxldmFuY2UgZm9yIFwiICsgZW50cnkudXVpZCArIFwiIGlzOiBcIiArIHNjb3JlKTtcbiAgICAgICAgcmV0dXJuIHsgc2NvcmU6IHNjb3JlLCBsb3dGaWVsZE1hdGNoUmF0aW86IGxvd0ZpZWxkTWF0Y2hSYXRpbyB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZGV0ZXJtaW5lUmVsZXZhbmNlU2NvcmVzKFxuICAgICAgICBkZWJ1Z05hbWU6IHN0cmluZyxcbiAgICAgICAgbWF0Y2hlZEZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIGVudHJ5RmllbGRzOiBGaWVsZFtdLFxuICAgICAgICBjdXJyZW50UGFnZTogbnVtYmVyLFxuICAgICAgICBzY29yZUNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICB2aXNpYmxlRmllbGRNYXA6IGJvb2xlYW5bXVxuICAgICk6IFtudW1iZXIsIGJvb2xlYW5bXV0ge1xuICAgICAgICBsZXQgdG90YWxSZWxldmFuY2VTY29yZSA9IDA7XG4gICAgICAgIGNvbnN0IG1pbkZpZWxkUmVsZXZhbmNlID0gMTtcbiAgICAgICAgY29uc3QgZmllbGRNYXRjaFN1Y2Nlc3NlczogYm9vbGVhbltdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaGVkRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbW9zdFJlbGV2YW50U2NvcmUgPSAwO1xuICAgICAgICAgICAgY29uc3QgZm9ybUZpZWxkID0gbWF0Y2hlZEZpZWxkc1tpXS5maWVsZDtcblxuICAgICAgICAgICAgaWYgKGZvcm1GaWVsZC5sb2NhdG9yc1swXS5hdXRvY29tcGxldGVWYWx1ZXM/LnNvbWUodiA9PiB2ID09PSBcIm5ldy1wYXNzd29yZFwiKSkge1xuICAgICAgICAgICAgICAgIC8vIFJlY29yZCBhcyBhIHN1Y2Nlc3NmdWwgbWF0Y2ggZm9yIHRoZSBwdXJwb3NlcyBvZiBtYXRjaCByYXRpbyBjYWxjdWxhdGlvbnNcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbmV3IHBhc3N3b3JkIGZpZWxkIGFzIHBhcnQgb2YgYSBjaGFuZ2UgcGFzc3dvcmQgZm9ybS4gU28gd2VcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhZmZlY3QgdGhlIHNlbGVjdGlvbiBvZiB0aGUgZm9ybSBvciBlbnRyeSB0byBmaWxsIGJ1dCB3aGVuIGFsbFxuICAgICAgICAgICAgICAgIC8vIGVsc2UgaXMgZXF1YWwsIHdlIHdpbGwgaGF2ZSBhIGhpZ2hlciBjaGFuY2Ugb2YgYXV0by1maWxsaW5nIHRoZSBleGlzdGluZ1xuICAgICAgICAgICAgICAgIC8vIHVzZXIgbmFtZSBhbmQgcGFzc3dvcmQgZmllbGRzLlxuICAgICAgICAgICAgICAgIGZpZWxkTWF0Y2hTdWNjZXNzZXNbaV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVudHJ5RmllbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm1TY29yZSA9IHRoaXMuY2FsY3VsYXRlRmllbGRNYXRjaFNjb3JlKFxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkRmllbGRzW2ldLFxuICAgICAgICAgICAgICAgICAgICBlbnRyeUZpZWxkc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlRmllbGRNYXBbaV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIlN1aXRhYmlsaXR5IG9mIHB1dHRpbmcgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGZpZWxkIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgaW50byBmb3JtIGZpZWxkIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgKGlkOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0uaWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIpIGlzIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZtU2NvcmVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChmbVNjb3JlID4gbW9zdFJlbGV2YW50U2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9zdFJlbGV2YW50U2NvcmUgPSBmbVNjb3JlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmbVNjb3JlRm9yUmF0aW8gPSBmbVNjb3JlIC0gKHZpc2libGVGaWVsZE1hcFtpXSA/IDAgOiAxMCk7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAoZm9ybUZpZWxkLnR5cGUgPT09IFwidGV4dFwiIHx8IGZvcm1GaWVsZC50eXBlID09PSBcInBhc3N3b3JkXCIpICYmXG4gICAgICAgICAgICAgICAgICAgIGZtU2NvcmVGb3JSYXRpbyA+PSBtaW5GaWVsZFJlbGV2YW5jZSAmJlxuICAgICAgICAgICAgICAgICAgICBlbnRyeUZpZWxkc1tqXS52YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhZmllbGRNYXRjaFN1Y2Nlc3Nlc1tpXVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZE1hdGNoU3VjY2Vzc2VzW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkRmllbGRzW2ldLmhpZ2hlc3RTY29yZSA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgIGZtU2NvcmUgPiBtYXRjaGVkRmllbGRzW2ldLmhpZ2hlc3RTY29yZVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkRmllbGRzW2ldLmhpZ2hlc3RTY29yZSA9IGZtU2NvcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG90YWxSZWxldmFuY2VTY29yZSArPSBtb3N0UmVsZXZhbnRTY29yZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvdGFsUmVsZXZhbmNlU2NvcmUsIGZpZWxkTWF0Y2hTdWNjZXNzZXNdO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVLZWVJY29uRnJvbUFsbEZpZWxkcygpIHtcbiAgICAgICAgdGhpcy5rZWVGaWVsZEljb24ucmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWVsZCB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRmllbGRcIjtcblxuZXhwb3J0IGNsYXNzIE1hdGNoZWRGaWVsZCB7XG4gICAgZmllbGQ6IEZpZWxkO1xuICAgIERPTWVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudDtcbiAgICBoaWdoZXN0U2NvcmU6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IEtlZUxvZ2dlciB9IGZyb20gXCIuLi9jb21tb24vTG9nZ2VyXCI7XG5pbXBvcnQgeyBNYXRjaGVkRmllbGQgfSBmcm9tIFwiLi9NYXRjaGVkRmllbGRcIjtcbmltcG9ydCB7IEZpZWxkIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9GaWVsZFwiO1xuXG4vKlxuICBUaGlzIGNvbnRhaW5zIGNvZGUgcmVsYXRlZCB0byB0aGUgbWFuYWdlbWVudCBhbmQgbWFuaXB1bGF0aW9uIG9mIGZvcm1zIGFuZCBmb3JtIGZpZWxkcy5cbiovXG5cbmV4cG9ydCBjbGFzcyBGb3JtVXRpbHMge1xuICAgIGZpbmRMb2dpbk9wcyA9IFtdO1xuICAgIG1hdGNoUmVzdWx0cyA9IFtdO1xuICAgIExvZ2dlcjogS2VlTG9nZ2VyO1xuXG4gICAgY29uc3RydWN0b3IobG9nZ2VyOiBLZWVMb2dnZXIpIHtcbiAgICAgICAgdGhpcy5Mb2dnZXIgPSBsb2dnZXI7XG4gICAgfVxuXG4gICAgY291bnRBbGxEb2N1bWVudHMoZnJhbWU6IFdpbmRvdykge1xuICAgICAgICBpZiAoIXRoaXMuaXNVcmlXZUNhbkZpbGwoZnJhbWUubG9jYXRpb24pKSByZXR1cm4gMDtcblxuICAgICAgICBsZXQgbG9jYWxEb2NDb3VudCA9IDE7XG5cbiAgICAgICAgaWYgKGZyYW1lLmZyYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBmcmFtZXMgPSBmcmFtZS5mcmFtZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxvY2FsRG9jQ291bnQgKz0gdGhpcy5jb3VudEFsbERvY3VtZW50cyhmcmFtZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbERvY0NvdW50O1xuICAgIH1cblxuICAgIGlzVXJpV2VDYW5GaWxsKHVyaSkge1xuICAgICAgICBpZiAodXJpLnByb3RvY29sID09IFwiaHR0cDpcIiB8fCB1cmkucHJvdG9jb2wgPT0gXCJodHRwczpcIiB8fCB1cmkucHJvdG9jb2wgPT0gXCJmaWxlOlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNBVGV4dEZvcm1GaWVsZFR5cGUodHlwZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlID09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcInNlbGVjdC1vbmVcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcInJhZGlvXCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJwYXNzd29yZFwiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwiaGlkZGVuXCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJzdWJtaXRcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcImJ1dHRvblwiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwiZmlsZVwiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwiaW1hZ2VcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcInJlc2V0XCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzQUtub3duVXNlcm5hbWVTdHJpbmcoZmllbGROYW1lSW4pIHtcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gZmllbGROYW1lSW4udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlcm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwial91c2VybmFtZVwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyX25hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlclwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyLW5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibG9naW5cIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidmJfbG9naW5fdXNlcm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibmFtZVwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyIG5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlciBpZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyLWlkXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInVzZXJpZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJlbWFpbFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJlLW1haWxcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiZm9ybV9sb2dpbm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwid3BuYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm1haWxcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibG9naW5pZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJsb2dpbiBpZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJsb2dpbl9uYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm9wZW5pZF9pZGVudGlmaWVyXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImF1dGhlbnRpY2F0aW9uX2VtYWlsXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm9wZW5pZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJhdXRoX2VtYWlsXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImF1dGhfaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiYXV0aGVudGljYXRpb25faWRlbnRpZmllclwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJhdXRoZW50aWNhdGlvbl9pZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJjdXN0b21lcl9udW1iZXJcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiY3VzdG9tZXJudW1iZXJcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwib25saW5laWRcIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIGV0Yy4gZXRjLlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogZ2V0Rm9ybUZpZWxkc1xuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUgdXNlcm5hbWVJbmRleCBhbmQgcGFzc3dvcmQgZmllbGRzIGZvdW5kIGluIHRoZSBmb3JtLlxuICAgICAqIENhbiBoYW5kbGUgY29tcGxleCBmb3JtcyBieSB0cnlpbmcgdG8gZmlndXJlIG91dCB3aGF0IHRoZVxuICAgICAqIHJlbGV2YW50IGZpZWxkcyBhcmUuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOiBbdXNlcm5hbWVJbmRleCwgcGFzc3dvcmRzLCAuLi5dXG4gICAgICogYWxsIGFycmF5cyBhcmUgc3RhbmRhcmQgamF2YXNjcmlwdCBhcnJheXNcbiAgICAgKiB1c2VybmFtZUZpZWxkIG1heSBiZSBudWxsLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRGb3JtRmllbGRzKGZvcm0sIGlzU3VibWlzc2lvbjogYm9vbGVhbiwgbWF4aW11bUZpZWxkQ291bnQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwd0ZpZWxkczogTWF0Y2hlZEZpZWxkW10gPSBbXTtcbiAgICAgICAgY29uc3Qgb3RoZXJGaWVsZHM6IE1hdGNoZWRGaWVsZFtdID0gW107XG4gICAgICAgIGNvbnN0IGFsbEZpZWxkczoge1xuICAgICAgICAgICAgaW5kZXg6IG51bWJlcjtcbiAgICAgICAgICAgIGVsZW1lbnQ6IE1hdGNoZWRGaWVsZDtcbiAgICAgICAgICAgIHR5cGU6IHN0cmluZztcbiAgICAgICAgfVtdID0gW107XG4gICAgICAgIGxldCBmaXJzdFBhc3N3b3JkSW5kZXggPSAtMTtcbiAgICAgICAgbGV0IGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4ID0gLTE7XG4gICAgICAgIGxldCB1c2VybmFtZUluZGV4ID0gLTE7XG5cbiAgICAgICAgLy8gc2VhcmNoIHRoZSBET00gZm9yIGFueSBmb3JtIGZpZWxkcyB3ZSBtaWdodCBiZSBpbnRlcmVzdGVkIGluXG4gICAgICAgIGNvbnN0IHRvdGFsRWxlbWVudHMgPSBmb3JtLmVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZWxlbWVudExpbWl0ID0gdG90YWxFbGVtZW50cyA8IDIwMDAgPyB0b3RhbEVsZW1lbnRzIDogMjAwMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50TGltaXQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFsbEZpZWxkcy5sZW5ndGggPiBtYXhpbXVtRmllbGRDb3VudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvbyBtYW55IGZpZWxkc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBmb3JtLmVsZW1lbnRzW2ldLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgICAgICBmb3JtLmVsZW1lbnRzW2ldLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09IFwia2V5Z2VuXCIgfHxcbiAgICAgICAgICAgICAgICBmb3JtLmVsZW1lbnRzW2ldLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09IFwib3V0cHV0XCIgfHxcbiAgICAgICAgICAgICAgICAoZm9ybS5lbGVtZW50c1tpXS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSAhPSBcImlucHV0XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgKGZvcm0uZWxlbWVudHNbaV0udHlwZSA9PSB1bmRlZmluZWQgfHwgZm9ybS5lbGVtZW50c1tpXS50eXBlID09IG51bGwpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIG1heWJlIGl0J3Mgc29tZXRoaW5nIHVuLWludGVyZXN0aW5nXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRvbVR5cGU6IHN0cmluZyA9IGZvcm0uZWxlbWVudHNbaV0udHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICBpZiAoZG9tVHlwZSA9PSBcImZpZWxkc2V0XCIpIGNvbnRpbnVlOyAvLyBub3QgaW50ZXJlc3RlZCBpbiBmaWVsZHNldHNcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRvbVR5cGUgIT0gXCJwYXNzd29yZFwiICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNBVGV4dEZvcm1GaWVsZFR5cGUoZG9tVHlwZSkgJiZcbiAgICAgICAgICAgICAgICBkb21UeXBlICE9IFwiY2hlY2tib3hcIiAmJlxuICAgICAgICAgICAgICAgIGRvbVR5cGUgIT0gXCJyYWRpb1wiICYmXG4gICAgICAgICAgICAgICAgZG9tVHlwZSAhPSBcInNlbGVjdC1vbmVcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIGlnbm9yaW5nIG90aGVyIGZvcm0gdHlwZXNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJyYWRpb1wiICYmIGlzU3VibWlzc2lvbiAmJiBmb3JtLmVsZW1lbnRzW2ldLmNoZWNrZWQgPT0gZmFsc2UpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJwYXNzd29yZFwiICYmIGlzU3VibWlzc2lvbiAmJiAhZm9ybS5lbGVtZW50c1tpXS52YWx1ZSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoZG9tVHlwZSA9PSBcInNlbGVjdC1vbmVcIiAmJiBpc1N1Ym1pc3Npb24gJiYgIWZvcm0uZWxlbWVudHNbaV0udmFsdWUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhgcHJvY2Vzc2luZyBmaWVsZCB3aXRoIGRvbXR5cGUgJHtkb21UeXBlfS4uLmApO1xuICAgICAgICAgICAgYWxsRmllbGRzW2FsbEZpZWxkcy5sZW5ndGhdID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IG5ldyBNYXRjaGVkRmllbGQoKSxcbiAgICAgICAgICAgICAgICB0eXBlOiBkb21UeXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGZpZWxkVmFsdWUgPSBmb3JtLmVsZW1lbnRzW2ldLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcm0uZWxlbWVudHNbaV0uY2hlY2tlZCkgZmllbGRWYWx1ZSA9IFwiS0VFRk9YX0NIRUNLRURfRkxBR19UUlVFXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBmaWVsZFZhbHVlID0gXCJLRUVGT1hfQ0hFQ0tFRF9GTEFHX0ZBTFNFXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IEZpZWxkLmZyb21ET00oZm9ybS5lbGVtZW50c1tpXSwgZG9tVHlwZSwgZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICBhbGxGaWVsZHNbYWxsRmllbGRzLmxlbmd0aCAtIDFdLmVsZW1lbnQuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgICAgIGFsbEZpZWxkc1thbGxGaWVsZHMubGVuZ3RoIC0gMV0uZWxlbWVudC5ET01lbGVtZW50ID0gZm9ybS5lbGVtZW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJwYXNzd29yZFwiICYmIGZpcnN0UGFzc3dvcmRJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGZpcnN0UGFzc3dvcmRJbmRleCA9IGFsbEZpZWxkcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FUZXh0Rm9ybUZpZWxkVHlwZShkb21UeXBlKSAmJlxuICAgICAgICAgICAgICAgIGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4ID09IC0xICYmXG4gICAgICAgICAgICAgICAgKHRoaXMuaXNBS25vd25Vc2VybmFtZVN0cmluZyhmb3JtLmVsZW1lbnRzW2ldLm5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmxvY2F0b3JzWzBdLmxhYmVscz8uc29tZShsYWJlbCA9PiB0aGlzLmlzQUtub3duVXNlcm5hbWVTdHJpbmcobGFiZWwpKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4ID0gYWxsRmllbGRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmb3JtLmVsZW1lbnRzW2ldLmtlZUluaXRpYWxEZXRlY3RlZFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3JtLmVsZW1lbnRzW2ldLmtlZUluaXRpYWxEZXRlY3RlZFZhbHVlID0gZmllbGRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdvcmsgb3V0IHdoaWNoIERPTSBmb3JtIGVsZW1lbnQgaXMgbW9zdCBsaWtlbHkgdG8gYmUgdGhlIHVzZXJuYW1lIGZpZWxkLlxuICAgICAgICAvLyBUaGlzIGluZm9ybWF0aW9uIGlzIG9ubHkgdXNlZCB0byBkaXNwbGF5IHRoZSB1c2VybmFtZSB0byB0aGUgdXNlciBzbyBhbiBpbmFjY3VyYXRlXG4gICAgICAgIC8vIGNob2ljZSB3b24ndCBpbXBhY3QgdGhlIGZvcm0gZGV0ZWN0aW9uIG9yIGZpbGxpbmcgYmVoYXZpb3VyLlxuICAgICAgICAvL1RPRE86NDogRXh0ZW5kIHRoaXMgdG8gaW5zcGVjdCBtb3JlIHRoYW4ganVzdCB0aGUgbmFtZSBvZiB0aGUgZmllbGQuIEUuZy4gbWF4IGxlbmd0aD9cbiAgICAgICAgLy9UT0RPOjQ6IEZvciBmb3JtIGZpbGxpbmcgKG5vdCBzdWJtaXR0aW5nKSB3ZSBtaWdodCB3YW50IHRvIHNlbGVjdCBiYXNlZCB1cG9uIGZvdW5kIGRhdGEgaW4gS2VlUGFzcz9cbiAgICAgICAgaWYgKGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4ICE9IC0xKSB1c2VybmFtZUluZGV4ID0gZmlyc3RQb3NzaWJsZVVzZXJuYW1lSW5kZXg7XG4gICAgICAgIGVsc2UgaWYgKGZpcnN0UGFzc3dvcmRJbmRleCA+IDApIHVzZXJuYW1lSW5kZXggPSBmaXJzdFBhc3N3b3JkSW5kZXggLSAxO1xuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInVzZXJuYW1lSW5kZXg6IFwiICsgdXNlcm5hbWVJbmRleCk7XG5cbiAgICAgICAgbGV0IG90aGVyQ291bnQgPSAwO1xuICAgICAgICBsZXQgYWN0dWFsVXNlcm5hbWVJbmRleCA9IDA7XG5cbiAgICAgICAgLy8gc2VwYXJhdGUgdGhlIGZpZWxkIGRhdGEgaW50byBhcHByb3ByaWF0ZSB2YXJpYWJsZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxGaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhbGxGaWVsZHNbaV0udHlwZSA9PSBcInBhc3N3b3JkXCIpIHB3RmllbGRzW3B3RmllbGRzLmxlbmd0aF0gPSBhbGxGaWVsZHNbaV0uZWxlbWVudDtcbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuaXNBVGV4dEZvcm1GaWVsZFR5cGUoYWxsRmllbGRzW2ldLnR5cGUpIHx8XG4gICAgICAgICAgICAgICAgYWxsRmllbGRzW2ldLnR5cGUgPT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgYWxsRmllbGRzW2ldLnR5cGUgPT0gXCJyYWRpb1wiIHx8XG4gICAgICAgICAgICAgICAgYWxsRmllbGRzW2ldLnR5cGUgPT0gXCJzZWxlY3Qtb25lXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzW290aGVyRmllbGRzLmxlbmd0aF0gPSBhbGxGaWVsZHNbaV0uZWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSB1c2VybmFtZUluZGV4KSBhY3R1YWxVc2VybmFtZUluZGV4ID0gb3RoZXJDb3VudDtcbiAgICAgICAgICAgICAgICBlbHNlIG90aGVyQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiYWN0dWFsVXNlcm5hbWVJbmRleDogXCIgKyBhY3R1YWxVc2VybmFtZUluZGV4KTtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJvdGhlckZpZWxkcy5sZW5ndGg6XCIgKyBvdGhlckZpZWxkcy5sZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY3R1YWxVc2VybmFtZUluZGV4LFxuICAgICAgICAgICAgcHdGaWVsZHMsXG4gICAgICAgICAgICBvdGhlckZpZWxkc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEEgYmFzaWMsIHNsaWdodGx5IGZsYXdlZCBidXQgZmFzdCB2aXNpYmlsaXR5IHRlc3RcbiAgICBwdWJsaWMgaXNET01FbGVtZW50VmlzaWJsZShlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQub2Zmc2V0UGFyZW50ICYmIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID09PSAwICYmIGVsZW1lbnQub2Zmc2V0V2lkdGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyAvLyB1c2VkIGZvciBtdWx0aXBhZ2Ugc3R1ZmYgdGhhdCB3ZSBtaWdodCBub3QgYmUgYWJsZSB0byBzdXBwb3J0IHlldCBpbiB3ZWJleHRlbnNpb25zXG4gICAgLy8gcmVzZXRGb3JtRmlsbFNlc3Npb24gKCkge1xuICAgIC8vICAgICBpZiAocmVzZXRGb3JtRmlsbFRpbWVyICE9IG51bGwpIHtcbiAgICAvLyAgICAgICAgIGNsZWFyVGltZW91dChyZXNldEZvcm1GaWxsVGltZXIpO1xuICAgIC8vICAgICAgICAgcmVzZXRGb3JtRmlsbFRpbWVyID0gbnVsbDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICB0YWJTdGF0ZS5jdXJyZW50UGFnZSA9IDA7XG4gICAgLy8gICAgIHRhYlN0YXRlLm1heGltdW1QYWdlID0gMDtcbiAgICAvLyAgICAgdGFiU3RhdGUuZm9yY2VBdXRvU3VibWl0ID0gbnVsbDtcbiAgICAvLyAgICAgdGFiU3RhdGUudXNlclJlY2VudGx5RGVtYW5kZWRBdXRvU3VibWl0ID0gZmFsc2U7XG4gICAgLy8gICAgIExvZ2dlci5kZWJ1ZyhcIlJlc2V0IGZvcm0tZmlsbGluZyBzZXNzaW9uIChwYWdlID0gMCBhbmQgY2FuY2VsbGVkIGFueSBmb3JjZWQgYXV0b3N1Ym1pdCkuXCIpO1xuICAgIC8vIH07XG4gICAgLy92YXIgcmVzZXRGb3JtRmlsbFRpbWVyID0gbnVsbDtcbn1cbiIsImltcG9ydCB7IEZvcm1VdGlscyB9IGZyb20gXCIuL2Zvcm1zVXRpbHNcIjtcbmltcG9ydCB7IE1hdGNoUmVzdWx0IH0gZnJvbSBcIi4vTWF0Y2hSZXN1bHRcIjtcbmltcG9ydCB7IEZpbGxlZEZpZWxkIH0gZnJvbSBcIi4vRmlsbGVkRmllbGRcIjtcbmltcG9ydCB7IEtlZUxvZ2dlciB9IGZyb20gXCIuLi9jb21tb24vTG9nZ2VyXCI7XG5pbXBvcnQgeyBjb25maWdNYW5hZ2VyIH0gZnJvbSBcIi4uL2NvbW1vbi9Db25maWdNYW5hZ2VyXCI7XG5pbXBvcnQgeyBBZGRvbk1lc3NhZ2UgfSBmcm9tIFwiLi4vY29tbW9uL0FkZG9uTWVzc2FnZVwiO1xuaW1wb3J0IHsgTWF0Y2hlZEZpZWxkIH0gZnJvbSBcIi4vTWF0Y2hlZEZpZWxkXCI7XG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRmllbGRcIjtcblxuZGVjbGFyZSBjb25zdCBwdW55Y29kZTtcblxuaW50ZXJmYWNlIFN1Ym1pdEhhbmRsZXJBdHRhY2htZW50IHtcbiAgICB0YXJnZXQ6IEhUTUxFbGVtZW50O1xuICAgIGhhbmRsZXI6IChlOiBFdmVudCkgPT4gdm9pZDtcbiAgICBmb3JtOiBIVE1MRm9ybUVsZW1lbnQ7XG59XG5cbmV4cG9ydCBjbGFzcyBGb3JtU2F2aW5nIHtcbiAgICBwcml2YXRlIExvZ2dlcjogS2VlTG9nZ2VyO1xuICAgIHByaXZhdGUgZm9ybVV0aWxzOiBGb3JtVXRpbHM7XG4gICAgcHJpdmF0ZSBTdWJtaXRIYW5kbGVyQXR0YWNobWVudHM6IFN1Ym1pdEhhbmRsZXJBdHRhY2htZW50W10gPSBbXTtcbiAgICBwcml2YXRlIG1hdGNoUmVzdWx0OiBNYXRjaFJlc3VsdDsgLy9UT0RPOjQ6IE1heSBiZSBvdmVya2lsbCB0byBoYXZlIGFsbCB0aGlzIGRhdGEgYXZhaWxhYmxlIGZvciBzYXZpbmdcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlQb3J0OiBicm93c2VyLnJ1bnRpbWUuUG9ydCwgbG9nZ2VyOiBLZWVMb2dnZXIsIGZvcm1VdGlsczogRm9ybVV0aWxzKSB7XG4gICAgICAgIHRoaXMuTG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgICB0aGlzLmZvcm1VdGlscyA9IGZvcm1VdGlscztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkU3VibWl0SGFuZGxlcih0YXJnZXQ6IEhUTUxFbGVtZW50LCBmb3JtVG9TdWJtaXQ6IEhUTUxGb3JtRWxlbWVudCkge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB0aGlzLnN1Ym1pdEhhbmRsZXIoZSwgZm9ybVRvU3VibWl0KTtcbiAgICAgICAgdGhpcy5TdWJtaXRIYW5kbGVyQXR0YWNobWVudHMucHVzaCh7XG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIGZvcm06IGZvcm1Ub1N1Ym1pdCxcbiAgICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0YXJnZXQpIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlcik7XG4gICAgICAgIGZvcm1Ub1N1Ym1pdC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVBbGxTdWJtaXRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5TdWJtaXRIYW5kbGVyQXR0YWNobWVudHMuZm9yRWFjaChhdHRhY2htZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChhdHRhY2htZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhdHRhY2htZW50LmhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXR0YWNobWVudC5mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYXR0YWNobWVudC5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuU3VibWl0SGFuZGxlckF0dGFjaG1lbnRzID0gW107XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZU1hdGNoUmVzdWx0KG1hdGNoUmVzdWx0OiBNYXRjaFJlc3VsdCkge1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0ID0gbWF0Y2hSZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB3b24ndCBhbHdheXMgYmUgY2FsbGVkIGJlZm9yZSBhbGwgZXZlbnQgaGFuZGxlcnMgb24gdGhlIHdlYiBwYWdlIHNvIG9uXG4gICAgLy8gc29tZSBzaXRlcyB3ZSB3aWxsIHN0b3JlIGludmFsaWQgZGF0YSAoaW4gY2FzZXMgd2hlcmUgdGhlIGxvZ2luIHNjcmlwdHNcbiAgICAvLyBtYW5nbGUgdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWVsZHMgYmVmb3JlIHN1Ym1pdHRpbmcgdGhlbSkuXG4gICAgLy9UT0RPOjQ6IFBvc3NpYmx5IGNvdWxkIHNsaWdodGx5IHJlZHVjZSBpbmNpZGVuY2Ugb2YgdGhpcyBwcm9ibGVtIGJ5IGxpc3RlbmluZ1xuICAgIC8vIHRvIGV2ZXJ5IGNsaWNrIG9uIHRoZSBkb2N1bWVudCBib2R5IG9yIHRyYWNraW5nIGFsbCBpbnB1dCBldmVudHMgYnV0IHBlcmZvcm1hbmNlP1xuICAgIHByaXZhdGUgc3VibWl0SGFuZGxlcihfZTogRXZlbnQsIGZvcm06IEhUTUxGb3JtRWxlbWVudCkge1xuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInN1Ym1pdEhhbmRsZXIgY2FsbGVkXCIpO1xuXG4gICAgICAgIC8vIFVudGlsIHRoZSBuZXh0IHRpbWUgd2UgaGF2ZSBzZWFyY2hlZCBmb3IgZm9ybXMgaW4gdGhpcyBwYWdlLFxuICAgICAgICAvLyBkb24ndCByZXNwb25kIHRvIGFueSBmb3JtIHN1Ym1pc3Npb24gcmVsYXRlZCBldmVudHNcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxTdWJtaXRIYW5kbGVycygpO1xuXG4gICAgICAgIGNvbnN0IGRvYyA9IGZvcm0ub3duZXJEb2N1bWVudDtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChkb2MuVVJMKTtcbiAgICAgICAgdXJsLmhvc3RuYW1lID0gcHVueWNvZGUudG9Vbmljb2RlKHVybC5ob3N0bmFtZSk7XG5cbiAgICAgICAgY29uc3QgY29uZiA9IGNvbmZpZ01hbmFnZXIuc2l0ZUNvbmZpZ0Zvcih1cmwuaHJlZik7XG4gICAgICAgIGlmIChjb25mLnByZXZlbnRTYXZlTm90aWZpY2F0aW9uKSByZXR1cm47XG5cbiAgICAgICAgbGV0IGlzUGFzc3dvcmRDaGFuZ2VGb3JtID0gZmFsc2U7XG4gICAgICAgIGxldCBpc1JlZ2lzdHJhdGlvbkZvcm0gPSBmYWxzZTtcblxuICAgICAgICAvLyBHZXQgdGhlIGFwcHJvcHJpYXRlIGZpZWxkcyBmcm9tIHRoZSBmb3JtLlxuICAgICAgICBjb25zdCBwYXNzd29yZEZpZWxkczogTWF0Y2hlZEZpZWxkW10gPSBbXTtcbiAgICAgICAgbGV0IHNjYW5SZXN1bHQ6IHtcbiAgICAgICAgICAgIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXTtcbiAgICAgICAgICAgIGFjdHVhbFVzZXJuYW1lSW5kZXg/OiBudW1iZXI7XG4gICAgICAgICAgICBwd0ZpZWxkcz86IE1hdGNoZWRGaWVsZFtdO1xuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2NhblJlc3VsdCA9IHRoaXMuZm9ybVV0aWxzLmdldEZvcm1GaWVsZHMoZm9ybSwgdHJ1ZSwgNTApO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcIkxvc3QgaW50ZXJlc3QgaW4gdGhpcyBmb3JtIGFmdGVyIGZpbmRpbmcgdG9vIG1hbnkgZmllbGRzXCIgKyBleCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlcm5hbWVJbmRleCA9IHNjYW5SZXN1bHQuYWN0dWFsVXNlcm5hbWVJbmRleDtcbiAgICAgICAgY29uc3QgcGFzc3dvcmRzID0gc2NhblJlc3VsdC5wd0ZpZWxkcztcbiAgICAgICAgY29uc3Qgb3RoZXJGaWVsZHMgPSBzY2FuUmVzdWx0Lm90aGVyRmllbGRzO1xuXG4gICAgICAgIGlmIChwYXNzd29yZHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gY291bGQgYmUgcGFzc3dvcmQgY2hhbmdlIGZvcm0gb3IgbXVsdGktcGFzc3dvcmQgbG9naW4gZm9ybSBvciBzaWduIHVwIGZvcm1cbiAgICAgICAgICAgIC8vIG5haXZlIGR1cGxpY2F0ZSBmaW5kZXIgLSBtb3JlIHRoYW4gc3VmZmljaWVudCBmb3IgdGhlIG51bWJlciBvZiBwYXNzd29yZHMgcGVyIGRvbWFpblxuICAgICAgICAgICAgbGV0IHR3b1Bhc3N3b3Jkc01hdGNoSW5kZXggPSAtMTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc3dvcmRzLmxlbmd0aCAmJiB0d29QYXNzd29yZHNNYXRjaEluZGV4ID09IC0xOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBwYXNzd29yZHMubGVuZ3RoICYmIHR3b1Bhc3N3b3Jkc01hdGNoSW5kZXggPT0gLTE7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFzc3dvcmRzW2pdLmZpZWxkLnZhbHVlID09IHBhc3N3b3Jkc1tpXS5maWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHdvUGFzc3dvcmRzTWF0Y2hJbmRleCA9IGo7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0d29QYXNzd29yZHNNYXRjaEluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gZWl0aGVyIG1pcy10eXBlZCBwYXNzd29yZCBjaGFuZ2UgZm9ybSwgc2luZ2xlIHBhc3N3b3JkIGNoYW5nZSBib3ggZm9ybSBvciBtdWx0aS1wYXNzd29yZCBsb2dpbi9zaWdudXAsIGFzc3VtaW5nIGxhdHRlci5cbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIm11bHRpcGxlIHBhc3N3b3JkcyBmb3VuZCAod2l0aCBubyBpZGVudGljYWwgdmFsdWVzKVwiKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc3dvcmRzLmxlbmd0aDsgaSsrKSBwYXNzd29yZEZpZWxkcy5wdXNoKHBhc3N3b3Jkc1tpXSk7XG5cbiAgICAgICAgICAgICAgICAvL1RPRE86NDogdHJ5IHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gbXVsdGktcGFzc3dvcmQgbG9naW4vc2lnbnVwIGFuZCB0eXBvLiBtYXliZTogaWYgdXNlcm5hbWUgZXhpc3RzIGFuZCBtYXRjaGVzIGV4aXN0aW5nIHBhc3N3b3JkIGl0IGlzIGEgdHlwbywgZWxzZSBtdWx0aS1wYXNzd29yZFxuICAgICAgICAgICAgICAgIC8vcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyBpdCdzIHByb2JhYmx5IGEgcGFzc3dvcmQgY2hhbmdlIGZvcm0sIGJ1dCBtYXkgYmUgYSBzaWduLXVwIGZvcm1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gaWdub3JlIGFueSBmaWVsZHMgdGhhdCB3ZXJlIHByZXNlbnRlZCB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyB1c2VyIGFzIGVpdGhlciBcIm9sZCBwYXNzd29yZFwiIG9yIFwicmV0eXBlIG5ldyBwYXNzd29yZFwiXG5cbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJMb29rcyBsaWtlIGEgcGFzc3dvcmQgY2hhbmdlIGZvcm0gb3IgbmV3IHJlZ2lzdHJhdGlvbiBmb3JtIGhhcyBiZWVuIHN1Ym1pdHRlZFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAvLyB0aGVyZSBtYXkgYmUgbW9yZSB0aGFuIG9uZSBwYWlyIG9mIG1hdGNoZXMgLSB0aG91Z2gsIHdlJ3JlIHBsdWNraW5nIGZvciB0aGUgZmlyc3Qgb25lXG4gICAgICAgICAgICAgICAgLy8gd2Uga25vdyB0aGUgaW5kZXggb2Ygb25lIG1hdGNoaW5nIHBhc3N3b3JkXG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgb25seSB0d28gcGFzc3dvcmRzIHdlIGFscmVhZHkga25vdyB0aGF0IHRoZXkgbWF0Y2hcbiAgICAgICAgICAgICAgICBpZiAocGFzc3dvcmRzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzLnB1c2gocGFzc3dvcmRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOjQ6IGl0IGlzIGFsc28gcmVhc29uYWJseSBsaWtlbHkgdGhhdCB0aGlzIGluZGljYXRlcyBhXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpZ24tdXAgZm9ybSByYXRoZXIgdGhhbiBhIHBhc3N3b3JkIGNoYW5nZSBmb3JtLiBkZWNpZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggaGVyZSBhbmQgZmxhZyB3aGljaCBvbmUgaXQgaXMuIGZvciBub3csIHdlIGp1c3QgYXNzdW1lXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgYSBzaWduLXVwIGZvcm0gYmVjdWFzZSB0aGF0IGlzIG1vcmUgdXNlZnVsIGZvciB0aGUgdXNlciBpbiBtYW55IGNhc2VzXG4gICAgICAgICAgICAgICAgICAgIGlzUGFzc3dvcmRDaGFuZ2VGb3JtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlzUmVnaXN0cmF0aW9uRm9ybSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSBhc3N1bWUgdGhhdCBhbnkgZm9ybSB3aXRoIDMgcGFzc3dvcmRzIG9uIGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIG11Y2ggbW9yZSBsaWtlbHkgdG8gYmUgYSBjaGFuZ2UgcGFzc3dvcmQgZm9ybSB0aGFuXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgc2lnbi11cCBmb3JtIChvYnZpb3VzbHkgdGhlcmUgd2lsbCBiZSBleGNlcHRpb25zIGJ1dFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBiZXN0IHdlIGNhbiBkbyBmb3Igbm93KVxuICAgICAgICAgICAgICAgICAgICAvLyBCVVQ6IGhhdmUgbm90IHlldCBpbXBsZW1lbnRlZCByZWxpYWJsZSBwYXNzd29yZCBjaGFuZ2UgZmVhdHVyZS4uLlxuICAgICAgICAgICAgICAgICAgICBpc1Bhc3N3b3JkQ2hhbmdlRm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc1JlZ2lzdHJhdGlvbkZvcm0gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZEZpZWxkcy5wdXNoKHBhc3N3b3Jkc1t0d29QYXNzd29yZHNNYXRjaEluZGV4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBhc3N3b3JkcyAhPSBudWxsICYmIHBhc3N3b3Jkc1swXSAhPSBudWxsICYmIHBhc3N3b3Jkc1swXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzLnB1c2gocGFzc3dvcmRzWzBdKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhdCB0aGlzIHBvaW50LCBhdCBsZWFzdCBvbmUgcGFzc3dvcmRGaWVsZCBoYXMgYmVlbiBjaG9zZW4gYW5kIGFuXG4gICAgICAgIC8vIG9sZFBhc3N3b3JkRmllbGQgaGFzIGJlZW4gY2hvc2VuIGlmIGFwcGxpY2FibGUuXG4gICAgICAgIC8vIHdlIGhhdmUgYWxzbyBkZXRlcm1pbmVkIHdoZXRoZXIgdGhpcyBmb3JtIGZpbGwgaXMgbGlrZWx5IHRvXG4gICAgICAgIC8vIGJlIGEgbmV3IHJlZ2lzdHJhdGlvbiBmb3JtIG9yIHBhc3N3b3JkIGNoYW5nZSBmb3JtXG5cbiAgICAgICAgY29uc3Qgbm9uRW1wdHlQYXNzd29yZEZpZWxkcyA9IHRoaXMucmVtb3ZlRW1wdHlGaWVsZHMocGFzc3dvcmRGaWVsZHMpO1xuICAgICAgICBjb25zdCBub25FbXB0eU90aGVyRmllbGRzID0gdGhpcy5yZW1vdmVFbXB0eUZpZWxkcyhvdGhlckZpZWxkcyk7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgZmlsbGVkIHBhc3N3b3JkIHRoYXQgaXMgbm90IGJlaW5nIHN1Ym1pdHRlZCBvciBoYXMgYSBjaGFuZ2VkIHZhbHVlXG4gICAgICAgIGNvbnN0IGRpZmZlcmVudFBhc3N3b3JkID1cbiAgICAgICAgICAgICF0aGlzLm1hdGNoUmVzdWx0IHx8XG4gICAgICAgICAgICAhdGhpcy5tYXRjaFJlc3VsdC5sYXN0RmlsbGVkUGFzc3dvcmRzIHx8XG4gICAgICAgICAgICB0aGlzLmhhc0ZpZWxkQmVlbk1vZGlmaWVkKG5vbkVtcHR5UGFzc3dvcmRGaWVsZHMsIHRoaXMubWF0Y2hSZXN1bHQubGFzdEZpbGxlZFBhc3N3b3Jkcyk7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgZmlsbGVkIG90aGVyIGZpZWxkIHRoYXQgaXMgbm90IGJlaW5nIHN1Ym1pdHRlZCBvciBoYXMgYSBjaGFuZ2VkIHZhbHVlXG4gICAgICAgIGNvbnN0IGRpZmZlcmVudE90aGVyID1cbiAgICAgICAgICAgICF0aGlzLm1hdGNoUmVzdWx0IHx8XG4gICAgICAgICAgICAhdGhpcy5tYXRjaFJlc3VsdC5sYXN0RmlsbGVkT3RoZXIgfHxcbiAgICAgICAgICAgIHRoaXMuaGFzRmllbGRCZWVuTW9kaWZpZWQobm9uRW1wdHlPdGhlckZpZWxkcywgdGhpcy5tYXRjaFJlc3VsdC5sYXN0RmlsbGVkT3RoZXIpO1xuXG4gICAgICAgIGlmIChkaWZmZXJlbnRQYXNzd29yZCB8fCBkaWZmZXJlbnRPdGhlcikge1xuICAgICAgICAgICAgY29uc3Qgc3VibWl0dGVkRGF0YSA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybC5ocmVmLFxuICAgICAgICAgICAgICAgIGZpZWxkczogRmllbGQuY29tYmluZURvbUZpZWxkTGlzdHMoXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG5vbkVtcHR5T3RoZXJGaWVsZHMubWFwKGYgPT4gZi5maWVsZCksXG4gICAgICAgICAgICAgICAgICAgIG5vbkVtcHR5UGFzc3dvcmRGaWVsZHMubWFwKGYgPT4gZi5maWVsZClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBkb2MudGl0bGUgfHwgdXJsLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgIGlzUGFzc3dvcmRDaGFuZ2VGb3JtLFxuICAgICAgICAgICAgICAgIGlzUmVnaXN0cmF0aW9uRm9ybVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5teVBvcnQucG9zdE1lc3NhZ2UoeyBzdWJtaXR0ZWREYXRhIH0gYXMgQWRkb25NZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlRW1wdHlGaWVsZHMoZmllbGRzOiBNYXRjaGVkRmllbGRbXSkge1xuICAgICAgICByZXR1cm4gZmllbGRzLmZpbHRlcihmID0+IGYuZmllbGQudmFsdWUgfHwgZi5maWVsZC50eXBlID09PSBcImJvb2xlYW5cIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYXNGaWVsZEJlZW5Nb2RpZmllZChcbiAgICAgICAgbmV3bHlTdWJtaXR0ZWRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdLFxuICAgICAgICBwcmV2aW91c2x5RmlsbGVkRmllbGRzOiBGaWxsZWRGaWVsZFtdXG4gICAgKSB7XG4gICAgICAgIHJldHVybiAhIXByZXZpb3VzbHlGaWxsZWRGaWVsZHMuZmluZChmaWxsZWRGaWVsZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdWJtaXR0ZWRGaWVsZCA9IG5ld2x5U3VibWl0dGVkRmllbGRzLmZpbmQoXG4gICAgICAgICAgICAgICAgZiA9PiBmaWxsZWRGaWVsZC5ET01lbGVtZW50ID09IGYuRE9NZWxlbWVudFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCBzdWJtaXR0ZWQgdGhlIHNhbWUgRE9NIGVsZW1lbnQgd2UgZmlsbGVkIGluXG4gICAgICAgICAgICBpZiAoIXN1Ym1pdHRlZEZpZWxkKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHN1Ym1pdHRlZEZpZWxkLmZpZWxkLnZhbHVlICE9IGZpbGxlZEZpZWxkLnZhbHVlKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQYW5lbFN0dWIsIFBhbmVsU3R1Yk9wdGlvbnMgfSBmcm9tIFwiLi9QYW5lbFN0dWJcIjtcblxuLy9jb25zdCBwYW5lbE9wdGlvbnMgPSBQYW5lbFN0dWJPcHRpb25zLkdlbmVyYXRlUGFzc3dvcmRMZWdhY3k7XG5jb25zdCBwYW5lbE9wdGlvbnMgPSBQYW5lbFN0dWJPcHRpb25zLkdlbmVyYXRlUGFzc3dvcmQ7XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZEdlbmVyYXRvciB7XG4gICAgcHVibGljIGdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWI6IFBhbmVsU3R1YjtcbiAgICBwcml2YXRlIGdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWJSYWY6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50RnJhbWVJZDogbnVtYmVyKSB7fVxuXG4gICAgcHVibGljIGNyZWF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbCgpIHtcbiAgICAgICAgdGhpcy5jbG9zZUdlbmVyYXRlUGFzc3dvcmRQYW5lbCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKHBhbmVsT3B0aW9ucywgbnVsbCwgdGhpcy5wYXJlbnRGcmFtZUlkKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbE5lYXJOb2RlKHRhcmdldDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jbG9zZUdlbmVyYXRlUGFzc3dvcmRQYW5lbCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKHBhbmVsT3B0aW9ucywgdGFyZ2V0LCB0aGlzLnBhcmVudEZyYW1lSWQpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIuY3JlYXRlUGFuZWwoKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViUmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbFBvc2l0aW9uKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xvc2VHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIpIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1Yi5jbG9zZVBhbmVsKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1YiA9IG51bGw7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1YlJhZik7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbFBvc2l0aW9uKCkge1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIudXBkYXRlQm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1YlJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PlxuICAgICAgICAgICAgdGhpcy51cGRhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWxQb3NpdGlvbigpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTXV0YXRpb25UeXBlIH0gZnJvbSBcInBpbmlhXCI7XG5pbXBvcnQgeyBLZWVTdG9yZSB9IGZyb20gXCIuXCI7XG5pbXBvcnQgeyBLZWVTdGF0ZSB9IGZyb20gXCIuL0tlZVN0YXRlXCI7XG5pbXBvcnQgeyBNdXRhdGlvblBheWxvYWQgfSBmcm9tIFwiLi9zeW5jQmFja2dyb3VuZFwiO1xuXG5leHBvcnQgY2xhc3MgU3luY0NvbnRlbnQge1xuICAgIGluaXRpYWxpemVkOiBib29sZWFuO1xuICAgIHJlY2VpdmVkTXV0YXRpb25zOiBNdXRhdGlvblBheWxvYWRbXTtcbiAgICBwZW5kaW5nTXV0YXRpb25zOiBNdXRhdGlvblBheWxvYWRbXTtcbiAgICBwcml2YXRlIHNlbmRNdXRhdGlvbjogKG11dGF0aW9uOiBNdXRhdGlvblBheWxvYWQpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0b3JlOiBLZWVTdG9yZSkge1xuICAgICAgICB0aGlzLnJlY2VpdmVkTXV0YXRpb25zID0gW107XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTXV0YXRpb25zID0gW107XG5cbiAgICAgICAgdGhpcy5zdG9yZS4kc3Vic2NyaWJlKG11dGF0aW9uID0+IHtcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09IE11dGF0aW9uVHlwZS5wYXRjaE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaG9va011dGF0aW9uKG11dGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQaW5pYSBnZW5lcmF0ZWQgYSBub24tb2JqZWN0IG11dGF0aW9uLiBXZSBkb24ndCB0aGluayB3ZSBjYW4gc3VwcG9ydCB0aGlzIGFuZCBuZWVkIHRvIGtub3cgdGhhdCBpdCBpcyBwb3NzaWJsZSBmb3IgaXQgdG8gaGFwcGVuISBUZWxsIHVzIG5vdyBvciB3ZWlyZCB0aGluZ3Mgd2lsbCBoYXBwZW4uXCIpO1xuICAgICAgICAgICAgICAgIH0gLy8gJ2RpcmVjdCcgfCAncGF0Y2ggb2JqZWN0JyB8ICdwYXRjaCBmdW5jdGlvbidcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdChpbml0aWFsU3RhdGU6IEtlZVN0YXRlLCBzZW5kTXV0YXRpb24sIHZ1ZUluaXQ/KSB7XG4gICAgICAgIHRoaXMuc2VuZE11dGF0aW9uID0gc2VuZE11dGF0aW9uO1xuXG4gICAgICAgIHRoaXMuc3RvcmUuJHBhdGNoKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nTXV0YXRpb25zKCk7XG5cbiAgICAgICAgaWYgKHZ1ZUluaXQpIHZ1ZUluaXQoKTtcbiAgICB9XG5cbiAgICByZXNldChuZXdTdGF0ZTogS2VlU3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdG9yZS4kcGF0Y2gobmV3U3RhdGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblJlbW90ZU11dGF0aW9uKG11dGF0aW9uOiBNdXRhdGlvblBheWxvYWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY2VpdmVkTXV0YXRpb25zLnB1c2gobXV0YXRpb24pO1xuICAgICAgICB0aGlzLnN0b3JlLiRwYXRjaChtdXRhdGlvbi5wYXlsb2FkKTtcbiAgICB9XG5cbiAgICBob29rTXV0YXRpb24obXV0YXRpb246IE11dGF0aW9uUGF5bG9hZCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBlbmRpbmdNdXRhdGlvbnMucHVzaChtdXRhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucmVjZWl2ZWRNdXRhdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kTXV0YXRpb24obXV0YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyByZWNlaXZlZCBtdXRhdGlvbiwgaWYgaXQncyBqdXN0IGlnbm9yZSBpdCwgaWYgbm90IHNlbmQgdG8gYmFja2dyb3VuZFxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5yZWNlaXZlZE11dGF0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRNdXRhdGlvbnNbaV0gPT0gbXV0YXRpb24ucGF5bG9hZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlZE11dGF0aW9ucy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgICAgICAgICAgICAvLyBNdWx0aXBsZSBtdXRhdGlvbnMgY2FuIGJlIGluIHRoZSByZWNlaXZlZCBxdWV1ZSBzbyB3ZSBoYXZlIHRvIGJyZWFrLFxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBkdXBsaWNhdGUgcmVjZWl2ZWQgbXV0YXRpb25zIHdpbGwgcmVzdWx0IGluIHNvbWUgYmVpbmcgc2VudFxuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBiYWNrZ3JvdW5kIHRocmVhZCwgbGVhZGluZyB0byBhbiBpbmZpbml0ZSBsb29wLlxuICAgICAgICAgICAgICAgIC8vIFRoZSBleGFjdCBtZWNoYW5pc20gYnkgd2hpY2ggdGhpcyBjYW4gaGFwcGVuIGlzIHVuY2xlYXIgYW5kIGl0XG4gICAgICAgICAgICAgICAgLy8gbWF5IGJlIGEgYnVnIG9yIG11dGFibGUgaW1wbGVtZW50YXRpb24gZGV0YWlsIG9mIFZ1ZVguIEkgaHlwb3RoZXNpc2VcbiAgICAgICAgICAgICAgICAvLyB0aGF0IG11bHRpcGxlIG11dGF0aW9ucyBhcnJpdmluZyBpbiBhIHNob3J0IHBlcmlvZCBvZiB0aW1lIGNhbiBnZXRcbiAgICAgICAgICAgICAgICAvLyBiYXRjaGVkIHRvZ2V0aGVyIGluIGEgd2F5IHRoYXQgYWxsb3dzIG11bHRpcGxlIGhvb2tzIHRvIHF1ZXVlIHVwXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIGJlaW5nIGludm9rZWQuIFRodXMgdGhlIGZpcnN0IHRpbWUgdGhhdCB0aGlzIGxvb3AgaXMgY3JlYXRlZFxuICAgICAgICAgICAgICAgIC8vIGl0IHNldHMgdXAgYSBoaWdoZXIgY2hhbmNlIHRoYXQgdGhlIGxvb3Agd2lsbCByZXBlYXQgYWdhaW4sIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gc3VjaCB0aW1lIGFzIHRoZSBiYXRjaGluZyBiZWhhdmlvdXIgaXMgYWxsIGJ1dCBndWFyYW50ZWVkIGFuZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBsb29wIGNhbiBuZXZlciBlbmQuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE11dGF0aW9uKG11dGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb2Nlc3NQZW5kaW5nTXV0YXRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMucGVuZGluZ011dGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wZW5kaW5nTXV0YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBNdXN0IGJlIGEgbG9jYWxseSBjb21taXR0ZWQgbXV0YXRpb25cbiAgICAgICAgICAgIHRoaXMuc2VuZE11dGF0aW9uKHRoaXMucGVuZGluZ011dGF0aW9uc1tpXSk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNdXRhdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4vQWRkb25NZXNzYWdlXCI7XG5pbXBvcnQgeyBWYXVsdE1lc3NhZ2UgfSBmcm9tIFwiLi9WYXVsdE1lc3NhZ2VcIjtcblxuY2xhc3MgQ29udGVudFBvcnRNYW5hZ2VyIHtcbiAgICBwcml2YXRlIHBvcnQ6IGJyb3dzZXIucnVudGltZS5Qb3J0O1xuXG4gICAgcHVibGljIG1peGluID0ge1xuICAgICAgICBtZXRob2RzOiB7XG4gICAgICAgICAgICBwb3N0TWVzc2FnZTogbXNnID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwdWJsaWMgcG9zdE1lc3NhZ2UobXNnOiBBZGRvbk1lc3NhZ2UgfCBWYXVsdE1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKG1zZyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0dXAobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMucG9ydCA9IGJyb3dzZXIucnVudGltZS5jb25uZWN0KHsgbmFtZSB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMucG9ydCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCByYXcoKTogYnJvd3Nlci5ydW50aW1lLlBvcnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3J0O1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFBvcnQgPSBuZXcgQ29udGVudFBvcnRNYW5hZ2VyKCk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1pbm5lci1kZWNsYXJhdGlvbnMgKi9cbmltcG9ydCB7IEZvcm1GaWxsaW5nIH0gZnJvbSBcIi4vZm9ybUZpbGxpbmdcIjtcbmltcG9ydCB7IEZvcm1VdGlscyB9IGZyb20gXCIuL2Zvcm1zVXRpbHNcIjtcbmltcG9ydCB7IEZvcm1TYXZpbmcgfSBmcm9tIFwiLi9mb3JtU2F2aW5nXCI7XG5pbXBvcnQgeyBQYXNzd29yZEdlbmVyYXRvciB9IGZyb20gXCIuL1Bhc3N3b3JkR2VuZXJhdG9yXCI7XG5pbXBvcnQgeyBLZWVMb2cgfSBmcm9tIFwiLi4vY29tbW9uL0xvZ2dlclwiO1xuaW1wb3J0IHsgY29uZmlnTWFuYWdlciB9IGZyb20gXCIuLi9jb21tb24vQ29uZmlnTWFuYWdlclwiO1xuaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4uL2NvbW1vbi9BZGRvbk1lc3NhZ2VcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi9jb21tb24vQWN0aW9uXCI7XG5pbXBvcnQgdXNlU3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5pbXBvcnQgeyBTeW5jQ29udGVudCB9IGZyb20gXCIuLi9zdG9yZS9zeW5jQ29udGVudFwiO1xuaW1wb3J0IHsgUG9ydCB9IGZyb20gXCIuLi9jb21tb24vcG9ydFwiO1xuaW1wb3J0IHsgY3JlYXRlUGluaWEgfSBmcm9tIFwicGluaWFcIjtcbmltcG9ydCB7IE11dGF0aW9uUGF5bG9hZCB9IGZyb20gXCJ+L3N0b3JlL3N5bmNCYWNrZ3JvdW5kXCI7XG5cbi8qIFRoaXMgb3JjaGVzdHJhdGVzIHRoZSBtYWluIGZ1bmN0aW9ucyBvZiB0aGUgYWRkLW9uXG5vbiBhbGwgd2Vic2l0ZSBwYWdlcyBleGNlcHQgdGhvc2UgY29udGFpbmluZyBhIEtQUlBDIHNlcnZlciAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG52YXIga2VlRHVwbGljYXRpb25Db3VudDtcblxuaWYgKGtlZUR1cGxpY2F0aW9uQ291bnQpIHtcbiAgICBpZiAoS2VlTG9nICYmIEtlZUxvZy5lcnJvcikge1xuICAgICAgICBLZWVMb2cuZXJyb3IoXG4gICAgICAgICAgICBcIkR1cGxpY2F0ZSBLZWUgY29udGVudCBzY3JpcHQgaW5zdGFuY2UgZGV0ZWN0ZWQhIEZvdW5kIHRoaXMgbWFueSBvdGhlciBpbnN0YW5jZXM6IFwiICtcbiAgICAgICAgICAgICAgICBrZWVEdXBsaWNhdGlvbkNvdW50XG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRHVwbGljYXRlIEtlZSBjb250ZW50IHNjcmlwdCBpbnN0YW5jZSBkZXRlY3RlZCEgRm91bmQgdGhpcyBtYW55IG90aGVyIGluc3RhbmNlczogXCIgK1xuICAgICAgICAgICAgICAgIGtlZUR1cGxpY2F0aW9uQ291bnRcbiAgICAgICAgKTtcbiAgICB9XG59IGVsc2Uge1xuICAgIGtlZUR1cGxpY2F0aW9uQ291bnQgPSAwO1xufVxua2VlRHVwbGljYXRpb25Db3VudCArPSAxO1xuXG5sZXQgZm9ybVV0aWxzOiBGb3JtVXRpbHM7XG5sZXQgZm9ybUZpbGxpbmc6IEZvcm1GaWxsaW5nO1xubGV0IGZvcm1TYXZpbmc6IEZvcm1TYXZpbmc7XG5sZXQgcGFzc3dvcmRHZW5lcmF0b3I6IFBhc3N3b3JkR2VuZXJhdG9yO1xubGV0IGZyYW1lSWQ6IG51bWJlcjtcbmxldCBzeW5jQ29udGVudDogU3luY0NvbnRlbnQ7XG5sZXQgY29ubmVjdGVkID0gZmFsc2U7XG5sZXQgbWVzc2FnaW5nUG9ydENvbm5lY3Rpb25SZXRyeVRpbWVyOiBudW1iZXI7XG5sZXQgcGFnZVNob3dGaXJlZCA9IGZhbHNlO1xubGV0IGNvbmZpZ1JlYWR5ID0gZmFsc2U7XG5sZXQgbWlzc2luZ1BhZ2VTaG93VGltZXI6IG51bWJlcjtcblxubGV0IGlucHV0c09ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyO1xuY29uc3QgYXBwID0gY3JlYXRlQXBwKGRlZmluZUNvbXBvbmVudCk7XG5hcHAudXNlKGNyZWF0ZVBpbmlhKCkpO1xuY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpO1xuXG4vLyBDb250ZW50IHNjcmlwdHMgYXJlIGluamVjdGVkIGludG8gbm9uLUhUTUwgZG9jdW1lbnRzIHN1Y2ggYXMgU1ZHcy5cbi8vIFdlIGhhdmUgbm8gaW50ZXJlc3QgaW4gdGhpcyBkb2N1bWVudCBpZiBpdCBoYXMgbm8gYm9keSBOb2RlXG5pZiAoZG9jdW1lbnQuYm9keSkge1xuICAgIGlucHV0c09ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbHJlYWR5IHNjaGVkdWxlZCBhIHJlc2NhbiByZWNlbnRseSwgbm8gZnVydGhlciBhY3Rpb24gcmVxdWlyZWRcbiAgICAgICAgaWYgKGZvcm1GaWxsaW5nLmZvcm1GaW5kZXJUaW1lciAhPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIE9ubHkgcHJvY2VlZCBpZiB3ZSBoYXZlIGEgREIgdG8gc2VhcmNoXG4gICAgICAgIGlmICghc3RvcmUuY29ubmVjdGVkIHx8IHN0b3JlLkFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4IDwgMCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCByZXNjYW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgaW50ZXJlc3RpbmdOb2RlcyA9IFtcImZvcm1cIiwgXCJpbnB1dFwiLCBcInNlbGVjdFwiXTtcbiAgICAgICAgbXV0YXRpb25zLmZvckVhY2gobXV0YXRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKHJlc2NhbikgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09IFwiY2hpbGRMaXN0XCIgJiYgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2NhbikgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW50ZXJlc3RpbmdOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IgJiYgZWxlbWVudC5xdWVyeVNlbGVjdG9yKGludGVyZXN0aW5nTm9kZXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzY2FuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2NoZWR1bGUgYSByZXNjYW4gc29vbi4gTm90IGltbWVkaWF0ZWx5LCBpbiBjYXNlIGEgYmF0Y2ggb2YgbXV0YXRpb25zIGFyZSBhYm91dCB0byBiZSB0cmlnZ2VyZWQuXG4gICAgICAgIGlmIChyZXNjYW4pIHtcbiAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZvcm1GaW5kZXJUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbmRNYXRjaGVzSW5UaGlzRnJhbWUuYmluZChmb3JtRmlsbGluZyksXG4gICAgICAgICAgICAgICAgNTAwXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtYXRjaEZpbmRlcih1cmk6IHN0cmluZykge1xuICAgICAgICBQb3J0LnBvc3RNZXNzYWdlKHsgZmluZE1hdGNoZXM6IHsgdXJpIH0gfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHV0b3JpYWxJbnRlZ3JhdGlvbigpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aChcInR1dG9yaWFsLWFkZG9uLmtlZS5wbVwiKSkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIktlZUZveEFkZG9uU3RhdGVUcmFuc2ZlckVsZW1lbnRcIik7XG4gICAgICAgICAgICB0cmFuc2ZlckVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIFwic3RhdGVcIixcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RlZDogc3RvcmUuY29ubmVjdGVkLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBicm93c2VyLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS52ZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBkYkxvYWRlZDogc3RvcmUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggPiAwLFxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uTmFtZXM6IHN0b3JlLktlZVBhc3NEYXRhYmFzZXMubWFwKGRiID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5zZXNzaW9uVHlwZS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICkuZmlsdGVyKCh2LCBpLCBhKSA9PiBhLmluZGV4T2YodikgPT09IGkpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodHJhbnNmZXJFbGVtZW50KTtcblxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoXCJLZWVGb3hBZGRvblN0YXRlVHJhbnNmZXJFdmVudFwiLCB7XG4gICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFuc2ZlckVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkZpcnN0Q29ubmVjdChteUZyYW1lSWQ6IG51bWJlcikge1xuICAgICAgICBmcmFtZUlkID0gbXlGcmFtZUlkO1xuXG4gICAgICAgIEtlZUxvZy5hdHRhY2hDb25maWcoY29uZmlnTWFuYWdlci5jdXJyZW50KTtcbiAgICAgICAgZm9ybVV0aWxzID0gbmV3IEZvcm1VdGlscyhLZWVMb2cpO1xuICAgICAgICBmb3JtU2F2aW5nID0gbmV3IEZvcm1TYXZpbmcoUG9ydC5yYXcsIEtlZUxvZywgZm9ybVV0aWxzKTtcbiAgICAgICAgZm9ybUZpbGxpbmcgPSBuZXcgRm9ybUZpbGxpbmcoXG4gICAgICAgICAgICBQb3J0LnJhdyxcbiAgICAgICAgICAgIGZyYW1lSWQsXG4gICAgICAgICAgICBmb3JtVXRpbHMsXG4gICAgICAgICAgICBmb3JtU2F2aW5nLFxuICAgICAgICAgICAgS2VlTG9nLFxuICAgICAgICAgICAgY29uZmlnTWFuYWdlci5jdXJyZW50LFxuICAgICAgICAgICAgbWF0Y2hGaW5kZXJcbiAgICAgICAgKTtcbiAgICAgICAgcGFzc3dvcmRHZW5lcmF0b3IgPSBuZXcgUGFzc3dvcmRHZW5lcmF0b3IoZnJhbWVJZCk7XG5cbiAgICAgICAgaW5wdXRzT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcblxuICAgICAgICB0dXRvcmlhbEludGVncmF0aW9uKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgICAgICAgS2VlTG9nLmRlYnVnKFwiY29udGVudCBwYWdlIHN0YXJ0aW5nXCIpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uZWN0VG9NZXNzYWdpbmdQb3J0KCk7XG4gICAgICAgICAgICBpZiAoUG9ydC5yYXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEtlZUxvZy53YXJuKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gbWVzc2FnaW5nIHBvcnQuIFdlJ2xsIHRyeSBhZ2FpbiBsYXRlci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBLZWVMb2cud2FybihcbiAgICAgICAgICAgICAgICBcIkZhaWxlZCB0byBjb25uZWN0IHRvIG1lc3NhZ2luZyBwb3J0LiBXZSdsbCB0cnkgYWdhaW4gbGF0ZXIuIEV4Y2VwdGlvbiBtZXNzYWdlOiBcIiArXG4gICAgICAgICAgICAgICAgICAgIGV4Lm1lc3NhZ2VcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNzYWdpbmdQb3J0Q29ubmVjdGlvblJldHJ5VGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKFBvcnQucmF3ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBLZWVMb2cuaW5mbyhcIk1lc3NhZ2luZyBwb3J0IHdhcyBub3QgZXN0YWJsaXNoZWQgYXQgcGFnZSBzdGFydHVwLiBSZXRyeWluZyBub3cuLi5cIik7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdFRvTWVzc2FnaW5nUG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoUG9ydC5yYXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgS2VlTG9nLndhcm4oXCJGYWlsZWQgdG8gY29ubmVjdCB0byBtZXNzYWdpbmcgcG9ydC4gV2UnbGwgdHJ5IGFnYWluIGxhdGVyLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIEtlZUxvZy53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJGYWlsZWQgdG8gY29ubmVjdCB0byBtZXNzYWdpbmcgcG9ydC4gV2UnbGwgdHJ5IGFnYWluIGxhdGVyLiBFeGNlcHRpb24gbWVzc2FnZTogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Lm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobWVzc2FnaW5nUG9ydENvbm5lY3Rpb25SZXRyeVRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG5cbiAgICAgICAgS2VlTG9nLmRlYnVnKFwiY29udGVudCBwYWdlIHJlYWR5XCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbm5lY3RUb01lc3NhZ2luZ1BvcnQoKSB7XG4gICAgICAgIGlmIChQb3J0LnJhdykge1xuICAgICAgICAgICAgS2VlTG9nLndhcm4oXG4gICAgICAgICAgICAgICAgXCJwb3J0IGFscmVhZHkgc2V0IHRvICdcIiArXG4gICAgICAgICAgICAgICAgICAgIFBvcnQucmF3Lm5hbWUgK1xuICAgICAgICAgICAgICAgICAgICBcIicuIFNraXBwaW5nIHN0YXJ0dXAgYmVjYXVzZSBpdCBzaG91bGQgYWxyZWFkeSBiZSB1bmRlcndheSBidXQgaXMgdGFraW5nIGEgbG9uZyB0aW1lLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN5bmNDb250ZW50ID0gbmV3IFN5bmNDb250ZW50KHN0b3JlKTtcbiAgICAgICAgUG9ydC5zdGFydHVwKFwicGFnZVwiKTtcblxuICAgICAgICBQb3J0LnJhdy5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKG06IEFkZG9uTWVzc2FnZSkge1xuICAgICAgICAgICAgS2VlTG9nLmRlYnVnKFwiSW4gYnJvd3NlciBjb250ZW50IHBhZ2Ugc2NyaXB0LCByZWNlaXZlZCBtZXNzYWdlIGZyb20gYmFja2dyb3VuZCBzY3JpcHRcIik7XG5cbiAgICAgICAgICAgIGlmIChtLmluaXRpYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHN5bmNDb250ZW50LmluaXQobS5pbml0aWFsU3RhdGUsIChtdXRhdGlvbjogTXV0YXRpb25QYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIFBvcnQucG9zdE1lc3NhZ2UoeyBtdXRhdGlvbiB9IGFzIEFkZG9uTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobS5tdXRhdGlvbikge1xuICAgICAgICAgICAgICAgIHN5bmNDb250ZW50Lm9uUmVtb3RlTXV0YXRpb24obS5tdXRhdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIG9uRmlyc3RDb25uZWN0KG0uZnJhbWVJZCk7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuZmluZE1hdGNoZXNJblRoaXNGcmFtZSgpO1xuICAgICAgICAgICAgICAgIGNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5EZXRlY3RGb3Jtcykge1xuICAgICAgICAgICAgICAgIGlmIChtLnJlc2V0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29tZXRpbWVzIHRoZSBwYWdlJ3MgVnVleCBzdGF0ZSBjYW4gYmUgb3V0IG9mIHN5bmMgd2l0aCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZCAtIGUuZy4gd2hlbiB0aGUgdGFiIGhhcyBiZWVuIGluYWN0aXZlIGZvciBzb21lXG4gICAgICAgICAgICAgICAgICAgIC8vIHRpbWUuIEluIHRoZXNlIGNhc2VzLCB3ZSBtdXN0IHN1cHBseSB0aGUgZnVsbCBzdGF0ZSBhZ2FpblxuICAgICAgICAgICAgICAgICAgICAvLyBiZWZvcmUgbG9va2luZyBmb3IgbWF0Y2hpbmcgZW50cmllcy5cbiAgICAgICAgICAgICAgICAgICAgc3luY0NvbnRlbnQucmVzZXQobS5yZXNldFN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcucmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKTtcbiAgICAgICAgICAgICAgICBmb3JtU2F2aW5nLnJlbW92ZUFsbFN1Ym1pdEhhbmRsZXJzKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RvcmUuZW50cnlVcGRhdGVTdGFydGVkQXRUaW1lc3RhbXAgPj0gRGF0ZS5ub3coKSAtIDIwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbmRNYXRjaGVzSW5UaGlzRnJhbWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2ZpbGxPblN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b3N1Ym1pdE9uU3VjY2VzczogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuZmluZE1hdGNoZXNJblRoaXNGcmFtZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uZmluZE1hdGNoZXNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5maW5kTG9naW5zUmVzdWx0SGFuZGxlcihtLmZpbmRNYXRjaGVzUmVzdWx0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5NYW51YWxGaWxsICYmIG0uc2VsZWN0ZWRFbnRyeUluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbGxBbmRTdWJtaXQoZmFsc2UsIG51bGwsIG0uc2VsZWN0ZWRFbnRyeUluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5SZXNldEZvcm1zKSB7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcucmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKTtcbiAgICAgICAgICAgICAgICBmb3JtU2F2aW5nLnJlbW92ZUFsbFN1Ym1pdEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtLmFjdGlvbiA9PSBBY3Rpb24uUHJpbWFyeSkge1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmV4ZWN1dGVQcmltYXJ5QWN0aW9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtLmFjdGlvbiA9PSBBY3Rpb24uR2VuZXJhdGVQYXNzd29yZCkge1xuICAgICAgICAgICAgICAgIHBhc3N3b3JkR2VuZXJhdG9yLmNyZWF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobS5hY3Rpb24gPT0gQWN0aW9uLkNsb3NlQWxsUGFuZWxzKSB7XG4gICAgICAgICAgICAgICAgcGFzc3dvcmRHZW5lcmF0b3IuY2xvc2VHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKTtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobS5hY3Rpb24gPT0gQWN0aW9uLlNob3dNYXRjaGVkTG9naW5zUGFuZWwpIHtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5jcmVhdGVNYXRjaGVkTG9naW5zUGFuZWxJbkNlbnRlcihtLmZyYW1lSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsICgpID0+IHtcbiAgICAgICAgcGFnZVNob3dGaXJlZCA9IHRydWU7XG4gICAgICAgIGNsZWFyVGltZW91dChtaXNzaW5nUGFnZVNob3dUaW1lcik7XG4gICAgICAgIGlmIChjb25maWdSZWFkeSkge1xuICAgICAgICAgICAgc3RhcnR1cCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCAoKSA9PiB7XG4gICAgICAgIGlucHV0c09ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKFBvcnQucmF3KSBQb3J0LnBvc3RNZXNzYWdlKHsgYWN0aW9uOiBBY3Rpb24uUGFnZUhpZGUgfSk7XG4gICAgICAgIGZvcm1GaWxsaW5nLnJlbW92ZUtlZUljb25Gcm9tQWxsRmllbGRzKCk7XG4gICAgICAgIFBvcnQuc2h1dGRvd24oKTtcbiAgICAgICAgY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIGZyYW1lSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvcm1VdGlscyA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9ybVNhdmluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9ybUZpbGxpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHBhc3N3b3JkR2VuZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgLy8gTG9hZCBvdXIgY29uZmlnXG4gICAgY29uZmlnTWFuYWdlci5sb2FkKCgpID0+IHtcbiAgICAgICAgY29uZmlnUmVhZHkgPSB0cnVlO1xuICAgICAgICBpZiAocGFnZVNob3dGaXJlZCkge1xuICAgICAgICAgICAgc3RhcnR1cCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUGFnZSBzaG93IGRvZXMgbm90IGFsd2F5cyBmaXJlIChlLmcuIG9uIGZpcnN0IGluc3RhbGwgb2YgdGhlIGV4dGVuc2lvbilcbiAgICAgICAgICAgIC8vIHNvIHdlIHdvbid0IHdhaXQgYXJvdW5kIGZvcmV2ZXIsIGF0IHRoZSBjb3N0IG9mIG9jY2FzaW9uYWwgZHVwbGljYXRlXG4gICAgICAgICAgICAvLyBzdGFydHVwIGNvZGUgLSBicm9hZGx5IGxpbWl0ZWQgdG8gZGlzY292ZXJpbmcgdGhhdCB0aGUgbWVzc2FnZSBwb3J0XG4gICAgICAgICAgICAvLyBpcyBhbHJlYWR5IGVzdGFibGlzaGVkLlxuICAgICAgICAgICAgbWlzc2luZ1BhZ2VTaG93VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChzdGFydHVwLCAxNTAwKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbIm1ha2VNYXAiLCJzdHIiLCJleHBlY3RzTG93ZXJDYXNlIiwibWFwIiwibGlzdCIsInZhbCIsImlzR2xvYmFsbHlXaGl0ZWxpc3RlZCIsIm5vcm1hbGl6ZVN0eWxlIiwidmFsdWUiLCJpc0FycmF5IiwicmVzIiwiaSIsIml0ZW0iLCJub3JtYWxpemVkIiwiaXNTdHJpbmciLCJwYXJzZVN0cmluZ1N0eWxlIiwia2V5IiwiaXNPYmplY3QiLCJsaXN0RGVsaW1pdGVyUkUiLCJwcm9wZXJ0eURlbGltaXRlclJFIiwic3R5bGVDb21tZW50UkUiLCJjc3NUZXh0IiwicmV0IiwidG1wIiwibm9ybWFsaXplQ2xhc3MiLCJuYW1lIiwibm9ybWFsaXplUHJvcHMiLCJwcm9wcyIsImtsYXNzIiwic3R5bGUiLCJIVE1MX1RBR1MiLCJTVkdfVEFHUyIsImlzSFRNTFRhZyIsImlzU1ZHVGFnIiwiaXNTcGVjaWFsQm9vbGVhbkF0dHIiLCJpbmNsdWRlQm9vbGVhbkF0dHIiLCJsb29zZUNvbXBhcmVBcnJheXMiLCJhIiwiYiIsImVxdWFsIiwibG9vc2VFcXVhbCIsImFWYWxpZFR5cGUiLCJpc0RhdGUiLCJiVmFsaWRUeXBlIiwiaXNTeW1ib2wiLCJhS2V5c0NvdW50IiwiYktleXNDb3VudCIsImFIYXNLZXkiLCJiSGFzS2V5IiwibG9vc2VJbmRleE9mIiwiYXJyIiwidG9EaXNwbGF5U3RyaW5nIiwib2JqZWN0VG9TdHJpbmciLCJpc0Z1bmN0aW9uIiwicmVwbGFjZXIiLCJfa2V5IiwiaXNNYXAiLCJlbnRyaWVzIiwiaXNTZXQiLCJpc1BsYWluT2JqZWN0IiwiRU1QVFlfT0JKIiwiRU1QVFlfQVJSIiwiTk9PUCIsIk5PIiwib25SRSIsImlzT24iLCJpc01vZGVsTGlzdGVuZXIiLCJleHRlbmQiLCJyZW1vdmUiLCJlbCIsImhhc093blByb3BlcnR5IiwiaGFzT3duIiwidG9UeXBlU3RyaW5nIiwiaXNQcm9taXNlIiwidG9SYXdUeXBlIiwiaXNJbnRlZ2VyS2V5IiwiaXNSZXNlcnZlZFByb3AiLCJpc0J1aWx0SW5EaXJlY3RpdmUiLCJjYWNoZVN0cmluZ0Z1bmN0aW9uIiwiZm4iLCJjYWNoZSIsImNhbWVsaXplUkUiLCJjYW1lbGl6ZSIsIl8iLCJjIiwiaHlwaGVuYXRlUkUiLCJoeXBoZW5hdGUiLCJjYXBpdGFsaXplIiwidG9IYW5kbGVyS2V5IiwiaGFzQ2hhbmdlZCIsIm9sZFZhbHVlIiwiaW52b2tlQXJyYXlGbnMiLCJmbnMiLCJhcmciLCJkZWYiLCJvYmoiLCJ0b051bWJlciIsIm4iLCJfZ2xvYmFsVGhpcyIsImdldEdsb2JhbFRoaXMiLCJ3YXJuIiwibXNnIiwiYXJncyIsImFjdGl2ZUVmZmVjdFNjb3BlIiwiRWZmZWN0U2NvcGUiLCJkZXRhY2hlZCIsImN1cnJlbnRFZmZlY3RTY29wZSIsImZyb21QYXJlbnQiLCJsIiwibGFzdCIsImVmZmVjdFNjb3BlIiwicmVjb3JkRWZmZWN0U2NvcGUiLCJlZmZlY3QiLCJzY29wZSIsImdldEN1cnJlbnRTY29wZSIsIm9uU2NvcGVEaXNwb3NlIiwiY3JlYXRlRGVwIiwiZWZmZWN0cyIsImRlcCIsIndhc1RyYWNrZWQiLCJ0cmFja09wQml0IiwibmV3VHJhY2tlZCIsImluaXREZXBNYXJrZXJzIiwiZGVwcyIsImZpbmFsaXplRGVwTWFya2VycyIsInB0ciIsInRhcmdldE1hcCIsImVmZmVjdFRyYWNrRGVwdGgiLCJtYXhNYXJrZXJCaXRzIiwiYWN0aXZlRWZmZWN0IiwiSVRFUkFURV9LRVkiLCJNQVBfS0VZX0lURVJBVEVfS0VZIiwiUmVhY3RpdmVFZmZlY3QiLCJzY2hlZHVsZXIiLCJwYXJlbnQiLCJsYXN0U2hvdWxkVHJhY2siLCJzaG91bGRUcmFjayIsImNsZWFudXBFZmZlY3QiLCJvcHRpb25zIiwiX2VmZmVjdCIsInJ1bm5lciIsInN0b3AiLCJ0cmFja1N0YWNrIiwicGF1c2VUcmFja2luZyIsInJlc2V0VHJhY2tpbmciLCJ0cmFjayIsInRhcmdldCIsInR5cGUiLCJkZXBzTWFwIiwidHJhY2tFZmZlY3RzIiwiZGVidWdnZXJFdmVudEV4dHJhSW5mbyIsInRyaWdnZXIiLCJuZXdWYWx1ZSIsIm9sZFRhcmdldCIsIm5ld0xlbmd0aCIsImV2ZW50SW5mbyIsInRyaWdnZXJFZmZlY3RzIiwidHJpZ2dlckVmZmVjdCIsImlzTm9uVHJhY2thYmxlS2V5cyIsImJ1aWx0SW5TeW1ib2xzIiwiZ2V0IiwiY3JlYXRlR2V0dGVyIiwic2hhbGxvd0dldCIsInJlYWRvbmx5R2V0Iiwic2hhbGxvd1JlYWRvbmx5R2V0IiwiYXJyYXlJbnN0cnVtZW50YXRpb25zIiwiY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zIiwiaW5zdHJ1bWVudGF0aW9ucyIsInRvUmF3IiwiaXNSZWFkb25seSIsInNoYWxsb3ciLCJyZWNlaXZlciIsInNoYWxsb3dSZWFkb25seU1hcCIsInJlYWRvbmx5TWFwIiwic2hhbGxvd1JlYWN0aXZlTWFwIiwicmVhY3RpdmVNYXAiLCJ0YXJnZXRJc0FycmF5IiwiaXNSZWYiLCJyZWFkb25seSIsInJlYWN0aXZlIiwic2V0IiwiY3JlYXRlU2V0dGVyIiwic2hhbGxvd1NldCIsImlzU2hhbGxvdyIsImhhZEtleSIsInJlc3VsdCIsImRlbGV0ZVByb3BlcnR5IiwiaGFzIiwib3duS2V5cyIsIm11dGFibGVIYW5kbGVycyIsInJlYWRvbmx5SGFuZGxlcnMiLCJzaGFsbG93UmVhY3RpdmVIYW5kbGVycyIsInNoYWxsb3dSZWFkb25seUhhbmRsZXJzIiwidG9TaGFsbG93IiwiZ2V0UHJvdG8iLCJ2IiwiZ2V0JDEiLCJyYXdUYXJnZXQiLCJyYXdLZXkiLCJ3cmFwIiwidG9SZWFkb25seSIsInRvUmVhY3RpdmUiLCJoYXMkMSIsInNpemUiLCJhZGQiLCJzZXQkMSIsImNoZWNrSWRlbnRpdHlLZXlzIiwiZGVsZXRlRW50cnkiLCJjbGVhciIsImhhZEl0ZW1zIiwiY3JlYXRlRm9yRWFjaCIsImNhbGxiYWNrIiwidGhpc0FyZyIsIm9ic2VydmVkIiwiY3JlYXRlSXRlcmFibGVNZXRob2QiLCJtZXRob2QiLCJ0YXJnZXRJc01hcCIsImlzUGFpciIsImlzS2V5T25seSIsImlubmVySXRlcmF0b3IiLCJkb25lIiwiY3JlYXRlUmVhZG9ubHlNZXRob2QiLCJjcmVhdGVJbnN0cnVtZW50YXRpb25zIiwibXV0YWJsZUluc3RydW1lbnRhdGlvbnMiLCJzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyIsInJlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyIsInNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMiLCJjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIiLCJtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzIiwic2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyIsInJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwic2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwidGFyZ2V0VHlwZU1hcCIsInJhd1R5cGUiLCJnZXRUYXJnZXRUeXBlIiwiY3JlYXRlUmVhY3RpdmVPYmplY3QiLCJzaGFsbG93UmVhY3RpdmUiLCJzaGFsbG93UmVhZG9ubHkiLCJiYXNlSGFuZGxlcnMiLCJjb2xsZWN0aW9uSGFuZGxlcnMiLCJwcm94eU1hcCIsImV4aXN0aW5nUHJveHkiLCJ0YXJnZXRUeXBlIiwicHJveHkiLCJpc1JlYWN0aXZlIiwiaXNQcm94eSIsInJhdyIsIm1hcmtSYXciLCJ0cmFja1JlZlZhbHVlIiwicmVmIiwidHJpZ2dlclJlZlZhbHVlIiwibmV3VmFsIiwiciIsImNyZWF0ZVJlZiIsInNoYWxsb3dSZWYiLCJyYXdWYWx1ZSIsIlJlZkltcGwiLCJfX3ZfaXNTaGFsbG93IiwidXNlRGlyZWN0VmFsdWUiLCJ0cmlnZ2VyUmVmIiwidW5yZWYiLCJzaGFsbG93VW53cmFwSGFuZGxlcnMiLCJwcm94eVJlZnMiLCJvYmplY3RXaXRoUmVmcyIsIkN1c3RvbVJlZkltcGwiLCJmYWN0b3J5IiwiY3VzdG9tUmVmIiwidG9SZWZzIiwib2JqZWN0IiwidG9SZWYiLCJPYmplY3RSZWZJbXBsIiwiX29iamVjdCIsIl9kZWZhdWx0VmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJfYSIsIkNvbXB1dGVkUmVmSW1wbCIsImdldHRlciIsIl9zZXR0ZXIiLCJpc1NTUiIsInNlbGYiLCJjb21wdXRlZCIsImdldHRlck9yT3B0aW9ucyIsImRlYnVnT3B0aW9ucyIsInNldHRlciIsIm9ubHlHZXR0ZXIiLCJjUmVmIiwic3RhY2siLCJwdXNoV2FybmluZ0NvbnRleHQiLCJ2bm9kZSIsInBvcFdhcm5pbmdDb250ZXh0Iiwid2FybiQxIiwiaW5zdGFuY2UiLCJhcHBXYXJuSGFuZGxlciIsInRyYWNlIiwiZ2V0Q29tcG9uZW50VHJhY2UiLCJjYWxsV2l0aEVycm9ySGFuZGxpbmciLCJmb3JtYXRDb21wb25lbnROYW1lIiwid2FybkFyZ3MiLCJmb3JtYXRUcmFjZSIsImN1cnJlbnRWTm9kZSIsIm5vcm1hbGl6ZWRTdGFjayIsInBhcmVudEluc3RhbmNlIiwibG9ncyIsImVudHJ5IiwiZm9ybWF0VHJhY2VFbnRyeSIsInJlY3Vyc2VDb3VudCIsInBvc3RmaXgiLCJpc1Jvb3QiLCJvcGVuIiwiY2xvc2UiLCJmb3JtYXRQcm9wcyIsImtleXMiLCJmb3JtYXRQcm9wIiwiRXJyb3JUeXBlU3RyaW5ncyIsImVyciIsImhhbmRsZUVycm9yIiwiY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmciLCJ2YWx1ZXMiLCJ0aHJvd0luRGV2IiwiY29udGV4dFZOb2RlIiwiY3VyIiwiZXhwb3NlZEluc3RhbmNlIiwiZXJyb3JJbmZvIiwiZXJyb3JDYXB0dXJlZEhvb2tzIiwiYXBwRXJyb3JIYW5kbGVyIiwibG9nRXJyb3IiLCJpbmZvIiwiaXNGbHVzaGluZyIsImlzRmx1c2hQZW5kaW5nIiwicXVldWUiLCJmbHVzaEluZGV4IiwicGVuZGluZ1Bvc3RGbHVzaENicyIsImFjdGl2ZVBvc3RGbHVzaENicyIsInBvc3RGbHVzaEluZGV4IiwicmVzb2x2ZWRQcm9taXNlIiwiY3VycmVudEZsdXNoUHJvbWlzZSIsIlJFQ1VSU0lPTl9MSU1JVCIsIm5leHRUaWNrIiwicCIsImZpbmRJbnNlcnRpb25JbmRleCIsImlkIiwic3RhcnQiLCJlbmQiLCJtaWRkbGUiLCJnZXRJZCIsInF1ZXVlSm9iIiwiam9iIiwicXVldWVGbHVzaCIsImZsdXNoSm9icyIsImludmFsaWRhdGVKb2IiLCJxdWV1ZVBvc3RGbHVzaENiIiwiY2IiLCJmbHVzaFByZUZsdXNoQ2JzIiwic2VlbiIsImNoZWNrUmVjdXJzaXZlVXBkYXRlcyIsImZsdXNoUG9zdEZsdXNoQ2JzIiwiZGVkdXBlZCIsImNvbXBhcmF0b3IiLCJkaWZmIiwiY2hlY2siLCJjb3VudCIsImNvbXBvbmVudE5hbWUiLCJnZXRDb21wb25lbnROYW1lIiwiaXNIbXJVcGRhdGluZyIsImhtckRpcnR5Q29tcG9uZW50cyIsInRyeVdyYXAiLCJjcmVhdGVSZWNvcmQiLCJyZXJlbmRlciIsInJlbG9hZCIsInJlZ2lzdGVySE1SIiwicmVjb3JkIiwidW5yZWdpc3RlckhNUiIsImluaXRpYWxEZWYiLCJub3JtYWxpemVDbGFzc0NvbXBvbmVudCIsImNvbXBvbmVudCIsImlzQ2xhc3NDb21wb25lbnQiLCJuZXdSZW5kZXIiLCJuZXdDb21wIiwidXBkYXRlQ29tcG9uZW50RGVmIiwiaW5zdGFuY2VzIiwib2xkQ29tcCIsImUiLCJkZXZ0b29scyIsImJ1ZmZlciIsImRldnRvb2xzTm90SW5zdGFsbGVkIiwiZW1pdCIsImV2ZW50Iiwic2V0RGV2dG9vbHNIb29rIiwiaG9vayIsIl9iIiwibmV3SG9vayIsImRldnRvb2xzSW5pdEFwcCIsImFwcCIsInZlcnNpb24iLCJGcmFnbWVudCIsIlRleHQiLCJDb21tZW50IiwiU3RhdGljIiwiZGV2dG9vbHNVbm1vdW50QXBwIiwiZGV2dG9vbHNDb21wb25lbnRBZGRlZCIsImNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayIsImRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCIsIl9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQiLCJkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQiLCJkZXZ0b29sc1BlcmZTdGFydCIsImNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rIiwiZGV2dG9vbHNQZXJmRW5kIiwidGltZSIsImRldnRvb2xzQ29tcG9uZW50RW1pdCIsInBhcmFtcyIsImRlcHJlY2F0aW9uRGF0YSIsImlzUnVudGltZU9ubHkiLCJsZWdhY3lIb29rIiwiY29lcmNlZCIsImNvbXAiLCJjb25maWdNc2ciLCJpbnN0YW5jZVdhcm5lZCIsIndhcm5Db3VudCIsIndhcm5EZXByZWNhdGlvbiIsImdldEN1cnJlbnRJbnN0YW5jZSIsImdldENvbXBhdENvbmZpZ0ZvcktleSIsImR1cEtleSIsImNvbXBJZCIsImNvbXBvbmVudER1cEtleSIsIm1lc3NhZ2UiLCJsaW5rIiwiaXNDb21wYXRFbmFibGVkIiwiZ2xvYmFsQ29tcGF0Q29uZmlnIiwiY29uZmlndXJlQ29tcGF0IiwiY29uZmlnIiwidmFsaWRhdGVDb21wYXRDb25maWciLCJzZWVuQ29uZmlnT2JqZWN0cyIsIndhcm5lZEludmFsaWRLZXlzIiwiaW5zdGFuY2VDb25maWciLCJlbmFibGVGb3JCdWlsdEluIiwicmF3TW9kZSIsImFzc2VydENvbXBhdEVuYWJsZWQiLCJzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZCIsImNoZWNrQ29tcGF0RW5hYmxlZCIsImVuYWJsZWQiLCJldmVudFJlZ2lzdHJ5TWFwIiwiZ2V0UmVnaXN0cnkiLCJldmVudHMiLCJvbiIsIm9uY2UiLCJ3cmFwcGVkIiwib2ZmIiwidm0iLCJjYnMiLCJlbWl0JDEiLCJjb21wYXRNb2RlbEV2ZW50UHJlZml4Iiwid2FybmVkVHlwZXMiLCJjb252ZXJ0TGVnYWN5Vk1vZGVsUHJvcHMiLCJzaGFwZUZsYWciLCJkeW5hbWljUHJvcHMiLCJtb2RlbCIsImFwcGx5TW9kZWxGcm9tTWl4aW5zIiwicHJvcCIsIm1peGlucyIsIm0iLCJjb21wYXRNb2RlbEVtaXQiLCJtb2RlbEhhbmRsZXIiLCJlbWl0JDIiLCJyYXdBcmdzIiwiZW1pdHNPcHRpb25zIiwicHJvcHNPcHRpb25zIiwidmFsaWRhdG9yIiwibW9kZWxBcmciLCJtb2RpZmllcnNLZXkiLCJudW1iZXIiLCJ0cmltIiwibG93ZXJDYXNlRXZlbnQiLCJoYW5kbGVyTmFtZSIsImhhbmRsZXIiLCJvbmNlSGFuZGxlciIsIm5vcm1hbGl6ZUVtaXRzT3B0aW9ucyIsImFwcENvbnRleHQiLCJhc01peGluIiwiY2FjaGVkIiwiaGFzRXh0ZW5kcyIsImV4dGVuZEVtaXRzIiwibm9ybWFsaXplZEZyb21FeHRlbmQiLCJpc0VtaXRMaXN0ZW5lciIsImN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsImN1cnJlbnRTY29wZUlkIiwic2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlIiwicHJldiIsInB1c2hTY29wZUlkIiwicG9wU2NvcGVJZCIsIndpdGhTY29wZUlkIiwiX2lkIiwid2l0aEN0eCIsImN0eCIsImlzTm9uU2NvcGVkU2xvdCIsInJlbmRlckZuV2l0aENvbnRleHQiLCJzZXRCbG9ja1RyYWNraW5nIiwicHJldkluc3RhbmNlIiwiYWNjZXNzZWRBdHRycyIsIm1hcmtBdHRyc0FjY2Vzc2VkIiwicmVuZGVyQ29tcG9uZW50Um9vdCIsIkNvbXBvbmVudCIsIndpdGhQcm94eSIsInNsb3RzIiwiYXR0cnMiLCJyZW5kZXIiLCJyZW5kZXJDYWNoZSIsImRhdGEiLCJzZXR1cFN0YXRlIiwiaW5oZXJpdEF0dHJzIiwiZmFsbHRocm91Z2hBdHRycyIsInByb3h5VG9Vc2UiLCJub3JtYWxpemVWTm9kZSIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsImJsb2NrU3RhY2siLCJjcmVhdGVWTm9kZSIsInJvb3QiLCJzZXRSb290IiwiZ2V0Q2hpbGRSb290IiwiZmlsdGVyTW9kZWxMaXN0ZW5lcnMiLCJjbG9uZVZOb2RlIiwiYWxsQXR0cnMiLCJldmVudEF0dHJzIiwiZXh0cmFBdHRycyIsImNscyIsImlzRWxlbWVudFJvb3QiLCJyYXdDaGlsZHJlbiIsImR5bmFtaWNDaGlsZHJlbiIsImNoaWxkUm9vdCIsImZpbHRlclNpbmdsZVJvb3QiLCJpbmRleCIsImR5bmFtaWNJbmRleCIsInVwZGF0ZWRSb290IiwiY2hpbGRyZW4iLCJzaW5nbGVSb290IiwiY2hpbGQiLCJpc1ZOb2RlIiwic2hvdWxkVXBkYXRlQ29tcG9uZW50IiwicHJldlZOb2RlIiwibmV4dFZOb2RlIiwib3B0aW1pemVkIiwicHJldlByb3BzIiwicHJldkNoaWxkcmVuIiwibmV4dFByb3BzIiwibmV4dENoaWxkcmVuIiwicGF0Y2hGbGFnIiwiZW1pdHMiLCJoYXNQcm9wc0NoYW5nZWQiLCJuZXh0S2V5cyIsInVwZGF0ZUhPQ0hvc3RFbCIsImlzU3VzcGVuc2UiLCJTdXNwZW5zZSIsIm4xIiwibjIiLCJjb250YWluZXIiLCJhbmNob3IiLCJwYXJlbnRDb21wb25lbnQiLCJwYXJlbnRTdXNwZW5zZSIsImlzU1ZHIiwic2xvdFNjb3BlSWRzIiwicmVuZGVyZXJJbnRlcm5hbHMiLCJtb3VudFN1c3BlbnNlIiwicGF0Y2hTdXNwZW5zZSIsImh5ZHJhdGVTdXNwZW5zZSIsImNyZWF0ZVN1c3BlbnNlQm91bmRhcnkiLCJub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuIiwidHJpZ2dlckV2ZW50IiwiZXZlbnRMaXN0ZW5lciIsInBhdGNoIiwiY3JlYXRlRWxlbWVudCIsImhpZGRlbkNvbnRhaW5lciIsInN1c3BlbnNlIiwic2V0QWN0aXZlQnJhbmNoIiwidW5tb3VudCIsIm5ld0JyYW5jaCIsIm5ld0ZhbGxiYWNrIiwiYWN0aXZlQnJhbmNoIiwicGVuZGluZ0JyYW5jaCIsImlzSW5GYWxsYmFjayIsImlzSHlkcmF0aW5nIiwiaXNTYW1lVk5vZGVUeXBlIiwidGltZW91dCIsInBlbmRpbmdJZCIsImhhc1dhcm5lZCIsIm1vdmUiLCJuZXh0IiwicGFyZW50Tm9kZSIsInJlc3VtZSIsImRlbGF5RW50ZXIiLCJoYXNVbnJlc29sdmVkQW5jZXN0b3IiLCJmYWxsYmFja1ZOb2RlIiwibW91bnRGYWxsYmFjayIsInNldHVwUmVuZGVyRWZmZWN0IiwiaXNJblBlbmRpbmdTdXNwZW5zZSIsImh5ZHJhdGVkRWwiLCJhc3luY1NldHVwUmVzdWx0IiwiaGFuZGxlU2V0dXBSZXN1bHQiLCJwbGFjZWhvbGRlciIsImRvUmVtb3ZlIiwibm9kZSIsImh5ZHJhdGVOb2RlIiwiaXNTbG90Q2hpbGRyZW4iLCJub3JtYWxpemVTdXNwZW5zZVNsb3QiLCJzIiwiYmxvY2siLCJ0cmFja0Jsb2NrIiwiaXNCbG9ja1RyZWVFbmFibGVkIiwib3BlbkJsb2NrIiwiY3VycmVudEJsb2NrIiwiY2xvc2VCbG9jayIsInNpbmdsZUNoaWxkIiwicXVldWVFZmZlY3RXaXRoU3VzcGVuc2UiLCJicmFuY2giLCJwcm92aWRlIiwiY3VycmVudEluc3RhbmNlIiwicHJvdmlkZXMiLCJwYXJlbnRQcm92aWRlcyIsImluamVjdCIsInRyZWF0RGVmYXVsdEFzRmFjdG9yeSIsIndhdGNoRWZmZWN0IiwiZG9XYXRjaCIsIndhdGNoUG9zdEVmZmVjdCIsIndhdGNoU3luY0VmZmVjdCIsIklOSVRJQUxfV0FUQ0hFUl9WQUxVRSIsIndhdGNoIiwic291cmNlIiwiaW1tZWRpYXRlIiwiZGVlcCIsImZsdXNoIiwib25UcmFjayIsIm9uVHJpZ2dlciIsIndhcm5JbnZhbGlkU291cmNlIiwiZm9yY2VUcmlnZ2VyIiwiaXNNdWx0aVNvdXJjZSIsInRyYXZlcnNlIiwiY2xlYW51cCIsIm9uQ2xlYW51cCIsImJhc2VHZXR0ZXIiLCJzc3JDbGVhbnVwIiwiaXNJblNTUkNvbXBvbmVudFNldHVwIiwidXNlU1NSQ29udGV4dCIsInF1ZXVlUG9zdFJlbmRlckVmZmVjdCIsInVud2F0Y2giLCJpbnN0YW5jZVdhdGNoIiwicHVibGljVGhpcyIsImNyZWF0ZVBhdGhHZXR0ZXIiLCJzZXRDdXJyZW50SW5zdGFuY2UiLCJ1bnNldEN1cnJlbnRJbnN0YW5jZSIsInBhdGgiLCJzZWdtZW50cyIsInVzZVRyYW5zaXRpb25TdGF0ZSIsInN0YXRlIiwib25Nb3VudGVkIiwib25CZWZvcmVVbm1vdW50IiwiVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IiLCJCYXNlVHJhbnNpdGlvbkltcGwiLCJwcmV2VHJhbnNpdGlvbktleSIsImdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiIsImhhc0ZvdW5kIiwicmF3UHJvcHMiLCJtb2RlIiwiZW1wdHlQbGFjZWhvbGRlciIsImlubmVyQ2hpbGQiLCJnZXRLZWVwQWxpdmVDaGlsZCIsImVudGVySG9va3MiLCJyZXNvbHZlVHJhbnNpdGlvbkhvb2tzIiwic2V0VHJhbnNpdGlvbkhvb2tzIiwib2xkQ2hpbGQiLCJvbGRJbm5lckNoaWxkIiwidHJhbnNpdGlvbktleUNoYW5nZWQiLCJnZXRUcmFuc2l0aW9uS2V5IiwibGVhdmluZ0hvb2tzIiwiZWFybHlSZW1vdmUiLCJkZWxheWVkTGVhdmUiLCJsZWF2aW5nVk5vZGVzQ2FjaGUiLCJnZXRMZWF2aW5nTm9kZXNGb3JUeXBlIiwiQmFzZVRyYW5zaXRpb24iLCJsZWF2aW5nVk5vZGVzIiwiYXBwZWFyIiwicGVyc2lzdGVkIiwib25CZWZvcmVFbnRlciIsIm9uRW50ZXIiLCJvbkFmdGVyRW50ZXIiLCJvbkVudGVyQ2FuY2VsbGVkIiwib25CZWZvcmVMZWF2ZSIsIm9uTGVhdmUiLCJvbkFmdGVyTGVhdmUiLCJvbkxlYXZlQ2FuY2VsbGVkIiwib25CZWZvcmVBcHBlYXIiLCJvbkFwcGVhciIsIm9uQWZ0ZXJBcHBlYXIiLCJvbkFwcGVhckNhbmNlbGxlZCIsImNhbGxIb29rIiwiY2FsbEFzeW5jSG9vayIsImhvb2tzIiwibGVhdmluZ1ZOb2RlIiwiYWZ0ZXJIb29rIiwiY2FuY2VsSG9vayIsImNhbGxlZCIsImNhbmNlbGxlZCIsImlzS2VlcEFsaXZlIiwia2VlcENvbW1lbnQiLCJwYXJlbnRLZXkiLCJrZXllZEZyYWdtZW50Q291bnQiLCJkZWZpbmVDb21wb25lbnQiLCJpc0FzeW5jV3JhcHBlciIsImRlZmluZUFzeW5jQ29tcG9uZW50IiwibG9hZGVyIiwibG9hZGluZ0NvbXBvbmVudCIsImVycm9yQ29tcG9uZW50IiwiZGVsYXkiLCJzdXNwZW5zaWJsZSIsInVzZXJPbkVycm9yIiwicGVuZGluZ1JlcXVlc3QiLCJyZXNvbHZlZENvbXAiLCJyZXRyaWVzIiwicmV0cnkiLCJsb2FkIiwidGhpc1JlcXVlc3QiLCJyZXNvbHZlIiwicmVqZWN0IiwiY3JlYXRlSW5uZXJDb21wIiwib25FcnJvciIsImxvYWRlZCIsImVycm9yIiwiZGVsYXllZCIsImNlIiwiS2VlcEFsaXZlSW1wbCIsInNoYXJlZENvbnRleHQiLCJjdXJyZW50IiwiX3VubW91bnQiLCJzdG9yYWdlQ29udGFpbmVyIiwidm5vZGVIb29rIiwiaW52b2tlVk5vZGVIb29rIiwicmVzZXRTaGFwZUZsYWciLCJwcnVuZUNhY2hlIiwiZmlsdGVyIiwicHJ1bmVDYWNoZUVudHJ5IiwiaW5jbHVkZSIsImV4Y2x1ZGUiLCJtYXRjaGVzIiwicGVuZGluZ0NhY2hlS2V5IiwiY2FjaGVTdWJ0cmVlIiwiZ2V0SW5uZXJDaGlsZCIsIm9uVXBkYXRlZCIsInN1YlRyZWUiLCJkYSIsInJhd1ZOb2RlIiwibWF4IiwiY2FjaGVkVk5vZGUiLCJLZWVwQWxpdmUiLCJwYXR0ZXJuIiwib25BY3RpdmF0ZWQiLCJyZWdpc3RlcktlZXBBbGl2ZUhvb2siLCJvbkRlYWN0aXZhdGVkIiwid3JhcHBlZEhvb2siLCJpbmplY3RIb29rIiwiaW5qZWN0VG9LZWVwQWxpdmVSb290Iiwia2VlcEFsaXZlUm9vdCIsImluamVjdGVkIiwib25Vbm1vdW50ZWQiLCJwcmVwZW5kIiwiYXBpTmFtZSIsImNyZWF0ZUhvb2siLCJsaWZlY3ljbGUiLCJvbkJlZm9yZU1vdW50Iiwib25CZWZvcmVVcGRhdGUiLCJvblNlcnZlclByZWZldGNoIiwib25SZW5kZXJUcmlnZ2VyZWQiLCJvblJlbmRlclRyYWNrZWQiLCJvbkVycm9yQ2FwdHVyZWQiLCJnZXRDb21wYXRDaGlsZHJlbiIsIndhbGsiLCJ2bm9kZXMiLCJnZXRDb21wYXRMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJsZWdhY3lEaXJlY3RpdmVIb29rTWFwIiwibWFwQ29tcGF0RGlyZWN0aXZlSG9vayIsImRpciIsIm1hcHBlZE5hbWUiLCJtYXBwZWQiLCJtYXBwZWRIb29rIiwidmFsaWRhdGVEaXJlY3RpdmVOYW1lIiwid2l0aERpcmVjdGl2ZXMiLCJkaXJlY3RpdmVzIiwiaW50ZXJuYWxJbnN0YW5jZSIsImdldEV4cG9zZVByb3h5IiwiYmluZGluZ3MiLCJtb2RpZmllcnMiLCJpbnZva2VEaXJlY3RpdmVIb29rIiwib2xkQmluZGluZ3MiLCJiaW5kaW5nIiwiQ09NUE9ORU5UUyIsIkRJUkVDVElWRVMiLCJGSUxURVJTIiwicmVzb2x2ZUNvbXBvbmVudCIsIm1heWJlU2VsZlJlZmVyZW5jZSIsInJlc29sdmVBc3NldCIsIk5VTExfRFlOQU1JQ19DT01QT05FTlQiLCJyZXNvbHZlRHluYW1pY0NvbXBvbmVudCIsInJlc29sdmVEaXJlY3RpdmUiLCJyZXNvbHZlRmlsdGVyIiwid2Fybk1pc3NpbmciLCJzZWxmTmFtZSIsImV4dHJhIiwicmVnaXN0cnkiLCJjb252ZXJ0TGVnYWN5UmVuZGVyRm4iLCJjb21wYXRIIiwicHJvcHNPckNoaWxkcmVuIiwidCIsImlzMm5kQXJnQXJyYXlDaGlsZHJlbiIsImNvbnZlcnRMZWdhY3lTbG90cyIsImNvbnZlcnRMZWdhY3lEaXJlY3RpdmVzIiwiY29udmVydExlZ2FjeVByb3BzIiwic2tpcExlZ2FjeVJvb3RMZXZlbFByb3BzIiwibGVnYWN5UHJvcHMiLCJjb252ZXJ0ZWQiLCJoYW5kbGVyS2V5IiwiY29udmVydExlZ2FjeUV2ZW50S2V5IiwiZXhpc3RpbmciLCJpbmNvbWluZyIsInNsb3ROYW1lIiwic2xvdCIsInNsb3RDaGlsZHJlbiIsInNjb3BlZFNsb3RzIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJkZWZpbmVMZWdhY3lWTm9kZVByb3BlcnRpZXMiLCJjb250ZXh0IiwiZ2V0SW5zdGFuY2UiLCJjb21wb25lbnRPcHRpb25zIiwibm9ybWFsaXplZEZ1bmN0aW9uYWxDb21wb25lbnRNYXAiLCJsZWdhY3lTbG90UHJveHlIYW5kbGVycyIsImNvbnZlcnRMZWdhY3lGdW5jdGlvbmFsQ29tcG9uZW50IiwibGVnYWN5Rm4iLCJGdW5jIiwibGVnYWN5Q3R4IiwiaW5qZWN0aW9ucyIsInJlc29sdmVJbmplY3Rpb25zIiwicmVuZGVyTGlzdCIsInJlbmRlckl0ZW0iLCJjcmVhdGVTbG90cyIsImR5bmFtaWNTbG90cyIsImoiLCJyZW5kZXJTbG90IiwiZmFsbGJhY2siLCJub1Nsb3R0ZWQiLCJ2YWxpZFNsb3RDb250ZW50IiwiZW5zdXJlVmFsaWRWTm9kZSIsInJlbmRlcmVkIiwiY3JlYXRlQmxvY2siLCJ0b0hhbmRsZXJzIiwicHJlc2VydmVDYXNlSWZOZWNlc3NhcnkiLCJ0b09iamVjdCIsImxlZ2FjeUJpbmRPYmplY3RQcm9wcyIsIl90YWciLCJfYXNQcm9wIiwiaXNTeW5jIiwiY2FtZWxpemVkS2V5IiwiaHlwaGVuYXRlZEtleSIsIiRldmVudCIsImxlZ2FjeUJpbmRPYmplY3RMaXN0ZW5lcnMiLCJtZXJnZVByb3BzIiwibGVnYWN5UmVuZGVyU2xvdCIsImJpbmRPYmplY3QiLCJsZWdhY3lyZXNvbHZlU2NvcGVkU2xvdHMiLCJoYXNEeW5hbWljS2V5cyIsIm1hcEtleVRvTmFtZSIsInN0YXRpY0NhY2hlTWFwIiwibGVnYWN5UmVuZGVyU3RhdGljIiwibGVnYWN5Q2hlY2tLZXlDb2RlcyIsImV2ZW50S2V5Q29kZSIsImJ1aWx0SW5LZXlDb2RlIiwiZXZlbnRLZXlOYW1lIiwiYnVpbHRJbktleU5hbWUiLCJjb25maWdLZXlDb2RlcyIsIm1hcHBlZEtleUNvZGUiLCJpc0tleU5vdE1hdGNoIiwiZXhwZWN0IiwiYWN0dWFsIiwibGVnYWN5TWFya09uY2UiLCJ0cmVlIiwibGVnYWN5QmluZER5bmFtaWNLZXlzIiwibGVnYWN5UHJlcGVuZE1vZGlmaWVyIiwic3ltYm9sIiwiaW5zdGFsbENvbXBhdEluc3RhbmNlUHJvcGVydGllcyIsImRlbCIsInJlc29sdmVNZXJnZWRPcHRpb25zIiwiY3JlYXRlVGV4dFZOb2RlIiwiY3JlYXRlQ29tbWVudFZOb2RlIiwiZ2V0UHVibGljSW5zdGFuY2UiLCJpc1N0YXRlZnVsQ29tcG9uZW50IiwicHVibGljUHJvcGVydGllc01hcCIsImlzUmVzZXJ2ZWRQcmVmaXgiLCJoYXNTZXR1cEJpbmRpbmciLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJhY2Nlc3NDYWNoZSIsIm5vcm1hbGl6ZWRQcm9wcyIsInNob3VsZENhY2hlQWNjZXNzIiwicHVibGljR2V0dGVyIiwiY3NzTW9kdWxlIiwiZ2xvYmFsUHJvcGVydGllcyIsImRlc2MiLCJkZXNjcmlwdG9yIiwiUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzIiwiY3JlYXRlRGV2UmVuZGVyQ29udGV4dCIsImV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0IiwiZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dCIsImRlZXBNZXJnZURhdGEiLCJ0byIsImZyb20iLCJ0b1ZhbCIsImZyb21WYWwiLCJjcmVhdGVEdXBsaWNhdGVDaGVja2VyIiwiYXBwbHlPcHRpb25zIiwiZGF0YU9wdGlvbnMiLCJjb21wdXRlZE9wdGlvbnMiLCJtZXRob2RzIiwid2F0Y2hPcHRpb25zIiwicHJvdmlkZU9wdGlvbnMiLCJpbmplY3RPcHRpb25zIiwiY3JlYXRlZCIsImJlZm9yZU1vdW50IiwibW91bnRlZCIsImJlZm9yZVVwZGF0ZSIsInVwZGF0ZWQiLCJhY3RpdmF0ZWQiLCJkZWFjdGl2YXRlZCIsImJlZm9yZURlc3Ryb3kiLCJiZWZvcmVVbm1vdW50IiwiZGVzdHJveWVkIiwidW5tb3VudGVkIiwicmVuZGVyVHJhY2tlZCIsInJlbmRlclRyaWdnZXJlZCIsImVycm9yQ2FwdHVyZWQiLCJzZXJ2ZXJQcmVmZXRjaCIsImV4cG9zZSIsImNvbXBvbmVudHMiLCJmaWx0ZXJzIiwiY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzIiwibWV0aG9kSGFuZGxlciIsIm9wdCIsImNvbXB1dGVkJDEiLCJjcmVhdGVXYXRjaGVyIiwicmVnaXN0ZXJMaWZlY3ljbGVIb29rIiwicmVnaXN0ZXIiLCJfaG9vayIsImV4cG9zZWQiLCJ1bndyYXBSZWYiLCJub3JtYWxpemVJbmplY3QiLCJoIiwiYmFzZSIsImV4dGVuZHNPcHRpb25zIiwiZ2xvYmFsTWl4aW5zIiwib3B0aW9uTWVyZ2VTdHJhdGVnaWVzIiwicmVzb2x2ZWQiLCJtZXJnZU9wdGlvbnMiLCJzdHJhdHMiLCJzdHJhdCIsImludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMiLCJtZXJnZURhdGFGbiIsIm1lcmdlT2JqZWN0T3B0aW9ucyIsIm1lcmdlQXNBcnJheSIsIm1lcmdlV2F0Y2hPcHRpb25zIiwibWVyZ2VJbmplY3QiLCJtZXJnZWQiLCJjcmVhdGVQcm9wc0RlZmF1bHRUaGlzIiwicHJvcEtleSIsInNob3VsZFNraXBBdHRyIiwiaW5pdFByb3BzIiwiaXNTdGF0ZWZ1bCIsIkludGVybmFsT2JqZWN0S2V5Iiwic2V0RnVsbFByb3BzIiwidmFsaWRhdGVQcm9wcyIsImlzSW5IbXJDb250ZXh0IiwidXBkYXRlUHJvcHMiLCJyYXdQcmV2UHJvcHMiLCJyYXdDdXJyZW50UHJvcHMiLCJoYXNBdHRyc0NoYW5nZWQiLCJwcm9wc1RvVXBkYXRlIiwicmVzb2x2ZVByb3BWYWx1ZSIsImtlYmFiS2V5IiwibmVlZENhc3RLZXlzIiwicmF3Q2FzdFZhbHVlcyIsImNhbWVsS2V5IiwiY2FzdFZhbHVlcyIsImlzQWJzZW50IiwiaGFzRGVmYXVsdCIsInByb3BzRGVmYXVsdHMiLCJub3JtYWxpemVQcm9wc09wdGlvbnMiLCJleHRlbmRQcm9wcyIsIm5vcm1hbGl6ZWRLZXkiLCJ2YWxpZGF0ZVByb3BOYW1lIiwiYm9vbGVhbkluZGV4IiwiZ2V0VHlwZUluZGV4Iiwic3RyaW5nSW5kZXgiLCJnZXRUeXBlIiwiY3RvciIsIm1hdGNoIiwiaXNTYW1lVHlwZSIsImV4cGVjdGVkVHlwZXMiLCJyZXNvbHZlZFZhbHVlcyIsInZhbGlkYXRlUHJvcCIsInJlcXVpcmVkIiwiaXNWYWxpZCIsInR5cGVzIiwidmFsaWQiLCJleHBlY3RlZFR5cGUiLCJhc3NlcnRUeXBlIiwiZ2V0SW52YWxpZFR5cGVNZXNzYWdlIiwiaXNTaW1wbGVUeXBlIiwicmVjZWl2ZWRUeXBlIiwiZXhwZWN0ZWRWYWx1ZSIsInN0eWxlVmFsdWUiLCJyZWNlaXZlZFZhbHVlIiwiaXNFeHBsaWNhYmxlIiwiaXNCb29sZWFuIiwiZWxlbSIsImlzSW50ZXJuYWxLZXkiLCJub3JtYWxpemVTbG90VmFsdWUiLCJub3JtYWxpemVTbG90IiwicmF3U2xvdCIsIm5vcm1hbGl6ZU9iamVjdFNsb3RzIiwicmF3U2xvdHMiLCJub3JtYWxpemVWTm9kZVNsb3RzIiwiaW5pdFNsb3RzIiwidXBkYXRlU2xvdHMiLCJuZWVkRGVsZXRpb25DaGVjayIsImRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCIsImluc3RhbGxMZWdhY3lDb25maWdXYXJuaW5ncyIsImxlZ2FjeUNvbmZpZ09wdGlvbnMiLCJpc0NvcHlpbmdDb25maWciLCJpbnN0YWxsTGVnYWN5T3B0aW9uTWVyZ2VTdHJhdHMiLCJzaW5nbGV0b25BcHAiLCJzaW5nbGV0b25DdG9yIiwiY3JlYXRlQ29tcGF0VnVlIiwiY3JlYXRlQXBwIiwiY3JlYXRlU2luZ2xldG9uQXBwIiwiVnVlIiwiY3JlYXRlQ29tcGF0QXBwIiwiQ3RvciIsImFwcGx5U2luZ2xldG9uUHJvdG90eXBlIiwiY2lkIiwiZXh0ZW5kQ2FjaGUiLCJleHRlbmRDdG9yIiwiZXh0ZW5kT3B0aW9ucyIsIlN1cGVyIiwiU3ViVnVlIiwiaW5saW5lT3B0aW9ucyIsIm1lcmdlQmFzZSIsInN1cGVyVmFsdWUiLCJ1dGlsIiwiZGVmaW5lUmVhY3RpdmUiLCJpbnN0YWxsQXBwQ29tcGF0UHJvcGVydGllcyIsImluc3RhbGxGaWx0ZXJNZXRob2QiLCJpbnN0YWxsQ29tcGF0TW91bnQiLCJpbnN0YWxsTGVnYWN5QVBJcyIsImFwcGx5U2luZ2xldG9uQXBwTXV0YXRpb25zIiwidGFnIiwiaGFzUHJvdG90eXBlQXVnbWVudGF0aW9ucyIsImRlc2NyaXB0b3JzIiwiaXNNb3VudGVkIiwiaGFzTm9SZW5kZXIiLCJlbXB0eVJlbmRlciIsImNyZWF0ZUNvbXBvbmVudEluc3RhbmNlIiwic2V0dXBDb21wb25lbnQiLCJzZWxlY3Rvck9yRWwiLCJjbG9uZWQiLCJhdHRyIiwiZmluaXNoQ29tcG9uZW50U2V0dXAiLCJidW0iLCJ1bSIsIm1ldGhvZHNUb1BhdGNoIiwicGF0Y2hlZCIsInJlYWN0aXZlVmFsIiwiZGVmaW5lUmVhY3RpdmVTaW1wbGUiLCJjcmVhdGVBcHBDb250ZXh0IiwidWlkIiwiY3JlYXRlQXBwQVBJIiwiaHlkcmF0ZSIsInJvb3RDb21wb25lbnQiLCJyb290UHJvcHMiLCJpbnN0YWxsZWRQbHVnaW5zIiwicGx1Z2luIiwibWl4aW4iLCJ2YWxpZGF0ZUNvbXBvbmVudE5hbWUiLCJkaXJlY3RpdmUiLCJyb290Q29udGFpbmVyIiwiaXNIeWRyYXRlIiwic2V0UmVmIiwicmF3UmVmIiwib2xkUmF3UmVmIiwiaXNVbm1vdW50IiwicmVmVmFsdWUiLCJvd25lciIsIm9sZFJlZiIsInJlZnMiLCJfaXNTdHJpbmciLCJfaXNSZWYiLCJkb1NldCIsImhhc01pc21hdGNoIiwiaXNTVkdDb250YWluZXIiLCJpc0NvbW1lbnQiLCJjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMiLCJtb3VudENvbXBvbmVudCIsInBhdGNoUHJvcCIsImNyZWF0ZVRleHQiLCJuZXh0U2libGluZyIsImluc2VydCIsImNyZWF0ZUNvbW1lbnQiLCJpc0ZyYWdtZW50U3RhcnQiLCJvbk1pc21hdGNoIiwiaGFuZGxlTWlzbWF0Y2giLCJkb21UeXBlIiwibmV4dE5vZGUiLCJuZWVkVG9BZG9wdENvbnRlbnQiLCJoeWRyYXRlRnJhZ21lbnQiLCJoeWRyYXRlRWxlbWVudCIsImxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvciIsImh5ZHJhdGVDaGlsZHJlbiIsImRpcnMiLCJmb3JjZVBhdGNoVmFsdWUiLCJ2bm9kZUhvb2tzIiwicGFyZW50Vk5vZGUiLCJmcmFnbWVudFNsb3RTY29wZUlkcyIsImlzRnJhZ21lbnQiLCJzdXBwb3J0ZWQiLCJwZXJmIiwic3RhcnRNZWFzdXJlIiwiaXNTdXBwb3J0ZWQiLCJlbmRNZWFzdXJlIiwic3RhcnRUYWciLCJlbmRUYWciLCJpbml0RmVhdHVyZUZsYWdzIiwibmVlZFdhcm4iLCJtdWx0aSIsImNyZWF0ZVJlbmRlcmVyIiwiYmFzZUNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIiLCJjcmVhdGVIeWRyYXRpb25GbnMiLCJob3N0SW5zZXJ0IiwiaG9zdFJlbW92ZSIsImhvc3RQYXRjaFByb3AiLCJob3N0Q3JlYXRlRWxlbWVudCIsImhvc3RDcmVhdGVUZXh0IiwiaG9zdENyZWF0ZUNvbW1lbnQiLCJob3N0U2V0VGV4dCIsImhvc3RTZXRFbGVtZW50VGV4dCIsImhvc3RQYXJlbnROb2RlIiwiaG9zdE5leHRTaWJsaW5nIiwiaG9zdFNldFNjb3BlSWQiLCJob3N0SW5zZXJ0U3RhdGljQ29udGVudCIsImdldE5leHRIb3N0Tm9kZSIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0NvbW1lbnROb2RlIiwibW91bnRTdGF0aWNOb2RlIiwicGF0Y2hTdGF0aWNOb2RlIiwicHJvY2Vzc0ZyYWdtZW50IiwicHJvY2Vzc0VsZW1lbnQiLCJwcm9jZXNzQ29tcG9uZW50IiwiaW50ZXJuYWxzIiwicmVtb3ZlU3RhdGljTm9kZSIsIm1vdmVTdGF0aWNOb2RlIiwibW91bnRFbGVtZW50IiwicGF0Y2hFbGVtZW50IiwidHJhbnNpdGlvbiIsIm1vdW50Q2hpbGRyZW4iLCJ1bm1vdW50Q2hpbGRyZW4iLCJzZXRTY29wZUlkIiwibmVlZENhbGxUcmFuc2l0aW9uSG9va3MiLCJzY29wZUlkIiwiY2xvbmVJZk1vdW50ZWQiLCJvbGRQcm9wcyIsIm5ld1Byb3BzIiwidG9nZ2xlUmVjdXJzZSIsImFyZUNoaWxkcmVuU1ZHIiwicGF0Y2hCbG9ja0NoaWxkcmVuIiwidHJhdmVyc2VTdGF0aWNDaGlsZHJlbiIsInBhdGNoQ2hpbGRyZW4iLCJwYXRjaFByb3BzIiwib2xkQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImZhbGxiYWNrQ29udGFpbmVyIiwib2xkVk5vZGUiLCJuZXdWTm9kZSIsImZyYWdtZW50U3RhcnRBbmNob3IiLCJmcmFnbWVudEVuZEFuY2hvciIsInVwZGF0ZUNvbXBvbmVudCIsImluaXRpYWxWTm9kZSIsImNvbXBhdE1vdW50SW5zdGFuY2UiLCJ1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIiLCJjb21wb25lbnRVcGRhdGVGbiIsImJ1IiwidSIsIm9yaWdpbk5leHQiLCJuZXh0VHJlZSIsInByZXZUcmVlIiwiYm0iLCJpc0FzeW5jV3JhcHBlclZOb2RlIiwiaHlkcmF0ZVN1YlRyZWUiLCJzY29wZWRJbml0aWFsVk5vZGUiLCJ1cGRhdGUiLCJjMSIsInByZXZTaGFwZUZsYWciLCJjMiIsInBhdGNoS2V5ZWRDaGlsZHJlbiIsInBhdGNoVW5rZXllZENoaWxkcmVuIiwib2xkTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwicGFyZW50QW5jaG9yIiwibDIiLCJlMSIsImUyIiwibmV4dFBvcyIsInMxIiwiczIiLCJrZXlUb05ld0luZGV4TWFwIiwidG9CZVBhdGNoZWQiLCJtb3ZlZCIsIm1heE5ld0luZGV4U29GYXIiLCJuZXdJbmRleFRvT2xkSW5kZXhNYXAiLCJwcmV2Q2hpbGQiLCJuZXdJbmRleCIsImluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlIiwiZ2V0U2VxdWVuY2UiLCJuZXh0SW5kZXgiLCJtb3ZlVHlwZSIsImxlYXZlIiwiZGVsYXlMZWF2ZSIsImFmdGVyTGVhdmUiLCJwZXJmb3JtTGVhdmUiLCJzaG91bGRJbnZva2VEaXJzIiwic2hvdWxkSW52b2tlVm5vZGVIb29rIiwidW5tb3VudENvbXBvbmVudCIsInJlbW92ZUZyYWdtZW50IiwicGVyZm9ybVJlbW92ZSIsImFsbG93ZWQiLCJjaDEiLCJjaDIiLCJsZW4iLCJhcnJJIiwiaXNUZWxlcG9ydCIsImlzVGVsZXBvcnREaXNhYmxlZCIsImlzVGFyZ2V0U1ZHIiwicmVzb2x2ZVRhcmdldCIsInNlbGVjdCIsInRhcmdldFNlbGVjdG9yIiwiVGVsZXBvcnRJbXBsIiwicXVlcnlTZWxlY3RvciIsImRpc2FibGVkIiwibWFpbkFuY2hvciIsInRhcmdldEFuY2hvciIsIm1vdW50Iiwid2FzRGlzYWJsZWQiLCJjdXJyZW50Q29udGFpbmVyIiwiY3VycmVudEFuY2hvciIsIm1vdmVUZWxlcG9ydCIsIm5leHRUYXJnZXQiLCJ1cGRhdGVDc3NWYXJzIiwiaHlkcmF0ZVRlbGVwb3J0IiwiaXNSZW9yZGVyIiwidGFyZ2V0Tm9kZSIsIlRlbGVwb3J0Iiwibm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwIiwiY29udmVydExlZ2FjeUFzeW5jQ29tcG9uZW50IiwiZmFsbGJhY2tQcm9taXNlIiwicmoiLCJjb252ZXJ0TGVnYWN5Q29tcG9uZW50IiwiZGlzYWJsZVRyYWNraW5nIiwic2V0dXBCbG9jayIsImNyZWF0ZUVsZW1lbnRCbG9jayIsImNyZWF0ZUJhc2VWTm9kZSIsInZub2RlQXJnc1RyYW5zZm9ybWVyIiwidHJhbnNmb3JtVk5vZGVBcmdzIiwidHJhbnNmb3JtZXIiLCJjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtIiwiX2NyZWF0ZVZOb2RlIiwibm9ybWFsaXplS2V5Iiwibm9ybWFsaXplUmVmIiwicmVmX2tleSIsInJlZl9mb3IiLCJpc0Jsb2NrTm9kZSIsIm5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uIiwiZ3VhcmRSZWFjdGl2ZVByb3BzIiwiZXh0cmFQcm9wcyIsIm1lcmdlUmVmIiwibWVyZ2VkUHJvcHMiLCJkZWVwQ2xvbmVWTm9kZSIsInRleHQiLCJmbGFnIiwiY3JlYXRlU3RhdGljVk5vZGUiLCJjb250ZW50IiwibnVtYmVyT2ZOb2RlcyIsImFzQmxvY2siLCJzbG90RmxhZyIsInRvTWVyZ2UiLCJlbXB0eUFwcENvbnRleHQiLCJ1aWQkMSIsImlzQnVpbHRJblRhZyIsImFwcElzTmF0aXZlVGFnIiwic2V0dXBSZXN1bHQiLCJzZXR1cFN0YXRlZnVsQ29tcG9uZW50IiwibmFtZXMiLCJzZXR1cCIsInNldHVwQ29udGV4dCIsImNyZWF0ZVNldHVwQ29udGV4dCIsInJlc29sdmVkUmVzdWx0IiwiY29tcGlsZSIsImluc3RhbGxXaXRoUHJveHkiLCJyZWdpc3RlclJ1bnRpbWVDb21waWxlciIsIl9jb21waWxlIiwic2tpcE9wdGlvbnMiLCJ0ZW1wbGF0ZSIsImlzQ3VzdG9tRWxlbWVudCIsImNvbXBpbGVyT3B0aW9ucyIsImRlbGltaXRlcnMiLCJjb21wb25lbnRDb21waWxlck9wdGlvbnMiLCJmaW5hbENvbXBpbGVyT3B0aW9ucyIsImNyZWF0ZUF0dHJzUHJveHkiLCJjbGFzc2lmeVJFIiwiY2xhc3NpZnkiLCJpbmNsdWRlSW5mZXJyZWQiLCJpbmZlckZyb21SZWdpc3RyeSIsIndhcm5SdW50aW1lVXNhZ2UiLCJkZWZpbmVQcm9wcyIsImRlZmluZUVtaXRzIiwiZGVmaW5lRXhwb3NlIiwid2l0aERlZmF1bHRzIiwiZGVmYXVsdHMiLCJ1c2VTbG90cyIsImdldENvbnRleHQiLCJ1c2VBdHRycyIsIm1lcmdlRGVmYXVsdHMiLCJjcmVhdGVQcm9wc1Jlc3RQcm94eSIsImV4Y2x1ZGVkS2V5cyIsIndpdGhBc3luY0NvbnRleHQiLCJnZXRBd2FpdGFibGUiLCJhd2FpdGFibGUiLCJzc3JDb250ZXh0S2V5IiwiaW5pdEN1c3RvbUZvcm1hdHRlciIsInZ1ZVN0eWxlIiwibnVtYmVyU3R5bGUiLCJzdHJpbmdTdHlsZSIsImtleXdvcmRTdHlsZSIsImZvcm1hdHRlciIsImdlblJlZkZsYWciLCJmb3JtYXRWYWx1ZSIsImZvcm1hdEluc3RhbmNlIiwiYmxvY2tzIiwiY3JlYXRlSW5zdGFuY2VCbG9jayIsImV4dHJhY3RLZXlzIiwiYXNSYXciLCJDb21wIiwiZXh0cmFjdGVkIiwiaXNLZXlPZlR5cGUiLCJvcHRzIiwid2l0aE1lbW8iLCJtZW1vIiwiaXNNZW1vU2FtZSIsInNzclV0aWxzIiwicmVzb2x2ZUZpbHRlciQxIiwiY29tcGF0VXRpbHMiLCJzdmdOUyIsImRvYyIsInRlbXBsYXRlQ29udGFpbmVyIiwibm9kZU9wcyIsImlzIiwic2VsZWN0b3IiLCJiZWZvcmUiLCJ3cmFwcGVyIiwicGF0Y2hDbGFzcyIsInRyYW5zaXRpb25DbGFzc2VzIiwicGF0Y2hTdHlsZSIsImlzQ3NzU3RyaW5nIiwic2V0U3R5bGUiLCJjdXJyZW50RGlzcGxheSIsInNlbWljb2xvblJFIiwiaW1wb3J0YW50UkUiLCJwcmVmaXhlZCIsImF1dG9QcmVmaXgiLCJwcmVmaXhlcyIsInByZWZpeENhY2hlIiwicmF3TmFtZSIsInhsaW5rTlMiLCJwYXRjaEF0dHIiLCJjb21wYXRDb2VyY2VBdHRyIiwiaXNFbnVtZXJhdGVkQXR0ciIsInYyQ29lcmNlZFZhbHVlIiwicGF0Y2hET01Qcm9wIiwibmVlZFJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGF0Y2hFdmVudCIsInByZXZWYWx1ZSIsIm5leHRWYWx1ZSIsImludm9rZXJzIiwiZXhpc3RpbmdJbnZva2VyIiwicGFyc2VOYW1lIiwiaW52b2tlciIsImNyZWF0ZUludm9rZXIiLCJvcHRpb25zTW9kaWZpZXJSRSIsImNhY2hlZE5vdyIsImdldE5vdyIsImluaXRpYWxWYWx1ZSIsInBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwib3JpZ2luYWxTdG9wIiwibmF0aXZlT25SRSIsInNob3VsZFNldEFzUHJvcCIsImRlZmluZUN1c3RvbUVsZW1lbnQiLCJWdWVDdXN0b21FbGVtZW50IiwiVnVlRWxlbWVudCIsImluaXRpYWxQcm9wcyIsImRlZmluZVNTUkN1c3RvbUVsZW1lbnQiLCJCYXNlQ2xhc3MiLCJfZGVmIiwiX3Byb3BzIiwibXV0YXRpb25zIiwiaXNBc3luYyIsInN0eWxlcyIsIm51bWJlclByb3BzIiwiYXN5bmNEZWYiLCJkZWNsYXJlZFByb3BLZXlzIiwic2hvdWxkUmVmbGVjdCIsInNob3VsZFVwZGF0ZSIsIm5ld1N0eWxlcyIsImRpc3BhdGNoIiwiY3NzIiwidXNlQ3NzTW9kdWxlIiwibW9kdWxlcyIsIm1vZCIsInVzZUNzc1ZhcnMiLCJ1cGRhdGVUZWxlcG9ydHMiLCJ2YXJzIiwic2V0VmFyc09uTm9kZSIsInNldFZhcnMiLCJzZXRWYXJzT25WTm9kZSIsIm9iIiwiVFJBTlNJVElPTiIsIkFOSU1BVElPTiIsIlRyYW5zaXRpb24iLCJyZXNvbHZlVHJhbnNpdGlvblByb3BzIiwiRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyIsIlRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJjYWxsSG9vayQxIiwiaGFzRXhwbGljaXRDYWxsYmFjayIsImJhc2VQcm9wcyIsImR1cmF0aW9uIiwiZW50ZXJGcm9tQ2xhc3MiLCJlbnRlckFjdGl2ZUNsYXNzIiwiZW50ZXJUb0NsYXNzIiwiYXBwZWFyRnJvbUNsYXNzIiwiYXBwZWFyQWN0aXZlQ2xhc3MiLCJhcHBlYXJUb0NsYXNzIiwibGVhdmVGcm9tQ2xhc3MiLCJsZWF2ZUFjdGl2ZUNsYXNzIiwibGVhdmVUb0NsYXNzIiwibGVnYWN5Q2xhc3NFbmFibGVkIiwibGVnYWN5RW50ZXJGcm9tQ2xhc3MiLCJsZWdhY3lBcHBlYXJGcm9tQ2xhc3MiLCJsZWdhY3lMZWF2ZUZyb21DbGFzcyIsInRvTGVnYWN5Q2xhc3MiLCJkdXJhdGlvbnMiLCJub3JtYWxpemVEdXJhdGlvbiIsImVudGVyRHVyYXRpb24iLCJsZWF2ZUR1cmF0aW9uIiwiZmluaXNoRW50ZXIiLCJpc0FwcGVhciIsInJlbW92ZVRyYW5zaXRpb25DbGFzcyIsImZpbmlzaExlYXZlIiwibWFrZUVudGVySG9vayIsIm5leHRGcmFtZSIsImFkZFRyYW5zaXRpb25DbGFzcyIsIndoZW5UcmFuc2l0aW9uRW5kcyIsImZvcmNlUmVmbG93IiwiTnVtYmVyT2YiLCJ2YWxpZGF0ZUR1cmF0aW9uIiwiX3Z0YyIsImVuZElkIiwiZXhwbGljaXRUaW1lb3V0IiwicmVzb2x2ZUlmTm90U3RhbGUiLCJwcm9wQ291bnQiLCJnZXRUcmFuc2l0aW9uSW5mbyIsImVuZEV2ZW50IiwiZW5kZWQiLCJvbkVuZCIsImdldFN0eWxlUHJvcGVydGllcyIsInRyYW5zaXRpb25EZWxheXMiLCJ0cmFuc2l0aW9uRHVyYXRpb25zIiwidHJhbnNpdGlvblRpbWVvdXQiLCJnZXRUaW1lb3V0IiwiYW5pbWF0aW9uRGVsYXlzIiwiYW5pbWF0aW9uRHVyYXRpb25zIiwiYW5pbWF0aW9uVGltZW91dCIsImhhc1RyYW5zZm9ybSIsImRlbGF5cyIsImQiLCJ0b01zIiwicG9zaXRpb25NYXAiLCJuZXdQb3NpdGlvbk1hcCIsIlRyYW5zaXRpb25Hcm91cEltcGwiLCJtb3ZlQ2xhc3MiLCJoYXNDU1NUcmFuc2Zvcm0iLCJjYWxsUGVuZGluZ0NicyIsInJlY29yZFBvc2l0aW9uIiwibW92ZWRDaGlsZHJlbiIsImFwcGx5VHJhbnNsYXRpb24iLCJjc3NUcmFuc2l0aW9uUHJvcHMiLCJUcmFuc2l0aW9uR3JvdXAiLCJvbGRQb3MiLCJuZXdQb3MiLCJkeCIsImR5IiwiY2xvbmUiLCJnZXRNb2RlbEFzc2lnbmVyIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvbkVuZCIsInZNb2RlbFRleHQiLCJsYXp5IiwiY2FzdFRvTnVtYmVyIiwiZG9tVmFsdWUiLCJ2TW9kZWxDaGVja2JveCIsIm1vZGVsVmFsdWUiLCJlbGVtZW50VmFsdWUiLCJnZXRWYWx1ZSIsImNoZWNrZWQiLCJhc3NpZ24iLCJmb3VuZCIsImZpbHRlcmVkIiwiZ2V0Q2hlY2tib3hWYWx1ZSIsInNldENoZWNrZWQiLCJ2TW9kZWxSYWRpbyIsInZNb2RlbFNlbGVjdCIsImlzU2V0TW9kZWwiLCJzZWxlY3RlZFZhbCIsInNldFNlbGVjdGVkIiwiX2JpbmRpbmciLCJpc011bHRpcGxlIiwib3B0aW9uIiwib3B0aW9uVmFsdWUiLCJ2TW9kZWxEeW5hbWljIiwiY2FsbE1vZGVsSG9vayIsInJlc29sdmVEeW5hbWljTW9kZWwiLCJ0YWdOYW1lIiwiaW5pdFZNb2RlbEZvclNTUiIsIm1vZGVsVG9Vc2UiLCJzeXN0ZW1Nb2RpZmllcnMiLCJtb2RpZmllckd1YXJkcyIsIndpdGhNb2RpZmllcnMiLCJndWFyZCIsImtleU5hbWVzIiwid2l0aEtleXMiLCJnbG9iYWxLZXlDb2RlcyIsImV2ZW50S2V5IiwiayIsImtleUNvZGUiLCJjb2RlcyIsImNvZGUiLCJ2U2hvdyIsInNldERpc3BsYXkiLCJpbml0VlNob3dGb3JTU1IiLCJyZW5kZXJlck9wdGlvbnMiLCJyZW5kZXJlciIsImVuYWJsZWRIeWRyYXRpb24iLCJlbnN1cmVSZW5kZXJlciIsImVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyIiwiaW5qZWN0TmF0aXZlVGFnQ2hlY2siLCJpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayIsImNvbnRhaW5lck9yU2VsZWN0b3IiLCJub3JtYWxpemVDb250YWluZXIiLCJjcmVhdGVTU1JBcHAiLCJzc3JEaXJlY3RpdmVJbml0aWFsaXplZCIsInJ1bnRpbWVEb20iLCJpbml0RGV2Iiwid3JhcHBlZENyZWF0ZUFwcCIsImNyZWF0ZUNvbXBhdFZ1ZSQxIiwiZ2xvYmFsIiwibW9kdWxlIiwidGhpcyIsIkNIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSIsIndyYXBBUElzIiwiZXh0ZW5zaW9uQVBJcyIsImFwaU1ldGFkYXRhIiwiRGVmYXVsdFdlYWtNYXAiLCJjcmVhdGVJdGVtIiwiaXRlbXMiLCJpc1RoZW5hYmxlIiwibWFrZUNhbGxiYWNrIiwicHJvbWlzZSIsIm1ldGFkYXRhIiwiY2FsbGJhY2tBcmdzIiwicGx1cmFsaXplQXJndW1lbnRzIiwibnVtQXJncyIsIndyYXBBc3luY0Z1bmN0aW9uIiwiY2JFcnJvciIsIndyYXBNZXRob2QiLCJ0YXJnZXRNZXRob2QiLCJ0aGlzT2JqIiwid3JhcE9iamVjdCIsIndyYXBwZXJzIiwiaGFuZGxlcnMiLCJwcm94eVRhcmdldCIsIndyYXBFdmVudCIsIndyYXBwZXJNYXAiLCJsaXN0ZW5lciIsIm9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMiLCJyZXEiLCJ3cmFwcGVkUmVxIiwib25NZXNzYWdlV3JhcHBlcnMiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJkaWRDYWxsU2VuZFJlc3BvbnNlIiwid3JhcHBlZFNlbmRSZXNwb25zZSIsInNlbmRSZXNwb25zZVByb21pc2UiLCJyZXNwb25zZSIsImlzUmVzdWx0VGhlbmFibGUiLCJzZW5kUHJvbWlzZWRSZXN1bHQiLCJ3cmFwcGVkU2VuZE1lc3NhZ2VDYWxsYmFjayIsInJlcGx5Iiwid3JhcHBlZFNlbmRNZXNzYWdlIiwiYXBpTmFtZXNwYWNlT2JqIiwid3JhcHBlZENiIiwic3RhdGljV3JhcHBlcnMiLCJzZXR0aW5nTWV0YWRhdGEiLCJTaXRlQ29uZmlnIiwiU2l0ZUNvbmZpZ0xvb2t1cCIsIlNpdGVDb25maWdJbmRleCIsIkNvbmZpZyIsImRlZmF1bHRTaXRlQ29uZmlnIiwiQ29uZmlnTWlncmF0aW9ucyIsIm5ld0xvZ0xldmVsIiwibmV3U2l0ZUNvbmZpZyIsInVybCIsIndpdGhvdXRQcm90b2NvbCIsIm5ld0NvbmZpZyIsInBhdGhJbmRleCIsImhvc3QiLCJ3ZWlnaHQiLCJwYWdlUHJlZml4Iiwib2xkQ29uZmlnIiwic2MiLCJVdGlscyIsInZlcnNpb25BcnJheSIsInZlcnNpb25JbnQiLCJieXRlQXJyYXkiLCJieXRlIiwiY2hhckNvZGUiLCJieXRlQ291bnQiLCJieXRlcyIsImhleCIsIm91dEZvcm1hdCIsImFsZ29yaXRobSIsImluQnVmZmVyIiwib3V0QnVmZmVyIiwidXRpbHMiLCJpbnQiLCJpbnRBcnJheSIsImlucHV0IiwiZXh0cmFMZW5ndGgiLCJ2aWV3IiwiYmluYXJ5Iiwib2Zmc2V0IiwiYXJyYXlCdWZmZXIiLCJiYXNlNjQiLCJlbmNvZGluZ3MiLCJieXRlTGVuZ3RoIiwiYnl0ZVJlbWFpbmRlciIsIm1haW5MZW5ndGgiLCJjaHVuayIsImhleFN0cmluZyIsIm51bUJ5dGVzIiwibHV0IiwiZHZhbHMiLCJkMCIsImQxIiwiZDIiLCJkMyIsIktlZUxvZ2dlciIsImxvZ0xldmVsIiwiS2VlTG9nIiwiTEFURVNUX1ZFUlNJT04iLCJkZWZhdWx0Q29uZmlnIiwiQ29uZmlnTWFuYWdlciIsImJyb3dzZXIuc3RvcmFnZSIsImNoYW5nZXMiLCJhcmVhIiwiY29uZmlnTWFuYWdlciIsIm51bVBhZ2VzIiwicGFnZXMiLCJvIiwiY29uZmlnU3RyaW5nIiwiY29uZmlnVmFsdWVzIiwib25Mb2FkZWQiLCJwYWdlQ291bnQiLCJuZXh0UGFnZSIsIm9sZFBhZ2VDb3VudCIsInNhdmVOZWVkZWQiLCJtaWdyYXRpb25zIiwibWF0Y2hlZENvbmZpZ05vZGVzIiwibm9kZTEiLCJub2RlMiIsInVybFN0cmluZyIsInBhZ2UiLCJkb21haW4iLCJtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzIiwiZGVyaXZlZENvbmZpZyIsImljIiwiZm9ybSIsImNvbmYiLCJvdGhlckZpZWxkcyIsImZpZWxkSWRzIiwiZmllbGQiLCJmaWVsZE5hbWVzIiwiZm9ybUlkIiwiZm9ybU5hbWUiLCJleGNsdWRlRm9ybUlkcyIsIngiLCJleGNsdWRlRm9ybU5hbWVzIiwiX2QiLCJfYyIsImV4Y2x1ZGVGaWVsZElkcyIsIl9mIiwiX2UiLCJleGNsdWRlRmllbGROYW1lcyIsIl9oIiwiX2ciLCJpbmNsdWRlRm9ybUlkcyIsIl9qIiwiX2kiLCJpbmNsdWRlRm9ybU5hbWVzIiwiX2wiLCJfayIsImluY2x1ZGVGaWVsZElkcyIsIl9uIiwiX20iLCJpbmNsdWRlRmllbGROYW1lcyIsIl9wIiwiX28iLCJ1dWlkIiwiY29uZmlndXJlZFRhcmdldCIsImFsbENvbmZpZ05vZGVzQW5kTG9va3VwcyIsImN1cnJlbnRQcmVmZXJyZWRVdWlkIiwiY25sIiwibG9va3VwIiwidDEiLCJ0MiIsInBhcnRpYWxDb25maWciLCJjb25maWdMb29rdXAiLCJQYW5lbFN0dWJPcHRpb25zIiwiUGFuZWxTdHViIiwicGFyZW50RnJhbWVJZCIsInNoYWRvdyIsImlmcmFtZSIsImJyb3dzZXIuZXh0ZW5zaW9uIiwiYm9keUVsZW1lbnRzIiwiZnJhbWVzZXRFbGVtZW50cyIsIm9sZFJlY3QiLCJwcmVmZXJyZWRDb250YWluZXJIZWlnaHQiLCJjb250YWluZXJIZWlnaHQiLCJjb250YWluZXJXaWR0aCIsInBvc2l0aW9uQWJvdmUiLCJ0YXJnZXRUb3AiLCJ0YXJnZXRCb3R0b20iLCJwcmVmZXJyZWRBcnJvd1hDb29yZCIsInByZWZlcnJlZEJvdHRvbSIsInByZWZlcnJlZFRvcCIsIm92ZXJmbG93Qm90dG9tIiwib3ZlcmZsb3dUb3AiLCJ0YXJnZXRXaWR0aCIsInJlbGF0aXZlTGVmdCIsInRvcCIsImxlZnQiLCJwYW5lbCIsIkFjdGlvbiIsIktlZUZpZWxkSWNvbiIsIm15UG9ydCIsImZvcm1VdGlscyIsImNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbE5lYXJOb2RlIiwiZWxlbWVudCIsInBhc3N3b3JkRmllbGRzIiwiaW1hZ2UiLCJ0cmFuc2l0aW9uQ29uZmlnIiwiZmllbGRzIiwiZiIsImZpZWxkU2V0MSIsImZpZWxkU2V0MiIsImN1cnJlbnRTdHlsZSIsInNoYWRvd3MiLCJiY3JlY3QiLCJsZWZ0TGltaXQiLCJjYW52YXMiLCJpbWciLCJNYXRjaFJlc3VsdCIsIlNlc3Npb25UeXBlIiwiRW50cnlTdW1tYXJ5IiwiRW50cnkiLCJlbnRyeVN1bW1hcnlEdG8iLCJkYkZpbGVOYW1lIiwiR3JvdXAiLCJnIiwiZ3JvdXBEdG8iLCJjaGlsZExpZ2h0RW50cnkiLCJjaGlsZEdyb3VwIiwiZ3JvdXAiLCJEYXRhYmFzZSIsImRiIiwiZHRvIiwic2Vzc2lvblR5cGUiLCJzZXNzaW9uRmVhdHVyZXMiLCJMb2NhdG9yIiwibG9jYXRvciIsIkVudHJ5RHRvIiwiRm9ybUZpZWxkVHlwZURUTyIsIkZpZWxkIiwicmV2ZWFsUGFzc3dvcmRzIiwicmVwbGFjZW1lbnRJZlByb3RlY3RlZCIsInVzZXJuYW1lSW5kZXgiLCJwYXNzd29yZHMiLCJsYWJlbHMiLCJjb2xsZWN0TGFiZWxzIiwiY29sbGVjdEF1dG9jb21wbGV0ZVZhbHVlcyIsImxvY2F0b3JUeXBlIiwiaXNVc2VybmFtZSIsImZmdCIsImxhYmVsc0NvdW50IiwibGFiZWwiLCJhcmlhTGFiZWwiLCJhcmlhTGFiZWxJZHMiLCJsYWJlbEVsZW1lbnQiLCJHcm91cFN1bW1hcnkiLCJncm91cFN1bW1hcnlEdG8iLCJlbnRyeUR0byIsInNvcnRlZEZpZWxkcyIsIm1heGltdW1QYWdlIiwidW5zb3J0ZWRGaWVsZHMiLCJmaXJzdFBhc3N3b3JkSW5kZXgiLCJpc1Z1ZTIiLCJnZXREZXZ0b29sc0dsb2JhbEhvb2siLCJnZXRUYXJnZXQiLCJpc1Byb3h5QXZhaWxhYmxlIiwiSE9PS19TRVRVUCIsIkhPT0tfUExVR0lOX1NFVFRJTkdTX1NFVCIsImlzUGVyZm9ybWFuY2VTdXBwb3J0ZWQiLCJub3ciLCJBcGlQcm94eSIsImRlZmF1bHRTZXR0aW5ncyIsImxvY2FsU2V0dGluZ3NTYXZlSWQiLCJjdXJyZW50U2V0dGluZ3MiLCJwbHVnaW5JZCIsIl90YXJnZXQiLCJzZXR1cERldnRvb2xzUGx1Z2luIiwicGx1Z2luRGVzY3JpcHRvciIsInNldHVwRm4iLCJlbmFibGVQcm94eSIsImFjdGl2ZVBpbmlhIiwic2V0QWN0aXZlUGluaWEiLCJwaW5pYSIsInBpbmlhU3ltYm9sIiwiTXV0YXRpb25UeXBlIiwiSVNfQ0xJRU5UIiwiVVNFX0RFVlRPT0xTIiwiX2dsb2JhbCIsImJvbSIsImJsb2IiLCJhdXRvQm9tIiwiZG93bmxvYWQiLCJ4aHIiLCJzYXZlQXMiLCJjb3JzRW5hYmxlZCIsImNsaWNrIiwiZXZ0IiwiX25hdmlnYXRvciIsImlzTWFjT1NXZWJWaWV3IiwiZG93bmxvYWRTYXZlQXMiLCJtc1NhdmVBcyIsImZpbGVTYXZlclNhdmVBcyIsInBvcHVwIiwiZm9yY2UiLCJpc1NhZmFyaSIsImlzQ2hyb21lSU9TIiwicmVhZGVyIiwidG9hc3RNZXNzYWdlIiwicGluaWFNZXNzYWdlIiwiaXNQaW5pYSIsImNoZWNrQ2xpcGJvYXJkQWNjZXNzIiwiY2hlY2tOb3RGb2N1c2VkRXJyb3IiLCJhY3Rpb25HbG9iYWxDb3B5U3RhdGUiLCJhY3Rpb25HbG9iYWxQYXN0ZVN0YXRlIiwiYWN0aW9uR2xvYmFsU2F2ZVN0YXRlIiwiZmlsZUlucHV0IiwiZ2V0RmlsZU9wZW5lciIsIm9wZW5GaWxlIiwiZmlsZXMiLCJmaWxlIiwiYWN0aW9uR2xvYmFsT3BlblN0YXRlRmlsZSIsImZvcm1hdERpc3BsYXkiLCJkaXNwbGF5IiwiUElOSUFfUk9PVF9MQUJFTCIsIlBJTklBX1JPT1RfSUQiLCJmb3JtYXRTdG9yZUZvckluc3BlY3RvclRyZWUiLCJzdG9yZSIsImZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUiLCJzdG9yZU5hbWVzIiwic3RvcmVNYXAiLCJzdG9yZUlkIiwiZ2V0dGVycyIsImdldHRlck5hbWUiLCJmb3JtYXRFdmVudERhdGEiLCJmb3JtYXRNdXRhdGlvblR5cGUiLCJpc1RpbWVsaW5lQWN0aXZlIiwiY29tcG9uZW50U3RhdGVUeXBlcyIsIk1VVEFUSU9OU19MQVlFUl9JRCIsIklOU1BFQ1RPUl9JRCIsImdldFN0b3JlVHlwZSIsInJlZ2lzdGVyUGluaWFEZXZ0b29scyIsImFwaSIsIm5vZGVJZCIsInBheWxvYWQiLCJwaW5pYVN0b3JlcyIsInN0b3JlcyIsImluc3BlY3RlZFN0b3JlIiwiYWRkU3RvcmVUb0RldnRvb2xzIiwiYWZ0ZXIiLCJncm91cElkIiwicnVubmluZ0FjdGlvbklkIiwiYWN0aXZlQWN0aW9uIiwiZXZlbnREYXRhIiwiaG90VXBkYXRlIiwibmV3U3RvcmUiLCIkZGlzcG9zZSIsInBhdGNoQWN0aW9uRm9yR3JvdXBpbmciLCJhY3Rpb25OYW1lcyIsImFjdGlvbnMiLCJzdG9yZUFjdGlvbnMiLCJhY3Rpb25OYW1lIiwiX2FjdGlvbklkIiwidHJhY2tlZFN0b3JlIiwiZGV2dG9vbHNQbHVnaW4iLCJvcmlnaW5hbEhvdFVwZGF0ZSIsImNyZWF0ZVBpbmlhIiwidG9CZUluc3RhbGxlZCIsInBhdGNoT2JqZWN0IiwibmV3U3RhdGUiLCJvbGRTdGF0ZSIsInN1YlBhdGNoIiwidGFyZ2V0VmFsdWUiLCJub29wIiwiYWRkU3Vic2NyaXB0aW9uIiwic3Vic2NyaXB0aW9ucyIsInJlbW92ZVN1YnNjcmlwdGlvbiIsImlkeCIsInRyaWdnZXJTdWJzY3JpcHRpb25zIiwibWVyZ2VSZWFjdGl2ZU9iamVjdHMiLCJwYXRjaFRvQXBwbHkiLCJza2lwSHlkcmF0ZVN5bWJvbCIsInNob3VsZEh5ZHJhdGUiLCJpc0NvbXB1dGVkIiwiY3JlYXRlT3B0aW9uc1N0b3JlIiwiaG90IiwiaW5pdGlhbFN0YXRlIiwibG9jYWxTdGF0ZSIsImNvbXB1dGVkR2V0dGVycyIsImNyZWF0ZVNldHVwU3RvcmUiLCIkc3RhdGUiLCIkaWQiLCJpc09wdGlvbnNTdG9yZSIsIm9wdGlvbnNGb3JQbHVnaW4iLCIkc3Vic2NyaWJlT3B0aW9ucyIsImlzTGlzdGVuaW5nIiwiZGVidWdnZXJFdmVudHMiLCJpc1N5bmNMaXN0ZW5pbmciLCJhY3Rpb25TdWJzY3JpcHRpb25zIiwiaG90U3RhdGUiLCJhY3RpdmVMaXN0ZW5lciIsIiRwYXRjaCIsInBhcnRpYWxTdGF0ZU9yTXV0YXRvciIsInN1YnNjcmlwdGlvbk11dGF0aW9uIiwibXlMaXN0ZW5lcklkIiwiJHJlc2V0Iiwid3JhcEFjdGlvbiIsImFjdGlvbiIsImFmdGVyQ2FsbGJhY2tMaXN0Iiwib25FcnJvckNhbGxiYWNrTGlzdCIsIl9obXJQYXlsb2FkIiwicGFydGlhbFN0b3JlIiwic3RvcFdhdGNoZXIiLCJzZXR1cFN0b3JlIiwiYWN0aW9uVmFsdWUiLCJzdGF0ZUtleSIsIm5ld1N0YXRlVGFyZ2V0Iiwib2xkU3RhdGVTb3VyY2UiLCJnZXR0ZXJWYWx1ZSIsIm5vbkVudW1lcmFibGUiLCJleHRlbmRlciIsImV4dGVuc2lvbnMiLCJkZWZpbmVTdG9yZSIsImlkT3JPcHRpb25zIiwic2V0dXBPcHRpb25zIiwiaXNTZXR1cFN0b3JlIiwidXNlU3RvcmUiLCJob3RJZCIsIlNhdmVTdGF0ZSIsImhhc1dlYnNvY2tldERCcyIsInN1cHBvcnRzV2Vic29ja2V0Rm9jdXMiLCJmaXJzdFRleHRGaWVsZEluZGV4IiwiZmlyc3RQYXNzd29yZEZpZWxkSW5kZXgiLCJvcmlnaW5hbEZpZWxkSW5kZXgiLCJuZXdVc2VybmFtZUluZGV4IiwibmV3VXNlcm5hbWUiLCJuZXdQYXNzd29yZEluZGV4IiwibmV3UGFzc3dvcmQiLCJGb3JtRmlsbGluZyIsImZvcm1TYXZpbmciLCJMb2dnZXIiLCJtYXRjaEZpbmRlciIsInNwZWNpZmljRnJhbWVJZCIsIm1hdGNoZWRGaWVsZCIsImRhdGFGaWVsZCIsIl9jdXJyZW50UGFnZSIsImlzVmlzaWJsZSIsImZvcm1GaWVsZCIsInNjb3JlIiwiZmllbGRTY29yZU1hdHJpeCIsImRhdGFGaWVsZHMiLCJmb3JtRmllbGRzIiwiYXV0b21hdGVkIiwiZmlsbGVkRmllbGRzIiwiZmZpIiwiZGZpIiwiZG9tRWxlbWVudCIsImN1cnJlbnRWYWx1ZSIsImZpZWxkVHlwZSIsImN1cnJlbnRQYWdlIiwic2NvcmVDb25maWciLCJiZWhhdmlvdXIiLCJmb3JtcyIsInBzZXVkb0Zvcm0iLCJzZWFyY2hTZW50VG9LZWVQYXNzIiwic2NhblJlc3VsdCIsImludGVyZXN0aW5nRm9ybSIsIm5vUGFzc3dvcmRGaWVsZCIsIm5vT3RoZXJGaWVsZCIsInN1Ym1pdFRhcmdldE5laWdoYm91ciIsImZvcm1OdW1iZXIiLCJzdWJtaXRUYXJnZXQiLCJvcnBoYW5lZEZpZWxkcyIsInRuIiwidmFsaWRFbnRyaWVzIiwiZmluZExvZ2luT3AiLCJtYXRjaFJlc3VsdCIsImNyU3RyaW5nIiwiZmlyc3RNYXRjaFByb2Nlc3NlZCIsImZvcm1WaXNpYmxlIiwidmlzaWJsZUZpZWxkQ2FjaGUiLCJmaWVsZE1hdGNoU2NvcmVDb25maWciLCJsb3dGaWVsZE1hdGNoUmF0aW8iLCJmb3JtSW5kZXgiLCJmaW5kTWF0Y2hlc1Jlc3VsdCIsIm1vc3RSZWxldmFudEZvcm1JbmRleCIsImVudHJ5SW5kZXgiLCJpc01hdGNoZWRMb2dpblJlcXVlc3QiLCJvcmRlcmVkRW50cmllcyIsIm9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2UiLCJtYXRjaGluZ0xvZ2luIiwibXVsdGlwbGVNYXRjaGVzIiwiY2hlY2tNYXRjaGluZ0xvZ2luUmVsZXZhbmNlVGhyZXNob2xkIiwiYXV0b0ZpbGxFbmFibGVkIiwiYXV0b1N1Ym1pdEVuYWJsZWQiLCJsYXN0RmlsbGVkT3RoZXIiLCJsYXN0RmlsbGVkUGFzc3dvcmRzIiwiY2FuZGlkYXRlcyIsIm1pblNjb3JlVG9XaW4iLCJkaXN0YW5jZUNhbGMiLCJkaXN0YW5jZU1hcCIsImZVdGlscyIsInZlcmlmeVBvdGVudGlhbENhbmRpZGF0ZSIsInJlc29sdmVBcmlhTGFiZWxWYWx1ZXMiLCJzZW1hbnRpY1ZhbHVlcyIsInNlbWFudGljU2NvcmUiLCJzdWJtaXRFbGVtZW50cyIsIm1heERpc3RhbmNlRGlmZmVyZW5jZSIsImRpc3RhbmNlU2NvcmUiLCJkaXN0YW5jZUZhY3RvciIsImxhc3REaXN0YW5jZSIsImNhbmRpZGF0ZSIsImVsZW1lbnRzIiwibWF4U2NvcmUiLCJtYXhTY29yZUVsZW1lbnQiLCJmYWN0b3IiLCJzZW1hbnRpY1doaXRlbGlzdENhY2hlIiwic2VtYW50aWNCbGFja2xpc3RDYWNoZSIsImdvb2RXb3JkcyIsImJhZFdvcmRzIiwiZ29vZFNjb3JlIiwiYmFkU2NvcmUiLCJzZW1hbnRpY1ZhbHVlIiwibm9kZUEiLCJub2RlQiIsImRpc3RhbmNlIiwicGVuZGluZ01hcCIsInBlbmRpbmdNYXBTdGFydERpc3RhbmNlIiwiY2FjaGVkTm9kZURpc3RhbmNlIiwic3VibWl0RWxlbWVudCIsIm1pbk1hdGNoZWRGaWVsZENvdW50UmF0aW8iLCJvdGhlclJlbGV2YW5jZVNjb3JlIiwib3RoZXJGaWVsZE1hdGNoU3VjY2Vzc2VzIiwicGFzc3dvcmRSZWxldmFuY2VTY29yZSIsInBhc3N3b3JkRmllbGRNYXRjaFN1Y2Nlc3NlcyIsInRvdGFsUmVsZXZhbmNlU2NvcmUiLCJmb3JtRmllbGRDb3VudCIsImxvZ2luRmllbGRDb3VudCIsImZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGwiLCJsb2dpbkZpZWxkQ291bnRGb3JBdXRvZmlsbCIsImZvcm1NYXRjaGVkRmllbGRDb3VudEZvckF1dG9maWxsIiwibnVtYmVyT2ZOZXdQYXNzd29yZEZpZWxkcyIsImZpZWxkTWF0Y2hSYXRpb0ZvckF1dG9maWxsIiwiYWRqdXN0ZWRSZWxldmFuY2UiLCJkZWJ1Z05hbWUiLCJtYXRjaGVkRmllbGRzIiwiZW50cnlGaWVsZHMiLCJ2aXNpYmxlRmllbGRNYXAiLCJtaW5GaWVsZFJlbGV2YW5jZSIsImZpZWxkTWF0Y2hTdWNjZXNzZXMiLCJtb3N0UmVsZXZhbnRTY29yZSIsImZtU2NvcmUiLCJmbVNjb3JlRm9yUmF0aW8iLCJNYXRjaGVkRmllbGQiLCJGb3JtVXRpbHMiLCJsb2dnZXIiLCJmcmFtZSIsImxvY2FsRG9jQ291bnQiLCJmcmFtZXMiLCJ1cmkiLCJmaWVsZE5hbWVJbiIsImZpZWxkTmFtZSIsImlzU3VibWlzc2lvbiIsIm1heGltdW1GaWVsZENvdW50IiwicHdGaWVsZHMiLCJhbGxGaWVsZHMiLCJmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCIsInRvdGFsRWxlbWVudHMiLCJlbGVtZW50TGltaXQiLCJmaWVsZFZhbHVlIiwib3RoZXJDb3VudCIsImFjdHVhbFVzZXJuYW1lSW5kZXgiLCJGb3JtU2F2aW5nIiwiZm9ybVRvU3VibWl0IiwiYXR0YWNobWVudCIsImlzUGFzc3dvcmRDaGFuZ2VGb3JtIiwiaXNSZWdpc3RyYXRpb25Gb3JtIiwiZXgiLCJ0d29QYXNzd29yZHNNYXRjaEluZGV4Iiwibm9uRW1wdHlQYXNzd29yZEZpZWxkcyIsIm5vbkVtcHR5T3RoZXJGaWVsZHMiLCJkaWZmZXJlbnRQYXNzd29yZCIsImRpZmZlcmVudE90aGVyIiwic3VibWl0dGVkRGF0YSIsIm5ld2x5U3VibWl0dGVkRmllbGRzIiwicHJldmlvdXNseUZpbGxlZEZpZWxkcyIsImZpbGxlZEZpZWxkIiwic3VibWl0dGVkRmllbGQiLCJwYW5lbE9wdGlvbnMiLCJQYXNzd29yZEdlbmVyYXRvciIsIlN5bmNDb250ZW50IiwibXV0YXRpb24iLCJzZW5kTXV0YXRpb24iLCJ2dWVJbml0IiwiQ29udGVudFBvcnRNYW5hZ2VyIiwiYnJvd3Nlci5ydW50aW1lIiwiUG9ydCIsImtlZUR1cGxpY2F0aW9uQ291bnQiLCJmb3JtRmlsbGluZyIsInBhc3N3b3JkR2VuZXJhdG9yIiwiZnJhbWVJZCIsInN5bmNDb250ZW50IiwiY29ubmVjdGVkIiwibWVzc2FnaW5nUG9ydENvbm5lY3Rpb25SZXRyeVRpbWVyIiwicGFnZVNob3dGaXJlZCIsImNvbmZpZ1JlYWR5IiwibWlzc2luZ1BhZ2VTaG93VGltZXIiLCJpbnB1dHNPYnNlcnZlciIsInR1dG9yaWFsSW50ZWdyYXRpb24iLCJ0cmFuc2ZlckVsZW1lbnQiLCJvbkZpcnN0Q29ubmVjdCIsIm15RnJhbWVJZCIsInN0YXJ0dXAiLCJjb25uZWN0VG9NZXNzYWdpbmdQb3J0IiwicmVzY2FuIiwiaW50ZXJlc3RpbmdOb2RlcyJdLCJtYXBwaW5ncyI6InlCQU9BLFNBQVNBLEdBQVFDLEVBQUtDLEVBQWtCLENBQ3BDLE1BQU1DLEVB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QUEsS0FBQSxRQUFBLFNBQ0lBLEVBQUEsVUFBQSxLQUFBLE1BQUFqbEMsRUFBQSxPQUFBLFVBQUEsS0FBQSxRQUlaQSxFQUFBLE9BQUEsVUFBQSxTQUFBLFNBQ0lpbEMsRUFBQSxVQUFBLFNBQUEsU0FDSUEsRUFBQSxVQUFBLE9BQUEsSUFFSmpsQyxFQUFBLE9BQUEsVUFBQSxPQUFBLE1BQUEsUUFDSWlsQyxFQUFBLFVBQUEsT0FBQSxNQUFBLFNBQ0lBLEVBQUEsVUFBQSxPQUFBLElBQUFqbEMsRUFBQSxPQUFBLFVBQUEsT0FBQSxLQUdSQSxFQUFBLE9BQUEsVUFBQSxPQUFBLFFBQUEsUUFDSWlsQyxFQUFBLFVBQUEsT0FBQSxRQUFBLFNBQ0lBLEVBQUEsVUFBQSxPQUFBLE1BQUFqbEMsRUFBQSxPQUFBLFVBQUEsT0FBQSxTQU9oQkEsRUFBQSxPQUFBLFlBQUEsU0FDSWlsQyxFQUFBLFlBQUEsU0FDSUEsRUFBQSxVQUFBLElBRUpqbEMsRUFBQSxPQUFBLFVBQUEsT0FBQSxTQUNJaWxDLEVBQUEsVUFBQSxPQUFBLFNBQ0lBLEVBQUEsVUFBQSxLQUFBLElBRUpqbEMsRUFBQSxPQUFBLFVBQUEsS0FBQSxNQUFBLFFBQ0lpbEMsRUFBQSxVQUFBLEtBQUEsTUFBQSxTQUNJQSxFQUFBLFVBQUEsS0FBQSxJQUFBamxDLEVBQUEsT0FBQSxVQUFBLEtBQUEsS0FHUkEsRUFBQSxPQUFBLFVBQUEsS0FBQSxRQUFBLFFBQ0lpbEMsRUFBQSxVQUFBLEtBQUEsUUFBQSxTQUNJQSxFQUFBLFVBQUEsS0FBQSxNQUFBamxDLEVBQUEsT0FBQSxVQUFBLEtBQUEsUUFJWkEsRUFBQSxPQUFBLFVBQUEsU0FBQSxTQUNJaWxDLEVBQUEsVUFBQSxTQUFBLFNBQ0lBLEVBQUEsVUFBQSxPQUFBLElBRUpqbEMsRUFBQSxPQUFBLFVBQUEsT0FBQSxNQUFBLFFBQ0lpbEMsRUFBQSxVQUFBLE9BQUEsTUFBQSxTQUNJQSxFQUFBLFVBQUEsT0FBQSxJQUFBamxDLEVBQUEsT0FBQSxVQUFBLE9BQUEsS0FHUkEsRUFBQSxPQUFBLFVBQUEsT0FB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
