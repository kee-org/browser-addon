(function(){"use strict";var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gt={},Oh={get exports(){return gt},set exports(e){gt=e}};(function(e,t){(function(n,s){s(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Ph,function(n){var s,i;if(!((i=(s=globalThis.chrome)==null?void 0:s.runtime)!=null&&i.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const r="The message port closed before a response was received.",o=l=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class c extends WeakMap{constructor(g,A=void 0){super(A),this.createItem=g}get(g){return this.has(g)||this.set(g,this.createItem(g)),super.get(g)}}const f=b=>b&&typeof b=="object"&&typeof b.then=="function",u=(b,g)=>(...A)=>{l.runtime.lastError?b.reject(new Error(l.runtime.lastError.message)):g.singleCallbackArg||A.length<=1&&g.singleCallbackArg!==!1?b.resolve(A[0]):b.resolve(A)},d=b=>b==1?"argument":"arguments",p=(b,g)=>function(y,...R){if(R.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${d(g.minArgs)} for ${b}(), got ${R.length}`);if(R.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${d(g.maxArgs)} for ${b}(), got ${R.length}`);return new Promise((k,$)=>{if(g.fallbackToNoCallback)try{y[b](...R,u({resolve:k,reject:$},g))}catch(H){console.warn(`${b} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,H),y[b](...R),g.fallbackToNoCallback=!1,g.noCallback=!0,k()}else g.noCallback?(y[b](...R),k()):y[b](...R,u({resolve:k,reject:$},g))})},v=(b,g,A)=>new Proxy(g,{apply(y,R,k){return A.call(R,b,...k)}});let _=Function.call.bind(Object.prototype.hasOwnProperty);const C=(b,g={},A={})=>{let y=Object.create(null),R={has($,H){return H in b||H in y},get($,H,N){if(H in y)return y[H];if(!(H in b))return;let B=b[H];if(typeof B=="function")if(typeof g[H]=="function")B=v(b,b[H],g[H]);else if(_(A,H)){let z=p(H,A[H]);B=v(b,b[H],z)}else B=B.bind(b);else if(typeof B=="object"&&B!==null&&(_(g,H)||_(A,H)))B=C(B,g[H],A[H]);else if(_(A,"*"))B=C(B,g[H],A["*"]);else return Object.defineProperty(y,H,{configurable:!0,enumerable:!0,get(){return b[H]},set(z){b[H]=z}}),B;return y[H]=B,B},set($,H,N,B){return H in y?y[H]=N:b[H]=N,!0},defineProperty($,H,N){return Reflect.defineProperty(y,H,N)},deleteProperty($,H){return Reflect.deleteProperty(y,H)}},k=Object.create(b);return new Proxy(k,R)},w=b=>({addListener(g,A,...y){g.addListener(b.get(A),...y)},hasListener(g,A){return g.hasListener(b.get(A))},removeListener(g,A){g.removeListener(b.get(A))}}),m=new c(b=>typeof b!="function"?b:function(A){const y=C(A,{},{getContent:{minArgs:0,maxArgs:0}});b(y)}),S=new c(b=>typeof b!="function"?b:function(A,y,R){let k=!1,$,H=new Promise(Y=>{$=function(oe){k=!0,Y(oe)}}),N;try{N=b(A,y,$)}catch(Y){N=Promise.reject(Y)}const B=N!==!0&&f(N);if(N!==!0&&!B&&!k)return!1;const z=Y=>{Y.then(oe=>{R(oe)},oe=>{let Ue;oe&&(oe instanceof Error||typeof oe.message=="string")?Ue=oe.message:Ue="An unexpected error occurred",R({__mozWebExtensionPolyfillReject__:!0,message:Ue})}).catch(oe=>{console.error("Failed to send onMessage rejected reply",oe)})};return z(B?N:H),!0}),P=({reject:b,resolve:g},A)=>{l.runtime.lastError?l.runtime.lastError.message===r?g():b(new Error(l.runtime.lastError.message)):A&&A.__mozWebExtensionPolyfillReject__?b(new Error(A.message)):g(A)},I=(b,g,A,...y)=>{if(y.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${d(g.minArgs)} for ${b}(), got ${y.length}`);if(y.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${d(g.maxArgs)} for ${b}(), got ${y.length}`);return new Promise((R,k)=>{const $=P.bind(null,{resolve:R,reject:k});y.push($),A.sendMessage(...y)})},D={devtools:{network:{onRequestFinished:w(m)}},runtime:{onMessage:w(S),onMessageExternal:w(S),sendMessage:I.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:I.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},T={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":T},services:{"*":T},websites:{"*":T}},C(l,D,a)};n.exports=o(chrome)}else n.exports=globalThis.browser})})(Oh);class Ta{}class Ze{}class Pa{}class Ih{}const Ti=new Pa;Ti.pageRegex=new Ze,Ti.pageRegex["^.*$"]={config:{preventSaveNotification:!1,listMatchingCaseSensitive:!1,blackList:{form:{names:["search"],ids:["search"]},fields:{names:["search","q","query"],ids:["search","q"]}},whiteList:{form:{names:["login"],ids:["login"]},fields:{names:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user name","user id","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login id","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"],ids:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"]}},preferredEntryUuid:null},matchWeight:0,source:"Default"};class Oa{migrateToVersion8(t){Object.assign(t,{overWriteFieldsAutomatically:!1,version:8})}migrateToVersion7(t){t.notificationCountSavePassword>6?Object.assign(t,{notificationCountSavePassword:6,version:7}):Object.assign(t,{version:7})}migrateToVersion6(t){Object.assign(t,{animateWhenOfferingSave:!0,version:6})}migrateToVersion5(t){Object.assign(t,{notifyPasswordAvailableForPaste:!0,version:5})}migrateToVersion4(t){let n=2;t.logLevel===1&&(n=1),Object.assign(t,{logLevel:n,version:4})}migrateToVersion3(t){t.notificationCountGeneric==null&&(t.notificationCountGeneric=0),t.notificationCountSavePassword==null&&(t.notificationCountSavePassword=0),Object.assign(t,{currentSearchTermTimeout:30,version:3})}migrateToVersion2(t){let n=new Pa;if(!t.config||t.config.length==0){n=Ti;return}n.pageRegex=new Ze,n.hostExact=new Ze,n.pagePrefix=new Ze,n.pageRegex["^.*$"]={matchWeight:0,config:this.migrateIndividualSiteConfigSettingsToV2(t.config[0].config),source:"Migration"};for(let s=1;s<t.config.length;s++){const i=t.config[s].url;if(i.indexOf("://")==-1)continue;const r=i.substr(i.indexOf("://")+3);if(r.length<=1)continue;const o=this.migrateIndividualSiteConfigSettingsToV2(t.config[s].config),l=r.indexOf("/");if(l>-1||l==r.lastIndexOf("/")){const a=l>-1?r.substr(0,l):r;n.hostExact[a]={config:o,matchWeight:100,source:"Migration"}}else{let a=200;for(const c in n.pagePrefix)r.startsWith(c)&&a++;n.pagePrefix[r]={config:o,matchWeight:a,source:"Migration"}}}Object.assign(t,{siteConfig:n,config:null,version:2})}migrateIndividualSiteConfigSettingsToV2(t){const n=new Ta;return t.preventSaveNotification==null&&(n.preventSaveNotification=t.preventSaveNotification),t.interestingForms&&(t.interestingForms.name_w&&(n.whiteList?n.whiteList.form?n.whiteList.form.names||(n.whiteList.form.names=[]):n.whiteList.form={names:[]}:n.whiteList={form:{names:[]}},n.whiteList.form.names=t.interestingForms.name_w),t.interestingForms.id_w&&(n.whiteList?n.whiteList.form?n.whiteList.form.ids||(n.whiteList.form.ids=[]):n.whiteList.form={ids:[]}:n.whiteList={form:{ids:[]}},n.whiteList.form.ids=t.interestingForms.id_w),t.interestingForms.name_b&&(n.blackList?n.blackList.form?n.blackList.form.names||(n.blackList.form.names=[]):n.blackList.form={names:[]}:n.blackList={form:{names:[]}},n.blackList.form.names=t.interestingForms.name_b),t.interestingForms.id_b&&(n.blackList?n.blackList.form?n.blackList.form.ids||(n.blackList.form.ids=[]):n.blackList.form={ids:[]}:n.blackList={form:{ids:[]}},n.blackList.form.ids=t.interestingForms.id_b),t.interestingForms.f_name_w&&(n.whiteList?n.whiteList.fields?n.whiteList.fields.names||(n.whiteList.fields.names=[]):n.whiteList.fields={names:[]}:n.whiteList={fields:{names:[]}},n.whiteList.fields.names=t.interestingForms.f_name_w),t.interestingForms.f_id_w&&(n.whiteList?n.whiteList.fields?n.whiteList.fields.ids||(n.whiteList.fields.ids=[]):n.whiteList.fields={ids:[]}:n.whiteList={fields:{ids:[]}},n.whiteList.fields.ids=t.interestingForms.f_id_w),t.interestingForms.f_name_b&&(n.blackList?n.blackList.fields?n.blackList.fields.names||(n.blackList.fields.names=[]):n.blackList.fields={names:[]}:n.blackList={fields:{names:[]}},n.blackList.fields.names=t.interestingForms.f_name_b),t.interestingForms.f_id_b&&(n.blackList?n.blackList.fields?n.blackList.fields.ids||(n.blackList.fields.ids=[]):n.blackList.fields={ids:[]}:n.blackList={fields:{ids:[]}},n.blackList.fields.ids=t.interestingForms.f_id_b)),n}}class Rh{constructor(){this.pslInitialised=!1}versionAsInt(t){let n=0;for(let s=0;s<t.length;s++)n=n*256+t[s];return n}versionAsArray(t){const n=[0,0,0];for(let s=n.length-1;s>=0;s--){const i=t&255;n[s]=i,t=(t-i)/256}return n}versionAsString(t){let n="";const s=this.versionAsArray(t);for(let i=0;i<s.length;i++)i>0&&(n+="."),n+=s[i].toString();return n}toHexString(t){return("0"+t.toString(16)).slice(-2)}BigIntFromRandom(t){const n=new Uint8Array(t);window.crypto.getRandomValues(n);const s=Array.from(n).map(this.toHexString).join("");return BigInteger.parse(s,16)}hash(t,n="hex",s="SHA-256"){let i;return typeof t=="string"?i=new TextEncoder().encode(t):i=t,crypto.subtle.digest({name:s},i).then(r=>n=="base64"?yt.byteArrayToBase64(r):Array.from(new Uint8Array(r)).map(this.toHexString).join(""))}intToByteArray(t){const n=[0,0,0,0];for(let s=n.length-1;s>=0;s--){const i=t&255;n[s]=i,t=(t-i)/256}return n}intArrayToByteArray(t){const n=new Array(t.length*4);for(let s=0;s<t.length;s++){let i=t[s];for(let r=3;r>=0;r--){const o=i&255;n[s*4+r]=o,i=(i-o)/256}}return n}stringToByteArray(t){return new TextEncoder().encode(t)}base64toByteArrayForHMAC(t,n,s=null){const i=atob(t),r=i.length;let o=0;if(!s){const l=new ArrayBuffer(r+n);s=new Uint8Array(l),o=20}for(let l=0;l<r;l++)s[l+o]=i.charCodeAt(l);return s}base64toByteArray(t){const n=atob(t),s=n.length,i=new ArrayBuffer(s),r=new Uint8Array(i);for(let o=0;o<s;o++)r[o]=n.charCodeAt(o);return r}byteArrayToBase64(t){let n="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(t),r=i.byteLength,o=r%3,l=r-o;let a,c,f,u,d;for(let p=0;p<l;p=p+3)d=i[p]<<16|i[p+1]<<8|i[p+2],a=(d&16515072)>>18,c=(d&258048)>>12,f=(d&4032)>>6,u=d&63,n+=s[a]+s[c]+s[f]+s[u];return o==1?(d=i[l],a=(d&252)>>2,c=(d&3)<<4,n+=s[a]+s[c]+"=="):o==2&&(d=i[l]<<8|i[l+1],a=(d&64512)>>10,c=(d&1008)>>4,f=(d&15)<<2,n+=s[a]+s[c]+s[f]+"="),n}hexStringToByteArray(t,n=null){if(t.length%2!==0)throw Error("Must have an even number of hex digits to convert to bytes");const s=t.length/2;n||(n=new Uint8Array(s));for(let i=0;i<s;i++)n[i]=parseInt(t.substr(i*2,2),16);return n}newGUID(){const t=[];for(let l=0;l<256;l++)t[l]=(l<16?"0":"")+l.toString(16);const n=new Uint32Array(4);window.crypto.getRandomValues(n);const s=n[0],i=n[1],r=n[2],o=n[3];return t[s&255]+t[s>>8&255]+t[s>>16&255]+t[s>>24&255]+"-"+t[i&255]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[r&63|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[o&255]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]}base64urlDecode(t){return atob(t.replace(/-/g,"+").replace(/_/g,"/"))}binaryToByteArray(t){const n=t.length,s=new ArrayBuffer(n),i=new Uint8Array(s);for(let r=0;r<n;r++)i[r]=t.charCodeAt(r);return i}base64urltoByteArray(t){const n=this.base64urlDecode(t);return this.binaryToByteArray(n)}get psl(){if(!publicSuffixList)throw new Error("publicSuffixList library not present");return this.pslInitialised||(publicSuffixList.parse(pslData.text,punycode.toASCII),this.pslInitialised=!0),publicSuffixList}}function no(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,s;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!no(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const r=i[s];if(!no(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}const yt=new Rh,Lh=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(e=>[e.name,e]),Fh=new Map(Lh),Nh=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],so=Symbol(".toJSON was called"),xh=e=>{e[so]=!0;const t=e.toJSON();return delete e[so],t},kh=e=>Fh.get(e)??Error,Ia=({from:e,seen:t,to:n,forceEnumerable:s,maxDepth:i,depth:r,useToJSON:o,serialize:l})=>{if(!n)if(Array.isArray(e))n=[];else if(!l&&Ra(e)){const c=kh(e.name);n=new c}else n={};if(t.push(e),r>=i)return n;if(o&&typeof e.toJSON=="function"&&e[so]!==!0)return xh(e);const a=c=>Ia({from:c,seen:[...t],forceEnumerable:s,maxDepth:i,depth:r,useToJSON:o,serialize:l});for(const[c,f]of Object.entries(e)){if(typeof Buffer=="function"&&Buffer.isBuffer(f)){n[c]="[object Buffer]";continue}if(f!==null&&typeof f=="object"&&typeof f.pipe=="function"){n[c]="[object Stream]";continue}if(typeof f!="function"){if(!f||typeof f!="object"){n[c]=f;continue}if(!t.includes(e[c])){r++,n[c]=a(e[c]);continue}n[c]="[Circular]"}}for(const{property:c,enumerable:f}of Nh)typeof e[c]<"u"&&e[c]!==null&&Object.defineProperty(n,c,{value:Ra(e[c])?a(e[c]):e[c],enumerable:s?!0:f,configurable:!0,writable:!0});return n};function Mh(e,t={}){const{maxDepth:n=Number.POSITIVE_INFINITY,useToJSON:s=!0}=t;return typeof e=="object"&&e!==null?Ia({from:e,seen:[],forceEnumerable:!0,maxDepth:n,depth:0,useToJSON:s,serialize:!0}):typeof e=="function"?`[Function: ${e.name??"anonymous"}]`:e}function Ra(e){return Boolean(e)&&typeof e=="object"&&"name"in e&&"message"in e&&"stack"in e}class Dh{constructor(){this.defaultLevel=4,this.outputStarted=!1,this.config={logLevel:this.defaultLevel}}attachConfig(t){this.debug("Logging system config updated at "+Date()),this.config=t}formatMessage(t,n){return!t&&!n?"":(this.outputStarted||(t="* "+t,this.outputStarted=!0),n&&(t+=` Error: ${JSON.stringify(Mh(n))}`),t)}debug(t){this.config.logLevel>=4&&(t=this.formatMessage(t),t.length>0&&(console.debug(t),this.config.logLevel>=4&&this.send(4,t)))}info(t){this.config.logLevel>=3&&(t=this.formatMessage(t),t.length>0&&(console.info(t),this.config.logLevel>=4&&this.send(3,t)))}warn(t){this.config.logLevel>=2&&(t=this.formatMessage(t),t.length>0&&(console.warn(t),this.config.logLevel>=4&&this.send(2,t)))}error(t,n){this.config.logLevel>=1&&(t=this.formatMessage(t,n),t.length>0&&(console.error(t),this.config.logLevel>=4&&this.send(1,t)))}send(t,n){}stackTrace(){console.groupCollapsed("%c Stack Trace","color:cream; font-style: normal;"),console.debug(new Error().stack),console.groupEnd()}}const we=new Dh,io=8,Z=new Ih;Z.autoFillDialogs=!1,Z.autoFillForms=!0,Z.autoFillFormsWithMultipleMatches=!1,Z.autoSubmitForms=!1,Z.autoSubmitDialogs=!1,Z.autoSubmitMatchedForms=!1,Z.connSLClient=2,Z.connSLServerMin=2,Z.keePassDBToOpen="",Z.keePassMRUDB="",Z.KeePassRPCWebSocketPort=12546,Z.KPRPCUsername="",Z.KPRPCStoredKeys={},Z.lastConnectedToKeePass="",Z.listAllOpenDBs=!0,Z.logLevel=we.defaultLevel,Z.logMethodConsole=!1,Z.logMethodFile=!1,Z.logSensitiveData=!1,Z.metricsUsageDisabled=!1,Z.metricsUserId="",Z.notifyWhenEntryUpdated=!0,Z.notifyWhenLateDiscovery=!1,Z.notifyWhenLoggedOut=!1,Z.overWriteFieldsAutomatically=!1,Z.rememberMRUDB=!0,Z.rememberMRUGroup=!0,Z.saveFavicons=!0,Z.searchAllOpenDBs=!0,Z.config=null,Z.siteConfig=Ti,Z.tutorialProgress="",Z.version=io,Z.triggerChangeInputEventAfterFill=!1,Z.autoSubmitNetworkAuthWithSingleMatch=!1,Z.searchNetworkAuth=!0,Z.notificationCountGeneric=0,Z.notificationCountSavePassword=0,Z.currentSearchTermTimeout=30,Z.notifyPasswordAvailableForPaste=!0,Z.animateWhenOfferingSave=!0,Z.keeVaultLaunchMessageDismissed=!1,Z.keeVaultLaunchStart=864e13,Z.keeVaultLaunchEnd=864e13,Z.manualSubmitOverrideProhibited=!1,Z.theme=null,Z.hideConfirmationAfterSave=!1,Z.mustShowReleaseNotesAtStartup=!1,Z.autoFillFieldsWithExistingValue=!1;class $h{constructor(){this.maxCharsPerPage=1e4,this._listeners=[],this.current=Z,gt.storage.onChanged.addListener((t,n)=>this.reloadOnStorageChange(t,n))}addChangeListener(t){this._listeners.push(t)}reloadOnStorageChange(t,n){at.reload(()=>this._listeners.forEach(s=>s(t,n)))}async setASAP(t){Object.assign(this.current,t),await this.save()}splitStringToPages(t){const n=Math.ceil(t.length/this.maxCharsPerPage),s=new Array(n);for(let i=0,r=0;i<n;++i,r+=this.maxCharsPerPage)s[i]=t.substr(r,this.maxCharsPerPage);return s}async save(){const t=JSON.stringify(this.current),n=this.splitStringToPages(t),s={};s.keeConfigPageCount=n.length;for(let i=0;i<n.length;i++)s["keeConfigPage"+i]=n[i];await gt.storage.local.set(s)}load(t){gt.storage.local.get().then(n=>{const s=n.keeConfigPageCount;if(s){let i="";for(let r=0;r<s;r++){const o=n["keeConfigPage"+r];o&&(i+=o)}i&&(this.current=JSON.parse(i))}else{const i=n.keefoxConfigPageCount;if(i){let r="";for(let o=0;o<i;o++){const l=n["keefoxConfigPage"+o];l&&(r+=l)}r&&(this.current=JSON.parse(r))}}this.fixInvalidConfigData(),this.migrateToLatestVersion(),t()})}fixInvalidConfigData(){let t=!1;this.current.KPRPCStoredKeys==null&&(this.current.KPRPCStoredKeys={},t=!0),t&&this.save()}migrateToLatestVersion(){if(this.current.version>=io)return;const t=new Oa;switch(this.current.version){case 1:t.migrateToVersion2(this.current);case 2:t.migrateToVersion3(this.current);case 3:t.migrateToVersion4(this.current);case 4:t.migrateToVersion5(this.current);case 5:t.migrateToVersion6(this.current);case 6:t.migrateToVersion7(this.current);case 7:t.migrateToVersion8(this.current)}this.save()}migrateFromRemoteToLatestVersion(){if(this.current.version>=io)return;const t=new Oa;switch(this.current.version){case 5:t.migrateToVersion6(this.current);case 6:t.migrateToVersion7(this.current)}this.save()}reload(t){gt.storage.local.get().then(n=>{const s=n.keeConfigPageCount;if(s){let i="";for(let r=0;r<s;r++){const o=n["keeConfigPage"+r];o&&(i+=o)}i&&(this.current=Object.assign(this.current,JSON.parse(i)))}t&&t()})}siteConfigLookupFor(t,n){if(t=="Domain"){if(n=="Exact")return this.current.siteConfig.domainExact||(this.current.siteConfig.domainExact=new Ze),this.current.siteConfig.domainExact;if(n=="Prefix")return this.current.siteConfig.domainPrefix||(this.current.siteConfig.domainPrefix=new Ze),this.current.siteConfig.domainPrefix;if(n=="Regex")return this.current.siteConfig.domainRegex||(this.current.siteConfig.domainRegex=new Ze),this.current.siteConfig.domainRegex}else if(t=="Host"){if(n=="Exact")return this.current.siteConfig.hostExact||(this.current.siteConfig.hostExact=new Ze),this.current.siteConfig.hostExact;if(n=="Prefix")return this.current.siteConfig.hostPrefix||(this.current.siteConfig.hostPrefix=new Ze),this.current.siteConfig.hostPrefix;if(n=="Regex")return this.current.siteConfig.hostRegex||(this.current.siteConfig.hostRegex=new Ze),this.current.siteConfig.hostRegex}else if(t=="Page"){if(n=="Exact")return this.current.siteConfig.pageExact||(this.current.siteConfig.pageExact=new Ze),this.current.siteConfig.pageExact;if(n=="Prefix")return this.current.siteConfig.pagePrefix||(this.current.siteConfig.pagePrefix=new Ze),this.current.siteConfig.pagePrefix;if(n=="Regex")return this.current.siteConfig.pageRegex||(this.current.siteConfig.pageRegex=new Ze),this.current.siteConfig.pageRegex}return null}siteConfigFor(t){const n=this.findAllConfigsFor(t);return n.sort((s,i)=>i.matchWeight-s.matchWeight),this.deriveConfigFromMatches(n)}findAllConfigsFor(t){const n=[],s=new URL(t),i=s.host,r=i+s.pathname,o=yt.psl.getDomain(i);for(const l in this.current.siteConfig.domainExact)l===o&&n.push(this.current.siteConfig.domainExact[l]);for(const l in this.current.siteConfig.hostExact)l===i&&n.push(this.current.siteConfig.hostExact[l]);for(const l in this.current.siteConfig.pageExact)l===r&&n.push(this.current.siteConfig.pageExact[l]);for(const l in this.current.siteConfig.domainPrefix)o.startsWith(l)&&n.push(this.current.siteConfig.domainPrefix[l]);for(const l in this.current.siteConfig.hostPrefix)i.startsWith(l)&&n.push(this.current.siteConfig.hostPrefix[l]);for(const l in this.current.siteConfig.pagePrefix)r.startsWith(l)&&n.push(this.current.siteConfig.pagePrefix[l]);for(const l in this.current.siteConfig.domainRegex)new RegExp(l).test(o)&&n.push(this.current.siteConfig.domainRegex[l]);for(const l in this.current.siteConfig.hostRegex)new RegExp(l).test(i)&&n.push(this.current.siteConfig.hostRegex[l]);for(const l in this.current.siteConfig.pageRegex)new RegExp(l).test(r)&&n.push(this.current.siteConfig.pageRegex[l]);return n}findAllConfigsAndIndexFor(t){const n=[],s=new URL(t),i=s.host,r=i+s.pathname,o=yt.psl.getDomain(i);for(const l in this.current.siteConfig.domainExact)l===o&&n.push({node:this.current.siteConfig.domainExact[l],target:"Domain",method:"Exact",lookupValue:l});for(const l in this.current.siteConfig.hostExact)l===i&&n.push({node:this.current.siteConfig.hostExact[l],target:"Host",method:"Exact",lookupValue:l});for(const l in this.current.siteConfig.pageExact)l===r&&n.push({node:this.current.siteConfig.pageExact[l],target:"Page",method:"Exact",lookupValue:l});for(const l in this.current.siteConfig.domainPrefix)o.startsWith(l)&&n.push({node:this.current.siteConfig.domainPrefix[l],target:"Domain",method:"Prefix",lookupValue:l});for(const l in this.current.siteConfig.hostPrefix)i.startsWith(l)&&n.push({node:this.current.siteConfig.hostPrefix[l],target:"Host",method:"Prefix",lookupValue:l});for(const l in this.current.siteConfig.pagePrefix)r.startsWith(l)&&n.push({node:this.current.siteConfig.pagePrefix[l],target:"Page",method:"Prefix",lookupValue:l});for(const l in this.current.siteConfig.domainRegex)new RegExp(l).test(o)&&n.push({node:this.current.siteConfig.domainRegex[l],target:"Domain",method:"Regex",lookupValue:l});for(const l in this.current.siteConfig.hostRegex)new RegExp(l).test(i)&&n.push({node:this.current.siteConfig.hostRegex[l],target:"Host",method:"Regex",lookupValue:l});for(const l in this.current.siteConfig.pageRegex)new RegExp(l).test(r)&&n.push({node:this.current.siteConfig.pageRegex[l],target:"Page",method:"Regex",lookupValue:l});return n}deriveConfigFromMatches(t){const n={};return t.forEach(s=>{s.config.preventSaveNotification!==void 0&&n.preventSaveNotification==null&&(n.preventSaveNotification=s.config.preventSaveNotification),s.config.listMatchingCaseSensitive!==void 0&&n.listMatchingCaseSensitive==null&&(n.listMatchingCaseSensitive=s.config.listMatchingCaseSensitive),s.config.blackList!==void 0&&(n.blackList===void 0&&(n.blackList={}),s.config.blackList.form!==void 0&&(n.blackList.form===void 0&&(n.blackList.form={}),s.config.blackList.form.ids!==void 0&&n.blackList.form.ids===void 0&&(n.blackList.form.ids=s.config.blackList.form.ids),s.config.blackList.form.names!==void 0&&n.blackList.form.names===void 0&&(n.blackList.form.names=s.config.blackList.form.names)),s.config.blackList.fields!==void 0&&(n.blackList.fields===void 0&&(n.blackList.fields={}),s.config.blackList.fields.ids!==void 0&&n.blackList.fields.ids===void 0&&(n.blackList.fields.ids=s.config.blackList.fields.ids),s.config.blackList.fields.names!==void 0&&n.blackList.fields.names===void 0&&(n.blackList.fields.names=s.config.blackList.fields.names))),s.config.whiteList!==void 0&&(n.whiteList===void 0&&(n.whiteList={}),s.config.whiteList.form!==void 0&&(n.whiteList.form===void 0&&(n.whiteList.form={}),s.config.whiteList.form.ids!==void 0&&n.whiteList.form.ids===void 0&&(n.whiteList.form.ids=s.config.whiteList.form.ids),s.config.whiteList.form.names!==void 0&&n.whiteList.form.names===void 0&&(n.whiteList.form.names=s.config.whiteList.form.names)),s.config.whiteList.fields!==void 0&&(n.whiteList.fields===void 0&&(n.whiteList.fields={}),s.config.whiteList.fields.ids!==void 0&&n.whiteList.fields.ids===void 0&&(n.whiteList.fields.ids=s.config.whiteList.fields.ids),s.config.whiteList.fields.names!==void 0&&n.whiteList.fields.names===void 0&&(n.whiteList.fields.names=s.config.whiteList.fields.names))),s.config.preferredEntryUuid!==void 0&&n.preferredEntryUuid==null&&(n.preferredEntryUuid=s.config.preferredEntryUuid)}),n}normalizeFormProperty(t,n){return typeof t!="string"?null:n?t.toLowerCase():t}isFormInteresting(t,n,s){var S,P,I,D,T,b,g,A,y,R,k,$,H,N,B,z;const i=n.listMatchingCaseSensitive!==!0,r=s.map(Y=>{var oe,Ue;return i?(oe=Y.locators[0])==null?void 0:oe.id.toLowerCase():(Ue=Y.locators[0])==null?void 0:Ue.id}).filter(Boolean),o=s.map(Y=>{var oe,Ue;return i?(oe=Y.locators[0])==null?void 0:oe.name.toLowerCase():(Ue=Y.locators[0])==null?void 0:Ue.name}).filter(Boolean),l=this.normalizeFormProperty(t.id,i),a=this.normalizeFormProperty(t.name,i),c=(((P=(S=n==null?void 0:n.blackList)==null?void 0:S.form)==null?void 0:P.ids)||[]).map(Y=>i?Y==null?void 0:Y.toLowerCase():Y).filter(Boolean),f=(((D=(I=n==null?void 0:n.blackList)==null?void 0:I.form)==null?void 0:D.names)||[]).map(Y=>i?Y==null?void 0:Y.toLowerCase():Y).filter(Boolean),u=(((b=(T=n==null?void 0:n.blackList)==null?void 0:T.fields)==null?void 0:b.ids)||[]).map(Y=>i?Y==null?void 0:Y.toLowerCase():Y).filter(Boolean),d=(((A=(g=n==null?void 0:n.blackList)==null?void 0:g.fields)==null?void 0:A.names)||[]).map(Y=>i?Y==null?void 0:Y.toLowerCase():Y).filter(Boolean);if(c.indexOf(l)>=0||f.indexOf(a)>=0||u.some(Y=>r.find(oe=>Y===oe)!==void 0)||d.some(Y=>o.find(oe=>Y===oe)!==void 0))return!1;const v=((R=(y=n==null?void 0:n.whiteList)==null?void 0:y.form)==null?void 0:R.ids)||[],_=(($=(k=n==null?void 0:n.whiteList)==null?void 0:k.form)==null?void 0:$.names)||[],C=((N=(H=n==null?void 0:n.whiteList)==null?void 0:H.fields)==null?void 0:N.ids)||[],w=((z=(B=n==null?void 0:n.whiteList)==null?void 0:B.fields)==null?void 0:z.names)||[];return v.indexOf(l)>=0||_.indexOf(a)>=0||C.some(Y=>r.find(oe=>Y===oe)!==void 0)||w.some(Y=>o.find(oe=>Y===oe)!==void 0)?!0:null}get activeTheme(){return this.current.theme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}togglePreferredEntryUuid(t,n){let s;try{s=new URL(n)}catch{we.error("Invalid URL supplied to togglePreferredEntryUuid. Preferred entry will not be altered.");return}const i="Domain",r=this.findAllConfigsAndIndexFor(n),l=this.siteConfigFor(n).preferredEntryUuid;l===t?r.forEach(a=>{a.node.config.preferredEntryUuid===t&&this.removePreferredEntryUuid(a)}):(r.forEach(a=>{a.node.config.preferredEntryUuid===l&&this.leastSpecificTarget(i,a.target)===i&&this.removePreferredEntryUuid(a)}),this.addSiteConfigParameters({preferredEntryUuid:t},s,i,"Exact","Auto")),this.save()}removePreferredEntryUuid(t){if(t.node.config.preferredEntryUuid=null,t.node.source==="Auto"&&this.equalsDefaultSiteConfig(t.node.config)){const n=this.siteConfigLookupFor(t.target,t.method);delete n[t.lookupValue]}}equalsDefaultSiteConfig(t){return!(typeof t.preferredEntryUuid=="boolean"||typeof t.preventSaveNotification=="boolean"||typeof t.listMatchingCaseSensitive=="boolean"||t.whiteList||t.blackList)}leastSpecificTarget(t,n){return t==="Domain"||n==="Domain"?"Domain":t==="Host"||n==="Host"?"Host":"Page"}valueFromUrl(t,n){const s=t.host;if(n==="Host")return s;if(n==="Page")return s+t.pathname;if(n==="Domain")return yt.psl.getDomain(s)}addSiteConfigParameters(t,n,s,i,r){const o=this.valueFromUrl(n,s),l=at.siteConfigLookupFor(s,i);l[o]||(l[o]={config:new Ta,source:r,matchWeight:100}),Object.assign(l[o].config,t)}}const at=new $h;class Sn{}Sn.MatchedLogins={id:"KeeAddonPanelMatchedLogins",height:300,width:400,name:"matchedLoginsLegacy",autoCloseTime:0,legacy:!0},Sn.GeneratePasswordLegacy={id:"KeeAddonPanelGeneratePassword",height:300,width:400,name:"generatePasswordLegacy",autoCloseTime:0,legacy:!0},Sn.GeneratePassword={id:"KeeAddonPanelGeneratePassword",height:500,width:450,name:"generatePassword",autoCloseTime:0,legacy:!1};class Ps{constructor(t,n,s){this.target=n,this.options=t,this.parentFrameId=s}createPanel(){this.options.name=="generatePassword"&&(this.elementToRefocus=document.activeElement),this.container=document.createElement("div");const t=this.container.attachShadow({mode:"closed"});this.container.id=this.options.id;const n=document.createElement("style");n.textContent=`:host(div) {
            display: block !important;
            position: absolute !important;
            z-index: 2147483647 !important;
        }`,t.appendChild(n),this.target?(this.targetRelativeRect=this.target.getBoundingClientRect(),this.positionPanel()):(this.container.style.setProperty("width",this.options.width+"px","important"),this.container.style.setProperty("height",this.options.height+"px","important"),this.container.style.setProperty("top",(window.innerHeight-this.options.height)/2+window.scrollY+"px","important"),this.container.style.setProperty("left",(window.innerWidth-this.options.width)/2+window.scrollX+"px","important"));const s=document.createElement("iframe");s.setAttribute("sandbox","allow-scripts allow-same-origin"),s.setAttribute("allow",""),s.style.setProperty("width","100%","important"),s.style.setProperty("height","100%","important"),s.style.setProperty("visibility","visible","important"),s.style.setProperty("display","block","important"),s.style.setProperty("position","relative","important"),s.style.setProperty("background-color",at.activeTheme==="dark"?"#1e1e1e":"#ffffff","important"),s.setAttribute("scrolling","no"),this.options.legacy?s.style.setProperty("border","none","important"):(s.style.setProperty("border","2px solid #1a466b","important"),s.style.setProperty("border-radius","8px","important")),t.appendChild(s);const i=gt.extension.getURL(`panels/panels${this.options.legacy?"Legacy":""}.html`);s.src=`${i}?parentFrameId=${this.parentFrameId}&autoCloseTime=${this.options.autoCloseTime}&panel=${this.options.name}&theme=${at.activeTheme}`;const r=document.getElementsByTagName("body");if(r&&r.length>0)r[0].appendChild(this.container);else{const o=document.getElementsByTagName("frameset");o&&o.length>0&&o[0].insertAdjacentElement("afterend",this.container)}}updateBoundingClientRect(){const t=this.targetRelativeRect;this.targetRelativeRect=this.target.getBoundingClientRect(),(t.top!=this.targetRelativeRect.top||t.bottom!=this.targetRelativeRect.bottom||t.left!=this.targetRelativeRect.left||t.right!=this.targetRelativeRect.right)&&this.positionPanel()}positionPanel(){const t=this.options.height;let n=t;const s=this.options.width;let i=!1;const r=this.targetRelativeRect.top+window.scrollY,o=this.targetRelativeRect.bottom+window.scrollY,l=this.targetRelativeRect.right-12,a=this.targetRelativeRect.bottom+t;if(a>window.innerHeight){const p=this.targetRelativeRect.top-t;if(p>=0)i=!0;else{const v=a-window.innerHeight,_=-p;v>_?(i=!0,n=t-_):n=t-v}}const c=l-this.targetRelativeRect.left;let f;c<s?f=Math.min(this.targetRelativeRect.left,window.innerWidth-s):f=l-s;const u=i?r-n:o,d=f+window.scrollX;this.container.style.setProperty("width",s+"px","important"),this.container.style.setProperty("height",n+"px","important"),this.container.style.setProperty("top",u+"px","important"),this.container.style.setProperty("left",d+"px","important")}closePanel(){const t=document.getElementById(this.options.id);if(t&&t.parentNode.removeChild(t),this.elementToRefocus)try{this.elementToRefocus.focus()}catch{}}}var Pt=(e=>(e.CloseAllPanels="closeAllPanels",e.DetectForms="detectForms",e.ResetForms="resetForms",e.GetPasswordProfiles="getPasswordProfiles",e.GeneratePassword="generatePassword",e.ManualFill="manualFill",e.Primary="primary",e.ShowMatchedLoginsPanel="showMatchedLoginsPanel",e.PageHide="pageHide",e.OpenKeePass="openkeepass",e.CreateEntry="createEntry",e.UpdateEntry="updateEntry",e))(Pt||{});class Uh{constructor(t,n,s,i){this.myPort=t,this.parentFrameId=n,this.formUtils=s,this.createMatchedLoginsPanelNearNode=i,this.fieldsWithIcons=[],this.KEEFOX_ICON_16="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAOdEVYdFRpdGxlAEtlZSBsb2dvN59B9AAAABB0RVh0QXV0aG9yAEtlZSBWYXVsdGXwy5UAAAH8SURBVDiNhZDfS1NhGMc/z3vOEHea0lgXrkisvArWTUSlF9XFIKj/waugtP+hey/M5vpFN0Eg4UVB0WARSglC0IX2AwwtzdywppYsz862875dzLmDbfTcvd/n8/0+X16JX74Sxgt9AHrYmYhVfTbZ88Z6/SeWVEC/szF1brGvVDT2JRqzVLLUCTl28Xrbtq8LwL76JtU1axLhLTm/2A/A1JFp5txOM5RPSCBgM2ypLrWQSXkID+tqd8jljLMpjvgMRFcY2P+NsPI57WxId8gN+HmwkEl5NoBUuWUsrgIqZnu7xLXol6CBmF1mudIOUDU2aQAFsPoq/RkjGYB5L4KnFXvH04p5zwHAwNP8i/TybgAAYkYBitpieL0XP2D2geH1XorarqG6xgIEP0XiycH3wHGAU+0b3D44h6sthvIJZt3OOvYulx07WTcFuxojjeSlSq3u13KYT6VIAwowewOwttoeIRSC2sx2lIqpY5KPdhx43DLg+8yIK3A/qJ111gmJrtmNvvNx4ka5ZQCA0pIGKho0QET5AAYoVUXf+4ffK6y8HMsBEyVtuQC/dQgfMRjG17J3f/w3AEArc7Oo7fD4r0OMFI6ijShRarQZK81EgHhycBro23lO5rLpC824pg0AxEjjotD0OoDdarFaiT053Lb2VhB/uePn81bcX+xXu7resl9RAAAAAElFTkSuQmCC"}removeKeeIconFromAllFields(){for(const t of this.fieldsWithIcons){const n=t.DOMelement;n&&(n.removeEventListener("click",this),n.removeEventListener("mousemove",this),n.style.setProperty("background-image",""),n.style.setProperty("background-repeat",""),n.style.setProperty("background-attachment",""),n.style.setProperty("background-size",""),n.style.setProperty("background-position",""))}this.fieldsWithIcons=[],this.passwordFields=null,this.otherFields=null}addKeeIconToFields(t,n,s){this.passwordFields=t,this.otherFields=n,s.length>1?this.getLabelledIcon(s.length.toString()):this.afterImageLoaded(this.KEEFOX_ICON_16)}skipField(t){return!this.formUtils.isATextFormFieldType(t.field.type)&&t.field.type!="password"||!t.DOMelement||t.DOMelement instanceof HTMLSelectElement||!t.DOMelement.isConnected||t.DOMelement.maxLength>0&&t.DOMelement.maxLength<=3||t.DOMelement.offsetWidth<50}addIcon(t,n){this.fieldsWithIcons.push(t);const s=t.DOMelement;s.addEventListener("click",this),s.addEventListener("mousemove",this),s.style.setProperty("background-image","url('"+n+"')","important"),s.style.setProperty("background-repeat","no-repeat","important"),s.style.setProperty("background-attachment","scroll","important"),s.style.setProperty("background-size","16px 16px","important"),s.style.setProperty("background-position","calc(100% - 4px) 50%","important"),s.style.setProperty("cursor","auto");const i=window.getComputedStyle(t.DOMelement).getPropertyValue("transition-property");["all","background"].some(r=>i.includes(r))&&t.DOMelement.style.setProperty("transition","none","important"),this.overrideBoxShadows(s)}handleEvent(t){t.type==="click"&&this.showMatchedLoginsPanel(t),t.type==="mousemove"&&this.hoverOverInput(t)}limitFields(t){return t.filter(s=>!this.skipField(s)).sort((s,i)=>s.highestScore===i.highestScore?0:s.highestScore<i.highestScore?1:-1).slice(0,2)}afterImageLoaded(t){const n=this.limitFields(this.passwordFields),s=this.limitFields(this.otherFields);for(const i of n.concat(s))this.addIcon(i,t)}overrideBoxShadows(t){const n=window.getComputedStyle(t);if(n){const s=[];s.push(n.getPropertyValue("box-shadow")),s.push(n.getPropertyValue("-webkit-box-shadow")),s.push(n.getPropertyValue("-moz-box-shadow")),s.some(i=>i.indexOf("inset"))&&(t.style.setProperty("box-shadow","initial","important"),t.style.setProperty("-webkit-box-shadow","initial","important"),t.style.setProperty("-moz-box-shadow","initial","important"))}}showMatchedLoginsPanel(t){const n=t.target.getBoundingClientRect(),s=n.left+n.width-22;t.clientX>s&&n.top<=t.clientY&&t.clientY<=n.bottom&&(this.parentFrameId!==0?this.myPort.postMessage({action:Pt.ShowMatchedLoginsPanel}):this.createMatchedLoginsPanelNearNode(t.target))}hoverOverInput(t){if(t.target.disabled)return;const n=t.target.getBoundingClientRect(),s=n.left+n.width-22;if(t.clientX>s){t.target.style.setProperty("cursor","pointer","important");return}t.target.style.setProperty("cursor","auto")}getLabelledIcon(t){const n=document.createElement("canvas");n.height=16,n.width=16;const s=document.createElement("img");s.addEventListener("load",()=>{const i=n.getContext("2d");i.drawImage(s,0,0),i.fillStyle="white",i.fillRect(6,8,10,8),i.fillStyle="red",i.font="8px Arial",i.fillText(t,7,15),this.afterImageLoaded(n.toDataURL())}),s.src=this.KEEFOX_ICON_16}}class Vh{}var La=(e=>(e.Event="event",e.Websocket="websocket",e))(La||{});class Pi{constructor(t){this.icon=t.icon||{version:1,iconImageData:""},this.usernameValue=t.usernameValue||"<no username>",this.usernameName=t.usernameName||"<no username>",this.path=t.path||"UNKNOWN PATH",this.title=t.title||"",this.uRLs=t.uRLs||[],this.url=(t==null?void 0:t.url)||"",this.uuid=t.uuid||yt.newGUID(),this.dbFileName=t.dbFileName||"",this.relevanceScore=t.relevanceScore,this.fullDetails=t.fullDetails,this.isPreferredMatch=t.isPreferredMatch}static fromEntry(t){var n,s;return new Pi({icon:t.icon,usernameValue:(n=Vt.getUsernameField(t))==null?void 0:n.value,usernameName:(s=Vt.getUsernameField(t))==null?void 0:s.name,title:t.title,uRLs:t.URLs,url:t==null?void 0:t.URLs[0],uuid:t.uuid,dbFileName:t.database.fileName,fullDetails:t,isPreferredMatch:t.isPreferredMatch})}static fromKPRPCEntrySummaryDTO(t,n,s){return new Pi({icon:{version:1,iconImageData:t.iconImageData},usernameValue:t.usernameValue,usernameName:t.usernameName,path:n,title:t.title,uRLs:t.uRLs,url:t==null?void 0:t.uRLs[0],uuid:t.uniqueID,dbFileName:s})}}class Os{constructor(t){this.title=t.title||"",this.uuid=t.uuid||yt.newGUID(),this.icon=t.icon||{version:1,iconImageData:""},this.path=t.path||"UNKNOWN PATH",this.entrySummaries=t.entrySummaries||[],this.groups=t.groups||[]}static fromKPRPCGroupDTO(t,n){return new Os({title:t.title,uuid:t.uniqueID,icon:{version:1,iconImageData:t.iconImageData},path:t.path,entrySummaries:t.childLightEntries.map(s=>Pi.fromKPRPCEntrySummaryDTO(s,t.path,n)),groups:t.childGroups.map(s=>this.fromKPRPCGroupDTO(s,n))})}static containsId(t,n){return!!(t.uuid===n||t.groups&&t.groups.some(s=>Os.containsId(s,n)))}}class ro{constructor(t){this.name=t.name||"",this.fileName=t.fileName||"",this.icon=t.icon||{version:1,iconImageData:""},this.root=t.root||new Os({}),this.active=t.active||!1,this.sessionType=t.sessionType||La.Event,this.sessionFeatures=t.sessionFeatures||[""]}static fromKPRPCDatabaseDTO(t,n,s){return new ro({name:t.name,fileName:t.fileName,icon:{version:1,iconImageData:t.iconImageData},root:Os.fromKPRPCGroupDTO(t.root,t.fileName),active:t.active,sessionType:n,sessionFeatures:s})}}function Ut(e){return gt.i18n.getMessage(e)||e}function oo(e,t){return gt.i18n.getMessage(e,t)||e}class Fa{constructor(t){this.id=t.id||"",this.name=t.name||"",this.type=t.type||"",this.query=t.query,this.labels=t.labels,this.autocompleteValues=t.autocompleteValues}}class Bh{}var Be=(e=>(e.radio="FFTradio",e.username="FFTusername",e.text="FFTtext",e.password="FFTpassword",e.select="FFTselect",e.checkbox="FFTcheckbox",e))(Be||{});class Qe{constructor(t){this.name=t.name||"",this.value=t.value||"",this.resetValue=t.resetValue||"",this.uuid=t.uuid||yt.newGUID(),this.type=t.type||"text",this.locators=t.locators||[]}static getDisplayValueInternal(t,n,s){return t.type==="boolean"?t.value==="KEEFOX_CHECKED_FLAG_TRUE"?Ut("enabled"):Ut("disabled"):t.type==="password"&&!n?s:t.value}static getDisplayValue(t,n){return Qe.getDisplayValueInternal(t,n,"*".repeat(t.value.length))}static getDisplayName(t){return t.name==="KeePass username"?Ut("username"):t.name==="KeePass password"?Ut("password"):t.name?t.name:"[ "+Ut("no_name")+" ]"}static getDisplayTooltip(t,n){return Qe.getDisplayName(t)+": "+Qe.getDisplayValueInternal(t,n,Ut("click_to_reveal_hide"))}static typeFromDOMtype(t){switch(t){case"password":return"password";case"radio":return"existing";case"checkbox":return"boolean";case"select-one":return"existing";default:return"text"}}static combineDomFieldLists(t,n,s){const i=[];return t>=0&&n[t]&&i.push(n[t]),s.forEach(r=>{i.push(r)}),n.forEach((r,o)=>{o!==t&&i.push(r)}),i}static fromDOM(t,n,s){const i=jh(t);return new Qe({uuid:yt.newGUID(),name:i&&i.length?i[0]:t.name,locators:[new Fa({name:t.name,id:t.id,type:n,labels:i,autocompleteValues:Hh(t)})],value:s,type:Qe.typeFromDOMtype(n)})}static fromKPRPCFieldDTO(t){let n="text",s="text";switch(t.type){case Be.password:n="password",s="password";break;case Be.radio:n="existing",s="radio";break;case Be.checkbox:n="boolean",s="checkbox";break;case Be.select:n="existing",s="select";break;case Be.username:n="text",s="text";break;case Be.text:n="text",s="text";break}return new Qe({name:t.displayName||t.name,uuid:yt.newGUID(),value:t.value,resetValue:t.value,type:n,locators:[new Fa({id:t.id,name:t.name,type:s})]})}static toKPRPCFieldDTO(t,n){let s;switch(t.locators[0].type){case"password":s=Be.password;break;case"radio":s=Be.radio;break;case"checkbox":s=Be.checkbox;break;case"select-one":s=Be.select;break;default:s=n?Be.username:Be.text;break}return{displayName:t.name,id:t.locators[0].id,name:t.locators[0].name,type:s,value:t.value,page:-1}}}function jh(e){var r,o,l,a;const t=[],n=((r=e.labels)==null?void 0:r.length)||0;for(let c=0;c<n;c++){const f=e.labels[c];f!=null&&f.innerText&&t.push(f.innerText)}const s=(o=e.getAttribute("aria-label"))==null?void 0:o.toLowerCase();s&&t.push(s);const i=[];return(l=e.getAttribute("aria-labelledby"))==null||l.trim().split(" ").forEach(c=>{c&&i.push(c)}),(a=e.getAttribute("aria-describedby"))==null||a.trim().split(" ").forEach(c=>{c&&i.push(c)}),i.forEach(c=>{const f=document.getElementById(c);f!=null&&f.innerText&&t.push(f.innerText)}),t.length?t:void 0}function Hh(e){var n,s;const t=[];return(s=(n=e.attributes.autocomplete)==null?void 0:n.value)==null||s.trim().split(" ").forEach(i=>{i&&t.push(i.toLowerCase())}),t.length?t:void 0}class Oi{constructor(t){this.title=t.title||"",this.uuid=t.uuid||yt.newGUID(),this.icon=t.icon||{version:1,iconImageData:""},this.path=t.path||"UNKNOWN PATH"}static fromKPRPCGroupSummaryDTO(t){return new Oi({title:t.title,uuid:t.uniqueID,icon:{version:1,iconImageData:t.iconImageData},path:t.path})}static fromGroup(t){return new Oi({title:t.title,uuid:t.uuid,icon:t.icon,path:t.path})}}class Vt{constructor(t){this.alwaysAutoFill=t.alwaysAutoFill||!1,this.alwaysAutoSubmit=t.alwaysAutoSubmit||!1,this.neverAutoFill=t.neverAutoFill||!1,this.neverAutoSubmit=t.neverAutoSubmit||!1,this.URLs=t.URLs||[],this.fields=t.fields||[],this.httpRealm=t.httpRealm||"",this.parentGroup=t.parentGroup||null,this.uuid=t.uuid||yt.newGUID(),this.title=t.title||"",this.matchAccuracy=t.matchAccuracy||0,this.icon=t.icon||{version:1,iconImageData:""},this.database=t.database||new ro({}),this.relevanceScore=t.relevanceScore,this.lowFieldMatchRatio=t.lowFieldMatchRatio,this.formIndex=t.formIndex,this.entryIndex=t.entryIndex,this.isPreferredMatch=t.isPreferredMatch}static getUsernameField(t){return t.fields.find(n=>n.type==="text")}static getPasswordField(t){return t.fields.find(n=>n.type==="password")}static fromKPRPCEntryDTO(t,n){const s=[];let i=1;const r=t.formFieldList.findIndex(c=>c.type===Be.username),o=t.formFieldList.map(c=>(c.page>i&&(i=c.page),Qe.fromKPRPCFieldDTO(c))),l=o.findIndex(c=>c.type==="password");return r>-1&&s.push(o[r]),l>-1&&s.push(o[l]),o.forEach((c,f)=>{f!==r&&f!==l&&s.push(c)}),new Vt({URLs:t.uRLs,neverAutoFill:t.neverAutoFill,alwaysAutoFill:t.alwaysAutoFill,neverAutoSubmit:t.neverAutoSubmit,alwaysAutoSubmit:t.alwaysAutoSubmit,icon:{version:1,iconImageData:t.iconImageData},parentGroup:Oi.fromKPRPCGroupSummaryDTO(t.parent),database:n,matchAccuracy:t.matchAccuracy,httpRealm:t.hTTPRealm,uuid:t.uniqueID,title:t.title,fields:s})}static toKPRPCEntryDTO(t){const n=new Bh;return n.alwaysAutoFill=t.alwaysAutoFill,n.alwaysAutoSubmit=t.alwaysAutoSubmit,n.formFieldList=t.fields.map((s,i)=>Qe.toKPRPCFieldDTO(s,i===0)),n.hTTPRealm=t.httpRealm,n.iconImageData=t.icon.iconImageData,n.neverAutoFill=t.neverAutoFill,n.neverAutoSubmit=t.neverAutoSubmit,n.title=t.title,n.uRLs=t.URLs,n}}function Pe(e,t){const n=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ot={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},Kh={[1]:"STABLE",[2]:"DYNAMIC",[3]:"FORWARDED"},Wh=Pe("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),Na=2;function Gh(e,t=0,n=e.length){let s=e.split(/(\r?\n)/);const i=s.filter((l,a)=>a%2===1);s=s.filter((l,a)=>a%2===0);let r=0;const o=[];for(let l=0;l<s.length;l++)if(r+=s[l].length+(i[l]&&i[l].length||0),r>=t){for(let a=l-Na;a<=l+Na||n>r;a++){if(a<0||a>=s.length)continue;const c=a+1;o.push(`${c}${" ".repeat(Math.max(3-String(c).length,0))}|  ${s[a]}`);const f=s[a].length,u=i[a]&&i[a].length||0;if(a===l){const d=t-(r-(f+u)),p=Math.max(1,n>r?f-d:n-t);o.push("   |  "+" ".repeat(d)+"^".repeat(p))}else if(a>l){if(n>r){const d=Math.max(Math.min(n-r,f),1);o.push("   |  "+"^".repeat(d))}r+=f+u}}break}return o.join(`
`)}function ts(e){if(V(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=ee(s)?xa(s):ts(s);if(i)for(const r in i)t[r]=i[r]}return t}else{if(ee(e))return e;if(ne(e))return e}}const qh=/;(?![^(]*\))/g,Yh=/:([^]+)/,Jh=/\/\*.*?\*\//gs;function xa(e){const t={};return e.replace(Jh,"").split(qh).forEach(n=>{if(n){const s=n.split(Yh);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Xt(e){let t="";if(ee(e))t=e;else if(V(e))for(let n=0;n<e.length;n++){const s=Xt(e[n]);s&&(t+=s+" ")}else if(ne(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function zh(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ee(t)&&(e.class=Xt(t)),n&&(e.style=ts(n)),e}const Xh="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Zh="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Qh="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",ka=Pe(Xh),Ma=Pe(Zh),ep=Pe(Qh),Da=Pe("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function $a(e){return!!e||e===""}function tp(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Bt(e[s],t[s]);return n}function Bt(e,t){if(e===t)return!0;let n=Ba(e),s=Ba(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Zt(e),s=Zt(t),n||s)return e===t;if(n=V(e),s=V(t),n||s)return n&&s?tp(e,t):!1;if(n=ne(e),s=ne(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in e){const l=e.hasOwnProperty(o),a=t.hasOwnProperty(o);if(l&&!a||!l&&a||!Bt(e[o],t[o]))return!1}}return String(e)===String(t)}function Is(e,t){return e.findIndex(n=>Bt(n,t))}const Ua=e=>ee(e)?e:e==null?"":V(e)||ne(e)&&(e.toString===ja||!G(e.toString))?JSON.stringify(e,Va,2):String(e),Va=(e,t)=>t&&t.__v_isRef?Va(e,t.value):Cn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:Tn(t)?{[`Set(${t.size})`]:[...t.values()]}:ne(t)&&!V(t)&&!Ri(t)?String(t):t,ae=Object.freeze({}),ns=Object.freeze([]),Ce=()=>{},Rs=()=>!1,np=/^on[^a-z]/,et=e=>np.test(e),Ii=e=>e.startsWith("onUpdate:"),Q=Object.assign,lo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},sp=Object.prototype.hasOwnProperty,ie=(e,t)=>sp.call(e,t),V=Array.isArray,Cn=e=>Fs(e)==="[object Map]",Tn=e=>Fs(e)==="[object Set]",Ba=e=>Fs(e)==="[object Date]",G=e=>typeof e=="function",ee=e=>typeof e=="string",Zt=e=>typeof e=="symbol",ne=e=>e!==null&&typeof e=="object",Ls=e=>ne(e)&&G(e.then)&&G(e.catch),ja=Object.prototype.toString,Fs=e=>ja.call(e),ao=e=>Fs(e).slice(8,-1),Ri=e=>Fs(e)==="[object Object]",co=e=>ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Qt=Pe(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ha=Pe("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Li=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ip=/-(\w)/g,_e=Li(e=>e.replace(ip,(t,n)=>n?n.toUpperCase():"")),rp=/\B([A-Z])/g,Oe=Li(e=>e.replace(rp,"-$1").toLowerCase()),It=Li(e=>e.charAt(0).toUpperCase()+e.slice(1)),bt=Li(e=>e?`on${It(e)}`:""),ss=(e,t)=>!Object.is(e,t),Rt=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Fi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Lt=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ka;const Wa=()=>Ka||(Ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ni(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let tt;class uo{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}run(t){if(this.active){const n=tt;try{return tt=this,t()}finally{tt=n}}else Ni("cannot run an inactive effect scope.")}on(){tt=this}off(){tt=this.parent}stop(t){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function fo(e){return new uo(e)}function Ga(e,t=tt){t&&t.active&&t.effects.push(e)}function qa(){return tt}function Ya(e){tt?tt.cleanups.push(e):Ni("onScopeDispose() is called when there is no active effect scope to be associated with.")}const ho=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ja=e=>(e.w&en)>0,za=e=>(e.n&en)>0,op=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=en},lp=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const i=t[s];Ja(i)&&!za(i)?i.delete(e):t[n++]=i,i.w&=~en,i.n&=~en}t.length=n}},po=new WeakMap;let Ns=0,en=1;const mo=30;let De;const Pn=Symbol("iterate"),go=Symbol("Map key iterate");class xs{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ga(this,s)}run(){if(!this.active)return this.fn();let t=De,n=tn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=De,De=this,tn=!0,en=1<<++Ns,Ns<=mo?op(this):Xa(this),this.fn()}finally{Ns<=mo&&lp(this),en=1<<--Ns,De=this.parent,tn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){De===this?this.deferStop=!0:this.active&&(Xa(this),this.onStop&&this.onStop(),this.active=!1)}}function Xa(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function ap(e,t){e.effect&&(e=e.effect.fn);const n=new xs(e);t&&(Q(n,t),t.scope&&Ga(n,t.scope)),(!t||!t.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function cp(e){e.effect.stop()}let tn=!0;const Za=[];function On(){Za.push(tn),tn=!1}function In(){const e=Za.pop();tn=e===void 0?!0:e}function je(e,t,n){if(tn&&De){let s=po.get(e);s||po.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=ho()),Qa(i,{effect:De,target:e,type:t,key:n})}}function Qa(e,t){let n=!1;Ns<=mo?za(e)||(e.n|=en,n=!Ja(e)):n=!e.has(De),n&&(e.add(De),De.deps.push(e),De.onTrack&&De.onTrack(Object.assign({effect:De},t)))}function Ft(e,t,n,s,i,r){const o=po.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&V(e)){const c=Lt(s);o.forEach((f,u)=>{(u==="length"||u>=c)&&l.push(f)})}else switch(n!==void 0&&l.push(o.get(n)),t){case"add":V(e)?co(n)&&l.push(o.get("length")):(l.push(o.get(Pn)),Cn(e)&&l.push(o.get(go)));break;case"delete":V(e)||(l.push(o.get(Pn)),Cn(e)&&l.push(o.get(go)));break;case"set":Cn(e)&&l.push(o.get(Pn));break}const a={target:e,type:t,key:n,newValue:s,oldValue:i,oldTarget:r};if(l.length===1)l[0]&&yo(l[0],a);else{const c=[];for(const f of l)f&&c.push(...f);yo(ho(c),a)}}function yo(e,t){const n=V(e)?e:[...e];for(const s of n)s.computed&&ec(s,t);for(const s of n)s.computed||ec(s,t)}function ec(e,t){(e!==De||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(Q({effect:e},t)),e.scheduler?e.scheduler():e.run())}const up=Pe("__proto__,__v_isRef,__isVue"),tc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Zt)),fp=xi(),dp=xi(!1,!0),hp=xi(!0),pp=xi(!0,!0),nc=mp();function mp(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=te(this);for(let r=0,o=this.length;r<o;r++)je(s,"get",r+"");const i=s[t](...n);return i===-1||i===!1?s[t](...n.map(te)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){On();const s=te(this)[t].apply(this,n);return In(),s}}),e}function xi(e=!1,t=!1){return function(s,i,r){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&r===(e?t?pc:hc:t?dc:fc).get(s))return s;const o=V(s);if(!e&&o&&ie(nc,i))return Reflect.get(nc,i,r);const l=Reflect.get(s,i,r);return(Zt(i)?tc.has(i):up(i))||(e||je(s,"get",i),t)?l:me(l)?o&&co(i)?l:l.value:ne(l)?e?vo(l):jt(l):l}}const gp=sc(),yp=sc(!0);function sc(e=!1){return function(n,s,i,r){let o=n[s];if(Ht(o)&&me(o)&&!me(i))return!1;if(!e&&(!rn(i)&&!Ht(i)&&(o=te(o),i=te(i)),!V(n)&&me(o)&&!me(i)))return o.value=i,!0;const l=V(n)&&co(s)?Number(s)<n.length:ie(n,s),a=Reflect.set(n,s,i,r);return n===te(r)&&(l?ss(i,o)&&Ft(n,"set",s,i,o):Ft(n,"add",s,i)),a}}function bp(e,t){const n=ie(e,t),s=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&Ft(e,"delete",t,void 0,s),i}function vp(e,t){const n=Reflect.has(e,t);return(!Zt(t)||!tc.has(t))&&je(e,"has",t),n}function wp(e){return je(e,"iterate",V(e)?"length":Pn),Reflect.ownKeys(e)}const ic={get:fp,set:gp,deleteProperty:bp,has:vp,ownKeys:wp},rc={get:hp,set(e,t){return Ni(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return Ni(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},_p=Q({},ic,{get:dp,set:yp}),Ep=Q({},rc,{get:pp}),bo=e=>e,ki=e=>Reflect.getPrototypeOf(e);function Mi(e,t,n=!1,s=!1){e=e.__v_raw;const i=te(e),r=te(t);n||(t!==r&&je(i,"get",t),je(i,"get",r));const{has:o}=ki(i),l=s?bo:n?wo:Ms;if(o.call(i,t))return l(e.get(t));if(o.call(i,r))return l(e.get(r));e!==i&&e.get(t)}function Di(e,t=!1){const n=this.__v_raw,s=te(n),i=te(e);return t||(e!==i&&je(s,"has",e),je(s,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function $i(e,t=!1){return e=e.__v_raw,!t&&je(te(e),"iterate",Pn),Reflect.get(e,"size",e)}function oc(e){e=te(e);const t=te(this);return ki(t).has.call(t,e)||(t.add(e),Ft(t,"add",e,e)),this}function lc(e,t){t=te(t);const n=te(this),{has:s,get:i}=ki(n);let r=s.call(n,e);r?uc(n,s,e):(e=te(e),r=s.call(n,e));const o=i.call(n,e);return n.set(e,t),r?ss(t,o)&&Ft(n,"set",e,t,o):Ft(n,"add",e,t),this}function ac(e){const t=te(this),{has:n,get:s}=ki(t);let i=n.call(t,e);i?uc(t,n,e):(e=te(e),i=n.call(t,e));const r=s?s.call(t,e):void 0,o=t.delete(e);return i&&Ft(t,"delete",e,void 0,r),o}function cc(){const e=te(this),t=e.size!==0,n=Cn(e)?new Map(e):new Set(e),s=e.clear();return t&&Ft(e,"clear",void 0,void 0,n),s}function Ui(e,t){return function(s,i){const r=this,o=r.__v_raw,l=te(o),a=t?bo:e?wo:Ms;return!e&&je(l,"iterate",Pn),o.forEach((c,f)=>s.call(i,a(c),a(f),r))}}function Vi(e,t,n){return function(...s){const i=this.__v_raw,r=te(i),o=Cn(r),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,c=i[e](...s),f=n?bo:t?wo:Ms;return!t&&je(r,"iterate",a?go:Pn),{next(){const{value:u,done:d}=c.next();return d?{value:u,done:d}:{value:l?[f(u[0]),f(u[1])]:f(u),done:d}},[Symbol.iterator](){return this}}}}function nn(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${It(e)} operation ${n}failed: target is readonly.`,te(this))}return e==="delete"?!1:this}}function Ap(){const e={get(r){return Mi(this,r)},get size(){return $i(this)},has:Di,add:oc,set:lc,delete:ac,clear:cc,forEach:Ui(!1,!1)},t={get(r){return Mi(this,r,!1,!0)},get size(){return $i(this)},has:Di,add:oc,set:lc,delete:ac,clear:cc,forEach:Ui(!1,!0)},n={get(r){return Mi(this,r,!0)},get size(){return $i(this,!0)},has(r){return Di.call(this,r,!0)},add:nn("add"),set:nn("set"),delete:nn("delete"),clear:nn("clear"),forEach:Ui(!0,!1)},s={get(r){return Mi(this,r,!0,!0)},get size(){return $i(this,!0)},has(r){return Di.call(this,r,!0)},add:nn("add"),set:nn("set"),delete:nn("delete"),clear:nn("clear"),forEach:Ui(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Vi(r,!1,!1),n[r]=Vi(r,!0,!1),t[r]=Vi(r,!1,!0),s[r]=Vi(r,!0,!0)}),[e,n,t,s]}const[Sp,Cp,Tp,Pp]=Ap();function Bi(e,t){const n=t?e?Pp:Tp:e?Cp:Sp;return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(ie(n,i)&&i in s?n:s,i,r)}const Op={get:Bi(!1,!1)},Ip={get:Bi(!1,!0)},Rp={get:Bi(!0,!1)},Lp={get:Bi(!0,!0)};function uc(e,t,n){const s=te(n);if(s!==n&&t.call(e,s)){const i=ao(e);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const fc=new WeakMap,dc=new WeakMap,hc=new WeakMap,pc=new WeakMap;function Fp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Np(e){return e.__v_skip||!Object.isExtensible(e)?0:Fp(ao(e))}function jt(e){return Ht(e)?e:ji(e,!1,ic,Op,fc)}function mc(e){return ji(e,!1,_p,Ip,dc)}function vo(e){return ji(e,!0,rc,Rp,hc)}function sn(e){return ji(e,!0,Ep,Lp,pc)}function ji(e,t,n,s,i){if(!ne(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=Np(e);if(o===0)return e;const l=new Proxy(e,o===2?s:n);return i.set(e,l),l}function nt(e){return Ht(e)?nt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ht(e){return!!(e&&e.__v_isReadonly)}function rn(e){return!!(e&&e.__v_isShallow)}function ks(e){return nt(e)||Ht(e)}function te(e){const t=e&&e.__v_raw;return t?te(t):e}function ct(e){return Fi(e,"__v_skip",!0),e}const Ms=e=>ne(e)?jt(e):e,wo=e=>ne(e)?vo(e):e;function _o(e){tn&&De&&(e=te(e),Qa(e.dep||(e.dep=ho()),{target:e,type:"get",key:"value"}))}function Hi(e,t){e=te(e),e.dep&&yo(e.dep,{target:e,type:"set",key:"value",newValue:t})}function me(e){return!!(e&&e.__v_isRef===!0)}function Rn(e){return gc(e,!1)}function xp(e){return gc(e,!0)}function gc(e,t){return me(e)?e:new kp(e,t)}class kp{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:te(t),this._value=n?t:Ms(t)}get value(){return _o(this),this._value}set value(t){const n=this.__v_isShallow||rn(t)||Ht(t);t=n?t:te(t),ss(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ms(t),Hi(this,t))}}function Mp(e){Hi(e,e.value)}function Eo(e){return me(e)?e.value:e}const Dp={get:(e,t,n)=>Eo(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return me(i)&&!me(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Ao(e){return nt(e)?e:new Proxy(e,Dp)}class $p{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>_o(this),()=>Hi(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function Up(e){return new $p(e)}function So(e){ks(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=V(e)?new Array(e.length):{};for(const n in e)t[n]=Ds(e,n);return t}class Vp{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Ds(e,t,n){const s=e[t];return me(s)?s:new Vp(e,t,n)}var yc;class Bp{constructor(t,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[yc]=!1,this._dirty=!0,this.effect=new xs(t,()=>{this._dirty||(this._dirty=!0,Hi(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=te(this);return _o(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}yc="__v_isReadonly";function jp(e,t,n=!1){let s,i;const r=G(e);r?(s=e,i=()=>{console.warn("Write operation failed: computed value is readonly")}):(s=e.get,i=e.set);const o=new Bp(s,i,r||!i,n);return t&&!n&&(o.effect.onTrack=t.onTrack,o.effect.onTrigger=t.onTrigger),o}const Ln=[];function is(e){Ln.push(e)}function rs(){Ln.pop()}function O(e,...t){On();const n=Ln.length?Ln[Ln.length-1].component:null,s=n&&n.appContext.config.warnHandler,i=Hp();if(s)vt(s,n,11,[e+t.join(""),n&&n.proxy,i.map(({vnode:r})=>`at <${ri(n,r.type)}>`).join(`
`),i]);else{const r=[`[Vue warn]: ${e}`,...t];i.length&&r.push(`
`,...Kp(i)),console.warn(...r)}In()}function Hp(){let e=Ln[Ln.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function Kp(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...Wp(n))}),t}function Wp({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,i=` at <${ri(e.component,e.type,s)}`,r=">"+n;return e.props?[i,...Gp(e.props),r]:[i+r]}function Gp(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...bc(s,e[s]))}),n.length>3&&t.push(" ..."),t}function bc(e,t,n){return ee(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:me(t)?(t=bc(e,te(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):G(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=te(t),n?t:[`${e}=`,t])}const Co={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function vt(e,t,n,s){let i;try{i=s?e(...s):e()}catch(r){Fn(r,t,n)}return i}function He(e,t,n,s){if(G(e)){const r=vt(e,t,n,s);return r&&Ls(r)&&r.catch(o=>{Fn(o,t,n)}),r}const i=[];for(let r=0;r<e.length;r++)i.push(He(e[r],t,n,s));return i}function Fn(e,t,n,s=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,l=Co[n];for(;r;){const c=r.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,o,l)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){vt(a,null,10,[e,o,l]);return}}qp(e,n,i,s)}function qp(e,t,n,s=!0){{const i=Co[t];if(n&&is(n),O(`Unhandled error${i?` during execution of ${i}`:""}`),n&&rs(),s)throw e;console.error(e)}}let $s=!1,To=!1;const Ne=[];let Nt=0;const os=[];let xt=null,on=0;const vc=Promise.resolve();let Po=null;const Yp=100;function Nn(e){const t=Po||vc;return e?t.then(this?e.bind(this):e):t}function Jp(e){let t=Nt+1,n=Ne.length;for(;t<n;){const s=t+n>>>1;Vs(Ne[s])<e?t=s+1:n=s}return t}function Us(e){(!Ne.length||!Ne.includes(e,$s&&e.allowRecurse?Nt+1:Nt))&&(e.id==null?Ne.push(e):Ne.splice(Jp(e.id),0,e),wc())}function wc(){!$s&&!To&&(To=!0,Po=vc.then(Ec))}function zp(e){const t=Ne.indexOf(e);t>Nt&&Ne.splice(t,1)}function Ki(e){V(e)?os.push(...e):(!xt||!xt.includes(e,e.allowRecurse?on+1:on))&&os.push(e),wc()}function _c(e,t=$s?Nt+1:0){for(e=e||new Map;t<Ne.length;t++){const n=Ne[t];if(n&&n.pre){if(Oo(e,n))continue;Ne.splice(t,1),t--,n()}}}function Wi(e){if(os.length){const t=[...new Set(os)];if(os.length=0,xt){xt.push(...t);return}for(xt=t,e=e||new Map,xt.sort((n,s)=>Vs(n)-Vs(s)),on=0;on<xt.length;on++)Oo(e,xt[on])||xt[on]();xt=null,on=0}}const Vs=e=>e.id==null?1/0:e.id,Xp=(e,t)=>{const n=Vs(e)-Vs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ec(e){To=!1,$s=!0,e=e||new Map,Ne.sort(Xp);const t=n=>Oo(e,n);try{for(Nt=0;Nt<Ne.length;Nt++){const n=Ne[Nt];if(n&&n.active!==!1){if(t(n))continue;vt(n,null,14)}}}finally{Nt=0,Ne.length=0,Wi(e),$s=!1,Po=null,(Ne.length||os.length)&&Ec(e)}}function Oo(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>Yp){const s=t.ownerInstance,i=s&&vn(s.type);return O(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let ln=!1;const ls=new Set;Wa().__VUE_HMR_RUNTIME__={createRecord:Io(Ac),rerender:Io(em),reload:Io(tm)};const xn=new Map;function Zp(e){const t=e.type.__hmrId;let n=xn.get(t);n||(Ac(t,e.type),n=xn.get(t)),n.instances.add(e)}function Qp(e){xn.get(e.type.__hmrId).instances.delete(e)}function Ac(e,t){return xn.has(e)?!1:(xn.set(e,{initialDef:Bs(t),instances:new Set}),!0)}function Bs(e){return lf(e)?e.__vccOpts:e}function em(e,t){const n=xn.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,Bs(s.type).render=t),s.renderCache=[],ln=!0,s.update(),ln=!1}))}function tm(e,t){const n=xn.get(e);if(!n)return;t=Bs(t),Sc(n.initialDef,t);const s=[...n.instances];for(const i of s){const r=Bs(i.type);ls.has(r)||(r!==n.initialDef&&Sc(r,t),ls.add(r)),i.appContext.optionsCache.delete(i.type),i.ceReload?(ls.add(r),i.ceReload(t.styles),ls.delete(r)):i.parent?Us(i.parent.update):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Ki(()=>{for(const i of s)ls.delete(Bs(i.type))})}function Sc(e,t){Q(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function Io(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let wt,js=[],Ro=!1;function Hs(e,...t){wt?wt.emit(e,...t):Ro||js.push({event:e,args:t})}function Lo(e,t){var n,s;wt=e,wt?(wt.enabled=!0,js.forEach(({event:i,args:r})=>wt.emit(i,...r)),js=[]):typeof window<"u"&&window.HTMLElement&&!(!((s=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||s===void 0)&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{Lo(r,t)}),setTimeout(()=>{wt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ro=!0,js=[])},3e3)):(Ro=!0,js=[])}function Cc(e,t){Hs("app:init",e,t,{Fragment:Ie,Text:pn,Comment:ye,Static:mn})}function Tc(e){Hs("app:unmount",e)}const Fo=No("component:added"),Pc=No("component:updated"),nm=No("component:removed"),sm=e=>{wt&&typeof wt.cleanupBuffer=="function"&&!wt.cleanupBuffer(e)&&nm(e)};function No(e){return t=>{Hs(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const im=Oc("perf:start"),rm=Oc("perf:end");function Oc(e){return(t,n,s)=>{Hs(e,t.appContext.app,t.uid,t,n,s)}}function om(e,t,n){Hs("component:emit",e.appContext.app,e,t,n)}const Ic={GLOBAL_MOUNT:{message:'The global app bootstrapping API has changed: vm.$mount() and the "el" option have been removed. Use createApp(RootComponent).mount() instead.',link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#mounting-app-instance"},GLOBAL_MOUNT_CONTAINER:{message:"Vue detected directives on the mount container. In Vue 3, the container is no longer considered part of the template and will not be processed/replaced.",link:"https://v3-migration.vuejs.org/breaking-changes/mount-changes.html"},GLOBAL_EXTEND:{message:"Vue.extend() has been removed in Vue 3. Use defineComponent() instead.",link:"https://vuejs.org/api/general.html#definecomponent"},GLOBAL_PROTOTYPE:{message:"Vue.prototype is no longer available in Vue 3. Use app.config.globalProperties instead.",link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#vue-prototype-replaced-by-config-globalproperties"},GLOBAL_SET:{message:"Vue.set() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},GLOBAL_DELETE:{message:"Vue.delete() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},GLOBAL_OBSERVABLE:{message:'Vue.observable() has been removed. Use `import { reactive } from "vue"` from Composition API instead.',link:"https://vuejs.org/api/reactivity-core.html#reactive"},GLOBAL_PRIVATE_UTIL:{message:"Vue.util has been removed. Please refactor to avoid its usage since it was an internal API even in Vue 2."},CONFIG_SILENT:{message:"config.silent has been removed because it is not good practice to intentionally suppress warnings. You can use your browser console's filter features to focus on relevant messages."},CONFIG_DEVTOOLS:{message:"config.devtools has been removed. To enable devtools for production, configure the false compile-time flag.",link:"https://github.com/vuejs/core/tree/main/packages/vue#bundler-build-feature-flags"},CONFIG_KEY_CODES:{message:"config.keyCodes has been removed. In Vue 3, you can directly use the kebab-case key names as v-on modifiers.",link:"https://v3-migration.vuejs.org/breaking-changes/keycode-modifiers.html"},CONFIG_PRODUCTION_TIP:{message:"config.productionTip has been removed.",link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-productiontip-removed"},CONFIG_IGNORED_ELEMENTS:{message:()=>{let e="config.ignoredElements has been removed.";return Hn()?e+=' Pass the "isCustomElement" option to @vue/compiler-dom instead.':e+=" Use config.isCustomElement instead.",e},link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-ignoredelements-is-now-config-iscustomelement"},CONFIG_WHITESPACE:{message:'Vue 3 compiler\'s whitespace option will default to "condense" instead of "preserve". To suppress this warning, provide an explicit value for `config.compilerOptions.whitespace`.'},CONFIG_OPTION_MERGE_STRATS:{message:"config.optionMergeStrategies no longer exposes internal strategies. Use custom merge functions instead."},INSTANCE_SET:{message:"vm.$set() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},INSTANCE_DELETE:{message:"vm.$delete() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},INSTANCE_DESTROY:{message:"vm.$destroy() has been removed. Use app.unmount() instead.",link:"https://vuejs.org/api/application.html#app-unmount"},INSTANCE_EVENT_EMITTER:{message:"vm.$on/$once/$off() have been removed. Use an external event emitter library instead.",link:"https://v3-migration.vuejs.org/breaking-changes/events-api.html"},INSTANCE_EVENT_HOOKS:{message:e=>`"${e}" lifecycle events are no longer supported. From templates, use the "vue:" prefix instead of "hook:". For example, @${e} should be changed to @vue:${e.slice(5)}. From JavaScript, use Composition API to dynamically register lifecycle hooks.`,link:"https://v3-migration.vuejs.org/breaking-changes/vnode-lifecycle-events.html"},INSTANCE_CHILDREN:{message:"vm.$children has been removed. Consider refactoring your logic to avoid relying on direct access to child components.",link:"https://v3-migration.vuejs.org/breaking-changes/children.html"},INSTANCE_LISTENERS:{message:'vm.$listeners has been removed. In Vue 3, parent v-on listeners are included in vm.$attrs and it is no longer necessary to separately use v-on="$listeners" if you are already using v-bind="$attrs". (Note: the Vue 3 behavior only applies if this compat config is disabled)',link:"https://v3-migration.vuejs.org/breaking-changes/listeners-removed.html"},INSTANCE_SCOPED_SLOTS:{message:"vm.$scopedSlots has been removed. Use vm.$slots instead.",link:"https://v3-migration.vuejs.org/breaking-changes/slots-unification.html"},INSTANCE_ATTRS_CLASS_STYLE:{message:e=>`Component <${e||"Anonymous"}> has \`inheritAttrs: false\` but is relying on class/style fallthrough from parent. In Vue 3, class/style are now included in $attrs and will no longer fallthrough when inheritAttrs is false. If you are already using v-bind="$attrs" on component root it should render the same end result. If you are binding $attrs to a non-root element and expecting class/style to fallthrough on root, you will need to now manually bind them on root via :class="$attrs.class".`,link:"https://v3-migration.vuejs.org/breaking-changes/attrs-includes-class-style.html"},OPTIONS_DATA_FN:{message:'The "data" option can no longer be a plain object. Always use a function.',link:"https://v3-migration.vuejs.org/breaking-changes/data-option.html"},OPTIONS_DATA_MERGE:{message:e=>`Detected conflicting key "${e}" when merging data option values. In Vue 3, data keys are merged shallowly and will override one another.`,link:"https://v3-migration.vuejs.org/breaking-changes/data-option.html#mixin-merge-behavior-change"},OPTIONS_BEFORE_DESTROY:{message:"`beforeDestroy` has been renamed to `beforeUnmount`."},OPTIONS_DESTROYED:{message:"`destroyed` has been renamed to `unmounted`."},WATCH_ARRAY:{message:`"watch" option or vm.$watch on an array value will no longer trigger on array mutation unless the "deep" option is specified. If current usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ WATCH_ARRAY: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/watch.html"},PROPS_DEFAULT_THIS:{message:e=>`props default value function no longer has access to "this". The compat build only offers access to this.$options.(found in prop "${e}")`,link:"https://v3-migration.vuejs.org/breaking-changes/props-default-this.html"},CUSTOM_DIR:{message:(e,t)=>`Custom directive hook "${e}" has been removed. Use "${t}" instead.`,link:"https://v3-migration.vuejs.org/breaking-changes/custom-directives.html"},V_ON_KEYCODE_MODIFIER:{message:"Using keyCode as v-on modifier is no longer supported. Use kebab-case key name modifiers instead.",link:"https://v3-migration.vuejs.org/breaking-changes/keycode-modifiers.html"},ATTR_FALSE_VALUE:{message:e=>`Attribute "${e}" with v-bind value \`false\` will render ${e}="false" instead of removing it in Vue 3. To remove the attribute, use \`null\` or \`undefined\` instead. If the usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ ATTR_FALSE_VALUE: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/attribute-coercion.html"},ATTR_ENUMERATED_COERCION:{message:(e,t,n)=>`Enumerated attribute "${e}" with v-bind value \`${t}\` will ${t===null?"be removed":"render the value as-is"} instead of coercing the value to "${n}" in Vue 3. Always use explicit "true" or "false" values for enumerated attributes. If the usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ ATTR_ENUMERATED_COERCION: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/attribute-coercion.html"},TRANSITION_CLASSES:{message:""},TRANSITION_GROUP_ROOT:{message:`<TransitionGroup> no longer renders a root <span> element by default if no "tag" prop is specified. If you do not rely on the span for styling, you can disable the compat behavior and suppress this warning with:

  configureCompat({ TRANSITION_GROUP_ROOT: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/transition-group.html"},COMPONENT_ASYNC:{message:e=>{const t=vn(e);return`Async component${t?` <${t}>`:"s"} should be explicitly created via \`defineAsyncComponent()\` in Vue 3. Plain functions will be treated as functional components in non-compat build. If you have already migrated all async component usage and intend to use plain functions for functional components, you can disable the compat behavior and suppress this warning with:

  configureCompat({ COMPONENT_ASYNC: false })
`},link:"https://v3-migration.vuejs.org/breaking-changes/async-components.html"},COMPONENT_FUNCTIONAL:{message:e=>{const t=vn(e);return`Functional component${t?` <${t}>`:"s"} should be defined as a plain function in Vue 3. The "functional" option has been removed. NOTE: Before migrating to use plain functions for functional components, first make sure that all async components usage have been migrated and its compat behavior has been disabled.`},link:"https://v3-migration.vuejs.org/breaking-changes/functional-components.html"},COMPONENT_V_MODEL:{message:e=>{const t="opt-in to Vue 3 behavior on a per-component basis with `compatConfig: { COMPONENT_V_MODEL: false }`.";return e.props&&(V(e.props)?e.props.includes("modelValue"):ie(e.props,"modelValue"))?`Component declares "modelValue" prop, which is Vue 3 usage, but is running under Vue 2 compat v-model behavior. You can ${t}`:`v-model usage on component has changed in Vue 3. Component that expects to work with v-model should now use the "modelValue" prop and emit the "update:modelValue" event. You can update the usage and then ${t}`},link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},RENDER_FUNCTION:{message:`Vue 3's render function API has changed. You can opt-in to the new API with:

  configureCompat({ RENDER_FUNCTION: false })

  (This can also be done per-component via the "compatConfig" option.)`,link:"https://v3-migration.vuejs.org/breaking-changes/render-function-api.html"},FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"},PRIVATE_APIS:{message:e=>`"${e}" is a Vue 2 private API that no longer exists in Vue 3. If you are seeing this warning only due to a dependency, you can suppress this warning via { PRIVATE_APIS: 'suppress-warning' }.`}},Rc=Object.create(null),xo=Object.create(null);function st(e,t,...n){if(t=t||ft(),Mo(e,t)==="suppress-warning")return;const i=e+n.join("");let r=t&&ri(t,t.type);r==="Anonymous"&&t&&(r=t.uid);const o=i+r;if(o in Rc)return;if(Rc[o]=!0,i in xo){O(`(deprecation ${e}) (${++xo[i]+1})`);return}xo[i]=0;const{message:l,link:a}=Ic[e];O(`(deprecation ${e}) ${typeof l=="function"?l(...n):l}${a?`
  Details: ${a}`:""}`),ce(e,t,!0)||console.error("^ The above deprecation's compat behavior is disabled and will likely lead to runtime errors.")}const ko={MODE:2};function lm(e){Nc(e),Q(ko,e)}const Lc=new WeakSet,Fc={};function Nc(e,t){if(!Lc.has(e)){Lc.add(e);for(const n of Object.keys(e))n!=="MODE"&&!(n in Ic)&&!(n in Fc)&&(n.startsWith("COMPILER_")?Hn()&&O(`Deprecation config "${n}" is compiler-specific and you are running a runtime-only build of Vue. This deprecation should be configured via compiler options in your build setup instead.
Details: https://v3-migration.vuejs.org/breaking-changes/migration-build.html`):O(`Invalid deprecation config "${n}".`),Fc[n]=!0);t&&e.OPTIONS_DATA_MERGE!=null&&O('Deprecation config "OPTIONS_DATA_MERGE" can only be configured globally.')}}function Mo(e,t){const n=t&&t.type.compatConfig;return n&&e in n?n[e]:ko[e]}function ce(e,t,n=!1){if(!n&&t&&t.type.__isBuiltIn)return!1;const s=Mo("MODE",t)||2,i=Mo(e,t);return(G(s)?s(t&&t.type):s)===2?i!==!1:i===!0||i==="suppress-warning"}function Fe(e,t,...n){if(ce(e,t))st(e,t,...n);else throw new Error(`${e} compat has been disabled.`)}function Kt(e,t,...n){return st(e,t,...n),ce(e,t)}function Gi(e,t,...n){const s=ce(e,t);return s&&st(e,t,...n),s}const Do=new WeakMap;function $o(e){let t=Do.get(e);return t||Do.set(e,t=Object.create(null)),t}function Uo(e,t,n){if(V(t))t.forEach(s=>Uo(e,s,n));else{t.startsWith("hook:")?Fe("INSTANCE_EVENT_HOOKS",e,t):Fe("INSTANCE_EVENT_EMITTER",e);const s=$o(e);(s[t]||(s[t]=[])).push(n)}return e.proxy}function am(e,t,n){const s=(...i)=>{Vo(e,t,s),n.call(e.proxy,...i)};return s.fn=n,Uo(e,t,s),e.proxy}function Vo(e,t,n){Fe("INSTANCE_EVENT_EMITTER",e);const s=e.proxy;if(!t)return Do.set(e,Object.create(null)),s;if(V(t))return t.forEach(o=>Vo(e,o,n)),s;const i=$o(e),r=i[t];return r?n?(i[t]=r.filter(o=>!(o===n||o.fn===n)),s):(i[t]=void 0,s):s}function cm(e,t,n){const s=$o(e)[t];return s&&He(s.map(i=>i.bind(e.proxy)),e,6,n),e.proxy}const Ks="onModelCompat:",xc=new WeakSet;function um(e){const{type:t,shapeFlag:n,props:s,dynamicProps:i}=e,r=t;if(n&6&&s&&"modelValue"in s){if(!ce("COMPONENT_V_MODEL",{type:t}))return;xc.has(r)||(is(e),st("COMPONENT_V_MODEL",{type:t},r),rs(),xc.add(r));const o=r.model||{};kc(o,r.mixins);const{prop:l="value",event:a="input"}=o;l!=="modelValue"&&(s[l]=s.modelValue,delete s.modelValue),i&&(i[i.indexOf("modelValue")]=l),s[Ks+a]=s["onUpdate:modelValue"],delete s["onUpdate:modelValue"]}}function kc(e,t){t&&t.forEach(n=>{n.model&&Q(e,n.model),n.mixins&&kc(e,n.mixins)})}function fm(e,t,n){if(!ce("COMPONENT_V_MODEL",e))return;const s=e.vnode.props,i=s&&s[Ks+t];i&&vt(i,e,6,n)}function dm(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ae;{const{emitsOptions:f,propsOptions:[u]}=e;if(f)if(!(t in f)&&!(t.startsWith("hook:")||t.startsWith(Ks)))(!u||!(bt(t)in u))&&O(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${bt(t)}" prop.`);else{const d=f[t];G(d)&&(d(...n)||O(`Invalid event arguments: event validation failed for event "${t}".`))}}let i=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:d}=s[f]||ae;d&&(i=n.map(p=>ee(p)?p.trim():p)),u&&(i=n.map(Lt))}om(e,t,i);{const f=t.toLowerCase();f!==t&&s[bt(f)]&&O(`Event "${f}" is emitted in component ${ri(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Oe(t)}" instead of "${t}".`)}let l,a=s[l=bt(t)]||s[l=bt(_e(t))];!a&&r&&(a=s[l=bt(Oe(t))]),a&&He(a,e,6,i);const c=s[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,He(c,e,6,i)}return fm(e,t,i),cm(e,t,i)}function Mc(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},l=!1;if(!G(e)){const a=c=>{const f=Mc(c,t,!0);f&&(l=!0,Q(o,f))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(ne(e)&&s.set(e,null),null):(V(r)?r.forEach(a=>o[a]=null):Q(o,r),ne(e)&&s.set(e,o),o)}function qi(e,t){return!e||!et(t)?!1:t.startsWith(Ks)?!0:(t=t.slice(2).replace(/Once$/,""),ie(e,t[0].toLowerCase()+t.slice(1))||ie(e,Oe(t))||ie(e,t))}let ge=null,as=null;function Ws(e){const t=ge;return ge=e,as=e&&e.type.__scopeId||null,as||(as=e&&e.type._scopeId||null),t}function hm(e){as=e}function pm(){as=null}const mm=e=>Bo;function Bo(e,t=ge,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&fl(-1);const r=Ws(t);let o;try{o=e(...i)}finally{Ws(r),s._d&&fl(1)}return Pc(t),o};return s._n=!0,s._c=!0,s._d=!0,n&&(s._ns=!0),s}let jo=!1;function Yi(){jo=!0}function Ji(e){const{type:t,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:l,attrs:a,emit:c,render:f,renderCache:u,data:d,setupState:p,ctx:v,inheritAttrs:_}=e;let C,w;const m=Ws(e);jo=!1;try{if(n.shapeFlag&4){const I=i||s;C=Ye(f.call(I,I,u,r,p,d,v)),w=a}else{const I=t;a===r&&Yi(),C=Ye(I.length>1?I(r,{get attrs(){return Yi(),a},slots:l,emit:c}):I(r,null)),w=t.props?a:ym(a)}}catch(I){si.length=0,Fn(I,e,1),C=ue(ye)}let S=C,P;if(C.patchFlag>0&&C.patchFlag&2048&&([S,P]=gm(C)),w&&_!==!1){const I=Object.keys(w),{shapeFlag:D}=S;if(I.length){if(D&7)o&&I.some(Ii)&&(w=bm(w,o)),S=qe(S,w);else if(!jo&&S.type!==ye){const T=Object.keys(a),b=[],g=[];for(let A=0,y=T.length;A<y;A++){const R=T[A];et(R)?Ii(R)||b.push(R[2].toLowerCase()+R.slice(3)):g.push(R)}g.length&&O(`Extraneous non-props attributes (${g.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),b.length&&O(`Extraneous non-emits event listeners (${b.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}if(ce("INSTANCE_ATTRS_CLASS_STYLE",e)&&n.shapeFlag&4&&S.shapeFlag&7){const{class:I,style:D}=n.props||{};(I||D)&&(_===!1&&st("INSTANCE_ATTRS_CLASS_STYLE",e,vn(e.type)),S=qe(S,{class:I,style:D}))}return n.dirs&&(Dc(S)||O("Runtime directive used on component with non-element root node. The directives will not function as intended."),S=qe(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(Dc(S)||O("Component inside <Transition> renders non-element root node that cannot be animated."),S.transition=n.transition),P?P(S):C=S,Ws(m),C}const gm=e=>{const t=e.children,n=e.dynamicChildren,s=Ho(t);if(!s)return[e,void 0];const i=t.indexOf(s),r=n?n.indexOf(s):-1,o=l=>{t[i]=l,n&&(r>-1?n[r]=l:l.patchFlag>0&&(e.dynamicChildren=[...n,l]))};return[Ye(s),o]};function Ho(e){let t;for(let n=0;n<e.length;n++){const s=e[n];if(Ge(s)){if(s.type!==ye||s.children==="v-if"){if(t)return;t=s}}else return}return t}const ym=e=>{let t;for(const n in e)(n==="class"||n==="style"||et(n))&&((t||(t={}))[n]=e[n]);return t},bm=(e,t)=>{const n={};for(const s in e)(!Ii(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n},Dc=e=>e.shapeFlag&7||e.type===ye;function vm(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:l,patchFlag:a}=t,c=r.emitsOptions;if((i||l)&&ln||t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?$c(s,o,c):!!o;if(a&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const d=f[u];if(o[d]!==s[d]&&!qi(c,d))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?$c(s,o,c):!0:!!o;return!1}function $c(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!qi(n,r))return!0}return!1}function Ko({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Uc=e=>e.__isSuspense,wm={name:"Suspense",__isSuspense:!0,process(e,t,n,s,i,r,o,l,a,c){e==null?_m(t,n,s,i,r,o,l,a,c):Em(e,t,n,s,i,o,l,a,c)},hydrate:Am,create:Wo,normalize:Sm};function Gs(e,t){const n=e.props&&e.props[t];G(n)&&n()}function _m(e,t,n,s,i,r,o,l,a){const{p:c,o:{createElement:f}}=a,u=f("div"),d=e.suspense=Wo(e,i,s,t,u,n,r,o,l,a);c(null,d.pendingBranch=e.ssContent,u,null,s,d,r,o),d.deps>0?(Gs(e,"onPending"),Gs(e,"onFallback"),c(null,e.ssFallback,t,n,s,null,r,o),cs(d,e.ssFallback)):d.resolve()}function Em(e,t,n,s,i,r,o,l,{p:a,um:c,o:{createElement:f}}){const u=t.suspense=e.suspense;u.vnode=t,t.el=e.el;const d=t.ssContent,p=t.ssFallback,{activeBranch:v,pendingBranch:_,isInFallback:C,isHydrating:w}=u;if(_)u.pendingBranch=d,Mt(d,_)?(a(_,d,u.hiddenContainer,null,i,u,r,o,l),u.deps<=0?u.resolve():C&&(a(v,p,n,s,i,null,r,o,l),cs(u,p))):(u.pendingId++,w?(u.isHydrating=!1,u.activeBranch=_):c(_,i,u),u.deps=0,u.effects.length=0,u.hiddenContainer=f("div"),C?(a(null,d,u.hiddenContainer,null,i,u,r,o,l),u.deps<=0?u.resolve():(a(v,p,n,s,i,null,r,o,l),cs(u,p))):v&&Mt(d,v)?(a(v,d,n,s,i,u,r,o,l),u.resolve(!0)):(a(null,d,u.hiddenContainer,null,i,u,r,o,l),u.deps<=0&&u.resolve()));else if(v&&Mt(d,v))a(v,d,n,s,i,u,r,o,l),cs(u,d);else if(Gs(t,"onPending"),u.pendingBranch=d,u.pendingId++,a(null,d,u.hiddenContainer,null,i,u,r,o,l),u.deps<=0)u.resolve();else{const{timeout:m,pendingId:S}=u;m>0?setTimeout(()=>{u.pendingId===S&&u.fallback(p)},m):m===0&&u.fallback(p)}}let Vc=!1;function Wo(e,t,n,s,i,r,o,l,a,c,f=!1){Vc||(Vc=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:u,m:d,um:p,n:v,o:{parentNode:_,remove:C}}=c,w=Lt(e.props&&e.props.timeout),m={vnode:e,parent:t,parentComponent:n,isSVG:o,container:s,hiddenContainer:i,anchor:r,deps:0,pendingId:0,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(S=!1){{if(!S&&!m.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(m.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:P,activeBranch:I,pendingBranch:D,pendingId:T,effects:b,parentComponent:g,container:A}=m;if(m.isHydrating)m.isHydrating=!1;else if(!S){const k=I&&D.transition&&D.transition.mode==="out-in";k&&(I.transition.afterLeave=()=>{T===m.pendingId&&d(D,A,$,0)});let{anchor:$}=m;I&&($=v(I),p(I,g,m,!0)),k||d(D,A,$,0)}cs(m,D),m.pendingBranch=null,m.isInFallback=!1;let y=m.parent,R=!1;for(;y;){if(y.pendingBranch){y.effects.push(...b),R=!0;break}y=y.parent}R||Ki(b),m.effects=[],Gs(P,"onResolve")},fallback(S){if(!m.pendingBranch)return;const{vnode:P,activeBranch:I,parentComponent:D,container:T,isSVG:b}=m;Gs(P,"onFallback");const g=v(I),A=()=>{m.isInFallback&&(u(null,S,T,g,D,null,b,l,a),cs(m,S))},y=S.transition&&S.transition.mode==="out-in";y&&(I.transition.afterLeave=A),m.isInFallback=!0,p(I,D,null,!0),y||A()},move(S,P,I){m.activeBranch&&d(m.activeBranch,S,P,I),m.container=S},next(){return m.activeBranch&&v(m.activeBranch)},registerDep(S,P){const I=!!m.pendingBranch;I&&m.deps++;const D=S.vnode.el;S.asyncDep.catch(T=>{Fn(T,S,0)}).then(T=>{if(S.isUnmounted||m.isUnmounted||m.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:b}=S;is(b),bl(S,T,!1),D&&(b.el=D);const g=!D&&S.subTree.el;P(S,b,_(D||S.subTree.el),D?null:v(S.subTree),m,o,a),g&&C(g),Ko(S,b.el),rs(),I&&--m.deps===0&&m.resolve()})},unmount(S,P){m.isUnmounted=!0,m.activeBranch&&p(m.activeBranch,n,S,P),m.pendingBranch&&p(m.pendingBranch,n,S,P)}};return m}function Am(e,t,n,s,i,r,o,l,a){const c=t.suspense=Wo(t,s,n,e.parentNode,document.createElement("div"),null,i,r,o,l,!0),f=a(e,c.pendingBranch=t.ssContent,n,c,r,o);return c.deps===0&&c.resolve(),f}function Sm(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=Bc(s?n.default:n),e.ssFallback=s?Bc(n.fallback):ue(ye)}function Bc(e){let t;if(G(e)){const n=jn&&e._c;n&&(e._d=!1,ur()),e=e(),n&&(e._d=!0,t=We,Xu())}if(V(e)){const n=Ho(e);n||O("<Suspense> slots expect a single root node."),e=n}return e=Ye(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function jc(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):Ki(e)}function cs(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e,i=n.el=t.el;s&&s.subTree===n&&(s.vnode.el=i,Ko(s,i))}function Hc(e,t){if(!Ee)O("provide() can only be used inside setup().");else{let n=Ee.provides;const s=Ee.parent&&Ee.parent.provides;s===n&&(n=Ee.provides=Object.create(s)),n[e]=t}}function an(e,t,n=!1){const s=Ee||ge;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&G(t)?t.call(s.proxy):t;O(`injection "${String(e)}" not found.`)}else O("inject() can only be used inside setup() or functional components.")}function Cm(e,t){return qs(e,null,t)}function Kc(e,t){return qs(e,null,Object.assign(Object.assign({},t),{flush:"post"}))}function Tm(e,t){return qs(e,null,Object.assign(Object.assign({},t),{flush:"sync"}))}const zi={};function kn(e,t,n){return G(t)||O("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),qs(e,t,n)}function qs(e,t,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=ae){t||(n!==void 0&&O('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&O('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const l=P=>{O("Invalid watch source: ",P,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},a=Ee;let c,f=!1,u=!1;if(me(e)?(c=()=>e.value,f=rn(e)):nt(e)?(c=()=>e,s=!0):V(e)?(u=!0,f=e.some(P=>nt(P)||rn(P)),c=()=>e.map(P=>{if(me(P))return P.value;if(nt(P))return cn(P);if(G(P))return vt(P,a,2);l(P)})):G(e)?t?c=()=>vt(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return d&&d(),He(e,a,3,[p])}:(c=Ce,l(e)),t&&!s){const P=c;c=()=>{const I=P();return V(I)&&Gi("WATCH_ARRAY",a)&&cn(I),I}}if(t&&s){const P=c;c=()=>cn(P())}let d,p=P=>{d=m.onStop=()=>{vt(P,a,4)}},v;if(hs)if(p=Ce,t?n&&He(t,a,3,[c(),u?[]:void 0,p]):c(),i==="sync"){const P=ff();v=P.__watcherHandles||(P.__watcherHandles=[])}else return Ce;let _=u?new Array(e.length).fill(zi):zi;const C=()=>{if(m.active)if(t){const P=m.run();(s||f||(u?P.some((I,D)=>ss(I,_[D])):ss(P,_))||V(P)&&ce("WATCH_ARRAY",a))&&(d&&d(),He(t,a,3,[P,_===zi?void 0:u&&_[0]===zi?[]:_,p]),_=P)}else m.run()};C.allowRecurse=!!t;let w;i==="sync"?w=C:i==="post"?w=()=>ve(C,a&&a.suspense):(C.pre=!0,a&&(C.id=a.uid),w=()=>Us(C));const m=new xs(c,w);m.onTrack=r,m.onTrigger=o,t?n?C():_=m.run():i==="post"?ve(m.run.bind(m),a&&a.suspense):m.run();const S=()=>{m.stop(),a&&a.scope&&lo(a.scope.effects,m)};return v&&v.push(S),S}function Pm(e,t,n){const s=this.proxy,i=ee(e)?e.includes(".")?Wc(s,e):()=>s[e]:e.bind(s,s);let r;G(t)?r=t:(r=t.handler,n=t);const o=Ee;yn(this);const l=qs(i,r.bind(s),n);return o?yn(o):bn(),l}function Wc(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function cn(e,t){if(!ne(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),me(e))cn(e.value,t);else if(V(e))for(let n=0;n<e.length;n++)cn(e[n],t);else if(Tn(e)||Cn(e))e.forEach(n=>{cn(n,t)});else if(Ri(e))for(const n in e)cn(e[n],t);return e}function Go(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Js(()=>{e.isMounted=!0}),zs(()=>{e.isUnmounting=!0}),e}const ut=[Function,Array],Gc={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ut,onEnter:ut,onAfterEnter:ut,onEnterCancelled:ut,onBeforeLeave:ut,onLeave:ut,onAfterLeave:ut,onLeaveCancelled:ut,onBeforeAppear:ut,onAppear:ut,onAfterAppear:ut,onAppearCancelled:ut},setup(e,{slots:t}){const n=ft(),s=Go();let i;return()=>{const r=t.default&&Xi(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let _=!1;for(const C of r)if(C.type!==ye){if(_){O("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}o=C,_=!0}}const l=te(e),{mode:a}=l;if(a&&a!=="in-out"&&a!=="out-in"&&a!=="default"&&O(`invalid <transition> mode: ${a}`),s.isLeaving)return Yo(o);const c=Yc(o);if(!c)return Yo(o);const f=us(c,l,s,n);Mn(c,f);const u=n.subTree,d=u&&Yc(u);let p=!1;const{getTransitionKey:v}=c.type;if(v){const _=v();i===void 0?i=_:_!==i&&(i=_,p=!0)}if(d&&d.type!==ye&&(!Mt(c,d)||p)){const _=us(d,l,s,n);if(Mn(d,_),a==="out-in")return s.isLeaving=!0,_.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},Yo(o);a==="in-out"&&c.type!==ye&&(_.delayLeave=(C,w,m)=>{const S=qc(s,d);S[String(d.key)]=d,C._leaveCb=()=>{w(),C._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=m})}return o}}};Gc.__isBuiltIn=!0;const qo=Gc;function qc(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function us(e,t,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:u,onLeave:d,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:_,onAppear:C,onAfterAppear:w,onAppearCancelled:m}=t,S=String(e.key),P=qc(n,e),I=(b,g)=>{b&&He(b,s,9,g)},D=(b,g)=>{const A=g[1];I(b,g),V(b)?b.every(y=>y.length<=1)&&A():b.length<=1&&A()},T={mode:r,persisted:o,beforeEnter(b){let g=l;if(!n.isMounted)if(i)g=_||l;else return;b._leaveCb&&b._leaveCb(!0);const A=P[S];A&&Mt(e,A)&&A.el._leaveCb&&A.el._leaveCb(),I(g,[b])},enter(b){let g=a,A=c,y=f;if(!n.isMounted)if(i)g=C||a,A=w||c,y=m||f;else return;let R=!1;const k=b._enterCb=$=>{R||(R=!0,$?I(y,[b]):I(A,[b]),T.delayedLeave&&T.delayedLeave(),b._enterCb=void 0)};g?D(g,[b,k]):k()},leave(b,g){const A=String(e.key);if(b._enterCb&&b._enterCb(!0),n.isUnmounting)return g();I(u,[b]);let y=!1;const R=b._leaveCb=k=>{y||(y=!0,g(),k?I(v,[b]):I(p,[b]),b._leaveCb=void 0,P[A]===e&&delete P[A])};P[A]=e,d?D(d,[b,R]):R()},clone(b){return us(b,t,n,s)}};return T}function Yo(e){if(fs(e))return e=qe(e),e.children=null,e}function Yc(e){return fs(e)?e.children?e.children[0]:void 0:e}function Mn(e,t){e.shapeFlag&6&&e.component?Mn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Xi(e,t=!1,n){let s=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ie?(o.patchFlag&128&&i++,s=s.concat(Xi(o.children,t,l))):(t||o.type!==ye)&&s.push(l!=null?qe(o,{key:l}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function Zi(e){return G(e)?{setup:e,name:e.name}:e}const Dn=e=>!!e.type.__asyncLoader;function Qi(e){G(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:i=200,timeout:r,suspensible:o=!0,onError:l}=e;let a=null,c,f=0;const u=()=>(f++,a=null,d()),d=()=>{let p;return a||(p=a=t().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),l)return new Promise((_,C)=>{l(v,()=>_(u()),()=>C(v),f+1)});throw v}).then(v=>{if(p!==a&&a)return a;if(v||O("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),v&&!ne(v)&&!G(v))throw new Error(`Invalid async component load result: ${v}`);return c=v,v}))};return Zi({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const p=Ee;if(c)return()=>Jo(c,p);const v=m=>{a=null,Fn(m,p,13,!s)};if(o&&p.suspense||hs)return d().then(m=>()=>Jo(m,p)).catch(m=>(v(m),()=>s?ue(s,{error:m}):null));const _=Rn(!1),C=Rn(),w=Rn(!!i);return i&&setTimeout(()=>{w.value=!1},i),r!=null&&setTimeout(()=>{if(!_.value&&!C.value){const m=new Error(`Async component timed out after ${r}ms.`);v(m),C.value=m}},r),d().then(()=>{_.value=!0,p.parent&&fs(p.parent.vnode)&&Us(p.parent.update)}).catch(m=>{v(m),C.value=m}),()=>{if(_.value&&c)return Jo(c,p);if(C.value&&s)return ue(s,{error:C.value});if(n&&!w.value)return ue(n)}}})}function Jo(e,t){const{ref:n,props:s,children:i,ce:r}=t.vnode,o=ue(e,s,i);return o.ref=n,o.ce=r,delete t.vnode.ce,o}const fs=e=>e.type.__isKeepAlive,Jc={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=ft(),s=n.ctx;if(!s.renderer)return()=>{const m=t.default&&t.default();return m&&m.length===1?m[0]:m};const i=new Map,r=new Set;let o=null;n.__v_cache=i;const l=n.suspense,{renderer:{p:a,m:c,um:f,o:{createElement:u}}}=s,d=u("div");s.activate=(m,S,P,I,D)=>{const T=m.component;c(m,S,P,0,l),a(T.vnode,m,S,P,T,l,I,m.slotScopeIds,D),ve(()=>{T.isDeactivated=!1,T.a&&Rt(T.a);const b=m.props&&m.props.onVnodeMounted;b&&Je(b,T.parent,m)},l),Fo(T)},s.deactivate=m=>{const S=m.component;c(m,d,null,1,l),ve(()=>{S.da&&Rt(S.da);const P=m.props&&m.props.onVnodeUnmounted;P&&Je(P,S.parent,m),S.isDeactivated=!0},l),Fo(S)};function p(m){zo(m),f(m,n,l,!0)}function v(m){i.forEach((S,P)=>{const I=vn(S.type);I&&(!m||!m(I))&&_(P)})}function _(m){const S=i.get(m);!o||S.type!==o.type?p(S):o&&zo(o),i.delete(m),r.delete(m)}kn(()=>[e.include,e.exclude],([m,S])=>{m&&v(P=>Ys(m,P)),S&&v(P=>!Ys(S,P))},{flush:"post",deep:!0});let C=null;const w=()=>{C!=null&&i.set(C,Xo(n.subTree))};return Js(w),tr(w),zs(()=>{i.forEach(m=>{const{subTree:S,suspense:P}=n,I=Xo(S);if(m.type===I.type){zo(I);const D=I.component.da;D&&ve(D,P);return}p(m)})}),()=>{if(C=null,!t.default)return null;const m=t.default(),S=m[0];if(m.length>1)return O("KeepAlive should contain exactly one component child."),o=null,m;if(!Ge(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return o=null,S;let P=Xo(S);const I=P.type,D=vn(Dn(P)?P.type.__asyncResolved||{}:I),{include:T,exclude:b,max:g}=e;if(T&&(!D||!Ys(T,D))||b&&D&&Ys(b,D))return o=P,S;const A=P.key==null?I:P.key,y=i.get(A);return P.el&&(P=qe(P),S.shapeFlag&128&&(S.ssContent=P)),C=A,y?(P.el=y.el,P.component=y.component,P.transition&&Mn(P,P.transition),P.shapeFlag|=512,r.delete(A),r.add(A)):(r.add(A),g&&r.size>parseInt(g,10)&&_(r.values().next().value)),P.shapeFlag|=256,o=P,Uc(S.type)?S:P}}};Jc.__isBuildIn=!0;const zc=Jc;function Ys(e,t){return V(e)?e.some(n=>Ys(n,t)):ee(e)?e.split(",").includes(t):e.test?e.test(t):!1}function Xc(e,t){Qc(e,"a",t)}function Zc(e,t){Qc(e,"da",t)}function Qc(e,t,n=Ee){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(er(t,s,n),n){let i=n.parent;for(;i&&i.parent;)fs(i.parent.vnode)&&Om(s,t,n,i),i=i.parent}}function Om(e,t,n,s){const i=er(t,e,s,!0);Xs(()=>{lo(s[t],i)},n)}function zo(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Xo(e){return e.shapeFlag&128?e.ssContent:e}function er(e,t,n=Ee,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;On(),yn(n);const l=He(t,n,e,o);return bn(),In(),l});return s?i.unshift(r):i.push(r),r}else{const i=bt(Co[e].replace(/ hook$/,""));O(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Wt=e=>(t,n=Ee)=>(!hs||e==="sp")&&er(e,(...s)=>t(...s),n),eu=Wt("bm"),Js=Wt("m"),tu=Wt("bu"),tr=Wt("u"),zs=Wt("bum"),Xs=Wt("um"),nu=Wt("sp"),su=Wt("rtg"),iu=Wt("rtc");function ru(e,t=Ee){er("ec",e,t)}function Im(e){Fe("INSTANCE_CHILDREN",e);const t=e.subTree,n=[];return t&&ou(t,n),n}function ou(e,t){if(e.component)t.push(e.component.proxy);else if(e.shapeFlag&16){const n=e.children;for(let s=0;s<n.length;s++)ou(n[s],t)}}function lu(e){Fe("INSTANCE_LISTENERS",e);const t={},n=e.vnode.props;if(!n)return t;for(const s in n)et(s)&&(t[s[2].toLowerCase()+s.slice(3)]=n[s]);return t}const Rm={beforeMount:"bind",mounted:"inserted",updated:["update","componentUpdated"],unmounted:"unbind"};function Lm(e,t,n){const s=Rm[e];if(s)if(V(s)){const i=[];return s.forEach(r=>{const o=t[r];o&&(Kt("CUSTOM_DIR",n,r,e),i.push(o))}),i.length?i:void 0}else return t[s]&&Kt("CUSTOM_DIR",n,s,e),t[s]}function au(e){Ha(e)&&O("Do not use built-in directive ids as custom directive id: "+e)}function cu(e,t){const n=ge;if(n===null)return O("withDirectives can only be used inside render functions."),e;const s=gr(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,l,a,c=ae]=t[r];o&&(G(o)&&(o={mounted:o,updated:o}),o.deep&&cn(l),i.push({dir:o,instance:s,value:l,oldValue:void 0,arg:a,modifiers:c}))}return e}function kt(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a||(a=Lm(s,l.dir,n)),a&&(On(),He(a,n,8,[e.el,l,e,t]),In())}}const nr="components",Fm="directives",Nm="filters";function xm(e,t){return sr(nr,e,!0,t)||e}const uu=Symbol();function fu(e){return ee(e)?sr(nr,e,!1)||e:e||uu}function du(e){return sr(Fm,e)}function hu(e){return sr(Nm,e)}function sr(e,t,n=!0,s=!1){const i=ge||Ee;if(i){const r=i.type;if(e===nr){const l=vn(r,!1);if(l&&(l===t||l===_e(t)||l===It(_e(t))))return r}const o=pu(i[e]||r[e],t)||pu(i.appContext[e],t);if(!o&&s)return r;if(n&&!o){const l=e===nr?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";O(`Failed to resolve ${e.slice(0,-1)}: ${t}${l}`)}return o}else O(`resolve${It(e.slice(0,-1))} can only be used in render() or setup().`)}function pu(e,t){return e&&(e[t]||e[_e(t)]||e[It(_e(t))])}function km(e){const t=e.type,n=t.render;if(!(!n||n._rc||n._compatChecked||n._compatWrapped)){if(n.length>=2){n._compatChecked=!0;return}if(Gi("RENDER_FUNCTION",e)){const s=t.render=function(){return n.call(this,ir)};s._compatWrapped=!0}}}function ir(e,t,n){if(e||(e=ye),typeof e=="string"){const r=Oe(e);(r==="transition"||r==="transition-group"||r==="keep-alive")&&(e=`__compat__${r}`),e=fu(e)}const s=arguments.length,i=V(t);return s===2||i?ne(t)&&!i?Ge(t)?rr(ue(e,null,[t])):rr(gu(ue(e,mu(t,e)),t)):rr(ue(e,null,t)):(Ge(n)&&(n=[n]),rr(gu(ue(e,mu(t,e),n),t)))}const Mm=Pe("staticStyle,staticClass,directives,model,hook");function mu(e,t){if(!e)return null;const n={};for(const s in e)if(s==="attrs"||s==="domProps"||s==="props")Q(n,e[s]);else if(s==="on"||s==="nativeOn"){const i=e[s];for(const r in i){let o=Dm(r);s==="nativeOn"&&(o+="Native");const l=n[o],a=i[r];l!==a&&(l?n[o]=[].concat(l,a):n[o]=a)}}else Mm(s)||(n[s]=e[s]);if(e.staticClass&&(n.class=Xt([e.staticClass,n.class])),e.staticStyle&&(n.style=ts([e.staticStyle,n.style])),e.model&&ne(t)){const{prop:s="value",event:i="input"}=t.model||{};n[s]=e.model.value,n[Ks+i]=e.model.callback}return n}function Dm(e){return e[0]==="&"&&(e=e.slice(1)+"Passive"),e[0]==="~"&&(e=e.slice(1)+"Once"),e[0]==="!"&&(e=e.slice(1)+"Capture"),bt(e)}function gu(e,t){return t&&t.directives?cu(e,t.directives.map(({name:n,value:s,arg:i,modifiers:r})=>[du(n),s,i,r])):e}function rr(e){const{props:t,children:n}=e;let s;if(e.shapeFlag&6&&V(n)){s={};for(let r=0;r<n.length;r++){const o=n[r],l=Ge(o)&&o.props&&o.props.slot||"default",a=s[l]||(s[l]=[]);Ge(o)&&o.type==="template"?a.push(o.children):a.push(o)}if(s)for(const r in s){const o=s[r];s[r]=()=>o,s[r]._ns=!0}}const i=t&&t.scopedSlots;return i&&(delete t.scopedSlots,s?Q(s,i):s=i),s&&pr(e,s),e}function yu(e){if(ce("RENDER_FUNCTION",ge,!0)&&ce("PRIVATE_APIS",ge,!0)){const t=ge,n=()=>e.component&&e.component.proxy;let s;Object.defineProperties(e,{tag:{get:()=>e.type},data:{get:()=>e.props||{},set:i=>e.props=i},elm:{get:()=>e.el},componentInstance:{get:n},child:{get:n},text:{get:()=>ee(e.children)?e.children:null},context:{get:()=>t&&t.proxy},componentOptions:{get:()=>{if(e.shapeFlag&4)return s||(s={Ctor:e.type,propsData:e.props,children:e.children})}}})}}const Zo=new Map,bu={get(e,t){const n=e[t];return n&&n()}};function $m(e){if(Zo.has(e))return Zo.get(e);const t=e.render,n=(s,i)=>{const r=ft(),o={props:s,children:r.vnode.children||[],data:r.vnode.props||{},scopedSlots:i.slots,parent:r.parent&&r.parent.proxy,slots(){return new Proxy(i.slots,bu)},get listeners(){return lu(r)},get injections(){if(e.inject){const l={};return Ou(e.inject,l),l}return{}}};return t(ir,o)};return n.props=e.props,n.displayName=e.name,n.compatConfig=e.compatConfig,n.inheritAttrs=!1,Zo.set(e,n),n}function vu(e,t,n,s){let i;const r=n&&n[s];if(V(e)||ee(e)){i=new Array(e.length);for(let o=0,l=e.length;o<l;o++)i[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){Number.isInteger(e)||O(`The v-for range expect an integer value but got ${e}.`),i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,r&&r[o])}else if(ne(e))if(e[Symbol.iterator])i=Array.from(e,(o,l)=>t(o,l,void 0,r&&r[l]));else{const o=Object.keys(e);i=new Array(o.length);for(let l=0,a=o.length;l<a;l++){const c=o[l];i[l]=t(e[c],c,l,r&&r[l])}}else i=[];return n&&(n[s]=i),i}function wu(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(V(s))for(let i=0;i<s.length;i++)e[s[i].name]=s[i].fn;else s&&(e[s.name]=s.key?(...i)=>{const r=s.fn(...i);return r&&(r.key=s.key),r}:s.fn)}return e}function _u(e,t,n={},s,i){if(ge.isCE||ge.parent&&Dn(ge.parent)&&ge.parent.isCE)return t!=="default"&&(n.name=t),ue("slot",n,s&&s());let r=e[t];r&&r.length>1&&(O("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),r=()=>[]),r&&r._c&&(r._d=!1),ur();const o=r&&Eu(r(n)),l=dl(Ie,{key:n.key||o&&o.key||`_${t}`},o||(s?s():[]),o&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Eu(e){return e.some(t=>Ge(t)?!(t.type===ye||t.type===Ie&&!Eu(t.children)):!0)?e:null}function Au(e,t){const n={};if(!ne(e))return O("v-on with no argument expects an object value."),n;for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:bt(s)]=e[s];return n}function Um(e){const t={};for(let n=0;n<e.length;n++)e[n]&&Q(t,e[n]);return t}function Vm(e,t,n,s,i){if(n&&ne(n)){V(n)&&(n=Um(n));for(const r in n)if(Qt(r))e[r]=n[r];else if(r==="class")e.class=Xt([e.class,n.class]);else if(r==="style")e.style=Xt([e.style,n.style]);else{const o=e.attrs||(e.attrs={}),l=_e(r),a=Oe(r);if(!(l in o)&&!(a in o)&&(o[r]=n[r],i)){const c=e.on||(e.on={});c[`update:${r}`]=function(f){n[r]=f}}}}return e}function Bm(e,t){return mr(e,Au(t))}function jm(e,t,n,s,i){return i&&(s=mr(s,i)),_u(e.slots,t,s,n&&(()=>n))}function Hm(e,t,n){return wu(t||{$stable:!n},Su(e))}function Su(e){for(let t=0;t<e.length;t++){const n=e[t];n&&(V(n)?Su(n):n.name=n.key||"default")}return e}const Cu=new WeakMap;function Km(e,t){let n=Cu.get(e);if(n||Cu.set(e,n=[]),n[t])return n[t];const s=e.type.staticRenderFns[t],i=e.proxy;return n[t]=s.call(i,null,i)}function Wm(e,t,n,s,i,r){const l=e.appContext.config.keyCodes||{},a=l[n]||s;if(r&&i&&!l[n])return Tu(r,i);if(a)return Tu(a,t);if(i)return Oe(i)!==n}function Tu(e,t){return V(e)?!e.includes(t):e!==t}function Gm(e){return e}function qm(e,t){for(let n=0;n<t.length;n+=2){const s=t[n];typeof s=="string"&&s&&(e[t[n]]=t[n+1])}return e}function Ym(e,t){return typeof e=="string"?t+e:e}function Jm(e){const t=(s,i,r)=>{s[i]=r},n=(s,i)=>{delete s[i]};Q(e,{$set:s=>(Fe("INSTANCE_SET",s),t),$delete:s=>(Fe("INSTANCE_DELETE",s),n),$mount:s=>(Fe("GLOBAL_MOUNT",null),s.ctx._compat_mount||Ce),$destroy:s=>(Fe("INSTANCE_DESTROY",s),s.ctx._compat_destroy||Ce),$slots:s=>ce("RENDER_FUNCTION",s)&&s.render&&s.render._compatWrapped?new Proxy(s.slots,bu):sn(s.slots),$scopedSlots:s=>{Fe("INSTANCE_SCOPED_SLOTS",s);const i={};for(const r in s.slots){const o=s.slots[r];o._ns||(i[r]=o)}return i},$on:s=>Uo.bind(null,s),$once:s=>am.bind(null,s),$off:s=>Vo.bind(null,s),$children:Im,$listeners:lu}),ce("PRIVATE_APIS",null)&&Q(e,{$vnode:s=>s.vnode,$options:s=>{const i=Q({},Qs(s));return i.parent=s.proxy.$parent,i.propsData=s.vnode.props,i},_self:s=>s.proxy,_uid:s=>s.uid,_data:s=>s.data,_isMounted:s=>s.isMounted,_isDestroyed:s=>s.isUnmounted,$createElement:()=>ir,_c:()=>ir,_o:()=>Gm,_n:()=>Lt,_s:()=>Ua,_l:()=>vu,_t:s=>jm.bind(null,s),_q:()=>Bt,_i:()=>Is,_m:s=>Km.bind(null,s),_f:()=>hu,_k:s=>Wm.bind(null,s),_b:()=>Vm,_v:()=>hr,_e:()=>nf,_u:()=>Hm,_g:()=>Bm,_d:()=>qm,_p:()=>Ym})}const Qo=e=>e?sf(e)?gr(e)||e.proxy:Qo(e.parent):null,un=Q(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>sn(e.props),$attrs:e=>sn(e.attrs),$slots:e=>sn(e.slots),$refs:e=>sn(e.refs),$parent:e=>Qo(e.parent),$root:e=>Qo(e.root),$emit:e=>e.emit,$options:e=>Qs(e),$forceUpdate:e=>e.f||(e.f=()=>Us(e.update)),$nextTick:e=>e.n||(e.n=Nn.bind(e.proxy)),$watch:e=>Pm.bind(e)});Jm(un);const el=e=>e==="_"||e==="$",tl=(e,t)=>e!==ae&&!e.__isScriptSetup&&ie(e,t),Zs={get({_:e},t){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:a}=e;if(t==="__isVue")return!0;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(tl(s,t))return o[t]=1,s[t];if(i!==ae&&ie(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&ie(c,t))return o[t]=3,r[t];if(n!==ae&&ie(n,t))return o[t]=4,n[t];nl&&(o[t]=0)}}const f=un[t];let u,d;if(f)return t==="$attrs"&&(je(e,"get",t),Yi()),f(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(n!==ae&&ie(n,t))return o[t]=4,n[t];if(d=a.config.globalProperties,ie(d,t)){const p=Object.getOwnPropertyDescriptor(d,t);if(p.get)return p.get.call(e.proxy);{const v=d[t];return G(v)?Object.assign(v.bind(e.proxy),v):v}}else ge&&(!ee(t)||t.indexOf("__v")!==0)&&(i!==ae&&el(t[0])&&ie(i,t)?O(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===ge&&O(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return tl(i,t)?(i[t]=n,!0):i.__isScriptSetup&&ie(i,t)?(O(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==ae&&ie(s,t)?(s[t]=n,!0):ie(e.props,t)?(O(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(O(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||e!==ae&&ie(e,o)||tl(t,o)||(l=r[0])&&ie(l,o)||ie(s,o)||ie(un,o)||ie(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ie(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};Zs.ownKeys=e=>(O("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));const zm=Q({},Zs,{get(e,t){if(t!==Symbol.unscopables)return Zs.get(e,t,e)},has(e,t){const n=t[0]!=="_"&&!Wh(t);return!n&&Zs.has(e,t)&&O(`Property ${JSON.stringify(t)} should not start with _ which is a reserved prefix for Vue internals.`),n}});function Xm(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(un).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>un[n](e),set:Ce})}),t}function Zm(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(s=>{Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>e.props[s],set:Ce})})}function Qm(e){const{ctx:t,setupState:n}=e;Object.keys(te(n)).forEach(s=>{if(!n.__isScriptSetup){if(el(s[0])){O(`setup() return property ${JSON.stringify(s)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n[s],set:Ce})}})}function Pu(e,t){for(const n in t){const s=e[n],i=t[n];n in e&&Ri(s)&&Ri(i)?(st("OPTIONS_DATA_MERGE",null,n),Pu(s,i)):e[n]=i}return e}function eg(){const e=Object.create(null);return(t,n)=>{e[n]?O(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let nl=!0;function tg(e){const t=Qs(e),n=e.proxy,s=e.ctx;nl=!1,t.beforeCreate&&Iu(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:l,provide:a,inject:c,created:f,beforeMount:u,mounted:d,beforeUpdate:p,updated:v,activated:_,deactivated:C,beforeDestroy:w,beforeUnmount:m,destroyed:S,unmounted:P,render:I,renderTracked:D,renderTriggered:T,errorCaptured:b,serverPrefetch:g,expose:A,inheritAttrs:y,components:R,directives:k,filters:$}=t,H=eg();{const[B]=e.propsOptions;if(B)for(const z in B)H("Props",z)}if(c&&Ou(c,s,H,e.appContext.config.unwrapInjectedRef),o)for(const B in o){const z=o[B];G(z)?(Object.defineProperty(s,B,{value:z.bind(n),configurable:!0,enumerable:!0,writable:!0}),H("Methods",B)):O(`Method "${B}" has type "${typeof z}" in the component definition. Did you reference the function correctly?`)}if(i){G(i)||O("The data option must be a function. Plain object usage is no longer supported.");const B=i.call(n,n);if(Ls(B)&&O("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!ne(B))O("data() should return an object.");else{e.data=jt(B);for(const z in B)H("Data",z),el(z[0])||Object.defineProperty(s,z,{configurable:!0,enumerable:!0,get:()=>B[z],set:Ce})}}if(nl=!0,r)for(const B in r){const z=r[B],Y=G(z)?z.bind(n,n):G(z.get)?z.get.bind(n,n):Ce;Y===Ce&&O(`Computed property "${B}" has no getter.`);const oe=!G(z)&&G(z.set)?z.set.bind(n):()=>{O(`Write operation failed: computed property "${B}" is readonly.`)},Ue=yr({get:Y,set:oe});Object.defineProperty(s,B,{enumerable:!0,configurable:!0,get:()=>Ue.value,set:Ss=>Ue.value=Ss}),H("Computed",B)}if(l)for(const B in l)Ru(l[B],s,n,B);if(a){const B=G(a)?a.call(n):a;Reflect.ownKeys(B).forEach(z=>{Hc(z,B[z])})}f&&Iu(f,e,"c");function N(B,z){V(z)?z.forEach(Y=>B(Y.bind(n))):z&&B(z.bind(n))}if(N(eu,u),N(Js,d),N(tu,p),N(tr,v),N(Xc,_),N(Zc,C),N(ru,b),N(iu,D),N(su,T),N(zs,m),N(Xs,P),N(nu,g),w&&Kt("OPTIONS_BEFORE_DESTROY",e)&&N(zs,w),S&&Kt("OPTIONS_DESTROYED",e)&&N(Xs,S),V(A))if(A.length){const B=e.exposed||(e.exposed={});A.forEach(z=>{Object.defineProperty(B,z,{get:()=>n[z],set:Y=>n[z]=Y})})}else e.exposed||(e.exposed={});I&&e.render===Ce&&(e.render=I),y!=null&&(e.inheritAttrs=y),R&&(e.components=R),k&&(e.directives=k),$&&ce("FILTERS",e)&&(e.filters=$)}function Ou(e,t,n=Ce,s=!1){V(e)&&(e=sl(e));for(const i in e){const r=e[i];let o;ne(r)?"default"in r?o=an(r.from||i,r.default,!0):o=an(r.from||i):o=an(r),me(o)?s?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):(O(`injected property "${i}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),t[i]=o):t[i]=o,n("Inject",i)}}function Iu(e,t,n){He(V(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ru(e,t,n,s){const i=s.includes(".")?Wc(n,s):()=>n[s];if(ee(e)){const r=t[e];G(r)?kn(i,r):O(`Invalid watch handler specified by key "${e}"`,r)}else if(G(e))kn(i,e.bind(n));else if(ne(e))if(V(e))e.forEach(r=>Ru(r,t,n,s));else{const r=G(e.handler)?e.handler.bind(n):t[e.handler];G(r)?kn(i,r,e):O(`Invalid watch handler specified by key "${e.handler}"`,r)}else O(`Invalid watch option: "${s}"`,e)}function Qs(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,l=r.get(t);let a;return l?a=l:!i.length&&!n&&!s?ce("PRIVATE_APIS",e)?(a=Q({},t),a.parent=e.parent&&e.parent.proxy,a.propsData=e.vnode.props):a=t:(a={},i.length&&i.forEach(c=>$n(a,c,o,!0)),$n(a,t,o)),ne(t)&&r.set(t,a),a}function $n(e,t,n,s=!1){G(t)&&(t=t.options);const{mixins:i,extends:r}=t;r&&$n(e,r,n,!0),i&&i.forEach(o=>$n(e,o,n,!0));for(const o in t)if(s&&o==="expose")O('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const l=Un[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const Un={data:Lu,props:fn,emits:fn,methods:fn,computed:fn,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:fn,directives:fn,watch:sg,provide:Lu,inject:ng};Un.filters=fn;function Lu(e,t){return t?e?function(){return(ce("OPTIONS_DATA_MERGE",null)?Pu:Q)(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function ng(e,t){return fn(sl(e),sl(t))}function sl(e){if(V(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $e(e,t){return e?[...new Set([].concat(e,t))]:t}function fn(e,t){return e?Q(Q(Object.create(null),e),t):t}function sg(e,t){if(!e)return t;if(!t)return e;const n=Q(Object.create(null),e);for(const s in t)n[s]=$e(e[s],t[s]);return n}function ig(e,t,n){return new Proxy({},{get(s,i){if(st("PROPS_DEFAULT_THIS",null,n),i==="$options")return Qs(e);if(i in t)return t[i];const r=e.type.inject;if(r){if(V(r)){if(r.includes(i))return an(i)}else if(i in r)return an(i)}}})}function Fu(e,t){return!!(e==="is"||(e==="class"||e==="style")&&ce("INSTANCE_ATTRS_CLASS_STYLE",t)||et(e)&&ce("INSTANCE_LISTENERS",t)||e.startsWith("routerView")||e==="registerRouteInstance")}function rg(e,t,n,s=!1){const i={},r={};Fi(r,fr,1),e.propsDefaults=Object.create(null),Nu(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);$u(t||{},i,e),n?e.props=s?i:mc(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function og(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function lg(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,l=te(i),[a]=e.propsOptions;let c=!1;if(!og(e)&&(s||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let d=f[u];if(qi(e.emitsOptions,d))continue;const p=t[d];if(a)if(ie(r,d))p!==r[d]&&(r[d]=p,c=!0);else{const v=_e(d);i[v]=il(a,l,v,p,e,!1)}else{if(et(d)&&d.endsWith("Native"))d=d.slice(0,-6);else if(Fu(d,e))continue;p!==r[d]&&(r[d]=p,c=!0)}}}}else{Nu(e,t,i,r)&&(c=!0);let f;for(const u in l)(!t||!ie(t,u)&&((f=Oe(u))===u||!ie(t,f)))&&(a?n&&(n[u]!==void 0||n[f]!==void 0)&&(i[u]=il(a,l,u,void 0,e,!0)):delete i[u]);if(r!==l)for(const u in r)(!t||!ie(t,u)&&!ie(t,u+"Native"))&&(delete r[u],c=!0)}c&&Ft(e,"set","$attrs"),$u(t||{},i,e)}function Nu(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,l;if(t)for(let a in t){if(Qt(a)||(a.startsWith("onHook:")&&Kt("INSTANCE_EVENT_HOOKS",e,a.slice(2).toLowerCase()),a==="inline-template"))continue;const c=t[a];let f;if(i&&ie(i,f=_e(a)))!r||!r.includes(f)?n[f]=c:(l||(l={}))[f]=c;else if(!qi(e.emitsOptions,a)){if(et(a)&&a.endsWith("Native"))a=a.slice(0,-6);else if(Fu(a,e))continue;(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}}if(r){const a=te(n),c=l||ae;for(let f=0;f<r.length;f++){const u=r[f];n[u]=il(i,a,u,c[u],e,!ie(c,u))}}return o}function il(e,t,n,s,i,r){const o=e[n];if(o!=null){const l=ie(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&G(a)){const{propsDefaults:c}=i;n in c?s=c[n]:(yn(i),s=c[n]=a.call(ce("PROPS_DEFAULT_THIS",i)?ig(i,t,n):null,t),bn())}else s=a}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===Oe(n))&&(s=!0))}return s}function xu(e,t,n=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},l=[];let a=!1;if(!G(e)){const f=u=>{G(u)&&(u=u.options),a=!0;const[d,p]=xu(u,t,!0);Q(o,d),p&&l.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!a)return ne(e)&&s.set(e,ns),ns;if(V(r))for(let f=0;f<r.length;f++){ee(r[f])||O("props must be strings when using array syntax.",r[f]);const u=_e(r[f]);ku(u)&&(o[u]=ae)}else if(r){ne(r)||O("invalid props options",r);for(const f in r){const u=_e(f);if(ku(u)){const d=r[f],p=o[u]=V(d)||G(d)?{type:d}:Object.assign({},d);if(p){const v=Du(Boolean,p.type),_=Du(String,p.type);p[0]=v>-1,p[1]=_<0||v<_,(v>-1||ie(p,"default"))&&l.push(u)}}}}const c=[o,l];return ne(e)&&s.set(e,c),c}function ku(e){return e[0]!=="$"?!0:(O(`Invalid prop name: "${e}" is a reserved property.`),!1)}function rl(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Mu(e,t){return rl(e)===rl(t)}function Du(e,t){return V(t)?t.findIndex(n=>Mu(n,e)):G(t)&&Mu(t,e)?0:-1}function $u(e,t,n){const s=te(t),i=n.propsOptions[0];for(const r in i){let o=i[r];o!=null&&ag(r,s[r],o,!ie(e,r)&&!ie(e,Oe(r)))}}function ag(e,t,n,s){const{type:i,required:r,validator:o}=n;if(r&&s){O('Missing required prop: "'+e+'"');return}if(!(t==null&&!n.required)){if(i!=null&&i!==!0){let l=!1;const a=V(i)?i:[i],c=[];for(let f=0;f<a.length&&!l;f++){const{valid:u,expectedType:d}=ug(t,a[f]);c.push(d||""),l=u}if(!l){O(fg(e,t,c));return}}o&&!o(t)&&O('Invalid prop: custom validator check failed for prop "'+e+'".')}}const cg=Pe("String,Number,Boolean,Function,Symbol,BigInt");function ug(e,t){let n;const s=rl(t);if(cg(s)){const i=typeof e;n=i===s.toLowerCase(),!n&&i==="object"&&(n=e instanceof t)}else s==="Object"?n=ne(e):s==="Array"?n=V(e):s==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:s}}function fg(e,t,n){let s=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(It).join(" | ")}`;const i=n[0],r=ao(t),o=Uu(t,i),l=Uu(t,r);return n.length===1&&Vu(i)&&!dg(i,r)&&(s+=` with value ${o}`),s+=`, got ${r} `,Vu(r)&&(s+=`with value ${l}.`),s}function Uu(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function Vu(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function dg(...e){return e.some(t=>t.toLowerCase()==="boolean")}const Bu=e=>e[0]==="_"||e==="$stable",ol=e=>V(e)?e.map(Ye):[Ye(e)],hg=(e,t,n)=>{if(t._n)return t;const s=Bo((...i)=>(Ee&&O(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),ol(t(...i))),n);return s._c=!1,s},ju=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Bu(i))continue;const r=e[i];if(G(r))t[i]=hg(i,r,s);else if(r!=null){ce("RENDER_FUNCTION",n)||O(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const o=ol(r);t[i]=()=>o}}},Hu=(e,t)=>{!fs(e.vnode)&&!ce("RENDER_FUNCTION",e)&&O("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=ol(t);e.slots.default=()=>n},pg=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=te(t),Fi(t,"_",n)):ju(t,e.slots={},e)}else e.slots={},t&&Hu(e,t);Fi(e.slots,fr,1)},mg=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=ae;if(s.shapeFlag&32){const l=t._;l?ln?Q(i,t):n&&l===1?r=!1:(Q(i,t),!n&&l===1&&delete i._):(r=!t.$stable,ju(t,i,e)),o=t}else t&&(Hu(e,t),o={default:1});if(r)for(const l in i)!Bu(l)&&!(l in o)&&delete i[l]};function gg(e){const t={silent:"CONFIG_SILENT",devtools:"CONFIG_DEVTOOLS",ignoredElements:"CONFIG_IGNORED_ELEMENTS",keyCodes:"CONFIG_KEY_CODES",productionTip:"CONFIG_PRODUCTION_TIP"};Object.keys(t).forEach(n=>{let s=e[n];Object.defineProperty(e,n,{enumerable:!0,get(){return s},set(i){ll||st(t[n],null),s=i}})})}function yg(e){e.optionMergeStrategies=new Proxy({},{get(t,n){if(n in t)return t[n];if(n in Un&&Kt("CONFIG_OPTION_MERGE_STRATS",null))return Un[n]}})}let ll=!1,Ke,Vn;function bg(e,t){Ke=t({});const n=Vn=function a(c={}){return s(c,a)};function s(a={},c){Fe("GLOBAL_MOUNT",null);const{data:f}=a;f&&!G(f)&&Kt("OPTIONS_DATA_FN",null)&&(a.data=()=>f);const u=e(a);c!==n&&Ku(u,c);const d=u._createRoot(a);return a.el?d.$mount(a.el):d}n.version="2.6.14-compat:3.2.45",n.config=Ke.config,n.use=(a,...c)=>(a&&G(a.install)?a.install(n,...c):G(a)&&a(n,...c),n),n.mixin=a=>(Ke.mixin(a),n),n.component=(a,c)=>c?(Ke.component(a,c),n):Ke.component(a),n.directive=(a,c)=>c?(Ke.directive(a,c),n):Ke.directive(a),n.options={_base:n};let i=1;n.cid=i,n.nextTick=Nn;const r=new WeakMap;function o(a={}){if(Fe("GLOBAL_EXTEND",null),G(a)&&(a=a.options),r.has(a))return r.get(a);const c=this;function f(d){return s(d?$n(Q({},f.options),d,Un):f.options,f)}f.super=c,f.prototype=Object.create(n.prototype),f.prototype.constructor=f;const u={};for(const d in c.options){const p=c.options[d];u[d]=V(p)?p.slice():ne(p)?Q(Object.create(null),p):p}return f.options=$n(u,a,Un),f.options._base=f,f.extend=o.bind(f),f.mixin=c.mixin,f.use=c.use,f.cid=++i,r.set(a,f),f}n.extend=o.bind(n),n.set=(a,c,f)=>{Fe("GLOBAL_SET",null),a[c]=f},n.delete=(a,c)=>{Fe("GLOBAL_DELETE",null),delete a[c]},n.observable=a=>(Fe("GLOBAL_OBSERVABLE",null),jt(a)),n.filter=(a,c)=>c?(Ke.filter(a,c),n):Ke.filter(a);const l={warn:O,extend:Q,mergeOptions:(a,c,f)=>$n(a,c,f?void 0:Un),defineReactive:Tg};return Object.defineProperty(n,"util",{get(){return Fe("GLOBAL_PRIVATE_UTIL",null),l}}),n.configureCompat=lm,n}function vg(e,t,n){wg(e,t),yg(e.config),Ke&&(Ag(e,t,n),_g(e),Eg(e),gg(e.config))}function wg(e,t){t.filters={},e.filter=(n,s)=>(Fe("FILTERS",null),s?(t.filters[n]&&O(`Filter "${n}" has already been registered.`),t.filters[n]=s,e):t.filters[n])}function _g(e){Object.defineProperties(e,{prototype:{get(){return st("GLOBAL_PROTOTYPE",null),e.config.globalProperties}},nextTick:{value:Nn},extend:{value:Vn.extend},set:{value:Vn.set},delete:{value:Vn.delete},observable:{value:Vn.observable},util:{get(){return Vn.util}}})}function Eg(e){e._context.mixins=[...Ke._context.mixins],["components","directives","filters"].forEach(t=>{e._context[t]=Object.create(Ke._context[t])}),ll=!0;for(const t in Ke.config){if(t==="isNativeTag"||Hn()&&(t==="isCustomElement"||t==="compilerOptions"))continue;const n=Ke.config[t];e.config[t]=ne(n)?Object.create(n):n,t==="ignoredElements"&&ce("CONFIG_IGNORED_ELEMENTS",null)&&!Hn()&&V(n)&&(e.config.compilerOptions.isCustomElement=s=>n.some(i=>ee(i)?i===s:i.test(s)))}ll=!1,Ku(e,Vn)}function Ku(e,t){const n=ce("GLOBAL_PROTOTYPE",null);n&&(e.config.globalProperties=Object.create(t.prototype));let s=!1;const i=Object.getOwnPropertyDescriptors(t.prototype);for(const r in i)r!=="constructor"&&(s=!0,n&&Object.defineProperty(e.config.globalProperties,r,i[r]));s&&st("GLOBAL_PROTOTYPE",null)}function Ag(e,t,n){let s=!1;e._createRoot=i=>{const r=e._component,o=ue(r,i.propsData||null);o.appContext=t;const l=!G(r)&&!r.render&&!r.template,a=()=>{},c=ml(o,null,null);return l&&(c.render=a),yl(c),o.component=c,o.isCompatRoot=!0,c.ctx._compat_mount=f=>{if(s){O("Root instance is already mounted.");return}let u;if(typeof f=="string"){const p=document.querySelector(f);if(!p){O(`Failed to mount root instance: selector "${f}" returned null.`);return}u=p}else u=f||document.createElement("div");const d=u instanceof SVGElement;if(t.reload=()=>{const p=qe(o);p.component=null,n(p,u,d)},l&&c.render===a){for(let p=0;p<u.attributes.length;p++){const v=u.attributes[p];if(v.name!=="v-cloak"&&/^(v-|:|@)/.test(v.name)){st("GLOBAL_MOUNT_CONTAINER",null);break}}c.render=null,r.template=u.innerHTML,wl(c,!1,!0)}return u.innerHTML="",n(o,u,d),u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),s=!0,e._container=u,u.__vue_app__=e,Cc(e,vr),c.proxy},c.ctx._compat_destroy=()=>{if(s)n(null,e._container),Tc(e),delete e._container.__vue_app__;else{const{bum:f,scope:u,um:d}=c;f&&Rt(f),ce("INSTANCE_EVENT_HOOKS",c)&&c.emit("hook:beforeDestroy"),u&&u.stop(),d&&Rt(d),ce("INSTANCE_EVENT_HOOKS",c)&&c.emit("hook:destroyed")}},c.proxy}}const Sg=["push","pop","shift","unshift","splice","sort","reverse"],Cg=new WeakSet;function Tg(e,t,n){if(ne(n)&&!nt(n)&&!Cg.has(n)){const i=jt(n);V(n)?Sg.forEach(r=>{n[r]=(...o)=>{Array.prototype[r].call(i,...o)}}):Object.keys(n).forEach(r=>{try{al(n,r,n[r])}catch{}})}const s=e.$;s&&e===s.proxy?(al(s.ctx,t,n),s.accessCache=Object.create(null)):nt(e)?e[t]=n:al(e,t,n)}function al(e,t,n){n=ne(n)?jt(n):n,Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get(){return je(e,"get",t),n},set(s){n=ne(s)?jt(s):s,Ft(e,"set",t,s)}})}function Wu(){return{app:null,config:{isNativeTag:Rs,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pg=0;function Og(e,t){return function(s,i=null){G(s)||(s=Object.assign({},s)),i!=null&&!ne(i)&&(O("root props passed to app.mount() must be an object."),i=null);const r=Wu(),o=new Set;let l=!1;const a=r.app={_uid:Pg++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:vr,get config(){return r.config},set config(c){O("app.config cannot be replaced. Modify individual options instead.")},use(c,...f){return o.has(c)?O("Plugin has already been applied to target app."):c&&G(c.install)?(o.add(c),c.install(a,...f)):G(c)?(o.add(c),c(a,...f)):O('A plugin must either be a function or an object with an "install" function.'),a},mixin(c){return r.mixins.includes(c)?O("Mixin has already been applied to target app"+(c.name?`: ${c.name}`:"")):r.mixins.push(c),a},component(c,f){return gl(c,r.config),f?(r.components[c]&&O(`Component "${c}" has already been registered in target app.`),r.components[c]=f,a):r.components[c]},directive(c,f){return au(c),f?(r.directives[c]&&O(`Directive "${c}" has already been registered in target app.`),r.directives[c]=f,a):r.directives[c]},mount(c,f,u){if(l)O("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{c.__vue_app__&&O("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=ue(s,i);return d.appContext=r,r.reload=()=>{e(qe(d),c,u)},f&&t?t(d,c):e(d,c,u),l=!0,a._container=c,c.__vue_app__=a,a._instance=d.component,Cc(a,vr),gr(d.component)||d.component.proxy}},unmount(){l?(e(null,a._container),a._instance=null,Tc(a),delete a._container.__vue_app__):O("Cannot unmount an app that is not mounted.")},provide(c,f){return c in r.provides&&O(`App already provides property with key "${String(c)}". It will be overwritten with the new value.`),r.provides[c]=f,a}};return vg(a,r,e),a}}function or(e,t,n,s,i=!1){if(V(e)){e.forEach((d,p)=>or(d,t&&(V(t)?t[p]:t),n,s,i));return}if(Dn(s)&&!i)return;const r=s.shapeFlag&4?gr(s.component)||s.component.proxy:s.el,o=i?null:r,{i:l,r:a}=e;if(!l){O("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=t&&t.r,f=l.refs===ae?l.refs={}:l.refs,u=l.setupState;if(c!=null&&c!==a&&(ee(c)?(f[c]=null,ie(u,c)&&(u[c]=null)):me(c)&&(c.value=null)),G(a))vt(a,l,12,[o,f]);else{const d=ee(a),p=me(a);if(d||p){const v=()=>{if(e.f){const _=d?ie(u,a)?u[a]:f[a]:a.value;i?V(_)&&lo(_,r):V(_)?_.includes(r)||_.push(r):d?(f[a]=[r],ie(u,a)&&(u[a]=f[a])):(a.value=[r],e.k&&(f[e.k]=a.value))}else d?(f[a]=o,ie(u,a)&&(u[a]=o)):p?(a.value=o,e.k&&(f[e.k]=o)):O("Invalid template ref type:",a,`(${typeof a})`)};o?(v.id=-1,ve(v,n)):v()}else O("Invalid template ref type:",a,`(${typeof a})`)}}let dn=!1;const lr=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",ei=e=>e.nodeType===8;function Ig(e){const{mt:t,p:n,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:l,insert:a,createComment:c}}=e,f=(w,m)=>{if(!m.hasChildNodes()){O("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,w,m),Wi(),m._vnode=w;return}dn=!1,u(m.firstChild,w,null,null,null),Wi(),m._vnode=w,dn&&console.error("Hydration completed but contains mismatches.")},u=(w,m,S,P,I,D=!1)=>{const T=ei(w)&&w.data==="[",b=()=>_(w,m,S,P,I,T),{type:g,ref:A,shapeFlag:y,patchFlag:R}=m;let k=w.nodeType;m.el=w,R===-2&&(D=!1,m.dynamicChildren=null);let $=null;switch(g){case pn:k!==3?m.children===""?(a(m.el=i(""),o(w),w),$=w):$=b():(w.data!==m.children&&(dn=!0,O(`Hydration text mismatch:
- Client: ${JSON.stringify(w.data)}
- Server: ${JSON.stringify(m.children)}`),w.data=m.children),$=r(w));break;case ye:k!==8||T?$=b():$=r(w);break;case mn:if(T&&(w=r(w),k=w.nodeType),k===1||k===3){$=w;const H=!m.children.length;for(let N=0;N<m.staticCount;N++)H&&(m.children+=$.nodeType===1?$.outerHTML:$.data),N===m.staticCount-1&&(m.anchor=$),$=r($);return T?r($):$}else b();break;case Ie:T?$=v(w,m,S,P,I,D):$=b();break;default:if(y&1)k!==1||m.type.toLowerCase()!==w.tagName.toLowerCase()?$=b():$=d(w,m,S,P,I,D);else if(y&6){m.slotScopeIds=I;const H=o(w);if(t(m,H,null,S,P,lr(H),D),$=T?C(w):r(w),$&&ei($)&&$.data==="teleport end"&&($=r($)),Dn(m)){let N;T?(N=ue(Ie),N.anchor=$?$.previousSibling:H.lastChild):N=w.nodeType===3?hr(""):ue("div"),N.el=w,m.component.subTree=N}}else y&64?k!==8?$=b():$=m.type.hydrate(w,m,S,P,I,D,e,p):y&128?$=m.type.hydrate(w,m,S,P,lr(o(w)),I,D,e,u):O("Invalid HostVNode type:",g,`(${typeof g})`)}return A!=null&&or(A,null,P,m),$},d=(w,m,S,P,I,D)=>{D=D||!!m.dynamicChildren;const{type:T,props:b,patchFlag:g,shapeFlag:A,dirs:y}=m,R=T==="input"&&y||T==="option";{if(y&&kt(m,null,S,"created"),b)if(R||!D||g&48)for(const $ in b)(R&&$.endsWith("value")||et($)&&!Qt($))&&s(w,$,null,b[$],!1,void 0,S);else b.onClick&&s(w,"onClick",null,b.onClick,!1,void 0,S);let k;if((k=b&&b.onVnodeBeforeMount)&&Je(k,S,m),y&&kt(m,null,S,"beforeMount"),((k=b&&b.onVnodeMounted)||y)&&jc(()=>{k&&Je(k,S,m),y&&kt(m,null,S,"mounted")},P),A&16&&!(b&&(b.innerHTML||b.textContent))){let $=p(w.firstChild,m,w,S,P,I,D),H=!1;for(;$;){dn=!0,H||(O(`Hydration children mismatch in <${m.type}>: server rendered element contains more child nodes than client vdom.`),H=!0);const N=$;$=$.nextSibling,l(N)}}else A&8&&w.textContent!==m.children&&(dn=!0,O(`Hydration text content mismatch in <${m.type}>:
- Client: ${w.textContent}
- Server: ${m.children}`),w.textContent=m.children)}return w.nextSibling},p=(w,m,S,P,I,D,T)=>{T=T||!!m.dynamicChildren;const b=m.children,g=b.length;let A=!1;for(let y=0;y<g;y++){const R=T?b[y]:b[y]=Ye(b[y]);if(w)w=u(w,R,P,I,D,T);else{if(R.type===pn&&!R.children)continue;dn=!0,A||(O(`Hydration children mismatch in <${S.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`),A=!0),n(null,R,S,null,P,I,lr(S),D)}}return w},v=(w,m,S,P,I,D)=>{const{slotScopeIds:T}=m;T&&(I=I?I.concat(T):T);const b=o(w),g=p(r(w),m,b,S,P,I,D);return g&&ei(g)&&g.data==="]"?r(m.anchor=g):(dn=!0,a(m.anchor=c("]"),b,g),g)},_=(w,m,S,P,I,D)=>{if(dn=!0,O(`Hydration node mismatch:
- Client vnode:`,m.type,`
- Server rendered DOM:`,w,w.nodeType===3?"(text)":ei(w)&&w.data==="["?"(start of fragment)":""),m.el=null,D){const g=C(w);for(;;){const A=r(w);if(A&&A!==g)l(A);else break}}const T=r(w),b=o(w);return l(w),n(null,m,b,T,S,P,lr(b),I),T},C=w=>{let m=0;for(;w;)if(w=r(w),w&&ei(w)&&(w.data==="["&&m++,w.data==="]")){if(m===0)return r(w);m--}return w};return[f,u]}let ti,hn;function Gt(e,t){e.appContext.config.performance&&ar()&&hn.mark(`vue-${t}-${e.uid}`),im(e,t,ar()?hn.now():Date.now())}function qt(e,t){if(e.appContext.config.performance&&ar()){const n=`vue-${t}-${e.uid}`,s=n+":end";hn.mark(s),hn.measure(`<${ri(e,e.type)}> ${t}`,n,s),hn.clearMarks(n),hn.clearMarks(s)}rm(e,t,ar()?hn.now():Date.now())}function ar(){return ti!==void 0||(typeof window<"u"&&window.performance?(ti=!0,hn=window.performance):ti=!1),ti}function Rg(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const ve=jc;function Gu(e){return Yu(e)}function qu(e){return Yu(e,Ig)}function Yu(e,t){Rg();const n=Wa();n.__VUE__=!0,Lo(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:f,parentNode:u,nextSibling:d,setScopeId:p=Ce,insertStaticContent:v}=e,_=(h,E,L,x=null,F=null,j=null,W=!1,K=null,U=ln?!1:!!E.dynamicChildren)=>{if(h===E)return;h&&!Mt(h,E)&&(x=to(h),An(h,F,j,!0),h=null),E.patchFlag===-2&&(U=!1,E.dynamicChildren=null);const{type:M,ref:J,shapeFlag:q}=E;switch(M){case pn:C(h,E,L,x);break;case ye:w(h,E,L,x);break;case mn:h==null?m(E,L,x,W):S(h,E,L,W);break;case Ie:k(h,E,L,x,F,j,W,K,U);break;default:q&1?D(h,E,L,x,F,j,W,K,U):q&6?$(h,E,L,x,F,j,W,K,U):q&64||q&128?M.process(h,E,L,x,F,j,W,K,U,Cs):O("Invalid VNode type:",M,`(${typeof M})`)}J!=null&&F&&or(J,h&&h.ref,j,E||h,!E)},C=(h,E,L,x)=>{if(h==null)s(E.el=l(E.children),L,x);else{const F=E.el=h.el;E.children!==h.children&&c(F,E.children)}},w=(h,E,L,x)=>{h==null?s(E.el=a(E.children||""),L,x):E.el=h.el},m=(h,E,L,x)=>{[h.el,h.anchor]=v(h.children,E,L,x,h.el,h.anchor)},S=(h,E,L,x)=>{if(E.children!==h.children){const F=d(h.anchor);I(h),[E.el,E.anchor]=v(E.children,L,F,x)}else E.el=h.el,E.anchor=h.anchor},P=({el:h,anchor:E},L,x)=>{let F;for(;h&&h!==E;)F=d(h),s(h,L,x),h=F;s(E,L,x)},I=({el:h,anchor:E})=>{let L;for(;h&&h!==E;)L=d(h),i(h),h=L;i(E)},D=(h,E,L,x,F,j,W,K,U)=>{W=W||E.type==="svg",h==null?T(E,L,x,F,j,W,K,U):A(h,E,F,j,W,K,U)},T=(h,E,L,x,F,j,W,K)=>{let U,M;const{type:J,props:q,shapeFlag:X,transition:se,dirs:le}=h;if(U=h.el=o(h.type,j,q&&q.is,q),X&8?f(U,h.children):X&16&&g(h.children,U,null,x,F,j&&J!=="foreignObject",W,K),le&&kt(h,null,x,"created"),q){for(const he in q)he!=="value"&&!Qt(he)&&r(U,he,null,q[he],j,h.children,x,F,zt);"value"in q&&r(U,"value",null,q.value),(M=q.onVnodeBeforeMount)&&Je(M,x,h)}b(U,h,h.scopeId,W,x),Object.defineProperty(U,"__vnode",{value:h,enumerable:!1}),Object.defineProperty(U,"__vueParentComponent",{value:x,enumerable:!1}),le&&kt(h,null,x,"beforeMount");const pe=(!F||F&&!F.pendingBranch)&&se&&!se.persisted;pe&&se.beforeEnter(U),s(U,E,L),((M=q&&q.onVnodeMounted)||pe||le)&&ve(()=>{M&&Je(M,x,h),pe&&se.enter(U),le&&kt(h,null,x,"mounted")},F)},b=(h,E,L,x,F)=>{if(L&&p(h,L),x)for(let j=0;j<x.length;j++)p(h,x[j]);if(F){let j=F.subTree;if(j.patchFlag>0&&j.patchFlag&2048&&(j=Ho(j.children)||j),E===j){const W=F.vnode;b(h,W,W.scopeId,W.slotScopeIds,F.parent)}}},g=(h,E,L,x,F,j,W,K,U=0)=>{for(let M=U;M<h.length;M++){const J=h[M]=K?gn(h[M]):Ye(h[M]);_(null,J,E,L,x,F,j,W,K)}},A=(h,E,L,x,F,j,W)=>{const K=E.el=h.el;let{patchFlag:U,dynamicChildren:M,dirs:J}=E;U|=h.patchFlag&16;const q=h.props||ae,X=E.props||ae;let se;L&&Bn(L,!1),(se=X.onVnodeBeforeUpdate)&&Je(se,L,E,h),J&&kt(E,h,L,"beforeUpdate"),L&&Bn(L,!0),ln&&(U=0,W=!1,M=null);const le=F&&E.type!=="foreignObject";if(M?(y(h.dynamicChildren,M,K,L,x,le,j),L&&L.type.__hmrId&&ni(h,E)):W||Y(h,E,K,null,L,x,le,j,!1),U>0){if(U&16)R(K,E,q,X,L,x,F);else if(U&2&&q.class!==X.class&&r(K,"class",null,X.class,F),U&4&&r(K,"style",q.style,X.style,F),U&8){const pe=E.dynamicProps;for(let he=0;he<pe.length;he++){const Se=pe[he],Tt=q[Se],Ts=X[Se];(Ts!==Tt||Se==="value")&&r(K,Se,Tt,Ts,F,h.children,L,x,zt)}}U&1&&h.children!==E.children&&f(K,E.children)}else!W&&M==null&&R(K,E,q,X,L,x,F);((se=X.onVnodeUpdated)||J)&&ve(()=>{se&&Je(se,L,E,h),J&&kt(E,h,L,"updated")},x)},y=(h,E,L,x,F,j,W)=>{for(let K=0;K<E.length;K++){const U=h[K],M=E[K],J=U.el&&(U.type===Ie||!Mt(U,M)||U.shapeFlag&70)?u(U.el):L;_(U,M,J,null,x,F,j,W,!0)}},R=(h,E,L,x,F,j,W)=>{if(L!==x){if(L!==ae)for(const K in L)!Qt(K)&&!(K in x)&&r(h,K,L[K],null,W,E.children,F,j,zt);for(const K in x){if(Qt(K))continue;const U=x[K],M=L[K];U!==M&&K!=="value"&&r(h,K,M,U,W,E.children,F,j,zt)}"value"in x&&r(h,"value",L.value,x.value)}},k=(h,E,L,x,F,j,W,K,U)=>{const M=E.el=h?h.el:l(""),J=E.anchor=h?h.anchor:l("");let{patchFlag:q,dynamicChildren:X,slotScopeIds:se}=E;(ln||q&2048)&&(q=0,U=!1,X=null),se&&(K=K?K.concat(se):se),h==null?(s(M,L,x),s(J,L,x),g(E.children,L,J,F,j,W,K,U)):q>0&&q&64&&X&&h.dynamicChildren?(y(h.dynamicChildren,X,L,F,j,W,K),F&&F.type.__hmrId?ni(h,E):(E.key!=null||F&&E===F.subTree)&&ni(h,E,!0)):Y(h,E,L,J,F,j,W,K,U)},$=(h,E,L,x,F,j,W,K,U)=>{E.slotScopeIds=K,h==null?E.shapeFlag&512?F.ctx.activate(E,L,x,W,U):H(E,L,x,F,j,W,U):N(h,E,U)},H=(h,E,L,x,F,j,W)=>{const K=h.isCompatRoot&&h.component,U=K||(h.component=ml(h,x,F));if(U.type.__hmrId&&Zp(U),is(h),Gt(U,"mount"),fs(h)&&(U.ctx.renderer=Cs),K||(Gt(U,"init"),yl(U),qt(U,"init")),U.asyncDep){if(F&&F.registerDep(U,B),!h.el){const M=U.subTree=ue(ye);w(null,M,E,L)}return}B(U,h,E,L,F,j,W),rs(),qt(U,"mount")},N=(h,E,L)=>{const x=E.component=h.component;if(vm(h,E,L))if(x.asyncDep&&!x.asyncResolved){is(E),z(x,E,L),rs();return}else x.next=E,zp(x.update),x.update();else E.el=h.el,x.vnode=E},B=(h,E,L,x,F,j,W)=>{const K=()=>{if(h.isMounted){let{next:J,bu:q,u:X,parent:se,vnode:le}=h,pe=J,he;is(J||h.vnode),Bn(h,!1),J?(J.el=le.el,z(h,J,W)):J=le,q&&Rt(q),(he=J.props&&J.props.onVnodeBeforeUpdate)&&Je(he,se,J,le),ce("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeUpdate"),Bn(h,!0),Gt(h,"render");const Se=Ji(h);qt(h,"render");const Tt=h.subTree;h.subTree=Se,Gt(h,"patch"),_(Tt,Se,u(Tt.el),to(Tt),h,F,j),qt(h,"patch"),J.el=Se.el,pe===null&&Ko(h,Se.el),X&&ve(X,F),(he=J.props&&J.props.onVnodeUpdated)&&ve(()=>Je(he,se,J,le),F),ce("INSTANCE_EVENT_HOOKS",h)&&ve(()=>h.emit("hook:updated"),F),Pc(h),rs()}else{let J;const{el:q,props:X}=E,{bm:se,m:le,parent:pe}=h,he=Dn(E);if(Bn(h,!1),se&&Rt(se),!he&&(J=X&&X.onVnodeBeforeMount)&&Je(J,pe,E),ce("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeMount"),Bn(h,!0),q&&Ca){const Se=()=>{Gt(h,"render"),h.subTree=Ji(h),qt(h,"render"),Gt(h,"hydrate"),Ca(q,h.subTree,h,F,null),qt(h,"hydrate")};he?E.type.__asyncLoader().then(()=>!h.isUnmounted&&Se()):Se()}else{Gt(h,"render");const Se=h.subTree=Ji(h);qt(h,"render"),Gt(h,"patch"),_(null,Se,L,x,h,F,j),qt(h,"patch"),E.el=Se.el}if(le&&ve(le,F),!he&&(J=X&&X.onVnodeMounted)){const Se=E;ve(()=>Je(J,pe,Se),F)}ce("INSTANCE_EVENT_HOOKS",h)&&ve(()=>h.emit("hook:mounted"),F),(E.shapeFlag&256||pe&&Dn(pe.vnode)&&pe.vnode.shapeFlag&256)&&(h.a&&ve(h.a,F),ce("INSTANCE_EVENT_HOOKS",h)&&ve(()=>h.emit("hook:activated"),F)),h.isMounted=!0,Fo(h),E=L=x=null}},U=h.effect=new xs(K,()=>Us(M),h.scope),M=h.update=()=>U.run();M.id=h.uid,Bn(h,!0),U.onTrack=h.rtc?J=>Rt(h.rtc,J):void 0,U.onTrigger=h.rtg?J=>Rt(h.rtg,J):void 0,M.ownerInstance=h,M()},z=(h,E,L)=>{E.component=h;const x=h.vnode.props;h.vnode=E,h.next=null,lg(h,E.props,x,L),mg(h,E.children,L),On(),_c(),In()},Y=(h,E,L,x,F,j,W,K,U=!1)=>{const M=h&&h.children,J=h?h.shapeFlag:0,q=E.children,{patchFlag:X,shapeFlag:se}=E;if(X>0){if(X&128){Ue(M,q,L,x,F,j,W,K,U);return}else if(X&256){oe(M,q,L,x,F,j,W,K,U);return}}se&8?(J&16&&zt(M,F,j),q!==M&&f(L,q)):J&16?se&16?Ue(M,q,L,x,F,j,W,K,U):zt(M,F,j,!0):(J&8&&f(L,""),se&16&&g(q,L,x,F,j,W,K,U))},oe=(h,E,L,x,F,j,W,K,U)=>{h=h||ns,E=E||ns;const M=h.length,J=E.length,q=Math.min(M,J);let X;for(X=0;X<q;X++){const se=E[X]=U?gn(E[X]):Ye(E[X]);_(h[X],se,L,null,F,j,W,K,U)}M>J?zt(h,F,j,!0,!1,q):g(E,L,x,F,j,W,K,U,q)},Ue=(h,E,L,x,F,j,W,K,U)=>{let M=0;const J=E.length;let q=h.length-1,X=J-1;for(;M<=q&&M<=X;){const se=h[M],le=E[M]=U?gn(E[M]):Ye(E[M]);if(Mt(se,le))_(se,le,L,null,F,j,W,K,U);else break;M++}for(;M<=q&&M<=X;){const se=h[q],le=E[X]=U?gn(E[X]):Ye(E[X]);if(Mt(se,le))_(se,le,L,null,F,j,W,K,U);else break;q--,X--}if(M>q){if(M<=X){const se=X+1,le=se<J?E[se].el:x;for(;M<=X;)_(null,E[M]=U?gn(E[M]):Ye(E[M]),L,le,F,j,W,K,U),M++}}else if(M>X)for(;M<=q;)An(h[M],F,j,!0),M++;else{const se=M,le=M,pe=new Map;for(M=le;M<=X;M++){const Ve=E[M]=U?gn(E[M]):Ye(E[M]);Ve.key!=null&&(pe.has(Ve.key)&&O("Duplicate keys found during update:",JSON.stringify(Ve.key),"Make sure keys are unique."),pe.set(Ve.key,M))}let he,Se=0;const Tt=X-le+1;let Ts=!1,Sh=0;const Ci=new Array(Tt);for(M=0;M<Tt;M++)Ci[M]=0;for(M=se;M<=q;M++){const Ve=h[M];if(Se>=Tt){An(Ve,F,j,!0);continue}let $t;if(Ve.key!=null)$t=pe.get(Ve.key);else for(he=le;he<=X;he++)if(Ci[he-le]===0&&Mt(Ve,E[he])){$t=he;break}$t===void 0?An(Ve,F,j,!0):(Ci[$t-le]=M+1,$t>=Sh?Sh=$t:Ts=!0,_(Ve,E[$t],L,null,F,j,W,K,U),Se++)}const Ch=Ts?Lg(Ci):ns;for(he=Ch.length-1,M=Tt-1;M>=0;M--){const Ve=le+M,$t=E[Ve],Th=Ve+1<J?E[Ve+1].el:x;Ci[M]===0?_(null,$t,L,Th,F,j,W,K,U):Ts&&(he<0||M!==Ch[he]?Ss($t,L,Th,2):he--)}}},Ss=(h,E,L,x,F=null)=>{const{el:j,type:W,transition:K,children:U,shapeFlag:M}=h;if(M&6){Ss(h.component.subTree,E,L,x);return}if(M&128){h.suspense.move(E,L,x);return}if(M&64){W.move(h,E,L,Cs);return}if(W===Ie){s(j,E,L);for(let q=0;q<U.length;q++)Ss(U[q],E,L,x);s(h.anchor,E,L);return}if(W===mn){P(h,E,L);return}if(x!==2&&M&1&&K)if(x===0)K.beforeEnter(j),s(j,E,L),ve(()=>K.enter(j),F);else{const{leave:q,delayLeave:X,afterLeave:se}=K,le=()=>s(j,E,L),pe=()=>{q(j,()=>{le(),se&&se()})};X?X(j,le,pe):pe()}else s(j,E,L)},An=(h,E,L,x=!1,F=!1)=>{const{type:j,props:W,ref:K,children:U,dynamicChildren:M,shapeFlag:J,patchFlag:q,dirs:X}=h;if(K!=null&&or(K,null,L,h,!0),J&256){E.ctx.deactivate(h);return}const se=J&1&&X,le=!Dn(h);let pe;if(le&&(pe=W&&W.onVnodeBeforeUnmount)&&Je(pe,E,h),J&6)$w(h.component,L,x);else{if(J&128){h.suspense.unmount(L,x);return}se&&kt(h,null,E,"beforeUnmount"),J&64?h.type.remove(h,E,L,F,Cs,x):M&&(j!==Ie||q>0&&q&64)?zt(M,E,L,!1,!0):(j===Ie&&q&384||!F&&J&16)&&zt(U,E,L),x&&Aa(h)}(le&&(pe=W&&W.onVnodeUnmounted)||se)&&ve(()=>{pe&&Je(pe,E,h),se&&kt(h,null,E,"unmounted")},L)},Aa=h=>{const{type:E,el:L,anchor:x,transition:F}=h;if(E===Ie){h.patchFlag>0&&h.patchFlag&2048&&F&&!F.persisted?h.children.forEach(W=>{W.type===ye?i(W.el):Aa(W)}):Dw(L,x);return}if(E===mn){I(h);return}const j=()=>{i(L),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(h.shapeFlag&1&&F&&!F.persisted){const{leave:W,delayLeave:K}=F,U=()=>W(L,j);K?K(h.el,j,U):U()}else j()},Dw=(h,E)=>{let L;for(;h!==E;)L=d(h),i(h),h=L;i(E)},$w=(h,E,L)=>{h.type.__hmrId&&Qp(h);const{bum:x,scope:F,update:j,subTree:W,um:K}=h;x&&Rt(x),ce("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeDestroy"),F.stop(),j&&(j.active=!1,An(W,h,E,L)),K&&ve(K,E),ce("INSTANCE_EVENT_HOOKS",h)&&ve(()=>h.emit("hook:destroyed"),E),ve(()=>{h.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve()),sm(h)},zt=(h,E,L,x=!1,F=!1,j=0)=>{for(let W=j;W<h.length;W++)An(h[W],E,L,x,F)},to=h=>h.shapeFlag&6?to(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el),Ah=(h,E,L)=>{h==null?E._vnode&&An(E._vnode,null,null,!0):_(E._vnode||null,h,E,null,null,null,L),_c(),Wi(),E._vnode=h},Cs={p:_,um:An,m:Ss,r:Aa,mt:H,mc:g,pc:Y,pbc:y,n:to,o:e};let Sa,Ca;return t&&([Sa,Ca]=t(Cs)),{render:Ah,hydrate:Sa,createApp:Og(Ah,Sa)}}function Bn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ni(e,t,n=!1){const s=e.children,i=t.children;if(V(s)&&V(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=gn(i[r]),l.el=o.el),n||ni(o,l)),l.type===pn&&(l.el=o.el),l.type===ye&&!l.el&&(l.el=o.el)}}function Lg(e){const t=e.slice(),n=[0];let s,i,r,o,l;const a=e.length;for(s=0;s<a;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,e[n[l]]<c?r=l+1:o=l;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const Fg=e=>e.__isTeleport,ds=e=>e&&(e.disabled||e.disabled===""),Ju=e=>typeof SVGElement<"u"&&e instanceof SVGElement,cl=(e,t)=>{const n=e&&e.to;if(ee(n))if(t){const s=t(n);return s||O(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),s}else return O("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!ds(e)&&O(`Invalid Teleport target: ${n}`),n},Ng={__isTeleport:!0,process(e,t,n,s,i,r,o,l,a,c){const{mc:f,pc:u,pbc:d,o:{insert:p,querySelector:v,createText:_,createComment:C}}=c,w=ds(t.props);let{shapeFlag:m,children:S,dynamicChildren:P}=t;if(ln&&(a=!1,P=null),e==null){const I=t.el=C("teleport start"),D=t.anchor=C("teleport end");p(I,n,s),p(D,n,s);const T=t.target=cl(t.props,v),b=t.targetAnchor=_("");T?(p(b,T),o=o||Ju(T)):w||O("Invalid Teleport target on mount:",T,`(${typeof T})`);const g=(A,y)=>{m&16&&f(S,A,y,i,r,o,l,a)};w?g(n,D):T&&g(T,b)}else{t.el=e.el;const I=t.anchor=e.anchor,D=t.target=e.target,T=t.targetAnchor=e.targetAnchor,b=ds(e.props),g=b?n:D,A=b?I:T;if(o=o||Ju(D),P?(d(e.dynamicChildren,P,g,i,r,o,l),ni(e,t,!0)):a||u(e,t,g,A,i,r,o,l,!1),w)b||cr(t,n,I,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const y=t.target=cl(t.props,v);y?cr(t,y,null,c,0):O("Invalid Teleport target on update:",D,`(${typeof D})`)}else b&&cr(t,D,T,c,1)}zu(t)},remove(e,t,n,s,{um:i,o:{remove:r}},o){const{shapeFlag:l,children:a,anchor:c,targetAnchor:f,target:u,props:d}=e;if(u&&r(f),(o||!ds(d))&&(r(c),l&16))for(let p=0;p<a.length;p++){const v=a[p];i(v,t,n,!0,!!v.dynamicChildren)}},move:cr,hydrate:xg};function cr(e,t,n,{o:{insert:s},m:i},r=2){r===0&&s(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:a,children:c,props:f}=e,u=r===2;if(u&&s(o,t,n),(!u||ds(f))&&a&16)for(let d=0;d<c.length;d++)i(c[d],t,n,2);u&&s(l,t,n)}function xg(e,t,n,s,i,r,{o:{nextSibling:o,parentNode:l,querySelector:a}},c){const f=t.target=cl(t.props,a);if(f){const u=f._lpa||f.firstChild;if(t.shapeFlag&16)if(ds(t.props))t.anchor=c(o(e),t,l(e),n,s,i,r),t.targetAnchor=u;else{t.anchor=o(e);let d=u;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(u,t,f,n,s,i,r)}zu(t)}return t.anchor&&o(t.anchor)}const kg=Ng;function zu(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const ul=new Map;function Mg(e){if(ul.has(e))return ul.get(e);let t,n;const s=new Promise((o,l)=>{t=o,n=l}),i=e(t,n);let r;return Ls(i)?r=Qi(()=>i):ne(i)&&!Ge(i)&&!V(i)?r=Qi({loader:()=>i.component,loadingComponent:i.loading,errorComponent:i.error,delay:i.delay,timeout:i.timeout}):i==null?r=Qi(()=>s):r=e,ul.set(e,r),r}function Dg(e,t){return e.__isBuiltIn?e:(G(e)&&e.cid&&(e=e.options),G(e)&&Gi("COMPONENT_ASYNC",t,e)?Mg(e):ne(e)&&e.functional&&Kt("COMPONENT_FUNCTIONAL",t,e)?$m(e):e)}const Ie=Symbol("Fragment"),pn=Symbol("Text"),ye=Symbol("Comment"),mn=Symbol("Static"),si=[];let We=null;function ur(e=!1){si.push(We=e?null:[])}function Xu(){si.pop(),We=si[si.length-1]||null}let jn=1;function fl(e){jn+=e}function Zu(e){return e.dynamicChildren=jn>0?We||ns:null,Xu(),jn>0&&We&&We.push(e),e}function $g(e,t,n,s,i,r){return Zu(pl(e,t,n,s,i,r,!0))}function dl(e,t,n,s,i){return Zu(ue(e,t,n,s,i,!0))}function Ge(e){return e?e.__v_isVNode===!0:!1}function Mt(e,t){return t.shapeFlag&6&&ls.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}let hl;function Ug(e){hl=e}const Vg=(...e)=>Bg(...hl?hl(e,ge):e),fr="__vInternal",Qu=({key:e})=>e??null,dr=({ref:e,ref_key:t,ref_for:n})=>e!=null?ee(e)||me(e)||G(e)?{i:ge,r:e,k:t,f:!!n}:e:null;function pl(e,t=null,n=null,s=0,i=null,r=e===Ie?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Qu(t),ref:t&&dr(t),scopeId:as,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ge};return l?(pr(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=ee(n)?8:16),a.key!==a.key&&O("VNode created with invalid key (NaN). VNode type:",a.type),jn>0&&!o&&We&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&We.push(a),um(a),yu(a),a}const ue=Vg;function Bg(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===uu)&&(e||O(`Invalid vnode type when creating vnode: ${e}.`),e=ye),Ge(e)){const l=qe(e,t,!0);return n&&pr(l,n),jn>0&&!r&&We&&(l.shapeFlag&6?We[We.indexOf(e)]=l:We.push(l)),l.patchFlag|=-2,l}if(lf(e)&&(e=e.__vccOpts),e=Dg(e,ge),t){t=ef(t);let{class:l,style:a}=t;l&&!ee(l)&&(t.class=Xt(l)),ne(a)&&(ks(a)&&!V(a)&&(a=Q({},a)),t.style=ts(a))}const o=ee(e)?1:Uc(e)?128:Fg(e)?64:ne(e)?4:G(e)?2:0;return o&4&&ks(e)&&(e=te(e),O("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),pl(e,t,n,s,i,o,r,!0)}function ef(e){return e?ks(e)||fr in e?Q({},e):e:null}function qe(e,t,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=e,l=t?mr(s||{},t):s,a={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Qu(l),ref:t&&t.ref?n&&i?V(i)?i.concat(dr(t)):[i,dr(t)]:dr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r===-1&&V(o)?o.map(tf):o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ie?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qe(e.ssContent),ssFallback:e.ssFallback&&qe(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx};return yu(a),a}function tf(e){const t=qe(e);return V(e.children)&&(t.children=e.children.map(tf)),t}function hr(e=" ",t=0){return ue(pn,null,e,t)}function jg(e,t){const n=ue(mn,null,e);return n.staticCount=t,n}function nf(e="",t=!1){return t?(ur(),dl(ye,null,e)):ue(ye,null,e)}function Ye(e){return e==null||typeof e=="boolean"?ue(ye):V(e)?ue(Ie,null,e.slice()):typeof e=="object"?gn(e):ue(pn,null,String(e))}function gn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qe(e)}function pr(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(V(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),pr(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(fr in t)?t._ctx=ge:i===3&&ge&&(ge.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:ge},n=32):(t=String(t),s&64?(n=16,t=[hr(t)]):n=8);e.children=t,e.shapeFlag|=n}function mr(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Xt([t.class,s.class]));else if(i==="style")t.style=ts([t.style,s.style]);else if(et(i)){const r=t[i],o=s[i];o&&r!==o&&!(V(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function Je(e,t,n,s=null){He(e,t,7,[n,s])}const Hg=Wu();let Kg=0;function ml(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||Hg,r={uid:Kg++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new uo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xu(s,i),emitsOptions:Mc(s,i),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:s.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx=Xm(r),r.root=t?t.root:r,r.emit=dm.bind(null,r),e.ce&&e.ce(r),r}let Ee=null;const ft=()=>Ee||ge,yn=e=>{Ee=e,e.scope.on()},bn=()=>{Ee&&Ee.scope.off(),Ee=null},Wg=Pe("slot,component");function gl(e,t){const n=t.isNativeTag||Rs;(Wg(e)||n(e))&&O("Do not use built-in or reserved HTML elements as component id: "+e)}function sf(e){return e.vnode.shapeFlag&4}let hs=!1;function yl(e,t=!1){hs=t;const{props:n,children:s}=e.vnode,i=sf(e);rg(e,n,i,t),pg(e,s);const r=i?Gg(e,t):void 0;return hs=!1,r}function Gg(e,t){var n;const s=e.type;{if(s.name&&gl(s.name,e.appContext.config),s.components){const r=Object.keys(s.components);for(let o=0;o<r.length;o++)gl(r[o],e.appContext.config)}if(s.directives){const r=Object.keys(s.directives);for(let o=0;o<r.length;o++)au(r[o])}s.compilerOptions&&Hn()&&O('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=ct(new Proxy(e.ctx,Zs)),Zm(e);const{setup:i}=s;if(i){const r=e.setupContext=i.length>1?of(e):null;yn(e),On();const o=vt(i,e,0,[sn(e.props),r]);if(In(),bn(),Ls(o)){if(o.then(bn,bn),t)return o.then(l=>{bl(e,l,t)}).catch(l=>{Fn(l,e,0)});if(e.asyncDep=o,!e.suspense){const l=(n=s.name)!==null&&n!==void 0?n:"Anonymous";O(`Component <${l}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else bl(e,o,t)}else wl(e,t)}function bl(e,t,n){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ne(t)?(Ge(t)&&O("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=Ao(t),Qm(e)):t!==void 0&&O(`setup() should return an object. Received: ${t===null?"null":typeof t}`),wl(e,n)}let ii,vl;function rf(e){ii=e,vl=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,zm))}}const Hn=()=>!ii;function wl(e,t,n){const s=e.type;if(km(e),s.compatConfig&&Nc(s.compatConfig),!e.render){if(!t&&ii&&!s.render){const i=e.vnode.props&&e.vnode.props["inline-template"]||s.template||Qs(e).template;if(i){Gt(e,"compile");const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:a}=s,c=Q(Q({isCustomElement:r,delimiters:l},o),a);c.compatConfig=Object.create(ko),s.compatConfig&&Q(c.compatConfig,s.compatConfig),s.render=ii(i,c),qt(e,"compile")}}e.render=s.render||Ce,vl&&vl(e)}n||(yn(e),On(),tg(e),In(),bn()),!s.render&&e.render===Ce&&!t&&(!ii&&s.template?O('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):O("Component is missing template or render function."))}function qg(e){return new Proxy(e.attrs,{get(t,n){return Yi(),je(e,"get","$attrs"),t[n]},set(){return O("setupContext.attrs is readonly."),!1},deleteProperty(){return O("setupContext.attrs is readonly."),!1}})}function of(e){const t=s=>{e.exposed&&O("expose() should be called only once per setup()."),e.exposed=s||{}};let n;return Object.freeze({get attrs(){return n||(n=qg(e))},get slots(){return sn(e.slots)},get emit(){return(s,...i)=>e.emit(s,...i)},expose:t})}function gr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ao(ct(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in un)return un[n](e)},has(t,n){return n in t||n in un}}))}const Yg=/(?:^|[-_])(\w)/g,Jg=e=>e.replace(Yg,t=>t.toUpperCase()).replace(/[-_]/g,"");function vn(e,t=!0){return G(e)?e.displayName||e.name:e.name||t&&e.__name}function ri(e,t,n=!1){let s=vn(t);if(!s&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(s=i[1])}if(!s&&e&&e.parent){const i=r=>{for(const o in r)if(r[o]===t)return o};s=i(e.components||e.parent.type.components)||i(e.appContext.components)}return s?Jg(s):n?"App":"Anonymous"}function lf(e){return G(e)&&"__vccOpts"in e}const yr=(e,t)=>jp(e,t,hs),br=e=>O(`${e}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`);function zg(){return br("defineProps"),null}function Xg(){return br("defineEmits"),null}function Zg(e){br("defineExpose")}function Qg(e,t){return br("withDefaults"),null}function ey(){return af().slots}function ty(){return af().attrs}function af(){const e=ft();return e||O("useContext() called without active instance."),e.setupContext||(e.setupContext=of(e))}function ny(e,t){const n=V(e)?e.reduce((s,i)=>(s[i]={},s),{}):e;for(const s in t){const i=n[s];i?V(i)||G(i)?n[s]={type:i,default:t[s]}:i.default=t[s]:i===null?n[s]={default:t[s]}:O(`props default key "${s}" has no corresponding declaration.`)}return n}function sy(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function iy(e){const t=ft();t||O("withAsyncContext called without active current instance. This is likely a bug.");let n=e();return bn(),Ls(n)&&(n=n.catch(s=>{throw yn(t),s})),[n,()=>yn(t)]}function cf(e,t,n){const s=arguments.length;return s===2?ne(t)&&!V(t)?Ge(t)?ue(e,null,[t]):ue(e,t):ue(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ge(n)&&(n=[n]),ue(e,t,n))}const uf=Symbol("ssrContext"),ff=()=>{{const e=an(uf);return e||O("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function df(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},n={style:"color:#b62e24"},s={style:"color:#9d288c"},i={header(u){return ne(u)?u.__isVue?["div",e,"VueInstance"]:me(u)?["div",{},["span",e,f(u)],"<",l(u.value),">"]:nt(u)?["div",{},["span",e,rn(u)?"ShallowReactive":"Reactive"],"<",l(u),`>${Ht(u)?" (readonly)":""}`]:Ht(u)?["div",{},["span",e,rn(u)?"ShallowReadonly":"Readonly"],"<",l(u),">"]:null:null},hasBody(u){return u&&u.__isVue},body(u){if(u&&u.__isVue)return["div",{},...r(u.$)]}};function r(u){const d=[];u.type.props&&u.props&&d.push(o("props",te(u.props))),u.setupState!==ae&&d.push(o("setup",u.setupState)),u.data!==ae&&d.push(o("data",te(u.data)));const p=a(u,"computed");p&&d.push(o("computed",p));const v=a(u,"inject");return v&&d.push(o("injected",v)),d.push(["div",{},["span",{style:s.style+";opacity:0.66"},"$ (internal): "],["object",{object:u}]]),d}function o(u,d){return d=Q({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},u],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(p=>["div",{},["span",s,p+": "],l(d[p],!1)])]]:["span",{}]}function l(u,d=!0){return typeof u=="number"?["span",t,u]:typeof u=="string"?["span",n,JSON.stringify(u)]:typeof u=="boolean"?["span",s,u]:ne(u)?["object",{object:d?te(u):u}]:["span",n,String(u)]}function a(u,d){const p=u.type;if(G(p))return;const v={};for(const _ in u.ctx)c(p,_,d)&&(v[_]=u.ctx[_]);return v}function c(u,d,p){const v=u[p];if(V(v)&&v.includes(d)||ne(v)&&d in v||u.extends&&c(u.extends,d,p)||u.mixins&&u.mixins.some(_=>c(_,d,p)))return!0}function f(u){return rn(u)?"ShallowRef":u.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}function ry(e,t,n,s){const i=n[s];if(i&&hf(i,e))return i;const r=t();return r.memo=e.slice(),n[s]=r}function hf(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(ss(n[s],t[s]))return!1;return jn>0&&We&&We.push(e),!0}const vr="3.2.45",oy={createComponentInstance:ml,setupComponent:yl,renderComponentRoot:Ji,setCurrentRenderingInstance:Ws,isVNode:Ge,normalizeVNode:Ye},ly=hu,it={warnDeprecation:st,createCompatVue:bg,isCompatEnabled:ce,checkCompatEnabled:Gi,softAssertCompatEnabled:Kt},ay="http://www.w3.org/2000/svg",Kn=typeof document<"u"?document:null,pf=Kn&&Kn.createElement("template"),cy={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t?Kn.createElementNS(ay,e):Kn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Kn.createTextNode(e),createComment:e=>Kn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Kn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{pf.innerHTML=s?`<svg>${e}</svg>`:e;const l=pf.content;if(s){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function uy(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function fy(e,t,n){const s=e.style,i=ee(n);if(n&&!i){for(const r in n)_l(s,r,n[r]);if(t&&!ee(t))for(const r in t)n[r]==null&&_l(s,r,"")}else{const r=s.display;i?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=r)}}const dy=/[^\\];\s*$/,mf=/\s*!important$/;function _l(e,t,n){if(V(n))n.forEach(s=>_l(e,t,s));else if(n==null&&(n=""),dy.test(n)&&O(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const s=hy(e,t);mf.test(n)?e.setProperty(Oe(s),n.replace(mf,""),"important"):e[s]=n}}const gf=["Webkit","Moz","ms"],El={};function hy(e,t){const n=El[t];if(n)return n;let s=_e(t);if(s!=="filter"&&s in e)return El[t]=s;s=It(s);for(let i=0;i<gf.length;i++){const r=gf[i]+s;if(r in e)return El[t]=r}return t}const yf="http://www.w3.org/1999/xlink";function py(e,t,n,s,i){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(yf,t.slice(6,t.length)):e.setAttributeNS(yf,t,n);else{if(gy(e,t,n,i))return;const r=Da(t);n==null||r&&!$a(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}const my=Pe("contenteditable,draggable,spellcheck");function gy(e,t,n,s=null){if(my(t)){const i=n===null?"false":typeof n!="boolean"&&n!==void 0?"true":null;if(i&&it.softAssertCompatEnabled("ATTR_ENUMERATED_COERCION",s,t,n,i))return e.setAttribute(t,i),!0}else if(n===!1&&!Da(t)&&it.softAssertCompatEnabled("ATTR_FALSE_VALUE",s,t))return e.removeAttribute(t),!0;return!1}function yy(e,t,n,s,i,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,i,r),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const a=n??"";(e.value!==a||e.tagName==="OPTION")&&(e.value=a),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=$a(n):n==null&&a==="string"?(n="",l=!0):a==="number"&&(n=0,l=!0)}else if(n===!1&&it.isCompatEnabled("ATTR_FALSE_VALUE",i)){const a=typeof e[t];(a==="string"||a==="number")&&(it.warnDeprecation("ATTR_FALSE_VALUE",i,t),n=a==="number"?0:"",l=!0)}try{e[t]=n}catch(a){l||O(`Failed setting prop "${t}" on <${e.tagName.toLowerCase()}>: value ${n} is invalid.`,a)}l&&e.removeAttribute(t)}function Yt(e,t,n,s){e.addEventListener(t,n,s)}function by(e,t,n,s){e.removeEventListener(t,n,s)}function vy(e,t,n,s,i=null){const r=e._vei||(e._vei={}),o=r[t];if(s&&o)o.value=s;else{const[l,a]=wy(t);if(s){const c=r[t]=Ay(s,i);Yt(e,l,c,a)}else o&&(by(e,l,o,a),r[t]=void 0)}}const bf=/(?:Once|Passive|Capture)$/;function wy(e){let t;if(bf.test(e)){t={};let s;for(;s=e.match(bf);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Oe(e.slice(2)),t]}let Al=0;const _y=Promise.resolve(),Ey=()=>Al||(_y.then(()=>Al=0),Al=Date.now());function Ay(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;He(Sy(s,n.value),t,5,[s])};return n.value=e,n.attached=Ey(),n}function Sy(e,t){if(V(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const vf=/^on[a-z]/,Cy=(e,t,n,s,i=!1,r,o,l,a)=>{t==="class"?uy(e,s,i):t==="style"?fy(e,n,s):et(t)?Ii(t)||vy(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ty(e,t,s,i))?yy(e,t,s,r,o,l,a):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),py(e,t,s,i,o))};function Ty(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&vf.test(t)&&G(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||vf.test(t)&&ee(n)?!1:t in e}function wf(e,t){const n=Zi(e);class s extends wr{constructor(r){super(n,r,t)}}return s.def=n,s}const Py=e=>wf(e,Kf),Oy=typeof HTMLElement<"u"?HTMLElement:class{};class wr extends Oy{constructor(t,n={},s){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.shadowRoot&&O("Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use `defineSSRCustomElement`."),this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Nn(()=>{this._connected||(Ll(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const i of s)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(s,i=!1)=>{const{props:r,styles:o}=s;let l;if(r&&!V(r))for(const a in r){const c=r[a];(c===Number||c&&c.type===Number)&&(a in this._props&&(this._props[a]=Lt(this._props[a])),(l||(l=Object.create(null)))[_e(a)]=!0)}this._numberProps=l,i&&this._resolveProps(s),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=V(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of s.map(_e))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(r){this._setProp(i,r)}})}_setAttr(t){let n=this.getAttribute(t);const s=_e(t);this._numberProps&&this._numberProps[s]&&(n=Lt(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Oe(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Oe(t),n+""):n||this.removeAttribute(Oe(t))))}_update(){Ll(this._createVNode(),this.shadowRoot)}_createVNode(){const t=ue(this._def,Q({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.ceReload=r=>{this._styles&&(this._styles.forEach(o=>this.shadowRoot.removeChild(o)),this._styles.length=0),this._applyStyles(r),this._instance=null,this._update()};const s=(r,o)=>{this.dispatchEvent(new CustomEvent(r,{detail:o}))};n.emit=(r,...o)=>{s(r,o),Oe(r)!==r&&s(Oe(r),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof wr){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s),(this._styles||(this._styles=[])).push(s)})}}function Iy(e="$style"){{const t=ft();if(!t)return O("useCssModule must be called inside setup()"),ae;const n=t.type.__cssModules;if(!n)return O("Current instance does not have CSS modules injected."),ae;const s=n[e];return s||(O(`Current instance does not have CSS module named "${e}".`),ae)}}function Ry(e){const t=ft();if(!t){O("useCssVars is called without current active component instance.");return}const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>Cl(r,i))},s=()=>{const i=e(t.proxy);Sl(t.subTree,i),n(i)};Kc(s),Js(()=>{const i=new MutationObserver(s);i.observe(t.subTree.el.parentNode,{childList:!0}),Xs(()=>i.disconnect())})}function Sl(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Sl(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Cl(e.el,t);else if(e.type===Ie)e.children.forEach(n=>Sl(n,t));else if(e.type===mn){let{el:n,anchor:s}=e;for(;n&&(Cl(n,t),n!==s);)n=n.nextSibling}}function Cl(e,t){if(e.nodeType===1){const n=e.style;for(const s in t)n.setProperty(`--${s}`,t[s])}}const wn="transition",oi="animation",li=(e,{slots:t})=>cf(qo,Af(e),t);li.displayName="Transition",li.__isBuiltIn=!0;const _f={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ly=li.props=Q({},qo.props,_f),Wn=(e,t=[])=>{V(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ef=e=>e?V(e)?e.some(t=>t.length>1):e.length>1:!1;function Af(e){const t={};for(const N in e)N in _f||(t[N]=e[N]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=r,appearActiveClass:c=o,appearToClass:f=l,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,v=it.isCompatEnabled("TRANSITION_CLASSES",null);let _,C,w;if(v){const N=B=>B.replace(/-from$/,"");e.enterFromClass||(_=N(r)),e.appearFromClass||(C=N(a)),e.leaveFromClass||(w=N(u))}const m=Fy(i),S=m&&m[0],P=m&&m[1],{onBeforeEnter:I,onEnter:D,onEnterCancelled:T,onLeave:b,onLeaveCancelled:g,onBeforeAppear:A=I,onAppear:y=D,onAppearCancelled:R=T}=t,k=(N,B,z)=>{Dt(N,B?f:l),Dt(N,B?c:o),z&&z()},$=(N,B)=>{N._isLeaving=!1,Dt(N,u),Dt(N,p),Dt(N,d),B&&B()},H=N=>(B,z)=>{const Y=N?y:D,oe=()=>k(B,N,z);Wn(Y,[B,oe]),Sf(()=>{Dt(B,N?a:r),v&&Dt(B,N?C:_),dt(B,N?f:l),Ef(Y)||Cf(B,s,S,oe)})};return Q(t,{onBeforeEnter(N){Wn(I,[N]),dt(N,r),v&&dt(N,_),dt(N,o)},onBeforeAppear(N){Wn(A,[N]),dt(N,a),v&&dt(N,C),dt(N,c)},onEnter:H(!1),onAppear:H(!0),onLeave(N,B){N._isLeaving=!0;const z=()=>$(N,B);dt(N,u),v&&dt(N,w),If(),dt(N,d),Sf(()=>{N._isLeaving&&(Dt(N,u),v&&Dt(N,w),dt(N,p),Ef(b)||Cf(N,s,P,z))}),Wn(b,[N,z])},onEnterCancelled(N){k(N,!1),Wn(T,[N])},onAppearCancelled(N){k(N,!0),Wn(R,[N])},onLeaveCancelled(N){$(N),Wn(g,[N])}})}function Fy(e){if(e==null)return null;if(ne(e))return[Tl(e.enter),Tl(e.leave)];{const t=Tl(e);return[t,t]}}function Tl(e){const t=Lt(e);return Ny(t),t}function Ny(e){typeof e!="number"?O(`<transition> explicit duration is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&O("<transition> explicit duration is NaN - the duration expression might be incorrect.")}function dt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Dt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Sf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xy=0;function Cf(e,t,n,s){const i=e._endId=++xy,r=()=>{i===e._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:l,propCount:a}=Tf(e,t);if(!o)return s();const c=o+"end";let f=0;const u=()=>{e.removeEventListener(c,d),r()},d=p=>{p.target===e&&++f>=a&&u()};setTimeout(()=>{f<a&&u()},l+1),e.addEventListener(c,d)}function Tf(e,t){const n=window.getComputedStyle(e),s=v=>(n[v]||"").split(", "),i=s(`${wn}Delay`),r=s(`${wn}Duration`),o=Pf(i,r),l=s(`${oi}Delay`),a=s(`${oi}Duration`),c=Pf(l,a);let f=null,u=0,d=0;t===wn?o>0&&(f=wn,u=o,d=r.length):t===oi?c>0&&(f=oi,u=c,d=a.length):(u=Math.max(o,c),f=u>0?o>c?wn:oi:null,d=f?f===wn?r.length:a.length:0);const p=f===wn&&/\b(transform|all)(,|$)/.test(s(`${wn}Property`).toString());return{type:f,timeout:u,propCount:d,hasTransform:p}}function Pf(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Of(n)+Of(e[s])))}function Of(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function If(){return document.body.offsetHeight}const Rf=new WeakMap,Lf=new WeakMap,Ff={name:"TransitionGroup",props:Q({},Ly,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=ft(),s=Go();let i,r;return tr(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!$y(i[0].el,n.vnode.el,o))return;i.forEach(ky),i.forEach(My);const l=i.filter(Dy);If(),l.forEach(a=>{const c=a.el,f=c.style;dt(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const u=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",u),c._moveCb=null,Dt(c,o))};c.addEventListener("transitionend",u)})}),()=>{const o=te(e),l=Af(o);let a=o.tag||Ie;!o.tag&&it.checkCompatEnabled("TRANSITION_GROUP_ROOT",n.parent)&&(a="span"),i=r,r=t.default?Xi(t.default()):[];for(let c=0;c<r.length;c++){const f=r[c];f.key!=null?Mn(f,us(f,l,s,n)):O("<TransitionGroup> children must be keyed.")}if(i)for(let c=0;c<i.length;c++){const f=i[c];Mn(f,us(f,l,s,n)),Rf.set(f,f.el.getBoundingClientRect())}return ue(a,null,r)}}};Ff.__isBuiltIn=!0;const Nf=Ff;function ky(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function My(e){Lf.set(e,e.el.getBoundingClientRect())}function Dy(e){const t=Rf.get(e),n=Lf.get(e),s=t.left-n.left,i=t.top-n.top;if(s||i){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",e}}function $y(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:r}=Tf(s);return i.removeChild(s),r}const _n=e=>{const t=e.props["onUpdate:modelValue"]||e.props["onModelCompat:input"];return V(t)?n=>Rt(t,n):t};function Uy(e){e.target.composing=!0}function xf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _r={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e._assign=_n(i);const r=s||i.props&&i.props.type==="number";Yt(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=Lt(l)),e._assign(l)}),n&&Yt(e,"change",()=>{e.value=e.value.trim()}),t||(Yt(e,"compositionstart",Uy),Yt(e,"compositionend",xf),Yt(e,"change",xf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:i}},r){if(e._assign=_n(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(i||e.type==="number")&&Lt(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Pl={deep:!0,created(e,t,n){e._assign=_n(n),Yt(e,"change",()=>{const s=e._modelValue,i=ps(e),r=e.checked,o=e._assign;if(V(s)){const l=Is(s,i),a=l!==-1;if(r&&!a)o(s.concat(i));else if(!r&&a){const c=[...s];c.splice(l,1),o(c)}}else if(Tn(s)){const l=new Set(s);r?l.add(i):l.delete(i),o(l)}else o($f(e,r))})},mounted:kf,beforeUpdate(e,t,n){e._assign=_n(n),kf(e,t,n)}};function kf(e,{value:t,oldValue:n},s){e._modelValue=t,V(t)?e.checked=Is(t,s.props.value)>-1:Tn(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=Bt(t,$f(e,!0)))}const Ol={created(e,{value:t},n){e.checked=Bt(t,n.props.value),e._assign=_n(n),Yt(e,"change",()=>{e._assign(ps(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=_n(s),t!==n&&(e.checked=Bt(t,s.props.value))}},Mf={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=Tn(t);Yt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Lt(ps(o)):ps(o));e._assign(e.multiple?i?new Set(r):r:r[0])}),e._assign=_n(s)},mounted(e,{value:t}){Df(e,t)},beforeUpdate(e,t,n){e._assign=_n(n)},updated(e,{value:t}){Df(e,t)}};function Df(e,t){const n=e.multiple;if(n&&!V(t)&&!Tn(t)){O(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let s=0,i=e.options.length;s<i;s++){const r=e.options[s],o=ps(r);if(n)V(t)?r.selected=Is(t,o)>-1:r.selected=t.has(o);else if(Bt(ps(r),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function ps(e){return"_value"in e?e._value:e.value}function $f(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Il={created(e,t,n){Er(e,t,n,null,"created")},mounted(e,t,n){Er(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){Er(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){Er(e,t,n,s,"updated")}};function Uf(e,t){switch(e){case"SELECT":return Mf;case"TEXTAREA":return _r;default:switch(t){case"checkbox":return Pl;case"radio":return Ol;default:return _r}}}function Er(e,t,n,s,i){const o=Uf(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,s)}function Vy(){_r.getSSRProps=({value:e})=>({value:e}),Ol.getSSRProps=({value:e},t)=>{if(t.props&&Bt(t.props.value,e))return{checked:!0}},Pl.getSSRProps=({value:e},t)=>{if(V(e)){if(t.props&&Is(e,t.props.value)>-1)return{checked:!0}}else if(Tn(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Il.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Uf(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const By=["ctrl","shift","alt","meta"],jy={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>By.some(n=>e[`${n}Key`]&&!t.includes(n))},Hy=(e,t)=>(n,...s)=>{for(let i=0;i<t.length;i++){const r=jy[t[i]];if(r&&r(n,t))return}return e(n,...s)},Ky={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Wy=(e,t)=>{let n,s=null;return s=ft(),it.isCompatEnabled("CONFIG_KEY_CODES",s)&&s&&(n=s.appContext.config.keyCodes),t.some(i=>/^\d+$/.test(i))&&it.warnDeprecation("V_ON_KEYCODE_MODIFIER",s),i=>{if(!("key"in i))return;const r=Oe(i.key);if(t.some(o=>o===r||Ky[o]===r))return e(i);{const o=String(i.keyCode);if(it.isCompatEnabled("V_ON_KEYCODE_MODIFIER",s)&&t.some(l=>l==o))return e(i);if(n)for(const l of t){const a=n[l];if(a&&(V(a)?a.some(f=>String(f)===o):String(a)===o))return e(i)}}}},Rl={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ai(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),ai(e,!0),s.enter(e)):s.leave(e,()=>{ai(e,!1)}):ai(e,t))},beforeUnmount(e,{value:t}){ai(e,t)}};function ai(e,t){e.style.display=t?e._vod:"none"}function Gy(){Rl.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Vf=Q({patchProp:Cy},cy);let ci,Bf=!1;function jf(){return ci||(ci=Gu(Vf))}function Hf(){return ci=Bf?ci:qu(Vf),Bf=!0,ci}const Ll=(...e)=>{jf().render(...e)},Kf=(...e)=>{Hf().hydrate(...e)},Ar=(...e)=>{const t=jf().createApp(...e);Wf(t),Gf(t);const{mount:n}=t;return t.mount=s=>{const i=qf(s);if(!i)return;const r=t._component;if(!G(r)&&!r.render&&!r.template){r.template=i.innerHTML;for(let l=0;l<i.attributes.length;l++){const a=i.attributes[l];if(a.name!=="v-cloak"&&/^(v-|:|@)/.test(a.name)){it.warnDeprecation("GLOBAL_MOUNT_CONTAINER",null);break}}}i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},qy=(...e)=>{const t=Hf().createApp(...e);Wf(t),Gf(t);const{mount:n}=t;return t.mount=s=>{const i=qf(s);if(i)return n(i,!0,i instanceof SVGElement)},t};function Wf(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>ka(t)||Ma(t),writable:!1})}function Gf(e){if(Hn()){const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){O("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,s='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(e.config,"compilerOptions",{get(){return O(s),n},set(){O(s)}})}}function qf(e){if(ee(e)){const t=document.querySelector(e);return t||O(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&O('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}let Yf=!1;var Jf=Object.freeze({__proto__:null,render:Ll,hydrate:Kf,createApp:Ar,createSSRApp:qy,initDirectivesForSSR:()=>{Yf||(Yf=!0,Vy(),Gy())},defineCustomElement:wf,defineSSRCustomElement:Py,VueElement:wr,useCssModule:Iy,useCssVars:Ry,Transition:li,TransitionGroup:Nf,vModelText:_r,vModelCheckbox:Pl,vModelRadio:Ol,vModelSelect:Mf,vModelDynamic:Il,withModifiers:Hy,withKeys:Wy,vShow:Rl,reactive:jt,ref:Rn,readonly:vo,unref:Eo,proxyRefs:Ao,isRef:me,toRef:Ds,toRefs:So,isProxy:ks,isReactive:nt,isReadonly:Ht,isShallow:rn,customRef:Up,triggerRef:Mp,shallowRef:xp,shallowReactive:mc,shallowReadonly:sn,markRaw:ct,toRaw:te,effect:ap,stop:cp,ReactiveEffect:xs,effectScope:fo,EffectScope:uo,getCurrentScope:qa,onScopeDispose:Ya,computed:yr,watch:kn,watchEffect:Cm,watchPostEffect:Kc,watchSyncEffect:Tm,onBeforeMount:eu,onMounted:Js,onBeforeUpdate:tu,onUpdated:tr,onBeforeUnmount:zs,onUnmounted:Xs,onActivated:Xc,onDeactivated:Zc,onRenderTracked:iu,onRenderTriggered:su,onErrorCaptured:ru,onServerPrefetch:nu,provide:Hc,inject:an,nextTick:Nn,defineComponent:Zi,defineAsyncComponent:Qi,useAttrs:ty,useSlots:ey,defineProps:zg,defineEmits:Xg,defineExpose:Zg,withDefaults:Qg,mergeDefaults:ny,createPropsRestProxy:sy,withAsyncContext:iy,getCurrentInstance:ft,h:cf,createVNode:ue,cloneVNode:qe,mergeProps:mr,isVNode:Ge,Fragment:Ie,Text:pn,Comment:ye,Static:mn,Teleport:kg,Suspense:wm,KeepAlive:zc,BaseTransition:qo,withDirectives:cu,useSSRContext:ff,ssrContextKey:uf,createRenderer:Gu,createHydrationRenderer:qu,queuePostFlushCb:Ki,warn:O,handleError:Fn,callWithErrorHandling:vt,callWithAsyncErrorHandling:He,resolveComponent:xm,resolveDirective:du,resolveDynamicComponent:fu,registerRuntimeCompiler:rf,isRuntimeOnly:Hn,useTransitionState:Go,resolveTransitionHooks:us,setTransitionHooks:Mn,getTransitionRawChildren:Xi,initCustomFormatter:df,get devtools(){return wt},setDevtoolsHook:Lo,withCtx:Bo,pushScopeId:hm,popScopeId:pm,withScopeId:mm,renderList:vu,toHandlers:Au,renderSlot:_u,createSlots:wu,withMemo:ry,isMemoSame:hf,openBlock:ur,createBlock:dl,setBlockTracking:fl,createTextVNode:hr,createCommentVNode:nf,createStaticVNode:jg,createElementVNode:pl,createElementBlock:$g,guardReactiveProps:ef,toDisplayString:Ua,camelize:_e,capitalize:It,toHandlerKey:bt,normalizeProps:zh,normalizeClass:Xt,normalizeStyle:ts,transformVNodeArgs:Ug,version:vr,ssrUtils:oy,resolveFilter:ly,compatUtils:it});function Yy(){df()}Yy();function Jy(...e){const t=Ar(...e);return it.isCompatEnabled("RENDER_FUNCTION",null)&&(t.component("__compat__transition",li),t.component("__compat__transition-group",Nf),t.component("__compat__keep-alive",zc),t._context.directives.show=Rl,t._context.directives.model=Il),t}function zy(){const e=it.createCompatVue(Ar,Jy);return Q(e,Jf),e}function Fl(e){throw e}function zf(e){console.warn(`[Vue warn] ${e.message}`)}function de(e,t,n,s){const i=(n||Xy)[e]+(s||""),r=new SyntaxError(String(i));return r.code=e,r.loc=t,r}const Xy={[0]:"Illegal comment.",[1]:"CDATA section is allowed only in XML context.",[2]:"Duplicate attribute.",[3]:"End tag cannot have attributes.",[4]:"Illegal '/' in tags.",[5]:"Unexpected EOF in tag.",[6]:"Unexpected EOF in CDATA section.",[7]:"Unexpected EOF in comment.",[8]:"Unexpected EOF in script.",[9]:"Unexpected EOF in tag.",[10]:"Incorrectly closed comment.",[11]:"Incorrectly opened comment.",[12]:"Illegal tag name. Use '&lt;' to print '<'.",[13]:"Attribute value was expected.",[14]:"End tag name was expected.",[15]:"Whitespace was expected.",[16]:"Unexpected '<!--' in comment.",[17]:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,[18]:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",[19]:"Attribute name cannot start with '='.",[21]:"'<?' is allowed only in XML context.",[20]:"Unexpected null character.",[22]:"Illegal '/' in tags.",[23]:"Invalid end tag.",[24]:"Element is missing end tag.",[25]:"Interpolation end sign was not found.",[27]:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",[26]:"Legal directive name was expected.",[28]:"v-if/v-else-if is missing expression.",[29]:"v-if/else branches must use unique keys.",[30]:"v-else/v-else-if has no adjacent v-if or v-else-if.",[31]:"v-for is missing expression.",[32]:"v-for has invalid expression.",[33]:"<template v-for> key should be placed on the <template> tag.",[34]:"v-bind is missing expression.",[35]:"v-on is missing expression.",[36]:"Unexpected custom directive on <slot> outlet.",[37]:"Mixed v-slot usage on both the component and nested <template>.When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",[38]:"Duplicate slot names found. ",[39]:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",[40]:"v-slot can only be used on components or <template> tags.",[41]:"v-model is missing expression.",[42]:"v-model value must be a valid JavaScript member expression.",[43]:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",[44]:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,[45]:"Error parsing JavaScript expression: ",[46]:"<KeepAlive> expects exactly one child component.",[47]:'"prefixIdentifiers" option is not supported in this build of compiler.',[48]:"ES module mode is not supported in this build of compiler.",[49]:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',[50]:'"scopeId" option is only supported in module mode.',[51]:""},ui=Symbol("Fragment"),fi=Symbol("Teleport"),Nl=Symbol("Suspense"),Sr=Symbol("KeepAlive"),Xf=Symbol("BaseTransition"),Gn=Symbol("openBlock"),Zf=Symbol("createBlock"),Qf=Symbol("createElementBlock"),xl=Symbol("createVNode"),kl=Symbol("createElementVNode"),di=Symbol("createCommentVNode"),Ml=Symbol("createTextVNode"),ed=Symbol("createStaticVNode"),Dl=Symbol("resolveComponent"),Cr=Symbol("resolveDynamicComponent"),$l=Symbol("resolveDirective"),Ul=Symbol("resolveFilter"),Vl=Symbol("withDirectives"),Bl=Symbol("renderList"),td=Symbol("renderSlot"),nd=Symbol("createSlots"),Tr=Symbol("toDisplayString"),Pr=Symbol("mergeProps"),jl=Symbol("normalizeClass"),Hl=Symbol("normalizeStyle"),hi=Symbol("normalizeProps"),pi=Symbol("guardReactiveProps"),Kl=Symbol("toHandlers"),Wl=Symbol("camelize"),Zy=Symbol("capitalize"),Gl=Symbol("toHandlerKey"),Or=Symbol("setBlockTracking"),Qy=Symbol("pushScopeId"),eb=Symbol("popScopeId"),ql=Symbol("withCtx"),tb=Symbol("unref"),nb=Symbol("isRef"),Yl=Symbol("withMemo"),sd=Symbol("isMemoSame"),ms={[ui]:"Fragment",[fi]:"Teleport",[Nl]:"Suspense",[Sr]:"KeepAlive",[Xf]:"BaseTransition",[Gn]:"openBlock",[Zf]:"createBlock",[Qf]:"createElementBlock",[xl]:"createVNode",[kl]:"createElementVNode",[di]:"createCommentVNode",[Ml]:"createTextVNode",[ed]:"createStaticVNode",[Dl]:"resolveComponent",[Cr]:"resolveDynamicComponent",[$l]:"resolveDirective",[Ul]:"resolveFilter",[Vl]:"withDirectives",[Bl]:"renderList",[td]:"renderSlot",[nd]:"createSlots",[Tr]:"toDisplayString",[Pr]:"mergeProps",[jl]:"normalizeClass",[Hl]:"normalizeStyle",[hi]:"normalizeProps",[pi]:"guardReactiveProps",[Kl]:"toHandlers",[Wl]:"camelize",[Zy]:"capitalize",[Gl]:"toHandlerKey",[Or]:"setBlockTracking",[Qy]:"pushScopeId",[eb]:"popScopeId",[ql]:"withCtx",[tb]:"unref",[nb]:"isRef",[Yl]:"withMemo",[sd]:"isMemoSame"};function sb(e){Object.getOwnPropertySymbols(e).forEach(t=>{ms[t]=e[t]})}const rt={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function ib(e,t=rt){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function mi(e,t,n,s,i,r,o,l=!1,a=!1,c=!1,f=rt){return e&&(l?(e.helper(Gn),e.helper(vs(e.inSSR,c))):e.helper(bs(e.inSSR,c)),o&&e.helper(Vl)),{type:13,tag:t,props:n,children:s,patchFlag:i,dynamicProps:r,directives:o,isBlock:l,disableTracking:a,isComponent:c,loc:f}}function gi(e,t=rt){return{type:17,loc:t,elements:e}}function ht(e,t=rt){return{type:15,loc:t,properties:e}}function be(e,t){return{type:16,loc:rt,key:ee(e)?re(e,!0):e,value:t}}function re(e,t=!1,n=rt,s=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:s}}function _t(e,t=rt){return{type:8,loc:t,children:e}}function Ae(e,t=[],n=rt){return{type:14,loc:n,callee:e,arguments:t}}function gs(e,t=void 0,n=!1,s=!1,i=rt){return{type:18,params:e,returns:t,newline:n,isSlot:s,loc:i}}function Jl(e,t,n,s=!0){return{type:19,test:e,consequent:t,alternate:n,newline:s,loc:rt}}function rb(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:rt}}function ob(e){return{type:21,body:e,loc:rt}}const ze=e=>e.type===4&&e.isStatic,qn=(e,t)=>e===t||e===Oe(t);function id(e){if(qn(e,"Teleport"))return fi;if(qn(e,"Suspense"))return Nl;if(qn(e,"KeepAlive"))return Sr;if(qn(e,"BaseTransition"))return Xf}const lb=/^\d|[^\$\w]/,zl=e=>!lb.test(e),ab=/[A-Za-z_$\xA0-\uFFFF]/,cb=/[\.\?\w$\xA0-\uFFFF]/,ub=/\s+[.[]\s*|\s*[.[]\s+/g,rd=e=>{e=e.trim().replace(ub,o=>o.trim());let t=0,n=[],s=0,i=0,r=null;for(let o=0;o<e.length;o++){const l=e.charAt(o);switch(t){case 0:if(l==="[")n.push(t),t=1,s++;else if(l==="(")n.push(t),t=2,i++;else if(!(o===0?ab:cb).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(t),t=3,r=l):l==="["?s++:l==="]"&&(--s||(t=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(t),t=3,r=l;else if(l==="(")i++;else if(l===")"){if(o===e.length-1)return!1;--i||(t=n.pop())}break;case 3:l===r&&(t=n.pop(),r=null);break}}return!s&&!i};function od(e,t,n){const i={source:e.source.slice(t,t+n),start:Ir(e.start,e.source,t),end:e.end};return n!=null&&(i.end=Ir(e.start,e.source,t+n)),i}function Ir(e,t,n=t.length){return Rr(Q({},e),t,n)}function Rr(e,t,n=t.length){let s=0,i=-1;for(let r=0;r<n;r++)t.charCodeAt(r)===10&&(s++,i=r);return e.offset+=n,e.line+=s,e.column=i===-1?e.column+n:n-i,e}function ld(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function pt(e,t,n=!1){for(let s=0;s<e.props.length;s++){const i=e.props[s];if(i.type===7&&(n||i.exp)&&(ee(t)?i.name===t:t.test(i.name)))return i}}function ys(e,t,n=!1,s=!1){for(let i=0;i<e.props.length;i++){const r=e.props[i];if(r.type===6){if(n)continue;if(r.name===t&&(r.value||s))return r}else if(r.name==="bind"&&(r.exp||s)&&Yn(r.arg,t))return r}}function Yn(e,t){return!!(e&&ze(e)&&e.content===t)}function fb(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Xl(e){return e.type===5||e.type===2}function db(e){return e.type===7&&e.name==="slot"}function Lr(e){return e.type===1&&e.tagType===3}function Fr(e){return e.type===1&&e.tagType===2}function bs(e,t){return e||t?xl:kl}function vs(e,t){return e||t?Zf:Qf}const hb=new Set([hi,pi]);function ad(e,t=[]){if(e&&!ee(e)&&e.type===14){const n=e.callee;if(!ee(n)&&hb.has(n))return ad(e.arguments[0],t.concat(e))}return[e,t]}function Nr(e,t,n){let s,i=e.type===13?e.props:e.arguments[2],r=[],o;if(i&&!ee(i)&&i.type===14){const l=ad(i);i=l[0],r=l[1],o=r[r.length-1]}if(i==null||ee(i))s=ht([t]);else if(i.type===14){const l=i.arguments[0];!ee(l)&&l.type===15?cd(t,l)||l.properties.unshift(t):i.callee===Kl?s=Ae(n.helper(Pr),[ht([t]),i]):i.arguments.unshift(ht([t])),!s&&(s=i)}else i.type===15?(cd(t,i)||i.properties.unshift(t),s=i):(s=Ae(n.helper(Pr),[ht([t]),i]),o&&o.callee===pi&&(o=r[r.length-2]));e.type===13?o?o.arguments[0]=s:e.props=s:o?o.arguments[0]=s:e.arguments[2]=s}function cd(e,t){let n=!1;if(e.key.type===4){const s=e.key.content;n=t.properties.some(i=>i.key.type===4&&i.key.content===s)}return n}function yi(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,s)=>n==="-"?"_":e.charCodeAt(s).toString())}`}function pb(e){return e.type===14&&e.callee===Yl?e.arguments[1].returns:e}function Zl(e,{helper:t,removeHelper:n,inSSR:s}){e.isBlock||(e.isBlock=!0,n(bs(s,e.isComponent)),t(Gn),t(vs(s,e.isComponent)))}const mb={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Ql(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,s=n&&n[e];return e==="MODE"?s||3:s}function En(e,t){const n=Ql("MODE",t),s=Ql(e,t);return n===3?s===!0:s!==!1}function Jn(e,t,n,...s){const i=En(e,t);return i&&xr(e,t,n,...s),i}function xr(e,t,n,...s){if(Ql(e,t)==="suppress-warning")return;const{message:r,link:o}=mb[e],l=`(deprecation ${e}) ${typeof r=="function"?r(...s):r}${o?`
  Details: ${o}`:""}`,a=new SyntaxError(l);a.code=e,n&&(a.loc=n),t.onWarn(a)}const gb=/&(gt|lt|amp|apos|quot);/g,yb={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},ud={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Rs,isPreTag:Rs,isCustomElement:Rs,decodeEntities:e=>e.replace(gb,(t,n)=>yb[n]),onError:Fl,onWarn:zf,comments:!0};function bb(e,t={}){const n=vb(e,t),s=ot(n);return ib(ea(n,0,[]),lt(n,s))}function vb(e,t){const n=Q({},ud);let s;for(s in t)n[s]=t[s]===void 0?ud[s]:t[s];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function ea(e,t,n){const s=kr(n),i=s?s.ns:0,r=[];for(;!Ob(e,t,n);){const l=e.source;let a;if(t===0||t===1){if(!e.inVPre&&xe(l,e.options.delimiters[0]))a=Tb(e,t);else if(t===0&&l[0]==="<")if(l.length===1)fe(e,5,1);else if(l[1]==="!")xe(l,"<!--")?a=_b(e):xe(l,"<!DOCTYPE")?a=bi(e):xe(l,"<![CDATA[")?i!==0?a=wb(e,n):(fe(e,1),a=bi(e)):(fe(e,11),a=bi(e));else if(l[1]==="/")if(l.length===2)fe(e,5,2);else if(l[2]===">"){fe(e,14,2),Te(e,3);continue}else if(/[a-z]/i.test(l[2])){fe(e,23),ta(e,1,s);continue}else fe(e,12,2),a=bi(e);else/[a-z]/i.test(l[1])?(a=Eb(e,n),En("COMPILER_NATIVE_TEMPLATE",e)&&a&&a.tag==="template"&&!a.props.some(c=>c.type===7&&dd(c.name))&&(xr("COMPILER_NATIVE_TEMPLATE",e,a.loc),a=a.children)):l[1]==="?"?(fe(e,21,1),a=bi(e)):fe(e,12,1)}if(a||(a=Pb(e,t)),V(a))for(let c=0;c<a.length;c++)fd(r,a[c]);else fd(r,a)}let o=!1;if(t!==2&&t!==1){const l=e.options.whitespace!=="preserve";for(let a=0;a<r.length;a++){const c=r[a];if(c.type===2)if(e.inPre)c.content=c.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(c.content))l&&(c.content=c.content.replace(/[\t\r\n\f ]+/g," "));else{const f=r[a-1],u=r[a+1];!f||!u||l&&(f.type===3&&u.type===3||f.type===3&&u.type===1||f.type===1&&u.type===3||f.type===1&&u.type===1&&/[\r\n]/.test(c.content))?(o=!0,r[a]=null):c.content=" "}else c.type===3&&!e.options.comments&&(o=!0,r[a]=null)}if(e.inPre&&s&&e.options.isPreTag(s.tag)){const a=r[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}}return o?r.filter(Boolean):r}function fd(e,t){if(t.type===2){const n=kr(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function wb(e,t){Te(e,9);const n=ea(e,3,t);return e.source.length===0?fe(e,6):Te(e,3),n}function _b(e){const t=ot(e);let n;const s=/--(\!)?>/.exec(e.source);if(!s)n=e.source.slice(4),Te(e,e.source.length),fe(e,7);else{s.index<=3&&fe(e,0),s[1]&&fe(e,10),n=e.source.slice(4,s.index);const i=e.source.slice(0,s.index);let r=1,o=0;for(;(o=i.indexOf("<!--",r))!==-1;)Te(e,o-r+1),o+4<i.length&&fe(e,16),r=o+1;Te(e,s.index+s[0].length-r+1)}return{type:3,content:n,loc:lt(e,t)}}function bi(e){const t=ot(e),n=e.source[1]==="?"?1:2;let s;const i=e.source.indexOf(">");return i===-1?(s=e.source.slice(n),Te(e,e.source.length)):(s=e.source.slice(n,i),Te(e,i+1)),{type:3,content:s,loc:lt(e,t)}}function Eb(e,t){const n=e.inPre,s=e.inVPre,i=kr(t),r=ta(e,0,i),o=e.inPre&&!n,l=e.inVPre&&!s;if(r.isSelfClosing||e.options.isVoidTag(r.tag))return o&&(e.inPre=!1),l&&(e.inVPre=!1),r;t.push(r);const a=e.options.getTextMode(r,i),c=ea(e,a,t);t.pop();{const f=r.props.find(u=>u.type===6&&u.name==="inline-template");if(f&&Jn("COMPILER_INLINE_TEMPLATE",e,f.loc)){const u=lt(e,r.loc.end);f.value={type:2,content:u.source,loc:u}}}if(r.children=c,na(e.source,r.tag))ta(e,1,i);else if(fe(e,24,0,r.loc.start),e.source.length===0&&r.tag.toLowerCase()==="script"){const f=c[0];f&&xe(f.loc.source,"<!--")&&fe(e,8)}return r.loc=lt(e,r.loc.start),o&&(e.inPre=!1),l&&(e.inVPre=!1),r}const dd=Pe("if,else,else-if,for,slot");function ta(e,t,n){const s=ot(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),r=i[1],o=e.options.getNamespace(r,n);Te(e,i[0].length),wi(e);const l=ot(e),a=e.source;e.options.isPreTag(r)&&(e.inPre=!0);let c=hd(e,t);t===0&&!e.inVPre&&c.some(d=>d.type===7&&d.name==="pre")&&(e.inVPre=!0,Q(e,l),e.source=a,c=hd(e,t).filter(d=>d.name!=="v-pre"));let f=!1;if(e.source.length===0?fe(e,9):(f=xe(e.source,"/>"),t===1&&f&&fe(e,4),Te(e,f?2:1)),t===1)return;if(En("COMPILER_V_IF_V_FOR_PRECEDENCE",e)){let d=!1,p=!1;for(let v=0;v<c.length;v++){const _=c[v];if(_.type===7&&(_.name==="if"?d=!0:_.name==="for"&&(p=!0)),d&&p){xr("COMPILER_V_IF_V_FOR_PRECEDENCE",e,lt(e,s));break}}}let u=0;return e.inVPre||(r==="slot"?u=2:r==="template"?c.some(d=>d.type===7&&dd(d.name))&&(u=3):Ab(r,c,e)&&(u=1)),{type:1,ns:o,tag:r,tagType:u,props:c,isSelfClosing:f,children:[],loc:lt(e,s),codegenNode:void 0}}function Ab(e,t,n){const s=n.options;if(s.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||id(e)||s.isBuiltInComponent&&s.isBuiltInComponent(e)||s.isNativeTag&&!s.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const r=t[i];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(Jn("COMPILER_IS_ON_ELEMENT",n,r.loc))return!0}}else{if(r.name==="is")return!0;if(r.name==="bind"&&Yn(r.arg,"is")&&Jn("COMPILER_IS_ON_ELEMENT",n,r.loc))return!0}}}function hd(e,t){const n=[],s=new Set;for(;e.source.length>0&&!xe(e.source,">")&&!xe(e.source,"/>");){if(xe(e.source,"/")){fe(e,22),Te(e,1),wi(e);continue}t===1&&fe(e,3);const i=Sb(e,s);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(i),/^[^\t\r\n\f />]/.test(e.source)&&fe(e,15),wi(e)}return n}function Sb(e,t){const n=ot(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&fe(e,2),t.add(i),i[0]==="="&&fe(e,19);{const l=/["'<]/g;let a;for(;a=l.exec(i);)fe(e,17,a.index)}Te(e,i.length);let r;/^[\t\r\n\f ]*=/.test(e.source)&&(wi(e),Te(e,1),wi(e),r=Cb(e),r||fe(e,13));const o=lt(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const l=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let a=xe(i,"."),c=l[1]||(a||xe(i,":")?"bind":xe(i,"@")?"on":"slot"),f;if(l[2]){const d=c==="slot",p=i.lastIndexOf(l[2]),v=lt(e,pd(e,n,p),pd(e,n,p+l[2].length+(d&&l[3]||"").length));let _=l[2],C=!0;_.startsWith("[")?(C=!1,_.endsWith("]")?_=_.slice(1,_.length-1):(fe(e,27),_=_.slice(1))):d&&(_+=l[3]||""),f={type:4,content:_,isStatic:C,constType:C?3:0,loc:v}}if(r&&r.isQuoted){const d=r.loc;d.start.offset++,d.start.column++,d.end=Ir(d.start,r.content),d.source=d.source.slice(1,-1)}const u=l[3]?l[3].slice(1).split("."):[];return a&&u.push("prop"),c==="bind"&&f&&(u.includes("sync")&&Jn("COMPILER_V_BIND_SYNC",e,o,f.loc.source)&&(c="model",u.splice(u.indexOf("sync"),1)),u.includes("prop")&&Jn("COMPILER_V_BIND_PROP",e,o)),{type:7,name:c,exp:r&&{type:4,content:r.content,isStatic:!1,constType:0,loc:r.loc},arg:f,modifiers:u,loc:o}}return!e.inVPre&&xe(i,"v-")&&fe(e,26),{type:6,name:i,value:r&&{type:2,content:r.content,loc:r.loc},loc:o}}function Cb(e){const t=ot(e);let n;const s=e.source[0],i=s==='"'||s==="'";if(i){Te(e,1);const r=e.source.indexOf(s);r===-1?n=vi(e,e.source.length,4):(n=vi(e,r,4),Te(e,1))}else{const r=/^[^\t\r\n\f >]+/.exec(e.source);if(!r)return;const o=/["'<=`]/g;let l;for(;l=o.exec(r[0]);)fe(e,18,l.index);n=vi(e,r[0].length,4)}return{content:n,isQuoted:i,loc:lt(e,t)}}function Tb(e,t){const[n,s]=e.options.delimiters,i=e.source.indexOf(s,n.length);if(i===-1){fe(e,25);return}const r=ot(e);Te(e,n.length);const o=ot(e),l=ot(e),a=i-n.length,c=e.source.slice(0,a),f=vi(e,a,t),u=f.trim(),d=f.indexOf(u);d>0&&Rr(o,c,d);const p=a-(f.length-u.length-d);return Rr(l,c,p),Te(e,s.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:u,loc:lt(e,o,l)},loc:lt(e,r)}}function Pb(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let s=e.source.length;for(let o=0;o<n.length;o++){const l=e.source.indexOf(n[o],1);l!==-1&&s>l&&(s=l)}const i=ot(e);return{type:2,content:vi(e,s,t),loc:lt(e,i)}}function vi(e,t,n){const s=e.source.slice(0,t);return Te(e,t),n===2||n===3||!s.includes("&")?s:e.options.decodeEntities(s,n===4)}function ot(e){const{column:t,line:n,offset:s}=e;return{column:t,line:n,offset:s}}function lt(e,t,n){return n=n||ot(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function kr(e){return e[e.length-1]}function xe(e,t){return e.startsWith(t)}function Te(e,t){const{source:n}=e;Rr(e,n,t),e.source=n.slice(t)}function wi(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Te(e,t[0].length)}function pd(e,t,n){return Ir(t,e.originalSource.slice(t.offset,n),n)}function fe(e,t,n,s=ot(e)){n&&(s.offset+=n,s.column+=n),e.options.onError(de(t,{start:s,end:s,source:""}))}function Ob(e,t,n){const s=e.source;switch(t){case 0:if(xe(s,"</")){for(let i=n.length-1;i>=0;--i)if(na(s,n[i].tag))return!0}break;case 1:case 2:{const i=kr(n);if(i&&na(s,i.tag))return!0;break}case 3:if(xe(s,"]]>"))return!0;break}return!s}function na(e,t){return xe(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function Ib(e,t){Mr(e,t,md(e,e.children[0]))}function md(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!Fr(t)}function Mr(e,t,n=!1){const{children:s}=e,i=s.length;let r=0;for(let o=0;o<s.length;o++){const l=s[o];if(l.type===1&&l.tagType===0){const a=n?0:mt(l,t);if(a>0){if(a>=2){l.codegenNode.patchFlag=-1+" /* HOISTED */",l.codegenNode=t.hoist(l.codegenNode),r++;continue}}else{const c=l.codegenNode;if(c.type===13){const f=vd(c);if((!f||f===512||f===1)&&yd(l,t)>=2){const u=bd(l);u&&(c.props=t.hoist(u))}c.dynamicProps&&(c.dynamicProps=t.hoist(c.dynamicProps))}}}if(l.type===1){const a=l.tagType===1;a&&t.scopes.vSlot++,Mr(l,t),a&&t.scopes.vSlot--}else if(l.type===11)Mr(l,t,l.children.length===1);else if(l.type===9)for(let a=0;a<l.branches.length;a++)Mr(l.branches[a],t,l.branches[a].children.length===1)}r&&t.transformHoist&&t.transformHoist(s,t,e),r&&r===i&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&V(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(gi(e.codegenNode.children)))}function mt(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const s=n.get(e);if(s!==void 0)return s;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(vd(i))return n.set(e,0),0;{let l=3;const a=yd(e,t);if(a===0)return n.set(e,0),0;a<l&&(l=a);for(let c=0;c<e.children.length;c++){const f=mt(e.children[c],t);if(f===0)return n.set(e,0),0;f<l&&(l=f)}if(l>1)for(let c=0;c<e.props.length;c++){const f=e.props[c];if(f.type===7&&f.name==="bind"&&f.exp){const u=mt(f.exp,t);if(u===0)return n.set(e,0),0;u<l&&(l=u)}}if(i.isBlock){for(let c=0;c<e.props.length;c++)if(e.props[c].type===7)return n.set(e,0),0;t.removeHelper(Gn),t.removeHelper(vs(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(bs(t.inSSR,i.isComponent))}return n.set(e,l),l}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return mt(e.content,t);case 4:return e.constType;case 8:let o=3;for(let l=0;l<e.children.length;l++){const a=e.children[l];if(ee(a)||Zt(a))continue;const c=mt(a,t);if(c===0)return 0;c<o&&(o=c)}return o;default:return 0}}const Rb=new Set([jl,Hl,hi,pi]);function gd(e,t){if(e.type===14&&!ee(e.callee)&&Rb.has(e.callee)){const n=e.arguments[0];if(n.type===4)return mt(n,t);if(n.type===14)return gd(n,t)}return 0}function yd(e,t){let n=3;const s=bd(e);if(s&&s.type===15){const{properties:i}=s;for(let r=0;r<i.length;r++){const{key:o,value:l}=i[r],a=mt(o,t);if(a===0)return a;a<n&&(n=a);let c;if(l.type===4?c=mt(l,t):l.type===14?c=gd(l,t):c=0,c===0)return c;c<n&&(n=c)}}return n}function bd(e){const t=e.codegenNode;if(t.type===13)return t.props}function vd(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function Lb(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:s=!1,cacheHandlers:i=!1,nodeTransforms:r=[],directiveTransforms:o={},transformHoist:l=null,isBuiltInComponent:a=Ce,isCustomElement:c=Ce,expressionPlugins:f=[],scopeId:u=null,slotted:d=!0,ssr:p=!1,inSSR:v=!1,ssrCssVars:_="",bindingMetadata:C=ae,inline:w=!1,isTS:m=!1,onError:S=Fl,onWarn:P=zf,compatConfig:I}){const D=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),T={selfName:D&&It(_e(D[1])),prefixIdentifiers:n,hoistStatic:s,cacheHandlers:i,nodeTransforms:r,directiveTransforms:o,transformHoist:l,isBuiltInComponent:a,isCustomElement:c,expressionPlugins:f,scopeId:u,slotted:d,ssr:p,inSSR:v,ssrCssVars:_,bindingMetadata:C,inline:w,isTS:m,onError:S,onWarn:P,compatConfig:I,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(b){const g=T.helpers.get(b)||0;return T.helpers.set(b,g+1),b},removeHelper(b){const g=T.helpers.get(b);if(g){const A=g-1;A?T.helpers.set(b,A):T.helpers.delete(b)}},helperString(b){return`_${ms[T.helper(b)]}`},replaceNode(b){{if(!T.currentNode)throw new Error("Node being replaced is already removed.");if(!T.parent)throw new Error("Cannot replace root node.")}T.parent.children[T.childIndex]=T.currentNode=b},removeNode(b){if(!T.parent)throw new Error("Cannot remove root node.");const g=T.parent.children,A=b?g.indexOf(b):T.currentNode?T.childIndex:-1;if(A<0)throw new Error("node being removed is not a child of current parent");!b||b===T.currentNode?(T.currentNode=null,T.onNodeRemoved()):T.childIndex>A&&(T.childIndex--,T.onNodeRemoved()),T.parent.children.splice(A,1)},onNodeRemoved:()=>{},addIdentifiers(b){},removeIdentifiers(b){},hoist(b){ee(b)&&(b=re(b)),T.hoists.push(b);const g=re(`_hoisted_${T.hoists.length}`,!1,b.loc,2);return g.hoisted=b,g},cache(b,g=!1){return rb(T.cached++,b,g)}};return T.filters=new Set,T}function Fb(e,t){const n=Lb(e,t);Dr(e,n),t.hoistStatic&&Ib(e,n),t.ssr||Nb(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function Nb(e,t){const{helper:n}=t,{children:s}=e;if(s.length===1){const i=s[0];if(md(e,i)&&i.codegenNode){const r=i.codegenNode;r.type===13&&Zl(r,t),e.codegenNode=r}else e.codegenNode=i}else if(s.length>1){let i=64,r=Ot[64];s.filter(o=>o.type!==3).length===1&&(i|=2048,r+=`, ${Ot[2048]}`),e.codegenNode=mi(t,n(ui),void 0,e.children,i+` /* ${r} */`,void 0,void 0,!0,void 0,!1)}}function xb(e,t){let n=0;const s=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];ee(i)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=s,Dr(i,t))}}function Dr(e,t){t.currentNode=e;const{nodeTransforms:n}=t,s=[];for(let r=0;r<n.length;r++){const o=n[r](e,t);if(o&&(V(o)?s.push(...o):s.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(di);break;case 5:t.ssr||t.helper(Tr);break;case 9:for(let r=0;r<e.branches.length;r++)Dr(e.branches[r],t);break;case 10:case 11:case 1:case 0:xb(e,t);break}t.currentNode=e;let i=s.length;for(;i--;)s[i]()}function wd(e,t){const n=ee(e)?s=>s===e:s=>e.test(s);return(s,i)=>{if(s.type===1){const{props:r}=s;if(s.tagType===3&&r.some(db))return;const o=[];for(let l=0;l<r.length;l++){const a=r[l];if(a.type===7&&n(a.name)){r.splice(l,1),l--;const c=t(s,a,i);c&&o.push(c)}}return o}}}const $r="/*#__PURE__*/",_d=e=>`${ms[e]}: _${ms[e]}`;function kb(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:s=!1,filename:i="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:l="Vue",runtimeModuleName:a="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:u=!1,inSSR:d=!1}){const p={mode:t,prefixIdentifiers:n,sourceMap:s,filename:i,scopeId:r,optimizeImports:o,runtimeGlobalName:l,runtimeModuleName:a,ssrRuntimeModuleName:c,ssr:f,isTS:u,inSSR:d,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(_){return`_${ms[_]}`},push(_,C){p.code+=_},indent(){v(++p.indentLevel)},deindent(_=!1){_?--p.indentLevel:v(--p.indentLevel)},newline(){v(p.indentLevel)}};function v(_){p.push(`
`+"  ".repeat(_))}return p}function Mb(e,t={}){const n=kb(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:s,push:i,prefixIdentifiers:r,indent:o,deindent:l,newline:a,scopeId:c,ssr:f}=n,u=e.helpers.length>0,d=!r&&s!=="module";Db(e,n);const v=f?"ssrRender":"render",C=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${v}(${C}) {`),o(),d&&(i("with (_ctx) {"),o(),u&&(i(`const { ${e.helpers.map(_d).join(", ")} } = _Vue`),i(`
`),a())),e.components.length&&(sa(e.components,"component",n),(e.directives.length||e.temps>0)&&a()),e.directives.length&&(sa(e.directives,"directive",n),e.temps>0&&a()),e.filters&&e.filters.length&&(a(),sa(e.filters,"filter",n),a()),e.temps>0){i("let ");for(let w=0;w<e.temps;w++)i(`${w>0?", ":""}_temp${w}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`),a()),f||i("return "),e.codegenNode?ke(e.codegenNode,n):i("null"),d&&(l(),i("}")),l(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function Db(e,t){const{ssr:n,prefixIdentifiers:s,push:i,newline:r,runtimeModuleName:o,runtimeGlobalName:l,ssrRuntimeModuleName:a}=t,c=l;if(e.helpers.length>0&&(i(`const _Vue = ${c}
`),e.hoists.length)){const f=[xl,kl,di,Ml,ed].filter(u=>e.helpers.includes(u)).map(_d).join(", ");i(`const { ${f} } = _Vue
`)}$b(e.hoists,t),r(),i("return ")}function sa(e,t,{helper:n,push:s,newline:i,isTS:r}){const o=n(t==="filter"?Ul:t==="component"?Dl:$l);for(let l=0;l<e.length;l++){let a=e[l];const c=a.endsWith("__self");c&&(a=a.slice(0,-6)),s(`const ${yi(a,t)} = ${o}(${JSON.stringify(a)}${c?", true":""})${r?"!":""}`),l<e.length-1&&i()}}function $b(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:s,helper:i,scopeId:r,mode:o}=t;s();for(let l=0;l<e.length;l++){const a=e[l];a&&(n(`const _hoisted_${l+1} = `),ke(a,t),s())}t.pure=!1}function Ub(e){return ee(e)||e.type===4||e.type===2||e.type===5||e.type===8}function ia(e,t){const n=e.length>3||e.some(s=>V(s)||!Ub(s));t.push("["),n&&t.indent(),_i(e,t,n),n&&t.deindent(),t.push("]")}function _i(e,t,n=!1,s=!0){const{push:i,newline:r}=t;for(let o=0;o<e.length;o++){const l=e[o];ee(l)?i(l):V(l)?ia(l,t):ke(l,t),o<e.length-1&&(n?(s&&i(","),r()):s&&i(", "))}}function ke(e,t){if(ee(e)){t.push(e);return}if(Zt(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:ld(e.codegenNode!=null,"Codegen node is missing for element/if/for node. Apply appropriate transforms first."),ke(e.codegenNode,t);break;case 2:Vb(e,t);break;case 4:Ed(e,t);break;case 5:Bb(e,t);break;case 12:ke(e.codegenNode,t);break;case 8:Ad(e,t);break;case 3:Hb(e,t);break;case 13:Kb(e,t);break;case 14:Gb(e,t);break;case 15:qb(e,t);break;case 17:Yb(e,t);break;case 18:Jb(e,t);break;case 19:zb(e,t);break;case 20:Xb(e,t);break;case 21:_i(e.body,t,!0,!1);break;case 22:break;case 23:break;case 24:break;case 25:break;case 26:break;case 10:break;default:return ld(!1,`unhandled codegen node type: ${e.type}`),e}}function Vb(e,t){t.push(JSON.stringify(e.content),e)}function Ed(e,t){const{content:n,isStatic:s}=e;t.push(s?JSON.stringify(n):n,e)}function Bb(e,t){const{push:n,helper:s,pure:i}=t;i&&n($r),n(`${s(Tr)}(`),ke(e.content,t),n(")")}function Ad(e,t){for(let n=0;n<e.children.length;n++){const s=e.children[n];ee(s)?t.push(s):ke(s,t)}}function jb(e,t){const{push:n}=t;if(e.type===8)n("["),Ad(e,t),n("]");else if(e.isStatic){const s=zl(e.content)?e.content:JSON.stringify(e.content);n(s,e)}else n(`[${e.content}]`,e)}function Hb(e,t){const{push:n,helper:s,pure:i}=t;i&&n($r),n(`${s(di)}(${JSON.stringify(e.content)})`,e)}function Kb(e,t){const{push:n,helper:s,pure:i}=t,{tag:r,props:o,children:l,patchFlag:a,dynamicProps:c,directives:f,isBlock:u,disableTracking:d,isComponent:p}=e;f&&n(s(Vl)+"("),u&&n(`(${s(Gn)}(${d?"true":""}), `),i&&n($r);const v=u?vs(t.inSSR,p):bs(t.inSSR,p);n(s(v)+"(",e),_i(Wb([r,o,l,a,c]),t),n(")"),u&&n(")"),f&&(n(", "),ke(f,t),n(")"))}function Wb(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function Gb(e,t){const{push:n,helper:s,pure:i}=t,r=ee(e.callee)?e.callee:s(e.callee);i&&n($r),n(r+"(",e),_i(e.arguments,t),n(")")}function qb(e,t){const{push:n,indent:s,deindent:i,newline:r}=t,{properties:o}=e;if(!o.length){n("{}",e);return}const l=o.length>1||o.some(a=>a.value.type!==4);n(l?"{":"{ "),l&&s();for(let a=0;a<o.length;a++){const{key:c,value:f}=o[a];jb(c,t),n(": "),ke(f,t),a<o.length-1&&(n(","),r())}l&&i(),n(l?"}":" }")}function Yb(e,t){ia(e.elements,t)}function Jb(e,t){const{push:n,indent:s,deindent:i}=t,{params:r,returns:o,body:l,newline:a,isSlot:c}=e;c&&n(`_${ms[ql]}(`),n("(",e),V(r)?_i(r,t):r&&ke(r,t),n(") => "),(a||l)&&(n("{"),s()),o?(a&&n("return "),V(o)?ia(o,t):ke(o,t)):l&&ke(l,t),(a||l)&&(i(),n("}")),c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function zb(e,t){const{test:n,consequent:s,alternate:i,newline:r}=e,{push:o,indent:l,deindent:a,newline:c}=t;if(n.type===4){const u=!zl(n.content);u&&o("("),Ed(n,t),u&&o(")")}else o("("),ke(n,t),o(")");r&&l(),t.indentLevel++,r||o(" "),o("? "),ke(s,t),t.indentLevel--,r&&c(),r||o(" "),o(": ");const f=i.type===19;f||t.indentLevel++,ke(i,t),f||t.indentLevel--,r&&a(!0)}function Xb(e,t){const{push:n,helper:s,indent:i,deindent:r,newline:o}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(i(),n(`${s(Or)}(-1),`),o()),n(`_cache[${e.index}] = `),ke(e.value,t),e.isVNode&&(n(","),o(),n(`${s(Or)}(1),`),o(),n(`_cache[${e.index}]`),r()),n(")")}const Zb=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b"),Qb=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function zn(e,t,n=!1,s=!1){const i=e.content;if(i.trim())try{new Function(s?` ${i} `:`return ${n?`(${i}) => {}`:`(${i})`}`)}catch(r){let o=r.message;const l=i.replace(Qb,"").match(Zb);l&&(o=`avoid using JavaScript keyword as property name: "${l[0]}"`),t.onError(de(45,e.loc,void 0,o))}}const ev=(e,t)=>{if(e.type===5)e.content=ra(e.content,t);else if(e.type===1)for(let n=0;n<e.props.length;n++){const s=e.props[n];if(s.type===7&&s.name!=="for"){const i=s.exp,r=s.arg;i&&i.type===4&&!(s.name==="on"&&r)&&(s.exp=ra(i,t,s.name==="slot")),r&&r.type===4&&!r.isStatic&&(s.arg=ra(r,t))}}};function ra(e,t,n=!1,s=!1,i=Object.create(t.identifiers)){return zn(e,t,n,s),e}const tv=wd(/^(if|else|else-if)$/,(e,t,n)=>nv(e,t,n,(s,i,r)=>{const o=n.parent.children;let l=o.indexOf(s),a=0;for(;l-->=0;){const c=o[l];c&&c.type===9&&(a+=c.branches.length)}return()=>{if(r)s.codegenNode=Cd(i,a,n);else{const c=iv(s.codegenNode);c.alternate=Cd(i,a+s.branches.length-1,n)}}}));function nv(e,t,n,s){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(de(28,t.loc)),t.exp=re("true",!1,i)}if(t.exp&&zn(t.exp,n),t.name==="if"){const i=Sd(e,t),r={type:9,loc:e.loc,branches:[i]};if(n.replaceNode(r),s)return s(r,i,!0)}else{const i=n.parent.children,r=[];let o=i.indexOf(e);for(;o-->=-1;){const l=i[o];if(l&&l.type===3){n.removeNode(l),r.unshift(l);continue}if(l&&l.type===2&&!l.content.trim().length){n.removeNode(l);continue}if(l&&l.type===9){t.name==="else-if"&&l.branches[l.branches.length-1].condition===void 0&&n.onError(de(30,e.loc)),n.removeNode();const a=Sd(e,t);r.length&&!(n.parent&&n.parent.type===1&&qn(n.parent.tag,"transition"))&&(a.children=[...r,...a.children]);{const f=a.userKey;f&&l.branches.forEach(({userKey:u})=>{sv(u,f)&&n.onError(de(29,a.userKey.loc))})}l.branches.push(a);const c=s&&s(l,a,!1);Dr(a,n),c&&c(),n.currentNode=null}else n.onError(de(30,e.loc));break}}}function Sd(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!pt(e,"for")?e.children:[e],userKey:ys(e,"key"),isTemplateIf:n}}function Cd(e,t,n){return e.condition?Jl(e.condition,Td(e,t,n),Ae(n.helper(di),['"v-if"',"true"])):Td(e,t,n)}function Td(e,t,n){const{helper:s}=n,i=be("key",re(`${t}`,!1,rt,2)),{children:r}=e,o=r[0];if(r.length!==1||o.type!==1)if(r.length===1&&o.type===11){const a=o.codegenNode;return Nr(a,i,n),a}else{let a=64,c=Ot[64];return!e.isTemplateIf&&r.filter(f=>f.type!==3).length===1&&(a|=2048,c+=`, ${Ot[2048]}`),mi(n,s(ui),ht([i]),r,a+` /* ${c} */`,void 0,void 0,!0,!1,!1,e.loc)}else{const a=o.codegenNode,c=pb(a);return c.type===13&&Zl(c,n),Nr(c,i,n),a}}function sv(e,t){if(!e||e.type!==t.type)return!1;if(e.type===6){if(e.value.content!==t.value.content)return!1}else{const n=e.exp,s=t.exp;if(n.type!==s.type||n.type!==4||n.isStatic!==s.isStatic||n.content!==s.content)return!1}return!0}function iv(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const rv=wd("for",(e,t,n)=>{const{helper:s,removeHelper:i}=n;return ov(e,t,n,r=>{const o=Ae(s(Bl),[r.source]),l=Lr(e),a=pt(e,"memo"),c=ys(e,"key"),f=c&&(c.type===6?re(c.value.content,!0):c.exp),u=c?be("key",f):null,d=r.source.type===4&&r.source.constType>0,p=d?64:c?128:256;return r.codegenNode=mi(n,s(ui),void 0,o,p+` /* ${Ot[p]} */`,void 0,void 0,!0,!d,!1,e.loc),()=>{let v;const{children:_}=r;l&&e.children.some(m=>{if(m.type===1){const S=ys(m,"key");if(S)return n.onError(de(33,S.loc)),!0}});const C=_.length!==1||_[0].type!==1,w=Fr(e)?e:l&&e.children.length===1&&Fr(e.children[0])?e.children[0]:null;if(w?(v=w.codegenNode,l&&u&&Nr(v,u,n)):C?v=mi(n,s(ui),u?ht([u]):void 0,e.children,64+` /* ${Ot[64]} */`,void 0,void 0,!0,void 0,!1):(v=_[0].codegenNode,l&&u&&Nr(v,u,n),v.isBlock!==!d&&(v.isBlock?(i(Gn),i(vs(n.inSSR,v.isComponent))):i(bs(n.inSSR,v.isComponent))),v.isBlock=!d,v.isBlock?(s(Gn),s(vs(n.inSSR,v.isComponent))):s(bs(n.inSSR,v.isComponent))),a){const m=gs(oa(r.parseResult,[re("_cached")]));m.body=ob([_t(["const _memo = (",a.exp,")"]),_t(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${n.helperString(sd)}(_cached, _memo)) return _cached`]),_t(["const _item = ",v]),re("_item.memo = _memo"),re("return _item")]),o.arguments.push(m,re("_cache"),re(String(n.cached++)))}else o.arguments.push(gs(oa(r.parseResult),v,!0))}})});function ov(e,t,n,s){if(!t.exp){n.onError(de(31,t.loc));return}const i=Od(t.exp,n);if(!i){n.onError(de(32,t.loc));return}const{addIdentifiers:r,removeIdentifiers:o,scopes:l}=n,{source:a,value:c,key:f,index:u}=i,d={type:11,loc:t.loc,source:a,valueAlias:c,keyAlias:f,objectIndexAlias:u,parseResult:i,children:Lr(e)?e.children:[e]};n.replaceNode(d),l.vFor++;const p=s&&s(d);return()=>{l.vFor--,p&&p()}}const lv=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Pd=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,av=/^\(|\)$/g;function Od(e,t){const n=e.loc,s=e.content,i=s.match(lv);if(!i)return;const[,r,o]=i,l={source:Ur(n,o.trim(),s.indexOf(o,r.length)),value:void 0,key:void 0,index:void 0};zn(l.source,t);let a=r.trim().replace(av,"").trim();const c=r.indexOf(a),f=a.match(Pd);if(f){a=a.replace(Pd,"").trim();const u=f[1].trim();let d;if(u&&(d=s.indexOf(u,c+a.length),l.key=Ur(n,u,d),zn(l.key,t,!0)),f[2]){const p=f[2].trim();p&&(l.index=Ur(n,p,s.indexOf(p,l.key?d+u.length:c+a.length)),zn(l.index,t,!0))}}return a&&(l.value=Ur(n,a,c),zn(l.value,t,!0)),l}function Ur(e,t,n){return re(t,!1,od(e,n,t.length))}function oa({value:e,key:t,index:n},s=[]){return cv([e,t,n,...s])}function cv(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,s)=>n||re("_".repeat(s+1),!1))}const Id=re("undefined",!1),uv=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=pt(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},fv=(e,t,n)=>gs(e,t,!1,!0,t.length?t[0].loc:n);function dv(e,t,n=fv){t.helper(ql);const{children:s,loc:i}=e,r=[],o=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const a=pt(e,"slot",!0);if(a){const{arg:C,exp:w}=a;C&&!ze(C)&&(l=!0),r.push(be(C||re("default",!0),n(w,s,i)))}let c=!1,f=!1;const u=[],d=new Set;let p=0;for(let C=0;C<s.length;C++){const w=s[C];let m;if(!Lr(w)||!(m=pt(w,"slot",!0))){w.type!==3&&u.push(w);continue}if(a){t.onError(de(37,m.loc));break}c=!0;const{children:S,loc:P}=w,{arg:I=re("default",!0),exp:D,loc:T}=m;let b;ze(I)?b=I?I.content:"default":l=!0;const g=n(D,S,P);let A,y,R;if(A=pt(w,"if"))l=!0,o.push(Jl(A.exp,Vr(I,g,p++),Id));else if(y=pt(w,/^else(-if)?$/,!0)){let k=C,$;for(;k--&&($=s[k],$.type===3););if($&&Lr($)&&pt($,"if")){s.splice(C,1),C--;let H=o[o.length-1];for(;H.alternate.type===19;)H=H.alternate;H.alternate=y.exp?Jl(y.exp,Vr(I,g,p++),Id):Vr(I,g,p++)}else t.onError(de(30,y.loc))}else if(R=pt(w,"for")){l=!0;const k=R.parseResult||Od(R.exp,t);k?o.push(Ae(t.helper(Bl),[k.source,gs(oa(k),Vr(I,g),!0)])):t.onError(de(32,R.loc))}else{if(b){if(d.has(b)){t.onError(de(38,T));continue}d.add(b),b==="default"&&(f=!0)}r.push(be(I,g))}}if(!a){const C=(w,m)=>{const S=n(w,m,i);return t.compatConfig&&(S.isNonScopedSlot=!0),be("default",S)};c?u.length&&u.some(w=>Rd(w))&&(f?t.onError(de(39,u[0].loc)):r.push(C(void 0,u))):r.push(C(void 0,s))}const v=l?2:Br(e.children)?3:1;let _=ht(r.concat(be("_",re(v+` /* ${Kh[v]} */`,!1))),i);return o.length&&(_=Ae(t.helper(nd),[_,gi(o)])),{slots:_,hasDynamicSlots:l}}function Vr(e,t,n){const s=[be("name",e),be("fn",t)];return n!=null&&s.push(be("key",re(String(n),!0))),ht(s)}function Br(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||Br(n.children))return!0;break;case 9:if(Br(n.branches))return!0;break;case 10:case 11:if(Br(n.children))return!0;break}}return!1}function Rd(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():Rd(e.content)}const Ld=new WeakMap,hv=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:s,props:i}=e,r=e.tagType===1;let o=r?pv(e,t):`"${s}"`;const l=ne(o)&&o.callee===Cr;let a,c,f,u=0,d,p,v,_=l||o===fi||o===Nl||!r&&(s==="svg"||s==="foreignObject");if(i.length>0){const C=Fd(e,t,void 0,r,l);a=C.props,u=C.patchFlag,p=C.dynamicPropNames;const w=C.directives;v=w&&w.length?gi(w.map(m=>gv(m,t))):void 0,C.shouldUseBlock&&(_=!0)}if(e.children.length>0)if(o===Sr&&(_=!0,u|=1024,e.children.length>1&&t.onError(de(46,{start:e.children[0].loc.start,end:e.children[e.children.length-1].loc.end,source:""}))),r&&o!==fi&&o!==Sr){const{slots:w,hasDynamicSlots:m}=dv(e,t);c=w,m&&(u|=1024)}else if(e.children.length===1&&o!==fi){const w=e.children[0],m=w.type,S=m===5||m===8;S&&mt(w,t)===0&&(u|=1),S||m===2?c=w:c=e.children}else c=e.children;if(u!==0){if(u<0)f=u+` /* ${Ot[u]} */`;else{const C=Object.keys(Ot).map(Number).filter(w=>w>0&&u&w).map(w=>Ot[w]).join(", ");f=u+` /* ${C} */`}p&&p.length&&(d=yv(p))}e.codegenNode=mi(t,o,a,c,f,d,v,!!_,!1,r,e.loc)};function pv(e,t,n=!1){let{tag:s}=e;const i=la(s),r=ys(e,"is");if(r)if(i||En("COMPILER_IS_ON_ELEMENT",t)){const a=r.type===6?r.value&&re(r.value.content,!0):r.exp;if(a)return Ae(t.helper(Cr),[a])}else r.type===6&&r.value.content.startsWith("vue:")&&(s=r.value.content.slice(4));const o=!i&&pt(e,"is");if(o&&o.exp)return Ae(t.helper(Cr),[o.exp]);const l=id(s)||t.isBuiltInComponent(s);return l?(n||t.helper(l),l):(t.helper(Dl),t.components.add(s),yi(s,"component"))}function Fd(e,t,n=e.props,s,i,r=!1){const{tag:o,loc:l,children:a}=e;let c=[];const f=[],u=[],d=a.length>0;let p=!1,v=0,_=!1,C=!1,w=!1,m=!1,S=!1,P=!1;const I=[],D=g=>{c.length&&(f.push(ht(Nd(c),l)),c=[]),g&&f.push(g)},T=({key:g,value:A})=>{if(ze(g)){const y=g.content,R=et(y);if(R&&(!s||i)&&y.toLowerCase()!=="onclick"&&y!=="onUpdate:modelValue"&&!Qt(y)&&(m=!0),R&&Qt(y)&&(P=!0),A.type===20||(A.type===4||A.type===8)&&mt(A,t)>0)return;y==="ref"?_=!0:y==="class"?C=!0:y==="style"?w=!0:y!=="key"&&!I.includes(y)&&I.push(y),s&&(y==="class"||y==="style")&&!I.includes(y)&&I.push(y)}else S=!0};for(let g=0;g<n.length;g++){const A=n[g];if(A.type===6){const{loc:y,name:R,value:k}=A;let $=!0;if(R==="ref"&&(_=!0,t.scopes.vFor>0&&c.push(be(re("ref_for",!0),re("true")))),R==="is"&&(la(o)||k&&k.content.startsWith("vue:")||En("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(be(re(R,!0,od(y,0,R.length)),re(k?k.content:"",$,k?k.loc:y)))}else{const{name:y,arg:R,exp:k,loc:$}=A,H=y==="bind",N=y==="on";if(y==="slot"){s||t.onError(de(40,$));continue}if(y==="once"||y==="memo"||y==="is"||H&&Yn(R,"is")&&(la(o)||En("COMPILER_IS_ON_ELEMENT",t))||N&&r)continue;if((H&&Yn(R,"key")||N&&d&&Yn(R,"vue:before-update"))&&(p=!0),H&&Yn(R,"ref")&&t.scopes.vFor>0&&c.push(be(re("ref_for",!0),re("true"))),!R&&(H||N)){if(S=!0,k)if(H){if(D(),f.some(Y=>Y.type===15?Y.properties.some(({key:oe})=>oe.type!==4||!oe.isStatic?!0:oe.content!=="class"&&oe.content!=="style"&&!et(oe.content)):!0)&&Jn("COMPILER_V_BIND_OBJECT_ORDER",t,$),En("COMPILER_V_BIND_OBJECT_ORDER",t)){f.unshift(k);continue}f.push(k)}else D({type:14,loc:$,callee:t.helper(Kl),arguments:s?[k]:[k,"true"]});else t.onError(de(H?34:35,$));continue}const B=t.directiveTransforms[y];if(B){const{props:z,needRuntime:Y}=B(A,e,t);!r&&z.forEach(T),N&&R&&!ze(R)?D(ht(z,l)):c.push(...z),Y&&(u.push(A),Zt(Y)&&Ld.set(A,Y))}else Ha(y)||(u.push(A),d&&(p=!0))}}let b;if(f.length?(D(),f.length>1?b=Ae(t.helper(Pr),f,l):b=f[0]):c.length&&(b=ht(Nd(c),l)),S?v|=16:(C&&!s&&(v|=2),w&&!s&&(v|=4),I.length&&(v|=8),m&&(v|=32)),!p&&(v===0||v===32)&&(_||P||u.length>0)&&(v|=512),!t.inSSR&&b)switch(b.type){case 15:let g=-1,A=-1,y=!1;for(let $=0;$<b.properties.length;$++){const H=b.properties[$].key;ze(H)?H.content==="class"?g=$:H.content==="style"&&(A=$):H.isHandlerKey||(y=!0)}const R=b.properties[g],k=b.properties[A];y?b=Ae(t.helper(hi),[b]):(R&&!ze(R.value)&&(R.value=Ae(t.helper(jl),[R.value])),k&&(w||k.value.type===4&&k.value.content.trim()[0]==="["||k.value.type===17)&&(k.value=Ae(t.helper(Hl),[k.value])));break;case 14:break;default:b=Ae(t.helper(hi),[Ae(t.helper(pi),[b])]);break}return{props:b,directives:u,patchFlag:v,dynamicPropNames:I,shouldUseBlock:p}}function Nd(e){const t=new Map,n=[];for(let s=0;s<e.length;s++){const i=e[s];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const r=i.key.content,o=t.get(r);o?(r==="style"||r==="class"||et(r))&&mv(o,i):(t.set(r,i),n.push(i))}return n}function mv(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=gi([e.value,t.value],e.loc)}function gv(e,t){const n=[],s=Ld.get(e);s?n.push(t.helperString(s)):(t.helper($l),t.directives.add(e.name),n.push(yi(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const r=re("true",!1,i);n.push(ht(e.modifiers.map(o=>be(o,r)),i))}return gi(n,e.loc)}function yv(e){let t="[";for(let n=0,s=e.length;n<s;n++)t+=JSON.stringify(e[n]),n<s-1&&(t+=", ");return t+"]"}function la(e){return e==="component"||e==="Component"}const bv=(e,t)=>{if(Fr(e)){const{children:n,loc:s}=e,{slotName:i,slotProps:r}=vv(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let l=2;r&&(o[2]=r,l=3),n.length&&(o[3]=gs([],n,!1,!1,s),l=4),t.scopeId&&!t.slotted&&(l=5),o.splice(l),e.codegenNode=Ae(t.helper(td),o,s)}};function vv(e,t){let n='"default"',s;const i=[];for(let r=0;r<e.props.length;r++){const o=e.props[r];o.type===6?o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=_e(o.name),i.push(o))):o.name==="bind"&&Yn(o.arg,"name")?o.exp&&(n=o.exp):(o.name==="bind"&&o.arg&&ze(o.arg)&&(o.arg.content=_e(o.arg.content)),i.push(o))}if(i.length>0){const{props:r,directives:o}=Fd(e,t,i,!1,!1);s=r,o.length&&t.onError(de(36,o[0].loc))}return{slotName:n,slotProps:s}}const wv=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,xd=(e,t,n,s)=>{const{loc:i,modifiers:r,arg:o}=e;!e.exp&&!r.length&&n.onError(de(35,i));let l;if(o.type===4)if(o.isStatic){let u=o.content;u.startsWith("vue:")&&(u=`vnode-${u.slice(4)}`);const d=t.tagType!==0||u.startsWith("vnode")||!/[A-Z]/.test(u)?bt(_e(u)):`on:${u}`;l=re(d,!0,o.loc)}else l=_t([`${n.helperString(Gl)}(`,o,")"]);else l=o,l.children.unshift(`${n.helperString(Gl)}(`),l.children.push(")");let a=e.exp;a&&!a.content.trim()&&(a=void 0);let c=n.cacheHandlers&&!a&&!n.inVOnce;if(a){const u=rd(a.content),d=!(u||wv.test(a.content)),p=a.content.includes(";");zn(a,n,!1,p),(d||c&&u)&&(a=_t([`${d?"$event":"(...args)"} => ${p?"{":"("}`,a,p?"}":")"]))}let f={props:[be(l,a||re("() => {}",!1,i))]};return s&&(f=s(f)),c&&(f.props[0].value=n.cache(f.props[0].value)),f.props.forEach(u=>u.key.isHandlerKey=!0),f},_v=(e,t,n)=>{const{exp:s,modifiers:i,loc:r}=e,o=e.arg;return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),i.includes("camel")&&(o.type===4?o.isStatic?o.content=_e(o.content):o.content=`${n.helperString(Wl)}(${o.content})`:(o.children.unshift(`${n.helperString(Wl)}(`),o.children.push(")"))),n.inSSR||(i.includes("prop")&&kd(o,"."),i.includes("attr")&&kd(o,"^")),!s||s.type===4&&!s.content.trim()?(n.onError(de(34,r)),{props:[be(o,re("",!0,r))]}):{props:[be(o,s)]}},kd=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Ev=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let s,i=!1;for(let r=0;r<n.length;r++){const o=n[r];if(Xl(o)){i=!0;for(let l=r+1;l<n.length;l++){const a=n[l];if(Xl(a))s||(s=n[r]=_t([o],o.loc)),s.children.push(" + ",a),n.splice(l,1),l--;else{s=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(r=>r.type===7&&!t.directiveTransforms[r.name])&&e.tag!=="template")))for(let r=0;r<n.length;r++){const o=n[r];if(Xl(o)||o.type===8){const l=[];(o.type!==2||o.content!==" ")&&l.push(o),!t.ssr&&mt(o,t)===0&&l.push(1+` /* ${Ot[1]} */`),n[r]={type:12,content:o,loc:o.loc,codegenNode:Ae(t.helper(Ml),l)}}}}},Md=new WeakSet,Av=(e,t)=>{if(e.type===1&&pt(e,"once",!0))return Md.has(e)||t.inVOnce?void 0:(Md.add(e),t.inVOnce=!0,t.helper(Or),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},Dd=(e,t,n)=>{const{exp:s,arg:i}=e;if(!s)return n.onError(de(41,e.loc)),jr();const r=s.loc.source,o=s.type===4?s.content:r,l=n.bindingMetadata[r];if(l==="props"||l==="props-aliased")return n.onError(de(44,s.loc)),jr();const a=!1;if(!o.trim()||!rd(o)&&!a)return n.onError(de(42,s.loc)),jr();const c=i||re("modelValue",!0),f=i?ze(i)?`onUpdate:${i.content}`:_t(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;const d=n.isTS?"($event: any)":"$event";u=_t([`${d} => ((`,s,") = $event)"]);const p=[be(c,e.exp),be(f,u)];if(e.modifiers.length&&t.tagType===1){const v=e.modifiers.map(C=>(zl(C)?C:JSON.stringify(C))+": true").join(", "),_=i?ze(i)?`${i.content}Modifiers`:_t([i,' + "Modifiers"']):"modelModifiers";p.push(be(_,re(`{ ${v} }`,!1,e.loc,2)))}return jr(p)};function jr(e=[]){return{props:e}}const Sv=/[\w).+\-_$\]]/,Cv=(e,t)=>{En("COMPILER_FILTER",t)&&(e.type===5&&Hr(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Hr(n.exp,t)}))};function Hr(e,t){if(e.type===4)$d(e,t);else for(let n=0;n<e.children.length;n++){const s=e.children[n];typeof s=="object"&&(s.type===4?$d(s,t):s.type===8?Hr(e,t):s.type===5&&Hr(s.content,t))}}function $d(e,t){const n=e.content;let s=!1,i=!1,r=!1,o=!1,l=0,a=0,c=0,f=0,u,d,p,v,_=[];for(p=0;p<n.length;p++)if(d=u,u=n.charCodeAt(p),s)u===39&&d!==92&&(s=!1);else if(i)u===34&&d!==92&&(i=!1);else if(r)u===96&&d!==92&&(r=!1);else if(o)u===47&&d!==92&&(o=!1);else if(u===124&&n.charCodeAt(p+1)!==124&&n.charCodeAt(p-1)!==124&&!l&&!a&&!c)v===void 0?(f=p+1,v=n.slice(0,p).trim()):C();else{switch(u){case 34:i=!0;break;case 39:s=!0;break;case 96:r=!0;break;case 40:c++;break;case 41:c--;break;case 91:a++;break;case 93:a--;break;case 123:l++;break;case 125:l--;break}if(u===47){let w=p-1,m;for(;w>=0&&(m=n.charAt(w),m===" ");w--);(!m||!Sv.test(m))&&(o=!0)}}v===void 0?v=n.slice(0,p).trim():f!==0&&C();function C(){_.push(n.slice(f,p).trim()),f=p+1}if(_.length){for(xr("COMPILER_FILTER",t,e.loc),p=0;p<_.length;p++)v=Tv(v,_[p],t);e.content=v}}function Tv(e,t,n){n.helper(Ul);const s=t.indexOf("(");if(s<0)return n.filters.add(t),`${yi(t,"filter")}(${e})`;{const i=t.slice(0,s),r=t.slice(s+1);return n.filters.add(i),`${yi(i,"filter")}(${e}${r!==")"?","+r:r}`}}const Ud=new WeakSet,Pv=(e,t)=>{if(e.type===1){const n=pt(e,"memo");return!n||Ud.has(e)?void 0:(Ud.add(e),()=>{const s=e.codegenNode||t.currentNode.codegenNode;s&&s.type===13&&(e.tagType!==1&&Zl(s,t),e.codegenNode=Ae(t.helper(Yl),[n.exp,gs(void 0,s),"_cache",String(t.cached++)]))})}};function Ov(e){return[[Av,tv,Pv,rv,Cv,ev,bv,hv,uv,Ev],{on:xd,bind:_v,model:Dd}]}function Iv(e,t={}){const n=t.onError||Fl,s=t.mode==="module";t.prefixIdentifiers===!0?n(de(47)):s&&n(de(48));const i=!1;t.cacheHandlers&&n(de(49)),t.scopeId&&!s&&n(de(50));const r=ee(e)?bb(e,t):e,[o,l]=Ov();return Fb(r,Q({},t,{prefixIdentifiers:i,nodeTransforms:[...o,...t.nodeTransforms||[]],directiveTransforms:Q({},l,t.directiveTransforms||{})})),Mb(r,Q({},t,{prefixIdentifiers:i}))}const Rv=()=>({props:[]}),Vd=Symbol("vModelRadio"),Bd=Symbol("vModelCheckbox"),jd=Symbol("vModelText"),Hd=Symbol("vModelSelect"),aa=Symbol("vModelDynamic"),Kd=Symbol("vOnModifiersGuard"),Wd=Symbol("vOnKeysGuard"),Gd=Symbol("vShow"),ca=Symbol("Transition"),qd=Symbol("TransitionGroup");sb({[Vd]:"vModelRadio",[Bd]:"vModelCheckbox",[jd]:"vModelText",[Hd]:"vModelSelect",[aa]:"vModelDynamic",[Kd]:"withModifiers",[Wd]:"withKeys",[Gd]:"vShow",[ca]:"Transition",[qd]:"TransitionGroup"});let ws;function Lv(e,t=!1){return ws||(ws=document.createElement("div")),t?(ws.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,ws.children[0].getAttribute("foo")):(ws.innerHTML=e,ws.textContent)}const Fv=Pe("style,iframe,script,noscript",!0),Nv={isVoidTag:ep,isNativeTag:e=>ka(e)||Ma(e),isPreTag:e=>e==="pre",decodeEntities:Lv,isBuiltInComponent:e=>{if(qn(e,"Transition"))return ca;if(qn(e,"TransitionGroup"))return qd},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(Fv(e))return 2}return 0}},xv=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:re("style",!0,t.loc),exp:kv(t.value.content,t.loc),modifiers:[],loc:t.loc})})},kv=(e,t)=>{const n=xa(e);return re(JSON.stringify(n),!1,t,3)};function Et(e,t){return de(e,t,Mv)}const Mv={[51]:"v-html is missing expression.",[52]:"v-html will override element children.",[53]:"v-text is missing expression.",[54]:"v-text will override element children.",[55]:"v-model can only be used on <input>, <textarea> and <select> elements.",[56]:"v-model argument is not supported on plain elements.",[57]:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",[58]:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",[59]:"v-show is missing expression.",[60]:"<Transition> expects exactly one child element or component.",[61]:"Tags with side effect (<script> and <style>) are ignored in client component templates."},Dv=(e,t,n)=>{const{exp:s,loc:i}=e;return s||n.onError(Et(51,i)),t.children.length&&(n.onError(Et(52,i)),t.children.length=0),{props:[be(re("innerHTML",!0,i),s||re("",!0))]}},$v=(e,t,n)=>{const{exp:s,loc:i}=e;return s||n.onError(Et(53,i)),t.children.length&&(n.onError(Et(54,i)),t.children.length=0),{props:[be(re("textContent",!0),s?mt(s,n)>0?s:Ae(n.helperString(Tr),[s],i):re("",!0))]}},Uv=(e,t,n)=>{const s=Dd(e,t,n);if(!s.props.length||t.tagType===1)return s;e.arg&&n.onError(Et(56,e.arg.loc));function i(){const l=ys(t,"value");l&&n.onError(Et(58,l.loc))}const{tag:r}=t,o=n.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||o){let l=jd,a=!1;if(r==="input"||o){const c=ys(t,"type");if(c){if(c.type===7)l=aa;else if(c.value)switch(c.value.content){case"radio":l=Vd;break;case"checkbox":l=Bd;break;case"file":a=!0,n.onError(Et(57,e.loc));break;default:i();break}}else fb(t)?l=aa:i()}else r==="select"?l=Hd:i();a||(s.needRuntime=n.helper(l))}else n.onError(Et(55,e.loc));return s.props=s.props.filter(l=>!(l.key.type===4&&l.key.content==="modelValue")),s},Vv=Pe("passive,once,capture"),Bv=Pe("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),jv=Pe("left,right"),Yd=Pe("onkeyup,onkeydown,onkeypress",!0),Hv=(e,t,n,s)=>{const i=[],r=[],o=[];for(let l=0;l<t.length;l++){const a=t[l];a==="native"&&Jn("COMPILER_V_ON_NATIVE",n,s)||Vv(a)?o.push(a):jv(a)?ze(e)?Yd(e.content)?i.push(a):r.push(a):(i.push(a),r.push(a)):Bv(a)?r.push(a):i.push(a)}return{keyModifiers:i,nonKeyModifiers:r,eventOptionModifiers:o}},Jd=(e,t)=>ze(e)&&e.content.toLowerCase()==="onclick"?re(t,!0):e.type!==4?_t(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Kv=(e,t,n)=>xd(e,t,n,s=>{const{modifiers:i}=e;if(!i.length)return s;let{key:r,value:o}=s.props[0];const{keyModifiers:l,nonKeyModifiers:a,eventOptionModifiers:c}=Hv(r,i,n,e.loc);if(a.includes("right")&&(r=Jd(r,"onContextmenu")),a.includes("middle")&&(r=Jd(r,"onMouseup")),a.length&&(o=Ae(n.helper(Kd),[o,JSON.stringify(a)])),l.length&&(!ze(r)||Yd(r.content))&&(o=Ae(n.helper(Wd),[o,JSON.stringify(l)])),c.length){const f=c.map(It).join("");r=ze(r)?re(`${r.content}${f}`,!0):_t(["(",r,`) + "${f}"`])}return{props:[be(r,o)]}}),Wv=(e,t,n)=>{const{exp:s,loc:i}=e;return s||n.onError(Et(59,i)),{props:[],needRuntime:n.helper(Gd)}},Gv=(e,t)=>{if(e.type===1&&e.tagType===1&&t.isBuiltInComponent(e.tag)===ca)return()=>{if(!e.children.length)return;zd(e)&&t.onError(Et(60,{start:e.children[0].loc.start,end:e.children[e.children.length-1].loc.end,source:""}));const s=e.children[0];if(s.type===1)for(const i of s.props)i.type===7&&i.name==="show"&&e.props.push({type:6,name:"persisted",value:void 0,loc:e.loc})}};function zd(e){const t=e.children=e.children.filter(s=>s.type!==3&&!(s.type===2&&!s.content.trim())),n=t[0];return t.length!==1||n.type===11||n.type===9&&n.branches.some(zd)}const qv=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(Et(61,e.loc)),t.removeNode())},Yv=[xv,Gv],Jv={cloak:Rv,html:Dv,text:$v,model:Uv,on:Kv,show:Wv};function zv(e,t={}){return Iv(e,Q({},Nv,t,{nodeTransforms:[qv,...Yv,...t.nodeTransforms||[]],directiveTransforms:Q({},Jv,t.directiveTransforms||{}),transformHoist:null}))}const Xd=Object.create(null);function Zd(e,t){if(!ee(e))if(e.nodeType)e=e.innerHTML;else return O("invalid template option: ",e),Ce;const n=e,s=Xd[n];if(s)return s;if(e[0]==="#"){const l=document.querySelector(e);l||O(`Template element not found or is empty: ${e}`),e=l?l.innerHTML:""}(!t||!t.whitespace)&&st("CONFIG_WHITESPACE",null);const{code:i}=zv(e,Q({hoistStatic:!0,whitespace:"preserve",onError:r,onWarn:l=>r(l,!0)},t));function r(l,a=!1){const c=a?l.message:`Template compilation error: ${l.message}`,f=l.loc&&Gh(e,l.loc.start.offset,l.loc.end.offset);O(f?`${c}
${f}`:c)}const o=new Function("Vue",i)(Jf);return o._rc=!0,Xd[n]=o}rf(Zd);const Xv=zy();Xv.compile=Zd;var Zv=!1;function Kr(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function ua(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function Qv(){return Qd().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Qd(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const ew=typeof Proxy=="function",tw="devtools-plugin:setup",nw="plugin:settings:set";let _s,fa;function sw(){var e;return _s!==void 0||(typeof window<"u"&&window.performance?(_s=!0,fa=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(_s=!0,fa=global.perf_hooks.performance):_s=!1),_s}function iw(){return sw()?fa.now():Date.now()}class rw{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const s={};if(t.settings)for(const o in t.settings){const l=t.settings[o];s[o]=l.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},s);try{const o=localStorage.getItem(i),l=JSON.parse(o);Object.assign(r,l)}catch{}this.fallbacks={getSettings(){return r},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}r=o},now(){return iw()}},n&&n.on(nw,(o,l)=>{o===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(o,l)=>this.target?this.target.on[l]:(...a)=>{this.onQueue.push({method:l,args:a})}}),this.proxiedTarget=new Proxy({},{get:(o,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...a)=>(this.targetQueue.push({method:l,args:a,resolve:()=>{}}),this.fallbacks[l](...a)):(...a)=>new Promise(c=>{this.targetQueue.push({method:l,args:a,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function eh(e,t){const n=e,s=Qd(),i=Qv(),r=ew&&n.enableEarlyProxy;if(i&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))i.emit(tw,e,t);else{const o=r?new rw(n,i):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * pinia v2.0.29
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let da;const Ei=e=>da=e,th=Symbol("pinia");function Xn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var At;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(At||(At={}));const Wr=typeof window<"u",Gr=Wr,nh=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function ow(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function ha(e,t,n){const s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){rh(s.response,t,n)},s.onerror=function(){console.error("could not download file")},s.send()}function sh(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qr(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const Yr=typeof navigator=="object"?navigator:{userAgent:""},ih=(()=>/Macintosh/.test(Yr.userAgent)&&/AppleWebKit/.test(Yr.userAgent)&&!/Safari/.test(Yr.userAgent))(),rh=Wr?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!ih?lw:"msSaveOrOpenBlob"in Yr?aw:cw:()=>{};function lw(e,t="download",n){const s=document.createElement("a");s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?sh(s.href)?ha(e,t,n):(s.target="_blank",qr(s)):qr(s)):(s.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(s.href)},4e4),setTimeout(function(){qr(s)},0))}function aw(e,t="download",n){if(typeof e=="string")if(sh(e))ha(e,t,n);else{const s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){qr(s)})}else navigator.msSaveOrOpenBlob(ow(e,n),t)}function cw(e,t,n,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return ha(e,t,n);const i=e.type==="application/octet-stream",r=/constructor/i.test(String(nh.HTMLElement))||"safari"in nh,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&r||ih)&&typeof FileReader<"u"){const l=new FileReader;l.onloadend=function(){let a=l.result;if(typeof a!="string")throw s=null,new Error("Wrong reader.result type");a=o?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=a:location.assign(a),s=null},l.readAsDataURL(e)}else{const l=URL.createObjectURL(e);s?s.location.assign(l):location.href=l,s=null,setTimeout(function(){URL.revokeObjectURL(l)},4e4)}}function Re(e,t){const n=" "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,t):t==="error"?console.error(n):t==="warn"?console.warn(n):console.log(n)}function pa(e){return"_a"in e&&"install"in e}function oh(){if(!("clipboard"in navigator))return Re("Your browser doesn't support the Clipboard API","error"),!0}function lh(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(Re('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function uw(e){if(!oh())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),Re("Global state copied to clipboard.")}catch(t){if(lh(t))return;Re("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function fw(e){if(!oh())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),Re("Global state pasted from clipboard.")}catch(t){if(lh(t))return;Re("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function dw(e){try{rh(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){Re("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let Jt;function hw(){Jt||(Jt=document.createElement("input"),Jt.type="file",Jt.accept=".json");function e(){return new Promise((t,n)=>{Jt.onchange=async()=>{const s=Jt.files;if(!s)return t(null);const i=s.item(0);return t(i?{text:await i.text(),file:i}:null)},Jt.oncancel=()=>t(null),Jt.onerror=n,Jt.click()})}return e}async function pw(e){try{const n=await(await hw())();if(!n)return;const{text:s,file:i}=n;e.state.value=JSON.parse(s),Re(`Global state imported from "${i.name}".`)}catch(t){Re("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function St(e){return{_custom:{display:e}}}const ah=" Pinia (root)",ma="_root";function mw(e){return pa(e)?{id:ma,label:ah}:{id:e.$id,label:e.$id}}function gw(e){if(pa(e)){const n=Array.from(e._s.keys()),s=e._s;return{state:n.map(r=>({editable:!0,key:r,value:e.state.value[r]})),getters:n.filter(r=>s.get(r)._getters).map(r=>{const o=s.get(r);return{editable:!1,key:r,value:o._getters.reduce((l,a)=>(l[a]=o[a],l),{})}})}}const t={state:Object.keys(e.$state).map(n=>({editable:!0,key:n,value:e.$state[n]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(n=>({editable:!1,key:n,value:e[n]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(n=>({editable:!0,key:n,value:e[n]}))),t}function yw(e){return e?Array.isArray(e)?e.reduce((t,n)=>(t.keys.push(n.key),t.operations.push(n.type),t.oldValue[n.key]=n.oldValue,t.newValue[n.key]=n.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:St(e.type),key:St(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function bw(e){switch(e){case At.direct:return"mutation";case At.patchFunction:return"$patch";case At.patchObject:return"$patch";default:return"unknown"}}let Es=!0;const Jr=[],Zn="pinia:mutations",Me="pinia",zr=e=>" "+e;function vw(e,t){eh({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Jr,app:e},n=>{typeof n.now!="function"&&Re("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Zn,label:"Pinia ",color:15064968}),n.addInspector({id:Me,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{uw(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await fw(t),n.sendInspectorTree(Me),n.sendInspectorState(Me)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{dw(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await pw(t),n.sendInspectorTree(Me),n.sendInspectorState(Me)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:s=>{const i=t._s.get(s);i?i._isOptionsAPI?(i.$reset(),Re(`Store "${s}" reset.`)):Re(`Cannot reset "${s}" store because it's a setup store.`,"warn"):Re(`Cannot reset "${s}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((s,i)=>{const r=s.componentInstance&&s.componentInstance.proxy;if(r&&r._pStores){const o=s.componentInstance.proxy._pStores;Object.values(o).forEach(l=>{s.instanceData.state.push({type:zr(l.$id),key:"state",editable:!0,value:l._isOptionsAPI?{_custom:{value:te(l.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>l.$reset()}]}}:Object.keys(l.$state).reduce((a,c)=>(a[c]=l.$state[c],a),{})}),l._getters&&l._getters.length&&s.instanceData.state.push({type:zr(l.$id),key:"getters",editable:!1,value:l._getters.reduce((a,c)=>{try{a[c]=l[c]}catch(f){a[c]=f}return a},{})})})}}),n.on.getInspectorTree(s=>{if(s.app===e&&s.inspectorId===Me){let i=[t];i=i.concat(Array.from(t._s.values())),s.rootNodes=(s.filter?i.filter(r=>"$id"in r?r.$id.toLowerCase().includes(s.filter.toLowerCase()):ah.toLowerCase().includes(s.filter.toLowerCase())):i).map(mw)}}),n.on.getInspectorState(s=>{if(s.app===e&&s.inspectorId===Me){const i=s.nodeId===ma?t:t._s.get(s.nodeId);if(!i)return;i&&(s.state=gw(i))}}),n.on.editInspectorState((s,i)=>{if(s.app===e&&s.inspectorId===Me){const r=s.nodeId===ma?t:t._s.get(s.nodeId);if(!r)return Re(`store "${s.nodeId}" not found`,"error");const{path:o}=s;pa(r)?o.unshift("state"):(o.length!==1||!r._customProperties.has(o[0])||o[0]in r.$state)&&o.unshift("$state"),Es=!1,s.set(r,o,s.state.value),Es=!0}}),n.on.editComponentState(s=>{if(s.type.startsWith("")){const i=s.type.replace(/^\s*/,""),r=t._s.get(i);if(!r)return Re(`store "${i}" not found`,"error");const{path:o}=s;if(o[0]!=="state")return Re(`Invalid path for store "${i}":
${o}
Only state can be modified.`);o[0]="$state",Es=!1,s.set(r,o,s.state.value),Es=!0}})})}function ww(e,t){Jr.includes(zr(t.$id))||Jr.push(zr(t.$id)),eh({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Jr,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const s=typeof n.now=="function"?n.now.bind(n):Date.now;t.$onAction(({after:o,onError:l,name:a,args:c})=>{const f=ch++;n.addTimelineEvent({layerId:Zn,event:{time:s(),title:" "+a,subtitle:"start",data:{store:St(t.$id),action:St(a),args:c},groupId:f}}),o(u=>{Qn=void 0,n.addTimelineEvent({layerId:Zn,event:{time:s(),title:" "+a,subtitle:"end",data:{store:St(t.$id),action:St(a),args:c,result:u},groupId:f}})}),l(u=>{Qn=void 0,n.addTimelineEvent({layerId:Zn,event:{time:s(),logType:"error",title:" "+a,subtitle:"end",data:{store:St(t.$id),action:St(a),args:c,error:u},groupId:f}})})},!0),t._customProperties.forEach(o=>{kn(()=>Eo(t[o]),(l,a)=>{n.notifyComponentUpdate(),n.sendInspectorState(Me),Es&&n.addTimelineEvent({layerId:Zn,event:{time:s(),title:"Change",subtitle:o,data:{newValue:l,oldValue:a},groupId:Qn}})},{deep:!0})}),t.$subscribe(({events:o,type:l},a)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Me),!Es)return;const c={time:s(),title:bw(l),data:{store:St(t.$id),...yw(o)},groupId:Qn};Qn=void 0,l===At.patchFunction?c.subtitle="":l===At.patchObject?c.subtitle="":o&&!Array.isArray(o)&&(c.subtitle=o.type),o&&(c.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),n.addTimelineEvent({layerId:Zn,event:c})},{detached:!0,flush:"sync"});const i=t._hotUpdate;t._hotUpdate=ct(o=>{i(o),n.addTimelineEvent({layerId:Zn,event:{time:s(),title:" "+t.$id,subtitle:"HMR update",data:{store:St(t.$id),info:St("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Me),n.sendInspectorState(Me)});const{$dispose:r}=t;t.$dispose=()=>{r(),n.notifyComponentUpdate(),n.sendInspectorTree(Me),n.sendInspectorState(Me),n.getSettings().logStoreChanges&&Re(`Disposed "${t.$id}" store `)},n.notifyComponentUpdate(),n.sendInspectorTree(Me),n.sendInspectorState(Me),n.getSettings().logStoreChanges&&Re(`"${t.$id}" store installed `)})}let ch=0,Qn;function uh(e,t){const n=t.reduce((s,i)=>(s[i]=te(e)[i],s),{});for(const s in n)e[s]=function(){const i=ch,r=new Proxy(e,{get(...o){return Qn=i,Reflect.get(...o)},set(...o){return Qn=i,Reflect.set(...o)}});return n[s].apply(r,arguments)}}function _w({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),typeof n.state=="function"){uh(t,Object.keys(n.actions));const s=t._hotUpdate;te(t)._hotUpdate=function(i){s.apply(this,arguments),uh(t,Object.keys(i._hmrPayload.actions))}}ww(e,t)}}function Ew(){const e=fo(!0),t=e.run(()=>Rn({}));let n=[],s=[];const i=ct({install(r){Ei(i),i._a=r,r.provide(th,i),r.config.globalProperties.$pinia=i,Gr&&vw(r,i),s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!Zv?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return Gr&&typeof Proxy<"u"&&i.use(_w),i}function fh(e,t){for(const n in t){const s=t[n];if(!(n in e))continue;const i=e[n];Xn(i)&&Xn(s)&&!me(s)&&!nt(s)?e[n]=fh(i,s):e[n]=s}return e}const Aw=()=>{};function dh(e,t,n,s=Aw){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&qa()&&Ya(i),i}function As(e,...t){e.slice().forEach(n=>{n(...t)})}function ga(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];Xn(i)&&Xn(s)&&e.hasOwnProperty(n)&&!me(s)&&!nt(s)?e[n]=ga(i,s):e[n]=s}return e}const Sw=Symbol("pinia:skipHydration");function Cw(e){return!Xn(e)||!e.hasOwnProperty(Sw)}const{assign:Ct}=Object;function hh(e){return!!(me(e)&&e.effect)}function ph(e,t,n,s){const{state:i,actions:r,getters:o}=t,l=n.state.value[e];let a;function c(){!l&&!s&&(n.state.value[e]=i?i():{});const f=So(s?Rn(i?i():{}).value:n.state.value[e]);return Ct(f,r,Object.keys(o||{}).reduce((u,d)=>(d in f&&console.warn(`[]: A getter cannot have the same name as another state property. Rename one of them. Found with "${d}" in store "${e}".`),u[d]=ct(yr(()=>{Ei(n);const p=n._s.get(e);return o[d].call(p,p)})),u),{}))}return a=ya(e,c,t,n,s,!0),a.$reset=function(){const u=i?i():{};this.$patch(d=>{Ct(d,u)})},a}function ya(e,t,n={},s,i,r){let o;const l=Ct({actions:{}},n);if(!s._e.active)throw new Error("Pinia destroyed");const a={deep:!0};a.onTrigger=g=>{c?p=g:c==!1&&!T._hotUpdating&&(Array.isArray(p)?p.push(g):console.error(" debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let c,f,u=ct([]),d=ct([]),p;const v=s.state.value[e];!r&&!v&&!i&&(s.state.value[e]={});const _=Rn({});let C;function w(g){let A;c=f=!1,p=[],typeof g=="function"?(g(s.state.value[e]),A={type:At.patchFunction,storeId:e,events:p}):(ga(s.state.value[e],g),A={type:At.patchObject,payload:g,storeId:e,events:p});const y=C=Symbol();Nn().then(()=>{C===y&&(c=!0)}),f=!0,As(u,A,s.state.value[e])}const m=()=>{throw new Error(`: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function S(){o.stop(),u=[],d=[],s._s.delete(e)}function P(g,A){return function(){Ei(s);const y=Array.from(arguments),R=[],k=[];function $(B){R.push(B)}function H(B){k.push(B)}As(d,{args:y,name:g,store:T,after:$,onError:H});let N;try{N=A.apply(this&&this.$id===e?this:T,y)}catch(B){throw As(k,B),B}return N instanceof Promise?N.then(B=>(As(R,B),B)).catch(B=>(As(k,B),Promise.reject(B))):(As(R,N),N)}}const I=ct({actions:{},getters:{},state:[],hotState:_}),D={_p:s,$id:e,$onAction:dh.bind(null,d),$patch:w,$reset:m,$subscribe(g,A={}){const y=dh(u,g,A.detached,()=>R()),R=o.run(()=>kn(()=>s.state.value[e],k=>{(A.flush==="sync"?f:c)&&g({storeId:e,type:At.direct,events:p},k)},Ct({},a,A)));return y},$dispose:S},T=jt(Ct({_hmrPayload:I,_customProperties:ct(new Set)},D));s._s.set(e,T);const b=s._e.run(()=>(o=fo(),o.run(()=>t())));for(const g in b){const A=b[g];if(me(A)&&!hh(A)||nt(A))i?Kr(_.value,g,Ds(b,g)):r||(v&&Cw(A)&&(me(A)?A.value=v[g]:ga(A,v[g])),s.state.value[e][g]=A),I.state.push(g);else if(typeof A=="function"){const y=i?A:P(g,A);b[g]=y,I.actions[g]=A,l.actions[g]=A}else hh(A)&&(I.getters[g]=r?n.getters[g]:A,Wr&&(b._getters||(b._getters=ct([]))).push(g))}if(Ct(T,b),Ct(te(T),b),Object.defineProperty(T,"$state",{get:()=>i?_.value:s.state.value[e],set:g=>{if(i)throw new Error("cannot set hotState");w(A=>{Ct(A,g)})}}),T._hotUpdate=ct(g=>{T._hotUpdating=!0,g._hmrPayload.state.forEach(A=>{if(A in T.$state){const y=g.$state[A],R=T.$state[A];typeof y=="object"&&Xn(y)&&Xn(R)?fh(y,R):g.$state[A]=R}Kr(T,A,Ds(g.$state,A))}),Object.keys(T.$state).forEach(A=>{A in g.$state||ua(T,A)}),c=!1,f=!1,s.state.value[e]=Ds(g._hmrPayload,"hotState"),f=!0,Nn().then(()=>{c=!0});for(const A in g._hmrPayload.actions){const y=g[A];Kr(T,A,P(A,y))}for(const A in g._hmrPayload.getters){const y=g._hmrPayload.getters[A],R=r?yr(()=>(Ei(s),y.call(T,T))):y;Kr(T,A,R)}Object.keys(T._hmrPayload.getters).forEach(A=>{A in g._hmrPayload.getters||ua(T,A)}),Object.keys(T._hmrPayload.actions).forEach(A=>{A in g._hmrPayload.actions||ua(T,A)}),T._hmrPayload=g._hmrPayload,T._getters=g._getters,T._hotUpdating=!1}),Gr){const g={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(A=>{Object.defineProperty(T,A,{value:T[A],...g})})}return s._p.forEach(g=>{if(Gr){const A=o.run(()=>g({store:T,app:s._a,pinia:s,options:l}));Object.keys(A||{}).forEach(y=>T._customProperties.add(y)),Ct(T,A)}else Ct(T,o.run(()=>g({store:T,app:s._a,pinia:s,options:l})))}),T.$state&&typeof T.$state=="object"&&typeof T.$state.constructor=="function"&&!T.$state.constructor.toString().includes("[native code]")&&console.warn(`[]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${T.$id}".`),v&&r&&n.hydrate&&n.hydrate(T.$state,v),c=!0,f=!0,T}function Tw(e,t,n){let s,i;const r=typeof t=="function";typeof e=="string"?(s=e,i=r?n:t):(i=e,s=e.id);function o(l,a){const c=ft();if(l=l||c&&an(th,null),l&&Ei(l),!da)throw new Error(`[]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);l=da,l._s.has(s)||(r?ya(s,t,i,l):ph(s,i,l),o._pinia=l);const f=l._s.get(s);if(a){const u="__hot:"+s,d=r?ya(u,t,i,l,!0):ph(u,Ct({},i),l,!0);a._hotUpdate(d),delete l.state.value[u],l._s.delete(u)}if(Wr&&c&&c.proxy&&!a){const u=c.proxy,d="_pStores"in u?u._pStores:u._pStores={};d[s]=f}return f}return o.$id=s,o}class mh{constructor(){this.newEntry=new Vt({})}}const Pw={latestConnectionError:"",lastKeePassRPCRefresh:0,ActiveKeePassDatabaseIndex:-1,KeePassDatabases:[],PasswordProfiles:[],notifications:[],connected:!1,connectedWebsocket:!1,currentSearchTerm:null,loginsFound:!1,searchResults:null,saveState:new mh,generatedPassword:"",saveEntryResult:{result:null,receivedAt:new Date,fileName:null,uuid:null},entryUpdateStartedAtTimestamp:0};var ba=(e=>(e.Event="event",e.Websocket="websocket",e))(ba||{});function Ow(e,t){return Tw(e,t)}const gh=Ow("kee",{state:()=>Pw,getters:{showGeneratePasswordLink:e=>e.connected,showMatchedLogins:e=>!!e.loginsFound,showNotifications:e=>e.notifications&&!!e.notifications.length,databaseIsOpen:e=>e.connected&&!!e.KeePassDatabases.length,databaseName:e=>{if(e.KeePassDatabases&&e.KeePassDatabases.length&&e.ActiveKeePassDatabaseIndex>=0){const t=e.KeePassDatabases[e.ActiveKeePassDatabaseIndex];return t.name?t.name:t.fileName.replace(/^.*[\\/]/,"")}return""},connectionStatus(e){return e.connected?e.KeePassDatabases.length>1?oo("multiplePasswordSourcesEnabled",[e.KeePassDatabases.length.toString()]):e.KeePassDatabases.length==1?this.databaseName:Ut("notifyBarLoginToKeePassButton_tip"):Ut("notifyBarLaunchKeePassButton_tip")},connectionStatusDetail(e){if(e.connected){if(e.KeePassDatabases.length>1)return oo("loggedInMultiple_tip",[e.KeePassDatabases.length.toString(),this.databaseName]);if(e.KeePassDatabases.length==1)return oo("loggedIn_tip",this.databaseName)}return Ut("notifyBarLaunchKeePass_label")},showOpenKeePassButton:e=>{if(e.connectedWebsocket){const t=e.KeePassDatabases.some(s=>s.sessionType===ba.Websocket),n=e.KeePassDatabases.some(s=>s.sessionType===ba.Websocket&&s.sessionFeatures.indexOf("KPRPC_OPEN_AND_FOCUS_DATABASE")>=0);return!!(!t||n)}else return!1}},actions:{updateActiveKeePassDatabaseIndex(e){this.$patch({ActiveKeePassDatabaseIndex:e})},updateConnected(e){this.$patch({connected:e})},updateConnectedWebsocket(e){this.$patch({connectedWebsocket:e})},updateCurrentSearchTerm(e){this.$patch({currentSearchTerm:e})},updateKeePassDatabases(e){this.$patch({KeePassDatabases:e})},updateLastKeePassRPCRefresh(e){this.$patch({lastKeePassRPCRefresh:e})},updateLatestConnectionError(e){this.$patch({latestConnectionError:e})},updateLoginsFound(e){this.$patch({loginsFound:e||!1})},updateNotifications(e){this.$patch({notifications:e})},updatePasswordProfiles(e){this.$patch({PasswordProfiles:e})},updateGeneratedPassword(e){this.$patch({generatedPassword:e})},updateSubmittedData(e){this.saveState||new mh,this.$patch({saveState:{submittedData:e||null}})},updateSaveState(e){this.$patch({saveState:e||null})},updateSearchResults(e){this.$patch({searchResults:e||null})},updateSearchResultWithFullDetails(e){const t=e.uuid;for(const n of this.searchResults)if(n.uuid===t){n.fullDetails=e||null;break}},addNotification(e){this.notifications.push(e)},updateSaveEntryResult(e){this.$patch({saveEntryResult:e||null})},removeFieldFromActiveEntry(e){const t=this.saveState.newEntry.fields.findIndex(i=>i.type==="text"),n=this.saveState.newEntry.fields.findIndex(i=>i.type==="password"),s=this.saveState.newEntry.fields.findIndex(i=>i.uuid===(e||null));if(this.saveState.newEntry.fields.splice(s,1),s===t){const i=this.saveState.newEntry.fields.findIndex(o=>o.type==="text");if(i<0)return;const r=this.saveState.newEntry.fields.splice(i,1)[0];this.saveState.newEntry.fields.splice(s,0,new Qe({...r,name:"KeePass username"}))}else if(s===n){const i=this.saveState.newEntry.fields.findIndex(o=>o.type==="password");if(i<0)return;const r=this.saveState.newEntry.fields.splice(i,1)[0];this.saveState.newEntry.fields.splice(s,0,new Qe({...r,name:"KeePass password"}))}},updateEntryUpdateStartedAtTimestamp(e){this.$patch({entryUpdateStartedAtTimestamp:e||null})}}});let va,wa;function Iw(){return wa||(wa=Ew()),va||(va=Ar(Zi),va.use(wa)),gh()}const yh=gh();class Rw{constructor(t,n,s,i,r,o,l){this.myPort=t,this.parentFrameId=n,this.formUtils=s,this.formSaving=i,this.Logger=r,this.config=o,this.matchFinder=l,this.findLoginOp={},this.matchResult=new Vh,this.formFinderTimer=null,this.keeFieldIcon=new Uh(t,n,s,this.createMatchedLoginsPanelNearNode.bind(this))}executePrimaryAction(){this.matchResult.entries&&this.matchResult.entries.length>0&&this.matchResult.mostRelevantFormIndex!=null&&this.matchResult.mostRelevantFormIndex>=0&&(this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length==1?(this.fillAndSubmit(!1,this.matchResult.mostRelevantFormIndex,0),this.closeMatchedLoginsPanel()):this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length>1&&(this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Ps(Sn.MatchedLogins,null,this.parentFrameId),this.matchedLoginsPanelStub.createPanel()))}createMatchedLoginsPanelInCenter(t){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Ps(Sn.MatchedLogins,null,t),this.matchedLoginsPanelStub.createPanel()}createMatchedLoginsPanelNearNode(t){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Ps(Sn.MatchedLogins,t,this.parentFrameId),this.matchedLoginsPanelStub.createPanel(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}closeMatchedLoginsPanel(){this.matchedLoginsPanelStub&&this.matchedLoginsPanelStub.closePanel(),this.matchedLoginsPanelStub=null,cancelAnimationFrame(this.matchedLoginsPanelStubRaf)}updateMatchedLoginsPanelPosition(){this.matchedLoginsPanelStub.updateBoundingClientRect(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}calculateFieldMatchScore(t,n,s,i,r){const o=t.field;let l=1;return o.type!==n.type?0:(o.locators[0].id!=null&&o.locators[0].id!=null&&o.locators[0].id!=""&&o.locators[0].id==n.locators[0].id?l+=50:i.punishWrongIDAndName&&n.locators[0].id&&(l-=5),o.locators[0].name!=null&&o.locators[0].name!=null&&o.locators[0].name!=""&&o.locators[0].name==n.locators[0].name?l+=40:i.punishWrongIDAndName&&n.locators[0].name&&(l-=5),o.locators[0].type==="radio"&&o.value!=null&&o.value!=null&&o.value!=""&&o.value==n.value&&(l+=30),r===void 0&&this.formUtils.isDOMElementVisible(t.DOMelement)&&(r=!0),l+=r?35:0,l)}fillMatchedFields(t,n,s,i){t.sort(function(o,l){return l.score-o.score});const r=[];for(;t.length>0&&t[0].score>0;){const o=t[0].formFieldIndex,l=t[0].dataFieldIndex,a=s[o],c=n[l],f=a.DOMelement,u=this.getFormFieldCurrentValue(f,a.field.locators[0].type);i&&u&&u!==f.keeInitialDetectedValue?this.Logger.info("Not filling field because it's not empty and was edited by user since last load/fill"):i&&u&&!at.current.autoFillFieldsWithExistingValue?this.Logger.info("Not filling field because it's not empty and user preference is to prevent automatic fill"):(this.Logger.info("We will populate field "+o+" (id:"+a.field.locators[0].id+")"),this.fillASingleField(f,a.field.locators[0].type,c.value)),r.push({id:a.field.locators[0].id,DOMelement:f,name:a.field.locators[0].name,value:c.value}),t=t.filter(function(d){return d.dataFieldIndex!=l&&d.formFieldIndex!=o}),t.sort(function(d,p){return p.score-d.score})}return r}getFormFieldCurrentValue(t,n){let s=t.value;return t instanceof HTMLInputElement&&n==="checkbox"&&(t.checked?s="KEEFOX_CHECKED_FLAG_TRUE":s="KEEFOX_CHECKED_FLAG_FALSE"),s}fillASingleField(t,n,s){n=="select-one"?t.value=s:t instanceof HTMLInputElement&&n=="checkbox"?s=="KEEFOX_CHECKED_FLAG_TRUE"?t.checked=!0:t.checked=!1:t instanceof HTMLInputElement&&n=="radio"?t.checked=!0:t.value=s,t.keeInitialDetectedValue=s,t.dispatchEvent(new UIEvent("input",{view:window,bubbles:!0,cancelable:!0})),t.dispatchEvent(new UIEvent("change",{view:window,bubbles:!0,cancelable:!0}))}fillManyFormFields(t,n,s,i,r){if(this.Logger.debug("_fillManyFormFields started"),t==null||t==null||n==null||n==null)return;this.Logger.debug("We've received the data we need"),this.Logger.info("Filling form fields for page "+s);const o=[];for(let l=0;l<t.length;l++)for(let a=0;a<n.length;a++){const c=this.calculateFieldMatchScore(t[l],n[a],s,i);this.Logger.debug("Suitability of putting data field "+a+" into form field "+l+" (id: "+t[l].field.locators[0].id+") is "+c),o.push({score:c,dataFieldIndex:a,formFieldIndex:l})}return this.fillMatchedFields(o,n,t,r)}initMatchResult(t){this.matchResult.UUID="",this.matchResult.entries=[],this.matchResult.mostRelevantFormIndex=null,this.matchResult.mustAutoFillForm=!1,this.matchResult.cannotAutoFillForm=!1,this.matchResult.mustAutoSubmitForm=!1,this.matchResult.cannotAutoSubmitForm=!1,t.UUID!=null&&t.UUID!=null&&t.UUID!=""&&(this.matchResult.UUID=t.UUID,this.matchResult.dbFileName=t.dbFileName,this.matchResult.mustAutoFillForm=!0,t.mustAutoSubmitForm&&(this.matchResult.mustAutoSubmitForm=!0)),this.matchResult.doc=window.document,this.matchResult.formReadyForSubmit=!1,this.matchResult.autofillOnSuccess=t.autofillOnSuccess,this.matchResult.autosubmitOnSuccess=t.autosubmitOnSuccess,this.matchResult.notifyUserOnSuccess=t.notifyUserOnSuccess,this.matchResult.wrappers=[],this.matchResult.allMatchingLogins=[],this.matchResult.formRelevanceScores=[],this.matchResult.submitTargets=[],this.matchResult.usernameIndexArray=[],this.matchResult.passwordFieldsArray=[],this.matchResult.otherFieldsArray=[],this.matchResult.requestCount=0,this.matchResult.responseCount=0,this.matchResult.requestIds=[]}findMatchesInThisFrame(t={}){this.semanticWhitelistCache={},this.semanticBlacklistCache={},this.formFinderTimer!==null&&(clearTimeout(this.formFinderTimer),this.formFinderTimer=null),window.document.forms.length>50&&this.Logger.debug("Too many forms on this page. Assuming it is not a login page and avoiding looking for login forms in order to avoid performance impact.");let n=new Array;for(let l=0;l<window.document.forms.length;l++)n.push(window.document.forms.item(l));const s=this.scanForOrphanedFields(window.document);if(s&&(n=Array.prototype.slice.call(n),n.push(s)),!n||n.length==0){this.Logger.info("No forms found on this page.");return}const i=new URL(window.document.URL);i.hostname=punycode.toUnicode(i.hostname),this.Logger.info("Finding matches in a document. readyState: "+window.document.readyState),this.initMatchResult(t),this.matchResult.forms=n;const r=at.siteConfigFor(i.href);this.Logger.debug("findMatches processing "+n.length+" forms");let o=!1;for(let l=0;l<n.length;l++){const a=n[l];this.matchResult.entries[l]=[],this.matchResult.formRelevanceScores[l]=0,this.Logger.debug("about to get form fields");let c;try{c=this.formUtils.getFormFields(a,!1,50)}catch(w){this.Logger.debug("Lost interest in this form after finding too many fields"+w);continue}const f=c.actualUsernameIndex,u=c.pwFields,d=c.otherFields;let p=null;if(p=at.isFormInteresting(a,r,d.map(w=>w.field)),p===!1){this.Logger.debug("Lost interest in this form after inspecting field names and IDs");continue}const v=u==null||u.length<=0||u[0]==null,_=f<0||d==null||d.length<=0||d[f]==null;if(v&&(_||p!==!0)){this.Logger.debug("No password field found in this form and either there are no other fields or no whitelisted text field or form element");continue}let C;v?C=d[f].DOMelement:C=u[0].DOMelement,this.attachSubmitHandlers(a,C,l),this.matchResult.usernameIndexArray[l]=f,this.matchResult.passwordFieldsArray[l]=u,this.matchResult.otherFieldsArray[l]=d,this.matchResult.submitTargets[l]=C,o?(this.Logger.debug("form["+l+"]: reusing entries from last form."),this.findLoginOp.formIndexes.push(l)):(this.findLoginOp.forms=n,this.findLoginOp.formIndexes=[l],this.findLoginOp.wrappedBy=this.matchResult,this.matchResult.wrappers[l]=this.findLoginOp,this.matchResult.requestCount++,this.matchFinder(i.href),o=!0)}}async attachSubmitHandlers(t,n,s){try{await Promise.resolve();const i=performance.now(),r=this.findSubmitButton(t,n);this.formSaving.addSubmitHandler(r,t),we.info("Submit handlers attached asynchronously to form "+s+" in "+(performance.now()-i)+"ms")}catch(i){we.warn("Exception while adding submit handler. Message: "+i.message)}}scanForOrphanedFields(t){const n=new Date().getTime(),s=[];let i=null;const r=t.getElementsByTagName("input");for(const l of r)l.form||s.push(l);s.length>0&&(i={elements:s,id:"Kee-pseudo-form",name:"Kee-pseudo-form",ownerDocument:t,getElementsByTagName:function(){return this.elements},querySelectorAll:function(){return[]},submit:function(){},offsetParent:!0,addEventListener:function(){},removeEventListener:function(){}});const o=new Date().getTime();return this.Logger.debug("scanForOrphanedFields took: "+(o-n)),i}findLoginsResultHandler(t){if(!t)return;const n=t.filter(s=>Vt.getUsernameField(s)||Vt.getPasswordField(s));this.matchResult=this.getRelevanceOfLoginMatchesAgainstAllForms(n,this.findLoginOp,this.matchResult),this.fillAndSubmit(!0)}getRelevanceOfLoginMatchesAgainstAllForms(t,n,s){const i=JSON.stringify(t);let r=!1;for(let o=0;o<n.forms.length;o++){if(n.formIndexes.indexOf(o)==-1||(s.entries[o]=JSON.parse(i),s.entries[o].length==0))continue;this.Logger.info("match found!");const l=this.formUtils.isDOMElementVisible(s.submitTargets[o]);this.Logger.debug("formVisible: "+l);const a={other:s.otherFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement)),password:s.passwordFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement))};for(let c=0;c<s.entries[o].length;c++){const u={punishWrongIDAndName:yh.KeePassDatabases.find(v=>v.fileName===s.entries[o][c].database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},{score:d,lowFieldMatchRatio:p}=this.calculateRelevanceScore(s.entries[o][c],s.passwordFieldsArray[o],s.otherFieldsArray[o],s.currentPage,l,u,a);s.entries[o][c].relevanceScore=d,s.entries[o][c].lowFieldMatchRatio=p,s.entries[o][c].formIndex=o,s.entries[o][c].entryIndex=c,(!r||s.entries[o][c].relevanceScore>s.allMatchingLogins[c].relevanceScore)&&(this.Logger.debug("Higher relevance score found for entry "+c+" with formIndex "+s.entries[o][c].formIndex+" ("+n.forms[o].id+")"),s.allMatchingLogins[c]=s.entries[o][c])}r=!0,s.entries[o].forEach(function(c){c.relevanceScore>s.formRelevanceScores[o]&&(s.formRelevanceScores[o]=c.relevanceScore)}),this.Logger.debug("Relevance of form "+o+" ("+n.forms[o].id+") is "+s.formRelevanceScores[o])}return s}getMostRelevantForm(t){const n=this.matchResult;if(!n)return{bestFormIndex:0,bestRelevanceScore:0,bestFindMatchesResult:void 0};let s=0;return t>=0?s=t:n.formRelevanceScores.forEach((i,r)=>{this.Logger.debug("Relevance of form is "+i),i>n.formRelevanceScores[s]&&(s=r)}),this.Logger.debug("The most relevant form is #"+s),{bestFormIndex:s,bestRelevanceScore:n.formRelevanceScores[s],bestFindMatchesResult:n}}fillAndSubmit(t,n,s){this.Logger.debug("fillAndSubmit started. automated: "+t+", formIndex: "+n+", entryIndex: "+s);const i=this.matchResult;let r;if(!i)return;const o=!t&&(i.mostRelevantFormIndex!==null&&i.mostRelevantFormIndex>=0||typeof n<"u")&&typeof s<"u";o||(i.mostRelevantFormIndex=this.getMostRelevantForm().bestFormIndex),n!==null&&n>=0&&(i.mostRelevantFormIndex=n);const l=i.forms[i.mostRelevantFormIndex],a=i.passwordFieldsArray[i.mostRelevantFormIndex],c=i.otherFieldsArray[i.mostRelevantFormIndex],f=this.sortMatchedEntries(i.entries[i.mostRelevantFormIndex]),u=this.flagUserPreferredEntry(f);!o&&i.entries[i.mostRelevantFormIndex].length>0&&(this.myPort.postMessage({entries:u}),this.keeFieldIcon.addKeeIconToFields(a,c,u));let d=null,p={fill:!1,submit:!1},v=!1;if(i.cannotAutoFillForm=!1,i.cannotAutoSubmitForm=!1,t&&i.autofillOnSuccess===!1&&(i.cannotAutoFillForm=!0),t&&i.autosubmitOnSuccess===!1&&(i.cannotAutoSubmitForm=!0),!i.cannotAutoFillForm){this.Logger.debug("We are allowed to auto-fill this form."),s>=0&&(d=i.entries[i.mostRelevantFormIndex][s],i.UUID=null,i.dbFileName=null);let _=!1;if(d==null&&i.entries[i.mostRelevantFormIndex].length==1)d=i.entries[i.mostRelevantFormIndex][0],_=!0;else if(i.UUID!=null&&i.UUID!=null&&i.UUID!=""){this.Logger.debug("We've been told to use an entry with this UUID: "+i.UUID);for(let C=0;C<i.entries[i.mostRelevantFormIndex].length;C++)if(i.entries[i.mostRelevantFormIndex][C].uuid==i.UUID){d=i.entries[i.mostRelevantFormIndex][C];break}d==null&&this.Logger.warn("Could not find the required KeePass entry. Maybe the website redirected you to a different domain or hostname?")}else d==null&&(!i.entries[i.mostRelevantFormIndex]||!i.entries[i.mostRelevantFormIndex].length)?this.Logger.debug("No entries for form."):d==null&&(this.Logger.debug("Multiple entries for form, so using preferred or most relevant."),d=u.find(C=>C.isPreferredMatch)||u[0],v=!0,_=!0);if(t&&_&&d!=null&&(d.relevanceScore<1?(this.Logger.info("Our selected entry is not relevant enough to exceed our threshold so will not be auto-filled."),d=null):d.lowFieldMatchRatio&&(this.Logger.info("Our selected entry has a low field match ratio so will not be auto-filled."),d=null)),d!=null){const C=o||(t&&v&&!this.config.autoFillFormsWithMultipleMatches?!1:this.config.autoFillForms),w=o?this.config.autoSubmitMatchedForms:this.config.autoSubmitForms;if(p={fill:C,submit:w},o||(d.alwaysAutoFill&&(p.fill=!0),d.neverAutoFill&&(p.fill=!1)),(!o||!this.config.manualSubmitOverrideProhibited)&&(d.alwaysAutoSubmit&&(p.submit=!0),d.neverAutoSubmit&&(p.submit=!1)),p.fill||i.mustAutoFillForm){this.Logger.debug("Going to auto-fill a form");const S={punishWrongIDAndName:yh.KeePassDatabases.find(D=>D.fileName===d.database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},P=this.fillManyFormFields(c,d.fields.filter(D=>D.type!=="password"),-1,S,t),I=this.fillManyFormFields(a,d.fields.filter(D=>D.type==="password"),-1,S,t);i.formReadyForSubmit=!0,i.lastFilledPasswords=I,i.lastFilledOther=P,I&&I.length>0?r=I[0].DOMelement:P&&P.length>0&&(r=P[0].DOMelement),this.formSaving.updateMatchResult(i)}}}i.formReadyForSubmit&&(i.UUID==null||i.UUID==null||i.UUID=="")&&(this.Logger.debug("Syncing UUID to: "+d.uuid),i.UUID=d.uuid,i.dbFileName=d.database.fileName),!i.cannotAutoSubmitForm&&(p.submit||i.mustAutoSubmitForm)&&i.formReadyForSubmit?(this.Logger.info("Auto-submitting form..."),this.submitForm(l,r)):o?this.Logger.debug("Matched entry request is not being auto-submitted."):this.matchResult.allMatchingLogins.length>0?t?this.Logger.debug("Automatic form fill complete."):this.Logger.debug("Manual form fill complete."):this.Logger.info("Nothing to fill.")}sortMatchedEntries(t){return t.map(n=>new Vt({...n})).sort((n,s)=>s.relevanceScore-n.relevanceScore)}flagUserPreferredEntry(t){const n=new URL(window.document.URL);n.hostname=punycode.toUnicode(n.hostname);const s=at.siteConfigFor(n.href);return t.map(i=>new Vt({...i,isPreferredMatch:s.preferredEntryUuid===i.uuid}))}findSubmitButton(t,n){const s=[];let v=0;const _=(y,R)=>this.commonAncestorDistance(y,R,C),C=new Map,w=this.formUtils;function m(y,R){v>R+60+100||((w.isDOMElementVisible(y)||!w.isDOMElementVisible(n))&&(R+=60),v>R+100)||(s.push({distance:_(y,n),element:y,score:R}),v=R)}function S(y){var k;const R=[];return y.hasAttribute("aria-label")&&R.push(y.getAttribute("aria-label").toLowerCase()),(k=y.getAttribute("aria-labelledby"))==null||k.trim().split(" ").forEach($=>{if($){const H=t.ownerDocument.getElementById($);H&&H.innerText&&R.push(H.innerText.toLowerCase())}}),R}if(Array.from(t.ownerDocument.getElementsByTagName("button")).forEach(y=>{if(y.isConnected&&(!y.type||y.type!="reset")){const R=[];y.name&&R.push(y.name.toLowerCase()),y.textContent&&R.push(y.textContent.toLowerCase()),y.value&&R.push(y.value.toLowerCase()),R.push(...S(y));let k=this.scoreAdjustmentForMagicWords(R,50,this.semanticWhitelistCache,this.semanticBlacklistCache);k+=y.form&&y.form==t?60:40,m(y,k)}}),Array.from(t.getElementsByTagName("input")).forEach(y=>{if(y.isConnected&&y.type!=null){let R=0;if(y.type=="submit"||y.type=="button"){y.name&&(R+=this.scoreAdjustmentForMagicWords([y.name.toLowerCase()],50,this.semanticWhitelistCache,this.semanticBlacklistCache));const k=[];y.value&&k.push(y.value.toLowerCase()),k.push(...S(y)),k.length>0&&(R+=this.scoreAdjustmentForMagicWords(k,40,this.semanticWhitelistCache,this.semanticBlacklistCache)),y.id&&(R+=this.scoreAdjustmentForMagicWords([y.id.toLowerCase()],20,this.semanticWhitelistCache,this.semanticBlacklistCache))}if(y.type=="submit"||y.type=="button"||y.type=="image"){let k=R;k+=y.type=="button"?30:y.type=="image"?40:50,m(y,k)}}}),Array.from(t.ownerDocument.querySelectorAll("[role=button]:not(button)")).forEach(y=>{if(!y.isConnected)return;const R=[];y.name&&R.push(y.name.toLowerCase()),y.id&&R.push(y.id.toLowerCase()),y.title&&R.push(y.title.toLowerCase()),y.innerText&&R.push(y.innerText.toLowerCase()),y.dataSet&&y.dataSet.length>0&&y.dataSet.tooltip&&R.push(y.dataSet.tooltip.toLowerCase()),R.push(...S(y));let k=this.scoreAdjustmentForMagicWords(R,50,this.semanticWhitelistCache,this.semanticBlacklistCache);k+=y.form&&y.form==t?20:10,m(y,k)}),s.length<=0)return null;if(s.length===1)return s[0].element;const P=s.sort((y,R)=>y.distance>R.distance?-1:y.distance<R.distance?1:0),I=P[0].distance-P[P.length-1].distance,D=Math.min(100,20*I);let T=1/P.length,b=P[0].distance;P.forEach((y,R,k)=>{y.distance<b&&(T=(R+1)/k.length,b=y.distance),y.score+=T*D});let g=P[0].score,A=P[0].element;for(let y=1;y<P.length;y++)P[y].score>g&&(g=P[y].score,A=P[y].element);return A}scoreAdjustmentForMagicWords(t,n,s,i){const r=["submit","login","enter","log in","signin","sign in","next","continue"],o=["reset","cancel","back","abort","undo","exit","empty","clear","captcha","totp","forgot","dismiss","delete","show","reveal"];let l=!1,a=!1;for(let c=0;c<t.length&&!l;c++){if(!t[c])continue;const f=t[c].trim();if(f){if(s[f]===!0){l=!0;break}if(s[f]!==!1)for(let u=0;u<r.length;u++)if(f.indexOf(r[u])>=0){l=!0,s[f]=!0;break}else s[f]=!1}}for(let c=0;c<t.length&&!a;c++){if(!t[c])continue;const f=t[c].trim();if(f){if(i[f]===!0){a=!0;break}if(i[f]!==!1)for(let u=0;u<o.length;u++)if(f.indexOf(o[u])>=0){a=!0,i[f]=!0;break}else i[f]=!1}}return l&&a?0:a?-1*n:l?n:0}commonAncestorDistance(t,n,s){let i=1,r=!1;const o=[];let l=0;for(;t=t.parentElement;){const a=s.get(t);if(a!==void 0){i+=a,l=a+1,r=!0;break}if(o.push(t),t.contains(n)){r=!0;break}i++}if(r){if(o.length>0)for(let a=l;a<i&&o.length>0;a++){const c=o.pop();s.set(c,a)}return i}else return 9007199254740991}submitForm(t,n){const s=this.findSubmitButton(t,n);this.formSaving.removeAllSubmitHandlers(),s!=null?(this.Logger.debug("Submiting using element: "+s.name+": "+s.id),s.click()):(this.Logger.debug("Submiting using form"),t.submit())}calculateRelevanceScore(t,n,s,i,r,o,l){let a=0,c=!1;a+=t.matchAccuracy,r||(a-=20);const f=.501,[u,d]=this.determineRelevanceScores("other",s,t.fields.filter(g=>g.type!=="password"),i,o,l.other),[p,v]=this.determineRelevanceScores("password",n,t.fields.filter(g=>g.type==="password"),i,o,l.password),_=u+p,C=n.concat(s).filter(g=>g.field.locators[0].id||g.field.locators[0].name||g.field.value).length,w=t.fields.filter(g=>g.locators[0].id||g.locators[0].name||g.value).length,m=n.concat(s).filter(g=>(g.field.type==="password"||g.field.type==="text")&&(g.field.locators[0].id||g.field.locators[0].name)).length,S=t.fields.filter(g=>(g.type==="password"||g.type==="text")&&(g.locators[0].id||g.locators[0].name||g.value)).length,P=d.filter(g=>g===!0).length+v.filter(g=>g===!0).length,I=n.filter(g=>{var A;return(A=g.field.locators[0].autocompleteValues)==null?void 0:A.some(y=>y==="new-password")}).length,D=Math.min(S+I,P)/Math.max(1,m);this.Logger.debug("formFieldCount: "+C+", loginFieldCount: "+w+", loginFieldCountForAutofill: "+S+", formFieldCountForAutofill: "+m+", formMatchedFieldCountForAutofill: "+P+", numberOfNewPasswordFields: "+I+", fieldMatchRatio: "+D),D<f&&(this.Logger.info(t.uuid+" will be forced to not auto-fill because the form field match ratio ("+D+") is not high enough."),c=!0);const b=_/Math.max(C,w)/(Math.abs(C-w)+1);return a+=b,this.Logger.info("Relevance for "+t.uuid+" is: "+a),{score:a,lowFieldMatchRatio:c}}determineRelevanceScores(t,n,s,i,r,o){var f;let l=0;const a=1,c=[];for(let u=0;u<n.length;u++){let d=0;const p=n[u].field;(f=p.locators[0].autocompleteValues)!=null&&f.some(v=>v==="new-password")&&(c[u]=!0);for(let v=0;v<s.length;v++){const _=this.calculateFieldMatchScore(n[u],s[v],i,r,o[u]);this.Logger.debug("Suitability of putting "+t+" field "+v+" into form field "+u+" (id: "+p.locators[0].id+") is "+_),_>d&&(d=_);const C=_-(o[u]?0:10);(p.type==="text"||p.type==="password")&&C>=a&&s[v].value&&!c[u]&&(c[u]=!0),(n[u].highestScore==null||_>n[u].highestScore)&&(n[u].highestScore=_)}l+=d}return[l,c]}removeKeeIconFromAllFields(){this.keeFieldIcon.removeKeeIconFromAllFields()}}class Lw{}class Fw{constructor(t){this.findLoginOps=[],this.matchResults=[],this.Logger=t}countAllDocuments(t){if(!this.isUriWeCanFill(t.location))return 0;let n=1;if(t.frames.length>0){const s=t.frames;for(let i=0;i<s.length;i++)n+=this.countAllDocuments(s[i])}return n}isUriWeCanFill(t){return t.protocol=="http:"||t.protocol=="https:"||t.protocol=="file:"}isATextFormFieldType(t){return!(t=="checkbox"||t=="select-one"||t=="radio"||t=="password"||t=="hidden"||t=="submit"||t=="button"||t=="file"||t=="image"||t=="reset")}isAKnownUsernameString(t){const n=t.toLowerCase();return n=="username"||n=="j_username"||n=="user_name"||n=="user"||n=="user-name"||n=="login"||n=="vb_login_username"||n=="name"||n=="user name"||n=="user id"||n=="user-id"||n=="userid"||n=="email"||n=="e-mail"||n=="id"||n=="form_loginname"||n=="wpname"||n=="mail"||n=="loginid"||n=="login id"||n=="login_name"||n=="openid_identifier"||n=="authentication_email"||n=="openid"||n=="auth_email"||n=="auth_id"||n=="authentication_identifier"||n=="authentication_id"||n=="customer_number"||n=="customernumber"||n=="onlineid"}getFormFields(t,n,s){var v;const i=[],r=[],o=[];let l=-1,a=-1,c=-1;const f=t.elements.length,u=f<2e3?f:2e3;for(let _=0;_<u;_++){if(o.length>s)throw new Error("Too many fields");if(t.elements[_].localName.toLowerCase()=="object"||t.elements[_].localName.toLowerCase()=="keygen"||t.elements[_].localName.toLowerCase()=="output"||t.elements[_].localName.toLowerCase()!="input"&&(t.elements[_].type==null||t.elements[_].type==null))continue;const C=t.elements[_].type.toLowerCase();if(C=="fieldset"||C!="password"&&!this.isATextFormFieldType(C)&&C!="checkbox"&&C!="radio"&&C!="select-one"||C=="radio"&&n&&t.elements[_].checked==!1||C=="password"&&n&&!t.elements[_].value||C=="select-one"&&n&&!t.elements[_].value)continue;this.Logger.debug(`processing field with domtype ${C}...`),o[o.length]={index:_,element:new Lw,type:C};let w=t.elements[_].value;C=="checkbox"&&(t.elements[_].checked?w="KEEFOX_CHECKED_FLAG_TRUE":w="KEEFOX_CHECKED_FLAG_FALSE");const m=Qe.fromDOM(t.elements[_],C,w);o[o.length-1].element.field=m,o[o.length-1].element.DOMelement=t.elements[_],C=="password"&&l==-1&&(l=o.length-1),this.isATextFormFieldType(C)&&a==-1&&(this.isAKnownUsernameString(t.elements[_].name)||(v=m.locators[0].labels)!=null&&v.some(S=>this.isAKnownUsernameString(S)))&&(a=o.length-1),t.elements[_].keeInitialDetectedValue==null&&(t.elements[_].keeInitialDetectedValue=w)}a!=-1?c=a:l>0&&(c=l-1),this.Logger.debug("usernameIndex: "+c);let d=0,p=0;for(let _=0;_<o.length;_++)o[_].type=="password"?i[i.length]=o[_].element:(this.isATextFormFieldType(o[_].type)||o[_].type=="checkbox"||o[_].type=="radio"||o[_].type=="select-one")&&(r[r.length]=o[_].element,_==c?p=d:d++);return this.Logger.debug("actualUsernameIndex: "+p),this.Logger.debug("otherFields.length:"+r.length),{actualUsernameIndex:p,pwFields:i,otherFields:r}}isDOMElementVisible(t){return!(!t.offsetParent&&t.offsetHeight===0&&t.offsetWidth===0)}}class Nw{constructor(t,n,s){this.myPort=t,this.SubmitHandlerAttachments=[],this.Logger=n,this.formUtils=s}addSubmitHandler(t,n){const s=i=>this.submitHandler(i,n);this.SubmitHandlerAttachments.push({target:t,form:n,handler:s}),t&&t.addEventListener("click",s),n.addEventListener("submit",s)}removeAllSubmitHandlers(){this.SubmitHandlerAttachments.forEach(t=>{t.target&&t.target.removeEventListener("click",t.handler),t.form.removeEventListener("submit",t.handler)}),this.SubmitHandlerAttachments=[]}updateMatchResult(t){this.matchResult=t}submitHandler(t,n){this.Logger.debug("submitHandler called"),this.removeAllSubmitHandlers();const s=n.ownerDocument,i=new URL(s.URL);if(i.hostname=punycode.toUnicode(i.hostname),at.siteConfigFor(i.href).preventSaveNotification)return;let o=!1,l=!1;const a=[];let c;try{c=this.formUtils.getFormFields(n,!0,50)}catch(w){this.Logger.warn("Lost interest in this form after finding too many fields"+w);return}const f=c.actualUsernameIndex,u=c.pwFields,d=c.otherFields;if(u.length>1){let w=-1;for(let m=0;m<u.length&&w==-1;m++)for(let S=m+1;S<u.length&&w==-1;S++)u[S].field.value==u[m].field.value&&(w=S);if(w==-1){this.Logger.debug("multiple passwords found (with no identical values)");for(let m=0;m<u.length;m++)a.push(u[m])}else this.Logger.debug("Looks like a password change form or new registration form has been submitted"),u.length==2?(a.push(u[0]),o=!1,l=!0):(o=!1,l=!1,a.push(u[w]))}else u!=null&&u[0]!=null&&u[0]!=null&&a.push(u[0]);const p=this.removeEmptyFields(a),v=this.removeEmptyFields(d),_=!this.matchResult||!this.matchResult.lastFilledPasswords||this.hasFieldBeenModified(p,this.matchResult.lastFilledPasswords),C=!this.matchResult||!this.matchResult.lastFilledOther||this.hasFieldBeenModified(v,this.matchResult.lastFilledOther);if(_||C){const w={url:i.href,fields:Qe.combineDomFieldLists(f,v.map(m=>m.field),p.map(m=>m.field)),title:s.title||i.hostname,isPasswordChangeForm:o,isRegistrationForm:l};this.myPort.postMessage({submittedData:w})}}removeEmptyFields(t){return t.filter(n=>n.field.value||n.field.type==="boolean")}hasFieldBeenModified(t,n){return!!n.find(s=>{const i=t.find(r=>s.DOMelement==r.DOMelement);return!i||i.field.value!=s.value})}}const bh=Sn.GeneratePassword;class xw{constructor(t){this.parentFrameId=t}createGeneratePasswordPanel(){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Ps(bh,null,this.parentFrameId),this.generatePasswordPanelStub.createPanel()}createGeneratePasswordPanelNearNode(t){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Ps(bh,t,this.parentFrameId),this.generatePasswordPanelStub.createPanel(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}closeGeneratePasswordPanel(){this.generatePasswordPanelStub&&this.generatePasswordPanelStub.closePanel(),this.generatePasswordPanelStub=null,cancelAnimationFrame(this.generatePasswordPanelStubRaf)}updateGeneratePasswordPanelPosition(){this.generatePasswordPanelStub.updateBoundingClientRect(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}}class kw{constructor(){this.receivedPayloads=[],this.initialized=!1,this.pendingMutations=[]}init(t,n,s,i){this.store=t,this.store.$subscribe(r=>{if(r.type==At.patchObject)this.handleLocallyGeneratedMutation(r);else throw new Error("Pinia generated a non-object mutation. We don't think we can support this and need to know that it is possible for it to happen! Tell us now or weird things will happen.")}),this.sendMutationPayload=s,this.store.$patch(n),this.initialized=!0,this.processPendingLocallySourcedMutations(),i&&i()}reset(t){this.store.$patch(t)}onRemoteMutationPayload(t){this.initialized&&(this.receivedPayloads.push(t),this.store.$patch(t))}handleLocallyGeneratedMutation(t){if(!this.initialized)return this.pendingMutations.push(t);if(!this.receivedPayloads.length)return this.sendMutationPayload(t.payload);for(let n=this.receivedPayloads.length-1;n>=0;n--)if(no(this.receivedPayloads[n],t.payload)){this.receivedPayloads.splice(n,1);break}else n==0&&this.sendMutationPayload(t.payload)}processPendingLocallySourcedMutations(){if(this.pendingMutations.length)for(let t=0;t<this.pendingMutations.length;t++)this.sendMutationPayload(this.pendingMutations[t].payload),this.pendingMutations.splice(t,1)}}class Mw{postMessage(t){this.port.postMessage(t)}startup(t){this.port=gt.runtime.connect({name:t})}shutdown(){this.port=null}get raw(){return this.port}}const Xe=new Mw;var Ai;Ai?we&&we.error?we.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ai):console.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ai):Ai=0,Ai+=1;let Xr,Le,Si,Zr,Qr,eo,_a=!1,vh,wh=!1,_h=!1,Eh,Ea;const es=Iw();if(document.body){let e=function(r){Xe.postMessage({findMatches:{uri:r}})},t=function(){if(window.location.hostname.endsWith("tutorial-addon.kee.pm")){const r=document.createElement("KeeFoxAddonStateTransferElement");r.setAttribute("state",JSON.stringify({connected:es.connected,version:gt.runtime.getManifest().version,dbLoaded:es.KeePassDatabases.length>0,sessionNames:es.KeePassDatabases.map(l=>l.sessionType.toString()).filter((l,a,c)=>c.indexOf(l)===a)})),document.documentElement.appendChild(r);const o=new Event("KeeFoxAddonStateTransferEvent",{bubbles:!0,cancelable:!1});r.dispatchEvent(o)}},n=function(r){Qr=r,we.attachConfig(at.current),Xr=new Fw(we),Si=new Nw(Xe.raw,we,Xr),Le=new Rw(Xe.raw,Qr,Xr,Si,we,at.current,e),Zr=new xw(Qr),Ea.observe(document.body,{childList:!0,subtree:!0}),t()},s=function(){we.debug("content page starting");try{i(),Xe.raw==null&&we.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){we.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}vh=window.setInterval(()=>{if(Xe.raw==null){we.info("Messaging port was not established at page startup. Retrying now...");try{i(),Xe.raw==null&&we.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){we.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}}else clearInterval(vh)},5e3),we.debug("content page ready")},i=function(){if(Xe.raw){we.warn("port already set to '"+Xe.raw.name+"'. Skipping startup because it should already be underway but is taking a long time.");return}eo=new kw(es),Xe.startup("page"),Xe.raw.onMessage.addListener(function(r){if(we.debug("In browser content page script, received message from background script"),r.initialState&&eo.init(r.initialState,o=>{Xe.postMessage({mutation:o})}),r.mutation){eo.onRemoteMutation(r.mutation);return}_a?r.action==Pt.DetectForms&&(r.resetState&&eo.reset(r.resetState),Le.removeKeeIconFromAllFields(),Si.removeAllSubmitHandlers(),es.entryUpdateStartedAtTimestamp>=Date.now()-2e4?Le.findMatchesInThisFrame({autofillOnSuccess:!1,autosubmitOnSuccess:!1}):Le.findMatchesInThisFrame()):(n(r.frameId),Le.findMatchesInThisFrame(),_a=!0),r.findMatchesResult&&Le.findLoginsResultHandler(r.findMatchesResult),r.action==Pt.ManualFill&&r.selectedEntryIndex!=null&&(Le.closeMatchedLoginsPanel(),Le.fillAndSubmit(!1,null,r.selectedEntryIndex)),r.action==Pt.ResetForms&&(Le.removeKeeIconFromAllFields(),Si.removeAllSubmitHandlers()),r.action==Pt.Primary&&Le.executePrimaryAction(),r.action==Pt.GeneratePassword&&Zr.createGeneratePasswordPanel(),r.action==Pt.CloseAllPanels&&(Zr.closeGeneratePasswordPanel(),Le.closeMatchedLoginsPanel()),r.action==Pt.ShowMatchedLoginsPanel&&Le.createMatchedLoginsPanelInCenter(r.frameId)})};Ea=new MutationObserver(r=>{if(Le.formFinderTimer!==null||!es.connected||es.ActiveKeePassDatabaseIndex<0)return;let o=!1;const l=["form","input","select"];r.forEach(a=>{if(!o&&a.type==="childList"&&a.addedNodes.length>0)for(const c of a.addedNodes){if(o)break;for(let f=0;f<l.length;f++){const u=c;if(u.querySelector&&u.querySelector(l[f])){o=!0;break}}}}),o&&(Le.formFinderTimer=window.setTimeout(Le.findMatchesInThisFrame.bind(Le),500))}),window.addEventListener("pageshow",()=>{wh=!0,clearTimeout(Eh),_h&&s()}),window.addEventListener("pagehide",()=>{Ea.disconnect(),Xe.raw&&Xe.postMessage({action:Pt.PageHide}),Le.removeKeeIconFromAllFields(),Xe.shutdown(),_a=!1,Qr=void 0,Xr=void 0,Si=void 0,Le=void 0,Zr=void 0}),at.load(()=>{_h=!0,wh?s():Eh=window.setTimeout(s,1500)})}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZ2xvYmFsLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvd2ViZXh0ZW5zaW9uLXBvbHlmaWxsL2Rpc3QvYnJvd3Nlci1wb2x5ZmlsbC5qcyIsIi4uLy4uLy4uL3NyYy9jb21tb24vY29uZmlnLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9EZWZhdWx0U2l0ZUNvbmZpZy50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vQ29uZmlnTWlncmF0aW9ucy50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vdXRpbHMudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2VyaWFsaXplLWVycm9yL2Vycm9yLWNvbnN0cnVjdG9ycy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zZXJpYWxpemUtZXJyb3IvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL0xvZ2dlci50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vQ29uZmlnTWFuYWdlci50cyIsIi4uLy4uLy4uL3NyYy9wYWdlL1BhbmVsU3R1Yi50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vQWN0aW9uLnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2Uva2VlRmllbGRJY29uLnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvTWF0Y2hSZXN1bHQudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL1Nlc3Npb25UeXBlLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9tb2RlbC9FbnRyeVN1bW1hcnkudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0dyb3VwLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9tb2RlbC9EYXRhYmFzZS50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vRG9sbGFyUG9seWZpbGxzLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9tb2RlbC9Mb2NhdG9yLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9tb2RlbC9LUFJQQ0RUT3MudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0ZpZWxkLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9tb2RlbC9Hcm91cFN1bW1hcnkudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0VudHJ5LnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvY29tcGF0L2Rpc3QvdnVlLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1kZW1pL2xpYi9pbmRleC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9kZXZ0b29scy1hcGkvbGliL2VzbS9lbnYuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9kZXZ0b29scy1hcGkvbGliL2VzbS9jb25zdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL3RpbWUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9kZXZ0b29scy1hcGkvbGliL2VzbS9wcm94eS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BpbmlhL2Rpc3QvcGluaWEubWpzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9TYXZlU3RhdGUudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvS2VlU3RhdGUudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL1Nlc3Npb25UeXBlLnRzIiwiLi4vLi4vLi4vc3JjL3N0b3JlL2luZGV4LnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvZm9ybUZpbGxpbmcudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9NYXRjaGVkRmllbGQudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9mb3Jtc1V0aWxzLnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvZm9ybVNhdmluZy50cyIsIi4uLy4uLy4uL3NyYy9wYWdlL1Bhc3N3b3JkR2VuZXJhdG9yLnRzIiwiLi4vLi4vLi4vc3JjL3N0b3JlL3N5bmNDb250ZW50LnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9wb3J0LnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvcGFnZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIiwgW1wibW9kdWxlXCJdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGZhY3RvcnkobW9kdWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbW9kID0ge1xuICAgICAgZXhwb3J0czoge31cbiAgICB9O1xuICAgIGZhY3RvcnkobW9kKTtcbiAgICBnbG9iYWwuYnJvd3NlciA9IG1vZC5leHBvcnRzO1xuICB9XG59KSh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAobW9kdWxlKSB7XG4gIC8qIHdlYmV4dGVuc2lvbi1wb2x5ZmlsbCAtIHYwLjEwLjAgLSBGcmkgQXVnIDEyIDIwMjIgMTk6NDI6NDQgKi9cblxuICAvKiAtKi0gTW9kZTogaW5kZW50LXRhYnMtbW9kZTogbmlsOyBqcy1pbmRlbnQtbGV2ZWw6IDIgLSotICovXG5cbiAgLyogdmltOiBzZXQgc3RzPTIgc3c9MiBldCB0dz04MDogKi9cblxuICAvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gICAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAgICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgaWYgKCFnbG9iYWxUaGlzLmNocm9tZT8ucnVudGltZT8uaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNjcmlwdCBzaG91bGQgb25seSBiZSBsb2FkZWQgaW4gYSBicm93c2VyIGV4dGVuc2lvbi5cIik7XG4gIH1cblxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMuYnJvd3NlciA9PT0gXCJ1bmRlZmluZWRcIiB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsVGhpcy5icm93c2VyKSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIGNvbnN0IENIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSA9IFwiVGhlIG1lc3NhZ2UgcG9ydCBjbG9zZWQgYmVmb3JlIGEgcmVzcG9uc2Ugd2FzIHJlY2VpdmVkLlwiOyAvLyBXcmFwcGluZyB0aGUgYnVsayBvZiB0aGlzIHBvbHlmaWxsIGluIGEgb25lLXRpbWUtdXNlIGZ1bmN0aW9uIGlzIGEgbWlub3JcbiAgICAvLyBvcHRpbWl6YXRpb24gZm9yIEZpcmVmb3guIFNpbmNlIFNwaWRlcm1vbmtleSBkb2VzIG5vdCBmdWxseSBwYXJzZSB0aGVcbiAgICAvLyBjb250ZW50cyBvZiBhIGZ1bmN0aW9uIHVudGlsIHRoZSBmaXJzdCB0aW1lIGl0J3MgY2FsbGVkLCBhbmQgc2luY2UgaXQgd2lsbFxuICAgIC8vIG5ldmVyIGFjdHVhbGx5IG5lZWQgdG8gYmUgY2FsbGVkLCB0aGlzIGFsbG93cyB0aGUgcG9seWZpbGwgdG8gYmUgaW5jbHVkZWRcbiAgICAvLyBpbiBGaXJlZm94IG5lYXJseSBmb3IgZnJlZS5cblxuICAgIGNvbnN0IHdyYXBBUElzID0gZXh0ZW5zaW9uQVBJcyA9PiB7XG4gICAgICAvLyBOT1RFOiBhcGlNZXRhZGF0YSBpcyBhc3NvY2lhdGVkIHRvIHRoZSBjb250ZW50IG9mIHRoZSBhcGktbWV0YWRhdGEuanNvbiBmaWxlXG4gICAgICAvLyBhdCBidWlsZCB0aW1lIGJ5IHJlcGxhY2luZyB0aGUgZm9sbG93aW5nIFwiaW5jbHVkZVwiIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhlXG4gICAgICAvLyBKU09OIGZpbGUuXG4gICAgICBjb25zdCBhcGlNZXRhZGF0YSA9IHtcbiAgICAgICAgXCJhbGFybXNcIjoge1xuICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjbGVhckFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJvb2ttYXJrc1wiOiB7XG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDaGlsZHJlblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFJlY2VudFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFN1YlRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUcmVlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwibW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJicm93c2VyQWN0aW9uXCI6IHtcbiAgICAgICAgICBcImRpc2FibGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlbmFibGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRCYWRnZUJhY2tncm91bmRDb2xvclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJhZGdlVGV4dFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJvcGVuUG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRCYWRnZUJhY2tncm91bmRDb2xvclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEJhZGdlVGV4dFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEljb25cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRQb3B1cFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFRpdGxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYnJvd3NpbmdEYXRhXCI6IHtcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUNhY2hlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlQ29va2llc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZURvd25sb2Fkc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUZvcm1EYXRhXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlSGlzdG9yeVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUxvY2FsU3RvcmFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVBhc3N3b3Jkc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVBsdWdpbkRhdGFcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvbW1hbmRzXCI6IHtcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvbnRleHRNZW51c1wiOiB7XG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJjb29raWVzXCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbENvb2tpZVN0b3Jlc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImRldnRvb2xzXCI6IHtcbiAgICAgICAgICBcImluc3BlY3RlZFdpbmRvd1wiOiB7XG4gICAgICAgICAgICBcImV2YWxcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDIsXG4gICAgICAgICAgICAgIFwic2luZ2xlQ2FsbGJhY2tBcmdcIjogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicGFuZWxzXCI6IHtcbiAgICAgICAgICAgIFwiY3JlYXRlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDMsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAzLFxuICAgICAgICAgICAgICBcInNpbmdsZUNhbGxiYWNrQXJnXCI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImVsZW1lbnRzXCI6IHtcbiAgICAgICAgICAgICAgXCJjcmVhdGVTaWRlYmFyUGFuZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJkb3dubG9hZHNcIjoge1xuICAgICAgICAgIFwiY2FuY2VsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZG93bmxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlcmFzZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZpbGVJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3BlblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInBhdXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRmlsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlc3VtZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJleHRlbnNpb25cIjoge1xuICAgICAgICAgIFwiaXNBbGxvd2VkRmlsZVNjaGVtZUFjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImlzQWxsb3dlZEluY29nbml0b0FjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImhpc3RvcnlcIjoge1xuICAgICAgICAgIFwiYWRkVXJsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlUmFuZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVVcmxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRWaXNpdHNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpMThuXCI6IHtcbiAgICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWNjZXB0TGFuZ3VhZ2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaWRlbnRpdHlcIjoge1xuICAgICAgICAgIFwibGF1bmNoV2ViQXV0aEZsb3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZGxlXCI6IHtcbiAgICAgICAgICBcInF1ZXJ5U3RhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJtYW5hZ2VtZW50XCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFNlbGZcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRFbmFibGVkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwidW5pbnN0YWxsU2VsZlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm5vdGlmaWNhdGlvbnNcIjoge1xuICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRQZXJtaXNzaW9uTGV2ZWxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwYWdlQWN0aW9uXCI6IHtcbiAgICAgICAgICBcImdldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWRlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzaG93XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicGVybWlzc2lvbnNcIjoge1xuICAgICAgICAgIFwiY29udGFpbnNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXF1ZXN0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicnVudGltZVwiOiB7XG4gICAgICAgICAgXCJnZXRCYWNrZ3JvdW5kUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBsYXRmb3JtSW5mb1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5PcHRpb25zUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlcXVlc3RVcGRhdGVDaGVja1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VuZE5hdGl2ZU1lc3NhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRVbmluc3RhbGxVUkxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXNzaW9uc1wiOiB7XG4gICAgICAgICAgXCJnZXREZXZpY2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50bHlDbG9zZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXN0b3JlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic3RvcmFnZVwiOiB7XG4gICAgICAgICAgXCJsb2NhbFwiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1hbmFnZWRcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic3luY1wiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRhYnNcIjoge1xuICAgICAgICAgIFwiY2FwdHVyZVZpc2libGVUYWJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZXRlY3RMYW5ndWFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRpc2NhcmRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkdXBsaWNhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJleGVjdXRlU2NyaXB0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Q3VycmVudFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnb0JhY2tcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnb0ZvcndhcmRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWdobGlnaHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJpbnNlcnRDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicXVlcnlcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZWxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZW5kTWVzc2FnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b3BTaXRlc1wiOiB7XG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWJOYXZpZ2F0aW9uXCI6IHtcbiAgICAgICAgICBcImdldEFsbEZyYW1lc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZyYW1lXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2ViUmVxdWVzdFwiOiB7XG4gICAgICAgICAgXCJoYW5kbGVyQmVoYXZpb3JDaGFuZ2VkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2luZG93c1wiOiB7XG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDdXJyZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0TGFzdEZvY3VzZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGFwaU1ldGFkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXBpLW1ldGFkYXRhLmpzb24gaGFzIG5vdCBiZWVuIGluY2x1ZGVkIGluIGJyb3dzZXItcG9seWZpbGxcIik7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEEgV2Vha01hcCBzdWJjbGFzcyB3aGljaCBjcmVhdGVzIGFuZCBzdG9yZXMgYSB2YWx1ZSBmb3IgYW55IGtleSB3aGljaCBkb2VzXG4gICAgICAgKiBub3QgZXhpc3Qgd2hlbiBhY2Nlc3NlZCwgYnV0IGJlaGF2ZXMgZXhhY3RseSBhcyBhbiBvcmRpbmFyeSBXZWFrTWFwXG4gICAgICAgKiBvdGhlcndpc2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY3JlYXRlSXRlbVxuICAgICAgICogICAgICAgIEEgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgaW4gb3JkZXIgdG8gY3JlYXRlIHRoZSB2YWx1ZSBmb3IgYW55XG4gICAgICAgKiAgICAgICAga2V5IHdoaWNoIGRvZXMgbm90IGV4aXN0LCB0aGUgZmlyc3QgdGltZSBpdCBpcyBhY2Nlc3NlZC4gVGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gcmVjZWl2ZXMsIGFzIGl0cyBvbmx5IGFyZ3VtZW50LCB0aGUga2V5IGJlaW5nIGNyZWF0ZWQuXG4gICAgICAgKi9cblxuXG4gICAgICBjbGFzcyBEZWZhdWx0V2Vha01hcCBleHRlbmRzIFdlYWtNYXAge1xuICAgICAgICBjb25zdHJ1Y3RvcihjcmVhdGVJdGVtLCBpdGVtcyA9IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHN1cGVyKGl0ZW1zKTtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUl0ZW0gPSBjcmVhdGVJdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB0aGlzLmNyZWF0ZUl0ZW0oa2V5KSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHN1cGVyLmdldChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBvYmplY3QgaXMgYW4gb2JqZWN0IHdpdGggYSBgdGhlbmAgbWV0aG9kLCBhbmQgY2FuXG4gICAgICAgKiB0aGVyZWZvcmUgYmUgYXNzdW1lZCB0byBiZWhhdmUgYXMgYSBQcm9taXNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRlc3QuXG4gICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdGhlbmFibGUuXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCBpc1RoZW5hYmxlID0gdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2gsIHdoZW4gY2FsbGVkLCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0XG4gICAgICAgKiB0aGUgZ2l2ZW4gcHJvbWlzZSBiYXNlZCBvbiBob3cgaXQgaXMgY2FsbGVkOlxuICAgICAgICpcbiAgICAgICAqIC0gSWYsIHdoZW4gY2FsbGVkLCBgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yYCBjb250YWlucyBhIG5vbi1udWxsIG9iamVjdCxcbiAgICAgICAqICAgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQgd2l0aCB0aGF0IHZhbHVlLlxuICAgICAgICogLSBJZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggZXhhY3RseSBvbmUgYXJndW1lbnQsIHRoZSBwcm9taXNlIGlzXG4gICAgICAgKiAgIHJlc29sdmVkIHRvIHRoYXQgdmFsdWUuXG4gICAgICAgKiAtIE90aGVyd2lzZSwgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgdG8gYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlXG4gICAgICAgKiAgIGZ1bmN0aW9uJ3MgYXJndW1lbnRzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9taXNlXG4gICAgICAgKiAgICAgICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJlc29sdXRpb24gYW5kIHJlamVjdGlvbiBmdW5jdGlvbnMgb2YgYVxuICAgICAgICogICAgICAgIHByb21pc2UuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcm9taXNlLnJlc29sdmVcbiAgICAgICAqICAgICAgICBUaGUgcHJvbWlzZSdzIHJlc29sdXRpb24gZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcm9taXNlLnJlamVjdFxuICAgICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVqZWN0aW9uIGZ1bmN0aW9uLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhXG4gICAgICAgKiAgICAgICAgTWV0YWRhdGEgYWJvdXQgdGhlIHdyYXBwZWQgbWV0aG9kIHdoaWNoIGhhcyBjcmVhdGVkIHRoZSBjYWxsYmFjay5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmdcbiAgICAgICAqICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIG9ubHkgdGhlIGZpcnN0XG4gICAgICAgKiAgICAgICAgYXJndW1lbnQgb2YgdGhlIGNhbGxiYWNrLCBhbHRlcm5hdGl2ZWx5IGFuIGFycmF5IG9mIGFsbCB0aGVcbiAgICAgICAqICAgICAgICBjYWxsYmFjayBhcmd1bWVudHMgaXMgcmVzb2x2ZWQuIEJ5IGRlZmF1bHQsIGlmIHRoZSBjYWxsYmFja1xuICAgICAgICogICAgICAgIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCBvbmx5IGEgc2luZ2xlIGFyZ3VtZW50LCB0aGF0IHdpbGwgYmVcbiAgICAgICAqICAgICAgICByZXNvbHZlZCB0byB0aGUgcHJvbWlzZSwgd2hpbGUgYWxsIGFyZ3VtZW50cyB3aWxsIGJlIHJlc29sdmVkIGFzXG4gICAgICAgKiAgICAgICAgYW4gYXJyYXkgaWYgbXVsdGlwbGUgYXJlIGdpdmVuLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICAgICAqICAgICAgICBUaGUgZ2VuZXJhdGVkIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAgICovXG5cblxuICAgICAgY29uc3QgbWFrZUNhbGxiYWNrID0gKHByb21pc2UsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAoLi4uY2FsbGJhY2tBcmdzKSA9PiB7XG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVqZWN0KG5ldyBFcnJvcihleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnIHx8IGNhbGxiYWNrQXJncy5sZW5ndGggPD0gMSAmJiBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3NbMF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoY2FsbGJhY2tBcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwbHVyYWxpemVBcmd1bWVudHMgPSBudW1BcmdzID0+IG51bUFyZ3MgPT0gMSA/IFwiYXJndW1lbnRcIiA6IFwiYXJndW1lbnRzXCI7XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYSB3cmFwcGVyIGZ1bmN0aW9uIGZvciBhIG1ldGhvZCB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCBtZXRhZGF0YS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAgICogICAgICAgIFRoZSBuYW1lIG9mIHRoZSBtZXRob2Qgd2hpY2ggaXMgYmVpbmcgd3JhcHBlZC5cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtZXRhZGF0YVxuICAgICAgICogICAgICAgIE1ldGFkYXRhIGFib3V0IHRoZSBtZXRob2QgYmVpbmcgd3JhcHBlZC5cbiAgICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWluQXJnc1xuICAgICAgICogICAgICAgIFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgd2hpY2ggbXVzdCBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24uIElmIGNhbGxlZCB3aXRoIGZld2VyIHRoYW4gdGhpcyBudW1iZXIgb2YgYXJndW1lbnRzLCB0aGVcbiAgICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5tYXhBcmdzXG4gICAgICAgKiAgICAgICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB3aGljaCBtYXkgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAgICogICAgICAgIGZ1bmN0aW9uLiBJZiBjYWxsZWQgd2l0aCBtb3JlIHRoYW4gdGhpcyBudW1iZXIgb2YgYXJndW1lbnRzLCB0aGVcbiAgICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZ1xuICAgICAgICogICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggb25seSB0aGUgZmlyc3RcbiAgICAgICAqICAgICAgICBhcmd1bWVudCBvZiB0aGUgY2FsbGJhY2ssIGFsdGVybmF0aXZlbHkgYW4gYXJyYXkgb2YgYWxsIHRoZVxuICAgICAgICogICAgICAgIGNhbGxiYWNrIGFyZ3VtZW50cyBpcyByZXNvbHZlZC4gQnkgZGVmYXVsdCwgaWYgdGhlIGNhbGxiYWNrXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIG9ubHkgYSBzaW5nbGUgYXJndW1lbnQsIHRoYXQgd2lsbCBiZVxuICAgICAgICogICAgICAgIHJlc29sdmVkIHRvIHRoZSBwcm9taXNlLCB3aGlsZSBhbGwgYXJndW1lbnRzIHdpbGwgYmUgcmVzb2x2ZWQgYXNcbiAgICAgICAqICAgICAgICBhbiBhcnJheSBpZiBtdWx0aXBsZSBhcmUgZ2l2ZW4uXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKG9iamVjdCwgLi4uKil9XG4gICAgICAgKiAgICAgICBUaGUgZ2VuZXJhdGVkIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCB3cmFwQXN5bmNGdW5jdGlvbiA9IChuYW1lLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNGdW5jdGlvbldyYXBwZXIodGFyZ2V0LCAuLi5hcmdzKSB7XG4gICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgbWV0YWRhdGEubWluQXJncykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAke21ldGFkYXRhLm1pbkFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1pbkFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiBtZXRhZGF0YS5tYXhBcmdzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IG1vc3QgJHttZXRhZGF0YS5tYXhBcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5tYXhBcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YS5mYWxsYmFja1RvTm9DYWxsYmFjaykge1xuICAgICAgICAgICAgICAvLyBUaGlzIEFQSSBtZXRob2QgaGFzIGN1cnJlbnRseSBubyBjYWxsYmFjayBvbiBDaHJvbWUsIGJ1dCBpdCByZXR1cm4gYSBwcm9taXNlIG9uIEZpcmVmb3gsXG4gICAgICAgICAgICAgIC8vIGFuZCBzbyB0aGUgcG9seWZpbGwgd2lsbCB0cnkgdG8gY2FsbCBpdCB3aXRoIGEgY2FsbGJhY2sgZmlyc3QsIGFuZCBpdCB3aWxsIGZhbGxiYWNrXG4gICAgICAgICAgICAgIC8vIHRvIG5vdCBwYXNzaW5nIHRoZSBjYWxsYmFjayBpZiB0aGUgZmlyc3QgY2FsbCBmYWlscy5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncywgbWFrZUNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICB9LCBtZXRhZGF0YSkpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChjYkVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGAke25hbWV9IEFQSSBtZXRob2QgZG9lc24ndCBzZWVtIHRvIHN1cHBvcnQgdGhlIGNhbGxiYWNrIHBhcmFtZXRlciwgYCArIFwiZmFsbGluZyBiYWNrIHRvIGNhbGwgaXQgd2l0aG91dCBhIGNhbGxiYWNrOiBcIiwgY2JFcnJvcik7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MpOyAvLyBVcGRhdGUgdGhlIEFQSSBtZXRob2QgbWV0YWRhdGEsIHNvIHRoYXQgdGhlIG5leHQgQVBJIGNhbGxzIHdpbGwgbm90IHRyeSB0b1xuICAgICAgICAgICAgICAgIC8vIHVzZSB0aGUgdW5zdXBwb3J0ZWQgY2FsbGJhY2sgYW55bW9yZS5cblxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEubm9DYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLm5vQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncywgbWFrZUNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICB9LCBtZXRhZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogV3JhcHMgYW4gZXhpc3RpbmcgbWV0aG9kIG9mIHRoZSB0YXJnZXQgb2JqZWN0LCBzbyB0aGF0IGNhbGxzIHRvIGl0IGFyZVxuICAgICAgICogaW50ZXJjZXB0ZWQgYnkgdGhlIGdpdmVuIHdyYXBwZXIgZnVuY3Rpb24uIFRoZSB3cmFwcGVyIGZ1bmN0aW9uIHJlY2VpdmVzLFxuICAgICAgICogYXMgaXRzIGZpcnN0IGFyZ3VtZW50LCB0aGUgb3JpZ2luYWwgYHRhcmdldGAgb2JqZWN0LCBmb2xsb3dlZCBieSBlYWNoIG9mXG4gICAgICAgKiB0aGUgYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgb3JpZ2luYWwgbWV0aG9kLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRcbiAgICAgICAqICAgICAgICBUaGUgb3JpZ2luYWwgdGFyZ2V0IG9iamVjdCB0aGF0IHRoZSB3cmFwcGVkIG1ldGhvZCBiZWxvbmdzIHRvLlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWV0aG9kXG4gICAgICAgKiAgICAgICAgVGhlIG1ldGhvZCBiZWluZyB3cmFwcGVkLiBUaGlzIGlzIHVzZWQgYXMgdGhlIHRhcmdldCBvZiB0aGUgUHJveHlcbiAgICAgICAqICAgICAgICBvYmplY3Qgd2hpY2ggaXMgY3JlYXRlZCB0byB3cmFwIHRoZSBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgVGhlIHdyYXBwZXIgZnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkIGluIHBsYWNlIG9mIGEgZGlyZWN0IGludm9jYXRpb25cbiAgICAgICAqICAgICAgICBvZiB0aGUgd3JhcHBlZCBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge1Byb3h5PGZ1bmN0aW9uPn1cbiAgICAgICAqICAgICAgICBBIFByb3h5IG9iamVjdCBmb3IgdGhlIGdpdmVuIG1ldGhvZCwgd2hpY2ggaW52b2tlcyB0aGUgZ2l2ZW4gd3JhcHBlclxuICAgICAgICogICAgICAgIG1ldGhvZCBpbiBpdHMgcGxhY2UuXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCB3cmFwTWV0aG9kID0gKHRhcmdldCwgbWV0aG9kLCB3cmFwcGVyKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobWV0aG9kLCB7XG4gICAgICAgICAgYXBwbHkodGFyZ2V0TWV0aG9kLCB0aGlzT2JqLCBhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5jYWxsKHRoaXNPYmosIHRhcmdldCwgLi4uYXJncyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgbGV0IGhhc093blByb3BlcnR5ID0gRnVuY3Rpb24uY2FsbC5iaW5kKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBvYmplY3QgaW4gYSBQcm94eSB3aGljaCBpbnRlcmNlcHRzIGFuZCB3cmFwcyBjZXJ0YWluIG1ldGhvZHNcbiAgICAgICAqIGJhc2VkIG9uIHRoZSBnaXZlbiBgd3JhcHBlcnNgIGFuZCBgbWV0YWRhdGFgIG9iamVjdHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAgICogICAgICAgIFRoZSB0YXJnZXQgb2JqZWN0IHRvIHdyYXAuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IFt3cmFwcGVycyA9IHt9XVxuICAgICAgICogICAgICAgIEFuIG9iamVjdCB0cmVlIGNvbnRhaW5pbmcgd3JhcHBlciBmdW5jdGlvbnMgZm9yIHNwZWNpYWwgY2FzZXMuIEFueVxuICAgICAgICogICAgICAgIGZ1bmN0aW9uIHByZXNlbnQgaW4gdGhpcyBvYmplY3QgdHJlZSBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgdGhlXG4gICAgICAgKiAgICAgICAgbWV0aG9kIGluIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBgdGFyZ2V0YCBvYmplY3QgdHJlZS4gVGhlc2VcbiAgICAgICAqICAgICAgICB3cmFwcGVyIG1ldGhvZHMgYXJlIGludm9rZWQgYXMgZGVzY3JpYmVkIGluIHtAc2VlIHdyYXBNZXRob2R9LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbbWV0YWRhdGEgPSB7fV1cbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgdHJlZSBjb250YWluaW5nIG1ldGFkYXRhIHVzZWQgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZVxuICAgICAgICogICAgICAgIFByb21pc2UtYmFzZWQgd3JhcHBlciBmdW5jdGlvbnMgZm9yIGFzeW5jaHJvbm91cy4gQW55IGZ1bmN0aW9uIGluXG4gICAgICAgKiAgICAgICAgdGhlIGB0YXJnZXRgIG9iamVjdCB0cmVlIHdoaWNoIGhhcyBhIGNvcnJlc3BvbmRpbmcgbWV0YWRhdGEgb2JqZWN0XG4gICAgICAgKiAgICAgICAgaW4gdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIGBtZXRhZGF0YWAgdHJlZSBpcyByZXBsYWNlZCB3aXRoIGFuXG4gICAgICAgKiAgICAgICAgYXV0b21hdGljYWxseS1nZW5lcmF0ZWQgd3JhcHBlciBmdW5jdGlvbiwgYXMgZGVzY3JpYmVkIGluXG4gICAgICAgKiAgICAgICAge0BzZWUgd3JhcEFzeW5jRnVuY3Rpb259XG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge1Byb3h5PG9iamVjdD59XG4gICAgICAgKi9cblxuICAgICAgY29uc3Qgd3JhcE9iamVjdCA9ICh0YXJnZXQsIHdyYXBwZXJzID0ge30sIG1ldGFkYXRhID0ge30pID0+IHtcbiAgICAgICAgbGV0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgbGV0IGhhbmRsZXJzID0ge1xuICAgICAgICAgIGhhcyhwcm94eVRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0IHx8IHByb3AgaW4gY2FjaGU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGdldChwcm94eVRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIGlmIChwcm9wIGluIGNhY2hlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWNoZVtwcm9wXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEocHJvcCBpbiB0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRhcmdldFtwcm9wXTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBtZXRob2Qgb24gdGhlIHVuZGVybHlpbmcgb2JqZWN0LiBDaGVjayBpZiB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAgIC8vIGFueSB3cmFwcGluZy5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3cmFwcGVyc1twcm9wXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIHNwZWNpYWwtY2FzZSB3cmFwcGVyIGZvciB0aGlzIG1ldGhvZC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBNZXRob2QodGFyZ2V0LCB0YXJnZXRbcHJvcF0sIHdyYXBwZXJzW3Byb3BdKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFuIGFzeW5jIG1ldGhvZCB0aGF0IHdlIGhhdmUgbWV0YWRhdGEgZm9yLiBDcmVhdGUgYVxuICAgICAgICAgICAgICAgIC8vIFByb21pc2Ugd3JhcHBlciBmb3IgaXQuXG4gICAgICAgICAgICAgICAgbGV0IHdyYXBwZXIgPSB3cmFwQXN5bmNGdW5jdGlvbihwcm9wLCBtZXRhZGF0YVtwcm9wXSk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwTWV0aG9kKHRhcmdldCwgdGFyZ2V0W3Byb3BdLCB3cmFwcGVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbWV0aG9kIHRoYXQgd2UgZG9uJ3Qga25vdyBvciBjYXJlIGFib3V0LiBSZXR1cm4gdGhlXG4gICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwgbWV0aG9kLCBib3VuZCB0byB0aGUgdW5kZXJseWluZyBvYmplY3QuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5iaW5kKHRhcmdldCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmIChoYXNPd25Qcm9wZXJ0eSh3cmFwcGVycywgcHJvcCkgfHwgaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIHByb3ApKSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFuIG9iamVjdCB0aGF0IHdlIG5lZWQgdG8gZG8gc29tZSB3cmFwcGluZyBmb3IgdGhlIGNoaWxkcmVuXG4gICAgICAgICAgICAgIC8vIG9mLiBDcmVhdGUgYSBzdWItb2JqZWN0IHdyYXBwZXIgZm9yIGl0IHdpdGggdGhlIGFwcHJvcHJpYXRlIGNoaWxkXG4gICAgICAgICAgICAgIC8vIG1ldGFkYXRhLlxuICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBPYmplY3QodmFsdWUsIHdyYXBwZXJzW3Byb3BdLCBtZXRhZGF0YVtwcm9wXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBcIipcIikpIHtcbiAgICAgICAgICAgICAgLy8gV3JhcCBhbGwgcHJvcGVydGllcyBpbiAqIG5hbWVzcGFjZS5cbiAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwT2JqZWN0KHZhbHVlLCB3cmFwcGVyc1twcm9wXSwgbWV0YWRhdGFbXCIqXCJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gZG8gYW55IHdyYXBwaW5nIGZvciB0aGlzIHByb3BlcnR5LFxuICAgICAgICAgICAgICAvLyBzbyBqdXN0IGZvcndhcmQgYWxsIGFjY2VzcyB0byB0aGUgdW5kZXJseWluZyBvYmplY3QuXG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjYWNoZSwgcHJvcCwge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgc2V0KHByb3h5VGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIGlmIChwcm9wIGluIGNhY2hlKSB7XG4gICAgICAgICAgICAgIGNhY2hlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHByb3h5VGFyZ2V0LCBwcm9wLCBkZXNjKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShjYWNoZSwgcHJvcCwgZGVzYyk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGRlbGV0ZVByb3BlcnR5KHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShjYWNoZSwgcHJvcCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH07IC8vIFBlciBjb250cmFjdCBvZiB0aGUgUHJveHkgQVBJLCB0aGUgXCJnZXRcIiBwcm94eSBoYW5kbGVyIG11c3QgcmV0dXJuIHRoZVxuICAgICAgICAvLyBvcmlnaW5hbCB2YWx1ZSBvZiB0aGUgdGFyZ2V0IGlmIHRoYXQgdmFsdWUgaXMgZGVjbGFyZWQgcmVhZC1vbmx5IGFuZFxuICAgICAgICAvLyBub24tY29uZmlndXJhYmxlLiBGb3IgdGhpcyByZWFzb24sIHdlIGNyZWF0ZSBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgICAgLy8gcHJvdG90eXBlIHNldCB0byBgdGFyZ2V0YCBpbnN0ZWFkIG9mIHVzaW5nIGB0YXJnZXRgIGRpcmVjdGx5LlxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgY2Fubm90IHJldHVybiBhIGN1c3RvbSBvYmplY3QgZm9yIEFQSXMgdGhhdFxuICAgICAgICAvLyBhcmUgZGVjbGFyZWQgcmVhZC1vbmx5IGFuZCBub24tY29uZmlndXJhYmxlLCBzdWNoIGFzIGBjaHJvbWUuZGV2dG9vbHNgLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgcHJveHkgaGFuZGxlcnMgdGhlbXNlbHZlcyB3aWxsIHN0aWxsIHVzZSB0aGUgb3JpZ2luYWwgYHRhcmdldGBcbiAgICAgICAgLy8gaW5zdGVhZCBvZiB0aGUgYHByb3h5VGFyZ2V0YCwgc28gdGhhdCB0aGUgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBhcmVcbiAgICAgICAgLy8gZGVyZWZlcmVuY2VkIHZpYSB0aGUgb3JpZ2luYWwgdGFyZ2V0cy5cblxuICAgICAgICBsZXQgcHJveHlUYXJnZXQgPSBPYmplY3QuY3JlYXRlKHRhcmdldCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkocHJveHlUYXJnZXQsIGhhbmRsZXJzKTtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYSBzZXQgb2Ygd3JhcHBlciBmdW5jdGlvbnMgZm9yIGFuIGV2ZW50IG9iamVjdCwgd2hpY2ggaGFuZGxlc1xuICAgICAgICogd3JhcHBpbmcgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRoYXQgdGhvc2UgbWVzc2FnZXMgYXJlIHBhc3NlZC5cbiAgICAgICAqXG4gICAgICAgKiBBIHNpbmdsZSB3cmFwcGVyIGlzIGNyZWF0ZWQgZm9yIGVhY2ggbGlzdGVuZXIgZnVuY3Rpb24sIGFuZCBzdG9yZWQgaW4gYVxuICAgICAgICogbWFwLiBTdWJzZXF1ZW50IGNhbGxzIHRvIGBhZGRMaXN0ZW5lcmAsIGBoYXNMaXN0ZW5lcmAsIG9yIGByZW1vdmVMaXN0ZW5lcmBcbiAgICAgICAqIHJldHJpZXZlIHRoZSBvcmlnaW5hbCB3cmFwcGVyLCBzbyB0aGF0ICBhdHRlbXB0cyB0byByZW1vdmUgYVxuICAgICAgICogcHJldmlvdXNseS1hZGRlZCBsaXN0ZW5lciB3b3JrIGFzIGV4cGVjdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RGVmYXVsdFdlYWtNYXA8ZnVuY3Rpb24sIGZ1bmN0aW9uPn0gd3JhcHBlck1hcFxuICAgICAgICogICAgICAgIEEgRGVmYXVsdFdlYWtNYXAgb2JqZWN0IHdoaWNoIHdpbGwgY3JlYXRlIHRoZSBhcHByb3ByaWF0ZSB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgZm9yIGEgZ2l2ZW4gbGlzdGVuZXIgZnVuY3Rpb24gd2hlbiBvbmUgZG9lcyBub3QgZXhpc3QsIGFuZCByZXRyaWV2ZVxuICAgICAgICogICAgICAgIGFuIGV4aXN0aW5nIG9uZSB3aGVuIGl0IGRvZXMuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBFdmVudCA9IHdyYXBwZXJNYXAgPT4gKHtcbiAgICAgICAgYWRkTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lciwgLi4uYXJncykge1xuICAgICAgICAgIHRhcmdldC5hZGRMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lciksIC4uLmFyZ3MpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhhc0xpc3RlbmVyKHRhcmdldCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0Lmhhc0xpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lcikge1xuICAgICAgICAgIHRhcmdldC5yZW1vdmVMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lcikpO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvblJlcXVlc3RGaW5pc2hlZFdyYXBwZXJzID0gbmV3IERlZmF1bHRXZWFrTWFwKGxpc3RlbmVyID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwcyBhbiBvblJlcXVlc3RGaW5pc2hlZCBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IHdpbGwgcmV0dXJuIGFcbiAgICAgICAgICogYGdldENvbnRlbnQoKWAgcHJvcGVydHkgd2hpY2ggcmV0dXJucyBhIGBQcm9taXNlYCByYXRoZXIgdGhhbiB1c2luZyBhXG4gICAgICAgICAqIGNhbGxiYWNrIEFQSS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgICAgICAgKiAgICAgICAgVGhlIEhBUiBlbnRyeSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBuZXR3b3JrIHJlcXVlc3QuXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9uUmVxdWVzdEZpbmlzaGVkKHJlcSkge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRSZXEgPSB3cmFwT2JqZWN0KHJlcSwge31cbiAgICAgICAgICAvKiB3cmFwcGVycyAqL1xuICAgICAgICAgICwge1xuICAgICAgICAgICAgZ2V0Q29udGVudDoge1xuICAgICAgICAgICAgICBtaW5BcmdzOiAwLFxuICAgICAgICAgICAgICBtYXhBcmdzOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGlzdGVuZXIod3JhcHBlZFJlcSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG9uTWVzc2FnZVdyYXBwZXJzID0gbmV3IERlZmF1bHRXZWFrTWFwKGxpc3RlbmVyID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwcyBhIG1lc3NhZ2UgbGlzdGVuZXIgZnVuY3Rpb24gc28gdGhhdCBpdCBtYXkgc2VuZCByZXNwb25zZXMgYmFzZWQgb25cbiAgICAgICAgICogaXRzIHJldHVybiB2YWx1ZSwgcmF0aGVyIHRoYW4gYnkgcmV0dXJuaW5nIGEgc2VudGluZWwgdmFsdWUgYW5kIGNhbGxpbmcgYVxuICAgICAgICAgKiBjYWxsYmFjay4gSWYgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHJldHVybnMgYSBQcm9taXNlLCB0aGUgcmVzcG9uc2UgaXNcbiAgICAgICAgICogc2VudCB3aGVuIHRoZSBwcm9taXNlIGVpdGhlciByZXNvbHZlcyBvciByZWplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0geyp9IG1lc3NhZ2VcbiAgICAgICAgICogICAgICAgIFRoZSBtZXNzYWdlIHNlbnQgYnkgdGhlIG90aGVyIGVuZCBvZiB0aGUgY2hhbm5lbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHNlbmRlclxuICAgICAgICAgKiAgICAgICAgRGV0YWlscyBhYm91dCB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlLlxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSBzZW5kUmVzcG9uc2VcbiAgICAgICAgICogICAgICAgIEEgY2FsbGJhY2sgd2hpY2gsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJiaXRyYXJ5IGFyZ3VtZW50LCBzZW5kc1xuICAgICAgICAgKiAgICAgICAgdGhhdCB2YWx1ZSBhcyBhIHJlc3BvbnNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgICAgICogICAgICAgIFRydWUgaWYgdGhlIHdyYXBwZWQgbGlzdGVuZXIgcmV0dXJuZWQgYSBQcm9taXNlLCB3aGljaCB3aWxsIGxhdGVyXG4gICAgICAgICAqICAgICAgICB5aWVsZCBhIHJlc3BvbnNlLiBGYWxzZSBvdGhlcndpc2UuXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9uTWVzc2FnZShtZXNzYWdlLCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuICAgICAgICAgIGxldCBkaWRDYWxsU2VuZFJlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgICAgbGV0IHdyYXBwZWRTZW5kUmVzcG9uc2U7XG4gICAgICAgICAgbGV0IHNlbmRSZXNwb25zZVByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRTZW5kUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgZGlkQ2FsbFNlbmRSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGxpc3RlbmVyKG1lc3NhZ2UsIHNlbmRlciwgd3JhcHBlZFNlbmRSZXNwb25zZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzUmVzdWx0VGhlbmFibGUgPSByZXN1bHQgIT09IHRydWUgJiYgaXNUaGVuYWJsZShyZXN1bHQpOyAvLyBJZiB0aGUgbGlzdGVuZXIgZGlkbid0IHJldHVybmVkIHRydWUgb3IgYSBQcm9taXNlLCBvciBjYWxsZWRcbiAgICAgICAgICAvLyB3cmFwcGVkU2VuZFJlc3BvbnNlIHN5bmNocm9ub3VzbHksIHdlIGNhbiBleGl0IGVhcmxpZXJcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZXJlIHdpbGwgYmUgbm8gcmVzcG9uc2Ugc2VudCBmcm9tIHRoaXMgbGlzdGVuZXIuXG5cbiAgICAgICAgICBpZiAocmVzdWx0ICE9PSB0cnVlICYmICFpc1Jlc3VsdFRoZW5hYmxlICYmICFkaWRDYWxsU2VuZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSAvLyBBIHNtYWxsIGhlbHBlciB0byBzZW5kIHRoZSBtZXNzYWdlIGlmIHRoZSBwcm9taXNlIHJlc29sdmVzXG4gICAgICAgICAgLy8gYW5kIGFuIGVycm9yIGlmIHRoZSBwcm9taXNlIHJlamVjdHMgKGEgd3JhcHBlZCBzZW5kTWVzc2FnZSBoYXNcbiAgICAgICAgICAvLyB0byB0cmFuc2xhdGUgdGhlIG1lc3NhZ2UgaW50byBhIHJlc29sdmVkIHByb21pc2Ugb3IgYSByZWplY3RlZFxuICAgICAgICAgIC8vIHByb21pc2UpLlxuXG5cbiAgICAgICAgICBjb25zdCBzZW5kUHJvbWlzZWRSZXN1bHQgPSBwcm9taXNlID0+IHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihtc2cgPT4ge1xuICAgICAgICAgICAgICAvLyBzZW5kIHRoZSBtZXNzYWdlIHZhbHVlLlxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UobXNnKTtcbiAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgLy8gU2VuZCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGVycm9yIGlmIHRoZSByZWplY3RlZCB2YWx1ZVxuICAgICAgICAgICAgICAvLyBpcyBhbiBpbnN0YW5jZSBvZiBlcnJvciwgb3IgdGhlIG9iamVjdCBpdHNlbGYgb3RoZXJ3aXNlLlxuICAgICAgICAgICAgICBsZXQgbWVzc2FnZTtcblxuICAgICAgICAgICAgICBpZiAoZXJyb3IgJiYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgfHwgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICBfX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X186IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIC8vIFByaW50IGFuIGVycm9yIG9uIHRoZSBjb25zb2xlIGlmIHVuYWJsZSB0byBzZW5kIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZW5kIG9uTWVzc2FnZSByZWplY3RlZCByZXBseVwiLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTsgLy8gSWYgdGhlIGxpc3RlbmVyIHJldHVybmVkIGEgUHJvbWlzZSwgc2VuZCB0aGUgcmVzb2x2ZWQgdmFsdWUgYXMgYVxuICAgICAgICAgIC8vIHJlc3VsdCwgb3RoZXJ3aXNlIHdhaXQgdGhlIHByb21pc2UgcmVsYXRlZCB0byB0aGUgd3JhcHBlZFNlbmRSZXNwb25zZVxuICAgICAgICAgIC8vIGNhbGxiYWNrIHRvIHJlc29sdmUgYW5kIHNlbmQgaXQgYXMgYSByZXNwb25zZS5cblxuXG4gICAgICAgICAgaWYgKGlzUmVzdWx0VGhlbmFibGUpIHtcbiAgICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZW5kUHJvbWlzZWRSZXN1bHQoc2VuZFJlc3BvbnNlUHJvbWlzZSk7XG4gICAgICAgICAgfSAvLyBMZXQgQ2hyb21lIGtub3cgdGhhdCB0aGUgbGlzdGVuZXIgaXMgcmVwbHlpbmcuXG5cblxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrID0gKHtcbiAgICAgICAgcmVqZWN0LFxuICAgICAgICByZXNvbHZlXG4gICAgICB9LCByZXBseSkgPT4ge1xuICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgIC8vIERldGVjdCB3aGVuIG5vbmUgb2YgdGhlIGxpc3RlbmVycyByZXBsaWVkIHRvIHRoZSBzZW5kTWVzc2FnZSBjYWxsIGFuZCByZXNvbHZlXG4gICAgICAgICAgLy8gdGhlIHByb21pc2UgdG8gdW5kZWZpbmVkIGFzIGluIEZpcmVmb3guXG4gICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3dlYmV4dGVuc2lvbi1wb2x5ZmlsbC9pc3N1ZXMvMTMwXG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSA9PT0gQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFKSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvci5tZXNzYWdlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcGx5ICYmIHJlcGx5Ll9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXykge1xuICAgICAgICAgIC8vIENvbnZlcnQgYmFjayB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3IgaW50b1xuICAgICAgICAgIC8vIGFuIEVycm9yIGluc3RhbmNlLlxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IocmVwbHkubWVzc2FnZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUocmVwbHkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB3cmFwcGVkU2VuZE1lc3NhZ2UgPSAobmFtZSwgbWV0YWRhdGEsIGFwaU5hbWVzcGFjZU9iaiwgLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAke21ldGFkYXRhLm1pbkFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1pbkFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IG1vc3QgJHttZXRhZGF0YS5tYXhBcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5tYXhBcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRDYiA9IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrLmJpbmQobnVsbCwge1xuICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFyZ3MucHVzaCh3cmFwcGVkQ2IpO1xuICAgICAgICAgIGFwaU5hbWVzcGFjZU9iai5zZW5kTWVzc2FnZSguLi5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzdGF0aWNXcmFwcGVycyA9IHtcbiAgICAgICAgZGV2dG9vbHM6IHtcbiAgICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgICBvblJlcXVlc3RGaW5pc2hlZDogd3JhcEV2ZW50KG9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBydW50aW1lOiB7XG4gICAgICAgICAgb25NZXNzYWdlOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIG9uTWVzc2FnZUV4dGVybmFsOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgICBtYXhBcmdzOiAzXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgdGFiczoge1xuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIG1pbkFyZ3M6IDIsXG4gICAgICAgICAgICBtYXhBcmdzOiAzXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHNldHRpbmdNZXRhZGF0YSA9IHtcbiAgICAgICAgY2xlYXI6IHtcbiAgICAgICAgICBtaW5BcmdzOiAxLFxuICAgICAgICAgIG1heEFyZ3M6IDFcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICBtYXhBcmdzOiAxXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgbWF4QXJnczogMVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYXBpTWV0YWRhdGEucHJpdmFjeSA9IHtcbiAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgIFwiKlwiOiBzZXR0aW5nTWV0YWRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgc2VydmljZXM6IHtcbiAgICAgICAgICBcIipcIjogc2V0dGluZ01ldGFkYXRhXG4gICAgICAgIH0sXG4gICAgICAgIHdlYnNpdGVzOiB7XG4gICAgICAgICAgXCIqXCI6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHdyYXBPYmplY3QoZXh0ZW5zaW9uQVBJcywgc3RhdGljV3JhcHBlcnMsIGFwaU1ldGFkYXRhKTtcbiAgICB9OyAvLyBUaGUgYnVpbGQgcHJvY2VzcyBhZGRzIGEgVU1EIHdyYXBwZXIgYXJvdW5kIHRoaXMgZmlsZSwgd2hpY2ggbWFrZXMgdGhlXG4gICAgLy8gYG1vZHVsZWAgdmFyaWFibGUgYXZhaWxhYmxlLlxuXG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHdyYXBBUElzKGNocm9tZSk7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxUaGlzLmJyb3dzZXI7XG4gIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci1wb2x5ZmlsbC5qcy5tYXBcbiIsImV4cG9ydCB0eXBlIFNpdGVDb25maWdNZXRob2QgPSBcIkV4YWN0XCIgfCBcIlByZWZpeFwiIHwgXCJSZWdleFwiO1xuZXhwb3J0IHR5cGUgU2l0ZUNvbmZpZ1RhcmdldCA9IFwiRG9tYWluXCIgfCBcIkhvc3RcIiB8IFwiUGFnZVwiO1xuZXhwb3J0IHR5cGUgU2l0ZUNvbmZpZ05vZGVUeXBlID0gXCJNaWdyYXRpb25cIiB8IFwiVXNlclwiIHwgXCJEZWZhdWx0XCIgfCBcIkF1dG9cIjtcblxuZXhwb3J0IGNsYXNzIEZvcm1NYXRjaENvbmZpZyB7XG4gICAgZm9ybT86IHtcbiAgICAgICAgbmFtZXM/OiBzdHJpbmdbXTtcbiAgICAgICAgaWRzPzogc3RyaW5nW107XG4gICAgfTtcbiAgICBmaWVsZHM/OiB7XG4gICAgICAgIG5hbWVzPzogc3RyaW5nW107XG4gICAgICAgIGlkcz86IHN0cmluZ1tdO1xuICAgIH07XG4gICAgcXVlcnlTZWxlY3RvcnM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFNpdGVDb25maWcge1xuICAgIHdoaXRlTGlzdD86IEZvcm1NYXRjaENvbmZpZztcbiAgICBibGFja0xpc3Q/OiBGb3JtTWF0Y2hDb25maWc7XG4gICAgcHJldmVudFNhdmVOb3RpZmljYXRpb24/OiBib29sZWFuO1xuICAgIGxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmU/OiBib29sZWFuO1xuICAgIHByZWZlcnJlZEVudHJ5VXVpZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFNpdGVDb25maWdOb2RlIHtcbiAgICBjb25maWc6IFNpdGVDb25maWc7XG4gICAgbWF0Y2hXZWlnaHQ6IG51bWJlcjsgLy8gaGVscCB0byBkZWNpZGUgd2hpY2ggY29uZmlnIHRvIHVzZSB3aGVuIG1vcmUgdGhhbiBvbmUgbWF0Y2hlcyBjdXJyZW50IFVSTFxuICAgIHNvdXJjZTogU2l0ZUNvbmZpZ05vZGVUeXBlO1xufVxuXG5leHBvcnQgY2xhc3MgU2l0ZUNvbmZpZ0xvb2t1cCB7XG4gICAgW2tleTogc3RyaW5nXTogU2l0ZUNvbmZpZ05vZGU7XG59XG5cbmV4cG9ydCBjbGFzcyBTaXRlQ29uZmlnSW5kZXgge1xuICAgIGRvbWFpblJlZ2V4PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBkb21haW5FeGFjdD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgZG9tYWluUHJlZml4PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBob3N0UmVnZXg/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIGhvc3RFeGFjdD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgaG9zdFByZWZpeD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgcGFnZVJlZ2V4PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBwYWdlRXhhY3Q/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIHBhZ2VQcmVmaXg6IFNpdGVDb25maWdMb29rdXA7XG59XG5cbmV4cG9ydCBjbGFzcyBDb25maWcge1xuICAgIGF1dG9GaWxsRGlhbG9nczogYm9vbGVhbjtcbiAgICBhdXRvRmlsbEZvcm1zOiBib29sZWFuO1xuICAgIGF1dG9GaWxsRm9ybXNXaXRoTXVsdGlwbGVNYXRjaGVzOiBib29sZWFuO1xuICAgIGF1dG9TdWJtaXRGb3JtczogYm9vbGVhbjtcbiAgICBhdXRvU3VibWl0RGlhbG9nczogYm9vbGVhbjtcbiAgICBhdXRvU3VibWl0TWF0Y2hlZEZvcm1zOiBib29sZWFuO1xuICAgIGNvbm5TTENsaWVudDogbnVtYmVyO1xuICAgIGNvbm5TTFNlcnZlck1pbjogbnVtYmVyO1xuICAgIGtlZVBhc3NEQlRvT3Blbjogc3RyaW5nO1xuICAgIGtlZVBhc3NNUlVEQjogc3RyaW5nO1xuICAgIEtlZVBhc3NSUENXZWJTb2NrZXRQb3J0OiBudW1iZXI7XG4gICAgS1BSUENVc2VybmFtZTogc3RyaW5nO1xuICAgIEtQUlBDU3RvcmVkS2V5czogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICBsYXN0Q29ubmVjdGVkVG9LZWVQYXNzOiBzdHJpbmc7XG4gICAgbGlzdEFsbE9wZW5EQnM6IGJvb2xlYW47XG4gICAgbG9nTGV2ZWw6IG51bWJlcjtcbiAgICBsb2dNZXRob2RDb25zb2xlOiBib29sZWFuO1xuICAgIGxvZ01ldGhvZEZpbGU6IGJvb2xlYW47XG4gICAgbG9nU2Vuc2l0aXZlRGF0YTogYm9vbGVhbjtcbiAgICBtZXRyaWNzVXNhZ2VEaXNhYmxlZDogYm9vbGVhbjtcbiAgICBtZXRyaWNzVXNlcklkOiBzdHJpbmc7XG4gICAgbXJ1R3JvdXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgbm90aWZ5V2hlbkVudHJ5VXBkYXRlZDogYm9vbGVhbjtcbiAgICBub3RpZnlXaGVuTGF0ZURpc2NvdmVyeTogYm9vbGVhbjtcbiAgICBub3RpZnlXaGVuTG9nZ2VkT3V0OiBib29sZWFuO1xuICAgIG92ZXJXcml0ZUZpZWxkc0F1dG9tYXRpY2FsbHk6IGJvb2xlYW47IC8vIGRlcHJlY2F0ZWRcbiAgICByZW1lbWJlck1SVURCOiBib29sZWFuO1xuICAgIHJlbWVtYmVyTVJVR3JvdXA6IGJvb2xlYW47XG4gICAgc2F2ZUZhdmljb25zOiBib29sZWFuO1xuICAgIHNlYXJjaEFsbE9wZW5EQnM6IGJvb2xlYW47XG4gICAgc2l0ZUNvbmZpZzogU2l0ZUNvbmZpZ0luZGV4O1xuICAgIGNvbmZpZzogeyB1cmw6IHN0cmluZzsgY29uZmlnOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9W107XG4gICAgdHV0b3JpYWxQcm9ncmVzczogc3RyaW5nO1xuICAgIHZlcnNpb246IG51bWJlcjsgLy8gZGVmYXVsdCBpcyBpbmNyZW1lbnRlZCB3aGVuIGNoYW5nZXMgYXJlIGludHJvZHVjZWQgdGhhdCByZXF1aXJlIGRhdGEgbWlncmF0aW9uXG4gICAgdHJpZ2dlckNoYW5nZUlucHV0RXZlbnRBZnRlckZpbGw6IGJvb2xlYW47XG4gICAgYXV0b1N1Ym1pdE5ldHdvcmtBdXRoV2l0aFNpbmdsZU1hdGNoOiBib29sZWFuO1xuICAgIHNlYXJjaE5ldHdvcmtBdXRoOiBib29sZWFuO1xuICAgIHBvcnRDb25uZWN0aW9uRGVsYXk6IG51bWJlcjsgLy8gZGVwcmVjYXRlZFxuICAgIG5vdGlmaWNhdGlvbkNvdW50R2VuZXJpYzogbnVtYmVyO1xuICAgIG5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkOiBudW1iZXI7XG4gICAgY3VycmVudFNlYXJjaFRlcm1UaW1lb3V0OiBudW1iZXI7XG4gICAgbm90aWZ5UGFzc3dvcmRBdmFpbGFibGVGb3JQYXN0ZTogYm9vbGVhbjtcbiAgICBhbmltYXRlV2hlbk9mZmVyaW5nU2F2ZTogYm9vbGVhbjtcbiAgICBrZWVWYXVsdExhdW5jaE1lc3NhZ2VEaXNtaXNzZWQ6IGJvb2xlYW47XG4gICAga2VlVmF1bHRMYXVuY2hTdGFydDogbnVtYmVyO1xuICAgIGtlZVZhdWx0TGF1bmNoRW5kOiBudW1iZXI7XG4gICAgbWFudWFsU3VibWl0T3ZlcnJpZGVQcm9oaWJpdGVkOiBib29sZWFuO1xuICAgIHRoZW1lOiBzdHJpbmc7XG4gICAgaGlkZUNvbmZpcm1hdGlvbkFmdGVyU2F2ZTogYm9vbGVhbjtcbiAgICBtdXN0U2hvd1JlbGVhc2VOb3Rlc0F0U3RhcnR1cDogYm9vbGVhbjtcbiAgICBhdXRvRmlsbEZpZWxkc1dpdGhFeGlzdGluZ1ZhbHVlOiBib29sZWFuO1xufVxuIiwiaW1wb3J0IHsgU2l0ZUNvbmZpZ0luZGV4LCBTaXRlQ29uZmlnTG9va3VwIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0U2l0ZUNvbmZpZyA9IG5ldyBTaXRlQ29uZmlnSW5kZXgoKTtcbmRlZmF1bHRTaXRlQ29uZmlnLnBhZ2VSZWdleCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG5cbmRlZmF1bHRTaXRlQ29uZmlnLnBhZ2VSZWdleFtcIl4uKiRcIl0gPSB7XG4gICAgY29uZmlnOiB7XG4gICAgICAgIC8qIFRPRE86NDogPyBJbiBmdXR1cmUgd2UgY2FuIGdpdmUgZmluZXIgY29udHJvbCBvZiBmb3JtIHJlc2Nhbm5pbmcgYmVoYXZpb3VyIGZyb20gaGVyZVxuICAgICAgICAgICAgcmVzY2FuRE9NZXZlbnRzOlxuICAgICAgICAgICAgW3tcblxuICAgICAgICAgICAgICAgIC8vIC9odG1sL2JvZHkvZGl2WzNdL2Rpdi9oMS9zbWFsbFxuXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjbGlja1wiIHwgXCJtdXRhdGlvblwiIHwgXCJob3ZlclwiIHwgZXRjLFxuICAgICAgICAgICAgICAgIHhwYXRoOiBcIi9odG1sL2JvZHkvZGl2WzNdL2Rpdi9oMS9zbWFsbFwiLCAvLyB3ZSBzaG91bGQgZG8gYSBzYW5pdHkgY2hlY2sgb24gcmV0dXJuZWQgaXRlbXMgYW5kIGxpbWl0IHRvIG1heCBvZiB+YSBodW5kcmVkIERPTSBub2Rlc1xuICAgICAgICAgICAgICAgIGlkOiBcInNvbWVJRFwiLFxuICAgICAgICAgICAgICAgIC8vc29tZXRoaW5nIGVsc2UgdG8gbGltaXQgbXV0YXRpb24gZXZlbnRzIHRvIGNyZWF0ZSBvbmUgKGUuZy4gY3JlYXRpb24gb2YgbmV3IGNoaWxkIGl0ZW0gbWF0Y2hpbmcgY2VydGFpbiB4cGF0aD8gZXRjLilcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgKi9cblxuICAgICAgICBwcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbjogZmFsc2UsXG4gICAgICAgIGxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmU6IGZhbHNlLFxuXG4gICAgICAgIC8qXG4gICAgICAgICAgICAgICAgRm9ybXMgd2lsbCBiZSBzY2FubmVkIGlmZiB0aGV5IGhhdmUgYSBwYXNzd29yZCAodHlwZSkgZmllbGRcbiAgICAgICAgICAgICAgICBVTkxFU1Mgb25lIG9mIHRoZSBpbnRlcmVzdGluZ0Zvcm1zIGFycmF5cyBtYXRjaGVzIHRoZSBmb3JtIGluIHF1ZXN0aW9uLlxuICAgICAgICAgICAgICAgIEFsbCAodyloaXRlbGlzdHMgd2lsbCBmb3JjZSB0aGUgZm9ybSB0byBiZSBzY2FubmVkIGZvciBtYXRjaGluZyBwYXNzd29yZHMuXG4gICAgICAgICAgICAgICAgKGIpbGFja2xpc3RzIHdpbGwgcHJldmVudCB0aGUgZm9ybSBiZWluZyBzY2FubmVkLlxuICAgICAgICAgICAgICAgIChiKWxhY2tsaXN0cyBoYXZlIHByaW9yaXR5IG92ZXIgd2hpdGVsaXN0cyBvZiB0aGUgc2FtZSB0eXBlIGJ1dCB0aGUgcHJpb3JpdGllc1xuICAgICAgICAgICAgICAgIG9mIGRpZmZlcmVudCB0eXBlcyBvZiBjaGVjayBhcmUgdW5kZWZpbmVkIGhlcmUgLSB5b3UnbGwgaGF2ZSB0byBsb29rIGF0IHRoZVxuICAgICAgICAgICAgICAgIGJlaGF2aW91ciBvZiB0aGUgZm9ybSBtYXRjaGluZyBjb2RlIHdoaWNoIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAgICAgICAgICAgICovXG4gICAgICAgIGJsYWNrTGlzdDoge1xuICAgICAgICAgICAgZm9ybTogeyBuYW1lczogW1wic2VhcmNoXCJdLCBpZHM6IFtcInNlYXJjaFwiXSB9LFxuICAgICAgICAgICAgZmllbGRzOiB7IG5hbWVzOiBbXCJzZWFyY2hcIiwgXCJxXCIsIFwicXVlcnlcIl0sIGlkczogW1wic2VhcmNoXCIsIFwicVwiXSB9XG4gICAgICAgIH0sXG4gICAgICAgIHdoaXRlTGlzdDoge1xuICAgICAgICAgICAgZm9ybTogeyBuYW1lczogW1wibG9naW5cIl0sIGlkczogW1wibG9naW5cIl0gfSxcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIG5hbWVzOiBbXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJqX3VzZXJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXItbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmJfbG9naW5fdXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlciBuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlciBpZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXItaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcImUtbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcImlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybV9sb2dpbm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ3cG5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luIGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5fbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm9wZW5pZF9pZGVudGlmaWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aGVudGljYXRpb25fZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvcGVuaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoX2VtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aF9pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhlbnRpY2F0aW9uX2lkZW50aWZpZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoZW50aWNhdGlvbl9pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImN1c3RvbWVyX251bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICBcImN1c3RvbWVybnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib25saW5laWRcIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgaWRzOiBbXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJqX3VzZXJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXItbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmJfbG9naW5fdXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlci1pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJpZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImVtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZS1tYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtX2xvZ2lubmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIndwbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbmlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5fbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm9wZW5pZF9pZGVudGlmaWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aGVudGljYXRpb25fZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvcGVuaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoX2VtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aF9pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhlbnRpY2F0aW9uX2lkZW50aWZpZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoZW50aWNhdGlvbl9pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImN1c3RvbWVyX251bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICBcImN1c3RvbWVybnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib25saW5laWRcIlxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcHJlZmVycmVkRW50cnlVdWlkOiBudWxsXG4gICAgfSxcbiAgICBtYXRjaFdlaWdodDogMCxcbiAgICBzb3VyY2U6IFwiRGVmYXVsdFwiXG59O1xuIiwiaW1wb3J0IHsgU2l0ZUNvbmZpZywgQ29uZmlnLCBTaXRlQ29uZmlnTG9va3VwLCBTaXRlQ29uZmlnSW5kZXggfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IGRlZmF1bHRTaXRlQ29uZmlnIH0gZnJvbSBcIi4vRGVmYXVsdFNpdGVDb25maWdcIjtcblxuZXhwb3J0IGNsYXNzIENvbmZpZ01pZ3JhdGlvbnMge1xuICAgIHB1YmxpYyBtaWdyYXRlVG9WZXJzaW9uOChjdXJyZW50OiBDb25maWcpIHtcbiAgICAgICAgLy8gVGhpcyBpc24ndCByZWxpYWJsZSBkdWUgdG8gc3luYyBzbyB3ZSd2ZSBkZXByZWNhdGVkIHRoZSBzZXR0aW5nXG4gICAgICAgIC8vIGFuZCBjcmVhdGVkIGEgbmV3IG9uZSB0aGF0IHJlcXVpcmVzIG5vIG1pZ3JhdGlvblxuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIG92ZXJXcml0ZUZpZWxkc0F1dG9tYXRpY2FsbHk6IGZhbHNlLFxuICAgICAgICAgICAgdmVyc2lvbjogOFxuICAgICAgICB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb243KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBpZiAoY3VycmVudC5ub3RpZmljYXRpb25Db3VudFNhdmVQYXNzd29yZCA+IDYpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudCwge1xuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkOiA2LFxuICAgICAgICAgICAgICAgIHZlcnNpb246IDdcbiAgICAgICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudCwgeyB2ZXJzaW9uOiA3IH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBtaWdyYXRlVG9WZXJzaW9uNihjdXJyZW50OiBDb25maWcpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7XG4gICAgICAgICAgICBhbmltYXRlV2hlbk9mZmVyaW5nU2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZlcnNpb246IDZcbiAgICAgICAgfSBhcyBQYXJ0aWFsPENvbmZpZz4pO1xuICAgIH1cblxuICAgIHB1YmxpYyBtaWdyYXRlVG9WZXJzaW9uNShjdXJyZW50OiBDb25maWcpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7XG4gICAgICAgICAgICBub3RpZnlQYXNzd29yZEF2YWlsYWJsZUZvclBhc3RlOiB0cnVlLFxuICAgICAgICAgICAgdmVyc2lvbjogNVxuICAgICAgICB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb240KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBsZXQgbmV3TG9nTGV2ZWwgPSAyO1xuICAgICAgICBpZiAoY3VycmVudC5sb2dMZXZlbCA9PT0gMSkge1xuICAgICAgICAgICAgbmV3TG9nTGV2ZWwgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7IGxvZ0xldmVsOiBuZXdMb2dMZXZlbCwgdmVyc2lvbjogNCB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb24zKGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBpZiAoY3VycmVudC5ub3RpZmljYXRpb25Db3VudEdlbmVyaWMgPT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudC5ub3RpZmljYXRpb25Db3VudEdlbmVyaWMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50Lm5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkID09IG51bGwpIHtcbiAgICAgICAgICAgIGN1cnJlbnQubm90aWZpY2F0aW9uQ291bnRTYXZlUGFzc3dvcmQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7XG4gICAgICAgICAgICBjdXJyZW50U2VhcmNoVGVybVRpbWVvdXQ6IDMwLFxuICAgICAgICAgICAgdmVyc2lvbjogM1xuICAgICAgICB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb24yKGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBsZXQgbmV3U2l0ZUNvbmZpZyA9IG5ldyBTaXRlQ29uZmlnSW5kZXgoKTtcblxuICAgICAgICBpZiAoIWN1cnJlbnQuY29uZmlnIHx8IGN1cnJlbnQuY29uZmlnLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBuZXdTaXRlQ29uZmlnID0gZGVmYXVsdFNpdGVDb25maWc7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbmV3U2l0ZUNvbmZpZy5wYWdlUmVnZXggPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICBuZXdTaXRlQ29uZmlnLmhvc3RFeGFjdCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgIG5ld1NpdGVDb25maWcucGFnZVByZWZpeCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG5cbiAgICAgICAgbmV3U2l0ZUNvbmZpZy5wYWdlUmVnZXhbXCJeLiokXCJdID0ge1xuICAgICAgICAgICAgbWF0Y2hXZWlnaHQ6IDAsXG4gICAgICAgICAgICBjb25maWc6IHRoaXMubWlncmF0ZUluZGl2aWR1YWxTaXRlQ29uZmlnU2V0dGluZ3NUb1YyKGN1cnJlbnQuY29uZmlnWzBdLmNvbmZpZyksXG4gICAgICAgICAgICBzb3VyY2U6IFwiTWlncmF0aW9uXCJcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKFxuICAgICAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICAgICAgaSA8IGN1cnJlbnQuY29uZmlnLmxlbmd0aDtcbiAgICAgICAgICAgIGkrKyAvLyBza2lwIGZpcnN0IHdoaWNoIGlzIGFsd2F5cyBcIipcIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGN1cnJlbnQuY29uZmlnW2ldLnVybDtcbiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZihcIjovL1wiKSA9PSAtMSkgY29udGludWU7IC8vIGludmFsaWQgZGF0YSBmcm9tIG9sZCBjb25maWdcbiAgICAgICAgICAgIGNvbnN0IHdpdGhvdXRQcm90b2NvbCA9IHVybC5zdWJzdHIodXJsLmluZGV4T2YoXCI6Ly9cIikgKyAzKTtcbiAgICAgICAgICAgIGlmICh3aXRob3V0UHJvdG9jb2wubGVuZ3RoIDw9IDEpIGNvbnRpbnVlOyAvLyBpbnZhbGlkIGRhdGEgZnJvbSBvbGQgY29uZmlnXG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHRoaXMubWlncmF0ZUluZGl2aWR1YWxTaXRlQ29uZmlnU2V0dGluZ3NUb1YyKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQuY29uZmlnW2ldLmNvbmZpZ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aEluZGV4ID0gd2l0aG91dFByb3RvY29sLmluZGV4T2YoXCIvXCIpO1xuXG4gICAgICAgICAgICBpZiAocGF0aEluZGV4ID4gLTEgfHwgcGF0aEluZGV4ID09IHdpdGhvdXRQcm90b2NvbC5sYXN0SW5kZXhPZihcIi9cIikpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmluZyB0cmFpbGluZyBzbGFzaCBpZiB3ZSBoYXZlIG9ubHkgYSBob3N0IG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBob3N0ID1cbiAgICAgICAgICAgICAgICAgICAgcGF0aEluZGV4ID4gLTEgPyB3aXRob3V0UHJvdG9jb2wuc3Vic3RyKDAsIHBhdGhJbmRleCkgOiB3aXRob3V0UHJvdG9jb2w7XG5cbiAgICAgICAgICAgICAgICAvLyBVc2VyIG1heSBoYXZlIGNvbmZpZ3VyZWQgYSBwcmVmaXggbWF0Y2ggaW4gS2VlRm94IDEueCBidXQgaXQncyBub3QgYW4gZXNwZWNpYWxseSB1c2VmdWxcbiAgICAgICAgICAgICAgICAvLyBiZWhhdmlvdXIgYW5kIGhhcyBwb3RlbnRpYWwgdG8gYmUgdW5zYWZlIGluIGZ1dHVyZSBzbyB3ZSBjb252ZXJ0IGFsbCB0byBleGFjdCBtYXRjaGVzIG5vd1xuICAgICAgICAgICAgICAgIG5ld1NpdGVDb25maWcuaG9zdEV4YWN0W2hvc3RdID0ge1xuICAgICAgICAgICAgICAgICAgICBjb25maWc6IG5ld0NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hXZWlnaHQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBcIk1pZ3JhdGlvblwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCBpbmNyZWFzaW5nIHdlaWdodCB1bnRpbCB3ZSBmaW5kIG5vIG90aGVyIHNob3J0ZXIgZXhpc3RpbmcgZW50cmllcy4gVGhpcyBhc3N1bWVzIG9yZGVyaW5nIGJ5IGxlbmd0aFxuICAgICAgICAgICAgICAgIC8vIGluIHRoZSBvcmlnaW5hbCBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHRyYW5zZmVycmVkIHRvIHRoZSBuZXcgY29uZmlnIGluIHNhbWUgb3JkZXJcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBpc24ndCBjb21wbGV0ZWx5IHNhZmUgYnV0IG9ubHkgYmVjYXVzZSBvZiBidWdzIGluIEtlZUZveCAxLnggd2hpY2ggbWF5IGhhdmUgYWZmZWN0ZWQgZGF0YSBpbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAvLyBpbiBvbmUgb3IgdHdvIHJhcmUgY2FzZXMgYW5kIHdoaWNoIHdlIGNhbiBubyBsb25nZXIgZml4IHJlbGlhYmx5IGFueXdheS5cbiAgICAgICAgICAgICAgICBsZXQgd2VpZ2h0ID0gMjAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFnZVByZWZpeCBpbiBuZXdTaXRlQ29uZmlnLnBhZ2VQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpdGhvdXRQcm90b2NvbC5zdGFydHNXaXRoKHBhZ2VQcmVmaXgpKSB3ZWlnaHQrKztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBuZXdTaXRlQ29uZmlnLnBhZ2VQcmVmaXhbd2l0aG91dFByb3RvY29sXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBuZXdDb25maWcsXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoV2VpZ2h0OiB3ZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogXCJNaWdyYXRpb25cIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIHNpdGVDb25maWc6IG5ld1NpdGVDb25maWcsXG4gICAgICAgICAgICBjb25maWc6IG51bGwsXG4gICAgICAgICAgICB2ZXJzaW9uOiAyXG4gICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1pZ3JhdGVJbmRpdmlkdWFsU2l0ZUNvbmZpZ1NldHRpbmdzVG9WMihvbGRDb25maWc6IGFueSk6IFNpdGVDb25maWcge1xuICAgICAgICBjb25zdCBzYyA9IG5ldyBTaXRlQ29uZmlnKCk7XG4gICAgICAgIGlmIChvbGRDb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgc2MucHJldmVudFNhdmVOb3RpZmljYXRpb24gPSBvbGRDb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zKSB7XG4gICAgICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMubmFtZV93KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy53aGl0ZUxpc3QpIHNjLndoaXRlTGlzdCA9IHsgZm9ybTogeyBuYW1lczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZm9ybSkgc2Mud2hpdGVMaXN0LmZvcm0gPSB7IG5hbWVzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZm9ybS5uYW1lcykgc2Mud2hpdGVMaXN0LmZvcm0ubmFtZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy53aGl0ZUxpc3QuZm9ybS5uYW1lcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLm5hbWVfdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5pZF93KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy53aGl0ZUxpc3QpIHNjLndoaXRlTGlzdCA9IHsgZm9ybTogeyBpZHM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2Mud2hpdGVMaXN0LmZvcm0pIHNjLndoaXRlTGlzdC5mb3JtID0geyBpZHM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5mb3JtLmlkcykgc2Mud2hpdGVMaXN0LmZvcm0uaWRzID0gW107XG4gICAgICAgICAgICAgICAgc2Mud2hpdGVMaXN0LmZvcm0uaWRzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuaWRfdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5uYW1lX2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLmJsYWNrTGlzdCkgc2MuYmxhY2tMaXN0ID0geyBmb3JtOiB7IG5hbWVzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5mb3JtKSBzYy5ibGFja0xpc3QuZm9ybSA9IHsgbmFtZXM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5mb3JtLm5hbWVzKSBzYy5ibGFja0xpc3QuZm9ybS5uYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLmJsYWNrTGlzdC5mb3JtLm5hbWVzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMubmFtZV9iO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmlkX2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLmJsYWNrTGlzdCkgc2MuYmxhY2tMaXN0ID0geyBmb3JtOiB7IGlkczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZm9ybSkgc2MuYmxhY2tMaXN0LmZvcm0gPSB7IGlkczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZvcm0uaWRzKSBzYy5ibGFja0xpc3QuZm9ybS5pZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy5ibGFja0xpc3QuZm9ybS5pZHMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5pZF9iO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfbmFtZV93KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy53aGl0ZUxpc3QpIHNjLndoaXRlTGlzdCA9IHsgZmllbGRzOiB7IG5hbWVzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5maWVsZHMpIHNjLndoaXRlTGlzdC5maWVsZHMgPSB7IG5hbWVzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzKSBzYy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgc2Mud2hpdGVMaXN0LmZpZWxkcy5uYW1lcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfbmFtZV93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfaWRfdykge1xuICAgICAgICAgICAgICAgIGlmICghc2Mud2hpdGVMaXN0KSBzYy53aGl0ZUxpc3QgPSB7IGZpZWxkczogeyBpZHM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2Mud2hpdGVMaXN0LmZpZWxkcykgc2Mud2hpdGVMaXN0LmZpZWxkcyA9IHsgaWRzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZmllbGRzLmlkcykgc2Mud2hpdGVMaXN0LmZpZWxkcy5pZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy53aGl0ZUxpc3QuZmllbGRzLmlkcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfaWRfdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5mX25hbWVfYikge1xuICAgICAgICAgICAgICAgIGlmICghc2MuYmxhY2tMaXN0KSBzYy5ibGFja0xpc3QgPSB7IGZpZWxkczogeyBuYW1lczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZmllbGRzKSBzYy5ibGFja0xpc3QuZmllbGRzID0geyBuYW1lczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcykgc2MuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLmJsYWNrTGlzdC5maWVsZHMubmFtZXMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5mX25hbWVfYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5mX2lkX2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLmJsYWNrTGlzdCkgc2MuYmxhY2tMaXN0ID0geyBmaWVsZHM6IHsgaWRzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5maWVsZHMpIHNjLmJsYWNrTGlzdC5maWVsZHMgPSB7IGlkczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZpZWxkcy5pZHMpIHNjLmJsYWNrTGlzdC5maWVsZHMuaWRzID0gW107XG4gICAgICAgICAgICAgICAgc2MuYmxhY2tMaXN0LmZpZWxkcy5pZHMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5mX2lkX2I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjO1xuICAgIH1cbn1cbiIsImRlY2xhcmUgY29uc3QgcHVibGljU3VmZml4TGlzdDtcbmRlY2xhcmUgY29uc3QgcHVueWNvZGU7XG5kZWNsYXJlIGNvbnN0IHBzbERhdGE7XG5cbmV4cG9ydCBjbGFzcyBVdGlscyB7XG4gICAgcHJpdmF0ZSBwc2xJbml0aWFsaXNlZCA9IGZhbHNlO1xuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAvIEdlbmVyYWwgdXRpbGl0eSBmdW5jdGlvbnNcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIHZlcnNpb25Bc0ludCh2ZXJzaW9uQXJyYXkpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJzaW9uQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiAyNTYgKyB2ZXJzaW9uQXJyYXlbaV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgdmVyc2lvbkFzQXJyYXkodmVyc2lvbkludCkge1xuICAgICAgICBjb25zdCBieXRlQXJyYXkgPSBbMCwgMCwgMF07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGJ5dGVBcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgYnl0ZSA9IHZlcnNpb25JbnQgJiAweGZmO1xuICAgICAgICAgICAgYnl0ZUFycmF5W2ldID0gYnl0ZTtcbiAgICAgICAgICAgIHZlcnNpb25JbnQgPSAodmVyc2lvbkludCAtIGJ5dGUpIC8gMjU2O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ5dGVBcnJheTtcbiAgICB9XG5cbiAgICB2ZXJzaW9uQXNTdHJpbmcodmVyc2lvbkludCkge1xuICAgICAgICBsZXQgdmFsdWUgPSBcIlwiO1xuICAgICAgICBjb25zdCB2ZXJzaW9uQXJyYXkgPSB0aGlzLnZlcnNpb25Bc0FycmF5KHZlcnNpb25JbnQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnNpb25BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB2YWx1ZSArPSBcIi5cIjtcbiAgICAgICAgICAgIHZhbHVlICs9IHZlcnNpb25BcnJheVtpXS50b1N0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8vIHJldHVybiB0aGUgdHdvLWRpZ2l0IGhleGFkZWNpbWFsIGNvZGUgZm9yIGEgYnl0ZVxuICAgIHRvSGV4U3RyaW5nKGNoYXJDb2RlKSB7XG4gICAgICAgIHJldHVybiAoXCIwXCIgKyBjaGFyQ29kZS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcbiAgICB9XG5cbiAgICBCaWdJbnRGcm9tUmFuZG9tKGJ5dGVDb3VudCkge1xuICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ5dGVDb3VudCk7XG4gICAgICAgIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGJ5dGVzKTtcbiAgICAgICAgY29uc3QgaGV4ID0gQXJyYXkuZnJvbShieXRlcykubWFwKHRoaXMudG9IZXhTdHJpbmcpLmpvaW4oXCJcIik7XG4gICAgICAgIHJldHVybiBCaWdJbnRlZ2VyLnBhcnNlKGhleCwgMTYpO1xuICAgICAgICAvL1RPRE86IHN3aXRjaCB0byBuYXRpdmUgYmlnaW50XG4gICAgICAgIC8vICAgICAgICByZXR1cm4gQmlnSW50KGAweCR7aGV4fWApO1xuICAgIH1cblxuICAgIC8vIGlucHV0IGNhbiBiZSBlaXRoZXIgVVRGOCBmb3JtYXR0ZWQgc3RyaW5nIG9yIGEgYnl0ZSBhcnJheVxuICAgIGhhc2g8VCBleHRlbmRzIHN0cmluZyB8IFVpbnQ4QXJyYXk+KGRhdGE6IFQsIG91dEZvcm1hdCA9IFwiaGV4XCIsIGFsZ29yaXRobSA9IFwiU0hBLTI1NlwiKSB7XG4gICAgICAgIGxldCBpbkJ1ZmZlcjogYW55O1xuXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiKSBpbkJ1ZmZlciA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShkYXRhKTtcbiAgICAgICAgZWxzZSBpbkJ1ZmZlciA9IGRhdGE7XG5cbiAgICAgICAgcmV0dXJuIGNyeXB0by5zdWJ0bGUuZGlnZXN0KHsgbmFtZTogYWxnb3JpdGhtIH0sIGluQnVmZmVyKS50aGVuKG91dEJ1ZmZlciA9PiB7XG4gICAgICAgICAgICBpZiAob3V0Rm9ybWF0ID09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuYnl0ZUFycmF5VG9CYXNlNjQob3V0QnVmZmVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkob3V0QnVmZmVyKSkubWFwKHRoaXMudG9IZXhTdHJpbmcpLmpvaW4oXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGludFRvQnl0ZUFycmF5KGludCkge1xuICAgICAgICBjb25zdCBieXRlQXJyYXkgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSBieXRlQXJyYXkubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgY29uc3QgYnl0ZSA9IGludCAmIDB4ZmY7XG4gICAgICAgICAgICBieXRlQXJyYXlbaW5kZXhdID0gYnl0ZTtcbiAgICAgICAgICAgIGludCA9IChpbnQgLSBieXRlKSAvIDI1NjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBieXRlQXJyYXk7XG4gICAgfVxuXG4gICAgaW50QXJyYXlUb0J5dGVBcnJheShpbnRBcnJheSkge1xuICAgICAgICBjb25zdCBieXRlQXJyYXkgPSBuZXcgQXJyYXkoaW50QXJyYXkubGVuZ3RoICogNCk7XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGludEFycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgbGV0IGludCA9IGludEFycmF5W2luZGV4XTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAzOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGUgPSBpbnQgJiAweGZmO1xuICAgICAgICAgICAgICAgIGJ5dGVBcnJheVtpbmRleCAqIDQgKyBqXSA9IGJ5dGU7XG4gICAgICAgICAgICAgICAgaW50ID0gKGludCAtIGJ5dGUpIC8gMjU2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ5dGVBcnJheTtcbiAgICB9XG5cbiAgICBzdHJpbmdUb0J5dGVBcnJheShzdHIpIHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICByZXR1cm4gZS5lbmNvZGUoc3RyKTtcbiAgICB9XG5cbiAgICAvLyBBIHZhcmlhdGlvbiBvZiBiYXNlNjR0b0J5dGVBcnJheSB3aGljaCBhbGxvd3MgdXMgdG8gY2FsY3VsYXRlIGEgSE1BQyBmYXJcbiAgICAvLyBtb3JlIGVmZmljaWVudGx5IHRoYW4gd2l0aCBzZXBlcmF0ZSBtZW1vcnkgYnVmZmVyc1xuICAgIGJhc2U2NHRvQnl0ZUFycmF5Rm9ySE1BQyhpbnB1dCwgZXh0cmFMZW5ndGgsIHZpZXcgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGJpbmFyeSA9IGF0b2IoaW5wdXQpO1xuICAgICAgICBjb25zdCBsZW4gPSBiaW5hcnkubGVuZ3RoO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgaWYgKCF2aWV3KSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobGVuICsgZXh0cmFMZW5ndGgpO1xuICAgICAgICAgICAgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICBvZmZzZXQgPSAyMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2aWV3W2kgKyBvZmZzZXRdID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuXG4gICAgYmFzZTY0dG9CeXRlQXJyYXkoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgYmluYXJ5ID0gYXRvYihpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxlbiA9IGJpbmFyeS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihsZW4pO1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmlld1tpXSA9IGJpbmFyeS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cblxuICAgIGJ5dGVBcnJheVRvQmFzZTY0KGFycmF5QnVmZmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGJhc2U2NCA9IFwiXCI7XG4gICAgICAgIGNvbnN0IGVuY29kaW5ncyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiO1xuICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgY29uc3QgYnl0ZUxlbmd0aCA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gICAgICAgIGNvbnN0IGJ5dGVSZW1haW5kZXIgPSBieXRlTGVuZ3RoICUgMztcbiAgICAgICAgY29uc3QgbWFpbkxlbmd0aCA9IGJ5dGVMZW5ndGggLSBieXRlUmVtYWluZGVyO1xuICAgICAgICBsZXQgYTtcbiAgICAgICAgbGV0IGI7XG4gICAgICAgIGxldCBjO1xuICAgICAgICBsZXQgZDtcbiAgICAgICAgbGV0IGNodW5rO1xuXG4gICAgICAgIC8vIE1haW4gbG9vcCBkZWFscyB3aXRoIGJ5dGVzIGluIGNodW5rcyBvZiAzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFpbkxlbmd0aDsgaSA9IGkgKyAzKSB7XG4gICAgICAgICAgICAvLyBDb21iaW5lIGludG8gYSBzaW5nbGUgaW50ZWdlclxuICAgICAgICAgICAgY2h1bmsgPSAoYnl0ZXNbaV0gPDwgMTYpIHwgKGJ5dGVzW2kgKyAxXSA8PCA4KSB8IGJ5dGVzW2kgKyAyXTtcblxuICAgICAgICAgICAgLy8gVXNlIGJpdG1hc2tzIHRvIGV4dHJhY3QgNi1iaXQgc2VnbWVudHMgZnJvbSB0aGUgdHJpcGxldFxuICAgICAgICAgICAgYSA9IChjaHVuayAmIDE2NTE1MDcyKSA+PiAxODsgLy8gMTY1MTUwNzIgPSAoMl42IC0gMSkgPDwgMThcbiAgICAgICAgICAgIGIgPSAoY2h1bmsgJiAyNTgwNDgpID4+IDEyOyAvLyAyNTgwNDggPSAoMl42IC0gMSkgPDwgMTJcbiAgICAgICAgICAgIGMgPSAoY2h1bmsgJiA0MDMyKSA+PiA2OyAvLyA0MDMyID0gKDJeNiAtIDEpIDw8IDZcbiAgICAgICAgICAgIGQgPSBjaHVuayAmIDYzOyAvLyA2MyA9IDJeNiAtIDFcblxuICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgcmF3IGJpbmFyeSBzZWdtZW50cyB0byB0aGUgYXBwcm9wcmlhdGUgQVNDSUkgZW5jb2RpbmdcbiAgICAgICAgICAgIGJhc2U2NCArPSBlbmNvZGluZ3NbYV0gKyBlbmNvZGluZ3NbYl0gKyBlbmNvZGluZ3NbY10gKyBlbmNvZGluZ3NbZF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWFsIHdpdGggdGhlIHJlbWFpbmluZyBieXRlcyBhbmQgcGFkZGluZ1xuICAgICAgICBpZiAoYnl0ZVJlbWFpbmRlciA9PSAxKSB7XG4gICAgICAgICAgICBjaHVuayA9IGJ5dGVzW21haW5MZW5ndGhdO1xuXG4gICAgICAgICAgICBhID0gKGNodW5rICYgMjUyKSA+PiAyOyAvLyAyNTIgPSAoMl42IC0gMSkgPDwgMlxuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyB0byB6ZXJvXG4gICAgICAgICAgICBiID0gKGNodW5rICYgMykgPDwgNDsgLy8gMyA9IDJeMiAtIDFcblxuICAgICAgICAgICAgYmFzZTY0ICs9IGVuY29kaW5nc1thXSArIGVuY29kaW5nc1tiXSArIFwiPT1cIjtcbiAgICAgICAgfSBlbHNlIGlmIChieXRlUmVtYWluZGVyID09IDIpIHtcbiAgICAgICAgICAgIGNodW5rID0gKGJ5dGVzW21haW5MZW5ndGhdIDw8IDgpIHwgYnl0ZXNbbWFpbkxlbmd0aCArIDFdO1xuXG4gICAgICAgICAgICBhID0gKGNodW5rICYgNjQ1MTIpID4+IDEwOyAvLyA2NDUxMiA9ICgyXjYgLSAxKSA8PCAxMFxuICAgICAgICAgICAgYiA9IChjaHVuayAmIDEwMDgpID4+IDQ7IC8vIDEwMDggID0gKDJeNiAtIDEpIDw8IDRcblxuICAgICAgICAgICAgLy8gU2V0IHRoZSAyIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgdG8gemVyb1xuICAgICAgICAgICAgYyA9IChjaHVuayAmIDE1KSA8PCAyOyAvLyAxNSA9IDJeNCAtIDFcblxuICAgICAgICAgICAgYmFzZTY0ICs9IGVuY29kaW5nc1thXSArIGVuY29kaW5nc1tiXSArIGVuY29kaW5nc1tjXSArIFwiPVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2U2NDtcbiAgICB9XG5cbiAgICBoZXhTdHJpbmdUb0J5dGVBcnJheShoZXhTdHJpbmcsIGJ5dGVBcnJheSA9IG51bGwpIHtcbiAgICAgICAgaWYgKGhleFN0cmluZy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIk11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZiBoZXggZGlnaXRzIHRvIGNvbnZlcnQgdG8gYnl0ZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbnVtQnl0ZXMgPSBoZXhTdHJpbmcubGVuZ3RoIC8gMjtcbiAgICAgICAgaWYgKCFieXRlQXJyYXkpIGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KG51bUJ5dGVzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1CeXRlczsgaSsrKSB7XG4gICAgICAgICAgICBieXRlQXJyYXlbaV0gPSBwYXJzZUludChoZXhTdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBieXRlQXJyYXk7XG4gICAgfVxuXG4gICAgbmV3R1VJRCgpIHtcbiAgICAgICAgY29uc3QgbHV0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgICAgIGx1dFtpXSA9IChpIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgaS50b1N0cmluZygxNik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkdmFscyA9IG5ldyBVaW50MzJBcnJheSg0KTtcbiAgICAgICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoZHZhbHMpO1xuICAgICAgICBjb25zdCBkMCA9IGR2YWxzWzBdO1xuICAgICAgICBjb25zdCBkMSA9IGR2YWxzWzFdO1xuICAgICAgICBjb25zdCBkMiA9IGR2YWxzWzJdO1xuICAgICAgICBjb25zdCBkMyA9IGR2YWxzWzNdO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgbHV0W2QwICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMCA+PiA4KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDAgPj4gMTYpICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMCA+PiAyNCkgJiAweGZmXSArXG4gICAgICAgICAgICBcIi1cIiArXG4gICAgICAgICAgICBsdXRbZDEgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbKGQxID4+IDgpICYgMHhmZl0gK1xuICAgICAgICAgICAgXCItXCIgK1xuICAgICAgICAgICAgbHV0WygoZDEgPj4gMTYpICYgMHgwZikgfCAweDQwXSArXG4gICAgICAgICAgICBsdXRbKGQxID4+IDI0KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIFwiLVwiICtcbiAgICAgICAgICAgIGx1dFsoZDIgJiAweDNmKSB8IDB4ODBdICtcbiAgICAgICAgICAgIGx1dFsoZDIgPj4gOCkgJiAweGZmXSArXG4gICAgICAgICAgICBcIi1cIiArXG4gICAgICAgICAgICBsdXRbKGQyID4+IDE2KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDIgPj4gMjQpICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0W2QzICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMyA+PiA4KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDMgPj4gMTYpICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMyA+PiAyNCkgJiAweGZmXVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGJhc2U2NHVybERlY29kZShpbnB1dDogc3RyaW5nKSB7XG4gICAgICAgIC8vIEkgZG9uJ3Qgc2VlIHdoeSB3ZSBkbyBhbnkgcmVwbGFjZW1lbnRzIGhlcmUuIFNlZW1zIGEgcG9pbnRsZXNzIHdhc3RlIG9mIGN5Y2xlcy4gTmVlZHMgdGVzdGluZyBhbmQgcmVtb3ZhbCBpZiBJJ20gcmlnaHQuXG4gICAgICAgIHJldHVybiBhdG9iKGlucHV0LnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpKTtcbiAgICB9XG5cbiAgICBiaW5hcnlUb0J5dGVBcnJheShiaW5hcnk6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICAgICAgICBjb25zdCBsZW4gPSBiaW5hcnkubGVuZ3RoO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobGVuKTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZpZXdbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG5cbiAgICBiYXNlNjR1cmx0b0J5dGVBcnJheShpbnB1dDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGJpbmFyeSA9IHRoaXMuYmFzZTY0dXJsRGVjb2RlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJ5VG9CeXRlQXJyYXkoYmluYXJ5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBzbCgpIHtcbiAgICAgICAgaWYgKCFwdWJsaWNTdWZmaXhMaXN0KSB0aHJvdyBuZXcgRXJyb3IoXCJwdWJsaWNTdWZmaXhMaXN0IGxpYnJhcnkgbm90IHByZXNlbnRcIik7XG4gICAgICAgIGlmICghdGhpcy5wc2xJbml0aWFsaXNlZCkge1xuICAgICAgICAgICAgcHVibGljU3VmZml4TGlzdC5wYXJzZShwc2xEYXRhLnRleHQsIHB1bnljb2RlLnRvQVNDSUkpO1xuICAgICAgICAgICAgdGhpcy5wc2xJbml0aWFsaXNlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHB1YmxpY1N1ZmZpeExpc3Q7XG4gICAgfVxufVxuXG4vLyBCYXNlZCBvbiB0aGUgZmFzdC1kZWVwLWVxdWFsIHBhY2thZ2VcbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXF1YWwoYTogYW55LCBiOiBhbnkpOiBib29sZWFuIHtcbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cbiAgICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGIgPT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGxldCBsZW5ndGg7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgICAgICAgICAgIHtpZiAoIWRlZXBFcXVhbChhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO31cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgICAgIGlmIChhLnZhbHVlT2YgIT09IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZikgcmV0dXJuIGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKTtcbiAgICAgICAgaWYgKGEudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHJldHVybiBhLnRvU3RyaW5nKCkgPT09IGIudG9TdHJpbmcoKTtcblxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgICAgICB7aWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5c1tpXSkpIHJldHVybiBmYWxzZTt9XG5cbiAgICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyB0cnVlIGlmIGJvdGggTmFOLCBmYWxzZSBvdGhlcndpc2VcbiAgICByZXR1cm4gYSAhPT0gYSAmJiBiICE9PSBiO1xufVxuXG5leHBvcnQgY29uc3QgdXRpbHMgPSBuZXcgVXRpbHMoKTtcbiIsImNvbnN0IGxpc3QgPSBbXG5cdC8vIE5hdGl2ZSBFUyBlcnJvcnMgaHR0cHM6Ly8yNjIuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy8xMi4wLyNzZWMtd2VsbC1rbm93bi1pbnRyaW5zaWMtb2JqZWN0c1xuXHRFdmFsRXJyb3IsXG5cdFJhbmdlRXJyb3IsXG5cdFJlZmVyZW5jZUVycm9yLFxuXHRTeW50YXhFcnJvcixcblx0VHlwZUVycm9yLFxuXHRVUklFcnJvcixcblxuXHQvLyBCdWlsdC1pbiBlcnJvcnNcblx0Z2xvYmFsVGhpcy5ET01FeGNlcHRpb24sXG5cblx0Ly8gTm9kZS1zcGVjaWZpYyBlcnJvcnNcblx0Ly8gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9lcnJvcnMuaHRtbFxuXHRnbG9iYWxUaGlzLkFzc2VydGlvbkVycm9yLFxuXHRnbG9iYWxUaGlzLlN5c3RlbUVycm9yLFxuXVxuXHQvLyBOb24tbmF0aXZlIEVycm9ycyBhcmUgdXNlZCB3aXRoIGBnbG9iYWxUaGlzYCBiZWNhdXNlIHRoZXkgbWlnaHQgYmUgbWlzc2luZy4gVGhpcyBmaWx0ZXIgZHJvcHMgdGhlbSB3aGVuIHVuZGVmaW5lZC5cblx0LmZpbHRlcihCb29sZWFuKVxuXHQubWFwKFxuXHRcdGNvbnN0cnVjdG9yID0+IFtjb25zdHJ1Y3Rvci5uYW1lLCBjb25zdHJ1Y3Rvcl0sXG5cdCk7XG5cbmNvbnN0IGVycm9yQ29uc3RydWN0b3JzID0gbmV3IE1hcChsaXN0KTtcblxuZXhwb3J0IGRlZmF1bHQgZXJyb3JDb25zdHJ1Y3RvcnM7XG4iLCJpbXBvcnQgZXJyb3JDb25zdHJ1Y3RvcnMgZnJvbSAnLi9lcnJvci1jb25zdHJ1Y3RvcnMuanMnO1xuXG5leHBvcnQgY2xhc3MgTm9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdG5hbWUgPSAnTm9uRXJyb3InO1xuXG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcblx0XHRzdXBlcihOb25FcnJvci5fcHJlcGFyZVN1cGVyTWVzc2FnZShtZXNzYWdlKSk7XG5cdH1cblxuXHRzdGF0aWMgX3ByZXBhcmVTdXBlck1lc3NhZ2UobWVzc2FnZSkge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gU3RyaW5nKG1lc3NhZ2UpO1xuXHRcdH1cblx0fVxufVxuXG5jb25zdCBjb21tb25Qcm9wZXJ0aWVzID0gW1xuXHR7XG5cdFx0cHJvcGVydHk6ICduYW1lJyxcblx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0fSxcblx0e1xuXHRcdHByb3BlcnR5OiAnbWVzc2FnZScsXG5cdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdH0sXG5cdHtcblx0XHRwcm9wZXJ0eTogJ3N0YWNrJyxcblx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0fSxcblx0e1xuXHRcdHByb3BlcnR5OiAnY29kZScsXG5cdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0fSxcblx0e1xuXHRcdHByb3BlcnR5OiAnY2F1c2UnLFxuXHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHR9LFxuXTtcblxuY29uc3QgdG9Kc29uV2FzQ2FsbGVkID0gU3ltYm9sKCcudG9KU09OIHdhcyBjYWxsZWQnKTtcblxuY29uc3QgdG9KU09OID0gZnJvbSA9PiB7XG5cdGZyb21bdG9Kc29uV2FzQ2FsbGVkXSA9IHRydWU7XG5cdGNvbnN0IGpzb24gPSBmcm9tLnRvSlNPTigpO1xuXHRkZWxldGUgZnJvbVt0b0pzb25XYXNDYWxsZWRdO1xuXHRyZXR1cm4ganNvbjtcbn07XG5cbmNvbnN0IGdldEVycm9yQ29uc3RydWN0b3IgPSBuYW1lID0+IGVycm9yQ29uc3RydWN0b3JzLmdldChuYW1lKSA/PyBFcnJvcjtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmNvbnN0IGRlc3Ryb3lDaXJjdWxhciA9ICh7XG5cdGZyb20sXG5cdHNlZW4sXG5cdHRvLFxuXHRmb3JjZUVudW1lcmFibGUsXG5cdG1heERlcHRoLFxuXHRkZXB0aCxcblx0dXNlVG9KU09OLFxuXHRzZXJpYWxpemUsXG59KSA9PiB7XG5cdGlmICghdG8pIHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShmcm9tKSkge1xuXHRcdFx0dG8gPSBbXTtcblx0XHR9IGVsc2UgaWYgKCFzZXJpYWxpemUgJiYgaXNFcnJvckxpa2UoZnJvbSkpIHtcblx0XHRcdGNvbnN0IEVycm9yID0gZ2V0RXJyb3JDb25zdHJ1Y3Rvcihmcm9tLm5hbWUpO1xuXHRcdFx0dG8gPSBuZXcgRXJyb3IoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dG8gPSB7fTtcblx0XHR9XG5cdH1cblxuXHRzZWVuLnB1c2goZnJvbSk7XG5cblx0aWYgKGRlcHRoID49IG1heERlcHRoKSB7XG5cdFx0cmV0dXJuIHRvO1xuXHR9XG5cblx0aWYgKHVzZVRvSlNPTiAmJiB0eXBlb2YgZnJvbS50b0pTT04gPT09ICdmdW5jdGlvbicgJiYgZnJvbVt0b0pzb25XYXNDYWxsZWRdICE9PSB0cnVlKSB7XG5cdFx0cmV0dXJuIHRvSlNPTihmcm9tKTtcblx0fVxuXG5cdGNvbnN0IGNvbnRpbnVlRGVzdHJveUNpcmN1bGFyID0gdmFsdWUgPT4gZGVzdHJveUNpcmN1bGFyKHtcblx0XHRmcm9tOiB2YWx1ZSxcblx0XHRzZWVuOiBbLi4uc2Vlbl0sXG5cdFx0Zm9yY2VFbnVtZXJhYmxlLFxuXHRcdG1heERlcHRoLFxuXHRcdGRlcHRoLFxuXHRcdHVzZVRvSlNPTixcblx0XHRzZXJpYWxpemUsXG5cdH0pO1xuXG5cdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGZyb20pKSB7XG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vZGUvcHJlZmVyLWdsb2JhbC9idWZmZXJcblx0XHRpZiAodHlwZW9mIEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG5cdFx0XHR0b1trZXldID0gJ1tvYmplY3QgQnVmZmVyXSc7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHQvLyBUT0RPOiBVc2UgYHN0cmVhbS5pc1JlYWRhYmxlKClgIHdoZW4gdGFyZ2V0aW5nIE5vZGUuanMgMTguXG5cdFx0aWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLnBpcGUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRvW2tleV0gPSAnW29iamVjdCBTdHJlYW1dJztcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0dG9ba2V5XSA9IHZhbHVlO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKCFzZWVuLmluY2x1ZGVzKGZyb21ba2V5XSkpIHtcblx0XHRcdGRlcHRoKys7XG5cdFx0XHR0b1trZXldID0gY29udGludWVEZXN0cm95Q2lyY3VsYXIoZnJvbVtrZXldKTtcblxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0dG9ba2V5XSA9ICdbQ2lyY3VsYXJdJztcblx0fVxuXG5cdGZvciAoY29uc3Qge3Byb3BlcnR5LCBlbnVtZXJhYmxlfSBvZiBjb21tb25Qcm9wZXJ0aWVzKSB7XG5cdFx0aWYgKHR5cGVvZiBmcm9tW3Byb3BlcnR5XSAhPT0gJ3VuZGVmaW5lZCcgJiYgZnJvbVtwcm9wZXJ0eV0gIT09IG51bGwpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0bywgcHJvcGVydHksIHtcblx0XHRcdFx0dmFsdWU6IGlzRXJyb3JMaWtlKGZyb21bcHJvcGVydHldKSA/IGNvbnRpbnVlRGVzdHJveUNpcmN1bGFyKGZyb21bcHJvcGVydHldKSA6IGZyb21bcHJvcGVydHldLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmb3JjZUVudW1lcmFibGUgPyB0cnVlIDogZW51bWVyYWJsZSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVFcnJvcih2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG5cdGNvbnN0IHtcblx0XHRtYXhEZXB0aCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcblx0XHR1c2VUb0pTT04gPSB0cnVlLFxuXHR9ID0gb3B0aW9ucztcblxuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuXHRcdHJldHVybiBkZXN0cm95Q2lyY3VsYXIoe1xuXHRcdFx0ZnJvbTogdmFsdWUsXG5cdFx0XHRzZWVuOiBbXSxcblx0XHRcdGZvcmNlRW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdG1heERlcHRoLFxuXHRcdFx0ZGVwdGg6IDAsXG5cdFx0XHR1c2VUb0pTT04sXG5cdFx0XHRzZXJpYWxpemU6IHRydWUsXG5cdFx0fSk7XG5cdH1cblxuXHQvLyBQZW9wbGUgc29tZXRpbWVzIHRocm93IHRoaW5ncyBiZXNpZGVzIEVycm9yIG9iamVjdHPigKZcblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIGBKU09OLnN0cmluZ2lmeSgpYCBkaXNjYXJkcyBmdW5jdGlvbnMuIFdlIGRvIHRvbywgdW5sZXNzIGEgZnVuY3Rpb24gaXMgdGhyb3duIGRpcmVjdGx5LlxuXHRcdHJldHVybiBgW0Z1bmN0aW9uOiAke3ZhbHVlLm5hbWUgPz8gJ2Fub255bW91cyd9XWA7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZUVycm9yKHZhbHVlLCBvcHRpb25zID0ge30pIHtcblx0Y29uc3Qge21heERlcHRoID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSA9IG9wdGlvbnM7XG5cblx0aWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblxuXHRpZiAoaXNNaW5pbXVtVmlhYmxlU2VyaWFsaXplZEVycm9yKHZhbHVlKSkge1xuXHRcdGNvbnN0IEVycm9yID0gZ2V0RXJyb3JDb25zdHJ1Y3Rvcih2YWx1ZS5uYW1lKTtcblx0XHRyZXR1cm4gZGVzdHJveUNpcmN1bGFyKHtcblx0XHRcdGZyb206IHZhbHVlLFxuXHRcdFx0c2VlbjogW10sXG5cdFx0XHR0bzogbmV3IEVycm9yKCksXG5cdFx0XHRtYXhEZXB0aCxcblx0XHRcdGRlcHRoOiAwLFxuXHRcdFx0c2VyaWFsaXplOiBmYWxzZSxcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBuZXcgTm9uRXJyb3IodmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvckxpa2UodmFsdWUpIHtcblx0cmV0dXJuIEJvb2xlYW4odmFsdWUpXG5cdCYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCdcblx0JiYgJ25hbWUnIGluIHZhbHVlXG5cdCYmICdtZXNzYWdlJyBpbiB2YWx1ZVxuXHQmJiAnc3RhY2snIGluIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBpc01pbmltdW1WaWFibGVTZXJpYWxpemVkRXJyb3IodmFsdWUpIHtcblx0cmV0dXJuIEJvb2xlYW4odmFsdWUpXG5cdCYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCdcblx0JiYgJ21lc3NhZ2UnIGluIHZhbHVlXG5cdCYmICFBcnJheS5pc0FycmF5KHZhbHVlKTtcbn1cblxuZXhwb3J0IHtkZWZhdWx0IGFzIGVycm9yQ29uc3RydWN0b3JzfSBmcm9tICcuL2Vycm9yLWNvbnN0cnVjdG9ycy5qcyc7XG4iLCIvKlxuICBUaGVyZSBhcmUgZm91ciBjdW11bGF0aXZlIGxvZyBsZXZlbHMuXG5cbiAgRXJyb3IgPSAxXG4gIFdhcm4gPSAyXG4gIEluZm8gPSAzXG4gIERlYnVnID0gNFxuXG4gIFRoZSBkZWZhdWx0IGxldmVsIChXYXJuKSB3aWxsIGJlIHNldCBhcyBwYXJ0IG9mIHRoZSBpbnN0YWxsYXRpb24gcHJvY2Vzcy5cblxuICBJZiBEZWJ1ZyBsZXZlbCBpcyBzZWxlY3RlZCwgYSBQZXJzaXN0ZW50TG9nZ2VyIG9iamVjdCBpbiB0aGUgYmFja2dyb3VuZFxuICBwcm9jZXNzIHdpbGwgc3RvcmUgdGhlIGxvZyBlbnRyaWVzIGluIGxvY2FsU3RvcmFnZSBvbiBhIHJlZ3VsYXIgYmFzaXMuIEJ1dFxuICBvbmx5IGlmIHlvdSBlZGl0IHRoZSBjb2RlIHRvIGVuYWJsZSB0aGlzIGZlYXR1cmUgYmVjYXVzZSBpdCBpcyB2ZXJ5IHJlc291cmNlLWh1bmdyeVxuXG4qL1xuaW1wb3J0IHsgc2VyaWFsaXplRXJyb3IgfSBmcm9tIFwic2VyaWFsaXplLWVycm9yXCI7XG5cbmV4cG9ydCBjbGFzcyBLZWVMb2dnZXIge1xuICAgIHB1YmxpYyBkZWZhdWx0TGV2ZWwgPSA0O1xuICAgIHByaXZhdGUgb3V0cHV0U3RhcnRlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgY29uZmlnID0geyBsb2dMZXZlbDogdGhpcy5kZWZhdWx0TGV2ZWwgfTtcblxuICAgIGF0dGFjaENvbmZpZyhjb25maWc6IHsgbG9nTGV2ZWw6IG51bWJlciB9KSB7XG4gICAgICAgIHRoaXMuZGVidWcoXCJMb2dnaW5nIHN5c3RlbSBjb25maWcgdXBkYXRlZCBhdCBcIiArIERhdGUoKSk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIH1cblxuICAgIHByaXZhdGUgZm9ybWF0TWVzc2FnZShtZXNzYWdlLCBlPzogRXJyb3IpIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlICYmICFlKSByZXR1cm4gXCJcIjtcblxuICAgICAgICBpZiAoIXRoaXMub3V0cHV0U3RhcnRlZCkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IFwiKiBcIiArIG1lc3NhZ2U7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9IGAgRXJyb3I6ICR7SlNPTi5zdHJpbmdpZnkoc2VyaWFsaXplRXJyb3IoZSkpfWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxvZ0xldmVsID49IDQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLmZvcm1hdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCg0LCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluZm8obWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSAzKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCgzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdhcm4obWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSAyKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCgyLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgZT86IEVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSAxKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UsIGUpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcubG9nTGV2ZWwgPj0gNCAmJiB0aGlzLnNlbmQoMSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgc2VuZChsb2dMZXZlbDogMSB8IDIgfCAzIHwgNCwgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgICAgIC8vIEZvciBhZHZhbmNlZCBkZWJ1Z2dpbmcsIGVzcGVjaWFsbHkgYWNyb3NzIGJyb3dzZXIgcmVzdGFydHMsXG4gICAgICAgIC8vIGVuYWJsZSB0aGUgY29kZSBiZWxvdyBhbmQgdGhlIHJlbGV2YW50IFBlcnNpc3RlbnRMb2dnZXIgbGluZXNcbiAgICAgICAgLy8gaW4gYmFja2dyb3VuZC50c1xuICAgICAgICAvLyBjb25zdCBsb2dFbnRyeSA9IHtsb2dMZXZlbCwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBtZXNzYWdlfTtcbiAgICAgICAgLy8gaWYgKHdpbmRvdy5LZWVQZXJzaXN0ZW50TG9nZ2VyKSB7XG4gICAgICAgIC8vICAgICAvLyBXaWxsIG9ubHkgYmUgdHJ1ZSBpbiB0aGUgYmFja2dyb3VuZCBwcm9jZXNzXG4gICAgICAgIC8vICAgICB3aW5kb3cuS2VlUGVyc2lzdGVudExvZ2dlci5lbWl0KGxvZ0VudHJ5KTtcbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gICAgIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZShsb2dFbnRyeSk7XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBzdGFja1RyYWNlKCkge1xuICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFwiJWMgU3RhY2sgVHJhY2VcIiwgXCJjb2xvcjpjcmVhbTsgZm9udC1zdHlsZTogbm9ybWFsO1wiKTtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBLZWVMb2cgPSBuZXcgS2VlTG9nZ2VyKCk7XG4iLCJpbXBvcnQge1xuICAgIENvbmZpZyxcbiAgICBTaXRlQ29uZmlnLFxuICAgIFNpdGVDb25maWdMb29rdXAsXG4gICAgU2l0ZUNvbmZpZ01ldGhvZCxcbiAgICBTaXRlQ29uZmlnTm9kZSxcbiAgICBTaXRlQ29uZmlnTm9kZVR5cGUsXG4gICAgU2l0ZUNvbmZpZ1RhcmdldFxufSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IENvbmZpZ01pZ3JhdGlvbnMgfSBmcm9tIFwiLi9Db25maWdNaWdyYXRpb25zXCI7XG5pbXBvcnQgeyBkZWZhdWx0U2l0ZUNvbmZpZyB9IGZyb20gXCIuL0RlZmF1bHRTaXRlQ29uZmlnXCI7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gXCIuL21vZGVsL0ZpZWxkXCI7XG5pbXBvcnQgeyBLZWVMb2cgfSBmcm9tIFwiLi9Mb2dnZXJcIjtcblxudHlwZSBTaXRlQ29uZmlnTm9kZUFuZEluZGV4ID0ge1xuICAgIG5vZGU6IFNpdGVDb25maWdOb2RlO1xuICAgIHRhcmdldDogU2l0ZUNvbmZpZ1RhcmdldDtcbiAgICBtZXRob2Q6IFNpdGVDb25maWdNZXRob2Q7XG4gICAgbG9va3VwVmFsdWU6IHN0cmluZztcbn07XG5cbi8qXG4gIEVudHJ5LXNwZWNpZmljIGNvbmZpZ3VyYXRpb24gaXMgc3RvcmVkIGluIEtlZVBhc3MgYnV0IGluIGZ1dHVyZSBtYXliZVxuICB3ZSdsbCBzdGlsbCBtYWtlIGl0IGF2YWlsYWJsZSBmcm9tIHRoaXMgaW50ZXJmYWNlLlxuKi9cblxuLy8gUHJldGVuZCBicm93c2VyIChXZWJFeHRlbnNpb25zKSBpcyBjaHJvbWUgKHdlIGluY2x1ZGUgYVxuLy8gcG9seWZpbGwgZnJvbSBNb3ppbGxhIGJ1dCBpdCBkb2Vzbid0IHdvcmsgaW4gc29tZSBjYXNlcylcbmRlY2xhcmUgY29uc3QgY2hyb21lO1xuXG4vLyBpbmNyZW1lbnQgd2hlbiBjaGFuZ2VzIGFyZSBpbnRyb2R1Y2VkIHRoYXQgcmVxdWlyZSBkYXRhIG1pZ3JhdGlvblxuZXhwb3J0IGNvbnN0IExBVEVTVF9WRVJTSU9OID0gODtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSBuZXcgQ29uZmlnKCk7XG5kZWZhdWx0Q29uZmlnLmF1dG9GaWxsRGlhbG9ncyA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5hdXRvRmlsbEZvcm1zID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcuYXV0b0ZpbGxGb3Jtc1dpdGhNdWx0aXBsZU1hdGNoZXMgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcuYXV0b1N1Ym1pdEZvcm1zID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmF1dG9TdWJtaXREaWFsb2dzID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmF1dG9TdWJtaXRNYXRjaGVkRm9ybXMgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcuY29ublNMQ2xpZW50ID0gMjtcbmRlZmF1bHRDb25maWcuY29ublNMU2VydmVyTWluID0gMjtcbmRlZmF1bHRDb25maWcua2VlUGFzc0RCVG9PcGVuID0gXCJcIjtcbmRlZmF1bHRDb25maWcua2VlUGFzc01SVURCID0gXCJcIjtcbmRlZmF1bHRDb25maWcuS2VlUGFzc1JQQ1dlYlNvY2tldFBvcnQgPSAxMjU0NjtcbmRlZmF1bHRDb25maWcuS1BSUENVc2VybmFtZSA9IFwiXCI7XG5kZWZhdWx0Q29uZmlnLktQUlBDU3RvcmVkS2V5cyA9IHt9O1xuZGVmYXVsdENvbmZpZy5sYXN0Q29ubmVjdGVkVG9LZWVQYXNzID0gXCJcIjtcbmRlZmF1bHRDb25maWcubGlzdEFsbE9wZW5EQnMgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5sb2dMZXZlbCA9IEtlZUxvZy5kZWZhdWx0TGV2ZWw7XG5kZWZhdWx0Q29uZmlnLmxvZ01ldGhvZENvbnNvbGUgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcubG9nTWV0aG9kRmlsZSA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5sb2dTZW5zaXRpdmVEYXRhID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLm1ldHJpY3NVc2FnZURpc2FibGVkID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLm1ldHJpY3NVc2VySWQgPSBcIlwiO1xuZGVmYXVsdENvbmZpZy5ub3RpZnlXaGVuRW50cnlVcGRhdGVkID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcubm90aWZ5V2hlbkxhdGVEaXNjb3ZlcnkgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcubm90aWZ5V2hlbkxvZ2dlZE91dCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5vdmVyV3JpdGVGaWVsZHNBdXRvbWF0aWNhbGx5ID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLnJlbWVtYmVyTVJVREIgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5yZW1lbWJlck1SVUdyb3VwID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcuc2F2ZUZhdmljb25zID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcuc2VhcmNoQWxsT3BlbkRCcyA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLmNvbmZpZyA9IG51bGw7XG5kZWZhdWx0Q29uZmlnLnNpdGVDb25maWcgPSBkZWZhdWx0U2l0ZUNvbmZpZztcbmRlZmF1bHRDb25maWcudHV0b3JpYWxQcm9ncmVzcyA9IFwiXCI7XG5kZWZhdWx0Q29uZmlnLnZlcnNpb24gPSBMQVRFU1RfVkVSU0lPTjtcbmRlZmF1bHRDb25maWcudHJpZ2dlckNoYW5nZUlucHV0RXZlbnRBZnRlckZpbGwgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcuYXV0b1N1Ym1pdE5ldHdvcmtBdXRoV2l0aFNpbmdsZU1hdGNoID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLnNlYXJjaE5ldHdvcmtBdXRoID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcubm90aWZpY2F0aW9uQ291bnRHZW5lcmljID0gMDtcbmRlZmF1bHRDb25maWcubm90aWZpY2F0aW9uQ291bnRTYXZlUGFzc3dvcmQgPSAwO1xuZGVmYXVsdENvbmZpZy5jdXJyZW50U2VhcmNoVGVybVRpbWVvdXQgPSAzMDtcbmRlZmF1bHRDb25maWcubm90aWZ5UGFzc3dvcmRBdmFpbGFibGVGb3JQYXN0ZSA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLmFuaW1hdGVXaGVuT2ZmZXJpbmdTYXZlID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcua2VlVmF1bHRMYXVuY2hNZXNzYWdlRGlzbWlzc2VkID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmtlZVZhdWx0TGF1bmNoU3RhcnQgPSA4NjQwMDAwMDAwMDAwMDAwO1xuZGVmYXVsdENvbmZpZy5rZWVWYXVsdExhdW5jaEVuZCA9IDg2NDAwMDAwMDAwMDAwMDA7XG5kZWZhdWx0Q29uZmlnLm1hbnVhbFN1Ym1pdE92ZXJyaWRlUHJvaGliaXRlZCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy50aGVtZSA9IG51bGw7XG5kZWZhdWx0Q29uZmlnLmhpZGVDb25maXJtYXRpb25BZnRlclNhdmUgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcubXVzdFNob3dSZWxlYXNlTm90ZXNBdFN0YXJ0dXAgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcuYXV0b0ZpbGxGaWVsZHNXaXRoRXhpc3RpbmdWYWx1ZSA9IGZhbHNlO1xuXG5leHBvcnQgY2xhc3MgQ29uZmlnTWFuYWdlciB7XG4gICAgcHVibGljIGN1cnJlbnQ6IENvbmZpZztcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1heENoYXJzUGVyUGFnZTogbnVtYmVyID0gMTAwMDA7XG4gICAgcHJpdmF0ZSBfbGlzdGVuZXJzID0gW107XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGRlZmF1bHRDb25maWc7XG4gICAgICAgIGJyb3dzZXIuc3RvcmFnZS5vbkNoYW5nZWQuYWRkTGlzdGVuZXIoKGEsIGIpID0+IHRoaXMucmVsb2FkT25TdG9yYWdlQ2hhbmdlKGEsIGIpKTtcbiAgICB9XG5cbiAgICAvLyBTb21lIHByb2Nlc3NlcyBtYXkgd2FudCB0byB0YWtlIGFjdGlvbiB3aGVuIHNldHRpbmdzIGFyZSBjaGFuZ2VkIChlLmcuIHRoZSBiYWNrZ3JvdW5kXG4gICAgLy8gcHJvY2VzcyB0byBub3RpZnkgdGhlIEtQUlBDIHNlcnZlcikuIFVzaW5nIHRoaXMgcmF0aGVyIHRoYW4gYnJvd3Nlci5zdG9yYWdlLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lclxuICAgIC8vIGVuc3VyZXMgdGhhdCBvdXIgY29uZmlnTWFuYWdlciBkYXRhIGlzIGNvbnNpc3RlbnQgd2l0aCB0aGUgdW5kZXJseWluZyBzdG9yYWdlXG4gICAgcHVibGljIGFkZENoYW5nZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbG9hZE9uU3RvcmFnZUNoYW5nZShjaGFuZ2VzOiBicm93c2VyLnN0b3JhZ2UuU3RvcmFnZUNoYW5nZSwgYXJlYTogc3RyaW5nKSB7XG4gICAgICAgIC8vIFdlIGFzc3VtZSBldmVyeSBjaGFuZ2UgcmVxdWlyZXMgYSByZWxvYWQgb2YgdGhlIGNvbmZpZyBkYXRhLiBTaW5jZSB3ZSBiYXRjaCBhbmRcbiAgICAgICAgLy8gcGFnZSB0aGUgZGF0YSB0byBlbmFibGUgZW5vdWdoIHN0b3JhZ2Ugc3BhY2UgdGhpcyBpcyBsaWtsZXkgc2FmZSBmb3IgdGhlXG4gICAgICAgIC8vIGxvbmctdGVybSBidXQgcGVyaGFwcyBwZXJmb3JtYW5jZSBnYWlucyBjb3VsZCBiZSBmb3VuZCBhcm91bmQgaGVyZSBvbmUgZGF5LlxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBhbHNvIHJlbG9hZCBhZnRlciBldmVyeSBzYXZlIHdoaWNoIGlzIGhvcnJpYmx5IGluZWZmaWNpZW50IGJ1dCB0aGUgYWx0ZXJuYXRpdmVcbiAgICAgICAgLy8gaXMgZmluZGluZyBhIHJlbGlhYmxlIGNyb3NzLXByb2Nlc3MgbG9ja2luZyBtZWNoYW5pc20gdG8gZW5zdXJlIHdlIG9ubHkgZGlzYWJsZVxuICAgICAgICAvLyByZWxvYWRpbmcgZHVyaW5nIGFuIGFzeW5jIHNhdmUgb3BlcmF0aW9uIGFuZCBub3QgZm9yIGEgbW9tZW50IGxvbmdlci4gVGhhdCdzIGp1c3RcbiAgICAgICAgLy8gbm90IHdvcnRoIHRoZSByaXNrIG9mIG1pc3NpbmcgYSBjaGFuZ2UgZnJvbSBhbm90aGVyIHByb2Nlc3MuXG5cbiAgICAgICAgY29uZmlnTWFuYWdlci5yZWxvYWQoKCkgPT4gdGhpcy5fbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoY2hhbmdlcywgYXJlYSkpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc2V0QVNBUCh2YWx1ZXM6IFBhcnRpYWw8Q29uZmlnPikge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY3VycmVudCwgdmFsdWVzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNwbGl0U3RyaW5nVG9QYWdlcyhzdHI6IHN0cmluZykge1xuICAgICAgICBjb25zdCBudW1QYWdlcyA9IE1hdGguY2VpbChzdHIubGVuZ3RoIC8gdGhpcy5tYXhDaGFyc1BlclBhZ2UpO1xuICAgICAgICBjb25zdCBwYWdlcyA9IG5ldyBBcnJheShudW1QYWdlcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG8gPSAwOyBpIDwgbnVtUGFnZXM7ICsraSwgbyArPSB0aGlzLm1heENoYXJzUGVyUGFnZSkge1xuICAgICAgICAgICAgcGFnZXNbaV0gPSBzdHIuc3Vic3RyKG8sIHRoaXMubWF4Q2hhcnNQZXJQYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHNhdmUoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY3VycmVudCk7XG4gICAgICAgIGNvbnN0IHBhZ2VzID0gdGhpcy5zcGxpdFN0cmluZ1RvUGFnZXMoY29uZmlnU3RyaW5nKTtcbiAgICAgICAgY29uc3QgY29uZmlnVmFsdWVzOiBhbnkgPSB7fTtcblxuICAgICAgICBjb25maWdWYWx1ZXMua2VlQ29uZmlnUGFnZUNvdW50ID0gcGFnZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbmZpZ1ZhbHVlc1tcImtlZUNvbmZpZ1BhZ2VcIiArIGldID0gcGFnZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldChjb25maWdWYWx1ZXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkKG9uTG9hZGVkKSB7XG4gICAgICAgIC8vIFdlIGNvbXBsZXRlbHkgcmVwbGFjZSBjdXJyZW50IGNvbmZpZyB3aXRoIHdoYXQgd2UgbG9hZCBiZWNhdXNlIHdlXG4gICAgICAgIC8vIGRvbid0IGtub3cgdGhhdCBhcHBseWluZyBvbnRvIHRoZSBkZWZhdWx0cyB3aWxsIHJlc3VsdCBpbiBhIHNhZmVcbiAgICAgICAgLy8gbWlncmF0aW9uIGZyb20gYW55IG9sZCB2ZXJzaW9uIHRoYXQgd2UgbG9hZC4gSXQgd291bGQgcHJvYmFibHkgYmVcbiAgICAgICAgLy8gZmluZSBidXQgbWlnaHQgcmVxdWlyZSB2ZXJzaW9uIGNvbXBhcmlzb25zLi4uIGluIHdoaWNoIGNhc2Ugd2UgbWlnaHRcbiAgICAgICAgLy8gYXMgd2VsbCBqdXN0IGluY3JlbWVudCB0aGUgdmVyc2lvbiBudW1iZXIgYW5kIHJ1biBhIG1pZ3JhdGlvbiBvbmNlXG4gICAgICAgIC8vIHJhdGhlciB0aGFuIGluY3VyIGluY3JlYXNlZCBvbmdvaW5nIGxvYWQgY29zdHMuXG4gICAgICAgIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoKS50aGVuKGNvbmZpZyA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYWdlQ291bnQgPSBjb25maWdbXCJrZWVDb25maWdQYWdlQ291bnRcIl07XG5cbiAgICAgICAgICAgIGlmIChwYWdlQ291bnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29uZmlnU3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQYWdlID0gY29uZmlnW1wia2VlQ29uZmlnUGFnZVwiICsgaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0UGFnZSkgY29uZmlnU3RyaW5nICs9IG5leHRQYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnU3RyaW5nKSB0aGlzLmN1cnJlbnQgPSBKU09OLnBhcnNlKGNvbmZpZ1N0cmluZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFBhZ2VDb3VudCA9IGNvbmZpZ1tcImtlZWZveENvbmZpZ1BhZ2VDb3VudFwiXTtcblxuICAgICAgICAgICAgICAgIGlmIChvbGRQYWdlQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmZpZ1N0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkUGFnZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQYWdlID0gY29uZmlnW1wia2VlZm94Q29uZmlnUGFnZVwiICsgaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFBhZ2UpIGNvbmZpZ1N0cmluZyArPSBuZXh0UGFnZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnU3RyaW5nKSB0aGlzLmN1cnJlbnQgPSBKU09OLnBhcnNlKGNvbmZpZ1N0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIC8vVE9ETzo0OiBEZWxldGUgdGhlIG9sZCBrZWVmb3ggcHJlZml4ZWQgZGF0YSB0byBzYXZlIHNwYWNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5maXhJbnZhbGlkQ29uZmlnRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5taWdyYXRlVG9MYXRlc3RWZXJzaW9uKCk7XG4gICAgICAgICAgICBvbkxvYWRlZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIHR5cGljYWxseSBpbnZhbGlkIGR1ZSB0byB0aGUgcHJldmlvdXMgZXhlY3V0aW9uIG9mIGFscGhhIGFuZCBiZXRhIGNvZGVcbiAgICAvLyBvbiB0aGUgdXNlcidzIHN5c3RlbSBidXQgd2hhdGV2ZXIgdGhlIHJlYXNvbiwgdGhlIGl0ZW1zIGhlcmUgYXJlIGVzcGVjaWFsbHkgaGFyZFxuICAgIC8vIHRvIGZpeCB0aHJvdWdoIHRoZSBVSSBhbmQgY3JpdGljYWwgdG8gS2VlIGZ1bmN0aW9uYWxpdHkgc28gd2UgdGFrZSBubyBjaGFuY2VzXG4gICAgcHJpdmF0ZSBmaXhJbnZhbGlkQ29uZmlnRGF0YSgpIHtcbiAgICAgICAgbGV0IHNhdmVOZWVkZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudC5LUFJQQ1N0b3JlZEtleXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50LktQUlBDU3RvcmVkS2V5cyA9IHt9O1xuICAgICAgICAgICAgc2F2ZU5lZWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNhdmVOZWVkZWQpIHRoaXMuc2F2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWlncmF0ZVRvTGF0ZXN0VmVyc2lvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudC52ZXJzaW9uID49IExBVEVTVF9WRVJTSU9OKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG1pZ3JhdGlvbnMgPSBuZXcgQ29uZmlnTWlncmF0aW9ucygpO1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1mYWxsdGhyb3VnaCAqL1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudC52ZXJzaW9uKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uMih0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjModGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb240KHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uNSh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjYodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb243KHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uOCh0aGlzLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tZmFsbHRocm91Z2ggKi9cbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVGcm9tUmVtb3RlVG9MYXRlc3RWZXJzaW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50LnZlcnNpb24gPj0gTEFURVNUX1ZFUlNJT04pIHJldHVybjtcbiAgICAgICAgY29uc3QgbWlncmF0aW9ucyA9IG5ldyBDb25maWdNaWdyYXRpb25zKCk7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWZhbGx0aHJvdWdoICovXG4gICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50LnZlcnNpb24pIHtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb242KHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uNyh0aGlzLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tZmFsbHRocm91Z2ggKi9cbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWxvYWQob25Mb2FkZWQ/KSB7XG4gICAgICAgIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoKS50aGVuKGNvbmZpZyA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYWdlQ291bnQgPSBjb25maWdbXCJrZWVDb25maWdQYWdlQ291bnRcIl07XG5cbiAgICAgICAgICAgIGlmIChwYWdlQ291bnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29uZmlnU3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQYWdlID0gY29uZmlnW1wia2VlQ29uZmlnUGFnZVwiICsgaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0UGFnZSkgY29uZmlnU3RyaW5nICs9IG5leHRQYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IE9iamVjdC5hc3NpZ24odGhpcy5jdXJyZW50LCBKU09OLnBhcnNlKGNvbmZpZ1N0cmluZykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbkxvYWRlZCkgb25Mb2FkZWQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNpdGVDb25maWdMb29rdXBGb3IodGFyZ2V0OiBTaXRlQ29uZmlnVGFyZ2V0LCBtZXRob2Q6IFNpdGVDb25maWdNZXRob2QpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PSBcIkRvbWFpblwiKSB7XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiRXhhY3RcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluRXhhY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluRXhhY3QgPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluRXhhY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiUHJlZml4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5QcmVmaXggPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIlJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblJlZ2V4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCA9PSBcIkhvc3RcIikge1xuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIkV4YWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0RXhhY3QgPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdEV4YWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIlByZWZpeFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RQcmVmaXggPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFByZWZpeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJSZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgPT0gXCJQYWdlXCIpIHtcbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJFeGFjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlRXhhY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZUV4YWN0ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJQcmVmaXhcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUHJlZml4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiUmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIHNpdGVDb25maWdGb3IodXJsOiBzdHJpbmcpOiBTaXRlQ29uZmlnIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlZENvbmZpZ05vZGVzID0gdGhpcy5maW5kQWxsQ29uZmlnc0Zvcih1cmwpO1xuICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMuc29ydCgobm9kZTEsIG5vZGUyKSA9PiBub2RlMi5tYXRjaFdlaWdodCAtIG5vZGUxLm1hdGNoV2VpZ2h0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVyaXZlQ29uZmlnRnJvbU1hdGNoZXMobWF0Y2hlZENvbmZpZ05vZGVzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbmRBbGxDb25maWdzRm9yKHVybFN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZWRDb25maWdOb2RlczogU2l0ZUNvbmZpZ05vZGVbXSA9IFtdO1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHVybFN0cmluZyk7XG4gICAgICAgIGNvbnN0IGhvc3QgPSB1cmwuaG9zdDtcbiAgICAgICAgY29uc3QgcGFnZSA9IGhvc3QgKyB1cmwucGF0aG5hbWU7XG4gICAgICAgIGNvbnN0IGRvbWFpbiA9IHV0aWxzLnBzbC5nZXREb21haW4oaG9zdCk7XG5cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5FeGFjdCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBkb21haW4pIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5FeGFjdFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdEV4YWN0KSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IGhvc3QpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0RXhhY3RbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBwYWdlKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZUV4YWN0W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5QcmVmaXgpIHtcbiAgICAgICAgICAgIGlmIChkb21haW4uc3RhcnRzV2l0aCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5QcmVmaXhbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RQcmVmaXgpIHtcbiAgICAgICAgICAgIGlmIChob3N0LnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFByZWZpeFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeCkge1xuICAgICAgICAgICAgaWYgKHBhZ2Uuc3RhcnRzV2l0aCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUHJlZml4W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleCkge1xuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAodmFsdWUpLnRlc3QoZG9tYWluKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblJlZ2V4W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UmVnZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHZhbHVlKS50ZXN0KGhvc3QpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUmVnZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHZhbHVlKS50ZXN0KHBhZ2UpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF0Y2hlZENvbmZpZ05vZGVzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmluZEFsbENvbmZpZ3NBbmRJbmRleEZvcih1cmxTdHJpbmc6IHN0cmluZykge1xuICAgICAgICBjb25zdCBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzOiBTaXRlQ29uZmlnTm9kZUFuZEluZGV4W10gPSBbXTtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh1cmxTdHJpbmcpO1xuICAgICAgICBjb25zdCBob3N0ID0gdXJsLmhvc3Q7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBob3N0ICsgdXJsLnBhdGhuYW1lO1xuICAgICAgICBjb25zdCBkb21haW4gPSB1dGlscy5wc2wuZ2V0RG9tYWluKGhvc3QpO1xuXG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluRXhhY3RbdmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiRG9tYWluXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJFeGFjdFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBob3N0KSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdEV4YWN0W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkhvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkV4YWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHBhZ2UpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlRXhhY3RbdmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiUGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiRXhhY3RcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5QcmVmaXgpIHtcbiAgICAgICAgICAgIGlmIChkb21haW4uc3RhcnRzV2l0aCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5QcmVmaXhbdmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiRG9tYWluXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQcmVmaXhcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4KSB7XG4gICAgICAgICAgICBpZiAoaG9zdC5zdGFydHNXaXRoKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RQcmVmaXhbdmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiSG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUHJlZml4XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeCkge1xuICAgICAgICAgICAgaWYgKHBhZ2Uuc3RhcnRzV2l0aCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUHJlZml4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIlBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlByZWZpeFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblJlZ2V4KSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCh2YWx1ZSkudGVzdChkb21haW4pKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUmVnZXhbdmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiRG9tYWluXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJSZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RSZWdleCkge1xuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAodmFsdWUpLnRlc3QoaG9zdCkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UmVnZXhbdmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiSG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUmVnZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHZhbHVlKS50ZXN0KHBhZ2UpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIlBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZXJpdmVDb25maWdGcm9tTWF0Y2hlcyhtYXRjaGVkQ29uZmlnTm9kZXM6IFNpdGVDb25maWdOb2RlW10pIHtcbiAgICAgICAgY29uc3QgZGVyaXZlZENvbmZpZzogU2l0ZUNvbmZpZyA9IHt9O1xuICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBub2RlLmNvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbiA9PSBudWxsXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLnByZXZlbnRTYXZlTm90aWZpY2F0aW9uID0gbm9kZS5jb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbm9kZS5jb25maWcubGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5saXN0TWF0Y2hpbmdDYXNlU2Vuc2l0aXZlID09IG51bGxcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcubGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZSA9IG5vZGUuY29uZmlnLmxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy5ibGFja0xpc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcuYmxhY2tMaXN0ID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy5ibGFja0xpc3QuZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5mb3JtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZvcm0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0LmZvcm0uaWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5mb3JtLmlkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybS5pZHMgPSBub2RlLmNvbmZpZy5ibGFja0xpc3QuZm9ybS5pZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLmJsYWNrTGlzdC5mb3JtLm5hbWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5mb3JtLm5hbWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5mb3JtLm5hbWVzID0gbm9kZS5jb25maWcuYmxhY2tMaXN0LmZvcm0ubmFtZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLmJsYWNrTGlzdC5maWVsZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZmllbGRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZpZWxkcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy5ibGFja0xpc3QuZmllbGRzLmlkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZmllbGRzLmlkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZmllbGRzLmlkcyA9IG5vZGUuY29uZmlnLmJsYWNrTGlzdC5maWVsZHMuaWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy5ibGFja0xpc3QuZmllbGRzLm5hbWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5maWVsZHMubmFtZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY29uZmlnLmJsYWNrTGlzdC5maWVsZHMubmFtZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy53aGl0ZUxpc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLndoaXRlTGlzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcud2hpdGVMaXN0ID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy53aGl0ZUxpc3QuZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5mb3JtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZvcm0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0LmZvcm0uaWRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5mb3JtLmlkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybS5pZHMgPSBub2RlLmNvbmZpZy53aGl0ZUxpc3QuZm9ybS5pZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLndoaXRlTGlzdC5mb3JtLm5hbWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5mb3JtLm5hbWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5mb3JtLm5hbWVzID0gbm9kZS5jb25maWcud2hpdGVMaXN0LmZvcm0ubmFtZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLndoaXRlTGlzdC5maWVsZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZmllbGRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZpZWxkcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy53aGl0ZUxpc3QuZmllbGRzLmlkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZmllbGRzLmlkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZmllbGRzLmlkcyA9IG5vZGUuY29uZmlnLndoaXRlTGlzdC5maWVsZHMuaWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5maWVsZHMubmFtZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZpZWxkcy5uYW1lcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY29uZmlnLndoaXRlTGlzdC5maWVsZHMubmFtZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBub2RlLmNvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcucHJlZmVycmVkRW50cnlVdWlkID09IG51bGxcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcucHJlZmVycmVkRW50cnlVdWlkID0gbm9kZS5jb25maWcucHJlZmVycmVkRW50cnlVdWlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlcml2ZWRDb25maWc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBub3JtYWxpemVGb3JtUHJvcGVydHkoaW5wdXQ6IHVua25vd24sIGljOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09IFwic3RyaW5nXCIpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gaWMgPyBpbnB1dC50b0xvd2VyQ2FzZSgpIDogaW5wdXQ7XG4gICAgfVxuXG4gICAgcHVibGljIGlzRm9ybUludGVyZXN0aW5nKGZvcm06IEhUTUxGb3JtRWxlbWVudCwgY29uZjogU2l0ZUNvbmZpZywgb3RoZXJGaWVsZHM6IEZpZWxkW10pIHtcbiAgICAgICAgY29uc3QgaWMgPSBjb25mLmxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmUgIT09IHRydWU7XG4gICAgICAgIGNvbnN0IGZpZWxkSWRzID0gb3RoZXJGaWVsZHNcbiAgICAgICAgICAgIC5tYXAoZmllbGQgPT4gKGljID8gZmllbGQubG9jYXRvcnNbMF0/LmlkLnRvTG93ZXJDYXNlKCkgOiBmaWVsZC5sb2NhdG9yc1swXT8uaWQpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgZmllbGROYW1lcyA9IG90aGVyRmllbGRzXG4gICAgICAgICAgICAubWFwKGZpZWxkID0+IChpYyA/IGZpZWxkLmxvY2F0b3JzWzBdPy5uYW1lLnRvTG93ZXJDYXNlKCkgOiBmaWVsZC5sb2NhdG9yc1swXT8ubmFtZSkpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBmb3JtSWQgPSB0aGlzLm5vcm1hbGl6ZUZvcm1Qcm9wZXJ0eShmb3JtLmlkLCBpYyk7XG4gICAgICAgIGNvbnN0IGZvcm1OYW1lID0gdGhpcy5ub3JtYWxpemVGb3JtUHJvcGVydHkoZm9ybS5uYW1lLCBpYyk7XG4gICAgICAgIGNvbnN0IGV4Y2x1ZGVGb3JtSWRzID0gKGNvbmY/LmJsYWNrTGlzdD8uZm9ybT8uaWRzIHx8IFtdKVxuICAgICAgICAgICAgLm1hcCh4ID0+IChpYyA/IHg/LnRvTG93ZXJDYXNlKCkgOiB4KSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IGV4Y2x1ZGVGb3JtTmFtZXMgPSAoY29uZj8uYmxhY2tMaXN0Py5mb3JtPy5uYW1lcyB8fCBbXSlcbiAgICAgICAgICAgIC5tYXAoeCA9PiAoaWMgPyB4Py50b0xvd2VyQ2FzZSgpIDogeCkpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBleGNsdWRlRmllbGRJZHMgPSAoY29uZj8uYmxhY2tMaXN0Py5maWVsZHM/LmlkcyB8fCBbXSlcbiAgICAgICAgICAgIC5tYXAoeCA9PiAoaWMgPyB4Py50b0xvd2VyQ2FzZSgpIDogeCkpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBleGNsdWRlRmllbGROYW1lcyA9IChjb25mPy5ibGFja0xpc3Q/LmZpZWxkcz8ubmFtZXMgfHwgW10pXG4gICAgICAgICAgICAubWFwKHggPT4gKGljID8geD8udG9Mb3dlckNhc2UoKSA6IHgpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcblxuICAgICAgICBjb25zdCBleGNsdWRlZCA9XG4gICAgICAgICAgICBleGNsdWRlRm9ybUlkcy5pbmRleE9mKGZvcm1JZCkgPj0gMCB8fFxuICAgICAgICAgICAgZXhjbHVkZUZvcm1OYW1lcy5pbmRleE9mKGZvcm1OYW1lKSA+PSAwIHx8XG4gICAgICAgICAgICBleGNsdWRlRmllbGRJZHMuc29tZShpZCA9PiBmaWVsZElkcy5maW5kKGkgPT4gaWQgPT09IGkpICE9PSB1bmRlZmluZWQpIHx8XG4gICAgICAgICAgICBleGNsdWRlRmllbGROYW1lcy5zb21lKG5hbWUgPT4gZmllbGROYW1lcy5maW5kKG4gPT4gbmFtZSA9PT0gbikgIT09IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgaW5jbHVkZUZvcm1JZHMgPSBjb25mPy53aGl0ZUxpc3Q/LmZvcm0/LmlkcyB8fCBbXTtcbiAgICAgICAgY29uc3QgaW5jbHVkZUZvcm1OYW1lcyA9IGNvbmY/LndoaXRlTGlzdD8uZm9ybT8ubmFtZXMgfHwgW107XG4gICAgICAgIGNvbnN0IGluY2x1ZGVGaWVsZElkcyA9IGNvbmY/LndoaXRlTGlzdD8uZmllbGRzPy5pZHMgfHwgW107XG4gICAgICAgIGNvbnN0IGluY2x1ZGVGaWVsZE5hbWVzID0gY29uZj8ud2hpdGVMaXN0Py5maWVsZHM/Lm5hbWVzIHx8IFtdO1xuXG4gICAgICAgIGNvbnN0IGluY2x1ZGVkID1cbiAgICAgICAgICAgIGluY2x1ZGVGb3JtSWRzLmluZGV4T2YoZm9ybUlkKSA+PSAwIHx8XG4gICAgICAgICAgICBpbmNsdWRlRm9ybU5hbWVzLmluZGV4T2YoZm9ybU5hbWUpID49IDAgfHxcbiAgICAgICAgICAgIGluY2x1ZGVGaWVsZElkcy5zb21lKGlkID0+IGZpZWxkSWRzLmZpbmQoaSA9PiBpZCA9PT0gaSkgIT09IHVuZGVmaW5lZCkgfHxcbiAgICAgICAgICAgIGluY2x1ZGVGaWVsZE5hbWVzLnNvbWUobmFtZSA9PiBmaWVsZE5hbWVzLmZpbmQobiA9PiBuYW1lID09PSBuKSAhPT0gdW5kZWZpbmVkKTtcblxuICAgICAgICBpZiAoaW5jbHVkZWQpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgYWN0aXZlVGhlbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC50aGVtZSB8fFxuICAgICAgICAgICAgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzID8gXCJkYXJrXCIgOiBcImxpZ2h0XCIpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvZ2dsZVByZWZlcnJlZEVudHJ5VXVpZCh1dWlkOiBzdHJpbmcsIHVybFN0cmluZzogc3RyaW5nKSB7XG4gICAgICAgIGxldCB1cmw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB1cmwgPSBuZXcgVVJMKHVybFN0cmluZyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIEtlZUxvZy5lcnJvcihcbiAgICAgICAgICAgICAgICBcIkludmFsaWQgVVJMIHN1cHBsaWVkIHRvIHRvZ2dsZVByZWZlcnJlZEVudHJ5VXVpZC4gUHJlZmVycmVkIGVudHJ5IHdpbGwgbm90IGJlIGFsdGVyZWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uZmlndXJlZFRhcmdldDogU2l0ZUNvbmZpZ1RhcmdldCA9IFwiRG9tYWluXCI7XG4gICAgICAgIGNvbnN0IGFsbENvbmZpZ05vZGVzQW5kTG9va3VwcyA9IHRoaXMuZmluZEFsbENvbmZpZ3NBbmRJbmRleEZvcih1cmxTdHJpbmcpO1xuICAgICAgICBjb25zdCBkZXJpdmVkQ29uZmlnID0gdGhpcy5zaXRlQ29uZmlnRm9yKHVybFN0cmluZyk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcmVmZXJyZWRVdWlkID0gZGVyaXZlZENvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQ7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRQcmVmZXJyZWRVdWlkID09PSB1dWlkKSB7XG4gICAgICAgICAgICBhbGxDb25maWdOb2Rlc0FuZExvb2t1cHMuZm9yRWFjaChjbmwgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjbmwubm9kZS5jb25maWcucHJlZmVycmVkRW50cnlVdWlkID09PSB1dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUHJlZmVycmVkRW50cnlVdWlkKGNubCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbGxDb25maWdOb2Rlc0FuZExvb2t1cHMuZm9yRWFjaChjbmwgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY25sLm5vZGUuY29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9PT0gY3VycmVudFByZWZlcnJlZFV1aWQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWFzdFNwZWNpZmljVGFyZ2V0KGNvbmZpZ3VyZWRUYXJnZXQsIGNubC50YXJnZXQpID09PSBjb25maWd1cmVkVGFyZ2V0XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUHJlZmVycmVkRW50cnlVdWlkKGNubCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkU2l0ZUNvbmZpZ1BhcmFtZXRlcnMoXG4gICAgICAgICAgICAgICAgeyBwcmVmZXJyZWRFbnRyeVV1aWQ6IHV1aWQgfSBhcyBTaXRlQ29uZmlnLFxuICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICBjb25maWd1cmVkVGFyZ2V0LFxuICAgICAgICAgICAgICAgIFwiRXhhY3RcIixcbiAgICAgICAgICAgICAgICBcIkF1dG9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZVByZWZlcnJlZEVudHJ5VXVpZChjbmw6IFNpdGVDb25maWdOb2RlQW5kSW5kZXgpIHtcbiAgICAgICAgY25sLm5vZGUuY29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9IG51bGw7XG5cbiAgICAgICAgLy8gVW5sZXNzIHRoZSB1c2VyIGhhcyBtYW51YWxseSBtb2RpZmllZCB0aGUgcGVyLXNpdGUgY29uZmlnIGZvciB0aGlzIHNpdGVcbiAgICAgICAgLy8gd2UgY2FuIHRpZHkgdXAgdGhpcyB1bm5lY2Vzc2FyeSBkYXRhXG4gICAgICAgIGlmIChjbmwubm9kZS5zb3VyY2UgPT09IFwiQXV0b1wiICYmIHRoaXMuZXF1YWxzRGVmYXVsdFNpdGVDb25maWcoY25sLm5vZGUuY29uZmlnKSkge1xuICAgICAgICAgICAgY29uc3QgbG9va3VwID0gdGhpcy5zaXRlQ29uZmlnTG9va3VwRm9yKGNubC50YXJnZXQsIGNubC5tZXRob2QpO1xuICAgICAgICAgICAgZGVsZXRlIGxvb2t1cFtjbmwubG9va3VwVmFsdWVdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlcXVhbHNEZWZhdWx0U2l0ZUNvbmZpZyhjb25maWc6IFNpdGVDb25maWcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcucHJlZmVycmVkRW50cnlVdWlkID09PSBcImJvb2xlYW5cIikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbiA9PT0gXCJib29sZWFuXCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcubGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZSA9PT0gXCJib29sZWFuXCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGNvbmZpZy53aGl0ZUxpc3QpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGNvbmZpZy5ibGFja0xpc3QpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsZWFzdFNwZWNpZmljVGFyZ2V0KHQxOiBTaXRlQ29uZmlnVGFyZ2V0LCB0MjogU2l0ZUNvbmZpZ1RhcmdldCk6IFNpdGVDb25maWdUYXJnZXQge1xuICAgICAgICBpZiAodDEgPT09IFwiRG9tYWluXCIgfHwgdDIgPT09IFwiRG9tYWluXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkRvbWFpblwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0MSA9PT0gXCJIb3N0XCIgfHwgdDIgPT09IFwiSG9zdFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJIb3N0XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiUGFnZVwiO1xuICAgIH1cblxuICAgIHB1YmxpYyB2YWx1ZUZyb21VcmwodXJsOiBVUkwsIHRhcmdldDogU2l0ZUNvbmZpZ1RhcmdldCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGhvc3QgPSB1cmwuaG9zdDtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gXCJIb3N0XCIpIHJldHVybiBob3N0O1xuICAgICAgICBpZiAodGFyZ2V0ID09PSBcIlBhZ2VcIikgcmV0dXJuIGhvc3QgKyB1cmwucGF0aG5hbWU7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IFwiRG9tYWluXCIpIHJldHVybiB1dGlscy5wc2wuZ2V0RG9tYWluKGhvc3QpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRTaXRlQ29uZmlnUGFyYW1ldGVycyhcbiAgICAgICAgcGFydGlhbENvbmZpZzogUGFydGlhbDxTaXRlQ29uZmlnPixcbiAgICAgICAgdXJsOiBVUkwsXG4gICAgICAgIHRhcmdldDogU2l0ZUNvbmZpZ1RhcmdldCxcbiAgICAgICAgbWV0aG9kOiBTaXRlQ29uZmlnTWV0aG9kLFxuICAgICAgICBzb3VyY2U6IFNpdGVDb25maWdOb2RlVHlwZVxuICAgICkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWVGcm9tVXJsKHVybCwgdGFyZ2V0KTtcbiAgICAgICAgY29uc3QgY29uZmlnTG9va3VwID0gY29uZmlnTWFuYWdlci5zaXRlQ29uZmlnTG9va3VwRm9yKHRhcmdldCwgbWV0aG9kKTtcbiAgICAgICAgaWYgKCFjb25maWdMb29rdXBbdmFsdWVdKSB7XG4gICAgICAgICAgICBjb25maWdMb29rdXBbdmFsdWVdID0geyBjb25maWc6IG5ldyBTaXRlQ29uZmlnKCksIHNvdXJjZSwgbWF0Y2hXZWlnaHQ6IDEwMCB9O1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnTG9va3VwW3ZhbHVlXS5jb25maWcsIHBhcnRpYWxDb25maWcpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNvbmZpZ01hbmFnZXIgPSBuZXcgQ29uZmlnTWFuYWdlcigpO1xuIiwiaW1wb3J0IHsgY29uZmlnTWFuYWdlciB9IGZyb20gXCIuLi9jb21tb24vQ29uZmlnTWFuYWdlclwiO1xuXG5leHBvcnQgY2xhc3MgUGFuZWxTdHViT3B0aW9ucyB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBhdXRvQ2xvc2VUaW1lOiBudW1iZXI7XG4gICAgbGVnYWN5OiBib29sZWFuO1xuXG4gICAgcHVibGljIHN0YXRpYyBNYXRjaGVkTG9naW5zOiBQYW5lbFN0dWJPcHRpb25zID0ge1xuICAgICAgICBpZDogXCJLZWVBZGRvblBhbmVsTWF0Y2hlZExvZ2luc1wiLFxuICAgICAgICBoZWlnaHQ6IDMwMCxcbiAgICAgICAgd2lkdGg6IDQwMCxcbiAgICAgICAgbmFtZTogXCJtYXRjaGVkTG9naW5zTGVnYWN5XCIsXG4gICAgICAgIGF1dG9DbG9zZVRpbWU6IDAsXG4gICAgICAgIGxlZ2FjeTogdHJ1ZVxuICAgIH07XG5cbiAgICBwdWJsaWMgc3RhdGljIEdlbmVyYXRlUGFzc3dvcmRMZWdhY3k6IFBhbmVsU3R1Yk9wdGlvbnMgPSB7XG4gICAgICAgIGlkOiBcIktlZUFkZG9uUGFuZWxHZW5lcmF0ZVBhc3N3b3JkXCIsXG4gICAgICAgIGhlaWdodDogMzAwLFxuICAgICAgICB3aWR0aDogNDAwLFxuICAgICAgICBuYW1lOiBcImdlbmVyYXRlUGFzc3dvcmRMZWdhY3lcIixcbiAgICAgICAgYXV0b0Nsb3NlVGltZTogMCxcbiAgICAgICAgbGVnYWN5OiB0cnVlXG4gICAgfTtcblxuICAgIHB1YmxpYyBzdGF0aWMgR2VuZXJhdGVQYXNzd29yZDogUGFuZWxTdHViT3B0aW9ucyA9IHtcbiAgICAgICAgaWQ6IFwiS2VlQWRkb25QYW5lbEdlbmVyYXRlUGFzc3dvcmRcIixcbiAgICAgICAgaGVpZ2h0OiA1MDAsXG4gICAgICAgIHdpZHRoOiA0NTAsXG4gICAgICAgIG5hbWU6IFwiZ2VuZXJhdGVQYXNzd29yZFwiLFxuICAgICAgICBhdXRvQ2xvc2VUaW1lOiAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlXG4gICAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIFBhbmVsU3R1YiB7XG4gICAgcHJpdmF0ZSB0YXJnZXQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHRhcmdldFJlbGF0aXZlUmVjdDogQ2xpZW50UmVjdDtcbiAgICBwcml2YXRlIG9wdGlvbnM6IFBhbmVsU3R1Yk9wdGlvbnM7XG4gICAgcHJpdmF0ZSBwYXJlbnRGcmFtZUlkOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBlbGVtZW50VG9SZWZvY3VzOiBFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogUGFuZWxTdHViT3B0aW9ucywgdGFyZ2V0OiBIVE1MRWxlbWVudCwgcGFyZW50RnJhbWVJZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnBhcmVudEZyYW1lSWQgPSBwYXJlbnRGcmFtZUlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVQYW5lbCgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5uYW1lID09IFwiZ2VuZXJhdGVQYXNzd29yZFwiKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRUb1JlZm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5jb250YWluZXIuYXR0YWNoU2hhZG93KHsgbW9kZTogXCJjbG9zZWRcIiB9KTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaWQgPSB0aGlzLm9wdGlvbnMuaWQ7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGA6aG9zdChkaXYpIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDcgIWltcG9ydGFudDtcbiAgICAgICAgfWA7XG4gICAgICAgIHNoYWRvdy5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdCA9IHRoaXMudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvblBhbmVsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcIndpZHRoXCIsIHRoaXMub3B0aW9ucy53aWR0aCArIFwicHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcImhlaWdodFwiLCB0aGlzLm9wdGlvbnMuaGVpZ2h0ICsgXCJweFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgICAgIFwidG9wXCIsXG4gICAgICAgICAgICAgICAgKHdpbmRvdy5pbm5lckhlaWdodCAtIHRoaXMub3B0aW9ucy5oZWlnaHQpIC8gMiArIHdpbmRvdy5zY3JvbGxZICsgXCJweFwiLFxuICAgICAgICAgICAgICAgIFwiaW1wb3J0YW50XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBcImxlZnRcIixcbiAgICAgICAgICAgICAgICAod2luZG93LmlubmVyV2lkdGggLSB0aGlzLm9wdGlvbnMud2lkdGgpIC8gMiArIHdpbmRvdy5zY3JvbGxYICsgXCJweFwiLFxuICAgICAgICAgICAgICAgIFwiaW1wb3J0YW50XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwic2FuZGJveFwiLCBcImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW5cIik7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJhbGxvd1wiLCBcIlwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwid2lkdGhcIiwgXCIxMDAlXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgXCIxMDAlXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLCBcImJsb2NrXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIixcbiAgICAgICAgICAgIGNvbmZpZ01hbmFnZXIuYWN0aXZlVGhlbWUgPT09IFwiZGFya1wiID8gXCIjMWUxZTFlXCIgOiBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIFwiaW1wb3J0YW50XCJcbiAgICAgICAgKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcInNjcm9sbGluZ1wiLCBcIm5vXCIpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxlZ2FjeSkge1xuICAgICAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwiYm9yZGVyXCIsIFwibm9uZVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcImJvcmRlclwiLCBcIjJweCBzb2xpZCAjMWE0NjZiXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwiYm9yZGVyLXJhZGl1c1wiLCBcIjhweFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNoYWRvdy5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGJyb3dzZXIuZXh0ZW5zaW9uLmdldFVSTChcbiAgICAgICAgICAgIGBwYW5lbHMvcGFuZWxzJHt0aGlzLm9wdGlvbnMubGVnYWN5ID8gXCJMZWdhY3lcIiA6IFwiXCJ9Lmh0bWxgXG4gICAgICAgICk7XG4gICAgICAgIGlmcmFtZS5zcmMgPSBgJHt0ZW1wbGF0ZX0/cGFyZW50RnJhbWVJZD0ke3RoaXMucGFyZW50RnJhbWVJZH0mYXV0b0Nsb3NlVGltZT0ke3RoaXMub3B0aW9ucy5hdXRvQ2xvc2VUaW1lfSZwYW5lbD0ke3RoaXMub3B0aW9ucy5uYW1lfSZ0aGVtZT0ke2NvbmZpZ01hbmFnZXIuYWN0aXZlVGhlbWV9YDtcblxuICAgICAgICBjb25zdCBib2R5RWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIik7XG4gICAgICAgIGlmIChib2R5RWxlbWVudHMgJiYgYm9keUVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGJvZHlFbGVtZW50c1swXS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmcmFtZXNldEVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJmcmFtZXNldFwiKTtcbiAgICAgICAgICAgIGlmIChmcmFtZXNldEVsZW1lbnRzICYmIGZyYW1lc2V0RWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZyYW1lc2V0RWxlbWVudHNbMF0uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJlbmRcIiwgdGhpcy5jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZUJvdW5kaW5nQ2xpZW50UmVjdCgpIHtcbiAgICAgICAgY29uc3Qgb2xkUmVjdCA9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0O1xuICAgICAgICB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdCA9IHRoaXMudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIG9sZFJlY3QudG9wICE9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LnRvcCB8fFxuICAgICAgICAgICAgb2xkUmVjdC5ib3R0b20gIT0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QuYm90dG9tIHx8XG4gICAgICAgICAgICBvbGRSZWN0LmxlZnQgIT0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QubGVmdCB8fFxuICAgICAgICAgICAgb2xkUmVjdC5yaWdodCAhPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC5yaWdodFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25QYW5lbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwb3NpdGlvblBhbmVsKCkge1xuICAgICAgICBjb25zdCBwcmVmZXJyZWRDb250YWluZXJIZWlnaHQgPSB0aGlzLm9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICBsZXQgY29udGFpbmVySGVpZ2h0ID0gcHJlZmVycmVkQ29udGFpbmVySGVpZ2h0O1xuICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IHRoaXMub3B0aW9ucy53aWR0aDtcbiAgICAgICAgbGV0IHBvc2l0aW9uQWJvdmUgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCB0YXJnZXRUb3AgPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Qm90dG9tID0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QuYm90dG9tICsgd2luZG93LnNjcm9sbFk7XG4gICAgICAgIGNvbnN0IHByZWZlcnJlZEFycm93WENvb3JkID0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QucmlnaHQgLSAxMjtcblxuICAgICAgICBjb25zdCBwcmVmZXJyZWRCb3R0b20gPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC5ib3R0b20gKyBwcmVmZXJyZWRDb250YWluZXJIZWlnaHQ7XG4gICAgICAgIGlmIChwcmVmZXJyZWRCb3R0b20gPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWZlcnJlZFRvcCA9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LnRvcCAtIHByZWZlcnJlZENvbnRhaW5lckhlaWdodDtcbiAgICAgICAgICAgIGlmIChwcmVmZXJyZWRUb3AgPj0gMCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uQWJvdmUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdmVyZmxvd0JvdHRvbSA9IHByZWZlcnJlZEJvdHRvbSAtIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgICAgICBjb25zdCBvdmVyZmxvd1RvcCA9IC1wcmVmZXJyZWRUb3A7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJmbG93Qm90dG9tID4gb3ZlcmZsb3dUb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25BYm92ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9IHByZWZlcnJlZENvbnRhaW5lckhlaWdodCAtIG92ZXJmbG93VG9wO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9IHByZWZlcnJlZENvbnRhaW5lckhlaWdodCAtIG92ZXJmbG93Qm90dG9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgYXMgZmFyIGxlZnQgYXMgcG9zc2libGUgd2hpbGUga2VlcGluZyB0aGUgS2VlIGljb24gYWJvdmUgdGhlIGNvbnRhaW5lciBhbmQgbm90XG4gICAgICAgIC8vIGdvaW5nIGJleW9uZCB0aGUgbGVmdCBlZGdlIG9mIHRoZSB0YXJnZXQuIFdlIGFzc3VtZSB0aGUgS2VlIGljb24gaXMgYWx3YXlzIHZpc2libGUgYmVjYXVzZVxuICAgICAgICAvLyB0aGUgdXNlciBoYXMgaGFkIHRvIGludGVyYWN0IHdpdGggdGhlIGJ1dHRvbiBpbml0aWFsbHkuIFRoYXQgYXNzdW1wdGlvbiB3b24ndCBhbHdheXMgaG9sZFxuICAgICAgICAvLyAtIGUuZy4gaW4gdmVyeSBuYXJyb3cgc2NyZWVucyB3aXRoIGtleWJvYXJkIGFjdGl2YXRpb24gb3Igc29tZSBsYXRlciB3aW5kb3cgb3IgRE9NIGFkanVzdG1lbnRzIGJ1dCB0aGlzIHNob3VsZFxuICAgICAgICAvLyBiZSBhbiBlZGdlIGNhc2UgdGhhdCB1c2VycyBjYW4gd29yayBhcm91bmQgdW50aWwgd2UgaGF2ZSBtb3JlIHRpbWUgdG8gZXh0ZW5kIHN1cHBvcnQgdG8gdGhvc2Ugc2NlbmFyaW9zLlxuICAgICAgICBjb25zdCB0YXJnZXRXaWR0aCA9IHByZWZlcnJlZEFycm93WENvb3JkIC0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QubGVmdDtcbiAgICAgICAgbGV0IHJlbGF0aXZlTGVmdDogbnVtYmVyO1xuICAgICAgICBpZiAodGFyZ2V0V2lkdGggPCBjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgICAgcmVsYXRpdmVMZWZ0ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCAtIGNvbnRhaW5lcldpZHRoXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVsYXRpdmVMZWZ0ID0gcHJlZmVycmVkQXJyb3dYQ29vcmQgLSBjb250YWluZXJXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvcCA9IHBvc2l0aW9uQWJvdmUgPyB0YXJnZXRUb3AgLSBjb250YWluZXJIZWlnaHQgOiB0YXJnZXRCb3R0b207XG4gICAgICAgIGNvbnN0IGxlZnQgPSByZWxhdGl2ZUxlZnQgKyB3aW5kb3cuc2Nyb2xsWDtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJ3aWR0aFwiLCBjb250YWluZXJXaWR0aCArIFwicHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFwiaGVpZ2h0XCIsIGNvbnRhaW5lckhlaWdodCArIFwicHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFwidG9wXCIsIHRvcCArIFwicHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFwibGVmdFwiLCBsZWZ0ICsgXCJweFwiLCBcImltcG9ydGFudFwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xvc2VQYW5lbCgpIHtcbiAgICAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuaWQpO1xuICAgICAgICBpZiAocGFuZWwpIHBhbmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGFuZWwpO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50VG9SZWZvY3VzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICh0aGlzLmVsZW1lbnRUb1JlZm9jdXMgYXMgSFRNTEVsZW1lbnQpLmZvY3VzKCk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyBFeHBlY3RlZCBpZiBhY3RpdmVFbGVtZW50IHdhcyBub3QgYWN0dWFsbHkgYW4gSFRNTEVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBlbnVtIEFjdGlvbiB7XG4gICAgQ2xvc2VBbGxQYW5lbHMgPSBcImNsb3NlQWxsUGFuZWxzXCIsXG4gICAgRGV0ZWN0Rm9ybXMgPSBcImRldGVjdEZvcm1zXCIsXG4gICAgUmVzZXRGb3JtcyA9IFwicmVzZXRGb3Jtc1wiLFxuICAgIEdldFBhc3N3b3JkUHJvZmlsZXMgPSBcImdldFBhc3N3b3JkUHJvZmlsZXNcIixcbiAgICBHZW5lcmF0ZVBhc3N3b3JkID0gXCJnZW5lcmF0ZVBhc3N3b3JkXCIsXG4gICAgTWFudWFsRmlsbCA9IFwibWFudWFsRmlsbFwiLFxuICAgIFByaW1hcnkgPSBcInByaW1hcnlcIixcbiAgICBTaG93TWF0Y2hlZExvZ2luc1BhbmVsID0gXCJzaG93TWF0Y2hlZExvZ2luc1BhbmVsXCIsXG4gICAgUGFnZUhpZGUgPSBcInBhZ2VIaWRlXCIsXG4gICAgT3BlbktlZVBhc3MgPSBcIm9wZW5rZWVwYXNzXCIsXG4gICAgQ3JlYXRlRW50cnkgPSBcImNyZWF0ZUVudHJ5XCIsXG4gICAgVXBkYXRlRW50cnkgPSBcInVwZGF0ZUVudHJ5XCJcbn1cbiIsImltcG9ydCB7IEZvcm1VdGlscyB9IGZyb20gXCIuL2Zvcm1zVXRpbHNcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi9jb21tb24vQWN0aW9uXCI7XG5pbXBvcnQgeyBBZGRvbk1lc3NhZ2UgfSBmcm9tIFwiLi4vY29tbW9uL0FkZG9uTWVzc2FnZVwiO1xuaW1wb3J0IHsgTWF0Y2hlZEZpZWxkIH0gZnJvbSBcIi4vTWF0Y2hlZEZpZWxkXCI7XG5pbXBvcnQgeyBFbnRyeSB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRW50cnlcIjtcblxuZXhwb3J0IGNsYXNzIEtlZUZpZWxkSWNvbiB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgbXlQb3J0OiBicm93c2VyLnJ1bnRpbWUuUG9ydCxcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnRGcmFtZUlkOiBudW1iZXIsXG4gICAgICAgIHByaXZhdGUgZm9ybVV0aWxzOiBGb3JtVXRpbHMsXG4gICAgICAgIHByaXZhdGUgY3JlYXRlTWF0Y2hlZExvZ2luc1BhbmVsTmVhck5vZGU6IChlOiBIVE1MRWxlbWVudCkgPT4gdm9pZFxuICAgICkge31cblxuICAgIHByaXZhdGUgZmllbGRzV2l0aEljb25zOiBNYXRjaGVkRmllbGRbXSA9IFtdO1xuICAgIHByaXZhdGUgcGFzc3dvcmRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdO1xuICAgIHByaXZhdGUgb3RoZXJGaWVsZHM6IE1hdGNoZWRGaWVsZFtdO1xuXG4gICAgcHVibGljIHJlbW92ZUtlZUljb25Gcm9tQWxsRmllbGRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIHRoaXMuZmllbGRzV2l0aEljb25zKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IGZpZWxkLkRPTWVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcyk7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcyk7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1pbWFnZVwiLCBcIlwiKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLXJlcGVhdFwiLCBcIlwiKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLWF0dGFjaG1lbnRcIiwgXCJcIik7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1zaXplXCIsIFwiXCIpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtcG9zaXRpb25cIiwgXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maWVsZHNXaXRoSWNvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5wYXNzd29yZEZpZWxkcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3RoZXJGaWVsZHMgPSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRLZWVJY29uVG9GaWVsZHMoXG4gICAgICAgIHBhc3N3b3JkRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgb3RoZXJGaWVsZHM6IE1hdGNoZWRGaWVsZFtdLFxuICAgICAgICBlbnRyaWVzOiBFbnRyeVtdXG4gICAgKSB7XG4gICAgICAgIHRoaXMucGFzc3dvcmRGaWVsZHMgPSBwYXNzd29yZEZpZWxkcztcbiAgICAgICAgdGhpcy5vdGhlckZpZWxkcyA9IG90aGVyRmllbGRzO1xuXG4gICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFiZWxsZWRJY29uKGVudHJpZXMubGVuZ3RoLnRvU3RyaW5nKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZnRlckltYWdlTG9hZGVkKHRoaXMuS0VFRk9YX0lDT05fMTYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBza2lwRmllbGQoZmllbGQ6IE1hdGNoZWRGaWVsZCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhdGhpcy5mb3JtVXRpbHMuaXNBVGV4dEZvcm1GaWVsZFR5cGUoZmllbGQuZmllbGQudHlwZSkgJiZcbiAgICAgICAgICAgIGZpZWxkLmZpZWxkLnR5cGUgIT0gXCJwYXNzd29yZFwiXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWZpZWxkLkRPTWVsZW1lbnQgfHxcbiAgICAgICAgICAgIGZpZWxkLkRPTWVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCB8fFxuICAgICAgICAgICAgIWZpZWxkLkRPTWVsZW1lbnQuaXNDb25uZWN0ZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQuRE9NZWxlbWVudC5tYXhMZW5ndGggPiAwICYmIGZpZWxkLkRPTWVsZW1lbnQubWF4TGVuZ3RoIDw9IDMpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoZmllbGQuRE9NZWxlbWVudC5vZmZzZXRXaWR0aCA8IDUwKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkSWNvbihmaWVsZDogTWF0Y2hlZEZpZWxkLCBpbWFnZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZmllbGRzV2l0aEljb25zLnB1c2goZmllbGQpO1xuXG4gICAgICAgIGNvbnN0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZmllbGQuRE9NZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcyk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzKTtcblxuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1pbWFnZVwiLCBcInVybCgnXCIgKyBpbWFnZSArIFwiJylcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLXJlcGVhdFwiLCBcIm5vLXJlcGVhdFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtYXR0YWNobWVudFwiLCBcInNjcm9sbFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtc2l6ZVwiLCBcIjE2cHggMTZweFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtcG9zaXRpb25cIiwgXCJjYWxjKDEwMCUgLSA0cHgpIDUwJVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImN1cnNvclwiLCBcImF1dG9cIik7XG5cbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbkNvbmZpZyA9IHdpbmRvd1xuICAgICAgICAgICAgLmdldENvbXB1dGVkU3R5bGUoZmllbGQuRE9NZWxlbWVudClcbiAgICAgICAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKFwidHJhbnNpdGlvbi1wcm9wZXJ0eVwiKTtcbiAgICAgICAgaWYgKFtcImFsbFwiLCBcImJhY2tncm91bmRcIl0uc29tZSh2YWwgPT4gdHJhbnNpdGlvbkNvbmZpZy5pbmNsdWRlcyh2YWwpKSkge1xuICAgICAgICAgICAgZmllbGQuRE9NZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcInRyYW5zaXRpb25cIiwgXCJub25lXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vdmVycmlkZUJveFNoYWRvd3MoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRsZUV2ZW50KGU6IEV2ZW50KSB7XG4gICAgICAgIGlmIChlLnR5cGUgPT09IFwiY2xpY2tcIikgdGhpcy5zaG93TWF0Y2hlZExvZ2luc1BhbmVsKGUpO1xuICAgICAgICBpZiAoZS50eXBlID09PSBcIm1vdXNlbW92ZVwiKSB0aGlzLmhvdmVyT3ZlcklucHV0KGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGltaXRGaWVsZHMoZmllbGRzOiBNYXRjaGVkRmllbGRbXSkge1xuICAgICAgICBjb25zdCBvcmRlcmVkRmllbGRzID0gZmllbGRzXG4gICAgICAgICAgICAuZmlsdGVyKGYgPT4gIXRoaXMuc2tpcEZpZWxkKGYpKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYS5oaWdoZXN0U2NvcmUgPT09IGIuaGlnaGVzdFNjb3JlKSByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5oaWdoZXN0U2NvcmUgPCBiLmhpZ2hlc3RTY29yZSA/IDEgOiAtMTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3JkZXJlZEZpZWxkcy5zbGljZSgwLCAyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFmdGVySW1hZ2VMb2FkZWQoaW1hZ2U6IHN0cmluZykge1xuICAgICAgICAvLyBQdXQgaWNvbnMgaW4gb25seSB0aGUgdG9wIDIgbWF0Y2hpbmcgcGFzc3dvcmQgYW5kIHRleHQgZmllbGRzXG4gICAgICAgIGNvbnN0IGZpZWxkU2V0MSA9IHRoaXMubGltaXRGaWVsZHModGhpcy5wYXNzd29yZEZpZWxkcyk7XG4gICAgICAgIGNvbnN0IGZpZWxkU2V0MiA9IHRoaXMubGltaXRGaWVsZHModGhpcy5vdGhlckZpZWxkcyk7XG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRTZXQxLmNvbmNhdChmaWVsZFNldDIpKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEljb24oZmllbGQsIGltYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb3ZlcnJpZGVCb3hTaGFkb3dzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICBpZiAoY3VycmVudFN0eWxlKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFkb3dzID0gW107XG4gICAgICAgICAgICBzaGFkb3dzLnB1c2goY3VycmVudFN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJib3gtc2hhZG93XCIpKTtcbiAgICAgICAgICAgIHNoYWRvd3MucHVzaChjdXJyZW50U3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcIi13ZWJraXQtYm94LXNoYWRvd1wiKSk7XG4gICAgICAgICAgICBzaGFkb3dzLnB1c2goY3VycmVudFN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCItbW96LWJveC1zaGFkb3dcIikpO1xuICAgICAgICAgICAgaWYgKHNoYWRvd3Muc29tZShzID0+IHMuaW5kZXhPZihcImluc2V0XCIpKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJib3gtc2hhZG93XCIsIFwiaW5pdGlhbFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLXdlYmtpdC1ib3gtc2hhZG93XCIsIFwiaW5pdGlhbFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLW1vei1ib3gtc2hhZG93XCIsIFwiaW5pdGlhbFwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2hvd01hdGNoZWRMb2dpbnNQYW5lbChlKSB7XG4gICAgICAgIGNvbnN0IGJjcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBsZWZ0TGltaXQgPSBiY3JlY3QubGVmdCArIGJjcmVjdC53aWR0aCAtIDIyO1xuICAgICAgICBpZiAoZS5jbGllbnRYID4gbGVmdExpbWl0ICYmIGJjcmVjdC50b3AgPD0gZS5jbGllbnRZICYmIGUuY2xpZW50WSA8PSBiY3JlY3QuYm90dG9tKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRGcmFtZUlkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5teVBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IEFjdGlvbi5TaG93TWF0Y2hlZExvZ2luc1BhbmVsXG4gICAgICAgICAgICAgICAgfSBhcyBBZGRvbk1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbE5lYXJOb2RlKGUudGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaG92ZXJPdmVySW5wdXQoZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQuZGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgY29uc3QgYmNyZWN0ID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGxlZnRMaW1pdCA9IGJjcmVjdC5sZWZ0ICsgYmNyZWN0LndpZHRoIC0gMjI7XG4gICAgICAgIGlmIChlLmNsaWVudFggPiBsZWZ0TGltaXQpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnN0eWxlLnNldFByb3BlcnR5KFwiY3Vyc29yXCIsIFwicG9pbnRlclwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlLnRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShcImN1cnNvclwiLCBcImF1dG9cIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRMYWJlbGxlZEljb24odGV4dDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAxNjtcbiAgICAgICAgY2FudmFzLndpZHRoID0gMTY7XG4gICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoNiwgOCwgMTAsIDgpO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcInJlZFwiO1xuICAgICAgICAgICAgY29udGV4dC5mb250ID0gXCI4cHggQXJpYWxcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGV4dCwgNywgMTUpO1xuICAgICAgICAgICAgdGhpcy5hZnRlckltYWdlTG9hZGVkKGNhbnZhcy50b0RhdGFVUkwoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpbWcuc3JjID0gdGhpcy5LRUVGT1hfSUNPTl8xNjtcbiAgICB9XG5cbiAgICByZWFkb25seSBLRUVGT1hfSUNPTl8xNiA9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgIFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FZQUFBQWY4LzloQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQUFsd1NGbHpBQUFBN0FBQUFPd0JlU2h4dlFBQUFCbDBSVmgwVTI5bWRIZGhjbVVBZDNkM0xtbHVhM05qWVhCbExtOXlaNXZ1UEJvQUFBQU9kRVZZZEZScGRHeGxBRXRsWlNCc2IyZHZONTlCOUFBQUFCQjBSVmgwUVhWMGFHOXlBRXRsWlNCV1lYVnNkR1h3eTVVQUFBSDhTVVJCVkRpTmhaRGZTMU5oR01jL3ozdk9FSGVhMGxnWHJraXN2QXJXVFVTbEY5WEZJS2ovd2F1Z3RQK2hleS9NNXZwRk4wRWc0VVZCMFdBUlNnbEMwSVgyQXd3dHpkeXdwcFlzejg2Mjg3NWR6TG1EYmZUY3ZkL244LzArWDE2Slg3NFN4Z3Q5QUhyWW1ZaFZmVGJaODhaNi9TZVdWRUMvc3pGMWJyR3ZWRFQySlJxelZMTFVDVGwyOFhyYnRxOEx3TDc2SnRVMWF4TGhMVG0vMkEvQTFKRnA1dHhPTTVSUFNDQmdNMnlwTHJXUVNYa0lEK3RxZDhqbGpMTXBqdmdNUkZjWTJQK05zUEk1N1d4SWQ4Z04rSG13a0VsNU5vQlV1V1VzcmdJcVpudTd4TFhvbDZDQm1GMW11ZElPVURVMmFRQUZzUG9xL1JrakdZQjVMNEtuRlh2SDA0cDV6d0hBd05QOGkvVHliZ0FBWWtZQml0cGllTDBYUDJEMmdlSDFYb3JhcnFHNnhnSUVQMFhpeWNIM3dIR0FVKzBiM0Q0NGg2c3RodklKWnQzT092WXVseDA3V1RjRnV4b2pqZVNsU3EzdTEzS1lUNlZJQXdvd2V3T3d0dG9lSVJTQzJzeDJsSXFwWTVLUGRoeDQzRExnKzh5SUszQS9xSjExMWdtSnJ0bU52dk54NGthNVpRQ0EwcElHS2hvMFFFVDVBQVlvVlVYZis0ZmZLNnk4SE1zQkV5VnR1UUMvZFFnZk1SakcxN0ozZi93M0FFQXJjN09vN2ZENHIwT01GSTZpalNoUmFyUVpLODFFZ0hoeWNCcm8yM2xPNXJMcEM4MjRwZzBBeEVqam90RDBPb0RkYXJGYWlUMDUzTGIyVmhCL3VlUG44MWJjWCt4WHU3cmVzbDlSQUFBQUFFbEZUa1N1UW1DQ1wiO1xufVxuIiwiaW1wb3J0IHsgRmlsbGVkRmllbGQgfSBmcm9tIFwiLi9GaWxsZWRGaWVsZFwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5XCI7XG5pbXBvcnQgeyBNYXRjaGVkRmllbGQgfSBmcm9tIFwiLi9NYXRjaGVkRmllbGRcIjtcblxuZXhwb3J0IGNsYXNzIE1hdGNoUmVzdWx0IHtcbiAgICBlbnRyaWVzOiBFbnRyeVtdW107XG4gICAgc3VibWl0VGFyZ2V0czogSFRNTEVsZW1lbnRbXTtcbiAgICB1c2VybmFtZUluZGV4QXJyYXk6IG51bWJlcltdO1xuICAgIHBhc3N3b3JkRmllbGRzQXJyYXk6IE1hdGNoZWRGaWVsZFtdW107XG4gICAgb3RoZXJGaWVsZHNBcnJheTogTWF0Y2hlZEZpZWxkW11bXTtcbiAgICBjdXJyZW50UGFnZTogbnVtYmVyO1xuICAgIGFsbE1hdGNoaW5nTG9naW5zOiBhbnlbXTtcbiAgICBmb3JtUmVsZXZhbmNlU2NvcmVzOiBudW1iZXJbXTtcbiAgICBVVUlEOiBzdHJpbmc7XG4gICAgbXVzdEF1dG9GaWxsRm9ybTogYm9vbGVhbjtcbiAgICBjYW5ub3RBdXRvRmlsbEZvcm06IGJvb2xlYW47XG4gICAgbXVzdEF1dG9TdWJtaXRGb3JtOiBib29sZWFuO1xuICAgIGNhbm5vdEF1dG9TdWJtaXRGb3JtOiBib29sZWFuO1xuICAgIGRiRmlsZU5hbWU6IHN0cmluZztcbiAgICBkb2M6IERvY3VtZW50O1xuICAgIGZvcm1zOiBIVE1MRm9ybUVsZW1lbnRbXTtcbiAgICBmb3JtUmVhZHlGb3JTdWJtaXQ6IGJvb2xlYW47XG4gICAgYXV0b2ZpbGxPblN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgYXV0b3N1Ym1pdE9uU3VjY2VzczogYm9vbGVhbjtcbiAgICBub3RpZnlVc2VyT25TdWNjZXNzOiBib29sZWFuO1xuICAgIHdyYXBwZXJzOiBhbnlbXTtcbiAgICByZXF1ZXN0Q291bnQ6IG51bWJlcjtcbiAgICByZXNwb25zZUNvdW50OiBudW1iZXI7XG4gICAgcmVxdWVzdElkczogYW55W107XG4gICAgbW9zdFJlbGV2YW50Rm9ybUluZGV4PzogbnVtYmVyO1xuICAgIGxhc3RGaWxsZWRPdGhlcjogRmlsbGVkRmllbGRbXTtcbiAgICBsYXN0RmlsbGVkUGFzc3dvcmRzOiBGaWxsZWRGaWVsZFtdO1xufVxuIiwiZXhwb3J0IGVudW0gU2Vzc2lvblR5cGUge1xuICAgIEV2ZW50ID0gXCJldmVudFwiLFxuICAgIFdlYnNvY2tldCA9IFwid2Vic29ja2V0XCJcbn1cbiIsImltcG9ydCB7IEVudHJ5IH0gZnJvbSBcIi4vRW50cnlcIjtcbmltcG9ydCB7IEljb24gfSBmcm9tIFwiLi9JY29uXCI7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgRW50cnlTdW1tYXJ5RHRvIH0gZnJvbSBcIi4vS1BSUENEVE9zXCI7XG5cbmV4cG9ydCBjbGFzcyBFbnRyeVN1bW1hcnkge1xuICAgIGljb246IEljb247XG4gICAgdXNlcm5hbWVWYWx1ZTogc3RyaW5nO1xuICAgIHVzZXJuYW1lTmFtZTogc3RyaW5nO1xuICAgIHBhdGg6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVSTHM6IHN0cmluZ1tdO1xuICAgIHVybDogc3RyaW5nO1xuICAgIHV1aWQ6IHN0cmluZztcbiAgICBkYkZpbGVOYW1lOiBzdHJpbmc7XG4gICAgcmVsZXZhbmNlU2NvcmU6IG51bWJlcjtcbiAgICBmdWxsRGV0YWlscz86IEVudHJ5OyAvL1RPRE86NDogcmVtb3ZlIGNpcmN1bGFyIHJlZmVyZW5jZSBieSBtYWludGFpbmluZyBpbmRlcGVuZGVudCBFbnRyeSBsb29rdXAgYnkgdXVpZD9cbiAgICBpc1ByZWZlcnJlZE1hdGNoPzogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGU6IFBhcnRpYWw8RW50cnlTdW1tYXJ5Pikge1xuICAgICAgICB0aGlzLmljb24gPSBlLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMudXNlcm5hbWVWYWx1ZSA9IGUudXNlcm5hbWVWYWx1ZSB8fCBcIjxubyB1c2VybmFtZT5cIjtcbiAgICAgICAgdGhpcy51c2VybmFtZU5hbWUgPSBlLnVzZXJuYW1lTmFtZSB8fCBcIjxubyB1c2VybmFtZT5cIjtcbiAgICAgICAgdGhpcy5wYXRoID0gZS5wYXRoIHx8IFwiVU5LTk9XTiBQQVRIXCI7XG4gICAgICAgIHRoaXMudGl0bGUgPSBlLnRpdGxlIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudVJMcyA9IGUudVJMcyB8fCBbXTtcbiAgICAgICAgdGhpcy51cmwgPSBlPy51cmwgfHwgXCJcIjtcbiAgICAgICAgdGhpcy51dWlkID0gZS51dWlkIHx8IHV0aWxzLm5ld0dVSUQoKTtcbiAgICAgICAgdGhpcy5kYkZpbGVOYW1lID0gZS5kYkZpbGVOYW1lIHx8IFwiXCI7XG4gICAgICAgIHRoaXMucmVsZXZhbmNlU2NvcmUgPSBlLnJlbGV2YW5jZVNjb3JlO1xuICAgICAgICB0aGlzLmZ1bGxEZXRhaWxzID0gZS5mdWxsRGV0YWlscztcbiAgICAgICAgdGhpcy5pc1ByZWZlcnJlZE1hdGNoID0gZS5pc1ByZWZlcnJlZE1hdGNoO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUVudHJ5KGVudHJ5OiBFbnRyeSkge1xuICAgICAgICByZXR1cm4gbmV3IEVudHJ5U3VtbWFyeSh7XG4gICAgICAgICAgICBpY29uOiBlbnRyeS5pY29uLFxuICAgICAgICAgICAgdXNlcm5hbWVWYWx1ZTogRW50cnkuZ2V0VXNlcm5hbWVGaWVsZChlbnRyeSk/LnZhbHVlLFxuICAgICAgICAgICAgdXNlcm5hbWVOYW1lOiBFbnRyeS5nZXRVc2VybmFtZUZpZWxkKGVudHJ5KT8ubmFtZSxcbiAgICAgICAgICAgIHRpdGxlOiBlbnRyeS50aXRsZSxcbiAgICAgICAgICAgIHVSTHM6IGVudHJ5LlVSTHMsXG4gICAgICAgICAgICB1cmw6IGVudHJ5Py5VUkxzWzBdLFxuICAgICAgICAgICAgdXVpZDogZW50cnkudXVpZCxcbiAgICAgICAgICAgIGRiRmlsZU5hbWU6IGVudHJ5LmRhdGFiYXNlLmZpbGVOYW1lLFxuICAgICAgICAgICAgZnVsbERldGFpbHM6IGVudHJ5LFxuICAgICAgICAgICAgaXNQcmVmZXJyZWRNYXRjaDogZW50cnkuaXNQcmVmZXJyZWRNYXRjaFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21LUFJQQ0VudHJ5U3VtbWFyeURUTyhcbiAgICAgICAgZW50cnlTdW1tYXJ5RHRvOiBFbnRyeVN1bW1hcnlEdG8sXG4gICAgICAgIHBhdGg6IHN0cmluZyxcbiAgICAgICAgZGJGaWxlTmFtZTogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBuZXcgRW50cnlTdW1tYXJ5KHtcbiAgICAgICAgICAgIGljb246IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogZW50cnlTdW1tYXJ5RHRvLmljb25JbWFnZURhdGEgfSxcbiAgICAgICAgICAgIHVzZXJuYW1lVmFsdWU6IGVudHJ5U3VtbWFyeUR0by51c2VybmFtZVZhbHVlLFxuICAgICAgICAgICAgdXNlcm5hbWVOYW1lOiBlbnRyeVN1bW1hcnlEdG8udXNlcm5hbWVOYW1lLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIHRpdGxlOiBlbnRyeVN1bW1hcnlEdG8udGl0bGUsXG4gICAgICAgICAgICB1UkxzOiBlbnRyeVN1bW1hcnlEdG8udVJMcyxcbiAgICAgICAgICAgIHVybDogZW50cnlTdW1tYXJ5RHRvPy51UkxzWzBdLFxuICAgICAgICAgICAgdXVpZDogZW50cnlTdW1tYXJ5RHRvLnVuaXF1ZUlELFxuICAgICAgICAgICAgZGJGaWxlTmFtZVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBFbnRyeVN1bW1hcnkgfSBmcm9tIFwiLi9FbnRyeVN1bW1hcnlcIjtcbmltcG9ydCB7IEljb24gfSBmcm9tIFwiLi9JY29uXCI7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgR3JvdXBEdG8gfSBmcm9tIFwiLi9LUFJQQ0RUT3NcIjtcblxuZXhwb3J0IGNsYXNzIEdyb3VwIHtcbiAgICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHV1aWQ6IHN0cmluZztcbiAgICByZWFkb25seSBpY29uOiBJY29uO1xuICAgIHJlYWRvbmx5IHBhdGg6IHN0cmluZztcbiAgICByZWFkb25seSBlbnRyeVN1bW1hcmllczogRW50cnlTdW1tYXJ5W107XG4gICAgcmVhZG9ubHkgZ3JvdXBzOiBHcm91cFtdO1xuICAgIC8vY2hpbGRFbnRyaWVzOiBFbnRyeVtdIC0gdGhpcyBpcyBvbmx5IG5lZWRlZCBpZiB3ZSBldmVyIHJlcXVlc3QgR2V0QWxsRGF0YWJhc2VzKHRydWUpIGJ1dCBLZWUgY3VycmVudGx5IGhhcyBubyBuZWVkIGZvciB0aGlzIEtQUlBDIGZlYXR1cmVcblxuICAgIGNvbnN0cnVjdG9yKGc6IFBhcnRpYWw8R3JvdXA+KSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSBnLnRpdGxlIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudXVpZCA9IGcudXVpZCB8fCB1dGlscy5uZXdHVUlEKCk7XG4gICAgICAgIHRoaXMuaWNvbiA9IGcuaWNvbiB8fCB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IFwiXCIgfTtcbiAgICAgICAgdGhpcy5wYXRoID0gZy5wYXRoIHx8IFwiVU5LTk9XTiBQQVRIXCI7XG4gICAgICAgIHRoaXMuZW50cnlTdW1tYXJpZXMgPSBnLmVudHJ5U3VtbWFyaWVzIHx8IFtdO1xuICAgICAgICB0aGlzLmdyb3VwcyA9IGcuZ3JvdXBzIHx8IFtdO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUtQUlBDR3JvdXBEVE8oZ3JvdXBEdG86IEdyb3VwRHRvLCBkYkZpbGVOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcm91cCh7XG4gICAgICAgICAgICB0aXRsZTogZ3JvdXBEdG8udGl0bGUsXG4gICAgICAgICAgICB1dWlkOiBncm91cER0by51bmlxdWVJRCxcbiAgICAgICAgICAgIGljb246IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogZ3JvdXBEdG8uaWNvbkltYWdlRGF0YSB9LFxuICAgICAgICAgICAgcGF0aDogZ3JvdXBEdG8ucGF0aCxcbiAgICAgICAgICAgIGVudHJ5U3VtbWFyaWVzOiBncm91cER0by5jaGlsZExpZ2h0RW50cmllcy5tYXAoY2hpbGRMaWdodEVudHJ5ID0+XG4gICAgICAgICAgICAgICAgRW50cnlTdW1tYXJ5LmZyb21LUFJQQ0VudHJ5U3VtbWFyeURUTyhjaGlsZExpZ2h0RW50cnksIGdyb3VwRHRvLnBhdGgsIGRiRmlsZU5hbWUpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZ3JvdXBzOiBncm91cER0by5jaGlsZEdyb3Vwcy5tYXAoY2hpbGRHcm91cCA9PlxuICAgICAgICAgICAgICAgIHRoaXMuZnJvbUtQUlBDR3JvdXBEVE8oY2hpbGRHcm91cCwgZGJGaWxlTmFtZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBjb250YWluc0lkKGdyb3VwOiBHcm91cCwgaWQ6IHN0cmluZykge1xuICAgICAgICBpZiAoZ3JvdXAudXVpZCA9PT0gaWQpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoZ3JvdXAuZ3JvdXBzICYmIGdyb3VwLmdyb3Vwcy5zb21lKGcgPT4gR3JvdXAuY29udGFpbnNJZChnLCBpZCkpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNlc3Npb25UeXBlIH0gZnJvbSBcIi4vU2Vzc2lvblR5cGVcIjtcbmltcG9ydCB7IERhdGFiYXNlRHRvIH0gZnJvbSBcIi4vS1BSUENEVE9zXCI7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSBcIi4vSWNvblwiO1xuaW1wb3J0IHsgR3JvdXAgfSBmcm9tIFwiLi9Hcm91cFwiO1xuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2Uge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBmaWxlTmFtZTogc3RyaW5nO1xuICAgIGljb246IEljb247XG4gICAgcm9vdDogR3JvdXA7XG4gICAgYWN0aXZlOiBib29sZWFuO1xuICAgIHNlc3Npb25UeXBlOiBTZXNzaW9uVHlwZTtcbiAgICBzZXNzaW9uRmVhdHVyZXM6IHN0cmluZ1tdO1xuXG4gICAgY29uc3RydWN0b3IoZGI6IFBhcnRpYWw8RGF0YWJhc2U+KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IGRiLm5hbWUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5maWxlTmFtZSA9IGRiLmZpbGVOYW1lIHx8IFwiXCI7XG4gICAgICAgIHRoaXMuaWNvbiA9IGRiLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMucm9vdCA9IGRiLnJvb3QgfHwgbmV3IEdyb3VwKHt9KTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBkYi5hY3RpdmUgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuc2Vzc2lvblR5cGUgPSBkYi5zZXNzaW9uVHlwZSB8fCBTZXNzaW9uVHlwZS5FdmVudDtcbiAgICAgICAgdGhpcy5zZXNzaW9uRmVhdHVyZXMgPSBkYi5zZXNzaW9uRmVhdHVyZXMgfHwgW1wiXCJdO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUtQUlBDRGF0YWJhc2VEVE8oXG4gICAgICAgIGR0bzogRGF0YWJhc2VEdG8sXG4gICAgICAgIHNlc3Npb25UeXBlOiBTZXNzaW9uVHlwZSxcbiAgICAgICAgc2Vzc2lvbkZlYXR1cmVzOiBzdHJpbmdbXVxuICAgICkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGFiYXNlKHtcbiAgICAgICAgICAgIG5hbWU6IGR0by5uYW1lLFxuICAgICAgICAgICAgZmlsZU5hbWU6IGR0by5maWxlTmFtZSxcbiAgICAgICAgICAgIGljb246IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogZHRvLmljb25JbWFnZURhdGEgfSxcbiAgICAgICAgICAgIHJvb3Q6IEdyb3VwLmZyb21LUFJQQ0dyb3VwRFRPKGR0by5yb290LCBkdG8uZmlsZU5hbWUpLFxuICAgICAgICAgICAgYWN0aXZlOiBkdG8uYWN0aXZlLFxuICAgICAgICAgICAgc2Vzc2lvblR5cGUsXG4gICAgICAgICAgICBzZXNzaW9uRmVhdHVyZXNcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uICQoc2VsZWN0b3I6IGFueSwgZWw/OiBEb2N1bWVudCkge1xuICAgIGlmICghZWwpIGVsID0gZG9jdW1lbnQ7XG4gICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uICQkKHNlbGVjdG9yOiBhbnksIGVsPzogRG9jdW1lbnQpIHtcbiAgICBpZiAoIWVsKSBlbCA9IGRvY3VtZW50O1xuICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiAkU1RSKHN0cjogc3RyaW5nKSB7XG4gICAgY29uc3QgbXNnID0gYnJvd3Nlci5pMThuLmdldE1lc3NhZ2Uoc3RyKTtcbiAgICByZXR1cm4gbXNnIHx8IHN0cjtcbn1cbmV4cG9ydCBmdW5jdGlvbiAkU1RSRihzdHI6IHN0cmluZywgc3ViczogYW55KSB7XG4gICAgY29uc3QgbXNnID0gYnJvd3Nlci5pMThuLmdldE1lc3NhZ2Uoc3RyLCBzdWJzKTtcbiAgICByZXR1cm4gbXNnIHx8IHN0cjtcbn1cbiIsImV4cG9ydCBjbGFzcyBMb2NhdG9yIHtcbiAgICAvLyBIVE1MIGlkIGF0dHJpYnV0ZVxuICAgIGlkOiBzdHJpbmc7XG5cbiAgICAvLyBIVE1MIG5hbWUgYXR0cmlidXRlXG4gICAgbmFtZTogc3RyaW5nO1xuXG4gICAgLy8gSFRNTCBpbnB1dCB0eXBlXG4gICAgdHlwZTogc3RyaW5nO1xuXG4gICAgLy8gSFRNTCBET00gc2VsZWN0IHF1ZXJ5XG4gICAgcXVlcnk/OiBzdHJpbmc7XG5cbiAgICAvLyBWaXNpYmxlIGFuZCBhY2Nlc3NpYmlsaXR5IGxhYmVsc1xuICAgIGxhYmVscz86IHN0cmluZ1tdO1xuXG4gICAgLy8gQW55IGF1dG9jb21wbGV0ZSB2YWx1ZXMgd2UgZm91bmQsIG9yIHJlcXVpcmUsIGluIHRoZSBET01cbiAgICBhdXRvY29tcGxldGVWYWx1ZXM/OiBzdHJpbmdbXTtcblxuICAgIGNvbnN0cnVjdG9yKGxvY2F0b3I6IFBhcnRpYWw8TG9jYXRvcj4pIHtcbiAgICAgICAgdGhpcy5pZCA9IGxvY2F0b3IuaWQgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5uYW1lID0gbG9jYXRvci5uYW1lIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudHlwZSA9IGxvY2F0b3IudHlwZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gbG9jYXRvci5xdWVyeTtcbiAgICAgICAgdGhpcy5sYWJlbHMgPSBsb2NhdG9yLmxhYmVscztcbiAgICAgICAgdGhpcy5hdXRvY29tcGxldGVWYWx1ZXMgPSBsb2NhdG9yLmF1dG9jb21wbGV0ZVZhbHVlcztcbiAgICB9XG5cbiAgICAvL1RPRE86NDogVGhpbmdzIGxpa2UgTWF4TGVuZ3RoIHRoYXQgY2FuIGJlIHVzZWQgdG8gYm90aCBoZWxwIGlkZW50aWZ5IHRoZSBmaWVsZCBhbmQgZ2VuZXJhdGUgbmV3IHZhbHVlcy9wYXNzd29yZHNcbn1cbiIsImltcG9ydCB7IFNlc3Npb25UeXBlIH0gZnJvbSBcIi4vU2Vzc2lvblR5cGVcIjtcblxuZXhwb3J0IGNsYXNzIFBhc3N3b3JkUHJvZmlsZUR0byB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNlc3Npb25UeXBlOiBTZXNzaW9uVHlwZTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFiYXNlRHRvIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZmlsZU5hbWU/OiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHJvb3Q6IEdyb3VwRHRvO1xuICAgIGFjdGl2ZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZVN1bW1hcnlEdG8ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBmaWxlTmFtZT86IHN0cmluZztcbiAgICBpY29uSW1hZ2VEYXRhOiBzdHJpbmc7XG4gICAgcm9vdDogR3JvdXBTdW1tYXJ5RHRvO1xuICAgIGFjdGl2ZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBHcm91cFN1bW1hcnlEdG8ge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdW5pcXVlSUQ6IHN0cmluZztcbiAgICBpY29uSW1hZ2VEYXRhOiBzdHJpbmc7XG4gICAgcGF0aDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgR3JvdXBEdG8ge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdW5pcXVlSUQ6IHN0cmluZztcbiAgICBpY29uSW1hZ2VEYXRhOiBzdHJpbmc7XG4gICAgcGF0aDogc3RyaW5nO1xuICAgIGNoaWxkTGlnaHRFbnRyaWVzOiBFbnRyeVN1bW1hcnlEdG9bXTtcbiAgICBjaGlsZEdyb3VwczogR3JvdXBEdG9bXTtcbiAgICAvL2NoaWxkRW50cmllczogRW50cnlEdG9bXSAtIHRoaXMgaXMgb25seSBuZWVkZWQgaWYgd2UgZXZlciByZXF1ZXN0IEdldEFsbERhdGFiYXNlcyh0cnVlKSBidXQgS2VlIGN1cnJlbnRseSBoYXMgbm8gbmVlZCBmb3IgdGhpcyBLUFJQQyBmZWF0dXJlXG59XG5cbmV4cG9ydCBlbnVtIFBsYWNlaG9sZGVySGFuZGxpbmcge1xuICAgIERlZmF1bHQgPSBcIkRlZmF1bHRcIixcbiAgICBFbmFibGVkID0gXCJFbmFibGVkXCIsXG4gICAgRGlzYWJsZWQgPSBcIkRpc2FibGVkXCJcbn1cblxuZXhwb3J0IGVudW0gTWF0Y2hBY2N1cmFjeUVudW0ge1xuICAgIC8vIEJlc3QgPSBOb24tVVJMIG1hdGNoIChpLmUuIHdlIG1hdGNoZWQgYnkgVVVJRCBpbnN0ZWFkKVxuICAgIC8vIEJlc3QgPSBSZWdleCBtYXRjaCAoaXQgaXMgaW1wb3NzaWJsZSBmb3IgdXMgdG8gaW5mZXIgaG93XG4gICAgLy8gYWNjdXJhdGUgYSByZWdleCBtYXRjaCBpcyBpbiBjb21wYXJpc29uIHdpdGggb3RoZXIgY2xhc3Nlc1xuICAgIC8vIG9mIG1hdGNoIHNvIHdlIGFsd2F5cyB0cmVhdCBpdCBhcyB0aGUgYmVzdCBwb3NzaWJsZSBtYXRjaFxuICAgIC8vIGV2ZW4gaWYgdGhlIHJlZ2V4IGl0c2VsZiBpcyB2ZXJ5IGxvb3NlKVxuICAgIC8vIEJlc3QgPSBTYW1lIFVSTCBpbmNsdWRpbmcgcXVlcnkgc3RyaW5nXG5cbiAgICAvLyBDbG9zZSA9IFNhbWUgVVJMIGV4Y2x1ZGluZyBxdWVyeSBzdHJpbmdcblxuICAgIC8vIEhvc3RuYW1lQW5kUG9ydCA9IFNhbWUgaG9zdG5hbWUgYW5kIHBvcnRcblxuICAgIC8vIEhvc3RuYW1lID0gU2FtZSBob3N0bmFtZSAoZG9tYWluICsgc3ViZG9tYWlucylcblxuICAgIC8vIERvbWFpbiA9IFNhbWUgZG9tYWluXG5cbiAgICAvLyBOb25lID0gTm8gbWF0Y2ggKGUuZy4gd2hlbiB3ZSBhcmUgYmVpbmcgYXNrZWQgdG8gcmV0dXJuIGFsbCBlbnRyaWVzKVxuXG4gICAgQmVzdCA9IDUwLFxuICAgIENsb3NlID0gNDAsXG4gICAgSG9zdG5hbWVBbmRQb3J0ID0gMzAsXG4gICAgSG9zdG5hbWUgPSAyMCxcbiAgICBEb21haW4gPSAxMCxcbiAgICBOb25lID0gMFxufVxuXG5leHBvcnQgY2xhc3MgRW50cnlEdG8ge1xuICAgIGRiOiBEYXRhYmFzZUR0bztcbiAgICBwYXJlbnQ6IEdyb3VwU3VtbWFyeUR0bztcbiAgICBpY29uSW1hZ2VEYXRhOiBzdHJpbmc7XG4gICAgYWx3YXlzQXV0b0ZpbGw6IGJvb2xlYW47XG4gICAgYWx3YXlzQXV0b1N1Ym1pdDogYm9vbGVhbjtcbiAgICBuZXZlckF1dG9GaWxsOiBib29sZWFuO1xuICAgIG5ldmVyQXV0b1N1Ym1pdDogYm9vbGVhbjtcbiAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgIHVSTHM6IHN0cmluZ1tdO1xuICAgIG1hdGNoQWNjdXJhY3k6IG51bWJlcjtcbiAgICBoVFRQUmVhbG06IHN0cmluZztcbiAgICB1bmlxdWVJRDogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgZm9ybUZpZWxkTGlzdDogRmllbGREdG9bXTtcbn1cblxuZXhwb3J0IGNsYXNzIEVudHJ5U3VtbWFyeUR0byB7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHVSTHM6IHN0cmluZ1tdO1xuICAgIHVuaXF1ZUlEOiBzdHJpbmc7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICB1c2VybmFtZVZhbHVlOiBzdHJpbmc7XG4gICAgdXNlcm5hbWVOYW1lOiBzdHJpbmc7XG59XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpjbGFzcy1uYW1lXG5leHBvcnQgY2xhc3MgRmllbGREdG8ge1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG5cbiAgICAvLyBcIm5hbWVcIiBhdHRyaWJ1dGUgb24gdGhlIEhUTUwgZm9ybSBlbGVtZW50XG4gICAgbmFtZTogc3RyaW5nO1xuXG4gICAgLy8gXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBvbiB0aGUgSFRNTCBmb3JtIGVsZW1lbnRcbiAgICB2YWx1ZTogc3RyaW5nO1xuXG4gICAgLy8gXCJpZFwiIGF0dHJpYnV0ZSBvbiB0aGUgSFRNTCBmb3JtIGVsZW1lbnRcbiAgICBpZDogc3RyaW5nO1xuXG4gICAgLy8gXCJ0eXBlXCIgYXR0cmlidXRlIG9uIHRoZSBIVE1MIGZvcm0gZWxlbWVudFxuICAgIHR5cGU6IEZvcm1GaWVsZFR5cGVEVE87XG5cbiAgICBwYWdlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBlbnVtIEZvcm1GaWVsZFR5cGVEVE8ge1xuICAgIHJhZGlvID0gXCJGRlRyYWRpb1wiLFxuICAgIHVzZXJuYW1lID0gXCJGRlR1c2VybmFtZVwiLFxuICAgIHRleHQgPSBcIkZGVHRleHRcIixcbiAgICBwYXNzd29yZCA9IFwiRkZUcGFzc3dvcmRcIixcbiAgICBzZWxlY3QgPSBcIkZGVHNlbGVjdFwiLFxuICAgIGNoZWNrYm94ID0gXCJGRlRjaGVja2JveFwiXG59XG4iLCJpbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgTG9jYXRvciB9IGZyb20gXCIuL0xvY2F0b3JcIjtcbmltcG9ydCB7IEZpZWxkRHRvLCBGb3JtRmllbGRUeXBlRFRPIH0gZnJvbSBcIi4vS1BSUENEVE9zXCI7XG5cbmV4cG9ydCB0eXBlIEZpZWxkVHlwZSA9IFwicGFzc3dvcmRcIiB8IFwidGV4dFwiIHwgXCJleGlzdGluZ1wiIHwgXCJib29sZWFuXCIgfCBcIm90cFwiIHwgXCJzb21lLWNoYXJzXCI7XG5cbmV4cG9ydCBjbGFzcyBGaWVsZCB7XG4gICAgLy8gVW5pcXVlIElEIHRoYXQgd2UgY2FuIHVzZSB0byBoZWxwIFVJIG9wZXJhdGlvbnMgYW5kIGlkZW50aWZpY2F0aW9uIHdoZW4gdGhlcmUgaXMgbm8ga25vd24gbmFtZSBmb3IgdGhpcyBmaWVsZC5cbiAgICAvLyBBbHNvIG1heSBiZSB1c2VmdWwgaW4gZnV0dXJlIGZvciBtdWx0aXBsZS1wYWdlIHJlY29uZmlndXJhdGlvbiBvciBwZXItYnJvd3NlciBmaWVsZCBjb25maWd1cmF0aW9uIG92ZXJyaWRlcz9cbiAgICByZWFkb25seSB1dWlkOiBzdHJpbmc7XG5cbiAgICAvLyB2aXN1YWwgaWRlbnRpZmllciBmb3IgdGhlIGZpZWxkLiBNYXkgYmUgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyIG9yIGluZmVycmVkIGZyb21cbiAgICAvLyBlaXRoZXIgZGVmYXVsdCBFbnRyeSBkYXRhICh1c2VybmFtZS9wYXNzd29yZC9PVFApIG9yIGZvcm0gZmllbGQgbGFiZWwgb3IgbmFtZSBhdHRyaWJ1dGVcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG5cbiAgICAvLyBUaGUgdmFsdWUgd2UnbGwgZmlsbCBpbnRvIHRoZSBmb3JtLlxuICAgIC8vIEZvciBleGlzdGluZyBkZXRlcm1pbmVzIHdoaWNoIG9wdGlvbiB0byBhY3RpdmF0ZS5cbiAgICAvLyBGb3IgYm9vbGVhbiBkZXRlcm1pbmVzIHdoZXRoZXIgdG8gYWN0aXZhdGUgb3IgZGVhY3RpdmF0ZSAodG8gaWdub3JlLCBkZWxldGUgdGhlIGZpZWxkIHJlY29yZClcbiAgICAvLyBGb3IgT1RQLCBuZWVkIHRvIHdvcmsgb3V0IHdoZXRoZXIgd2Ugd2lsbCBoYXZlIHRvIHRyYW5zZmVyIHRoZSBzZWNyZXRzIGFuZCByZWNhbGN1bGF0ZSBpbiB0aGUgYnJvd3NlciBvciBqdXN0IHRyZWF0IGFzIHN0YW5kYXJkIHZhbHVlXG4gICAgcmVhZG9ubHkgdmFsdWU6IHN0cmluZztcblxuICAgIC8vIHR5cGUgb2YgZGF0YSB0aGlzIGZpZWxkIHJlcHJlc2VudHMuIFRoZXJlJ3Mgbm8gMTAwJSB3YXkgdG8gbWF0Y2ggdGhpcyB0byB0aGUgdHlwZSBvZiBIVE1MIGZvcm0gZWxlbWVudCBidXQgaXQncyBvZnRlbiBsb2dpY2FsLlxuICAgIC8vIEUuZy4gcGFzc3dvcmQgZ29lcyBpbnRvIHBhc3N3b3JkIGZpZWxkcyB1bmxlc3MgdXNlciBleHBsaWNpdGx5IHJlLWNvbmZpZ3VyZXMgdGhhdDsgZXhpc3Rpbmcgd291bGQgdHlwaWNhbGx5IG1hdGNoIHNvbWV0aGluZ1xuICAgIC8vIGxpa2UgYSByYWRpbyBidXR0b24gb3Igc2VsZWN0IG9wdGlvbiBhbHJlYWR5IHByZXNlbnQgb24gdGhlIEhUTUwgZm9ybTsgYm9vbGVhbiB3b3VsZCBtYXRjaCBhIGNoZWNrYm94LlxuICAgIHJlYWRvbmx5IHR5cGU6IEZpZWxkVHlwZTtcblxuICAgIC8vIEhvdyB3ZSBjYW4gZmluZCB0aGUgY29ycmVjdCB0YXJnZXQgaW4gdGhlIEhUTUwuXG4gICAgcmVhZG9ubHkgbG9jYXRvcnM6IExvY2F0b3JbXTtcblxuICAgIC8vIHRyYWNrcyB0aGUgbW9zdCByZWNlbnQgdmFsdWUgd2Ugd2FudCB0byByZXNldCB0byBpbiBjYXNlcyB3aGVyZSB0aGUgdXNlciBoYXMgdGhhdCBwb3NzaWJpbGl0eVxuICAgIHJlYWRvbmx5IHJlc2V0VmFsdWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGZpZWxkOiBQYXJ0aWFsPEZpZWxkPikge1xuICAgICAgICB0aGlzLm5hbWUgPSBmaWVsZC5uYW1lIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudmFsdWUgPSBmaWVsZC52YWx1ZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnJlc2V0VmFsdWUgPSBmaWVsZC5yZXNldFZhbHVlIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudXVpZCA9IGZpZWxkLnV1aWQgfHwgdXRpbHMubmV3R1VJRCgpO1xuICAgICAgICB0aGlzLnR5cGUgPSBmaWVsZC50eXBlIHx8IFwidGV4dFwiO1xuICAgICAgICB0aGlzLmxvY2F0b3JzID0gZmllbGQubG9jYXRvcnMgfHwgW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0RGlzcGxheVZhbHVlSW50ZXJuYWwoXG4gICAgICAgIGZpZWxkOiBGaWVsZCxcbiAgICAgICAgcmV2ZWFsUGFzc3dvcmRzOiBib29sZWFuLFxuICAgICAgICByZXBsYWNlbWVudElmUHJvdGVjdGVkOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQudmFsdWUgPT09IFwiS0VFRk9YX0NIRUNLRURfRkxBR19UUlVFXCIgPyAkU1RSKFwiZW5hYmxlZFwiKSA6ICRTVFIoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC50eXBlID09PSBcInBhc3N3b3JkXCIgJiYgIXJldmVhbFBhc3N3b3Jkc1xuICAgICAgICAgICAgICAgID8gcmVwbGFjZW1lbnRJZlByb3RlY3RlZFxuICAgICAgICAgICAgICAgIDogZmllbGQudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGlzcGxheVZhbHVlKGZpZWxkOiBGaWVsZCwgcmV2ZWFsUGFzc3dvcmRzOiBib29sZWFuKSB7XG4gICAgICAgIHJldHVybiBGaWVsZC5nZXREaXNwbGF5VmFsdWVJbnRlcm5hbChcbiAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgcmV2ZWFsUGFzc3dvcmRzLFxuICAgICAgICAgICAgXCIqXCIucmVwZWF0KGZpZWxkLnZhbHVlLmxlbmd0aClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGlzcGxheU5hbWUoZmllbGQ6IEZpZWxkKSB7XG4gICAgICAgIGlmIChmaWVsZC5uYW1lID09PSBcIktlZVBhc3MgdXNlcm5hbWVcIikge1xuICAgICAgICAgICAgcmV0dXJuICRTVFIoXCJ1c2VybmFtZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWVsZC5uYW1lID09PSBcIktlZVBhc3MgcGFzc3dvcmRcIikge1xuICAgICAgICAgICAgcmV0dXJuICRTVFIoXCJwYXNzd29yZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC5uYW1lID8gZmllbGQubmFtZSA6IFwiWyBcIiArICRTVFIoXCJub19uYW1lXCIpICsgXCIgXVwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3BsYXlUb29sdGlwKGZpZWxkOiBGaWVsZCwgcmV2ZWFsUGFzc3dvcmRzOiBib29sZWFuKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBGaWVsZC5nZXREaXNwbGF5TmFtZShmaWVsZCkgK1xuICAgICAgICAgICAgXCI6IFwiICtcbiAgICAgICAgICAgIEZpZWxkLmdldERpc3BsYXlWYWx1ZUludGVybmFsKGZpZWxkLCByZXZlYWxQYXNzd29yZHMsICRTVFIoXCJjbGlja190b19yZXZlYWxfaGlkZVwiKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdHlwZUZyb21ET010eXBlKGRvbVR5cGU6IHN0cmluZyk6IEZpZWxkVHlwZSB7XG4gICAgICAgIC8vIFdlIGNhbid0IGtub3cgZXZlcnkgdHlwZSB0aGF0IG1heSBleGlzdCBpbiBmdXR1cmUgc28gYXNzdW1lOlxuICAgICAgICAvLyAxLiB1bmtub3duIHR5cGVzIG11c3QgYmUgdGV4dFxuICAgICAgICAvLyAyLiB3ZSB3b24ndCBiZSBhc2tlZCB0byBoYW5kbGUgdHlwZXMgZm9yIGlycmVsZXZhbnQgZWxlbWVudHMgc3VjaCBhcyBidXR0b25zXG4gICAgICAgIHN3aXRjaCAoZG9tVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInBhc3N3b3JkXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwicGFzc3dvcmRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJyYWRpb1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcImV4aXN0aW5nXCI7XG4gICAgICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgICAgICBjYXNlIFwic2VsZWN0LW9uZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcImV4aXN0aW5nXCI7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBcInRleHRcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJ5IGNvbnZlbnRpb24gdGhlIGZpcnN0IG5vbi1wYXNzd29yZCBpdGVtIHdpbGwgYmUgdGhlIHVzZXJuYW1lIGFuZCB0aGUgcGFzc3dvcmQgd2lsbCBiZSBlaXRoZXIgMXN0IG9yIDJuZCBpbiB0aGUgbGlzdFxuICAgIHN0YXRpYyBjb21iaW5lRG9tRmllbGRMaXN0cyh1c2VybmFtZUluZGV4OiBudW1iZXIsIG90aGVyRmllbGRzOiBGaWVsZFtdLCBwYXNzd29yZHM6IEZpZWxkW10pIHtcbiAgICAgICAgY29uc3QgZmllbGRzOiBGaWVsZFtdID0gW107XG4gICAgICAgIGlmICh1c2VybmFtZUluZGV4ID49IDAgJiYgb3RoZXJGaWVsZHNbdXNlcm5hbWVJbmRleF0pIHtcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKG90aGVyRmllbGRzW3VzZXJuYW1lSW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBwYXNzd29yZHMuZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKGYpO1xuICAgICAgICB9KTtcbiAgICAgICAgb3RoZXJGaWVsZHMuZm9yRWFjaCgoZiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdXNlcm5hbWVJbmRleCkge1xuICAgICAgICAgICAgICAgIGZpZWxkcy5wdXNoKGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbURPTShlbGVtZW50OiBhbnksIGRvbVR5cGU6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBsYWJlbHMgPSBjb2xsZWN0TGFiZWxzKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkKHtcbiAgICAgICAgICAgIHV1aWQ6IHV0aWxzLm5ld0dVSUQoKSxcbiAgICAgICAgICAgIG5hbWU6IGxhYmVscyAmJiBsYWJlbHMubGVuZ3RoID8gbGFiZWxzWzBdIDogZWxlbWVudC5uYW1lLFxuICAgICAgICAgICAgbG9jYXRvcnM6IFtcbiAgICAgICAgICAgICAgICBuZXcgTG9jYXRvcih7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGVsZW1lbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGRvbVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVscyxcbiAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlVmFsdWVzOiBjb2xsZWN0QXV0b2NvbXBsZXRlVmFsdWVzKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHR5cGU6IEZpZWxkLnR5cGVGcm9tRE9NdHlwZShkb21UeXBlKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUtQUlBDRmllbGREVE8oZjogRmllbGREdG8pIHtcbiAgICAgICAgbGV0IHR5cGU6IEZpZWxkVHlwZSA9IFwidGV4dFwiO1xuICAgICAgICBsZXQgbG9jYXRvclR5cGUgPSBcInRleHRcIjtcblxuICAgICAgICBzd2l0Y2ggKGYudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlRFRPLnBhc3N3b3JkOlxuICAgICAgICAgICAgICAgIHR5cGUgPSBcInBhc3N3b3JkXCI7XG4gICAgICAgICAgICAgICAgbG9jYXRvclR5cGUgPSBcInBhc3N3b3JkXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZvcm1GaWVsZFR5cGVEVE8ucmFkaW86XG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiZXhpc3RpbmdcIjtcbiAgICAgICAgICAgICAgICBsb2NhdG9yVHlwZSA9IFwicmFkaW9cIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy5jaGVja2JveDpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgICAgICAgICAgbG9jYXRvclR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZvcm1GaWVsZFR5cGVEVE8uc2VsZWN0OlxuICAgICAgICAgICAgICAgIHR5cGUgPSBcImV4aXN0aW5nXCI7XG4gICAgICAgICAgICAgICAgbG9jYXRvclR5cGUgPSBcInNlbGVjdFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlRFRPLnVzZXJuYW1lOlxuICAgICAgICAgICAgICAgIHR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICAgICAgICBsb2NhdG9yVHlwZSA9IFwidGV4dFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlRFRPLnRleHQ6XG4gICAgICAgICAgICAgICAgdHlwZSA9IFwidGV4dFwiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEZpZWxkKHtcbiAgICAgICAgICAgIG5hbWU6IGYuZGlzcGxheU5hbWUgfHwgZi5uYW1lLFxuICAgICAgICAgICAgdXVpZDogdXRpbHMubmV3R1VJRCgpLFxuICAgICAgICAgICAgdmFsdWU6IGYudmFsdWUsXG4gICAgICAgICAgICByZXNldFZhbHVlOiBmLnZhbHVlLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGxvY2F0b3JzOiBbXG4gICAgICAgICAgICAgICAgbmV3IExvY2F0b3Ioe1xuICAgICAgICAgICAgICAgICAgICBpZDogZi5pZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBsb2NhdG9yVHlwZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyB0b0tQUlBDRmllbGREVE8oZjogRmllbGQsIGlzVXNlcm5hbWU6IGJvb2xlYW4pIHtcbiAgICAgICAgbGV0IGZmdDogRm9ybUZpZWxkVHlwZURUTztcblxuICAgICAgICBzd2l0Y2ggKGYubG9jYXRvcnNbMF0udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInBhc3N3b3JkXCI6XG4gICAgICAgICAgICAgICAgZmZ0ID0gRm9ybUZpZWxkVHlwZURUTy5wYXNzd29yZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyYWRpb1wiOlxuICAgICAgICAgICAgICAgIGZmdCA9IEZvcm1GaWVsZFR5cGVEVE8ucmFkaW87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgICAgICAgICBmZnQgPSBGb3JtRmllbGRUeXBlRFRPLmNoZWNrYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNlbGVjdC1vbmVcIjpcbiAgICAgICAgICAgICAgICBmZnQgPSBGb3JtRmllbGRUeXBlRFRPLnNlbGVjdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZmZ0ID0gaXNVc2VybmFtZSA/IEZvcm1GaWVsZFR5cGVEVE8udXNlcm5hbWUgOiBGb3JtRmllbGRUeXBlRFRPLnRleHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzcGxheU5hbWU6IGYubmFtZSxcbiAgICAgICAgICAgIGlkOiBmLmxvY2F0b3JzWzBdLmlkLFxuICAgICAgICAgICAgbmFtZTogZi5sb2NhdG9yc1swXS5uYW1lLFxuICAgICAgICAgICAgdHlwZTogZmZ0LFxuICAgICAgICAgICAgdmFsdWU6IGYudmFsdWUsXG4gICAgICAgICAgICBwYWdlOiAtMVxuICAgICAgICB9IGFzIEZpZWxkRHRvO1xuICAgIH1cbn1cblxuLy8gTWlnaHQgYmUgb3RoZXIgZWxlbWVudCB0eXBlcyBidXQgbWFpbiB0aGluZyBpcyB0aGV5IGhhdmUgdGhlIGxhYmVscyBwcm9wZXJ0eVxuZnVuY3Rpb24gY29sbGVjdExhYmVscyhlbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQpIHtcbiAgICBjb25zdCBsYWJlbHM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgbGFiZWxzQ291bnQgPSBlbGVtZW50LmxhYmVscz8ubGVuZ3RoIHx8IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbHNDb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gZWxlbWVudC5sYWJlbHNbaV07XG4gICAgICAgIGlmIChsYWJlbD8uaW5uZXJUZXh0KSBsYWJlbHMucHVzaChsYWJlbC5pbm5lclRleHQpO1xuICAgIH1cbiAgICBjb25zdCBhcmlhTGFiZWwgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIik/LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGFyaWFMYWJlbCkgbGFiZWxzLnB1c2goYXJpYUxhYmVsKTtcbiAgICBjb25zdCBhcmlhTGFiZWxJZHM6IHN0cmluZ1tdID0gW107XG4gICAgZWxlbWVudFxuICAgICAgICAuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpXG4gICAgICAgID8udHJpbSgpXG4gICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgaWYgKGlkKSBhcmlhTGFiZWxJZHMucHVzaChpZCk7XG4gICAgICAgIH0pO1xuICAgIGVsZW1lbnRcbiAgICAgICAgLmdldEF0dHJpYnV0ZShcImFyaWEtZGVzY3JpYmVkYnlcIilcbiAgICAgICAgPy50cmltKClcbiAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgICAgICBpZiAoaWQpIGFyaWFMYWJlbElkcy5wdXNoKGlkKTtcbiAgICAgICAgfSk7XG4gICAgYXJpYUxhYmVsSWRzLmZvckVhY2goaWQgPT4ge1xuICAgICAgICBjb25zdCBsYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmIChsYWJlbEVsZW1lbnQ/LmlubmVyVGV4dCkgbGFiZWxzLnB1c2gobGFiZWxFbGVtZW50LmlubmVyVGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxhYmVscy5sZW5ndGggPyBsYWJlbHMgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RBdXRvY29tcGxldGVWYWx1ZXMoZWxlbWVudDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50KSB7XG4gICAgY29uc3QgdmFsdWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGVsZW1lbnQuYXR0cmlidXRlc1tcImF1dG9jb21wbGV0ZVwiXT8udmFsdWVcbiAgICAgICAgPy50cmltKClcbiAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAuZm9yRWFjaCh2ID0+IHtcbiAgICAgICAgICAgIGlmICh2KSB2YWx1ZXMucHVzaCh2LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzLmxlbmd0aCA/IHZhbHVlcyA6IHVuZGVmaW5lZDtcbn1cbiIsImltcG9ydCB7IEljb24gfSBmcm9tIFwiLi9JY29uXCI7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgR3JvdXBTdW1tYXJ5RHRvIH0gZnJvbSBcIi4vS1BSUENEVE9zXCI7XG5pbXBvcnQgeyBHcm91cCB9IGZyb20gXCIuL0dyb3VwXCI7XG5cbmV4cG9ydCBjbGFzcyBHcm91cFN1bW1hcnkge1xuICAgIHJlYWRvbmx5IHRpdGxlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdXVpZDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGljb246IEljb247XG4gICAgcmVhZG9ubHkgcGF0aDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoZzogUGFydGlhbDxHcm91cFN1bW1hcnk+KSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSBnLnRpdGxlIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudXVpZCA9IGcudXVpZCB8fCB1dGlscy5uZXdHVUlEKCk7XG4gICAgICAgIHRoaXMuaWNvbiA9IGcuaWNvbiB8fCB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IFwiXCIgfTtcbiAgICAgICAgdGhpcy5wYXRoID0gZy5wYXRoIHx8IFwiVU5LTk9XTiBQQVRIXCI7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmcm9tS1BSUENHcm91cFN1bW1hcnlEVE8oZ3JvdXBTdW1tYXJ5RHRvOiBHcm91cFN1bW1hcnlEdG8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcm91cFN1bW1hcnkoe1xuICAgICAgICAgICAgdGl0bGU6IGdyb3VwU3VtbWFyeUR0by50aXRsZSxcbiAgICAgICAgICAgIHV1aWQ6IGdyb3VwU3VtbWFyeUR0by51bmlxdWVJRCxcbiAgICAgICAgICAgIGljb246IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogZ3JvdXBTdW1tYXJ5RHRvLmljb25JbWFnZURhdGEgfSxcbiAgICAgICAgICAgIHBhdGg6IGdyb3VwU3VtbWFyeUR0by5wYXRoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUdyb3VwKGdyb3VwOiBHcm91cCkge1xuICAgICAgICByZXR1cm4gbmV3IEdyb3VwU3VtbWFyeSh7XG4gICAgICAgICAgICB0aXRsZTogZ3JvdXAudGl0bGUsXG4gICAgICAgICAgICB1dWlkOiBncm91cC51dWlkLFxuICAgICAgICAgICAgaWNvbjogZ3JvdXAuaWNvbixcbiAgICAgICAgICAgIHBhdGg6IGdyb3VwLnBhdGhcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgVGVtcG9yYXJ5SURTdHJpbmcgPVxuICAgIFwiVEVNUE9SQVJZIElEIFRPIElERU5USUZZIFRISVMgQVMgQSBESVJUWSBFTlRSWSBUSEFUIERPRVNOJ1QgRVhJU1QgSU4gU09VUkNFIERBVEFCQVNFIFlFVFwiO1xuIiwiaW1wb3J0IHsgSWNvbiB9IGZyb20gXCIuL0ljb25cIjtcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSBcIi4vRGF0YWJhc2VcIjtcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gXCIuL0ZpZWxkXCI7XG5pbXBvcnQgeyBFbnRyeUR0bywgRm9ybUZpZWxkVHlwZURUTyB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuaW1wb3J0IHsgRGF0YWJhc2VTdW1tYXJ5IH0gZnJvbSBcIi4vRGF0YWJhc2VTdW1tYXJ5XCI7XG5pbXBvcnQgeyBHcm91cFN1bW1hcnkgfSBmcm9tIFwiLi9Hcm91cFN1bW1hcnlcIjtcblxuLy8gQWx0aG91Z2ggd2UgdXNlIHV1aWRzIGZvciBGaWVsZHMgYW5kIHBvc3NpYmx5IExvY2F0b3JzLCB3ZSBkb24ndCBhbGxvdyB0aGVtIHRvIGV4aXN0IG91dHNpZGUgb2YgdGhlaXIgcGFyZW50IGVudHJ5LlxuXG5leHBvcnQgY2xhc3MgRW50cnkge1xuICAgIC8vIGFycmF5IG9mIFVSTCBzdHJpbmdzIChub3JtYWxseSBqdXN0IG9uZSBpcyBuZWVkZWRcbiAgICAvLyBidXQgYSBnaXZlbiBlbnRyeSBjYW4gYmUgYXNzb2NpYXRlZCB3aXRoIG1vcmUgdGhhbiBvbmUgc2l0ZVxuICAgIC8vIG9yIHdpdGggbXVsdGlwbGUgcGFnZXMgb24gdGhhdCBzaXRlKVxuICAgIHJlYWRvbmx5IFVSTHM6IHN0cmluZ1tdO1xuXG4gICAgLy8gSG93IGFjY3VyYXRlIGlzIHRoZSBiZXN0IFVSTCBtYXRjaCBmb3IgdGhpcyBlbnRyeSAob25seSBzZXQgaWYgZW50cnlcbiAgICAvLyB3YXMgc3VwcGxpZWQgaW4gcmVzcG9uc2UgdG8gY2VydGFpbiBzZWFyY2ggcmVxdWVzdHMpLiBIaWdoZXIgPSBjbG9zZXIgbWF0Y2hcbiAgICByZWFkb25seSBtYXRjaEFjY3VyYWN5OiBudW1iZXI7XG5cbiAgICAvLyBUaGUgcmVhbG0gb2YgYSBIVFRQIGF1dGhlbnRpY2F0aW9uIHJlcXVlc3RcbiAgICByZWFkb25seSBodHRwUmVhbG06IHN0cmluZztcblxuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgb3RoZXJGaWVsZCB3aGljaCB3ZSB3aWxsIHRyZWF0IGFzIHRoZSB1c2VybmFtZSBpbiBLZWVQYXNzXG4gICAgLy8gcmVhZG9ubHkgdXNlcm5hbWVJbmRleDogbnVtYmVyO1xuXG4gICAgcmVhZG9ubHkgZmllbGRzOiBGaWVsZFtdO1xuXG4gICAgLy8gVGhlIEtlZVBhc3MgZW50cnkncyB1bmlxdWVJRCAoaWYga25vd24pXG4gICAgcmVhZG9ubHkgdXVpZDogc3RyaW5nO1xuXG4gICAgLy8gVGhlIHRpdGxlIG9mIHRoZSBLZWVQYXNzIGVudHJ5IChhdXRvLWdlbmVyYXRlZCBmcm9tIHRoZSBwYWdlIHRpdGxlIGJ5IGRlZmF1bHQsXG4gICAgLy8gb3IgdGhlIHBhZ2UgVVJMJ3MgaG9zdG5hbWUgaWYgbm8gdGl0bGUgaXMgc2V0KVxuICAgIHJlYWRvbmx5IHRpdGxlOiBzdHJpbmc7XG5cbiAgICByZWFkb25seSBpY29uOiBJY29uO1xuXG4gICAgcmVhZG9ubHkgcGFyZW50R3JvdXA6IEdyb3VwU3VtbWFyeTtcblxuICAgIHJlYWRvbmx5IGFsd2F5c0F1dG9GaWxsOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGFsd2F5c0F1dG9TdWJtaXQ6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgbmV2ZXJBdXRvRmlsbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBuZXZlckF1dG9TdWJtaXQ6IGJvb2xlYW47XG5cbiAgICByZWFkb25seSBkYXRhYmFzZTogRGF0YWJhc2VTdW1tYXJ5O1xuXG4gICAgLy8gSG93IHJlbGV2YW50IHRoaXMgZW50cnkgaXMgdG8gdGhlIGN1cnJlbnQgZm9ybSBpblxuICAgIC8vIHRoZSBicm93c2VyIC0gdHJhbnNpZW50IChub3Qgc3RvcmVkIGluIEtlZVBhc3MpXG4gICAgLy9UT0RPOjQgcHV0IGFsbCBtYXRjaCBkYXRhIGludG8gYSBuZXcgb2JqZWN0P1xuICAgIHJlbGV2YW5jZVNjb3JlOiBudW1iZXI7XG4gICAgbG93RmllbGRNYXRjaFJhdGlvOiBhbnk7XG4gICAgZm9ybUluZGV4OiBudW1iZXI7XG4gICAgZW50cnlJbmRleDogbnVtYmVyO1xuICAgIGlzUHJlZmVycmVkTWF0Y2g/OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoZTogUGFydGlhbDxFbnRyeT4pIHtcbiAgICAgICAgdGhpcy5hbHdheXNBdXRvRmlsbCA9IGUuYWx3YXlzQXV0b0ZpbGwgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMuYWx3YXlzQXV0b1N1Ym1pdCA9IGUuYWx3YXlzQXV0b1N1Ym1pdCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5uZXZlckF1dG9GaWxsID0gZS5uZXZlckF1dG9GaWxsIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLm5ldmVyQXV0b1N1Ym1pdCA9IGUubmV2ZXJBdXRvU3VibWl0IHx8IGZhbHNlO1xuICAgICAgICB0aGlzLlVSTHMgPSBlLlVSTHMgfHwgW107XG4gICAgICAgIHRoaXMuZmllbGRzID0gZS5maWVsZHMgfHwgW107XG4gICAgICAgIHRoaXMuaHR0cFJlYWxtID0gZS5odHRwUmVhbG0gfHwgXCJcIjtcbiAgICAgICAgdGhpcy5wYXJlbnRHcm91cCA9IGUucGFyZW50R3JvdXAgfHwgbnVsbDtcbiAgICAgICAgdGhpcy51dWlkID0gZS51dWlkIHx8IHV0aWxzLm5ld0dVSUQoKTtcbiAgICAgICAgdGhpcy50aXRsZSA9IGUudGl0bGUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5tYXRjaEFjY3VyYWN5ID0gZS5tYXRjaEFjY3VyYWN5IHx8IDA7XG4gICAgICAgIHRoaXMuaWNvbiA9IGUuaWNvbiB8fCB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IFwiXCIgfTtcbiAgICAgICAgdGhpcy5kYXRhYmFzZSA9IGUuZGF0YWJhc2UgfHwgbmV3IERhdGFiYXNlKHt9KTtcbiAgICAgICAgdGhpcy5yZWxldmFuY2VTY29yZSA9IGUucmVsZXZhbmNlU2NvcmU7XG4gICAgICAgIHRoaXMubG93RmllbGRNYXRjaFJhdGlvID0gZS5sb3dGaWVsZE1hdGNoUmF0aW87XG4gICAgICAgIHRoaXMuZm9ybUluZGV4ID0gZS5mb3JtSW5kZXg7XG4gICAgICAgIHRoaXMuZW50cnlJbmRleCA9IGUuZW50cnlJbmRleDtcbiAgICAgICAgdGhpcy5pc1ByZWZlcnJlZE1hdGNoID0gZS5pc1ByZWZlcnJlZE1hdGNoO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VXNlcm5hbWVGaWVsZChlbnRyeTogRW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LmZpZWxkcy5maW5kKGYgPT4gZi50eXBlID09PSBcInRleHRcIik7XG4gICAgfVxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0UGFzc3dvcmRGaWVsZChlbnRyeTogRW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LmZpZWxkcy5maW5kKGYgPT4gZi50eXBlID09PSBcInBhc3N3b3JkXCIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUtQUlBDRW50cnlEVE8oZW50cnlEdG86IEVudHJ5RHRvLCBkYjogRGF0YWJhc2VTdW1tYXJ5KSB7XG4gICAgICAgIGNvbnN0IHNvcnRlZEZpZWxkczogRmllbGRbXSA9IFtdO1xuICAgICAgICBsZXQgbWF4aW11bVBhZ2UgPSAxO1xuICAgICAgICBjb25zdCB1c2VybmFtZUluZGV4ID0gZW50cnlEdG8uZm9ybUZpZWxkTGlzdC5maW5kSW5kZXgoXG4gICAgICAgICAgICBmID0+IGYudHlwZSA9PT0gRm9ybUZpZWxkVHlwZURUTy51c2VybmFtZVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHVuc29ydGVkRmllbGRzID0gZW50cnlEdG8uZm9ybUZpZWxkTGlzdC5tYXAoZiA9PiB7XG4gICAgICAgICAgICBpZiAoZi5wYWdlID4gbWF4aW11bVBhZ2UpIG1heGltdW1QYWdlID0gZi5wYWdlO1xuXG4gICAgICAgICAgICByZXR1cm4gRmllbGQuZnJvbUtQUlBDRmllbGREVE8oZik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmaXJzdFBhc3N3b3JkSW5kZXggPSB1bnNvcnRlZEZpZWxkcy5maW5kSW5kZXgoZiA9PiBmLnR5cGUgPT09IFwicGFzc3dvcmRcIik7XG5cbiAgICAgICAgaWYgKHVzZXJuYW1lSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgc29ydGVkRmllbGRzLnB1c2godW5zb3J0ZWRGaWVsZHNbdXNlcm5hbWVJbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdFBhc3N3b3JkSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgc29ydGVkRmllbGRzLnB1c2godW5zb3J0ZWRGaWVsZHNbZmlyc3RQYXNzd29yZEluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgdW5zb3J0ZWRGaWVsZHMuZm9yRWFjaCgoZiwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGkgIT09IHVzZXJuYW1lSW5kZXggJiYgaSAhPT0gZmlyc3RQYXNzd29yZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgc29ydGVkRmllbGRzLnB1c2goZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGVudHJ5ID0gbmV3IEVudHJ5KHtcbiAgICAgICAgICAgIFVSTHM6IGVudHJ5RHRvLnVSTHMsXG4gICAgICAgICAgICBuZXZlckF1dG9GaWxsOiBlbnRyeUR0by5uZXZlckF1dG9GaWxsLFxuICAgICAgICAgICAgYWx3YXlzQXV0b0ZpbGw6IGVudHJ5RHRvLmFsd2F5c0F1dG9GaWxsLFxuICAgICAgICAgICAgbmV2ZXJBdXRvU3VibWl0OiBlbnRyeUR0by5uZXZlckF1dG9TdWJtaXQsXG4gICAgICAgICAgICBhbHdheXNBdXRvU3VibWl0OiBlbnRyeUR0by5hbHdheXNBdXRvU3VibWl0LFxuICAgICAgICAgICAgaWNvbjogeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBlbnRyeUR0by5pY29uSW1hZ2VEYXRhIH0sXG4gICAgICAgICAgICBwYXJlbnRHcm91cDogR3JvdXBTdW1tYXJ5LmZyb21LUFJQQ0dyb3VwU3VtbWFyeURUTyhlbnRyeUR0by5wYXJlbnQpLFxuICAgICAgICAgICAgZGF0YWJhc2U6IGRiLFxuICAgICAgICAgICAgbWF0Y2hBY2N1cmFjeTogZW50cnlEdG8ubWF0Y2hBY2N1cmFjeSxcbiAgICAgICAgICAgIGh0dHBSZWFsbTogZW50cnlEdG8uaFRUUFJlYWxtLFxuICAgICAgICAgICAgdXVpZDogZW50cnlEdG8udW5pcXVlSUQsXG4gICAgICAgICAgICB0aXRsZTogZW50cnlEdG8udGl0bGUsXG4gICAgICAgICAgICBmaWVsZHM6IHNvcnRlZEZpZWxkc1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB0b0tQUlBDRW50cnlEVE8oZW50cnk6IEVudHJ5KSB7XG4gICAgICAgIGNvbnN0IGVudHJ5RHRvID0gbmV3IEVudHJ5RHRvKCk7XG4gICAgICAgIGVudHJ5RHRvLmFsd2F5c0F1dG9GaWxsID0gZW50cnkuYWx3YXlzQXV0b0ZpbGw7XG4gICAgICAgIGVudHJ5RHRvLmFsd2F5c0F1dG9TdWJtaXQgPSBlbnRyeS5hbHdheXNBdXRvU3VibWl0O1xuICAgICAgICBlbnRyeUR0by5mb3JtRmllbGRMaXN0ID0gZW50cnkuZmllbGRzLm1hcCgoZiwgaSkgPT4gRmllbGQudG9LUFJQQ0ZpZWxkRFRPKGYsIGkgPT09IDApKTtcbiAgICAgICAgZW50cnlEdG8uaFRUUFJlYWxtID0gZW50cnkuaHR0cFJlYWxtO1xuICAgICAgICBlbnRyeUR0by5pY29uSW1hZ2VEYXRhID0gZW50cnkuaWNvbi5pY29uSW1hZ2VEYXRhO1xuICAgICAgICBlbnRyeUR0by5uZXZlckF1dG9GaWxsID0gZW50cnkubmV2ZXJBdXRvRmlsbDtcbiAgICAgICAgZW50cnlEdG8ubmV2ZXJBdXRvU3VibWl0ID0gZW50cnkubmV2ZXJBdXRvU3VibWl0O1xuICAgICAgICBlbnRyeUR0by50aXRsZSA9IGVudHJ5LnRpdGxlO1xuICAgICAgICBlbnRyeUR0by51UkxzID0gZW50cnkuVVJMcztcbiAgICAgICAgcmV0dXJuIGVudHJ5RHRvO1xuICAgIH1cbn1cbiIsIi8qKlxuICogTWFrZSBhIG1hcCBhbmQgcmV0dXJuIGEgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGEga2V5XG4gKiBpcyBpbiB0aGF0IG1hcC5cbiAqIElNUE9SVEFOVDogYWxsIGNhbGxzIG9mIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBwcmVmaXhlZCB3aXRoXG4gKiBcXC9cXCojXFxfXFxfUFVSRVxcX1xcX1xcKlxcL1xuICogU28gdGhhdCByb2xsdXAgY2FuIHRyZWUtc2hha2UgdGhlbSBpZiBuZWNlc3NhcnkuXG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyLCBleHBlY3RzTG93ZXJDYXNlKSB7XG4gICAgY29uc3QgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBjb25zdCBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcFtsaXN0W2ldXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RzTG93ZXJDYXNlID8gdmFsID0+ICEhbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXSA6IHZhbCA9PiAhIW1hcFt2YWxdO1xufVxuXG4vKipcbiAqIGRldiBvbmx5IGZsYWcgLT4gbmFtZSBtYXBwaW5nXG4gKi9cbmNvbnN0IFBhdGNoRmxhZ05hbWVzID0ge1xuICAgIFsxIC8qIFBhdGNoRmxhZ3MuVEVYVCAqL106IGBURVhUYCxcbiAgICBbMiAvKiBQYXRjaEZsYWdzLkNMQVNTICovXTogYENMQVNTYCxcbiAgICBbNCAvKiBQYXRjaEZsYWdzLlNUWUxFICovXTogYFNUWUxFYCxcbiAgICBbOCAvKiBQYXRjaEZsYWdzLlBST1BTICovXTogYFBST1BTYCxcbiAgICBbMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovXTogYEZVTExfUFJPUFNgLFxuICAgIFszMiAvKiBQYXRjaEZsYWdzLkhZRFJBVEVfRVZFTlRTICovXTogYEhZRFJBVEVfRVZFTlRTYCxcbiAgICBbNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi9dOiBgU1RBQkxFX0ZSQUdNRU5UYCxcbiAgICBbMTI4IC8qIFBhdGNoRmxhZ3MuS0VZRURfRlJBR01FTlQgKi9dOiBgS0VZRURfRlJBR01FTlRgLFxuICAgIFsyNTYgLyogUGF0Y2hGbGFncy5VTktFWUVEX0ZSQUdNRU5UICovXTogYFVOS0VZRURfRlJBR01FTlRgLFxuICAgIFs1MTIgLyogUGF0Y2hGbGFncy5ORUVEX1BBVENIICovXTogYE5FRURfUEFUQ0hgLFxuICAgIFsxMDI0IC8qIFBhdGNoRmxhZ3MuRFlOQU1JQ19TTE9UUyAqL106IGBEWU5BTUlDX1NMT1RTYCxcbiAgICBbMjA0OCAvKiBQYXRjaEZsYWdzLkRFVl9ST09UX0ZSQUdNRU5UICovXTogYERFVl9ST09UX0ZSQUdNRU5UYCxcbiAgICBbLTEgLyogUGF0Y2hGbGFncy5IT0lTVEVEICovXTogYEhPSVNURURgLFxuICAgIFstMiAvKiBQYXRjaEZsYWdzLkJBSUwgKi9dOiBgQkFJTGBcbn07XG5cbi8qKlxuICogRGV2IG9ubHlcbiAqL1xuY29uc3Qgc2xvdEZsYWdzVGV4dCA9IHtcbiAgICBbMSAvKiBTbG90RmxhZ3MuU1RBQkxFICovXTogJ1NUQUJMRScsXG4gICAgWzIgLyogU2xvdEZsYWdzLkRZTkFNSUMgKi9dOiAnRFlOQU1JQycsXG4gICAgWzMgLyogU2xvdEZsYWdzLkZPUldBUkRFRCAqL106ICdGT1JXQVJERUQnXG59O1xuXG5jb25zdCBHTE9CQUxTX1dISVRFX0xJU1RFRCA9ICdJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLHBhcnNlRmxvYXQscGFyc2VJbnQsZGVjb2RlVVJJLCcgK1xuICAgICdkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCxNYXRoLE51bWJlcixEYXRlLEFycmF5LCcgK1xuICAgICdPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCc7XG5jb25zdCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoR0xPQkFMU19XSElURV9MSVNURUQpO1xuXG5jb25zdCByYW5nZSA9IDI7XG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xuICAgIC8vIFNwbGl0IHRoZSBjb250ZW50IGludG8gaW5kaXZpZHVhbCBsaW5lcyBidXQgY2FwdHVyZSB0aGUgbmV3bGluZSBzZXF1ZW5jZVxuICAgIC8vIHRoYXQgc2VwYXJhdGVkIGVhY2ggbGluZS4gVGhpcyBpcyBpbXBvcnRhbnQgYmVjYXVzZSB0aGUgYWN0dWFsIHNlcXVlbmNlIGlzXG4gICAgLy8gbmVlZGVkIHRvIHByb3Blcmx5IHRha2UgaW50byBhY2NvdW50IHRoZSBmdWxsIGxpbmUgbGVuZ3RoIGZvciBvZmZzZXRcbiAgICAvLyBjb21wYXJpc29uXG4gICAgbGV0IGxpbmVzID0gc291cmNlLnNwbGl0KC8oXFxyP1xcbikvKTtcbiAgICAvLyBTZXBhcmF0ZSB0aGUgbGluZXMgYW5kIG5ld2xpbmUgc2VxdWVuY2VzIGludG8gc2VwYXJhdGUgYXJyYXlzIGZvciBlYXNpZXIgcmVmZXJlbmNpbmdcbiAgICBjb25zdCBuZXdsaW5lU2VxdWVuY2VzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDEpO1xuICAgIGxpbmVzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDApO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgY29uc3QgcmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb3VudCArPVxuICAgICAgICAgICAgbGluZXNbaV0ubGVuZ3RoICtcbiAgICAgICAgICAgICAgICAoKG5ld2xpbmVTZXF1ZW5jZXNbaV0gJiYgbmV3bGluZVNlcXVlbmNlc1tpXS5sZW5ndGgpIHx8IDApO1xuICAgICAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBqICsgMTtcbiAgICAgICAgICAgICAgICByZXMucHVzaChgJHtsaW5lfSR7JyAnLnJlcGVhdChNYXRoLm1heCgzIC0gU3RyaW5nKGxpbmUpLmxlbmd0aCwgMCkpfXwgICR7bGluZXNbal19YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdMaW5lU2VxTGVuZ3RoID0gKG5ld2xpbmVTZXF1ZW5jZXNbal0gJiYgbmV3bGluZVNlcXVlbmNlc1tqXS5sZW5ndGgpIHx8IDA7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFkID0gc3RhcnQgLSAoY291bnQgLSAobGluZUxlbmd0aCArIG5ld0xpbmVTZXFMZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoMSwgZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArICcgJy5yZXBlYXQocGFkKSArICdeJy5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogPiBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmQgPiBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgJ14nLnJlcGVhdChsZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgbmV3TGluZVNlcUxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzLmpvaW4oJ1xcbicpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGlzU3RyaW5nKGl0ZW0pXG4gICAgICAgICAgICAgICAgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVTdHlsZShpdGVtKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgICAgICByZXNba2V5XSA9IG5vcm1hbGl6ZWRba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KFteXSspLztcbmNvbnN0IHN0eWxlQ29tbWVudFJFID0gL1xcL1xcKi4qP1xcKlxcLy9ncztcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nU3R5bGUoY3NzVGV4dCkge1xuICAgIGNvbnN0IHJldCA9IHt9O1xuICAgIGNzc1RleHRcbiAgICAgICAgLnJlcGxhY2Uoc3R5bGVDb21tZW50UkUsICcnKVxuICAgICAgICAuc3BsaXQobGlzdERlbGltaXRlclJFKVxuICAgICAgICAuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XG4gICAgICAgICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3ModmFsdWUpIHtcbiAgICBsZXQgcmVzID0gJyc7XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXMgPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNsYXNzKHZhbHVlW2ldKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgcmVzICs9IG5vcm1hbGl6ZWQgKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgcmVzICs9IG5hbWUgKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcy50cmltKCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyhwcm9wcykge1xuICAgIGlmICghcHJvcHMpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9wcztcbn1cblxuLy8gVGhlc2UgdGFnIGNvbmZpZ3MgYXJlIHNoYXJlZCBiZXR3ZWVuIGNvbXBpbGVyLWRvbSBhbmQgcnVudGltZS1kb20sIHNvIHRoZXlcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudFxuY29uc3QgSFRNTF9UQUdTID0gJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsJyArXG4gICAgJ2hlYWRlcixoMSxoMixoMyxoNCxoNSxoNixuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbiwnICtcbiAgICAnZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsJyArXG4gICAgJ2RhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLCcgK1xuICAgICd0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLCcgK1xuICAgICdjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsJyArXG4gICAgJ3RoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCwnICtcbiAgICAnb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSwnICtcbiAgICAnc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCc7XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvRWxlbWVudFxuY29uc3QgU1ZHX1RBR1MgPSAnc3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLCcgK1xuICAgICdkZWZzLGRlc2MsZGlzY2FyZCxlbGxpcHNlLGZlQmxlbmQsZmVDb2xvck1hdHJpeCxmZUNvbXBvbmVudFRyYW5zZmVyLCcgK1xuICAgICdmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLCcgK1xuICAgICdmZURpc3RhbmNlTGlnaHQsZmVEcm9wU2hhZG93LGZlRmxvb2QsZmVGdW5jQSxmZUZ1bmNCLGZlRnVuY0csZmVGdW5jUiwnICtcbiAgICAnZmVHYXVzc2lhbkJsdXIsZmVJbWFnZSxmZU1lcmdlLGZlTWVyZ2VOb2RlLGZlTW9ycGhvbG9neSxmZU9mZnNldCwnICtcbiAgICAnZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlciwnICtcbiAgICAnZm9yZWlnbk9iamVjdCxnLGhhdGNoLGhhdGNocGF0aCxpbWFnZSxsaW5lLGxpbmVhckdyYWRpZW50LG1hcmtlcixtYXNrLCcgK1xuICAgICdtZXNoLG1lc2hncmFkaWVudCxtZXNocGF0Y2gsbWVzaHJvdyxtZXRhZGF0YSxtcGF0aCxwYXRoLHBhdHRlcm4sJyArXG4gICAgJ3BvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsJyArXG4gICAgJ3RleHQsdGV4dFBhdGgsdGl0bGUsdHNwYW4sdW5rbm93bix1c2Usdmlldyc7XG5jb25zdCBWT0lEX1RBR1MgPSAnYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxocixpbWcsaW5wdXQsbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnInO1xuLyoqXG4gKiBDb21waWxlciBvbmx5LlxuICogRG8gTk9UIHVzZSBpbiBydW50aW1lIGNvZGUgcGF0aHMgdW5sZXNzIGJlaGluZCBgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpYCBmbGFnLlxuICovXG5jb25zdCBpc0hUTUxUYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoSFRNTF9UQUdTKTtcbi8qKlxuICogQ29tcGlsZXIgb25seS5cbiAqIERvIE5PVCB1c2UgaW4gcnVudGltZSBjb2RlIHBhdGhzIHVubGVzcyBiZWhpbmQgYChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKWAgZmxhZy5cbiAqL1xuY29uc3QgaXNTVkdUYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoU1ZHX1RBR1MpO1xuLyoqXG4gKiBDb21waWxlciBvbmx5LlxuICogRG8gTk9UIHVzZSBpbiBydW50aW1lIGNvZGUgcGF0aHMgdW5sZXNzIGJlaGluZCBgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpYCBmbGFnLlxuICovXG5jb25zdCBpc1ZvaWRUYWcgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoVk9JRF9UQUdTKTtcblxuLyoqXG4gKiBPbiB0aGUgY2xpZW50IHdlIG9ubHkgbmVlZCB0byBvZmZlciBzcGVjaWFsIGNhc2VzIGZvciBib29sZWFuIGF0dHJpYnV0ZXMgdGhhdFxuICogaGF2ZSBkaWZmZXJlbnQgbmFtZXMgZnJvbSB0aGVpciBjb3JyZXNwb25kaW5nIGRvbSBwcm9wZXJ0aWVzOlxuICogLSBpdGVtc2NvcGUgLT4gTi9BXG4gKiAtIGFsbG93ZnVsbHNjcmVlbiAtPiBhbGxvd0Z1bGxzY3JlZW5cbiAqIC0gZm9ybW5vdmFsaWRhdGUgLT4gZm9ybU5vVmFsaWRhdGVcbiAqIC0gaXNtYXAgLT4gaXNNYXBcbiAqIC0gbm9tb2R1bGUgLT4gbm9Nb2R1bGVcbiAqIC0gbm92YWxpZGF0ZSAtPiBub1ZhbGlkYXRlXG4gKiAtIHJlYWRvbmx5IC0+IHJlYWRPbmx5XG4gKi9cbmNvbnN0IHNwZWNpYWxCb29sZWFuQXR0cnMgPSBgaXRlbXNjb3BlLGFsbG93ZnVsbHNjcmVlbixmb3Jtbm92YWxpZGF0ZSxpc21hcCxub21vZHVsZSxub3ZhbGlkYXRlLHJlYWRvbmx5YDtcbmNvbnN0IGlzU3BlY2lhbEJvb2xlYW5BdHRyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMpO1xuLyoqXG4gKiBCb29sZWFuIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGlmIHRoZSB2YWx1ZSBpcyB0cnV0aHkgb3IgJycuXG4gKiBlLmcuIGA8c2VsZWN0IG11bHRpcGxlPmAgY29tcGlsZXMgdG8gYHsgbXVsdGlwbGU6ICcnIH1gXG4gKi9cbmZ1bmN0aW9uIGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlIHx8IHZhbHVlID09PSAnJztcbn1cblxuZnVuY3Rpb24gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGVxdWFsID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgZXF1YWwgJiYgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZXF1YWwgPSBsb29zZUVxdWFsKGFbaV0sIGJbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZXF1YWw7XG59XG5mdW5jdGlvbiBsb29zZUVxdWFsKGEsIGIpIHtcbiAgICBpZiAoYSA9PT0gYilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgbGV0IGFWYWxpZFR5cGUgPSBpc0RhdGUoYSk7XG4gICAgbGV0IGJWYWxpZFR5cGUgPSBpc0RhdGUoYik7XG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xuICAgICAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XG4gICAgfVxuICAgIGFWYWxpZFR5cGUgPSBpc1N5bWJvbChhKTtcbiAgICBiVmFsaWRUeXBlID0gaXNTeW1ib2woYik7XG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xuICAgICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICB9XG4gICAgYVZhbGlkVHlwZSA9IGlzQXJyYXkoYSk7XG4gICAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xuICAgICAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIDogZmFsc2U7XG4gICAgfVxuICAgIGFWYWxpZFR5cGUgPSBpc09iamVjdChhKTtcbiAgICBiVmFsaWRUeXBlID0gaXNPYmplY3QoYik7XG4gICAgaWYgKGFWYWxpZFR5cGUgfHwgYlZhbGlkVHlwZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWY6IHRoaXMgaWYgd2lsbCBwcm9iYWJseSBuZXZlciBiZSBjYWxsZWQgKi9cbiAgICAgICAgaWYgKCFhVmFsaWRUeXBlIHx8ICFiVmFsaWRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYUtleXNDb3VudCA9IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYktleXNDb3VudCA9IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcbiAgICAgICAgaWYgKGFLZXlzQ291bnQgIT09IGJLZXlzQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBhKSB7XG4gICAgICAgICAgICBjb25zdCBhSGFzS2V5ID0gYS5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgICAgICAgY29uc3QgYkhhc0tleSA9IGIuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgICAgICAgIGlmICgoYUhhc0tleSAmJiAhYkhhc0tleSkgfHxcbiAgICAgICAgICAgICAgICAoIWFIYXNLZXkgJiYgYkhhc0tleSkgfHxcbiAgICAgICAgICAgICAgICAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xufVxuZnVuY3Rpb24gbG9vc2VJbmRleE9mKGFyciwgdmFsKSB7XG4gICAgcmV0dXJuIGFyci5maW5kSW5kZXgoaXRlbSA9PiBsb29zZUVxdWFsKGl0ZW0sIHZhbCkpO1xufVxuXG4vKipcbiAqIEZvciBjb252ZXJ0aW5nIHt7IGludGVycG9sYXRpb24gfX0gdmFsdWVzIHRvIGRpc3BsYXllZCBzdHJpbmdzLlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgdG9EaXNwbGF5U3RyaW5nID0gKHZhbCkgPT4ge1xuICAgIHJldHVybiBpc1N0cmluZyh2YWwpXG4gICAgICAgID8gdmFsXG4gICAgICAgIDogdmFsID09IG51bGxcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogaXNBcnJheSh2YWwpIHx8XG4gICAgICAgICAgICAgICAgKGlzT2JqZWN0KHZhbCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKHZhbC50b1N0cmluZyA9PT0gb2JqZWN0VG9TdHJpbmcgfHwgIWlzRnVuY3Rpb24odmFsLnRvU3RyaW5nKSkpXG4gICAgICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIHJlcGxhY2VyLCAyKVxuICAgICAgICAgICAgICAgIDogU3RyaW5nKHZhbCk7XG59O1xuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XG4gICAgLy8gY2FuJ3QgdXNlIGlzUmVmIGhlcmUgc2luY2UgQHZ1ZS9zaGFyZWQgaGFzIG5vIGRlcHNcbiAgICBpZiAodmFsICYmIHZhbC5fX3ZfaXNSZWYpIHtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VyKF9rZXksIHZhbC52YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTWFwKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKChlbnRyaWVzLCBba2V5LCB2YWxdKSA9PiB7XG4gICAgICAgICAgICAgICAgZW50cmllc1tgJHtrZXl9ID0+YF0gPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJpZXM7XG4gICAgICAgICAgICB9LCB7fSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTZXQodmFsKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2BTZXQoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwudmFsdWVzKCldXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkgJiYgIWlzQXJyYXkodmFsKSAmJiAhaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbn07XG5cbmNvbnN0IEVNUFRZX09CSiA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgID8gT2JqZWN0LmZyZWV6ZSh7fSlcbiAgICA6IHt9O1xuY29uc3QgRU1QVFlfQVJSID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gT2JqZWN0LmZyZWV6ZShbXSkgOiBbXTtcbmNvbnN0IE5PT1AgPSAoKSA9PiB7IH07XG4vKipcbiAqIEFsd2F5cyByZXR1cm4gZmFsc2UuXG4gKi9cbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XG5jb25zdCBvblJFID0gL15vblteYS16XS87XG5jb25zdCBpc09uID0gKGtleSkgPT4gb25SRS50ZXN0KGtleSk7XG5jb25zdCBpc01vZGVsTGlzdGVuZXIgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aCgnb25VcGRhdGU6Jyk7XG5jb25zdCBleHRlbmQgPSBPYmplY3QuYXNzaWduO1xuY29uc3QgcmVtb3ZlID0gKGFyciwgZWwpID0+IHtcbiAgICBjb25zdCBpID0gYXJyLmluZGV4T2YoZWwpO1xuICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgYXJyLnNwbGljZShpLCAxKTtcbiAgICB9XG59O1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuY29uc3QgaXNNYXAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgTWFwXSc7XG5jb25zdCBpc1NldCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBTZXRdJztcbmNvbnN0IGlzRGF0ZSA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG5jb25zdCBpc0Z1bmN0aW9uID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG5jb25zdCBpc1N5bWJvbCA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzeW1ib2wnO1xuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwudGhlbikgJiYgaXNGdW5jdGlvbih2YWwuY2F0Y2gpO1xufTtcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IHRvVHlwZVN0cmluZyA9ICh2YWx1ZSkgPT4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5jb25zdCB0b1Jhd1R5cGUgPSAodmFsdWUpID0+IHtcbiAgICAvLyBleHRyYWN0IFwiUmF3VHlwZVwiIGZyb20gc3RyaW5ncyBsaWtlIFwiW29iamVjdCBSYXdUeXBlXVwiXG4gICAgcmV0dXJuIHRvVHlwZVN0cmluZyh2YWx1ZSkuc2xpY2UoOCwgLTEpO1xufTtcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5jb25zdCBpc0ludGVnZXJLZXkgPSAoa2V5KSA9PiBpc1N0cmluZyhrZXkpICYmXG4gICAga2V5ICE9PSAnTmFOJyAmJlxuICAgIGtleVswXSAhPT0gJy0nICYmXG4gICAgJycgKyBwYXJzZUludChrZXksIDEwKSA9PT0ga2V5O1xuY29uc3QgaXNSZXNlcnZlZFByb3AgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoXG4vLyB0aGUgbGVhZGluZyBjb21tYSBpcyBpbnRlbnRpb25hbCBzbyBlbXB0eSBzdHJpbmcgXCJcIiBpcyBhbHNvIGluY2x1ZGVkXG4nLGtleSxyZWYscmVmX2ZvcixyZWZfa2V5LCcgK1xuICAgICdvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsJyArXG4gICAgJ29uVm5vZGVCZWZvcmVVcGRhdGUsb25Wbm9kZVVwZGF0ZWQsJyArXG4gICAgJ29uVm5vZGVCZWZvcmVVbm1vdW50LG9uVm5vZGVVbm1vdW50ZWQnKTtcbmNvbnN0IGlzQnVpbHRJbkRpcmVjdGl2ZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnYmluZCxjbG9hayxlbHNlLWlmLGVsc2UsZm9yLGh0bWwsaWYsbW9kZWwsb24sb25jZSxwcmUsc2hvdyxzbG90LHRleHQsbWVtbycpO1xuY29uc3QgY2FjaGVTdHJpbmdGdW5jdGlvbiA9IChmbikgPT4ge1xuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICByZXR1cm4gKChzdHIpID0+IHtcbiAgICAgICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICAgICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xuICAgIH0pO1xufTtcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IGNhbWVsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIChfLCBjKSA9PiAoYyA/IGMudG9VcHBlckNhc2UoKSA6ICcnKSk7XG59KTtcbmNvbnN0IGh5cGhlbmF0ZVJFID0gL1xcQihbQS1aXSkvZztcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIucmVwbGFjZShoeXBoZW5hdGVSRSwgJy0kMScpLnRvTG93ZXJDYXNlKCkpO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSkpO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCB0b0hhbmRsZXJLZXkgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHN0ciA/IGBvbiR7Y2FwaXRhbGl6ZShzdHIpfWAgOiBgYCk7XG4vLyBjb21wYXJlIHdoZXRoZXIgYSB2YWx1ZSBoYXMgY2hhbmdlZCwgYWNjb3VudGluZyBmb3IgTmFOLlxuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+ICFPYmplY3QuaXModmFsdWUsIG9sZFZhbHVlKTtcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgYXJnKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm5zW2ldKGFyZyk7XG4gICAgfVxufTtcbmNvbnN0IGRlZiA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWVcbiAgICB9KTtcbn07XG5jb25zdCB0b051bWJlciA9ICh2YWwpID0+IHtcbiAgICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICAgIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XG59O1xubGV0IF9nbG9iYWxUaGlzO1xuY29uc3QgZ2V0R2xvYmFsVGhpcyA9ICgpID0+IHtcbiAgICByZXR1cm4gKF9nbG9iYWxUaGlzIHx8XG4gICAgICAgIChfZ2xvYmFsVGhpcyA9XG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcbiAgICAgICAgICAgICAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICA/IHNlbGZcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB3aW5kb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGdsb2JhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30pKTtcbn07XG5cbmZ1bmN0aW9uIHdhcm4obXNnLCAuLi5hcmdzKSB7XG4gICAgY29uc29sZS53YXJuKGBbVnVlIHdhcm5dICR7bXNnfWAsIC4uLmFyZ3MpO1xufVxuXG5sZXQgYWN0aXZlRWZmZWN0U2NvcGU7XG5jbGFzcyBFZmZlY3RTY29wZSB7XG4gICAgY29uc3RydWN0b3IoZGV0YWNoZWQgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmRldGFjaGVkID0gZGV0YWNoZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lZmZlY3RzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xlYW51cHMgPSBbXTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICAgICAgaWYgKCFkZXRhY2hlZCAmJiBhY3RpdmVFZmZlY3RTY29wZSkge1xuICAgICAgICAgICAgdGhpcy5pbmRleCA9XG4gICAgICAgICAgICAgICAgKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyB8fCAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzID0gW10pKS5wdXNoKHRoaXMpIC0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBydW4oZm4pIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RWZmZWN0U2NvcGUgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSBjdXJyZW50RWZmZWN0U2NvcGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuKGBjYW5ub3QgcnVuIGFuIGluYWN0aXZlIGVmZmVjdCBzY29wZS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgb24oKSB7XG4gICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gbm9uLWRldGFjaGVkIHNjb3Blc1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG9mZigpIHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzLnBhcmVudDtcbiAgICB9XG4gICAgc3RvcChmcm9tUGFyZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgbGV0IGksIGw7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0c1tpXS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5jbGVhbnVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBzW2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zY29wZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcGVzW2ldLnN0b3AodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbmVzdGVkIHNjb3BlLCBkZXJlZmVyZW5jZSBmcm9tIHBhcmVudCB0byBhdm9pZCBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIGlmICghdGhpcy5kZXRhY2hlZCAmJiB0aGlzLnBhcmVudCAmJiAhZnJvbVBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIG9wdGltaXplZCBPKDEpIHJlbW92YWxcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5wYXJlbnQuc2NvcGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0ICYmIGxhc3QgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NvcGVzW3RoaXMuaW5kZXhdID0gbGFzdDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdC5pbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZWZmZWN0U2NvcGUoZGV0YWNoZWQpIHtcbiAgICByZXR1cm4gbmV3IEVmZmVjdFNjb3BlKGRldGFjaGVkKTtcbn1cbmZ1bmN0aW9uIHJlY29yZEVmZmVjdFNjb3BlKGVmZmVjdCwgc2NvcGUgPSBhY3RpdmVFZmZlY3RTY29wZSkge1xuICAgIGlmIChzY29wZSAmJiBzY29wZS5hY3RpdmUpIHtcbiAgICAgICAgc2NvcGUuZWZmZWN0cy5wdXNoKGVmZmVjdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFNjb3BlKCkge1xuICAgIHJldHVybiBhY3RpdmVFZmZlY3RTY29wZTtcbn1cbmZ1bmN0aW9uIG9uU2NvcGVEaXNwb3NlKGZuKSB7XG4gICAgaWYgKGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlLmNsZWFudXBzLnB1c2goZm4pO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2Fybihgb25TY29wZURpc3Bvc2UoKSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgZWZmZWN0IHNjb3BlYCArXG4gICAgICAgICAgICBgIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC5gKTtcbiAgICB9XG59XG5cbmNvbnN0IGNyZWF0ZURlcCA9IChlZmZlY3RzKSA9PiB7XG4gICAgY29uc3QgZGVwID0gbmV3IFNldChlZmZlY3RzKTtcbiAgICBkZXAudyA9IDA7XG4gICAgZGVwLm4gPSAwO1xuICAgIHJldHVybiBkZXA7XG59O1xuY29uc3Qgd2FzVHJhY2tlZCA9IChkZXApID0+IChkZXAudyAmIHRyYWNrT3BCaXQpID4gMDtcbmNvbnN0IG5ld1RyYWNrZWQgPSAoZGVwKSA9PiAoZGVwLm4gJiB0cmFja09wQml0KSA+IDA7XG5jb25zdCBpbml0RGVwTWFya2VycyA9ICh7IGRlcHMgfSkgPT4ge1xuICAgIGlmIChkZXBzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRlcHNbaV0udyB8PSB0cmFja09wQml0OyAvLyBzZXQgd2FzIHRyYWNrZWRcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBmaW5hbGl6ZURlcE1hcmtlcnMgPSAoZWZmZWN0KSA9PiB7XG4gICAgY29uc3QgeyBkZXBzIH0gPSBlZmZlY3Q7XG4gICAgaWYgKGRlcHMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBwdHIgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRlcCA9IGRlcHNbaV07XG4gICAgICAgICAgICBpZiAod2FzVHJhY2tlZChkZXApICYmICFuZXdUcmFja2VkKGRlcCkpIHtcbiAgICAgICAgICAgICAgICBkZXAuZGVsZXRlKGVmZmVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZXBzW3B0cisrXSA9IGRlcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyIGJpdHNcbiAgICAgICAgICAgIGRlcC53ICY9IH50cmFja09wQml0O1xuICAgICAgICAgICAgZGVwLm4gJj0gfnRyYWNrT3BCaXQ7XG4gICAgICAgIH1cbiAgICAgICAgZGVwcy5sZW5ndGggPSBwdHI7XG4gICAgfVxufTtcblxuY29uc3QgdGFyZ2V0TWFwID0gbmV3IFdlYWtNYXAoKTtcbi8vIFRoZSBudW1iZXIgb2YgZWZmZWN0cyBjdXJyZW50bHkgYmVpbmcgdHJhY2tlZCByZWN1cnNpdmVseS5cbmxldCBlZmZlY3RUcmFja0RlcHRoID0gMDtcbmxldCB0cmFja09wQml0ID0gMTtcbi8qKlxuICogVGhlIGJpdHdpc2UgdHJhY2sgbWFya2VycyBzdXBwb3J0IGF0IG1vc3QgMzAgbGV2ZWxzIG9mIHJlY3Vyc2lvbi5cbiAqIFRoaXMgdmFsdWUgaXMgY2hvc2VuIHRvIGVuYWJsZSBtb2Rlcm4gSlMgZW5naW5lcyB0byB1c2UgYSBTTUkgb24gYWxsIHBsYXRmb3Jtcy5cbiAqIFdoZW4gcmVjdXJzaW9uIGRlcHRoIGlzIGdyZWF0ZXIsIGZhbGwgYmFjayB0byB1c2luZyBhIGZ1bGwgY2xlYW51cC5cbiAqL1xuY29uc3QgbWF4TWFya2VyQml0cyA9IDMwO1xubGV0IGFjdGl2ZUVmZmVjdDtcbmNvbnN0IElURVJBVEVfS0VZID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdpdGVyYXRlJyA6ICcnKTtcbmNvbnN0IE1BUF9LRVlfSVRFUkFURV9LRVkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ01hcCBrZXkgaXRlcmF0ZScgOiAnJyk7XG5jbGFzcyBSZWFjdGl2ZUVmZmVjdCB7XG4gICAgY29uc3RydWN0b3IoZm4sIHNjaGVkdWxlciA9IG51bGwsIHNjb3BlKSB7XG4gICAgICAgIHRoaXMuZm4gPSBmbjtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZXBzID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICByZWNvcmRFZmZlY3RTY29wZSh0aGlzLCBzY29wZSk7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm4oKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGFyZW50ID0gYWN0aXZlRWZmZWN0O1xuICAgICAgICBsZXQgbGFzdFNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IGFjdGl2ZUVmZmVjdDtcbiAgICAgICAgICAgIGFjdGl2ZUVmZmVjdCA9IHRoaXM7XG4gICAgICAgICAgICBzaG91bGRUcmFjayA9IHRydWU7XG4gICAgICAgICAgICB0cmFja09wQml0ID0gMSA8PCArK2VmZmVjdFRyYWNrRGVwdGg7XG4gICAgICAgICAgICBpZiAoZWZmZWN0VHJhY2tEZXB0aCA8PSBtYXhNYXJrZXJCaXRzKSB7XG4gICAgICAgICAgICAgICAgaW5pdERlcE1hcmtlcnModGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm4oKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChlZmZlY3RUcmFja0RlcHRoIDw9IG1heE1hcmtlckJpdHMpIHtcbiAgICAgICAgICAgICAgICBmaW5hbGl6ZURlcE1hcmtlcnModGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFja09wQml0ID0gMSA8PCAtLWVmZmVjdFRyYWNrRGVwdGg7XG4gICAgICAgICAgICBhY3RpdmVFZmZlY3QgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgICAgIHNob3VsZFRyYWNrID0gbGFzdFNob3VsZFRyYWNrO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWZlclN0b3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICAvLyBzdG9wcGVkIHdoaWxlIHJ1bm5pbmcgaXRzZWxmIC0gZGVmZXIgdGhlIGNsZWFudXBcbiAgICAgICAgaWYgKGFjdGl2ZUVmZmVjdCA9PT0gdGhpcykge1xuICAgICAgICAgICAgdGhpcy5kZWZlclN0b3AgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBjbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25TdG9wKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRWZmZWN0KGVmZmVjdCkge1xuICAgIGNvbnN0IHsgZGVwcyB9ID0gZWZmZWN0O1xuICAgIGlmIChkZXBzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRlcHNbaV0uZGVsZXRlKGVmZmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVwcy5sZW5ndGggPSAwO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVmZmVjdChmbiwgb3B0aW9ucykge1xuICAgIGlmIChmbi5lZmZlY3QpIHtcbiAgICAgICAgZm4gPSBmbi5lZmZlY3QuZm47XG4gICAgfVxuICAgIGNvbnN0IF9lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZm4pO1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGV4dGVuZChfZWZmZWN0LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2NvcGUpXG4gICAgICAgICAgICByZWNvcmRFZmZlY3RTY29wZShfZWZmZWN0LCBvcHRpb25zLnNjb3BlKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLmxhenkpIHtcbiAgICAgICAgX2VmZmVjdC5ydW4oKTtcbiAgICB9XG4gICAgY29uc3QgcnVubmVyID0gX2VmZmVjdC5ydW4uYmluZChfZWZmZWN0KTtcbiAgICBydW5uZXIuZWZmZWN0ID0gX2VmZmVjdDtcbiAgICByZXR1cm4gcnVubmVyO1xufVxuZnVuY3Rpb24gc3RvcChydW5uZXIpIHtcbiAgICBydW5uZXIuZWZmZWN0LnN0b3AoKTtcbn1cbmxldCBzaG91bGRUcmFjayA9IHRydWU7XG5jb25zdCB0cmFja1N0YWNrID0gW107XG5mdW5jdGlvbiBwYXVzZVRyYWNraW5nKCkge1xuICAgIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XG4gICAgc2hvdWxkVHJhY2sgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlc2V0VHJhY2tpbmcoKSB7XG4gICAgY29uc3QgbGFzdCA9IHRyYWNrU3RhY2sucG9wKCk7XG4gICAgc2hvdWxkVHJhY2sgPSBsYXN0ID09PSB1bmRlZmluZWQgPyB0cnVlIDogbGFzdDtcbn1cbmZ1bmN0aW9uIHRyYWNrKHRhcmdldCwgdHlwZSwga2V5KSB7XG4gICAgaWYgKHNob3VsZFRyYWNrICYmIGFjdGl2ZUVmZmVjdCkge1xuICAgICAgICBsZXQgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKCFkZXBzTWFwKSB7XG4gICAgICAgICAgICB0YXJnZXRNYXAuc2V0KHRhcmdldCwgKGRlcHNNYXAgPSBuZXcgTWFwKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGVwID0gZGVwc01hcC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFkZXApIHtcbiAgICAgICAgICAgIGRlcHNNYXAuc2V0KGtleSwgKGRlcCA9IGNyZWF0ZURlcCgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXZlbnRJbmZvID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICA/IHsgZWZmZWN0OiBhY3RpdmVFZmZlY3QsIHRhcmdldCwgdHlwZSwga2V5IH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICB0cmFja0VmZmVjdHMoZGVwLCBldmVudEluZm8pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYWNrRWZmZWN0cyhkZXAsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pIHtcbiAgICBsZXQgc2hvdWxkVHJhY2sgPSBmYWxzZTtcbiAgICBpZiAoZWZmZWN0VHJhY2tEZXB0aCA8PSBtYXhNYXJrZXJCaXRzKSB7XG4gICAgICAgIGlmICghbmV3VHJhY2tlZChkZXApKSB7XG4gICAgICAgICAgICBkZXAubiB8PSB0cmFja09wQml0OyAvLyBzZXQgbmV3bHkgdHJhY2tlZFxuICAgICAgICAgICAgc2hvdWxkVHJhY2sgPSAhd2FzVHJhY2tlZChkZXApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBGdWxsIGNsZWFudXAgbW9kZS5cbiAgICAgICAgc2hvdWxkVHJhY2sgPSAhZGVwLmhhcyhhY3RpdmVFZmZlY3QpO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkVHJhY2spIHtcbiAgICAgICAgZGVwLmFkZChhY3RpdmVFZmZlY3QpO1xuICAgICAgICBhY3RpdmVFZmZlY3QuZGVwcy5wdXNoKGRlcCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYWN0aXZlRWZmZWN0Lm9uVHJhY2spIHtcbiAgICAgICAgICAgIGFjdGl2ZUVmZmVjdC5vblRyYWNrKE9iamVjdC5hc3NpZ24oeyBlZmZlY3Q6IGFjdGl2ZUVmZmVjdCB9LCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyKHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCkge1xuICAgIGNvbnN0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XG4gICAgaWYgKCFkZXBzTWFwKSB7XG4gICAgICAgIC8vIG5ldmVyIGJlZW4gdHJhY2tlZFxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBkZXBzID0gW107XG4gICAgaWYgKHR5cGUgPT09IFwiY2xlYXJcIiAvKiBUcmlnZ2VyT3BUeXBlcy5DTEVBUiAqLykge1xuICAgICAgICAvLyBjb2xsZWN0aW9uIGJlaW5nIGNsZWFyZWRcbiAgICAgICAgLy8gdHJpZ2dlciBhbGwgZWZmZWN0cyBmb3IgdGFyZ2V0XG4gICAgICAgIGRlcHMgPSBbLi4uZGVwc01hcC52YWx1ZXMoKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKGtleSA9PT0gJ2xlbmd0aCcgJiYgaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgIGNvbnN0IG5ld0xlbmd0aCA9IHRvTnVtYmVyKG5ld1ZhbHVlKTtcbiAgICAgICAgZGVwc01hcC5mb3JFYWNoKChkZXAsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2xlbmd0aCcgfHwga2V5ID49IG5ld0xlbmd0aCkge1xuICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHNjaGVkdWxlIHJ1bnMgZm9yIFNFVCB8IEFERCB8IERFTEVURVxuICAgICAgICBpZiAoa2V5ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHJ1biBmb3IgaXRlcmF0aW9uIGtleSBvbiBBREQgfCBERUxFVEUgfCBNYXAuU0VUXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLzpcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJbnRlZ2VyS2V5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGluZGV4IGFkZGVkIHRvIGFycmF5IC0+IGxlbmd0aCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldCgnbGVuZ3RoJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJkZWxldGVcIiAvKiBUcmlnZ2VyT3BUeXBlcy5ERUxFVEUgKi86XG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLzpcbiAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZXZlbnRJbmZvID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgID8geyB0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpZiAoZGVwcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKGRlcHNbMF0pIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRWZmZWN0cyhkZXBzWzBdLCBldmVudEluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckVmZmVjdHMoZGVwc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGVmZmVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBkZXAgb2YgZGVwcykge1xuICAgICAgICAgICAgaWYgKGRlcCkge1xuICAgICAgICAgICAgICAgIGVmZmVjdHMucHVzaCguLi5kZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHRyaWdnZXJFZmZlY3RzKGNyZWF0ZURlcChlZmZlY3RzKSwgZXZlbnRJbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyaWdnZXJFZmZlY3RzKGNyZWF0ZURlcChlZmZlY3RzKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyRWZmZWN0cyhkZXAsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pIHtcbiAgICAvLyBzcHJlYWQgaW50byBhcnJheSBmb3Igc3RhYmlsaXphdGlvblxuICAgIGNvbnN0IGVmZmVjdHMgPSBpc0FycmF5KGRlcCkgPyBkZXAgOiBbLi4uZGVwXTtcbiAgICBmb3IgKGNvbnN0IGVmZmVjdCBvZiBlZmZlY3RzKSB7XG4gICAgICAgIGlmIChlZmZlY3QuY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIHRyaWdnZXJFZmZlY3QoZWZmZWN0LCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGVmZmVjdCBvZiBlZmZlY3RzKSB7XG4gICAgICAgIGlmICghZWZmZWN0LmNvbXB1dGVkKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0KGVmZmVjdCwgZGVidWdnZXJFdmVudEV4dHJhSW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyRWZmZWN0KGVmZmVjdCwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykge1xuICAgIGlmIChlZmZlY3QgIT09IGFjdGl2ZUVmZmVjdCB8fCBlZmZlY3QuYWxsb3dSZWN1cnNlKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZWZmZWN0Lm9uVHJpZ2dlcikge1xuICAgICAgICAgICAgZWZmZWN0Lm9uVHJpZ2dlcihleHRlbmQoeyBlZmZlY3QgfSwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3Quc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICBlZmZlY3Quc2NoZWR1bGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlZmZlY3QucnVuKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IGlzTm9uVHJhY2thYmxlS2V5cyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgX19wcm90b19fLF9fdl9pc1JlZixfX2lzVnVlYCk7XG5jb25zdCBidWlsdEluU3ltYm9scyA9IG5ldyBTZXQoXG4vKiNfX1BVUkVfXyovXG5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpXG4gICAgLy8gaW9zMTAueCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpIGNhbiBlbnVtZXJhdGUgJ2FyZ3VtZW50cycgYW5kICdjYWxsZXInXG4gICAgLy8gYnV0IGFjY2Vzc2luZyB0aGVtIG9uIFN5bWJvbCBsZWFkcyB0byBUeXBlRXJyb3IgYmVjYXVzZSBTeW1ib2wgaXMgYSBzdHJpY3QgbW9kZVxuICAgIC8vIGZ1bmN0aW9uXG4gICAgLmZpbHRlcihrZXkgPT4ga2V5ICE9PSAnYXJndW1lbnRzJyAmJiBrZXkgIT09ICdjYWxsZXInKVxuICAgIC5tYXAoa2V5ID0+IFN5bWJvbFtrZXldKVxuICAgIC5maWx0ZXIoaXNTeW1ib2wpKTtcbmNvbnN0IGdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKCk7XG5jb25zdCBzaGFsbG93R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIoZmFsc2UsIHRydWUpO1xuY29uc3QgcmVhZG9ubHlHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcih0cnVlKTtcbmNvbnN0IHNoYWxsb3dSZWFkb25seUdldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKHRydWUsIHRydWUpO1xuY29uc3QgYXJyYXlJbnN0cnVtZW50YXRpb25zID0gLyojX19QVVJFX18qLyBjcmVhdGVBcnJheUluc3RydW1lbnRhdGlvbnMoKTtcbmZ1bmN0aW9uIGNyZWF0ZUFycmF5SW5zdHJ1bWVudGF0aW9ucygpIHtcbiAgICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0ge307XG4gICAgWydpbmNsdWRlcycsICdpbmRleE9mJywgJ2xhc3RJbmRleE9mJ10uZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgYXJyID0gdG9SYXcodGhpcyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdHJhY2soYXJyLCBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sIGkgKyAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBydW4gdGhlIG1ldGhvZCB1c2luZyB0aGUgb3JpZ2luYWwgYXJncyBmaXJzdCAod2hpY2ggbWF5IGJlIHJlYWN0aXZlKVxuICAgICAgICAgICAgY29uc3QgcmVzID0gYXJyW2tleV0oLi4uYXJncyk7XG4gICAgICAgICAgICBpZiAocmVzID09PSAtMSB8fCByZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhhdCBkaWRuJ3Qgd29yaywgcnVuIGl0IGFnYWluIHVzaW5nIHJhdyB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycltrZXldKC4uLmFyZ3MubWFwKHRvUmF3KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIFsncHVzaCcsICdwb3AnLCAnc2hpZnQnLCAndW5zaGlmdCcsICdzcGxpY2UnXS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGluc3RydW1lbnRhdGlvbnNba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB0b1Jhdyh0aGlzKVtrZXldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5zdHJ1bWVudGF0aW9ucztcbn1cbmZ1bmN0aW9uIGNyZWF0ZUdldHRlcihpc1JlYWRvbmx5ID0gZmFsc2UsIHNoYWxsb3cgPSBmYWxzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQUNUSVZFICovKSB7XG4gICAgICAgICAgICByZXR1cm4gIWlzUmVhZG9ubHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFET05MWSAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1NoYWxsb3dcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1NIQUxMT1cgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBzaGFsbG93O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi8gJiZcbiAgICAgICAgICAgIHJlY2VpdmVyID09PVxuICAgICAgICAgICAgICAgIChpc1JlYWRvbmx5XG4gICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93UmVhZG9ubHlNYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVhZG9ubHlNYXBcbiAgICAgICAgICAgICAgICAgICAgOiBzaGFsbG93XG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dSZWFjdGl2ZU1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZWFjdGl2ZU1hcCkuZ2V0KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcbiAgICAgICAgaWYgKCFpc1JlYWRvbmx5ICYmIHRhcmdldElzQXJyYXkgJiYgaGFzT3duKGFycmF5SW5zdHJ1bWVudGF0aW9ucywga2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGFycmF5SW5zdHJ1bWVudGF0aW9ucywga2V5LCByZWNlaXZlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcbiAgICAgICAgaWYgKGlzU3ltYm9sKGtleSkgPyBidWlsdEluU3ltYm9scy5oYXMoa2V5KSA6IGlzTm9uVHJhY2thYmxlS2V5cyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNSZWFkb25seSkge1xuICAgICAgICAgICAgdHJhY2sodGFyZ2V0LCBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYWxsb3cpIHtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVmKHJlcykpIHtcbiAgICAgICAgICAgIC8vIHJlZiB1bndyYXBwaW5nIC0gc2tpcCB1bndyYXAgZm9yIEFycmF5ICsgaW50ZWdlciBrZXkuXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0SXNBcnJheSAmJiBpc0ludGVnZXJLZXkoa2V5KSA/IHJlcyA6IHJlcy52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNPYmplY3QocmVzKSkge1xuICAgICAgICAgICAgLy8gQ29udmVydCByZXR1cm5lZCB2YWx1ZSBpbnRvIGEgcHJveHkgYXMgd2VsbC4gd2UgZG8gdGhlIGlzT2JqZWN0IGNoZWNrXG4gICAgICAgICAgICAvLyBoZXJlIHRvIGF2b2lkIGludmFsaWQgdmFsdWUgd2FybmluZy4gQWxzbyBuZWVkIHRvIGxhenkgYWNjZXNzIHJlYWRvbmx5XG4gICAgICAgICAgICAvLyBhbmQgcmVhY3RpdmUgaGVyZSB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgICAgICAgcmV0dXJuIGlzUmVhZG9ubHkgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG59XG5jb25zdCBzZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVNldHRlcigpO1xuY29uc3Qgc2hhbGxvd1NldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlU2V0dGVyKHRydWUpO1xuZnVuY3Rpb24gY3JlYXRlU2V0dGVyKHNoYWxsb3cgPSBmYWxzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBzZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgaWYgKGlzUmVhZG9ubHkob2xkVmFsdWUpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaGFsbG93KSB7XG4gICAgICAgICAgICBpZiAoIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSB0b1JhdyhvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSAmJiBpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFkS2V5ID0gaXNBcnJheSh0YXJnZXQpICYmIGlzSW50ZWdlcktleShrZXkpXG4gICAgICAgICAgICA/IE51bWJlcihrZXkpIDwgdGFyZ2V0Lmxlbmd0aFxuICAgICAgICAgICAgOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgICAgLy8gZG9uJ3QgdHJpZ2dlciBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHVwIGluIHRoZSBwcm90b3R5cGUgY2hhaW4gb2Ygb3JpZ2luYWxcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdG9SYXcocmVjZWl2ZXIpKSB7XG4gICAgICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLywga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8sIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5mdW5jdGlvbiBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiAvKiBUcmlnZ2VyT3BUeXBlcy5ERUxFVEUgKi8sIGtleSwgdW5kZWZpbmVkLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBoYXModGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0Lmhhcyh0YXJnZXQsIGtleSk7XG4gICAgaWYgKCFpc1N5bWJvbChrZXkpIHx8ICFidWlsdEluU3ltYm9scy5oYXMoa2V5KSkge1xuICAgICAgICB0cmFjayh0YXJnZXQsIFwiaGFzXCIgLyogVHJhY2tPcFR5cGVzLkhBUyAqLywga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG93bktleXModGFyZ2V0KSB7XG4gICAgdHJhY2sodGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBUcmFja09wVHlwZXMuSVRFUkFURSAqLywgaXNBcnJheSh0YXJnZXQpID8gJ2xlbmd0aCcgOiBJVEVSQVRFX0tFWSk7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xufVxuY29uc3QgbXV0YWJsZUhhbmRsZXJzID0ge1xuICAgIGdldCxcbiAgICBzZXQsXG4gICAgZGVsZXRlUHJvcGVydHksXG4gICAgaGFzLFxuICAgIG93bktleXNcbn07XG5jb25zdCByZWFkb25seUhhbmRsZXJzID0ge1xuICAgIGdldDogcmVhZG9ubHlHZXQsXG4gICAgc2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4oYFNldCBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybihgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gLyojX19QVVJFX18qLyBleHRlbmQoe30sIG11dGFibGVIYW5kbGVycywge1xuICAgIGdldDogc2hhbGxvd0dldCxcbiAgICBzZXQ6IHNoYWxsb3dTZXRcbn0pO1xuLy8gUHJvcHMgaGFuZGxlcnMgYXJlIHNwZWNpYWwgaW4gdGhlIHNlbnNlIHRoYXQgaXQgc2hvdWxkIG5vdCB1bndyYXAgdG9wLWxldmVsXG4vLyByZWZzIChpbiBvcmRlciB0byBhbGxvdyByZWZzIHRvIGJlIGV4cGxpY2l0bHkgcGFzc2VkIGRvd24pLCBidXQgc2hvdWxkXG4vLyByZXRhaW4gdGhlIHJlYWN0aXZpdHkgb2YgdGhlIG5vcm1hbCByZWFkb25seSBvYmplY3QuXG5jb25zdCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyA9IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCByZWFkb25seUhhbmRsZXJzLCB7XG4gICAgZ2V0OiBzaGFsbG93UmVhZG9ubHlHZXRcbn0pO1xuXG5jb25zdCB0b1NoYWxsb3cgPSAodmFsdWUpID0+IHZhbHVlO1xuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcbmZ1bmN0aW9uIGdldCQxKHRhcmdldCwga2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UsIGlzU2hhbGxvdyA9IGZhbHNlKSB7XG4gICAgLy8gIzE3NzI6IHJlYWRvbmx5KHJlYWN0aXZlKE1hcCkpIHNob3VsZCByZXR1cm4gcmVhZG9ubHkgKyByZWFjdGl2ZSB2ZXJzaW9uXG4gICAgLy8gb2YgdGhlIHZhbHVlXG4gICAgdGFyZ2V0ID0gdGFyZ2V0W1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXTtcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gICAgaWYgKCFpc1JlYWRvbmx5KSB7XG4gICAgICAgIGlmIChrZXkgIT09IHJhd0tleSkge1xuICAgICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sIHJhd0tleSk7XG4gICAgfVxuICAgIGNvbnN0IHsgaGFzIH0gPSBnZXRQcm90byhyYXdUYXJnZXQpO1xuICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwga2V5KSkge1xuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KGtleSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIHJhd0tleSkpIHtcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChyYXdLZXkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGFyZ2V0ICE9PSByYXdUYXJnZXQpIHtcbiAgICAgICAgLy8gIzM2MDIgcmVhZG9ubHkocmVhY3RpdmUoTWFwKSlcbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIG5lc3RlZCByZWFjdGl2ZSBgTWFwYCBjYW4gZG8gdHJhY2tpbmcgZm9yIGl0c2VsZlxuICAgICAgICB0YXJnZXQuZ2V0KGtleSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzJDEoa2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXTtcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gICAgaWYgKCFpc1JlYWRvbmx5KSB7XG4gICAgICAgIGlmIChrZXkgIT09IHJhd0tleSkge1xuICAgICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiIC8qIFRyYWNrT3BUeXBlcy5IQVMgKi8sIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiIC8qIFRyYWNrT3BUeXBlcy5IQVMgKi8sIHJhd0tleSk7XG4gICAgfVxuICAgIHJldHVybiBrZXkgPT09IHJhd0tleVxuICAgICAgICA/IHRhcmdldC5oYXMoa2V5KVxuICAgICAgICA6IHRhcmdldC5oYXMoa2V5KSB8fCB0YXJnZXQuaGFzKHJhd0tleSk7XG59XG5mdW5jdGlvbiBzaXplKHRhcmdldCwgaXNSZWFkb25seSA9IGZhbHNlKSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0W1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXTtcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayh0b1Jhdyh0YXJnZXQpLCBcIml0ZXJhdGVcIiAvKiBUcmFja09wVHlwZXMuSVRFUkFURSAqLywgSVRFUkFURV9LRVkpO1xuICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsICdzaXplJywgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgIGNvbnN0IHByb3RvID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICBjb25zdCBoYWRLZXkgPSBwcm90by5oYXMuY2FsbCh0YXJnZXQsIHZhbHVlKTtcbiAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICB0YXJnZXQuYWRkKHZhbHVlKTtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogVHJpZ2dlck9wVHlwZXMuQUREICovLCB2YWx1ZSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cbmZ1bmN0aW9uIHNldCQxKGtleSwgdmFsdWUpIHtcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAga2V5ID0gdG9SYXcoa2V5KTtcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XG4gICAgfVxuICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0LmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgIHRhcmdldC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIgLyogVHJpZ2dlck9wVHlwZXMuQUREICovLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLywga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cbmZ1bmN0aW9uIGRlbGV0ZUVudHJ5KGtleSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgIGNvbnN0IHsgaGFzLCBnZXQgfSA9IGdldFByb3RvKHRhcmdldCk7XG4gICAgbGV0IGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICBrZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgICBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICB9XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXQgPyBnZXQuY2FsbCh0YXJnZXQsIGtleSkgOiB1bmRlZmluZWQ7XG4gICAgLy8gZm9yd2FyZCB0aGUgb3BlcmF0aW9uIGJlZm9yZSBxdWV1ZWluZyByZWFjdGlvbnNcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuZGVsZXRlKGtleSk7XG4gICAgaWYgKGhhZEtleSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiAvKiBUcmlnZ2VyT3BUeXBlcy5ERUxFVEUgKi8sIGtleSwgdW5kZWZpbmVkLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjbGVhcigpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICBjb25zdCBoYWRJdGVtcyA9IHRhcmdldC5zaXplICE9PSAwO1xuICAgIGNvbnN0IG9sZFRhcmdldCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICA/IGlzTWFwKHRhcmdldClcbiAgICAgICAgICAgID8gbmV3IE1hcCh0YXJnZXQpXG4gICAgICAgICAgICA6IG5ldyBTZXQodGFyZ2V0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAvLyBmb3J3YXJkIHRoZSBvcGVyYXRpb24gYmVmb3JlIHF1ZXVlaW5nIHJlYWN0aW9uc1xuICAgIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jbGVhcigpO1xuICAgIGlmIChoYWRJdGVtcykge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJjbGVhclwiIC8qIFRyaWdnZXJPcFR5cGVzLkNMRUFSICovLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb2xkVGFyZ2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZvckVhY2goaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZWQgPSB0aGlzO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJpdGVyYXRlXCIgLyogVHJhY2tPcFR5cGVzLklURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQ6IG1ha2Ugc3VyZSB0aGUgY2FsbGJhY2sgaXNcbiAgICAgICAgICAgIC8vIDEuIGludm9rZWQgd2l0aCB0aGUgcmVhY3RpdmUgbWFwIGFzIGB0aGlzYCBhbmQgM3JkIGFyZ1xuICAgICAgICAgICAgLy8gMi4gdGhlIHZhbHVlIHJlY2VpdmVkIHNob3VsZCBiZSBhIGNvcnJlc3BvbmRpbmcgcmVhY3RpdmUvcmVhZG9ubHkuXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB3cmFwKHZhbHVlKSwgd3JhcChrZXkpLCBvYnNlcnZlZCk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXTtcbiAgICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SXNNYXAgPSBpc01hcChyYXdUYXJnZXQpO1xuICAgICAgICBjb25zdCBpc1BhaXIgPSBtZXRob2QgPT09ICdlbnRyaWVzJyB8fCAobWV0aG9kID09PSBTeW1ib2wuaXRlcmF0b3IgJiYgdGFyZ2V0SXNNYXApO1xuICAgICAgICBjb25zdCBpc0tleU9ubHkgPSBtZXRob2QgPT09ICdrZXlzJyAmJiB0YXJnZXRJc01hcDtcbiAgICAgICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xuICAgICAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICAgICAhaXNSZWFkb25seSAmJlxuICAgICAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcIml0ZXJhdGVcIiAvKiBUcmFja09wVHlwZXMuSVRFUkFURSAqLywgaXNLZXlPbmx5ID8gTUFQX0tFWV9JVEVSQVRFX0tFWSA6IElURVJBVEVfS0VZKTtcbiAgICAgICAgLy8gcmV0dXJuIGEgd3JhcHBlZCBpdGVyYXRvciB3aGljaCByZXR1cm5zIG9ic2VydmVkIHZlcnNpb25zIG9mIHRoZVxuICAgICAgICAvLyB2YWx1ZXMgZW1pdHRlZCBmcm9tIHRoZSByZWFsIGl0ZXJhdG9yXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBpdGVyYXRvciBwcm90b2NvbFxuICAgICAgICAgICAgbmV4dCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBpbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZVxuICAgICAgICAgICAgICAgICAgICA/IHsgdmFsdWUsIGRvbmUgfVxuICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpc1BhaXIgPyBbd3JhcCh2YWx1ZVswXSksIHdyYXAodmFsdWVbMV0pXSA6IHdyYXAodmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXG4gICAgICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUmVhZG9ubHlNZXRob2QodHlwZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhcmdzWzBdID8gYG9uIGtleSBcIiR7YXJnc1swXX1cIiBgIDogYGA7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7Y2FwaXRhbGl6ZSh0eXBlKX0gb3BlcmF0aW9uICR7a2V5fWZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsIHRvUmF3KHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gXCJkZWxldGVcIiAvKiBUcmlnZ2VyT3BUeXBlcy5ERUxFVEUgKi8gPyBmYWxzZSA6IHRoaXM7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbnMoKSB7XG4gICAgY29uc3QgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMgPSB7XG4gICAgICAgIGdldChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXkpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBoYXM6IGhhcyQxLFxuICAgICAgICBhZGQsXG4gICAgICAgIHNldDogc2V0JDEsXG4gICAgICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXG4gICAgICAgIGNsZWFyLFxuICAgICAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKGZhbHNlLCBmYWxzZSlcbiAgICB9O1xuICAgIGNvbnN0IHNoYWxsb3dJbnN0cnVtZW50YXRpb25zID0ge1xuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBzaXplKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNpemUodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhczogaGFzJDEsXG4gICAgICAgIGFkZCxcbiAgICAgICAgc2V0OiBzZXQkMSxcbiAgICAgICAgZGVsZXRlOiBkZWxldGVFbnRyeSxcbiAgICAgICAgY2xlYXIsXG4gICAgICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2goZmFsc2UsIHRydWUpXG4gICAgfTtcbiAgICBjb25zdCByZWFkb25seUluc3RydW1lbnRhdGlvbnMgPSB7XG4gICAgICAgIGdldChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBoYXMoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzJDEuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIgLyogVHJpZ2dlck9wVHlwZXMuQUREICovKSxcbiAgICAgICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLyksXG4gICAgICAgIGRlbGV0ZTogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJkZWxldGVcIiAvKiBUcmlnZ2VyT3BUeXBlcy5ERUxFVEUgKi8pLFxuICAgICAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiIC8qIFRyaWdnZXJPcFR5cGVzLkNMRUFSICovKSxcbiAgICAgICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCBmYWxzZSlcbiAgICB9O1xuICAgIGNvbnN0IHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMgPSB7XG4gICAgICAgIGdldChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQkMSh0aGlzLCBrZXksIHRydWUsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBoYXMoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzJDEuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIgLyogVHJpZ2dlck9wVHlwZXMuQUREICovKSxcbiAgICAgICAgc2V0OiBjcmVhdGVSZWFkb25seU1ldGhvZChcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLyksXG4gICAgICAgIGRlbGV0ZTogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJkZWxldGVcIiAvKiBUcmlnZ2VyT3BUeXBlcy5ERUxFVEUgKi8pLFxuICAgICAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiIC8qIFRyaWdnZXJPcFR5cGVzLkNMRUFSICovKSxcbiAgICAgICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCB0cnVlKVxuICAgIH07XG4gICAgY29uc3QgaXRlcmF0b3JNZXRob2RzID0gWydrZXlzJywgJ3ZhbHVlcycsICdlbnRyaWVzJywgU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpdGVyYXRvck1ldGhvZHMuZm9yRWFjaChtZXRob2QgPT4ge1xuICAgICAgICBtdXRhYmxlSW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICBzaGFsbG93SW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMsXG4gICAgICAgIHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyxcbiAgICAgICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMsXG4gICAgICAgIHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnNcbiAgICBdO1xufVxuY29uc3QgW211dGFibGVJbnN0cnVtZW50YXRpb25zLCByZWFkb25seUluc3RydW1lbnRhdGlvbnMsIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zLCBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXSA9IC8qICNfX1BVUkVfXyovIGNyZWF0ZUluc3RydW1lbnRhdGlvbnMoKTtcbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5LCBzaGFsbG93KSB7XG4gICAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IHNoYWxsb3dcbiAgICAgICAgPyBpc1JlYWRvbmx5XG4gICAgICAgICAgICA/IHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnNcbiAgICAgICAgICAgIDogc2hhbGxvd0luc3RydW1lbnRhdGlvbnNcbiAgICAgICAgOiBpc1JlYWRvbmx5XG4gICAgICAgICAgICA/IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xuICAgICAgICAgICAgOiBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucztcbiAgICByZXR1cm4gKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4ge1xuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFDVElWRSAqLykge1xuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBRE9OTFkgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXRcbiAgICAgICAgICAgID8gaW5zdHJ1bWVudGF0aW9uc1xuICAgICAgICAgICAgOiB0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xuICAgIH07XG59XG5jb25zdCBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICAgIGdldDogLyojX19QVVJFX18qLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIGZhbHNlKVxufTtcbmNvbnN0IHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gICAgZ2V0OiAvKiNfX1BVUkVfXyovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgdHJ1ZSlcbn07XG5jb25zdCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgICBnZXQ6IC8qI19fUFVSRV9fKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIGZhbHNlKVxufTtcbmNvbnN0IHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgICBnZXQ6IC8qI19fUFVSRV9fKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKHRydWUsIHRydWUpXG59O1xuZnVuY3Rpb24gY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSkge1xuICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gICAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xuICAgICAgICBjb25zdCB0eXBlID0gdG9SYXdUeXBlKHRhcmdldCk7XG4gICAgICAgIGNvbnNvbGUud2FybihgUmVhY3RpdmUgJHt0eXBlfSBjb250YWlucyBib3RoIHRoZSByYXcgYW5kIHJlYWN0aXZlIGAgK1xuICAgICAgICAgICAgYHZlcnNpb25zIG9mIHRoZSBzYW1lIG9iamVjdCR7dHlwZSA9PT0gYE1hcGAgPyBgIGFzIGtleXNgIDogYGB9LCBgICtcbiAgICAgICAgICAgIGB3aGljaCBjYW4gbGVhZCB0byBpbmNvbnNpc3RlbmNpZXMuIGAgK1xuICAgICAgICAgICAgYEF2b2lkIGRpZmZlcmVudGlhdGluZyBiZXR3ZWVuIHRoZSByYXcgYW5kIHJlYWN0aXZlIHZlcnNpb25zIGAgK1xuICAgICAgICAgICAgYG9mIGFuIG9iamVjdCBhbmQgb25seSB1c2UgdGhlIHJlYWN0aXZlIHZlcnNpb24gaWYgcG9zc2libGUuYCk7XG4gICAgfVxufVxuXG5jb25zdCByZWFjdGl2ZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmVhZG9ubHlNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5TWFwID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xuICAgIHN3aXRjaCAocmF3VHlwZSkge1xuICAgICAgICBjYXNlICdPYmplY3QnOlxuICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gMSAvKiBUYXJnZXRUeXBlLkNPTU1PTiAqLztcbiAgICAgICAgY2FzZSAnTWFwJzpcbiAgICAgICAgY2FzZSAnU2V0JzpcbiAgICAgICAgY2FzZSAnV2Vha01hcCc6XG4gICAgICAgIGNhc2UgJ1dlYWtTZXQnOlxuICAgICAgICAgICAgcmV0dXJuIDIgLyogVGFyZ2V0VHlwZS5DT0xMRUNUSU9OICovO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIDAgLyogVGFyZ2V0VHlwZS5JTlZBTElEICovO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRhcmdldFR5cGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWVbXCJfX3Zfc2tpcFwiIC8qIFJlYWN0aXZlRmxhZ3MuU0tJUCAqL10gfHwgIU9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpXG4gICAgICAgID8gMCAvKiBUYXJnZXRUeXBlLklOVkFMSUQgKi9cbiAgICAgICAgOiB0YXJnZXRUeXBlTWFwKHRvUmF3VHlwZSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gcmVhY3RpdmUodGFyZ2V0KSB7XG4gICAgLy8gaWYgdHJ5aW5nIHRvIG9ic2VydmUgYSByZWFkb25seSBwcm94eSwgcmV0dXJuIHRoZSByZWFkb25seSB2ZXJzaW9uLlxuICAgIGlmIChpc1JlYWRvbmx5KHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgZmFsc2UsIG11dGFibGVIYW5kbGVycywgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycywgcmVhY3RpdmVNYXApO1xufVxuLyoqXG4gKiBSZXR1cm4gYSBzaGFsbG93bHktcmVhY3RpdmUgY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LCB3aGVyZSBvbmx5IHRoZSByb290XG4gKiBsZXZlbCBwcm9wZXJ0aWVzIGFyZSByZWFjdGl2ZS4gSXQgYWxzbyBkb2VzIG5vdCBhdXRvLXVud3JhcCByZWZzIChldmVuIGF0IHRoZVxuICogcm9vdCBsZXZlbCkuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dSZWFjdGl2ZSh0YXJnZXQpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBmYWxzZSwgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMsIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsIHNoYWxsb3dSZWFjdGl2ZU1hcCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSByZWFkb25seSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBvYmplY3QuIE5vdGUgdGhlIHJldHVybmVkIGNvcHkgaXMgbm90XG4gKiBtYWRlIHJlYWN0aXZlLCBidXQgYHJlYWRvbmx5YCBjYW4gYmUgY2FsbGVkIG9uIGFuIGFscmVhZHkgcmVhY3RpdmUgb2JqZWN0LlxuICovXG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCB0cnVlLCByZWFkb25seUhhbmRsZXJzLCByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycywgcmVhZG9ubHlNYXApO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgcmVhY3RpdmUtY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LCB3aGVyZSBvbmx5IHRoZSByb290IGxldmVsXG4gKiBwcm9wZXJ0aWVzIGFyZSByZWFkb25seSwgYW5kIGRvZXMgTk9UIHVud3JhcCByZWZzIG5vciByZWN1cnNpdmVseSBjb252ZXJ0XG4gKiByZXR1cm5lZCBwcm9wZXJ0aWVzLlxuICogVGhpcyBpcyB1c2VkIGZvciBjcmVhdGluZyB0aGUgcHJvcHMgcHJveHkgb2JqZWN0IGZvciBzdGF0ZWZ1bCBjb21wb25lbnRzLlxuICovXG5mdW5jdGlvbiBzaGFsbG93UmVhZG9ubHkodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgdHJ1ZSwgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMsIHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycywgc2hhbGxvd1JlYWRvbmx5TWFwKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seSwgYmFzZUhhbmRsZXJzLCBjb2xsZWN0aW9uSGFuZGxlcnMsIHByb3h5TWFwKSB7XG4gICAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgdmFsdWUgY2Fubm90IGJlIG1hZGUgcmVhY3RpdmU6ICR7U3RyaW5nKHRhcmdldCl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgLy8gdGFyZ2V0IGlzIGFscmVhZHkgYSBQcm94eSwgcmV0dXJuIGl0LlxuICAgIC8vIGV4Y2VwdGlvbjogY2FsbGluZyByZWFkb25seSgpIG9uIGEgcmVhY3RpdmUgb2JqZWN0XG4gICAgaWYgKHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL10gJiZcbiAgICAgICAgIShpc1JlYWRvbmx5ICYmIHRhcmdldFtcIl9fdl9pc1JlYWN0aXZlXCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFDVElWRSAqL10pKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIC8vIHRhcmdldCBhbHJlYWR5IGhhcyBjb3JyZXNwb25kaW5nIFByb3h5XG4gICAgY29uc3QgZXhpc3RpbmdQcm94eSA9IHByb3h5TWFwLmdldCh0YXJnZXQpO1xuICAgIGlmIChleGlzdGluZ1Byb3h5KSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ1Byb3h5O1xuICAgIH1cbiAgICAvLyBvbmx5IHNwZWNpZmljIHZhbHVlIHR5cGVzIGNhbiBiZSBvYnNlcnZlZC5cbiAgICBjb25zdCB0YXJnZXRUeXBlID0gZ2V0VGFyZ2V0VHlwZSh0YXJnZXQpO1xuICAgIGlmICh0YXJnZXRUeXBlID09PSAwIC8qIFRhcmdldFR5cGUuSU5WQUxJRCAqLykge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eSh0YXJnZXQsIHRhcmdldFR5cGUgPT09IDIgLyogVGFyZ2V0VHlwZS5DT0xMRUNUSU9OICovID8gY29sbGVjdGlvbkhhbmRsZXJzIDogYmFzZUhhbmRsZXJzKTtcbiAgICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gICAgcmV0dXJuIHByb3h5O1xufVxuZnVuY3Rpb24gaXNSZWFjdGl2ZSh2YWx1ZSkge1xuICAgIGlmIChpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZVtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL10pO1xuICAgIH1cbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBQ1RJVkUgKi9dKTtcbn1cbmZ1bmN0aW9uIGlzUmVhZG9ubHkodmFsdWUpIHtcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFkb25seVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBRE9OTFkgKi9dKTtcbn1cbmZ1bmN0aW9uIGlzU2hhbGxvdyh2YWx1ZSkge1xuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1NoYWxsb3dcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1NIQUxMT1cgKi9dKTtcbn1cbmZ1bmN0aW9uIGlzUHJveHkodmFsdWUpIHtcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZSkgfHwgaXNSZWFkb25seSh2YWx1ZSk7XG59XG5mdW5jdGlvbiB0b1JhdyhvYnNlcnZlZCkge1xuICAgIGNvbnN0IHJhdyA9IG9ic2VydmVkICYmIG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXTtcbiAgICByZXR1cm4gcmF3ID8gdG9SYXcocmF3KSA6IG9ic2VydmVkO1xufVxuZnVuY3Rpb24gbWFya1Jhdyh2YWx1ZSkge1xuICAgIGRlZih2YWx1ZSwgXCJfX3Zfc2tpcFwiIC8qIFJlYWN0aXZlRmxhZ3MuU0tJUCAqLywgdHJ1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgdG9SZWFjdGl2ZSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhY3RpdmUodmFsdWUpIDogdmFsdWU7XG5jb25zdCB0b1JlYWRvbmx5ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFkb25seSh2YWx1ZSkgOiB2YWx1ZTtcblxuZnVuY3Rpb24gdHJhY2tSZWZWYWx1ZShyZWYpIHtcbiAgICBpZiAoc2hvdWxkVHJhY2sgJiYgYWN0aXZlRWZmZWN0KSB7XG4gICAgICAgIHJlZiA9IHRvUmF3KHJlZik7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHRyYWNrRWZmZWN0cyhyZWYuZGVwIHx8IChyZWYuZGVwID0gY3JlYXRlRGVwKCkpLCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiByZWYsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLFxuICAgICAgICAgICAgICAgIGtleTogJ3ZhbHVlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFja0VmZmVjdHMocmVmLmRlcCB8fCAocmVmLmRlcCA9IGNyZWF0ZURlcCgpKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyUmVmVmFsdWUocmVmLCBuZXdWYWwpIHtcbiAgICByZWYgPSB0b1JhdyhyZWYpO1xuICAgIGlmIChyZWYuZGVwKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHRyaWdnZXJFZmZlY3RzKHJlZi5kZXAsIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHJlZixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLyxcbiAgICAgICAgICAgICAgICBrZXk6ICd2YWx1ZScsXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0cyhyZWYuZGVwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGlzUmVmKHIpIHtcbiAgICByZXR1cm4gISEociAmJiByLl9fdl9pc1JlZiA9PT0gdHJ1ZSk7XG59XG5mdW5jdGlvbiByZWYodmFsdWUpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCBmYWxzZSk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVmKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWYocmF3VmFsdWUsIHNoYWxsb3cpIHtcbiAgICBpZiAoaXNSZWYocmF3VmFsdWUpKSB7XG4gICAgICAgIHJldHVybiByYXdWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcbn1cbmNsYXNzIFJlZkltcGwge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBfX3ZfaXNTaGFsbG93KSB7XG4gICAgICAgIHRoaXMuX192X2lzU2hhbGxvdyA9IF9fdl9pc1NoYWxsb3c7XG4gICAgICAgIHRoaXMuZGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gX192X2lzU2hhbGxvdyA/IHZhbHVlIDogdG9SYXcodmFsdWUpO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IF9fdl9pc1NoYWxsb3cgPyB2YWx1ZSA6IHRvUmVhY3RpdmUodmFsdWUpO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHRyYWNrUmVmVmFsdWUodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICB9XG4gICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgICAgICBjb25zdCB1c2VEaXJlY3RWYWx1ZSA9IHRoaXMuX192X2lzU2hhbGxvdyB8fCBpc1NoYWxsb3cobmV3VmFsKSB8fCBpc1JlYWRvbmx5KG5ld1ZhbCk7XG4gICAgICAgIG5ld1ZhbCA9IHVzZURpcmVjdFZhbHVlID8gbmV3VmFsIDogdG9SYXcobmV3VmFsKTtcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQobmV3VmFsLCB0aGlzLl9yYXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsO1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbCA6IHRvUmVhY3RpdmUobmV3VmFsKTtcbiAgICAgICAgICAgIHRyaWdnZXJSZWZWYWx1ZSh0aGlzLCBuZXdWYWwpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYpIHtcbiAgICB0cmlnZ2VyUmVmVmFsdWUocmVmLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyByZWYudmFsdWUgOiB2b2lkIDApO1xufVxuZnVuY3Rpb24gdW5yZWYocmVmKSB7XG4gICAgcmV0dXJuIGlzUmVmKHJlZikgPyByZWYudmFsdWUgOiByZWY7XG59XG5jb25zdCBzaGFsbG93VW53cmFwSGFuZGxlcnMgPSB7XG4gICAgZ2V0OiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB1bnJlZihSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpKSxcbiAgICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmIChpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xuICAgICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb3h5UmVmcyhvYmplY3RXaXRoUmVmcykge1xuICAgIHJldHVybiBpc1JlYWN0aXZlKG9iamVjdFdpdGhSZWZzKVxuICAgICAgICA/IG9iamVjdFdpdGhSZWZzXG4gICAgICAgIDogbmV3IFByb3h5KG9iamVjdFdpdGhSZWZzLCBzaGFsbG93VW53cmFwSGFuZGxlcnMpO1xufVxuY2xhc3MgQ3VzdG9tUmVmSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZmFjdG9yeSkge1xuICAgICAgICB0aGlzLmRlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IGdldCwgc2V0IH0gPSBmYWN0b3J5KCgpID0+IHRyYWNrUmVmVmFsdWUodGhpcyksICgpID0+IHRyaWdnZXJSZWZWYWx1ZSh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2dldCA9IGdldDtcbiAgICAgICAgdGhpcy5fc2V0ID0gc2V0O1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXQoKTtcbiAgICB9XG4gICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgICAgICB0aGlzLl9zZXQobmV3VmFsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjdXN0b21SZWYoZmFjdG9yeSkge1xuICAgIHJldHVybiBuZXcgQ3VzdG9tUmVmSW1wbChmYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIHRvUmVmcyhvYmplY3QpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1Byb3h5KG9iamVjdCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGB0b1JlZnMoKSBleHBlY3RzIGEgcmVhY3RpdmUgb2JqZWN0IGJ1dCByZWNlaXZlZCBhIHBsYWluIG9uZS5gKTtcbiAgICB9XG4gICAgY29uc3QgcmV0ID0gaXNBcnJheShvYmplY3QpID8gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpIDoge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIHJldFtrZXldID0gdG9SZWYob2JqZWN0LCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuY2xhc3MgT2JqZWN0UmVmSW1wbCB7XG4gICAgY29uc3RydWN0b3IoX29iamVjdCwgX2tleSwgX2RlZmF1bHRWYWx1ZSkge1xuICAgICAgICB0aGlzLl9vYmplY3QgPSBfb2JqZWN0O1xuICAgICAgICB0aGlzLl9rZXkgPSBfa2V5O1xuICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBfZGVmYXVsdFZhbHVlO1xuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdGhpcy5fb2JqZWN0W3RoaXMuX2tleV07XG4gICAgICAgIHJldHVybiB2YWwgPT09IHVuZGVmaW5lZCA/IHRoaXMuX2RlZmF1bHRWYWx1ZSA6IHZhbDtcbiAgICB9XG4gICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgICAgICB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XSA9IG5ld1ZhbDtcbiAgICB9XG59XG5mdW5jdGlvbiB0b1JlZihvYmplY3QsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgY29uc3QgdmFsID0gb2JqZWN0W2tleV07XG4gICAgcmV0dXJuIGlzUmVmKHZhbClcbiAgICAgICAgPyB2YWxcbiAgICAgICAgOiBuZXcgT2JqZWN0UmVmSW1wbChvYmplY3QsIGtleSwgZGVmYXVsdFZhbHVlKTtcbn1cblxudmFyIF9hO1xuY2xhc3MgQ29tcHV0ZWRSZWZJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihnZXR0ZXIsIF9zZXR0ZXIsIGlzUmVhZG9ubHksIGlzU1NSKSB7XG4gICAgICAgIHRoaXMuX3NldHRlciA9IF9zZXR0ZXI7XG4gICAgICAgIHRoaXMuZGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgICAgIHRoaXNbX2FdID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZ2V0dGVyLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyaWdnZXJSZWZWYWx1ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWZmZWN0LmNvbXB1dGVkID0gdGhpcztcbiAgICAgICAgdGhpcy5lZmZlY3QuYWN0aXZlID0gdGhpcy5fY2FjaGVhYmxlID0gIWlzU1NSO1xuICAgICAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovXSA9IGlzUmVhZG9ubHk7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgLy8gdGhlIGNvbXB1dGVkIHJlZiBtYXkgZ2V0IHdyYXBwZWQgYnkgb3RoZXIgcHJveGllcyBlLmcuIHJlYWRvbmx5KCkgIzMzNzZcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRvUmF3KHRoaXMpO1xuICAgICAgICB0cmFja1JlZlZhbHVlKHNlbGYpO1xuICAgICAgICBpZiAoc2VsZi5fZGlydHkgfHwgIXNlbGYuX2NhY2hlYWJsZSkge1xuICAgICAgICAgICAgc2VsZi5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuX3ZhbHVlID0gc2VsZi5lZmZlY3QucnVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbHVlO1xuICAgIH1cbiAgICBzZXQgdmFsdWUobmV3VmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2V0dGVyKG5ld1ZhbHVlKTtcbiAgICB9XG59XG5fYSA9IFwiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovO1xuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMsIGlzU1NSID0gZmFsc2UpIHtcbiAgICBsZXQgZ2V0dGVyO1xuICAgIGxldCBzZXR0ZXI7XG4gICAgY29uc3Qgb25seUdldHRlciA9IGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKTtcbiAgICBpZiAob25seUdldHRlcikge1xuICAgICAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnM7XG4gICAgICAgIHNldHRlciA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgPyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCB2YWx1ZSBpcyByZWFkb25seScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBOT09QO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLmdldDtcbiAgICAgICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcbiAgICB9XG4gICAgY29uc3QgY1JlZiA9IG5ldyBDb21wdXRlZFJlZkltcGwoZ2V0dGVyLCBzZXR0ZXIsIG9ubHlHZXR0ZXIgfHwgIXNldHRlciwgaXNTU1IpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZGVidWdPcHRpb25zICYmICFpc1NTUikge1xuICAgICAgICBjUmVmLmVmZmVjdC5vblRyYWNrID0gZGVidWdPcHRpb25zLm9uVHJhY2s7XG4gICAgICAgIGNSZWYuZWZmZWN0Lm9uVHJpZ2dlciA9IGRlYnVnT3B0aW9ucy5vblRyaWdnZXI7XG4gICAgfVxuICAgIHJldHVybiBjUmVmO1xufVxuXG5jb25zdCBzdGFjayA9IFtdO1xuZnVuY3Rpb24gcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKSB7XG4gICAgc3RhY2sucHVzaCh2bm9kZSk7XG59XG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcbiAgICBzdGFjay5wb3AoKTtcbn1cbmZ1bmN0aW9uIHdhcm4kMShtc2csIC4uLmFyZ3MpIHtcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIGF2b2lkIHByb3BzIGZvcm1hdHRpbmcgb3Igd2FybiBoYW5kbGVyIHRyYWNraW5nIGRlcHMgdGhhdCBtaWdodCBiZSBtdXRhdGVkXG4gICAgLy8gZHVyaW5nIHBhdGNoLCBsZWFkaW5nIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBzdGFjay5sZW5ndGggPyBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5jb21wb25lbnQgOiBudWxsO1xuICAgIGNvbnN0IGFwcFdhcm5IYW5kbGVyID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcud2FybkhhbmRsZXI7XG4gICAgY29uc3QgdHJhY2UgPSBnZXRDb21wb25lbnRUcmFjZSgpO1xuICAgIGlmIChhcHBXYXJuSGFuZGxlcikge1xuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwV2FybkhhbmRsZXIsIGluc3RhbmNlLCAxMSAvKiBFcnJvckNvZGVzLkFQUF9XQVJOX0hBTkRMRVIgKi8sIFtcbiAgICAgICAgICAgIG1zZyArIGFyZ3Muam9pbignJyksXG4gICAgICAgICAgICBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSxcbiAgICAgICAgICAgIHRyYWNlXG4gICAgICAgICAgICAgICAgLm1hcCgoeyB2bm9kZSB9KSA9PiBgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgdm5vZGUudHlwZSl9PmApXG4gICAgICAgICAgICAgICAgLmpvaW4oJ1xcbicpLFxuICAgICAgICAgICAgdHJhY2VcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB3YXJuQXJncyA9IFtgW1Z1ZSB3YXJuXTogJHttc2d9YCwgLi4uYXJnc107XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodHJhY2UubGVuZ3RoICYmXG4gICAgICAgICAgICAvLyBhdm9pZCBzcGFtbWluZyBjb25zb2xlIGR1cmluZyB0ZXN0c1xuICAgICAgICAgICAgIWZhbHNlKSB7XG4gICAgICAgICAgICB3YXJuQXJncy5wdXNoKGBcXG5gLCAuLi5mb3JtYXRUcmFjZSh0cmFjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUud2FybiguLi53YXJuQXJncyk7XG4gICAgfVxuICAgIHJlc2V0VHJhY2tpbmcoKTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFRyYWNlKCkge1xuICAgIGxldCBjdXJyZW50Vk5vZGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAoIWN1cnJlbnRWTm9kZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8vIHdlIGNhbid0IGp1c3QgdXNlIHRoZSBzdGFjayBiZWNhdXNlIGl0IHdpbGwgYmUgaW5jb21wbGV0ZSBkdXJpbmcgdXBkYXRlc1xuICAgIC8vIHRoYXQgZGlkIG5vdCBzdGFydCBmcm9tIHRoZSByb290LiBSZS1jb25zdHJ1Y3QgdGhlIHBhcmVudCBjaGFpbiB1c2luZ1xuICAgIC8vIGluc3RhbmNlIHBhcmVudCBwb2ludGVycy5cbiAgICBjb25zdCBub3JtYWxpemVkU3RhY2sgPSBbXTtcbiAgICB3aGlsZSAoY3VycmVudFZOb2RlKSB7XG4gICAgICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3Qudm5vZGUgPT09IGN1cnJlbnRWTm9kZSkge1xuICAgICAgICAgICAgbGFzdC5yZWN1cnNlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRTdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAgICB2bm9kZTogY3VycmVudFZOb2RlLFxuICAgICAgICAgICAgICAgIHJlY3Vyc2VDb3VudDogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50SW5zdGFuY2UgPSBjdXJyZW50Vk5vZGUuY29tcG9uZW50ICYmIGN1cnJlbnRWTm9kZS5jb21wb25lbnQucGFyZW50O1xuICAgICAgICBjdXJyZW50Vk5vZGUgPSBwYXJlbnRJbnN0YW5jZSAmJiBwYXJlbnRJbnN0YW5jZS52bm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRTdGFjaztcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBmb3JtYXRUcmFjZSh0cmFjZSkge1xuICAgIGNvbnN0IGxvZ3MgPSBbXTtcbiAgICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xuICAgICAgICBsb2dzLnB1c2goLi4uKGkgPT09IDAgPyBbXSA6IFtgXFxuYF0pLCAuLi5mb3JtYXRUcmFjZUVudHJ5KGVudHJ5KSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxvZ3M7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZUVudHJ5KHsgdm5vZGUsIHJlY3Vyc2VDb3VudCB9KSB7XG4gICAgY29uc3QgcG9zdGZpeCA9IHJlY3Vyc2VDb3VudCA+IDAgPyBgLi4uICgke3JlY3Vyc2VDb3VudH0gcmVjdXJzaXZlIGNhbGxzKWAgOiBgYDtcbiAgICBjb25zdCBpc1Jvb3QgPSB2bm9kZS5jb21wb25lbnQgPyB2bm9kZS5jb21wb25lbnQucGFyZW50ID09IG51bGwgOiBmYWxzZTtcbiAgICBjb25zdCBvcGVuID0gYCBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKHZub2RlLmNvbXBvbmVudCwgdm5vZGUudHlwZSwgaXNSb290KX1gO1xuICAgIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcbiAgICByZXR1cm4gdm5vZGUucHJvcHNcbiAgICAgICAgPyBbb3BlbiwgLi4uZm9ybWF0UHJvcHModm5vZGUucHJvcHMpLCBjbG9zZV1cbiAgICAgICAgOiBbb3BlbiArIGNsb3NlXTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xuICAgIGNvbnN0IHJlcyA9IFtdO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gICAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIHJlcy5wdXNoKC4uLmZvcm1hdFByb3Aoa2V5LCBwcm9wc1trZXldKSk7XG4gICAgfSk7XG4gICAgaWYgKGtleXMubGVuZ3RoID4gMykge1xuICAgICAgICByZXMucHVzaChgIC4uLmApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fFxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyB8fFxuICAgICAgICB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PSR7dmFsdWV9YF07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IGZvcm1hdFByb3Aoa2V5LCB0b1Jhdyh2YWx1ZS52YWx1ZSksIHRydWUpO1xuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1SZWY8YCwgdmFsdWUsIGA+YF07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09YCwgdmFsdWVdO1xuICAgIH1cbn1cblxuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyA9IHtcbiAgICBbXCJzcFwiIC8qIExpZmVjeWNsZUhvb2tzLlNFUlZFUl9QUkVGRVRDSCAqL106ICdzZXJ2ZXJQcmVmZXRjaCBob29rJyxcbiAgICBbXCJiY1wiIC8qIExpZmVjeWNsZUhvb2tzLkJFRk9SRV9DUkVBVEUgKi9dOiAnYmVmb3JlQ3JlYXRlIGhvb2snLFxuICAgIFtcImNcIiAvKiBMaWZlY3ljbGVIb29rcy5DUkVBVEVEICovXTogJ2NyZWF0ZWQgaG9vaycsXG4gICAgW1wiYm1cIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfTU9VTlQgKi9dOiAnYmVmb3JlTW91bnQgaG9vaycsXG4gICAgW1wibVwiIC8qIExpZmVjeWNsZUhvb2tzLk1PVU5URUQgKi9dOiAnbW91bnRlZCBob29rJyxcbiAgICBbXCJidVwiIC8qIExpZmVjeWNsZUhvb2tzLkJFRk9SRV9VUERBVEUgKi9dOiAnYmVmb3JlVXBkYXRlIGhvb2snLFxuICAgIFtcInVcIiAvKiBMaWZlY3ljbGVIb29rcy5VUERBVEVEICovXTogJ3VwZGF0ZWQnLFxuICAgIFtcImJ1bVwiIC8qIExpZmVjeWNsZUhvb2tzLkJFRk9SRV9VTk1PVU5UICovXTogJ2JlZm9yZVVubW91bnQgaG9vaycsXG4gICAgW1widW1cIiAvKiBMaWZlY3ljbGVIb29rcy5VTk1PVU5URUQgKi9dOiAndW5tb3VudGVkIGhvb2snLFxuICAgIFtcImFcIiAvKiBMaWZlY3ljbGVIb29rcy5BQ1RJVkFURUQgKi9dOiAnYWN0aXZhdGVkIGhvb2snLFxuICAgIFtcImRhXCIgLyogTGlmZWN5Y2xlSG9va3MuREVBQ1RJVkFURUQgKi9dOiAnZGVhY3RpdmF0ZWQgaG9vaycsXG4gICAgW1wiZWNcIiAvKiBMaWZlY3ljbGVIb29rcy5FUlJPUl9DQVBUVVJFRCAqL106ICdlcnJvckNhcHR1cmVkIGhvb2snLFxuICAgIFtcInJ0Y1wiIC8qIExpZmVjeWNsZUhvb2tzLlJFTkRFUl9UUkFDS0VEICovXTogJ3JlbmRlclRyYWNrZWQgaG9vaycsXG4gICAgW1wicnRnXCIgLyogTGlmZWN5Y2xlSG9va3MuUkVOREVSX1RSSUdHRVJFRCAqL106ICdyZW5kZXJUcmlnZ2VyZWQgaG9vaycsXG4gICAgWzAgLyogRXJyb3JDb2Rlcy5TRVRVUF9GVU5DVElPTiAqL106ICdzZXR1cCBmdW5jdGlvbicsXG4gICAgWzEgLyogRXJyb3JDb2Rlcy5SRU5ERVJfRlVOQ1RJT04gKi9dOiAncmVuZGVyIGZ1bmN0aW9uJyxcbiAgICBbMiAvKiBFcnJvckNvZGVzLldBVENIX0dFVFRFUiAqL106ICd3YXRjaGVyIGdldHRlcicsXG4gICAgWzMgLyogRXJyb3JDb2Rlcy5XQVRDSF9DQUxMQkFDSyAqL106ICd3YXRjaGVyIGNhbGxiYWNrJyxcbiAgICBbNCAvKiBFcnJvckNvZGVzLldBVENIX0NMRUFOVVAgKi9dOiAnd2F0Y2hlciBjbGVhbnVwIGZ1bmN0aW9uJyxcbiAgICBbNSAvKiBFcnJvckNvZGVzLk5BVElWRV9FVkVOVF9IQU5ETEVSICovXTogJ25hdGl2ZSBldmVudCBoYW5kbGVyJyxcbiAgICBbNiAvKiBFcnJvckNvZGVzLkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovXTogJ2NvbXBvbmVudCBldmVudCBoYW5kbGVyJyxcbiAgICBbNyAvKiBFcnJvckNvZGVzLlZOT0RFX0hPT0sgKi9dOiAndm5vZGUgaG9vaycsXG4gICAgWzggLyogRXJyb3JDb2Rlcy5ESVJFQ1RJVkVfSE9PSyAqL106ICdkaXJlY3RpdmUgaG9vaycsXG4gICAgWzkgLyogRXJyb3JDb2Rlcy5UUkFOU0lUSU9OX0hPT0sgKi9dOiAndHJhbnNpdGlvbiBob29rJyxcbiAgICBbMTAgLyogRXJyb3JDb2Rlcy5BUFBfRVJST1JfSEFORExFUiAqL106ICdhcHAgZXJyb3JIYW5kbGVyJyxcbiAgICBbMTEgLyogRXJyb3JDb2Rlcy5BUFBfV0FSTl9IQU5ETEVSICovXTogJ2FwcCB3YXJuSGFuZGxlcicsXG4gICAgWzEyIC8qIEVycm9yQ29kZXMuRlVOQ1RJT05fUkVGICovXTogJ3JlZiBmdW5jdGlvbicsXG4gICAgWzEzIC8qIEVycm9yQ29kZXMuQVNZTkNfQ09NUE9ORU5UX0xPQURFUiAqL106ICdhc3luYyBjb21wb25lbnQgbG9hZGVyJyxcbiAgICBbMTQgLyogRXJyb3JDb2Rlcy5TQ0hFRFVMRVIgKi9dOiAnc2NoZWR1bGVyIGZsdXNoLiBUaGlzIGlzIGxpa2VseSBhIFZ1ZSBpbnRlcm5hbHMgYnVnLiAnICtcbiAgICAgICAgJ1BsZWFzZSBvcGVuIGFuIGlzc3VlIGF0IGh0dHBzOi8vbmV3LWlzc3VlLnZ1ZWpzLm9yZy8/cmVwbz12dWVqcy9jb3JlJ1xufTtcbmZ1bmN0aW9uIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcbiAgICBsZXQgcmVzO1xuICAgIHRyeSB7XG4gICAgICAgIHJlcyA9IGFyZ3MgPyBmbiguLi5hcmdzKSA6IGZuKCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncyk7XG4gICAgICAgIGlmIChyZXMgJiYgaXNQcm9taXNlKHJlcykpIHtcbiAgICAgICAgICAgIHJlcy5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZXMucHVzaChjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbltpXSwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUsIHRocm93SW5EZXYgPSB0cnVlKSB7XG4gICAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgIGxldCBjdXIgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gICAgICAgIC8vIHRoZSBleHBvc2VkIGluc3RhbmNlIGlzIHRoZSByZW5kZXIgcHJveHkgdG8ga2VlcCBpdCBjb25zaXN0ZW50IHdpdGggMi54XG4gICAgICAgIGNvbnN0IGV4cG9zZWRJbnN0YW5jZSA9IGluc3RhbmNlLnByb3h5O1xuICAgICAgICAvLyBpbiBwcm9kdWN0aW9uIHRoZSBob29rIHJlY2VpdmVzIG9ubHkgdGhlIGVycm9yIGNvZGVcbiAgICAgICAgY29uc3QgZXJyb3JJbmZvID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gRXJyb3JUeXBlU3RyaW5nc1t0eXBlXSA6IHR5cGU7XG4gICAgICAgIHdoaWxlIChjdXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yQ2FwdHVyZWRIb29rcyA9IGN1ci5lYztcbiAgICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9yQ2FwdHVyZWRIb29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzW2ldKGVyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm8pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VyID0gY3VyLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcHAtbGV2ZWwgaGFuZGxpbmdcbiAgICAgICAgY29uc3QgYXBwRXJyb3JIYW5kbGVyID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuZXJyb3JIYW5kbGVyO1xuICAgICAgICBpZiAoYXBwRXJyb3JIYW5kbGVyKSB7XG4gICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoYXBwRXJyb3JIYW5kbGVyLCBudWxsLCAxMCAvKiBFcnJvckNvZGVzLkFQUF9FUlJPUl9IQU5ETEVSICovLCBbZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mb10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2KTtcbn1cbmZ1bmN0aW9uIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29uc3QgaW5mbyA9IEVycm9yVHlwZVN0cmluZ3NbdHlwZV07XG4gICAgICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChjb250ZXh0Vk5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHdhcm4kMShgVW5oYW5kbGVkIGVycm9yJHtpbmZvID8gYCBkdXJpbmcgZXhlY3V0aW9uIG9mICR7aW5mb31gIDogYGB9YCk7XG4gICAgICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3Jhc2ggaW4gZGV2IGJ5IGRlZmF1bHQgc28gaXQncyBtb3JlIG5vdGljZWFibGVcbiAgICAgICAgaWYgKHRocm93SW5EZXYpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gcmVjb3ZlciBpbiBwcm9kIHRvIHJlZHVjZSB0aGUgaW1wYWN0IG9uIGVuZC11c2VyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG59XG5cbmxldCBpc0ZsdXNoaW5nID0gZmFsc2U7XG5sZXQgaXNGbHVzaFBlbmRpbmcgPSBmYWxzZTtcbmNvbnN0IHF1ZXVlID0gW107XG5sZXQgZmx1c2hJbmRleCA9IDA7XG5jb25zdCBwZW5kaW5nUG9zdEZsdXNoQ2JzID0gW107XG5sZXQgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcbmxldCBwb3N0Rmx1c2hJbmRleCA9IDA7XG5jb25zdCByZXNvbHZlZFByb21pc2UgPSAvKiNfX1BVUkVfXyovIFByb21pc2UucmVzb2x2ZSgpO1xubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xuZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgICBjb25zdCBwID0gY3VycmVudEZsdXNoUHJvbWlzZSB8fCByZXNvbHZlZFByb21pc2U7XG4gICAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcbn1cbi8vICMyNzY4XG4vLyBVc2UgYmluYXJ5LXNlYXJjaCB0byBmaW5kIGEgc3VpdGFibGUgcG9zaXRpb24gaW4gdGhlIHF1ZXVlLFxuLy8gc28gdGhhdCB0aGUgcXVldWUgbWFpbnRhaW5zIHRoZSBpbmNyZWFzaW5nIG9yZGVyIG9mIGpvYidzIGlkLFxuLy8gd2hpY2ggY2FuIHByZXZlbnQgdGhlIGpvYiBmcm9tIGJlaW5nIHNraXBwZWQgYW5kIGFsc28gY2FuIGF2b2lkIHJlcGVhdGVkIHBhdGNoaW5nLlxuZnVuY3Rpb24gZmluZEluc2VydGlvbkluZGV4KGlkKSB7XG4gICAgLy8gdGhlIHN0YXJ0IGluZGV4IHNob3VsZCBiZSBgZmx1c2hJbmRleCArIDFgXG4gICAgbGV0IHN0YXJ0ID0gZmx1c2hJbmRleCArIDE7XG4gICAgbGV0IGVuZCA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgY29uc3QgbWlkZGxlID0gKHN0YXJ0ICsgZW5kKSA+Pj4gMTtcbiAgICAgICAgY29uc3QgbWlkZGxlSm9iSWQgPSBnZXRJZChxdWV1ZVttaWRkbGVdKTtcbiAgICAgICAgbWlkZGxlSm9iSWQgPCBpZCA/IChzdGFydCA9IG1pZGRsZSArIDEpIDogKGVuZCA9IG1pZGRsZSk7XG4gICAgfVxuICAgIHJldHVybiBzdGFydDtcbn1cbmZ1bmN0aW9uIHF1ZXVlSm9iKGpvYikge1xuICAgIC8vIHRoZSBkZWR1cGUgc2VhcmNoIHVzZXMgdGhlIHN0YXJ0SW5kZXggYXJndW1lbnQgb2YgQXJyYXkuaW5jbHVkZXMoKVxuICAgIC8vIGJ5IGRlZmF1bHQgdGhlIHNlYXJjaCBpbmRleCBpbmNsdWRlcyB0aGUgY3VycmVudCBqb2IgdGhhdCBpcyBiZWluZyBydW5cbiAgICAvLyBzbyBpdCBjYW5ub3QgcmVjdXJzaXZlbHkgdHJpZ2dlciBpdHNlbGYgYWdhaW4uXG4gICAgLy8gaWYgdGhlIGpvYiBpcyBhIHdhdGNoKCkgY2FsbGJhY2ssIHRoZSBzZWFyY2ggd2lsbCBzdGFydCB3aXRoIGEgKzEgaW5kZXggdG9cbiAgICAvLyBhbGxvdyBpdCByZWN1cnNpdmVseSB0cmlnZ2VyIGl0c2VsZiAtIGl0IGlzIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG9cbiAgICAvLyBlbnN1cmUgaXQgZG9lc24ndCBlbmQgdXAgaW4gYW4gaW5maW5pdGUgbG9vcC5cbiAgICBpZiAoIXF1ZXVlLmxlbmd0aCB8fFxuICAgICAgICAhcXVldWUuaW5jbHVkZXMoam9iLCBpc0ZsdXNoaW5nICYmIGpvYi5hbGxvd1JlY3Vyc2UgPyBmbHVzaEluZGV4ICsgMSA6IGZsdXNoSW5kZXgpKSB7XG4gICAgICAgIGlmIChqb2IuaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVldWUucHVzaChqb2IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVldWUuc3BsaWNlKGZpbmRJbnNlcnRpb25JbmRleChqb2IuaWQpLCAwLCBqb2IpO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXVlRmx1c2goKTtcbiAgICB9XG59XG5mdW5jdGlvbiBxdWV1ZUZsdXNoKCkge1xuICAgIGlmICghaXNGbHVzaGluZyAmJiAhaXNGbHVzaFBlbmRpbmcpIHtcbiAgICAgICAgaXNGbHVzaFBlbmRpbmcgPSB0cnVlO1xuICAgICAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gcmVzb2x2ZWRQcm9taXNlLnRoZW4oZmx1c2hKb2JzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnZhbGlkYXRlSm9iKGpvYikge1xuICAgIGNvbnN0IGkgPSBxdWV1ZS5pbmRleE9mKGpvYik7XG4gICAgaWYgKGkgPiBmbHVzaEluZGV4KSB7XG4gICAgICAgIHF1ZXVlLnNwbGljZShpLCAxKTtcbiAgICB9XG59XG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XG4gICAgaWYgKCFpc0FycmF5KGNiKSkge1xuICAgICAgICBpZiAoIWFjdGl2ZVBvc3RGbHVzaENicyB8fFxuICAgICAgICAgICAgIWFjdGl2ZVBvc3RGbHVzaENicy5pbmNsdWRlcyhjYiwgY2IuYWxsb3dSZWN1cnNlID8gcG9zdEZsdXNoSW5kZXggKyAxIDogcG9zdEZsdXNoSW5kZXgpKSB7XG4gICAgICAgICAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLnB1c2goY2IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBpZiBjYiBpcyBhbiBhcnJheSwgaXQgaXMgYSBjb21wb25lbnQgbGlmZWN5Y2xlIGhvb2sgd2hpY2ggY2FuIG9ubHkgYmVcbiAgICAgICAgLy8gdHJpZ2dlcmVkIGJ5IGEgam9iLCB3aGljaCBpcyBhbHJlYWR5IGRlZHVwZWQgaW4gdGhlIG1haW4gcXVldWUsIHNvXG4gICAgICAgIC8vIHdlIGNhbiBza2lwIGR1cGxpY2F0ZSBjaGVjayBoZXJlIHRvIGltcHJvdmUgcGVyZlxuICAgICAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLnB1c2goLi4uY2IpO1xuICAgIH1cbiAgICBxdWV1ZUZsdXNoKCk7XG59XG5mdW5jdGlvbiBmbHVzaFByZUZsdXNoQ2JzKHNlZW4sIFxuLy8gaWYgY3VycmVudGx5IGZsdXNoaW5nLCBza2lwIHRoZSBjdXJyZW50IGpvYiBpdHNlbGZcbmkgPSBpc0ZsdXNoaW5nID8gZmx1c2hJbmRleCArIDEgOiAwKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2IgPSBxdWV1ZVtpXTtcbiAgICAgICAgaWYgKGNiICYmIGNiLnByZSkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgY2IpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbikge1xuICAgIGlmIChwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBkZWR1cGVkID0gWy4uLm5ldyBTZXQocGVuZGluZ1Bvc3RGbHVzaENicyldO1xuICAgICAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8vICMxOTQ3IGFscmVhZHkgaGFzIGFjdGl2ZSBxdWV1ZSwgbmVzdGVkIGZsdXNoUG9zdEZsdXNoQ2JzIGNhbGxcbiAgICAgICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicykge1xuICAgICAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gZGVkdXBlZDtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgc2VlbiA9IHNlZW4gfHwgbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5zb3J0KChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpKTtcbiAgICAgICAgZm9yIChwb3N0Rmx1c2hJbmRleCA9IDA7IHBvc3RGbHVzaEluZGV4IDwgYWN0aXZlUG9zdEZsdXNoQ2JzLmxlbmd0aDsgcG9zdEZsdXNoSW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XSgpO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XG4gICAgICAgIHBvc3RGbHVzaEluZGV4ID0gMDtcbiAgICB9XG59XG5jb25zdCBnZXRJZCA9IChqb2IpID0+IGpvYi5pZCA9PSBudWxsID8gSW5maW5pdHkgOiBqb2IuaWQ7XG5jb25zdCBjb21wYXJhdG9yID0gKGEsIGIpID0+IHtcbiAgICBjb25zdCBkaWZmID0gZ2V0SWQoYSkgLSBnZXRJZChiKTtcbiAgICBpZiAoZGlmZiA9PT0gMCkge1xuICAgICAgICBpZiAoYS5wcmUgJiYgIWIucHJlKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBpZiAoYi5wcmUgJiYgIWEucHJlKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHJldHVybiBkaWZmO1xufTtcbmZ1bmN0aW9uIGZsdXNoSm9icyhzZWVuKSB7XG4gICAgaXNGbHVzaFBlbmRpbmcgPSBmYWxzZTtcbiAgICBpc0ZsdXNoaW5nID0gdHJ1ZTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guXG4gICAgLy8gVGhpcyBlbnN1cmVzIHRoYXQ6XG4gICAgLy8gMS4gQ29tcG9uZW50cyBhcmUgdXBkYXRlZCBmcm9tIHBhcmVudCB0byBjaGlsZC4gKGJlY2F1c2UgcGFyZW50IGlzIGFsd2F5c1xuICAgIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZCBzbyBpdHMgcmVuZGVyIGVmZmVjdCB3aWxsIGhhdmUgc21hbGxlclxuICAgIC8vICAgIHByaW9yaXR5IG51bWJlcilcbiAgICAvLyAyLiBJZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgZHVyaW5nIGEgcGFyZW50IGNvbXBvbmVudCdzIHVwZGF0ZSxcbiAgICAvLyAgICBpdHMgdXBkYXRlIGNhbiBiZSBza2lwcGVkLlxuICAgIHF1ZXVlLnNvcnQoY29tcGFyYXRvcik7XG4gICAgLy8gY29uZGl0aW9uYWwgdXNhZ2Ugb2YgY2hlY2tSZWN1cnNpdmVVcGRhdGUgbXVzdCBiZSBkZXRlcm1pbmVkIG91dCBvZlxuICAgIC8vIHRyeSAuLi4gY2F0Y2ggYmxvY2sgc2luY2UgUm9sbHVwIGJ5IGRlZmF1bHQgZGUtb3B0aW1pemVzIHRyZWVzaGFraW5nXG4gICAgLy8gaW5zaWRlIHRyeS1jYXRjaC4gVGhpcyBjYW4gbGVhdmUgYWxsIHdhcm5pbmcgY29kZSB1bnNoYWtlZC4gQWx0aG91Z2hcbiAgICAvLyB0aGV5IHdvdWxkIGdldCBldmVudHVhbGx5IHNoYWtlbiBieSBhIG1pbmlmaWVyIGxpa2UgdGVyc2VyLCBzb21lIG1pbmlmaWVyc1xuICAgIC8vIHdvdWxkIGZhaWwgdG8gZG8gdGhhdCAoZS5nLiBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZXNidWlsZC9pc3N1ZXMvMTYxMClcbiAgICBjb25zdCBjaGVjayA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICA/IChqb2IpID0+IGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBqb2IpXG4gICAgICAgIDogTk9PUDtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKGZsdXNoSW5kZXggPSAwOyBmbHVzaEluZGV4IDwgcXVldWUubGVuZ3RoOyBmbHVzaEluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGpvYiA9IHF1ZXVlW2ZsdXNoSW5kZXhdO1xuICAgICAgICAgICAgaWYgKGpvYiAmJiBqb2IuYWN0aXZlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY2hlY2soam9iKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYHJ1bm5pbmc6YCwgam9iLmlkKVxuICAgICAgICAgICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhqb2IsIG51bGwsIDE0IC8qIEVycm9yQ29kZXMuU0NIRURVTEVSICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgZmx1c2hJbmRleCA9IDA7XG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pO1xuICAgICAgICBpc0ZsdXNoaW5nID0gZmFsc2U7XG4gICAgICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xuICAgICAgICAvLyBzb21lIHBvc3RGbHVzaENiIHF1ZXVlZCBqb2JzIVxuICAgICAgICAvLyBrZWVwIGZsdXNoaW5nIHVudGlsIGl0IGRyYWlucy5cbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCB8fCBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgICAgICAgICAgZmx1c2hKb2JzKHNlZW4pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGZuKSB7XG4gICAgaWYgKCFzZWVuLmhhcyhmbikpIHtcbiAgICAgICAgc2Vlbi5zZXQoZm4sIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY291bnQgPSBzZWVuLmdldChmbik7XG4gICAgICAgIGlmIChjb3VudCA+IFJFQ1VSU0lPTl9MSU1JVCkge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBmbi5vd25lckluc3RhbmNlO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGluc3RhbmNlICYmIGdldENvbXBvbmVudE5hbWUoaW5zdGFuY2UudHlwZSk7XG4gICAgICAgICAgICB3YXJuJDEoYE1heGltdW0gcmVjdXJzaXZlIHVwZGF0ZXMgZXhjZWVkZWQke2NvbXBvbmVudE5hbWUgPyBgIGluIGNvbXBvbmVudCA8JHtjb21wb25lbnROYW1lfT5gIDogYGB9LiBgICtcbiAgICAgICAgICAgICAgICBgVGhpcyBtZWFucyB5b3UgaGF2ZSBhIHJlYWN0aXZlIGVmZmVjdCB0aGF0IGlzIG11dGF0aW5nIGl0cyBvd24gYCArXG4gICAgICAgICAgICAgICAgYGRlcGVuZGVuY2llcyBhbmQgdGh1cyByZWN1cnNpdmVseSB0cmlnZ2VyaW5nIGl0c2VsZi4gUG9zc2libGUgc291cmNlcyBgICtcbiAgICAgICAgICAgICAgICBgaW5jbHVkZSBjb21wb25lbnQgdGVtcGxhdGUsIHJlbmRlciBmdW5jdGlvbiwgdXBkYXRlZCBob29rIG9yIGAgK1xuICAgICAgICAgICAgICAgIGB3YXRjaGVyIHNvdXJjZSBmdW5jdGlvbi5gKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2Vlbi5zZXQoZm4sIGNvdW50ICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xubGV0IGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbmNvbnN0IGhtckRpcnR5Q29tcG9uZW50cyA9IG5ldyBTZXQoKTtcbi8vIEV4cG9zZSB0aGUgSE1SIHJ1bnRpbWUgb24gdGhlIGdsb2JhbCBvYmplY3Rcbi8vIFRoaXMgbWFrZXMgaXQgZW50aXJlbHkgdHJlZS1zaGFrYWJsZSB3aXRob3V0IHBvbGx1dGluZyB0aGUgZXhwb3J0cyBhbmQgbWFrZXNcbi8vIGl0IGVhc2llciB0byBiZSB1c2VkIGluIHRvb2xpbmdzIGxpa2UgdnVlLWxvYWRlclxuLy8gTm90ZTogZm9yIGEgY29tcG9uZW50IHRvIGJlIGVsaWdpYmxlIGZvciBITVIgaXQgYWxzbyBuZWVkcyB0aGUgX19obXJJZCBvcHRpb25cbi8vIHRvIGJlIHNldCBzbyB0aGF0IGl0cyBpbnN0YW5jZXMgY2FuIGJlIHJlZ2lzdGVyZWQgLyByZW1vdmVkLlxuaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xuICAgICAgICBjcmVhdGVSZWNvcmQ6IHRyeVdyYXAoY3JlYXRlUmVjb3JkKSxcbiAgICAgICAgcmVyZW5kZXI6IHRyeVdyYXAocmVyZW5kZXIpLFxuICAgICAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxuICAgIH07XG59XG5jb25zdCBtYXAgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiByZWdpc3RlckhNUihpbnN0YW5jZSkge1xuICAgIGNvbnN0IGlkID0gaW5zdGFuY2UudHlwZS5fX2htcklkO1xuICAgIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgICBpZiAoIXJlY29yZCkge1xuICAgICAgICBjcmVhdGVSZWNvcmQoaWQsIGluc3RhbmNlLnR5cGUpO1xuICAgICAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgICB9XG4gICAgcmVjb3JkLmluc3RhbmNlcy5hZGQoaW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gdW5yZWdpc3RlckhNUihpbnN0YW5jZSkge1xuICAgIG1hcC5nZXQoaW5zdGFuY2UudHlwZS5fX2htcklkKS5pbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlY29yZChpZCwgaW5pdGlhbERlZikge1xuICAgIGlmIChtYXAuaGFzKGlkKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG1hcC5zZXQoaWQsIHtcbiAgICAgICAgaW5pdGlhbERlZjogbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5pdGlhbERlZiksXG4gICAgICAgIGluc3RhbmNlczogbmV3IFNldCgpXG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICByZXR1cm4gaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50Ll9fdmNjT3B0cyA6IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcbiAgICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgICBpZiAoIXJlY29yZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHVwZGF0ZSBpbml0aWFsIHJlY29yZCAoZm9yIG5vdC15ZXQtcmVuZGVyZWQgY29tcG9uZW50KVxuICAgIHJlY29yZC5pbml0aWFsRGVmLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICBbLi4ucmVjb3JkLmluc3RhbmNlc10uZm9yRWFjaChpbnN0YW5jZSA9PiB7XG4gICAgICAgIGlmIChuZXdSZW5kZXIpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICAgICAgICAgIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xuICAgICAgICAvLyB0aGlzIGZsYWcgZm9yY2VzIGNoaWxkIGNvbXBvbmVudHMgd2l0aCBzbG90IGNvbnRlbnQgdG8gdXBkYXRlXG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgICAgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gcmVsb2FkKGlkLCBuZXdDb21wKSB7XG4gICAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gICAgaWYgKCFyZWNvcmQpXG4gICAgICAgIHJldHVybjtcbiAgICBuZXdDb21wID0gbm9ybWFsaXplQ2xhc3NDb21wb25lbnQobmV3Q29tcCk7XG4gICAgLy8gdXBkYXRlIGluaXRpYWwgZGVmIChmb3Igbm90LXlldC1yZW5kZXJlZCBjb21wb25lbnRzKVxuICAgIHVwZGF0ZUNvbXBvbmVudERlZihyZWNvcmQuaW5pdGlhbERlZiwgbmV3Q29tcCk7XG4gICAgLy8gY3JlYXRlIGEgc25hcHNob3Qgd2hpY2ggYXZvaWRzIHRoZSBzZXQgYmVpbmcgbXV0YXRlZCBkdXJpbmcgdXBkYXRlc1xuICAgIGNvbnN0IGluc3RhbmNlcyA9IFsuLi5yZWNvcmQuaW5zdGFuY2VzXTtcbiAgICBmb3IgKGNvbnN0IGluc3RhbmNlIG9mIGluc3RhbmNlcykge1xuICAgICAgICBjb25zdCBvbGRDb21wID0gbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSk7XG4gICAgICAgIGlmICghaG1yRGlydHlDb21wb25lbnRzLmhhcyhvbGRDb21wKSkge1xuICAgICAgICAgICAgLy8gMS4gVXBkYXRlIGV4aXN0aW5nIGNvbXAgZGVmaW5pdGlvbiB0byBtYXRjaCBuZXcgb25lXG4gICAgICAgICAgICBpZiAob2xkQ29tcCAhPT0gcmVjb3JkLmluaXRpYWxEZWYpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAyLiBtYXJrIGRlZmluaXRpb24gZGlydHkuIFRoaXMgZm9yY2VzIHRoZSByZW5kZXJlciB0byByZXBsYWNlIHRoZVxuICAgICAgICAgICAgLy8gY29tcG9uZW50IG9uIHBhdGNoLlxuICAgICAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmFkZChvbGRDb21wKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLiBpbnZhbGlkYXRlIG9wdGlvbnMgcmVzb2x1dGlvbiBjYWNoZVxuICAgICAgICBpbnN0YW5jZS5hcHBDb250ZXh0Lm9wdGlvbnNDYWNoZS5kZWxldGUoaW5zdGFuY2UudHlwZSk7XG4gICAgICAgIC8vIDQuIGFjdHVhbGx5IHVwZGF0ZVxuICAgICAgICBpZiAoaW5zdGFuY2UuY2VSZWxvYWQpIHtcbiAgICAgICAgICAgIC8vIGN1c3RvbSBlbGVtZW50XG4gICAgICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuYWRkKG9sZENvbXApO1xuICAgICAgICAgICAgaW5zdGFuY2UuY2VSZWxvYWQobmV3Q29tcC5zdHlsZXMpO1xuICAgICAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmRlbGV0ZShvbGRDb21wKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICAgICAgICAgIC8vIDQuIEZvcmNlIHRoZSBwYXJlbnQgaW5zdGFuY2UgdG8gcmUtcmVuZGVyLiBUaGlzIHdpbGwgY2F1c2UgYWxsIHVwZGF0ZWRcbiAgICAgICAgICAgIC8vIGNvbXBvbmVudHMgdG8gYmUgdW5tb3VudGVkIGFuZCByZS1tb3VudGVkLiBRdWV1ZSB0aGUgdXBkYXRlIHNvIHRoYXQgd2VcbiAgICAgICAgICAgIC8vIGRvbid0IGVuZCB1cCBmb3JjaW5nIHRoZSBzYW1lIHBhcmVudCB0byByZS1yZW5kZXIgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICAgICBxdWV1ZUpvYihpbnN0YW5jZS5wYXJlbnQudXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCkge1xuICAgICAgICAgICAgLy8gcm9vdCBpbnN0YW5jZSBtb3VudGVkIHZpYSBjcmVhdGVBcHAoKSBoYXMgYSByZWxvYWQgbWV0aG9kXG4gICAgICAgICAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyByb290IGluc3RhbmNlIGluc2lkZSB0cmVlIGNyZWF0ZWQgdmlhIHJhdyByZW5kZXIoKS4gRm9yY2UgcmVsb2FkLlxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbSE1SXSBSb290IG9yIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UgbW9kaWZpZWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIDUuIG1ha2Ugc3VyZSB0byBjbGVhbnVwIGRpcnR5IGhtciBjb21wb25lbnRzIGFmdGVyIHVwZGF0ZVxuICAgIHF1ZXVlUG9zdEZsdXNoQ2IoKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGluc3RhbmNlIG9mIGluc3RhbmNlcykge1xuICAgICAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmRlbGV0ZShub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudERlZihvbGRDb21wLCBuZXdDb21wKSB7XG4gICAgZXh0ZW5kKG9sZENvbXAsIG5ld0NvbXApO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9sZENvbXApIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJ19fZmlsZScgJiYgIShrZXkgaW4gbmV3Q29tcCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvbGRDb21wW2tleV07XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0cnlXcmFwKGZuKSB7XG4gICAgcmV0dXJuIChpZCwgYXJnKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZm4oaWQsIGFyZyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFtITVJdIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBWdWUgY29tcG9uZW50IGhvdC1yZWxvYWQuIGAgK1xuICAgICAgICAgICAgICAgIGBGdWxsIHJlbG9hZCByZXF1aXJlZC5gKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmxldCBkZXZ0b29scztcbmxldCBidWZmZXIgPSBbXTtcbmxldCBkZXZ0b29sc05vdEluc3RhbGxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gZW1pdChldmVudCwgLi4uYXJncykge1xuICAgIGlmIChkZXZ0b29scykge1xuICAgICAgICBkZXZ0b29scy5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWRldnRvb2xzTm90SW5zdGFsbGVkKSB7XG4gICAgICAgIGJ1ZmZlci5wdXNoKHsgZXZlbnQsIGFyZ3MgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0RGV2dG9vbHNIb29rKGhvb2ssIHRhcmdldCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgZGV2dG9vbHMgPSBob29rO1xuICAgIGlmIChkZXZ0b29scykge1xuICAgICAgICBkZXZ0b29scy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgYnVmZmVyLmZvckVhY2goKHsgZXZlbnQsIGFyZ3MgfSkgPT4gZGV2dG9vbHMuZW1pdChldmVudCwgLi4uYXJncykpO1xuICAgICAgICBidWZmZXIgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoXG4gICAgLy8gaGFuZGxlIGxhdGUgZGV2dG9vbHMgaW5qZWN0aW9uIC0gb25seSBkbyB0aGlzIGlmIHdlIGFyZSBpbiBhbiBhY3R1YWxcbiAgICAvLyBicm93c2VyIGVudmlyb25tZW50IHRvIGF2b2lkIHRoZSB0aW1lciBoYW5kbGUgc3RhbGxpbmcgdGVzdCBydW5uZXIgZXhpdFxuICAgIC8vICgjNDgxNSlcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAvLyBzb21lIGVudnMgbW9jayB3aW5kb3cgYnV0IG5vdCBmdWxseVxuICAgICAgICB3aW5kb3cuSFRNTEVsZW1lbnQgJiZcbiAgICAgICAgLy8gYWxzbyBleGNsdWRlIGpzZG9tXG4gICAgICAgICEoKF9iID0gKF9hID0gd2luZG93Lm5hdmlnYXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVzZXJBZ2VudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKCdqc2RvbScpKSkge1xuICAgICAgICBjb25zdCByZXBsYXkgPSAodGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gPVxuICAgICAgICAgICAgdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gfHwgW10pO1xuICAgICAgICByZXBsYXkucHVzaCgobmV3SG9vaykgPT4ge1xuICAgICAgICAgICAgc2V0RGV2dG9vbHNIb29rKG5ld0hvb2ssIHRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjbGVhciBidWZmZXIgYWZ0ZXIgM3MgLSB0aGUgdXNlciBwcm9iYWJseSBkb2Vzbid0IGhhdmUgZGV2dG9vbHMgaW5zdGFsbGVkXG4gICAgICAgIC8vIGF0IGFsbCwgYW5kIGtlZXBpbmcgdGhlIGJ1ZmZlciB3aWxsIGNhdXNlIG1lbW9yeSBsZWFrcyAoIzQ3MzgpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFkZXZ0b29scykge1xuICAgICAgICAgICAgICAgIHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fID0gbnVsbDtcbiAgICAgICAgICAgICAgICBkZXZ0b29sc05vdEluc3RhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDMwMDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gbm9uLWJyb3dzZXIgZW52LCBhc3N1bWUgbm90IGluc3RhbGxlZFxuICAgICAgICBkZXZ0b29sc05vdEluc3RhbGxlZCA9IHRydWU7XG4gICAgICAgIGJ1ZmZlciA9IFtdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pIHtcbiAgICBlbWl0KFwiYXBwOmluaXRcIiAvKiBEZXZ0b29sc0hvb2tzLkFQUF9JTklUICovLCBhcHAsIHZlcnNpb24sIHtcbiAgICAgICAgRnJhZ21lbnQsXG4gICAgICAgIFRleHQsXG4gICAgICAgIENvbW1lbnQsXG4gICAgICAgIFN0YXRpY1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xuICAgIGVtaXQoXCJhcHA6dW5tb3VudFwiIC8qIERldnRvb2xzSG9va3MuQVBQX1VOTU9VTlQgKi8sIGFwcCk7XG59XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudEFkZGVkID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBEZXZ0b29sc0hvb2tzLkNPTVBPTkVOVF9BRERFRCAqLyk7XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQgPSBcbi8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OnVwZGF0ZWRcIiAvKiBEZXZ0b29sc0hvb2tzLkNPTVBPTkVOVF9VUERBVEVEICovKTtcbmNvbnN0IF9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogRGV2dG9vbHNIb29rcy5DT01QT05FTlRfUkVNT1ZFRCAqLyk7XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAoY29tcG9uZW50KSA9PiB7XG4gICAgaWYgKGRldnRvb2xzICYmXG4gICAgICAgIHR5cGVvZiBkZXZ0b29scy5jbGVhbnVwQnVmZmVyID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgY29tcG9uZW50IGlmIGl0IHdhc24ndCBidWZmZXJlZFxuICAgICAgICAhZGV2dG9vbHMuY2xlYW51cEJ1ZmZlcihjb21wb25lbnQpKSB7XG4gICAgICAgIF9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoY29tcG9uZW50KTtcbiAgICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKGhvb2spIHtcbiAgICByZXR1cm4gKGNvbXBvbmVudCkgPT4ge1xuICAgICAgICBlbWl0KGhvb2ssIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LnVpZCwgY29tcG9uZW50LnBhcmVudCA/IGNvbXBvbmVudC5wYXJlbnQudWlkIDogdW5kZWZpbmVkLCBjb21wb25lbnQpO1xuICAgIH07XG59XG5jb25zdCBkZXZ0b29sc1BlcmZTdGFydCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soXCJwZXJmOnN0YXJ0XCIgLyogRGV2dG9vbHNIb29rcy5QRVJGT1JNQU5DRV9TVEFSVCAqLyk7XG5jb25zdCBkZXZ0b29sc1BlcmZFbmQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjplbmRcIiAvKiBEZXZ0b29sc0hvb2tzLlBFUkZPUk1BTkNFX0VORCAqLyk7XG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhob29rKSB7XG4gICAgcmV0dXJuIChjb21wb25lbnQsIHR5cGUsIHRpbWUpID0+IHtcbiAgICAgICAgZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudCwgdHlwZSwgdGltZSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzQ29tcG9uZW50RW1pdChjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpIHtcbiAgICBlbWl0KFwiY29tcG9uZW50OmVtaXRcIiAvKiBEZXZ0b29sc0hvb2tzLkNPTVBPTkVOVF9FTUlUICovLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcyk7XG59XG5cbmNvbnN0IGRlcHJlY2F0aW9uRGF0YSA9IHtcbiAgICBbXCJHTE9CQUxfTU9VTlRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9NT1VOVCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFRoZSBnbG9iYWwgYXBwIGJvb3RzdHJhcHBpbmcgQVBJIGhhcyBjaGFuZ2VkOiB2bS4kbW91bnQoKSBhbmQgdGhlIFwiZWxcIiBgICtcbiAgICAgICAgICAgIGBvcHRpb24gaGF2ZSBiZWVuIHJlbW92ZWQuIFVzZSBjcmVhdGVBcHAoUm9vdENvbXBvbmVudCkubW91bnQoKSBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9nbG9iYWwtYXBpLmh0bWwjbW91bnRpbmctYXBwLWluc3RhbmNlYFxuICAgIH0sXG4gICAgW1wiR0xPQkFMX01PVU5UX0NPTlRBSU5FUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX01PVU5UX0NPTlRBSU5FUiAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZSBkZXRlY3RlZCBkaXJlY3RpdmVzIG9uIHRoZSBtb3VudCBjb250YWluZXIuIGAgK1xuICAgICAgICAgICAgYEluIFZ1ZSAzLCB0aGUgY29udGFpbmVyIGlzIG5vIGxvbmdlciBjb25zaWRlcmVkIHBhcnQgb2YgdGhlIHRlbXBsYXRlIGAgK1xuICAgICAgICAgICAgYGFuZCB3aWxsIG5vdCBiZSBwcm9jZXNzZWQvcmVwbGFjZWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL21vdW50LWNoYW5nZXMuaHRtbGBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9FWFRFTkRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9FWFRFTkQgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUuZXh0ZW5kKCkgaGFzIGJlZW4gcmVtb3ZlZCBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgVXNlIGRlZmluZUNvbXBvbmVudCgpIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdnVlanMub3JnL2FwaS9nZW5lcmFsLmh0bWwjZGVmaW5lY29tcG9uZW50YFxuICAgIH0sXG4gICAgW1wiR0xPQkFMX1BST1RPVFlQRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX1BST1RPVFlQRSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5wcm90b3R5cGUgaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZSBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgVXNlIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9nbG9iYWwtYXBpLmh0bWwjdnVlLXByb3RvdHlwZS1yZXBsYWNlZC1ieS1jb25maWctZ2xvYmFscHJvcGVydGllc2BcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9TRVRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9TRVQgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUuc2V0KCkgaGFzIGJlZW4gcmVtb3ZlZCBhcyBpdCBpcyBubyBsb25nZXIgbmVlZGVkIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXG4gICAgfSxcbiAgICBbXCJHTE9CQUxfREVMRVRFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfREVMRVRFICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlLmRlbGV0ZSgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgU2ltcGx5IHVzZSBuYXRpdmUgSmF2YVNjcmlwdCBtdXRhdGlvbnMuYFxuICAgIH0sXG4gICAgW1wiR0xPQkFMX09CU0VSVkFCTEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9PQlNFUlZBQkxFICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlLm9ic2VydmFibGUoKSBoYXMgYmVlbiByZW1vdmVkLiBgICtcbiAgICAgICAgICAgIGBVc2UgXFxgaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tIFwidnVlXCJcXGAgZnJvbSBDb21wb3NpdGlvbiBBUEkgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92dWVqcy5vcmcvYXBpL3JlYWN0aXZpdHktY29yZS5odG1sI3JlYWN0aXZlYFxuICAgIH0sXG4gICAgW1wiR0xPQkFMX1BSSVZBVEVfVVRJTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX1BSSVZBVEVfVVRJTCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS51dGlsIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSByZWZhY3RvciB0byBhdm9pZCBpdHMgdXNhZ2UgYCArXG4gICAgICAgICAgICBgc2luY2UgaXQgd2FzIGFuIGludGVybmFsIEFQSSBldmVuIGluIFZ1ZSAyLmBcbiAgICB9LFxuICAgIFtcIkNPTkZJR19TSUxFTlRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19TSUxFTlQgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBjb25maWcuc2lsZW50IGhhcyBiZWVuIHJlbW92ZWQgYmVjYXVzZSBpdCBpcyBub3QgZ29vZCBwcmFjdGljZSB0byBgICtcbiAgICAgICAgICAgIGBpbnRlbnRpb25hbGx5IHN1cHByZXNzIHdhcm5pbmdzLiBZb3UgY2FuIHVzZSB5b3VyIGJyb3dzZXIgY29uc29sZSdzIGAgK1xuICAgICAgICAgICAgYGZpbHRlciBmZWF0dXJlcyB0byBmb2N1cyBvbiByZWxldmFudCBtZXNzYWdlcy5gXG4gICAgfSxcbiAgICBbXCJDT05GSUdfREVWVE9PTFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19ERVZUT09MUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5kZXZ0b29scyBoYXMgYmVlbiByZW1vdmVkLiBUbyBlbmFibGUgZGV2dG9vbHMgZm9yIGAgK1xuICAgICAgICAgICAgYHByb2R1Y3Rpb24sIGNvbmZpZ3VyZSB0aGUgX19WVUVfUFJPRF9ERVZUT09MU19fIGNvbXBpbGUtdGltZSBmbGFnLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvY29yZS90cmVlL21haW4vcGFja2FnZXMvdnVlI2J1bmRsZXItYnVpbGQtZmVhdHVyZS1mbGFnc2BcbiAgICB9LFxuICAgIFtcIkNPTkZJR19LRVlfQ09ERVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19LRVlfQ09ERVMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBjb25maWcua2V5Q29kZXMgaGFzIGJlZW4gcmVtb3ZlZC4gYCArXG4gICAgICAgICAgICBgSW4gVnVlIDMsIHlvdSBjYW4gZGlyZWN0bHkgdXNlIHRoZSBrZWJhYi1jYXNlIGtleSBuYW1lcyBhcyB2LW9uIG1vZGlmaWVycy5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMva2V5Y29kZS1tb2RpZmllcnMuaHRtbGBcbiAgICB9LFxuICAgIFtcIkNPTkZJR19QUk9EVUNUSU9OX1RJUFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX1BST0RVQ1RJT05fVElQICovXToge1xuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLnByb2R1Y3Rpb25UaXAgaGFzIGJlZW4gcmVtb3ZlZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZ2xvYmFsLWFwaS5odG1sI2NvbmZpZy1wcm9kdWN0aW9udGlwLXJlbW92ZWRgXG4gICAgfSxcbiAgICBbXCJDT05GSUdfSUdOT1JFRF9FTEVNRU5UU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX0lHTk9SRURfRUxFTUVOVFMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6ICgpID0+IHtcbiAgICAgICAgICAgIGxldCBtc2cgPSBgY29uZmlnLmlnbm9yZWRFbGVtZW50cyBoYXMgYmVlbiByZW1vdmVkLmA7XG4gICAgICAgICAgICBpZiAoaXNSdW50aW1lT25seSgpKSB7XG4gICAgICAgICAgICAgICAgbXNnICs9IGAgUGFzcyB0aGUgXCJpc0N1c3RvbUVsZW1lbnRcIiBvcHRpb24gdG8gQHZ1ZS9jb21waWxlci1kb20gaW5zdGVhZC5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXNnICs9IGAgVXNlIGNvbmZpZy5pc0N1c3RvbUVsZW1lbnQgaW5zdGVhZC5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2dsb2JhbC1hcGkuaHRtbCNjb25maWctaWdub3JlZGVsZW1lbnRzLWlzLW5vdy1jb25maWctaXNjdXN0b21lbGVtZW50YFxuICAgIH0sXG4gICAgW1wiQ09ORklHX1dISVRFU1BBQ0VcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19XSElURVNQQUNFICovXToge1xuICAgICAgICAvLyB0aGlzIHdhcm5pbmcgaXMgb25seSByZWxldmFudCBpbiB0aGUgZnVsbCBidWlsZCB3aGVuIHVzaW5nIHJ1bnRpbWVcbiAgICAgICAgLy8gY29tcGlsYXRpb24sIHNvIGl0J3MgcHV0IGluIHRoZSBydW50aW1lIGNvbXBhdENvbmZpZyBsaXN0LlxuICAgICAgICBtZXNzYWdlOiBgVnVlIDMgY29tcGlsZXIncyB3aGl0ZXNwYWNlIG9wdGlvbiB3aWxsIGRlZmF1bHQgdG8gXCJjb25kZW5zZVwiIGluc3RlYWQgb2YgYCArXG4gICAgICAgICAgICBgXCJwcmVzZXJ2ZVwiLiBUbyBzdXBwcmVzcyB0aGlzIHdhcm5pbmcsIHByb3ZpZGUgYW4gZXhwbGljaXQgdmFsdWUgZm9yIGAgK1xuICAgICAgICAgICAgYFxcYGNvbmZpZy5jb21waWxlck9wdGlvbnMud2hpdGVzcGFjZVxcYC5gXG4gICAgfSxcbiAgICBbXCJDT05GSUdfT1BUSU9OX01FUkdFX1NUUkFUU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX09QVElPTl9NRVJHRV9TVFJBVFMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBjb25maWcub3B0aW9uTWVyZ2VTdHJhdGVnaWVzIG5vIGxvbmdlciBleHBvc2VzIGludGVybmFsIHN0cmF0ZWdpZXMuIGAgK1xuICAgICAgICAgICAgYFVzZSBjdXN0b20gbWVyZ2UgZnVuY3Rpb25zIGluc3RlYWQuYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfU0VUXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9TRVQgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kc2V0KCkgaGFzIGJlZW4gcmVtb3ZlZCBhcyBpdCBpcyBubyBsb25nZXIgbmVlZGVkIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9ERUxFVEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0RFTEVURSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYHZtLiRkZWxldGUoKSBoYXMgYmVlbiByZW1vdmVkIGFzIGl0IGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFNpbXBseSB1c2UgbmF0aXZlIEphdmFTY3JpcHQgbXV0YXRpb25zLmBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX0RFU1RST1lcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0RFU1RST1kgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kZGVzdHJveSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBhcHAudW5tb3VudCgpIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdnVlanMub3JnL2FwaS9hcHBsaWNhdGlvbi5odG1sI2FwcC11bm1vdW50YFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUiAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYHZtLiRvbi8kb25jZS8kb2ZmKCkgaGF2ZSBiZWVuIHJlbW92ZWQuIGAgK1xuICAgICAgICAgICAgYFVzZSBhbiBleHRlcm5hbCBldmVudCBlbWl0dGVyIGxpYnJhcnkgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZXZlbnRzLWFwaS5odG1sYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovXToge1xuICAgICAgICBtZXNzYWdlOiBldmVudCA9PiBgXCIke2V2ZW50fVwiIGxpZmVjeWNsZSBldmVudHMgYXJlIG5vIGxvbmdlciBzdXBwb3J0ZWQuIEZyb20gdGVtcGxhdGVzLCBgICtcbiAgICAgICAgICAgIGB1c2UgdGhlIFwidnVlOlwiIHByZWZpeCBpbnN0ZWFkIG9mIFwiaG9vazpcIi4gRm9yIGV4YW1wbGUsIEAke2V2ZW50fSBgICtcbiAgICAgICAgICAgIGBzaG91bGQgYmUgY2hhbmdlZCB0byBAdnVlOiR7ZXZlbnQuc2xpY2UoNSl9LiBgICtcbiAgICAgICAgICAgIGBGcm9tIEphdmFTY3JpcHQsIHVzZSBDb21wb3NpdGlvbiBBUEkgdG8gZHluYW1pY2FsbHkgcmVnaXN0ZXIgbGlmZWN5Y2xlIGAgK1xuICAgICAgICAgICAgYGhvb2tzLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy92bm9kZS1saWZlY3ljbGUtZXZlbnRzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9DSElMRFJFTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfQ0hJTERSRU4gKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kY2hpbGRyZW4gaGFzIGJlZW4gcmVtb3ZlZC4gQ29uc2lkZXIgcmVmYWN0b3JpbmcgeW91ciBsb2dpYyBgICtcbiAgICAgICAgICAgIGB0byBhdm9pZCByZWx5aW5nIG9uIGRpcmVjdCBhY2Nlc3MgdG8gY2hpbGQgY29tcG9uZW50cy5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvY2hpbGRyZW4uaHRtbGBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX0xJU1RFTkVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfTElTVEVORVJTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJGxpc3RlbmVycyBoYXMgYmVlbiByZW1vdmVkLiBJbiBWdWUgMywgcGFyZW50IHYtb24gbGlzdGVuZXJzIGFyZSBgICtcbiAgICAgICAgICAgIGBpbmNsdWRlZCBpbiB2bS4kYXR0cnMgYW5kIGl0IGlzIG5vIGxvbmdlciBuZWNlc3NhcnkgdG8gc2VwYXJhdGVseSB1c2UgYCArXG4gICAgICAgICAgICBgdi1vbj1cIiRsaXN0ZW5lcnNcIiBpZiB5b3UgYXJlIGFscmVhZHkgdXNpbmcgdi1iaW5kPVwiJGF0dHJzXCIuIGAgK1xuICAgICAgICAgICAgYChOb3RlOiB0aGUgVnVlIDMgYmVoYXZpb3Igb25seSBhcHBsaWVzIGlmIHRoaXMgY29tcGF0IGNvbmZpZyBpcyBkaXNhYmxlZClgLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvbGlzdGVuZXJzLXJlbW92ZWQuaHRtbGBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX1NDT1BFRF9TTE9UU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfU0NPUEVEX1NMT1RTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJHNjb3BlZFNsb3RzIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2bS4kc2xvdHMgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvc2xvdHMtdW5pZmljYXRpb24uaHRtbGBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogY29tcG9uZW50TmFtZSA9PiBgQ29tcG9uZW50IDwke2NvbXBvbmVudE5hbWUgfHwgJ0Fub255bW91cyd9PiBoYXMgXFxgaW5oZXJpdEF0dHJzOiBmYWxzZVxcYCBidXQgaXMgYCArXG4gICAgICAgICAgICBgcmVseWluZyBvbiBjbGFzcy9zdHlsZSBmYWxsdGhyb3VnaCBmcm9tIHBhcmVudC4gSW4gVnVlIDMsIGNsYXNzL3N0eWxlIGAgK1xuICAgICAgICAgICAgYGFyZSBub3cgaW5jbHVkZWQgaW4gJGF0dHJzIGFuZCB3aWxsIG5vIGxvbmdlciBmYWxsdGhyb3VnaCB3aGVuIGAgK1xuICAgICAgICAgICAgYGluaGVyaXRBdHRycyBpcyBmYWxzZS4gSWYgeW91IGFyZSBhbHJlYWR5IHVzaW5nIHYtYmluZD1cIiRhdHRyc1wiIG9uIGAgK1xuICAgICAgICAgICAgYGNvbXBvbmVudCByb290IGl0IHNob3VsZCByZW5kZXIgdGhlIHNhbWUgZW5kIHJlc3VsdC4gYCArXG4gICAgICAgICAgICBgSWYgeW91IGFyZSBiaW5kaW5nICRhdHRycyB0byBhIG5vbi1yb290IGVsZW1lbnQgYW5kIGV4cGVjdGluZyBgICtcbiAgICAgICAgICAgIGBjbGFzcy9zdHlsZSB0byBmYWxsdGhyb3VnaCBvbiByb290LCB5b3Ugd2lsbCBuZWVkIHRvIG5vdyBtYW51YWxseSBiaW5kIGAgK1xuICAgICAgICAgICAgYHRoZW0gb24gcm9vdCB2aWEgOmNsYXNzPVwiJGF0dHJzLmNsYXNzXCIuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2F0dHJzLWluY2x1ZGVzLWNsYXNzLXN0eWxlLmh0bWxgXG4gICAgfSxcbiAgICBbXCJPUFRJT05TX0RBVEFfRk5cIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREFUQV9GTiAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFRoZSBcImRhdGFcIiBvcHRpb24gY2FuIG5vIGxvbmdlciBiZSBhIHBsYWluIG9iamVjdC4gYCArXG4gICAgICAgICAgICBgQWx3YXlzIHVzZSBhIGZ1bmN0aW9uLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9kYXRhLW9wdGlvbi5odG1sYFxuICAgIH0sXG4gICAgW1wiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfTUVSR0UgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChrZXkpID0+IGBEZXRlY3RlZCBjb25mbGljdGluZyBrZXkgXCIke2tleX1cIiB3aGVuIG1lcmdpbmcgZGF0YSBvcHRpb24gdmFsdWVzLiBgICtcbiAgICAgICAgICAgIGBJbiBWdWUgMywgZGF0YSBrZXlzIGFyZSBtZXJnZWQgc2hhbGxvd2x5IGFuZCB3aWxsIG92ZXJyaWRlIG9uZSBhbm90aGVyLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9kYXRhLW9wdGlvbi5odG1sI21peGluLW1lcmdlLWJlaGF2aW9yLWNoYW5nZWBcbiAgICB9LFxuICAgIFtcIk9QVElPTlNfQkVGT1JFX0RFU1RST1lcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfQkVGT1JFX0RFU1RST1kgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBcXGBiZWZvcmVEZXN0cm95XFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgYmVmb3JlVW5tb3VudFxcYC5gXG4gICAgfSxcbiAgICBbXCJPUFRJT05TX0RFU1RST1lFRFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19ERVNUUk9ZRUQgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBcXGBkZXN0cm95ZWRcXGAgaGFzIGJlZW4gcmVuYW1lZCB0byBcXGB1bm1vdW50ZWRcXGAuYFxuICAgIH0sXG4gICAgW1wiV0FUQ0hfQVJSQVlcIiAvKiBEZXByZWNhdGlvblR5cGVzLldBVENIX0FSUkFZICovXToge1xuICAgICAgICBtZXNzYWdlOiBgXCJ3YXRjaFwiIG9wdGlvbiBvciB2bS4kd2F0Y2ggb24gYW4gYXJyYXkgdmFsdWUgd2lsbCBubyBsb25nZXIgYCArXG4gICAgICAgICAgICBgdHJpZ2dlciBvbiBhcnJheSBtdXRhdGlvbiB1bmxlc3MgdGhlIFwiZGVlcFwiIG9wdGlvbiBpcyBzcGVjaWZpZWQuIGAgK1xuICAgICAgICAgICAgYElmIGN1cnJlbnQgdXNhZ2UgaXMgaW50ZW5kZWQsIHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBgICtcbiAgICAgICAgICAgIGBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgd2l0aDpgICtcbiAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJXQVRDSF9BUlJBWVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuV0FUQ0hfQVJSQVkgKi99OiBmYWxzZSB9KVxcbmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy93YXRjaC5odG1sYFxuICAgIH0sXG4gICAgW1wiUFJPUFNfREVGQVVMVF9USElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUk9QU19ERUZBVUxUX1RISVMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChrZXkpID0+IGBwcm9wcyBkZWZhdWx0IHZhbHVlIGZ1bmN0aW9uIG5vIGxvbmdlciBoYXMgYWNjZXNzIHRvIFwidGhpc1wiLiBUaGUgY29tcGF0IGAgK1xuICAgICAgICAgICAgYGJ1aWxkIG9ubHkgb2ZmZXJzIGFjY2VzcyB0byB0aGlzLiRvcHRpb25zLmAgK1xuICAgICAgICAgICAgYChmb3VuZCBpbiBwcm9wIFwiJHtrZXl9XCIpYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3Byb3BzLWRlZmF1bHQtdGhpcy5odG1sYFxuICAgIH0sXG4gICAgW1wiQ1VTVE9NX0RJUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ1VTVE9NX0RJUiAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKGxlZ2FjeUhvb2ssIG5ld0hvb2spID0+IGBDdXN0b20gZGlyZWN0aXZlIGhvb2sgXCIke2xlZ2FjeUhvb2t9XCIgaGFzIGJlZW4gcmVtb3ZlZC4gYCArXG4gICAgICAgICAgICBgVXNlIFwiJHtuZXdIb29rfVwiIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2N1c3RvbS1kaXJlY3RpdmVzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJWX09OX0tFWUNPREVfTU9ESUZJRVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLlZfT05fS0VZQ09ERV9NT0RJRklFUiAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFVzaW5nIGtleUNvZGUgYXMgdi1vbiBtb2RpZmllciBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBgICtcbiAgICAgICAgICAgIGBVc2Uga2ViYWItY2FzZSBrZXkgbmFtZSBtb2RpZmllcnMgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMva2V5Y29kZS1tb2RpZmllcnMuaHRtbGBcbiAgICB9LFxuICAgIFtcIkFUVFJfRkFMU0VfVkFMVUVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkFUVFJfRkFMU0VfVkFMVUUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChuYW1lKSA9PiBgQXR0cmlidXRlIFwiJHtuYW1lfVwiIHdpdGggdi1iaW5kIHZhbHVlIFxcYGZhbHNlXFxgIHdpbGwgcmVuZGVyIGAgK1xuICAgICAgICAgICAgYCR7bmFtZX09XCJmYWxzZVwiIGluc3RlYWQgb2YgcmVtb3ZpbmcgaXQgaW4gVnVlIDMuIFRvIHJlbW92ZSB0aGUgYXR0cmlidXRlLCBgICtcbiAgICAgICAgICAgIGB1c2UgXFxgbnVsbFxcYCBvciBcXGB1bmRlZmluZWRcXGAgaW5zdGVhZC4gSWYgdGhlIHVzYWdlIGlzIGludGVuZGVkLCBgICtcbiAgICAgICAgICAgIGB5b3UgY2FuIGRpc2FibGUgdGhlIGNvbXBhdCBiZWhhdmlvciBhbmQgc3VwcHJlc3MgdGhpcyB3YXJuaW5nIHdpdGg6YCArXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiQVRUUl9GQUxTRV9WQUxVRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9GQUxTRV9WQUxVRSAqL306IGZhbHNlIH0pXFxuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2F0dHJpYnV0ZS1jb2VyY2lvbi5odG1sYFxuICAgIH0sXG4gICAgW1wiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0VOVU1FUkFURURfQ09FUkNJT04gKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChuYW1lLCB2YWx1ZSwgY29lcmNlZCkgPT4gYEVudW1lcmF0ZWQgYXR0cmlidXRlIFwiJHtuYW1lfVwiIHdpdGggdi1iaW5kIHZhbHVlIFxcYCR7dmFsdWV9XFxgIHdpbGwgYCArXG4gICAgICAgICAgICBgJHt2YWx1ZSA9PT0gbnVsbCA/IGBiZSByZW1vdmVkYCA6IGByZW5kZXIgdGhlIHZhbHVlIGFzLWlzYH0gaW5zdGVhZCBvZiBjb2VyY2luZyB0aGUgdmFsdWUgdG8gXCIke2NvZXJjZWR9XCIgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYEFsd2F5cyB1c2UgZXhwbGljaXQgXCJ0cnVlXCIgb3IgXCJmYWxzZVwiIHZhbHVlcyBmb3IgZW51bWVyYXRlZCBhdHRyaWJ1dGVzLiBgICtcbiAgICAgICAgICAgIGBJZiB0aGUgdXNhZ2UgaXMgaW50ZW5kZWQsIGAgK1xuICAgICAgICAgICAgYHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgd2l0aDpgICtcbiAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJBVFRSX0VOVU1FUkFURURfQ09FUkNJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLkFUVFJfRU5VTUVSQVRFRF9DT0VSQ0lPTiAqL306IGZhbHNlIH0pXFxuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2F0dHJpYnV0ZS1jb2VyY2lvbi5odG1sYFxuICAgIH0sXG4gICAgW1wiVFJBTlNJVElPTl9DTEFTU0VTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5UUkFOU0lUSU9OX0NMQVNTRVMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBgIC8vIHRoaXMgZmVhdHVyZSBjYW5ub3QgYmUgcnVudGltZS1kZXRlY3RlZFxuICAgIH0sXG4gICAgW1wiVFJBTlNJVElPTl9HUk9VUF9ST09UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5UUkFOU0lUSU9OX0dST1VQX1JPT1QgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGA8VHJhbnNpdGlvbkdyb3VwPiBubyBsb25nZXIgcmVuZGVycyBhIHJvb3QgPHNwYW4+IGVsZW1lbnQgYnkgYCArXG4gICAgICAgICAgICBgZGVmYXVsdCBpZiBubyBcInRhZ1wiIHByb3AgaXMgc3BlY2lmaWVkLiBJZiB5b3UgZG8gbm90IHJlbHkgb24gdGhlIHNwYW4gYCArXG4gICAgICAgICAgICBgZm9yIHN0eWxpbmcsIHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBzdXBwcmVzcyB0aGlzIGAgK1xuICAgICAgICAgICAgYHdhcm5pbmcgd2l0aDpgICtcbiAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJUUkFOU0lUSU9OX0dST1VQX1JPT1RcIiAvKiBEZXByZWNhdGlvblR5cGVzLlRSQU5TSVRJT05fR1JPVVBfUk9PVCAqL306IGZhbHNlIH0pXFxuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3RyYW5zaXRpb24tZ3JvdXAuaHRtbGBcbiAgICB9LFxuICAgIFtcIkNPTVBPTkVOVF9BU1lOQ1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX0FTWU5DICovXToge1xuICAgICAgICBtZXNzYWdlOiAoY29tcCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY29tcCk7XG4gICAgICAgICAgICByZXR1cm4gKGBBc3luYyBjb21wb25lbnQke25hbWUgPyBgIDwke25hbWV9PmAgOiBgc2B9IHNob3VsZCBiZSBleHBsaWNpdGx5IGNyZWF0ZWQgdmlhIFxcYGRlZmluZUFzeW5jQ29tcG9uZW50KClcXGAgYCArXG4gICAgICAgICAgICAgICAgYGluIFZ1ZSAzLiBQbGFpbiBmdW5jdGlvbnMgd2lsbCBiZSB0cmVhdGVkIGFzIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBpbiBgICtcbiAgICAgICAgICAgICAgICBgbm9uLWNvbXBhdCBidWlsZC4gSWYgeW91IGhhdmUgYWxyZWFkeSBtaWdyYXRlZCBhbGwgYXN5bmMgY29tcG9uZW50IGAgK1xuICAgICAgICAgICAgICAgIGB1c2FnZSBhbmQgaW50ZW5kIHRvIHVzZSBwbGFpbiBmdW5jdGlvbnMgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cywgYCArXG4gICAgICAgICAgICAgICAgYHlvdSBjYW4gZGlzYWJsZSB0aGUgY29tcGF0IGJlaGF2aW9yIGFuZCBzdXBwcmVzcyB0aGlzIGAgK1xuICAgICAgICAgICAgICAgIGB3YXJuaW5nIHdpdGg6YCArXG4gICAgICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkNPTVBPTkVOVF9BU1lOQ1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX0FTWU5DICovfTogZmFsc2UgfSlcXG5gKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2FzeW5jLWNvbXBvbmVudHMuaHRtbGBcbiAgICB9LFxuICAgIFtcIkNPTVBPTkVOVF9GVU5DVElPTkFMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfRlVOQ1RJT05BTCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKGNvbXApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xuICAgICAgICAgICAgcmV0dXJuIChgRnVuY3Rpb25hbCBjb21wb25lbnQke25hbWUgPyBgIDwke25hbWV9PmAgOiBgc2B9IHNob3VsZCBiZSBkZWZpbmVkIGFzIGEgcGxhaW4gZnVuY3Rpb24gaW4gVnVlIDMuIFRoZSBcImZ1bmN0aW9uYWxcIiBgICtcbiAgICAgICAgICAgICAgICBgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWQuIE5PVEU6IEJlZm9yZSBtaWdyYXRpbmcgdG8gdXNlIHBsYWluIGAgK1xuICAgICAgICAgICAgICAgIGBmdW5jdGlvbnMgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cywgZmlyc3QgbWFrZSBzdXJlIHRoYXQgYWxsIGFzeW5jIGAgK1xuICAgICAgICAgICAgICAgIGBjb21wb25lbnRzIHVzYWdlIGhhdmUgYmVlbiBtaWdyYXRlZCBhbmQgaXRzIGNvbXBhdCBiZWhhdmlvciBoYXMgYCArXG4gICAgICAgICAgICAgICAgYGJlZW4gZGlzYWJsZWQuYCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9mdW5jdGlvbmFsLWNvbXBvbmVudHMuaHRtbGBcbiAgICB9LFxuICAgIFtcIkNPTVBPTkVOVF9WX01PREVMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfVl9NT0RFTCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKGNvbXApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ01zZyA9IGBvcHQtaW4gdG8gYCArXG4gICAgICAgICAgICAgICAgYFZ1ZSAzIGJlaGF2aW9yIG9uIGEgcGVyLWNvbXBvbmVudCBiYXNpcyB3aXRoIFxcYGNvbXBhdENvbmZpZzogeyAke1wiQ09NUE9ORU5UX1ZfTU9ERUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9WX01PREVMICovfTogZmFsc2UgfVxcYC5gO1xuICAgICAgICAgICAgaWYgKGNvbXAucHJvcHMgJiZcbiAgICAgICAgICAgICAgICAoaXNBcnJheShjb21wLnByb3BzKVxuICAgICAgICAgICAgICAgICAgICA/IGNvbXAucHJvcHMuaW5jbHVkZXMoJ21vZGVsVmFsdWUnKVxuICAgICAgICAgICAgICAgICAgICA6IGhhc093bihjb21wLnByb3BzLCAnbW9kZWxWYWx1ZScpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoYENvbXBvbmVudCBkZWNsYXJlcyBcIm1vZGVsVmFsdWVcIiBwcm9wLCB3aGljaCBpcyBWdWUgMyB1c2FnZSwgYnV0IGAgK1xuICAgICAgICAgICAgICAgICAgICBgaXMgcnVubmluZyB1bmRlciBWdWUgMiBjb21wYXQgdi1tb2RlbCBiZWhhdmlvci4gWW91IGNhbiAke2NvbmZpZ01zZ31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoYHYtbW9kZWwgdXNhZ2Ugb24gY29tcG9uZW50IGhhcyBjaGFuZ2VkIGluIFZ1ZSAzLiBDb21wb25lbnQgdGhhdCBleHBlY3RzIGAgK1xuICAgICAgICAgICAgICAgIGB0byB3b3JrIHdpdGggdi1tb2RlbCBzaG91bGQgbm93IHVzZSB0aGUgXCJtb2RlbFZhbHVlXCIgcHJvcCBhbmQgZW1pdCB0aGUgYCArXG4gICAgICAgICAgICAgICAgYFwidXBkYXRlOm1vZGVsVmFsdWVcIiBldmVudC4gWW91IGNhbiB1cGRhdGUgdGhlIHVzYWdlIGFuZCB0aGVuICR7Y29uZmlnTXNnfWApO1xuICAgICAgICB9LFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvdi1tb2RlbC5odG1sYFxuICAgIH0sXG4gICAgW1wiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgMydzIHJlbmRlciBmdW5jdGlvbiBBUEkgaGFzIGNoYW5nZWQuIGAgK1xuICAgICAgICAgICAgYFlvdSBjYW4gb3B0LWluIHRvIHRoZSBuZXcgQVBJIHdpdGg6YCArXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi99OiBmYWxzZSB9KVxcbmAgK1xuICAgICAgICAgICAgYFxcbiAgKFRoaXMgY2FuIGFsc28gYmUgZG9uZSBwZXItY29tcG9uZW50IHZpYSB0aGUgXCJjb21wYXRDb25maWdcIiBvcHRpb24uKWAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9yZW5kZXItZnVuY3Rpb24tYXBpLmh0bWxgXG4gICAgfSxcbiAgICBbXCJGSUxURVJTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5GSUxURVJTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgZmlsdGVycyBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgVGhlIFwifFwiIHN5bWJvbCB3aWxsIGJlIHRyZWF0ZWQgYXMgbmF0aXZlIEphdmFTY3JpcHQgYml0d2lzZSBPUiBvcGVyYXRvci4gYCArXG4gICAgICAgICAgICBgVXNlIG1ldGhvZCBjYWxscyBvciBjb21wdXRlZCBwcm9wZXJ0aWVzIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2ZpbHRlcnMuaHRtbGBcbiAgICB9LFxuICAgIFtcIlBSSVZBVEVfQVBJU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuUFJJVkFURV9BUElTICovXToge1xuICAgICAgICBtZXNzYWdlOiBuYW1lID0+IGBcIiR7bmFtZX1cIiBpcyBhIFZ1ZSAyIHByaXZhdGUgQVBJIHRoYXQgbm8gbG9uZ2VyIGV4aXN0cyBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgSWYgeW91IGFyZSBzZWVpbmcgdGhpcyB3YXJuaW5nIG9ubHkgZHVlIHRvIGEgZGVwZW5kZW5jeSwgeW91IGNhbiBgICtcbiAgICAgICAgICAgIGBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgdmlhIHsgUFJJVkFURV9BUElTOiAnc3VwcHJlc3Mtd2FybmluZycgfS5gXG4gICAgfVxufTtcbmNvbnN0IGluc3RhbmNlV2FybmVkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IHdhcm5Db3VudCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiB3YXJuRGVwcmVjYXRpb24oa2V5LCBpbnN0YW5jZSwgLi4uYXJncykge1xuICAgIGlmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zdGFuY2UgPSBpbnN0YW5jZSB8fCBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAvLyBjaGVjayB1c2VyIGNvbmZpZ1xuICAgIGNvbnN0IGNvbmZpZyA9IGdldENvbXBhdENvbmZpZ0ZvcktleShrZXksIGluc3RhbmNlKTtcbiAgICBpZiAoY29uZmlnID09PSAnc3VwcHJlc3Mtd2FybmluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkdXBLZXkgPSBrZXkgKyBhcmdzLmpvaW4oJycpO1xuICAgIGxldCBjb21wSWQgPSBpbnN0YW5jZSAmJiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoY29tcElkID09PSAnQW5vbnltb3VzJyAmJiBpbnN0YW5jZSkge1xuICAgICAgICBjb21wSWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgfVxuICAgIC8vIHNraXAgaWYgdGhlIHNhbWUgd2FybmluZyBpcyBlbWl0dGVkIGZvciB0aGUgc2FtZSBjb21wb25lbnQgdHlwZVxuICAgIGNvbnN0IGNvbXBvbmVudER1cEtleSA9IGR1cEtleSArIGNvbXBJZDtcbiAgICBpZiAoY29tcG9uZW50RHVwS2V5IGluIGluc3RhbmNlV2FybmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zdGFuY2VXYXJuZWRbY29tcG9uZW50RHVwS2V5XSA9IHRydWU7XG4gICAgLy8gc2FtZSB3YXJuaW5nLCBidXQgZGlmZmVyZW50IGNvbXBvbmVudC4gc2tpcCB0aGUgbG9uZyBtZXNzYWdlIGFuZCBqdXN0XG4gICAgLy8gbG9nIHRoZSBrZXkgYW5kIGNvdW50LlxuICAgIGlmIChkdXBLZXkgaW4gd2FybkNvdW50KSB7XG4gICAgICAgIHdhcm4kMShgKGRlcHJlY2F0aW9uICR7a2V5fSkgKCR7Kyt3YXJuQ291bnRbZHVwS2V5XSArIDF9KWApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHdhcm5Db3VudFtkdXBLZXldID0gMDtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIGxpbmsgfSA9IGRlcHJlY2F0aW9uRGF0YVtrZXldO1xuICAgIHdhcm4kMShgKGRlcHJlY2F0aW9uICR7a2V5fSkgJHt0eXBlb2YgbWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJyA/IG1lc3NhZ2UoLi4uYXJncykgOiBtZXNzYWdlfSR7bGluayA/IGBcXG4gIERldGFpbHM6ICR7bGlua31gIDogYGB9YCk7XG4gICAgaWYgKCFpc0NvbXBhdEVuYWJsZWQoa2V5LCBpbnN0YW5jZSwgdHJ1ZSkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgXiBUaGUgYWJvdmUgZGVwcmVjYXRpb24ncyBjb21wYXQgYmVoYXZpb3IgaXMgZGlzYWJsZWQgYW5kIHdpbGwgbGlrZWx5IGAgK1xuICAgICAgICAgICAgYGxlYWQgdG8gcnVudGltZSBlcnJvcnMuYCk7XG4gICAgfVxufVxuY29uc3QgZ2xvYmFsQ29tcGF0Q29uZmlnID0ge1xuICAgIE1PREU6IDJcbn07XG5mdW5jdGlvbiBjb25maWd1cmVDb21wYXQoY29uZmlnKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB2YWxpZGF0ZUNvbXBhdENvbmZpZyhjb25maWcpO1xuICAgIH1cbiAgICBleHRlbmQoZ2xvYmFsQ29tcGF0Q29uZmlnLCBjb25maWcpO1xufVxuY29uc3Qgc2VlbkNvbmZpZ09iamVjdHMgPSAvKiNfX1BVUkVfXyovIG5ldyBXZWFrU2V0KCk7XG5jb25zdCB3YXJuZWRJbnZhbGlkS2V5cyA9IHt9O1xuLy8gZGV2IG9ubHlcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcGF0Q29uZmlnKGNvbmZpZywgaW5zdGFuY2UpIHtcbiAgICBpZiAoc2VlbkNvbmZpZ09iamVjdHMuaGFzKGNvbmZpZykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZWVuQ29uZmlnT2JqZWN0cy5hZGQoY29uZmlnKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjb25maWcpKSB7XG4gICAgICAgIGlmIChrZXkgIT09ICdNT0RFJyAmJlxuICAgICAgICAgICAgIShrZXkgaW4gZGVwcmVjYXRpb25EYXRhKSAmJlxuICAgICAgICAgICAgIShrZXkgaW4gd2FybmVkSW52YWxpZEtleXMpKSB7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ0NPTVBJTEVSXycpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYERlcHJlY2F0aW9uIGNvbmZpZyBcIiR7a2V5fVwiIGlzIGNvbXBpbGVyLXNwZWNpZmljIGFuZCB5b3UgYXJlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHJ1bm5pbmcgYSBydW50aW1lLW9ubHkgYnVpbGQgb2YgVnVlLiBUaGlzIGRlcHJlY2F0aW9uIHNob3VsZCBiZSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBjb25maWd1cmVkIHZpYSBjb21waWxlciBvcHRpb25zIGluIHlvdXIgYnVpbGQgc2V0dXAgaW5zdGVhZC5cXG5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBEZXRhaWxzOiBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9taWdyYXRpb24tYnVpbGQuaHRtbGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgSW52YWxpZCBkZXByZWNhdGlvbiBjb25maWcgXCIke2tleX1cIi5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdhcm5lZEludmFsaWRLZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZSAmJiBjb25maWdbXCJPUFRJT05TX0RBVEFfTUVSR0VcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREFUQV9NRVJHRSAqL10gIT0gbnVsbCkge1xuICAgICAgICB3YXJuJDEoYERlcHJlY2F0aW9uIGNvbmZpZyBcIiR7XCJPUFRJT05TX0RBVEFfTUVSR0VcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREFUQV9NRVJHRSAqL31cIiBjYW4gb25seSBiZSBjb25maWd1cmVkIGdsb2JhbGx5LmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENvbXBhdENvbmZpZ0ZvcktleShrZXksIGluc3RhbmNlKSB7XG4gICAgY29uc3QgaW5zdGFuY2VDb25maWcgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLmNvbXBhdENvbmZpZztcbiAgICBpZiAoaW5zdGFuY2VDb25maWcgJiYga2V5IGluIGluc3RhbmNlQ29uZmlnKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZUNvbmZpZ1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsQ29tcGF0Q29uZmlnW2tleV07XG59XG5mdW5jdGlvbiBpc0NvbXBhdEVuYWJsZWQoa2V5LCBpbnN0YW5jZSwgZW5hYmxlRm9yQnVpbHRJbiA9IGZhbHNlKSB7XG4gICAgLy8gc2tpcCBjb21wYXQgZm9yIGJ1aWx0LWluIGNvbXBvbmVudHNcbiAgICBpZiAoIWVuYWJsZUZvckJ1aWx0SW4gJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX2lzQnVpbHRJbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHJhd01vZGUgPSBnZXRDb21wYXRDb25maWdGb3JLZXkoJ01PREUnLCBpbnN0YW5jZSkgfHwgMjtcbiAgICBjb25zdCB2YWwgPSBnZXRDb21wYXRDb25maWdGb3JLZXkoa2V5LCBpbnN0YW5jZSk7XG4gICAgY29uc3QgbW9kZSA9IGlzRnVuY3Rpb24ocmF3TW9kZSlcbiAgICAgICAgPyByYXdNb2RlKGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUpXG4gICAgICAgIDogcmF3TW9kZTtcbiAgICBpZiAobW9kZSA9PT0gMikge1xuICAgICAgICByZXR1cm4gdmFsICE9PSBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWwgPT09IHRydWUgfHwgdmFsID09PSAnc3VwcHJlc3Mtd2FybmluZyc7XG4gICAgfVxufVxuLyoqXG4gKiBVc2UgdGhpcyBmb3IgZmVhdHVyZXMgdGhhdCBhcmUgY29tcGxldGVseSByZW1vdmVkIGluIG5vbi1jb21wYXQgYnVpbGQuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydENvbXBhdEVuYWJsZWQoa2V5LCBpbnN0YW5jZSwgLi4uYXJncykge1xuICAgIGlmICghaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtrZXl9IGNvbXBhdCBoYXMgYmVlbiBkaXNhYmxlZC5gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm5EZXByZWNhdGlvbihrZXksIGluc3RhbmNlLCAuLi5hcmdzKTtcbiAgICB9XG59XG4vKipcbiAqIFVzZSB0aGlzIGZvciBmZWF0dXJlcyB3aGVyZSBsZWdhY3kgdXNhZ2UgaXMgc3RpbGwgcG9zc2libGUsIGJ1dCB3aWxsIGxpa2VseVxuICogbGVhZCB0byBydW50aW1lIGVycm9yIGlmIGNvbXBhdCBpcyBkaXNhYmxlZC4gKHdhcm4gaW4gYWxsIGNhc2VzKVxuICovXG5mdW5jdGlvbiBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlLCAuLi5hcmdzKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuRGVwcmVjYXRpb24oa2V5LCBpbnN0YW5jZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBpc0NvbXBhdEVuYWJsZWQoa2V5LCBpbnN0YW5jZSk7XG59XG4vKipcbiAqIFVzZSB0aGlzIGZvciBmZWF0dXJlcyB3aXRoIHRoZSBzYW1lIHN5bnRheCBidXQgd2l0aCBtdXR1YWxseSBleGNsdXNpdmVcbiAqIGJlaGF2aW9yIGluIDIgdnMgMy4gT25seSB3YXJuIGlmIGNvbXBhdCBpcyBlbmFibGVkLlxuICogZS5nLiByZW5kZXIgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gY2hlY2tDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBlbmFibGVkID0gaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZW5hYmxlZCkge1xuICAgICAgICB3YXJuRGVwcmVjYXRpb24oa2V5LCBpbnN0YW5jZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xufVxuXG5jb25zdCBldmVudFJlZ2lzdHJ5TWFwID0gLyojX19QVVJFX18qLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gZ2V0UmVnaXN0cnkoaW5zdGFuY2UpIHtcbiAgICBsZXQgZXZlbnRzID0gZXZlbnRSZWdpc3RyeU1hcC5nZXQoaW5zdGFuY2UpO1xuICAgIGlmICghZXZlbnRzKSB7XG4gICAgICAgIGV2ZW50UmVnaXN0cnlNYXAuc2V0KGluc3RhbmNlLCAoZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKSkpO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnRzO1xufVxuZnVuY3Rpb24gb24oaW5zdGFuY2UsIGV2ZW50LCBmbikge1xuICAgIGlmIChpc0FycmF5KGV2ZW50KSkge1xuICAgICAgICBldmVudC5mb3JFYWNoKGUgPT4gb24oaW5zdGFuY2UsIGUsIGZuKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoZXZlbnQuc3RhcnRzV2l0aCgnaG9vazonKSkge1xuICAgICAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9FTUlUVEVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9FTUlUVEVSICovLCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXZlbnRzID0gZ2V0UmVnaXN0cnkoaW5zdGFuY2UpO1xuICAgICAgICAoZXZlbnRzW2V2ZW50XSB8fCAoZXZlbnRzW2V2ZW50XSA9IFtdKSkucHVzaChmbik7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZS5wcm94eTtcbn1cbmZ1bmN0aW9uIG9uY2UoaW5zdGFuY2UsIGV2ZW50LCBmbikge1xuICAgIGNvbnN0IHdyYXBwZWQgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBvZmYoaW5zdGFuY2UsIGV2ZW50LCB3cmFwcGVkKTtcbiAgICAgICAgZm4uY2FsbChpbnN0YW5jZS5wcm94eSwgLi4uYXJncyk7XG4gICAgfTtcbiAgICB3cmFwcGVkLmZuID0gZm47XG4gICAgb24oaW5zdGFuY2UsIGV2ZW50LCB3cmFwcGVkKTtcbiAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG59XG5mdW5jdGlvbiBvZmYoaW5zdGFuY2UsIGV2ZW50LCBmbikge1xuICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9FTUlUVEVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9FTUlUVEVSICovLCBpbnN0YW5jZSk7XG4gICAgY29uc3Qgdm0gPSBpbnN0YW5jZS5wcm94eTtcbiAgICAvLyBhbGxcbiAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgIGV2ZW50UmVnaXN0cnlNYXAuc2V0KGluc3RhbmNlLCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgICAgcmV0dXJuIHZtO1xuICAgIH1cbiAgICAvLyBhcnJheSBvZiBldmVudHNcbiAgICBpZiAoaXNBcnJheShldmVudCkpIHtcbiAgICAgICAgZXZlbnQuZm9yRWFjaChlID0+IG9mZihpbnN0YW5jZSwgZSwgZm4pKTtcbiAgICAgICAgcmV0dXJuIHZtO1xuICAgIH1cbiAgICAvLyBzcGVjaWZpYyBldmVudFxuICAgIGNvbnN0IGV2ZW50cyA9IGdldFJlZ2lzdHJ5KGluc3RhbmNlKTtcbiAgICBjb25zdCBjYnMgPSBldmVudHNbZXZlbnRdO1xuICAgIGlmICghY2JzKSB7XG4gICAgICAgIHJldHVybiB2bTtcbiAgICB9XG4gICAgaWYgKCFmbikge1xuICAgICAgICBldmVudHNbZXZlbnRdID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdm07XG4gICAgfVxuICAgIGV2ZW50c1tldmVudF0gPSBjYnMuZmlsdGVyKGNiID0+ICEoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikpO1xuICAgIHJldHVybiB2bTtcbn1cbmZ1bmN0aW9uIGVtaXQkMShpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpIHtcbiAgICBjb25zdCBjYnMgPSBnZXRSZWdpc3RyeShpbnN0YW5jZSlbZXZlbnRdO1xuICAgIGlmIChjYnMpIHtcbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoY2JzLm1hcChjYiA9PiBjYi5iaW5kKGluc3RhbmNlLnByb3h5KSksIGluc3RhbmNlLCA2IC8qIEVycm9yQ29kZXMuQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG59XG5cbmNvbnN0IGNvbXBhdE1vZGVsRXZlbnRQcmVmaXggPSBgb25Nb2RlbENvbXBhdDpgO1xuY29uc3Qgd2FybmVkVHlwZXMgPSBuZXcgV2Vha1NldCgpO1xuZnVuY3Rpb24gY29udmVydExlZ2FjeVZNb2RlbFByb3BzKHZub2RlKSB7XG4gICAgY29uc3QgeyB0eXBlLCBzaGFwZUZsYWcsIHByb3BzLCBkeW5hbWljUHJvcHMgfSA9IHZub2RlO1xuICAgIGNvbnN0IGNvbXAgPSB0eXBlO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovICYmIHByb3BzICYmICdtb2RlbFZhbHVlJyBpbiBwcm9wcykge1xuICAgICAgICBpZiAoIWlzQ29tcGF0RW5hYmxlZChcIkNPTVBPTkVOVF9WX01PREVMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfVl9NT0RFTCAqLywgXG4gICAgICAgIC8vIHRoaXMgaXMgYSBzcGVjaWFsIGNhc2Ugd2hlcmUgd2Ugd2FudCB0byB1c2UgdGhlIHZub2RlIGNvbXBvbmVudCdzXG4gICAgICAgIC8vIGNvbXBhdCBjb25maWcgaW5zdGVhZCBvZiB0aGUgY3VycmVudCByZW5kZXJpbmcgaW5zdGFuY2UgKHdoaWNoIGlzIHRoZVxuICAgICAgICAvLyBwYXJlbnQgb2YgdGhlIGNvbXBvbmVudCB0aGF0IGV4cG9zZXMgdi1tb2RlbClcbiAgICAgICAgeyB0eXBlIH0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhd2FybmVkVHlwZXMuaGFzKGNvbXApKSB7XG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpO1xuICAgICAgICAgICAgd2FybkRlcHJlY2F0aW9uKFwiQ09NUE9ORU5UX1ZfTU9ERUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9WX01PREVMICovLCB7IHR5cGUgfSwgY29tcCk7XG4gICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICAgICAgd2FybmVkVHlwZXMuYWRkKGNvbXApO1xuICAgICAgICB9XG4gICAgICAgIC8vIHYzIGNvbXBpbGVkIG1vZGVsIGNvZGUgLT4gdjIgY29tcGF0IHByb3BzXG4gICAgICAgIC8vIG1vZGVsVmFsdWUgLT4gdmFsdWVcbiAgICAgICAgLy8gb25VcGRhdGU6bW9kZWxWYWx1ZSAtPiBvbk1vZGVsQ29tcGF0OmlucHV0XG4gICAgICAgIGNvbnN0IG1vZGVsID0gY29tcC5tb2RlbCB8fCB7fTtcbiAgICAgICAgYXBwbHlNb2RlbEZyb21NaXhpbnMobW9kZWwsIGNvbXAubWl4aW5zKTtcbiAgICAgICAgY29uc3QgeyBwcm9wID0gJ3ZhbHVlJywgZXZlbnQgPSAnaW5wdXQnIH0gPSBtb2RlbDtcbiAgICAgICAgaWYgKHByb3AgIT09ICdtb2RlbFZhbHVlJykge1xuICAgICAgICAgICAgcHJvcHNbcHJvcF0gPSBwcm9wcy5tb2RlbFZhbHVlO1xuICAgICAgICAgICAgZGVsZXRlIHByb3BzLm1vZGVsVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW1wb3J0YW50OiB1cGRhdGUgZHluYW1pYyBwcm9wc1xuICAgICAgICBpZiAoZHluYW1pY1Byb3BzKSB7XG4gICAgICAgICAgICBkeW5hbWljUHJvcHNbZHluYW1pY1Byb3BzLmluZGV4T2YoJ21vZGVsVmFsdWUnKV0gPSBwcm9wO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzW2NvbXBhdE1vZGVsRXZlbnRQcmVmaXggKyBldmVudF0gPSBwcm9wc1snb25VcGRhdGU6bW9kZWxWYWx1ZSddO1xuICAgICAgICBkZWxldGUgcHJvcHNbJ29uVXBkYXRlOm1vZGVsVmFsdWUnXTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseU1vZGVsRnJvbU1peGlucyhtb2RlbCwgbWl4aW5zKSB7XG4gICAgaWYgKG1peGlucykge1xuICAgICAgICBtaXhpbnMuZm9yRWFjaChtID0+IHtcbiAgICAgICAgICAgIGlmIChtLm1vZGVsKVxuICAgICAgICAgICAgICAgIGV4dGVuZChtb2RlbCwgbS5tb2RlbCk7XG4gICAgICAgICAgICBpZiAobS5taXhpbnMpXG4gICAgICAgICAgICAgICAgYXBwbHlNb2RlbEZyb21NaXhpbnMobW9kZWwsIG0ubWl4aW5zKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGF0TW9kZWxFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncykge1xuICAgIGlmICghaXNDb21wYXRFbmFibGVkKFwiQ09NUE9ORU5UX1ZfTU9ERUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9WX01PREVMICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xuICAgIGNvbnN0IG1vZGVsSGFuZGxlciA9IHByb3BzICYmIHByb3BzW2NvbXBhdE1vZGVsRXZlbnRQcmVmaXggKyBldmVudF07XG4gICAgaWYgKG1vZGVsSGFuZGxlcikge1xuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcobW9kZWxIYW5kbGVyLCBpbnN0YW5jZSwgNiAvKiBFcnJvckNvZGVzLkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGVtaXQkMihpbnN0YW5jZSwgZXZlbnQsIC4uLnJhd0FyZ3MpIHtcbiAgICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBwcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IHsgZW1pdHNPcHRpb25zLCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKGVtaXRzT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKCEoZXZlbnQgaW4gZW1pdHNPcHRpb25zKSAmJlxuICAgICAgICAgICAgICAgICEoKGV2ZW50LnN0YXJ0c1dpdGgoJ2hvb2s6JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0YXJ0c1dpdGgoY29tcGF0TW9kZWxFdmVudFByZWZpeCkpKSkge1xuICAgICAgICAgICAgICAgIGlmICghcHJvcHNPcHRpb25zIHx8ICEodG9IYW5kbGVyS2V5KGV2ZW50KSBpbiBwcm9wc09wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IGVtaXR0ZWQgZXZlbnQgXCIke2V2ZW50fVwiIGJ1dCBpdCBpcyBuZWl0aGVyIGRlY2xhcmVkIGluIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHRoZSBlbWl0cyBvcHRpb24gbm9yIGFzIGFuIFwiJHt0b0hhbmRsZXJLZXkoZXZlbnQpfVwiIHByb3AuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWxpZGF0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0b3IoLi4ucmF3QXJncyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgYXJncyA9IHJhd0FyZ3M7XG4gICAgY29uc3QgaXNNb2RlbExpc3RlbmVyID0gZXZlbnQuc3RhcnRzV2l0aCgndXBkYXRlOicpO1xuICAgIC8vIGZvciB2LW1vZGVsIHVwZGF0ZTp4eHggZXZlbnRzLCBhcHBseSBtb2RpZmllcnMgb24gYXJnc1xuICAgIGNvbnN0IG1vZGVsQXJnID0gaXNNb2RlbExpc3RlbmVyICYmIGV2ZW50LnNsaWNlKDcpO1xuICAgIGlmIChtb2RlbEFyZyAmJiBtb2RlbEFyZyBpbiBwcm9wcykge1xuICAgICAgICBjb25zdCBtb2RpZmllcnNLZXkgPSBgJHttb2RlbEFyZyA9PT0gJ21vZGVsVmFsdWUnID8gJ21vZGVsJyA6IG1vZGVsQXJnfU1vZGlmaWVyc2A7XG4gICAgICAgIGNvbnN0IHsgbnVtYmVyLCB0cmltIH0gPSBwcm9wc1ttb2RpZmllcnNLZXldIHx8IEVNUFRZX09CSjtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcChhID0+IChpc1N0cmluZyhhKSA/IGEudHJpbSgpIDogYSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChudW1iZXIpIHtcbiAgICAgICAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcCh0b051bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobG93ZXJDYXNlRXZlbnQgIT09IGV2ZW50ICYmIHByb3BzW3RvSGFuZGxlcktleShsb3dlckNhc2VFdmVudCldKSB7XG4gICAgICAgICAgICB3YXJuJDEoYEV2ZW50IFwiJHtsb3dlckNhc2VFdmVudH1cIiBpcyBlbWl0dGVkIGluIGNvbXBvbmVudCBgICtcbiAgICAgICAgICAgICAgICBgJHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0gYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFwiJHtldmVudH1cIi4gYCArXG4gICAgICAgICAgICAgICAgYE5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIHlvdSBjYW5ub3QgdXNlIGAgK1xuICAgICAgICAgICAgICAgIGB2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gYCArXG4gICAgICAgICAgICAgICAgYFlvdSBzaG91bGQgcHJvYmFibHkgdXNlIFwiJHtoeXBoZW5hdGUoZXZlbnQpfVwiIGluc3RlYWQgb2YgXCIke2V2ZW50fVwiLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBoYW5kbGVyTmFtZTtcbiAgICBsZXQgaGFuZGxlciA9IHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShldmVudCkpXSB8fFxuICAgICAgICAvLyBhbHNvIHRyeSBjYW1lbENhc2UgZXZlbnQgaGFuZGxlciAoIzIyNDkpXG4gICAgICAgIHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpKV07XG4gICAgLy8gZm9yIHYtbW9kZWwgdXBkYXRlOnh4eCBldmVudHMsIGFsc28gdHJpZ2dlciBrZWJhYi1jYXNlIGVxdWl2YWxlbnRcbiAgICAvLyBmb3IgcHJvcHMgcGFzc2VkIHZpYSBrZWJhYi1jYXNlXG4gICAgaWYgKCFoYW5kbGVyICYmIGlzTW9kZWxMaXN0ZW5lcikge1xuICAgICAgICBoYW5kbGVyID0gcHJvcHNbKGhhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGh5cGhlbmF0ZShldmVudCkpKV07XG4gICAgfVxuICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhhbmRsZXIsIGluc3RhbmNlLCA2IC8qIEVycm9yQ29kZXMuQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVIgKi8sIGFyZ3MpO1xuICAgIH1cbiAgICBjb25zdCBvbmNlSGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lICsgYE9uY2VgXTtcbiAgICBpZiAob25jZUhhbmRsZXIpIHtcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5lbWl0dGVkKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5lbWl0dGVkID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSA9IHRydWU7XG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKG9uY2VIYW5kbGVyLCBpbnN0YW5jZSwgNiAvKiBFcnJvckNvZGVzLkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcbiAgICB9XG4gICAge1xuICAgICAgICBjb21wYXRNb2RlbEVtaXQoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIGVtaXQkMShpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQuZW1pdHNDYWNoZTtcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29tcCk7XG4gICAgaWYgKGNhY2hlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJhdyA9IGNvbXAuZW1pdHM7XG4gICAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcbiAgICAvLyBhcHBseSBtaXhpbi9leHRlbmRzIHByb3BzXG4gICAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgICAgICBjb25zdCBleHRlbmRFbWl0cyA9IChyYXcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGcm9tRXh0ZW5kID0gbm9ybWFsaXplRW1pdHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcbiAgICAgICAgICAgICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgbm9ybWFsaXplZEZyb21FeHRlbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcC5leHRlbmRzKSB7XG4gICAgICAgICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICAgICAgICBjYWNoZS5zZXQoY29tcCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICAgICAgcmF3LmZvckVhY2goa2V5ID0+IChub3JtYWxpemVkW2tleV0gPSBudWxsKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgcmF3KTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICAgIGNhY2hlLnNldChjb21wLCBub3JtYWxpemVkKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59XG4vLyBDaGVjayBpZiBhbiBpbmNvbWluZyBwcm9wIGtleSBpcyBhIGRlY2xhcmVkIGVtaXQgZXZlbnQgbGlzdGVuZXIuXG4vLyBlLmcuIFdpdGggYGVtaXRzOiB7IGNsaWNrOiBudWxsIH1gLCBwcm9wcyBuYW1lZCBgb25DbGlja2AgYW5kIGBvbmNsaWNrYCBhcmVcbi8vIGJvdGggY29uc2lkZXJlZCBtYXRjaGVkIGxpc3RlbmVycy5cbmZ1bmN0aW9uIGlzRW1pdExpc3RlbmVyKG9wdGlvbnMsIGtleSkge1xuICAgIGlmICghb3B0aW9ucyB8fCAhaXNPbihrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKGNvbXBhdE1vZGVsRXZlbnRQcmVmaXgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBrZXkgPSBrZXkuc2xpY2UoMikucmVwbGFjZSgvT25jZSQvLCAnJyk7XG4gICAgcmV0dXJuIChoYXNPd24ob3B0aW9ucywga2V5WzBdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSkpIHx8XG4gICAgICAgIGhhc093bihvcHRpb25zLCBoeXBoZW5hdGUoa2V5KSkgfHxcbiAgICAgICAgaGFzT3duKG9wdGlvbnMsIGtleSkpO1xufVxuXG4vKipcbiAqIG1hcmsgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlIGZvciBhc3NldCByZXNvbHV0aW9uIChlLmcuXG4gKiByZXNvbHZlQ29tcG9uZW50LCByZXNvbHZlRGlyZWN0aXZlKSBkdXJpbmcgcmVuZGVyXG4gKi9cbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xubGV0IGN1cnJlbnRTY29wZUlkID0gbnVsbDtcbi8qKlxuICogTm90ZTogcmVuZGVyaW5nIGNhbGxzIG1heWJlIG5lc3RlZC4gVGhlIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBhcmVudCByZW5kZXJpbmdcbiAqIGluc3RhbmNlIGlmIHByZXNlbnQsIHdoaWNoIHNob3VsZCBiZSByZXN0b3JlZCBhZnRlciB0aGUgcmVuZGVyIGlzIGRvbmU6XG4gKlxuICogYGBganNcbiAqIGNvbnN0IHByZXYgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaSlcbiAqIC8vIC4uLnJlbmRlclxuICogc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgY29uc3QgcHJldiA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICBjdXJyZW50U2NvcGVJZCA9IChpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZCkgfHwgbnVsbDtcbiAgICAvLyB2MiBwcmUtY29tcGlsZWQgY29tcG9uZW50cyB1c2VzIF9zY29wZUlkIGluc3RlYWQgb2YgX19zY29wZUlkXG4gICAgaWYgKCFjdXJyZW50U2NvcGVJZCkge1xuICAgICAgICBjdXJyZW50U2NvcGVJZCA9IChpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9zY29wZUlkKSB8fCBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcHJldjtcbn1cbi8qKlxuICogU2V0IHNjb3BlIGlkIHdoZW4gY3JlYXRpbmcgaG9pc3RlZCB2bm9kZXMuXG4gKiBAcHJpdmF0ZSBjb21waWxlciBoZWxwZXJcbiAqL1xuZnVuY3Rpb24gcHVzaFNjb3BlSWQoaWQpIHtcbiAgICBjdXJyZW50U2NvcGVJZCA9IGlkO1xufVxuLyoqXG4gKiBUZWNobmljYWxseSB3ZSBubyBsb25nZXIgbmVlZCB0aGlzIGFmdGVyIDMuMC44IGJ1dCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHNhbWVcbiAqIEFQSSBmb3IgYmFja3dhcmRzIGNvbXBhdCB3LyBjb2RlIGdlbmVyYXRlZCBieSBjb21waWxlcnMuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xuICAgIGN1cnJlbnRTY29wZUlkID0gbnVsbDtcbn1cbi8qKlxuICogT25seSBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICogQHByaXZhdGVcbiAqL1xuY29uc3Qgd2l0aFNjb3BlSWQgPSAoX2lkKSA9PiB3aXRoQ3R4O1xuLyoqXG4gKiBXcmFwIGEgc2xvdCBmdW5jdGlvbiB0byBtZW1vaXplIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlXG4gKiBAcHJpdmF0ZSBjb21waWxlciBoZWxwZXJcbiAqL1xuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCBpc05vblNjb3BlZFNsb3QgLy8gdHJ1ZSBvbmx5XG4pIHtcbiAgICBpZiAoIWN0eClcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgIC8vIGFscmVhZHkgbm9ybWFsaXplZFxuICAgIGlmIChmbi5fbikge1xuICAgICAgICByZXR1cm4gZm47XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlckZuV2l0aENvbnRleHQgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAvLyBJZiBhIHVzZXIgY2FsbHMgYSBjb21waWxlZCBzbG90IGluc2lkZSBhIHRlbXBsYXRlIGV4cHJlc3Npb24gKCMxNzQ1KSwgaXRcbiAgICAgICAgLy8gY2FuIG1lc3MgdXAgYmxvY2sgdHJhY2tpbmcsIHNvIGJ5IGRlZmF1bHQgd2UgZGlzYWJsZSBibG9jayB0cmFja2luZyBhbmRcbiAgICAgICAgLy8gZm9yY2UgYmFpbCBvdXQgd2hlbiBpbnZva2luZyBhIGNvbXBpbGVkIHNsb3QgKGluZGljYXRlZCBieSB0aGUgLl9kIGZsYWcpLlxuICAgICAgICAvLyBUaGlzIGlzbid0IG5lY2Vzc2FyeSBpZiByZW5kZXJpbmcgYSBjb21waWxlZCBgPHNsb3Q+YCwgc28gd2UgZmxpcCB0aGVcbiAgICAgICAgLy8gLl9kIGZsYWcgb2ZmIHdoZW4gaW52b2tpbmcgdGhlIHdyYXBwZWQgZm4gaW5zaWRlIGByZW5kZXJTbG90YC5cbiAgICAgICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgICAgICAgIHNldEJsb2NrVHJhY2tpbmcoLTEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZJbnN0YW5jZSA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShjdHgpO1xuICAgICAgICBsZXQgcmVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzID0gZm4oLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldkluc3RhbmNlKTtcbiAgICAgICAgICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICAgICAgICAgICAgc2V0QmxvY2tUcmFja2luZygxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIC8vIG1hcmsgbm9ybWFsaXplZCB0byBhdm9pZCBkdXBsaWNhdGVkIHdyYXBwaW5nXG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fbiA9IHRydWU7XG4gICAgLy8gbWFyayB0aGlzIGFzIGNvbXBpbGVkIGJ5IGRlZmF1bHRcbiAgICAvLyB0aGlzIGlzIHVzZWQgaW4gdm5vZGUudHMgLT4gbm9ybWFsaXplQ2hpbGRyZW4oKSB0byBzZXQgdGhlIHNsb3RcbiAgICAvLyByZW5kZXJpbmcgZmxhZy5cbiAgICByZW5kZXJGbldpdGhDb250ZXh0Ll9jID0gdHJ1ZTtcbiAgICAvLyBkaXNhYmxlIGJsb2NrIHRyYWNraW5nIGJ5IGRlZmF1bHRcbiAgICByZW5kZXJGbldpdGhDb250ZXh0Ll9kID0gdHJ1ZTtcbiAgICAvLyBjb21wYXQgYnVpbGQgb25seSBmbGFnIHRvIGRpc3Rpbmd1aXNoIHNjb3BlZCBzbG90cyBmcm9tIG5vbi1zY29wZWQgb25lc1xuICAgIGlmIChpc05vblNjb3BlZFNsb3QpIHtcbiAgICAgICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fbnMgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcbn1cblxuLyoqXG4gKiBkZXYgb25seSBmbGFnIHRvIHRyYWNrIHdoZXRoZXIgJGF0dHJzIHdhcyB1c2VkIGR1cmluZyByZW5kZXIuXG4gKiBJZiAkYXR0cnMgd2FzIHVzZWQgZHVyaW5nIHJlbmRlciB0aGVuIHRoZSB3YXJuaW5nIGZvciBmYWlsZWQgYXR0cnNcbiAqIGZhbGx0aHJvdWdoIGNhbiBiZSBzdXBwcmVzc2VkLlxuICovXG5sZXQgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xuZnVuY3Rpb24gbWFya0F0dHJzQWNjZXNzZWQoKSB7XG4gICAgYWNjZXNzZWRBdHRycyA9IHRydWU7XG59XG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSB7XG4gICAgY29uc3QgeyB0eXBlOiBDb21wb25lbnQsIHZub2RlLCBwcm94eSwgd2l0aFByb3h5LCBwcm9wcywgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSwgc2xvdHMsIGF0dHJzLCBlbWl0LCByZW5kZXIsIHJlbmRlckNhY2hlLCBkYXRhLCBzZXR1cFN0YXRlLCBjdHgsIGluaGVyaXRBdHRycyB9ID0gaW5zdGFuY2U7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBsZXQgZmFsbHRocm91Z2hBdHRycztcbiAgICBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU2hhcGVGbGFncy5TVEFURUZVTF9DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgIC8vIHdpdGhQcm94eSBpcyBhIHByb3h5IHdpdGggYSBkaWZmZXJlbnQgYGhhc2AgdHJhcCBvbmx5IGZvclxuICAgICAgICAgICAgLy8gcnVudGltZS1jb21waWxlZCByZW5kZXIgZnVuY3Rpb25zIHVzaW5nIGB3aXRoYCBibG9jay5cbiAgICAgICAgICAgIGNvbnN0IHByb3h5VG9Vc2UgPSB3aXRoUHJveHkgfHwgcHJveHk7XG4gICAgICAgICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShyZW5kZXIuY2FsbChwcm94eVRvVXNlLCBwcm94eVRvVXNlLCByZW5kZXJDYWNoZSwgcHJvcHMsIHNldHVwU3RhdGUsIGRhdGEsIGN0eCkpO1xuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGF0dHJzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbFxuICAgICAgICAgICAgY29uc3QgcmVuZGVyID0gQ29tcG9uZW50O1xuICAgICAgICAgICAgLy8gaW4gZGV2LCBtYXJrIGF0dHJzIGFjY2Vzc2VkIGlmIG9wdGlvbmFsIHByb3BzIChhdHRycyA9PT0gcHJvcHMpXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGF0dHJzID09PSBwcm9wcykge1xuICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShyZW5kZXIubGVuZ3RoID4gMVxuICAgICAgICAgICAgICAgID8gcmVuZGVyKHByb3BzLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2xvdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7IGF0dHJzLCBzbG90cywgZW1pdCB9KVxuICAgICAgICAgICAgICAgIDogcmVuZGVyKHByb3BzLCBudWxsIC8qIHdlIGtub3cgaXQgZG9lc24ndCBuZWVkIGl0ICovKSk7XG4gICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gQ29tcG9uZW50LnByb3BzXG4gICAgICAgICAgICAgICAgPyBhdHRyc1xuICAgICAgICAgICAgICAgIDogZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoKGF0dHJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGJsb2NrU3RhY2subGVuZ3RoID0gMDtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSAvKiBFcnJvckNvZGVzLlJFTkRFUl9GVU5DVElPTiAqLyk7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICAgIH1cbiAgICAvLyBhdHRyIG1lcmdpbmdcbiAgICAvLyBpbiBkZXYgbW9kZSwgY29tbWVudHMgYXJlIHByZXNlcnZlZCwgYW5kIGl0J3MgcG9zc2libGUgZm9yIGEgdGVtcGxhdGVcbiAgICAvLyB0byBoYXZlIGNvbW1lbnRzIGFsb25nIHNpZGUgdGhlIHJvb3QgZWxlbWVudCB3aGljaCBtYWtlcyBpdCBhIGZyYWdtZW50XG4gICAgbGV0IHJvb3QgPSByZXN1bHQ7XG4gICAgbGV0IHNldFJvb3QgPSB1bmRlZmluZWQ7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICByZXN1bHQucGF0Y2hGbGFnID4gMCAmJlxuICAgICAgICByZXN1bHQucGF0Y2hGbGFnICYgMjA0OCAvKiBQYXRjaEZsYWdzLkRFVl9ST09UX0ZSQUdNRU5UICovKSB7XG4gICAgICAgIFtyb290LCBzZXRSb290XSA9IGdldENoaWxkUm9vdChyZXN1bHQpO1xuICAgIH1cbiAgICBpZiAoZmFsbHRocm91Z2hBdHRycyAmJiBpbmhlcml0QXR0cnMgIT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhmYWxsdGhyb3VnaEF0dHJzKTtcbiAgICAgICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHJvb3Q7XG4gICAgICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmICgxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyB8IDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzT3B0aW9ucyAmJiBrZXlzLnNvbWUoaXNNb2RlbExpc3RlbmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIHYtbW9kZWwgbGlzdGVuZXIgKG9uVXBkYXRlOnh4eCkgaGFzIGEgY29ycmVzcG9uZGluZyBkZWNsYXJlZFxuICAgICAgICAgICAgICAgICAgICAvLyBwcm9wLCBpdCBpbmRpY2F0ZXMgdGhpcyBjb21wb25lbnQgZXhwZWN0cyB0byBoYW5kbGUgdi1tb2RlbCBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgc2hvdWxkIG5vdCBmYWxsdGhyb3VnaC5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVsYXRlZDogIzE1NDMsICMxNjQzLCAjMTk4OVxuICAgICAgICAgICAgICAgICAgICBmYWxsdGhyb3VnaEF0dHJzID0gZmlsdGVyTW9kZWxMaXN0ZW5lcnMoZmFsbHRocm91Z2hBdHRycywgcHJvcHNPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgZmFsbHRocm91Z2hBdHRycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWFjY2Vzc2VkQXR0cnMgJiYgcm9vdC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhQXR0cnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhbGxBdHRyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIHYtbW9kZWwgaGFuZGxlcnMgd2hlbiB0aGV5IGZhaWwgdG8gZmFsbHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYG9uYCwgbG93ZXJjYXNlIGZpcnN0IGxldHRlciB0byByZWZsZWN0IGV2ZW50IGNhc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgRXh0cmFuZW91cyBub24tcHJvcHMgYXR0cmlidXRlcyAoYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtleHRyYUF0dHJzLmpvaW4oJywgJyl9KSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgcm9vdCBub2Rlcy5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50QXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgRXh0cmFuZW91cyBub24tZW1pdHMgZXZlbnQgbGlzdGVuZXJzIChgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke2V2ZW50QXR0cnMuam9pbignLCAnKX0pIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB0aGUgbGlzdGVuZXIgaXMgaW50ZW5kZWQgdG8gYmUgYSBjb21wb25lbnQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyIG9ubHksIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGRlY2xhcmUgaXQgdXNpbmcgdGhlIFwiZW1pdHNcIiBvcHRpb24uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi8sIGluc3RhbmNlKSAmJlxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovICYmXG4gICAgICAgIHJvb3Quc2hhcGVGbGFnICYgKDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovIHwgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykpIHtcbiAgICAgICAgY29uc3QgeyBjbGFzczogY2xzLCBzdHlsZSB9ID0gdm5vZGUucHJvcHMgfHwge307XG4gICAgICAgIGlmIChjbHMgfHwgc3R5bGUpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5oZXJpdEF0dHJzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHdhcm5EZXByZWNhdGlvbihcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRSAqLywgaW5zdGFuY2UsIGdldENvbXBvbmVudE5hbWUoaW5zdGFuY2UudHlwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwge1xuICAgICAgICAgICAgICAgIGNsYXNzOiBjbHMsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHN0eWxlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpbmhlcml0IGRpcmVjdGl2ZXNcbiAgICBpZiAodm5vZGUuZGlycykge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYFJ1bnRpbWUgZGlyZWN0aXZlIHVzZWQgb24gY29tcG9uZW50IHdpdGggbm9uLWVsZW1lbnQgcm9vdCBub2RlLiBgICtcbiAgICAgICAgICAgICAgICBgVGhlIGRpcmVjdGl2ZXMgd2lsbCBub3QgZnVuY3Rpb24gYXMgaW50ZW5kZWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2xvbmUgYmVmb3JlIG11dGF0aW5nIHNpbmNlIHRoZSByb290IG1heSBiZSBhIGhvaXN0ZWQgdm5vZGVcbiAgICAgICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCk7XG4gICAgICAgIHJvb3QuZGlycyA9IHJvb3QuZGlycyA/IHJvb3QuZGlycy5jb25jYXQodm5vZGUuZGlycykgOiB2bm9kZS5kaXJzO1xuICAgIH1cbiAgICAvLyBpbmhlcml0IHRyYW5zaXRpb24gZGF0YVxuICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcbiAgICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IGluc2lkZSA8VHJhbnNpdGlvbj4gcmVuZGVycyBub24tZWxlbWVudCByb290IG5vZGUgYCArXG4gICAgICAgICAgICAgICAgYHRoYXQgY2Fubm90IGJlIGFuaW1hdGVkLmApO1xuICAgICAgICB9XG4gICAgICAgIHJvb3QudHJhbnNpdGlvbiA9IHZub2RlLnRyYW5zaXRpb247XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2V0Um9vdCkge1xuICAgICAgICBzZXRSb290KHJvb3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gcm9vdDtcbiAgICB9XG4gICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKiBJbiBkZXYgbW9kZSwgdGVtcGxhdGUgcm9vdCBsZXZlbCBjb21tZW50cyBhcmUgcmVuZGVyZWQsIHdoaWNoIHR1cm5zIHRoZVxuICogdGVtcGxhdGUgaW50byBhIGZyYWdtZW50IHJvb3QsIGJ1dCB3ZSBuZWVkIHRvIGxvY2F0ZSB0aGUgc2luZ2xlIGVsZW1lbnRcbiAqIHJvb3QgZm9yIGF0dHJzIGFuZCBzY29wZSBpZCBwcm9jZXNzaW5nLlxuICovXG5jb25zdCBnZXRDaGlsZFJvb3QgPSAodm5vZGUpID0+IHtcbiAgICBjb25zdCByYXdDaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICAgIGNvbnN0IGR5bmFtaWNDaGlsZHJlbiA9IHZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCBjaGlsZFJvb3QgPSBmaWx0ZXJTaW5nbGVSb290KHJhd0NoaWxkcmVuKTtcbiAgICBpZiAoIWNoaWxkUm9vdCkge1xuICAgICAgICByZXR1cm4gW3Zub2RlLCB1bmRlZmluZWRdO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHJhd0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KTtcbiAgICBjb25zdCBkeW5hbWljSW5kZXggPSBkeW5hbWljQ2hpbGRyZW4gPyBkeW5hbWljQ2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpIDogLTE7XG4gICAgY29uc3Qgc2V0Um9vdCA9ICh1cGRhdGVkUm9vdCkgPT4ge1xuICAgICAgICByYXdDaGlsZHJlbltpbmRleF0gPSB1cGRhdGVkUm9vdDtcbiAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGR5bmFtaWNJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuW2R5bmFtaWNJbmRleF0gPSB1cGRhdGVkUm9vdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVwZGF0ZWRSb290LnBhdGNoRmxhZyA+IDApIHtcbiAgICAgICAgICAgICAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBbLi4uZHluYW1pY0NoaWxkcmVuLCB1cGRhdGVkUm9vdF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBbbm9ybWFsaXplVk5vZGUoY2hpbGRSb290KSwgc2V0Um9vdF07XG59O1xuZnVuY3Rpb24gZmlsdGVyU2luZ2xlUm9vdChjaGlsZHJlbikge1xuICAgIGxldCBzaW5nbGVSb290O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICAvLyBpZ25vcmUgdXNlciBjb21tZW50XG4gICAgICAgICAgICBpZiAoY2hpbGQudHlwZSAhPT0gQ29tbWVudCB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gJ3YtaWYnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmdsZVJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFzIG1vcmUgdGhhbiAxIG5vbi1jb21tZW50IGNoaWxkLCByZXR1cm4gbm93XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpbmdsZVJvb3Q7XG59XG5jb25zdCBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2ggPSAoYXR0cnMpID0+IHtcbiAgICBsZXQgcmVzO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycgfHwga2V5ID09PSAnc3R5bGUnIHx8IGlzT24oa2V5KSkge1xuICAgICAgICAgICAgKHJlcyB8fCAocmVzID0ge30pKVtrZXldID0gYXR0cnNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGZpbHRlck1vZGVsTGlzdGVuZXJzID0gKGF0dHJzLCBwcm9wcykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkgfHwgIShrZXkuc2xpY2UoOSkgaW4gcHJvcHMpKSB7XG4gICAgICAgICAgICByZXNba2V5XSA9IGF0dHJzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBpc0VsZW1lbnRSb290ID0gKHZub2RlKSA9PiB7XG4gICAgcmV0dXJuICh2bm9kZS5zaGFwZUZsYWcgJiAoNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLyB8IDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovKSB8fFxuICAgICAgICB2bm9kZS50eXBlID09PSBDb21tZW50IC8vIHBvdGVudGlhbCB2LWlmIGJyYW5jaCBzd2l0Y2hcbiAgICApO1xufTtcbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZUNvbXBvbmVudChwcmV2Vk5vZGUsIG5leHRWTm9kZSwgb3B0aW1pemVkKSB7XG4gICAgY29uc3QgeyBwcm9wczogcHJldlByb3BzLCBjaGlsZHJlbjogcHJldkNoaWxkcmVuLCBjb21wb25lbnQgfSA9IHByZXZWTm9kZTtcbiAgICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xuICAgIGNvbnN0IGVtaXRzID0gY29tcG9uZW50LmVtaXRzT3B0aW9ucztcbiAgICAvLyBQYXJlbnQgY29tcG9uZW50J3MgcmVuZGVyIGZ1bmN0aW9uIHdhcyBob3QtdXBkYXRlZC4gU2luY2UgdGhpcyBtYXkgaGF2ZVxuICAgIC8vIGNhdXNlZCB0aGUgY2hpbGQgY29tcG9uZW50J3Mgc2xvdHMgY29udGVudCB0byBoYXZlIGNoYW5nZWQsIHdlIG5lZWQgdG9cbiAgICAvLyBmb3JjZSB0aGUgY2hpbGQgdG8gdXBkYXRlIGFzIHdlbGwuXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gZm9yY2UgY2hpbGQgdXBkYXRlIGZvciBydW50aW1lIGRpcmVjdGl2ZSBvciB0cmFuc2l0aW9uIG9uIGNvbXBvbmVudCB2bm9kZS5cbiAgICBpZiAobmV4dFZOb2RlLmRpcnMgfHwgbmV4dFZOb2RlLnRyYW5zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID49IDApIHtcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEwMjQgLyogUGF0Y2hGbGFncy5EWU5BTUlDX1NMT1RTICovKSB7XG4gICAgICAgICAgICAvLyBzbG90IGNvbnRlbnQgdGhhdCByZWZlcmVuY2VzIHZhbHVlcyB0aGF0IG1pZ2h0IGhhdmUgY2hhbmdlZCxcbiAgICAgICAgICAgIC8vIGUuZy4gaW4gYSB2LWZvclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2IC8qIFBhdGNoRmxhZ3MuRlVMTF9QUk9QUyAqLykge1xuICAgICAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwcmVzZW5jZSBvZiB0aGlzIGZsYWcgaW5kaWNhdGVzIHByb3BzIGFyZSBhbHdheXMgbm9uLW51bGxcbiAgICAgICAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXRjaEZsYWcgJiA4IC8qIFBhdGNoRmxhZ3MuUFJPUFMgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IGR5bmFtaWNQcm9wcyA9IG5leHRWTm9kZS5keW5hbWljUHJvcHM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNQcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGR5bmFtaWNQcm9wc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmXG4gICAgICAgICAgICAgICAgICAgICFpc0VtaXRMaXN0ZW5lcihlbWl0cywga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgcGF0aCBpcyBvbmx5IHRha2VuIGJ5IG1hbnVhbGx5IHdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9uc1xuICAgICAgICAvLyBzbyBwcmVzZW5jZSBvZiBhbnkgY2hpbGRyZW4gbGVhZHMgdG8gYSBmb3JjZWQgdXBkYXRlXG4gICAgICAgIGlmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoIW5leHRDaGlsZHJlbiB8fCAhbmV4dENoaWxkcmVuLiRzdGFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldlByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dFByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHNPcHRpb25zKSB7XG4gICAgY29uc3QgbmV4dEtleXMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcHMpO1xuICAgIGlmIChuZXh0S2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHByZXZQcm9wcykubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5leHRLZXlzW2ldO1xuICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmXG4gICAgICAgICAgICAhaXNFbWl0TGlzdGVuZXIoZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB1cGRhdGVIT0NIb3N0RWwoeyB2bm9kZSwgcGFyZW50IH0sIGVsIC8vIEhvc3ROb2RlXG4pIHtcbiAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xuICAgICAgICAodm5vZGUgPSBwYXJlbnQudm5vZGUpLmVsID0gZWw7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxufVxuXG5jb25zdCBpc1N1c3BlbnNlID0gKHR5cGUpID0+IHR5cGUuX19pc1N1c3BlbnNlO1xuLy8gU3VzcGVuc2UgZXhwb3NlcyBhIGNvbXBvbmVudC1saWtlIEFQSSwgYW5kIGlzIHRyZWF0ZWQgbGlrZSBhIGNvbXBvbmVudFxuLy8gaW4gdGhlIGNvbXBpbGVyLCBidXQgaW50ZXJuYWxseSBpdCdzIGEgc3BlY2lhbCBidWlsdC1pbiB0eXBlIHRoYXQgaG9va3Ncbi8vIGRpcmVjdGx5IGludG8gdGhlIHJlbmRlcmVyLlxuY29uc3QgU3VzcGVuc2VJbXBsID0ge1xuICAgIG5hbWU6ICdTdXNwZW5zZScsXG4gICAgLy8gSW4gb3JkZXIgdG8gbWFrZSBTdXNwZW5zZSB0cmVlLXNoYWthYmxlLCB3ZSBuZWVkIHRvIGF2b2lkIGltcG9ydGluZyBpdFxuICAgIC8vIGRpcmVjdGx5IGluIHRoZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNoZWNrcyBmb3IgdGhlIF9faXNTdXNwZW5zZSBmbGFnXG4gICAgLy8gb24gYSB2bm9kZSdzIHR5cGUgYW5kIGNhbGxzIHRoZSBgcHJvY2Vzc2AgbWV0aG9kLCBwYXNzaW5nIGluIHJlbmRlcmVyXG4gICAgLy8gaW50ZXJuYWxzLlxuICAgIF9faXNTdXNwZW5zZTogdHJ1ZSxcbiAgICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgXG4gICAgLy8gcGxhdGZvcm0tc3BlY2lmaWMgaW1wbCBwYXNzZWQgZnJvbSByZW5kZXJlclxuICAgIHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBtb3VudFN1c3BlbnNlKG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGh5ZHJhdGU6IGh5ZHJhdGVTdXNwZW5zZSxcbiAgICBjcmVhdGU6IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnksXG4gICAgbm9ybWFsaXplOiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuXG59O1xuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcbmNvbnN0IFN1c3BlbnNlID0gKFN1c3BlbnNlSW1wbFxuICAgICk7XG5mdW5jdGlvbiB0cmlnZ2VyRXZlbnQodm5vZGUsIG5hbWUpIHtcbiAgICBjb25zdCBldmVudExpc3RlbmVyID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHNbbmFtZV07XG4gICAgaWYgKGlzRnVuY3Rpb24oZXZlbnRMaXN0ZW5lcikpIHtcbiAgICAgICAgZXZlbnRMaXN0ZW5lcigpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1vdW50U3VzcGVuc2Uodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gICAgY29uc3QgeyBwOiBwYXRjaCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICAgIGNvbnN0IGhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHN1c3BlbnNlID0gKHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykpO1xuICAgIC8vIHN0YXJ0IG1vdW50aW5nIHRoZSBjb250ZW50IHN1YnRyZWUgaW4gYW4gb2ZmLWRvbSBjb250YWluZXJcbiAgICBwYXRjaChudWxsLCAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCksIGhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XG4gICAgLy8gbm93IGNoZWNrIGlmIHdlIGhhdmUgZW5jb3VudGVyZWQgYW55IGFzeW5jIGRlcHNcbiAgICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcbiAgICAgICAgLy8gaGFzIGFzeW5jXG4gICAgICAgIC8vIGludm9rZSBAZmFsbGJhY2sgZXZlbnRcbiAgICAgICAgdHJpZ2dlckV2ZW50KHZub2RlLCAnb25QZW5kaW5nJyk7XG4gICAgICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgJ29uRmFsbGJhY2snKTtcbiAgICAgICAgLy8gbW91bnQgdGhlIGZhbGxiYWNrIHRyZWVcbiAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUuc3NGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcyk7XG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgdm5vZGUuc3NGYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBTdXNwZW5zZSBoYXMgbm8gYXN5bmMgZGVwcy4gSnVzdCByZXNvbHZlLlxuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBwOiBwYXRjaCwgdW06IHVubW91bnQsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0pIHtcbiAgICBjb25zdCBzdXNwZW5zZSA9IChuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlKTtcbiAgICBzdXNwZW5zZS52bm9kZSA9IG4yO1xuICAgIG4yLmVsID0gbjEuZWw7XG4gICAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xuICAgIGNvbnN0IG5ld0ZhbGxiYWNrID0gbjIuc3NGYWxsYmFjaztcbiAgICBjb25zdCB7IGFjdGl2ZUJyYW5jaCwgcGVuZGluZ0JyYW5jaCwgaXNJbkZhbGxiYWNrLCBpc0h5ZHJhdGluZyB9ID0gc3VzcGVuc2U7XG4gICAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIHBlbmRpbmdCcmFuY2gpKSB7XG4gICAgICAgICAgICAvLyBzYW1lIHJvb3QgdHlwZSBidXQgY29udGVudCBtYXkgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICAgICAgcGF0Y2gocGVuZGluZ0JyYW5jaCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3RmFsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdG9nZ2xlZCBiZWZvcmUgcGVuZGluZyB0cmVlIGlzIHJlc29sdmVkXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQrKztcbiAgICAgICAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRvZ2dsZWQgYmVmb3JlIGh5ZHJhdGlvbiBpcyBmaW5pc2hlZCwgdGhlIGN1cnJlbnQgRE9NIHRyZWUgaXNcbiAgICAgICAgICAgICAgICAvLyBubyBsb25nZXIgdmFsaWQuIHNldCBpdCBhcyB0aGUgYWN0aXZlIGJyYW5jaCBzbyBpdCB3aWxsIGJlIHVubW91bnRlZFxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IHBlbmRpbmdCcmFuY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1bm1vdW50KHBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaW5jcmVtZW50IHBlbmRpbmcgSUQuIHRoaXMgaXMgdXNlZCB0byBpbnZhbGlkYXRlIGFzeW5jIGNhbGxiYWNrc1xuICAgICAgICAgICAgLy8gcmVzZXQgc3VzcGVuc2Ugc3RhdGVcbiAgICAgICAgICAgIHN1c3BlbnNlLmRlcHMgPSAwO1xuICAgICAgICAgICAgLy8gZGlzY2FyZCBlZmZlY3RzIGZyb20gcGVuZGluZyBicmFuY2hcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgcHJldmlvdXMgY29udGFpbmVyXG4gICAgICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGlmIChpc0luRmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGluIGZhbGxiYWNrIHN0YXRlXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0ZhbGxiYWNrLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgICAgICAgICBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xuICAgICAgICAgICAgICAgIC8vIHRvZ2dsZWQgXCJiYWNrXCIgdG8gY3VycmVudCBhY3RpdmUgYnJhbmNoXG4gICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHJlc29sdmVcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3dpdGNoZWQgdG8gYSAzcmQgYnJhbmNoXG4gICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcbiAgICAgICAgICAgIC8vIHJvb3QgZGlkIG5vdCBjaGFuZ2UsIGp1c3Qgbm9ybWFsIHBhdGNoXG4gICAgICAgICAgICBwYXRjaChhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0JyYW5jaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyByb290IG5vZGUgdG9nZ2xlZFxuICAgICAgICAgICAgLy8gaW52b2tlIEBwZW5kaW5nIGV2ZW50XG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQobjIsICdvblBlbmRpbmcnKTtcbiAgICAgICAgICAgIC8vIG1vdW50IHBlbmRpbmcgYnJhbmNoIGluIG9mZi1kb20gY29udGFpbmVyXG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkKys7XG4gICAgICAgICAgICBwYXRjaChudWxsLCBuZXdCcmFuY2gsIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICAgICAgICAvLyBpbmNvbWluZyBicmFuY2ggaGFzIG5vIGFzeW5jIGRlcHMsIHJlc29sdmUgbm93LlxuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGltZW91dCwgcGVuZGluZ0lkIH0gPSBzdXNwZW5zZTtcbiAgICAgICAgICAgICAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0lkID09PSBwZW5kaW5nSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5sZXQgaGFzV2FybmVkID0gZmFsc2U7XG5mdW5jdGlvbiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KHZub2RlLCBwYXJlbnQsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaXNIeWRyYXRpbmcgPSBmYWxzZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZhbHNlICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBgY29uc29sZS5pbmZvYCBjYW5ub3QgYmUgbnVsbCBlcnJvclxuICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXShgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYCk7XG4gICAgfVxuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiB1bm1vdW50LCBuOiBuZXh0LCBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9IH0gPSByZW5kZXJlckludGVybmFscztcbiAgICBjb25zdCB0aW1lb3V0ID0gdG9OdW1iZXIodm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudGltZW91dCk7XG4gICAgY29uc3Qgc3VzcGVuc2UgPSB7XG4gICAgICAgIHZub2RlLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgaXNTVkcsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIGRlcHM6IDAsXG4gICAgICAgIHBlbmRpbmdJZDogMCxcbiAgICAgICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09ICdudW1iZXInID8gdGltZW91dCA6IC0xLFxuICAgICAgICBhY3RpdmVCcmFuY2g6IG51bGwsXG4gICAgICAgIHBlbmRpbmdCcmFuY2g6IG51bGwsXG4gICAgICAgIGlzSW5GYWxsYmFjazogdHJ1ZSxcbiAgICAgICAgaXNIeWRyYXRpbmcsXG4gICAgICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICAgICAgZWZmZWN0czogW10sXG4gICAgICAgIHJlc29sdmUocmVzdW1lID0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VtZSAmJiAhc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgd2l0aG91dCBhIHBlbmRpbmcgYnJhbmNoLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2UuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIG9uIGFuIGFscmVhZHkgdW5tb3VudGVkIHN1c3BlbnNlIGJvdW5kYXJ5LmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUsIGFjdGl2ZUJyYW5jaCwgcGVuZGluZ0JyYW5jaCwgcGVuZGluZ0lkLCBlZmZlY3RzLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciB9ID0gc3VzcGVuc2U7XG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXJlc3VtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiZcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbi5tb2RlID09PSAnb3V0LWluJztcbiAgICAgICAgICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdJZCA9PT0gc3VzcGVuc2UucGVuZGluZ0lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBNb3ZlVHlwZS5FTlRFUiAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgaW5pdGlhbCBhbmNob3Igb24gbW91bnRcbiAgICAgICAgICAgICAgICBsZXQgeyBhbmNob3IgfSA9IHN1c3BlbnNlO1xuICAgICAgICAgICAgICAgIC8vIHVubW91bnQgY3VycmVudCBhY3RpdmUgdHJlZVxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGZhbGxiYWNrIHRyZWUgd2FzIG1vdW50ZWQsIGl0IG1heSBoYXZlIGJlZW4gbW92ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgcGFydCBvZiBhIHBhcmVudCBzdXNwZW5zZS4gZ2V0IHRoZSBsYXRlc3QgYW5jaG9yIGZvciBpbnNlcnRpb25cbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yID0gbmV4dChhY3RpdmVCcmFuY2gpO1xuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZGVsYXlFbnRlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGNvbnRlbnQgZnJvbSBvZmYtZG9tIGNvbnRhaW5lciB0byBhY3R1YWwgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogTW92ZVR5cGUuRU5URVIgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgcGVuZGluZ0JyYW5jaCk7XG4gICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbnVsbDtcbiAgICAgICAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gZmx1c2ggYnVmZmVyZWQgZWZmZWN0c1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZVxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHN1c3BlbnNlLnBhcmVudDtcbiAgICAgICAgICAgIGxldCBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50LnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZm91bmQgYSBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZSwgbWVyZ2UgYnVmZmVyZWQgcG9zdCBqb2JzXG4gICAgICAgICAgICAgICAgICAgIC8vIGludG8gdGhhdCBwYXJlbnRcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmVmZmVjdHMucHVzaCguLi5lZmZlY3RzKTtcbiAgICAgICAgICAgICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBubyBwZW5kaW5nIHBhcmVudCBzdXNwZW5zZSwgZmx1c2ggYWxsIGpvYnNcbiAgICAgICAgICAgIGlmICghaGFzVW5yZXNvbHZlZEFuY2VzdG9yKSB7XG4gICAgICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcbiAgICAgICAgICAgIC8vIGludm9rZSBAcmVzb2x2ZSBldmVudFxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KHZub2RlLCAnb25SZXNvbHZlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhbGxiYWNrKGZhbGxiYWNrVk5vZGUpIHtcbiAgICAgICAgICAgIGlmICghc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdm5vZGUsIGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGlzU1ZHIH0gPSBzdXNwZW5zZTtcbiAgICAgICAgICAgIC8vIGludm9rZSBAZmFsbGJhY2sgZXZlbnRcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgJ29uRmFsbGJhY2snKTtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtb3VudCB0aGUgZmFsbGJhY2sgdHJlZVxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIGZhbGxiYWNrVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIGZhbGxiYWNrVk5vZGUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24gJiYgZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uLm1vZGUgPT09ICdvdXQtaW4nO1xuICAgICAgICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gbW91bnRGYWxsYmFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAvLyB1bm1vdW50IGN1cnJlbnQgYWN0aXZlIGJyYW5jaFxuICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xuICAgICAgICAgICAgdHJ1ZSAvLyBzaG91bGRSZW1vdmVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgICAgICAgICBtb3VudEZhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vdmUoY29udGFpbmVyLCBhbmNob3IsIHR5cGUpIHtcbiAgICAgICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJlxuICAgICAgICAgICAgICAgIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgdHlwZSk7XG4gICAgICAgICAgICBzdXNwZW5zZS5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIH0sXG4gICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VzcGVuc2UuYWN0aXZlQnJhbmNoICYmIG5leHQoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBpc0luUGVuZGluZ1N1c3BlbnNlID0gISFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoO1xuICAgICAgICAgICAgaWYgKGlzSW5QZW5kaW5nU3VzcGVuc2UpIHtcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5kZXBzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoeWRyYXRlZEVsID0gaW5zdGFuY2Uudm5vZGUuZWw7XG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICAgICAgIC5hc3luY0RlcC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDAgLyogRXJyb3JDb2Rlcy5TRVRVUF9GVU5DVElPTiAqLyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jU2V0dXBSZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHJldHJ5IHdoZW4gdGhlIHNldHVwKCkgcHJvbWlzZSByZXNvbHZlcy5cbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiB1bm1vdW50ZWQgYmVmb3JlIHJlc29sdmUuXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLmlzVW5tb3VudGVkIHx8XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCAhPT0gaW5zdGFuY2Uuc3VzcGVuc2VJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJldHJ5IGZyb20gdGhpcyBjb21wb25lbnRcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZub2RlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBhc3luY1NldHVwUmVzdWx0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKGh5ZHJhdGVkRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgbWF5IGhhdmUgYmVlbiByZXBsYWNlZCBpZiBhbiB1cGRhdGUgaGFwcGVuZWQgYmVmb3JlIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBhc3luYyBkZXAgaXMgcmVzb2x2ZWQuXG4gICAgICAgICAgICAgICAgICAgIHZub2RlLmVsID0gaHlkcmF0ZWRFbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAhaHlkcmF0ZWRFbCAmJiBpbnN0YW5jZS5zdWJUcmVlLmVsO1xuICAgICAgICAgICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KGluc3RhbmNlLCB2bm9kZSwgXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gbW92ZWQgYmVmb3JlIHJlc29sdmUuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBoeWRyYXRpb24sIGluc3RhbmNlLnN1YlRyZWUgd2lsbCBiZSB0aGUgY29tbWVudFxuICAgICAgICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUoaHlkcmF0ZWRFbCB8fCBpbnN0YW5jZS5zdWJUcmVlLmVsKSwgXG4gICAgICAgICAgICAgICAgLy8gYW5jaG9yIHdpbGwgbm90IGJlIHVzZWQgaWYgdGhpcyBpcyBoeWRyYXRpb24sIHNvIG9ubHkgbmVlZCB0b1xuICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVyIHRoZSBjb21tZW50IHBsYWNlaG9sZGVyIGNhc2UuXG4gICAgICAgICAgICAgICAgaHlkcmF0ZWRFbCA/IG51bGwgOiBuZXh0KGluc3RhbmNlLnN1YlRyZWUpLCBzdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUuZWwpO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gb25seSBkZWNyZWFzZSBkZXBzIGNvdW50IGlmIHN1c3BlbnNlIGlzIG5vdCBhbHJlYWR5IHJlc29sdmVkXG4gICAgICAgICAgICAgICAgaWYgKGlzSW5QZW5kaW5nU3VzcGVuc2UgJiYgLS1zdXNwZW5zZS5kZXBzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpIHtcbiAgICAgICAgICAgIHN1c3BlbnNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICAgICAgICB1bm1vdW50KHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHN1c3BlbnNlO1xufVxuZnVuY3Rpb24gaHlkcmF0ZVN1c3BlbnNlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuICAgIGNvbnN0IHN1c3BlbnNlID0gKHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgbm9kZS5wYXJlbnROb2RlLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgbnVsbCwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgdHJ1ZSAvKiBoeWRyYXRpbmcgKi8pKTtcbiAgICAvLyB0aGVyZSBhcmUgdHdvIHBvc3NpYmxlIHNjZW5hcmlvcyBmb3Igc2VydmVyLXJlbmRlcmVkIHN1c3BlbnNlOlxuICAgIC8vIC0gc3VjY2Vzczogc3NyIGNvbnRlbnQgc2hvdWxkIGJlIGZ1bGx5IHJlc29sdmVkXG4gICAgLy8gLSBmYWlsdXJlOiBzc3IgY29udGVudCBzaG91bGQgYmUgdGhlIGZhbGxiYWNrIGJyYW5jaC5cbiAgICAvLyBob3dldmVyLCBvbiB0aGUgY2xpZW50IHdlIGRvbid0IHJlYWxseSBrbm93IGlmIGl0IGhhcyBmYWlsZWQgb3Igbm90XG4gICAgLy8gYXR0ZW1wdCB0byBoeWRyYXRlIHRoZSBET00gYXNzdW1pbmcgaXQgaGFzIHN1Y2NlZWRlZCwgYnV0IHdlIHN0aWxsXG4gICAgLy8gbmVlZCB0byBjb25zdHJ1Y3QgYSBzdXNwZW5zZSBib3VuZGFyeSBmaXJzdFxuICAgIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKG5vZGUsIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50KSwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgIGlmIChzdXNwZW5zZS5kZXBzID09PSAwKSB7XG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbih2bm9kZSkge1xuICAgIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gICAgY29uc3QgaXNTbG90Q2hpbGRyZW4gPSBzaGFwZUZsYWcgJiAzMiAvKiBTaGFwZUZsYWdzLlNMT1RTX0NISUxEUkVOICovO1xuICAgIHZub2RlLnNzQ29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChpc1Nsb3RDaGlsZHJlbiA/IGNoaWxkcmVuLmRlZmF1bHQgOiBjaGlsZHJlbik7XG4gICAgdm5vZGUuc3NGYWxsYmFjayA9IGlzU2xvdENoaWxkcmVuXG4gICAgICAgID8gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmZhbGxiYWNrKVxuICAgICAgICA6IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VTbG90KHMpIHtcbiAgICBsZXQgYmxvY2s7XG4gICAgaWYgKGlzRnVuY3Rpb24ocykpIHtcbiAgICAgICAgY29uc3QgdHJhY2tCbG9jayA9IGlzQmxvY2tUcmVlRW5hYmxlZCAmJiBzLl9jO1xuICAgICAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgICAgICAgLy8gZGlzYWJsZVRyYWNraW5nOiBmYWxzZVxuICAgICAgICAgICAgLy8gYWxsb3cgYmxvY2sgdHJhY2tpbmcgZm9yIGNvbXBpbGVkIHNsb3RzXG4gICAgICAgICAgICAvLyAoc2VlIC4vY29tcG9uZW50UmVuZGVyQ29udGV4dC50cylcbiAgICAgICAgICAgIHMuX2QgPSBmYWxzZTtcbiAgICAgICAgICAgIG9wZW5CbG9jaygpO1xuICAgICAgICB9XG4gICAgICAgIHMgPSBzKCk7XG4gICAgICAgIGlmICh0cmFja0Jsb2NrKSB7XG4gICAgICAgICAgICBzLl9kID0gdHJ1ZTtcbiAgICAgICAgICAgIGJsb2NrID0gY3VycmVudEJsb2NrO1xuICAgICAgICAgICAgY2xvc2VCbG9jaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc0FycmF5KHMpKSB7XG4gICAgICAgIGNvbnN0IHNpbmdsZUNoaWxkID0gZmlsdGVyU2luZ2xlUm9vdChzKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhc2luZ2xlQ2hpbGQpIHtcbiAgICAgICAgICAgIHdhcm4kMShgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xuICAgICAgICB9XG4gICAgICAgIHMgPSBzaW5nbGVDaGlsZDtcbiAgICB9XG4gICAgcyA9IG5vcm1hbGl6ZVZOb2RlKHMpO1xuICAgIGlmIChibG9jayAmJiAhcy5keW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgcy5keW5hbWljQ2hpbGRyZW4gPSBibG9jay5maWx0ZXIoYyA9PiBjICE9PSBzKTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG59XG5mdW5jdGlvbiBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZShmbiwgc3VzcGVuc2UpIHtcbiAgICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICBpZiAoaXNBcnJheShmbikpIHtcbiAgICAgICAgICAgIHN1c3BlbnNlLmVmZmVjdHMucHVzaCguLi5mbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goZm4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIGJyYW5jaCkge1xuICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcbiAgICBjb25zdCB7IHZub2RlLCBwYXJlbnRDb21wb25lbnQgfSA9IHN1c3BlbnNlO1xuICAgIGNvbnN0IGVsID0gKHZub2RlLmVsID0gYnJhbmNoLmVsKTtcbiAgICAvLyBpbiBjYXNlIHN1c3BlbnNlIGlzIHRoZSByb290IG5vZGUgb2YgYSBjb21wb25lbnQsXG4gICAgLy8gcmVjdXJzaXZlbHkgdXBkYXRlIHRoZSBIT0MgZWxcbiAgICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xuICAgICAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcbiAgICAgICAgdXBkYXRlSE9DSG9zdEVsKHBhcmVudENvbXBvbmVudCwgZWwpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJvdmlkZShrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFjdXJyZW50SW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybiQxKGBwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzO1xuICAgICAgICAvLyBieSBkZWZhdWx0IGFuIGluc3RhbmNlIGluaGVyaXRzIGl0cyBwYXJlbnQncyBwcm92aWRlcyBvYmplY3RcbiAgICAgICAgLy8gYnV0IHdoZW4gaXQgbmVlZHMgdG8gcHJvdmlkZSB2YWx1ZXMgb2YgaXRzIG93biwgaXQgY3JlYXRlcyBpdHNcbiAgICAgICAgLy8gb3duIHByb3ZpZGVzIG9iamVjdCB1c2luZyBwYXJlbnQgcHJvdmlkZXMgb2JqZWN0IGFzIHByb3RvdHlwZS5cbiAgICAgICAgLy8gdGhpcyB3YXkgaW4gYGluamVjdGAgd2UgY2FuIHNpbXBseSBsb29rIHVwIGluamVjdGlvbnMgZnJvbSBkaXJlY3RcbiAgICAgICAgLy8gcGFyZW50IGFuZCBsZXQgdGhlIHByb3RvdHlwZSBjaGFpbiBkbyB0aGUgd29yay5cbiAgICAgICAgY29uc3QgcGFyZW50UHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucGFyZW50ICYmIGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XG4gICAgICAgIGlmIChwYXJlbnRQcm92aWRlcyA9PT0gcHJvdmlkZXMpIHtcbiAgICAgICAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVFMgZG9lc24ndCBhbGxvdyBzeW1ib2wgYXMgaW5kZXggdHlwZVxuICAgICAgICBwcm92aWRlc1trZXldID0gdmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xuICAgIC8vIGZhbGxiYWNrIHRvIGBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VgIHNvIHRoYXQgdGhpcyBjYW4gYmUgY2FsbGVkIGluXG4gICAgLy8gYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgLy8gIzI0MDBcbiAgICAgICAgLy8gdG8gc3VwcG9ydCBgYXBwLnVzZWAgcGx1Z2lucyxcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gYXBwQ29udGV4dCdzIGBwcm92aWRlc2AgaWYgdGhlIGluc3RhbmNlIGlzIGF0IHJvb3RcbiAgICAgICAgY29uc3QgcHJvdmlkZXMgPSBpbnN0YW5jZS5wYXJlbnQgPT0gbnVsbFxuICAgICAgICAgICAgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXNcbiAgICAgICAgICAgIDogaW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xuICAgICAgICBpZiAocHJvdmlkZXMgJiYga2V5IGluIHByb3ZpZGVzKSB7XG4gICAgICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRWYWx1ZS5jYWxsKGluc3RhbmNlLnByb3h5KVxuICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybiQxKGBpbmplY3Rpb24gXCIke1N0cmluZyhrZXkpfVwiIG5vdCBmb3VuZC5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybiQxKGBpbmplY3QoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpIG9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cy5gKTtcbiAgICB9XG59XG5cbi8vIFNpbXBsZSBlZmZlY3QuXG5mdW5jdGlvbiB3YXRjaEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gd2F0Y2hQb3N0RWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICAgIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgZmx1c2g6ICdwb3N0JyB9KSA6IHsgZmx1c2g6ICdwb3N0JyB9KSk7XG59XG5mdW5jdGlvbiB3YXRjaFN5bmNFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBmbHVzaDogJ3N5bmMnIH0pIDogeyBmbHVzaDogJ3N5bmMnIH0pKTtcbn1cbi8vIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzIHRvIHRyaWdnZXIgb24gdW5kZWZpbmVkIGluaXRpYWwgdmFsdWVzXG5jb25zdCBJTklUSUFMX1dBVENIRVJfVkFMVUUgPSB7fTtcbi8vIGltcGxlbWVudGF0aW9uXG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNGdW5jdGlvbihjYikpIHtcbiAgICAgICAgd2FybiQxKGBcXGB3YXRjaChmbiwgb3B0aW9ucz8pXFxgIHNpZ25hdHVyZSBoYXMgYmVlbiBtb3ZlZCB0byBhIHNlcGFyYXRlIEFQSS4gYCArXG4gICAgICAgICAgICBgVXNlIFxcYHdhdGNoRWZmZWN0KGZuLCBvcHRpb25zPylcXGAgaW5zdGVhZC4gXFxgd2F0Y2hcXGAgbm93IG9ubHkgYCArXG4gICAgICAgICAgICBgc3VwcG9ydHMgXFxgd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBkb1dhdGNoKHNvdXJjZSwgY2IsIHsgaW1tZWRpYXRlLCBkZWVwLCBmbHVzaCwgb25UcmFjaywgb25UcmlnZ2VyIH0gPSBFTVBUWV9PQkopIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjYikge1xuICAgICAgICBpZiAoaW1tZWRpYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShgd2F0Y2goKSBcImltbWVkaWF0ZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBgICtcbiAgICAgICAgICAgICAgICBgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVlcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3YXJuJDEoYHdhdGNoKCkgXCJkZWVwXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIGAgK1xuICAgICAgICAgICAgICAgIGB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHdhcm5JbnZhbGlkU291cmNlID0gKHMpID0+IHtcbiAgICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIHNvdXJjZTogYCwgcywgYEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBmdW5jdGlvbiwgYSByZWYsIGAgK1xuICAgICAgICAgICAgYGEgcmVhY3RpdmUgb2JqZWN0LCBvciBhbiBhcnJheSBvZiB0aGVzZSB0eXBlcy5gKTtcbiAgICB9O1xuICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICAgIGxldCBnZXR0ZXI7XG4gICAgbGV0IGZvcmNlVHJpZ2dlciA9IGZhbHNlO1xuICAgIGxldCBpc011bHRpU291cmNlID0gZmFsc2U7XG4gICAgaWYgKGlzUmVmKHNvdXJjZSkpIHtcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xuICAgICAgICBmb3JjZVRyaWdnZXIgPSBpc1NoYWxsb3coc291cmNlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzb3VyY2UpKSB7XG4gICAgICAgIGdldHRlciA9ICgpID0+IHNvdXJjZTtcbiAgICAgICAgZGVlcCA9IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBpc011bHRpU291cmNlID0gdHJ1ZTtcbiAgICAgICAgZm9yY2VUcmlnZ2VyID0gc291cmNlLnNvbWUocyA9PiBpc1JlYWN0aXZlKHMpIHx8IGlzU2hhbGxvdyhzKSk7XG4gICAgICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS5tYXAocyA9PiB7XG4gICAgICAgICAgICBpZiAoaXNSZWYocykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcy52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhdmVyc2Uocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzLCBpbnN0YW5jZSwgMiAvKiBFcnJvckNvZGVzLldBVENIX0dFVFRFUiAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkludmFsaWRTb3VyY2Uocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAvLyBnZXR0ZXIgd2l0aCBjYlxuICAgICAgICAgICAgZ2V0dGVyID0gKCkgPT4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNvdXJjZSwgaW5zdGFuY2UsIDIgLyogRXJyb3JDb2Rlcy5XQVRDSF9HRVRURVIgKi8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gY2IgLT4gc2ltcGxlIGVmZmVjdFxuICAgICAgICAgICAgZ2V0dGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKHNvdXJjZSwgaW5zdGFuY2UsIDMgLyogRXJyb3JDb2Rlcy5XQVRDSF9DQUxMQkFDSyAqLywgW29uQ2xlYW51cF0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2V0dGVyID0gTk9PUDtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5JbnZhbGlkU291cmNlKHNvdXJjZSk7XG4gICAgfVxuICAgIC8vIDIueCBhcnJheSBtdXRhdGlvbiB3YXRjaCBjb21wYXRcbiAgICBpZiAoY2IgJiYgIWRlZXApIHtcbiAgICAgICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcbiAgICAgICAgZ2V0dGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsID0gYmFzZUdldHRlcigpO1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkodmFsKSAmJlxuICAgICAgICAgICAgICAgIGNoZWNrQ29tcGF0RW5hYmxlZChcIldBVENIX0FSUkFZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5XQVRDSF9BUlJBWSAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2UodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChjYiAmJiBkZWVwKSB7XG4gICAgICAgIGNvbnN0IGJhc2VHZXR0ZXIgPSBnZXR0ZXI7XG4gICAgICAgIGdldHRlciA9ICgpID0+IHRyYXZlcnNlKGJhc2VHZXR0ZXIoKSk7XG4gICAgfVxuICAgIGxldCBjbGVhbnVwO1xuICAgIGxldCBvbkNsZWFudXAgPSAoZm4pID0+IHtcbiAgICAgICAgY2xlYW51cCA9IGVmZmVjdC5vblN0b3AgPSAoKSA9PiB7XG4gICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCA0IC8qIEVycm9yQ29kZXMuV0FUQ0hfQ0xFQU5VUCAqLyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvLyBpbiBTU1IgdGhlcmUgaXMgbm8gbmVlZCB0byBzZXR1cCBhbiBhY3R1YWwgZWZmZWN0LCBhbmQgaXQgc2hvdWxkIGJlIG5vb3BcbiAgICAvLyB1bmxlc3MgaXQncyBlYWdlciBvciBzeW5jIGZsdXNoXG4gICAgbGV0IHNzckNsZWFudXA7XG4gICAgaWYgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgICAgICAvLyB3ZSB3aWxsIGFsc28gbm90IGNhbGwgdGhlIGludmFsaWRhdGUgY2FsbGJhY2sgKCsgcnVubmVyIGlzIG5vdCBzZXQgdXApXG4gICAgICAgIG9uQ2xlYW51cCA9IE5PT1A7XG4gICAgICAgIGlmICghY2IpIHtcbiAgICAgICAgICAgIGdldHRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGltbWVkaWF0ZSkge1xuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoY2IsIGluc3RhbmNlLCAzIC8qIEVycm9yQ29kZXMuV0FUQ0hfQ0FMTEJBQ0sgKi8sIFtcbiAgICAgICAgICAgICAgICBnZXR0ZXIoKSxcbiAgICAgICAgICAgICAgICBpc011bHRpU291cmNlID8gW10gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmx1c2ggPT09ICdzeW5jJykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdXNlU1NSQ29udGV4dCgpO1xuICAgICAgICAgICAgc3NyQ2xlYW51cCA9IGN0eC5fX3dhdGNoZXJIYW5kbGVzIHx8IChjdHguX193YXRjaGVySGFuZGxlcyA9IFtdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBOT09QO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2VcbiAgICAgICAgPyBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCkuZmlsbChJTklUSUFMX1dBVENIRVJfVkFMVUUpXG4gICAgICAgIDogSU5JVElBTF9XQVRDSEVSX1ZBTFVFO1xuICAgIGNvbnN0IGpvYiA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFlZmZlY3QuYWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAvLyB3YXRjaChzb3VyY2UsIGNiKVxuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgICAgICAgICBpZiAoZGVlcCB8fFxuICAgICAgICAgICAgICAgIGZvcmNlVHJpZ2dlciB8fFxuICAgICAgICAgICAgICAgIChpc011bHRpU291cmNlXG4gICAgICAgICAgICAgICAgICAgID8gbmV3VmFsdWUuc29tZSgodiwgaSkgPT4gaGFzQ2hhbmdlZCh2LCBvbGRWYWx1ZVtpXSkpXG4gICAgICAgICAgICAgICAgICAgIDogaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSB8fFxuICAgICAgICAgICAgICAgIChpc0FycmF5KG5ld1ZhbHVlKSAmJlxuICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdEVuYWJsZWQoXCJXQVRDSF9BUlJBWVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuV0FUQ0hfQVJSQVkgKi8sIGluc3RhbmNlKSkpIHtcbiAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGJlZm9yZSBydW5uaW5nIGNiIGFnYWluXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFudXApIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhjYiwgaW5zdGFuY2UsIDMgLyogRXJyb3JDb2Rlcy5XQVRDSF9DQUxMQkFDSyAqLywgW1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFzcyB1bmRlZmluZWQgYXMgdGhlIG9sZCB2YWx1ZSB3aGVuIGl0J3MgY2hhbmdlZCBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKGlzTXVsdGlTb3VyY2UgJiYgb2xkVmFsdWVbMF0gPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvbGRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb25DbGVhbnVwXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdhdGNoRWZmZWN0XG4gICAgICAgICAgICBlZmZlY3QucnVuKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIGltcG9ydGFudDogbWFyayB0aGUgam9iIGFzIGEgd2F0Y2hlciBjYWxsYmFjayBzbyB0aGF0IHNjaGVkdWxlciBrbm93c1xuICAgIC8vIGl0IGlzIGFsbG93ZWQgdG8gc2VsZi10cmlnZ2VyICgjMTcyNylcbiAgICBqb2IuYWxsb3dSZWN1cnNlID0gISFjYjtcbiAgICBsZXQgc2NoZWR1bGVyO1xuICAgIGlmIChmbHVzaCA9PT0gJ3N5bmMnKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGpvYjsgLy8gdGhlIHNjaGVkdWxlciBmdW5jdGlvbiBnZXRzIGNhbGxlZCBkaXJlY3RseVxuICAgIH1cbiAgICBlbHNlIGlmIChmbHVzaCA9PT0gJ3Bvc3QnKSB7XG4gICAgICAgIHNjaGVkdWxlciA9ICgpID0+IHF1ZXVlUG9zdFJlbmRlckVmZmVjdChqb2IsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGRlZmF1bHQ6ICdwcmUnXG4gICAgICAgIGpvYi5wcmUgPSB0cnVlO1xuICAgICAgICBpZiAoaW5zdGFuY2UpXG4gICAgICAgICAgICBqb2IuaWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgICAgIHNjaGVkdWxlciA9ICgpID0+IHF1ZXVlSm9iKGpvYik7XG4gICAgfVxuICAgIGNvbnN0IGVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChnZXR0ZXIsIHNjaGVkdWxlcik7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBlZmZlY3Qub25UcmFjayA9IG9uVHJhY2s7XG4gICAgICAgIGVmZmVjdC5vblRyaWdnZXIgPSBvblRyaWdnZXI7XG4gICAgfVxuICAgIC8vIGluaXRpYWwgcnVuXG4gICAgaWYgKGNiKSB7XG4gICAgICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgICAgIGpvYigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2xkVmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZWZmZWN0LnJ1bi5iaW5kKGVmZmVjdCksIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVmZmVjdC5ydW4oKTtcbiAgICB9XG4gICAgY29uc3QgdW53YXRjaCA9ICgpID0+IHtcbiAgICAgICAgZWZmZWN0LnN0b3AoKTtcbiAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLnNjb3BlKSB7XG4gICAgICAgICAgICByZW1vdmUoaW5zdGFuY2Uuc2NvcGUuZWZmZWN0cywgZWZmZWN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKHNzckNsZWFudXApXG4gICAgICAgIHNzckNsZWFudXAucHVzaCh1bndhdGNoKTtcbiAgICByZXR1cm4gdW53YXRjaDtcbn1cbi8vIHRoaXMuJHdhdGNoXG5mdW5jdGlvbiBpbnN0YW5jZVdhdGNoKHNvdXJjZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcbiAgICBjb25zdCBnZXR0ZXIgPSBpc1N0cmluZyhzb3VyY2UpXG4gICAgICAgID8gc291cmNlLmluY2x1ZGVzKCcuJylcbiAgICAgICAgICAgID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBzb3VyY2UpXG4gICAgICAgICAgICA6ICgpID0+IHB1YmxpY1RoaXNbc291cmNlXVxuICAgICAgICA6IHNvdXJjZS5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xuICAgIGxldCBjYjtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgY2IgPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNiID0gdmFsdWUuaGFuZGxlcjtcbiAgICAgICAgb3B0aW9ucyA9IHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBjdXIgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgc2V0Q3VycmVudEluc3RhbmNlKHRoaXMpO1xuICAgIGNvbnN0IHJlcyA9IGRvV2F0Y2goZ2V0dGVyLCBjYi5iaW5kKHB1YmxpY1RoaXMpLCBvcHRpb25zKTtcbiAgICBpZiAoY3VyKSB7XG4gICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShjdXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhHZXR0ZXIoY3R4LCBwYXRoKSB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgbGV0IGN1ciA9IGN0eDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGggJiYgY3VyOyBpKyspIHtcbiAgICAgICAgICAgIGN1ciA9IGN1cltzZWdtZW50c1tpXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cjtcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJhdmVyc2UodmFsdWUsIHNlZW4pIHtcbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCB2YWx1ZVtcIl9fdl9za2lwXCIgLyogUmVhY3RpdmVGbGFncy5TS0lQICovXSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBTZXQoKTtcbiAgICBpZiAoc2Vlbi5oYXModmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc2Vlbi5hZGQodmFsdWUpO1xuICAgIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIHNlZW4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtpXSwgc2Vlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTZXQodmFsdWUpIHx8IGlzTWFwKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgICAgICB0cmF2ZXJzZSh2LCBzZWVuKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBzZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25TdGF0ZSgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICAgICAgaXNMZWF2aW5nOiBmYWxzZSxcbiAgICAgICAgaXNVbm1vdW50aW5nOiBmYWxzZSxcbiAgICAgICAgbGVhdmluZ1ZOb2RlczogbmV3IE1hcCgpXG4gICAgfTtcbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgICBzdGF0ZS5pc01vdW50ZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgICAgIHN0YXRlLmlzVW5tb3VudGluZyA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuY29uc3QgVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IgPSBbRnVuY3Rpb24sIEFycmF5XTtcbmNvbnN0IEJhc2VUcmFuc2l0aW9uSW1wbCA9IHtcbiAgICBuYW1lOiBgQmFzZVRyYW5zaXRpb25gLFxuICAgIHByb3BzOiB7XG4gICAgICAgIG1vZGU6IFN0cmluZyxcbiAgICAgICAgYXBwZWFyOiBCb29sZWFuLFxuICAgICAgICBwZXJzaXN0ZWQ6IEJvb2xlYW4sXG4gICAgICAgIC8vIGVudGVyXG4gICAgICAgIG9uQmVmb3JlRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25BZnRlckVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25FbnRlckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIC8vIGxlYXZlXG4gICAgICAgIG9uQmVmb3JlTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25BZnRlckxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25MZWF2ZUNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIC8vIGFwcGVhclxuICAgICAgICBvbkJlZm9yZUFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25BZnRlckFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uQXBwZWFyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvclxuICAgIH0sXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xuICAgICAgICBsZXQgcHJldlRyYW5zaXRpb25LZXk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoIWNoaWxkcmVuIHx8ICFjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IGhhc0ZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gbG9jYXRlIGZpcnN0IG5vbi1jb21tZW50IGNoaWxkXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaGFzRm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3YXJuIG1vcmUgdGhhbiBvbmUgbm9uLWNvbW1lbnQgY2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJzx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQgb3IgY29tcG9uZW50LiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZSA8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0aGVyZSdzIG5vIG5lZWQgdG8gdHJhY2sgcmVhY3Rpdml0eSBmb3IgdGhlc2UgcHJvcHMgc28gdXNlIHRoZSByYXdcbiAgICAgICAgICAgIC8vIHByb3BzIGZvciBhIGJpdCBiZXR0ZXIgcGVyZlxuICAgICAgICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgICAgICAgICBjb25zdCB7IG1vZGUgfSA9IHJhd1Byb3BzO1xuICAgICAgICAgICAgLy8gY2hlY2sgbW9kZVxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIG1vZGUgJiZcbiAgICAgICAgICAgICAgICBtb2RlICE9PSAnaW4tb3V0JyAmJlxuICAgICAgICAgICAgICAgIG1vZGUgIT09ICdvdXQtaW4nICYmXG4gICAgICAgICAgICAgICAgbW9kZSAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgPHRyYW5zaXRpb24+PGtlZXAtYWxpdmUvPjwvdHJhbnNpdGlvbj4sIHdlIG5lZWQgdG9cbiAgICAgICAgICAgIC8vIGNvbXBhcmUgdGhlIHR5cGUgb2YgdGhlIGtlcHQtYWxpdmUgY2hpbGRyZW4uXG4gICAgICAgICAgICBjb25zdCBpbm5lckNoaWxkID0gZ2V0S2VlcEFsaXZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgaWYgKCFpbm5lckNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZW50ZXJIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgZW50ZXJIb29rcyk7XG4gICAgICAgICAgICBjb25zdCBvbGRDaGlsZCA9IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgICAgICAgICBjb25zdCBvbGRJbm5lckNoaWxkID0gb2xkQ2hpbGQgJiYgZ2V0S2VlcEFsaXZlQ2hpbGQob2xkQ2hpbGQpO1xuICAgICAgICAgICAgbGV0IHRyYW5zaXRpb25LZXlDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCB7IGdldFRyYW5zaXRpb25LZXkgfSA9IGlubmVyQ2hpbGQudHlwZTtcbiAgICAgICAgICAgIGlmIChnZXRUcmFuc2l0aW9uS2V5KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0VHJhbnNpdGlvbktleSgpO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2VHJhbnNpdGlvbktleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgIT09IHByZXZUcmFuc2l0aW9uS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uS2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uS2V5Q2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaGFuZGxlIG1vZGVcbiAgICAgICAgICAgIGlmIChvbGRJbm5lckNoaWxkICYmXG4gICAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50ICYmXG4gICAgICAgICAgICAgICAgKCFpc1NhbWVWTm9kZVR5cGUoaW5uZXJDaGlsZCwgb2xkSW5uZXJDaGlsZCkgfHwgdHJhbnNpdGlvbktleUNoYW5nZWQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ0hvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCByYXdQcm9wcywgc3RhdGUsIGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgb2xkIHRyZWUncyBob29rcyBpbiBjYXNlIG9mIGR5bmFtaWMgdHJhbnNpdGlvblxuICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCBsZWF2aW5nSG9va3MpO1xuICAgICAgICAgICAgICAgIC8vIHN3aXRjaGluZyBiZXR3ZWVuIGRpZmZlcmVudCB2aWV3c1xuICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAnb3V0LWluJykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gcGxhY2Vob2xkZXIgbm9kZSBhbmQgcXVldWUgdXBkYXRlIHdoZW4gbGVhdmUgZmluaXNoZXNcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICM2ODM1XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBhbHNvIG5lZWRzIHRvIGJlIHVwZGF0ZWQgd2hlbiBhY3RpdmUgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UudXBkYXRlLmFjdGl2ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnaW4tb3V0JyAmJiBpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0hvb2tzLmRlbGF5TGVhdmUgPSAoZWwsIGVhcmx5UmVtb3ZlLCBkZWxheWVkTGVhdmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIG9sZElubmVyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW1N0cmluZyhvbGRJbm5lckNoaWxkLmtleSldID0gb2xkSW5uZXJDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVhcmx5IHJlbW92YWwgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhcmx5UmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGVySG9va3MuZGVsYXllZExlYXZlID0gZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgfTtcbiAgICB9XG59O1xue1xuICAgIEJhc2VUcmFuc2l0aW9uSW1wbC5fX2lzQnVpbHRJbiA9IHRydWU7XG59XG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2Vcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXG5jb25zdCBCYXNlVHJhbnNpdGlvbiA9IEJhc2VUcmFuc2l0aW9uSW1wbDtcbmZ1bmN0aW9uIGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKSB7XG4gICAgY29uc3QgeyBsZWF2aW5nVk5vZGVzIH0gPSBzdGF0ZTtcbiAgICBsZXQgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gbGVhdmluZ1ZOb2Rlcy5nZXQodm5vZGUudHlwZSk7XG4gICAgaWYgKCFsZWF2aW5nVk5vZGVzQ2FjaGUpIHtcbiAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgbGVhdmluZ1ZOb2Rlcy5zZXQodm5vZGUudHlwZSwgbGVhdmluZ1ZOb2Rlc0NhY2hlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlYXZpbmdWTm9kZXNDYWNoZTtcbn1cbi8vIFRoZSB0cmFuc2l0aW9uIGhvb2tzIGFyZSBhdHRhY2hlZCB0byB0aGUgdm5vZGUgYXMgdm5vZGUudHJhbnNpdGlvblxuLy8gYW5kIHdpbGwgYmUgY2FsbGVkIGF0IGFwcHJvcHJpYXRlIHRpbWluZyBpbiB0aGUgcmVuZGVyZXIuXG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlLCBwcm9wcywgc3RhdGUsIGluc3RhbmNlKSB7XG4gICAgY29uc3QgeyBhcHBlYXIsIG1vZGUsIHBlcnNpc3RlZCA9IGZhbHNlLCBvbkJlZm9yZUVudGVyLCBvbkVudGVyLCBvbkFmdGVyRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uQmVmb3JlTGVhdmUsIG9uTGVhdmUsIG9uQWZ0ZXJMZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIsIG9uQXBwZWFyLCBvbkFmdGVyQXBwZWFyLCBvbkFwcGVhckNhbmNlbGxlZCB9ID0gcHJvcHM7XG4gICAgY29uc3Qga2V5ID0gU3RyaW5nKHZub2RlLmtleSk7XG4gICAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpO1xuICAgIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICAgICAgaG9vayAmJlxuICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDkgLyogRXJyb3JDb2Rlcy5UUkFOU0lUSU9OX0hPT0sgKi8sIGFyZ3MpO1xuICAgIH07XG4gICAgY29uc3QgY2FsbEFzeW5jSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IGRvbmUgPSBhcmdzWzFdO1xuICAgICAgICBjYWxsSG9vayhob29rLCBhcmdzKTtcbiAgICAgICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgICAgICAgIGlmIChob29rLmV2ZXJ5KGhvb2sgPT4gaG9vay5sZW5ndGggPD0gMSkpXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhvb2subGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaG9va3MgPSB7XG4gICAgICAgIG1vZGUsXG4gICAgICAgIHBlcnNpc3RlZCxcbiAgICAgICAgYmVmb3JlRW50ZXIoZWwpIHtcbiAgICAgICAgICAgIGxldCBob29rID0gb25CZWZvcmVFbnRlcjtcbiAgICAgICAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgICAgICAgICAgICBob29rID0gb25CZWZvcmVBcHBlYXIgfHwgb25CZWZvcmVFbnRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3Igc2FtZSBlbGVtZW50ICh2LXNob3cpXG4gICAgICAgICAgICBpZiAoZWwuX2xlYXZlQ2IpIHtcbiAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYih0cnVlIC8qIGNhbmNlbGxlZCAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3IgdG9nZ2xlZCBlbGVtZW50IHdpdGggc2FtZSBrZXkgKHYtaWYpXG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGUgPSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcbiAgICAgICAgICAgIGlmIChsZWF2aW5nVk5vZGUgJiZcbiAgICAgICAgICAgICAgICBpc1NhbWVWTm9kZVR5cGUodm5vZGUsIGxlYXZpbmdWTm9kZSkgJiZcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IpIHtcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSBlYXJseSByZW1vdmFsIChub3QgY2FuY2VsbGVkKVxuICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZS5lbC5fbGVhdmVDYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbEhvb2soaG9vaywgW2VsXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudGVyKGVsKSB7XG4gICAgICAgICAgICBsZXQgaG9vayA9IG9uRW50ZXI7XG4gICAgICAgICAgICBsZXQgYWZ0ZXJIb29rID0gb25BZnRlckVudGVyO1xuICAgICAgICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xuICAgICAgICAgICAgICAgICAgICBhZnRlckhvb2sgPSBvbkFmdGVyQXBwZWFyIHx8IG9uQWZ0ZXJFbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsSG9vayA9IG9uQXBwZWFyQ2FuY2VsbGVkIHx8IG9uRW50ZXJDYW5jZWxsZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fZW50ZXJDYiA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGNhbmNlbEhvb2ssIFtlbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2soYWZ0ZXJIb29rLCBbZWxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhvb2tzLmRlbGF5ZWRMZWF2ZSkge1xuICAgICAgICAgICAgICAgICAgICBob29rcy5kZWxheWVkTGVhdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWwuX2VudGVyQ2IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChob29rKSB7XG4gICAgICAgICAgICAgICAgY2FsbEFzeW5jSG9vayhob29rLCBbZWwsIGRvbmVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGVhdmUoZWwsIHJlbW92ZSkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gU3RyaW5nKHZub2RlLmtleSk7XG4gICAgICAgICAgICBpZiAoZWwuX2VudGVyQ2IpIHtcbiAgICAgICAgICAgICAgICBlbC5fZW50ZXJDYih0cnVlIC8qIGNhbmNlbGxlZCAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbEhvb2sob25CZWZvcmVMZWF2ZSwgW2VsXSk7XG4gICAgICAgICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBkb25lID0gKGVsLl9sZWF2ZUNiID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYWxsZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhvbkFmdGVyTGVhdmUsIFtlbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAobGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV0gPT09IHZub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID0gdm5vZGU7XG4gICAgICAgICAgICBpZiAob25MZWF2ZSkge1xuICAgICAgICAgICAgICAgIGNhbGxBc3luY0hvb2sob25MZWF2ZSwgW2VsLCBkb25lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNsb25lKHZub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBob29rcztcbn1cbi8vIHRoZSBwbGFjZWhvbGRlciByZWFsbHkgb25seSBoYW5kbGVzIG9uZSBzcGVjaWFsIGNhc2U6IEtlZXBBbGl2ZVxuLy8gaW4gdGhlIGNhc2Ugb2YgYSBLZWVwQWxpdmUgaW4gYSBsZWF2ZSBwaGFzZSB3ZSBuZWVkIHRvIHJldHVybiBhIEtlZXBBbGl2ZVxuLy8gcGxhY2Vob2xkZXIgd2l0aCBlbXB0eSBjb250ZW50IHRvIGF2b2lkIHRoZSBLZWVwQWxpdmUgaW5zdGFuY2UgZnJvbSBiZWluZ1xuLy8gdW5tb3VudGVkLlxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xuICAgIGlmIChpc0tlZXBBbGl2ZSh2bm9kZSkpIHtcbiAgICAgICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICByZXR1cm4gdm5vZGU7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0S2VlcEFsaXZlQ2hpbGQodm5vZGUpIHtcbiAgICByZXR1cm4gaXNLZWVwQWxpdmUodm5vZGUpXG4gICAgICAgID8gdm5vZGUuY2hpbGRyZW5cbiAgICAgICAgICAgID8gdm5vZGUuY2hpbGRyZW5bMF1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgIDogdm5vZGU7XG59XG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIGhvb2tzKSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8gJiYgdm5vZGUuY29tcG9uZW50KSB7XG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgaG9va3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICB2bm9kZS5zc0NvbnRlbnQudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzQ29udGVudCk7XG4gICAgICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZHJlbiwga2VlcENvbW1lbnQgPSBmYWxzZSwgcGFyZW50S2V5KSB7XG4gICAgbGV0IHJldCA9IFtdO1xuICAgIGxldCBrZXllZEZyYWdtZW50Q291bnQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIC8vICM1MzYwIGluaGVyaXQgcGFyZW50IGtleSBpbiBjYXNlIG9mIDx0ZW1wbGF0ZSB2LWZvcj5cbiAgICAgICAgY29uc3Qga2V5ID0gcGFyZW50S2V5ID09IG51bGxcbiAgICAgICAgICAgID8gY2hpbGQua2V5XG4gICAgICAgICAgICA6IFN0cmluZyhwYXJlbnRLZXkpICsgU3RyaW5nKGNoaWxkLmtleSAhPSBudWxsID8gY2hpbGQua2V5IDogaSk7XG4gICAgICAgIC8vIGhhbmRsZSBmcmFnbWVudCBjaGlsZHJlbiBjYXNlLCBlLmcuIHYtZm9yXG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgICAgICAgaWYgKGNoaWxkLnBhdGNoRmxhZyAmIDEyOCAvKiBQYXRjaEZsYWdzLktFWUVEX0ZSQUdNRU5UICovKVxuICAgICAgICAgICAgICAgIGtleWVkRnJhZ21lbnRDb3VudCsrO1xuICAgICAgICAgICAgcmV0ID0gcmV0LmNvbmNhdChnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGQuY2hpbGRyZW4sIGtlZXBDb21tZW50LCBrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb21tZW50IHBsYWNlaG9sZGVycyBzaG91bGQgYmUgc2tpcHBlZCwgZS5nLiB2LWlmXG4gICAgICAgIGVsc2UgaWYgKGtlZXBDb21tZW50IHx8IGNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKGtleSAhPSBudWxsID8gY2xvbmVWTm9kZShjaGlsZCwgeyBrZXkgfSkgOiBjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gIzExMjYgaWYgYSB0cmFuc2l0aW9uIGNoaWxkcmVuIGxpc3QgY29udGFpbnMgbXVsdGlwbGUgc3ViIGZyYWdtZW50cywgdGhlc2VcbiAgICAvLyBmcmFnbWVudHMgd2lsbCBiZSBtZXJnZWQgaW50byBhIGZsYXQgY2hpbGRyZW4gYXJyYXkuIFNpbmNlIGVhY2ggdi1mb3JcbiAgICAvLyBmcmFnbWVudCBtYXkgY29udGFpbiBkaWZmZXJlbnQgc3RhdGljIGJpbmRpbmdzIGluc2lkZSwgd2UgbmVlZCB0byBkZS1vcFxuICAgIC8vIHRoZXNlIGNoaWxkcmVuIHRvIGZvcmNlIGZ1bGwgZGlmZnMgdG8gZW5zdXJlIGNvcnJlY3QgYmVoYXZpb3IuXG4gICAgaWYgKGtleWVkRnJhZ21lbnRDb3VudCA+IDEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJldFtpXS5wYXRjaEZsYWcgPSAtMiAvKiBQYXRjaEZsYWdzLkJBSUwgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuLy8gaW1wbGVtZW50YXRpb24sIGNsb3NlIHRvIG5vLW9wXG5mdW5jdGlvbiBkZWZpbmVDb21wb25lbnQob3B0aW9ucykge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9wdGlvbnMpID8geyBzZXR1cDogb3B0aW9ucywgbmFtZTogb3B0aW9ucy5uYW1lIH0gOiBvcHRpb25zO1xufVxuXG5jb25zdCBpc0FzeW5jV3JhcHBlciA9IChpKSA9PiAhIWkudHlwZS5fX2FzeW5jTG9hZGVyO1xuZnVuY3Rpb24gZGVmaW5lQXN5bmNDb21wb25lbnQoc291cmNlKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xuICAgICAgICBzb3VyY2UgPSB7IGxvYWRlcjogc291cmNlIH07XG4gICAgfVxuICAgIGNvbnN0IHsgbG9hZGVyLCBsb2FkaW5nQ29tcG9uZW50LCBlcnJvckNvbXBvbmVudCwgZGVsYXkgPSAyMDAsIHRpbWVvdXQsIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxuICAgIHN1c3BlbnNpYmxlID0gdHJ1ZSwgb25FcnJvcjogdXNlck9uRXJyb3IgfSA9IHNvdXJjZTtcbiAgICBsZXQgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgIGxldCByZXNvbHZlZENvbXA7XG4gICAgbGV0IHJldHJpZXMgPSAwO1xuICAgIGNvbnN0IHJldHJ5ID0gKCkgPT4ge1xuICAgICAgICByZXRyaWVzKys7XG4gICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGxvYWQoKTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGxldCB0aGlzUmVxdWVzdDtcbiAgICAgICAgcmV0dXJuIChwZW5kaW5nUmVxdWVzdCB8fFxuICAgICAgICAgICAgKHRoaXNSZXF1ZXN0ID0gcGVuZGluZ1JlcXVlc3QgPVxuICAgICAgICAgICAgICAgIGxvYWRlcigpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnIgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyT25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyUmV0cnkgPSAoKSA9PiByZXNvbHZlKHJldHJ5KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJGYWlsID0gKCkgPT4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlck9uRXJyb3IoZXJyLCB1c2VyUmV0cnksIHVzZXJGYWlsLCByZXRyaWVzICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChjb21wKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzUmVxdWVzdCAhPT0gcGVuZGluZ1JlcXVlc3QgJiYgcGVuZGluZ1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjb21wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEFzeW5jIGNvbXBvbmVudCBsb2FkZXIgcmVzb2x2ZWQgdG8gdW5kZWZpbmVkLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJvcCBtb2R1bGUgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbXAuX19lc01vZHVsZSB8fCBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9IGNvbXAuZGVmYXVsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbXAgJiYgIWlzT2JqZWN0KGNvbXApICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXN5bmMgY29tcG9uZW50IGxvYWQgcmVzdWx0OiAke2NvbXB9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRDb21wID0gY29tcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXA7XG4gICAgICAgICAgICAgICAgfSkpKTtcbiAgICB9O1xuICAgIHJldHVybiBkZWZpbmVDb21wb25lbnQoe1xuICAgICAgICBuYW1lOiAnQXN5bmNDb21wb25lbnRXcmFwcGVyJyxcbiAgICAgICAgX19hc3luY0xvYWRlcjogbG9hZCxcbiAgICAgICAgZ2V0IF9fYXN5bmNSZXNvbHZlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZENvbXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldHVwKCkge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgICAgICAgICAvLyBhbHJlYWR5IHJlc29sdmVkXG4gICAgICAgICAgICBpZiAocmVzb2x2ZWRDb21wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEzIC8qIEVycm9yQ29kZXMuQVNZTkNfQ09NUE9ORU5UX0xPQURFUiAqLywgIWVycm9yQ29tcG9uZW50IC8qIGRvIG5vdCB0aHJvdyBpbiBkZXYgaWYgdXNlciBwcm92aWRlZCBlcnJvciBjb21wb25lbnQgKi8pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIHN1c3BlbnNlLWNvbnRyb2xsZWQgb3IgU1NSLlxuICAgICAgICAgICAgaWYgKChzdXNwZW5zaWJsZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSkgfHxcbiAgICAgICAgICAgICAgICAoaXNJblNTUkNvbXBvbmVudFNldHVwKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkKClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oY29tcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAoY29tcCwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBlcnJvckNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2FkZWQgPSByZWYoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSByZWYoKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ZWQgPSByZWYoISFkZWxheSk7XG4gICAgICAgICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXllZC52YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2FkZWQudmFsdWUgJiYgIWVycm9yLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYEFzeW5jIGNvbXBvbmVudCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvYWQoKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBsb2FkZWQudmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5wYXJlbnQgJiYgaXNLZWVwQWxpdmUoaW5zdGFuY2UucGFyZW50LnZub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwYXJlbnQgaXMga2VlcC1hbGl2ZSwgZm9yY2UgdXBkYXRlIHNvIHRoZSBsb2FkZWQgY29tcG9uZW50J3NcbiAgICAgICAgICAgICAgICAgICAgLy8gbmFtZSBpcyB0YWtlbiBpbnRvIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgcXVldWVKb2IoaW5zdGFuY2UucGFyZW50LnVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlZC52YWx1ZSAmJiByZXNvbHZlZENvbXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGxvYWRpbmdDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUlubmVyQ29tcChjb21wLCBwYXJlbnQpIHtcbiAgICBjb25zdCB7IHJlZiwgcHJvcHMsIGNoaWxkcmVuLCBjZSB9ID0gcGFyZW50LnZub2RlO1xuICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoY29tcCwgcHJvcHMsIGNoaWxkcmVuKTtcbiAgICAvLyBlbnN1cmUgaW5uZXIgY29tcG9uZW50IGluaGVyaXRzIHRoZSBhc3luYyB3cmFwcGVyJ3MgcmVmIG93bmVyXG4gICAgdm5vZGUucmVmID0gcmVmO1xuICAgIC8vIHBhc3MgdGhlIGN1c3RvbSBlbGVtZW50IGNhbGxiYWNrIG9uIHRvIHRoZSBpbm5lciBjb21wXG4gICAgLy8gYW5kIHJlbW92ZSBpdCBmcm9tIHRoZSBhc3luYyB3cmFwcGVyXG4gICAgdm5vZGUuY2UgPSBjZTtcbiAgICBkZWxldGUgcGFyZW50LnZub2RlLmNlO1xuICAgIHJldHVybiB2bm9kZTtcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcbmNvbnN0IEtlZXBBbGl2ZUltcGwgPSB7XG4gICAgbmFtZTogYEtlZXBBbGl2ZWAsXG4gICAgLy8gTWFya2VyIGZvciBzcGVjaWFsIGhhbmRsaW5nIGluc2lkZSB0aGUgcmVuZGVyZXIuIFdlIGFyZSBub3QgdXNpbmcgYSA9PT1cbiAgICAvLyBjaGVjayBkaXJlY3RseSBvbiBLZWVwQWxpdmUgaW4gdGhlIHJlbmRlcmVyLCBiZWNhdXNlIGltcG9ydGluZyBpdCBkaXJlY3RseVxuICAgIC8vIHdvdWxkIHByZXZlbnQgaXQgZnJvbSBiZWluZyB0cmVlLXNoYWtlbi5cbiAgICBfX2lzS2VlcEFsaXZlOiB0cnVlLFxuICAgIHByb3BzOiB7XG4gICAgICAgIGluY2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxuICAgICAgICBleGNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcbiAgICAgICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdXG4gICAgfSxcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIC8vIEtlZXBBbGl2ZSBjb21tdW5pY2F0ZXMgd2l0aCB0aGUgaW5zdGFudGlhdGVkIHJlbmRlcmVyIHZpYSB0aGVcbiAgICAgICAgLy8gY3R4IHdoZXJlIHRoZSByZW5kZXJlciBwYXNzZXMgaW4gaXRzIGludGVybmFscyxcbiAgICAgICAgLy8gYW5kIHRoZSBLZWVwQWxpdmUgaW5zdGFuY2UgZXhwb3NlcyBhY3RpdmF0ZS9kZWFjdGl2YXRlIGltcGxlbWVudGF0aW9ucy5cbiAgICAgICAgLy8gVGhlIHdob2xlIHBvaW50IG9mIHRoaXMgaXMgdG8gYXZvaWQgaW1wb3J0aW5nIEtlZXBBbGl2ZSBkaXJlY3RseSBpbiB0aGVcbiAgICAgICAgLy8gcmVuZGVyZXIgdG8gZmFjaWxpdGF0ZSB0cmVlLXNoYWtpbmcuXG4gICAgICAgIGNvbnN0IHNoYXJlZENvbnRleHQgPSBpbnN0YW5jZS5jdHg7XG4gICAgICAgIC8vIGlmIHRoZSBpbnRlcm5hbCByZW5kZXJlciBpcyBub3QgcmVnaXN0ZXJlZCwgaXQgaW5kaWNhdGVzIHRoYXQgdGhpcyBpcyBzZXJ2ZXItc2lkZSByZW5kZXJpbmcsXG4gICAgICAgIC8vIGZvciBLZWVwQWxpdmUsIHdlIGp1c3QgbmVlZCB0byByZW5kZXIgaXRzIGNoaWxkcmVuXG4gICAgICAgIGlmICghc2hhcmVkQ29udGV4dC5yZW5kZXJlcikge1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPT09IDEgPyBjaGlsZHJlblswXSA6IGNoaWxkcmVuO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBudWxsO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgaW5zdGFuY2UuX192X2NhY2hlID0gY2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50U3VzcGVuc2UgPSBpbnN0YW5jZS5zdXNwZW5zZTtcbiAgICAgICAgY29uc3QgeyByZW5kZXJlcjogeyBwOiBwYXRjaCwgbTogbW92ZSwgdW06IF91bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9IH0gPSBzaGFyZWRDb250ZXh0O1xuICAgICAgICBjb25zdCBzdG9yYWdlQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNoYXJlZENvbnRleHQuYWN0aXZhdGUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgICAgICAgIG1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIE1vdmVUeXBlLkVOVEVSICovLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAvLyBpbiBjYXNlIHByb3BzIGhhdmUgY2hhbmdlZFxuICAgICAgICAgICAgcGF0Y2goaW5zdGFuY2Uudm5vZGUsIHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgdm5vZGUuc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc0RlYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UuYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVNb3VudGVkO1xuICAgICAgICAgICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UucGFyZW50LCB2bm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29tcG9uZW50cyB0cmVlXG4gICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNoYXJlZENvbnRleHQuZGVhY3RpdmF0ZSA9ICh2bm9kZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICBtb3ZlKHZub2RlLCBzdG9yYWdlQ29udGFpbmVyLCBudWxsLCAxIC8qIE1vdmVUeXBlLkxFQVZFICovLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5kYSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5kYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVVbm1vdW50ZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZS5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNEZWFjdGl2YXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjb21wb25lbnRzIHRyZWVcbiAgICAgICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSkge1xuICAgICAgICAgICAgLy8gcmVzZXQgdGhlIHNoYXBlRmxhZyBzbyBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkXG4gICAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XG4gICAgICAgICAgICBfdW5tb3VudCh2bm9kZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwcnVuZUNhY2hlKGZpbHRlcikge1xuICAgICAgICAgICAgY2FjaGUuZm9yRWFjaCgodm5vZGUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lICYmICghZmlsdGVyIHx8ICFmaWx0ZXIobmFtZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShrZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50IHx8IGNhY2hlZC50eXBlICE9PSBjdXJyZW50LnR5cGUpIHtcbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgaW5zdGFuY2Ugc2hvdWxkIG5vIGxvbmdlciBiZSBrZXB0LWFsaXZlLlxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbid0IHVubW91bnQgaXQgbm93IGJ1dCBpdCBtaWdodCBiZSBsYXRlciwgc28gcmVzZXQgaXRzIGZsYWcgbm93LlxuICAgICAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKGN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBydW5lIGNhY2hlIG9uIGluY2x1ZGUvZXhjbHVkZSBwcm9wIGNoYW5nZVxuICAgICAgICB3YXRjaCgoKSA9PiBbcHJvcHMuaW5jbHVkZSwgcHJvcHMuZXhjbHVkZV0sIChbaW5jbHVkZSwgZXhjbHVkZV0pID0+IHtcbiAgICAgICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZShuYW1lID0+IG1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpO1xuICAgICAgICAgICAgZXhjbHVkZSAmJiBwcnVuZUNhY2hlKG5hbWUgPT4gIW1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpO1xuICAgICAgICB9LCBcbiAgICAgICAgLy8gcHJ1bmUgcG9zdC1yZW5kZXIgYWZ0ZXIgYGN1cnJlbnRgIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgICAgeyBmbHVzaDogJ3Bvc3QnLCBkZWVwOiB0cnVlIH0pO1xuICAgICAgICAvLyBjYWNoZSBzdWIgdHJlZSBhZnRlciByZW5kZXJcbiAgICAgICAgbGV0IHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNhY2hlU3VidHJlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIGZpeCAjMTYyMSwgdGhlIHBlbmRpbmdDYWNoZUtleSBjb3VsZCBiZSAwXG4gICAgICAgICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgb25Nb3VudGVkKGNhY2hlU3VidHJlZSk7XG4gICAgICAgIG9uVXBkYXRlZChjYWNoZVN1YnRyZWUpO1xuICAgICAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgICAgICAgICAgY2FjaGUuZm9yRWFjaChjYWNoZWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3ViVHJlZSwgc3VzcGVuc2UgfSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChzdWJUcmVlKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkLnR5cGUgPT09IHZub2RlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY3VycmVudCBpbnN0YW5jZSB3aWxsIGJlIHVubW91bnRlZCBhcyBwYXJ0IG9mIGtlZXAtYWxpdmUncyB1bm1vdW50XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGludm9rZSBpdHMgZGVhY3RpdmF0ZWQgaG9vayBoZXJlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhID0gdm5vZGUuY29tcG9uZW50LmRhO1xuICAgICAgICAgICAgICAgICAgICBkYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZGEsIHN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFzbG90cy5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHJhd1ZOb2RlID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBLZWVwQWxpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgY29tcG9uZW50IGNoaWxkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghaXNWTm9kZShyYXdWTm9kZSkgfHxcbiAgICAgICAgICAgICAgICAoIShyYXdWTm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovKSAmJlxuICAgICAgICAgICAgICAgICAgICAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHJhd1ZOb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xuICAgICAgICAgICAgLy8gZm9yIGFzeW5jIGNvbXBvbmVudHMsIG5hbWUgY2hlY2sgc2hvdWxkIGJlIGJhc2VkIGluIGl0cyBsb2FkZWRcbiAgICAgICAgICAgIC8vIGlubmVyIGNvbXBvbmVudCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGlzQXN5bmNXcmFwcGVyKHZub2RlKVxuICAgICAgICAgICAgICAgID8gdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgfHwge31cbiAgICAgICAgICAgICAgICA6IGNvbXApO1xuICAgICAgICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlLCBtYXggfSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKChpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkpIHx8XG4gICAgICAgICAgICAgICAgKGV4Y2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWRWTm9kZSA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgICAgICAgLy8gY2xvbmUgdm5vZGUgaWYgaXQncyByZXVzZWQgYmVjYXVzZSB3ZSBhcmUgZ29pbmcgdG8gbXV0YXRlIGl0XG4gICAgICAgICAgICBpZiAodm5vZGUuZWwpIHtcbiAgICAgICAgICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICAgICAgICAgICAgICByYXdWTm9kZS5zc0NvbnRlbnQgPSB2bm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAjMTUxMyBpdCdzIHBvc3NpYmxlIGZvciB0aGUgcmV0dXJuZWQgdm5vZGUgdG8gYmUgY2xvbmVkIGR1ZSB0byBhdHRyXG4gICAgICAgICAgICAvLyBmYWxsdGhyb3VnaCBvciBzY29wZUlkLCBzbyB0aGUgdm5vZGUgaGVyZSBtYXkgbm90IGJlIHRoZSBmaW5hbCB2bm9kZVxuICAgICAgICAgICAgLy8gdGhhdCBpcyBtb3VudGVkLiBJbnN0ZWFkIG9mIGNhY2hpbmcgaXQgZGlyZWN0bHksIHdlIHN0b3JlIHRoZSBwZW5kaW5nXG4gICAgICAgICAgICAvLyBrZXkgYW5kIGNhY2hlIGBpbnN0YW5jZS5zdWJUcmVlYCAodGhlIG5vcm1hbGl6ZWQgdm5vZGUpIGluXG4gICAgICAgICAgICAvLyBiZWZvcmVNb3VudC9iZWZvcmVVcGRhdGUgaG9va3MuXG4gICAgICAgICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBrZXk7XG4gICAgICAgICAgICBpZiAoY2FjaGVkVk5vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG92ZXIgbW91bnRlZCBzdGF0ZVxuICAgICAgICAgICAgICAgIHZub2RlLmVsID0gY2FjaGVkVk5vZGUuZWw7XG4gICAgICAgICAgICAgICAgdm5vZGUuY29tcG9uZW50ID0gY2FjaGVkVk5vZGUuY29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHVwZGF0ZSB0cmFuc2l0aW9uIGhvb2tzIG9uIHN1YlRyZWVcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCB2bm9kZS50cmFuc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgdm5vZGUgYmVpbmcgbW91bnRlZCBhcyBmcmVzaFxuICAgICAgICAgICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSA1MTIgLyogU2hhcGVGbGFncy5DT01QT05FTlRfS0VQVF9BTElWRSAqLztcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHRoaXMga2V5IHRoZSBmcmVzaGVzdFxuICAgICAgICAgICAgICAgIGtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICAgICAgLy8gcHJ1bmUgb2xkZXN0IGVudHJ5XG4gICAgICAgICAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5cy52YWx1ZXMoKS5uZXh0KCkudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGF2b2lkIHZub2RlIGJlaW5nIHVubW91bnRlZFxuICAgICAgICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDI1NiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLztcbiAgICAgICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgICAgICAgIHJldHVybiBpc1N1c3BlbnNlKHJhd1ZOb2RlLnR5cGUpID8gcmF3Vk5vZGUgOiB2bm9kZTtcbiAgICAgICAgfTtcbiAgICB9XG59O1xue1xuICAgIEtlZXBBbGl2ZUltcGwuX19pc0J1aWxkSW4gPSB0cnVlO1xufVxuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcbmZ1bmN0aW9uIG1hdGNoZXMocGF0dGVybiwgbmFtZSkge1xuICAgIGlmIChpc0FycmF5KHBhdHRlcm4pKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluY2x1ZGVzKG5hbWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChwYXR0ZXJuLnRlc3QpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBvbkFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcbiAgICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJhXCIgLyogTGlmZWN5Y2xlSG9va3MuQUNUSVZBVEVEICovLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gb25EZWFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcbiAgICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJkYVwiIC8qIExpZmVjeWNsZUhvb2tzLkRFQUNUSVZBVEVEICovLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIHR5cGUsIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xuICAgIC8vIGNhY2hlIHRoZSBkZWFjdGl2YXRlIGJyYW5jaCBjaGVjayB3cmFwcGVyIGZvciBpbmplY3RlZCBob29rcyBzbyB0aGUgc2FtZVxuICAgIC8vIGhvb2sgY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dkY1wiIHN0YW5kcyBmb3IgXCJ3aXRoXG4gICAgLy8gZGVhY3RpdmF0aW9uIGNoZWNrXCIuXG4gICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2RjIHx8XG4gICAgICAgIChob29rLl9fd2RjID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gb25seSBmaXJlIHRoZSBob29rIGlmIHRoZSB0YXJnZXQgaW5zdGFuY2UgaXMgTk9UIGluIGEgZGVhY3RpdmF0ZWQgYnJhbmNoLlxuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LmlzRGVhY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG9vaygpO1xuICAgICAgICB9KTtcbiAgICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xuICAgIC8vIEluIGFkZGl0aW9uIHRvIHJlZ2lzdGVyaW5nIGl0IG9uIHRoZSB0YXJnZXQgaW5zdGFuY2UsIHdlIHdhbGsgdXAgdGhlIHBhcmVudFxuICAgIC8vIGNoYWluIGFuZCByZWdpc3RlciBpdCBvbiBhbGwgYW5jZXN0b3IgaW5zdGFuY2VzIHRoYXQgYXJlIGtlZXAtYWxpdmUgcm9vdHMuXG4gICAgLy8gVGhpcyBhdm9pZHMgdGhlIG5lZWQgdG8gd2FsayB0aGUgZW50aXJlIGNvbXBvbmVudCB0cmVlIHdoZW4gaW52b2tpbmcgdGhlc2VcbiAgICAvLyBob29rcywgYW5kIG1vcmUgaW1wb3J0YW50bHksIGF2b2lkcyB0aGUgbmVlZCB0byB0cmFjayBjaGlsZCBjb21wb25lbnRzIGluXG4gICAgLy8gYXJyYXlzLlxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQucGFyZW50O1xuICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50LnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKGlzS2VlcEFsaXZlKGN1cnJlbnQucGFyZW50LnZub2RlKSkge1xuICAgICAgICAgICAgICAgIGluamVjdFRvS2VlcEFsaXZlUm9vdCh3cmFwcGVkSG9vaywgdHlwZSwgdGFyZ2V0LCBjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGluamVjdFRvS2VlcEFsaXZlUm9vdChob29rLCB0eXBlLCB0YXJnZXQsIGtlZXBBbGl2ZVJvb3QpIHtcbiAgICAvLyBpbmplY3RIb29rIHdyYXBzIHRoZSBvcmlnaW5hbCBmb3IgZXJyb3IgaGFuZGxpbmcsIHNvIG1ha2Ugc3VyZSB0byByZW1vdmVcbiAgICAvLyB0aGUgd3JhcHBlZCB2ZXJzaW9uLlxuICAgIGNvbnN0IGluamVjdGVkID0gaW5qZWN0SG9vayh0eXBlLCBob29rLCBrZWVwQWxpdmVSb290LCB0cnVlIC8qIHByZXBlbmQgKi8pO1xuICAgIG9uVW5tb3VudGVkKCgpID0+IHtcbiAgICAgICAgcmVtb3ZlKGtlZXBBbGl2ZVJvb3RbdHlwZV0sIGluamVjdGVkKTtcbiAgICB9LCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcbiAgICAvLyBiaXR3aXNlIG9wZXJhdGlvbnMgdG8gcmVtb3ZlIGtlZXAgYWxpdmUgZmxhZ3NcbiAgICB2bm9kZS5zaGFwZUZsYWcgJj0gfjI1NiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLztcbiAgICB2bm9kZS5zaGFwZUZsYWcgJj0gfjUxMiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9LRVBUX0FMSVZFICovO1xufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xuICAgIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLyA/IHZub2RlLnNzQ29udGVudCA6IHZub2RlO1xufVxuXG5mdW5jdGlvbiBpbmplY3RIb29rKHR5cGUsIGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSwgcHJlcGVuZCA9IGZhbHNlKSB7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgICBjb25zdCBob29rcyA9IHRhcmdldFt0eXBlXSB8fCAodGFyZ2V0W3R5cGVdID0gW10pO1xuICAgICAgICAvLyBjYWNoZSB0aGUgZXJyb3IgaGFuZGxpbmcgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWUgaG9va1xuICAgICAgICAvLyBjYW4gYmUgcHJvcGVybHkgZGVkdXBlZCBieSB0aGUgc2NoZWR1bGVyLiBcIl9fd2VoXCIgc3RhbmRzIGZvciBcIndpdGggZXJyb3JcbiAgICAgICAgLy8gaGFuZGxpbmdcIi5cbiAgICAgICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2VoIHx8XG4gICAgICAgICAgICAoaG9vay5fX3dlaCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgdHJhY2tpbmcgaW5zaWRlIGFsbCBsaWZlY3ljbGUgaG9va3NcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXG4gICAgICAgICAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICAgICAgICAgIC8vIFNldCBjdXJyZW50SW5zdGFuY2UgZHVyaW5nIGhvb2sgaW52b2NhdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFzc3VtZXMgdGhlIGhvb2sgZG9lcyBub3Qgc3luY2hyb25vdXNseSB0cmlnZ2VyIG90aGVyIGhvb2tzLCB3aGljaFxuICAgICAgICAgICAgICAgIC8vIGNhbiBvbmx5IGJlIGZhbHNlIHdoZW4gdGhlIHVzZXIgZG9lcyBzb21ldGhpbmcgcmVhbGx5IGZ1bmt5LlxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIHRhcmdldCwgdHlwZSwgYXJncyk7XG4gICAgICAgICAgICAgICAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBpZiAocHJlcGVuZCkge1xuICAgICAgICAgICAgaG9va3MudW5zaGlmdCh3cmFwcGVkSG9vayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBob29rcy5wdXNoKHdyYXBwZWRIb29rKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcHBlZEhvb2s7XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCBhcGlOYW1lID0gdG9IYW5kbGVyS2V5KEVycm9yVHlwZVN0cmluZ3NbdHlwZV0ucmVwbGFjZSgvIGhvb2skLywgJycpKTtcbiAgICAgICAgd2FybiQxKGAke2FwaU5hbWV9IGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYCArXG4gICAgICAgICAgICBgYXNzb2NpYXRlZCB3aXRoLiBgICtcbiAgICAgICAgICAgIGBMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuYCArXG4gICAgICAgICAgICAoYCBJZiB5b3UgYXJlIHVzaW5nIGFzeW5jIHNldHVwKCksIG1ha2Ugc3VyZSB0byByZWdpc3RlciBsaWZlY3ljbGUgYCArXG4gICAgICAgICAgICAgICAgICAgIGBob29rcyBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0IHN0YXRlbWVudC5gXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgfVxufVxuY29uc3QgY3JlYXRlSG9vayA9IChsaWZlY3ljbGUpID0+IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IFxuLy8gcG9zdC1jcmVhdGUgbGlmZWN5Y2xlIHJlZ2lzdHJhdGlvbnMgYXJlIG5vb3BzIGR1cmluZyBTU1IgKGV4Y2VwdCBmb3Igc2VydmVyUHJlZmV0Y2gpXG4oIWlzSW5TU1JDb21wb25lbnRTZXR1cCB8fCBsaWZlY3ljbGUgPT09IFwic3BcIiAvKiBMaWZlY3ljbGVIb29rcy5TRVJWRVJfUFJFRkVUQ0ggKi8pICYmXG4gICAgaW5qZWN0SG9vayhsaWZlY3ljbGUsICguLi5hcmdzKSA9PiBob29rKC4uLmFyZ3MpLCB0YXJnZXQpO1xuY29uc3Qgb25CZWZvcmVNb3VudCA9IGNyZWF0ZUhvb2soXCJibVwiIC8qIExpZmVjeWNsZUhvb2tzLkJFRk9SRV9NT1VOVCAqLyk7XG5jb25zdCBvbk1vdW50ZWQgPSBjcmVhdGVIb29rKFwibVwiIC8qIExpZmVjeWNsZUhvb2tzLk1PVU5URUQgKi8pO1xuY29uc3Qgb25CZWZvcmVVcGRhdGUgPSBjcmVhdGVIb29rKFwiYnVcIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfVVBEQVRFICovKTtcbmNvbnN0IG9uVXBkYXRlZCA9IGNyZWF0ZUhvb2soXCJ1XCIgLyogTGlmZWN5Y2xlSG9va3MuVVBEQVRFRCAqLyk7XG5jb25zdCBvbkJlZm9yZVVubW91bnQgPSBjcmVhdGVIb29rKFwiYnVtXCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX1VOTU9VTlQgKi8pO1xuY29uc3Qgb25Vbm1vdW50ZWQgPSBjcmVhdGVIb29rKFwidW1cIiAvKiBMaWZlY3ljbGVIb29rcy5VTk1PVU5URUQgKi8pO1xuY29uc3Qgb25TZXJ2ZXJQcmVmZXRjaCA9IGNyZWF0ZUhvb2soXCJzcFwiIC8qIExpZmVjeWNsZUhvb2tzLlNFUlZFUl9QUkVGRVRDSCAqLyk7XG5jb25zdCBvblJlbmRlclRyaWdnZXJlZCA9IGNyZWF0ZUhvb2soXCJydGdcIiAvKiBMaWZlY3ljbGVIb29rcy5SRU5ERVJfVFJJR0dFUkVEICovKTtcbmNvbnN0IG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUhvb2soXCJydGNcIiAvKiBMaWZlY3ljbGVIb29rcy5SRU5ERVJfVFJBQ0tFRCAqLyk7XG5mdW5jdGlvbiBvbkVycm9yQ2FwdHVyZWQoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gICAgaW5qZWN0SG9vayhcImVjXCIgLyogTGlmZWN5Y2xlSG9va3MuRVJST1JfQ0FQVFVSRUQgKi8sIGhvb2ssIHRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIGdldENvbXBhdENoaWxkcmVuKGluc3RhbmNlKSB7XG4gICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0NISUxEUkVOXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9DSElMRFJFTiAqLywgaW5zdGFuY2UpO1xuICAgIGNvbnN0IHJvb3QgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgaWYgKHJvb3QpIHtcbiAgICAgICAgd2Fsayhyb290LCBjaGlsZHJlbik7XG4gICAgfVxuICAgIHJldHVybiBjaGlsZHJlbjtcbn1cbmZ1bmN0aW9uIHdhbGsodm5vZGUsIGNoaWxkcmVuKSB7XG4gICAgaWYgKHZub2RlLmNvbXBvbmVudCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKHZub2RlLmNvbXBvbmVudC5wcm94eSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgY29uc3Qgdm5vZGVzID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB3YWxrKHZub2Rlc1tpXSwgY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRDb21wYXRMaXN0ZW5lcnMoaW5zdGFuY2UpIHtcbiAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfTElTVEVORVJTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9MSVNURU5FUlMgKi8sIGluc3RhbmNlKTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB7fTtcbiAgICBjb25zdCByYXdQcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xuICAgIGlmICghcmF3UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICAgICAgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzW2tleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpXSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpc3RlbmVycztcbn1cblxuY29uc3QgbGVnYWN5RGlyZWN0aXZlSG9va01hcCA9IHtcbiAgICBiZWZvcmVNb3VudDogJ2JpbmQnLFxuICAgIG1vdW50ZWQ6ICdpbnNlcnRlZCcsXG4gICAgdXBkYXRlZDogWyd1cGRhdGUnLCAnY29tcG9uZW50VXBkYXRlZCddLFxuICAgIHVubW91bnRlZDogJ3VuYmluZCdcbn07XG5mdW5jdGlvbiBtYXBDb21wYXREaXJlY3RpdmVIb29rKG5hbWUsIGRpciwgaW5zdGFuY2UpIHtcbiAgICBjb25zdCBtYXBwZWROYW1lID0gbGVnYWN5RGlyZWN0aXZlSG9va01hcFtuYW1lXTtcbiAgICBpZiAobWFwcGVkTmFtZSkge1xuICAgICAgICBpZiAoaXNBcnJheShtYXBwZWROYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgaG9vayA9IFtdO1xuICAgICAgICAgICAgbWFwcGVkTmFtZS5mb3JFYWNoKG1hcHBlZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFwcGVkSG9vayA9IGRpclttYXBwZWRdO1xuICAgICAgICAgICAgICAgIGlmIChtYXBwZWRIb29rKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiQ1VTVE9NX0RJUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ1VTVE9NX0RJUiAqLywgaW5zdGFuY2UsIG1hcHBlZCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGhvb2sucHVzaChtYXBwZWRIb29rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBob29rLmxlbmd0aCA/IGhvb2sgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZGlyW21hcHBlZE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJDVVNUT01fRElSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DVVNUT01fRElSICovLCBpbnN0YW5jZSwgbWFwcGVkTmFtZSwgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlyW21hcHBlZE5hbWVdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcblJ1bnRpbWUgaGVscGVyIGZvciBhcHBseWluZyBkaXJlY3RpdmVzIHRvIGEgdm5vZGUuIEV4YW1wbGUgdXNhZ2U6XG5cbmNvbnN0IGNvbXAgPSByZXNvbHZlQ29tcG9uZW50KCdjb21wJylcbmNvbnN0IGZvbyA9IHJlc29sdmVEaXJlY3RpdmUoJ2ZvbycpXG5jb25zdCBiYXIgPSByZXNvbHZlRGlyZWN0aXZlKCdiYXInKVxuXG5yZXR1cm4gd2l0aERpcmVjdGl2ZXMoaChjb21wKSwgW1xuICBbZm9vLCB0aGlzLnhdLFxuICBbYmFyLCB0aGlzLnldXG5dKVxuKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKSB7XG4gICAgaWYgKGlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xuICAgICAgICB3YXJuJDEoJ0RvIG5vdCB1c2UgYnVpbHQtaW4gZGlyZWN0aXZlIGlkcyBhcyBjdXN0b20gZGlyZWN0aXZlIGlkOiAnICsgbmFtZSk7XG4gICAgfVxufVxuLyoqXG4gKiBBZGRzIGRpcmVjdGl2ZXMgdG8gYSBWTm9kZS5cbiAqL1xuZnVuY3Rpb24gd2l0aERpcmVjdGl2ZXModm5vZGUsIGRpcmVjdGl2ZXMpIHtcbiAgICBjb25zdCBpbnRlcm5hbEluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICAgIGlmIChpbnRlcm5hbEluc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYHdpdGhEaXJlY3RpdmVzIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHJlbmRlciBmdW5jdGlvbnMuYCk7XG4gICAgICAgIHJldHVybiB2bm9kZTtcbiAgICB9XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRFeHBvc2VQcm94eShpbnRlcm5hbEluc3RhbmNlKSB8fFxuICAgICAgICBpbnRlcm5hbEluc3RhbmNlLnByb3h5O1xuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycyB8fCAodm5vZGUuZGlycyA9IFtdKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IFtkaXIsIHZhbHVlLCBhcmcsIG1vZGlmaWVycyA9IEVNUFRZX09CSl0gPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICBpZiAoZGlyKSB7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XG4gICAgICAgICAgICAgICAgZGlyID0ge1xuICAgICAgICAgICAgICAgICAgICBtb3VudGVkOiBkaXIsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IGRpclxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlyLmRlZXApIHtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaW5kaW5ncy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkaXIsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICBhcmcsXG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBwcmV2Vk5vZGUsIGluc3RhbmNlLCBuYW1lKSB7XG4gICAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xuICAgIGNvbnN0IG9sZEJpbmRpbmdzID0gcHJldlZOb2RlICYmIHByZXZWTm9kZS5kaXJzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xuICAgICAgICBpZiAob2xkQmluZGluZ3MpIHtcbiAgICAgICAgICAgIGJpbmRpbmcub2xkVmFsdWUgPSBvbGRCaW5kaW5nc1tpXS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaG9vayA9IGJpbmRpbmcuZGlyW25hbWVdO1xuICAgICAgICBpZiAoIWhvb2spIHtcbiAgICAgICAgICAgIGhvb2sgPSBtYXBDb21wYXREaXJlY3RpdmVIb29rKG5hbWUsIGJpbmRpbmcuZGlyLCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvb2spIHtcbiAgICAgICAgICAgIC8vIGRpc2FibGUgdHJhY2tpbmcgaW5zaWRlIGFsbCBsaWZlY3ljbGUgaG9va3NcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgY2FuIHBvdGVudGlhbGx5IGJlIGNhbGxlZCBpbnNpZGUgZWZmZWN0cy5cbiAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA4IC8qIEVycm9yQ29kZXMuRElSRUNUSVZFX0hPT0sgKi8sIFtcbiAgICAgICAgICAgICAgICB2bm9kZS5lbCxcbiAgICAgICAgICAgICAgICBiaW5kaW5nLFxuICAgICAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgICAgIHByZXZWTm9kZVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IENPTVBPTkVOVFMgPSAnY29tcG9uZW50cyc7XG5jb25zdCBESVJFQ1RJVkVTID0gJ2RpcmVjdGl2ZXMnO1xuY29uc3QgRklMVEVSUyA9ICdmaWx0ZXJzJztcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KENPTVBPTkVOVFMsIG5hbWUsIHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSkgfHwgbmFtZTtcbn1cbmNvbnN0IE5VTExfRFlOQU1JQ19DT01QT05FTlQgPSBTeW1ib2woKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgaWYgKGlzU3RyaW5nKGNvbXBvbmVudCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBpbnZhbGlkIHR5cGVzIHdpbGwgZmFsbHRocm91Z2ggdG8gY3JlYXRlVk5vZGUgYW5kIHJhaXNlIHdhcm5pbmdcbiAgICAgICAgcmV0dXJuIChjb21wb25lbnQgfHwgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCk7XG4gICAgfVxufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKG5hbWUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KERJUkVDVElWRVMsIG5hbWUpO1xufVxuLyoqXG4gKiB2MiBjb21wYXQgb25seVxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVGaWx0ZXIobmFtZSkge1xuICAgIHJldHVybiByZXNvbHZlQXNzZXQoRklMVEVSUywgbmFtZSk7XG59XG4vLyBpbXBsZW1lbnRhdGlvblxuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0KHR5cGUsIG5hbWUsIHdhcm5NaXNzaW5nID0gdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlID0gZmFsc2UpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB8fCBjdXJyZW50SW5zdGFuY2U7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gICAgICAgIC8vIGV4cGxpY2l0IHNlbGYgbmFtZSBoYXMgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xuICAgICAgICAgICAgY29uc3Qgc2VsZk5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCwgZmFsc2UgLyogZG8gbm90IGluY2x1ZGUgaW5mZXJyZWQgbmFtZSB0byBhdm9pZCBicmVha2luZyBleGlzdGluZyBjb2RlICovKTtcbiAgICAgICAgICAgIGlmIChzZWxmTmFtZSAmJlxuICAgICAgICAgICAgICAgIChzZWxmTmFtZSA9PT0gbmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgc2VsZk5hbWUgPT09IGNhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzID0gXG4gICAgICAgIC8vIGxvY2FsIHJlZ2lzdHJhdGlvblxuICAgICAgICAvLyBjaGVjayBpbnN0YW5jZVt0eXBlXSBmaXJzdCB3aGljaCBpcyByZXNvbHZlZCBmb3Igb3B0aW9ucyBBUElcbiAgICAgICAgcmVzb2x2ZShpbnN0YW5jZVt0eXBlXSB8fCBDb21wb25lbnRbdHlwZV0sIG5hbWUpIHx8XG4gICAgICAgICAgICAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXG4gICAgICAgICAgICByZXNvbHZlKGluc3RhbmNlLmFwcENvbnRleHRbdHlwZV0sIG5hbWUpO1xuICAgICAgICBpZiAoIXJlcyAmJiBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRvIGltcGxpY2l0IHNlbGYtcmVmZXJlbmNlXG4gICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xuICAgICAgICAgICAgY29uc3QgZXh0cmEgPSB0eXBlID09PSBDT01QT05FTlRTXG4gICAgICAgICAgICAgICAgPyBgXFxuSWYgdGhpcyBpcyBhIG5hdGl2ZSBjdXN0b20gZWxlbWVudCwgbWFrZSBzdXJlIHRvIGV4Y2x1ZGUgaXQgZnJvbSBgICtcbiAgICAgICAgICAgICAgICAgICAgYGNvbXBvbmVudCByZXNvbHV0aW9uIHZpYSBjb21waWxlck9wdGlvbnMuaXNDdXN0b21FbGVtZW50LmBcbiAgICAgICAgICAgICAgICA6IGBgO1xuICAgICAgICAgICAgd2FybiQxKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfSR7ZXh0cmF9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm4kMShgcmVzb2x2ZSR7Y2FwaXRhbGl6ZSh0eXBlLnNsaWNlKDAsIC0xKSl9IGAgK1xuICAgICAgICAgICAgYGNhbiBvbmx5IGJlIHVzZWQgaW4gcmVuZGVyKCkgb3Igc2V0dXAoKS5gKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZXNvbHZlKHJlZ2lzdHJ5LCBuYW1lKSB7XG4gICAgcmV0dXJuIChyZWdpc3RyeSAmJlxuICAgICAgICAocmVnaXN0cnlbbmFtZV0gfHxcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhbWVsaXplKG5hbWUpXSB8fFxuICAgICAgICAgICAgcmVnaXN0cnlbY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSldKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lSZW5kZXJGbihpbnN0YW5jZSkge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gICAgY29uc3QgcmVuZGVyID0gQ29tcG9uZW50LnJlbmRlcjtcbiAgICAvLyB2MyBydW50aW1lIGNvbXBpbGVkLCBvciBhbHJlYWR5IGNoZWNrZWQgLyB3cmFwcGVkXG4gICAgaWYgKCFyZW5kZXIgfHwgcmVuZGVyLl9yYyB8fCByZW5kZXIuX2NvbXBhdENoZWNrZWQgfHwgcmVuZGVyLl9jb21wYXRXcmFwcGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHJlbmRlci5sZW5ndGggPj0gMikge1xuICAgICAgICAvLyB2MyBwcmUtY29tcGlsZWQgZnVuY3Rpb24sIHNpbmNlIHYyIHJlbmRlciBmdW5jdGlvbnMgbmV2ZXIgbmVlZCBtb3JlIHRoYW5cbiAgICAgICAgLy8gMiBhcmd1bWVudHMsIGFuZCB2MiBmdW5jdGlvbmFsIHJlbmRlciBmdW5jdGlvbnMgd291bGQgaGF2ZSBhbHJlYWR5IGJlZW5cbiAgICAgICAgLy8gbm9ybWFsaXplZCBpbnRvIHYzIGZ1bmN0aW9uYWwgY29tcG9uZW50c1xuICAgICAgICByZW5kZXIuX2NvbXBhdENoZWNrZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHYyIHJlbmRlciBmdW5jdGlvbiwgdHJ5IHRvIHByb3ZpZGUgY29tcGF0XG4gICAgaWYgKGNoZWNrQ29tcGF0RW5hYmxlZChcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZCA9IChDb21wb25lbnQucmVuZGVyID0gZnVuY3Rpb24gY29tcGF0UmVuZGVyKCkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsIGNvbXBhdEgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB3cmFwcGVkLl9jb21wYXRXcmFwcGVkID0gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb21wYXRIKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pIHtcbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgdHlwZSA9IENvbW1lbnQ7XG4gICAgfVxuICAgIC8vIHRvIHN1cHBvcnQgdjIgc3RyaW5nIGNvbXBvbmVudCBuYW1lIGxvb2shdXBcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHQgPSBoeXBoZW5hdGUodHlwZSk7XG4gICAgICAgIGlmICh0ID09PSAndHJhbnNpdGlvbicgfHwgdCA9PT0gJ3RyYW5zaXRpb24tZ3JvdXAnIHx8IHQgPT09ICdrZWVwLWFsaXZlJykge1xuICAgICAgICAgICAgLy8gc2luY2UgdHJhbnNpdGlvbiBhbmQgdHJhbnNpdGlvbi1ncm91cCBhcmUgcnVudGltZS1kb20tc3BlY2lmaWMsXG4gICAgICAgICAgICAvLyB3ZSBjYW5ub3QgaW1wb3J0IHRoZW0gZGlyZWN0bHkgaGVyZS4gSW5zdGVhZCB0aGV5IGFyZSByZWdpc3RlcmVkIHVzaW5nXG4gICAgICAgICAgICAvLyBzcGVjaWFsIGtleXMgaW4gQHZ1ZS9jb21wYXQgZW50cnkuXG4gICAgICAgICAgICB0eXBlID0gYF9fY29tcGF0X18ke3R9YDtcbiAgICAgICAgfVxuICAgICAgICB0eXBlID0gcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQodHlwZSk7XG4gICAgfVxuICAgIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGNvbnN0IGlzMm5kQXJnQXJyYXlDaGlsZHJlbiA9IGlzQXJyYXkocHJvcHNPckNoaWxkcmVuKTtcbiAgICBpZiAobCA9PT0gMiB8fCBpczJuZEFyZ0FycmF5Q2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHByb3BzT3JDaGlsZHJlbikgJiYgIWlzMm5kQXJnQXJyYXlDaGlsZHJlbikge1xuICAgICAgICAgICAgLy8gc2luZ2xlIHZub2RlIHdpdGhvdXQgcHJvcHNcbiAgICAgICAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udmVydExlZ2FjeVNsb3RzKGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIFtwcm9wc09yQ2hpbGRyZW5dKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwcm9wcyB3aXRob3V0IGNoaWxkcmVuXG4gICAgICAgICAgICByZXR1cm4gY29udmVydExlZ2FjeVNsb3RzKGNvbnZlcnRMZWdhY3lEaXJlY3RpdmVzKGNyZWF0ZVZOb2RlKHR5cGUsIGNvbnZlcnRMZWdhY3lQcm9wcyhwcm9wc09yQ2hpbGRyZW4sIHR5cGUpKSwgcHJvcHNPckNoaWxkcmVuKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBvbWl0IHByb3BzXG4gICAgICAgICAgICByZXR1cm4gY29udmVydExlZ2FjeVNsb3RzKGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoaXNWTm9kZShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW2NoaWxkcmVuXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udmVydExlZ2FjeVNsb3RzKGNvbnZlcnRMZWdhY3lEaXJlY3RpdmVzKGNyZWF0ZVZOb2RlKHR5cGUsIGNvbnZlcnRMZWdhY3lQcm9wcyhwcm9wc09yQ2hpbGRyZW4sIHR5cGUpLCBjaGlsZHJlbiksIHByb3BzT3JDaGlsZHJlbikpO1xuICAgIH1cbn1cbmNvbnN0IHNraXBMZWdhY3lSb290TGV2ZWxQcm9wcyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnc3RhdGljU3R5bGUsc3RhdGljQ2xhc3MsZGlyZWN0aXZlcyxtb2RlbCxob29rJyk7XG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5UHJvcHMobGVnYWN5UHJvcHMsIHR5cGUpIHtcbiAgICBpZiAoIWxlZ2FjeVByb3BzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjb252ZXJ0ZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBsZWdhY3lQcm9wcykge1xuICAgICAgICBpZiAoa2V5ID09PSAnYXR0cnMnIHx8IGtleSA9PT0gJ2RvbVByb3BzJyB8fCBrZXkgPT09ICdwcm9wcycpIHtcbiAgICAgICAgICAgIGV4dGVuZChjb252ZXJ0ZWQsIGxlZ2FjeVByb3BzW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ29uJyB8fCBrZXkgPT09ICduYXRpdmVPbicpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IGxlZ2FjeVByb3BzW2tleV07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IGluIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxldCBoYW5kbGVyS2V5ID0gY29udmVydExlZ2FjeUV2ZW50S2V5KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnbmF0aXZlT24nKVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyS2V5ICs9IGBOYXRpdmVgO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gY29udmVydGVkW2hhbmRsZXJLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluY29taW5nID0gbGlzdGVuZXJzW2V2ZW50XTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcgIT09IGluY29taW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVkW2hhbmRsZXJLZXldID0gW10uY29uY2F0KGV4aXN0aW5nLCBpbmNvbWluZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWRbaGFuZGxlcktleV0gPSBpbmNvbWluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghc2tpcExlZ2FjeVJvb3RMZXZlbFByb3BzKGtleSkpIHtcbiAgICAgICAgICAgIGNvbnZlcnRlZFtrZXldID0gbGVnYWN5UHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobGVnYWN5UHJvcHMuc3RhdGljQ2xhc3MpIHtcbiAgICAgICAgY29udmVydGVkLmNsYXNzID0gbm9ybWFsaXplQ2xhc3MoW2xlZ2FjeVByb3BzLnN0YXRpY0NsYXNzLCBjb252ZXJ0ZWQuY2xhc3NdKTtcbiAgICB9XG4gICAgaWYgKGxlZ2FjeVByb3BzLnN0YXRpY1N0eWxlKSB7XG4gICAgICAgIGNvbnZlcnRlZC5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKFtsZWdhY3lQcm9wcy5zdGF0aWNTdHlsZSwgY29udmVydGVkLnN0eWxlXSk7XG4gICAgfVxuICAgIGlmIChsZWdhY3lQcm9wcy5tb2RlbCAmJiBpc09iamVjdCh0eXBlKSkge1xuICAgICAgICAvLyB2MiBjb21waWxlZCBjb21wb25lbnQgdi1tb2RlbFxuICAgICAgICBjb25zdCB7IHByb3AgPSAndmFsdWUnLCBldmVudCA9ICdpbnB1dCcgfSA9IHR5cGUubW9kZWwgfHwge307XG4gICAgICAgIGNvbnZlcnRlZFtwcm9wXSA9IGxlZ2FjeVByb3BzLm1vZGVsLnZhbHVlO1xuICAgICAgICBjb252ZXJ0ZWRbY29tcGF0TW9kZWxFdmVudFByZWZpeCArIGV2ZW50XSA9IGxlZ2FjeVByb3BzLm1vZGVsLmNhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gY29udmVydGVkO1xufVxuZnVuY3Rpb24gY29udmVydExlZ2FjeUV2ZW50S2V5KGV2ZW50KSB7XG4gICAgLy8gbm9ybWFsaXplIHYyIGV2ZW50IHByZWZpeGVzXG4gICAgaWYgKGV2ZW50WzBdID09PSAnJicpIHtcbiAgICAgICAgZXZlbnQgPSBldmVudC5zbGljZSgxKSArICdQYXNzaXZlJztcbiAgICB9XG4gICAgaWYgKGV2ZW50WzBdID09PSAnficpIHtcbiAgICAgICAgZXZlbnQgPSBldmVudC5zbGljZSgxKSArICdPbmNlJztcbiAgICB9XG4gICAgaWYgKGV2ZW50WzBdID09PSAnIScpIHtcbiAgICAgICAgZXZlbnQgPSBldmVudC5zbGljZSgxKSArICdDYXB0dXJlJztcbiAgICB9XG4gICAgcmV0dXJuIHRvSGFuZGxlcktleShldmVudCk7XG59XG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5RGlyZWN0aXZlcyh2bm9kZSwgcHJvcHMpIHtcbiAgICBpZiAocHJvcHMgJiYgcHJvcHMuZGlyZWN0aXZlcykge1xuICAgICAgICByZXR1cm4gd2l0aERpcmVjdGl2ZXModm5vZGUsIHByb3BzLmRpcmVjdGl2ZXMubWFwKCh7IG5hbWUsIHZhbHVlLCBhcmcsIG1vZGlmaWVycyB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHJlc29sdmVEaXJlY3RpdmUobmFtZSksXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgYXJnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyc1xuICAgICAgICAgICAgXTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5U2xvdHModm5vZGUpIHtcbiAgICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gICAgbGV0IHNsb3RzO1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovICYmIGlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgIHNsb3RzID0ge307XG4gICAgICAgIC8vIGNoZWNrIFwic2xvdFwiIHByb3BlcnR5IG9uIHZub2RlcyBhbmQgdHVybiB0aGVtIGludG8gdjMgZnVuY3Rpb24gc2xvdHNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNvbnN0IHNsb3ROYW1lID0gKGlzVk5vZGUoY2hpbGQpICYmIGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLnNsb3QpIHx8ICdkZWZhdWx0JztcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBzbG90c1tzbG90TmFtZV0gfHwgKHNsb3RzW3Nsb3ROYW1lXSA9IFtdKTtcbiAgICAgICAgICAgIGlmIChpc1ZOb2RlKGNoaWxkKSAmJiBjaGlsZC50eXBlID09PSAndGVtcGxhdGUnKSB7XG4gICAgICAgICAgICAgICAgc2xvdC5wdXNoKGNoaWxkLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNsb3QucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNsb3RzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3RDaGlsZHJlbiA9IHNsb3RzW2tleV07XG4gICAgICAgICAgICAgICAgc2xvdHNba2V5XSA9ICgpID0+IHNsb3RDaGlsZHJlbjtcbiAgICAgICAgICAgICAgICBzbG90c1trZXldLl9ucyA9IHRydWU7IC8qIG5vbi1zY29wZWQgc2xvdCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNjb3BlZFNsb3RzID0gcHJvcHMgJiYgcHJvcHMuc2NvcGVkU2xvdHM7XG4gICAgaWYgKHNjb3BlZFNsb3RzKSB7XG4gICAgICAgIGRlbGV0ZSBwcm9wcy5zY29wZWRTbG90cztcbiAgICAgICAgaWYgKHNsb3RzKSB7XG4gICAgICAgICAgICBleHRlbmQoc2xvdHMsIHNjb3BlZFNsb3RzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNsb3RzID0gc2NvcGVkU2xvdHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNsb3RzKSB7XG4gICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90cyk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGRlZmluZUxlZ2FjeVZOb2RlUHJvcGVydGllcyh2bm9kZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqLywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCB0cnVlIC8qIGVuYWJsZSBmb3IgYnVpbHQtaW5zICovKSAmJlxuICAgICAgICBpc0NvbXBhdEVuYWJsZWQoXCJQUklWQVRFX0FQSVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlBSSVZBVEVfQVBJUyAqLywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCB0cnVlIC8qIGVuYWJsZSBmb3IgYnVpbHQtaW5zICovKSkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICAgICAgICBjb25zdCBnZXRJbnN0YW5jZSA9ICgpID0+IHZub2RlLmNvbXBvbmVudCAmJiB2bm9kZS5jb21wb25lbnQucHJveHk7XG4gICAgICAgIGxldCBjb21wb25lbnRPcHRpb25zO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh2bm9kZSwge1xuICAgICAgICAgICAgdGFnOiB7IGdldDogKCkgPT4gdm5vZGUudHlwZSB9LFxuICAgICAgICAgICAgZGF0YTogeyBnZXQ6ICgpID0+IHZub2RlLnByb3BzIHx8IHt9LCBzZXQ6IHAgPT4gKHZub2RlLnByb3BzID0gcCkgfSxcbiAgICAgICAgICAgIGVsbTogeyBnZXQ6ICgpID0+IHZub2RlLmVsIH0sXG4gICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZTogeyBnZXQ6IGdldEluc3RhbmNlIH0sXG4gICAgICAgICAgICBjaGlsZDogeyBnZXQ6IGdldEluc3RhbmNlIH0sXG4gICAgICAgICAgICB0ZXh0OiB7IGdldDogKCkgPT4gKGlzU3RyaW5nKHZub2RlLmNoaWxkcmVuKSA/IHZub2RlLmNoaWxkcmVuIDogbnVsbCkgfSxcbiAgICAgICAgICAgIGNvbnRleHQ6IHsgZ2V0OiAoKSA9PiBjb250ZXh0ICYmIGNvbnRleHQucHJveHkgfSxcbiAgICAgICAgICAgIGNvbXBvbmVudE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQgLyogU2hhcGVGbGFncy5TVEFURUZVTF9DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudE9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNvbXBvbmVudE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3Rvcjogdm5vZGUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wc0RhdGE6IHZub2RlLnByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB2bm9kZS5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY29uc3Qgbm9ybWFsaXplZEZ1bmN0aW9uYWxDb21wb25lbnRNYXAgPSBuZXcgTWFwKCk7XG5jb25zdCBsZWdhY3lTbG90UHJveHlIYW5kbGVycyA9IHtcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IHRhcmdldFtrZXldO1xuICAgICAgICByZXR1cm4gc2xvdCAmJiBzbG90KCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lGdW5jdGlvbmFsQ29tcG9uZW50KGNvbXApIHtcbiAgICBpZiAobm9ybWFsaXplZEZ1bmN0aW9uYWxDb21wb25lbnRNYXAuaGFzKGNvbXApKSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRnVuY3Rpb25hbENvbXBvbmVudE1hcC5nZXQoY29tcCk7XG4gICAgfVxuICAgIGNvbnN0IGxlZ2FjeUZuID0gY29tcC5yZW5kZXI7XG4gICAgY29uc3QgRnVuYyA9IChwcm9wcywgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IGxlZ2FjeUN0eCA9IHtcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgY2hpbGRyZW46IGluc3RhbmNlLnZub2RlLmNoaWxkcmVuIHx8IFtdLFxuICAgICAgICAgICAgZGF0YTogaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwge30sXG4gICAgICAgICAgICBzY29wZWRTbG90czogY3R4LnNsb3RzLFxuICAgICAgICAgICAgcGFyZW50OiBpbnN0YW5jZS5wYXJlbnQgJiYgaW5zdGFuY2UucGFyZW50LnByb3h5LFxuICAgICAgICAgICAgc2xvdHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShjdHguc2xvdHMsIGxlZ2FjeVNsb3RQcm94eUhhbmRsZXJzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgbGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDb21wYXRMaXN0ZW5lcnMoaW5zdGFuY2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBpbmplY3Rpb25zKCkge1xuICAgICAgICAgICAgICAgIGlmIChjb21wLmluamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmplY3Rpb25zID0ge307XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVJbmplY3Rpb25zKGNvbXAuaW5qZWN0LCBpbmplY3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGxlZ2FjeUZuKGNvbXBhdEgsIGxlZ2FjeUN0eCk7XG4gICAgfTtcbiAgICBGdW5jLnByb3BzID0gY29tcC5wcm9wcztcbiAgICBGdW5jLmRpc3BsYXlOYW1lID0gY29tcC5uYW1lO1xuICAgIEZ1bmMuY29tcGF0Q29uZmlnID0gY29tcC5jb21wYXRDb25maWc7XG4gICAgLy8gdjIgZnVuY3Rpb25hbCBjb21wb25lbnRzIGRvIG5vdCBpbmhlcml0IGF0dHJzXG4gICAgRnVuYy5pbmhlcml0QXR0cnMgPSBmYWxzZTtcbiAgICBub3JtYWxpemVkRnVuY3Rpb25hbENvbXBvbmVudE1hcC5zZXQoY29tcCwgRnVuYyk7XG4gICAgcmV0dXJuIEZ1bmM7XG59XG5cbi8qKlxuICogQWN0dWFsIGltcGxlbWVudGF0aW9uXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckxpc3Qoc291cmNlLCByZW5kZXJJdGVtLCBjYWNoZSwgaW5kZXgpIHtcbiAgICBsZXQgcmV0O1xuICAgIGNvbnN0IGNhY2hlZCA9IChjYWNoZSAmJiBjYWNoZVtpbmRleF0pO1xuICAgIGlmIChpc0FycmF5KHNvdXJjZSkgfHwgaXNTdHJpbmcoc291cmNlKSkge1xuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gc291cmNlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2VbaV0sIGksIHVuZGVmaW5lZCwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xuICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShpICsgMSwgaSwgdW5kZWZpbmVkLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICAgIGlmIChzb3VyY2VbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgICAgICAgcmV0ID0gQXJyYXkuZnJvbShzb3VyY2UsIChpdGVtLCBpKSA9PiByZW5kZXJJdGVtKGl0ZW0sIGksIHVuZGVmaW5lZCwgY2FjaGVkICYmIGNhY2hlZFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gICAgICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2Vba2V5XSwga2V5LCBpLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0ID0gW107XG4gICAgfVxuICAgIGlmIChjYWNoZSkge1xuICAgICAgICBjYWNoZVtpbmRleF0gPSByZXQ7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIGNyZWF0aW5nIGR5bmFtaWMgc2xvdHMgb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljU2xvdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcbiAgICAgICAgLy8gYXJyYXkgb2YgZHluYW1pYyBzbG90IGdlbmVyYXRlZCBieSA8dGVtcGxhdGUgdi1mb3I9XCIuLi5cIiAjWy4uLl0+XG4gICAgICAgIGlmIChpc0FycmF5KHNsb3QpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNsb3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBzbG90c1tzbG90W2pdLm5hbWVdID0gc2xvdFtqXS5mbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzbG90KSB7XG4gICAgICAgICAgICAvLyBjb25kaXRpb25hbCBzaW5nbGUgc2xvdCBnZW5lcmF0ZWQgYnkgPHRlbXBsYXRlIHYtaWY9XCIuLi5cIiAjZm9vPlxuICAgICAgICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3Qua2V5XG4gICAgICAgICAgICAgICAgPyAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBzbG90LmZuKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAvLyBhdHRhY2ggYnJhbmNoIGtleSBzbyBlYWNoIGNvbmRpdGlvbmFsIGJyYW5jaCBpcyBjb25zaWRlcmVkIGFcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlmZmVyZW50IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMua2V5ID0gc2xvdC5rZXk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogc2xvdC5mbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2xvdHM7XG59XG5cbi8qKlxuICogQ29tcGlsZXIgcnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyBgPHNsb3QvPmBcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIFxuLy8gdGhpcyBpcyBub3QgYSB1c2VyLWZhY2luZyBmdW5jdGlvbiwgc28gdGhlIGZhbGxiYWNrIGlzIGFsd2F5cyBnZW5lcmF0ZWQgYnlcbi8vIHRoZSBjb21waWxlciBhbmQgZ3VhcmFudGVlZCB0byBiZSBhIGZ1bmN0aW9uIHJldHVybmluZyBhbiBhcnJheVxuZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xuICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UuaXNDRSB8fFxuICAgICAgICAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCAmJlxuICAgICAgICAgICAgaXNBc3luY1dyYXBwZXIoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCkgJiZcbiAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQuaXNDRSkpIHtcbiAgICAgICAgaWYgKG5hbWUgIT09ICdkZWZhdWx0JylcbiAgICAgICAgICAgIHByb3BzLm5hbWUgPSBuYW1lO1xuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoJ3Nsb3QnLCBwcm9wcywgZmFsbGJhY2sgJiYgZmFsbGJhY2soKSk7XG4gICAgfVxuICAgIGxldCBzbG90ID0gc2xvdHNbbmFtZV07XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzbG90ICYmIHNsb3QubGVuZ3RoID4gMSkge1xuICAgICAgICB3YXJuJDEoYFNTUi1vcHRpbWl6ZWQgc2xvdCBmdW5jdGlvbiBkZXRlY3RlZCBpbiBhIG5vbi1TU1Itb3B0aW1pemVkIHJlbmRlciBgICtcbiAgICAgICAgICAgIGBmdW5jdGlvbi4gWW91IG5lZWQgdG8gbWFyayB0aGlzIGNvbXBvbmVudCB3aXRoICRkeW5hbWljLXNsb3RzIGluIHRoZSBgICtcbiAgICAgICAgICAgIGBwYXJlbnQgdGVtcGxhdGUuYCk7XG4gICAgICAgIHNsb3QgPSAoKSA9PiBbXTtcbiAgICB9XG4gICAgLy8gYSBjb21waWxlZCBzbG90IGRpc2FibGVzIGJsb2NrIHRyYWNraW5nIGJ5IGRlZmF1bHQgdG8gYXZvaWQgbWFudWFsXG4gICAgLy8gaW52b2NhdGlvbiBpbnRlcmZlcmluZyB3aXRoIHRlbXBsYXRlLWJhc2VkIGJsb2NrIHRyYWNraW5nLCBidXQgaW5cbiAgICAvLyBgcmVuZGVyU2xvdGAgd2UgY2FuIGJlIHN1cmUgdGhhdCBpdCdzIHRlbXBsYXRlLWJhc2VkIHNvIHdlIGNhbiBmb3JjZVxuICAgIC8vIGVuYWJsZSBpdC5cbiAgICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgICAgIHNsb3QuX2QgPSBmYWxzZTtcbiAgICB9XG4gICAgb3BlbkJsb2NrKCk7XG4gICAgY29uc3QgdmFsaWRTbG90Q29udGVudCA9IHNsb3QgJiYgZW5zdXJlVmFsaWRWTm9kZShzbG90KHByb3BzKSk7XG4gICAgY29uc3QgcmVuZGVyZWQgPSBjcmVhdGVCbG9jayhGcmFnbWVudCwge1xuICAgICAgICBrZXk6IHByb3BzLmtleSB8fFxuICAgICAgICAgICAgLy8gc2xvdCBjb250ZW50IGFycmF5IG9mIGEgZHluYW1pYyBjb25kaXRpb25hbCBzbG90IG1heSBoYXZlIGEgYnJhbmNoXG4gICAgICAgICAgICAvLyBrZXkgYXR0YWNoZWQgaW4gdGhlIGBjcmVhdGVTbG90c2AgaGVscGVyLCByZXNwZWN0IHRoYXRcbiAgICAgICAgICAgICh2YWxpZFNsb3RDb250ZW50ICYmIHZhbGlkU2xvdENvbnRlbnQua2V5KSB8fFxuICAgICAgICAgICAgYF8ke25hbWV9YFxuICAgIH0sIHZhbGlkU2xvdENvbnRlbnQgfHwgKGZhbGxiYWNrID8gZmFsbGJhY2soKSA6IFtdKSwgdmFsaWRTbG90Q29udGVudCAmJiBzbG90cy5fID09PSAxIC8qIFNsb3RGbGFncy5TVEFCTEUgKi9cbiAgICAgICAgPyA2NCAvKiBQYXRjaEZsYWdzLlNUQUJMRV9GUkFHTUVOVCAqL1xuICAgICAgICA6IC0yIC8qIFBhdGNoRmxhZ3MuQkFJTCAqLyk7XG4gICAgaWYgKCFub1Nsb3R0ZWQgJiYgcmVuZGVyZWQuc2NvcGVJZCkge1xuICAgICAgICByZW5kZXJlZC5zbG90U2NvcGVJZHMgPSBbcmVuZGVyZWQuc2NvcGVJZCArICctcyddO1xuICAgIH1cbiAgICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgICAgIHNsb3QuX2QgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyZWQ7XG59XG5mdW5jdGlvbiBlbnN1cmVWYWxpZFZOb2RlKHZub2Rlcykge1xuICAgIHJldHVybiB2bm9kZXMuc29tZShjaGlsZCA9PiB7XG4gICAgICAgIGlmICghaXNWTm9kZShjaGlsZCkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCAmJlxuICAgICAgICAgICAgIWVuc3VyZVZhbGlkVk5vZGUoY2hpbGQuY2hpbGRyZW4pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KVxuICAgICAgICA/IHZub2Rlc1xuICAgICAgICA6IG51bGw7XG59XG5cbi8qKlxuICogRm9yIHByZWZpeGluZyBrZXlzIGluIHYtb249XCJvYmpcIiB3aXRoIFwib25cIlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdG9IYW5kbGVycyhvYmosIHByZXNlcnZlQ2FzZUlmTmVjZXNzYXJ5KSB7XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3Qob2JqKSkge1xuICAgICAgICB3YXJuJDEoYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIHJldFtwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSAmJiAvW0EtWl0vLnRlc3Qoa2V5KVxuICAgICAgICAgICAgPyBgb246JHtrZXl9YFxuICAgICAgICAgICAgOiB0b0hhbmRsZXJLZXkoa2V5KV0gPSBvYmpba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gdG9PYmplY3QoYXJyKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycltpXSkge1xuICAgICAgICAgICAgZXh0ZW5kKHJlcywgYXJyW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbGVnYWN5QmluZE9iamVjdFByb3BzKGRhdGEsIF90YWcsIHZhbHVlLCBfYXNQcm9wLCBpc1N5bmMpIHtcbiAgICBpZiAodmFsdWUgJiYgaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0b09iamVjdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsdWVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgICAgIGRhdGEuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbZGF0YS5jbGFzcywgdmFsdWUuY2xhc3NdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgICAgIGRhdGEuc3R5bGUgPSBub3JtYWxpemVDbGFzcyhbZGF0YS5zdHlsZSwgdmFsdWUuc3R5bGVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJzID0gZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGh5cGhlbmF0ZWRLZXkgPSBoeXBoZW5hdGUoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoIShjYW1lbGl6ZWRLZXkgaW4gYXR0cnMpICYmICEoaHlwaGVuYXRlZEtleSBpbiBhdHRycykpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9uID0gZGF0YS5vbiB8fCAoZGF0YS5vbiA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uW2B1cGRhdGU6JHtrZXl9YF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVba2V5XSA9ICRldmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiBsZWdhY3lCaW5kT2JqZWN0TGlzdGVuZXJzKHByb3BzLCBsaXN0ZW5lcnMpIHtcbiAgICByZXR1cm4gbWVyZ2VQcm9wcyhwcm9wcywgdG9IYW5kbGVycyhsaXN0ZW5lcnMpKTtcbn1cbmZ1bmN0aW9uIGxlZ2FjeVJlbmRlclNsb3QoaW5zdGFuY2UsIG5hbWUsIGZhbGxiYWNrLCBwcm9wcywgYmluZE9iamVjdCkge1xuICAgIGlmIChiaW5kT2JqZWN0KSB7XG4gICAgICAgIHByb3BzID0gbWVyZ2VQcm9wcyhwcm9wcywgYmluZE9iamVjdCk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJTbG90KGluc3RhbmNlLnNsb3RzLCBuYW1lLCBwcm9wcywgZmFsbGJhY2sgJiYgKCgpID0+IGZhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBsZWdhY3lyZXNvbHZlU2NvcGVkU2xvdHMoZm5zLCByYXcsIFxuLy8gdGhlIGZvbGxvd2luZyBhcmUgYWRkZWQgaW4gMi42XG5oYXNEeW5hbWljS2V5cykge1xuICAgIC8vIHYyIGRlZmF1bHQgc2xvdCBkb2Vzbid0IGhhdmUgbmFtZVxuICAgIHJldHVybiBjcmVhdGVTbG90cyhyYXcgfHwgeyAkc3RhYmxlOiAhaGFzRHluYW1pY0tleXMgfSwgbWFwS2V5VG9OYW1lKGZucykpO1xufVxuZnVuY3Rpb24gbWFwS2V5VG9OYW1lKHNsb3RzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbG90cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBmbiA9IHNsb3RzW2ldO1xuICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgICAgICAgICAgIG1hcEtleVRvTmFtZShmbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmbi5uYW1lID0gZm4ua2V5IHx8ICdkZWZhdWx0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2xvdHM7XG59XG5jb25zdCBzdGF0aWNDYWNoZU1hcCA9IC8qI19fUFVSRV9fKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGxlZ2FjeVJlbmRlclN0YXRpYyhpbnN0YW5jZSwgaW5kZXgpIHtcbiAgICBsZXQgY2FjaGUgPSBzdGF0aWNDYWNoZU1hcC5nZXQoaW5zdGFuY2UpO1xuICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgc3RhdGljQ2FjaGVNYXAuc2V0KGluc3RhbmNlLCAoY2FjaGUgPSBbXSkpO1xuICAgIH1cbiAgICBpZiAoY2FjaGVbaW5kZXhdKSB7XG4gICAgICAgIHJldHVybiBjYWNoZVtpbmRleF07XG4gICAgfVxuICAgIGNvbnN0IGZuID0gaW5zdGFuY2UudHlwZS5zdGF0aWNSZW5kZXJGbnNbaW5kZXhdO1xuICAgIGNvbnN0IGN0eCA9IGluc3RhbmNlLnByb3h5O1xuICAgIHJldHVybiAoY2FjaGVbaW5kZXhdID0gZm4uY2FsbChjdHgsIG51bGwsIGN0eCkpO1xufVxuZnVuY3Rpb24gbGVnYWN5Q2hlY2tLZXlDb2RlcyhpbnN0YW5jZSwgZXZlbnRLZXlDb2RlLCBrZXksIGJ1aWx0SW5LZXlDb2RlLCBldmVudEtleU5hbWUsIGJ1aWx0SW5LZXlOYW1lKSB7XG4gICAgY29uc3QgY29uZmlnID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XG4gICAgY29uc3QgY29uZmlnS2V5Q29kZXMgPSBjb25maWcua2V5Q29kZXMgfHwge307XG4gICAgY29uc3QgbWFwcGVkS2V5Q29kZSA9IGNvbmZpZ0tleUNvZGVzW2tleV0gfHwgYnVpbHRJbktleUNvZGU7XG4gICAgaWYgKGJ1aWx0SW5LZXlOYW1lICYmIGV2ZW50S2V5TmFtZSAmJiAhY29uZmlnS2V5Q29kZXNba2V5XSkge1xuICAgICAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChidWlsdEluS2V5TmFtZSwgZXZlbnRLZXlOYW1lKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWFwcGVkS2V5Q29kZSkge1xuICAgICAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChtYXBwZWRLZXlDb2RlLCBldmVudEtleUNvZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudEtleU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGh5cGhlbmF0ZShldmVudEtleU5hbWUpICE9PSBrZXk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNLZXlOb3RNYXRjaChleHBlY3QsIGFjdHVhbCkge1xuICAgIGlmIChpc0FycmF5KGV4cGVjdCkpIHtcbiAgICAgICAgcmV0dXJuICFleHBlY3QuaW5jbHVkZXMoYWN0dWFsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBleHBlY3QgIT09IGFjdHVhbDtcbiAgICB9XG59XG5mdW5jdGlvbiBsZWdhY3lNYXJrT25jZSh0cmVlKSB7XG4gICAgcmV0dXJuIHRyZWU7XG59XG5mdW5jdGlvbiBsZWdhY3lCaW5kRHluYW1pY0tleXMocHJvcHMsIHZhbHVlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHZhbHVlc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleSkge1xuICAgICAgICAgICAgcHJvcHNbdmFsdWVzW2ldXSA9IHZhbHVlc1tpICsgMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BzO1xufVxuZnVuY3Rpb24gbGVnYWN5UHJlcGVuZE1vZGlmaWVyKHZhbHVlLCBzeW1ib2wpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHN5bWJvbCArIHZhbHVlIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGluc3RhbGxDb21wYXRJbnN0YW5jZVByb3BlcnRpZXMobWFwKSB7XG4gICAgY29uc3Qgc2V0ID0gKHRhcmdldCwga2V5LCB2YWwpID0+IHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWw7XG4gICAgfTtcbiAgICBjb25zdCBkZWwgPSAodGFyZ2V0LCBrZXkpID0+IHtcbiAgICAgICAgZGVsZXRlIHRhcmdldFtrZXldO1xuICAgIH07XG4gICAgZXh0ZW5kKG1hcCwge1xuICAgICAgICAkc2V0OiBpID0+IHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9TRVRcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX1NFVCAqLywgaSk7XG4gICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICB9LFxuICAgICAgICAkZGVsZXRlOiBpID0+IHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9ERUxFVEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0RFTEVURSAqLywgaSk7XG4gICAgICAgICAgICByZXR1cm4gZGVsO1xuICAgICAgICB9LFxuICAgICAgICAkbW91bnQ6IGkgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9NT1VOVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX01PVU5UICovLCBudWxsIC8qIHRoaXMgd2FybmluZyBpcyBnbG9iYWwgKi8pO1xuICAgICAgICAgICAgLy8gcm9vdCBtb3VudCBvdmVycmlkZSBmcm9tIC4vZ2xvYmFsLnRzIGluIGluc3RhbGxDb21wYXRNb3VudFxuICAgICAgICAgICAgcmV0dXJuIGkuY3R4Ll9jb21wYXRfbW91bnQgfHwgTk9PUDtcbiAgICAgICAgfSxcbiAgICAgICAgJGRlc3Ryb3k6IGkgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0RFU1RST1lcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0RFU1RST1kgKi8sIGkpO1xuICAgICAgICAgICAgLy8gcm9vdCBkZXN0cm95IG92ZXJyaWRlIGZyb20gLi9nbG9iYWwudHMgaW4gaW5zdGFsbENvbXBhdE1vdW50XG4gICAgICAgICAgICByZXR1cm4gaS5jdHguX2NvbXBhdF9kZXN0cm95IHx8IE5PT1A7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIG92ZXJyaWRlcyBleGlzdGluZyBhY2Nlc3NvclxuICAgICAgICAkc2xvdHM6IGkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovLCBpKSAmJlxuICAgICAgICAgICAgICAgIGkucmVuZGVyICYmXG4gICAgICAgICAgICAgICAgaS5yZW5kZXIuX2NvbXBhdFdyYXBwZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KGkuc2xvdHMsIGxlZ2FjeVNsb3RQcm94eUhhbmRsZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5zbG90cykgOiBpLnNsb3RzO1xuICAgICAgICB9LFxuICAgICAgICAkc2NvcGVkU2xvdHM6IGkgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX1NDT1BFRF9TTE9UU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfU0NPUEVEX1NMT1RTICovLCBpKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaS5zbG90cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZuID0gaS5zbG90c1trZXldO1xuICAgICAgICAgICAgICAgIGlmICghZm4uX25zIC8qIG5vbi1zY29wZWQgc2xvdCAqLykge1xuICAgICAgICAgICAgICAgICAgICByZXNba2V5XSA9IGZuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sXG4gICAgICAgICRvbjogaSA9PiBvbi5iaW5kKG51bGwsIGkpLFxuICAgICAgICAkb25jZTogaSA9PiBvbmNlLmJpbmQobnVsbCwgaSksXG4gICAgICAgICRvZmY6IGkgPT4gb2ZmLmJpbmQobnVsbCwgaSksXG4gICAgICAgICRjaGlsZHJlbjogZ2V0Q29tcGF0Q2hpbGRyZW4sXG4gICAgICAgICRsaXN0ZW5lcnM6IGdldENvbXBhdExpc3RlbmVyc1xuICAgIH0pO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJQUklWQVRFX0FQSVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlBSSVZBVEVfQVBJUyAqLywgbnVsbCkpIHtcbiAgICAgICAgZXh0ZW5kKG1hcCwge1xuICAgICAgICAgICAgLy8gbmVlZGVkIGJ5IG1hbnkgbGlicyAvIHJlbmRlciBmbnNcbiAgICAgICAgICAgICR2bm9kZTogaSA9PiBpLnZub2RlLFxuICAgICAgICAgICAgLy8gaW5qZWN0IGFkZGl0aW9uYWwgcHJvcGVydGllcyBpbnRvICRvcHRpb25zIGZvciBjb21wYXRcbiAgICAgICAgICAgIC8vIGUuZy4gdnVleCBuZWVkcyB0aGlzLiRvcHRpb25zLnBhcmVudFxuICAgICAgICAgICAgJG9wdGlvbnM6IGkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGV4dGVuZCh7fSwgcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaSkpO1xuICAgICAgICAgICAgICAgIHJlcy5wYXJlbnQgPSBpLnByb3h5LiRwYXJlbnQ7XG4gICAgICAgICAgICAgICAgcmVzLnByb3BzRGF0YSA9IGkudm5vZGUucHJvcHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBzb21lIHByaXZhdGUgcHJvcGVydGllcyB0aGF0IGFyZSBsaWtlbHkgYWNjZXNzZWQuLi5cbiAgICAgICAgICAgIF9zZWxmOiBpID0+IGkucHJveHksXG4gICAgICAgICAgICBfdWlkOiBpID0+IGkudWlkLFxuICAgICAgICAgICAgX2RhdGE6IGkgPT4gaS5kYXRhLFxuICAgICAgICAgICAgX2lzTW91bnRlZDogaSA9PiBpLmlzTW91bnRlZCxcbiAgICAgICAgICAgIF9pc0Rlc3Ryb3llZDogaSA9PiBpLmlzVW5tb3VudGVkLFxuICAgICAgICAgICAgLy8gdjIgcmVuZGVyIGhlbHBlcnNcbiAgICAgICAgICAgICRjcmVhdGVFbGVtZW50OiAoKSA9PiBjb21wYXRILFxuICAgICAgICAgICAgX2M6ICgpID0+IGNvbXBhdEgsXG4gICAgICAgICAgICBfbzogKCkgPT4gbGVnYWN5TWFya09uY2UsXG4gICAgICAgICAgICBfbjogKCkgPT4gdG9OdW1iZXIsXG4gICAgICAgICAgICBfczogKCkgPT4gdG9EaXNwbGF5U3RyaW5nLFxuICAgICAgICAgICAgX2w6ICgpID0+IHJlbmRlckxpc3QsXG4gICAgICAgICAgICBfdDogaSA9PiBsZWdhY3lSZW5kZXJTbG90LmJpbmQobnVsbCwgaSksXG4gICAgICAgICAgICBfcTogKCkgPT4gbG9vc2VFcXVhbCxcbiAgICAgICAgICAgIF9pOiAoKSA9PiBsb29zZUluZGV4T2YsXG4gICAgICAgICAgICBfbTogaSA9PiBsZWdhY3lSZW5kZXJTdGF0aWMuYmluZChudWxsLCBpKSxcbiAgICAgICAgICAgIF9mOiAoKSA9PiByZXNvbHZlRmlsdGVyLFxuICAgICAgICAgICAgX2s6IGkgPT4gbGVnYWN5Q2hlY2tLZXlDb2Rlcy5iaW5kKG51bGwsIGkpLFxuICAgICAgICAgICAgX2I6ICgpID0+IGxlZ2FjeUJpbmRPYmplY3RQcm9wcyxcbiAgICAgICAgICAgIF92OiAoKSA9PiBjcmVhdGVUZXh0Vk5vZGUsXG4gICAgICAgICAgICBfZTogKCkgPT4gY3JlYXRlQ29tbWVudFZOb2RlLFxuICAgICAgICAgICAgX3U6ICgpID0+IGxlZ2FjeXJlc29sdmVTY29wZWRTbG90cyxcbiAgICAgICAgICAgIF9nOiAoKSA9PiBsZWdhY3lCaW5kT2JqZWN0TGlzdGVuZXJzLFxuICAgICAgICAgICAgX2Q6ICgpID0+IGxlZ2FjeUJpbmREeW5hbWljS2V5cyxcbiAgICAgICAgICAgIF9wOiAoKSA9PiBsZWdhY3lQcmVwZW5kTW9kaWZpZXJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vKipcbiAqICMyNDM3IEluIFZ1ZSAzLCBmdW5jdGlvbmFsIGNvbXBvbmVudHMgZG8gbm90IGhhdmUgYSBwdWJsaWMgaW5zdGFuY2UgcHJveHkgYnV0XG4gKiB0aGV5IGV4aXN0IGluIHRoZSBpbnRlcm5hbCBwYXJlbnQgY2hhaW4uIEZvciBjb2RlIHRoYXQgcmVsaWVzIG9uIHRyYXZlcnNpbmdcbiAqIHB1YmxpYyAkcGFyZW50IGNoYWlucywgc2tpcCBmdW5jdGlvbmFsIG9uZXMgYW5kIGdvIHRvIHRoZSBwYXJlbnQgaW5zdGVhZC5cbiAqL1xuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xuICAgIGlmICghaSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKGlzU3RhdGVmdWxDb21wb25lbnQoaSkpXG4gICAgICAgIHJldHVybiBnZXRFeHBvc2VQcm94eShpKSB8fCBpLnByb3h5O1xuICAgIHJldHVybiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCk7XG59O1xuY29uc3QgcHVibGljUHJvcGVydGllc01hcCA9IFxuLy8gTW92ZSBQVVJFIG1hcmtlciB0byBuZXcgbGluZSB0byB3b3JrYXJvdW5kIGNvbXBpbGVyIGRpc2NhcmRpbmcgaXRcbi8vIGR1ZSB0byB0eXBlIGFubm90YXRpb25cbi8qI19fUFVSRV9fKi8gZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIHtcbiAgICAkOiBpID0+IGksXG4gICAgJGVsOiBpID0+IGkudm5vZGUuZWwsXG4gICAgJGRhdGE6IGkgPT4gaS5kYXRhLFxuICAgICRwcm9wczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkucHJvcHMpIDogaS5wcm9wcyksXG4gICAgJGF0dHJzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5hdHRycykgOiBpLmF0dHJzKSxcbiAgICAkc2xvdHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMpLFxuICAgICRyZWZzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5yZWZzKSA6IGkucmVmcyksXG4gICAgJHBhcmVudDogaSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCksXG4gICAgJHJvb3Q6IGkgPT4gZ2V0UHVibGljSW5zdGFuY2UoaS5yb290KSxcbiAgICAkZW1pdDogaSA9PiBpLmVtaXQsXG4gICAgJG9wdGlvbnM6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpKSA6IGkudHlwZSksXG4gICAgJGZvcmNlVXBkYXRlOiBpID0+IGkuZiB8fCAoaS5mID0gKCkgPT4gcXVldWVKb2IoaS51cGRhdGUpKSxcbiAgICAkbmV4dFRpY2s6IGkgPT4gaS5uIHx8IChpLm4gPSBuZXh0VGljay5iaW5kKGkucHJveHkpKSxcbiAgICAkd2F0Y2g6IGkgPT4gKF9fVlVFX09QVElPTlNfQVBJX18gPyBpbnN0YW5jZVdhdGNoLmJpbmQoaSkgOiBOT09QKVxufSk7XG57XG4gICAgaW5zdGFsbENvbXBhdEluc3RhbmNlUHJvcGVydGllcyhwdWJsaWNQcm9wZXJ0aWVzTWFwKTtcbn1cbmNvbnN0IGlzUmVzZXJ2ZWRQcmVmaXggPSAoa2V5KSA9PiBrZXkgPT09ICdfJyB8fCBrZXkgPT09ICckJztcbmNvbnN0IGhhc1NldHVwQmluZGluZyA9IChzdGF0ZSwga2V5KSA9PiBzdGF0ZSAhPT0gRU1QVFlfT0JKICYmICFzdGF0ZS5fX2lzU2NyaXB0U2V0dXAgJiYgaGFzT3duKHN0YXRlLCBrZXkpO1xuY29uc3QgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0ge1xuICAgIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xuICAgICAgICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSwgZGF0YSwgcHJvcHMsIGFjY2Vzc0NhY2hlLCB0eXBlLCBhcHBDb250ZXh0IH0gPSBpbnN0YW5jZTtcbiAgICAgICAgLy8gZm9yIGludGVybmFsIGZvcm1hdHRlcnMgdG8ga25vdyB0aGF0IHRoaXMgaXMgYSBWdWUgaW5zdGFuY2VcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgPT09ICdfX2lzVnVlJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGF0YSAvIHByb3BzIC8gY3R4XG4gICAgICAgIC8vIFRoaXMgZ2V0dGVyIGdldHMgY2FsbGVkIGZvciBldmVyeSBwcm9wZXJ0eSBhY2Nlc3Mgb24gdGhlIHJlbmRlciBjb250ZXh0XG4gICAgICAgIC8vIGR1cmluZyByZW5kZXIgYW5kIGlzIGEgbWFqb3IgaG90c3BvdC4gVGhlIG1vc3QgZXhwZW5zaXZlIHBhcnQgb2YgdGhpc1xuICAgICAgICAvLyBpcyB0aGUgbXVsdGlwbGUgaGFzT3duKCkgY2FsbHMuIEl0J3MgbXVjaCBmYXN0ZXIgdG8gZG8gYSBzaW1wbGUgcHJvcGVydHlcbiAgICAgICAgLy8gYWNjZXNzIG9uIGEgcGxhaW4gb2JqZWN0LCBzbyB3ZSB1c2UgYW4gYWNjZXNzQ2FjaGUgb2JqZWN0ICh3aXRoIG51bGxcbiAgICAgICAgLy8gcHJvdG90eXBlKSB0byBtZW1vaXplIHdoYXQgYWNjZXNzIHR5cGUgYSBrZXkgY29ycmVzcG9uZHMgdG8uXG4gICAgICAgIGxldCBub3JtYWxpemVkUHJvcHM7XG4gICAgICAgIGlmIChrZXlbMF0gIT09ICckJykge1xuICAgICAgICAgICAgY29uc3QgbiA9IGFjY2Vzc0NhY2hlW2tleV07XG4gICAgICAgICAgICBpZiAobiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBBY2Nlc3NUeXBlcy5TRVRVUCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBBY2Nlc3NUeXBlcy5EQVRBICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0IC8qIEFjY2Vzc1R5cGVzLkNPTlRFWFQgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBBY2Nlc3NUeXBlcy5QUk9QUyAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWZhdWx0OiBqdXN0IGZhbGx0aHJvdWdoXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMSAvKiBBY2Nlc3NUeXBlcy5TRVRVUCAqLztcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDIgLyogQWNjZXNzVHlwZXMuREFUQSAqLztcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAvLyBvbmx5IGNhY2hlIG90aGVyIHByb3BlcnRpZXMgd2hlbiBpbnN0YW5jZSBoYXMgZGVjbGFyZWQgKHRodXMgc3RhYmxlKVxuICAgICAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgICAgIChub3JtYWxpemVkUHJvcHMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pICYmXG4gICAgICAgICAgICAgICAgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSkge1xuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIEFjY2Vzc1R5cGVzLlBST1BTICovO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIEFjY2Vzc1R5cGVzLkNPTlRFWFQgKi87XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMCAvKiBBY2Nlc3NUeXBlcy5PVEhFUiAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdWJsaWNHZXR0ZXIgPSBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV07XG4gICAgICAgIGxldCBjc3NNb2R1bGUsIGdsb2JhbFByb3BlcnRpZXM7XG4gICAgICAgIC8vIHB1YmxpYyAkeHh4IHByb3BlcnRpZXNcbiAgICAgICAgaWYgKHB1YmxpY0dldHRlcikge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJyRhdHRycycpIHtcbiAgICAgICAgICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCBrZXkpO1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHB1YmxpY0dldHRlcihpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgIC8vIGNzcyBtb2R1bGUgKGluamVjdGVkIGJ5IHZ1ZS1sb2FkZXIpXG4gICAgICAgIChjc3NNb2R1bGUgPSB0eXBlLl9fY3NzTW9kdWxlcykgJiZcbiAgICAgICAgICAgIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjc3NNb2R1bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xuICAgICAgICAgICAgLy8gdXNlciBtYXkgc2V0IGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGB0aGlzYCB0aGF0IHN0YXJ0IHdpdGggYCRgXG4gICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBBY2Nlc3NUeXBlcy5DT05URVhUICovO1xuICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xuICAgICAgICAoKGdsb2JhbFByb3BlcnRpZXMgPSBhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSxcbiAgICAgICAgICAgIGhhc093bihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpKSkge1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGdsb2JhbFByb3BlcnRpZXMsIGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKGluc3RhbmNlLnByb3h5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGdsb2JhbFByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKHZhbC5iaW5kKGluc3RhbmNlLnByb3h5KSwgdmFsKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlICYmXG4gICAgICAgICAgICAoIWlzU3RyaW5nKGtleSkgfHxcbiAgICAgICAgICAgICAgICAvLyAjMTA5MSBhdm9pZCBpbnRlcm5hbCBpc1JlZi9pc1ZOb2RlIGNoZWNrcyBvbiBjb21wb25lbnQgaW5zdGFuY2UgbGVhZGluZ1xuICAgICAgICAgICAgICAgIC8vIHRvIGluZmluaXRlIHdhcm5pbmcgbG9vcFxuICAgICAgICAgICAgICAgIGtleS5pbmRleE9mKCdfX3YnKSAhPT0gMCkpIHtcbiAgICAgICAgICAgIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IG11c3QgYmUgYWNjZXNzZWQgdmlhICRkYXRhIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggYSByZXNlcnZlZCBgICtcbiAgICAgICAgICAgICAgICAgICAgYGNoYXJhY3RlciAoXCIkXCIgb3IgXCJfXCIpIGFuZCBpcyBub3QgcHJveGllZCBvbiB0aGUgcmVuZGVyIGNvbnRleHQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbnN0YW5jZSA9PT0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHdhcyBhY2Nlc3NlZCBkdXJpbmcgcmVuZGVyIGAgK1xuICAgICAgICAgICAgICAgICAgICBgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4IH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICAgICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXAgJiZcbiAgICAgICAgICAgIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYENhbm5vdCBtdXRhdGUgPHNjcmlwdCBzZXR1cD4gYmluZGluZyBcIiR7a2V5fVwiIGZyb20gT3B0aW9ucyBBUEkuYCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhhc093bihpbnN0YW5jZS5wcm9wcywga2V5KSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHJvcCBcIiR7a2V5fVwiLiBQcm9wcyBhcmUgcmVhZG9ubHkuYCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleVswXSA9PT0gJyQnICYmIGtleS5zbGljZSgxKSBpbiBpbnN0YW5jZSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybiQxKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwdWJsaWMgcHJvcGVydHkgXCIke2tleX1cIi4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBQcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggJCBhcmUgcmVzZXJ2ZWQgYW5kIHJlYWRvbmx5LmApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXkgaW4gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdHhba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaGFzKHsgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wc09wdGlvbnMgfSB9LCBrZXkpIHtcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcbiAgICAgICAgcmV0dXJuICghIWFjY2Vzc0NhY2hlW2tleV0gfHxcbiAgICAgICAgICAgIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHx8XG4gICAgICAgICAgICBoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSB8fFxuICAgICAgICAgICAgKChub3JtYWxpemVkUHJvcHMgPSBwcm9wc09wdGlvbnNbMF0pICYmIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSkpIHx8XG4gICAgICAgICAgICBoYXNPd24oY3R4LCBrZXkpIHx8XG4gICAgICAgICAgICBoYXNPd24ocHVibGljUHJvcGVydGllc01hcCwga2V5KSB8fFxuICAgICAgICAgICAgaGFzT3duKGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGtleSkpO1xuICAgIH0sXG4gICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IuZ2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGludmFsaWRhdGUga2V5IGNhY2hlIG9mIGEgZ2V0dGVyIGJhc2VkIHByb3BlcnR5ICM1NDE3XG4gICAgICAgICAgICB0YXJnZXQuXy5hY2Nlc3NDYWNoZVtrZXldID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoYXNPd24oZGVzY3JpcHRvciwgJ3ZhbHVlJykpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yLnZhbHVlLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxufTtcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZhbHNlKSB7XG4gICAgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLm93bktleXMgPSAodGFyZ2V0KSA9PiB7XG4gICAgICAgIHdhcm4kMShgQXZvaWQgYXBwIGxvZ2ljIHRoYXQgcmVsaWVzIG9uIGVudW1lcmF0aW5nIGtleXMgb24gYSBjb21wb25lbnQgaW5zdGFuY2UuIGAgK1xuICAgICAgICAgICAgYFRoZSBrZXlzIHdpbGwgYmUgZW1wdHkgaW4gcHJvZHVjdGlvbiBtb2RlIHRvIGF2b2lkIHBlcmZvcm1hbmNlIG92ZXJoZWFkLmApO1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XG4gICAgfTtcbn1cbmNvbnN0IFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMsIHtcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgLy8gZmFzdCBwYXRoIGZvciB1bnNjb3BhYmxlcyB3aGVuIHVzaW5nIGB3aXRoYCBibG9ja1xuICAgICAgICBpZiAoa2V5ID09PSBTeW1ib2wudW5zY29wYWJsZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcbiAgICB9LFxuICAgIGhhcyhfLCBrZXkpIHtcbiAgICAgICAgY29uc3QgaGFzID0ga2V5WzBdICE9PSAnXycgJiYgIWlzR2xvYmFsbHlXaGl0ZWxpc3RlZChrZXkpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXMgJiYgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmhhcyhfLCBrZXkpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIF8gd2hpY2ggaXMgYSByZXNlcnZlZCBwcmVmaXggZm9yIFZ1ZSBpbnRlcm5hbHMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhcztcbiAgICB9XG59KTtcbi8vIGRldiBvbmx5XG4vLyBJbiBkZXYgbW9kZSwgdGhlIHByb3h5IHRhcmdldCBleHBvc2VzIHRoZSBzYW1lIHByb3BlcnRpZXMgYXMgc2VlbiBvbiBgdGhpc2Bcbi8vIGZvciBlYXNpZXIgY29uc29sZSBpbnNwZWN0aW9uLiBJbiBwcm9kIG1vZGUgaXQgd2lsbCBiZSBhbiBlbXB0eSBvYmplY3Qgc29cbi8vIHRoZXNlIHByb3BlcnRpZXMgZGVmaW5pdGlvbnMgY2FuIGJlIHNraXBwZWQuXG5mdW5jdGlvbiBjcmVhdGVEZXZSZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0ge307XG4gICAgLy8gZXhwb3NlIGludGVybmFsIGluc3RhbmNlIGZvciBwcm94eSBoYW5kbGVyc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBfYCwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlXG4gICAgfSk7XG4gICAgLy8gZXhwb3NlIHB1YmxpYyBwcm9wZXJ0aWVzXG4gICAgT2JqZWN0LmtleXMocHVibGljUHJvcGVydGllc01hcCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpLFxuICAgICAgICAgICAgLy8gaW50ZXJjZXB0ZWQgYnkgdGhlIHByb3h5IHNvIG5vIG5lZWQgZm9yIGltcGxlbWVudGF0aW9uLFxuICAgICAgICAgICAgLy8gYnV0IG5lZWRlZCB0byBwcmV2ZW50IHNldCBlcnJvcnNcbiAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuLy8gZGV2IG9ubHlcbmZ1bmN0aW9uIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gICAgY29uc3QgeyBjdHgsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10gfSA9IGluc3RhbmNlO1xuICAgIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMocHJvcHNPcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlLnByb3BzW2tleV0sXG4gICAgICAgICAgICAgICAgc2V0OiBOT09QXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gZGV2IG9ubHlcbmZ1bmN0aW9uIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSB9ID0gaW5zdGFuY2U7XG4gICAgT2JqZWN0LmtleXModG9SYXcoc2V0dXBTdGF0ZSkpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKCFzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCkge1xuICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgc2V0dXAoKSByZXR1cm4gcHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXCIkXCIgb3IgXCJfXCIgYCArXG4gICAgICAgICAgICAgICAgICAgIGB3aGljaCBhcmUgcmVzZXJ2ZWQgcHJlZml4ZXMgZm9yIFZ1ZSBpbnRlcm5hbHMuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXG4gICAgICAgICAgICAgICAgc2V0OiBOT09QXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkZWVwTWVyZ2VEYXRhKHRvLCBmcm9tKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xuICAgICAgICBjb25zdCB0b1ZhbCA9IHRvW2tleV07XG4gICAgICAgIGNvbnN0IGZyb21WYWwgPSBmcm9tW2tleV07XG4gICAgICAgIGlmIChrZXkgaW4gdG8gJiYgaXNQbGFpbk9iamVjdCh0b1ZhbCkgJiYgaXNQbGFpbk9iamVjdChmcm9tVmFsKSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5EZXByZWNhdGlvbihcIk9QVElPTlNfREFUQV9NRVJHRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19EQVRBX01FUkdFICovLCBudWxsLCBrZXkpO1xuICAgICAgICAgICAgZGVlcE1lcmdlRGF0YSh0b1ZhbCwgZnJvbVZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0b1trZXldID0gZnJvbVZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG87XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XG4gICAgY29uc3QgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHJldHVybiAodHlwZSwga2V5KSA9PiB7XG4gICAgICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICAgICAgICB3YXJuJDEoYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSB0eXBlO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmxldCBzaG91bGRDYWNoZUFjY2VzcyA9IHRydWU7XG5mdW5jdGlvbiBhcHBseU9wdGlvbnMoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpO1xuICAgIGNvbnN0IHB1YmxpY1RoaXMgPSBpbnN0YW5jZS5wcm94eTtcbiAgICBjb25zdCBjdHggPSBpbnN0YW5jZS5jdHg7XG4gICAgLy8gZG8gbm90IGNhY2hlIHByb3BlcnR5IGFjY2VzcyBvbiBwdWJsaWMgcHJveHkgZHVyaW5nIHN0YXRlIGluaXRpYWxpemF0aW9uXG4gICAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcbiAgICAvLyBjYWxsIGJlZm9yZUNyZWF0ZSBmaXJzdCBiZWZvcmUgYWNjZXNzaW5nIG90aGVyIG9wdGlvbnMgc2luY2VcbiAgICAvLyB0aGUgaG9vayBtYXkgbXV0YXRlIHJlc29sdmVkIG9wdGlvbnMgKCMyNzkxKVxuICAgIGlmIChvcHRpb25zLmJlZm9yZUNyZWF0ZSkge1xuICAgICAgICBjYWxsSG9vayhvcHRpb25zLmJlZm9yZUNyZWF0ZSwgaW5zdGFuY2UsIFwiYmNcIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfQ1JFQVRFICovKTtcbiAgICB9XG4gICAgY29uc3QgeyBcbiAgICAvLyBzdGF0ZVxuICAgIGRhdGE6IGRhdGFPcHRpb25zLCBjb21wdXRlZDogY29tcHV0ZWRPcHRpb25zLCBtZXRob2RzLCB3YXRjaDogd2F0Y2hPcHRpb25zLCBwcm92aWRlOiBwcm92aWRlT3B0aW9ucywgaW5qZWN0OiBpbmplY3RPcHRpb25zLCBcbiAgICAvLyBsaWZlY3ljbGVcbiAgICBjcmVhdGVkLCBiZWZvcmVNb3VudCwgbW91bnRlZCwgYmVmb3JlVXBkYXRlLCB1cGRhdGVkLCBhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkLCBiZWZvcmVEZXN0cm95LCBiZWZvcmVVbm1vdW50LCBkZXN0cm95ZWQsIHVubW91bnRlZCwgcmVuZGVyLCByZW5kZXJUcmFja2VkLCByZW5kZXJUcmlnZ2VyZWQsIGVycm9yQ2FwdHVyZWQsIHNlcnZlclByZWZldGNoLCBcbiAgICAvLyBwdWJsaWMgQVBJXG4gICAgZXhwb3NlLCBpbmhlcml0QXR0cnMsIFxuICAgIC8vIGFzc2V0c1xuICAgIGNvbXBvbmVudHMsIGRpcmVjdGl2ZXMsIGZpbHRlcnMgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIDogbnVsbDtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgICAgICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wc09wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIE9wdGlvblR5cGVzLlBST1BTICovLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIG9wdGlvbnMgaW5pdGlhbGl6YXRpb24gb3JkZXIgKHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBWdWUgMik6XG4gICAgLy8gLSBwcm9wcyAoYWxyZWFkeSBkb25lIG91dHNpZGUgb2YgdGhpcyBmdW5jdGlvbilcbiAgICAvLyAtIGluamVjdFxuICAgIC8vIC0gbWV0aG9kc1xuICAgIC8vIC0gZGF0YSAoZGVmZXJyZWQgc2luY2UgaXQgcmVsaWVzIG9uIGB0aGlzYCBhY2Nlc3MpXG4gICAgLy8gLSBjb21wdXRlZFxuICAgIC8vIC0gd2F0Y2ggKGRlZmVycmVkIHNpbmNlIGl0IHJlbGllcyBvbiBgdGhpc2AgYWNjZXNzKVxuICAgIGlmIChpbmplY3RPcHRpb25zKSB7XG4gICAgICAgIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy51bndyYXBJbmplY3RlZFJlZik7XG4gICAgfVxuICAgIGlmIChtZXRob2RzKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1ldGhvZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihtZXRob2RIYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgIC8vIEluIGRldiBtb2RlLCB3ZSB1c2UgdGhlIGBjcmVhdGVSZW5kZXJDb250ZXh0YCBmdW5jdGlvbiB0byBkZWZpbmVcbiAgICAgICAgICAgICAgICAvLyBtZXRob2RzIHRvIHRoZSBwcm94eSB0YXJnZXQsIGFuZCB0aG9zZSBhcmUgcmVhZC1vbmx5IGJ1dFxuICAgICAgICAgICAgICAgIC8vIHJlY29uZmlndXJhYmxlLCBzbyBpdCBuZWVkcyB0byBiZSByZWRlZmluZWQgaGVyZVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4W2tleV0gPSBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE9wdGlvblR5cGVzLk1FVEhPRFMgKi8sIGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYERpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRhdGFPcHRpb25zKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRnVuY3Rpb24oZGF0YU9wdGlvbnMpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYFRoZSBkYXRhIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uIGAgK1xuICAgICAgICAgICAgICAgIGBQbGFpbiBvYmplY3QgdXNhZ2UgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gZGF0YU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1Byb21pc2UoZGF0YSkpIHtcbiAgICAgICAgICAgIHdhcm4kMShgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGAgK1xuICAgICAgICAgICAgICAgIGBpbnRlbmQgdG8gcGVyZm9ybSBkYXRhIGZldGNoaW5nIGJlZm9yZSBjb21wb25lbnQgcmVuZGVycywgdXNlIGAgK1xuICAgICAgICAgICAgICAgIGBhc3luYyBzZXR1cCgpICsgPFN1c3BlbnNlPi5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGBkYXRhKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5kYXRhID0gcmVhY3RpdmUoZGF0YSk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJEYXRhXCIgLyogT3B0aW9uVHlwZXMuREFUQSAqLywga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXhwb3NlIGRhdGEgb24gY3R4IGR1cmluZyBkZXZcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJlZml4KGtleVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gZGF0YVtrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc3RhdGUgaW5pdGlhbGl6YXRpb24gY29tcGxldGUgYXQgdGhpcyBwb2ludCAtIHN0YXJ0IGNhY2hpbmcgYWNjZXNzXG4gICAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuICAgIGlmIChjb21wdXRlZE9wdGlvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBvcHQgPSBjb21wdXRlZE9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IGdldCA9IGlzRnVuY3Rpb24ob3B0KVxuICAgICAgICAgICAgICAgID8gb3B0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcylcbiAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb24ob3B0LmdldClcbiAgICAgICAgICAgICAgICAgICAgPyBvcHQuZ2V0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcylcbiAgICAgICAgICAgICAgICAgICAgOiBOT09QO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBnZXQgPT09IE5PT1ApIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYENvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaGFzIG5vIGdldHRlci5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNldCA9ICFpc0Z1bmN0aW9uKG9wdCkgJiYgaXNGdW5jdGlvbihvcHQuc2V0KVxuICAgICAgICAgICAgICAgID8gb3B0LnNldC5iaW5kKHB1YmxpY1RoaXMpXG4gICAgICAgICAgICAgICAgOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgPyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiBOT09QO1xuICAgICAgICAgICAgY29uc3QgYyA9IGNvbXB1dGVkJDEoe1xuICAgICAgICAgICAgICAgIGdldCxcbiAgICAgICAgICAgICAgICBzZXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxuICAgICAgICAgICAgICAgIHNldDogdiA9PiAoYy52YWx1ZSA9IHYpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJDb21wdXRlZFwiIC8qIE9wdGlvblR5cGVzLkNPTVBVVEVEICovLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh3YXRjaE9wdGlvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XG4gICAgICAgICAgICBjcmVhdGVXYXRjaGVyKHdhdGNoT3B0aW9uc1trZXldLCBjdHgsIHB1YmxpY1RoaXMsIGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb3ZpZGVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVzID0gaXNGdW5jdGlvbihwcm92aWRlT3B0aW9ucylcbiAgICAgICAgICAgID8gcHJvdmlkZU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzKVxuICAgICAgICAgICAgOiBwcm92aWRlT3B0aW9ucztcbiAgICAgICAgUmVmbGVjdC5vd25LZXlzKHByb3ZpZGVzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBwcm92aWRlKGtleSwgcHJvdmlkZXNba2V5XSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY3JlYXRlZCkge1xuICAgICAgICBjYWxsSG9vayhjcmVhdGVkLCBpbnN0YW5jZSwgXCJjXCIgLyogTGlmZWN5Y2xlSG9va3MuQ1JFQVRFRCAqLyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhyZWdpc3RlciwgaG9vaykge1xuICAgICAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgICAgICAgaG9vay5mb3JFYWNoKF9ob29rID0+IHJlZ2lzdGVyKF9ob29rLmJpbmQocHVibGljVGhpcykpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChob29rKSB7XG4gICAgICAgICAgICByZWdpc3Rlcihob29rLmJpbmQocHVibGljVGhpcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZU1vdW50LCBiZWZvcmVNb3VudCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uTW91bnRlZCwgbW91bnRlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlVXBkYXRlLCBiZWZvcmVVcGRhdGUpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVwZGF0ZWQsIHVwZGF0ZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkFjdGl2YXRlZCwgYWN0aXZhdGVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25EZWFjdGl2YXRlZCwgZGVhY3RpdmF0ZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkVycm9yQ2FwdHVyZWQsIGVycm9yQ2FwdHVyZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyYWNrZWQsIHJlbmRlclRyYWNrZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyaWdnZXJlZCwgcmVuZGVyVHJpZ2dlcmVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVbm1vdW50LCBiZWZvcmVVbm1vdW50KTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Vbm1vdW50ZWQsIHVubW91bnRlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uU2VydmVyUHJlZmV0Y2gsIHNlcnZlclByZWZldGNoKTtcbiAgICB7XG4gICAgICAgIGlmIChiZWZvcmVEZXN0cm95ICYmXG4gICAgICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIk9QVElPTlNfQkVGT1JFX0RFU1RST1lcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfQkVGT1JFX0RFU1RST1kgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlVW5tb3VudCwgYmVmb3JlRGVzdHJveSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlc3Ryb3llZCAmJlxuICAgICAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJPUFRJT05TX0RFU1RST1lFRFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19ERVNUUk9ZRUQgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVW5tb3VudGVkLCBkZXN0cm95ZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc0FycmF5KGV4cG9zZSkpIHtcbiAgICAgICAgaWYgKGV4cG9zZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0ge30pO1xuICAgICAgICAgICAgZXhwb3NlLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3NlZCwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcHVibGljVGhpc1trZXldLFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IHZhbCA9PiAocHVibGljVGhpc1trZXldID0gdmFsKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBvcHRpb25zIHRoYXQgYXJlIGhhbmRsZWQgd2hlbiBjcmVhdGluZyB0aGUgaW5zdGFuY2UgYnV0IGFsc28gbmVlZCB0byBiZVxuICAgIC8vIGFwcGxpZWQgZnJvbSBtaXhpbnNcbiAgICBpZiAocmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCkge1xuICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XG4gICAgfVxuICAgIGlmIChpbmhlcml0QXR0cnMgIT0gbnVsbCkge1xuICAgICAgICBpbnN0YW5jZS5pbmhlcml0QXR0cnMgPSBpbmhlcml0QXR0cnM7XG4gICAgfVxuICAgIC8vIGFzc2V0IG9wdGlvbnMuXG4gICAgaWYgKGNvbXBvbmVudHMpXG4gICAgICAgIGluc3RhbmNlLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuICAgIGlmIChkaXJlY3RpdmVzKVxuICAgICAgICBpbnN0YW5jZS5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICBpZiAoZmlsdGVycyAmJlxuICAgICAgICBpc0NvbXBhdEVuYWJsZWQoXCJGSUxURVJTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5GSUxURVJTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgaW5zdGFuY2UuZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZUluamVjdGlvbnMoaW5qZWN0T3B0aW9ucywgY3R4LCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSBOT09QLCB1bndyYXBSZWYgPSBmYWxzZSkge1xuICAgIGlmIChpc0FycmF5KGluamVjdE9wdGlvbnMpKSB7XG4gICAgICAgIGluamVjdE9wdGlvbnMgPSBub3JtYWxpemVJbmplY3QoaW5qZWN0T3B0aW9ucyk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGluamVjdE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgb3B0ID0gaW5qZWN0T3B0aW9uc1trZXldO1xuICAgICAgICBsZXQgaW5qZWN0ZWQ7XG4gICAgICAgIGlmIChpc09iamVjdChvcHQpKSB7XG4gICAgICAgICAgICBpZiAoJ2RlZmF1bHQnIGluIG9wdCkge1xuICAgICAgICAgICAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSwgb3B0LmRlZmF1bHQsIHRydWUgLyogdHJlYXQgZGVmYXVsdCBmdW5jdGlvbiBhcyBmYWN0b3J5ICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbmplY3RlZCA9IGluamVjdChvcHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlZihpbmplY3RlZCkpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIHRoZSBjaGVjayBpbiAzLjNcbiAgICAgICAgICAgIGlmICh1bndyYXBSZWYpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGluamVjdGVkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IHYgPT4gKGluamVjdGVkLnZhbHVlID0gdilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBpbmplY3RlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGEgcmVmIGFuZCB3aWxsIGJlIGF1dG8tdW53cmFwcGVkIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGFuZCBubyBsb25nZXIgbmVlZHMgXFxgLnZhbHVlXFxgIGluIHRoZSBuZXh0IG1pbm9yIHJlbGVhc2UuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFRvIG9wdC1pbiB0byB0aGUgbmV3IGJlaGF2aW9yIG5vdywgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgc2V0IFxcYGFwcC5jb25maWcudW53cmFwSW5qZWN0ZWRSZWYgPSB0cnVlXFxgICh0aGlzIGNvbmZpZyBpcyBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB0ZW1wb3JhcnkgYW5kIHdpbGwgbm90IGJlIG5lZWRlZCBpbiB0aGUgZnV0dXJlLilgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3R4W2tleV0gPSBpbmplY3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogT3B0aW9uVHlwZXMuSU5KRUNUICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2FsbEhvb2soaG9vaywgaW5zdGFuY2UsIHR5cGUpIHtcbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhpc0FycmF5KGhvb2spXG4gICAgICAgID8gaG9vay5tYXAoaCA9PiBoLmJpbmQoaW5zdGFuY2UucHJveHkpKVxuICAgICAgICA6IGhvb2suYmluZChpbnN0YW5jZS5wcm94eSksIGluc3RhbmNlLCB0eXBlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIocmF3LCBjdHgsIHB1YmxpY1RoaXMsIGtleSkge1xuICAgIGNvbnN0IGdldHRlciA9IGtleS5pbmNsdWRlcygnLicpXG4gICAgICAgID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBrZXkpXG4gICAgICAgIDogKCkgPT4gcHVibGljVGhpc1trZXldO1xuICAgIGlmIChpc1N0cmluZyhyYXcpKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBjdHhbcmF3XTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXd9XCJgLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHJhdykpIHtcbiAgICAgICAgd2F0Y2goZ2V0dGVyLCByYXcuYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHJhdykpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgICAgICAgICAgcmF3LmZvckVhY2gociA9PiBjcmVhdGVXYXRjaGVyKHIsIGN0eCwgcHVibGljVGhpcywga2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcilcbiAgICAgICAgICAgICAgICA/IHJhdy5oYW5kbGVyLmJpbmQocHVibGljVGhpcylcbiAgICAgICAgICAgICAgICA6IGN0eFtyYXcuaGFuZGxlcl07XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlciwgcmF3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhdy5oYW5kbGVyfVwiYCwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBvcHRpb246IFwiJHtrZXl9XCJgLCByYXcpO1xuICAgIH1cbn1cbi8qKlxuICogUmVzb2x2ZSBtZXJnZWQgb3B0aW9ucyBhbmQgY2FjaGUgaXQgb24gdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgaXMgZG9uZSBvbmx5IG9uY2UgcGVyLWNvbXBvbmVudCBzaW5jZSB0aGUgbWVyZ2luZyBkb2VzIG5vdCBpbnZvbHZlXG4gKiBpbnN0YW5jZXMuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluc3RhbmNlLnR5cGU7XG4gICAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBiYXNlO1xuICAgIGNvbnN0IHsgbWl4aW5zOiBnbG9iYWxNaXhpbnMsIG9wdGlvbnNDYWNoZTogY2FjaGUsIGNvbmZpZzogeyBvcHRpb25NZXJnZVN0cmF0ZWdpZXMgfSB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dDtcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoYmFzZSk7XG4gICAgbGV0IHJlc29sdmVkO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgcmVzb2x2ZWQgPSBjYWNoZWQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFnbG9iYWxNaXhpbnMubGVuZ3RoICYmICFtaXhpbnMgJiYgIWV4dGVuZHNPcHRpb25zKSB7XG4gICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJQUklWQVRFX0FQSVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlBSSVZBVEVfQVBJUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IGV4dGVuZCh7fSwgYmFzZSk7XG4gICAgICAgICAgICByZXNvbHZlZC5wYXJlbnQgPSBpbnN0YW5jZS5wYXJlbnQgJiYgaW5zdGFuY2UucGFyZW50LnByb3h5O1xuICAgICAgICAgICAgcmVzb2x2ZWQucHJvcHNEYXRhID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IGJhc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc29sdmVkID0ge307XG4gICAgICAgIGlmIChnbG9iYWxNaXhpbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBnbG9iYWxNaXhpbnMuZm9yRWFjaChtID0+IG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgbSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzLCB0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbWVyZ2VPcHRpb25zKHJlc29sdmVkLCBiYXNlLCBvcHRpb25NZXJnZVN0cmF0ZWdpZXMpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3QoYmFzZSkpIHtcbiAgICAgICAgY2FjaGUuc2V0KGJhc2UsIHJlc29sdmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc29sdmVkO1xufVxuZnVuY3Rpb24gbWVyZ2VPcHRpb25zKHRvLCBmcm9tLCBzdHJhdHMsIGFzTWl4aW4gPSBmYWxzZSkge1xuICAgIGlmIChpc0Z1bmN0aW9uKGZyb20pKSB7XG4gICAgICAgIGZyb20gPSBmcm9tLm9wdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gZnJvbTtcbiAgICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcbiAgICAgICAgbWVyZ2VPcHRpb25zKHRvLCBleHRlbmRzT3B0aW9ucywgc3RyYXRzLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKG1peGlucykge1xuICAgICAgICBtaXhpbnMuZm9yRWFjaCgobSkgPT4gbWVyZ2VPcHRpb25zKHRvLCBtLCBzdHJhdHMsIHRydWUpKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xuICAgICAgICBpZiAoYXNNaXhpbiAmJiBrZXkgPT09ICdleHBvc2UnKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB3YXJuJDEoYFwiZXhwb3NlXCIgb3B0aW9uIGlzIGlnbm9yZWQgd2hlbiBkZWNsYXJlZCBpbiBtaXhpbnMgb3IgZXh0ZW5kcy4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBJdCBzaG91bGQgb25seSBiZSBkZWNsYXJlZCBpbiB0aGUgYmFzZSBjb21wb25lbnQgaXRzZWxmLmApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3RyYXQgPSBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzW2tleV0gfHwgKHN0cmF0cyAmJiBzdHJhdHNba2V5XSk7XG4gICAgICAgICAgICB0b1trZXldID0gc3RyYXQgPyBzdHJhdCh0b1trZXldLCBmcm9tW2tleV0pIDogZnJvbVtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0bztcbn1cbmNvbnN0IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMgPSB7XG4gICAgZGF0YTogbWVyZ2VEYXRhRm4sXG4gICAgcHJvcHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgICBlbWl0czogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAgIC8vIG9iamVjdHNcbiAgICBtZXRob2RzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gICAgY29tcHV0ZWQ6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgICAvLyBsaWZlY3ljbGVcbiAgICBiZWZvcmVDcmVhdGU6IG1lcmdlQXNBcnJheSxcbiAgICBjcmVhdGVkOiBtZXJnZUFzQXJyYXksXG4gICAgYmVmb3JlTW91bnQ6IG1lcmdlQXNBcnJheSxcbiAgICBtb3VudGVkOiBtZXJnZUFzQXJyYXksXG4gICAgYmVmb3JlVXBkYXRlOiBtZXJnZUFzQXJyYXksXG4gICAgdXBkYXRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGJlZm9yZURlc3Ryb3k6IG1lcmdlQXNBcnJheSxcbiAgICBiZWZvcmVVbm1vdW50OiBtZXJnZUFzQXJyYXksXG4gICAgZGVzdHJveWVkOiBtZXJnZUFzQXJyYXksXG4gICAgdW5tb3VudGVkOiBtZXJnZUFzQXJyYXksXG4gICAgYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gICAgZGVhY3RpdmF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgICBlcnJvckNhcHR1cmVkOiBtZXJnZUFzQXJyYXksXG4gICAgc2VydmVyUHJlZmV0Y2g6IG1lcmdlQXNBcnJheSxcbiAgICAvLyBhc3NldHNcbiAgICBjb21wb25lbnRzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gICAgZGlyZWN0aXZlczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAgIC8vIHdhdGNoXG4gICAgd2F0Y2g6IG1lcmdlV2F0Y2hPcHRpb25zLFxuICAgIC8vIHByb3ZpZGUgLyBpbmplY3RcbiAgICBwcm92aWRlOiBtZXJnZURhdGFGbixcbiAgICBpbmplY3Q6IG1lcmdlSW5qZWN0XG59O1xue1xuICAgIGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMuZmlsdGVycyA9IG1lcmdlT2JqZWN0T3B0aW9ucztcbn1cbmZ1bmN0aW9uIG1lcmdlRGF0YUZuKHRvLCBmcm9tKSB7XG4gICAgaWYgKCFmcm9tKSB7XG4gICAgICAgIHJldHVybiB0bztcbiAgICB9XG4gICAgaWYgKCF0bykge1xuICAgICAgICByZXR1cm4gZnJvbTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbigpIHtcbiAgICAgICAgcmV0dXJuIChpc0NvbXBhdEVuYWJsZWQoXCJPUFRJT05TX0RBVEFfTUVSR0VcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREFUQV9NRVJHRSAqLywgbnVsbClcbiAgICAgICAgICAgID8gZGVlcE1lcmdlRGF0YVxuICAgICAgICAgICAgOiBleHRlbmQpKGlzRnVuY3Rpb24odG8pID8gdG8uY2FsbCh0aGlzLCB0aGlzKSA6IHRvLCBpc0Z1bmN0aW9uKGZyb20pID8gZnJvbS5jYWxsKHRoaXMsIHRoaXMpIDogZnJvbSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1lcmdlSW5qZWN0KHRvLCBmcm9tKSB7XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0T3B0aW9ucyhub3JtYWxpemVJbmplY3QodG8pLCBub3JtYWxpemVJbmplY3QoZnJvbSkpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplSW5qZWN0KHJhdykge1xuICAgIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICAgICAgY29uc3QgcmVzID0ge307XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXNbcmF3W2ldXSA9IHJhd1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICByZXR1cm4gcmF3O1xufVxuZnVuY3Rpb24gbWVyZ2VBc0FycmF5KHRvLCBmcm9tKSB7XG4gICAgcmV0dXJuIHRvID8gWy4uLm5ldyBTZXQoW10uY29uY2F0KHRvLCBmcm9tKSldIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0T3B0aW9ucyh0bywgZnJvbSkge1xuICAgIHJldHVybiB0byA/IGV4dGVuZChleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8pLCBmcm9tKSA6IGZyb207XG59XG5mdW5jdGlvbiBtZXJnZVdhdGNoT3B0aW9ucyh0bywgZnJvbSkge1xuICAgIGlmICghdG8pXG4gICAgICAgIHJldHVybiBmcm9tO1xuICAgIGlmICghZnJvbSlcbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIGNvbnN0IG1lcmdlZCA9IGV4dGVuZChPYmplY3QuY3JlYXRlKG51bGwpLCB0byk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xuICAgICAgICBtZXJnZWRba2V5XSA9IG1lcmdlQXNBcnJheSh0b1trZXldLCBmcm9tW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9wc0RlZmF1bHRUaGlzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcEtleSkge1xuICAgIHJldHVybiBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgZ2V0KF8sIGtleSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybkRlcHJlY2F0aW9uKFwiUFJPUFNfREVGQVVMVF9USElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUk9QU19ERUZBVUxUX1RISVMgKi8sIG51bGwsIHByb3BLZXkpO1xuICAgICAgICAgICAgLy8gJG9wdGlvbnNcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICckb3B0aW9ucycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgICAgIGlmIChrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGluamVjdGlvbnNcbiAgICAgICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSBpbnN0YW5jZS50eXBlLmluamVjdDtcbiAgICAgICAgICAgIGlmIChpbmplY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoaW5qZWN0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluamVjdGlvbnMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSBpbiBpbmplY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3Qoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkU2tpcEF0dHIoa2V5LCBpbnN0YW5jZSkge1xuICAgIGlmIChrZXkgPT09ICdpcycpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgoa2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ3N0eWxlJykgJiZcbiAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChpc09uKGtleSkgJiZcbiAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfTElTVEVORVJTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9MSVNURU5FUlMgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gdnVlLXJvdXRlclxuICAgIGlmIChrZXkuc3RhcnRzV2l0aCgncm91dGVyVmlldycpIHx8IGtleSA9PT0gJ3JlZ2lzdGVyUm91dGVJbnN0YW5jZScpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaW5pdFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgaXNTdGF0ZWZ1bCwgLy8gcmVzdWx0IG9mIGJpdHdpc2UgZmxhZyBjb21wYXJpc29uXG5pc1NTUiA9IGZhbHNlKSB7XG4gICAgY29uc3QgcHJvcHMgPSB7fTtcbiAgICBjb25zdCBhdHRycyA9IHt9O1xuICAgIGRlZihhdHRycywgSW50ZXJuYWxPYmplY3RLZXksIDEpO1xuICAgIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycyk7XG4gICAgLy8gZW5zdXJlIGFsbCBkZWNsYXJlZCBwcm9wIGtleXMgYXJlIHByZXNlbnRcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHByb3BzKSkge1xuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyB2YWxpZGF0aW9uXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoaXNTdGF0ZWZ1bCkge1xuICAgICAgICAvLyBzdGF0ZWZ1bFxuICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IGlzU1NSID8gcHJvcHMgOiBzaGFsbG93UmVhY3RpdmUocHJvcHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFpbnN0YW5jZS50eXBlLnByb3BzKSB7XG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsIHcvIG9wdGlvbmFsIHByb3BzLCBwcm9wcyA9PT0gYXR0cnNcbiAgICAgICAgICAgIGluc3RhbmNlLnByb3BzID0gYXR0cnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBmdW5jdGlvbmFsIHcvIGRlY2xhcmVkIHByb3BzXG4gICAgICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmF0dHJzID0gYXR0cnM7XG59XG5mdW5jdGlvbiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkge1xuICAgIHdoaWxlIChpbnN0YW5jZSkge1xuICAgICAgICBpZiAoaW5zdGFuY2UudHlwZS5fX2htcklkKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGluc3RhbmNlID0gaW5zdGFuY2UucGFyZW50O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcmF3UHJldlByb3BzLCBvcHRpbWl6ZWQpIHtcbiAgICBjb25zdCB7IHByb3BzLCBhdHRycywgdm5vZGU6IHsgcGF0Y2hGbGFnIH0gfSA9IGluc3RhbmNlO1xuICAgIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICBjb25zdCBbb3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gICAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIGlmIChcbiAgICAvLyBhbHdheXMgZm9yY2UgZnVsbCBkaWZmIGluIGRldlxuICAgIC8vIC0gIzE5NDIgaWYgaG1yIGlzIGVuYWJsZWQgd2l0aCBzZmMgY29tcG9uZW50XG4gICAgLy8gLSB2aXRlIzg3MiBub24tc2ZjIGNvbXBvbmVudCB1c2VkIGJ5IHNmYyBjb21wb25lbnRcbiAgICAhKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkpICYmXG4gICAgICAgIChvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnID4gMCkgJiZcbiAgICAgICAgIShwYXRjaEZsYWcgJiAxNiAvKiBQYXRjaEZsYWdzLkZVTExfUFJPUFMgKi8pKSB7XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA4IC8qIFBhdGNoRmxhZ3MuUFJPUFMgKi8pIHtcbiAgICAgICAgICAgIC8vIENvbXBpbGVyLWdlbmVyYXRlZCBwcm9wcyAmIG5vIGtleXMgY2hhbmdlLCBqdXN0IHNldCB0aGUgdXBkYXRlZFxuICAgICAgICAgICAgLy8gdGhlIHByb3BzLlxuICAgICAgICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IGluc3RhbmNlLnZub2RlLmR5bmFtaWNQcm9wcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xuICAgICAgICAgICAgICAgIC8vIHNraXAgaWYgdGhlIHByb3Aga2V5IGlzIGEgZGVjbGFyZWQgZW1pdCBldmVudCBsaXN0ZW5lclxuICAgICAgICAgICAgICAgIGlmIChpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFBST1BTIGZsYWcgZ3VhcmFudGVlcyByYXdQcm9wcyB0byBiZSBub24tbnVsbFxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAvLyBhdHRyIC8gcHJvcHMgc2VwYXJhdGlvbiB3YXMgZG9uZSBvbiBpbml0IGFuZCB3aWxsIGJlIGNvbnNpc3RlbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhpcyBjb2RlIHBhdGgsIHNvIGp1c3QgY2hlY2sgaWYgYXR0cnMgaGF2ZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNbY2FtZWxpemVkS2V5XSA9IHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcmF3Q3VycmVudFByb3BzLCBjYW1lbGl6ZWRLZXksIHZhbHVlLCBpbnN0YW5jZSwgZmFsc2UgLyogaXNBYnNlbnQgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNPbihrZXkpICYmIGtleS5lbmRzV2l0aCgnTmF0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXkuc2xpY2UoMCwgLTYpOyAvLyByZW1vdmUgTmF0aXZlIHBvc3RmaXhcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNob3VsZFNraXBBdHRyKGtleSwgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBmdWxsIHByb3BzIHVwZGF0ZS5cbiAgICAgICAgaWYgKHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykpIHtcbiAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW4gY2FzZSBvZiBkeW5hbWljIHByb3BzLCBjaGVjayBpZiB3ZSBuZWVkIHRvIGRlbGV0ZSBrZXlzIGZyb21cbiAgICAgICAgLy8gdGhlIHByb3BzIG9iamVjdFxuICAgICAgICBsZXQga2ViYWJLZXk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgICAgICAgaWYgKCFyYXdQcm9wcyB8fFxuICAgICAgICAgICAgICAgIC8vIGZvciBjYW1lbENhc2VcbiAgICAgICAgICAgICAgICAoIWhhc093bihyYXdQcm9wcywga2V5KSAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoZSBvcmlnaW5hbCBwcm9wcyB3YXMgcGFzc2VkIGluIGFzIGtlYmFiLWNhc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGNvbnZlcnRlZCB0byBjYW1lbENhc2UgKCM5NTUpXG4gICAgICAgICAgICAgICAgICAgICgoa2ViYWJLZXkgPSBoeXBoZW5hdGUoa2V5KSkgPT09IGtleSB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZWJhYktleSkpKSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdQcmV2UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBjYW1lbENhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGtlYmFiLWNhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdQcmV2UHJvcHNba2ViYWJLZXldICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGtleSwgdW5kZWZpbmVkLCBpbnN0YW5jZSwgdHJ1ZSAvKiBpc0Fic2VudCAqLyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpbiB0aGUgY2FzZSBvZiBmdW5jdGlvbmFsIGNvbXBvbmVudCB3L28gcHJvcHMgZGVjbGFyYXRpb24sIHByb3BzIGFuZFxuICAgICAgICAvLyBhdHRycyBwb2ludCB0byB0aGUgc2FtZSBvYmplY3Qgc28gaXQgc2hvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIHVwZGF0ZWQuXG4gICAgICAgIGlmIChhdHRycyAhPT0gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHxcbiAgICAgICAgICAgICAgICAgICAgKCFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICghaGFzT3duKHJhd1Byb3BzLCBrZXkgKyAnTmF0aXZlJykpKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0cnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdHJpZ2dlciB1cGRhdGVzIGZvciAkYXR0cnMgaW4gY2FzZSBpdCdzIHVzZWQgaW4gY29tcG9uZW50IHNsb3RzXG4gICAgaWYgKGhhc0F0dHJzQ2hhbmdlZCkge1xuICAgICAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLywgJyRhdHRycycpO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSB7XG4gICAgY29uc3QgW29wdGlvbnMsIG5lZWRDYXN0S2V5c10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gICAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIGxldCByYXdDYXN0VmFsdWVzO1xuICAgIGlmIChyYXdQcm9wcykge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICAgICAgICAgIC8vIGtleSwgcmVmIGFyZSByZXNlcnZlZCBhbmQgbmV2ZXIgcGFzc2VkIGRvd25cbiAgICAgICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdvbkhvb2s6JykpIHtcbiAgICAgICAgICAgICAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlLCBrZXkuc2xpY2UoMikudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdpbmxpbmUtdGVtcGxhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgICAgIC8vIHByb3Agb3B0aW9uIG5hbWVzIGFyZSBjYW1lbGl6ZWQgZHVyaW5nIG5vcm1hbGl6YXRpb24sIHNvIHRvIHN1cHBvcnRcbiAgICAgICAgICAgIC8vIGtlYmFiIC0+IGNhbWVsIGNvbnZlcnNpb24gaGVyZSB3ZSBuZWVkIHRvIGNhbWVsaXplIHRoZSBrZXkuXG4gICAgICAgICAgICBsZXQgY2FtZWxLZXk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgKGNhbWVsS2V5ID0gY2FtZWxpemUoa2V5KSkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuZWVkQ2FzdEtleXMgfHwgIW5lZWRDYXN0S2V5cy5pbmNsdWRlcyhjYW1lbEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAocmF3Q2FzdFZhbHVlcyB8fCAocmF3Q2FzdFZhbHVlcyA9IHt9KSlbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICAgICAgICAgIC8vIEFueSBub24tZGVjbGFyZWQgKGVpdGhlciBhcyBhIHByb3Agb3IgYW4gZW1pdHRlZCBldmVudCkgcHJvcHMgYXJlIHB1dFxuICAgICAgICAgICAgICAgIC8vIGludG8gYSBzZXBhcmF0ZSBgYXR0cnNgIG9iamVjdCBmb3Igc3ByZWFkaW5nLiBNYWtlIHN1cmUgdG8gcHJlc2VydmVcbiAgICAgICAgICAgICAgICAvLyBvcmlnaW5hbCBrZXkgY2FzaW5nXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPbihrZXkpICYmIGtleS5lbmRzV2l0aCgnTmF0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGtleS5zbGljZSgwLCAtNik7IC8vIHJlbW92ZSBOYXRpdmUgcG9zdGZpeFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNob3VsZFNraXBBdHRyKGtleSwgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gYXR0cnMpIHx8IHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5lZWRDYXN0S2V5cykge1xuICAgICAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgICAgIGNvbnN0IGNhc3RWYWx1ZXMgPSByYXdDYXN0VmFsdWVzIHx8IEVNUFRZX09CSjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkQ2FzdEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IG5lZWRDYXN0S2V5c1tpXTtcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywga2V5LCBjYXN0VmFsdWVzW2tleV0sIGluc3RhbmNlLCAhaGFzT3duKGNhc3RWYWx1ZXMsIGtleSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNBdHRyc0NoYW5nZWQ7XG59XG5mdW5jdGlvbiByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHByb3BzLCBrZXksIHZhbHVlLCBpbnN0YW5jZSwgaXNBYnNlbnQpIHtcbiAgICBjb25zdCBvcHQgPSBvcHRpb25zW2tleV07XG4gICAgaWYgKG9wdCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBoYXNPd24ob3B0LCAnZGVmYXVsdCcpO1xuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlc1xuICAgICAgICBpZiAoaGFzRGVmYXVsdCAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdDtcbiAgICAgICAgICAgIGlmIChvcHQudHlwZSAhPT0gRnVuY3Rpb24gJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwcm9wc0RlZmF1bHRzIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHByb3BzRGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XSA9IGRlZmF1bHRWYWx1ZS5jYWxsKGlzQ29tcGF0RW5hYmxlZChcIlBST1BTX0RFRkFVTFRfVEhJU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuUFJPUFNfREVGQVVMVF9USElTICovLCBpbnN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlUHJvcHNEZWZhdWx0VGhpcyhpbnN0YW5jZSwgcHJvcHMsIGtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCwgcHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGJvb2xlYW4gY2FzdGluZ1xuICAgICAgICBpZiAob3B0WzAgLyogQm9vbGVhbkZsYWdzLnNob3VsZENhc3QgKi9dKSB7XG4gICAgICAgICAgICBpZiAoaXNBYnNlbnQgJiYgIWhhc0RlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3B0WzEgLyogQm9vbGVhbkZsYWdzLnNob3VsZENhc3RUcnVlICovXSAmJlxuICAgICAgICAgICAgICAgICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gICAgY29uc3QgY2FjaGUgPSBhcHBDb250ZXh0LnByb3BzQ2FjaGU7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGNvbXApO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG4gICAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcbiAgICBjb25zdCBub3JtYWxpemVkID0ge307XG4gICAgY29uc3QgbmVlZENhc3RLZXlzID0gW107XG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kUHJvcHMgPSAocmF3KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XG4gICAgICAgICAgICAgICAgcmF3ID0gcmF3Lm9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IFtwcm9wcywga2V5c10gPSBub3JtYWxpemVQcm9wc09wdGlvbnMocmF3LCBhcHBDb250ZXh0LCB0cnVlKTtcbiAgICAgICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBwcm9wcyk7XG4gICAgICAgICAgICBpZiAoa2V5cylcbiAgICAgICAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaCguLi5rZXlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xuICAgICAgICAgICAgZXh0ZW5kUHJvcHMoY29tcC5leHRlbmRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgICAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgICAgICAgY2FjaGUuc2V0KGNvbXAsIEVNUFRZX0FSUik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEVNUFRZX0FSUjtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNTdHJpbmcocmF3W2ldKSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUocmF3W2ldKTtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9IEVNUFRZX09CSjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChyYXcpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNPYmplY3QocmF3KSkge1xuICAgICAgICAgICAgd2FybiQxKGBpbnZhbGlkIHByb3BzIG9wdGlvbnNgLCByYXcpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhdykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdCA9IHJhd1trZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSAobm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkgPyB7IHR5cGU6IG9wdCB9IDogT2JqZWN0LmFzc2lnbih7fSwgb3B0KSk7XG4gICAgICAgICAgICAgICAgaWYgKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9vbGVhbkluZGV4ID0gZ2V0VHlwZUluZGV4KEJvb2xlYW4sIHByb3AudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gZ2V0VHlwZUluZGV4KFN0cmluZywgcHJvcC50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvcFswIC8qIEJvb2xlYW5GbGFncy5zaG91bGRDYXN0ICovXSA9IGJvb2xlYW5JbmRleCA+IC0xO1xuICAgICAgICAgICAgICAgICAgICBwcm9wWzEgLyogQm9vbGVhbkZsYWdzLnNob3VsZENhc3RUcnVlICovXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdJbmRleCA8IDAgfHwgYm9vbGVhbkluZGV4IDwgc3RyaW5nSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwcm9wIG5lZWRzIGJvb2xlYW4gY2FzdGluZyBvciBkZWZhdWx0IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGlmIChib29sZWFuSW5kZXggPiAtMSB8fCBoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2gobm9ybWFsaXplZEtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gW25vcm1hbGl6ZWQsIG5lZWRDYXN0S2V5c107XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICAgIGNhY2hlLnNldChjb21wLCByZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wTmFtZShrZXkpIHtcbiAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgcHJvcCBuYW1lOiBcIiR7a2V5fVwiIGlzIGEgcmVzZXJ2ZWQgcHJvcGVydHkuYCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIHVzZSBmdW5jdGlvbiBzdHJpbmcgbmFtZSB0byBjaGVjayB0eXBlIGNvbnN0cnVjdG9yc1xuLy8gc28gdGhhdCBpdCB3b3JrcyBhY3Jvc3Mgdm1zIC8gaWZyYW1lcy5cbmZ1bmN0aW9uIGdldFR5cGUoY3Rvcikge1xuICAgIGNvbnN0IG1hdGNoID0gY3RvciAmJiBjdG9yLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqZnVuY3Rpb24gKFxcdyspLyk7XG4gICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiBjdG9yID09PSBudWxsID8gJ251bGwnIDogJyc7XG59XG5mdW5jdGlvbiBpc1NhbWVUeXBlKGEsIGIpIHtcbiAgICByZXR1cm4gZ2V0VHlwZShhKSA9PT0gZ2V0VHlwZShiKTtcbn1cbmZ1bmN0aW9uIGdldFR5cGVJbmRleCh0eXBlLCBleHBlY3RlZFR5cGVzKSB7XG4gICAgaWYgKGlzQXJyYXkoZXhwZWN0ZWRUeXBlcykpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdGVkVHlwZXMuZmluZEluZGV4KHQgPT4gaXNTYW1lVHlwZSh0LCB0eXBlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oZXhwZWN0ZWRUeXBlcykpIHtcbiAgICAgICAgcmV0dXJuIGlzU2FtZVR5cGUoZXhwZWN0ZWRUeXBlcywgdHlwZSkgPyAwIDogLTE7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVQcm9wcyhyYXdQcm9wcywgcHJvcHMsIGluc3RhbmNlKSB7XG4gICAgY29uc3QgcmVzb2x2ZWRWYWx1ZXMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgIGxldCBvcHQgPSBvcHRpb25zW2tleV07XG4gICAgICAgIGlmIChvcHQgPT0gbnVsbClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB2YWxpZGF0ZVByb3Aoa2V5LCByZXNvbHZlZFZhbHVlc1trZXldLCBvcHQsICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgIWhhc093bihyYXdQcm9wcywgaHlwaGVuYXRlKGtleSkpKTtcbiAgICB9XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcChuYW1lLCB2YWx1ZSwgcHJvcCwgaXNBYnNlbnQpIHtcbiAgICBjb25zdCB7IHR5cGUsIHJlcXVpcmVkLCB2YWxpZGF0b3IgfSA9IHByb3A7XG4gICAgLy8gcmVxdWlyZWQhXG4gICAgaWYgKHJlcXVpcmVkICYmIGlzQWJzZW50KSB7XG4gICAgICAgIHdhcm4kMSgnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gbWlzc2luZyBidXQgb3B0aW9uYWxcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHR5cGUgY2hlY2tcbiAgICBpZiAodHlwZSAhPSBudWxsICYmIHR5cGUgIT09IHRydWUpIHtcbiAgICAgICAgbGV0IGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdHlwZXMgPSBpc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICAgICAgICAvLyB2YWx1ZSBpcyB2YWxpZCBhcyBsb25nIGFzIG9uZSBvZiB0aGUgc3BlY2lmaWVkIHR5cGVzIG1hdGNoXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsaWQsIGV4cGVjdGVkVHlwZSB9ID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZXNbaV0pO1xuICAgICAgICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGV4cGVjdGVkVHlwZSB8fCAnJyk7XG4gICAgICAgICAgICBpc1ZhbGlkID0gdmFsaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICB3YXJuJDEoZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gY3VzdG9tIHZhbGlkYXRvclxuICAgIGlmICh2YWxpZGF0b3IgJiYgIXZhbGlkYXRvcih2YWx1ZSkpIHtcbiAgICAgICAgd2FybiQxKCdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyk7XG4gICAgfVxufVxuY29uc3QgaXNTaW1wbGVUeXBlID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdTdHJpbmcsTnVtYmVyLEJvb2xlYW4sRnVuY3Rpb24sU3ltYm9sLEJpZ0ludCcpO1xuLyoqXG4gKiBkZXYgb25seVxuICovXG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlKSB7XG4gICAgbGV0IHZhbGlkO1xuICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XG4gICAgaWYgKGlzU2ltcGxlVHlwZShleHBlY3RlZFR5cGUpKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgdmFsdWU7XG4gICAgICAgIHZhbGlkID0gdCA9PT0gZXhwZWN0ZWRUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIC8vIGZvciBwcmltaXRpdmUgd3JhcHBlciBvYmplY3RzXG4gICAgICAgIGlmICghdmFsaWQgJiYgdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ09iamVjdCcpIHtcbiAgICAgICAgdmFsaWQgPSBpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0FycmF5Jykge1xuICAgICAgICB2YWxpZCA9IGlzQXJyYXkodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdudWxsJykge1xuICAgICAgICB2YWxpZCA9IHZhbHVlID09PSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHZhbGlkLFxuICAgICAgICBleHBlY3RlZFR5cGVcbiAgICB9O1xufVxuLyoqXG4gKiBkZXYgb25seVxuICovXG5mdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgICBsZXQgbWVzc2FnZSA9IGBJbnZhbGlkIHByb3A6IHR5cGUgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJHtuYW1lfVwiLmAgK1xuICAgICAgICBgIEV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbignIHwgJyl9YDtcbiAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xuICAgIGNvbnN0IHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XG4gICAgY29uc3QgZXhwZWN0ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSk7XG4gICAgY29uc3QgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IGV4cGVjdGVkIHZhbHVlXG4gICAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAxICYmXG4gICAgICAgIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmXG4gICAgICAgICFpc0Jvb2xlYW4oZXhwZWN0ZWRUeXBlLCByZWNlaXZlZFR5cGUpKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gYCB3aXRoIHZhbHVlICR7ZXhwZWN0ZWRWYWx1ZX1gO1xuICAgIH1cbiAgICBtZXNzYWdlICs9IGAsIGdvdCAke3JlY2VpdmVkVHlwZX0gYDtcbiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgcmVjZWl2ZWQgdmFsdWVcbiAgICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcbiAgICAgICAgbWVzc2FnZSArPSBgd2l0aCB2YWx1ZSAke3JlY2VpdmVkVmFsdWV9LmA7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xufVxuLyoqXG4gKiBkZXYgb25seVxuICovXG5mdW5jdGlvbiBzdHlsZVZhbHVlKHZhbHVlLCB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09ICdTdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ051bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGAke051bWJlcih2YWx1ZSl9YDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBgJHt2YWx1ZX1gO1xuICAgIH1cbn1cbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gaXNFeHBsaWNhYmxlKHR5cGUpIHtcbiAgICBjb25zdCBleHBsaWNpdFR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTtcbiAgICByZXR1cm4gZXhwbGljaXRUeXBlcy5zb21lKGVsZW0gPT4gdHlwZS50b0xvd2VyQ2FzZSgpID09PSBlbGVtKTtcbn1cbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gaXNCb29sZWFuKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5zb21lKGVsZW0gPT4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSAnYm9vbGVhbicpO1xufVxuXG5jb25zdCBpc0ludGVybmFsS2V5ID0gKGtleSkgPT4ga2V5WzBdID09PSAnXycgfHwga2V5ID09PSAnJHN0YWJsZSc7XG5jb25zdCBub3JtYWxpemVTbG90VmFsdWUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpXG4gICAgPyB2YWx1ZS5tYXAobm9ybWFsaXplVk5vZGUpXG4gICAgOiBbbm9ybWFsaXplVk5vZGUodmFsdWUpXTtcbmNvbnN0IG5vcm1hbGl6ZVNsb3QgPSAoa2V5LCByYXdTbG90LCBjdHgpID0+IHtcbiAgICBpZiAocmF3U2xvdC5fbikge1xuICAgICAgICAvLyBhbHJlYWR5IG5vcm1hbGl6ZWQgLSAjNTM1M1xuICAgICAgICByZXR1cm4gcmF3U2xvdDtcbiAgICB9XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHdpdGhDdHgoKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjdXJyZW50SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHdhcm4kMShgU2xvdCBcIiR7a2V5fVwiIGludm9rZWQgb3V0c2lkZSBvZiB0aGUgcmVuZGVyIGZ1bmN0aW9uOiBgICtcbiAgICAgICAgICAgICAgICBgdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gYCArXG4gICAgICAgICAgICAgICAgYEludm9rZSB0aGUgc2xvdCBmdW5jdGlvbiBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdCguLi5hcmdzKSk7XG4gICAgfSwgY3R4KTtcbiAgICBub3JtYWxpemVkLl9jID0gZmFsc2U7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuY29uc3Qgbm9ybWFsaXplT2JqZWN0U2xvdHMgPSAocmF3U2xvdHMsIHNsb3RzLCBpbnN0YW5jZSkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IHJhd1Nsb3RzLl9jdHg7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3U2xvdHMpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJuYWxLZXkoa2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Nsb3RzW2tleV07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgc2xvdHNba2V5XSA9IG5vcm1hbGl6ZVNsb3Qoa2V5LCB2YWx1ZSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgIShpc0NvbXBhdEVuYWJsZWQoXCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqLywgaW5zdGFuY2UpKSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBzbG90IFwiJHtrZXl9XCIuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIHNsb3RzW2tleV0gPSAoKSA9PiBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAhaXNLZWVwQWxpdmUoaW5zdGFuY2Uudm5vZGUpICYmXG4gICAgICAgICEoaXNDb21wYXRFbmFibGVkKFwiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi8sIGluc3RhbmNlKSkpIHtcbiAgICAgICAgd2FybiQxKGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIGRlZmF1bHQgc2xvdC4gYCArXG4gICAgICAgICAgICBgUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYCk7XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUoY2hpbGRyZW4pO1xuICAgIGluc3RhbmNlLnNsb3RzLmRlZmF1bHQgPSAoKSA9PiBub3JtYWxpemVkO1xufTtcbmNvbnN0IGluaXRTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcbiAgICBpZiAoaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgMzIgLyogU2hhcGVGbGFncy5TTE9UU19DSElMRFJFTiAqLykge1xuICAgICAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgIC8vIHVzZXJzIGNhbiBnZXQgdGhlIHNoYWxsb3cgcmVhZG9ubHkgdmVyc2lvbiBvZiB0aGUgc2xvdHMgb2JqZWN0IHRocm91Z2ggYHRoaXMuJHNsb3RzYCxcbiAgICAgICAgICAgIC8vIHdlIHNob3VsZCBhdm9pZCB0aGUgcHJveHkgb2JqZWN0IHBvbGx1dGluZyB0aGUgc2xvdHMgb2YgdGhlIGludGVybmFsIGluc3RhbmNlXG4gICAgICAgICAgICBpbnN0YW5jZS5zbG90cyA9IHRvUmF3KGNoaWxkcmVuKTtcbiAgICAgICAgICAgIC8vIG1ha2UgY29tcGlsZXIgbWFya2VyIG5vbi1lbnVtZXJhYmxlXG4gICAgICAgICAgICBkZWYoY2hpbGRyZW4sICdfJywgdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub3JtYWxpemVPYmplY3RTbG90cyhjaGlsZHJlbiwgKGluc3RhbmNlLnNsb3RzID0ge30pLCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLnNsb3RzID0ge307XG4gICAgICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgICAgICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlZihpbnN0YW5jZS5zbG90cywgSW50ZXJuYWxPYmplY3RLZXksIDEpO1xufTtcbmNvbnN0IHVwZGF0ZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xuICAgIGxldCBuZWVkRGVsZXRpb25DaGVjayA9IHRydWU7XG4gICAgbGV0IGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IEVNUFRZX09CSjtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIgLyogU2hhcGVGbGFncy5TTE9UU19DSElMRFJFTiAqLykge1xuICAgICAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgIC8vIGNvbXBpbGVkIHNsb3RzLlxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gUGFyZW50IHdhcyBITVIgdXBkYXRlZCBzbyBzbG90IGNvbnRlbnQgbWF5IGhhdmUgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICAvLyBmb3JjZSB1cGRhdGUgc2xvdHMgYW5kIG1hcmsgaW5zdGFuY2UgZm9yIGhtciBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSAvKiBTbG90RmxhZ3MuU1RBQkxFICovKSB7XG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZWQgQU5EIHN0YWJsZS5cbiAgICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIHVwZGF0ZSwgYW5kIHNraXAgc3RhbGUgc2xvdHMgcmVtb3ZhbC5cbiAgICAgICAgICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZWQgYnV0IGR5bmFtaWMgKHYtaWYvdi1mb3Igb24gc2xvdHMpIC0gdXBkYXRlIHNsb3RzLCBidXQgc2tpcFxuICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6YXRpb24uXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgLy8gIzI4OTNcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHJlbmRlcmluZyB0aGUgb3B0aW1pemVkIHNsb3RzIGJ5IG1hbnVhbGx5IHdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZGVsZXRlIHRoZSBgc2xvdHMuX2AgZmxhZyBpZiBuZWNlc3NhcnkgdG8gbWFrZSBzdWJzZXF1ZW50IHVwZGF0ZXMgcmVsaWFibGUsXG4gICAgICAgICAgICAgICAgLy8gaS5lLiBsZXQgdGhlIGByZW5kZXJTbG90YCBjcmVhdGUgdGhlIGJhaWxlZCBGcmFnbWVudFxuICAgICAgICAgICAgICAgIGlmICghb3B0aW1pemVkICYmIHR5cGUgPT09IDEgLyogU2xvdEZsYWdzLlNUQUJMRSAqLykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2xvdHMuXztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9ICFjaGlsZHJlbi4kc3RhYmxlO1xuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzLCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIC8vIG5vbiBzbG90IG9iamVjdCBjaGlsZHJlbiAoZGlyZWN0IHZhbHVlKSBwYXNzZWQgdG8gYSBjb21wb25lbnRcbiAgICAgICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICAgICAgICBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSB7IGRlZmF1bHQ6IDEgfTtcbiAgICB9XG4gICAgLy8gZGVsZXRlIHN0YWxlIHNsb3RzXG4gICAgaWYgKG5lZWREZWxldGlvbkNoZWNrKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG4gICAgICAgICAgICBpZiAoIWlzSW50ZXJuYWxLZXkoa2V5KSAmJiAhKGtleSBpbiBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNsb3RzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBkZXYgb25seVxuZnVuY3Rpb24gaW5zdGFsbExlZ2FjeUNvbmZpZ1dhcm5pbmdzKGNvbmZpZykge1xuICAgIGNvbnN0IGxlZ2FjeUNvbmZpZ09wdGlvbnMgPSB7XG4gICAgICAgIHNpbGVudDogXCJDT05GSUdfU0lMRU5UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfU0lMRU5UICovLFxuICAgICAgICBkZXZ0b29sczogXCJDT05GSUdfREVWVE9PTFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19ERVZUT09MUyAqLyxcbiAgICAgICAgaWdub3JlZEVsZW1lbnRzOiBcIkNPTkZJR19JR05PUkVEX0VMRU1FTlRTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfSUdOT1JFRF9FTEVNRU5UUyAqLyxcbiAgICAgICAga2V5Q29kZXM6IFwiQ09ORklHX0tFWV9DT0RFU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX0tFWV9DT0RFUyAqLyxcbiAgICAgICAgcHJvZHVjdGlvblRpcDogXCJDT05GSUdfUFJPRFVDVElPTl9USVBcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19QUk9EVUNUSU9OX1RJUCAqL1xuICAgIH07XG4gICAgT2JqZWN0LmtleXMobGVnYWN5Q29uZmlnT3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBsZXQgdmFsID0gY29uZmlnW2tleV07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25maWcsIGtleSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldChuZXdWYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQ29weWluZ0NvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICB3YXJuRGVwcmVjYXRpb24obGVnYWN5Q29uZmlnT3B0aW9uc1trZXldLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsID0gbmV3VmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGluc3RhbGxMZWdhY3lPcHRpb25NZXJnZVN0cmF0cyhjb25maWcpIHtcbiAgICBjb25maWcub3B0aW9uTWVyZ2VTdHJhdGVnaWVzID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICAgICAgaWYgKGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5IGluIGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMgJiZcbiAgICAgICAgICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIkNPTkZJR19PUFRJT05fTUVSR0VfU1RSQVRTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfT1BUSU9OX01FUkdFX1NUUkFUUyAqLywgbnVsbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0c1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmxldCBpc0NvcHlpbmdDb25maWcgPSBmYWxzZTtcbi8vIGV4cG9ydGVkIG9ubHkgZm9yIHRlc3RcbmxldCBzaW5nbGV0b25BcHA7XG5sZXQgc2luZ2xldG9uQ3Rvcjtcbi8vIExlZ2FjeSBnbG9iYWwgVnVlIGNvbnN0cnVjdG9yXG5mdW5jdGlvbiBjcmVhdGVDb21wYXRWdWUoY3JlYXRlQXBwLCBjcmVhdGVTaW5nbGV0b25BcHApIHtcbiAgICBzaW5nbGV0b25BcHAgPSBjcmVhdGVTaW5nbGV0b25BcHAoe30pO1xuICAgIGNvbnN0IFZ1ZSA9IChzaW5nbGV0b25DdG9yID0gZnVuY3Rpb24gVnVlKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQ29tcGF0QXBwKG9wdGlvbnMsIFZ1ZSk7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcGF0QXBwKG9wdGlvbnMgPSB7fSwgQ3Rvcikge1xuICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiR0xPQkFMX01PVU5UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfTU9VTlQgKi8sIG51bGwpO1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChkYXRhICYmXG4gICAgICAgICAgICAhaXNGdW5jdGlvbihkYXRhKSAmJlxuICAgICAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJPUFRJT05TX0RBVEFfRk5cIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREFUQV9GTiAqLywgbnVsbCkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9ICgpID0+IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXBwID0gY3JlYXRlQXBwKG9wdGlvbnMpO1xuICAgICAgICBpZiAoQ3RvciAhPT0gVnVlKSB7XG4gICAgICAgICAgICBhcHBseVNpbmdsZXRvblByb3RvdHlwZShhcHAsIEN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZtID0gYXBwLl9jcmVhdGVSb290KG9wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucy5lbCkge1xuICAgICAgICAgICAgcmV0dXJuIHZtLiRtb3VudChvcHRpb25zLmVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2bTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBWdWUudmVyc2lvbiA9IGAyLjYuMTQtY29tcGF0OiR7XCIzLjIuNDVcIn1gO1xuICAgIFZ1ZS5jb25maWcgPSBzaW5nbGV0b25BcHAuY29uZmlnO1xuICAgIFZ1ZS51c2UgPSAocCwgLi4ub3B0aW9ucykgPT4ge1xuICAgICAgICBpZiAocCAmJiBpc0Z1bmN0aW9uKHAuaW5zdGFsbCkpIHtcbiAgICAgICAgICAgIHAuaW5zdGFsbChWdWUsIC4uLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocCkpIHtcbiAgICAgICAgICAgIHAoVnVlLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVnVlO1xuICAgIH07XG4gICAgVnVlLm1peGluID0gbSA9PiB7XG4gICAgICAgIHNpbmdsZXRvbkFwcC5taXhpbihtKTtcbiAgICAgICAgcmV0dXJuIFZ1ZTtcbiAgICB9O1xuICAgIFZ1ZS5jb21wb25lbnQgPSAoKG5hbWUsIGNvbXApID0+IHtcbiAgICAgICAgaWYgKGNvbXApIHtcbiAgICAgICAgICAgIHNpbmdsZXRvbkFwcC5jb21wb25lbnQobmFtZSwgY29tcCk7XG4gICAgICAgICAgICByZXR1cm4gVnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNpbmdsZXRvbkFwcC5jb21wb25lbnQobmFtZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBWdWUuZGlyZWN0aXZlID0gKChuYW1lLCBkaXIpID0+IHtcbiAgICAgICAgaWYgKGRpcikge1xuICAgICAgICAgICAgc2luZ2xldG9uQXBwLmRpcmVjdGl2ZShuYW1lLCBkaXIpO1xuICAgICAgICAgICAgcmV0dXJuIFZ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzaW5nbGV0b25BcHAuZGlyZWN0aXZlKG5hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgVnVlLm9wdGlvbnMgPSB7IF9iYXNlOiBWdWUgfTtcbiAgICBsZXQgY2lkID0gMTtcbiAgICBWdWUuY2lkID0gY2lkO1xuICAgIFZ1ZS5uZXh0VGljayA9IG5leHRUaWNrO1xuICAgIGNvbnN0IGV4dGVuZENhY2hlID0gbmV3IFdlYWtNYXAoKTtcbiAgICBmdW5jdGlvbiBleHRlbmRDdG9yKGV4dGVuZE9wdGlvbnMgPSB7fSkge1xuICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiR0xPQkFMX0VYVEVORFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX0VYVEVORCAqLywgbnVsbCk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGV4dGVuZE9wdGlvbnMpKSB7XG4gICAgICAgICAgICBleHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9ucy5vcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRlbmRDYWNoZS5oYXMoZXh0ZW5kT3B0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybiBleHRlbmRDYWNoZS5nZXQoZXh0ZW5kT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgU3VwZXIgPSB0aGlzO1xuICAgICAgICBmdW5jdGlvbiBTdWJWdWUoaW5saW5lT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKCFpbmxpbmVPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbXBhdEFwcChTdWJWdWUub3B0aW9ucywgU3ViVnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb21wYXRBcHAobWVyZ2VPcHRpb25zKGV4dGVuZCh7fSwgU3ViVnVlLm9wdGlvbnMpLCBpbmxpbmVPcHRpb25zLCBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzKSwgU3ViVnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBTdWJWdWUuc3VwZXIgPSBTdXBlcjtcbiAgICAgICAgU3ViVnVlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVnVlLnByb3RvdHlwZSk7XG4gICAgICAgIFN1YlZ1ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdWJWdWU7XG4gICAgICAgIC8vIGNsb25lIG5vbi1wcmltaXRpdmUgYmFzZSBvcHRpb24gdmFsdWVzIGZvciBlZGdlIGNhc2Ugb2YgbXV0YXRpbmdcbiAgICAgICAgLy8gZXh0ZW5kZWQgb3B0aW9uc1xuICAgICAgICBjb25zdCBtZXJnZUJhc2UgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gU3VwZXIub3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgc3VwZXJWYWx1ZSA9IFN1cGVyLm9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIG1lcmdlQmFzZVtrZXldID0gaXNBcnJheShzdXBlclZhbHVlKVxuICAgICAgICAgICAgICAgID8gc3VwZXJWYWx1ZS5zbGljZSgpXG4gICAgICAgICAgICAgICAgOiBpc09iamVjdChzdXBlclZhbHVlKVxuICAgICAgICAgICAgICAgICAgICA/IGV4dGVuZChPYmplY3QuY3JlYXRlKG51bGwpLCBzdXBlclZhbHVlKVxuICAgICAgICAgICAgICAgICAgICA6IHN1cGVyVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgU3ViVnVlLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnMobWVyZ2VCYXNlLCBleHRlbmRPcHRpb25zLCBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzKTtcbiAgICAgICAgU3ViVnVlLm9wdGlvbnMuX2Jhc2UgPSBTdWJWdWU7XG4gICAgICAgIFN1YlZ1ZS5leHRlbmQgPSBleHRlbmRDdG9yLmJpbmQoU3ViVnVlKTtcbiAgICAgICAgU3ViVnVlLm1peGluID0gU3VwZXIubWl4aW47XG4gICAgICAgIFN1YlZ1ZS51c2UgPSBTdXBlci51c2U7XG4gICAgICAgIFN1YlZ1ZS5jaWQgPSArK2NpZDtcbiAgICAgICAgZXh0ZW5kQ2FjaGUuc2V0KGV4dGVuZE9wdGlvbnMsIFN1YlZ1ZSk7XG4gICAgICAgIHJldHVybiBTdWJWdWU7XG4gICAgfVxuICAgIFZ1ZS5leHRlbmQgPSBleHRlbmRDdG9yLmJpbmQoVnVlKTtcbiAgICBWdWUuc2V0ID0gKHRhcmdldCwga2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiR0xPQkFMX1NFVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX1NFVCAqLywgbnVsbCk7XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgICBWdWUuZGVsZXRlID0gKHRhcmdldCwga2V5KSA9PiB7XG4gICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJHTE9CQUxfREVMRVRFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfREVMRVRFICovLCBudWxsKTtcbiAgICAgICAgZGVsZXRlIHRhcmdldFtrZXldO1xuICAgIH07XG4gICAgVnVlLm9ic2VydmFibGUgPSAodGFyZ2V0KSA9PiB7XG4gICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJHTE9CQUxfT0JTRVJWQUJMRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX09CU0VSVkFCTEUgKi8sIG51bGwpO1xuICAgICAgICByZXR1cm4gcmVhY3RpdmUodGFyZ2V0KTtcbiAgICB9O1xuICAgIFZ1ZS5maWx0ZXIgPSAoKG5hbWUsIGZpbHRlcikgPT4ge1xuICAgICAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAgICAgICBzaW5nbGV0b25BcHAuZmlsdGVyKG5hbWUsIGZpbHRlcik7XG4gICAgICAgICAgICByZXR1cm4gVnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNpbmdsZXRvbkFwcC5maWx0ZXIobmFtZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBpbnRlcm5hbCB1dGlscyAtIHRoZXNlIGFyZSB0ZWNobmljYWxseSBpbnRlcm5hbCBidXQgc29tZSBwbHVnaW5zIHVzZSBpdC5cbiAgICBjb25zdCB1dGlsID0ge1xuICAgICAgICB3YXJuOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyB3YXJuJDEgOiBOT09QLFxuICAgICAgICBleHRlbmQsXG4gICAgICAgIG1lcmdlT3B0aW9uczogKHBhcmVudCwgY2hpbGQsIHZtKSA9PiBtZXJnZU9wdGlvbnMocGFyZW50LCBjaGlsZCwgdm0gPyB1bmRlZmluZWQgOiBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzKSxcbiAgICAgICAgZGVmaW5lUmVhY3RpdmVcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUsICd1dGlsJywge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiR0xPQkFMX1BSSVZBVEVfVVRJTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX1BSSVZBVEVfVVRJTCAqLywgbnVsbCk7XG4gICAgICAgICAgICByZXR1cm4gdXRpbDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFZ1ZS5jb25maWd1cmVDb21wYXQgPSBjb25maWd1cmVDb21wYXQ7XG4gICAgcmV0dXJuIFZ1ZTtcbn1cbmZ1bmN0aW9uIGluc3RhbGxBcHBDb21wYXRQcm9wZXJ0aWVzKGFwcCwgY29udGV4dCwgcmVuZGVyKSB7XG4gICAgaW5zdGFsbEZpbHRlck1ldGhvZChhcHAsIGNvbnRleHQpO1xuICAgIGluc3RhbGxMZWdhY3lPcHRpb25NZXJnZVN0cmF0cyhhcHAuY29uZmlnKTtcbiAgICBpZiAoIXNpbmdsZXRvbkFwcCkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBjYWxsIG9mIGNyZWF0aW5nIHRoZSBzaW5nbGV0b24gaXRzZWxmIHNvIHRoZSByZXN0IGlzXG4gICAgICAgIC8vIHVubmVjZXNzYXJ5XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zdGFsbENvbXBhdE1vdW50KGFwcCwgY29udGV4dCwgcmVuZGVyKTtcbiAgICBpbnN0YWxsTGVnYWN5QVBJcyhhcHApO1xuICAgIGFwcGx5U2luZ2xldG9uQXBwTXV0YXRpb25zKGFwcCk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcbiAgICAgICAgaW5zdGFsbExlZ2FjeUNvbmZpZ1dhcm5pbmdzKGFwcC5jb25maWcpO1xufVxuZnVuY3Rpb24gaW5zdGFsbEZpbHRlck1ldGhvZChhcHAsIGNvbnRleHQpIHtcbiAgICBjb250ZXh0LmZpbHRlcnMgPSB7fTtcbiAgICBhcHAuZmlsdGVyID0gKG5hbWUsIGZpbHRlcikgPT4ge1xuICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiRklMVEVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuRklMVEVSUyAqLywgbnVsbCk7XG4gICAgICAgIGlmICghZmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5maWx0ZXJzW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5maWx0ZXJzW25hbWVdKSB7XG4gICAgICAgICAgICB3YXJuJDEoYEZpbHRlciBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5maWx0ZXJzW25hbWVdID0gZmlsdGVyO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgIH07XG59XG5mdW5jdGlvbiBpbnN0YWxsTGVnYWN5QVBJcyhhcHApIHtcbiAgICAvLyBleHBvc2UgZ2xvYmFsIEFQSSBvbiBhcHAgaW5zdGFuY2UgZm9yIGxlZ2FjeSBwbHVnaW5zXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYXBwLCB7XG4gICAgICAgIC8vIHNvIHRoYXQgYXBwLnVzZSgpIGNhbiB3b3JrIHdpdGggbGVnYWN5IHBsdWdpbnMgdGhhdCBleHRlbmQgcHJvdG90eXBlc1xuICAgICAgICBwcm90b3R5cGU6IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkRlcHJlY2F0aW9uKFwiR0xPQkFMX1BST1RPVFlQRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX1BST1RPVFlQRSAqLywgbnVsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbmV4dFRpY2s6IHsgdmFsdWU6IG5leHRUaWNrIH0sXG4gICAgICAgIGV4dGVuZDogeyB2YWx1ZTogc2luZ2xldG9uQ3Rvci5leHRlbmQgfSxcbiAgICAgICAgc2V0OiB7IHZhbHVlOiBzaW5nbGV0b25DdG9yLnNldCB9LFxuICAgICAgICBkZWxldGU6IHsgdmFsdWU6IHNpbmdsZXRvbkN0b3IuZGVsZXRlIH0sXG4gICAgICAgIG9ic2VydmFibGU6IHsgdmFsdWU6IHNpbmdsZXRvbkN0b3Iub2JzZXJ2YWJsZSB9LFxuICAgICAgICB1dGlsOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpbmdsZXRvbkN0b3IudXRpbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gYXBwbHlTaW5nbGV0b25BcHBNdXRhdGlvbnMoYXBwKSB7XG4gICAgLy8gY29weSBvdmVyIGFzc2V0IHJlZ2lzdHJpZXMgYW5kIGRlb3B0IGZsYWdcbiAgICBhcHAuX2NvbnRleHQubWl4aW5zID0gWy4uLnNpbmdsZXRvbkFwcC5fY29udGV4dC5taXhpbnNdO1xuICAgIFsnY29tcG9uZW50cycsICdkaXJlY3RpdmVzJywgJ2ZpbHRlcnMnXS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXBwLl9jb250ZXh0W2tleV0gPSBPYmplY3QuY3JlYXRlKHNpbmdsZXRvbkFwcC5fY29udGV4dFtrZXldKTtcbiAgICB9KTtcbiAgICAvLyBjb3B5IG92ZXIgZ2xvYmFsIGNvbmZpZyBtdXRhdGlvbnNcbiAgICBpc0NvcHlpbmdDb25maWcgPSB0cnVlO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNpbmdsZXRvbkFwcC5jb25maWcpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2lzTmF0aXZlVGFnJylcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoaXNSdW50aW1lT25seSgpICYmXG4gICAgICAgICAgICAoa2V5ID09PSAnaXNDdXN0b21FbGVtZW50JyB8fCBrZXkgPT09ICdjb21waWxlck9wdGlvbnMnKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsID0gc2luZ2xldG9uQXBwLmNvbmZpZ1trZXldO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGFwcC5jb25maWdba2V5XSA9IGlzT2JqZWN0KHZhbCkgPyBPYmplY3QuY3JlYXRlKHZhbCkgOiB2YWw7XG4gICAgICAgIC8vIGNvbXBhdCBmb3IgcnVudGltZSBpZ25vcmVkRWxlbWVudHMgLT4gaXNDdXN0b21FbGVtZW50XG4gICAgICAgIGlmIChrZXkgPT09ICdpZ25vcmVkRWxlbWVudHMnICYmXG4gICAgICAgICAgICBpc0NvbXBhdEVuYWJsZWQoXCJDT05GSUdfSUdOT1JFRF9FTEVNRU5UU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX0lHTk9SRURfRUxFTUVOVFMgKi8sIG51bGwpICYmXG4gICAgICAgICAgICAhaXNSdW50aW1lT25seSgpICYmXG4gICAgICAgICAgICBpc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgIGFwcC5jb25maWcuY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudCA9IHRhZyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbC5zb21lKHYgPT4gKGlzU3RyaW5nKHYpID8gdiA9PT0gdGFnIDogdi50ZXN0KHRhZykpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNDb3B5aW5nQ29uZmlnID0gZmFsc2U7XG4gICAgYXBwbHlTaW5nbGV0b25Qcm90b3R5cGUoYXBwLCBzaW5nbGV0b25DdG9yKTtcbn1cbmZ1bmN0aW9uIGFwcGx5U2luZ2xldG9uUHJvdG90eXBlKGFwcCwgQ3Rvcikge1xuICAgIC8vIGNvcHkgcHJvdG90eXBlIGF1Z21lbnRhdGlvbnMgYXMgY29uZmlnLmdsb2JhbFByb3BlcnRpZXNcbiAgICBjb25zdCBlbmFibGVkID0gaXNDb21wYXRFbmFibGVkKFwiR0xPQkFMX1BST1RPVFlQRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX1BST1RPVFlQRSAqLywgbnVsbCk7XG4gICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzID0gT2JqZWN0LmNyZWF0ZShDdG9yLnByb3RvdHlwZSk7XG4gICAgfVxuICAgIGxldCBoYXNQcm90b3R5cGVBdWdtZW50YXRpb25zID0gZmFsc2U7XG4gICAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhDdG9yLnByb3RvdHlwZSk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGVzY3JpcHRvcnMpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgICAgaGFzUHJvdG90eXBlQXVnbWVudGF0aW9ucyA9IHRydWU7XG4gICAgICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGtleSwgZGVzY3JpcHRvcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBoYXNQcm90b3R5cGVBdWdtZW50YXRpb25zKSB7XG4gICAgICAgIHdhcm5EZXByZWNhdGlvbihcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUk9UT1RZUEUgKi8sIG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluc3RhbGxDb21wYXRNb3VudChhcHAsIGNvbnRleHQsIHJlbmRlcikge1xuICAgIGxldCBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBWdWUgMiBzdXBwb3J0cyB0aGUgYmVoYXZpb3Igb2YgY3JlYXRpbmcgYSBjb21wb25lbnQgaW5zdGFuY2UgYnV0IG5vdFxuICAgICAqIG1vdW50aW5nIGl0LCB3aGljaCBpcyBubyBsb25nZXIgcG9zc2libGUgaW4gVnVlIDMgLSB0aGlzIGludGVybmFsXG4gICAgICogZnVuY3Rpb24gc2ltdWxhdGVzIHRoYXQgYmVoYXZpb3IuXG4gICAgICovXG4gICAgYXBwLl9jcmVhdGVSb290ID0gb3B0aW9ucyA9PiB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGFwcC5fY29tcG9uZW50O1xuICAgICAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wc0RhdGEgfHwgbnVsbCk7XG4gICAgICAgIHZub2RlLmFwcENvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBoYXNOb1JlbmRlciA9ICFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZTtcbiAgICAgICAgY29uc3QgZW1wdHlSZW5kZXIgPSAoKSA9PiB7IH07XG4gICAgICAgIC8vIGNyZWF0ZSByb290IGluc3RhbmNlXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2Uodm5vZGUsIG51bGwsIG51bGwpO1xuICAgICAgICAvLyBzdXBwcmVzcyBcIm1pc3NpbmcgcmVuZGVyIGZuXCIgd2FybmluZyBzaW5jZSBpdCBjYW4ndCBiZSBkZXRlcm1pbmVkXG4gICAgICAgIC8vIHVudGlsICRtb3VudCBpcyBjYWxsZWRcbiAgICAgICAgaWYgKGhhc05vUmVuZGVyKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBlbXB0eVJlbmRlcjtcbiAgICAgICAgfVxuICAgICAgICBzZXR1cENvbXBvbmVudChpbnN0YW5jZSk7XG4gICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGluc3RhbmNlO1xuICAgICAgICB2bm9kZS5pc0NvbXBhdFJvb3QgPSB0cnVlO1xuICAgICAgICAvLyAkbW91bnQgJiAkZGVzdHJveVxuICAgICAgICAvLyB0aGVzZSBhcmUgZGVmaW5lZCBvbiBjdHggYW5kIHBpY2tlZCB1cCBieSB0aGUgJG1vdW50LyRkZXN0cm95XG4gICAgICAgIC8vIHB1YmxpYyBwcm9wZXJ0eSBnZXR0ZXJzIG9uIHRoZSBpbnN0YW5jZSBwcm94eS5cbiAgICAgICAgLy8gTm90ZTogdGhlIGZvbGxvd2luZyBhc3N1bWVzIERPTSBlbnZpcm9ubWVudCBzaW5jZSB0aGUgY29tcGF0IGJ1aWxkXG4gICAgICAgIC8vIG9ubHkgdGFyZ2V0cyB3ZWIuIEl0IGVzc2VudGlhbGx5IGluY2x1ZGVzIGxvZ2ljIGZvciBhcHAubW91bnQgZnJvbVxuICAgICAgICAvLyBib3RoIHJ1bnRpbWUtY29yZSBBTkQgcnVudGltZS1kb20uXG4gICAgICAgIGluc3RhbmNlLmN0eC5fY29tcGF0X21vdW50ID0gKHNlbGVjdG9yT3JFbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYFJvb3QgaW5zdGFuY2UgaXMgYWxyZWFkeSBtb3VudGVkLmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjb250YWluZXI7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yT3JFbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yT3JFbCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEZhaWxlZCB0byBtb3VudCByb290IGluc3RhbmNlOiBzZWxlY3RvciBcIiR7c2VsZWN0b3JPckVsfVwiIHJldHVybmVkIG51bGwuYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gc2VsZWN0b3JPckVsIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNTVkcgPSBjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xuICAgICAgICAgICAgLy8gSE1SIHJvb3QgcmVsb2FkXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZWxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb21wYXQgbW9kZSB3aWxsIHVzZSBpbnN0YW5jZSBpZiBub3QgcmVzZXQgdG8gbnVsbFxuICAgICAgICAgICAgICAgICAgICBjbG9uZWQuY29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyKGNsb25lZCwgY29udGFpbmVyLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlc29sdmUgaW4tRE9NIHRlbXBsYXRlIGlmIGNvbXBvbmVudCBkaWQgbm90IHByb3ZpZGUgcmVuZGVyXG4gICAgICAgICAgICAvLyBhbmQgbm8gc2V0dXAvbWl4aW4gcmVuZGVyIGZ1bmN0aW9ucyBhcmUgcHJvdmlkZWQgKGJ5IGNoZWNraW5nXG4gICAgICAgICAgICAvLyB0aGF0IHRoZSBpbnN0YW5jZSBpcyBzdGlsbCB1c2luZyB0aGUgcGxhY2Vob2xkZXIgcmVuZGVyIGZuKVxuICAgICAgICAgICAgaWYgKGhhc05vUmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gZW1wdHlSZW5kZXIpIHtcbiAgICAgICAgICAgICAgICAvLyByb290IGRpcmVjdGl2ZXMgY2hlY2tcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGFpbmVyLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBjb250YWluZXIuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyLm5hbWUgIT09ICd2LWNsb2FrJyAmJiAvXih2LXw6fEApLy50ZXN0KGF0dHIubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuRGVwcmVjYXRpb24oXCJHTE9CQUxfTU9VTlRfQ09OVEFJTkVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfTU9VTlRfQ09OVEFJTkVSICovLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGZhbHNlLCB0cnVlIC8qIHNraXAgb3B0aW9ucyAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjbGVhciBjb250ZW50IGJlZm9yZSBtb3VudGluZ1xuICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgLy8gVE9ETyBoeWRyYXRpb25cbiAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgY29udGFpbmVyLCBpc1NWRyk7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ3YtY2xvYWsnKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXYtYXBwJywgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGFwcC5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICAgICAgY29udGFpbmVyLl9fdnVlX2FwcF9fID0gYXBwO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5wcm94eTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5zdGFuY2UuY3R4Ll9jb21wYXRfZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICByZW5kZXIobnVsbCwgYXBwLl9jb250YWluZXIpO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgICAgIGRldnRvb2xzVW5tb3VudEFwcChhcHApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgYXBwLl9jb250YWluZXIuX192dWVfYXBwX187XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGJ1bSwgc2NvcGUsIHVtIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmVEZXN0cm95IGhvb2tzXG4gICAgICAgICAgICAgICAgaWYgKGJ1bSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhidW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZW1pdCgnaG9vazpiZWZvcmVEZXN0cm95Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHN0b3AgZWZmZWN0c1xuICAgICAgICAgICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHVubW91bnRlZCBob29rXG4gICAgICAgICAgICAgICAgaWYgKHVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKHVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmVtaXQoJ2hvb2s6ZGVzdHJveWVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG4gICAgfTtcbn1cbmNvbnN0IG1ldGhvZHNUb1BhdGNoID0gW1xuICAgICdwdXNoJyxcbiAgICAncG9wJyxcbiAgICAnc2hpZnQnLFxuICAgICd1bnNoaWZ0JyxcbiAgICAnc3BsaWNlJyxcbiAgICAnc29ydCcsXG4gICAgJ3JldmVyc2UnXG5dO1xuY29uc3QgcGF0Y2hlZCA9IG5ldyBXZWFrU2V0KCk7XG5mdW5jdGlvbiBkZWZpbmVSZWFjdGl2ZShvYmosIGtleSwgdmFsKSB7XG4gICAgLy8gaXQncyBwb3NzaWJsZSBmb3IgdGhlIG9yaWdpbmFsIG9iamVjdCB0byBiZSBtdXRhdGVkIGFmdGVyIGJlaW5nIGRlZmluZWRcbiAgICAvLyBhbmQgZXhwZWN0aW5nIHJlYWN0aXZpdHkuLi4gd2UgYXJlIGNvdmVyaW5nIGl0IGhlcmUgYmVjYXVzZSB0aGlzIHNlZW1zIHRvXG4gICAgLy8gYmUgYSBiaXQgbW9yZSBjb21tb24uXG4gICAgaWYgKGlzT2JqZWN0KHZhbCkgJiYgIWlzUmVhY3RpdmUodmFsKSAmJiAhcGF0Y2hlZC5oYXModmFsKSkge1xuICAgICAgICBjb25zdCByZWFjdGl2ZVZhbCA9IHJlYWN0aXZlKHZhbCk7XG4gICAgICAgIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgIG1ldGhvZHNUb1BhdGNoLmZvckVhY2gobSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHZhbFttXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlW21dLmNhbGwocmVhY3RpdmVWYWwsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluZVJlYWN0aXZlU2ltcGxlKHZhbCwga2V5LCB2YWxba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGkgPSBvYmouJDtcbiAgICBpZiAoaSAmJiBvYmogPT09IGkucHJveHkpIHtcbiAgICAgICAgLy8gdGFyZ2V0IGlzIGEgVnVlIGluc3RhbmNlIC0gZGVmaW5lIG9uIGluc3RhbmNlLmN0eFxuICAgICAgICBkZWZpbmVSZWFjdGl2ZVNpbXBsZShpLmN0eCwga2V5LCB2YWwpO1xuICAgICAgICBpLmFjY2Vzc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShvYmopKSB7XG4gICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGVmaW5lUmVhY3RpdmVTaW1wbGUob2JqLCBrZXksIHZhbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVmaW5lUmVhY3RpdmVTaW1wbGUob2JqLCBrZXksIHZhbCkge1xuICAgIHZhbCA9IGlzT2JqZWN0KHZhbCkgPyByZWFjdGl2ZSh2YWwpIDogdmFsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIHRyYWNrKG9iaiwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCBrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KG5ld1ZhbCkge1xuICAgICAgICAgICAgdmFsID0gaXNPYmplY3QobmV3VmFsKSA/IHJlYWN0aXZlKG5ld1ZhbCkgOiBuZXdWYWw7XG4gICAgICAgICAgICB0cmlnZ2VyKG9iaiwgXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8sIGtleSwgbmV3VmFsKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBcHBDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFwcDogbnVsbCxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICBpc05hdGl2ZVRhZzogTk8sXG4gICAgICAgICAgICBwZXJmb3JtYW5jZTogZmFsc2UsXG4gICAgICAgICAgICBnbG9iYWxQcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgICAgIG9wdGlvbk1lcmdlU3RyYXRlZ2llczoge30sXG4gICAgICAgICAgICBlcnJvckhhbmRsZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHdhcm5IYW5kbGVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb21waWxlck9wdGlvbnM6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIG1peGluczogW10sXG4gICAgICAgIGNvbXBvbmVudHM6IHt9LFxuICAgICAgICBkaXJlY3RpdmVzOiB7fSxcbiAgICAgICAgcHJvdmlkZXM6IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgIG9wdGlvbnNDYWNoZTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgcHJvcHNDYWNoZTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgZW1pdHNDYWNoZTogbmV3IFdlYWtNYXAoKVxuICAgIH07XG59XG5sZXQgdWlkID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXBwKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyA9IG51bGwpIHtcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKHJvb3RDb21wb25lbnQpKSB7XG4gICAgICAgICAgICByb290Q29tcG9uZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgcm9vdENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvb3RQcm9wcyAhPSBudWxsICYmICFpc09iamVjdChyb290UHJvcHMpKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGByb290IHByb3BzIHBhc3NlZCB0byBhcHAubW91bnQoKSBtdXN0IGJlIGFuIG9iamVjdC5gKTtcbiAgICAgICAgICAgIHJvb3RQcm9wcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgaW5zdGFsbGVkUGx1Z2lucyA9IG5ldyBTZXQoKTtcbiAgICAgICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBhcHAgPSAoY29udGV4dC5hcHAgPSB7XG4gICAgICAgICAgICBfdWlkOiB1aWQrKyxcbiAgICAgICAgICAgIF9jb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXG4gICAgICAgICAgICBfcHJvcHM6IHJvb3RQcm9wcyxcbiAgICAgICAgICAgIF9jb250YWluZXI6IG51bGwsXG4gICAgICAgICAgICBfY29udGV4dDogY29udGV4dCxcbiAgICAgICAgICAgIF9pbnN0YW5jZTogbnVsbCxcbiAgICAgICAgICAgIHZlcnNpb24sXG4gICAgICAgICAgICBnZXQgY29uZmlnKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbmZpZztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY29uZmlnKHYpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgYXBwLmNvbmZpZyBjYW5ub3QgYmUgcmVwbGFjZWQuIE1vZGlmeSBpbmRpdmlkdWFsIG9wdGlvbnMgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXNlKHBsdWdpbiwgLi4ub3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmhhcyhwbHVnaW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYFBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGx1Z2luICYmIGlzRnVuY3Rpb24ocGx1Z2luLmluc3RhbGwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocGx1Z2luKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4oYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBmdW5jdGlvbi5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtaXhpbihtaXhpbikge1xuICAgICAgICAgICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dC5taXhpbnMuaW5jbHVkZXMobWl4aW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1peGlucy5wdXNoKG1peGluKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMSgnTWl4aW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWl4aW4ubmFtZSA/IGA6ICR7bWl4aW4ubmFtZX1gIDogJycpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKCdNaXhpbnMgYXJlIG9ubHkgYXZhaWxhYmxlIGluIGJ1aWxkcyBzdXBwb3J0aW5nIE9wdGlvbnMgQVBJJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbnRleHQuY29uZmlnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBEaXJlY3RpdmUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vdW50KHJvb3RDb250YWluZXIsIGlzSHlkcmF0ZSwgaXNTVkcpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAjNTU3MVxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHJvb3RDb250YWluZXIuX192dWVfYXBwX18pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgVGhlcmUgaXMgYWxyZWFkeSBhbiBhcHAgaW5zdGFuY2UgbW91bnRlZCBvbiB0aGUgaG9zdCBjb250YWluZXIuXFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCBJZiB5b3Ugd2FudCB0byBtb3VudCBhbm90aGVyIGFwcCBvbiB0aGUgc2FtZSBob3N0IGNvbnRhaW5lcixgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgIHlvdSBuZWVkIHRvIHVubW91bnQgdGhlIHByZXZpb3VzIGFwcCBieSBjYWxsaW5nIFxcYGFwcC51bm1vdW50KClcXGAgZmlyc3QuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShyb290Q29tcG9uZW50LCByb290UHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBhcHAgY29udGV4dCBvbiB0aGUgcm9vdCBWTm9kZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGJlIHNldCBvbiB0aGUgcm9vdCBpbnN0YW5jZSBvbiBpbml0aWFsIG1vdW50LlxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgLy8gSE1SIHJvb3QgcmVsb2FkXG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcihjbG9uZVZOb2RlKHZub2RlKSwgcm9vdENvbnRhaW5lciwgaXNTVkcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIeWRyYXRlICYmIGh5ZHJhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGUodm5vZGUsIHJvb3RDb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyKHZub2RlLCByb290Q29udGFpbmVyLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXBwLl9jb250YWluZXIgPSByb290Q29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgICByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fID0gYXBwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRFeHBvc2VQcm94eSh2bm9kZS5jb21wb25lbnQpIHx8IHZub2RlLmNvbXBvbmVudC5wcm94eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQXBwIGhhcyBhbHJlYWR5IGJlZW4gbW91bnRlZC5cXG5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJZiB5b3Ugd2FudCB0byByZW1vdW50IHRoZSBzYW1lIGFwcCwgbW92ZSB5b3VyIGFwcCBjcmVhdGlvbiBsb2dpYyBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbiBhbmQgY3JlYXRlIGZyZXNoIGFwcCBpbnN0YW5jZXMgZm9yIGVhY2ggYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgbW91bnQgLSBlLmcuIFxcYGNvbnN0IGNyZWF0ZU15QXBwID0gKCkgPT4gY3JlYXRlQXBwKEFwcClcXGBgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcihudWxsLCBhcHAuX2NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldnRvb2xzVW5tb3VudEFwcChhcHApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhcHAuX2NvbnRhaW5lci5fX3Z1ZV9hcHBfXztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQ2Fubm90IHVubW91bnQgYW4gYXBwIHRoYXQgaXMgbm90IG1vdW50ZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5IGluIGNvbnRleHQucHJvdmlkZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYEl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAge1xuICAgICAgICAgICAgaW5zdGFsbEFwcENvbXBhdFByb3BlcnRpZXMoYXBwLCBjb250ZXh0LCByZW5kZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBmb3IgaGFuZGxpbmcgYSB0ZW1wbGF0ZSByZWZcbiAqL1xuZnVuY3Rpb24gc2V0UmVmKHJhd1JlZiwgb2xkUmF3UmVmLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIGlzVW5tb3VudCA9IGZhbHNlKSB7XG4gICAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xuICAgICAgICByYXdSZWYuZm9yRWFjaCgociwgaSkgPT4gc2V0UmVmKHIsIG9sZFJhd1JlZiAmJiAoaXNBcnJheShvbGRSYXdSZWYpID8gb2xkUmF3UmVmW2ldIDogb2xkUmF3UmVmKSwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCBpc1VubW91bnQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNBc3luY1dyYXBwZXIodm5vZGUpICYmICFpc1VubW91bnQpIHtcbiAgICAgICAgLy8gd2hlbiBtb3VudGluZyBhc3luYyBjb21wb25lbnRzLCBub3RoaW5nIG5lZWRzIHRvIGJlIGRvbmUsXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIHRlbXBsYXRlIHJlZiBpcyBmb3J3YXJkZWQgdG8gaW5uZXIgY29tcG9uZW50XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVmVmFsdWUgPSB2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovXG4gICAgICAgID8gZ2V0RXhwb3NlUHJveHkodm5vZGUuY29tcG9uZW50KSB8fCB2bm9kZS5jb21wb25lbnQucHJveHlcbiAgICAgICAgOiB2bm9kZS5lbDtcbiAgICBjb25zdCB2YWx1ZSA9IGlzVW5tb3VudCA/IG51bGwgOiByZWZWYWx1ZTtcbiAgICBjb25zdCB7IGk6IG93bmVyLCByOiByZWYgfSA9IHJhd1JlZjtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFvd25lcikge1xuICAgICAgICB3YXJuJDEoYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gYCArXG4gICAgICAgICAgICBgQSB2bm9kZSB3aXRoIHJlZiBtdXN0IGJlIGNyZWF0ZWQgaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24uYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb2xkUmVmID0gb2xkUmF3UmVmICYmIG9sZFJhd1JlZi5yO1xuICAgIGNvbnN0IHJlZnMgPSBvd25lci5yZWZzID09PSBFTVBUWV9PQkogPyAob3duZXIucmVmcyA9IHt9KSA6IG93bmVyLnJlZnM7XG4gICAgY29uc3Qgc2V0dXBTdGF0ZSA9IG93bmVyLnNldHVwU3RhdGU7XG4gICAgLy8gZHluYW1pYyByZWYgY2hhbmdlZC4gdW5zZXQgb2xkIHJlZlxuICAgIGlmIChvbGRSZWYgIT0gbnVsbCAmJiBvbGRSZWYgIT09IHJlZikge1xuICAgICAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xuICAgICAgICAgICAgcmVmc1tvbGRSZWZdID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgb2xkUmVmKSkge1xuICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xuICAgICAgICAgICAgb2xkUmVmLnZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihyZWYpKSB7XG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIG93bmVyLCAxMiAvKiBFcnJvckNvZGVzLkZVTkNUSU9OX1JFRiAqLywgW3ZhbHVlLCByZWZzXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBfaXNTdHJpbmcgPSBpc1N0cmluZyhyZWYpO1xuICAgICAgICBjb25zdCBfaXNSZWYgPSBpc1JlZihyZWYpO1xuICAgICAgICBpZiAoX2lzU3RyaW5nIHx8IF9pc1JlZikge1xuICAgICAgICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJhd1JlZi5mKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gX2lzU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGhhc093bihzZXR1cFN0YXRlLCByZWYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXR1cFN0YXRlW3JlZl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlZnNbcmVmXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZWYudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1VubW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQXJyYXkoZXhpc3RpbmcpICYmIHJlbW92ZShleGlzdGluZywgcmVmVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KGV4aXN0aW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaXNTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmc1tyZWZdID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093bihzZXR1cFN0YXRlLCByZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSByZWZzW3JlZl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZi52YWx1ZSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYXdSZWYuaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnNbcmF3UmVmLmtdID0gcmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFleGlzdGluZy5pbmNsdWRlcyhyZWZWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5wdXNoKHJlZlZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChfaXNTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmc1tyZWZdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX2lzUmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmspXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZzW3Jhd1JlZi5rXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKCdJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOicsIHJlZiwgYCgke3R5cGVvZiByZWZ9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkb1NldC5pZCA9IC0xO1xuICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkb1NldCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9TZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4kMSgnSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTonLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubGV0IGhhc01pc21hdGNoID0gZmFsc2U7XG5jb25zdCBpc1NWR0NvbnRhaW5lciA9IChjb250YWluZXIpID0+IC9zdmcvLnRlc3QoY29udGFpbmVyLm5hbWVzcGFjZVVSSSkgJiYgY29udGFpbmVyLnRhZ05hbWUgIT09ICdmb3JlaWduT2JqZWN0JztcbmNvbnN0IGlzQ29tbWVudCA9IChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4IC8qIERPTU5vZGVUeXBlcy5DT01NRU5UICovO1xuLy8gTm90ZTogaHlkcmF0aW9uIGlzIERPTS1zcGVjaWZpY1xuLy8gQnV0IHdlIGhhdmUgdG8gcGxhY2UgaXQgaW4gY29yZSBkdWUgdG8gdGlnaHQgY291cGxpbmcgd2l0aCBjb3JlIC0gc3BsaXR0aW5nXG4vLyBpdCBvdXQgY3JlYXRlcyBhIHRvbiBvZiB1bm5lY2Vzc2FyeSBjb21wbGV4aXR5LlxuLy8gSHlkcmF0aW9uIGFsc28gZGVwZW5kcyBvbiBzb21lIHJlbmRlcmVyIGludGVybmFsIGxvZ2ljIHdoaWNoIG5lZWRzIHRvIGJlXG4vLyBwYXNzZWQgaW4gdmlhIGFyZ3VtZW50cy5cbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyhyZW5kZXJlckludGVybmFscykge1xuICAgIGNvbnN0IHsgbXQ6IG1vdW50Q29tcG9uZW50LCBwOiBwYXRjaCwgbzogeyBwYXRjaFByb3AsIGNyZWF0ZVRleHQsIG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCByZW1vdmUsIGluc2VydCwgY3JlYXRlQ29tbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcbiAgICBjb25zdCBoeWRyYXRlID0gKHZub2RlLCBjb250YWluZXIpID0+IHtcbiAgICAgICAgaWYgKCFjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEF0dGVtcHRpbmcgdG8gaHlkcmF0ZSBleGlzdGluZyBtYXJrdXAgYnV0IGNvbnRhaW5lciBpcyBlbXB0eS4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBQZXJmb3JtaW5nIGZ1bGwgbW91bnQgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIpO1xuICAgICAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoYXNNaXNtYXRjaCA9IGZhbHNlO1xuICAgICAgICBoeWRyYXRlTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCwgdm5vZGUsIG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgICAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgICAgIGlmIChoYXNNaXNtYXRjaCAmJiAhZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgZXJyb3Igc2hvdWxkIHNob3cgdXAgaW4gcHJvZHVjdGlvblxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSHlkcmF0aW9uIGNvbXBsZXRlZCBidXQgY29udGFpbnMgbWlzbWF0Y2hlcy5gKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgaXNGcmFnbWVudFN0YXJ0ID0gaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gJ1snO1xuICAgICAgICBjb25zdCBvbk1pc21hdGNoID0gKCkgPT4gaGFuZGxlTWlzbWF0Y2gobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgaXNGcmFnbWVudFN0YXJ0KTtcbiAgICAgICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZywgcGF0Y2hGbGFnIH0gPSB2bm9kZTtcbiAgICAgICAgbGV0IGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgICAgICB2bm9kZS5lbCA9IG5vZGU7XG4gICAgICAgIGlmIChwYXRjaEZsYWcgPT09IC0yIC8qIFBhdGNoRmxhZ3MuQkFJTCAqLykge1xuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUZXh0OlxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSAzIC8qIERPTU5vZGVUeXBlcy5URVhUICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICM1NzI4IGVtcHR5IHRleHQgbm9kZSBpbnNpZGUgYSBzbG90IGNhbiBjYXVzZSBoeWRyYXRpb24gZmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHRoZSBzZXJ2ZXIgcmVuZGVyZWQgSFRNTCB3b24ndCBjb250YWluIGEgdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgICAgIGlmICh2bm9kZS5jaGlsZHJlbiA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydCgodm5vZGUuZWwgPSBjcmVhdGVUZXh0KCcnKSksIHBhcmVudE5vZGUobm9kZSksIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgIT09IHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEh5ZHJhdGlvbiB0ZXh0IG1pc21hdGNoOmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXFxuLSBDbGllbnQ6ICR7SlNPTi5zdHJpbmdpZnkobm9kZS5kYXRhKX1gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbi0gU2VydmVyOiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4IC8qIERPTU5vZGVUeXBlcy5DT01NRU5UICovIHx8IGlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgICAgICAgICAgaWYgKGlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbnRpcmUgdGVtcGxhdGUgaXMgc3RhdGljIGJ1dCBTU1JlZCBhcyBhIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb21UeXBlID09PSAxIC8qIERPTU5vZGVUeXBlcy5FTEVNRU5UICovIHx8IGRvbVR5cGUgPT09IDMgLyogRE9NTm9kZVR5cGVzLlRFWFQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGFuY2hvciwgYWRvcHQgY29udGVudFxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzdGF0aWMgdm5vZGUgaGFzIGl0cyBjb250ZW50IHN0cmlwcGVkIGR1cmluZyBidWlsZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRvcHQgaXQgZnJvbSB0aGUgc2VydmVyLXJlbmRlcmVkIEhUTUwuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lZWRUb0Fkb3B0Q29udGVudCA9ICF2bm9kZS5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5jaGlsZHJlbiArPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBET01Ob2RlVHlwZXMuRUxFTUVOVCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXh0Tm9kZS5vdXRlckhUTUxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV4dE5vZGUuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSB2bm9kZS5zdGF0aWNDb3VudCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0ZyYWdtZW50U3RhcnQgPyBuZXh0U2libGluZyhuZXh0Tm9kZSkgOiBuZXh0Tm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgICAgICAgICAgIGlmICghaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRnJhZ21lbnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMSAvKiBET01Ob2RlVHlwZXMuRUxFTUVOVCAqLyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUudHlwZS50b0xvd2VyQ2FzZSgpICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUVsZW1lbnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gc2V0dGluZyB1cCB0aGUgcmVuZGVyIGVmZmVjdCwgaWYgdGhlIGluaXRpYWwgdm5vZGUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAvLyBoYXMgLmVsIHNldCwgdGhlIGNvbXBvbmVudCB3aWxsIHBlcmZvcm0gaHlkcmF0aW9uIGluc3RlYWQgb2YgbW91bnRcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gaXRzIHN1Yi10cmVlLlxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q29tcG9uZW50KHZub2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgYmUgYXN5bmMsIHNvIGluIHRoZSBjYXNlIG9mIGZyYWdtZW50cyB3ZSBjYW5ub3QgcmVseVxuICAgICAgICAgICAgICAgICAgICAvLyBvbiBjb21wb25lbnQncyByZW5kZXJlZCBvdXRwdXQgdG8gZGV0ZXJtaW5lIHRoZSBlbmQgb2YgdGhlIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQsIHdlIGRvIGEgbG9va2FoZWFkIHRvIGZpbmQgdGhlIGVuZCBhbmNob3Igbm9kZS5cbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBpc0ZyYWdtZW50U3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbG9jYXRlQ2xvc2luZ0FzeW5jQW5jaG9yKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyAjNDI5MyB0ZWxlcG9ydCBhcyBjb21wb25lbnQgcm9vdFxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dE5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tbWVudChuZXh0Tm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLmRhdGEgPT09ICd0ZWxlcG9ydCBlbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5leHROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAjMzc4N1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBjb21wb25lbnQgaXMgYXN5bmMsIGl0IG1heSBnZXQgbW92ZWQgLyB1bm1vdW50ZWQgYmVmb3JlIGl0c1xuICAgICAgICAgICAgICAgICAgICAvLyBpbm5lciBjb21wb25lbnQgaXMgbG9hZGVkLCBzbyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSB0aGF0IG1hdGNoZXMgaXRzIGFkb3B0ZWQgRE9NLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXIodm5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3ViVHJlZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUcmVlID0gY3JlYXRlVk5vZGUoRnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUuYW5jaG9yID0gbmV4dE5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXh0Tm9kZS5wcmV2aW91c1NpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjb250YWluZXIubGFzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVHJlZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgPyBjcmVhdGVUZXh0Vk5vZGUoJycpIDogY3JlYXRlVk5vZGUoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViVHJlZS5lbCA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQgLyogU2hhcGVGbGFncy5URUxFUE9SVCAqLykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gOCAvKiBET01Ob2RlVHlwZXMuQ09NTUVOVCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlQ2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gdm5vZGUudHlwZS5oeWRyYXRlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihwYXJlbnROb2RlKG5vZGUpKSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJ0ludmFsaWQgSG9zdFZOb2RlIHR5cGU6JywgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0Tm9kZTtcbiAgICB9O1xuICAgIGNvbnN0IGh5ZHJhdGVFbGVtZW50ID0gKGVsLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBwYXRjaEZsYWcsIHNoYXBlRmxhZywgZGlycyB9ID0gdm5vZGU7XG4gICAgICAgIC8vICM0MDA2IGZvciBmb3JtIGVsZW1lbnRzIHdpdGggbm9uLXN0cmluZyB2LW1vZGVsIHZhbHVlIGJpbmRpbmdzXG4gICAgICAgIC8vIGUuZy4gPG9wdGlvbiA6dmFsdWU9XCJvYmpcIj4sIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiA6dHJ1ZS12YWx1ZT1cIjFcIj5cbiAgICAgICAgY29uc3QgZm9yY2VQYXRjaFZhbHVlID0gKHR5cGUgPT09ICdpbnB1dCcgJiYgZGlycykgfHwgdHlwZSA9PT0gJ29wdGlvbic7XG4gICAgICAgIC8vIHNraXAgcHJvcHMgJiBjaGlsZHJlbiBpZiB0aGlzIGlzIGhvaXN0ZWQgc3RhdGljIG5vZGVzXG4gICAgICAgIC8vICM1NDA1IGluIGRldiwgYWx3YXlzIGh5ZHJhdGUgY2hpbGRyZW4gZm9yIEhNUlxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IGZvcmNlUGF0Y2hWYWx1ZSB8fCBwYXRjaEZsYWcgIT09IC0xIC8qIFBhdGNoRmxhZ3MuSE9JU1RFRCAqLykge1xuICAgICAgICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdjcmVhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwcm9wc1xuICAgICAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlUGF0Y2hWYWx1ZSB8fFxuICAgICAgICAgICAgICAgICAgICAhb3B0aW1pemVkIHx8XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmICgxNiAvKiBQYXRjaEZsYWdzLkZVTExfUFJPUFMgKi8gfCAzMiAvKiBQYXRjaEZsYWdzLkhZRFJBVEVfRVZFTlRTICovKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChmb3JjZVBhdGNoVmFsdWUgJiYga2V5LmVuZHNXaXRoKCd2YWx1ZScpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpc09uKGtleSkgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIGZhbHNlLCB1bmRlZmluZWQsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcHMub25DbGljaykge1xuICAgICAgICAgICAgICAgICAgICAvLyBGYXN0IHBhdGggZm9yIGNsaWNrIGxpc3RlbmVycyAod2hpY2ggaXMgbW9zdCBvZnRlbikgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW5nIHRocm91Z2ggcHJvcHMuXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoUHJvcChlbCwgJ29uQ2xpY2snLCBudWxsLCBwcm9wcy5vbkNsaWNrLCBmYWxzZSwgdW5kZWZpbmVkLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHZub2RlIC8gZGlyZWN0aXZlIGhvb2tzXG4gICAgICAgICAgICBsZXQgdm5vZGVIb29rcztcbiAgICAgICAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcbiAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlycykge1xuICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkgfHwgZGlycykge1xuICAgICAgICAgICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdm5vZGVIb29rcyAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnbW91bnRlZCcpO1xuICAgICAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNoaWxkcmVuXG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLyAmJlxuICAgICAgICAgICAgICAgIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcbiAgICAgICAgICAgICAgICAhKHByb3BzICYmIChwcm9wcy5pbm5lckhUTUwgfHwgcHJvcHMudGV4dENvbnRlbnQpKSkge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKGVsLmZpcnN0Q2hpbGQsIHZub2RlLCBlbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhc1dhcm5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgc2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgbW9yZSBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgU1NSZWQgRE9NIGNvbnRhaW5zIG1vcmUgbm9kZXMgdGhhbiBpdCBzaG91bGQuIFJlbW92ZSB0aGVtLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXIgPSBuZXh0O1xuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGN1cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgOCAvKiBTaGFwZUZsYWdzLlRFWFRfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwudGV4dENvbnRlbnQgIT09IHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEh5ZHJhdGlvbiB0ZXh0IGNvbnRlbnQgbWlzbWF0Y2ggaW4gPCR7dm5vZGUudHlwZX0+OlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAtIENsaWVudDogJHtlbC50ZXh0Q29udGVudH1cXG5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgLSBTZXJ2ZXI6ICR7dm5vZGUuY2hpbGRyZW59YCk7XG4gICAgICAgICAgICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbC5uZXh0U2libGluZztcbiAgICB9O1xuICAgIGNvbnN0IGh5ZHJhdGVDaGlsZHJlbiA9IChub2RlLCBwYXJlbnRWTm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISFwYXJlbnRWTm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50Vk5vZGUuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgPyBjaGlsZHJlbltpXVxuICAgICAgICAgICAgICAgIDogKGNoaWxkcmVuW2ldID0gbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pKTtcbiAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IGh5ZHJhdGVOb2RlKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2bm9kZS50eXBlID09PSBUZXh0ICYmICF2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhhc1dhcm5lZCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBpbiA8JHtjb250YWluZXIudGFnTmFtZS50b0xvd2VyQ2FzZSgpfT46IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIGZld2VyIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYCk7XG4gICAgICAgICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZSBTU1JlZCBET00gZGlkbid0IGNvbnRhaW4gZW5vdWdoIG5vZGVzLiBNb3VudCB0aGUgbWlzc2luZyBvbmVzLlxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIHNsb3RTY29wZUlkcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfTtcbiAgICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gdm5vZGU7XG4gICAgICAgIGlmIChmcmFnbWVudFNsb3RTY29wZUlkcykge1xuICAgICAgICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzXG4gICAgICAgICAgICAgICAgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKVxuICAgICAgICAgICAgICAgIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgY29uc3QgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihuZXh0U2libGluZyhub2RlKSwgdm5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICBpZiAobmV4dCAmJiBpc0NvbW1lbnQobmV4dCkgJiYgbmV4dC5kYXRhID09PSAnXScpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0U2libGluZygodm5vZGUuYW5jaG9yID0gbmV4dCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZnJhZ21lbnQgZGlkbid0IGh5ZHJhdGUgc3VjY2Vzc2Z1bGx5LCBzaW5jZSB3ZSBkaWRuJ3QgZ2V0IGEgZW5kIGFuY2hvclxuICAgICAgICAgICAgLy8gYmFjay4gVGhpcyBzaG91bGQgaGF2ZSBsZWQgdG8gbm9kZS9jaGlsZHJlbiBtaXNtYXRjaCB3YXJuaW5ncy5cbiAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBhbmNob3IgaXMgbWlzc2luZywgd2UgbmVlZCB0byBjcmVhdGUgb25lIGFuZCBpbnNlcnQgaXRcbiAgICAgICAgICAgIGluc2VydCgodm5vZGUuYW5jaG9yID0gY3JlYXRlQ29tbWVudChgXWApKSwgY29udGFpbmVyLCBuZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVNaXNtYXRjaCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50KSA9PiB7XG4gICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICB3YXJuJDEoYEh5ZHJhdGlvbiBub2RlIG1pc21hdGNoOlxcbi0gQ2xpZW50IHZub2RlOmAsIHZub2RlLnR5cGUsIGBcXG4tIFNlcnZlciByZW5kZXJlZCBET006YCwgbm9kZSwgbm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBET01Ob2RlVHlwZXMuVEVYVCAqL1xuICAgICAgICAgICAgICAgID8gYCh0ZXh0KWBcbiAgICAgICAgICAgICAgICA6IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09ICdbJ1xuICAgICAgICAgICAgICAgICAgICA/IGAoc3RhcnQgb2YgZnJhZ21lbnQpYFxuICAgICAgICAgICAgICAgICAgICA6IGBgKTtcbiAgICAgICAgdm5vZGUuZWwgPSBudWxsO1xuICAgICAgICBpZiAoaXNGcmFnbWVudCkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGV4Y2Vzc2l2ZSBmcmFnbWVudCBub2Rlc1xuICAgICAgICAgICAgY29uc3QgZW5kID0gbG9jYXRlQ2xvc2luZ0FzeW5jQW5jaG9yKG5vZGUpO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dCAhPT0gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgICAgIHJlbW92ZShub2RlKTtcbiAgICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbmV4dCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIoY29udGFpbmVyKSwgc2xvdFNjb3BlSWRzKTtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgICBjb25zdCBsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3IgPSAobm9kZSkgPT4ge1xuICAgICAgICBsZXQgbWF0Y2ggPSAwO1xuICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgaWYgKG5vZGUgJiYgaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gJ1snKVxuICAgICAgICAgICAgICAgICAgICBtYXRjaCsrO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgPT09ICddJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfTtcbiAgICByZXR1cm4gW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXTtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG5sZXQgc3VwcG9ydGVkO1xubGV0IHBlcmY7XG5mdW5jdGlvbiBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc1BlcmZTdGFydChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbmRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcbiAgICAgICAgY29uc3QgZW5kVGFnID0gc3RhcnRUYWcgKyBgOmVuZGA7XG4gICAgICAgIHBlcmYubWFyayhlbmRUYWcpO1xuICAgICAgICBwZXJmLm1lYXN1cmUoYDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfT4gJHt0eXBlfWAsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgICAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpO1xuICAgICAgICBwZXJmLmNsZWFyTWFya3MoZW5kVGFnKTtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNQZXJmRW5kKGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICAgIGlmIChzdXBwb3J0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3VwcG9ydGVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIG9ubHkgY2FsbGVkIGluIGVzbS1idW5kbGVyIGJ1aWxkcy5cbiAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgcmVuZGVyZXIgaXMgY3JlYXRlZCwgaW4gYGJhc2VDcmVhdGVSZW5kZXJlcmAgc28gdGhhdFxuICogaW1wb3J0aW5nIHJ1bnRpbWUtY29yZSBpcyBzaWRlLWVmZmVjdHMgZnJlZS5cbiAqXG4gKiBpc3RhbmJ1bC1pZ25vcmUtbmV4dFxuICovXG5mdW5jdGlvbiBpbml0RmVhdHVyZUZsYWdzKCkge1xuICAgIGNvbnN0IG5lZWRXYXJuID0gW107XG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9PUFRJT05TX0FQSV9fICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX09QVElPTlNfQVBJX19gKTtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX09QVElPTlNfQVBJX18gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9QUk9EX0RFVlRPT0xTX19gKTtcbiAgICAgICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG5lZWRXYXJuLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBtdWx0aSA9IG5lZWRXYXJuLmxlbmd0aCA+IDE7XG4gICAgICAgIGNvbnNvbGUud2FybihgRmVhdHVyZSBmbGFnJHttdWx0aSA/IGBzYCA6IGBgfSAke25lZWRXYXJuLmpvaW4oJywgJyl9ICR7bXVsdGkgPyBgYXJlYCA6IGBpc2B9IG5vdCBleHBsaWNpdGx5IGRlZmluZWQuIFlvdSBhcmUgcnVubmluZyB0aGUgZXNtLWJ1bmRsZXIgYnVpbGQgb2YgVnVlLCBgICtcbiAgICAgICAgICAgIGB3aGljaCBleHBlY3RzIHRoZXNlIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIHRvIGJlIGdsb2JhbGx5IGluamVjdGVkIGAgK1xuICAgICAgICAgICAgYHZpYSB0aGUgYnVuZGxlciBjb25maWcgaW4gb3JkZXIgdG8gZ2V0IGJldHRlciB0cmVlLXNoYWtpbmcgaW4gdGhlIGAgK1xuICAgICAgICAgICAgYHByb2R1Y3Rpb24gYnVuZGxlLlxcblxcbmAgK1xuICAgICAgICAgICAgYEZvciBtb3JlIGRldGFpbHMsIHNlZSBodHRwczovL2xpbmsudnVlanMub3JnL2ZlYXR1cmUtZmxhZ3MuYCk7XG4gICAgfVxufVxuXG5jb25zdCBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QgPSBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZVxuICAgIDtcbi8qKlxuICogVGhlIGNyZWF0ZVJlbmRlcmVyIGZ1bmN0aW9uIGFjY2VwdHMgdHdvIGdlbmVyaWMgYXJndW1lbnRzOlxuICogSG9zdE5vZGUgYW5kIEhvc3RFbGVtZW50LCBjb3JyZXNwb25kaW5nIHRvIE5vZGUgYW5kIEVsZW1lbnQgdHlwZXMgaW4gdGhlXG4gKiBob3N0IGVudmlyb25tZW50LiBGb3IgZXhhbXBsZSwgZm9yIHJ1bnRpbWUtZG9tLCBIb3N0Tm9kZSB3b3VsZCBiZSB0aGUgRE9NXG4gKiBgTm9kZWAgaW50ZXJmYWNlIGFuZCBIb3N0RWxlbWVudCB3b3VsZCBiZSB0aGUgRE9NIGBFbGVtZW50YCBpbnRlcmZhY2UuXG4gKlxuICogQ3VzdG9tIHJlbmRlcmVycyBjYW4gcGFzcyBpbiB0aGUgcGxhdGZvcm0gc3BlY2lmaWMgdHlwZXMgbGlrZSB0aGlzOlxuICpcbiAqIGBgYCBqc1xuICogY29uc3QgeyByZW5kZXIsIGNyZWF0ZUFwcCB9ID0gY3JlYXRlUmVuZGVyZXI8Tm9kZSwgRWxlbWVudD4oe1xuICogICBwYXRjaFByb3AsXG4gKiAgIC4uLm5vZGVPcHNcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIob3B0aW9ucykge1xuICAgIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucyk7XG59XG4vLyBTZXBhcmF0ZSBBUEkgZm9yIGNyZWF0aW5nIGh5ZHJhdGlvbi1lbmFibGVkIHJlbmRlcmVyLlxuLy8gSHlkcmF0aW9uIGxvZ2ljIGlzIG9ubHkgdXNlZCB3aGVuIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiwgbWFraW5nIGl0XG4vLyB0cmVlLXNoYWthYmxlLlxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIob3B0aW9ucykge1xuICAgIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKTtcbn1cbi8vIGltcGxlbWVudGF0aW9uXG5mdW5jdGlvbiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRm5zKSB7XG4gICAgLy8gY29tcGlsZS10aW1lIGZlYXR1cmUgZmxhZ3MgY2hlY2tcbiAgICB7XG4gICAgICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xuICAgIHRhcmdldC5fX1ZVRV9fID0gdHJ1ZTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBzZXREZXZ0b29sc0hvb2sodGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18sIHRhcmdldCk7XG4gICAgfVxuICAgIGNvbnN0IHsgaW5zZXJ0OiBob3N0SW5zZXJ0LCByZW1vdmU6IGhvc3RSZW1vdmUsIHBhdGNoUHJvcDogaG9zdFBhdGNoUHJvcCwgY3JlYXRlRWxlbWVudDogaG9zdENyZWF0ZUVsZW1lbnQsIGNyZWF0ZVRleHQ6IGhvc3RDcmVhdGVUZXh0LCBjcmVhdGVDb21tZW50OiBob3N0Q3JlYXRlQ29tbWVudCwgc2V0VGV4dDogaG9zdFNldFRleHQsIHNldEVsZW1lbnRUZXh0OiBob3N0U2V0RWxlbWVudFRleHQsIHBhcmVudE5vZGU6IGhvc3RQYXJlbnROb2RlLCBuZXh0U2libGluZzogaG9zdE5leHRTaWJsaW5nLCBzZXRTY29wZUlkOiBob3N0U2V0U2NvcGVJZCA9IE5PT1AsIGluc2VydFN0YXRpY0NvbnRlbnQ6IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50IH0gPSBvcHRpb25zO1xuICAgIC8vIE5vdGU6IGZ1bmN0aW9ucyBpbnNpZGUgdGhpcyBjbG9zdXJlIHNob3VsZCB1c2UgYGNvbnN0IHh4eCA9ICgpID0+IHt9YFxuICAgIC8vIHN0eWxlIGluIG9yZGVyIHRvIHByZXZlbnQgYmVpbmcgaW5saW5lZCBieSBtaW5pZmllcnMuXG4gICAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgaXNTVkcgPSBmYWxzZSwgc2xvdFNjb3BlSWRzID0gbnVsbCwgb3B0aW1pemVkID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcgPyBmYWxzZSA6ICEhbjIuZHluYW1pY0NoaWxkcmVuKSA9PiB7XG4gICAgICAgIGlmIChuMSA9PT0gbjIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXRjaGluZyAmIG5vdCBzYW1lIHR5cGUsIHVubW91bnQgb2xkIHRyZWVcbiAgICAgICAgaWYgKG4xICYmICFpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICAgICAgYW5jaG9yID0gZ2V0TmV4dEhvc3ROb2RlKG4xKTtcbiAgICAgICAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgICAgbjEgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yIC8qIFBhdGNoRmxhZ3MuQkFJTCAqLykge1xuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICBuMi5keW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29tbWVudDpcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFN0YXRpYzpcbiAgICAgICAgICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBtb3VudFN0YXRpY05vZGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRjaFN0YXRpY05vZGUobjEsIG4yLCBjb250YWluZXIsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgICAgICAgICAgIHByb2Nlc3NGcmFnbWVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQ29tcG9uZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5wcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZS5wcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMSgnSW52YWxpZCBWTm9kZSB0eXBlOicsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNldCByZWZcbiAgICAgICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbjEgJiYgbjEucmVmLCBwYXJlbnRTdXNwZW5zZSwgbjIgfHwgbjEsICFuMik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NUZXh0ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoKG4yLmVsID0gaG9zdENyZWF0ZVRleHQobjIuY2hpbGRyZW4pKSwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XG4gICAgICAgICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaG9zdFNldFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcHJvY2Vzc0NvbW1lbnROb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoKG4yLmVsID0gaG9zdENyZWF0ZUNvbW1lbnQobjIuY2hpbGRyZW4gfHwgJycpKSwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBzdXBwb3J0IGZvciBkeW5hbWljIGNvbW1lbnRzXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtb3VudFN0YXRpY05vZGUgPSAobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRykgPT4ge1xuICAgICAgICBbbjIuZWwsIG4yLmFuY2hvcl0gPSBob3N0SW5zZXJ0U3RhdGljQ29udGVudChuMi5jaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBuMi5lbCwgbjIuYW5jaG9yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldiAvIEhNUiBvbmx5XG4gICAgICovXG4gICAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRykgPT4ge1xuICAgICAgICAvLyBzdGF0aWMgbm9kZXMgYXJlIG9ubHkgcGF0Y2hlZCBkdXJpbmcgZGV2IGZvciBITVJcbiAgICAgICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XG4gICAgICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgICAgIHJlbW92ZVN0YXRpY05vZGUobjEpO1xuICAgICAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgICAgICAgbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSwgY29udGFpbmVyLCBuZXh0U2libGluZykgPT4ge1xuICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgICAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gICAgICAgICAgICBlbCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdEluc2VydChhbmNob3IsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSkgPT4ge1xuICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgICAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XG4gICAgICAgICAgICBlbCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdFJlbW92ZShhbmNob3IpO1xuICAgIH07XG4gICAgY29uc3QgcHJvY2Vzc0VsZW1lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgbjIudHlwZSA9PT0gJ3N2Zyc7XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBtb3VudEVsZW1lbnQobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF0Y2hFbGVtZW50KG4xLCBuMiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbW91bnRFbGVtZW50ID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGxldCBlbDtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgc2hhcGVGbGFnLCB0cmFuc2l0aW9uLCBkaXJzIH0gPSB2bm9kZTtcbiAgICAgICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KHZub2RlLnR5cGUsIGlzU1ZHLCBwcm9wcyAmJiBwcm9wcy5pcywgcHJvcHMpO1xuICAgICAgICAvLyBtb3VudCBjaGlsZHJlbiBmaXJzdCwgc2luY2Ugc29tZSBwcm9wcyBtYXkgcmVseSBvbiBjaGlsZCBjb250ZW50XG4gICAgICAgIC8vIGJlaW5nIGFscmVhZHkgcmVuZGVyZWQsIGUuZy4gYDxzZWxlY3QgdmFsdWU+YFxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBTaGFwZUZsYWdzLlRFWFRfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgdm5vZGUuY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4odm5vZGUuY2hpbGRyZW4sIGVsLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyAmJiB0eXBlICE9PSAnZm9yZWlnbk9iamVjdCcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlycykge1xuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnY3JlYXRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHByb3BzXG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAndmFsdWUnICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3BlY2lhbCBjYXNlIGZvciBzZXR0aW5nIHZhbHVlIG9uIERPTSBlbGVtZW50czpcbiAgICAgICAgICAgICAqIC0gaXQgY2FuIGJlIG9yZGVyLXNlbnNpdGl2ZSAoZS5nLiBzaG91bGQgYmUgc2V0ICphZnRlciogbWluL21heCwgIzIzMjUsICM0MDI0KVxuICAgICAgICAgICAgICogLSBpdCBuZWVkcyB0byBiZSBmb3JjZWQgKCMxNDcxKVxuICAgICAgICAgICAgICogIzIzNTMgcHJvcG9zZXMgYWRkaW5nIGFub3RoZXIgcmVuZGVyZXIgb3B0aW9uIHRvIGNvbmZpZ3VyZSB0aGlzLCBidXRcbiAgICAgICAgICAgICAqIHRoZSBwcm9wZXJ0aWVzIGFmZmVjdHMgYXJlIHNvIGZpbml0ZSBpdCBpcyB3b3J0aCBzcGVjaWFsIGNhc2luZyBpdFxuICAgICAgICAgICAgICogaGVyZSB0byByZWR1Y2UgdGhlIGNvbXBsZXhpdHkuIChTcGVjaWFsIGNhc2luZyBpdCBhbHNvIHNob3VsZCBub3RcbiAgICAgICAgICAgICAqIGFmZmVjdCBub24tRE9NIHJlbmRlcmVycylcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCAndmFsdWUnLCBudWxsLCBwcm9wcy52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcbiAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzY29wZUlkXG4gICAgICAgIHNldFNjb3BlSWQoZWwsIHZub2RlLCB2bm9kZS5zY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsICdfX3Zub2RlJywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2bm9kZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsICdfX3Z1ZVBhcmVudENvbXBvbmVudCcsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlycykge1xuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlTW91bnQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAjMTU4MyBGb3IgaW5zaWRlIHN1c3BlbnNlICsgc3VzcGVuc2Ugbm90IHJlc29sdmVkIGNhc2UsIGVudGVyIGhvb2sgc2hvdWxkIGNhbGwgd2hlbiBzdXNwZW5zZSByZXNvbHZlZFxuICAgICAgICAvLyAjMTY4OSBGb3IgaW5zaWRlIHN1c3BlbnNlICsgc3VzcGVuc2UgcmVzb2x2ZWQgY2FzZSwganVzdCBjYWxsIGl0XG4gICAgICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gKCFwYXJlbnRTdXNwZW5zZSB8fCAocGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpKSAmJlxuICAgICAgICAgICAgdHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkO1xuICAgICAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICB9XG4gICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkgfHxcbiAgICAgICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIHx8XG4gICAgICAgICAgICBkaXJzKSB7XG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ21vdW50ZWQnKTtcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0U2NvcGVJZCA9IChlbCwgdm5vZGUsIHNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgICAgIGlmIChzY29wZUlkKSB7XG4gICAgICAgICAgICBob3N0U2V0U2NvcGVJZChlbCwgc2NvcGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNsb3RTY29wZUlkcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbG90U2NvcGVJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBob3N0U2V0U2NvcGVJZChlbCwgc2xvdFNjb3BlSWRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICAgICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHN1YlRyZWUucGF0Y2hGbGFnID4gMCAmJlxuICAgICAgICAgICAgICAgIHN1YlRyZWUucGF0Y2hGbGFnICYgMjA0OCAvKiBQYXRjaEZsYWdzLkRFVl9ST09UX0ZSQUdNRU5UICovKSB7XG4gICAgICAgICAgICAgICAgc3ViVHJlZSA9XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclNpbmdsZVJvb3Qoc3ViVHJlZS5jaGlsZHJlbikgfHwgc3ViVHJlZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFZOb2RlID0gcGFyZW50Q29tcG9uZW50LnZub2RlO1xuICAgICAgICAgICAgICAgIHNldFNjb3BlSWQoZWwsIHBhcmVudFZOb2RlLCBwYXJlbnRWTm9kZS5zY29wZUlkLCBwYXJlbnRWTm9kZS5zbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudC5wYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBzdGFydCA9IDApID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gKGNoaWxkcmVuW2ldID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSlcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKSk7XG4gICAgICAgICAgICBwYXRjaChudWxsLCBjaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHBhdGNoRWxlbWVudCA9IChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IChuMi5lbCA9IG4xLmVsKTtcbiAgICAgICAgbGV0IHsgcGF0Y2hGbGFnLCBkeW5hbWljQ2hpbGRyZW4sIGRpcnMgfSA9IG4yO1xuICAgICAgICAvLyAjMTQyNiB0YWtlIHRoZSBvbGQgdm5vZGUncyBwYXRjaCBmbGFnIGludG8gYWNjb3VudCBzaW5jZSB1c2VyIG1heSBjbG9uZSBhXG4gICAgICAgIC8vIGNvbXBpbGVyLWdlbmVyYXRlZCB2bm9kZSwgd2hpY2ggZGUtb3B0cyB0byBGVUxMX1BST1BTXG4gICAgICAgIHBhdGNoRmxhZyB8PSBuMS5wYXRjaEZsYWcgJiAxNiAvKiBQYXRjaEZsYWdzLkZVTExfUFJPUFMgKi87XG4gICAgICAgIGNvbnN0IG9sZFByb3BzID0gbjEucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgICAgICBjb25zdCBuZXdQcm9wcyA9IG4yLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgLy8gZGlzYWJsZSByZWN1cnNlIGluIGJlZm9yZVVwZGF0ZSBob29rc1xuICAgICAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIGZhbHNlKTtcbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSkge1xuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKG4yLCBuMSwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVXBkYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCB0cnVlKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICAgICAgICAvLyBITVIgdXBkYXRlZCwgZm9yY2UgZnVsbCBkaWZmXG4gICAgICAgICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFyZUNoaWxkcmVuU1ZHID0gaXNTVkcgJiYgbjIudHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnO1xuICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4objEuZHluYW1pY0NoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIGVsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBhcmVDaGlsZHJlblNWRywgc2xvdFNjb3BlSWRzKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgICAgICAgLy8gZnVsbCBkaWZmXG4gICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgZWwsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGFyZUNoaWxkcmVuU1ZHLCBzbG90U2NvcGVJZHMsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xuICAgICAgICAgICAgLy8gdGhlIHByZXNlbmNlIG9mIGEgcGF0Y2hGbGFnIG1lYW5zIHRoaXMgZWxlbWVudCdzIHJlbmRlciBjb2RlIHdhc1xuICAgICAgICAgICAgLy8gZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBhbmQgY2FuIHRha2UgdGhlIGZhc3QgcGF0aC5cbiAgICAgICAgICAgIC8vIGluIHRoaXMgcGF0aCBvbGQgbm9kZSBhbmQgbmV3IG5vZGUgYXJlIGd1YXJhbnRlZWQgdG8gaGF2ZSB0aGUgc2FtZSBzaGFwZVxuICAgICAgICAgICAgLy8gKGkuZS4gYXQgdGhlIGV4YWN0IHNhbWUgcG9zaXRpb24gaW4gdGhlIHNvdXJjZSB0ZW1wbGF0ZSlcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAxNiAvKiBQYXRjaEZsYWdzLkZVTExfUFJPUFMgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50IHByb3BzIGNvbnRhaW4gZHluYW1pYyBrZXlzLCBmdWxsIGRpZmYgbmVlZGVkXG4gICAgICAgICAgICAgICAgcGF0Y2hQcm9wcyhlbCwgbjIsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY2xhc3NcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIGNsYXNzIGJpbmRpbmdzLlxuICAgICAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAyIC8qIFBhdGNoRmxhZ3MuQ0xBU1MgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFByb3BzLmNsYXNzICE9PSBuZXdQcm9wcy5jbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ2NsYXNzJywgbnVsbCwgbmV3UHJvcHMuY2xhc3MsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzdHlsZVxuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgc3R5bGUgYmluZGluZ3NcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgNCAvKiBQYXRjaEZsYWdzLlNUWUxFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdzdHlsZScsIG9sZFByb3BzLnN0eWxlLCBuZXdQcm9wcy5zdHlsZSwgaXNTVkcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBwcm9wc1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGR5bmFtaWMgcHJvcC9hdHRyIGJpbmRpbmdzXG4gICAgICAgICAgICAgICAgLy8gb3RoZXIgdGhhbiBjbGFzcyBhbmQgc3R5bGUuIFRoZSBrZXlzIG9mIGR5bmFtaWMgcHJvcC9hdHRycyBhcmUgc2F2ZWQgZm9yXG4gICAgICAgICAgICAgICAgLy8gZmFzdGVyIGl0ZXJhdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBOb3RlIGR5bmFtaWMga2V5cyBsaWtlIDpbZm9vXT1cImJhclwiIHdpbGwgY2F1c2UgdGhpcyBvcHRpbWl6YXRpb24gdG9cbiAgICAgICAgICAgICAgICAvLyBiYWlsIG91dCBhbmQgZ28gdGhyb3VnaCBhIGZ1bGwgZGlmZiBiZWNhdXNlIHdlIG5lZWQgdG8gdW5zZXQgdGhlIG9sZCBrZXlcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQYXRjaEZsYWdzLlBST1BTICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmbGFnIGlzIHByZXNlbnQgdGhlbiBkeW5hbWljUHJvcHMgbXVzdCBiZSBub24tbnVsbFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gbjIuZHluYW1pY1Byb3BzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIzE0NzEgZm9yY2UgcGF0Y2ggdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBwcmV2IHx8IGtleSA9PT0gJ3ZhbHVlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgaXNTVkcsIG4xLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGV4dFxuICAgICAgICAgICAgLy8gVGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgb25seSBkeW5hbWljIHRleHQgY2hpbGRyZW4uXG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMSAvKiBQYXRjaEZsYWdzLlRFWFQgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAobjEuY2hpbGRyZW4gIT09IG4yLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkICYmIGR5bmFtaWNDaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyB1bm9wdGltaXplZCwgZnVsbCBkaWZmXG4gICAgICAgICAgICBwYXRjaFByb3BzKGVsLCBuMiwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlVXBkYXRlZCkgfHwgZGlycykge1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgICAgICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ3VwZGF0ZWQnKTtcbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gVGhlIGZhc3QgcGF0aCBmb3IgYmxvY2tzLlxuICAgIGNvbnN0IHBhdGNoQmxvY2tDaGlsZHJlbiA9IChvbGRDaGlsZHJlbiwgbmV3Q2hpbGRyZW4sIGZhbGxiYWNrQ29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG4gICAgICAgICAgICBjb25zdCBuZXdWTm9kZSA9IG5ld0NoaWxkcmVuW2ldO1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjb250YWluZXIgKHBhcmVudCBlbGVtZW50KSBmb3IgdGhlIHBhdGNoLlxuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gXG4gICAgICAgICAgICAvLyBvbGRWTm9kZSBtYXkgYmUgYW4gZXJyb3JlZCBhc3luYyBzZXR1cCgpIGNvbXBvbmVudCBpbnNpZGUgU3VzcGVuc2VcbiAgICAgICAgICAgIC8vIHdoaWNoIHdpbGwgbm90IGhhdmUgYSBtb3VudGVkIGVsZW1lbnRcbiAgICAgICAgICAgIG9sZFZOb2RlLmVsICYmXG4gICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIEZyYWdtZW50LCB3ZSBuZWVkIHRvIHByb3ZpZGUgdGhlIGFjdHVhbCBwYXJlbnRcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cbiAgICAgICAgICAgICAgICAob2xkVk5vZGUudHlwZSA9PT0gRnJhZ21lbnQgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBkaWZmZXJlbnQgbm9kZXMsIHRoZXJlIGlzIGdvaW5nIHRvIGJlIGEgcmVwbGFjZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgICFpc1NhbWVWTm9kZVR5cGUob2xkVk5vZGUsIG5ld1ZOb2RlKSB8fFxuICAgICAgICAgICAgICAgICAgICAvLyAtIEluIHRoZSBjYXNlIG9mIGEgY29tcG9uZW50LCBpdCBjb3VsZCBjb250YWluIGFueXRoaW5nLlxuICAgICAgICAgICAgICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiAoNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLyB8IDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pKVxuICAgICAgICAgICAgICAgID8gaG9zdFBhcmVudE5vZGUob2xkVk5vZGUuZWwpXG4gICAgICAgICAgICAgICAgOiAvLyBJbiBvdGhlciBjYXNlcywgdGhlIHBhcmVudCBjb250YWluZXIgaXMgbm90IGFjdHVhbGx5IHVzZWQgc28gd2VcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxuICAgICAgICAgICAgICAgICAgICBmYWxsYmFja0NvbnRhaW5lcjtcbiAgICAgICAgICAgIHBhdGNoKG9sZFZOb2RlLCBuZXdWTm9kZSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGF0Y2hQcm9wcyA9IChlbCwgdm5vZGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpID0+IHtcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xuICAgICAgICAgICAgaWYgKG9sZFByb3BzICE9PSBFTVBUWV9PQkopIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcm9wKGtleSkgJiYgIShrZXkgaW4gbmV3UHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG9sZFByb3BzW2tleV0sIG51bGwsIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5ld1Byb3BzKSB7XG4gICAgICAgICAgICAgICAgLy8gZW1wdHkgc3RyaW5nIGlzIG5vdCB2YWxpZCBwcm9wXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xuICAgICAgICAgICAgICAgIC8vIGRlZmVyIHBhdGNoaW5nIHZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgJiYga2V5ICE9PSAndmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgcHJldiwgbmV4dCwgaXNTVkcsIHZub2RlLmNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgndmFsdWUnIGluIG5ld1Byb3BzKSB7XG4gICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3ZhbHVlJywgb2xkUHJvcHMudmFsdWUsIG5ld1Byb3BzLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcHJvY2Vzc0ZyYWdtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBjb25zdCBmcmFnbWVudFN0YXJ0QW5jaG9yID0gKG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KCcnKSk7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gKG4yLmFuY2hvciA9IG4xID8gbjEuYW5jaG9yIDogaG9zdENyZWF0ZVRleHQoJycpKTtcbiAgICAgICAgbGV0IHsgcGF0Y2hGbGFnLCBkeW5hbWljQ2hpbGRyZW4sIHNsb3RTY29wZUlkczogZnJhZ21lbnRTbG90U2NvcGVJZHMgfSA9IG4yO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAvLyAjNTUyMyBkZXYgcm9vdCBmcmFnbWVudCBtYXkgaW5oZXJpdCBkaXJlY3RpdmVzXG4gICAgICAgICAgICAoaXNIbXJVcGRhdGluZyB8fCBwYXRjaEZsYWcgJiAyMDQ4IC8qIFBhdGNoRmxhZ3MuREVWX1JPT1RfRlJBR01FTlQgKi8pKSB7XG4gICAgICAgICAgICAvLyBITVIgdXBkYXRlZCAvIERldiByb290IGZyYWdtZW50ICh3LyBjb21tZW50cyksIGZvcmNlIGZ1bGwgZGlmZlxuICAgICAgICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGlzIGEgc2xvdCBmcmFnbWVudCB3aXRoIDpzbG90dGVkIHNjb3BlIGlkc1xuICAgICAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkc1xuICAgICAgICAgICAgICAgID8gc2xvdFNjb3BlSWRzLmNvbmNhdChmcmFnbWVudFNsb3RTY29wZUlkcylcbiAgICAgICAgICAgICAgICA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KGZyYWdtZW50U3RhcnRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRFbmRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgIC8vIGEgZnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBhcnJheSBjaGlsZHJlblxuICAgICAgICAgICAgLy8gc2luY2UgdGhleSBhcmUgZWl0aGVyIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIsIG9yIGltcGxpY2l0bHkgY3JlYXRlZFxuICAgICAgICAgICAgLy8gZnJvbSBhcnJheXMuXG4gICAgICAgICAgICBtb3VudENoaWxkcmVuKG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGZyYWdtZW50RW5kQW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDAgJiZcbiAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiA2NCAvKiBQYXRjaEZsYWdzLlNUQUJMRV9GUkFHTUVOVCAqLyAmJlxuICAgICAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiAmJlxuICAgICAgICAgICAgICAgIC8vICMyNzE1IHRoZSBwcmV2aW91cyBmcmFnbWVudCBjb3VsZCd2ZSBiZWVuIGEgQkFJTGVkIG9uZSBhcyBhIHJlc3VsdFxuICAgICAgICAgICAgICAgIC8vIG9mIHJlbmRlclNsb3QoKSB3aXRoIG5vIHZhbGlkIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgLy8gYSBzdGFibGUgZnJhZ21lbnQgKHRlbXBsYXRlIHJvb3Qgb3IgPHRlbXBsYXRlIHYtZm9yPikgZG9lc24ndCBuZWVkIHRvXG4gICAgICAgICAgICAgICAgLy8gcGF0Y2ggY2hpbGRyZW4gb3JkZXIsIGJ1dCBpdCBtYXkgY29udGFpbiBkeW5hbWljQ2hpbGRyZW4uXG4gICAgICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC50eXBlLl9faG1ySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcbiAgICAgICAgICAgICAgICAvLyAgZ2V0IG1vdmVkIGFyb3VuZC4gTWFrZSBzdXJlIGFsbCByb290IGxldmVsIHZub2RlcyBpbmhlcml0IGVsLlxuICAgICAgICAgICAgICAgIC8vICMyMTM0IG9yIGlmIGl0J3MgYSBjb21wb25lbnQgcm9vdCwgaXQgbWF5IGFsc28gZ2V0IG1vdmVkIGFyb3VuZFxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXG4gICAgICAgICAgICAgICAgbjIua2V5ICE9IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgKHBhcmVudENvbXBvbmVudCAmJiBuMiA9PT0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlIC8qIHNoYWxsb3cgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGtleWVkIC8gdW5rZXllZCwgb3IgbWFudWFsIGZyYWdtZW50cy5cbiAgICAgICAgICAgICAgICAvLyBmb3Iga2V5ZWQgJiB1bmtleWVkLCBzaW5jZSB0aGV5IGFyZSBjb21waWxlciBnZW5lcmF0ZWQgZnJvbSB2LWZvcixcbiAgICAgICAgICAgICAgICAvLyBlYWNoIGNoaWxkIGlzIGd1YXJhbnRlZWQgdG8gYmUgYSBibG9jayBzbyB0aGUgZnJhZ21lbnQgd2lsbCBuZXZlclxuICAgICAgICAgICAgICAgIC8vIGhhdmUgZHluYW1pY0NoaWxkcmVuLlxuICAgICAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4objEsIG4yLCBjb250YWluZXIsIGZyYWdtZW50RW5kQW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwcm9jZXNzQ29tcG9uZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBuMi5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobjIuc2hhcGVGbGFnICYgNTEyIC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi8pIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb3VudENvbXBvbmVudChuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbW91bnRDb21wb25lbnQgPSAoaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICAvLyAyLnggY29tcGF0IG1heSBwcmUtY3JlYXRlIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYmVmb3JlIGFjdHVhbGx5XG4gICAgICAgIC8vIG1vdW50aW5nXG4gICAgICAgIGNvbnN0IGNvbXBhdE1vdW50SW5zdGFuY2UgPSBpbml0aWFsVk5vZGUuaXNDb21wYXRSb290ICYmIGluaXRpYWxWTm9kZS5jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gY29tcGF0TW91bnRJbnN0YW5jZSB8fFxuICAgICAgICAgICAgKGluaXRpYWxWTm9kZS5jb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZShpbml0aWFsVk5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgICAgICAgIHJlZ2lzdGVySE1SKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQoaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5qZWN0IHJlbmRlcmVyIGludGVybmFscyBmb3Iga2VlcEFsaXZlXG4gICAgICAgIGlmIChpc0tlZXBBbGl2ZShpbml0aWFsVk5vZGUpKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jdHgucmVuZGVyZXIgPSBpbnRlcm5hbHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzb2x2ZSBwcm9wcyBhbmQgc2xvdHMgZm9yIHNldHVwIGNvbnRleHRcbiAgICAgICAgaWYgKCEoY29tcGF0TW91bnRJbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXR1cENvbXBvbmVudChpbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZXR1cCgpIGlzIGFzeW5jLiBUaGlzIGNvbXBvbmVudCByZWxpZXMgb24gYXN5bmMgbG9naWMgdG8gYmUgcmVzb2x2ZWRcbiAgICAgICAgLy8gYmVmb3JlIHByb2NlZWRpbmdcbiAgICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwKSB7XG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5yZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QpO1xuICAgICAgICAgICAgLy8gR2l2ZSBpdCBhIHBsYWNlaG9sZGVyIGlmIHRoaXMgaXMgbm90IGh5ZHJhdGlvblxuICAgICAgICAgICAgLy8gVE9ETyBoYW5kbGUgc2VsZi1kZWZpbmVkIGZhbGxiYWNrXG4gICAgICAgICAgICBpZiAoIWluaXRpYWxWTm9kZS5lbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gKGluc3RhbmNlLnN1YlRyZWUgPSBjcmVhdGVWTm9kZShDb21tZW50KSk7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb21wb25lbnQgPSAobjEsIG4yLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSAobjIuY29tcG9uZW50ID0gbjEuY29tcG9uZW50KTtcbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCAmJlxuICAgICAgICAgICAgICAgICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgJiBzdGlsbCBwZW5kaW5nIC0ganVzdCB1cGRhdGUgcHJvcHMgYW5kIHNsb3RzXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGNvbXBvbmVudCdzIHJlYWN0aXZlIGVmZmVjdCBmb3IgcmVuZGVyIGlzbid0IHNldC11cCB5ZXRcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbjIsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBub3JtYWwgdXBkYXRlXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UubmV4dCA9IG4yO1xuICAgICAgICAgICAgICAgIC8vIGluIGNhc2UgdGhlIGNoaWxkIGNvbXBvbmVudCBpcyBhbHNvIHF1ZXVlZCwgcmVtb3ZlIGl0IHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgLy8gZG91YmxlIHVwZGF0aW5nIHRoZSBzYW1lIGNoaWxkIGNvbXBvbmVudCBpbiB0aGUgc2FtZSBmbHVzaC5cbiAgICAgICAgICAgICAgICBpbnZhbGlkYXRlSm9iKGluc3RhbmNlLnVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgLy8gaW5zdGFuY2UudXBkYXRlIGlzIHRoZSByZWFjdGl2ZSBlZmZlY3QuXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBubyB1cGRhdGUgbmVlZGVkLiBqdXN0IGNvcHkgb3ZlciBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2V0dXBSZW5kZXJFZmZlY3QgPSAoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFVwZGF0ZUZuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZWwsIHByb3BzIH0gPSBpbml0aWFsVk5vZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBibSwgbSwgcGFyZW50IH0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0FzeW5jV3JhcHBlclZOb2RlID0gaXNBc3luY1dyYXBwZXIoaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlTW91bnQgaG9va1xuICAgICAgICAgICAgICAgIGlmIChibSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhibSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVCZWZvcmVNb3VudFxuICAgICAgICAgICAgICAgIGlmICghaXNBc3luY1dyYXBwZXJWTm9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIGluaXRpYWxWTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5lbWl0KCdob29rOmJlZm9yZU1vdW50Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChlbCAmJiBoeWRyYXRlTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB2bm9kZSBoYXMgYWRvcHRlZCBob3N0IG5vZGUgLSBwZXJmb3JtIGh5ZHJhdGlvbiBpbnN0ZWFkIG9mIG1vdW50LlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoeWRyYXRlU3ViVHJlZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZU5vZGUoZWwsIGluc3RhbmNlLnN1YlRyZWUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyVk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZS50eXBlLl9fYXN5bmNMb2FkZXIoKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90ZTogd2UgYXJlIG1vdmluZyB0aGUgcmVuZGVyIGNhbGwgaW50byBhbiBhc3luYyBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIG1lYW5zIGl0IHdvbid0IHRyYWNrIGRlcGVuZGVuY2llcyAtIGJ1dCBpdCdzIG9rIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgc2VydmVyLXJlbmRlcmVkIGFzeW5jIHdyYXBwZXIgaXMgYWxyZWFkeSBpbiByZXNvbHZlZCBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGl0IHdpbGwgbmV2ZXIgbmVlZCB0byBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiAhaW5zdGFuY2UuaXNVbm1vdW50ZWQgJiYgaHlkcmF0ZVN1YlRyZWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRlU3ViVHJlZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJUcmVlID0gKGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIHN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZOb2RlLmVsID0gc3ViVHJlZS5lbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbW91bnRlZCBob29rXG4gICAgICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KG0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZU1vdW50ZWRcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIHNjb3BlZEluaXRpYWxWTm9kZSksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiBpbnN0YW5jZS5lbWl0KCdob29rOm1vdW50ZWQnKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBhY3RpdmF0ZWQgaG9vayBmb3Iga2VlcC1hbGl2ZSByb290cy5cbiAgICAgICAgICAgICAgICAvLyAjMTc0MiBhY3RpdmF0ZWQgaG9vayBtdXN0IGJlIGFjY2Vzc2VkIGFmdGVyIGZpcnN0IHJlbmRlclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBob29rIG1heSBiZSBpbmplY3RlZCBieSBhIGNoaWxkIGtlZXAtYWxpdmVcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFZOb2RlLnNoYXBlRmxhZyAmIDI1NiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLyB8fFxuICAgICAgICAgICAgICAgICAgICAocGFyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FzeW5jV3JhcHBlcihwYXJlbnQudm5vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQudm5vZGUuc2hhcGVGbGFnICYgMjU2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5hICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChpbnN0YW5jZS5hLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGluc3RhbmNlLmVtaXQoJ2hvb2s6YWN0aXZhdGVkJyksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAjMjQ1ODogZGVmZXJlbmNlIG1vdW50LW9ubHkgb2JqZWN0IHBhcmFtZXRlcnMgdG8gcHJldmVudCBtZW1sZWFrc1xuICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZSA9IGNvbnRhaW5lciA9IGFuY2hvciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVDb21wb25lbnRcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRyaWdnZXJlZCBieSBtdXRhdGlvbiBvZiBjb21wb25lbnQncyBvd24gc3RhdGUgKG5leHQ6IG51bGwpXG4gICAgICAgICAgICAgICAgLy8gT1IgcGFyZW50IGNhbGxpbmcgcHJvY2Vzc0NvbXBvbmVudCAobmV4dDogVk5vZGUpXG4gICAgICAgICAgICAgICAgbGV0IHsgbmV4dCwgYnUsIHUsIHBhcmVudCwgdm5vZGUgfSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIGxldCBvcmlnaW5OZXh0ID0gbmV4dDtcbiAgICAgICAgICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG5leHQgfHwgaW5zdGFuY2Uudm5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEaXNhbGxvdyBjb21wb25lbnQgZWZmZWN0IHJlY3Vyc2lvbiBkdXJpbmcgcHJlLWxpZmVjeWNsZSBob29rcy5cbiAgICAgICAgICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gdm5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZVVwZGF0ZSBob29rXG4gICAgICAgICAgICAgICAgaWYgKGJ1KSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJ1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZUJlZm9yZVVwZGF0ZVxuICAgICAgICAgICAgICAgIGlmICgodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZW1pdCgnaG9vazpiZWZvcmVVcGRhdGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gcmVuZGVyXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSBuZXh0VHJlZTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhdGNoKHByZXZUcmVlLCBuZXh0VHJlZSwgXG4gICAgICAgICAgICAgICAgLy8gcGFyZW50IG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIHRlbGVwb3J0XG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudE5vZGUocHJldlRyZWUuZWwpLCBcbiAgICAgICAgICAgICAgICAvLyBhbmNob3IgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICBnZXROZXh0SG9zdE5vZGUocHJldlRyZWUpLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0LmVsID0gbmV4dFRyZWUuZWw7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbk5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi10cmlnZ2VyZWQgdXBkYXRlLiBJbiBjYXNlIG9mIEhPQywgdXBkYXRlIHBhcmVudCBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgZWwuIEhPQyBpcyBpbmRpY2F0ZWQgYnkgcGFyZW50IGluc3RhbmNlJ3Mgc3ViVHJlZSBwb2ludGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBjaGlsZCBjb21wb25lbnQncyB2bm9kZVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIG5leHRUcmVlLmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlZCBob29rXG4gICAgICAgICAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHUsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gb25Wbm9kZVVwZGF0ZWRcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlVXBkYXRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW5zdGFuY2UuZW1pdCgnaG9vazp1cGRhdGVkJyksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gY3JlYXRlIHJlYWN0aXZlIGVmZmVjdCBmb3IgcmVuZGVyaW5nXG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IChpbnN0YW5jZS5lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoY29tcG9uZW50VXBkYXRlRm4sICgpID0+IHF1ZXVlSm9iKHVwZGF0ZSksIGluc3RhbmNlLnNjb3BlIC8vIHRyYWNrIGl0IGluIGNvbXBvbmVudCdzIGVmZmVjdCBzY29wZVxuICAgICAgICApKTtcbiAgICAgICAgY29uc3QgdXBkYXRlID0gKGluc3RhbmNlLnVwZGF0ZSA9ICgpID0+IGVmZmVjdC5ydW4oKSk7XG4gICAgICAgIHVwZGF0ZS5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICAgICAgLy8gYWxsb3dSZWN1cnNlXG4gICAgICAgIC8vICMxODAxLCAjMjA0MyBjb21wb25lbnQgcmVuZGVyIGVmZmVjdHMgc2hvdWxkIGFsbG93IHJlY3Vyc2l2ZSB1cGRhdGVzXG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBlZmZlY3Qub25UcmFjayA9IGluc3RhbmNlLnJ0Y1xuICAgICAgICAgICAgICAgID8gZSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGMsIGUpXG4gICAgICAgICAgICAgICAgOiB2b2lkIDA7XG4gICAgICAgICAgICBlZmZlY3Qub25UcmlnZ2VyID0gaW5zdGFuY2UucnRnXG4gICAgICAgICAgICAgICAgPyBlID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0ZywgZSlcbiAgICAgICAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgICAgICAgIHVwZGF0ZS5vd25lckluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIgPSAoaW5zdGFuY2UsIG5leHRWTm9kZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIG5leHRWTm9kZS5jb21wb25lbnQgPSBpbnN0YW5jZTtcbiAgICAgICAgY29uc3QgcHJldlByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XG4gICAgICAgIGluc3RhbmNlLnZub2RlID0gbmV4dFZOb2RlO1xuICAgICAgICBpbnN0YW5jZS5uZXh0ID0gbnVsbDtcbiAgICAgICAgdXBkYXRlUHJvcHMoaW5zdGFuY2UsIG5leHRWTm9kZS5wcm9wcywgcHJldlByb3BzLCBvcHRpbWl6ZWQpO1xuICAgICAgICB1cGRhdGVTbG90cyhpbnN0YW5jZSwgbmV4dFZOb2RlLmNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgIC8vIHByb3BzIHVwZGF0ZSBtYXkgaGF2ZSB0cmlnZ2VyZWQgcHJlLWZsdXNoIHdhdGNoZXJzLlxuICAgICAgICAvLyBmbHVzaCB0aGVtIGJlZm9yZSB0aGUgcmVuZGVyIHVwZGF0ZS5cbiAgICAgICAgZmx1c2hQcmVGbHVzaENicygpO1xuICAgICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgfTtcbiAgICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGMxID0gbjEgJiYgbjEuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IHByZXZTaGFwZUZsYWcgPSBuMSA/IG4xLnNoYXBlRmxhZyA6IDA7XG4gICAgICAgIGNvbnN0IGMyID0gbjIuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IHsgcGF0Y2hGbGFnLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgICAgICAvLyBmYXN0IHBhdGhcbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgJiAxMjggLyogUGF0Y2hGbGFncy5LRVlFRF9GUkFHTUVOVCAqLykge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgY291bGQgYmUgZWl0aGVyIGZ1bGx5LWtleWVkIG9yIG1peGVkIChzb21lIGtleWVkIHNvbWUgbm90KVxuICAgICAgICAgICAgICAgIC8vIHByZXNlbmNlIG9mIHBhdGNoRmxhZyBtZWFucyBjaGlsZHJlbiBhcmUgZ3VhcmFudGVlZCB0byBiZSBhcnJheXNcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYgLyogUGF0Y2hGbGFncy5VTktFWUVEX0ZSQUdNRU5UICovKSB7XG4gICAgICAgICAgICAgICAgLy8gdW5rZXllZFxuICAgICAgICAgICAgICAgIHBhdGNoVW5rZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNoaWxkcmVuIGhhcyAzIHBvc3NpYmlsaXRpZXM6IHRleHQsIGFycmF5IG9yIG5vIGNoaWxkcmVuLlxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgOCAvKiBTaGFwZUZsYWdzLlRFWFRfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgIC8vIHRleHQgY2hpbGRyZW4gZmFzdCBwYXRoXG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMyICE9PSBjMSkge1xuICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIGMyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgICAgIC8vIHByZXYgY2hpbGRyZW4gd2FzIGFycmF5XG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHdvIGFycmF5cywgY2Fubm90IGFzc3VtZSBhbnl0aGluZywgZG8gZnVsbCBkaWZmXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmV3IGNoaWxkcmVuLCBqdXN0IHVubW91bnQgb2xkXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldiBjaGlsZHJlbiB3YXMgdGV4dCBPUiBudWxsXG4gICAgICAgICAgICAgICAgLy8gbmV3IGNoaWxkcmVuIGlzIGFycmF5IE9SIG51bGxcbiAgICAgICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbW91bnQgbmV3IGlmIGFycmF5XG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwYXRjaFVua2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgYzEgPSBjMSB8fCBFTVBUWV9BUlI7XG4gICAgICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xuICAgICAgICBjb25zdCBvbGRMZW5ndGggPSBjMS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG5ld0xlbmd0aCA9IGMyLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbW1vbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcbiAgICAgICAgICAgIHBhdGNoKGMxW2ldLCBuZXh0Q2hpbGQsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUsIGZhbHNlLCBjb21tb25MZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbW91bnQgbmV3XG4gICAgICAgICAgICBtb3VudENoaWxkcmVuKGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBjb21tb25MZW5ndGgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBjYW4gYmUgYWxsLWtleWVkIG9yIG1peGVkXG4gICAgY29uc3QgcGF0Y2hLZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGNvbnN0IGwyID0gYzIubGVuZ3RoO1xuICAgICAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxOyAvLyBwcmV2IGVuZGluZyBpbmRleFxuICAgICAgICBsZXQgZTIgPSBsMiAtIDE7IC8vIG5leHQgZW5kaW5nIGluZGV4XG4gICAgICAgIC8vIDEuIHN5bmMgZnJvbSBzdGFydFxuICAgICAgICAvLyAoYSBiKSBjXG4gICAgICAgIC8vIChhIGIpIGQgZVxuICAgICAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2ldO1xuICAgICAgICAgICAgY29uc3QgbjIgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pKTtcbiAgICAgICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICAgICAgICAgIHBhdGNoKG4xLCBuMiwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMi4gc3luYyBmcm9tIGVuZFxuICAgICAgICAvLyBhIChiIGMpXG4gICAgICAgIC8vIGQgZSAoYiBjKVxuICAgICAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICAgICAgICBjb25zdCBuMSA9IGMxW2UxXTtcbiAgICAgICAgICAgIGNvbnN0IG4yID0gKGMyW2UyXSA9IG9wdGltaXplZFxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbZTJdKVxuICAgICAgICAgICAgICAgIDogbm9ybWFsaXplVk5vZGUoYzJbZTJdKSk7XG4gICAgICAgICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZTEtLTtcbiAgICAgICAgICAgIGUyLS07XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4gY29tbW9uIHNlcXVlbmNlICsgbW91bnRcbiAgICAgICAgLy8gKGEgYilcbiAgICAgICAgLy8gKGEgYikgY1xuICAgICAgICAvLyBpID0gMiwgZTEgPSAxLCBlMiA9IDJcbiAgICAgICAgLy8gKGEgYilcbiAgICAgICAgLy8gYyAoYSBiKVxuICAgICAgICAvLyBpID0gMCwgZTEgPSAtMSwgZTIgPSAwXG4gICAgICAgIGlmIChpID4gZTEpIHtcbiAgICAgICAgICAgIGlmIChpIDw9IGUyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFBvcyA9IGUyICsgMTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8PSBlMikge1xuICAgICAgICAgICAgICAgICAgICBwYXRjaChudWxsLCAoYzJbaV0gPSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSksIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDQuIGNvbW1vbiBzZXF1ZW5jZSArIHVubW91bnRcbiAgICAgICAgLy8gKGEgYikgY1xuICAgICAgICAvLyAoYSBiKVxuICAgICAgICAvLyBpID0gMiwgZTEgPSAyLCBlMiA9IDFcbiAgICAgICAgLy8gYSAoYiBjKVxuICAgICAgICAvLyAoYiBjKVxuICAgICAgICAvLyBpID0gMCwgZTEgPSAwLCBlMiA9IC0xXG4gICAgICAgIGVsc2UgaWYgKGkgPiBlMikge1xuICAgICAgICAgICAgd2hpbGUgKGkgPD0gZTEpIHtcbiAgICAgICAgICAgICAgICB1bm1vdW50KGMxW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNS4gdW5rbm93biBzZXF1ZW5jZVxuICAgICAgICAvLyBbaSAuLi4gZTEgKyAxXTogYSBiIFtjIGQgZV0gZiBnXG4gICAgICAgIC8vIFtpIC4uLiBlMiArIDFdOiBhIGIgW2UgZCBjIGhdIGYgZ1xuICAgICAgICAvLyBpID0gMiwgZTEgPSA0LCBlMiA9IDVcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzMSA9IGk7IC8vIHByZXYgc3RhcnRpbmcgaW5kZXhcbiAgICAgICAgICAgIGNvbnN0IHMyID0gaTsgLy8gbmV4dCBzdGFydGluZyBpbmRleFxuICAgICAgICAgICAgLy8gNS4xIGJ1aWxkIGtleTppbmRleCBtYXAgZm9yIG5ld0NoaWxkcmVuXG4gICAgICAgICAgICBjb25zdCBrZXlUb05ld0luZGV4TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChpID0gczI7IGkgPD0gZTI7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IChjMltpXSA9IG9wdGltaXplZFxuICAgICAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxuICAgICAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRDaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleVRvTmV3SW5kZXhNYXAuaGFzKG5leHRDaGlsZC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYER1cGxpY2F0ZSBrZXlzIGZvdW5kIGR1cmluZyB1cGRhdGU6YCwgSlNPTi5zdHJpbmdpZnkobmV4dENoaWxkLmtleSksIGBNYWtlIHN1cmUga2V5cyBhcmUgdW5pcXVlLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGtleVRvTmV3SW5kZXhNYXAuc2V0KG5leHRDaGlsZC5rZXksIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDUuMiBsb29wIHRocm91Z2ggb2xkIGNoaWxkcmVuIGxlZnQgdG8gYmUgcGF0Y2hlZCBhbmQgdHJ5IHRvIHBhdGNoXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBub2RlcyAmIHJlbW92ZSBub2RlcyB0aGF0IGFyZSBubyBsb25nZXIgcHJlc2VudFxuICAgICAgICAgICAgbGV0IGo7XG4gICAgICAgICAgICBsZXQgcGF0Y2hlZCA9IDA7XG4gICAgICAgICAgICBjb25zdCB0b0JlUGF0Y2hlZCA9IGUyIC0gczIgKyAxO1xuICAgICAgICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAvLyB1c2VkIHRvIHRyYWNrIHdoZXRoZXIgYW55IG5vZGUgaGFzIG1vdmVkXG4gICAgICAgICAgICBsZXQgbWF4TmV3SW5kZXhTb0ZhciA9IDA7XG4gICAgICAgICAgICAvLyB3b3JrcyBhcyBNYXA8bmV3SW5kZXgsIG9sZEluZGV4PlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IG9sZEluZGV4IGlzIG9mZnNldCBieSArMVxuICAgICAgICAgICAgLy8gYW5kIG9sZEluZGV4ID0gMCBpcyBhIHNwZWNpYWwgdmFsdWUgaW5kaWNhdGluZyB0aGUgbmV3IG5vZGUgaGFzXG4gICAgICAgICAgICAvLyBubyBjb3JyZXNwb25kaW5nIG9sZCBub2RlLlxuICAgICAgICAgICAgLy8gdXNlZCBmb3IgZGV0ZXJtaW5pbmcgbG9uZ2VzdCBzdGFibGUgc3Vic2VxdWVuY2VcbiAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4VG9PbGRJbmRleE1hcCA9IG5ldyBBcnJheSh0b0JlUGF0Y2hlZCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9CZVBhdGNoZWQ7IGkrKylcbiAgICAgICAgICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gczE7IGkgPD0gZTE7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZDaGlsZCA9IGMxW2ldO1xuICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkID49IHRvQmVQYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbCBuZXcgY2hpbGRyZW4gaGF2ZSBiZWVuIHBhdGNoZWQgc28gdGhpcyBjYW4gb25seSBiZSBhIHJlbW92YWxcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG5ld0luZGV4O1xuICAgICAgICAgICAgICAgIGlmIChwcmV2Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBrZXlUb05ld0luZGV4TWFwLmdldChwcmV2Q2hpbGQua2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGtleS1sZXNzIG5vZGUsIHRyeSB0byBsb2NhdGUgYSBrZXktbGVzcyBub2RlIG9mIHRoZSBzYW1lIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gczI7IGogPD0gZTI7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtqIC0gczJdID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHByZXZDaGlsZCwgYzJbal0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtuZXdJbmRleCAtIHMyXSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gbWF4TmV3SW5kZXhTb0Zhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TmV3SW5kZXhTb0ZhciA9IG5ld0luZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKHByZXZDaGlsZCwgYzJbbmV3SW5kZXhdLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA1LjMgbW92ZSBhbmQgbW91bnRcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIGxvbmdlc3Qgc3RhYmxlIHN1YnNlcXVlbmNlIG9ubHkgd2hlbiBub2RlcyBoYXZlIG1vdmVkXG4gICAgICAgICAgICBjb25zdCBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSA9IG1vdmVkXG4gICAgICAgICAgICAgICAgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApXG4gICAgICAgICAgICAgICAgOiBFTVBUWV9BUlI7XG4gICAgICAgICAgICBqID0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIC8vIGxvb3BpbmcgYmFja3dhcmRzIHNvIHRoYXQgd2UgY2FuIHVzZSBsYXN0IHBhdGNoZWQgbm9kZSBhcyBhbmNob3JcbiAgICAgICAgICAgIGZvciAoaSA9IHRvQmVQYXRjaGVkIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzMiArIGk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0SW5kZXggKyAxIDwgbDIgPyBjMltuZXh0SW5kZXggKyAxXS5lbCA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdW50IG5ld1xuICAgICAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGlmOlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBubyBzdGFibGUgc3Vic2VxdWVuY2UgKGUuZy4gYSByZXZlcnNlKVxuICAgICAgICAgICAgICAgICAgICAvLyBPUiBjdXJyZW50IG5vZGUgaXMgbm90IGFtb25nIHRoZSBzdGFibGUgc2VxdWVuY2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlW2pdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlKG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIDIgLyogTW92ZVR5cGUuUkVPUkRFUiAqLyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1vdmUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSwgcGFyZW50U3VzcGVuc2UgPSBudWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZWwsIHR5cGUsIHRyYW5zaXRpb24sIGNoaWxkcmVuLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgbW92ZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgICAgIHZub2RlLnN1c3BlbnNlLm1vdmUoY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogU2hhcGVGbGFncy5URUxFUE9SVCAqLykge1xuICAgICAgICAgICAgdHlwZS5tb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW50ZXJuYWxzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICAgICAgICBtb3ZlU3RhdGljTm9kZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNpbmdsZSBub2Rlc1xuICAgICAgICBjb25zdCBuZWVkVHJhbnNpdGlvbiA9IG1vdmVUeXBlICE9PSAyIC8qIE1vdmVUeXBlLlJFT1JERVIgKi8gJiZcbiAgICAgICAgICAgIHNoYXBlRmxhZyAmIDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovICYmXG4gICAgICAgICAgICB0cmFuc2l0aW9uO1xuICAgICAgICBpZiAobmVlZFRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIGlmIChtb3ZlVHlwZSA9PT0gMCAvKiBNb3ZlVHlwZS5FTlRFUiAqLykge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gdHJhbnNpdGlvbi5lbnRlcihlbCksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUsIGFmdGVyTGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlID0gKCkgPT4gaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlMZWF2ZShlbCwgcmVtb3ZlLCBwZXJmb3JtTGVhdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybUxlYXZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB1bm1vdW50ID0gKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3BzLCByZWYsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4sIHNoYXBlRmxhZywgcGF0Y2hGbGFnLCBkaXJzIH0gPSB2bm9kZTtcbiAgICAgICAgLy8gdW5zZXQgcmVmXG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMjU2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFICovKSB7XG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmRlYWN0aXZhdGUodm5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNob3VsZEludm9rZURpcnMgPSBzaGFwZUZsYWcgJiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyAmJiBkaXJzO1xuICAgICAgICBjb25zdCBzaG91bGRJbnZva2VWbm9kZUhvb2sgPSAhaXNBc3luY1dyYXBwZXIodm5vZGUpO1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmXG4gICAgICAgICAgICAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZVVubW91bnQpKSB7XG4gICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgdW5tb3VudENvbXBvbmVudCh2bm9kZS5jb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgICAgICAgICB2bm9kZS5zdXNwZW5zZS51bm1vdW50KHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNob3VsZEludm9rZURpcnMpIHtcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVVbm1vdW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogU2hhcGVGbGFncy5URUxFUE9SVCAqLykge1xuICAgICAgICAgICAgICAgIHZub2RlLnR5cGUucmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQsIGludGVybmFscywgZG9SZW1vdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZHluYW1pY0NoaWxkcmVuICYmXG4gICAgICAgICAgICAgICAgLy8gIzExNTM6IGZhc3QgcGF0aCBzaG91bGQgbm90IGJlIHRha2VuIGZvciBub24tc3RhYmxlICh2LWZvcikgZnJhZ21lbnRzXG4gICAgICAgICAgICAgICAgKHR5cGUgIT09IEZyYWdtZW50IHx8XG4gICAgICAgICAgICAgICAgICAgIChwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0IC8qIFBhdGNoRmxhZ3MuU1RBQkxFX0ZSQUdNRU5UICovKSkpIHtcbiAgICAgICAgICAgICAgICAvLyBmYXN0IHBhdGggZm9yIGJsb2NrIG5vZGVzOiBvbmx5IG5lZWQgdG8gdW5tb3VudCBkeW5hbWljIGNoaWxkcmVuLlxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihkeW5hbWljQ2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCh0eXBlID09PSBGcmFnbWVudCAmJlxuICAgICAgICAgICAgICAgIHBhdGNoRmxhZyAmXG4gICAgICAgICAgICAgICAgICAgICgxMjggLyogUGF0Y2hGbGFncy5LRVlFRF9GUkFHTUVOVCAqLyB8IDI1NiAvKiBQYXRjaEZsYWdzLlVOS0VZRURfRlJBR01FTlQgKi8pKSB8fFxuICAgICAgICAgICAgICAgICghb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkb1JlbW92ZSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZSh2bm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzaG91bGRJbnZva2VWbm9kZUhvb2sgJiZcbiAgICAgICAgICAgICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSkgfHxcbiAgICAgICAgICAgIHNob3VsZEludm9rZURpcnMpIHtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgICAgIHNob3VsZEludm9rZURpcnMgJiZcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAndW5tb3VudGVkJyk7XG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZSA9IHZub2RlID0+IHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCBlbCwgYW5jaG9yLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgdm5vZGUucGF0Y2hGbGFnID4gMCAmJlxuICAgICAgICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyAmIDIwNDggLyogUGF0Y2hGbGFncy5ERVZfUk9PVF9GUkFHTUVOVCAqLyAmJlxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgICAgICAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgICAgICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RSZW1vdmUoY2hpbGQuZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRnJhZ21lbnQoZWwsIGFuY2hvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkICYmIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gJiZcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZCkge1xuICAgICAgICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcbiAgICAgICAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgICAgICAgICAgZGVsYXlMZWF2ZSh2bm9kZS5lbCwgcGVyZm9ybVJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGVyZm9ybVJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xuICAgICAgICAvLyBGb3IgZnJhZ21lbnRzLCBkaXJlY3RseSByZW1vdmUgYWxsIGNvbnRhaW5lZCBET00gbm9kZXMuXG4gICAgICAgIC8vIChmcmFnbWVudCBjaGlsZCBub2RlcyBjYW5ub3QgaGF2ZSB0cmFuc2l0aW9uKVxuICAgICAgICBsZXQgbmV4dDtcbiAgICAgICAgd2hpbGUgKGN1ciAhPT0gZW5kKSB7XG4gICAgICAgICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGN1cik7XG4gICAgICAgICAgICBob3N0UmVtb3ZlKGN1cik7XG4gICAgICAgICAgICBjdXIgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGhvc3RSZW1vdmUoZW5kKTtcbiAgICB9O1xuICAgIGNvbnN0IHVubW91bnRDb21wb25lbnQgPSAoaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSkgPT4ge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgICAgICAgdW5yZWdpc3RlckhNUihpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBidW0sIHNjb3BlLCB1cGRhdGUsIHN1YlRyZWUsIHVtIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgLy8gYmVmb3JlVW5tb3VudCBob29rXG4gICAgICAgIGlmIChidW0pIHtcbiAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJ1bSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5lbWl0KCdob29rOmJlZm9yZURlc3Ryb3knKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdG9wIGVmZmVjdHMgaW4gY29tcG9uZW50IHNjb3BlXG4gICAgICAgIHNjb3BlLnN0b3AoKTtcbiAgICAgICAgLy8gdXBkYXRlIG1heSBiZSBudWxsIGlmIGEgY29tcG9uZW50IGlzIHVubW91bnRlZCBiZWZvcmUgaXRzIGFzeW5jXG4gICAgICAgIC8vIHNldHVwIGhhcyByZXNvbHZlZC5cbiAgICAgICAgaWYgKHVwZGF0ZSkge1xuICAgICAgICAgICAgLy8gc28gdGhhdCBzY2hlZHVsZXIgd2lsbCBubyBsb25nZXIgaW52b2tlIGl0XG4gICAgICAgICAgICB1cGRhdGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB1bm1vdW50KHN1YlRyZWUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVubW91bnRlZCBob29rXG4gICAgICAgIGlmICh1bSkge1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW5zdGFuY2UuZW1pdCgnaG9vazpkZXN0cm95ZWQnKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBpbnN0YW5jZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgLy8gQSBjb21wb25lbnQgd2l0aCBhc3luYyBkZXAgaW5zaWRlIGEgcGVuZGluZyBzdXNwZW5zZSBpcyB1bm1vdW50ZWQgYmVmb3JlXG4gICAgICAgIC8vIGl0cyBhc3luYyBkZXAgcmVzb2x2ZXMuIFRoaXMgc2hvdWxkIHJlbW92ZSB0aGUgZGVwIGZyb20gdGhlIHN1c3BlbnNlLCBhbmRcbiAgICAgICAgLy8gY2F1c2UgdGhlIHN1c3BlbnNlIHRvIHJlc29sdmUgaW1tZWRpYXRlbHkgaWYgdGhhdCB3YXMgdGhlIGxhc3QgZGVwLlxuICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiZcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiZcbiAgICAgICAgICAgICFwYXJlbnRTdXNwZW5zZS5pc1VubW91bnRlZCAmJlxuICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgJiZcbiAgICAgICAgICAgICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkICYmXG4gICAgICAgICAgICBpbnN0YW5jZS5zdXNwZW5zZUlkID09PSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZS5kZXBzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHVubW91bnQoY2hpbGRyZW5baV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlLCBvcHRpbWl6ZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXROZXh0SG9zdE5vZGUgPSB2bm9kZSA9PiB7XG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0TmV4dEhvc3ROb2RlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiB2bm9kZS5zdXNwZW5zZS5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvc3ROZXh0U2libGluZygodm5vZGUuYW5jaG9yIHx8IHZub2RlLmVsKSk7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgaXNTVkcpID0+IHtcbiAgICAgICAgaWYgKHZub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuX3Zub2RlKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChjb250YWluZXIuX3Zub2RlLCBudWxsLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhdGNoKGNvbnRhaW5lci5fdm5vZGUgfHwgbnVsbCwgdm5vZGUsIGNvbnRhaW5lciwgbnVsbCwgbnVsbCwgbnVsbCwgaXNTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGZsdXNoUHJlRmx1c2hDYnMoKTtcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICAgIH07XG4gICAgY29uc3QgaW50ZXJuYWxzID0ge1xuICAgICAgICBwOiBwYXRjaCxcbiAgICAgICAgdW06IHVubW91bnQsXG4gICAgICAgIG06IG1vdmUsXG4gICAgICAgIHI6IHJlbW92ZSxcbiAgICAgICAgbXQ6IG1vdW50Q29tcG9uZW50LFxuICAgICAgICBtYzogbW91bnRDaGlsZHJlbixcbiAgICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXG4gICAgICAgIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLFxuICAgICAgICBuOiBnZXROZXh0SG9zdE5vZGUsXG4gICAgICAgIG86IG9wdGlvbnNcbiAgICB9O1xuICAgIGxldCBoeWRyYXRlO1xuICAgIGxldCBoeWRyYXRlTm9kZTtcbiAgICBpZiAoY3JlYXRlSHlkcmF0aW9uRm5zKSB7XG4gICAgICAgIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV0gPSBjcmVhdGVIeWRyYXRpb25GbnMoaW50ZXJuYWxzKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICBoeWRyYXRlLFxuICAgICAgICBjcmVhdGVBcHA6IGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZVJlY3Vyc2UoeyBlZmZlY3QsIHVwZGF0ZSB9LCBhbGxvd2VkKSB7XG4gICAgZWZmZWN0LmFsbG93UmVjdXJzZSA9IHVwZGF0ZS5hbGxvd1JlY3Vyc2UgPSBhbGxvd2VkO1xufVxuLyoqXG4gKiAjMTE1NlxuICogV2hlbiBhIGNvbXBvbmVudCBpcyBITVItZW5hYmxlZCwgd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCBhbGwgc3RhdGljIG5vZGVzXG4gKiBpbnNpZGUgYSBibG9jayBhbHNvIGluaGVyaXQgdGhlIERPTSBlbGVtZW50IGZyb20gdGhlIHByZXZpb3VzIHRyZWUgc28gdGhhdFxuICogSE1SIHVwZGF0ZXMgKHdoaWNoIGFyZSBmdWxsIHVwZGF0ZXMpIGNhbiByZXRyaWV2ZSB0aGUgZWxlbWVudCBmb3IgcGF0Y2hpbmcuXG4gKlxuICogIzIwODBcbiAqIEluc2lkZSBrZXllZCBgdGVtcGxhdGVgIGZyYWdtZW50IHN0YXRpYyBjaGlsZHJlbiwgaWYgYSBmcmFnbWVudCBpcyBtb3ZlZCxcbiAqIHRoZSBjaGlsZHJlbiB3aWxsIGFsd2F5cyBiZSBtb3ZlZC4gVGhlcmVmb3JlLCBpbiBvcmRlciB0byBlbnN1cmUgY29ycmVjdCBtb3ZlXG4gKiBwb3NpdGlvbiwgZWwgc2hvdWxkIGJlIGluaGVyaXRlZCBmcm9tIHByZXZpb3VzIG5vZGVzLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgc2hhbGxvdyA9IGZhbHNlKSB7XG4gICAgY29uc3QgY2gxID0gbjEuY2hpbGRyZW47XG4gICAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XG4gICAgaWYgKGlzQXJyYXkoY2gxKSAmJiBpc0FycmF5KGNoMikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaDEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb25seSBjYWxsZWQgaW4gdGhlIG9wdGltaXplZCBwYXRoIHNvIGFycmF5IGNoaWxkcmVuIGFyZVxuICAgICAgICAgICAgLy8gZ3VhcmFudGVlZCB0byBiZSB2bm9kZXNcbiAgICAgICAgICAgIGNvbnN0IGMxID0gY2gxW2ldO1xuICAgICAgICAgICAgbGV0IGMyID0gY2gyW2ldO1xuICAgICAgICAgICAgaWYgKGMyLnNoYXBlRmxhZyAmIDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoYzIucGF0Y2hGbGFnIDw9IDAgfHwgYzIucGF0Y2hGbGFnID09PSAzMiAvKiBQYXRjaEZsYWdzLkhZRFJBVEVfRVZFTlRTICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGMyID0gY2gyW2ldID0gY2xvbmVJZk1vdW50ZWQoY2gyW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFzaGFsbG93KVxuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKGMxLCBjMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAjNjg1MiBhbHNvIGluaGVyaXQgZm9yIHRleHQgbm9kZXNcbiAgICAgICAgICAgIGlmIChjMi50eXBlID09PSBUZXh0KSB7XG4gICAgICAgICAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFsc28gaW5oZXJpdCBmb3IgY29tbWVudCBub2RlcywgYnV0IG5vdCBwbGFjZWhvbGRlcnMgKGUuZy4gdi1pZiB3aGljaFxuICAgICAgICAgICAgLy8gd291bGQgaGF2ZSByZWNlaXZlZCAuZWwgZHVyaW5nIGJsb2NrIHBhdGNoKVxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjMi50eXBlID09PSBDb21tZW50ICYmICFjMi5lbCkge1xuICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb25nZXN0X2luY3JlYXNpbmdfc3Vic2VxdWVuY2VcbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xuICAgIGNvbnN0IHAgPSBhcnIuc2xpY2UoKTtcbiAgICBjb25zdCByZXN1bHQgPSBbMF07XG4gICAgbGV0IGksIGosIHUsIHYsIGM7XG4gICAgY29uc3QgbGVuID0gYXJyLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgYXJySSA9IGFycltpXTtcbiAgICAgICAgaWYgKGFyckkgIT09IDApIHtcbiAgICAgICAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcbiAgICAgICAgICAgICAgICBwW2ldID0gajtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHUgPSAwO1xuICAgICAgICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKHUgPCB2KSB7XG4gICAgICAgICAgICAgICAgYyA9ICh1ICsgdikgPj4gMTtcbiAgICAgICAgICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XG4gICAgICAgICAgICAgICAgICAgIHUgPSBjICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHYgPSBjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcbiAgICAgICAgICAgICAgICBpZiAodSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcFtpXSA9IHJlc3VsdFt1IC0gMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdFt1XSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdSA9IHJlc3VsdC5sZW5ndGg7XG4gICAgdiA9IHJlc3VsdFt1IC0gMV07XG4gICAgd2hpbGUgKHUtLSA+IDApIHtcbiAgICAgICAgcmVzdWx0W3VdID0gdjtcbiAgICAgICAgdiA9IHBbdl07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmNvbnN0IGlzVGVsZXBvcnQgPSAodHlwZSkgPT4gdHlwZS5fX2lzVGVsZXBvcnQ7XG5jb25zdCBpc1RlbGVwb3J0RGlzYWJsZWQgPSAocHJvcHMpID0+IHByb3BzICYmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5kaXNhYmxlZCA9PT0gJycpO1xuY29uc3QgaXNUYXJnZXRTVkcgPSAodGFyZ2V0KSA9PiB0eXBlb2YgU1ZHRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAocHJvcHMsIHNlbGVjdCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gcHJvcHMgJiYgcHJvcHMudG87XG4gICAgaWYgKGlzU3RyaW5nKHRhcmdldFNlbGVjdG9yKSkge1xuICAgICAgICBpZiAoIXNlbGVjdCkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybiQxKGBDdXJyZW50IHJlbmRlcmVyIGRvZXMgbm90IHN1cHBvcnQgc3RyaW5nIHRhcmdldCBmb3IgVGVsZXBvcnRzLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYChtaXNzaW5nIHF1ZXJ5U2VsZWN0b3IgcmVuZGVyZXIgb3B0aW9uKWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBzZWxlY3QodGFyZ2V0U2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBGYWlsZWQgdG8gbG9jYXRlIFRlbGVwb3J0IHRhcmdldCB3aXRoIHNlbGVjdG9yIFwiJHt0YXJnZXRTZWxlY3Rvcn1cIi4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgTm90ZSB0aGUgdGFyZ2V0IGVsZW1lbnQgbXVzdCBleGlzdCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIC0gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgaS5lLiB0aGUgdGFyZ2V0IGNhbm5vdCBiZSByZW5kZXJlZCBieSB0aGUgY29tcG9uZW50IGl0c2VsZiwgYW5kIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGlkZWFsbHkgc2hvdWxkIGJlIG91dHNpZGUgb2YgdGhlIGVudGlyZSBWdWUgY29tcG9uZW50IHRyZWUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICF0YXJnZXRTZWxlY3RvciAmJiAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgICAgICAgd2FybiQxKGBJbnZhbGlkIFRlbGVwb3J0IHRhcmdldDogJHt0YXJnZXRTZWxlY3Rvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0U2VsZWN0b3I7XG4gICAgfVxufTtcbmNvbnN0IFRlbGVwb3J0SW1wbCA9IHtcbiAgICBfX2lzVGVsZXBvcnQ6IHRydWUsXG4gICAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xuICAgICAgICBjb25zdCB7IG1jOiBtb3VudENoaWxkcmVuLCBwYzogcGF0Y2hDaGlsZHJlbiwgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sIG86IHsgaW5zZXJ0LCBxdWVyeVNlbGVjdG9yLCBjcmVhdGVUZXh0LCBjcmVhdGVDb21tZW50IH0gfSA9IGludGVybmFscztcbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjIucHJvcHMpO1xuICAgICAgICBsZXQgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4gfSA9IG4yO1xuICAgICAgICAvLyAjMzMwMlxuICAgICAgICAvLyBITVIgdXBkYXRlZCwgZm9yY2UgZnVsbCBkaWZmXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpbnNlcnQgYW5jaG9ycyBpbiB0aGUgbWFpbiB2aWV3XG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChuMi5lbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tbWVudCgndGVsZXBvcnQgc3RhcnQnKVxuICAgICAgICAgICAgICAgIDogY3JlYXRlVGV4dCgnJykpO1xuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgICAgICA/IGNyZWF0ZUNvbW1lbnQoJ3RlbGVwb3J0IGVuZCcpXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVUZXh0KCcnKSk7XG4gICAgICAgICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgIGluc2VydChtYWluQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAobjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChuMi5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoJycpKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBpbnNlcnQodGFyZ2V0QW5jaG9yLCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgIC8vICMyNjUyIHdlIGNvdWxkIGJlIHRlbGVwb3J0aW5nIGZyb20gYSBub24tU1ZHIHRyZWUgaW50byBhbiBTVkcgdHJlZVxuICAgICAgICAgICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIG1vdW50OicsIHRhcmdldCwgYCgke3R5cGVvZiB0YXJnZXR9KWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbW91bnQgPSAoY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUZWxlcG9ydCAqYWx3YXlzKiBoYXMgQXJyYXkgY2hpbGRyZW4uIFRoaXMgaXMgZW5mb3JjZWQgaW4gYm90aCB0aGVcbiAgICAgICAgICAgICAgICAvLyBjb21waWxlciBhbmQgdm5vZGUgY2hpbGRyZW4gbm9ybWFsaXphdGlvbi5cbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgICAgICAgICBtb3VudENoaWxkcmVuKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgbW91bnQoY29udGFpbmVyLCBtYWluQW5jaG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBjb250ZW50XG4gICAgICAgICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgICAgICAgY29uc3QgbWFpbkFuY2hvciA9IChuMi5hbmNob3IgPSBuMS5hbmNob3IpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IG4xLnRhcmdldCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRBbmNob3IgPSAobjIudGFyZ2V0QW5jaG9yID0gbjEudGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHdhc0Rpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4xLnByb3BzKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250YWluZXIgPSB3YXNEaXNhYmxlZCA/IGNvbnRhaW5lciA6IHRhcmdldDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBbmNob3IgPSB3YXNEaXNhYmxlZCA/IG1haW5BbmNob3IgOiB0YXJnZXRBbmNob3I7XG4gICAgICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCk7XG4gICAgICAgICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFzdCBwYXRoIHdoZW4gdGhlIHRlbGVwb3J0IGhhcHBlbnMgdG8gYmUgYSBibG9jayByb290XG4gICAgICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBjdXJyZW50Q29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcbiAgICAgICAgICAgICAgICAvLyBldmVuIGluIGJsb2NrIHRyZWUgbW9kZSB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBhbGwgcm9vdC1sZXZlbCBub2Rlc1xuICAgICAgICAgICAgICAgIC8vIGluIHRoZSB0ZWxlcG9ydCBpbmhlcml0IHByZXZpb3VzIERPTSByZWZlcmVuY2VzIHNvIHRoYXQgdGhleSBjYW5cbiAgICAgICAgICAgICAgICAvLyBiZSBtb3ZlZCBpbiBmdXR1cmUgcGF0Y2hlcy5cbiAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghb3B0aW1pemVkKSB7XG4gICAgICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGN1cnJlbnRDb250YWluZXIsIGN1cnJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIGlmICghd2FzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5hYmxlZCAtPiBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIGludG8gbWFpbiBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCBjb250YWluZXIsIG1haW5BbmNob3IsIGludGVybmFscywgMSAvKiBUZWxlcG9ydE1vdmVUeXBlcy5UT0dHTEUgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRhcmdldCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgaWYgKChuMi5wcm9wcyAmJiBuMi5wcm9wcy50bykgIT09IChuMS5wcm9wcyAmJiBuMS5wcm9wcy50bykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhcmdldCA9IChuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIG5leHRUYXJnZXQsIG51bGwsIGludGVybmFscywgMCAvKiBUZWxlcG9ydE1vdmVUeXBlcy5UQVJHRVRfQ0hBTkdFICovKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMSgnSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gdXBkYXRlOicsIHRhcmdldCwgYCgke3R5cGVvZiB0YXJnZXR9KWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGVkIC0+IGVuYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpbnRvIHRlbGVwb3J0IHRhcmdldFxuICAgICAgICAgICAgICAgICAgICBtb3ZlVGVsZXBvcnQobjIsIHRhcmdldCwgdGFyZ2V0QW5jaG9yLCBpbnRlcm5hbHMsIDEgLyogVGVsZXBvcnRNb3ZlVHlwZXMuVE9HR0xFICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlQ3NzVmFycyhuMik7XG4gICAgfSxcbiAgICByZW1vdmUodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgeyB1bTogdW5tb3VudCwgbzogeyByZW1vdmU6IGhvc3RSZW1vdmUgfSB9LCBkb1JlbW92ZSkge1xuICAgICAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGFuY2hvciwgdGFyZ2V0QW5jaG9yLCB0YXJnZXQsIHByb3BzIH0gPSB2bm9kZTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaG9zdFJlbW92ZSh0YXJnZXRBbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFuIHVubW91bnRlZCB0ZWxlcG9ydCBzaG91bGQgYWx3YXlzIHJlbW92ZSBpdHMgY2hpbGRyZW4gaWYgbm90IGRpc2FibGVkXG4gICAgICAgIGlmIChkb1JlbW92ZSB8fCAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgICAgICAgaG9zdFJlbW92ZShhbmNob3IpO1xuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQoY2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUsICEhY2hpbGQuZHluYW1pY0NoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1vdmU6IG1vdmVUZWxlcG9ydCxcbiAgICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcbn07XG5mdW5jdGlvbiBtb3ZlVGVsZXBvcnQodm5vZGUsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCB7IG86IHsgaW5zZXJ0IH0sIG06IG1vdmUgfSwgbW92ZVR5cGUgPSAyIC8qIFRlbGVwb3J0TW92ZVR5cGVzLlJFT1JERVIgKi8pIHtcbiAgICAvLyBtb3ZlIHRhcmdldCBhbmNob3IgaWYgdGhpcyBpcyBhIHRhcmdldCBjaGFuZ2UuXG4gICAgaWYgKG1vdmVUeXBlID09PSAwIC8qIFRlbGVwb3J0TW92ZVR5cGVzLlRBUkdFVF9DSEFOR0UgKi8pIHtcbiAgICAgICAgaW5zZXJ0KHZub2RlLnRhcmdldEFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICAgIH1cbiAgICBjb25zdCB7IGVsLCBhbmNob3IsIHNoYXBlRmxhZywgY2hpbGRyZW4sIHByb3BzIH0gPSB2bm9kZTtcbiAgICBjb25zdCBpc1Jlb3JkZXIgPSBtb3ZlVHlwZSA9PT0gMiAvKiBUZWxlcG9ydE1vdmVUeXBlcy5SRU9SREVSICovO1xuICAgIC8vIG1vdmUgbWFpbiB2aWV3IGFuY2hvciBpZiB0aGlzIGlzIGEgcmUtb3JkZXIuXG4gICAgaWYgKGlzUmVvcmRlcikge1xuICAgICAgICBpbnNlcnQoZWwsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgICB9XG4gICAgLy8gaWYgdGhpcyBpcyBhIHJlLW9yZGVyIGFuZCB0ZWxlcG9ydCBpcyBlbmFibGVkIChjb250ZW50IGlzIGluIHRhcmdldClcbiAgICAvLyBkbyBub3QgbW92ZSBjaGlsZHJlbi4gU28gdGhlIG9wcG9zaXRlIGlzOiBvbmx5IG1vdmUgY2hpbGRyZW4gaWYgdGhpc1xuICAgIC8vIGlzIG5vdCBhIHJlb3JkZXIsIG9yIHRoZSB0ZWxlcG9ydCBpcyBkaXNhYmxlZFxuICAgIGlmICghaXNSZW9yZGVyIHx8IGlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgICAgLy8gVGVsZXBvcnQgaGFzIGVpdGhlciBBcnJheSBjaGlsZHJlbiBvciBubyBjaGlsZHJlbi5cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgMiAvKiBNb3ZlVHlwZS5SRU9SREVSICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBtb3ZlIG1haW4gdmlldyBhbmNob3IgaWYgdGhpcyBpcyBhIHJlLW9yZGVyLlxuICAgIGlmIChpc1Jlb3JkZXIpIHtcbiAgICAgICAgaW5zZXJ0KGFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGh5ZHJhdGVUZWxlcG9ydChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgbzogeyBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcXVlcnlTZWxlY3RvciB9IH0sIGh5ZHJhdGVDaGlsZHJlbikge1xuICAgIGNvbnN0IHRhcmdldCA9ICh2bm9kZS50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KHZub2RlLnByb3BzLCBxdWVyeVNlbGVjdG9yKSk7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgICAvLyBpZiBtdWx0aXBsZSB0ZWxlcG9ydHMgcmVuZGVyZWQgdG8gdGhlIHNhbWUgdGFyZ2V0IGVsZW1lbnQsIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gcGljayB1cCBmcm9tIHdoZXJlIHRoZSBsYXN0IHRlbGVwb3J0IGZpbmlzaGVkIGluc3RlYWQgb2YgdGhlIGZpcnN0IG5vZGVcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldC5fbHBhIHx8IHRhcmdldC5maXJzdENoaWxkO1xuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgaWYgKGlzVGVsZXBvcnREaXNhYmxlZCh2bm9kZS5wcm9wcykpIHtcbiAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBwYXJlbnROb2RlKG5vZGUpLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgIC8vIGxvb2thaGVhZCB1bnRpbCB3ZSBmaW5kIHRoZSB0YXJnZXQgYW5jaG9yXG4gICAgICAgICAgICAgICAgLy8gd2UgY2Fubm90IHJlbHkgb24gcmV0dXJuIHZhbHVlIG9mIGh5ZHJhdGVDaGlsZHJlbigpIGJlY2F1c2UgdGhlcmVcbiAgICAgICAgICAgICAgICAvLyBjb3VsZCBiZSBuZXN0ZWQgdGVsZXBvcnRzXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldEFuY2hvciA9IHRhcmdldE5vZGU7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRhcmdldEFuY2hvcikge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRBbmNob3IgPSBuZXh0U2libGluZyh0YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0QW5jaG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRBbmNob3Iubm9kZVR5cGUgPT09IDggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEFuY2hvci5kYXRhID09PSAndGVsZXBvcnQgYW5jaG9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Ll9scGEgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS50YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaHlkcmF0ZUNoaWxkcmVuKHRhcmdldE5vZGUsIHZub2RlLCB0YXJnZXQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVDc3NWYXJzKHZub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlLmFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IpO1xufVxuLy8gRm9yY2UtY2FzdGVkIHB1YmxpYyB0eXBpbmcgZm9yIGggYW5kIFRTWCBwcm9wcyBpbmZlcmVuY2VcbmNvbnN0IFRlbGVwb3J0ID0gVGVsZXBvcnRJbXBsO1xuZnVuY3Rpb24gdXBkYXRlQ3NzVmFycyh2bm9kZSkge1xuICAgIC8vIHByZXNlbmNlIG9mIC51dCBtZXRob2QgaW5kaWNhdGVzIG93bmVyIGNvbXBvbmVudCB1c2VzIGNzcyB2YXJzLlxuICAgIC8vIGNvZGUgcGF0aCBoZXJlIGNhbiBhc3N1bWUgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICBjb25zdCBjdHggPSB2bm9kZS5jdHg7XG4gICAgaWYgKGN0eCAmJiBjdHgudXQpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB2bm9kZS5jaGlsZHJlblswXS5lbDtcbiAgICAgICAgd2hpbGUgKG5vZGUgIT09IHZub2RlLnRhcmdldEFuY2hvcikge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpXG4gICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdi1vd25lcicsIGN0eC51aWQpO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnV0KCk7XG4gICAgfVxufVxuXG5jb25zdCBub3JtYWxpemVkQXN5bmNDb21wb25lbnRNYXAgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5QXN5bmNDb21wb25lbnQoY29tcCkge1xuICAgIGlmIChub3JtYWxpemVkQXN5bmNDb21wb25lbnRNYXAuaGFzKGNvbXApKSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkQXN5bmNDb21wb25lbnRNYXAuZ2V0KGNvbXApO1xuICAgIH1cbiAgICAvLyB3ZSBoYXZlIHRvIGNhbGwgdGhlIGZ1bmN0aW9uIGhlcmUgZHVlIHRvIGhvdyB2MidzIEFQSSB3b24ndCBleHBvc2UgdGhlXG4gICAgLy8gb3B0aW9ucyB1bnRpbCB3ZSBjYWxsIGl0XG4gICAgbGV0IHJlc29sdmU7XG4gICAgbGV0IHJlamVjdDtcbiAgICBjb25zdCBmYWxsYmFja1Byb21pc2UgPSBuZXcgUHJvbWlzZSgociwgcmopID0+IHtcbiAgICAgICAgKHJlc29sdmUgPSByKSwgKHJlamVjdCA9IHJqKTtcbiAgICB9KTtcbiAgICBjb25zdCByZXMgPSBjb21wKHJlc29sdmUsIHJlamVjdCk7XG4gICAgbGV0IGNvbnZlcnRlZDtcbiAgICBpZiAoaXNQcm9taXNlKHJlcykpIHtcbiAgICAgICAgY29udmVydGVkID0gZGVmaW5lQXN5bmNDb21wb25lbnQoKCkgPT4gcmVzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QocmVzKSAmJiAhaXNWTm9kZShyZXMpICYmICFpc0FycmF5KHJlcykpIHtcbiAgICAgICAgY29udmVydGVkID0gZGVmaW5lQXN5bmNDb21wb25lbnQoe1xuICAgICAgICAgICAgbG9hZGVyOiAoKSA9PiByZXMuY29tcG9uZW50LFxuICAgICAgICAgICAgbG9hZGluZ0NvbXBvbmVudDogcmVzLmxvYWRpbmcsXG4gICAgICAgICAgICBlcnJvckNvbXBvbmVudDogcmVzLmVycm9yLFxuICAgICAgICAgICAgZGVsYXk6IHJlcy5kZWxheSxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHJlcy50aW1lb3V0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXMgPT0gbnVsbCkge1xuICAgICAgICBjb252ZXJ0ZWQgPSBkZWZpbmVBc3luY0NvbXBvbmVudCgoKSA9PiBmYWxsYmFja1Byb21pc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udmVydGVkID0gY29tcDsgLy8gcHJvYmFibHkgYSB2MyBmdW5jdGlvbmFsIGNvbXBcbiAgICB9XG4gICAgbm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwLnNldChjb21wLCBjb252ZXJ0ZWQpO1xuICAgIHJldHVybiBjb252ZXJ0ZWQ7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lDb21wb25lbnQoY29tcCwgaW5zdGFuY2UpIHtcbiAgICBpZiAoY29tcC5fX2lzQnVpbHRJbikge1xuICAgICAgICByZXR1cm4gY29tcDtcbiAgICB9XG4gICAgLy8gMi54IGNvbnN0cnVjdG9yXG4gICAgaWYgKGlzRnVuY3Rpb24oY29tcCkgJiYgY29tcC5jaWQpIHtcbiAgICAgICAgY29tcCA9IGNvbXAub3B0aW9ucztcbiAgICB9XG4gICAgLy8gMi54IGFzeW5jIGNvbXBvbmVudFxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbXApICYmXG4gICAgICAgIGNoZWNrQ29tcGF0RW5hYmxlZChcIkNPTVBPTkVOVF9BU1lOQ1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX0FTWU5DICovLCBpbnN0YW5jZSwgY29tcCkpIHtcbiAgICAgICAgLy8gc2luY2UgYWZ0ZXIgZGlzYWJsaW5nIHRoaXMsIHBsYWluIGZ1bmN0aW9ucyBhcmUgc3RpbGwgdmFsaWQgdXNhZ2UsIGRvIG5vdFxuICAgICAgICAvLyB1c2Ugc29mdEFzc2VydCBoZXJlLlxuICAgICAgICByZXR1cm4gY29udmVydExlZ2FjeUFzeW5jQ29tcG9uZW50KGNvbXApO1xuICAgIH1cbiAgICAvLyAyLnggZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgICBpZiAoaXNPYmplY3QoY29tcCkgJiZcbiAgICAgICAgY29tcC5mdW5jdGlvbmFsICYmXG4gICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiQ09NUE9ORU5UX0ZVTkNUSU9OQUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9GVU5DVElPTkFMICovLCBpbnN0YW5jZSwgY29tcCkpIHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lGdW5jdGlvbmFsQ29tcG9uZW50KGNvbXApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcDtcbn1cblxuY29uc3QgRnJhZ21lbnQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ0ZyYWdtZW50JyA6IHVuZGVmaW5lZCk7XG5jb25zdCBUZXh0ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdUZXh0JyA6IHVuZGVmaW5lZCk7XG5jb25zdCBDb21tZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdDb21tZW50JyA6IHVuZGVmaW5lZCk7XG5jb25zdCBTdGF0aWMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ1N0YXRpYycgOiB1bmRlZmluZWQpO1xuLy8gU2luY2Ugdi1pZiBhbmQgdi1mb3IgYXJlIHRoZSB0d28gcG9zc2libGUgd2F5cyBub2RlIHN0cnVjdHVyZSBjYW4gZHluYW1pY2FsbHlcbi8vIGNoYW5nZSwgb25jZSB3ZSBjb25zaWRlciB2LWlmIGJyYW5jaGVzIGFuZCBlYWNoIHYtZm9yIGZyYWdtZW50IGEgYmxvY2ssIHdlXG4vLyBjYW4gZGl2aWRlIGEgdGVtcGxhdGUgaW50byBuZXN0ZWQgYmxvY2tzLCBhbmQgd2l0aGluIGVhY2ggYmxvY2sgdGhlIG5vZGVcbi8vIHN0cnVjdHVyZSB3b3VsZCBiZSBzdGFibGUuIFRoaXMgYWxsb3dzIHVzIHRvIHNraXAgbW9zdCBjaGlsZHJlbiBkaWZmaW5nXG4vLyBhbmQgb25seSB3b3JyeSBhYm91dCB0aGUgZHluYW1pYyBub2RlcyAoaW5kaWNhdGVkIGJ5IHBhdGNoIGZsYWdzKS5cbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcbmxldCBjdXJyZW50QmxvY2sgPSBudWxsO1xuLyoqXG4gKiBPcGVuIGEgYmxvY2suXG4gKiBUaGlzIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBgY3JlYXRlQmxvY2tgLiBJdCBjYW5ub3QgYmUgcGFydCBvZiBgY3JlYXRlQmxvY2tgXG4gKiBiZWNhdXNlIHRoZSBjaGlsZHJlbiBvZiB0aGUgYmxvY2sgYXJlIGV2YWx1YXRlZCBiZWZvcmUgYGNyZWF0ZUJsb2NrYCBpdHNlbGZcbiAqIGlzIGNhbGxlZC4gVGhlIGdlbmVyYXRlZCBjb2RlIHR5cGljYWxseSBsb29rcyBsaWtlIHRoaXM6XG4gKlxuICogYGBganNcbiAqIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAqICAgcmV0dXJuIChvcGVuQmxvY2soKSxjcmVhdGVCbG9jaygnZGl2JywgbnVsbCwgWy4uLl0pKVxuICogfVxuICogYGBgXG4gKiBkaXNhYmxlVHJhY2tpbmcgaXMgdHJ1ZSB3aGVuIGNyZWF0aW5nIGEgdi1mb3IgZnJhZ21lbnQgYmxvY2ssIHNpbmNlIGEgdi1mb3JcbiAqIGZyYWdtZW50IGFsd2F5cyBkaWZmcyBpdHMgY2hpbGRyZW4uXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XG4gICAgYmxvY2tTdGFjay5wdXNoKChjdXJyZW50QmxvY2sgPSBkaXNhYmxlVHJhY2tpbmcgPyBudWxsIDogW10pKTtcbn1cbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XG4gICAgYmxvY2tTdGFjay5wb3AoKTtcbiAgICBjdXJyZW50QmxvY2sgPSBibG9ja1N0YWNrW2Jsb2NrU3RhY2subGVuZ3RoIC0gMV0gfHwgbnVsbDtcbn1cbi8vIFdoZXRoZXIgd2Ugc2hvdWxkIGJlIHRyYWNraW5nIGR5bmFtaWMgY2hpbGQgbm9kZXMgaW5zaWRlIGEgYmxvY2suXG4vLyBPbmx5IHRyYWNrcyB3aGVuIHRoaXMgdmFsdWUgaXMgPiAwXG4vLyBXZSBhcmUgbm90IHVzaW5nIGEgc2ltcGxlIGJvb2xlYW4gYmVjYXVzZSB0aGlzIHZhbHVlIG1heSBuZWVkIHRvIGJlXG4vLyBpbmNyZW1lbnRlZC9kZWNyZW1lbnRlZCBieSBuZXN0ZWQgdXNhZ2Ugb2Ygdi1vbmNlIChzZWUgYmVsb3cpXG5sZXQgaXNCbG9ja1RyZWVFbmFibGVkID0gMTtcbi8qKlxuICogQmxvY2sgdHJhY2tpbmcgc29tZXRpbWVzIG5lZWRzIHRvIGJlIGRpc2FibGVkLCBmb3IgZXhhbXBsZSBkdXJpbmcgdGhlXG4gKiBjcmVhdGlvbiBvZiBhIHRyZWUgdGhhdCBuZWVkcyB0byBiZSBjYWNoZWQgYnkgdi1vbmNlLiBUaGUgY29tcGlsZXIgZ2VuZXJhdGVzXG4gKiBjb2RlIGxpa2UgdGhpczpcbiAqXG4gKiBgYGAganNcbiAqIF9jYWNoZVsxXSB8fCAoXG4gKiAgIHNldEJsb2NrVHJhY2tpbmcoLTEpLFxuICogICBfY2FjaGVbMV0gPSBjcmVhdGVWTm9kZSguLi4pLFxuICogICBzZXRCbG9ja1RyYWNraW5nKDEpLFxuICogICBfY2FjaGVbMV1cbiAqIClcbiAqIGBgYFxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNldEJsb2NrVHJhY2tpbmcodmFsdWUpIHtcbiAgICBpc0Jsb2NrVHJlZUVuYWJsZWQgKz0gdmFsdWU7XG59XG5mdW5jdGlvbiBzZXR1cEJsb2NrKHZub2RlKSB7XG4gICAgLy8gc2F2ZSBjdXJyZW50IGJsb2NrIGNoaWxkcmVuIG9uIHRoZSBibG9jayB2bm9kZVxuICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9XG4gICAgICAgIGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgPyBjdXJyZW50QmxvY2sgfHwgRU1QVFlfQVJSIDogbnVsbDtcbiAgICAvLyBjbG9zZSBibG9ja1xuICAgIGNsb3NlQmxvY2soKTtcbiAgICAvLyBhIGJsb2NrIGlzIGFsd2F5cyBnb2luZyB0byBiZSBwYXRjaGVkLCBzbyB0cmFjayBpdCBhcyBhIGNoaWxkIG9mIGl0c1xuICAgIC8vIHBhcmVudCBibG9ja1xuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xuICAgICAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHNoYXBlRmxhZykge1xuICAgIHJldHVybiBzZXR1cEJsb2NrKGNyZWF0ZUJhc2VWTm9kZSh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzLCBzaGFwZUZsYWcsIHRydWUgLyogaXNCbG9jayAqLykpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBibG9jayByb290IHZub2RlLiBUYWtlcyB0aGUgc2FtZSBleGFjdCBhcmd1bWVudHMgYXMgYGNyZWF0ZVZOb2RlYC5cbiAqIEEgYmxvY2sgcm9vdCBrZWVwcyB0cmFjayBvZiBkeW5hbWljIG5vZGVzIHdpdGhpbiB0aGUgYmxvY2sgaW4gdGhlXG4gKiBgZHluYW1pY0NoaWxkcmVuYCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XG4gICAgcmV0dXJuIHNldHVwQmxvY2soY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgdHJ1ZSAvKiBpc0Jsb2NrOiBwcmV2ZW50IGEgYmxvY2sgZnJvbSB0cmFja2luZyBpdHNlbGYgKi8pKTtcbn1cbmZ1bmN0aW9uIGlzVk5vZGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgbjIuc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLyAmJlxuICAgICAgICBobXJEaXJ0eUNvbXBvbmVudHMuaGFzKG4yLnR5cGUpKSB7XG4gICAgICAgIC8vICM3MDQyLCBlbnN1cmUgdGhlIHZub2RlIGJlaW5nIHVubW91bnRlZCBkdXJpbmcgSE1SXG4gICAgICAgIC8vIGJpdHdpc2Ugb3BlcmF0aW9ucyB0byByZW1vdmUga2VlcCBhbGl2ZSBmbGFnc1xuICAgICAgICBuMS5zaGFwZUZsYWcgJj0gfjI1NiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLztcbiAgICAgICAgbjIuc2hhcGVGbGFnICY9IH41MTIgLyogU2hhcGVGbGFncy5DT01QT05FTlRfS0VQVF9BTElWRSAqLztcbiAgICAgICAgLy8gSE1SIG9ubHk6IGlmIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gaG90LXVwZGF0ZWQsIGZvcmNlIGEgcmVsb2FkLlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBuMS50eXBlID09PSBuMi50eXBlICYmIG4xLmtleSA9PT0gbjIua2V5O1xufVxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xuLyoqXG4gKiBJbnRlcm5hbCBBUEkgZm9yIHJlZ2lzdGVyaW5nIGFuIGFyZ3VtZW50cyB0cmFuc2Zvcm0gZm9yIGNyZWF0ZVZOb2RlXG4gKiB1c2VkIGZvciBjcmVhdGluZyBzdHVicyBpbiB0aGUgdGVzdC11dGlsc1xuICogSXQgaXMgKmludGVybmFsKiBidXQgbmVlZHMgdG8gYmUgZXhwb3NlZCBmb3IgdGVzdC11dGlscyB0byBwaWNrIHVwIHByb3BlclxuICogdHlwaW5nc1xuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1WTm9kZUFyZ3ModHJhbnNmb3JtZXIpIHtcbiAgICB2bm9kZUFyZ3NUcmFuc2Zvcm1lciA9IHRyYW5zZm9ybWVyO1xufVxuY29uc3QgY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA9ICguLi5hcmdzKSA9PiB7XG4gICAgcmV0dXJuIF9jcmVhdGVWTm9kZSguLi4odm5vZGVBcmdzVHJhbnNmb3JtZXJcbiAgICAgICAgPyB2bm9kZUFyZ3NUcmFuc2Zvcm1lcihhcmdzLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpXG4gICAgICAgIDogYXJncykpO1xufTtcbmNvbnN0IEludGVybmFsT2JqZWN0S2V5ID0gYF9fdkludGVybmFsYDtcbmNvbnN0IG5vcm1hbGl6ZUtleSA9ICh7IGtleSB9KSA9PiBrZXkgIT0gbnVsbCA/IGtleSA6IG51bGw7XG5jb25zdCBub3JtYWxpemVSZWYgPSAoeyByZWYsIHJlZl9rZXksIHJlZl9mb3IgfSkgPT4ge1xuICAgIHJldHVybiAocmVmICE9IG51bGxcbiAgICAgICAgPyBpc1N0cmluZyhyZWYpIHx8IGlzUmVmKHJlZikgfHwgaXNGdW5jdGlvbihyZWYpXG4gICAgICAgICAgICA/IHsgaTogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCByOiByZWYsIGs6IHJlZl9rZXksIGY6ICEhcmVmX2ZvciB9XG4gICAgICAgICAgICA6IHJlZlxuICAgICAgICA6IG51bGwpO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgc2hhcGVGbGFnID0gdHlwZSA9PT0gRnJhZ21lbnQgPyAwIDogMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8sIGlzQmxvY2tOb2RlID0gZmFsc2UsIG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uID0gZmFsc2UpIHtcbiAgICBjb25zdCB2bm9kZSA9IHtcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgICAgIF9fdl9za2lwOiB0cnVlLFxuICAgICAgICB0eXBlLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAga2V5OiBwcm9wcyAmJiBub3JtYWxpemVLZXkocHJvcHMpLFxuICAgICAgICByZWY6IHByb3BzICYmIG5vcm1hbGl6ZVJlZihwcm9wcyksXG4gICAgICAgIHNjb3BlSWQ6IGN1cnJlbnRTY29wZUlkLFxuICAgICAgICBzbG90U2NvcGVJZHM6IG51bGwsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBjb21wb25lbnQ6IG51bGwsXG4gICAgICAgIHN1c3BlbnNlOiBudWxsLFxuICAgICAgICBzc0NvbnRlbnQ6IG51bGwsXG4gICAgICAgIHNzRmFsbGJhY2s6IG51bGwsXG4gICAgICAgIGRpcnM6IG51bGwsXG4gICAgICAgIHRyYW5zaXRpb246IG51bGwsXG4gICAgICAgIGVsOiBudWxsLFxuICAgICAgICBhbmNob3I6IG51bGwsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgdGFyZ2V0QW5jaG9yOiBudWxsLFxuICAgICAgICBzdGF0aWNDb3VudDogMCxcbiAgICAgICAgc2hhcGVGbGFnLFxuICAgICAgICBwYXRjaEZsYWcsXG4gICAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuOiBudWxsLFxuICAgICAgICBhcHBDb250ZXh0OiBudWxsLFxuICAgICAgICBjdHg6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZVxuICAgIH07XG4gICAgaWYgKG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uKSB7XG4gICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XG4gICAgICAgIC8vIG5vcm1hbGl6ZSBzdXNwZW5zZSBjaGlsZHJlblxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgICAgIHR5cGUubm9ybWFsaXplKHZub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgICAgICAvLyBjb21waWxlZCBlbGVtZW50IHZub2RlIC0gaWYgY2hpbGRyZW4gaXMgcGFzc2VkLCBvbmx5IHBvc3NpYmxlIHR5cGVzIGFyZVxuICAgICAgICAvLyBzdHJpbmcgb3IgQXJyYXkuXG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSBpc1N0cmluZyhjaGlsZHJlbilcbiAgICAgICAgICAgID8gOCAvKiBTaGFwZUZsYWdzLlRFWFRfQ0hJTERSRU4gKi9cbiAgICAgICAgICAgIDogMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLztcbiAgICB9XG4gICAgLy8gdmFsaWRhdGUga2V5XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xuICAgICAgICB3YXJuJDEoYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcbiAgICB9XG4gICAgLy8gdHJhY2sgdm5vZGUgZm9yIGJsb2NrIHRyZWVcbiAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJlxuICAgICAgICAvLyBhdm9pZCBhIGJsb2NrIG5vZGUgZnJvbSB0cmFja2luZyBpdHNlbGZcbiAgICAgICAgIWlzQmxvY2tOb2RlICYmXG4gICAgICAgIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xuICAgICAgICBjdXJyZW50QmxvY2sgJiZcbiAgICAgICAgLy8gcHJlc2VuY2Ugb2YgYSBwYXRjaCBmbGFnIGluZGljYXRlcyB0aGlzIG5vZGUgbmVlZHMgcGF0Y2hpbmcgb24gdXBkYXRlcy5cbiAgICAgICAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXG4gICAgICAgIC8vIGNvbXBvbmVudCBkb2Vzbid0IG5lZWQgdG8gdXBkYXRlLCBpdCBuZWVkcyB0byBwZXJzaXN0IHRoZSBpbnN0YW5jZSBvbiB0b1xuICAgICAgICAvLyB0aGUgbmV4dCB2bm9kZSBzbyB0aGF0IGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWQgbGF0ZXIuXG4gICAgICAgICh2bm9kZS5wYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pICYmXG4gICAgICAgIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxuICAgICAgICAvLyB2bm9kZSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgZHluYW1pYyBkdWUgdG8gaGFuZGxlciBjYWNoaW5nLlxuICAgICAgICB2bm9kZS5wYXRjaEZsYWcgIT09IDMyIC8qIFBhdGNoRmxhZ3MuSFlEUkFURV9FVkVOVFMgKi8pIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGNvbnZlcnRMZWdhY3lWTW9kZWxQcm9wcyh2bm9kZSk7XG4gICAgICAgIGRlZmluZUxlZ2FjeVZOb2RlUHJvcGVydGllcyh2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlID0gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gOiBfY3JlYXRlVk5vZGUpO1xuZnVuY3Rpb24gX2NyZWF0ZVZOb2RlKHR5cGUsIHByb3BzID0gbnVsbCwgY2hpbGRyZW4gPSBudWxsLCBwYXRjaEZsYWcgPSAwLCBkeW5hbWljUHJvcHMgPSBudWxsLCBpc0Jsb2NrTm9kZSA9IGZhbHNlKSB7XG4gICAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdHlwZSkge1xuICAgICAgICAgICAgd2FybiQxKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcbiAgICAgICAgfVxuICAgICAgICB0eXBlID0gQ29tbWVudDtcbiAgICB9XG4gICAgaWYgKGlzVk5vZGUodHlwZSkpIHtcbiAgICAgICAgLy8gY3JlYXRlVk5vZGUgcmVjZWl2aW5nIGFuIGV4aXN0aW5nIHZub2RlLiBUaGlzIGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgICAvLyA8Y29tcG9uZW50IDppcz1cInZub2RlXCIvPlxuICAgICAgICAvLyAjMjA3OCBtYWtlIHN1cmUgdG8gbWVyZ2UgcmVmcyBkdXJpbmcgdGhlIGNsb25lIGluc3RlYWQgb2Ygb3ZlcndyaXRpbmcgaXRcbiAgICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh0eXBlLCBwcm9wcywgdHJ1ZSAvKiBtZXJnZVJlZjogdHJ1ZSAqLyk7XG4gICAgICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4oY2xvbmVkLCBjaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgIWlzQmxvY2tOb2RlICYmIGN1cnJlbnRCbG9jaykge1xuICAgICAgICAgICAgaWYgKGNsb25lZC5zaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEJsb2NrW2N1cnJlbnRCbG9jay5pbmRleE9mKHR5cGUpXSA9IGNsb25lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKGNsb25lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xvbmVkLnBhdGNoRmxhZyB8PSAtMiAvKiBQYXRjaEZsYWdzLkJBSUwgKi87XG4gICAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgfVxuICAgIC8vIGNsYXNzIGNvbXBvbmVudCBub3JtYWxpemF0aW9uLlxuICAgIGlmIChpc0NsYXNzQ29tcG9uZW50KHR5cGUpKSB7XG4gICAgICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcbiAgICB9XG4gICAgLy8gMi54IGFzeW5jL2Z1bmN0aW9uYWwgY29tcG9uZW50IGNvbXBhdFxuICAgIHtcbiAgICAgICAgdHlwZSA9IGNvbnZlcnRMZWdhY3lDb21wb25lbnQodHlwZSwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKTtcbiAgICB9XG4gICAgLy8gY2xhc3MgJiBzdHlsZSBub3JtYWxpemF0aW9uLlxuICAgIGlmIChwcm9wcykge1xuICAgICAgICAvLyBmb3IgcmVhY3RpdmUgb3IgcHJveHkgb2JqZWN0cywgd2UgbmVlZCB0byBjbG9uZSBpdCB0byBlbmFibGUgbXV0YXRpb24uXG4gICAgICAgIHByb3BzID0gZ3VhcmRSZWFjdGl2ZVByb3BzKHByb3BzKTtcbiAgICAgICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gICAgICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICAgICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNPYmplY3Qoc3R5bGUpKSB7XG4gICAgICAgICAgICAvLyByZWFjdGl2ZSBzdGF0ZSBvYmplY3RzIG5lZWQgdG8gYmUgY2xvbmVkIHNpbmNlIHRoZXkgYXJlIGxpa2VseSB0byBiZVxuICAgICAgICAgICAgLy8gbXV0YXRlZFxuICAgICAgICAgICAgaWYgKGlzUHJveHkoc3R5bGUpICYmICFpc0FycmF5KHN0eWxlKSkge1xuICAgICAgICAgICAgICAgIHN0eWxlID0gZXh0ZW5kKHt9LCBzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBlbmNvZGUgdGhlIHZub2RlIHR5cGUgaW5mb3JtYXRpb24gaW50byBhIGJpdG1hcFxuICAgIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpXG4gICAgICAgID8gMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi9cbiAgICAgICAgOiBpc1N1c3BlbnNlKHR5cGUpXG4gICAgICAgICAgICA/IDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovXG4gICAgICAgICAgICA6IGlzVGVsZXBvcnQodHlwZSlcbiAgICAgICAgICAgICAgICA/IDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi9cbiAgICAgICAgICAgICAgICA6IGlzT2JqZWN0KHR5cGUpXG4gICAgICAgICAgICAgICAgICAgID8gNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqL1xuICAgICAgICAgICAgICAgICAgICA6IGlzRnVuY3Rpb24odHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gMiAvKiBTaGFwZUZsYWdzLkZVTkNUSU9OQUxfQ09NUE9ORU5UICovXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDA7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzaGFwZUZsYWcgJiA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovICYmIGlzUHJveHkodHlwZSkpIHtcbiAgICAgICAgdHlwZSA9IHRvUmF3KHR5cGUpO1xuICAgICAgICB3YXJuJDEoYFZ1ZSByZWNlaXZlZCBhIENvbXBvbmVudCB3aGljaCB3YXMgbWFkZSBhIHJlYWN0aXZlIG9iamVjdC4gVGhpcyBjYW4gYCArXG4gICAgICAgICAgICBgbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCwgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IGAgK1xuICAgICAgICAgICAgYG1hcmtpbmcgdGhlIGNvbXBvbmVudCB3aXRoIFxcYG1hcmtSYXdcXGAgb3IgdXNpbmcgXFxgc2hhbGxvd1JlZlxcYCBgICtcbiAgICAgICAgICAgIGBpbnN0ZWFkIG9mIFxcYHJlZlxcYC5gLCBgXFxuQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgcmVhY3RpdmU6IGAsIHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQmFzZVZOb2RlKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHNoYXBlRmxhZywgaXNCbG9ja05vZGUsIHRydWUpO1xufVxuZnVuY3Rpb24gZ3VhcmRSZWFjdGl2ZVByb3BzKHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGlzUHJveHkocHJvcHMpIHx8IEludGVybmFsT2JqZWN0S2V5IGluIHByb3BzXG4gICAgICAgID8gZXh0ZW5kKHt9LCBwcm9wcylcbiAgICAgICAgOiBwcm9wcztcbn1cbmZ1bmN0aW9uIGNsb25lVk5vZGUodm5vZGUsIGV4dHJhUHJvcHMsIG1lcmdlUmVmID0gZmFsc2UpIHtcbiAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgTk9UIHVzaW5nIHNwcmVhZCBvciBleHRlbmQgdG8gYXZvaWQgdGhlIHJ1bnRpbWVcbiAgICAvLyBrZXkgZW51bWVyYXRpb24gY29zdC5cbiAgICBjb25zdCB7IHByb3BzLCByZWYsIHBhdGNoRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICAgIGNvbnN0IG1lcmdlZFByb3BzID0gZXh0cmFQcm9wcyA/IG1lcmdlUHJvcHMocHJvcHMgfHwge30sIGV4dHJhUHJvcHMpIDogcHJvcHM7XG4gICAgY29uc3QgY2xvbmVkID0ge1xuICAgICAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcbiAgICAgICAgX192X3NraXA6IHRydWUsXG4gICAgICAgIHR5cGU6IHZub2RlLnR5cGUsXG4gICAgICAgIHByb3BzOiBtZXJnZWRQcm9wcyxcbiAgICAgICAga2V5OiBtZXJnZWRQcm9wcyAmJiBub3JtYWxpemVLZXkobWVyZ2VkUHJvcHMpLFxuICAgICAgICByZWY6IGV4dHJhUHJvcHMgJiYgZXh0cmFQcm9wcy5yZWZcbiAgICAgICAgICAgID8gLy8gIzIwNzggaW4gdGhlIGNhc2Ugb2YgPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiIHJlZj1cImV4dHJhXCIvPlxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB2bm9kZSBpdHNlbGYgYWxyZWFkeSBoYXMgYSByZWYsIGNsb25lVk5vZGUgd2lsbCBuZWVkIHRvIG1lcmdlXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJlZnMgc28gdGhlIHNpbmdsZSB2bm9kZSBjYW4gYmUgc2V0IG9uIG11bHRpcGxlIHJlZnNcbiAgICAgICAgICAgICAgICBtZXJnZVJlZiAmJiByZWZcbiAgICAgICAgICAgICAgICAgICAgPyBpc0FycmF5KHJlZilcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVmLmNvbmNhdChub3JtYWxpemVSZWYoZXh0cmFQcm9wcykpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV1cbiAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcbiAgICAgICAgICAgIDogcmVmLFxuICAgICAgICBzY29wZUlkOiB2bm9kZS5zY29wZUlkLFxuICAgICAgICBzbG90U2NvcGVJZHM6IHZub2RlLnNsb3RTY29wZUlkcyxcbiAgICAgICAgY2hpbGRyZW46IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXRjaEZsYWcgPT09IC0xIC8qIFBhdGNoRmxhZ3MuSE9JU1RFRCAqLyAmJiBpc0FycmF5KGNoaWxkcmVuKVxuICAgICAgICAgICAgPyBjaGlsZHJlbi5tYXAoZGVlcENsb25lVk5vZGUpXG4gICAgICAgICAgICA6IGNoaWxkcmVuLFxuICAgICAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcbiAgICAgICAgdGFyZ2V0QW5jaG9yOiB2bm9kZS50YXJnZXRBbmNob3IsXG4gICAgICAgIHN0YXRpY0NvdW50OiB2bm9kZS5zdGF0aWNDb3VudCxcbiAgICAgICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXG4gICAgICAgIC8vIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgd2l0aCBleHRyYSBwcm9wcywgd2UgY2FuIG5vIGxvbmdlciBhc3N1bWUgaXRzXG4gICAgICAgIC8vIGV4aXN0aW5nIHBhdGNoIGZsYWcgdG8gYmUgcmVsaWFibGUgYW5kIG5lZWQgdG8gYWRkIHRoZSBGVUxMX1BST1BTIGZsYWcuXG4gICAgICAgIC8vIG5vdGU6IHByZXNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cbiAgICAgICAgLy8gZmFzdCBwYXRocyBvbmx5LlxuICAgICAgICBwYXRjaEZsYWc6IGV4dHJhUHJvcHMgJiYgdm5vZGUudHlwZSAhPT0gRnJhZ21lbnRcbiAgICAgICAgICAgID8gcGF0Y2hGbGFnID09PSAtMSAvLyBob2lzdGVkIG5vZGVcbiAgICAgICAgICAgICAgICA/IDE2IC8qIFBhdGNoRmxhZ3MuRlVMTF9QUk9QUyAqL1xuICAgICAgICAgICAgICAgIDogcGF0Y2hGbGFnIHwgMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovXG4gICAgICAgICAgICA6IHBhdGNoRmxhZyxcbiAgICAgICAgZHluYW1pY1Byb3BzOiB2bm9kZS5keW5hbWljUHJvcHMsXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICBhcHBDb250ZXh0OiB2bm9kZS5hcHBDb250ZXh0LFxuICAgICAgICBkaXJzOiB2bm9kZS5kaXJzLFxuICAgICAgICB0cmFuc2l0aW9uOiB2bm9kZS50cmFuc2l0aW9uLFxuICAgICAgICAvLyBUaGVzZSBzaG91bGQgdGVjaG5pY2FsbHkgb25seSBiZSBub24tbnVsbCBvbiBtb3VudGVkIFZOb2Rlcy4gSG93ZXZlcixcbiAgICAgICAgLy8gdGhleSAqc2hvdWxkKiBiZSBjb3BpZWQgZm9yIGtlcHQtYWxpdmUgdm5vZGVzLiBTbyB3ZSBqdXN0IGFsd2F5cyBjb3B5XG4gICAgICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcbiAgICAgICAgLy8gdGhleSB3aWxsIHNpbXBseSBiZSBvdmVyd3JpdHRlbi5cbiAgICAgICAgY29tcG9uZW50OiB2bm9kZS5jb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcbiAgICAgICAgc3NDb250ZW50OiB2bm9kZS5zc0NvbnRlbnQgJiYgY2xvbmVWTm9kZSh2bm9kZS5zc0NvbnRlbnQpLFxuICAgICAgICBzc0ZhbGxiYWNrOiB2bm9kZS5zc0ZhbGxiYWNrICYmIGNsb25lVk5vZGUodm5vZGUuc3NGYWxsYmFjayksXG4gICAgICAgIGVsOiB2bm9kZS5lbCxcbiAgICAgICAgYW5jaG9yOiB2bm9kZS5hbmNob3IsXG4gICAgICAgIGN0eDogdm5vZGUuY3R4XG4gICAgfTtcbiAgICB7XG4gICAgICAgIGRlZmluZUxlZ2FjeVZOb2RlUHJvcGVydGllcyhjbG9uZWQpO1xuICAgIH1cbiAgICByZXR1cm4gY2xvbmVkO1xufVxuLyoqXG4gKiBEZXYgb25seSwgZm9yIEhNUiBvZiBob2lzdGVkIHZub2RlcyByZXVzZWQgaW4gdi1mb3JcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS9pc3N1ZXMvMjAyMlxuICovXG5mdW5jdGlvbiBkZWVwQ2xvbmVWTm9kZSh2bm9kZSkge1xuICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xuICAgICAgICBjbG9uZWQuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbi5tYXAoZGVlcENsb25lVk5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gY2xvbmVkO1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUodGV4dCA9ICcgJywgZmxhZyA9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgdGV4dCwgZmxhZyk7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY1ZOb2RlKGNvbnRlbnQsIG51bWJlck9mTm9kZXMpIHtcbiAgICAvLyBBIHN0YXRpYyB2bm9kZSBjYW4gY29udGFpbiBtdWx0aXBsZSBzdHJpbmdpZmllZCBlbGVtZW50cywgYW5kIHRoZSBudW1iZXJcbiAgICAvLyBvZiBlbGVtZW50cyBpcyBuZWNlc3NhcnkgZm9yIGh5ZHJhdGlvbi5cbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKFN0YXRpYywgbnVsbCwgY29udGVudCk7XG4gICAgdm5vZGUuc3RhdGljQ291bnQgPSBudW1iZXJPZk5vZGVzO1xuICAgIHJldHVybiB2bm9kZTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29tbWVudFZOb2RlKHRleHQgPSAnJywgXG4vLyB3aGVuIHVzZWQgYXMgdGhlIHYtZWxzZSBicmFuY2gsIHRoZSBjb21tZW50IG5vZGUgbXVzdCBiZSBjcmVhdGVkIGFzIGFcbi8vIGJsb2NrIHRvIGVuc3VyZSBjb3JyZWN0IHVwZGF0ZXMuXG5hc0Jsb2NrID0gZmFsc2UpIHtcbiAgICByZXR1cm4gYXNCbG9ja1xuICAgICAgICA/IChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2soQ29tbWVudCwgbnVsbCwgdGV4dCkpXG4gICAgICAgIDogY3JlYXRlVk5vZGUoQ29tbWVudCwgbnVsbCwgdGV4dCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVWTm9kZShjaGlsZCkge1xuICAgIGlmIChjaGlsZCA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIC8vIGVtcHR5IHBsYWNlaG9sZGVyXG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgLy8gZnJhZ21lbnRcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKEZyYWdtZW50LCBudWxsLCBcbiAgICAgICAgLy8gIzM2NjYsIGF2b2lkIHJlZmVyZW5jZSBwb2xsdXRpb24gd2hlbiByZXVzaW5nIHZub2RlXG4gICAgICAgIGNoaWxkLnNsaWNlKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY2hpbGQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIGFscmVhZHkgdm5vZGUsIHRoaXMgc2hvdWxkIGJlIHRoZSBtb3N0IGNvbW1vbiBzaW5jZSBjb21waWxlZCB0ZW1wbGF0ZXNcbiAgICAgICAgLy8gYWx3YXlzIHByb2R1Y2UgYWxsLXZub2RlIGNoaWxkcmVuIGFycmF5c1xuICAgICAgICByZXR1cm4gY2xvbmVJZk1vdW50ZWQoY2hpbGQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3RyaW5ncyBhbmQgbnVtYmVyc1xuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgU3RyaW5nKGNoaWxkKSk7XG4gICAgfVxufVxuLy8gb3B0aW1pemVkIG5vcm1hbGl6YXRpb24gZm9yIHRlbXBsYXRlLWNvbXBpbGVkIHJlbmRlciBmbnNcbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XG4gICAgcmV0dXJuIChjaGlsZC5lbCA9PT0gbnVsbCAmJiBjaGlsZC5wYXRjaEZsYWcgIT09IC0xIC8qIFBhdGNoRmxhZ3MuSE9JU1RFRCAqLykgfHxcbiAgICAgICAgY2hpbGQubWVtb1xuICAgICAgICA/IGNoaWxkXG4gICAgICAgIDogY2xvbmVWTm9kZShjaGlsZCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pIHtcbiAgICBsZXQgdHlwZSA9IDA7XG4gICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgdHlwZSA9IDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi87XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmICgxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyB8IDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pKSB7XG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgc2xvdCB0byBwbGFpbiBjaGlsZHJlbiBmb3IgcGxhaW4gZWxlbWVudCBhbmQgVGVsZXBvcnRcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZHJlbi5kZWZhdWx0O1xuICAgICAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgICAgICAvLyBfYyBtYXJrZXIgaXMgYWRkZWQgYnkgd2l0aEN0eCgpIGluZGljYXRpbmcgdGhpcyBpcyBhIGNvbXBpbGVkIHNsb3RcbiAgICAgICAgICAgICAgICBzbG90Ll9jICYmIChzbG90Ll9kID0gZmFsc2UpO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xuICAgICAgICAgICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHR5cGUgPSAzMiAvKiBTaGFwZUZsYWdzLlNMT1RTX0NISUxEUkVOICovO1xuICAgICAgICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xuICAgICAgICAgICAgaWYgKCFzbG90RmxhZyAmJiAhKEludGVybmFsT2JqZWN0S2V5IGluIGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLl9jdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzbG90RmxhZyA9PT0gMyAvKiBTbG90RmxhZ3MuRk9SV0FSREVEICovICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIC8vIGEgY2hpbGQgY29tcG9uZW50IHJlY2VpdmVzIGZvcndhcmRlZCBzbG90cyBmcm9tIHRoZSBwYXJlbnQuXG4gICAgICAgICAgICAgICAgLy8gaXRzIHNsb3QgdHlwZSBpcyBkZXRlcm1pbmVkIGJ5IGl0cyBwYXJlbnQncyBzbG90IHR5cGUuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5zbG90cy5fID09PSAxIC8qIFNsb3RGbGFncy5TVEFCTEUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uXyA9IDEgLyogU2xvdEZsYWdzLlNUQUJMRSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLl8gPSAyIC8qIFNsb3RGbGFncy5EWU5BTUlDICovO1xuICAgICAgICAgICAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgfD0gMTAyNCAvKiBQYXRjaEZsYWdzLkRZTkFNSUNfU0xPVFMgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oY2hpbGRyZW4pKSB7XG4gICAgICAgIGNoaWxkcmVuID0geyBkZWZhdWx0OiBjaGlsZHJlbiwgX2N0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIH07XG4gICAgICAgIHR5cGUgPSAzMiAvKiBTaGFwZUZsYWdzLlNMT1RTX0NISUxEUkVOICovO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgICAgICAvLyBmb3JjZSB0ZWxlcG9ydCBjaGlsZHJlbiB0byBhcnJheSBzbyBpdCBjYW4gYmUgbW92ZWQgYXJvdW5kXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSB7XG4gICAgICAgICAgICB0eXBlID0gMTYgLyogU2hhcGVGbGFncy5BUlJBWV9DSElMRFJFTiAqLztcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW2NyZWF0ZVRleHRWTm9kZShjaGlsZHJlbildO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9IDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZub2RlLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgdm5vZGUuc2hhcGVGbGFnIHw9IHR5cGU7XG59XG5mdW5jdGlvbiBtZXJnZVByb3BzKC4uLmFyZ3MpIHtcbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdG9NZXJnZSA9IGFyZ3NbaV07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRvTWVyZ2UpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgICAgICBpZiAocmV0LmNsYXNzICE9PSB0b01lcmdlLmNsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldC5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtyZXQuY2xhc3MsIHRvTWVyZ2UuY2xhc3NdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgICAgICByZXQuc3R5bGUgPSBub3JtYWxpemVTdHlsZShbcmV0LnN0eWxlLCB0b01lcmdlLnN0eWxlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHJldFtrZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluY29taW5nID0gdG9NZXJnZVtrZXldO1xuICAgICAgICAgICAgICAgIGlmIChpbmNvbWluZyAmJlxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZyAhPT0gaW5jb21pbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgIShpc0FycmF5KGV4aXN0aW5nKSAmJiBleGlzdGluZy5pbmNsdWRlcyhpbmNvbWluZykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldFtrZXldID0gZXhpc3RpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW10uY29uY2F0KGV4aXN0aW5nLCBpbmNvbWluZylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5jb21pbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ICE9PSAnJykge1xuICAgICAgICAgICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBpbnZva2VWTm9kZUhvb2soaG9vaywgaW5zdGFuY2UsIHZub2RlLCBwcmV2Vk5vZGUgPSBudWxsKSB7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcgLyogRXJyb3JDb2Rlcy5WTk9ERV9IT09LICovLCBbXG4gICAgICAgIHZub2RlLFxuICAgICAgICBwcmV2Vk5vZGVcbiAgICBdKTtcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xubGV0IHVpZCQxID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKHZub2RlLCBwYXJlbnQsIHN1c3BlbnNlKSB7XG4gICAgY29uc3QgdHlwZSA9IHZub2RlLnR5cGU7XG4gICAgLy8gaW5oZXJpdCBwYXJlbnQgYXBwIGNvbnRleHQgLSBvciAtIGlmIHJvb3QsIGFkb3B0IGZyb20gcm9vdCB2bm9kZVxuICAgIGNvbnN0IGFwcENvbnRleHQgPSAocGFyZW50ID8gcGFyZW50LmFwcENvbnRleHQgOiB2bm9kZS5hcHBDb250ZXh0KSB8fCBlbXB0eUFwcENvbnRleHQ7XG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgICAgIHVpZDogdWlkJDErKyxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgYXBwQ29udGV4dCxcbiAgICAgICAgcm9vdDogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbCxcbiAgICAgICAgc3ViVHJlZTogbnVsbCxcbiAgICAgICAgZWZmZWN0OiBudWxsLFxuICAgICAgICB1cGRhdGU6IG51bGwsXG4gICAgICAgIHNjb3BlOiBuZXcgRWZmZWN0U2NvcGUodHJ1ZSAvKiBkZXRhY2hlZCAqLyksXG4gICAgICAgIHJlbmRlcjogbnVsbCxcbiAgICAgICAgcHJveHk6IG51bGwsXG4gICAgICAgIGV4cG9zZWQ6IG51bGwsXG4gICAgICAgIGV4cG9zZVByb3h5OiBudWxsLFxuICAgICAgICB3aXRoUHJveHk6IG51bGwsXG4gICAgICAgIHByb3ZpZGVzOiBwYXJlbnQgPyBwYXJlbnQucHJvdmlkZXMgOiBPYmplY3QuY3JlYXRlKGFwcENvbnRleHQucHJvdmlkZXMpLFxuICAgICAgICBhY2Nlc3NDYWNoZTogbnVsbCxcbiAgICAgICAgcmVuZGVyQ2FjaGU6IFtdLFxuICAgICAgICAvLyBsb2NhbCByZXNvbHZlZCBhc3NldHNcbiAgICAgICAgY29tcG9uZW50czogbnVsbCxcbiAgICAgICAgZGlyZWN0aXZlczogbnVsbCxcbiAgICAgICAgLy8gcmVzb2x2ZWQgcHJvcHMgYW5kIGVtaXRzIG9wdGlvbnNcbiAgICAgICAgcHJvcHNPcHRpb25zOiBub3JtYWxpemVQcm9wc09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgICAgIGVtaXRzT3B0aW9uczogbm9ybWFsaXplRW1pdHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxuICAgICAgICAvLyBlbWl0XG4gICAgICAgIGVtaXQ6IG51bGwsXG4gICAgICAgIGVtaXR0ZWQ6IG51bGwsXG4gICAgICAgIC8vIHByb3BzIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgcHJvcHNEZWZhdWx0czogRU1QVFlfT0JKLFxuICAgICAgICAvLyBpbmhlcml0QXR0cnNcbiAgICAgICAgaW5oZXJpdEF0dHJzOiB0eXBlLmluaGVyaXRBdHRycyxcbiAgICAgICAgLy8gc3RhdGVcbiAgICAgICAgY3R4OiBFTVBUWV9PQkosXG4gICAgICAgIGRhdGE6IEVNUFRZX09CSixcbiAgICAgICAgcHJvcHM6IEVNUFRZX09CSixcbiAgICAgICAgYXR0cnM6IEVNUFRZX09CSixcbiAgICAgICAgc2xvdHM6IEVNUFRZX09CSixcbiAgICAgICAgcmVmczogRU1QVFlfT0JKLFxuICAgICAgICBzZXR1cFN0YXRlOiBFTVBUWV9PQkosXG4gICAgICAgIHNldHVwQ29udGV4dDogbnVsbCxcbiAgICAgICAgLy8gc3VzcGVuc2UgcmVsYXRlZFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgc3VzcGVuc2VJZDogc3VzcGVuc2UgPyBzdXNwZW5zZS5wZW5kaW5nSWQgOiAwLFxuICAgICAgICBhc3luY0RlcDogbnVsbCxcbiAgICAgICAgYXN5bmNSZXNvbHZlZDogZmFsc2UsXG4gICAgICAgIC8vIGxpZmVjeWNsZSBob29rc1xuICAgICAgICAvLyBub3QgdXNpbmcgZW51bXMgaGVyZSBiZWNhdXNlIGl0IHJlc3VsdHMgaW4gY29tcHV0ZWQgcHJvcGVydGllc1xuICAgICAgICBpc01vdW50ZWQ6IGZhbHNlLFxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgICAgIGlzRGVhY3RpdmF0ZWQ6IGZhbHNlLFxuICAgICAgICBiYzogbnVsbCxcbiAgICAgICAgYzogbnVsbCxcbiAgICAgICAgYm06IG51bGwsXG4gICAgICAgIG06IG51bGwsXG4gICAgICAgIGJ1OiBudWxsLFxuICAgICAgICB1OiBudWxsLFxuICAgICAgICB1bTogbnVsbCxcbiAgICAgICAgYnVtOiBudWxsLFxuICAgICAgICBkYTogbnVsbCxcbiAgICAgICAgYTogbnVsbCxcbiAgICAgICAgcnRnOiBudWxsLFxuICAgICAgICBydGM6IG51bGwsXG4gICAgICAgIGVjOiBudWxsLFxuICAgICAgICBzcDogbnVsbFxuICAgIH07XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBpbnN0YW5jZS5jdHggPSBjcmVhdGVEZXZSZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLmN0eCA9IHsgXzogaW5zdGFuY2UgfTtcbiAgICB9XG4gICAgaW5zdGFuY2Uucm9vdCA9IHBhcmVudCA/IHBhcmVudC5yb290IDogaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UuZW1pdCA9IGVtaXQkMi5iaW5kKG51bGwsIGluc3RhbmNlKTtcbiAgICAvLyBhcHBseSBjdXN0b20gZWxlbWVudCBzcGVjaWFsIGhhbmRsaW5nXG4gICAgaWYgKHZub2RlLmNlKSB7XG4gICAgICAgIHZub2RlLmNlKGluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xufVxubGV0IGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XG5jb25zdCBnZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuY29uc3Qgc2V0Q3VycmVudEluc3RhbmNlID0gKGluc3RhbmNlKSA9PiB7XG4gICAgY3VycmVudEluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgaW5zdGFuY2Uuc2NvcGUub24oKTtcbn07XG5jb25zdCB1bnNldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IHtcbiAgICBjdXJyZW50SW5zdGFuY2UgJiYgY3VycmVudEluc3RhbmNlLnNjb3BlLm9mZigpO1xuICAgIGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XG59O1xuY29uc3QgaXNCdWlsdEluVGFnID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdzbG90LGNvbXBvbmVudCcpO1xuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbmZpZykge1xuICAgIGNvbnN0IGFwcElzTmF0aXZlVGFnID0gY29uZmlnLmlzTmF0aXZlVGFnIHx8IE5PO1xuICAgIGlmIChpc0J1aWx0SW5UYWcobmFtZSkgfHwgYXBwSXNOYXRpdmVUYWcobmFtZSkpIHtcbiAgICAgICAgd2FybiQxKCdEbyBub3QgdXNlIGJ1aWx0LWluIG9yIHJlc2VydmVkIEhUTUwgZWxlbWVudHMgYXMgY29tcG9uZW50IGlkOiAnICsgbmFtZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovO1xufVxubGV0IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xuZnVuY3Rpb24gc2V0dXBDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSID0gZmFsc2UpIHtcbiAgICBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBpc1NTUjtcbiAgICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XG4gICAgY29uc3QgaXNTdGF0ZWZ1bCA9IGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpO1xuICAgIGluaXRQcm9wcyhpbnN0YW5jZSwgcHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSKTtcbiAgICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGlzU3RhdGVmdWxcbiAgICAgICAgPyBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUilcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgaXNJblNTUkNvbXBvbmVudFNldHVwID0gZmFsc2U7XG4gICAgcmV0dXJuIHNldHVwUmVzdWx0O1xufVxuZnVuY3Rpb24gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGlmIChDb21wb25lbnQubmFtZSkge1xuICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKENvbXBvbmVudC5uYW1lLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbXBvbmVudC5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZXNbaV0sIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQ29tcG9uZW50LmRpcmVjdGl2ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmRpcmVjdGl2ZXMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbXBvbmVudC5jb21waWxlck9wdGlvbnMgJiYgaXNSdW50aW1lT25seSgpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYFwiY29tcGlsZXJPcHRpb25zXCIgaXMgb25seSBzdXBwb3J0ZWQgd2hlbiB1c2luZyBhIGJ1aWxkIG9mIFZ1ZSB0aGF0IGAgK1xuICAgICAgICAgICAgICAgIGBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlci4gU2luY2UgeW91IGFyZSB1c2luZyBhIHJ1bnRpbWUtb25seSBgICtcbiAgICAgICAgICAgICAgICBgYnVpbGQsIHRoZSBvcHRpb25zIHNob3VsZCBiZSBwYXNzZWQgdmlhIHlvdXIgYnVpbGQgdG9vbCBjb25maWcgaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAwLiBjcmVhdGUgcmVuZGVyIHByb3h5IHByb3BlcnR5IGFjY2VzcyBjYWNoZVxuICAgIGluc3RhbmNlLmFjY2Vzc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAvLyAxLiBjcmVhdGUgcHVibGljIGluc3RhbmNlIC8gcmVuZGVyIHByb3h5XG4gICAgLy8gYWxzbyBtYXJrIGl0IHJhdyBzbyBpdCdzIG5ldmVyIG9ic2VydmVkXG4gICAgaW5zdGFuY2UucHJveHkgPSBtYXJrUmF3KG5ldyBQcm94eShpbnN0YW5jZS5jdHgsIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycykpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICAgIH1cbiAgICAvLyAyLiBjYWxsIHNldHVwKClcbiAgICBjb25zdCB7IHNldHVwIH0gPSBDb21wb25lbnQ7XG4gICAgaWYgKHNldHVwKSB7XG4gICAgICAgIGNvbnN0IHNldHVwQ29udGV4dCA9IChpbnN0YW5jZS5zZXR1cENvbnRleHQgPVxuICAgICAgICAgICAgc2V0dXAubGVuZ3RoID4gMSA/IGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkgOiBudWxsKTtcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzZXR1cCwgaW5zdGFuY2UsIDAgLyogRXJyb3JDb2Rlcy5TRVRVUF9GVU5DVElPTiAqLywgWyhwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5wcm9wcykgOiBpbnN0YW5jZS5wcm9wcywgc2V0dXBDb250ZXh0XSk7XG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgaWYgKGlzUHJvbWlzZShzZXR1cFJlc3VsdCkpIHtcbiAgICAgICAgICAgIHNldHVwUmVzdWx0LnRoZW4odW5zZXRDdXJyZW50SW5zdGFuY2UsIHVuc2V0Q3VycmVudEluc3RhbmNlKTtcbiAgICAgICAgICAgIGlmIChpc1NTUikge1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcHJvbWlzZSBzbyBzZXJ2ZXItcmVuZGVyZXIgY2FuIHdhaXQgb24gaXRcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBSZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc29sdmVkUmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCByZXNvbHZlZFJlc3VsdCwgaXNTU1IpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZSwgaW5zdGFuY2UsIDAgLyogRXJyb3JDb2Rlcy5TRVRVUF9GVU5DVElPTiAqLyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhc3luYyBzZXR1cCByZXR1cm5lZCBQcm9taXNlLlxuICAgICAgICAgICAgICAgIC8vIGJhaWwgaGVyZSBhbmQgd2FpdCBmb3IgcmUtZW50cnkuXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgPSBzZXR1cFJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpbnN0YW5jZS5zdXNwZW5zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gKF9hID0gQ29tcG9uZW50Lm5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdBbm9ueW1vdXMnO1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCA8JHtuYW1lfT46IHNldHVwIGZ1bmN0aW9uIHJldHVybmVkIGEgcHJvbWlzZSwgYnV0IG5vIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYDxTdXNwZW5zZT4gYm91bmRhcnkgd2FzIGZvdW5kIGluIHRoZSBwYXJlbnQgY29tcG9uZW50IHRyZWUuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYEEgY29tcG9uZW50IHdpdGggYXN5bmMgc2V0dXAoKSBtdXN0IGJlIG5lc3RlZCBpbiBhIDxTdXNwZW5zZT4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgaW4gb3JkZXIgdG8gYmUgcmVuZGVyZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUikge1xuICAgIGlmIChpc0Z1bmN0aW9uKHNldHVwUmVzdWx0KSkge1xuICAgICAgICAvLyBzZXR1cCByZXR1cm5lZCBhbiBpbmxpbmUgcmVuZGVyIGZ1bmN0aW9uXG4gICAgICAgIGlmIChpbnN0YW5jZS50eXBlLl9fc3NySW5saW5lUmVuZGVyKSB7XG4gICAgICAgICAgICAvLyB3aGVuIHRoZSBmdW5jdGlvbidzIG5hbWUgaXMgYHNzclJlbmRlcmAgKGNvbXBpbGVkIGJ5IFNGQyBpbmxpbmUgbW9kZSksXG4gICAgICAgICAgICAvLyBzZXQgaXQgYXMgc3NyUmVuZGVyIGluc3RlYWQuXG4gICAgICAgICAgICBpbnN0YW5jZS5zc3JSZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzVk5vZGUoc2V0dXBSZXN1bHQpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYHNldHVwKCkgc2hvdWxkIG5vdCByZXR1cm4gVk5vZGVzIGRpcmVjdGx5IC0gYCArXG4gICAgICAgICAgICAgICAgYHJldHVybiBhIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmApO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldHVwIHJldHVybmVkIGJpbmRpbmdzLlxuICAgICAgICAvLyBhc3N1bWluZyBhIHJlbmRlciBmdW5jdGlvbiBjb21waWxlZCBmcm9tIHRlbXBsYXRlIGlzIHByZXNlbnQuXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5kZXZ0b29sc1Jhd1NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5zZXR1cFN0YXRlID0gcHJveHlSZWZzKHNldHVwUmVzdWx0KTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNldHVwUmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgd2FybiQxKGBzZXR1cCgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LiBSZWNlaXZlZDogJHtzZXR1cFJlc3VsdCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBzZXR1cFJlc3VsdH1gKTtcbiAgICB9XG4gICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcbn1cbmxldCBjb21waWxlO1xubGV0IGluc3RhbGxXaXRoUHJveHk7XG4vKipcbiAqIEZvciBydW50aW1lLWRvbSB0byByZWdpc3RlciB0aGUgY29tcGlsZXIuXG4gKiBOb3RlIHRoZSBleHBvcnRlZCBtZXRob2QgdXNlcyBhbnkgdG8gYXZvaWQgZC50cyByZWx5aW5nIG9uIHRoZSBjb21waWxlciB0eXBlcy5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIoX2NvbXBpbGUpIHtcbiAgICBjb21waWxlID0gX2NvbXBpbGU7XG4gICAgaW5zdGFsbFdpdGhQcm94eSA9IGkgPT4ge1xuICAgICAgICBpZiAoaS5yZW5kZXIuX3JjKSB7XG4gICAgICAgICAgICBpLndpdGhQcm94eSA9IG5ldyBQcm94eShpLmN0eCwgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vLyBkZXYgb25seVxuY29uc3QgaXNSdW50aW1lT25seSA9ICgpID0+ICFjb21waWxlO1xuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSLCBza2lwT3B0aW9ucykge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gICAge1xuICAgICAgICBjb252ZXJ0TGVnYWN5UmVuZGVyRm4oaW5zdGFuY2UpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIENvbXBvbmVudC5jb21wYXRDb25maWcpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlQ29tcGF0Q29uZmlnKENvbXBvbmVudC5jb21wYXRDb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHRlbXBsYXRlIC8gcmVuZGVyIGZ1bmN0aW9uIG5vcm1hbGl6YXRpb25cbiAgICAvLyBjb3VsZCBiZSBhbHJlYWR5IHNldCB3aGVuIHJldHVybmVkIGZyb20gc2V0dXAoKVxuICAgIGlmICghaW5zdGFuY2UucmVuZGVyKSB7XG4gICAgICAgIC8vIG9ubHkgZG8gb24tdGhlLWZseSBjb21waWxlIGlmIG5vdCBpbiBTU1IgLSBTU1Igb24tdGhlLWZseSBjb21waWxhdGlvblxuICAgICAgICAvLyBpcyBkb25lIGJ5IHNlcnZlci1yZW5kZXJlclxuICAgICAgICBpZiAoIWlzU1NSICYmIGNvbXBpbGUgJiYgIUNvbXBvbmVudC5yZW5kZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gKGluc3RhbmNlLnZub2RlLnByb3BzICYmXG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uudm5vZGUucHJvcHNbJ2lubGluZS10ZW1wbGF0ZSddKSB8fFxuICAgICAgICAgICAgICAgIENvbXBvbmVudC50ZW1wbGF0ZSB8fFxuICAgICAgICAgICAgICAgIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKS50ZW1wbGF0ZTtcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IGlzQ3VzdG9tRWxlbWVudCwgY29tcGlsZXJPcHRpb25zIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZztcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRlbGltaXRlcnMsIGNvbXBpbGVyT3B0aW9uczogY29tcG9uZW50Q29tcGlsZXJPcHRpb25zIH0gPSBDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZmluYWxDb21waWxlck9wdGlvbnMgPSBleHRlbmQoZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBkZWxpbWl0ZXJzXG4gICAgICAgICAgICAgICAgfSwgY29tcGlsZXJPcHRpb25zKSwgY29tcG9uZW50Q29tcGlsZXJPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgcnVudGltZSBjb21wYXQgY29uZmlnIGludG8gdGhlIGNvbXBpbGVyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsQ29tcGlsZXJPcHRpb25zLmNvbXBhdENvbmZpZyA9IE9iamVjdC5jcmVhdGUoZ2xvYmFsQ29tcGF0Q29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKENvbXBvbmVudC5jb21wYXRDb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZXMgYXJlIG5vdCBjb21wYXRpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmQoZmluYWxDb21waWxlck9wdGlvbnMuY29tcGF0Q29uZmlnLCBDb21wb25lbnQuY29tcGF0Q29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZSh0ZW1wbGF0ZSwgZmluYWxDb21waWxlck9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gKENvbXBvbmVudC5yZW5kZXIgfHwgTk9PUCk7XG4gICAgICAgIC8vIGZvciBydW50aW1lLWNvbXBpbGVkIHJlbmRlciBmdW5jdGlvbnMgdXNpbmcgYHdpdGhgIGJsb2NrcywgdGhlIHJlbmRlclxuICAgICAgICAvLyBwcm94eSB1c2VkIG5lZWRzIGEgZGlmZmVyZW50IGBoYXNgIGhhbmRsZXIgd2hpY2ggaXMgbW9yZSBwZXJmb3JtYW50IGFuZFxuICAgICAgICAvLyBhbHNvIG9ubHkgYWxsb3dzIGEgd2hpdGVsaXN0IG9mIGdsb2JhbHMgdG8gZmFsbHRocm91Z2guXG4gICAgICAgIGlmIChpbnN0YWxsV2l0aFByb3h5KSB7XG4gICAgICAgICAgICBpbnN0YWxsV2l0aFByb3h5KGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzdXBwb3J0IGZvciAyLnggb3B0aW9uc1xuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICEoc2tpcE9wdGlvbnMpKSB7XG4gICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlKTtcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIH1cbiAgICAvLyB3YXJuIG1pc3NpbmcgdGVtcGxhdGUvcmVuZGVyXG4gICAgLy8gdGhlIHJ1bnRpbWUgY29tcGlsYXRpb24gb2YgdGVtcGxhdGUgaW4gU1NSIGlzIGRvbmUgYnkgc2VydmVyLXJlbmRlclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIUNvbXBvbmVudC5yZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QICYmICFpc1NTUikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCFjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBgICtcbiAgICAgICAgICAgICAgICBgcnVudGltZSBjb21waWxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnVpbGQgb2YgVnVlLmAgK1xuICAgICAgICAgICAgICAgIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmBcbiAgICAgICAgICAgICAgICAgICAgKSAvKiBzaG91bGQgbm90IGhhcHBlbiAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBpcyBtaXNzaW5nIHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbi5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUF0dHJzUHJveHkoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgICAgICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sICckYXR0cnMnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGVQcm9wZXJ0eSgpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCAnJGF0dHJzJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xuICAgIGNvbnN0IGV4cG9zZSA9IGV4cG9zZWQgPT4ge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShgZXhwb3NlKCkgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IG9uY2UgcGVyIHNldHVwKCkuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UuZXhwb3NlZCA9IGV4cG9zZWQgfHwge307XG4gICAgfTtcbiAgICBsZXQgYXR0cnM7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAvLyBXZSB1c2UgZ2V0dGVycyBpbiBkZXYgaW4gY2FzZSBsaWJzIGxpa2UgdGVzdC11dGlscyBvdmVyd3JpdGUgaW5zdGFuY2VcbiAgICAgICAgLy8gcHJvcGVydGllcyAob3ZlcndyaXRlcyBzaG91bGQgbm90IGJlIGRvbmUgaW4gcHJvZClcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdHRycyB8fCAoYXR0cnMgPSBjcmVhdGVBdHRyc1Byb3h5KGluc3RhbmNlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHNsb3RzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2Uuc2xvdHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBlbWl0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoZXZlbnQsIC4uLmFyZ3MpID0+IGluc3RhbmNlLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cG9zZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzIHx8IChhdHRycyA9IGNyZWF0ZUF0dHJzUHJveHkoaW5zdGFuY2UpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbG90czogaW5zdGFuY2Uuc2xvdHMsXG4gICAgICAgICAgICBlbWl0OiBpbnN0YW5jZS5lbWl0LFxuICAgICAgICAgICAgZXhwb3NlXG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0RXhwb3NlUHJveHkoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgICByZXR1cm4gKGluc3RhbmNlLmV4cG9zZVByb3h5IHx8XG4gICAgICAgICAgICAoaW5zdGFuY2UuZXhwb3NlUHJveHkgPSBuZXcgUHJveHkocHJveHlSZWZzKG1hcmtSYXcoaW5zdGFuY2UuZXhwb3NlZCkpLCB7XG4gICAgICAgICAgICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5IGluIHB1YmxpY1Byb3BlcnRpZXNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYXModGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleSBpbiB0YXJnZXQgfHwga2V5IGluIHB1YmxpY1Byb3BlcnRpZXNNYXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpKTtcbiAgICB9XG59XG5jb25zdCBjbGFzc2lmeVJFID0gLyg/Ol58Wy1fXSkoXFx3KS9nO1xuY29uc3QgY2xhc3NpZnkgPSAoc3RyKSA9PiBzdHIucmVwbGFjZShjbGFzc2lmeVJFLCBjID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCAnJyk7XG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCwgaW5jbHVkZUluZmVycmVkID0gdHJ1ZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKENvbXBvbmVudClcbiAgICAgICAgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWVcbiAgICAgICAgOiBDb21wb25lbnQubmFtZSB8fCAoaW5jbHVkZUluZmVycmVkICYmIENvbXBvbmVudC5fX25hbWUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcbiAgICBsZXQgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcbiAgICBpZiAoIW5hbWUgJiYgQ29tcG9uZW50Ll9fZmlsZSkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IENvbXBvbmVudC5fX2ZpbGUubWF0Y2goLyhbXi9cXFxcXSspXFwuXFx3KyQvKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBuYW1lID0gbWF0Y2hbMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFuYW1lICYmIGluc3RhbmNlICYmIGluc3RhbmNlLnBhcmVudCkge1xuICAgICAgICAvLyB0cnkgdG8gaW5mZXIgdGhlIG5hbWUgYmFzZWQgb24gcmV2ZXJzZSByZXNvbHV0aW9uXG4gICAgICAgIGNvbnN0IGluZmVyRnJvbVJlZ2lzdHJ5ID0gKHJlZ2lzdHJ5KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZWdpc3RyeSkge1xuICAgICAgICAgICAgICAgIGlmIChyZWdpc3RyeVtrZXldID09PSBDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5hbWUgPVxuICAgICAgICAgICAgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuY29tcG9uZW50cyB8fFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBhcmVudC50eXBlLmNvbXBvbmVudHMpIHx8IGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50cyk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lID8gY2xhc3NpZnkobmFtZSkgOiBpc1Jvb3QgPyBgQXBwYCA6IGBBbm9ueW1vdXNgO1xufVxuZnVuY3Rpb24gaXNDbGFzc0NvbXBvbmVudCh2YWx1ZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSAmJiAnX192Y2NPcHRzJyBpbiB2YWx1ZTtcbn1cblxuY29uc3QgY29tcHV0ZWQkMSA9ICgoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMpID0+IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGNvbXB1dGVkKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc0luU1NSQ29tcG9uZW50U2V0dXApO1xufSk7XG5cbi8vIGRldiBvbmx5XG5jb25zdCB3YXJuUnVudGltZVVzYWdlID0gKG1ldGhvZCkgPT4gd2FybiQxKGAke21ldGhvZH0oKSBpcyBhIGNvbXBpbGVyLWhpbnQgaGVscGVyIHRoYXQgaXMgb25seSB1c2FibGUgaW5zaWRlIGAgK1xuICAgIGA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgYCArXG4gICAgYGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmApO1xuLy8gaW1wbGVtZW50YXRpb25cbmZ1bmN0aW9uIGRlZmluZVByb3BzKCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lUHJvcHNgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vLyBpbXBsZW1lbnRhdGlvblxuZnVuY3Rpb24gZGVmaW5lRW1pdHMoKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVFbWl0c2ApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVnVlIGA8c2NyaXB0IHNldHVwPmAgY29tcGlsZXIgbWFjcm8gZm9yIGRlY2xhcmluZyBhIGNvbXBvbmVudCdzIGV4cG9zZWRcbiAqIGluc3RhbmNlIHByb3BlcnRpZXMgd2hlbiBpdCBpcyBhY2Nlc3NlZCBieSBhIHBhcmVudCBjb21wb25lbnQgdmlhIHRlbXBsYXRlXG4gKiByZWZzLlxuICpcbiAqIGA8c2NyaXB0IHNldHVwPmAgY29tcG9uZW50cyBhcmUgY2xvc2VkIGJ5IGRlZmF1bHQgLSBpLmUuIHZhcmlhYmxlcyBpbnNpZGVcbiAqIHRoZSBgPHNjcmlwdCBzZXR1cD5gIHNjb3BlIGlzIG5vdCBleHBvc2VkIHRvIHBhcmVudCB1bmxlc3MgZXhwbGljaXRseSBleHBvc2VkXG4gKiB2aWEgYGRlZmluZUV4cG9zZWAuXG4gKlxuICogVGhpcyBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYDxzY3JpcHQgc2V0dXA+YCwgaXMgY29tcGlsZWQgYXdheSBpbiB0aGVcbiAqIG91dHB1dCBhbmQgc2hvdWxkICoqbm90KiogYmUgYWN0dWFsbHkgY2FsbGVkIGF0IHJ1bnRpbWUuXG4gKi9cbmZ1bmN0aW9uIGRlZmluZUV4cG9zZShleHBvc2VkKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVFeHBvc2VgKTtcbiAgICB9XG59XG4vKipcbiAqIFZ1ZSBgPHNjcmlwdCBzZXR1cD5gIGNvbXBpbGVyIG1hY3JvIGZvciBwcm92aWRpbmcgcHJvcHMgZGVmYXVsdCB2YWx1ZXMgd2hlblxuICogdXNpbmcgdHlwZS1iYXNlZCBgZGVmaW5lUHJvcHNgIGRlY2xhcmF0aW9uLlxuICpcbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKiBgYGB0c1xuICogd2l0aERlZmF1bHRzKGRlZmluZVByb3BzPHtcbiAqICAgc2l6ZT86IG51bWJlclxuICogICBsYWJlbHM/OiBzdHJpbmdbXVxuICogfT4oKSwge1xuICogICBzaXplOiAzLFxuICogICBsYWJlbHM6ICgpID0+IFsnZGVmYXVsdCBsYWJlbCddXG4gKiB9KVxuICogYGBgXG4gKlxuICogVGhpcyBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgYDxzY3JpcHQgc2V0dXA+YCwgaXMgY29tcGlsZWQgYXdheSBpbiB0aGUgb3V0cHV0XG4gKiBhbmQgc2hvdWxkICoqbm90KiogYmUgYWN0dWFsbHkgY2FsbGVkIGF0IHJ1bnRpbWUuXG4gKi9cbmZ1bmN0aW9uIHdpdGhEZWZhdWx0cyhwcm9wcywgZGVmYXVsdHMpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm5SdW50aW1lVXNhZ2UoYHdpdGhEZWZhdWx0c2ApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZVNsb3RzKCkge1xuICAgIHJldHVybiBnZXRDb250ZXh0KCkuc2xvdHM7XG59XG5mdW5jdGlvbiB1c2VBdHRycygpIHtcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLmF0dHJzO1xufVxuZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHtcbiAgICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaSkge1xuICAgICAgICB3YXJuJDEoYHVzZUNvbnRleHQoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gICAgfVxuICAgIHJldHVybiBpLnNldHVwQ29udGV4dCB8fCAoaS5zZXR1cENvbnRleHQgPSBjcmVhdGVTZXR1cENvbnRleHQoaSkpO1xufVxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgbWVyZ2luZyBkZWZhdWx0IGRlY2xhcmF0aW9ucy4gSW1wb3J0ZWQgYnkgY29tcGlsZWQgY29kZVxuICogb25seS5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBtZXJnZURlZmF1bHRzKHJhdywgZGVmYXVsdHMpIHtcbiAgICBjb25zdCBwcm9wcyA9IGlzQXJyYXkocmF3KVxuICAgICAgICA/IHJhdy5yZWR1Y2UoKG5vcm1hbGl6ZWQsIHApID0+ICgobm9ybWFsaXplZFtwXSA9IHt9KSwgbm9ybWFsaXplZCksIHt9KVxuICAgICAgICA6IHJhdztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgICAgICBjb25zdCBvcHQgPSBwcm9wc1trZXldO1xuICAgICAgICBpZiAob3B0KSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSkge1xuICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSB7IHR5cGU6IG9wdCwgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0LmRlZmF1bHQgPSBkZWZhdWx0c1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHsgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybiQxKGBwcm9wcyBkZWZhdWx0IGtleSBcIiR7a2V5fVwiIGhhcyBubyBjb3JyZXNwb25kaW5nIGRlY2xhcmF0aW9uLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wcztcbn1cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYSBwcm94eSBmb3IgdGhlIHJlc3QgZWxlbWVudCB3aGVuIGRlc3RydWN0dXJpbmcgcHJvcHMgd2l0aFxuICogZGVmaW5lUHJvcHMoKS5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBjcmVhdGVQcm9wc1Jlc3RQcm94eShwcm9wcywgZXhjbHVkZWRLZXlzKSB7XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKCFleGNsdWRlZEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwga2V5LCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHByb3BzW2tleV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG4vKipcbiAqIGA8c2NyaXB0IHNldHVwPmAgaGVscGVyIGZvciBwZXJzaXN0aW5nIHRoZSBjdXJyZW50IGluc3RhbmNlIGNvbnRleHQgb3ZlclxuICogYXN5bmMvYXdhaXQgZmxvd3MuXG4gKlxuICogYEB2dWUvY29tcGlsZXItc2ZjYCBjb252ZXJ0cyB0aGUgZm9sbG93aW5nOlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCB4ID0gYXdhaXQgZm9vKClcbiAqIGBgYFxuICpcbiAqIGludG86XG4gKlxuICogYGBgdHNcbiAqIGxldCBfX3RlbXAsIF9fcmVzdG9yZVxuICogY29uc3QgeCA9ICgoW19fdGVtcCwgX19yZXN0b3JlXSA9IHdpdGhBc3luY0NvbnRleHQoKCkgPT4gZm9vKCkpKSxfX3RlbXA9YXdhaXQgX190ZW1wLF9fcmVzdG9yZSgpLF9fdGVtcClcbiAqIGBgYFxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHdpdGhBc3luY0NvbnRleHQoZ2V0QXdhaXRhYmxlKSB7XG4gICAgY29uc3QgY3R4ID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY3R4KSB7XG4gICAgICAgIHdhcm4kMShgd2l0aEFzeW5jQ29udGV4dCBjYWxsZWQgd2l0aG91dCBhY3RpdmUgY3VycmVudCBpbnN0YW5jZS4gYCArXG4gICAgICAgICAgICBgVGhpcyBpcyBsaWtlbHkgYSBidWcuYCk7XG4gICAgfVxuICAgIGxldCBhd2FpdGFibGUgPSBnZXRBd2FpdGFibGUoKTtcbiAgICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmIChpc1Byb21pc2UoYXdhaXRhYmxlKSkge1xuICAgICAgICBhd2FpdGFibGUgPSBhd2FpdGFibGUuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoY3R4KTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gW2F3YWl0YWJsZSwgKCkgPT4gc2V0Q3VycmVudEluc3RhbmNlKGN0eCldO1xufVxuXG4vLyBBY3R1YWwgaW1wbGVtZW50YXRpb25cbmZ1bmN0aW9uIGgodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbikge1xuICAgIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGlmIChsID09PSAyKSB7XG4gICAgICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSB2bm9kZSB3aXRob3V0IHByb3BzXG4gICAgICAgICAgICBpZiAoaXNWTm9kZShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIFtwcm9wc09yQ2hpbGRyZW5dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByb3BzIHdpdGhvdXQgY2hpbGRyZW5cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gb21pdCBwcm9wc1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChsID4gMykge1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGwgPT09IDMgJiYgaXNWTm9kZShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW2NoaWxkcmVuXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbik7XG4gICAgfVxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBzc3JDb250ZXh0YCA6IGBgKTtcbmNvbnN0IHVzZVNTUkNvbnRleHQgPSAoKSA9PiB7XG4gICAge1xuICAgICAgICBjb25zdCBjdHggPSBpbmplY3Qoc3NyQ29udGV4dEtleSk7XG4gICAgICAgIGlmICghY3R4KSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB3YXJuJDEoYFNlcnZlciByZW5kZXJpbmcgY29udGV4dCBub3QgcHJvdmlkZWQuIE1ha2Ugc3VyZSB0byBvbmx5IGNhbGwgYCArXG4gICAgICAgICAgICAgICAgICAgIGB1c2VTU1JDb250ZXh0KCkgY29uZGl0aW9uYWxseSBpbiB0aGUgc2VydmVyIGJ1aWxkLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdHg7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gaW5pdEN1c3RvbUZvcm1hdHRlcigpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZ1ZVN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMzYmE3NzYnIH07XG4gICAgY29uc3QgbnVtYmVyU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6IzBiMWJjOScgfTtcbiAgICBjb25zdCBzdHJpbmdTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojYjYyZTI0JyB9O1xuICAgIGNvbnN0IGtleXdvcmRTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojOWQyODhjJyB9O1xuICAgIC8vIGN1c3RvbSBmb3JtYXR0ZXIgZm9yIENocm9tZVxuICAgIC8vIGh0dHBzOi8vd3d3Lm1hdHR6ZXVuZXJ0LmNvbS8yMDE2LzAyLzE5L2N1c3RvbS1jaHJvbWUtZGV2dG9vbHMtb2JqZWN0LWZvcm1hdHRlcnMuaHRtbFxuICAgIGNvbnN0IGZvcm1hdHRlciA9IHtcbiAgICAgICAgaGVhZGVyKG9iaikge1xuICAgICAgICAgICAgLy8gVE9ETyBhbHNvIGZvcm1hdCBDb21wb25lbnRQdWJsaWNJbnN0YW5jZSAmIGN0eC5zbG90cy9hdHRycyBpbiBzZXR1cFxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2JqLl9faXNWdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWydkaXYnLCB2dWVTdHlsZSwgYFZ1ZUluc3RhbmNlYF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlZihvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCB2dWVTdHlsZSwgZ2VuUmVmRmxhZyhvYmopXSxcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmoudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICBgPmBcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCB2dWVTdHlsZSwgaXNTaGFsbG93KG9iaikgPyAnU2hhbGxvd1JlYWN0aXZlJyA6ICdSZWFjdGl2ZSddLFxuICAgICAgICAgICAgICAgICAgICAnPCcsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIHZ1ZVN0eWxlLCBpc1NoYWxsb3cob2JqKSA/ICdTaGFsbG93UmVhZG9ubHknIDogJ1JlYWRvbmx5J10sXG4gICAgICAgICAgICAgICAgICAgICc8JyxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICAgICAgICAgICAgJz4nXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBoYXNCb2R5KG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19pc1Z1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgYm9keShvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmogJiYgb2JqLl9faXNWdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgICAgICAgIC4uLmZvcm1hdEluc3RhbmNlKG9iai4kKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZvcm1hdEluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xuICAgICAgICBpZiAoaW5zdGFuY2UudHlwZS5wcm9wcyAmJiBpbnN0YW5jZS5wcm9wcykge1xuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygncHJvcHMnLCB0b1JhdyhpbnN0YW5jZS5wcm9wcykpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdGFuY2Uuc2V0dXBTdGF0ZSAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdzZXR1cCcsIGluc3RhbmNlLnNldHVwU3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdGFuY2UuZGF0YSAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdkYXRhJywgdG9SYXcoaW5zdGFuY2UuZGF0YSkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IGV4dHJhY3RLZXlzKGluc3RhbmNlLCAnY29tcHV0ZWQnKTtcbiAgICAgICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdjb21wdXRlZCcsIGNvbXB1dGVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5qZWN0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgJ2luamVjdCcpO1xuICAgICAgICBpZiAoaW5qZWN0ZWQpIHtcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ2luamVjdGVkJywgaW5qZWN0ZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBibG9ja3MucHVzaChbXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyAnO29wYWNpdHk6MC42NidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICckIChpbnRlcm5hbCk6ICdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbJ29iamVjdCcsIHsgb2JqZWN0OiBpbnN0YW5jZSB9XVxuICAgICAgICBdKTtcbiAgICAgICAgcmV0dXJuIGJsb2NrcztcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VCbG9jayh0eXBlLCB0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywge31dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgc3R5bGU6ICdsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbScgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiAnY29sb3I6IzQ3NjU4MidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ3BhZGRpbmctbGVmdDoxLjI1ZW0nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi5PYmplY3Qua2V5cyh0YXJnZXQpLm1hcChrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnc3BhbicsIGtleXdvcmRTdHlsZSwga2V5ICsgJzogJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZm9ybWF0VmFsdWUodiwgYXNSYXcgPSB0cnVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBudW1iZXJTdHlsZSwgdl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgc3RyaW5nU3R5bGUsIEpTT04uc3RyaW5naWZ5KHYpXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywga2V5d29yZFN0eWxlLCB2XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdCh2KSkge1xuICAgICAgICAgICAgcmV0dXJuIFsnb2JqZWN0JywgeyBvYmplY3Q6IGFzUmF3ID8gdG9SYXcodikgOiB2IH1dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBTdHJpbmcodildO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4dHJhY3RLZXlzKGluc3RhbmNlLCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihDb21wKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4dHJhY3RlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5jdHgpIHtcbiAgICAgICAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkW2tleV0gPSBpbnN0YW5jZS5jdHhba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXh0cmFjdGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IENvbXBbdHlwZV07XG4gICAgICAgIGlmICgoaXNBcnJheShvcHRzKSAmJiBvcHRzLmluY2x1ZGVzKGtleSkpIHx8XG4gICAgICAgICAgICAoaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbXAubWl4aW5zICYmIENvbXAubWl4aW5zLnNvbWUobSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2VuUmVmRmxhZyh2KSB7XG4gICAgICAgIGlmIChpc1NoYWxsb3codikpIHtcbiAgICAgICAgICAgIHJldHVybiBgU2hhbGxvd1JlZmA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHYuZWZmZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gYENvbXB1dGVkUmVmYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYFJlZmA7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzKSB7XG4gICAgICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMucHVzaChmb3JtYXR0ZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd2luZG93LmRldnRvb2xzRm9ybWF0dGVycyA9IFtmb3JtYXR0ZXJdO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gd2l0aE1lbW8obWVtbywgcmVuZGVyLCBjYWNoZSwgaW5kZXgpIHtcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZVtpbmRleF07XG4gICAgaWYgKGNhY2hlZCAmJiBpc01lbW9TYW1lKGNhY2hlZCwgbWVtbykpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG4gICAgY29uc3QgcmV0ID0gcmVuZGVyKCk7XG4gICAgLy8gc2hhbGxvdyBjbG9uZVxuICAgIHJldC5tZW1vID0gbWVtby5zbGljZSgpO1xuICAgIHJldHVybiAoY2FjaGVbaW5kZXhdID0gcmV0KTtcbn1cbmZ1bmN0aW9uIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSB7XG4gICAgY29uc3QgcHJldiA9IGNhY2hlZC5tZW1vO1xuICAgIGlmIChwcmV2Lmxlbmd0aCAhPSBtZW1vLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZChwcmV2W2ldLCBtZW1vW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB0byBsZXQgcGFyZW50IGJsb2NrIHRyYWNrIGl0IHdoZW4gcmV0dXJuaW5nIGNhY2hlZFxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xuICAgICAgICBjdXJyZW50QmxvY2sucHVzaChjYWNoZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gQ29yZSBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCB2ZXJzaW9uID0gXCIzLjIuNDVcIjtcbmNvbnN0IF9zc3JVdGlscyA9IHtcbiAgICBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSxcbiAgICBzZXR1cENvbXBvbmVudCxcbiAgICByZW5kZXJDb21wb25lbnRSb290LFxuICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSxcbiAgICBpc1ZOb2RlLFxuICAgIG5vcm1hbGl6ZVZOb2RlXG59O1xuLyoqXG4gKiBTU1IgdXRpbHMgZm9yIFxcQHZ1ZS9zZXJ2ZXItcmVuZGVyZXIuIE9ubHkgZXhwb3NlZCBpbiBzc3ItcG9zc2libGUgYnVpbGRzLlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHNzclV0aWxzID0gKF9zc3JVdGlscyApO1xuLyoqXG4gKiBAaW50ZXJuYWwgb25seSBleHBvc2VkIGluIGNvbXBhdCBidWlsZHNcbiAqL1xuY29uc3QgcmVzb2x2ZUZpbHRlciQxID0gcmVzb2x2ZUZpbHRlciA7XG5jb25zdCBfY29tcGF0VXRpbHMgPSB7XG4gICAgd2FybkRlcHJlY2F0aW9uLFxuICAgIGNyZWF0ZUNvbXBhdFZ1ZSxcbiAgICBpc0NvbXBhdEVuYWJsZWQsXG4gICAgY2hlY2tDb21wYXRFbmFibGVkLFxuICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkXG59O1xuLyoqXG4gKiBAaW50ZXJuYWwgb25seSBleHBvc2VkIGluIGNvbXBhdCBidWlsZHMuXG4gKi9cbmNvbnN0IGNvbXBhdFV0aWxzID0gKF9jb21wYXRVdGlscyApO1xuXG5jb25zdCBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5jb25zdCBkb2MgPSAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogbnVsbCk7XG5jb25zdCB0ZW1wbGF0ZUNvbnRhaW5lciA9IGRvYyAmJiAvKiNfX1BVUkVfXyovIGRvYy5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuY29uc3Qgbm9kZU9wcyA9IHtcbiAgICBpbnNlcnQ6IChjaGlsZCwgcGFyZW50LCBhbmNob3IpID0+IHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYW5jaG9yIHx8IG51bGwpO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBjaGlsZCA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZUVsZW1lbnQ6ICh0YWcsIGlzU1ZHLCBpcywgcHJvcHMpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSBpc1NWR1xuICAgICAgICAgICAgPyBkb2MuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCB0YWcpXG4gICAgICAgICAgICA6IGRvYy5jcmVhdGVFbGVtZW50KHRhZywgaXMgPyB7IGlzIH0gOiB1bmRlZmluZWQpO1xuICAgICAgICBpZiAodGFnID09PSAnc2VsZWN0JyAmJiBwcm9wcyAmJiBwcm9wcy5tdWx0aXBsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ211bHRpcGxlJywgcHJvcHMubXVsdGlwbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9LFxuICAgIGNyZWF0ZVRleHQ6IHRleHQgPT4gZG9jLmNyZWF0ZVRleHROb2RlKHRleHQpLFxuICAgIGNyZWF0ZUNvbW1lbnQ6IHRleHQgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXG4gICAgc2V0VGV4dDogKG5vZGUsIHRleHQpID0+IHtcbiAgICAgICAgbm9kZS5ub2RlVmFsdWUgPSB0ZXh0O1xuICAgIH0sXG4gICAgc2V0RWxlbWVudFRleHQ6IChlbCwgdGV4dCkgPT4ge1xuICAgICAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfSxcbiAgICBwYXJlbnROb2RlOiBub2RlID0+IG5vZGUucGFyZW50Tm9kZSxcbiAgICBuZXh0U2libGluZzogbm9kZSA9PiBub2RlLm5leHRTaWJsaW5nLFxuICAgIHF1ZXJ5U2VsZWN0b3I6IHNlbGVjdG9yID0+IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcbiAgICBzZXRTY29wZUlkKGVsLCBpZCkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoaWQsICcnKTtcbiAgICB9LFxuICAgIC8vIF9fVU5TQUZFX19cbiAgICAvLyBSZWFzb246IGlubmVySFRNTC5cbiAgICAvLyBTdGF0aWMgY29udGVudCBoZXJlIGNhbiBvbmx5IGNvbWUgZnJvbSBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgLy8gQXMgbG9uZyBhcyB0aGUgdXNlciBvbmx5IHVzZXMgdHJ1c3RlZCB0ZW1wbGF0ZXMsIHRoaXMgaXMgc2FmZS5cbiAgICBpbnNlcnRTdGF0aWNDb250ZW50KGNvbnRlbnQsIHBhcmVudCwgYW5jaG9yLCBpc1NWRywgc3RhcnQsIGVuZCkge1xuICAgICAgICAvLyA8cGFyZW50PiBiZWZvcmUgfCBmaXJzdCAuLi4gbGFzdCB8IGFuY2hvciA8L3BhcmVudD5cbiAgICAgICAgY29uc3QgYmVmb3JlID0gYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGQ7XG4gICAgICAgIC8vICM1MzA4IGNhbiBvbmx5IHRha2UgY2FjaGVkIHBhdGggaWY6XG4gICAgICAgIC8vIC0gaGFzIGEgc2luZ2xlIHJvb3Qgbm9kZVxuICAgICAgICAvLyAtIG5leHRTaWJsaW5nIGluZm8gaXMgc3RpbGwgYXZhaWxhYmxlXG4gICAgICAgIGlmIChzdGFydCAmJiAoc3RhcnQgPT09IGVuZCB8fCBzdGFydC5uZXh0U2libGluZykpIHtcbiAgICAgICAgICAgIC8vIGNhY2hlZFxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHN0YXJ0LmNsb25lTm9kZSh0cnVlKSwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPT09IGVuZCB8fCAhKHN0YXJ0ID0gc3RhcnQubmV4dFNpYmxpbmcpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZyZXNoIGluc2VydFxuICAgICAgICAgICAgdGVtcGxhdGVDb250YWluZXIuaW5uZXJIVE1MID0gaXNTVkcgPyBgPHN2Zz4ke2NvbnRlbnR9PC9zdmc+YCA6IGNvbnRlbnQ7XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ29udGFpbmVyLmNvbnRlbnQ7XG4gICAgICAgICAgICBpZiAoaXNTVkcpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgb3V0ZXIgc3ZnIHdyYXBwZXJcbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gdGVtcGxhdGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICB3aGlsZSAod3JhcHBlci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmFwcGVuZENoaWxkKHdyYXBwZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRlbXBsYXRlLnJlbW92ZUNoaWxkKHdyYXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh0ZW1wbGF0ZSwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgLy8gZmlyc3RcbiAgICAgICAgICAgIGJlZm9yZSA/IGJlZm9yZS5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgLy8gbGFzdFxuICAgICAgICAgICAgYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGRcbiAgICAgICAgXTtcbiAgICB9XG59O1xuXG4vLyBjb21waWxlciBzaG91bGQgbm9ybWFsaXplIGNsYXNzICsgOmNsYXNzIGJpbmRpbmdzIG9uIHRoZSBzYW1lIGVsZW1lbnRcbi8vIGludG8gYSBzaW5nbGUgYmluZGluZyBbJ3N0YXRpY0NsYXNzJywgZHluYW1pY11cbmZ1bmN0aW9uIHBhdGNoQ2xhc3MoZWwsIHZhbHVlLCBpc1NWRykge1xuICAgIC8vIGRpcmVjdGx5IHNldHRpbmcgY2xhc3NOYW1lIHNob3VsZCBiZSBmYXN0ZXIgdGhhbiBzZXRBdHRyaWJ1dGUgaW4gdGhlb3J5XG4gICAgLy8gaWYgdGhpcyBpcyBhbiBlbGVtZW50IGR1cmluZyBhIHRyYW5zaXRpb24sIHRha2UgdGhlIHRlbXBvcmFyeSB0cmFuc2l0aW9uXG4gICAgLy8gY2xhc3NlcyBpbnRvIGFjY291bnQuXG4gICAgY29uc3QgdHJhbnNpdGlvbkNsYXNzZXMgPSBlbC5fdnRjO1xuICAgIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcykge1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSA/IFt2YWx1ZSwgLi4udHJhbnNpdGlvbkNsYXNzZXNdIDogWy4uLnRyYW5zaXRpb25DbGFzc2VzXSkuam9pbignICcpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU1ZHKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSB2YWx1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBhdGNoU3R5bGUoZWwsIHByZXYsIG5leHQpIHtcbiAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgIGNvbnN0IGlzQ3NzU3RyaW5nID0gaXNTdHJpbmcobmV4dCk7XG4gICAgaWYgKG5leHQgJiYgIWlzQ3NzU3RyaW5nKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5leHQpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIG5leHRba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXYgJiYgIWlzU3RyaW5nKHByZXYpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcmV2KSB7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREaXNwbGF5ID0gc3R5bGUuZGlzcGxheTtcbiAgICAgICAgaWYgKGlzQ3NzU3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAocHJldiAhPT0gbmV4dCkge1xuICAgICAgICAgICAgICAgIHN0eWxlLmNzc1RleHQgPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbmRpY2F0ZXMgdGhhdCB0aGUgYGRpc3BsYXlgIG9mIHRoZSBlbGVtZW50IGlzIGNvbnRyb2xsZWQgYnkgYHYtc2hvd2AsXG4gICAgICAgIC8vIHNvIHdlIGFsd2F5cyBrZWVwIHRoZSBjdXJyZW50IGBkaXNwbGF5YCB2YWx1ZSByZWdhcmRsZXNzIG9mIHRoZSBgc3R5bGVgXG4gICAgICAgIC8vIHZhbHVlLCB0aHVzIGhhbmRpbmcgb3ZlciBjb250cm9sIHRvIGB2LXNob3dgLlxuICAgICAgICBpZiAoJ192b2QnIGluIGVsKSB7XG4gICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gY3VycmVudERpc3BsYXk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBzZW1pY29sb25SRSA9IC9bXlxcXFxdO1xccyokLztcbmNvbnN0IGltcG9ydGFudFJFID0gL1xccyohaW1wb3J0YW50JC87XG5mdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdmFsKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgICB2YWwuZm9yRWFjaCh2ID0+IHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAodmFsID09IG51bGwpXG4gICAgICAgICAgICB2YWwgPSAnJztcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgaWYgKHNlbWljb2xvblJFLnRlc3QodmFsKSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgVW5leHBlY3RlZCBzZW1pY29sb24gYXQgdGhlIGVuZCBvZiAnJHtuYW1lfScgc3R5bGUgdmFsdWU6ICcke3ZhbH0nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUuc3RhcnRzV2l0aCgnLS0nKSkge1xuICAgICAgICAgICAgLy8gY3VzdG9tIHByb3BlcnR5IGRlZmluaXRpb25cbiAgICAgICAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmaXhlZCA9IGF1dG9QcmVmaXgoc3R5bGUsIG5hbWUpO1xuICAgICAgICAgICAgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xuICAgICAgICAgICAgICAgIC8vICFpbXBvcnRhbnRcbiAgICAgICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShoeXBoZW5hdGUocHJlZml4ZWQpLCB2YWwucmVwbGFjZShpbXBvcnRhbnRSRSwgJycpLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHlsZVtwcmVmaXhlZF0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddO1xuY29uc3QgcHJlZml4Q2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGF1dG9QcmVmaXgoc3R5bGUsIHJhd05hbWUpIHtcbiAgICBjb25zdCBjYWNoZWQgPSBwcmVmaXhDYWNoZVtyYXdOYW1lXTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGxldCBuYW1lID0gY2FtZWxpemUocmF3TmFtZSk7XG4gICAgaWYgKG5hbWUgIT09ICdmaWx0ZXInICYmIG5hbWUgaW4gc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuIChwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IG5hbWUpO1xuICAgIH1cbiAgICBuYW1lID0gY2FwaXRhbGl6ZShuYW1lKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBuYW1lO1xuICAgICAgICBpZiAocHJlZml4ZWQgaW4gc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiAocHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBwcmVmaXhlZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJhd05hbWU7XG59XG5cbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XG5mdW5jdGlvbiBwYXRjaEF0dHIoZWwsIGtleSwgdmFsdWUsIGlzU1ZHLCBpbnN0YW5jZSkge1xuICAgIGlmIChpc1NWRyAmJiBrZXkuc3RhcnRzV2l0aCgneGxpbms6JykpIHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleS5zbGljZSg2LCBrZXkubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGNvbXBhdENvZXJjZUF0dHIoZWwsIGtleSwgdmFsdWUsIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGUgd2UgYXJlIG9ubHkgY2hlY2tpbmcgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXQgZG9uJ3QgaGF2ZSBhXG4gICAgICAgIC8vIGNvcnJlc3BvbmRpbmcgZG9tIHByb3Agb2YgdGhlIHNhbWUgbmFtZSBoZXJlLlxuICAgICAgICBjb25zdCBpc0Jvb2xlYW4gPSBpc1NwZWNpYWxCb29sZWFuQXR0cihrZXkpO1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoaXNCb29sZWFuICYmICFpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpKSkge1xuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBpc0Jvb2xlYW4gPyAnJyA6IHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIDIueCBjb21wYXRcbmNvbnN0IGlzRW51bWVyYXRlZEF0dHIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ2NvbnRlbnRlZGl0YWJsZSxkcmFnZ2FibGUsc3BlbGxjaGVjaycpXG4gICAgO1xuZnVuY3Rpb24gY29tcGF0Q29lcmNlQXR0cihlbCwga2V5LCB2YWx1ZSwgaW5zdGFuY2UgPSBudWxsKSB7XG4gICAgaWYgKGlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuICAgICAgICBjb25zdCB2MkNvZXJjZWRWYWx1ZSA9IHZhbHVlID09PSBudWxsXG4gICAgICAgICAgICA/ICdmYWxzZSdcbiAgICAgICAgICAgIDogdHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicgJiYgdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gJ3RydWUnXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBpZiAodjJDb2VyY2VkVmFsdWUgJiZcbiAgICAgICAgICAgIGNvbXBhdFV0aWxzLnNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0VOVU1FUkFURURfQ09FUkNJT04gKi8sIGluc3RhbmNlLCBrZXksIHZhbHVlLCB2MkNvZXJjZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIHYyQ29lcmNlZFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSAmJlxuICAgICAgICAhaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KSAmJlxuICAgICAgICBjb21wYXRVdGlscy5zb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIkFUVFJfRkFMU0VfVkFMVUVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkFUVFJfRkFMU0VfVkFMVUUgKi8sIGluc3RhbmNlLCBrZXkpKSB7XG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBfX1VOU0FGRV9fXG4vLyBmdW5jdGlvbnMuIFRoZSB1c2VyIGlzIHJlc3BvbnNpYmxlIGZvciB1c2luZyB0aGVtIHdpdGggb25seSB0cnVzdGVkIGNvbnRlbnQuXG5mdW5jdGlvbiBwYXRjaERPTVByb3AoZWwsIGtleSwgdmFsdWUsIFxuLy8gdGhlIGZvbGxvd2luZyBhcmdzIGFyZSBwYXNzZWQgb25seSBkdWUgdG8gcG90ZW50aWFsIGlubmVySFRNTC90ZXh0Q29udGVudFxuLy8gb3ZlcnJpZGluZyBleGlzdGluZyBWTm9kZXMsIGluIHdoaWNoIGNhc2UgdGhlIG9sZCB0cmVlIG11c3QgYmUgcHJvcGVybHlcbi8vIHVubW91bnRlZC5cbnByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKSB7XG4gICAgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgfHwga2V5ID09PSAndGV4dENvbnRlbnQnKSB7XG4gICAgICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsW2tleV0gPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSAndmFsdWUnICYmXG4gICAgICAgIGVsLnRhZ05hbWUgIT09ICdQUk9HUkVTUycgJiZcbiAgICAgICAgLy8gY3VzdG9tIGVsZW1lbnRzIG1heSB1c2UgX3ZhbHVlIGludGVybmFsbHlcbiAgICAgICAgIWVsLnRhZ05hbWUuaW5jbHVkZXMoJy0nKSkge1xuICAgICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBfdmFsdWUgYXMgd2VsbCBzaW5jZVxuICAgICAgICAvLyBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlIHN0cmluZ2lmaWVkLlxuICAgICAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSB8fFxuICAgICAgICAgICAgLy8gIzQ5NTY6IGFsd2F5cyBzZXQgZm9yIE9QVElPTiBlbGVtZW50cyBiZWNhdXNlIGl0cyB2YWx1ZSBmYWxscyBiYWNrIHRvXG4gICAgICAgICAgICAvLyB0ZXh0Q29udGVudCBpZiBubyB2YWx1ZSBhdHRyaWJ1dGUgaXMgcHJlc2VudC4gQW5kIHNldHRpbmcgLnZhbHVlIGZvclxuICAgICAgICAgICAgLy8gT1BUSU9OIGhhcyBubyBzaWRlIGVmZmVjdFxuICAgICAgICAgICAgZWwudGFnTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG5lZWRSZW1vdmUgPSBmYWxzZTtcbiAgICBpZiAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiBlbFtrZXldO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAvLyBlLmcuIDxzZWxlY3QgbXVsdGlwbGU+IGNvbXBpbGVzIHRvIHsgbXVsdGlwbGU6ICcnIH1cbiAgICAgICAgICAgIHZhbHVlID0gaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSBudWxsICYmIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBlLmcuIDxkaXYgOmlkPVwibnVsbFwiPlxuICAgICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBlLmcuIDxpbWcgOndpZHRoPVwibnVsbFwiPlxuICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgIGNvbXBhdFV0aWxzLmlzQ29tcGF0RW5hYmxlZChcIkFUVFJfRkFMU0VfVkFMVUVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkFUVFJfRkFMU0VfVkFMVUUgKi8sIHBhcmVudENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZWxba2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICBjb21wYXRVdGlscy53YXJuRGVwcmVjYXRpb24oXCJBVFRSX0ZBTFNFX1ZBTFVFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0ZBTFNFX1ZBTFVFICovLCBwYXJlbnRDb21wb25lbnQsIGtleSk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0eXBlID09PSAnbnVtYmVyJyA/IDAgOiAnJztcbiAgICAgICAgICAgICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzb21lIHByb3BlcnRpZXMgcGVyZm9ybSB2YWx1ZSB2YWxpZGF0aW9uIGFuZCB0aHJvdyxcbiAgICAvLyBzb21lIHByb3BlcnRpZXMgaGFzIGdldHRlciwgbm8gc2V0dGVyLCB3aWxsIGVycm9yIGluICd1c2Ugc3RyaWN0J1xuICAgIC8vIGVnLiA8c2VsZWN0IDp0eXBlPVwibnVsbFwiPjwvc2VsZWN0PiA8c2VsZWN0IDp3aWxsVmFsaWRhdGU9XCJudWxsXCI+PC9zZWxlY3Q+XG4gICAgdHJ5IHtcbiAgICAgICAgZWxba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBkbyBub3Qgd2FybiBpZiB2YWx1ZSBpcyBhdXRvLWNvZXJjZWQgZnJvbSBudWxsaXNoIHZhbHVlc1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFuZWVkUmVtb3ZlKSB7XG4gICAgICAgICAgICB3YXJuJDEoYEZhaWxlZCBzZXR0aW5nIHByb3AgXCIke2tleX1cIiBvbiA8JHtlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCl9PjogYCArXG4gICAgICAgICAgICAgICAgYHZhbHVlICR7dmFsdWV9IGlzIGludmFsaWQuYCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmVlZFJlbW92ZSAmJiBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBwYXRjaEV2ZW50KGVsLCByYXdOYW1lLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgaW5zdGFuY2UgPSBudWxsKSB7XG4gICAgLy8gdmVpID0gdnVlIGV2ZW50IGludm9rZXJzXG4gICAgY29uc3QgaW52b2tlcnMgPSBlbC5fdmVpIHx8IChlbC5fdmVpID0ge30pO1xuICAgIGNvbnN0IGV4aXN0aW5nSW52b2tlciA9IGludm9rZXJzW3Jhd05hbWVdO1xuICAgIGlmIChuZXh0VmFsdWUgJiYgZXhpc3RpbmdJbnZva2VyKSB7XG4gICAgICAgIC8vIHBhdGNoXG4gICAgICAgIGV4aXN0aW5nSW52b2tlci52YWx1ZSA9IG5leHRWYWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IFtuYW1lLCBvcHRpb25zXSA9IHBhcnNlTmFtZShyYXdOYW1lKTtcbiAgICAgICAgaWYgKG5leHRWYWx1ZSkge1xuICAgICAgICAgICAgLy8gYWRkXG4gICAgICAgICAgICBjb25zdCBpbnZva2VyID0gKGludm9rZXJzW3Jhd05hbWVdID0gY3JlYXRlSW52b2tlcihuZXh0VmFsdWUsIGluc3RhbmNlKSk7XG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBpbnZva2VyLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleGlzdGluZ0ludm9rZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZVxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgZXhpc3RpbmdJbnZva2VyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGludm9rZXJzW3Jhd05hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3Qgb3B0aW9uc01vZGlmaWVyUkUgPSAvKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87XG5mdW5jdGlvbiBwYXJzZU5hbWUobmFtZSkge1xuICAgIGxldCBvcHRpb25zO1xuICAgIGlmIChvcHRpb25zTW9kaWZpZXJSRS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIHdoaWxlICgobSA9IG5hbWUubWF0Y2gob3B0aW9uc01vZGlmaWVyUkUpKSkge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSBtWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICBvcHRpb25zW21bMF0udG9Mb3dlckNhc2UoKV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50ID0gbmFtZVsyXSA9PT0gJzonID8gbmFtZS5zbGljZSgzKSA6IGh5cGhlbmF0ZShuYW1lLnNsaWNlKDIpKTtcbiAgICByZXR1cm4gW2V2ZW50LCBvcHRpb25zXTtcbn1cbi8vIFRvIGF2b2lkIHRoZSBvdmVyaGVhZCBvZiByZXBlYXRlZGx5IGNhbGxpbmcgRGF0ZS5ub3coKSwgd2UgY2FjaGVcbi8vIGFuZCB1c2UgdGhlIHNhbWUgdGltZXN0YW1wIGZvciBhbGwgZXZlbnQgbGlzdGVuZXJzIGF0dGFjaGVkIGluIHRoZSBzYW1lIHRpY2suXG5sZXQgY2FjaGVkTm93ID0gMDtcbmNvbnN0IHAgPSAvKiNfX1BVUkVfXyovIFByb21pc2UucmVzb2x2ZSgpO1xuY29uc3QgZ2V0Tm93ID0gKCkgPT4gY2FjaGVkTm93IHx8IChwLnRoZW4oKCkgPT4gKGNhY2hlZE5vdyA9IDApKSwgKGNhY2hlZE5vdyA9IERhdGUubm93KCkpKTtcbmZ1bmN0aW9uIGNyZWF0ZUludm9rZXIoaW5pdGlhbFZhbHVlLCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IGludm9rZXIgPSAoZSkgPT4ge1xuICAgICAgICAvLyBhc3luYyBlZGdlIGNhc2UgdnVlanMvdnVlIzY1NjZcbiAgICAgICAgLy8gaW5uZXIgY2xpY2sgZXZlbnQgdHJpZ2dlcnMgcGF0Y2gsIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgLy8gYXR0YWNoZWQgdG8gb3V0ZXIgZWxlbWVudCBkdXJpbmcgcGF0Y2gsIGFuZCB0cmlnZ2VyZWQgYWdhaW4uIFRoaXNcbiAgICAgICAgLy8gaGFwcGVucyBiZWNhdXNlIGJyb3dzZXJzIGZpcmUgbWljcm90YXNrIHRpY2tzIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24uXG4gICAgICAgIC8vIHRoaXMgbm8gbG9uZ2VyIGhhcHBlbnMgZm9yIHRlbXBsYXRlcyBpbiBWdWUgMywgYnV0IGNvdWxkIHN0aWxsIGJlXG4gICAgICAgIC8vIHRoZW9yZXRpY2FsbHkgcG9zc2libGUgZm9yIGhhbmQtd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zLlxuICAgICAgICAvLyB0aGUgc29sdXRpb246IHdlIHNhdmUgdGhlIHRpbWVzdGFtcCB3aGVuIGEgaGFuZGxlciBpcyBhdHRhY2hlZCxcbiAgICAgICAgLy8gYW5kIGFsc28gYXR0YWNoIHRoZSB0aW1lc3RhbXAgdG8gYW55IGV2ZW50IHRoYXQgd2FzIGhhbmRsZWQgYnkgdnVlXG4gICAgICAgIC8vIGZvciB0aGUgZmlyc3QgdGltZSAodG8gYXZvaWQgaW5jb25zaXN0ZW50IGV2ZW50IHRpbWVzdGFtcCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgLy8gb3IgZXZlbnRzIGZpcmVkIGZyb20gaWZyYW1lcywgZS5nLiAjMjUxMylcbiAgICAgICAgLy8gVGhlIGhhbmRsZXIgd291bGQgb25seSBmaXJlIGlmIHRoZSBldmVudCBwYXNzZWQgdG8gaXQgd2FzIGZpcmVkXG4gICAgICAgIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cbiAgICAgICAgaWYgKCFlLl92dHMpIHtcbiAgICAgICAgICAgIGUuX3Z0cyA9IERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5fdnRzIDw9IGludm9rZXIuYXR0YWNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCBpbnZva2VyLnZhbHVlKSwgaW5zdGFuY2UsIDUgLyogRXJyb3JDb2Rlcy5OQVRJVkVfRVZFTlRfSEFORExFUiAqLywgW2VdKTtcbiAgICB9O1xuICAgIGludm9rZXIudmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgaW52b2tlci5hdHRhY2hlZCA9IGdldE5vdygpO1xuICAgIHJldHVybiBpbnZva2VyO1xufVxuZnVuY3Rpb24gcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgdmFsdWUpIHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xuICAgICAgICAgICAgb3JpZ2luYWxTdG9wLmNhbGwoZSk7XG4gICAgICAgICAgICBlLl9zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChmbiA9PiAoZSkgPT4gIWUuX3N0b3BwZWQgJiYgZm4gJiYgZm4oZSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cblxuY29uc3QgbmF0aXZlT25SRSA9IC9eb25bYS16XS87XG5jb25zdCBwYXRjaFByb3AgPSAoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGlzU1ZHID0gZmFsc2UsIHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKSA9PiB7XG4gICAgaWYgKGtleSA9PT0gJ2NsYXNzJykge1xuICAgICAgICBwYXRjaENsYXNzKGVsLCBuZXh0VmFsdWUsIGlzU1ZHKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG4gICAgICAgIHBhdGNoU3R5bGUoZWwsIHByZXZWYWx1ZSwgbmV4dFZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgIC8vIGlnbm9yZSB2LW1vZGVsIGxpc3RlbmVyc1xuICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XG4gICAgICAgICAgICBwYXRjaEV2ZW50KGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGtleVswXSA9PT0gJy4nXG4gICAgICAgID8gKChrZXkgPSBrZXkuc2xpY2UoMSkpLCB0cnVlKVxuICAgICAgICA6IGtleVswXSA9PT0gJ14nXG4gICAgICAgICAgICA/ICgoa2V5ID0ga2V5LnNsaWNlKDEpKSwgZmFsc2UpXG4gICAgICAgICAgICA6IHNob3VsZFNldEFzUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKSkge1xuICAgICAgICBwYXRjaERPTVByb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIDxpbnB1dCB2LW1vZGVsIHR5cGU9XCJjaGVja2JveFwiPiB3aXRoXG4gICAgICAgIC8vIDp0cnVlLXZhbHVlICYgOmZhbHNlLXZhbHVlXG4gICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIGRvbSBwcm9wZXJ0aWVzIHNpbmNlIG5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmVcbiAgICAgICAgLy8gc3RyaW5naWZpZWQuXG4gICAgICAgIGlmIChrZXkgPT09ICd0cnVlLXZhbHVlJykge1xuICAgICAgICAgICAgZWwuX3RydWVWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdmYWxzZS12YWx1ZScpIHtcbiAgICAgICAgICAgIGVsLl9mYWxzZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHLCBwYXJlbnRDb21wb25lbnQpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XG4gICAgaWYgKGlzU1ZHKSB7XG4gICAgICAgIC8vIG1vc3Qga2V5cyBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGUgb24gc3ZnIGVsZW1lbnRzIHRvIHdvcmtcbiAgICAgICAgLy8gLi4uZXhjZXB0IGlubmVySFRNTCAmIHRleHRDb250ZW50XG4gICAgICAgIGlmIChrZXkgPT09ICdpbm5lckhUTUwnIHx8IGtleSA9PT0gJ3RleHRDb250ZW50Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3IgbmF0aXZlIG9uY2xpY2sgd2l0aCBmdW5jdGlvbiB2YWx1ZXNcbiAgICAgICAgaWYgKGtleSBpbiBlbCAmJiBuYXRpdmVPblJFLnRlc3Qoa2V5KSAmJiBpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyB0aGVzZSBhcmUgZW51bWVyYXRlZCBhdHRycywgaG93ZXZlciB0aGVpciBjb3JyZXNwb25kaW5nIERPTSBwcm9wZXJ0aWVzXG4gICAgLy8gYXJlIGFjdHVhbGx5IGJvb2xlYW5zIC0gdGhpcyBsZWFkcyB0byBzZXR0aW5nIGl0IHdpdGggYSBzdHJpbmcgXCJmYWxzZVwiXG4gICAgLy8gdmFsdWUgbGVhZGluZyBpdCB0byBiZSBjb2VyY2VkIHRvIGB0cnVlYCwgc28gd2UgbmVlZCB0byBhbHdheXMgdHJlYXRcbiAgICAvLyB0aGVtIGFzIGF0dHJpYnV0ZXMuXG4gICAgLy8gTm90ZSB0aGF0IGBjb250ZW50RWRpdGFibGVgIGRvZXNuJ3QgaGF2ZSB0aGlzIHByb2JsZW06IGl0cyBET01cbiAgICAvLyBwcm9wZXJ0eSBpcyBhbHNvIGVudW1lcmF0ZWQgc3RyaW5nIHZhbHVlcy5cbiAgICBpZiAoa2V5ID09PSAnc3BlbGxjaGVjaycgfHwga2V5ID09PSAnZHJhZ2dhYmxlJyB8fCBrZXkgPT09ICd0cmFuc2xhdGUnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gIzE3ODcsICMyODQwIGZvcm0gcHJvcGVydHkgb24gZm9ybSBlbGVtZW50cyBpcyByZWFkb25seSBhbmQgbXVzdCBiZSBzZXQgYXNcbiAgICAvLyBhdHRyaWJ1dGUuXG4gICAgaWYgKGtleSA9PT0gJ2Zvcm0nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gIzE1MjYgPGlucHV0IGxpc3Q+IG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxuICAgIGlmIChrZXkgPT09ICdsaXN0JyAmJiBlbC50YWdOYW1lID09PSAnSU5QVVQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gIzI3NjYgPHRleHRhcmVhIHR5cGU+IG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxuICAgIGlmIChrZXkgPT09ICd0eXBlJyAmJiBlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gbmF0aXZlIG9uY2xpY2sgd2l0aCBzdHJpbmcgdmFsdWUsIG11c3QgYmUgc2V0IGFzIGF0dHJpYnV0ZVxuICAgIGlmIChuYXRpdmVPblJFLnRlc3Qoa2V5KSAmJiBpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4ga2V5IGluIGVsO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVDdXN0b21FbGVtZW50KG9wdGlvbnMsIGh5ZHJhdGUpIHtcbiAgICBjb25zdCBDb21wID0gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMpO1xuICAgIGNsYXNzIFZ1ZUN1c3RvbUVsZW1lbnQgZXh0ZW5kcyBWdWVFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoaW5pdGlhbFByb3BzKSB7XG4gICAgICAgICAgICBzdXBlcihDb21wLCBpbml0aWFsUHJvcHMsIGh5ZHJhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFZ1ZUN1c3RvbUVsZW1lbnQuZGVmID0gQ29tcDtcbiAgICByZXR1cm4gVnVlQ3VzdG9tRWxlbWVudDtcbn1cbmNvbnN0IGRlZmluZVNTUkN1c3RvbUVsZW1lbnQgPSAoKG9wdGlvbnMpID0+IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgaHlkcmF0ZSk7XG59KTtcbmNvbnN0IEJhc2VDbGFzcyA9ICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnID8gSFRNTEVsZW1lbnQgOiBjbGFzcyB7XG59KTtcbmNsYXNzIFZ1ZUVsZW1lbnQgZXh0ZW5kcyBCYXNlQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKF9kZWYsIF9wcm9wcyA9IHt9LCBoeWRyYXRlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2RlZiA9IF9kZWY7XG4gICAgICAgIHRoaXMuX3Byb3BzID0gX3Byb3BzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZXNvbHZlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9udW1iZXJQcm9wcyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QgJiYgaHlkcmF0ZSkge1xuICAgICAgICAgICAgaHlkcmF0ZSh0aGlzLl9jcmVhdGVWTm9kZSgpLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEN1c3RvbSBlbGVtZW50IGhhcyBwcmUtcmVuZGVyZWQgZGVjbGFyYXRpdmUgc2hhZG93IHJvb3QgYnV0IGlzIG5vdCBgICtcbiAgICAgICAgICAgICAgICAgICAgYGRlZmluZWQgYXMgaHlkcmF0YWJsZS4gVXNlIFxcYGRlZmluZVNTUkN1c3RvbUVsZW1lbnRcXGAuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGVmLl9fYXN5bmNMb2FkZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBmb3Igc3luYyBjb21wb25lbnQgZGVmcyB3ZSBjYW4gaW1tZWRpYXRlbHkgcmVzb2x2ZSBwcm9wc1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyh0aGlzLl9kZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVEZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyKG51bGwsIHRoaXMuc2hhZG93Um9vdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVzb2x2ZSBpbm5lciBjb21wb25lbnQgZGVmaW5pdGlvbiAoaGFuZGxlIHBvc3NpYmxlIGFzeW5jIGNvbXBvbmVudClcbiAgICAgKi9cbiAgICBfcmVzb2x2ZURlZigpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAvLyBzZXQgaW5pdGlhbCBhdHRyc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fc2V0QXR0cih0aGlzLmF0dHJpYnV0ZXNbaV0ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2F0Y2ggZnV0dXJlIGF0dHIgY2hhbmdlc1xuICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtIG9mIG11dGF0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldEF0dHIobS5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkub2JzZXJ2ZSh0aGlzLCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IHJlc29sdmUgPSAoZGVmLCBpc0FzeW5jID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJvcHMsIHN0eWxlcyB9ID0gZGVmO1xuICAgICAgICAgICAgLy8gY2FzdCBOdW1iZXItdHlwZSBwcm9wcyBzZXQgYmVmb3JlIHJlc29sdmVcbiAgICAgICAgICAgIGxldCBudW1iZXJQcm9wcztcbiAgICAgICAgICAgIGlmIChwcm9wcyAmJiAhaXNBcnJheShwcm9wcykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSBwcm9wc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0ID09PSBOdW1iZXIgfHwgKG9wdCAmJiBvcHQudHlwZSA9PT0gTnVtYmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9wcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB0b051bWJlcih0aGlzLl9wcm9wc1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIChudW1iZXJQcm9wcyB8fCAobnVtYmVyUHJvcHMgPSBPYmplY3QuY3JlYXRlKG51bGwpKSlbY2FtZWxpemUoa2V5KV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudW1iZXJQcm9wcztcbiAgICAgICAgICAgIGlmIChpc0FzeW5jKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVmaW5pbmcgZ2V0dGVyL3NldHRlcnMgb24gcHJvdG90eXBlXG4gICAgICAgICAgICAgICAgLy8gZm9yIHN5bmMgZGVmcywgdGhpcyBhbHJlYWR5IGhhcHBlbmVkIGluIHRoZSBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyhkZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXBwbHkgQ1NTXG4gICAgICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhzdHlsZXMpO1xuICAgICAgICAgICAgLy8gaW5pdGlhbCByZW5kZXJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhc3luY0RlZiA9IHRoaXMuX2RlZi5fX2FzeW5jTG9hZGVyO1xuICAgICAgICBpZiAoYXN5bmNEZWYpIHtcbiAgICAgICAgICAgIGFzeW5jRGVmKCkudGhlbihkZWYgPT4gcmVzb2x2ZShkZWYsIHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5fZGVmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVzb2x2ZVByb3BzKGRlZikge1xuICAgICAgICBjb25zdCB7IHByb3BzIH0gPSBkZWY7XG4gICAgICAgIGNvbnN0IGRlY2xhcmVkUHJvcEtleXMgPSBpc0FycmF5KHByb3BzKSA/IHByb3BzIDogT2JqZWN0LmtleXMocHJvcHMgfHwge30pO1xuICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBhcmUgcHJvcHMgc2V0IHByZS11cGdyYWRlIG9yIGNvbm5lY3RcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcykpIHtcbiAgICAgICAgICAgIGlmIChrZXlbMF0gIT09ICdfJyAmJiBkZWNsYXJlZFByb3BLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdGhpc1trZXldLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVmaW5pbmcgZ2V0dGVyL3NldHRlcnMgb24gcHJvdG90eXBlXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGRlY2xhcmVkUHJvcEtleXMubWFwKGNhbWVsaXplKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGtleSwge1xuICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFByb3Aoa2V5KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0UHJvcChrZXksIHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3NldEF0dHIoa2V5KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgICAgIGNvbnN0IGNhbWVsS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgaWYgKHRoaXMuX251bWJlclByb3BzICYmIHRoaXMuX251bWJlclByb3BzW2NhbWVsS2V5XSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0UHJvcChjYW1lbEtleSwgdmFsdWUsIGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX2dldFByb3Aoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wc1trZXldO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfc2V0UHJvcChrZXksIHZhbCwgc2hvdWxkUmVmbGVjdCA9IHRydWUsIHNob3VsZFVwZGF0ZSA9IHRydWUpIHtcbiAgICAgICAgaWYgKHZhbCAhPT0gdGhpcy5fcHJvcHNba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvcHNba2V5XSA9IHZhbDtcbiAgICAgICAgICAgIGlmIChzaG91bGRVcGRhdGUgJiYgdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlZmxlY3RcbiAgICAgICAgICAgIGlmIChzaG91bGRSZWZsZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgdmFsICsgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3VwZGF0ZSgpIHtcbiAgICAgICAgcmVuZGVyKHRoaXMuX2NyZWF0ZVZOb2RlKCksIHRoaXMuc2hhZG93Um9vdCk7XG4gICAgfVxuICAgIF9jcmVhdGVWTm9kZSgpIHtcbiAgICAgICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZSh0aGlzLl9kZWYsIGV4dGVuZCh7fSwgdGhpcy5fcHJvcHMpKTtcbiAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgdm5vZGUuY2UgPSBpbnN0YW5jZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5pc0NFID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBITVJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNlUmVsb2FkID0gbmV3U3R5bGVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsd2F5cyByZXNldCBzdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMuZm9yRWFjaChzID0+IHRoaXMuc2hhZG93Um9vdC5yZW1vdmVDaGlsZChzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhuZXdTdHlsZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BhdGNoID0gKGV2ZW50LCBhcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogYXJnc1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBpbnRlcmNlcHQgZW1pdFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmVtaXQgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGF0Y2ggYm90aCB0aGUgcmF3IGFuZCBoeXBoZW5hdGVkIHZlcnNpb25zIG9mIGFuIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIG1hdGNoIFZ1ZSBiZWhhdmlvclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChldmVudCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeXBoZW5hdGUoZXZlbnQpICE9PSBldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goaHlwaGVuYXRlKGV2ZW50KSwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGxvY2F0ZSBuZWFyZXN0IFZ1ZSBjdXN0b20gZWxlbWVudCBwYXJlbnQgZm9yIHByb3ZpZGUvaW5qZWN0XG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgd2hpbGUgKChwYXJlbnQgPVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgJiYgKHBhcmVudC5wYXJlbnROb2RlIHx8IHBhcmVudC5ob3N0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFZ1ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnBhcmVudCA9IHBhcmVudC5faW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5wcm92aWRlcyA9IHBhcmVudC5faW5zdGFuY2UucHJvdmlkZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZub2RlO1xuICAgIH1cbiAgICBfYXBwbHlTdHlsZXMoc3R5bGVzKSB7XG4gICAgICAgIGlmIChzdHlsZXMpIHtcbiAgICAgICAgICAgIHN0eWxlcy5mb3JFYWNoKGNzcyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgcy50ZXh0Q29udGVudCA9IGNzcztcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQocyk7XG4gICAgICAgICAgICAgICAgLy8gcmVjb3JkIGZvciBITVJcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLl9zdHlsZXMgfHwgKHRoaXMuX3N0eWxlcyA9IFtdKSkucHVzaChzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gdXNlQ3NzTW9kdWxlKG5hbWUgPSAnJHN0eWxlJykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGB1c2VDc3NNb2R1bGUgbXVzdCBiZSBjYWxsZWQgaW5zaWRlIHNldHVwKClgKTtcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kdWxlcyA9IGluc3RhbmNlLnR5cGUuX19jc3NNb2R1bGVzO1xuICAgICAgICBpZiAoIW1vZHVsZXMpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlcyBpbmplY3RlZC5gKTtcbiAgICAgICAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kID0gbW9kdWxlc1tuYW1lXTtcbiAgICAgICAgaWYgKCFtb2QpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm4kMShgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGUgbmFtZWQgXCIke25hbWV9XCIuYCk7XG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2Q7XG4gICAgfVxufVxuXG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciBTRkMncyBDU1MgdmFyaWFibGUgaW5qZWN0aW9uIGZlYXR1cmUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB1c2VDc3NWYXJzKGdldHRlcikge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgd2FybiQxKGB1c2VDc3NWYXJzIGlzIGNhbGxlZCB3aXRob3V0IGN1cnJlbnQgYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUZWxlcG9ydHMgPSAoaW5zdGFuY2UudXQgPSAodmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSkpID0+IHtcbiAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS12LW93bmVyPVwiJHtpbnN0YW5jZS51aWR9XCJdYCkpLmZvckVhY2gobm9kZSA9PiBzZXRWYXJzT25Ob2RlKG5vZGUsIHZhcnMpKTtcbiAgICB9KTtcbiAgICBjb25zdCBzZXRWYXJzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB2YXJzID0gZ2V0dGVyKGluc3RhbmNlLnByb3h5KTtcbiAgICAgICAgc2V0VmFyc09uVk5vZGUoaW5zdGFuY2Uuc3ViVHJlZSwgdmFycyk7XG4gICAgICAgIHVwZGF0ZVRlbGVwb3J0cyh2YXJzKTtcbiAgICB9O1xuICAgIHdhdGNoUG9zdEVmZmVjdChzZXRWYXJzKTtcbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgICBjb25zdCBvYiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHNldFZhcnMpO1xuICAgICAgICBvYi5vYnNlcnZlKGluc3RhbmNlLnN1YlRyZWUuZWwucGFyZW50Tm9kZSwgeyBjaGlsZExpc3Q6IHRydWUgfSk7XG4gICAgICAgIG9uVW5tb3VudGVkKCgpID0+IG9iLmRpc2Nvbm5lY3QoKSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXRWYXJzT25WTm9kZSh2bm9kZSwgdmFycykge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlO1xuICAgICAgICB2bm9kZSA9IHN1c3BlbnNlLmFjdGl2ZUJyYW5jaDtcbiAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFZhcnNPblZOb2RlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgdmFycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBkcmlsbCBkb3duIEhPQ3MgdW50aWwgaXQncyBhIG5vbi1jb21wb25lbnQgdm5vZGVcbiAgICB3aGlsZSAodm5vZGUuY29tcG9uZW50KSB7XG4gICAgICAgIHZub2RlID0gdm5vZGUuY29tcG9uZW50LnN1YlRyZWU7XG4gICAgfVxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyAmJiB2bm9kZS5lbCkge1xuICAgICAgICBzZXRWYXJzT25Ob2RlKHZub2RlLmVsLCB2YXJzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaChjID0+IHNldFZhcnNPblZOb2RlKGMsIHZhcnMpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICAgIGxldCB7IGVsLCBhbmNob3IgfSA9IHZub2RlO1xuICAgICAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgICAgIHNldFZhcnNPbk5vZGUoZWwsIHZhcnMpO1xuICAgICAgICAgICAgaWYgKGVsID09PSBhbmNob3IpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBlbCA9IGVsLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0VmFyc09uTm9kZShlbCwgdmFycykge1xuICAgIGlmIChlbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJzKSB7XG4gICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShgLS0ke2tleX1gLCB2YXJzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBUUkFOU0lUSU9OID0gJ3RyYW5zaXRpb24nO1xuY29uc3QgQU5JTUFUSU9OID0gJ2FuaW1hdGlvbic7XG4vLyBET00gVHJhbnNpdGlvbiBpcyBhIGhpZ2hlci1vcmRlci1jb21wb25lbnQgYmFzZWQgb24gdGhlIHBsYXRmb3JtLWFnbm9zdGljXG4vLyBiYXNlIFRyYW5zaXRpb24gY29tcG9uZW50LCB3aXRoIERPTS1zcGVjaWZpYyBsb2dpYy5cbmNvbnN0IFRyYW5zaXRpb24gPSAocHJvcHMsIHsgc2xvdHMgfSkgPT4gaChCYXNlVHJhbnNpdGlvbiwgcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhwcm9wcyksIHNsb3RzKTtcblRyYW5zaXRpb24uZGlzcGxheU5hbWUgPSAnVHJhbnNpdGlvbic7XG57XG4gICAgVHJhbnNpdGlvbi5fX2lzQnVpbHRJbiA9IHRydWU7XG59XG5jb25zdCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xuICAgIG5hbWU6IFN0cmluZyxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY3NzOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIGR1cmF0aW9uOiBbU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sXG4gICAgZW50ZXJGcm9tQ2xhc3M6IFN0cmluZyxcbiAgICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gICAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXG4gICAgYXBwZWFyRnJvbUNsYXNzOiBTdHJpbmcsXG4gICAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsXG4gICAgbGVhdmVGcm9tQ2xhc3M6IFN0cmluZyxcbiAgICBsZWF2ZUFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gICAgbGVhdmVUb0NsYXNzOiBTdHJpbmdcbn07XG5jb25zdCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0gKFRyYW5zaXRpb24ucHJvcHMgPVxuICAgIC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBCYXNlVHJhbnNpdGlvbi5wcm9wcywgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpO1xuLyoqXG4gKiAjMzIyNyBJbmNvbWluZyBob29rcyBtYXkgYmUgbWVyZ2VkIGludG8gYXJyYXlzIHdoZW4gd3JhcHBpbmcgVHJhbnNpdGlvblxuICogd2l0aCBjdXN0b20gSE9Dcy5cbiAqL1xuY29uc3QgY2FsbEhvb2skMSA9IChob29rLCBhcmdzID0gW10pID0+IHtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgICBob29rLmZvckVhY2goaCA9PiBoKC4uLmFyZ3MpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaG9vaykge1xuICAgICAgICBob29rKC4uLmFyZ3MpO1xuICAgIH1cbn07XG4vKipcbiAqIENoZWNrIGlmIGEgaG9vayBleHBlY3RzIGEgY2FsbGJhY2sgKDJuZCBhcmcpLCB3aGljaCBtZWFucyB0aGUgdXNlclxuICogaW50ZW5kcyB0byBleHBsaWNpdGx5IGNvbnRyb2wgdGhlIGVuZCBvZiB0aGUgdHJhbnNpdGlvbi5cbiAqL1xuY29uc3QgaGFzRXhwbGljaXRDYWxsYmFjayA9IChob29rKSA9PiB7XG4gICAgcmV0dXJuIGhvb2tcbiAgICAgICAgPyBpc0FycmF5KGhvb2spXG4gICAgICAgICAgICA/IGhvb2suc29tZShoID0+IGgubGVuZ3RoID4gMSlcbiAgICAgICAgICAgIDogaG9vay5sZW5ndGggPiAxXG4gICAgICAgIDogZmFsc2U7XG59O1xuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcykge1xuICAgIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICAgIGlmICghKGtleSBpbiBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSkge1xuICAgICAgICAgICAgYmFzZVByb3BzW2tleV0gPSByYXdQcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyYXdQcm9wcy5jc3MgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBiYXNlUHJvcHM7XG4gICAgfVxuICAgIGNvbnN0IHsgbmFtZSA9ICd2JywgdHlwZSwgZHVyYXRpb24sIGVudGVyRnJvbUNsYXNzID0gYCR7bmFtZX0tZW50ZXItZnJvbWAsIGVudGVyQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1hY3RpdmVgLCBlbnRlclRvQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci10b2AsIGFwcGVhckZyb21DbGFzcyA9IGVudGVyRnJvbUNsYXNzLCBhcHBlYXJBY3RpdmVDbGFzcyA9IGVudGVyQWN0aXZlQ2xhc3MsIGFwcGVhclRvQ2xhc3MgPSBlbnRlclRvQ2xhc3MsIGxlYXZlRnJvbUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtZnJvbWAsIGxlYXZlQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1hY3RpdmVgLCBsZWF2ZVRvQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS10b2AgfSA9IHJhd1Byb3BzO1xuICAgIC8vIGxlZ2FjeSB0cmFuc2l0aW9uIGNsYXNzIGNvbXBhdFxuICAgIGNvbnN0IGxlZ2FjeUNsYXNzRW5hYmxlZCA9IGNvbXBhdFV0aWxzLmlzQ29tcGF0RW5hYmxlZChcIlRSQU5TSVRJT05fQ0xBU1NFU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuVFJBTlNJVElPTl9DTEFTU0VTICovLCBudWxsKTtcbiAgICBsZXQgbGVnYWN5RW50ZXJGcm9tQ2xhc3M7XG4gICAgbGV0IGxlZ2FjeUFwcGVhckZyb21DbGFzcztcbiAgICBsZXQgbGVnYWN5TGVhdmVGcm9tQ2xhc3M7XG4gICAgaWYgKGxlZ2FjeUNsYXNzRW5hYmxlZCkge1xuICAgICAgICBjb25zdCB0b0xlZ2FjeUNsYXNzID0gKGNscykgPT4gY2xzLnJlcGxhY2UoLy1mcm9tJC8sICcnKTtcbiAgICAgICAgaWYgKCFyYXdQcm9wcy5lbnRlckZyb21DbGFzcykge1xuICAgICAgICAgICAgbGVnYWN5RW50ZXJGcm9tQ2xhc3MgPSB0b0xlZ2FjeUNsYXNzKGVudGVyRnJvbUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJhd1Byb3BzLmFwcGVhckZyb21DbGFzcykge1xuICAgICAgICAgICAgbGVnYWN5QXBwZWFyRnJvbUNsYXNzID0gdG9MZWdhY3lDbGFzcyhhcHBlYXJGcm9tQ2xhc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmF3UHJvcHMubGVhdmVGcm9tQ2xhc3MpIHtcbiAgICAgICAgICAgIGxlZ2FjeUxlYXZlRnJvbUNsYXNzID0gdG9MZWdhY3lDbGFzcyhsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZHVyYXRpb25zID0gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pO1xuICAgIGNvbnN0IGVudGVyRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzBdO1xuICAgIGNvbnN0IGxlYXZlRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzFdO1xuICAgIGNvbnN0IHsgb25CZWZvcmVFbnRlciwgb25FbnRlciwgb25FbnRlckNhbmNlbGxlZCwgb25MZWF2ZSwgb25MZWF2ZUNhbmNlbGxlZCwgb25CZWZvcmVBcHBlYXIgPSBvbkJlZm9yZUVudGVyLCBvbkFwcGVhciA9IG9uRW50ZXIsIG9uQXBwZWFyQ2FuY2VsbGVkID0gb25FbnRlckNhbmNlbGxlZCB9ID0gYmFzZVByb3BzO1xuICAgIGNvbnN0IGZpbmlzaEVudGVyID0gKGVsLCBpc0FwcGVhciwgZG9uZSkgPT4ge1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJBY3RpdmVDbGFzcyA6IGVudGVyQWN0aXZlQ2xhc3MpO1xuICAgICAgICBkb25lICYmIGRvbmUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGZpbmlzaExlYXZlID0gKGVsLCBkb25lKSA9PiB7XG4gICAgICAgIGVsLl9pc0xlYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgICAgZG9uZSAmJiBkb25lKCk7XG4gICAgfTtcbiAgICBjb25zdCBtYWtlRW50ZXJIb29rID0gKGlzQXBwZWFyKSA9PiB7XG4gICAgICAgIHJldHVybiAoZWwsIGRvbmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBpc0FwcGVhciA/IG9uQXBwZWFyIDogb25FbnRlcjtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hFbnRlcihlbCwgaXNBcHBlYXIsIGRvbmUpO1xuICAgICAgICAgICAgY2FsbEhvb2skMShob29rLCBbZWwsIHJlc29sdmVdKTtcbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckZyb21DbGFzcyA6IGVudGVyRnJvbUNsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBsZWdhY3lBcHBlYXJGcm9tQ2xhc3MgOiBsZWdhY3lFbnRlckZyb21DbGFzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0V4cGxpY2l0Q2FsbGJhY2soaG9vaykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBlbnRlckR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBleHRlbmQoYmFzZVByb3BzLCB7XG4gICAgICAgIG9uQmVmb3JlRW50ZXIoZWwpIHtcbiAgICAgICAgICAgIGNhbGxIb29rJDEob25CZWZvcmVFbnRlciwgW2VsXSk7XG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyRnJvbUNsYXNzKTtcbiAgICAgICAgICAgIGlmIChsZWdhY3lDbGFzc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlZ2FjeUVudGVyRnJvbUNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJBY3RpdmVDbGFzcyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQmVmb3JlQXBwZWFyKGVsKSB7XG4gICAgICAgICAgICBjYWxsSG9vayQxKG9uQmVmb3JlQXBwZWFyLCBbZWxdKTtcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyRnJvbUNsYXNzKTtcbiAgICAgICAgICAgIGlmIChsZWdhY3lDbGFzc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlZ2FjeUFwcGVhckZyb21DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FbnRlcjogbWFrZUVudGVySG9vayhmYWxzZSksXG4gICAgICAgIG9uQXBwZWFyOiBtYWtlRW50ZXJIb29rKHRydWUpLFxuICAgICAgICBvbkxlYXZlKGVsLCBkb25lKSB7XG4gICAgICAgICAgICBlbC5faXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hMZWF2ZShlbCwgZG9uZSk7XG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICAgICAgICAgIGlmIChsZWdhY3lDbGFzc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlZ2FjeUxlYXZlRnJvbUNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvcmNlIHJlZmxvdyBzbyAqLWxlYXZlLWZyb20gY2xhc3NlcyBpbW1lZGlhdGVseSB0YWtlIGVmZmVjdCAoIzI1OTMpXG4gICAgICAgICAgICBmb3JjZVJlZmxvdygpO1xuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgIG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbC5faXNMZWF2aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbmNlbGxlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGlmIChsZWdhY3lDbGFzc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWdhY3lMZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0V4cGxpY2l0Q2FsbGJhY2sob25MZWF2ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBsZWF2ZUR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbGxIb29rJDEob25MZWF2ZSwgW2VsLCByZXNvbHZlXSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRW50ZXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgICAgICAgIGZpbmlzaEVudGVyKGVsLCBmYWxzZSk7XG4gICAgICAgICAgICBjYWxsSG9vayQxKG9uRW50ZXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkFwcGVhckNhbmNlbGxlZChlbCkge1xuICAgICAgICAgICAgZmluaXNoRW50ZXIoZWwsIHRydWUpO1xuICAgICAgICAgICAgY2FsbEhvb2skMShvbkFwcGVhckNhbmNlbGxlZCwgW2VsXSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTGVhdmVDYW5jZWxsZWQoZWwpIHtcbiAgICAgICAgICAgIGZpbmlzaExlYXZlKGVsKTtcbiAgICAgICAgICAgIGNhbGxIb29rJDEob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gICAgaWYgKGR1cmF0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KGR1cmF0aW9uKSkge1xuICAgICAgICByZXR1cm4gW051bWJlck9mKGR1cmF0aW9uLmVudGVyKSwgTnVtYmVyT2YoZHVyYXRpb24ubGVhdmUpXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG4gPSBOdW1iZXJPZihkdXJhdGlvbik7XG4gICAgICAgIHJldHVybiBbbiwgbl07XG4gICAgfVxufVxuZnVuY3Rpb24gTnVtYmVyT2YodmFsKSB7XG4gICAgY29uc3QgcmVzID0gdG9OdW1iZXIodmFsKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKVxuICAgICAgICB2YWxpZGF0ZUR1cmF0aW9uKHJlcyk7XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRHVyYXRpb24odmFsKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHdhcm4kMShgPHRyYW5zaXRpb24+IGV4cGxpY2l0IGR1cmF0aW9uIGlzIG5vdCBhIHZhbGlkIG51bWJlciAtIGAgK1xuICAgICAgICAgICAgYGdvdCAke0pTT04uc3RyaW5naWZ5KHZhbCl9LmApO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc05hTih2YWwpKSB7XG4gICAgICAgIHdhcm4kMShgPHRyYW5zaXRpb24+IGV4cGxpY2l0IGR1cmF0aW9uIGlzIE5hTiAtIGAgK1xuICAgICAgICAgICAgJ3RoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xuICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGVsLmNsYXNzTGlzdC5hZGQoYykpO1xuICAgIChlbC5fdnRjIHx8XG4gICAgICAgIChlbC5fdnRjID0gbmV3IFNldCgpKSkuYWRkKGNscyk7XG59XG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xuICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgIGNvbnN0IHsgX3Z0YyB9ID0gZWw7XG4gICAgaWYgKF92dGMpIHtcbiAgICAgICAgX3Z0Yy5kZWxldGUoY2xzKTtcbiAgICAgICAgaWYgKCFfdnRjLnNpemUpIHtcbiAgICAgICAgICAgIGVsLl92dGMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBuZXh0RnJhbWUoY2IpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICAgIH0pO1xufVxubGV0IGVuZElkID0gMDtcbmZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgZXhwZWN0ZWRUeXBlLCBleHBsaWNpdFRpbWVvdXQsIHJlc29sdmUpIHtcbiAgICBjb25zdCBpZCA9IChlbC5fZW5kSWQgPSArK2VuZElkKTtcbiAgICBjb25zdCByZXNvbHZlSWZOb3RTdGFsZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGlkID09PSBlbC5fZW5kSWQpIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKGV4cGxpY2l0VGltZW91dCkge1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlSWZOb3RTdGFsZSwgZXhwbGljaXRUaW1lb3V0KTtcbiAgICB9XG4gICAgY29uc3QgeyB0eXBlLCB0aW1lb3V0LCBwcm9wQ291bnQgfSA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpO1xuICAgIGlmICghdHlwZSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgIH1cbiAgICBjb25zdCBlbmRFdmVudCA9IHR5cGUgKyAnZW5kJztcbiAgICBsZXQgZW5kZWQgPSAwO1xuICAgIGNvbnN0IGVuZCA9ICgpID0+IHtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xuICAgICAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xuICAgIH07XG4gICAgY29uc3Qgb25FbmQgPSAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGVsICYmICsrZW5kZWQgPj0gcHJvcENvdW50KSB7XG4gICAgICAgICAgICBlbmQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChlbmRlZCA8IHByb3BDb3VudCkge1xuICAgICAgICAgICAgZW5kKCk7XG4gICAgICAgIH1cbiAgICB9LCB0aW1lb3V0ICsgMSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSkge1xuICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAvLyBKU0RPTSBtYXkgcmV0dXJuIHVuZGVmaW5lZCBmb3IgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXG4gICAgY29uc3QgZ2V0U3R5bGVQcm9wZXJ0aWVzID0gKGtleSkgPT4gKHN0eWxlc1trZXldIHx8ICcnKS5zcGxpdCgnLCAnKTtcbiAgICBjb25zdCB0cmFuc2l0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RGVsYXlgKTtcbiAgICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RHVyYXRpb25gKTtcbiAgICBjb25zdCB0cmFuc2l0aW9uVGltZW91dCA9IGdldFRpbWVvdXQodHJhbnNpdGlvbkRlbGF5cywgdHJhbnNpdGlvbkR1cmF0aW9ucyk7XG4gICAgY29uc3QgYW5pbWF0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke0FOSU1BVElPTn1EZWxheWApO1xuICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RHVyYXRpb25gKTtcbiAgICBjb25zdCBhbmltYXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dChhbmltYXRpb25EZWxheXMsIGFuaW1hdGlvbkR1cmF0aW9ucyk7XG4gICAgbGV0IHR5cGUgPSBudWxsO1xuICAgIGxldCB0aW1lb3V0ID0gMDtcbiAgICBsZXQgcHJvcENvdW50ID0gMDtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXhwZWN0ZWRUeXBlID09PSBUUkFOU0lUSU9OKSB7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCA+IDApIHtcbiAgICAgICAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xuICAgICAgICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xuICAgICAgICAgICAgcHJvcENvdW50ID0gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBBTklNQVRJT04pIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICB0eXBlID0gQU5JTUFUSU9OO1xuICAgICAgICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7XG4gICAgICAgICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gTWF0aC5tYXgodHJhbnNpdGlvblRpbWVvdXQsIGFuaW1hdGlvblRpbWVvdXQpO1xuICAgICAgICB0eXBlID1cbiAgICAgICAgICAgIHRpbWVvdXQgPiAwXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXRcbiAgICAgICAgICAgICAgICAgICAgPyBUUkFOU0lUSU9OXG4gICAgICAgICAgICAgICAgICAgIDogQU5JTUFUSU9OXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBwcm9wQ291bnQgPSB0eXBlXG4gICAgICAgICAgICA/IHR5cGUgPT09IFRSQU5TSVRJT05cbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoXG4gICAgICAgICAgICAgICAgOiBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoXG4gICAgICAgICAgICA6IDA7XG4gICAgfVxuICAgIGNvbnN0IGhhc1RyYW5zZm9ybSA9IHR5cGUgPT09IFRSQU5TSVRJT04gJiZcbiAgICAgICAgL1xcYih0cmFuc2Zvcm18YWxsKSgsfCQpLy50ZXN0KGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfVByb3BlcnR5YCkudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdGltZW91dCxcbiAgICAgICAgcHJvcENvdW50LFxuICAgICAgICBoYXNUcmFuc2Zvcm1cbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0VGltZW91dChkZWxheXMsIGR1cmF0aW9ucykge1xuICAgIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgICAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heCguLi5kdXJhdGlvbnMubWFwKChkLCBpKSA9PiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pKSk7XG59XG4vLyBPbGQgdmVyc2lvbnMgb2YgQ2hyb21pdW0gKGJlbG93IDYxLjAuMzE2My4xMDApIGZvcm1hdHMgZmxvYXRpbmcgcG9pbnRlclxuLy8gbnVtYmVycyBpbiBhIGxvY2FsZS1kZXBlbmRlbnQgd2F5LCB1c2luZyBhIGNvbW1hIGluc3RlYWQgb2YgYSBkb3QuXG4vLyBJZiBjb21tYSBpcyBub3QgcmVwbGFjZWQgd2l0aCBhIGRvdCwgdGhlIGlucHV0IHdpbGwgYmUgcm91bmRlZCBkb3duXG4vLyAoaS5lLiBhY3RpbmcgYXMgYSBmbG9vciBmdW5jdGlvbikgY2F1c2luZyB1bmV4cGVjdGVkIGJlaGF2aW9yc1xuZnVuY3Rpb24gdG9NcyhzKSB7XG4gICAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKS5yZXBsYWNlKCcsJywgJy4nKSkgKiAxMDAwO1xufVxuLy8gc3luY2hyb25vdXNseSBmb3JjZSBsYXlvdXQgdG8gcHV0IGVsZW1lbnRzIGludG8gYSBjZXJ0YWluIHN0YXRlXG5mdW5jdGlvbiBmb3JjZVJlZmxvdygpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XG59XG5cbmNvbnN0IHBvc2l0aW9uTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG5ld1Bvc2l0aW9uTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IFRyYW5zaXRpb25Hcm91cEltcGwgPSB7XG4gICAgbmFtZTogJ1RyYW5zaXRpb25Hcm91cCcsXG4gICAgcHJvcHM6IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCB7XG4gICAgICAgIHRhZzogU3RyaW5nLFxuICAgICAgICBtb3ZlQ2xhc3M6IFN0cmluZ1xuICAgIH0pLFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICAgICAgbGV0IHByZXZDaGlsZHJlbjtcbiAgICAgICAgbGV0IGNoaWxkcmVuO1xuICAgICAgICBvblVwZGF0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gY2hpbGRyZW4gaXMgZ3VhcmFudGVlZCB0byBleGlzdCBhZnRlciBpbml0aWFsIHJlbmRlclxuICAgICAgICAgICAgaWYgKCFwcmV2Q2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbW92ZUNsYXNzID0gcHJvcHMubW92ZUNsYXNzIHx8IGAke3Byb3BzLm5hbWUgfHwgJ3YnfS1tb3ZlYDtcbiAgICAgICAgICAgIGlmICghaGFzQ1NTVHJhbnNmb3JtKHByZXZDaGlsZHJlblswXS5lbCwgaW5zdGFuY2Uudm5vZGUuZWwsIG1vdmVDbGFzcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBkaXZpZGUgdGhlIHdvcmsgaW50byB0aHJlZSBsb29wcyB0byBhdm9pZCBtaXhpbmcgRE9NIHJlYWRzIGFuZCB3cml0ZXNcbiAgICAgICAgICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxuICAgICAgICAgICAgcHJldkNoaWxkcmVuLmZvckVhY2goY2FsbFBlbmRpbmdDYnMpO1xuICAgICAgICAgICAgcHJldkNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xuICAgICAgICAgICAgY29uc3QgbW92ZWRDaGlsZHJlbiA9IHByZXZDaGlsZHJlbi5maWx0ZXIoYXBwbHlUcmFuc2xhdGlvbik7XG4gICAgICAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gcHV0IGV2ZXJ5dGhpbmcgaW4gcG9zaXRpb25cbiAgICAgICAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICAgICAgICBtb3ZlZENoaWxkcmVuLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWwgPSBjLmVsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNiID0gKGVsLl9tb3ZlQ2IgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWUgfHwgL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgY2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgY2IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgICAgICAgICBjb25zdCBjc3NUcmFuc2l0aW9uUHJvcHMgPSByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKTtcbiAgICAgICAgICAgIGxldCB0YWcgPSByYXdQcm9wcy50YWcgfHwgRnJhZ21lbnQ7XG4gICAgICAgICAgICBpZiAoIXJhd1Byb3BzLnRhZyAmJlxuICAgICAgICAgICAgICAgIGNvbXBhdFV0aWxzLmNoZWNrQ29tcGF0RW5hYmxlZChcIlRSQU5TSVRJT05fR1JPVVBfUk9PVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuVFJBTlNJVElPTl9HUk9VUF9ST09UICovLCBpbnN0YW5jZS5wYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgdGFnID0gJ3NwYW4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldkNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgICAgICBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgPyBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpKSA6IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhjaGlsZCwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgPFRyYW5zaXRpb25Hcm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBwcmV2Q2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhjaGlsZCwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25NYXAuc2V0KGNoaWxkLCBjaGlsZC5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHRhZywgbnVsbCwgY2hpbGRyZW4pO1xuICAgICAgICB9O1xuICAgIH1cbn07XG57XG4gICAgVHJhbnNpdGlvbkdyb3VwSW1wbC5fX2lzQnVpbHRJbiA9IHRydWU7XG59XG5jb25zdCBUcmFuc2l0aW9uR3JvdXAgPSBUcmFuc2l0aW9uR3JvdXBJbXBsO1xuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMoYykge1xuICAgIGNvbnN0IGVsID0gYy5lbDtcbiAgICBpZiAoZWwuX21vdmVDYikge1xuICAgICAgICBlbC5fbW92ZUNiKCk7XG4gICAgfVxuICAgIGlmIChlbC5fZW50ZXJDYikge1xuICAgICAgICBlbC5fZW50ZXJDYigpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uKGMpIHtcbiAgICBuZXdQb3NpdGlvbk1hcC5zZXQoYywgYy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG59XG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcbiAgICBjb25zdCBvbGRQb3MgPSBwb3NpdGlvbk1hcC5nZXQoYyk7XG4gICAgY29uc3QgbmV3UG9zID0gbmV3UG9zaXRpb25NYXAuZ2V0KGMpO1xuICAgIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcbiAgICBjb25zdCBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xuICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICBjb25zdCBzID0gYy5lbC5zdHlsZTtcbiAgICAgICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XG4gICAgICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzQ1NTVHJhbnNmb3JtKGVsLCByb290LCBtb3ZlQ2xhc3MpIHtcbiAgICAvLyBEZXRlY3Qgd2hldGhlciBhbiBlbGVtZW50IHdpdGggdGhlIG1vdmUgY2xhc3MgYXBwbGllZCBoYXNcbiAgICAvLyBDU1MgdHJhbnNpdGlvbnMuIFNpbmNlIHRoZSBlbGVtZW50IG1heSBiZSBpbnNpZGUgYW4gZW50ZXJpbmdcbiAgICAvLyB0cmFuc2l0aW9uIGF0IHRoaXMgdmVyeSBtb21lbnQsIHdlIG1ha2UgYSBjbG9uZSBvZiBpdCBhbmQgcmVtb3ZlXG4gICAgLy8gYWxsIG90aGVyIHRyYW5zaXRpb24gY2xhc3NlcyBhcHBsaWVkIHRvIGVuc3VyZSBvbmx5IHRoZSBtb3ZlIGNsYXNzXG4gICAgLy8gaXMgYXBwbGllZC5cbiAgICBjb25zdCBjbG9uZSA9IGVsLmNsb25lTm9kZSgpO1xuICAgIGlmIChlbC5fdnRjKSB7XG4gICAgICAgIGVsLl92dGMuZm9yRWFjaChjbHMgPT4ge1xuICAgICAgICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LnJlbW92ZShjKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtb3ZlQ2xhc3Muc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgICBjbG9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IChyb290Lm5vZGVUeXBlID09PSAxID8gcm9vdCA6IHJvb3QucGFyZW50Tm9kZSk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgICBjb25zdCB7IGhhc1RyYW5zZm9ybSB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpO1xuICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjbG9uZSk7XG4gICAgcmV0dXJuIGhhc1RyYW5zZm9ybTtcbn1cblxuY29uc3QgZ2V0TW9kZWxBc3NpZ25lciA9ICh2bm9kZSkgPT4ge1xuICAgIGNvbnN0IGZuID0gdm5vZGUucHJvcHNbJ29uVXBkYXRlOm1vZGVsVmFsdWUnXSB8fFxuICAgICAgICAodm5vZGUucHJvcHNbJ29uTW9kZWxDb21wYXQ6aW5wdXQnXSk7XG4gICAgcmV0dXJuIGlzQXJyYXkoZm4pID8gdmFsdWUgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xufTtcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XG4gICAgZS50YXJnZXQuY29tcG9zaW5nID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25FbmQoZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgIGlmICh0YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgICAgIHRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdpbnB1dCcpKTtcbiAgICB9XG59XG4vLyBXZSBhcmUgZXhwb3J0aW5nIHRoZSB2LW1vZGVsIHJ1bnRpbWUgZGlyZWN0bHkgYXMgdm5vZGUgaG9va3Mgc28gdGhhdCBpdCBjYW5cbi8vIGJlIHRyZWUtc2hha2VuIGluIGNhc2Ugdi1tb2RlbCBpcyBuZXZlciB1c2VkLlxuY29uc3Qgdk1vZGVsVGV4dCA9IHtcbiAgICBjcmVhdGVkKGVsLCB7IG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgICAgIGNvbnN0IGNhc3RUb051bWJlciA9IG51bWJlciB8fCAodm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZSA9PT0gJ251bWJlcicpO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBsYXp5ID8gJ2NoYW5nZScgOiAnaW5wdXQnLCBlID0+IHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jb21wb3NpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGRvbVZhbHVlID0gZWwudmFsdWU7XG4gICAgICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgICAgIGRvbVZhbHVlID0gZG9tVmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhc3RUb051bWJlcikge1xuICAgICAgICAgICAgICAgIGRvbVZhbHVlID0gdG9OdW1iZXIoZG9tVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWwuX2Fzc2lnbihkb21WYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBlbC52YWx1ZSA9IGVsLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbGF6eSkge1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NvbXBvc2l0aW9uc3RhcnQnLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NvbXBvc2l0aW9uZW5kJywgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgICAgICAgICAvLyBTYWZhcmkgPCAxMC4yICYgVUlXZWJWaWV3IGRvZXNuJ3QgZmlyZSBjb21wb3NpdGlvbmVuZCB3aGVuXG4gICAgICAgICAgICAvLyBzd2l0Y2hpbmcgZm9jdXMgYmVmb3JlIGNvbmZpcm1pbmcgY29tcG9zaXRpb24gY2hvaWNlXG4gICAgICAgICAgICAvLyB0aGlzIGFsc28gZml4ZXMgdGhlIGlzc3VlIHdoZXJlIHNvbWUgYnJvd3NlcnMgZS5nLiBpT1MgQ2hyb21lXG4gICAgICAgICAgICAvLyBmaXJlcyBcImNoYW5nZVwiIGluc3RlYWQgb2YgXCJpbnB1dFwiIG9uIGF1dG9jb21wbGV0ZS5cbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gc2V0IHZhbHVlIG9uIG1vdW50ZWQgc28gaXQncyBhZnRlciBtaW4vbWF4IGZvciB0eXBlPVwicmFuZ2VcIlxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgICAgICBlbC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuICAgIH0sXG4gICAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgbGF6eSwgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgICAgICAvLyBhdm9pZCBjbGVhcmluZyB1bnJlc29sdmVkIHRleHQuICMyMzAyXG4gICAgICAgIGlmIChlbC5jb21wb3NpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbCAmJiBlbC50eXBlICE9PSAncmFuZ2UnKSB7XG4gICAgICAgICAgICBpZiAobGF6eSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmltICYmIGVsLnZhbHVlLnRyaW0oKSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG51bWJlciB8fCBlbC50eXBlID09PSAnbnVtYmVyJykgJiYgdG9OdW1iZXIoZWwudmFsdWUpID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuICAgICAgICBpZiAoZWwudmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHZNb2RlbENoZWNrYm94ID0ge1xuICAgIC8vICM0MDk2IGFycmF5IGNoZWNrYm94ZXMgbmVlZCB0byBiZSBkZWVwIHRyYXZlcnNlZFxuICAgIGRlZXA6IHRydWUsXG4gICAgY3JlYXRlZChlbCwgXywgdm5vZGUpIHtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kZWxWYWx1ZSA9IGVsLl9tb2RlbFZhbHVlO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFZhbHVlID0gZ2V0VmFsdWUoZWwpO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tlZCA9IGVsLmNoZWNrZWQ7XG4gICAgICAgICAgICBjb25zdCBhc3NpZ24gPSBlbC5fYXNzaWduO1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGxvb3NlSW5kZXhPZihtb2RlbFZhbHVlLCBlbGVtZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkICYmICFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjaGVja2VkICYmIGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gWy4uLm1vZGVsVmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBhc3NpZ24oZmlsdGVyZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzU2V0KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZWQuYWRkKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZWQuZGVsZXRlKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzc2lnbihjbG9uZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzaWduKGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyBzZXQgaW5pdGlhbCBjaGVja2VkIG9uIG1vdW50IHRvIHdhaXQgZm9yIHRydWUtdmFsdWUvZmFsc2UtdmFsdWVcbiAgICBtb3VudGVkOiBzZXRDaGVja2VkLFxuICAgIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgICAgICBzZXRDaGVja2VkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHNldENoZWNrZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWwuX21vZGVsVmFsdWUgPSB2YWx1ZTtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgICBlbC5jaGVja2VkID0gdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCBnZXRDaGVja2JveFZhbHVlKGVsLCB0cnVlKSk7XG4gICAgfVxufVxuY29uc3Qgdk1vZGVsUmFkaW8gPSB7XG4gICAgY3JlYXRlZChlbCwgeyB2YWx1ZSB9LCB2bm9kZSkge1xuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBlbC5fYXNzaWduKGdldFZhbHVlKGVsKSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xuICAgIC8vIDxzZWxlY3QgbXVsdGlwbGU+IHZhbHVlIG5lZWQgdG8gYmUgZGVlcCB0cmF2ZXJzZWRcbiAgICBkZWVwOiB0cnVlLFxuICAgIGNyZWF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgICAgICBjb25zdCBpc1NldE1vZGVsID0gaXNTZXQodmFsdWUpO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyXG4gICAgICAgICAgICAgICAgLmNhbGwoZWwub3B0aW9ucywgKG8pID0+IG8uc2VsZWN0ZWQpXG4gICAgICAgICAgICAgICAgLm1hcCgobykgPT4gbnVtYmVyID8gdG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobykpO1xuICAgICAgICAgICAgZWwuX2Fzc2lnbihlbC5tdWx0aXBsZVxuICAgICAgICAgICAgICAgID8gaXNTZXRNb2RlbFxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBTZXQoc2VsZWN0ZWRWYWwpXG4gICAgICAgICAgICAgICAgICAgIDogc2VsZWN0ZWRWYWxcbiAgICAgICAgICAgICAgICA6IHNlbGVjdGVkVmFsWzBdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICB9LFxuICAgIC8vIHNldCB2YWx1ZSBpbiBtb3VudGVkICYgdXBkYXRlZCBiZWNhdXNlIDxzZWxlY3Q+IHJlbGllcyBvbiBpdHMgY2hpbGRyZW5cbiAgICAvLyA8b3B0aW9uPnMuXG4gICAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBiZWZvcmVVcGRhdGUoZWwsIF9iaW5kaW5nLCB2bm9kZSkge1xuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgfSxcbiAgICB1cGRhdGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgICB9XG59O1xuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKSB7XG4gICAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICAgIGlmIChpc011bHRpcGxlICYmICFpc0FycmF5KHZhbHVlKSAmJiAhaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgd2FybiQxKGA8c2VsZWN0IG11bHRpcGxlIHYtbW9kZWw+IGV4cGVjdHMgYW4gQXJyYXkgb3IgU2V0IHZhbHVlIGZvciBpdHMgYmluZGluZywgYCArXG4gICAgICAgICAgICAgICAgYGJ1dCBnb3QgJHtPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKX0uYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBlbC5vcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xuICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XG4gICAgICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIG9wdGlvblZhbHVlKSA+IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChsb29zZUVxdWFsKGdldFZhbHVlKG9wdGlvbiksIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmIChlbC5zZWxlY3RlZEluZGV4ICE9PSBpKVxuICAgICAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc011bHRpcGxlICYmIGVsLnNlbGVjdGVkSW5kZXggIT09IC0xKSB7XG4gICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICB9XG59XG4vLyByZXRyaWV2ZSByYXcgdmFsdWUgc2V0IHZpYSA6dmFsdWUgYmluZGluZ3NcbmZ1bmN0aW9uIGdldFZhbHVlKGVsKSB7XG4gICAgcmV0dXJuICdfdmFsdWUnIGluIGVsID8gZWwuX3ZhbHVlIDogZWwudmFsdWU7XG59XG4vLyByZXRyaWV2ZSByYXcgdmFsdWUgZm9yIHRydWUtdmFsdWUgYW5kIGZhbHNlLXZhbHVlIHNldCB2aWEgOnRydWUtdmFsdWUgb3IgOmZhbHNlLXZhbHVlIGJpbmRpbmdzXG5mdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSB7XG4gICAgY29uc3Qga2V5ID0gY2hlY2tlZCA/ICdfdHJ1ZVZhbHVlJyA6ICdfZmFsc2VWYWx1ZSc7XG4gICAgcmV0dXJuIGtleSBpbiBlbCA/IGVsW2tleV0gOiBjaGVja2VkO1xufVxuY29uc3Qgdk1vZGVsRHluYW1pYyA9IHtcbiAgICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgJ2NyZWF0ZWQnKTtcbiAgICB9LFxuICAgIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCAnbW91bnRlZCcpO1xuICAgIH0sXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsICdiZWZvcmVVcGRhdGUnKTtcbiAgICB9LFxuICAgIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgJ3VwZGF0ZWQnKTtcbiAgICB9XG59O1xuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNNb2RlbCh0YWdOYW1lLCB0eXBlKSB7XG4gICAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgJ1NFTEVDVCc6XG4gICAgICAgICAgICByZXR1cm4gdk1vZGVsU2VsZWN0O1xuICAgICAgICBjYXNlICdURVhUQVJFQSc6XG4gICAgICAgICAgICByZXR1cm4gdk1vZGVsVGV4dDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZNb2RlbENoZWNrYm94O1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZNb2RlbFJhZGlvO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgICAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcbiAgICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChlbC50YWdOYW1lLCB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlKTtcbiAgICBjb25zdCBmbiA9IG1vZGVsVG9Vc2VbaG9va107XG4gICAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xufVxuLy8gU1NSIHZub2RlIHRyYW5zZm9ybXMsIG9ubHkgdXNlZCB3aGVuIHVzZXIgaW5jbHVkZXMgY2xpZW50LW9yaWVudGVkIHJlbmRlclxuLy8gZnVuY3Rpb24gaW4gU1NSXG5mdW5jdGlvbiBpbml0Vk1vZGVsRm9yU1NSKCkge1xuICAgIHZNb2RlbFRleHQuZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9KSA9PiAoeyB2YWx1ZSB9KTtcbiAgICB2TW9kZWxSYWRpby5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgICAgIGlmICh2bm9kZS5wcm9wcyAmJiBsb29zZUVxdWFsKHZub2RlLnByb3BzLnZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdk1vZGVsQ2hlY2tib3guZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2bm9kZS5wcm9wcyAmJiBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHZub2RlLnByb3BzICYmIHZhbHVlLmhhcyh2bm9kZS5wcm9wcy52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdk1vZGVsRHluYW1pYy5nZXRTU1JQcm9wcyA9IChiaW5kaW5nLCB2bm9kZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZub2RlLnR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgICAgIC8vIHJlc29sdmVEeW5hbWljTW9kZWwgZXhwZWN0cyBhbiB1cHBlcmNhc2UgdGFnIG5hbWUsIGJ1dCB2bm9kZS50eXBlIGlzIGxvd2VyY2FzZVxuICAgICAgICB2bm9kZS50eXBlLnRvVXBwZXJDYXNlKCksIHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGUpO1xuICAgICAgICBpZiAobW9kZWxUb1VzZS5nZXRTU1JQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMoYmluZGluZywgdm5vZGUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuY29uc3Qgc3lzdGVtTW9kaWZpZXJzID0gWydjdHJsJywgJ3NoaWZ0JywgJ2FsdCcsICdtZXRhJ107XG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcbiAgICBzdG9wOiBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gICAgcHJldmVudDogZSA9PiBlLnByZXZlbnREZWZhdWx0KCksXG4gICAgc2VsZjogZSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxuICAgIGN0cmw6IGUgPT4gIWUuY3RybEtleSxcbiAgICBzaGlmdDogZSA9PiAhZS5zaGlmdEtleSxcbiAgICBhbHQ6IGUgPT4gIWUuYWx0S2V5LFxuICAgIG1ldGE6IGUgPT4gIWUubWV0YUtleSxcbiAgICBsZWZ0OiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDAsXG4gICAgbWlkZGxlOiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDEsXG4gICAgcmlnaHQ6IGUgPT4gJ2J1dHRvbicgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcbiAgICBleGFjdDogKGUsIG1vZGlmaWVycykgPT4gc3lzdGVtTW9kaWZpZXJzLnNvbWUobSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcbn07XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHdpdGhNb2RpZmllcnMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xuICAgIHJldHVybiAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2RpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGd1YXJkID0gbW9kaWZpZXJHdWFyZHNbbW9kaWZpZXJzW2ldXTtcbiAgICAgICAgICAgIGlmIChndWFyZCAmJiBndWFyZChldmVudCwgbW9kaWZpZXJzKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuKGV2ZW50LCAuLi5hcmdzKTtcbiAgICB9O1xufTtcbi8vIEtlcHQgZm9yIDIueCBjb21wYXQuXG4vLyBOb3RlOiBJRTExIGNvbXBhdCBmb3IgYHNwYWNlYmFyYCBhbmQgYGRlbGAgaXMgcmVtb3ZlZCBmb3Igbm93LlxuY29uc3Qga2V5TmFtZXMgPSB7XG4gICAgZXNjOiAnZXNjYXBlJyxcbiAgICBzcGFjZTogJyAnLFxuICAgIHVwOiAnYXJyb3ctdXAnLFxuICAgIGxlZnQ6ICdhcnJvdy1sZWZ0JyxcbiAgICByaWdodDogJ2Fycm93LXJpZ2h0JyxcbiAgICBkb3duOiAnYXJyb3ctZG93bicsXG4gICAgZGVsZXRlOiAnYmFja3NwYWNlJ1xufTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3Qgd2l0aEtleXMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xuICAgIGxldCBnbG9iYWxLZXlDb2RlcztcbiAgICBsZXQgaW5zdGFuY2UgPSBudWxsO1xuICAgIHtcbiAgICAgICAgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgaWYgKGNvbXBhdFV0aWxzLmlzQ29tcGF0RW5hYmxlZChcIkNPTkZJR19LRVlfQ09ERVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19LRVlfQ09ERVMgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsS2V5Q29kZXMgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5rZXlDb2RlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG1vZGlmaWVycy5zb21lKG0gPT4gL15cXGQrJC8udGVzdChtKSkpIHtcbiAgICAgICAgICAgIGNvbXBhdFV0aWxzLndhcm5EZXByZWNhdGlvbihcIlZfT05fS0VZQ09ERV9NT0RJRklFUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuVl9PTl9LRVlDT0RFX01PRElGSUVSICovLCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoISgna2V5JyBpbiBldmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBldmVudEtleSA9IGh5cGhlbmF0ZShldmVudC5rZXkpO1xuICAgICAgICBpZiAobW9kaWZpZXJzLnNvbWUoayA9PiBrID09PSBldmVudEtleSB8fCBrZXlOYW1lc1trXSA9PT0gZXZlbnRLZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4oZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGtleUNvZGUgPSBTdHJpbmcoZXZlbnQua2V5Q29kZSk7XG4gICAgICAgICAgICBpZiAoY29tcGF0VXRpbHMuaXNDb21wYXRFbmFibGVkKFwiVl9PTl9LRVlDT0RFX01PRElGSUVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5WX09OX0tFWUNPREVfTU9ESUZJRVIgKi8sIGluc3RhbmNlKSAmJlxuICAgICAgICAgICAgICAgIG1vZGlmaWVycy5zb21lKG1vZCA9PiBtb2QgPT0ga2V5Q29kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdsb2JhbEtleUNvZGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBtb2Qgb2YgbW9kaWZpZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVzID0gZ2xvYmFsS2V5Q29kZXNbbW9kXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gaXNBcnJheShjb2RlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNvZGVzLnNvbWUoY29kZSA9PiBTdHJpbmcoY29kZSkgPT09IGtleUNvZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBTdHJpbmcoY29kZXMpID09PSBrZXlDb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4oZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmNvbnN0IHZTaG93ID0ge1xuICAgIGJlZm9yZU1vdW50KGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgICAgIGVsLl92b2QgPSBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnJyA6IGVsLnN0eWxlLmRpc3BsYXk7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uICYmIHZhbHVlKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbW91bnRlZChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICAgICAgICAgIHNldERpc3BsYXkoZWwsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbi5sZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXREaXNwbGF5KGVsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGJlZm9yZVVubW91bnQoZWwsIHsgdmFsdWUgfSkge1xuICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHNldERpc3BsYXkoZWwsIHZhbHVlKSB7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX3ZvZCA6ICdub25lJztcbn1cbi8vIFNTUiB2bm9kZSB0cmFuc2Zvcm1zLCBvbmx5IHVzZWQgd2hlbiB1c2VyIGluY2x1ZGVzIGNsaWVudC1vcmllbnRlZCByZW5kZXJcbi8vIGZ1bmN0aW9uIGluIFNTUlxuZnVuY3Rpb24gaW5pdFZTaG93Rm9yU1NSKCkge1xuICAgIHZTaG93LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdHlsZTogeyBkaXNwbGF5OiAnbm9uZScgfSB9O1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuY29uc3QgcmVuZGVyZXJPcHRpb25zID0gLyojX19QVVJFX18qLyBleHRlbmQoeyBwYXRjaFByb3AgfSwgbm9kZU9wcyk7XG4vLyBsYXp5IGNyZWF0ZSB0aGUgcmVuZGVyZXIgLSB0aGlzIG1ha2VzIGNvcmUgcmVuZGVyZXIgbG9naWMgdHJlZS1zaGFrYWJsZVxuLy8gaW4gY2FzZSB0aGUgdXNlciBvbmx5IGltcG9ydHMgcmVhY3Rpdml0eSB1dGlsaXRpZXMgZnJvbSBWdWUuXG5sZXQgcmVuZGVyZXI7XG5sZXQgZW5hYmxlZEh5ZHJhdGlvbiA9IGZhbHNlO1xuZnVuY3Rpb24gZW5zdXJlUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIChyZW5kZXJlciB8fFxuICAgICAgICAocmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpKSk7XG59XG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcbiAgICByZW5kZXJlciA9IGVuYWJsZWRIeWRyYXRpb25cbiAgICAgICAgPyByZW5kZXJlclxuICAgICAgICA6IGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucyk7XG4gICAgZW5hYmxlZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgcmV0dXJuIHJlbmRlcmVyO1xufVxuLy8gdXNlIGV4cGxpY2l0IHR5cGUgY2FzdHMgaGVyZSB0byBhdm9pZCBpbXBvcnQoKSBjYWxscyBpbiByb2xsZWQtdXAgZC50c1xuY29uc3QgcmVuZGVyID0gKCguLi5hcmdzKSA9PiB7XG4gICAgZW5zdXJlUmVuZGVyZXIoKS5yZW5kZXIoLi4uYXJncyk7XG59KTtcbmNvbnN0IGh5ZHJhdGUgPSAoKC4uLmFyZ3MpID0+IHtcbiAgICBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmh5ZHJhdGUoLi4uYXJncyk7XG59KTtcbmNvbnN0IGNyZWF0ZUFwcCA9ICgoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcbiAgICAgICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgICB9XG4gICAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICAgIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICAgICAgaWYgKCFjb250YWluZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGFwcC5fY29tcG9uZW50O1xuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oY29tcG9uZW50KSAmJiAhY29tcG9uZW50LnJlbmRlciAmJiAhY29tcG9uZW50LnRlbXBsYXRlKSB7XG4gICAgICAgICAgICAvLyBfX1VOU0FGRV9fXG4gICAgICAgICAgICAvLyBSZWFzb246IHBvdGVudGlhbCBleGVjdXRpb24gb2YgSlMgZXhwcmVzc2lvbnMgaW4gaW4tRE9NIHRlbXBsYXRlLlxuICAgICAgICAgICAgLy8gVGhlIHVzZXIgbXVzdCBtYWtlIHN1cmUgdGhlIGluLURPTSB0ZW1wbGF0ZSBpcyB0cnVzdGVkLiBJZiBpdCdzXG4gICAgICAgICAgICAvLyByZW5kZXJlZCBieSB0aGUgc2VydmVyLCB0aGUgdGVtcGxhdGUgc2hvdWxkIG5vdCBjb250YWluIGFueSB1c2VyIGRhdGEuXG4gICAgICAgICAgICBjb21wb25lbnQudGVtcGxhdGUgPSBjb250YWluZXIuaW5uZXJIVE1MO1xuICAgICAgICAgICAgLy8gMi54IGNvbXBhdCBjaGVja1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGFpbmVyLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0ciA9IGNvbnRhaW5lci5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ci5uYW1lICE9PSAndi1jbG9haycgJiYgL14odi18OnxAKS8udGVzdChhdHRyLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wYXRVdGlscy53YXJuRGVwcmVjYXRpb24oXCJHTE9CQUxfTU9VTlRfQ09OVEFJTkVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfTU9VTlRfQ09OVEFJTkVSICovLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNsZWFyIGNvbnRlbnQgYmVmb3JlIG1vdW50aW5nXG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgcHJveHkgPSBtb3VudChjb250YWluZXIsIGZhbHNlLCBjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KTtcbiAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoJ3YtY2xvYWsnKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtdi1hcHAnLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3h5O1xuICAgIH07XG4gICAgcmV0dXJuIGFwcDtcbn0pO1xuY29uc3QgY3JlYXRlU1NSQXBwID0gKCguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgYXBwID0gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgICAgICBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApO1xuICAgIH1cbiAgICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gICAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbW91bnQoY29udGFpbmVyLCB0cnVlLCBjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGFwcDtcbn0pO1xuZnVuY3Rpb24gaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKSB7XG4gICAgLy8gSW5qZWN0IGBpc05hdGl2ZVRhZ2BcbiAgICAvLyB0aGlzIGlzIHVzZWQgZm9yIGNvbXBvbmVudCBuYW1lIHZhbGlkYXRpb24gKGRldiBvbmx5KVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCAnaXNOYXRpdmVUYWcnLCB7XG4gICAgICAgIHZhbHVlOiAodGFnKSA9PiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWR1RhZyh0YWcpLFxuICAgICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KTtcbn1cbi8vIGRldiBvbmx5XG5mdW5jdGlvbiBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApIHtcbiAgICBpZiAoaXNSdW50aW1lT25seSgpKSB7XG4gICAgICAgIGNvbnN0IGlzQ3VzdG9tRWxlbWVudCA9IGFwcC5jb25maWcuaXNDdXN0b21FbGVtZW50O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2lzQ3VzdG9tRWxlbWVudCcsIHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNDdXN0b21FbGVtZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYFRoZSBcXGBpc0N1c3RvbUVsZW1lbnRcXGAgY29uZmlnIG9wdGlvbiBpcyBkZXByZWNhdGVkLiBVc2UgYCArXG4gICAgICAgICAgICAgICAgICAgIGBcXGBjb21waWxlck9wdGlvbnMuaXNDdXN0b21FbGVtZW50XFxgIGluc3RlYWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjb21waWxlck9wdGlvbnMgPSBhcHAuY29uZmlnLmNvbXBpbGVyT3B0aW9ucztcbiAgICAgICAgY29uc3QgbXNnID0gYFRoZSBcXGBjb21waWxlck9wdGlvbnNcXGAgY29uZmlnIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIGAgK1xuICAgICAgICAgICAgYGEgYnVpbGQgb2YgVnVlLmpzIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIgKGFrYSBcImZ1bGwgYnVpbGRcIikuIGAgK1xuICAgICAgICAgICAgYFNpbmNlIHlvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCwgXFxgY29tcGlsZXJPcHRpb25zXFxgIGAgK1xuICAgICAgICAgICAgYG11c3QgYmUgcGFzc2VkIHRvIFxcYEB2dWUvY29tcGlsZXItZG9tXFxgIGluIHRoZSBidWlsZCBzZXR1cCBpbnN0ZWFkLlxcbmAgK1xuICAgICAgICAgICAgYC0gRm9yIHZ1ZS1sb2FkZXI6IHBhc3MgaXQgdmlhIHZ1ZS1sb2FkZXIncyBcXGBjb21waWxlck9wdGlvbnNcXGAgbG9hZGVyIG9wdGlvbi5cXG5gICtcbiAgICAgICAgICAgIGAtIEZvciB2dWUtY2xpOiBzZWUgaHR0cHM6Ly9jbGkudnVlanMub3JnL2d1aWRlL3dlYnBhY2suaHRtbCNtb2RpZnlpbmctb3B0aW9ucy1vZi1hLWxvYWRlclxcbmAgK1xuICAgICAgICAgICAgYC0gRm9yIHZpdGU6IHBhc3MgaXQgdmlhIEB2aXRlanMvcGx1Z2luLXZ1ZSBvcHRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlL3RyZWUvbWFpbi9wYWNrYWdlcy9wbHVnaW4tdnVlI2V4YW1wbGUtZm9yLXBhc3Npbmctb3B0aW9ucy10by12dWVjb21waWxlci1kb21gO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2NvbXBpbGVyT3B0aW9ucycsIHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEobXNnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGlsZXJPcHRpb25zO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcmVzKSB7XG4gICAgICAgICAgICB3YXJuJDEoYEZhaWxlZCB0byBtb3VudCBhcHA6IG1vdW50IHRhcmdldCBzZWxlY3RvciBcIiR7Y29udGFpbmVyfVwiIHJldHVybmVkIG51bGwuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICB3aW5kb3cuU2hhZG93Um9vdCAmJlxuICAgICAgICBjb250YWluZXIgaW5zdGFuY2VvZiB3aW5kb3cuU2hhZG93Um9vdCAmJlxuICAgICAgICBjb250YWluZXIubW9kZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgd2FybiQxKGBtb3VudGluZyBvbiBhIFNoYWRvd1Jvb3Qgd2l0aCBcXGB7bW9kZTogXCJjbG9zZWRcIn1cXGAgbWF5IGxlYWQgdG8gdW5wcmVkaWN0YWJsZSBidWdzYCk7XG4gICAgfVxuICAgIHJldHVybiBjb250YWluZXI7XG59XG5sZXQgc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IGluaXREaXJlY3RpdmVzRm9yU1NSID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXNzckRpcmVjdGl2ZUluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICBpbml0Vk1vZGVsRm9yU1NSKCk7XG4gICAgICAgICAgICBpbml0VlNob3dGb3JTU1IoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG5cbnZhciBydW50aW1lRG9tID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIHJlbmRlcjogcmVuZGVyLFxuICBoeWRyYXRlOiBoeWRyYXRlLFxuICBjcmVhdGVBcHA6IGNyZWF0ZUFwcCxcbiAgY3JlYXRlU1NSQXBwOiBjcmVhdGVTU1JBcHAsXG4gIGluaXREaXJlY3RpdmVzRm9yU1NSOiBpbml0RGlyZWN0aXZlc0ZvclNTUixcbiAgZGVmaW5lQ3VzdG9tRWxlbWVudDogZGVmaW5lQ3VzdG9tRWxlbWVudCxcbiAgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudDogZGVmaW5lU1NSQ3VzdG9tRWxlbWVudCxcbiAgVnVlRWxlbWVudDogVnVlRWxlbWVudCxcbiAgdXNlQ3NzTW9kdWxlOiB1c2VDc3NNb2R1bGUsXG4gIHVzZUNzc1ZhcnM6IHVzZUNzc1ZhcnMsXG4gIFRyYW5zaXRpb246IFRyYW5zaXRpb24sXG4gIFRyYW5zaXRpb25Hcm91cDogVHJhbnNpdGlvbkdyb3VwLFxuICB2TW9kZWxUZXh0OiB2TW9kZWxUZXh0LFxuICB2TW9kZWxDaGVja2JveDogdk1vZGVsQ2hlY2tib3gsXG4gIHZNb2RlbFJhZGlvOiB2TW9kZWxSYWRpbyxcbiAgdk1vZGVsU2VsZWN0OiB2TW9kZWxTZWxlY3QsXG4gIHZNb2RlbER5bmFtaWM6IHZNb2RlbER5bmFtaWMsXG4gIHdpdGhNb2RpZmllcnM6IHdpdGhNb2RpZmllcnMsXG4gIHdpdGhLZXlzOiB3aXRoS2V5cyxcbiAgdlNob3c6IHZTaG93LFxuICByZWFjdGl2ZTogcmVhY3RpdmUsXG4gIHJlZjogcmVmLFxuICByZWFkb25seTogcmVhZG9ubHksXG4gIHVucmVmOiB1bnJlZixcbiAgcHJveHlSZWZzOiBwcm94eVJlZnMsXG4gIGlzUmVmOiBpc1JlZixcbiAgdG9SZWY6IHRvUmVmLFxuICB0b1JlZnM6IHRvUmVmcyxcbiAgaXNQcm94eTogaXNQcm94eSxcbiAgaXNSZWFjdGl2ZTogaXNSZWFjdGl2ZSxcbiAgaXNSZWFkb25seTogaXNSZWFkb25seSxcbiAgaXNTaGFsbG93OiBpc1NoYWxsb3csXG4gIGN1c3RvbVJlZjogY3VzdG9tUmVmLFxuICB0cmlnZ2VyUmVmOiB0cmlnZ2VyUmVmLFxuICBzaGFsbG93UmVmOiBzaGFsbG93UmVmLFxuICBzaGFsbG93UmVhY3RpdmU6IHNoYWxsb3dSZWFjdGl2ZSxcbiAgc2hhbGxvd1JlYWRvbmx5OiBzaGFsbG93UmVhZG9ubHksXG4gIG1hcmtSYXc6IG1hcmtSYXcsXG4gIHRvUmF3OiB0b1JhdyxcbiAgZWZmZWN0OiBlZmZlY3QsXG4gIHN0b3A6IHN0b3AsXG4gIFJlYWN0aXZlRWZmZWN0OiBSZWFjdGl2ZUVmZmVjdCxcbiAgZWZmZWN0U2NvcGU6IGVmZmVjdFNjb3BlLFxuICBFZmZlY3RTY29wZTogRWZmZWN0U2NvcGUsXG4gIGdldEN1cnJlbnRTY29wZTogZ2V0Q3VycmVudFNjb3BlLFxuICBvblNjb3BlRGlzcG9zZTogb25TY29wZURpc3Bvc2UsXG4gIGNvbXB1dGVkOiBjb21wdXRlZCQxLFxuICB3YXRjaDogd2F0Y2gsXG4gIHdhdGNoRWZmZWN0OiB3YXRjaEVmZmVjdCxcbiAgd2F0Y2hQb3N0RWZmZWN0OiB3YXRjaFBvc3RFZmZlY3QsXG4gIHdhdGNoU3luY0VmZmVjdDogd2F0Y2hTeW5jRWZmZWN0LFxuICBvbkJlZm9yZU1vdW50OiBvbkJlZm9yZU1vdW50LFxuICBvbk1vdW50ZWQ6IG9uTW91bnRlZCxcbiAgb25CZWZvcmVVcGRhdGU6IG9uQmVmb3JlVXBkYXRlLFxuICBvblVwZGF0ZWQ6IG9uVXBkYXRlZCxcbiAgb25CZWZvcmVVbm1vdW50OiBvbkJlZm9yZVVubW91bnQsXG4gIG9uVW5tb3VudGVkOiBvblVubW91bnRlZCxcbiAgb25BY3RpdmF0ZWQ6IG9uQWN0aXZhdGVkLFxuICBvbkRlYWN0aXZhdGVkOiBvbkRlYWN0aXZhdGVkLFxuICBvblJlbmRlclRyYWNrZWQ6IG9uUmVuZGVyVHJhY2tlZCxcbiAgb25SZW5kZXJUcmlnZ2VyZWQ6IG9uUmVuZGVyVHJpZ2dlcmVkLFxuICBvbkVycm9yQ2FwdHVyZWQ6IG9uRXJyb3JDYXB0dXJlZCxcbiAgb25TZXJ2ZXJQcmVmZXRjaDogb25TZXJ2ZXJQcmVmZXRjaCxcbiAgcHJvdmlkZTogcHJvdmlkZSxcbiAgaW5qZWN0OiBpbmplY3QsXG4gIG5leHRUaWNrOiBuZXh0VGljayxcbiAgZGVmaW5lQ29tcG9uZW50OiBkZWZpbmVDb21wb25lbnQsXG4gIGRlZmluZUFzeW5jQ29tcG9uZW50OiBkZWZpbmVBc3luY0NvbXBvbmVudCxcbiAgdXNlQXR0cnM6IHVzZUF0dHJzLFxuICB1c2VTbG90czogdXNlU2xvdHMsXG4gIGRlZmluZVByb3BzOiBkZWZpbmVQcm9wcyxcbiAgZGVmaW5lRW1pdHM6IGRlZmluZUVtaXRzLFxuICBkZWZpbmVFeHBvc2U6IGRlZmluZUV4cG9zZSxcbiAgd2l0aERlZmF1bHRzOiB3aXRoRGVmYXVsdHMsXG4gIG1lcmdlRGVmYXVsdHM6IG1lcmdlRGVmYXVsdHMsXG4gIGNyZWF0ZVByb3BzUmVzdFByb3h5OiBjcmVhdGVQcm9wc1Jlc3RQcm94eSxcbiAgd2l0aEFzeW5jQ29udGV4dDogd2l0aEFzeW5jQ29udGV4dCxcbiAgZ2V0Q3VycmVudEluc3RhbmNlOiBnZXRDdXJyZW50SW5zdGFuY2UsXG4gIGg6IGgsXG4gIGNyZWF0ZVZOb2RlOiBjcmVhdGVWTm9kZSxcbiAgY2xvbmVWTm9kZTogY2xvbmVWTm9kZSxcbiAgbWVyZ2VQcm9wczogbWVyZ2VQcm9wcyxcbiAgaXNWTm9kZTogaXNWTm9kZSxcbiAgRnJhZ21lbnQ6IEZyYWdtZW50LFxuICBUZXh0OiBUZXh0LFxuICBDb21tZW50OiBDb21tZW50LFxuICBTdGF0aWM6IFN0YXRpYyxcbiAgVGVsZXBvcnQ6IFRlbGVwb3J0LFxuICBTdXNwZW5zZTogU3VzcGVuc2UsXG4gIEtlZXBBbGl2ZTogS2VlcEFsaXZlLFxuICBCYXNlVHJhbnNpdGlvbjogQmFzZVRyYW5zaXRpb24sXG4gIHdpdGhEaXJlY3RpdmVzOiB3aXRoRGlyZWN0aXZlcyxcbiAgdXNlU1NSQ29udGV4dDogdXNlU1NSQ29udGV4dCxcbiAgc3NyQ29udGV4dEtleTogc3NyQ29udGV4dEtleSxcbiAgY3JlYXRlUmVuZGVyZXI6IGNyZWF0ZVJlbmRlcmVyLFxuICBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcjogY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIsXG4gIHF1ZXVlUG9zdEZsdXNoQ2I6IHF1ZXVlUG9zdEZsdXNoQ2IsXG4gIHdhcm46IHdhcm4kMSxcbiAgaGFuZGxlRXJyb3I6IGhhbmRsZUVycm9yLFxuICBjYWxsV2l0aEVycm9ySGFuZGxpbmc6IGNhbGxXaXRoRXJyb3JIYW5kbGluZyxcbiAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmc6IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLFxuICByZXNvbHZlQ29tcG9uZW50OiByZXNvbHZlQ29tcG9uZW50LFxuICByZXNvbHZlRGlyZWN0aXZlOiByZXNvbHZlRGlyZWN0aXZlLFxuICByZXNvbHZlRHluYW1pY0NvbXBvbmVudDogcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsXG4gIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyOiByZWdpc3RlclJ1bnRpbWVDb21waWxlcixcbiAgaXNSdW50aW1lT25seTogaXNSdW50aW1lT25seSxcbiAgdXNlVHJhbnNpdGlvblN0YXRlOiB1c2VUcmFuc2l0aW9uU3RhdGUsXG4gIHJlc29sdmVUcmFuc2l0aW9uSG9va3M6IHJlc29sdmVUcmFuc2l0aW9uSG9va3MsXG4gIHNldFRyYW5zaXRpb25Ib29rczogc2V0VHJhbnNpdGlvbkhvb2tzLFxuICBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW46IGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbixcbiAgaW5pdEN1c3RvbUZvcm1hdHRlcjogaW5pdEN1c3RvbUZvcm1hdHRlcixcbiAgZ2V0IGRldnRvb2xzICgpIHsgcmV0dXJuIGRldnRvb2xzOyB9LFxuICBzZXREZXZ0b29sc0hvb2s6IHNldERldnRvb2xzSG9vayxcbiAgd2l0aEN0eDogd2l0aEN0eCxcbiAgcHVzaFNjb3BlSWQ6IHB1c2hTY29wZUlkLFxuICBwb3BTY29wZUlkOiBwb3BTY29wZUlkLFxuICB3aXRoU2NvcGVJZDogd2l0aFNjb3BlSWQsXG4gIHJlbmRlckxpc3Q6IHJlbmRlckxpc3QsXG4gIHRvSGFuZGxlcnM6IHRvSGFuZGxlcnMsXG4gIHJlbmRlclNsb3Q6IHJlbmRlclNsb3QsXG4gIGNyZWF0ZVNsb3RzOiBjcmVhdGVTbG90cyxcbiAgd2l0aE1lbW86IHdpdGhNZW1vLFxuICBpc01lbW9TYW1lOiBpc01lbW9TYW1lLFxuICBvcGVuQmxvY2s6IG9wZW5CbG9jayxcbiAgY3JlYXRlQmxvY2s6IGNyZWF0ZUJsb2NrLFxuICBzZXRCbG9ja1RyYWNraW5nOiBzZXRCbG9ja1RyYWNraW5nLFxuICBjcmVhdGVUZXh0Vk5vZGU6IGNyZWF0ZVRleHRWTm9kZSxcbiAgY3JlYXRlQ29tbWVudFZOb2RlOiBjcmVhdGVDb21tZW50Vk5vZGUsXG4gIGNyZWF0ZVN0YXRpY1ZOb2RlOiBjcmVhdGVTdGF0aWNWTm9kZSxcbiAgY3JlYXRlRWxlbWVudFZOb2RlOiBjcmVhdGVCYXNlVk5vZGUsXG4gIGNyZWF0ZUVsZW1lbnRCbG9jazogY3JlYXRlRWxlbWVudEJsb2NrLFxuICBndWFyZFJlYWN0aXZlUHJvcHM6IGd1YXJkUmVhY3RpdmVQcm9wcyxcbiAgdG9EaXNwbGF5U3RyaW5nOiB0b0Rpc3BsYXlTdHJpbmcsXG4gIGNhbWVsaXplOiBjYW1lbGl6ZSxcbiAgY2FwaXRhbGl6ZTogY2FwaXRhbGl6ZSxcbiAgdG9IYW5kbGVyS2V5OiB0b0hhbmRsZXJLZXksXG4gIG5vcm1hbGl6ZVByb3BzOiBub3JtYWxpemVQcm9wcyxcbiAgbm9ybWFsaXplQ2xhc3M6IG5vcm1hbGl6ZUNsYXNzLFxuICBub3JtYWxpemVTdHlsZTogbm9ybWFsaXplU3R5bGUsXG4gIHRyYW5zZm9ybVZOb2RlQXJnczogdHJhbnNmb3JtVk5vZGVBcmdzLFxuICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICBzc3JVdGlsczogc3NyVXRpbHMsXG4gIHJlc29sdmVGaWx0ZXI6IHJlc29sdmVGaWx0ZXIkMSxcbiAgY29tcGF0VXRpbHM6IGNvbXBhdFV0aWxzXG59KTtcblxuZnVuY3Rpb24gaW5pdERldigpIHtcbiAgICB7XG4gICAgICAgIGluaXRDdXN0b21Gb3JtYXR0ZXIoKTtcbiAgICB9XG59XG5cbi8vIFRoaXMgZW50cnkgZXhwb3J0cyB0aGUgcnVudGltZSBvbmx5LCBhbmQgaXMgYnVpbHQgYXNcbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBpbml0RGV2KCk7XG59XG5mdW5jdGlvbiB3cmFwcGVkQ3JlYXRlQXBwKC4uLmFyZ3MpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgYXBwID0gY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICAgIGlmIChjb21wYXRVdGlscy5pc0NvbXBhdEVuYWJsZWQoXCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqLywgbnVsbCkpIHtcbiAgICAgICAgLy8gcmVnaXN0ZXIgYnVpbHQtaW4gY29tcG9uZW50cyBzbyB0aGF0IHRoZXkgY2FuIGJlIHJlc29sdmVkIHZpYSBzdHJpbmdzXG4gICAgICAgIC8vIGluIHRoZSBsZWdhY3kgaCgpIGNhbGwuIFRoZSBfX2NvbXBhdF9fIHByZWZpeCBpcyB0byBlbnN1cmUgdGhhdCB2MyBoKClcbiAgICAgICAgLy8gZG9lc24ndCBnZXQgYWZmZWN0ZWQuXG4gICAgICAgIGFwcC5jb21wb25lbnQoJ19fY29tcGF0X190cmFuc2l0aW9uJywgVHJhbnNpdGlvbik7XG4gICAgICAgIGFwcC5jb21wb25lbnQoJ19fY29tcGF0X190cmFuc2l0aW9uLWdyb3VwJywgVHJhbnNpdGlvbkdyb3VwKTtcbiAgICAgICAgYXBwLmNvbXBvbmVudCgnX19jb21wYXRfX2tlZXAtYWxpdmUnLCBLZWVwQWxpdmUpO1xuICAgICAgICAvLyBidWlsdC1pbiBkaXJlY3RpdmVzLiBObyBuZWVkIGZvciBwcmVmaXggc2luY2UgdGhlcmUncyBubyByZW5kZXIgZm4gQVBJXG4gICAgICAgIC8vIGZvciByZXNvbHZpbmcgZGlyZWN0aXZlcyB2aWEgc3RyaW5nIGluIHYzLlxuICAgICAgICBhcHAuX2NvbnRleHQuZGlyZWN0aXZlcy5zaG93ID0gdlNob3c7XG4gICAgICAgIGFwcC5fY29udGV4dC5kaXJlY3RpdmVzLm1vZGVsID0gdk1vZGVsRHluYW1pYztcbiAgICB9XG4gICAgcmV0dXJuIGFwcDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBhdFZ1ZSQxKCkge1xuICAgIGNvbnN0IFZ1ZSA9IGNvbXBhdFV0aWxzLmNyZWF0ZUNvbXBhdFZ1ZShjcmVhdGVBcHAsIHdyYXBwZWRDcmVhdGVBcHApO1xuICAgIGV4dGVuZChWdWUsIHJ1bnRpbWVEb20pO1xuICAgIHJldHVybiBWdWU7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRPbkVycm9yKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG59XG5mdW5jdGlvbiBkZWZhdWx0T25XYXJuKG1zZykge1xuICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb25zb2xlLndhcm4oYFtWdWUgd2Fybl0gJHttc2cubWVzc2FnZX1gKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBpbGVyRXJyb3IoY29kZSwgbG9jLCBtZXNzYWdlcywgYWRkaXRpb25hbE1lc3NhZ2UpIHtcbiAgICBjb25zdCBtc2cgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIXRydWVcbiAgICAgICAgPyAobWVzc2FnZXMgfHwgZXJyb3JNZXNzYWdlcylbY29kZV0gKyAoYWRkaXRpb25hbE1lc3NhZ2UgfHwgYGApXG4gICAgICAgIDogY29kZTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBTeW50YXhFcnJvcihTdHJpbmcobXNnKSk7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgZXJyb3IubG9jID0gbG9jO1xuICAgIHJldHVybiBlcnJvcjtcbn1cbmNvbnN0IGVycm9yTWVzc2FnZXMgPSB7XG4gICAgLy8gcGFyc2UgZXJyb3JzXG4gICAgWzAgLyogRXJyb3JDb2Rlcy5BQlJVUFRfQ0xPU0lOR19PRl9FTVBUWV9DT01NRU5UICovXTogJ0lsbGVnYWwgY29tbWVudC4nLFxuICAgIFsxIC8qIEVycm9yQ29kZXMuQ0RBVEFfSU5fSFRNTF9DT05URU5UICovXTogJ0NEQVRBIHNlY3Rpb24gaXMgYWxsb3dlZCBvbmx5IGluIFhNTCBjb250ZXh0LicsXG4gICAgWzIgLyogRXJyb3JDb2Rlcy5EVVBMSUNBVEVfQVRUUklCVVRFICovXTogJ0R1cGxpY2F0ZSBhdHRyaWJ1dGUuJyxcbiAgICBbMyAvKiBFcnJvckNvZGVzLkVORF9UQUdfV0lUSF9BVFRSSUJVVEVTICovXTogJ0VuZCB0YWcgY2Fubm90IGhhdmUgYXR0cmlidXRlcy4nLFxuICAgIFs0IC8qIEVycm9yQ29kZXMuRU5EX1RBR19XSVRIX1RSQUlMSU5HX1NPTElEVVMgKi9dOiBcIklsbGVnYWwgJy8nIGluIHRhZ3MuXCIsXG4gICAgWzUgLyogRXJyb3JDb2Rlcy5FT0ZfQkVGT1JFX1RBR19OQU1FICovXTogJ1VuZXhwZWN0ZWQgRU9GIGluIHRhZy4nLFxuICAgIFs2IC8qIEVycm9yQ29kZXMuRU9GX0lOX0NEQVRBICovXTogJ1VuZXhwZWN0ZWQgRU9GIGluIENEQVRBIHNlY3Rpb24uJyxcbiAgICBbNyAvKiBFcnJvckNvZGVzLkVPRl9JTl9DT01NRU5UICovXTogJ1VuZXhwZWN0ZWQgRU9GIGluIGNvbW1lbnQuJyxcbiAgICBbOCAvKiBFcnJvckNvZGVzLkVPRl9JTl9TQ1JJUFRfSFRNTF9DT01NRU5UX0xJS0VfVEVYVCAqL106ICdVbmV4cGVjdGVkIEVPRiBpbiBzY3JpcHQuJyxcbiAgICBbOSAvKiBFcnJvckNvZGVzLkVPRl9JTl9UQUcgKi9dOiAnVW5leHBlY3RlZCBFT0YgaW4gdGFnLicsXG4gICAgWzEwIC8qIEVycm9yQ29kZXMuSU5DT1JSRUNUTFlfQ0xPU0VEX0NPTU1FTlQgKi9dOiAnSW5jb3JyZWN0bHkgY2xvc2VkIGNvbW1lbnQuJyxcbiAgICBbMTEgLyogRXJyb3JDb2Rlcy5JTkNPUlJFQ1RMWV9PUEVORURfQ09NTUVOVCAqL106ICdJbmNvcnJlY3RseSBvcGVuZWQgY29tbWVudC4nLFxuICAgIFsxMiAvKiBFcnJvckNvZGVzLklOVkFMSURfRklSU1RfQ0hBUkFDVEVSX09GX1RBR19OQU1FICovXTogXCJJbGxlZ2FsIHRhZyBuYW1lLiBVc2UgJyZsdDsnIHRvIHByaW50ICc8Jy5cIixcbiAgICBbMTMgLyogRXJyb3JDb2Rlcy5NSVNTSU5HX0FUVFJJQlVURV9WQUxVRSAqL106ICdBdHRyaWJ1dGUgdmFsdWUgd2FzIGV4cGVjdGVkLicsXG4gICAgWzE0IC8qIEVycm9yQ29kZXMuTUlTU0lOR19FTkRfVEFHX05BTUUgKi9dOiAnRW5kIHRhZyBuYW1lIHdhcyBleHBlY3RlZC4nLFxuICAgIFsxNSAvKiBFcnJvckNvZGVzLk1JU1NJTkdfV0hJVEVTUEFDRV9CRVRXRUVOX0FUVFJJQlVURVMgKi9dOiAnV2hpdGVzcGFjZSB3YXMgZXhwZWN0ZWQuJyxcbiAgICBbMTYgLyogRXJyb3JDb2Rlcy5ORVNURURfQ09NTUVOVCAqL106IFwiVW5leHBlY3RlZCAnPCEtLScgaW4gY29tbWVudC5cIixcbiAgICBbMTcgLyogRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0NIQVJBQ1RFUl9JTl9BVFRSSUJVVEVfTkFNRSAqL106ICdBdHRyaWJ1dGUgbmFtZSBjYW5ub3QgY29udGFpbiBVKzAwMjIgKFwiKSwgVSswMDI3IChcXCcpLCBhbmQgVSswMDNDICg8KS4nLFxuICAgIFsxOCAvKiBFcnJvckNvZGVzLlVORVhQRUNURURfQ0hBUkFDVEVSX0lOX1VOUVVPVEVEX0FUVFJJQlVURV9WQUxVRSAqL106ICdVbnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUgY2Fubm90IGNvbnRhaW4gVSswMDIyIChcIiksIFUrMDAyNyAoXFwnKSwgVSswMDNDICg8KSwgVSswMDNEICg9KSwgYW5kIFUrMDA2MCAoYCkuJyxcbiAgICBbMTkgLyogRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX0VRVUFMU19TSUdOX0JFRk9SRV9BVFRSSUJVVEVfTkFNRSAqL106IFwiQXR0cmlidXRlIG5hbWUgY2Fubm90IHN0YXJ0IHdpdGggJz0nLlwiLFxuICAgIFsyMSAvKiBFcnJvckNvZGVzLlVORVhQRUNURURfUVVFU1RJT05fTUFSS19JTlNURUFEX09GX1RBR19OQU1FICovXTogXCInPD8nIGlzIGFsbG93ZWQgb25seSBpbiBYTUwgY29udGV4dC5cIixcbiAgICBbMjAgLyogRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX05VTExfQ0hBUkFDVEVSICovXTogYFVuZXhwZWN0ZWQgbnVsbCBjaGFyYWN0ZXIuYCxcbiAgICBbMjIgLyogRXJyb3JDb2Rlcy5VTkVYUEVDVEVEX1NPTElEVVNfSU5fVEFHICovXTogXCJJbGxlZ2FsICcvJyBpbiB0YWdzLlwiLFxuICAgIC8vIFZ1ZS1zcGVjaWZpYyBwYXJzZSBlcnJvcnNcbiAgICBbMjMgLyogRXJyb3JDb2Rlcy5YX0lOVkFMSURfRU5EX1RBRyAqL106ICdJbnZhbGlkIGVuZCB0YWcuJyxcbiAgICBbMjQgLyogRXJyb3JDb2Rlcy5YX01JU1NJTkdfRU5EX1RBRyAqL106ICdFbGVtZW50IGlzIG1pc3NpbmcgZW5kIHRhZy4nLFxuICAgIFsyNSAvKiBFcnJvckNvZGVzLlhfTUlTU0lOR19JTlRFUlBPTEFUSU9OX0VORCAqL106ICdJbnRlcnBvbGF0aW9uIGVuZCBzaWduIHdhcyBub3QgZm91bmQuJyxcbiAgICBbMjcgLyogRXJyb3JDb2Rlcy5YX01JU1NJTkdfRFlOQU1JQ19ESVJFQ1RJVkVfQVJHVU1FTlRfRU5EICovXTogJ0VuZCBicmFja2V0IGZvciBkeW5hbWljIGRpcmVjdGl2ZSBhcmd1bWVudCB3YXMgbm90IGZvdW5kLiAnICtcbiAgICAgICAgJ05vdGUgdGhhdCBkeW5hbWljIGRpcmVjdGl2ZSBhcmd1bWVudCBjYW5ub3QgY29udGFpbiBzcGFjZXMuJyxcbiAgICBbMjYgLyogRXJyb3JDb2Rlcy5YX01JU1NJTkdfRElSRUNUSVZFX05BTUUgKi9dOiAnTGVnYWwgZGlyZWN0aXZlIG5hbWUgd2FzIGV4cGVjdGVkLicsXG4gICAgLy8gdHJhbnNmb3JtIGVycm9yc1xuICAgIFsyOCAvKiBFcnJvckNvZGVzLlhfVl9JRl9OT19FWFBSRVNTSU9OICovXTogYHYtaWYvdi1lbHNlLWlmIGlzIG1pc3NpbmcgZXhwcmVzc2lvbi5gLFxuICAgIFsyOSAvKiBFcnJvckNvZGVzLlhfVl9JRl9TQU1FX0tFWSAqL106IGB2LWlmL2Vsc2UgYnJhbmNoZXMgbXVzdCB1c2UgdW5pcXVlIGtleXMuYCxcbiAgICBbMzAgLyogRXJyb3JDb2Rlcy5YX1ZfRUxTRV9OT19BREpBQ0VOVF9JRiAqL106IGB2LWVsc2Uvdi1lbHNlLWlmIGhhcyBubyBhZGphY2VudCB2LWlmIG9yIHYtZWxzZS1pZi5gLFxuICAgIFszMSAvKiBFcnJvckNvZGVzLlhfVl9GT1JfTk9fRVhQUkVTU0lPTiAqL106IGB2LWZvciBpcyBtaXNzaW5nIGV4cHJlc3Npb24uYCxcbiAgICBbMzIgLyogRXJyb3JDb2Rlcy5YX1ZfRk9SX01BTEZPUk1FRF9FWFBSRVNTSU9OICovXTogYHYtZm9yIGhhcyBpbnZhbGlkIGV4cHJlc3Npb24uYCxcbiAgICBbMzMgLyogRXJyb3JDb2Rlcy5YX1ZfRk9SX1RFTVBMQVRFX0tFWV9QTEFDRU1FTlQgKi9dOiBgPHRlbXBsYXRlIHYtZm9yPiBrZXkgc2hvdWxkIGJlIHBsYWNlZCBvbiB0aGUgPHRlbXBsYXRlPiB0YWcuYCxcbiAgICBbMzQgLyogRXJyb3JDb2Rlcy5YX1ZfQklORF9OT19FWFBSRVNTSU9OICovXTogYHYtYmluZCBpcyBtaXNzaW5nIGV4cHJlc3Npb24uYCxcbiAgICBbMzUgLyogRXJyb3JDb2Rlcy5YX1ZfT05fTk9fRVhQUkVTU0lPTiAqL106IGB2LW9uIGlzIG1pc3NpbmcgZXhwcmVzc2lvbi5gLFxuICAgIFszNiAvKiBFcnJvckNvZGVzLlhfVl9TTE9UX1VORVhQRUNURURfRElSRUNUSVZFX09OX1NMT1RfT1VUTEVUICovXTogYFVuZXhwZWN0ZWQgY3VzdG9tIGRpcmVjdGl2ZSBvbiA8c2xvdD4gb3V0bGV0LmAsXG4gICAgWzM3IC8qIEVycm9yQ29kZXMuWF9WX1NMT1RfTUlYRURfU0xPVF9VU0FHRSAqL106IGBNaXhlZCB2LXNsb3QgdXNhZ2Ugb24gYm90aCB0aGUgY29tcG9uZW50IGFuZCBuZXN0ZWQgPHRlbXBsYXRlPi5gICtcbiAgICAgICAgYFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIG5hbWVkIHNsb3RzLCBhbGwgc2xvdHMgc2hvdWxkIHVzZSA8dGVtcGxhdGU+IGAgK1xuICAgICAgICBgc3ludGF4IHRvIGF2b2lkIHNjb3BlIGFtYmlndWl0eS5gLFxuICAgIFszOCAvKiBFcnJvckNvZGVzLlhfVl9TTE9UX0RVUExJQ0FURV9TTE9UX05BTUVTICovXTogYER1cGxpY2F0ZSBzbG90IG5hbWVzIGZvdW5kLiBgLFxuICAgIFszOSAvKiBFcnJvckNvZGVzLlhfVl9TTE9UX0VYVFJBTkVPVVNfREVGQVVMVF9TTE9UX0NISUxEUkVOICovXTogYEV4dHJhbmVvdXMgY2hpbGRyZW4gZm91bmQgd2hlbiBjb21wb25lbnQgYWxyZWFkeSBoYXMgZXhwbGljaXRseSBuYW1lZCBgICtcbiAgICAgICAgYGRlZmF1bHQgc2xvdC4gVGhlc2UgY2hpbGRyZW4gd2lsbCBiZSBpZ25vcmVkLmAsXG4gICAgWzQwIC8qIEVycm9yQ29kZXMuWF9WX1NMT1RfTUlTUExBQ0VEICovXTogYHYtc2xvdCBjYW4gb25seSBiZSB1c2VkIG9uIGNvbXBvbmVudHMgb3IgPHRlbXBsYXRlPiB0YWdzLmAsXG4gICAgWzQxIC8qIEVycm9yQ29kZXMuWF9WX01PREVMX05PX0VYUFJFU1NJT04gKi9dOiBgdi1tb2RlbCBpcyBtaXNzaW5nIGV4cHJlc3Npb24uYCxcbiAgICBbNDIgLyogRXJyb3JDb2Rlcy5YX1ZfTU9ERUxfTUFMRk9STUVEX0VYUFJFU1NJT04gKi9dOiBgdi1tb2RlbCB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgSmF2YVNjcmlwdCBtZW1iZXIgZXhwcmVzc2lvbi5gLFxuICAgIFs0MyAvKiBFcnJvckNvZGVzLlhfVl9NT0RFTF9PTl9TQ09QRV9WQVJJQUJMRSAqL106IGB2LW1vZGVsIGNhbm5vdCBiZSB1c2VkIG9uIHYtZm9yIG9yIHYtc2xvdCBzY29wZSB2YXJpYWJsZXMgYmVjYXVzZSB0aGV5IGFyZSBub3Qgd3JpdGFibGUuYCxcbiAgICBbNDQgLyogRXJyb3JDb2Rlcy5YX1ZfTU9ERUxfT05fUFJPUFMgKi9dOiBgdi1tb2RlbCBjYW5ub3QgYmUgdXNlZCBvbiBhIHByb3AsIGJlY2F1c2UgbG9jYWwgcHJvcCBiaW5kaW5ncyBhcmUgbm90IHdyaXRhYmxlLlxcblVzZSBhIHYtYmluZCBiaW5kaW5nIGNvbWJpbmVkIHdpdGggYSB2LW9uIGxpc3RlbmVyIHRoYXQgZW1pdHMgdXBkYXRlOnggZXZlbnQgaW5zdGVhZC5gLFxuICAgIFs0NSAvKiBFcnJvckNvZGVzLlhfSU5WQUxJRF9FWFBSRVNTSU9OICovXTogYEVycm9yIHBhcnNpbmcgSmF2YVNjcmlwdCBleHByZXNzaW9uOiBgLFxuICAgIFs0NiAvKiBFcnJvckNvZGVzLlhfS0VFUF9BTElWRV9JTlZBTElEX0NISUxEUkVOICovXTogYDxLZWVwQWxpdmU+IGV4cGVjdHMgZXhhY3RseSBvbmUgY2hpbGQgY29tcG9uZW50LmAsXG4gICAgLy8gZ2VuZXJpYyBlcnJvcnNcbiAgICBbNDcgLyogRXJyb3JDb2Rlcy5YX1BSRUZJWF9JRF9OT1RfU1VQUE9SVEVEICovXTogYFwicHJlZml4SWRlbnRpZmllcnNcIiBvcHRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkIG9mIGNvbXBpbGVyLmAsXG4gICAgWzQ4IC8qIEVycm9yQ29kZXMuWF9NT0RVTEVfTU9ERV9OT1RfU1VQUE9SVEVEICovXTogYEVTIG1vZHVsZSBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBjb21waWxlci5gLFxuICAgIFs0OSAvKiBFcnJvckNvZGVzLlhfQ0FDSEVfSEFORExFUl9OT1RfU1VQUE9SVEVEICovXTogYFwiY2FjaGVIYW5kbGVyc1wiIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCB3aGVuIHRoZSBcInByZWZpeElkZW50aWZpZXJzXCIgb3B0aW9uIGlzIGVuYWJsZWQuYCxcbiAgICBbNTAgLyogRXJyb3JDb2Rlcy5YX1NDT1BFX0lEX05PVF9TVVBQT1JURUQgKi9dOiBgXCJzY29wZUlkXCIgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIGluIG1vZHVsZSBtb2RlLmAsXG4gICAgLy8ganVzdCB0byBmdWxmaWxsIHR5cGVzXG4gICAgWzUxIC8qIEVycm9yQ29kZXMuX19FWFRFTkRfUE9JTlRfXyAqL106IGBgXG59O1xuXG5jb25zdCBGUkFHTUVOVCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgRnJhZ21lbnRgIDogYGApO1xuY29uc3QgVEVMRVBPUlQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYFRlbGVwb3J0YCA6IGBgKTtcbmNvbnN0IFNVU1BFTlNFID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBTdXNwZW5zZWAgOiBgYCk7XG5jb25zdCBLRUVQX0FMSVZFID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBLZWVwQWxpdmVgIDogYGApO1xuY29uc3QgQkFTRV9UUkFOU0lUSU9OID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBCYXNlVHJhbnNpdGlvbmAgOiBgYCk7XG5jb25zdCBPUEVOX0JMT0NLID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBvcGVuQmxvY2tgIDogYGApO1xuY29uc3QgQ1JFQVRFX0JMT0NLID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBjcmVhdGVCbG9ja2AgOiBgYCk7XG5jb25zdCBDUkVBVEVfRUxFTUVOVF9CTE9DSyA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgY3JlYXRlRWxlbWVudEJsb2NrYCA6IGBgKTtcbmNvbnN0IENSRUFURV9WTk9ERSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgY3JlYXRlVk5vZGVgIDogYGApO1xuY29uc3QgQ1JFQVRFX0VMRU1FTlRfVk5PREUgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYGNyZWF0ZUVsZW1lbnRWTm9kZWAgOiBgYCk7XG5jb25zdCBDUkVBVEVfQ09NTUVOVCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgY3JlYXRlQ29tbWVudFZOb2RlYCA6IGBgKTtcbmNvbnN0IENSRUFURV9URVhUID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBjcmVhdGVUZXh0Vk5vZGVgIDogYGApO1xuY29uc3QgQ1JFQVRFX1NUQVRJQyA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgY3JlYXRlU3RhdGljVk5vZGVgIDogYGApO1xuY29uc3QgUkVTT0xWRV9DT01QT05FTlQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHJlc29sdmVDb21wb25lbnRgIDogYGApO1xuY29uc3QgUkVTT0xWRV9EWU5BTUlDX0NPTVBPTkVOVCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnRgIDogYGApO1xuY29uc3QgUkVTT0xWRV9ESVJFQ1RJVkUgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHJlc29sdmVEaXJlY3RpdmVgIDogYGApO1xuY29uc3QgUkVTT0xWRV9GSUxURVIgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHJlc29sdmVGaWx0ZXJgIDogYGApO1xuY29uc3QgV0lUSF9ESVJFQ1RJVkVTID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGB3aXRoRGlyZWN0aXZlc2AgOiBgYCk7XG5jb25zdCBSRU5ERVJfTElTVCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgcmVuZGVyTGlzdGAgOiBgYCk7XG5jb25zdCBSRU5ERVJfU0xPVCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgcmVuZGVyU2xvdGAgOiBgYCk7XG5jb25zdCBDUkVBVEVfU0xPVFMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYGNyZWF0ZVNsb3RzYCA6IGBgKTtcbmNvbnN0IFRPX0RJU1BMQVlfU1RSSU5HID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGB0b0Rpc3BsYXlTdHJpbmdgIDogYGApO1xuY29uc3QgTUVSR0VfUFJPUFMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYG1lcmdlUHJvcHNgIDogYGApO1xuY29uc3QgTk9STUFMSVpFX0NMQVNTID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBub3JtYWxpemVDbGFzc2AgOiBgYCk7XG5jb25zdCBOT1JNQUxJWkVfU1RZTEUgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYG5vcm1hbGl6ZVN0eWxlYCA6IGBgKTtcbmNvbnN0IE5PUk1BTElaRV9QUk9QUyA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgbm9ybWFsaXplUHJvcHNgIDogYGApO1xuY29uc3QgR1VBUkRfUkVBQ1RJVkVfUFJPUFMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYGd1YXJkUmVhY3RpdmVQcm9wc2AgOiBgYCk7XG5jb25zdCBUT19IQU5ETEVSUyA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgdG9IYW5kbGVyc2AgOiBgYCk7XG5jb25zdCBDQU1FTElaRSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgY2FtZWxpemVgIDogYGApO1xuY29uc3QgQ0FQSVRBTElaRSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgY2FwaXRhbGl6ZWAgOiBgYCk7XG5jb25zdCBUT19IQU5ETEVSX0tFWSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgdG9IYW5kbGVyS2V5YCA6IGBgKTtcbmNvbnN0IFNFVF9CTE9DS19UUkFDS0lORyA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgc2V0QmxvY2tUcmFja2luZ2AgOiBgYCk7XG5jb25zdCBQVVNIX1NDT1BFX0lEID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBwdXNoU2NvcGVJZGAgOiBgYCk7XG5jb25zdCBQT1BfU0NPUEVfSUQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHBvcFNjb3BlSWRgIDogYGApO1xuY29uc3QgV0lUSF9DVFggPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHdpdGhDdHhgIDogYGApO1xuY29uc3QgVU5SRUYgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHVucmVmYCA6IGBgKTtcbmNvbnN0IElTX1JFRiA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgaXNSZWZgIDogYGApO1xuY29uc3QgV0lUSF9NRU1PID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGB3aXRoTWVtb2AgOiBgYCk7XG5jb25zdCBJU19NRU1PX1NBTUUgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYGlzTWVtb1NhbWVgIDogYGApO1xuLy8gTmFtZSBtYXBwaW5nIGZvciBydW50aW1lIGhlbHBlcnMgdGhhdCBuZWVkIHRvIGJlIGltcG9ydGVkIGZyb20gJ3Z1ZScgaW5cbi8vIGdlbmVyYXRlZCBjb2RlLiBNYWtlIHN1cmUgdGhlc2UgYXJlIGNvcnJlY3RseSBleHBvcnRlZCBpbiB0aGUgcnVudGltZSFcbmNvbnN0IGhlbHBlck5hbWVNYXAgPSB7XG4gICAgW0ZSQUdNRU5UXTogYEZyYWdtZW50YCxcbiAgICBbVEVMRVBPUlRdOiBgVGVsZXBvcnRgLFxuICAgIFtTVVNQRU5TRV06IGBTdXNwZW5zZWAsXG4gICAgW0tFRVBfQUxJVkVdOiBgS2VlcEFsaXZlYCxcbiAgICBbQkFTRV9UUkFOU0lUSU9OXTogYEJhc2VUcmFuc2l0aW9uYCxcbiAgICBbT1BFTl9CTE9DS106IGBvcGVuQmxvY2tgLFxuICAgIFtDUkVBVEVfQkxPQ0tdOiBgY3JlYXRlQmxvY2tgLFxuICAgIFtDUkVBVEVfRUxFTUVOVF9CTE9DS106IGBjcmVhdGVFbGVtZW50QmxvY2tgLFxuICAgIFtDUkVBVEVfVk5PREVdOiBgY3JlYXRlVk5vZGVgLFxuICAgIFtDUkVBVEVfRUxFTUVOVF9WTk9ERV06IGBjcmVhdGVFbGVtZW50Vk5vZGVgLFxuICAgIFtDUkVBVEVfQ09NTUVOVF06IGBjcmVhdGVDb21tZW50Vk5vZGVgLFxuICAgIFtDUkVBVEVfVEVYVF06IGBjcmVhdGVUZXh0Vk5vZGVgLFxuICAgIFtDUkVBVEVfU1RBVElDXTogYGNyZWF0ZVN0YXRpY1ZOb2RlYCxcbiAgICBbUkVTT0xWRV9DT01QT05FTlRdOiBgcmVzb2x2ZUNvbXBvbmVudGAsXG4gICAgW1JFU09MVkVfRFlOQU1JQ19DT01QT05FTlRdOiBgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnRgLFxuICAgIFtSRVNPTFZFX0RJUkVDVElWRV06IGByZXNvbHZlRGlyZWN0aXZlYCxcbiAgICBbUkVTT0xWRV9GSUxURVJdOiBgcmVzb2x2ZUZpbHRlcmAsXG4gICAgW1dJVEhfRElSRUNUSVZFU106IGB3aXRoRGlyZWN0aXZlc2AsXG4gICAgW1JFTkRFUl9MSVNUXTogYHJlbmRlckxpc3RgLFxuICAgIFtSRU5ERVJfU0xPVF06IGByZW5kZXJTbG90YCxcbiAgICBbQ1JFQVRFX1NMT1RTXTogYGNyZWF0ZVNsb3RzYCxcbiAgICBbVE9fRElTUExBWV9TVFJJTkddOiBgdG9EaXNwbGF5U3RyaW5nYCxcbiAgICBbTUVSR0VfUFJPUFNdOiBgbWVyZ2VQcm9wc2AsXG4gICAgW05PUk1BTElaRV9DTEFTU106IGBub3JtYWxpemVDbGFzc2AsXG4gICAgW05PUk1BTElaRV9TVFlMRV06IGBub3JtYWxpemVTdHlsZWAsXG4gICAgW05PUk1BTElaRV9QUk9QU106IGBub3JtYWxpemVQcm9wc2AsXG4gICAgW0dVQVJEX1JFQUNUSVZFX1BST1BTXTogYGd1YXJkUmVhY3RpdmVQcm9wc2AsXG4gICAgW1RPX0hBTkRMRVJTXTogYHRvSGFuZGxlcnNgLFxuICAgIFtDQU1FTElaRV06IGBjYW1lbGl6ZWAsXG4gICAgW0NBUElUQUxJWkVdOiBgY2FwaXRhbGl6ZWAsXG4gICAgW1RPX0hBTkRMRVJfS0VZXTogYHRvSGFuZGxlcktleWAsXG4gICAgW1NFVF9CTE9DS19UUkFDS0lOR106IGBzZXRCbG9ja1RyYWNraW5nYCxcbiAgICBbUFVTSF9TQ09QRV9JRF06IGBwdXNoU2NvcGVJZGAsXG4gICAgW1BPUF9TQ09QRV9JRF06IGBwb3BTY29wZUlkYCxcbiAgICBbV0lUSF9DVFhdOiBgd2l0aEN0eGAsXG4gICAgW1VOUkVGXTogYHVucmVmYCxcbiAgICBbSVNfUkVGXTogYGlzUmVmYCxcbiAgICBbV0lUSF9NRU1PXTogYHdpdGhNZW1vYCxcbiAgICBbSVNfTUVNT19TQU1FXTogYGlzTWVtb1NhbWVgXG59O1xuZnVuY3Rpb24gcmVnaXN0ZXJSdW50aW1lSGVscGVycyhoZWxwZXJzKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhoZWxwZXJzKS5mb3JFYWNoKHMgPT4ge1xuICAgICAgICBoZWxwZXJOYW1lTWFwW3NdID0gaGVscGVyc1tzXTtcbiAgICB9KTtcbn1cblxuLy8gQVNUIFV0aWxpdGllcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFNvbWUgZXhwcmVzc2lvbnMsIGUuZy4gc2VxdWVuY2UgYW5kIGNvbmRpdGlvbmFsIGV4cHJlc3Npb25zLCBhcmUgbmV2ZXJcbi8vIGFzc29jaWF0ZWQgd2l0aCB0ZW1wbGF0ZSBub2Rlcywgc28gdGhlaXIgc291cmNlIGxvY2F0aW9ucyBhcmUganVzdCBhIHN0dWIuXG4vLyBDb250YWluZXIgdHlwZXMgbGlrZSBDb21wb3VuZEV4cHJlc3Npb24gYWxzbyBkb24ndCBuZWVkIGEgcmVhbCBsb2NhdGlvbi5cbmNvbnN0IGxvY1N0dWIgPSB7XG4gICAgc291cmNlOiAnJyxcbiAgICBzdGFydDogeyBsaW5lOiAxLCBjb2x1bW46IDEsIG9mZnNldDogMCB9LFxuICAgIGVuZDogeyBsaW5lOiAxLCBjb2x1bW46IDEsIG9mZnNldDogMCB9XG59O1xuZnVuY3Rpb24gY3JlYXRlUm9vdChjaGlsZHJlbiwgbG9jID0gbG9jU3R1Yikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IDAgLyogTm9kZVR5cGVzLlJPT1QgKi8sXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBoZWxwZXJzOiBbXSxcbiAgICAgICAgY29tcG9uZW50czogW10sXG4gICAgICAgIGRpcmVjdGl2ZXM6IFtdLFxuICAgICAgICBob2lzdHM6IFtdLFxuICAgICAgICBpbXBvcnRzOiBbXSxcbiAgICAgICAgY2FjaGVkOiAwLFxuICAgICAgICB0ZW1wczogMCxcbiAgICAgICAgY29kZWdlbk5vZGU6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9jXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZOb2RlQ2FsbChjb250ZXh0LCB0YWcsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIGRpcmVjdGl2ZXMsIGlzQmxvY2sgPSBmYWxzZSwgZGlzYWJsZVRyYWNraW5nID0gZmFsc2UsIGlzQ29tcG9uZW50ID0gZmFsc2UsIGxvYyA9IGxvY1N0dWIpIHtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgICBpZiAoaXNCbG9jaykge1xuICAgICAgICAgICAgY29udGV4dC5oZWxwZXIoT1BFTl9CTE9DSyk7XG4gICAgICAgICAgICBjb250ZXh0LmhlbHBlcihnZXRWTm9kZUJsb2NrSGVscGVyKGNvbnRleHQuaW5TU1IsIGlzQ29tcG9uZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LmhlbHBlcihnZXRWTm9kZUhlbHBlcihjb250ZXh0LmluU1NSLCBpc0NvbXBvbmVudCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJlY3RpdmVzKSB7XG4gICAgICAgICAgICBjb250ZXh0LmhlbHBlcihXSVRIX0RJUkVDVElWRVMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IDEzIC8qIE5vZGVUeXBlcy5WTk9ERV9DQUxMICovLFxuICAgICAgICB0YWcsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgcGF0Y2hGbGFnLFxuICAgICAgICBkeW5hbWljUHJvcHMsXG4gICAgICAgIGRpcmVjdGl2ZXMsXG4gICAgICAgIGlzQmxvY2ssXG4gICAgICAgIGRpc2FibGVUcmFja2luZyxcbiAgICAgICAgaXNDb21wb25lbnQsXG4gICAgICAgIGxvY1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVBcnJheUV4cHJlc3Npb24oZWxlbWVudHMsIGxvYyA9IGxvY1N0dWIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAxNyAvKiBOb2RlVHlwZXMuSlNfQVJSQVlfRVhQUkVTU0lPTiAqLyxcbiAgICAgICAgbG9jLFxuICAgICAgICBlbGVtZW50c1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVPYmplY3RFeHByZXNzaW9uKHByb3BlcnRpZXMsIGxvYyA9IGxvY1N0dWIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAxNSAvKiBOb2RlVHlwZXMuSlNfT0JKRUNUX0VYUFJFU1NJT04gKi8sXG4gICAgICAgIGxvYyxcbiAgICAgICAgcHJvcGVydGllc1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVPYmplY3RQcm9wZXJ0eShrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogMTYgLyogTm9kZVR5cGVzLkpTX1BST1BFUlRZICovLFxuICAgICAgICBsb2M6IGxvY1N0dWIsXG4gICAgICAgIGtleTogaXNTdHJpbmcoa2V5KSA/IGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oa2V5LCB0cnVlKSA6IGtleSxcbiAgICAgICAgdmFsdWVcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2ltcGxlRXhwcmVzc2lvbihjb250ZW50LCBpc1N0YXRpYyA9IGZhbHNlLCBsb2MgPSBsb2NTdHViLCBjb25zdFR5cGUgPSAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogNCAvKiBOb2RlVHlwZXMuU0lNUExFX0VYUFJFU1NJT04gKi8sXG4gICAgICAgIGxvYyxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgaXNTdGF0aWMsXG4gICAgICAgIGNvbnN0VHlwZTogaXNTdGF0aWMgPyAzIC8qIENvbnN0YW50VHlwZXMuQ0FOX1NUUklOR0lGWSAqLyA6IGNvbnN0VHlwZVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVDb21wb3VuZEV4cHJlc3Npb24oY2hpbGRyZW4sIGxvYyA9IGxvY1N0dWIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiA4IC8qIE5vZGVUeXBlcy5DT01QT1VORF9FWFBSRVNTSU9OICovLFxuICAgICAgICBsb2MsXG4gICAgICAgIGNoaWxkcmVuXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNhbGxFeHByZXNzaW9uKGNhbGxlZSwgYXJncyA9IFtdLCBsb2MgPSBsb2NTdHViKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogMTQgLyogTm9kZVR5cGVzLkpTX0NBTExfRVhQUkVTU0lPTiAqLyxcbiAgICAgICAgbG9jLFxuICAgICAgICBjYWxsZWUsXG4gICAgICAgIGFyZ3VtZW50czogYXJnc1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbkV4cHJlc3Npb24ocGFyYW1zLCByZXR1cm5zID0gdW5kZWZpbmVkLCBuZXdsaW5lID0gZmFsc2UsIGlzU2xvdCA9IGZhbHNlLCBsb2MgPSBsb2NTdHViKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogMTggLyogTm9kZVR5cGVzLkpTX0ZVTkNUSU9OX0VYUFJFU1NJT04gKi8sXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcmV0dXJucyxcbiAgICAgICAgbmV3bGluZSxcbiAgICAgICAgaXNTbG90LFxuICAgICAgICBsb2NcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQ29uZGl0aW9uYWxFeHByZXNzaW9uKHRlc3QsIGNvbnNlcXVlbnQsIGFsdGVybmF0ZSwgbmV3bGluZSA9IHRydWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAxOSAvKiBOb2RlVHlwZXMuSlNfQ09ORElUSU9OQUxfRVhQUkVTU0lPTiAqLyxcbiAgICAgICAgdGVzdCxcbiAgICAgICAgY29uc2VxdWVudCxcbiAgICAgICAgYWx0ZXJuYXRlLFxuICAgICAgICBuZXdsaW5lLFxuICAgICAgICBsb2M6IGxvY1N0dWJcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQ2FjaGVFeHByZXNzaW9uKGluZGV4LCB2YWx1ZSwgaXNWTm9kZSA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogMjAgLyogTm9kZVR5cGVzLkpTX0NBQ0hFX0VYUFJFU1NJT04gKi8sXG4gICAgICAgIGluZGV4LFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaXNWTm9kZSxcbiAgICAgICAgbG9jOiBsb2NTdHViXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrU3RhdGVtZW50KGJvZHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAyMSAvKiBOb2RlVHlwZXMuSlNfQkxPQ0tfU1RBVEVNRU5UICovLFxuICAgICAgICBib2R5LFxuICAgICAgICBsb2M6IGxvY1N0dWJcbiAgICB9O1xufVxuXG5jb25zdCBpc1N0YXRpY0V4cCA9IChwKSA9PiBwLnR5cGUgPT09IDQgLyogTm9kZVR5cGVzLlNJTVBMRV9FWFBSRVNTSU9OICovICYmIHAuaXNTdGF0aWM7XG5jb25zdCBpc0J1aWx0SW5UeXBlID0gKHRhZywgZXhwZWN0ZWQpID0+IHRhZyA9PT0gZXhwZWN0ZWQgfHwgdGFnID09PSBoeXBoZW5hdGUoZXhwZWN0ZWQpO1xuZnVuY3Rpb24gaXNDb3JlQ29tcG9uZW50KHRhZykge1xuICAgIGlmIChpc0J1aWx0SW5UeXBlKHRhZywgJ1RlbGVwb3J0JykpIHtcbiAgICAgICAgcmV0dXJuIFRFTEVQT1JUO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0J1aWx0SW5UeXBlKHRhZywgJ1N1c3BlbnNlJykpIHtcbiAgICAgICAgcmV0dXJuIFNVU1BFTlNFO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0J1aWx0SW5UeXBlKHRhZywgJ0tlZXBBbGl2ZScpKSB7XG4gICAgICAgIHJldHVybiBLRUVQX0FMSVZFO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0J1aWx0SW5UeXBlKHRhZywgJ0Jhc2VUcmFuc2l0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuIEJBU0VfVFJBTlNJVElPTjtcbiAgICB9XG59XG5jb25zdCBub25JZGVudGlmaWVyUkUgPSAvXlxcZHxbXlxcJFxcd10vO1xuY29uc3QgaXNTaW1wbGVJZGVudGlmaWVyID0gKG5hbWUpID0+ICFub25JZGVudGlmaWVyUkUudGVzdChuYW1lKTtcbmNvbnN0IHZhbGlkRmlyc3RJZGVudENoYXJSRSA9IC9bQS1aYS16XyRcXHhBMC1cXHVGRkZGXS87XG5jb25zdCB2YWxpZElkZW50Q2hhclJFID0gL1tcXC5cXD9cXHckXFx4QTAtXFx1RkZGRl0vO1xuY29uc3Qgd2hpdGVzcGFjZVJFID0gL1xccytbLltdXFxzKnxcXHMqWy5bXVxccysvZztcbi8qKlxuICogU2ltcGxlIGxleGVyIHRvIGNoZWNrIGlmIGFuIGV4cHJlc3Npb24gaXMgYSBtZW1iZXIgZXhwcmVzc2lvbi4gVGhpcyBpc1xuICogbGF4IGFuZCBvbmx5IGNoZWNrcyB2YWxpZGl0eSBhdCB0aGUgcm9vdCBsZXZlbCAoaS5lLiBkb2VzIG5vdCB2YWxpZGF0ZSBleHBzXG4gKiBpbnNpZGUgc3F1YXJlIGJyYWNrZXRzKSwgYnV0IGl0J3Mgb2sgc2luY2UgdGhlc2UgYXJlIG9ubHkgdXNlZCBvbiB0ZW1wbGF0ZVxuICogZXhwcmVzc2lvbnMgYW5kIGZhbHNlIHBvc2l0aXZlcyBhcmUgaW52YWxpZCBleHByZXNzaW9ucyBpbiB0aGUgZmlyc3QgcGxhY2UuXG4gKi9cbmNvbnN0IGlzTWVtYmVyRXhwcmVzc2lvbkJyb3dzZXIgPSAocGF0aCkgPT4ge1xuICAgIC8vIHJlbW92ZSB3aGl0ZXNwYWNlcyBhcm91bmQgLiBvciBbIGZpcnN0XG4gICAgcGF0aCA9IHBhdGgudHJpbSgpLnJlcGxhY2Uod2hpdGVzcGFjZVJFLCBzID0+IHMudHJpbSgpKTtcbiAgICBsZXQgc3RhdGUgPSAwIC8qIE1lbWJlckV4cExleFN0YXRlLmluTWVtYmVyRXhwICovO1xuICAgIGxldCBzdGF0ZVN0YWNrID0gW107XG4gICAgbGV0IGN1cnJlbnRPcGVuQnJhY2tldENvdW50ID0gMDtcbiAgICBsZXQgY3VycmVudE9wZW5QYXJlbnNDb3VudCA9IDA7XG4gICAgbGV0IGN1cnJlbnRTdHJpbmdUeXBlID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hhciA9IHBhdGguY2hhckF0KGkpO1xuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDAgLyogTWVtYmVyRXhwTGV4U3RhdGUuaW5NZW1iZXJFeHAgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdbJykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZVN0YWNrLnB1c2goc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDEgLyogTWVtYmVyRXhwTGV4U3RhdGUuaW5CcmFja2V0cyAqLztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5CcmFja2V0Q291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gJygnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlU3RhY2sucHVzaChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMiAvKiBNZW1iZXJFeHBMZXhTdGF0ZS5pblBhcmVucyAqLztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5QYXJlbnNDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghKGkgPT09IDAgPyB2YWxpZEZpcnN0SWRlbnRDaGFyUkUgOiB2YWxpZElkZW50Q2hhclJFKS50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEgLyogTWVtYmVyRXhwTGV4U3RhdGUuaW5CcmFja2V0cyAqLzpcbiAgICAgICAgICAgICAgICBpZiAoY2hhciA9PT0gYCdgIHx8IGNoYXIgPT09IGBcImAgfHwgY2hhciA9PT0gJ2AnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlU3RhY2sucHVzaChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMyAvKiBNZW1iZXJFeHBMZXhTdGF0ZS5pblN0cmluZyAqLztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0cmluZ1R5cGUgPSBjaGFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFyID09PSBgW2ApIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5CcmFja2V0Q291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gYF1gKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1jdXJyZW50T3BlbkJyYWNrZXRDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyIC8qIE1lbWJlckV4cExleFN0YXRlLmluUGFyZW5zICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBgJ2AgfHwgY2hhciA9PT0gYFwiYCB8fCBjaGFyID09PSAnYCcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVTdGFjay5wdXNoKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAzIC8qIE1lbWJlckV4cExleFN0YXRlLmluU3RyaW5nICovO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RyaW5nVHlwZSA9IGNoYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPT09IGAoYCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3BlblBhcmVuc0NvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPT09IGApYCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZXhwIGVuZHMgYXMgYSBjYWxsIHRoZW4gaXQgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIHZhbGlkXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBwYXRoLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIS0tY3VycmVudE9wZW5QYXJlbnNDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzIC8qIE1lbWJlckV4cExleFN0YXRlLmluU3RyaW5nICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSBjdXJyZW50U3RyaW5nVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlU3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHJpbmdUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICFjdXJyZW50T3BlbkJyYWNrZXRDb3VudCAmJiAhY3VycmVudE9wZW5QYXJlbnNDb3VudDtcbn07XG5jb25zdCBpc01lbWJlckV4cHJlc3Npb24gPSBpc01lbWJlckV4cHJlc3Npb25Ccm93c2VyXG4gICAgO1xuZnVuY3Rpb24gZ2V0SW5uZXJSYW5nZShsb2MsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgY29uc3Qgc291cmNlID0gbG9jLnNvdXJjZS5zbGljZShvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG4gICAgY29uc3QgbmV3TG9jID0ge1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIHN0YXJ0OiBhZHZhbmNlUG9zaXRpb25XaXRoQ2xvbmUobG9jLnN0YXJ0LCBsb2Muc291cmNlLCBvZmZzZXQpLFxuICAgICAgICBlbmQ6IGxvYy5lbmRcbiAgICB9O1xuICAgIGlmIChsZW5ndGggIT0gbnVsbCkge1xuICAgICAgICBuZXdMb2MuZW5kID0gYWR2YW5jZVBvc2l0aW9uV2l0aENsb25lKGxvYy5zdGFydCwgbG9jLnNvdXJjZSwgb2Zmc2V0ICsgbGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0xvYztcbn1cbmZ1bmN0aW9uIGFkdmFuY2VQb3NpdGlvbldpdGhDbG9uZShwb3MsIHNvdXJjZSwgbnVtYmVyT2ZDaGFyYWN0ZXJzID0gc291cmNlLmxlbmd0aCkge1xuICAgIHJldHVybiBhZHZhbmNlUG9zaXRpb25XaXRoTXV0YXRpb24oZXh0ZW5kKHt9LCBwb3MpLCBzb3VyY2UsIG51bWJlck9mQ2hhcmFjdGVycyk7XG59XG4vLyBhZHZhbmNlIGJ5IG11dGF0aW9uIHdpdGhvdXQgY2xvbmluZyAoZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMpLCBzaW5jZSB0aGlzXG4vLyBnZXRzIGNhbGxlZCBhIGxvdCBpbiB0aGUgcGFyc2VyXG5mdW5jdGlvbiBhZHZhbmNlUG9zaXRpb25XaXRoTXV0YXRpb24ocG9zLCBzb3VyY2UsIG51bWJlck9mQ2hhcmFjdGVycyA9IHNvdXJjZS5sZW5ndGgpIHtcbiAgICBsZXQgbGluZXNDb3VudCA9IDA7XG4gICAgbGV0IGxhc3ROZXdMaW5lUG9zID0gLTE7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkNoYXJhY3RlcnM7IGkrKykge1xuICAgICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoaSkgPT09IDEwIC8qIG5ld2xpbmUgY2hhciBjb2RlICovKSB7XG4gICAgICAgICAgICBsaW5lc0NvdW50Kys7XG4gICAgICAgICAgICBsYXN0TmV3TGluZVBvcyA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9zLm9mZnNldCArPSBudW1iZXJPZkNoYXJhY3RlcnM7XG4gICAgcG9zLmxpbmUgKz0gbGluZXNDb3VudDtcbiAgICBwb3MuY29sdW1uID1cbiAgICAgICAgbGFzdE5ld0xpbmVQb3MgPT09IC0xXG4gICAgICAgICAgICA/IHBvcy5jb2x1bW4gKyBudW1iZXJPZkNoYXJhY3RlcnNcbiAgICAgICAgICAgIDogbnVtYmVyT2ZDaGFyYWN0ZXJzIC0gbGFzdE5ld0xpbmVQb3M7XG4gICAgcmV0dXJuIHBvcztcbn1cbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1zZykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cgfHwgYHVuZXhwZWN0ZWQgY29tcGlsZXIgY29uZGl0aW9uYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZERpcihub2RlLCBuYW1lLCBhbGxvd0VtcHR5ID0gZmFsc2UpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUucHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcCA9IG5vZGUucHJvcHNbaV07XG4gICAgICAgIGlmIChwLnR5cGUgPT09IDcgLyogTm9kZVR5cGVzLkRJUkVDVElWRSAqLyAmJlxuICAgICAgICAgICAgKGFsbG93RW1wdHkgfHwgcC5leHApICYmXG4gICAgICAgICAgICAoaXNTdHJpbmcobmFtZSkgPyBwLm5hbWUgPT09IG5hbWUgOiBuYW1lLnRlc3QocC5uYW1lKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZFByb3Aobm9kZSwgbmFtZSwgZHluYW1pY09ubHkgPSBmYWxzZSwgYWxsb3dFbXB0eSA9IGZhbHNlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLnByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHAgPSBub2RlLnByb3BzW2ldO1xuICAgICAgICBpZiAocC50eXBlID09PSA2IC8qIE5vZGVUeXBlcy5BVFRSSUJVVEUgKi8pIHtcbiAgICAgICAgICAgIGlmIChkeW5hbWljT25seSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwLm5hbWUgPT09IG5hbWUgJiYgKHAudmFsdWUgfHwgYWxsb3dFbXB0eSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwLm5hbWUgPT09ICdiaW5kJyAmJlxuICAgICAgICAgICAgKHAuZXhwIHx8IGFsbG93RW1wdHkpICYmXG4gICAgICAgICAgICBpc1N0YXRpY0FyZ09mKHAuYXJnLCBuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc1N0YXRpY0FyZ09mKGFyZywgbmFtZSkge1xuICAgIHJldHVybiAhIShhcmcgJiYgaXNTdGF0aWNFeHAoYXJnKSAmJiBhcmcuY29udGVudCA9PT0gbmFtZSk7XG59XG5mdW5jdGlvbiBoYXNEeW5hbWljS2V5VkJpbmQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnByb3BzLnNvbWUocCA9PiBwLnR5cGUgPT09IDcgLyogTm9kZVR5cGVzLkRJUkVDVElWRSAqLyAmJlxuICAgICAgICBwLm5hbWUgPT09ICdiaW5kJyAmJlxuICAgICAgICAoIXAuYXJnIHx8IC8vIHYtYmluZD1cIm9ialwiXG4gICAgICAgICAgICBwLmFyZy50eXBlICE9PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLyB8fCAvLyB2LWJpbmQ6W19jdHguZm9vXVxuICAgICAgICAgICAgIXAuYXJnLmlzU3RhdGljKSAvLyB2LWJpbmQ6W2Zvb11cbiAgICApO1xufVxuZnVuY3Rpb24gaXNUZXh0KG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50eXBlID09PSA1IC8qIE5vZGVUeXBlcy5JTlRFUlBPTEFUSU9OICovIHx8IG5vZGUudHlwZSA9PT0gMiAvKiBOb2RlVHlwZXMuVEVYVCAqLztcbn1cbmZ1bmN0aW9uIGlzVlNsb3QocCkge1xuICAgIHJldHVybiBwLnR5cGUgPT09IDcgLyogTm9kZVR5cGVzLkRJUkVDVElWRSAqLyAmJiBwLm5hbWUgPT09ICdzbG90Jztcbn1cbmZ1bmN0aW9uIGlzVGVtcGxhdGVOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gKG5vZGUudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJiBub2RlLnRhZ1R5cGUgPT09IDMgLyogRWxlbWVudFR5cGVzLlRFTVBMQVRFICovKTtcbn1cbmZ1bmN0aW9uIGlzU2xvdE91dGxldChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJiBub2RlLnRhZ1R5cGUgPT09IDIgLyogRWxlbWVudFR5cGVzLlNMT1QgKi87XG59XG5mdW5jdGlvbiBnZXRWTm9kZUhlbHBlcihzc3IsIGlzQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHNzciB8fCBpc0NvbXBvbmVudCA/IENSRUFURV9WTk9ERSA6IENSRUFURV9FTEVNRU5UX1ZOT0RFO1xufVxuZnVuY3Rpb24gZ2V0Vk5vZGVCbG9ja0hlbHBlcihzc3IsIGlzQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHNzciB8fCBpc0NvbXBvbmVudCA/IENSRUFURV9CTE9DSyA6IENSRUFURV9FTEVNRU5UX0JMT0NLO1xufVxuY29uc3QgcHJvcHNIZWxwZXJTZXQgPSBuZXcgU2V0KFtOT1JNQUxJWkVfUFJPUFMsIEdVQVJEX1JFQUNUSVZFX1BST1BTXSk7XG5mdW5jdGlvbiBnZXRVbm5vcm1hbGl6ZWRQcm9wcyhwcm9wcywgY2FsbFBhdGggPSBbXSkge1xuICAgIGlmIChwcm9wcyAmJlxuICAgICAgICAhaXNTdHJpbmcocHJvcHMpICYmXG4gICAgICAgIHByb3BzLnR5cGUgPT09IDE0IC8qIE5vZGVUeXBlcy5KU19DQUxMX0VYUFJFU1NJT04gKi8pIHtcbiAgICAgICAgY29uc3QgY2FsbGVlID0gcHJvcHMuY2FsbGVlO1xuICAgICAgICBpZiAoIWlzU3RyaW5nKGNhbGxlZSkgJiYgcHJvcHNIZWxwZXJTZXQuaGFzKGNhbGxlZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRVbm5vcm1hbGl6ZWRQcm9wcyhwcm9wcy5hcmd1bWVudHNbMF0sIGNhbGxQYXRoLmNvbmNhdChwcm9wcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbcHJvcHMsIGNhbGxQYXRoXTtcbn1cbmZ1bmN0aW9uIGluamVjdFByb3Aobm9kZSwgcHJvcCwgY29udGV4dCkge1xuICAgIGxldCBwcm9wc1dpdGhJbmplY3Rpb247XG4gICAgLyoqXG4gICAgICogMS4gbWVyZ2VQcm9wcyguLi4pXG4gICAgICogMi4gdG9IYW5kbGVycyguLi4pXG4gICAgICogMy4gbm9ybWFsaXplUHJvcHMoLi4uKVxuICAgICAqIDQuIG5vcm1hbGl6ZVByb3BzKGd1YXJkUmVhY3RpdmVQcm9wcyguLi4pKVxuICAgICAqXG4gICAgICogd2UgbmVlZCB0byBnZXQgdGhlIHJlYWwgcHJvcHMgYmVmb3JlIG5vcm1hbGl6YXRpb25cbiAgICAgKi9cbiAgICBsZXQgcHJvcHMgPSBub2RlLnR5cGUgPT09IDEzIC8qIE5vZGVUeXBlcy5WTk9ERV9DQUxMICovID8gbm9kZS5wcm9wcyA6IG5vZGUuYXJndW1lbnRzWzJdO1xuICAgIGxldCBjYWxsUGF0aCA9IFtdO1xuICAgIGxldCBwYXJlbnRDYWxsO1xuICAgIGlmIChwcm9wcyAmJlxuICAgICAgICAhaXNTdHJpbmcocHJvcHMpICYmXG4gICAgICAgIHByb3BzLnR5cGUgPT09IDE0IC8qIE5vZGVUeXBlcy5KU19DQUxMX0VYUFJFU1NJT04gKi8pIHtcbiAgICAgICAgY29uc3QgcmV0ID0gZ2V0VW5ub3JtYWxpemVkUHJvcHMocHJvcHMpO1xuICAgICAgICBwcm9wcyA9IHJldFswXTtcbiAgICAgICAgY2FsbFBhdGggPSByZXRbMV07XG4gICAgICAgIHBhcmVudENhbGwgPSBjYWxsUGF0aFtjYWxsUGF0aC5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgaWYgKHByb3BzID09IG51bGwgfHwgaXNTdHJpbmcocHJvcHMpKSB7XG4gICAgICAgIHByb3BzV2l0aEluamVjdGlvbiA9IGNyZWF0ZU9iamVjdEV4cHJlc3Npb24oW3Byb3BdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvcHMudHlwZSA9PT0gMTQgLyogTm9kZVR5cGVzLkpTX0NBTExfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICAvLyBtZXJnZWQgcHJvcHMuLi4gYWRkIG91cnNcbiAgICAgICAgLy8gb25seSBpbmplY3Qga2V5IHRvIG9iamVjdCBsaXRlcmFsIGlmIGl0J3MgdGhlIGZpcnN0IGFyZ3VtZW50IHNvIHRoYXRcbiAgICAgICAgLy8gaWYgZG9lc24ndCBvdmVycmlkZSB1c2VyIHByb3ZpZGVkIGtleXNcbiAgICAgICAgY29uc3QgZmlyc3QgPSBwcm9wcy5hcmd1bWVudHNbMF07XG4gICAgICAgIGlmICghaXNTdHJpbmcoZmlyc3QpICYmIGZpcnN0LnR5cGUgPT09IDE1IC8qIE5vZGVUeXBlcy5KU19PQkpFQ1RfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICAgICAgLy8gIzY2MzFcbiAgICAgICAgICAgIGlmICghaGFzUHJvcChwcm9wLCBmaXJzdCkpIHtcbiAgICAgICAgICAgICAgICBmaXJzdC5wcm9wZXJ0aWVzLnVuc2hpZnQocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJvcHMuY2FsbGVlID09PSBUT19IQU5ETEVSUykge1xuICAgICAgICAgICAgICAgIC8vICMyMzY2XG4gICAgICAgICAgICAgICAgcHJvcHNXaXRoSW5qZWN0aW9uID0gY3JlYXRlQ2FsbEV4cHJlc3Npb24oY29udGV4dC5oZWxwZXIoTUVSR0VfUFJPUFMpLCBbXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU9iamVjdEV4cHJlc3Npb24oW3Byb3BdKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb3BzLmFyZ3VtZW50cy51bnNoaWZ0KGNyZWF0ZU9iamVjdEV4cHJlc3Npb24oW3Byb3BdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgIXByb3BzV2l0aEluamVjdGlvbiAmJiAocHJvcHNXaXRoSW5qZWN0aW9uID0gcHJvcHMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9wcy50eXBlID09PSAxNSAvKiBOb2RlVHlwZXMuSlNfT0JKRUNUX0VYUFJFU1NJT04gKi8pIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wKHByb3AsIHByb3BzKSkge1xuICAgICAgICAgICAgcHJvcHMucHJvcGVydGllcy51bnNoaWZ0KHByb3ApO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzV2l0aEluamVjdGlvbiA9IHByb3BzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc2luZ2xlIHYtYmluZCB3aXRoIGV4cHJlc3Npb24sIHJldHVybiBhIG1lcmdlZCByZXBsYWNlbWVudFxuICAgICAgICBwcm9wc1dpdGhJbmplY3Rpb24gPSBjcmVhdGVDYWxsRXhwcmVzc2lvbihjb250ZXh0LmhlbHBlcihNRVJHRV9QUk9QUyksIFtcbiAgICAgICAgICAgIGNyZWF0ZU9iamVjdEV4cHJlc3Npb24oW3Byb3BdKSxcbiAgICAgICAgICAgIHByb3BzXG4gICAgICAgIF0pO1xuICAgICAgICAvLyBpbiB0aGUgY2FzZSBvZiBuZXN0ZWQgaGVscGVyIGNhbGwsIGUuZy4gYG5vcm1hbGl6ZVByb3BzKGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcykpYCxcbiAgICAgICAgLy8gaXQgd2lsbCBiZSByZXdyaXR0ZW4gYXMgYG5vcm1hbGl6ZVByb3BzKG1lcmdlUHJvcHMoeyBrZXk6IDAgfSwgcHJvcHMpKWAsXG4gICAgICAgIC8vIHRoZSBgZ3VhcmRSZWFjdGl2ZVByb3BzYCB3aWxsIG5vIGxvbmdlciBiZSBuZWVkZWRcbiAgICAgICAgaWYgKHBhcmVudENhbGwgJiYgcGFyZW50Q2FsbC5jYWxsZWUgPT09IEdVQVJEX1JFQUNUSVZFX1BST1BTKSB7XG4gICAgICAgICAgICBwYXJlbnRDYWxsID0gY2FsbFBhdGhbY2FsbFBhdGgubGVuZ3RoIC0gMl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gMTMgLyogTm9kZVR5cGVzLlZOT0RFX0NBTEwgKi8pIHtcbiAgICAgICAgaWYgKHBhcmVudENhbGwpIHtcbiAgICAgICAgICAgIHBhcmVudENhbGwuYXJndW1lbnRzWzBdID0gcHJvcHNXaXRoSW5qZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5wcm9wcyA9IHByb3BzV2l0aEluamVjdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHBhcmVudENhbGwpIHtcbiAgICAgICAgICAgIHBhcmVudENhbGwuYXJndW1lbnRzWzBdID0gcHJvcHNXaXRoSW5qZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZS5hcmd1bWVudHNbMl0gPSBwcm9wc1dpdGhJbmplY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBjaGVjayBleGlzdGluZyBrZXkgdG8gYXZvaWQgb3ZlcnJpZGluZyB1c2VyIHByb3ZpZGVkIGtleXNcbmZ1bmN0aW9uIGhhc1Byb3AocHJvcCwgcHJvcHMpIHtcbiAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG4gICAgaWYgKHByb3Aua2V5LnR5cGUgPT09IDQgLyogTm9kZVR5cGVzLlNJTVBMRV9FWFBSRVNTSU9OICovKSB7XG4gICAgICAgIGNvbnN0IHByb3BLZXlOYW1lID0gcHJvcC5rZXkuY29udGVudDtcbiAgICAgICAgcmVzdWx0ID0gcHJvcHMucHJvcGVydGllcy5zb21lKHAgPT4gcC5rZXkudHlwZSA9PT0gNCAvKiBOb2RlVHlwZXMuU0lNUExFX0VYUFJFU1NJT04gKi8gJiZcbiAgICAgICAgICAgIHAua2V5LmNvbnRlbnQgPT09IHByb3BLZXlOYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRvVmFsaWRBc3NldElkKG5hbWUsIHR5cGUpIHtcbiAgICAvLyBzZWUgaXNzdWUjNDQyMiwgd2UgbmVlZCBhZGRpbmcgaWRlbnRpZmllciBvbiB2YWxpZEFzc2V0SWQgaWYgdmFyaWFibGUgYG5hbWVgIGhhcyBzcGVjaWZpYyBjaGFyYWN0ZXJcbiAgICByZXR1cm4gYF8ke3R5cGV9XyR7bmFtZS5yZXBsYWNlKC9bXlxcd10vZywgKHNlYXJjaFZhbHVlLCByZXBsYWNlVmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlYXJjaFZhbHVlID09PSAnLScgPyAnXycgOiBuYW1lLmNoYXJDb2RlQXQocmVwbGFjZVZhbHVlKS50b1N0cmluZygpO1xuICAgIH0pfWA7XG59XG5mdW5jdGlvbiBnZXRNZW1vZWRWTm9kZUNhbGwobm9kZSkge1xuICAgIGlmIChub2RlLnR5cGUgPT09IDE0IC8qIE5vZGVUeXBlcy5KU19DQUxMX0VYUFJFU1NJT04gKi8gJiYgbm9kZS5jYWxsZWUgPT09IFdJVEhfTUVNTykge1xuICAgICAgICByZXR1cm4gbm9kZS5hcmd1bWVudHNbMV0ucmV0dXJucztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1ha2VCbG9jayhub2RlLCB7IGhlbHBlciwgcmVtb3ZlSGVscGVyLCBpblNTUiB9KSB7XG4gICAgaWYgKCFub2RlLmlzQmxvY2spIHtcbiAgICAgICAgbm9kZS5pc0Jsb2NrID0gdHJ1ZTtcbiAgICAgICAgcmVtb3ZlSGVscGVyKGdldFZOb2RlSGVscGVyKGluU1NSLCBub2RlLmlzQ29tcG9uZW50KSk7XG4gICAgICAgIGhlbHBlcihPUEVOX0JMT0NLKTtcbiAgICAgICAgaGVscGVyKGdldFZOb2RlQmxvY2tIZWxwZXIoaW5TU1IsIG5vZGUuaXNDb21wb25lbnQpKTtcbiAgICB9XG59XG5cbmNvbnN0IGRlcHJlY2F0aW9uRGF0YSQxID0ge1xuICAgIFtcIkNPTVBJTEVSX0lTX09OX0VMRU1FTlRcIiAvKiBDb21waWxlckRlcHJlY2F0aW9uVHlwZXMuQ09NUElMRVJfSVNfT05fRUxFTUVOVCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFBsYXRmb3JtLW5hdGl2ZSBlbGVtZW50cyB3aXRoIFwiaXNcIiBwcm9wIHdpbGwgbm8gbG9uZ2VyIGJlIGAgK1xuICAgICAgICAgICAgYHRyZWF0ZWQgYXMgY29tcG9uZW50cyBpbiBWdWUgMyB1bmxlc3MgdGhlIFwiaXNcIiB2YWx1ZSBpcyBleHBsaWNpdGx5IGAgK1xuICAgICAgICAgICAgYHByZWZpeGVkIHdpdGggXCJ2dWU6XCIuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2N1c3RvbS1lbGVtZW50cy1pbnRlcm9wLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT01QSUxFUl9WX0JJTkRfU1lOQ1wiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9WX0JJTkRfU1lOQyAqL106IHtcbiAgICAgICAgbWVzc2FnZToga2V5ID0+IGAuc3luYyBtb2RpZmllciBmb3Igdi1iaW5kIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2LW1vZGVsIHdpdGggYCArXG4gICAgICAgICAgICBgYXJndW1lbnQgaW5zdGVhZC4gXFxgdi1iaW5kOiR7a2V5fS5zeW5jXFxgIHNob3VsZCBiZSBjaGFuZ2VkIHRvIGAgK1xuICAgICAgICAgICAgYFxcYHYtbW9kZWw6JHtrZXl9XFxgLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy92LW1vZGVsLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT01QSUxFUl9WX0JJTkRfUFJPUFwiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9WX0JJTkRfUFJPUCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYC5wcm9wIG1vZGlmaWVyIGZvciB2LWJpbmQgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgbm8gbG9uZ2VyIG5lY2Vzc2FyeS4gYCArXG4gICAgICAgICAgICBgVnVlIDMgd2lsbCBhdXRvbWF0aWNhbGx5IHNldCBhIGJpbmRpbmcgYXMgRE9NIHByb3BlcnR5IHdoZW4gYXBwcm9wcmlhdGUuYFxuICAgIH0sXG4gICAgW1wiQ09NUElMRVJfVl9CSU5EX09CSkVDVF9PUkRFUlwiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9WX0JJTkRfT0JKRUNUX09SREVSICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdi1iaW5kPVwib2JqXCIgdXNhZ2UgaXMgbm93IG9yZGVyIHNlbnNpdGl2ZSBhbmQgYmVoYXZlcyBsaWtlIEphdmFTY3JpcHQgYCArXG4gICAgICAgICAgICBgb2JqZWN0IHNwcmVhZDogaXQgd2lsbCBub3cgb3ZlcndyaXRlIGFuIGV4aXN0aW5nIG5vbi1tZXJnZWFibGUgYXR0cmlidXRlIGAgK1xuICAgICAgICAgICAgYHRoYXQgYXBwZWFycyBiZWZvcmUgdi1iaW5kIGluIHRoZSBjYXNlIG9mIGNvbmZsaWN0LiBgICtcbiAgICAgICAgICAgIGBUbyByZXRhaW4gMi54IGJlaGF2aW9yLCBtb3ZlIHYtYmluZCB0byBtYWtlIGl0IHRoZSBmaXJzdCBhdHRyaWJ1dGUuIGAgK1xuICAgICAgICAgICAgYFlvdSBjYW4gYWxzbyBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgaWYgdGhlIHVzYWdlIGlzIGludGVuZGVkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy92LWJpbmQuaHRtbGBcbiAgICB9LFxuICAgIFtcIkNPTVBJTEVSX1ZfT05fTkFUSVZFXCIgLyogQ29tcGlsZXJEZXByZWNhdGlvblR5cGVzLkNPTVBJTEVSX1ZfT05fTkFUSVZFICovXToge1xuICAgICAgICBtZXNzYWdlOiBgLm5hdGl2ZSBtb2RpZmllciBmb3Igdi1vbiBoYXMgYmVlbiByZW1vdmVkIGFzIGlzIG5vIGxvbmdlciBuZWNlc3NhcnkuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3Ytb24tbmF0aXZlLW1vZGlmaWVyLXJlbW92ZWQuaHRtbGBcbiAgICB9LFxuICAgIFtcIkNPTVBJTEVSX1ZfSUZfVl9GT1JfUFJFQ0VERU5DRVwiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9WX0lGX1ZfRk9SX1BSRUNFREVOQ0UgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2LWlmIC8gdi1mb3IgcHJlY2VkZW5jZSB3aGVuIHVzZWQgb24gdGhlIHNhbWUgZWxlbWVudCBoYXMgY2hhbmdlZCBgICtcbiAgICAgICAgICAgIGBpbiBWdWUgMzogdi1pZiBub3cgdGFrZXMgaGlnaGVyIHByZWNlZGVuY2UgYW5kIHdpbGwgbm8gbG9uZ2VyIGhhdmUgYCArXG4gICAgICAgICAgICBgYWNjZXNzIHRvIHYtZm9yIHNjb3BlIHZhcmlhYmxlcy4gSXQgaXMgYmVzdCB0byBhdm9pZCB0aGUgYW1iaWd1aXR5IGAgK1xuICAgICAgICAgICAgYHdpdGggPHRlbXBsYXRlPiB0YWdzIG9yIHVzZSBhIGNvbXB1dGVkIHByb3BlcnR5IHRoYXQgZmlsdGVycyB2LWZvciBgICtcbiAgICAgICAgICAgIGBkYXRhIHNvdXJjZS5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvdi1pZi12LWZvci5odG1sYFxuICAgIH0sXG4gICAgW1wiQ09NUElMRVJfTkFUSVZFX1RFTVBMQVRFXCIgLyogQ29tcGlsZXJEZXByZWNhdGlvblR5cGVzLkNPTVBJTEVSX05BVElWRV9URU1QTEFURSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYDx0ZW1wbGF0ZT4gd2l0aCBubyBzcGVjaWFsIGRpcmVjdGl2ZXMgd2lsbCByZW5kZXIgYXMgYSBuYXRpdmUgdGVtcGxhdGUgYCArXG4gICAgICAgICAgICBgZWxlbWVudCBpbnN0ZWFkIG9mIGl0cyBpbm5lciBjb250ZW50IGluIFZ1ZSAzLmBcbiAgICB9LFxuICAgIFtcIkNPTVBJTEVSX0lOTElORV9URU1QTEFURVwiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9JTkxJTkVfVEVNUExBVEUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBcImlubGluZS10ZW1wbGF0ZVwiIGhhcyBiZWVuIHJlbW92ZWQgaW4gVnVlIDMuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2lubGluZS10ZW1wbGF0ZS1hdHRyaWJ1dGUuaHRtbGBcbiAgICB9LFxuICAgIFtcIkNPTVBJTEVSX0ZJTFRFUlwiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9GSUxURVJTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgZmlsdGVycyBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgVGhlIFwifFwiIHN5bWJvbCB3aWxsIGJlIHRyZWF0ZWQgYXMgbmF0aXZlIEphdmFTY3JpcHQgYml0d2lzZSBPUiBvcGVyYXRvci4gYCArXG4gICAgICAgICAgICBgVXNlIG1ldGhvZCBjYWxscyBvciBjb21wdXRlZCBwcm9wZXJ0aWVzIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2ZpbHRlcnMuaHRtbGBcbiAgICB9XG59O1xuZnVuY3Rpb24gZ2V0Q29tcGF0VmFsdWUoa2V5LCBjb250ZXh0KSB7XG4gICAgY29uc3QgY29uZmlnID0gY29udGV4dC5vcHRpb25zXG4gICAgICAgID8gY29udGV4dC5vcHRpb25zLmNvbXBhdENvbmZpZ1xuICAgICAgICA6IGNvbnRleHQuY29tcGF0Q29uZmlnO1xuICAgIGNvbnN0IHZhbHVlID0gY29uZmlnICYmIGNvbmZpZ1trZXldO1xuICAgIGlmIChrZXkgPT09ICdNT0RFJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgfHwgMzsgLy8gY29tcGlsZXIgZGVmYXVsdHMgdG8gdjMgYmVoYXZpb3JcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0NvbXBhdEVuYWJsZWQkMShrZXksIGNvbnRleHQpIHtcbiAgICBjb25zdCBtb2RlID0gZ2V0Q29tcGF0VmFsdWUoJ01PREUnLCBjb250ZXh0KTtcbiAgICBjb25zdCB2YWx1ZSA9IGdldENvbXBhdFZhbHVlKGtleSwgY29udGV4dCk7XG4gICAgLy8gaW4gdjMgbW9kZSwgb25seSBlbmFibGUgaWYgZXhwbGljaXRseSBzZXQgdG8gdHJ1ZVxuICAgIC8vIG90aGVyd2lzZSBlbmFibGUgZm9yIGFueSBub24tZmFsc2UgdmFsdWVcbiAgICByZXR1cm4gbW9kZSA9PT0gMyA/IHZhbHVlID09PSB0cnVlIDogdmFsdWUgIT09IGZhbHNlO1xufVxuZnVuY3Rpb24gY2hlY2tDb21wYXRFbmFibGVkJDEoa2V5LCBjb250ZXh0LCBsb2MsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBlbmFibGVkID0gaXNDb21wYXRFbmFibGVkJDEoa2V5LCBjb250ZXh0KTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGVuYWJsZWQpIHtcbiAgICAgICAgd2FybkRlcHJlY2F0aW9uJDEoa2V5LCBjb250ZXh0LCBsb2MsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gZW5hYmxlZDtcbn1cbmZ1bmN0aW9uIHdhcm5EZXByZWNhdGlvbiQxKGtleSwgY29udGV4dCwgbG9jLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgdmFsID0gZ2V0Q29tcGF0VmFsdWUoa2V5LCBjb250ZXh0KTtcbiAgICBpZiAodmFsID09PSAnc3VwcHJlc3Mtd2FybmluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IG1lc3NhZ2UsIGxpbmsgfSA9IGRlcHJlY2F0aW9uRGF0YSQxW2tleV07XG4gICAgY29uc3QgbXNnID0gYChkZXByZWNhdGlvbiAke2tleX0pICR7dHlwZW9mIG1lc3NhZ2UgPT09ICdmdW5jdGlvbicgPyBtZXNzYWdlKC4uLmFyZ3MpIDogbWVzc2FnZX0ke2xpbmsgPyBgXFxuICBEZXRhaWxzOiAke2xpbmt9YCA6IGBgfWA7XG4gICAgY29uc3QgZXJyID0gbmV3IFN5bnRheEVycm9yKG1zZyk7XG4gICAgZXJyLmNvZGUgPSBrZXk7XG4gICAgaWYgKGxvYylcbiAgICAgICAgZXJyLmxvYyA9IGxvYztcbiAgICBjb250ZXh0Lm9uV2FybihlcnIpO1xufVxuXG4vLyBUaGUgZGVmYXVsdCBkZWNvZGVyIG9ubHkgcHJvdmlkZXMgZXNjYXBlcyBmb3IgY2hhcmFjdGVycyByZXNlcnZlZCBhcyBwYXJ0IG9mXG4vLyB0aGUgdGVtcGxhdGUgc3ludGF4LCBhbmQgaXMgb25seSB1c2VkIGlmIHRoZSBjdXN0b20gcmVuZGVyZXIgZGlkIG5vdCBwcm92aWRlXG4vLyBhIHBsYXRmb3JtLXNwZWNpZmljIGRlY29kZXIuXG5jb25zdCBkZWNvZGVSRSA9IC8mKGd0fGx0fGFtcHxhcG9zfHF1b3QpOy9nO1xuY29uc3QgZGVjb2RlTWFwID0ge1xuICAgIGd0OiAnPicsXG4gICAgbHQ6ICc8JyxcbiAgICBhbXA6ICcmJyxcbiAgICBhcG9zOiBcIidcIixcbiAgICBxdW90OiAnXCInXG59O1xuY29uc3QgZGVmYXVsdFBhcnNlck9wdGlvbnMgPSB7XG4gICAgZGVsaW1pdGVyczogW2B7e2AsIGB9fWBdLFxuICAgIGdldE5hbWVzcGFjZTogKCkgPT4gMCAvKiBOYW1lc3BhY2VzLkhUTUwgKi8sXG4gICAgZ2V0VGV4dE1vZGU6ICgpID0+IDAgLyogVGV4dE1vZGVzLkRBVEEgKi8sXG4gICAgaXNWb2lkVGFnOiBOTyxcbiAgICBpc1ByZVRhZzogTk8sXG4gICAgaXNDdXN0b21FbGVtZW50OiBOTyxcbiAgICBkZWNvZGVFbnRpdGllczogKHJhd1RleHQpID0+IHJhd1RleHQucmVwbGFjZShkZWNvZGVSRSwgKF8sIHAxKSA9PiBkZWNvZGVNYXBbcDFdKSxcbiAgICBvbkVycm9yOiBkZWZhdWx0T25FcnJvcixcbiAgICBvbldhcm46IGRlZmF1bHRPbldhcm4sXG4gICAgY29tbWVudHM6IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxufTtcbmZ1bmN0aW9uIGJhc2VQYXJzZShjb250ZW50LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlUGFyc2VyQ29udGV4dChjb250ZW50LCBvcHRpb25zKTtcbiAgICBjb25zdCBzdGFydCA9IGdldEN1cnNvcihjb250ZXh0KTtcbiAgICByZXR1cm4gY3JlYXRlUm9vdChwYXJzZUNoaWxkcmVuKGNvbnRleHQsIDAgLyogVGV4dE1vZGVzLkRBVEEgKi8sIFtdKSwgZ2V0U2VsZWN0aW9uKGNvbnRleHQsIHN0YXJ0KSk7XG59XG5mdW5jdGlvbiBjcmVhdGVQYXJzZXJDb250ZXh0KGNvbnRlbnQsIHJhd09wdGlvbnMpIHtcbiAgICBjb25zdCBvcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0UGFyc2VyT3B0aW9ucyk7XG4gICAgbGV0IGtleTtcbiAgICBmb3IgKGtleSBpbiByYXdPcHRpb25zKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgb3B0aW9uc1trZXldID1cbiAgICAgICAgICAgIHJhd09wdGlvbnNba2V5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBkZWZhdWx0UGFyc2VyT3B0aW9uc1trZXldXG4gICAgICAgICAgICAgICAgOiByYXdPcHRpb25zW2tleV07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGNvbHVtbjogMSxcbiAgICAgICAgbGluZTogMSxcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICBvcmlnaW5hbFNvdXJjZTogY29udGVudCxcbiAgICAgICAgc291cmNlOiBjb250ZW50LFxuICAgICAgICBpblByZTogZmFsc2UsXG4gICAgICAgIGluVlByZTogZmFsc2UsXG4gICAgICAgIG9uV2Fybjogb3B0aW9ucy5vbldhcm5cbiAgICB9O1xufVxuZnVuY3Rpb24gcGFyc2VDaGlsZHJlbihjb250ZXh0LCBtb2RlLCBhbmNlc3RvcnMpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBsYXN0KGFuY2VzdG9ycyk7XG4gICAgY29uc3QgbnMgPSBwYXJlbnQgPyBwYXJlbnQubnMgOiAwIC8qIE5hbWVzcGFjZXMuSFRNTCAqLztcbiAgICBjb25zdCBub2RlcyA9IFtdO1xuICAgIHdoaWxlICghaXNFbmQoY29udGV4dCwgbW9kZSwgYW5jZXN0b3JzKSkge1xuICAgICAgICBjb25zdCBzID0gY29udGV4dC5zb3VyY2U7XG4gICAgICAgIGxldCBub2RlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAobW9kZSA9PT0gMCAvKiBUZXh0TW9kZXMuREFUQSAqLyB8fCBtb2RlID09PSAxIC8qIFRleHRNb2Rlcy5SQ0RBVEEgKi8pIHtcbiAgICAgICAgICAgIGlmICghY29udGV4dC5pblZQcmUgJiYgc3RhcnRzV2l0aChzLCBjb250ZXh0Lm9wdGlvbnMuZGVsaW1pdGVyc1swXSkpIHtcbiAgICAgICAgICAgICAgICAvLyAne3snXG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcnNlSW50ZXJwb2xhdGlvbihjb250ZXh0LCBtb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT09IDAgLyogVGV4dE1vZGVzLkRBVEEgKi8gJiYgc1swXSA9PT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvcGFyc2luZy5odG1sI3RhZy1vcGVuLXN0YXRlXG4gICAgICAgICAgICAgICAgaWYgKHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCA1IC8qIEVycm9yQ29kZXMuRU9GX0JFRk9SRV9UQUdfTkFNRSAqLywgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNbMV0gPT09ICchJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9wYXJzaW5nLmh0bWwjbWFya3VwLWRlY2xhcmF0aW9uLW9wZW4tc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0c1dpdGgocywgJzwhLS0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHBhcnNlQ29tbWVudChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGFydHNXaXRoKHMsICc8IURPQ1RZUEUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIERPQ1RZUEUgYnkgYSBsaW1pdGF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHBhcnNlQm9ndXNDb21tZW50KGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0c1dpdGgocywgJzwhW0NEQVRBWycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnMgIT09IDAgLyogTmFtZXNwYWNlcy5IVE1MICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHBhcnNlQ0RBVEEoY29udGV4dCwgYW5jZXN0b3JzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCAxIC8qIEVycm9yQ29kZXMuQ0RBVEFfSU5fSFRNTF9DT05URU5UICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gcGFyc2VCb2d1c0NvbW1lbnQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoY29udGV4dCwgMTEgLyogRXJyb3JDb2Rlcy5JTkNPUlJFQ1RMWV9PUEVORURfQ09NTUVOVCAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gcGFyc2VCb2d1c0NvbW1lbnQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc1sxXSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3BhcnNpbmcuaHRtbCNlbmQtdGFnLW9wZW4tc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoY29udGV4dCwgNSAvKiBFcnJvckNvZGVzLkVPRl9CRUZPUkVfVEFHX05BTUUgKi8sIDIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNbMl0gPT09ICc+Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKGNvbnRleHQsIDE0IC8qIEVycm9yQ29kZXMuTUlTU0lOR19FTkRfVEFHX05BTUUgKi8sIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZUJ5KGNvbnRleHQsIDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoL1thLXpdL2kudGVzdChzWzJdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKGNvbnRleHQsIDIzIC8qIEVycm9yQ29kZXMuWF9JTlZBTElEX0VORF9UQUcgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VUYWcoY29udGV4dCwgMSAvKiBUYWdUeXBlLkVuZCAqLywgcGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKGNvbnRleHQsIDEyIC8qIEVycm9yQ29kZXMuSU5WQUxJRF9GSVJTVF9DSEFSQUNURVJfT0ZfVEFHX05BTUUgKi8sIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHBhcnNlQm9ndXNDb21tZW50KGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKC9bYS16XS9pLnRlc3Qoc1sxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHBhcnNlRWxlbWVudChjb250ZXh0LCBhbmNlc3RvcnMpO1xuICAgICAgICAgICAgICAgICAgICAvLyAyLnggPHRlbXBsYXRlPiB3aXRoIG5vIGRpcmVjdGl2ZSBjb21wYXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZCQxKFwiQ09NUElMRVJfTkFUSVZFX1RFTVBMQVRFXCIgLyogQ29tcGlsZXJEZXByZWNhdGlvblR5cGVzLkNPTVBJTEVSX05BVElWRV9URU1QTEFURSAqLywgY29udGV4dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudGFnID09PSAndGVtcGxhdGUnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhbm9kZS5wcm9wcy5zb21lKHAgPT4gcC50eXBlID09PSA3IC8qIE5vZGVUeXBlcy5ESVJFQ1RJVkUgKi8gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NwZWNpYWxUZW1wbGF0ZURpcmVjdGl2ZShwLm5hbWUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybkRlcHJlY2F0aW9uJDEoXCJDT01QSUxFUl9OQVRJVkVfVEVNUExBVEVcIiAvKiBDb21waWxlckRlcHJlY2F0aW9uVHlwZXMuQ09NUElMRVJfTkFUSVZFX1RFTVBMQVRFICovLCBjb250ZXh0LCBub2RlLmxvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzWzFdID09PSAnPycpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdEVycm9yKGNvbnRleHQsIDIxIC8qIEVycm9yQ29kZXMuVU5FWFBFQ1RFRF9RVUVTVElPTl9NQVJLX0lOU1RFQURfT0ZfVEFHX05BTUUgKi8sIDEpO1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gcGFyc2VCb2d1c0NvbW1lbnQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoY29udGV4dCwgMTIgLyogRXJyb3JDb2Rlcy5JTlZBTElEX0ZJUlNUX0NIQVJBQ1RFUl9PRl9UQUdfTkFNRSAqLywgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgbm9kZSA9IHBhcnNlVGV4dChjb250ZXh0LCBtb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcHVzaE5vZGUobm9kZXMsIG5vZGVbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHVzaE5vZGUobm9kZXMsIG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdoaXRlc3BhY2UgaGFuZGxpbmcgc3RyYXRlZ3kgbGlrZSB2MlxuICAgIGxldCByZW1vdmVkV2hpdGVzcGFjZSA9IGZhbHNlO1xuICAgIGlmIChtb2RlICE9PSAyIC8qIFRleHRNb2Rlcy5SQVdURVhUICovICYmIG1vZGUgIT09IDEgLyogVGV4dE1vZGVzLlJDREFUQSAqLykge1xuICAgICAgICBjb25zdCBzaG91bGRDb25kZW5zZSA9IGNvbnRleHQub3B0aW9ucy53aGl0ZXNwYWNlICE9PSAncHJlc2VydmUnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSAyIC8qIE5vZGVUeXBlcy5URVhUICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0LmluUHJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghL1teXFx0XFxyXFxuXFxmIF0vLnRlc3Qobm9kZS5jb250ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG5vZGVzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBub2Rlc1tpICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgaWY6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAtIHRoZSB3aGl0ZXNwYWNlIGlzIHRoZSBmaXJzdCBvciBsYXN0IG5vZGUsIG9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSAoY29uZGVuc2UgbW9kZSkgdGhlIHdoaXRlc3BhY2UgaXMgYmV0d2VlbiB0d29zIGNvbW1lbnRzLCBvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gKGNvbmRlbnNlIG1vZGUpIHRoZSB3aGl0ZXNwYWNlIGlzIGJldHdlZW4gY29tbWVudCBhbmQgZWxlbWVudCwgb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAtIChjb25kZW5zZSBtb2RlKSB0aGUgd2hpdGVzcGFjZSBpcyBiZXR3ZWVuIHR3byBlbGVtZW50cyBBTkQgY29udGFpbnMgbmV3bGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIW5leHQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2hvdWxkQ29uZGVuc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChwcmV2LnR5cGUgPT09IDMgLyogTm9kZVR5cGVzLkNPTU1FTlQgKi8gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQudHlwZSA9PT0gMyAvKiBOb2RlVHlwZXMuQ09NTUVOVCAqLykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2LnR5cGUgPT09IDMgLyogTm9kZVR5cGVzLkNPTU1FTlQgKi8gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0LnR5cGUgPT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJldi50eXBlID09PSAxIC8qIE5vZGVUeXBlcy5FTEVNRU5UICovICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dC50eXBlID09PSAzIC8qIE5vZGVUeXBlcy5DT01NRU5UICovKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHByZXYudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9bXFxyXFxuXS8udGVzdChub2RlLmNvbnRlbnQpKSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFdoaXRlc3BhY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhlIHdoaXRlc3BhY2UgaXMgY29uZGVuc2VkIGludG8gYSBzaW5nbGUgc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNvbnRlbnQgPSAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hvdWxkQ29uZGVuc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIGNvbmRlbnNlIG1vZGUsIGNvbnNlY3V0aXZlIHdoaXRlc3BhY2VzIGluIHRleHQgYXJlIGNvbmRlbnNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG93biB0byBhIHNpbmdsZSBzcGFjZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY29udGVudCA9IG5vZGUuY29udGVudC5yZXBsYWNlKC9bXFx0XFxyXFxuXFxmIF0rL2csICcgJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICM2NDEwIG5vcm1hbGl6ZSB3aW5kb3dzIG5ld2xpbmVzIGluIDxwcmU+OlxuICAgICAgICAgICAgICAgICAgICAvLyBpbiBTU1IsIGJyb3dzZXJzIG5vcm1hbGl6ZSBzZXJ2ZXItcmVuZGVyZWQgXFxyXFxuIGludG8gYSBzaW5nbGUgXFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoZSBET01cbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jb250ZW50ID0gbm9kZS5jb250ZW50LnJlcGxhY2UoL1xcclxcbi9nLCAnXFxuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIGNvbW1lbnQgbm9kZXMgaWYgZGVzaXJlZCBieSBjb25maWd1cmF0aW9uLlxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS50eXBlID09PSAzIC8qIE5vZGVUeXBlcy5DT01NRU5UICovICYmICFjb250ZXh0Lm9wdGlvbnMuY29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkV2hpdGVzcGFjZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbm9kZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LmluUHJlICYmIHBhcmVudCAmJiBjb250ZXh0Lm9wdGlvbnMuaXNQcmVUYWcocGFyZW50LnRhZykpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBsZWFkaW5nIG5ld2xpbmUgcGVyIGh0bWwgc3BlY1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZ3JvdXBpbmctY29udGVudC5odG1sI3RoZS1wcmUtZWxlbWVudFxuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBub2Rlc1swXTtcbiAgICAgICAgICAgIGlmIChmaXJzdCAmJiBmaXJzdC50eXBlID09PSAyIC8qIE5vZGVUeXBlcy5URVhUICovKSB7XG4gICAgICAgICAgICAgICAgZmlyc3QuY29udGVudCA9IGZpcnN0LmNvbnRlbnQucmVwbGFjZSgvXlxccj9cXG4vLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbW92ZWRXaGl0ZXNwYWNlID8gbm9kZXMuZmlsdGVyKEJvb2xlYW4pIDogbm9kZXM7XG59XG5mdW5jdGlvbiBwdXNoTm9kZShub2Rlcywgbm9kZSkge1xuICAgIGlmIChub2RlLnR5cGUgPT09IDIgLyogTm9kZVR5cGVzLlRFWFQgKi8pIHtcbiAgICAgICAgY29uc3QgcHJldiA9IGxhc3Qobm9kZXMpO1xuICAgICAgICAvLyBNZXJnZSBpZiBib3RoIHRoaXMgYW5kIHRoZSBwcmV2aW91cyBub2RlIGFyZSB0ZXh0IGFuZCB0aG9zZSBhcmVcbiAgICAgICAgLy8gY29uc2VjdXRpdmUuIFRoaXMgaGFwcGVucyBmb3IgY2FzZXMgbGlrZSBcImEgPCBiXCIuXG4gICAgICAgIGlmIChwcmV2ICYmXG4gICAgICAgICAgICBwcmV2LnR5cGUgPT09IDIgLyogTm9kZVR5cGVzLlRFWFQgKi8gJiZcbiAgICAgICAgICAgIHByZXYubG9jLmVuZC5vZmZzZXQgPT09IG5vZGUubG9jLnN0YXJ0Lm9mZnNldCkge1xuICAgICAgICAgICAgcHJldi5jb250ZW50ICs9IG5vZGUuY29udGVudDtcbiAgICAgICAgICAgIHByZXYubG9jLmVuZCA9IG5vZGUubG9jLmVuZDtcbiAgICAgICAgICAgIHByZXYubG9jLnNvdXJjZSArPSBub2RlLmxvYy5zb3VyY2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgbm9kZXMucHVzaChub2RlKTtcbn1cbmZ1bmN0aW9uIHBhcnNlQ0RBVEEoY29udGV4dCwgYW5jZXN0b3JzKSB7XG4gICAgYWR2YW5jZUJ5KGNvbnRleHQsIDkpO1xuICAgIGNvbnN0IG5vZGVzID0gcGFyc2VDaGlsZHJlbihjb250ZXh0LCAzIC8qIFRleHRNb2Rlcy5DREFUQSAqLywgYW5jZXN0b3JzKTtcbiAgICBpZiAoY29udGV4dC5zb3VyY2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCA2IC8qIEVycm9yQ29kZXMuRU9GX0lOX0NEQVRBICovKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFkdmFuY2VCeShjb250ZXh0LCAzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzO1xufVxuZnVuY3Rpb24gcGFyc2VDb21tZW50KGNvbnRleHQpIHtcbiAgICBjb25zdCBzdGFydCA9IGdldEN1cnNvcihjb250ZXh0KTtcbiAgICBsZXQgY29udGVudDtcbiAgICAvLyBSZWd1bGFyIGNvbW1lbnQuXG4gICAgY29uc3QgbWF0Y2ggPSAvLS0oXFwhKT8+Ly5leGVjKGNvbnRleHQuc291cmNlKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZXh0LnNvdXJjZS5zbGljZSg0KTtcbiAgICAgICAgYWR2YW5jZUJ5KGNvbnRleHQsIGNvbnRleHQuc291cmNlLmxlbmd0aCk7XG4gICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCA3IC8qIEVycm9yQ29kZXMuRU9GX0lOX0NPTU1FTlQgKi8pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKG1hdGNoLmluZGV4IDw9IDMpIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCAwIC8qIEVycm9yQ29kZXMuQUJSVVBUX0NMT1NJTkdfT0ZfRU1QVFlfQ09NTUVOVCAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IoY29udGV4dCwgMTAgLyogRXJyb3JDb2Rlcy5JTkNPUlJFQ1RMWV9DTE9TRURfQ09NTUVOVCAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGVudCA9IGNvbnRleHQuc291cmNlLnNsaWNlKDQsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgLy8gQWR2YW5jaW5nIHdpdGggcmVwb3J0aW5nIG5lc3RlZCBjb21tZW50cy5cbiAgICAgICAgY29uc3QgcyA9IGNvbnRleHQuc291cmNlLnNsaWNlKDAsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgbGV0IHByZXZJbmRleCA9IDEsIG5lc3RlZEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKChuZXN0ZWRJbmRleCA9IHMuaW5kZXhPZignPCEtLScsIHByZXZJbmRleCkpICE9PSAtMSkge1xuICAgICAgICAgICAgYWR2YW5jZUJ5KGNvbnRleHQsIG5lc3RlZEluZGV4IC0gcHJldkluZGV4ICsgMSk7XG4gICAgICAgICAgICBpZiAobmVzdGVkSW5kZXggKyA0IDwgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBlbWl0RXJyb3IoY29udGV4dCwgMTYgLyogRXJyb3JDb2Rlcy5ORVNURURfQ09NTUVOVCAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2SW5kZXggPSBuZXN0ZWRJbmRleCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgYWR2YW5jZUJ5KGNvbnRleHQsIG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoIC0gcHJldkluZGV4ICsgMSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IDMgLyogTm9kZVR5cGVzLkNPTU1FTlQgKi8sXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGxvYzogZ2V0U2VsZWN0aW9uKGNvbnRleHQsIHN0YXJ0KVxuICAgIH07XG59XG5mdW5jdGlvbiBwYXJzZUJvZ3VzQ29tbWVudChjb250ZXh0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBnZXRDdXJzb3IoY29udGV4dCk7XG4gICAgY29uc3QgY29udGVudFN0YXJ0ID0gY29udGV4dC5zb3VyY2VbMV0gPT09ICc/JyA/IDEgOiAyO1xuICAgIGxldCBjb250ZW50O1xuICAgIGNvbnN0IGNsb3NlSW5kZXggPSBjb250ZXh0LnNvdXJjZS5pbmRleE9mKCc+Jyk7XG4gICAgaWYgKGNsb3NlSW5kZXggPT09IC0xKSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZXh0LnNvdXJjZS5zbGljZShjb250ZW50U3RhcnQpO1xuICAgICAgICBhZHZhbmNlQnkoY29udGV4dCwgY29udGV4dC5zb3VyY2UubGVuZ3RoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZXh0LnNvdXJjZS5zbGljZShjb250ZW50U3RhcnQsIGNsb3NlSW5kZXgpO1xuICAgICAgICBhZHZhbmNlQnkoY29udGV4dCwgY2xvc2VJbmRleCArIDEpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAzIC8qIE5vZGVUeXBlcy5DT01NRU5UICovLFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBsb2M6IGdldFNlbGVjdGlvbihjb250ZXh0LCBzdGFydClcbiAgICB9O1xufVxuZnVuY3Rpb24gcGFyc2VFbGVtZW50KGNvbnRleHQsIGFuY2VzdG9ycykge1xuICAgIC8vIFN0YXJ0IHRhZy5cbiAgICBjb25zdCB3YXNJblByZSA9IGNvbnRleHQuaW5QcmU7XG4gICAgY29uc3Qgd2FzSW5WUHJlID0gY29udGV4dC5pblZQcmU7XG4gICAgY29uc3QgcGFyZW50ID0gbGFzdChhbmNlc3RvcnMpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBwYXJzZVRhZyhjb250ZXh0LCAwIC8qIFRhZ1R5cGUuU3RhcnQgKi8sIHBhcmVudCk7XG4gICAgY29uc3QgaXNQcmVCb3VuZGFyeSA9IGNvbnRleHQuaW5QcmUgJiYgIXdhc0luUHJlO1xuICAgIGNvbnN0IGlzVlByZUJvdW5kYXJ5ID0gY29udGV4dC5pblZQcmUgJiYgIXdhc0luVlByZTtcbiAgICBpZiAoZWxlbWVudC5pc1NlbGZDbG9zaW5nIHx8IGNvbnRleHQub3B0aW9ucy5pc1ZvaWRUYWcoZWxlbWVudC50YWcpKSB7XG4gICAgICAgIC8vICM0MDMwIHNlbGYtY2xvc2luZyA8cHJlPiB0YWdcbiAgICAgICAgaWYgKGlzUHJlQm91bmRhcnkpIHtcbiAgICAgICAgICAgIGNvbnRleHQuaW5QcmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNWUHJlQm91bmRhcnkpIHtcbiAgICAgICAgICAgIGNvbnRleHQuaW5WUHJlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIC8vIENoaWxkcmVuLlxuICAgIGFuY2VzdG9ycy5wdXNoKGVsZW1lbnQpO1xuICAgIGNvbnN0IG1vZGUgPSBjb250ZXh0Lm9wdGlvbnMuZ2V0VGV4dE1vZGUoZWxlbWVudCwgcGFyZW50KTtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHBhcnNlQ2hpbGRyZW4oY29udGV4dCwgbW9kZSwgYW5jZXN0b3JzKTtcbiAgICBhbmNlc3RvcnMucG9wKCk7XG4gICAgLy8gMi54IGlubGluZS10ZW1wbGF0ZSBjb21wYXRcbiAgICB7XG4gICAgICAgIGNvbnN0IGlubGluZVRlbXBsYXRlUHJvcCA9IGVsZW1lbnQucHJvcHMuZmluZChwID0+IHAudHlwZSA9PT0gNiAvKiBOb2RlVHlwZXMuQVRUUklCVVRFICovICYmIHAubmFtZSA9PT0gJ2lubGluZS10ZW1wbGF0ZScpO1xuICAgICAgICBpZiAoaW5saW5lVGVtcGxhdGVQcm9wICYmXG4gICAgICAgICAgICBjaGVja0NvbXBhdEVuYWJsZWQkMShcIkNPTVBJTEVSX0lOTElORV9URU1QTEFURVwiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9JTkxJTkVfVEVNUExBVEUgKi8sIGNvbnRleHQsIGlubGluZVRlbXBsYXRlUHJvcC5sb2MpKSB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBnZXRTZWxlY3Rpb24oY29udGV4dCwgZWxlbWVudC5sb2MuZW5kKTtcbiAgICAgICAgICAgIGlubGluZVRlbXBsYXRlUHJvcC52YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAyIC8qIE5vZGVUeXBlcy5URVhUICovLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGxvYy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgbG9jXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnQuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAvLyBFbmQgdGFnLlxuICAgIGlmIChzdGFydHNXaXRoRW5kVGFnT3Blbihjb250ZXh0LnNvdXJjZSwgZWxlbWVudC50YWcpKSB7XG4gICAgICAgIHBhcnNlVGFnKGNvbnRleHQsIDEgLyogVGFnVHlwZS5FbmQgKi8sIHBhcmVudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbWl0RXJyb3IoY29udGV4dCwgMjQgLyogRXJyb3JDb2Rlcy5YX01JU1NJTkdfRU5EX1RBRyAqLywgMCwgZWxlbWVudC5sb2Muc3RhcnQpO1xuICAgICAgICBpZiAoY29udGV4dC5zb3VyY2UubGVuZ3RoID09PSAwICYmIGVsZW1lbnQudGFnLnRvTG93ZXJDYXNlKCkgPT09ICdzY3JpcHQnKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgaWYgKGZpcnN0ICYmIHN0YXJ0c1dpdGgoZmlyc3QubG9jLnNvdXJjZSwgJzwhLS0nKSkge1xuICAgICAgICAgICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCA4IC8qIEVycm9yQ29kZXMuRU9GX0lOX1NDUklQVF9IVE1MX0NPTU1FTlRfTElLRV9URVhUICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50LmxvYyA9IGdldFNlbGVjdGlvbihjb250ZXh0LCBlbGVtZW50LmxvYy5zdGFydCk7XG4gICAgaWYgKGlzUHJlQm91bmRhcnkpIHtcbiAgICAgICAgY29udGV4dC5pblByZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNWUHJlQm91bmRhcnkpIHtcbiAgICAgICAgY29udGV4dC5pblZQcmUgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG5jb25zdCBpc1NwZWNpYWxUZW1wbGF0ZURpcmVjdGl2ZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgaWYsZWxzZSxlbHNlLWlmLGZvcixzbG90YCk7XG5mdW5jdGlvbiBwYXJzZVRhZyhjb250ZXh0LCB0eXBlLCBwYXJlbnQpIHtcbiAgICAvLyBUYWcgb3Blbi5cbiAgICBjb25zdCBzdGFydCA9IGdldEN1cnNvcihjb250ZXh0KTtcbiAgICBjb25zdCBtYXRjaCA9IC9ePFxcLz8oW2Etel1bXlxcdFxcclxcblxcZiAvPl0qKS9pLmV4ZWMoY29udGV4dC5zb3VyY2UpO1xuICAgIGNvbnN0IHRhZyA9IG1hdGNoWzFdO1xuICAgIGNvbnN0IG5zID0gY29udGV4dC5vcHRpb25zLmdldE5hbWVzcGFjZSh0YWcsIHBhcmVudCk7XG4gICAgYWR2YW5jZUJ5KGNvbnRleHQsIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgYWR2YW5jZVNwYWNlcyhjb250ZXh0KTtcbiAgICAvLyBzYXZlIGN1cnJlbnQgc3RhdGUgaW4gY2FzZSB3ZSBuZWVkIHRvIHJlLXBhcnNlIGF0dHJpYnV0ZXMgd2l0aCB2LXByZVxuICAgIGNvbnN0IGN1cnNvciA9IGdldEN1cnNvcihjb250ZXh0KTtcbiAgICBjb25zdCBjdXJyZW50U291cmNlID0gY29udGV4dC5zb3VyY2U7XG4gICAgLy8gY2hlY2sgPHByZT4gdGFnXG4gICAgaWYgKGNvbnRleHQub3B0aW9ucy5pc1ByZVRhZyh0YWcpKSB7XG4gICAgICAgIGNvbnRleHQuaW5QcmUgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBBdHRyaWJ1dGVzLlxuICAgIGxldCBwcm9wcyA9IHBhcnNlQXR0cmlidXRlcyhjb250ZXh0LCB0eXBlKTtcbiAgICAvLyBjaGVjayB2LXByZVxuICAgIGlmICh0eXBlID09PSAwIC8qIFRhZ1R5cGUuU3RhcnQgKi8gJiZcbiAgICAgICAgIWNvbnRleHQuaW5WUHJlICYmXG4gICAgICAgIHByb3BzLnNvbWUocCA9PiBwLnR5cGUgPT09IDcgLyogTm9kZVR5cGVzLkRJUkVDVElWRSAqLyAmJiBwLm5hbWUgPT09ICdwcmUnKSkge1xuICAgICAgICBjb250ZXh0LmluVlByZSA9IHRydWU7XG4gICAgICAgIC8vIHJlc2V0IGNvbnRleHRcbiAgICAgICAgZXh0ZW5kKGNvbnRleHQsIGN1cnNvcik7XG4gICAgICAgIGNvbnRleHQuc291cmNlID0gY3VycmVudFNvdXJjZTtcbiAgICAgICAgLy8gcmUtcGFyc2UgYXR0cnMgYW5kIGZpbHRlciBvdXQgdi1wcmUgaXRzZWxmXG4gICAgICAgIHByb3BzID0gcGFyc2VBdHRyaWJ1dGVzKGNvbnRleHQsIHR5cGUpLmZpbHRlcihwID0+IHAubmFtZSAhPT0gJ3YtcHJlJyk7XG4gICAgfVxuICAgIC8vIFRhZyBjbG9zZS5cbiAgICBsZXQgaXNTZWxmQ2xvc2luZyA9IGZhbHNlO1xuICAgIGlmIChjb250ZXh0LnNvdXJjZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZW1pdEVycm9yKGNvbnRleHQsIDkgLyogRXJyb3JDb2Rlcy5FT0ZfSU5fVEFHICovKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlzU2VsZkNsb3NpbmcgPSBzdGFydHNXaXRoKGNvbnRleHQuc291cmNlLCAnLz4nKTtcbiAgICAgICAgaWYgKHR5cGUgPT09IDEgLyogVGFnVHlwZS5FbmQgKi8gJiYgaXNTZWxmQ2xvc2luZykge1xuICAgICAgICAgICAgZW1pdEVycm9yKGNvbnRleHQsIDQgLyogRXJyb3JDb2Rlcy5FTkRfVEFHX1dJVEhfVFJBSUxJTkdfU09MSURVUyAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgYWR2YW5jZUJ5KGNvbnRleHQsIGlzU2VsZkNsb3NpbmcgPyAyIDogMSk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAxIC8qIFRhZ1R5cGUuRW5kICovKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gMi54IGRlcHJlY2F0aW9uIGNoZWNrc1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgaXNDb21wYXRFbmFibGVkJDEoXCJDT01QSUxFUl9WX0lGX1ZfRk9SX1BSRUNFREVOQ0VcIiAvKiBDb21waWxlckRlcHJlY2F0aW9uVHlwZXMuQ09NUElMRVJfVl9JRl9WX0ZPUl9QUkVDRURFTkNFICovLCBjb250ZXh0KSkge1xuICAgICAgICBsZXQgaGFzSWYgPSBmYWxzZTtcbiAgICAgICAgbGV0IGhhc0ZvciA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gcHJvcHNbaV07XG4gICAgICAgICAgICBpZiAocC50eXBlID09PSA3IC8qIE5vZGVUeXBlcy5ESVJFQ1RJVkUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAocC5uYW1lID09PSAnaWYnKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0lmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocC5uYW1lID09PSAnZm9yJykge1xuICAgICAgICAgICAgICAgICAgICBoYXNGb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNJZiAmJiBoYXNGb3IpIHtcbiAgICAgICAgICAgICAgICB3YXJuRGVwcmVjYXRpb24kMShcIkNPTVBJTEVSX1ZfSUZfVl9GT1JfUFJFQ0VERU5DRVwiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9WX0lGX1ZfRk9SX1BSRUNFREVOQ0UgKi8sIGNvbnRleHQsIGdldFNlbGVjdGlvbihjb250ZXh0LCBzdGFydCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCB0YWdUeXBlID0gMCAvKiBFbGVtZW50VHlwZXMuRUxFTUVOVCAqLztcbiAgICBpZiAoIWNvbnRleHQuaW5WUHJlKSB7XG4gICAgICAgIGlmICh0YWcgPT09ICdzbG90Jykge1xuICAgICAgICAgICAgdGFnVHlwZSA9IDIgLyogRWxlbWVudFR5cGVzLlNMT1QgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMuc29tZShwID0+IHAudHlwZSA9PT0gNyAvKiBOb2RlVHlwZXMuRElSRUNUSVZFICovICYmIGlzU3BlY2lhbFRlbXBsYXRlRGlyZWN0aXZlKHAubmFtZSkpKSB7XG4gICAgICAgICAgICAgICAgdGFnVHlwZSA9IDMgLyogRWxlbWVudFR5cGVzLlRFTVBMQVRFICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ29tcG9uZW50KHRhZywgcHJvcHMsIGNvbnRleHQpKSB7XG4gICAgICAgICAgICB0YWdUeXBlID0gMSAvKiBFbGVtZW50VHlwZXMuQ09NUE9ORU5UICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8sXG4gICAgICAgIG5zLFxuICAgICAgICB0YWcsXG4gICAgICAgIHRhZ1R5cGUsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBpc1NlbGZDbG9zaW5nLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGxvYzogZ2V0U2VsZWN0aW9uKGNvbnRleHQsIHN0YXJ0KSxcbiAgICAgICAgY29kZWdlbk5vZGU6IHVuZGVmaW5lZCAvLyB0byBiZSBjcmVhdGVkIGR1cmluZyB0cmFuc2Zvcm0gcGhhc2VcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnQodGFnLCBwcm9wcywgY29udGV4dCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBjb250ZXh0Lm9wdGlvbnM7XG4gICAgaWYgKG9wdGlvbnMuaXNDdXN0b21FbGVtZW50KHRhZykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAnY29tcG9uZW50JyB8fFxuICAgICAgICAvXltBLVpdLy50ZXN0KHRhZykgfHxcbiAgICAgICAgaXNDb3JlQ29tcG9uZW50KHRhZykgfHxcbiAgICAgICAgKG9wdGlvbnMuaXNCdWlsdEluQ29tcG9uZW50ICYmIG9wdGlvbnMuaXNCdWlsdEluQ29tcG9uZW50KHRhZykpIHx8XG4gICAgICAgIChvcHRpb25zLmlzTmF0aXZlVGFnICYmICFvcHRpb25zLmlzTmF0aXZlVGFnKHRhZykpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBhdCB0aGlzIHBvaW50IHRoZSB0YWcgc2hvdWxkIGJlIGEgbmF0aXZlIHRhZywgYnV0IGNoZWNrIGZvciBwb3RlbnRpYWwgXCJpc1wiXG4gICAgLy8gY2FzdGluZ1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcCA9IHByb3BzW2ldO1xuICAgICAgICBpZiAocC50eXBlID09PSA2IC8qIE5vZGVUeXBlcy5BVFRSSUJVVEUgKi8pIHtcbiAgICAgICAgICAgIGlmIChwLm5hbWUgPT09ICdpcycgJiYgcC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwLnZhbHVlLmNvbnRlbnQuc3RhcnRzV2l0aCgndnVlOicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGVja0NvbXBhdEVuYWJsZWQkMShcIkNPTVBJTEVSX0lTX09OX0VMRU1FTlRcIiAvKiBDb21waWxlckRlcHJlY2F0aW9uVHlwZXMuQ09NUElMRVJfSVNfT05fRUxFTUVOVCAqLywgY29udGV4dCwgcC5sb2MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRpcmVjdGl2ZVxuICAgICAgICAgICAgLy8gdi1pcyAoVE9ETyBEZXByZWNhdGUpXG4gICAgICAgICAgICBpZiAocC5uYW1lID09PSAnaXMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIC8vIDppcyBvbiBwbGFpbiBlbGVtZW50IC0gb25seSB0cmVhdCBhcyBjb21wb25lbnQgaW4gY29tcGF0IG1vZGVcbiAgICAgICAgICAgIHAubmFtZSA9PT0gJ2JpbmQnICYmXG4gICAgICAgICAgICAgICAgaXNTdGF0aWNBcmdPZihwLmFyZywgJ2lzJykgJiZcbiAgICAgICAgICAgICAgICB0cnVlICYmXG4gICAgICAgICAgICAgICAgY2hlY2tDb21wYXRFbmFibGVkJDEoXCJDT01QSUxFUl9JU19PTl9FTEVNRU5UXCIgLyogQ29tcGlsZXJEZXByZWNhdGlvblR5cGVzLkNPTVBJTEVSX0lTX09OX0VMRU1FTlQgKi8sIGNvbnRleHQsIHAubG9jKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKGNvbnRleHQsIHR5cGUpIHtcbiAgICBjb25zdCBwcm9wcyA9IFtdO1xuICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgIHdoaWxlIChjb250ZXh0LnNvdXJjZS5sZW5ndGggPiAwICYmXG4gICAgICAgICFzdGFydHNXaXRoKGNvbnRleHQuc291cmNlLCAnPicpICYmXG4gICAgICAgICFzdGFydHNXaXRoKGNvbnRleHQuc291cmNlLCAnLz4nKSkge1xuICAgICAgICBpZiAoc3RhcnRzV2l0aChjb250ZXh0LnNvdXJjZSwgJy8nKSkge1xuICAgICAgICAgICAgZW1pdEVycm9yKGNvbnRleHQsIDIyIC8qIEVycm9yQ29kZXMuVU5FWFBFQ1RFRF9TT0xJRFVTX0lOX1RBRyAqLyk7XG4gICAgICAgICAgICBhZHZhbmNlQnkoY29udGV4dCwgMSk7XG4gICAgICAgICAgICBhZHZhbmNlU3BhY2VzKGNvbnRleHQpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IDEgLyogVGFnVHlwZS5FbmQgKi8pIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCAzIC8qIEVycm9yQ29kZXMuRU5EX1RBR19XSVRIX0FUVFJJQlVURVMgKi8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0dHIgPSBwYXJzZUF0dHJpYnV0ZShjb250ZXh0LCBhdHRyaWJ1dGVOYW1lcyk7XG4gICAgICAgIC8vIFRyaW0gd2hpdGVzcGFjZSBiZXR3ZWVuIGNsYXNzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb3JlL2lzc3Vlcy80MjUxXG4gICAgICAgIGlmIChhdHRyLnR5cGUgPT09IDYgLyogTm9kZVR5cGVzLkFUVFJJQlVURSAqLyAmJlxuICAgICAgICAgICAgYXR0ci52YWx1ZSAmJlxuICAgICAgICAgICAgYXR0ci5uYW1lID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICBhdHRyLnZhbHVlLmNvbnRlbnQgPSBhdHRyLnZhbHVlLmNvbnRlbnQucmVwbGFjZSgvXFxzKy9nLCAnICcpLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gMCAvKiBUYWdUeXBlLlN0YXJ0ICovKSB7XG4gICAgICAgICAgICBwcm9wcy5wdXNoKGF0dHIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgvXlteXFx0XFxyXFxuXFxmIC8+XS8udGVzdChjb250ZXh0LnNvdXJjZSkpIHtcbiAgICAgICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCAxNSAvKiBFcnJvckNvZGVzLk1JU1NJTkdfV0hJVEVTUEFDRV9CRVRXRUVOX0FUVFJJQlVURVMgKi8pO1xuICAgICAgICB9XG4gICAgICAgIGFkdmFuY2VTcGFjZXMoY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIHBhcnNlQXR0cmlidXRlKGNvbnRleHQsIG5hbWVTZXQpIHtcbiAgICAvLyBOYW1lLlxuICAgIGNvbnN0IHN0YXJ0ID0gZ2V0Q3Vyc29yKGNvbnRleHQpO1xuICAgIGNvbnN0IG1hdGNoID0gL15bXlxcdFxcclxcblxcZiAvPl1bXlxcdFxcclxcblxcZiAvPj1dKi8uZXhlYyhjb250ZXh0LnNvdXJjZSk7XG4gICAgY29uc3QgbmFtZSA9IG1hdGNoWzBdO1xuICAgIGlmIChuYW1lU2V0LmhhcyhuYW1lKSkge1xuICAgICAgICBlbWl0RXJyb3IoY29udGV4dCwgMiAvKiBFcnJvckNvZGVzLkRVUExJQ0FURV9BVFRSSUJVVEUgKi8pO1xuICAgIH1cbiAgICBuYW1lU2V0LmFkZChuYW1lKTtcbiAgICBpZiAobmFtZVswXSA9PT0gJz0nKSB7XG4gICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCAxOSAvKiBFcnJvckNvZGVzLlVORVhQRUNURURfRVFVQUxTX1NJR05fQkVGT1JFX0FUVFJJQlVURV9OQU1FICovKTtcbiAgICB9XG4gICAge1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gL1tcIic8XS9nO1xuICAgICAgICBsZXQgbTtcbiAgICAgICAgd2hpbGUgKChtID0gcGF0dGVybi5leGVjKG5hbWUpKSkge1xuICAgICAgICAgICAgZW1pdEVycm9yKGNvbnRleHQsIDE3IC8qIEVycm9yQ29kZXMuVU5FWFBFQ1RFRF9DSEFSQUNURVJfSU5fQVRUUklCVVRFX05BTUUgKi8sIG0uaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkdmFuY2VCeShjb250ZXh0LCBuYW1lLmxlbmd0aCk7XG4gICAgLy8gVmFsdWVcbiAgICBsZXQgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgaWYgKC9eW1xcdFxcclxcblxcZiBdKj0vLnRlc3QoY29udGV4dC5zb3VyY2UpKSB7XG4gICAgICAgIGFkdmFuY2VTcGFjZXMoY29udGV4dCk7XG4gICAgICAgIGFkdmFuY2VCeShjb250ZXh0LCAxKTtcbiAgICAgICAgYWR2YW5jZVNwYWNlcyhjb250ZXh0KTtcbiAgICAgICAgdmFsdWUgPSBwYXJzZUF0dHJpYnV0ZVZhbHVlKGNvbnRleHQpO1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICBlbWl0RXJyb3IoY29udGV4dCwgMTMgLyogRXJyb3JDb2Rlcy5NSVNTSU5HX0FUVFJJQlVURV9WQUxVRSAqLyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbG9jID0gZ2V0U2VsZWN0aW9uKGNvbnRleHQsIHN0YXJ0KTtcbiAgICBpZiAoIWNvbnRleHQuaW5WUHJlICYmIC9eKHYtW0EtWmEtejAtOS1dfDp8XFwufEB8IykvLnRlc3QobmFtZSkpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSAvKD86XnYtKFthLXowLTktXSspKT8oPzooPzo6fF5cXC58XkB8XiMpKFxcW1teXFxdXStcXF18W15cXC5dKykpPyguKyk/JC9pLmV4ZWMobmFtZSk7XG4gICAgICAgIGxldCBpc1Byb3BTaG9ydGhhbmQgPSBzdGFydHNXaXRoKG5hbWUsICcuJyk7XG4gICAgICAgIGxldCBkaXJOYW1lID0gbWF0Y2hbMV0gfHxcbiAgICAgICAgICAgIChpc1Byb3BTaG9ydGhhbmQgfHwgc3RhcnRzV2l0aChuYW1lLCAnOicpXG4gICAgICAgICAgICAgICAgPyAnYmluZCdcbiAgICAgICAgICAgICAgICA6IHN0YXJ0c1dpdGgobmFtZSwgJ0AnKVxuICAgICAgICAgICAgICAgICAgICA/ICdvbidcbiAgICAgICAgICAgICAgICAgICAgOiAnc2xvdCcpO1xuICAgICAgICBsZXQgYXJnO1xuICAgICAgICBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgICAgIGNvbnN0IGlzU2xvdCA9IGRpck5hbWUgPT09ICdzbG90JztcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gbmFtZS5sYXN0SW5kZXhPZihtYXRjaFsyXSk7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBnZXRTZWxlY3Rpb24oY29udGV4dCwgZ2V0TmV3UG9zaXRpb24oY29udGV4dCwgc3RhcnQsIHN0YXJ0T2Zmc2V0KSwgZ2V0TmV3UG9zaXRpb24oY29udGV4dCwgc3RhcnQsIHN0YXJ0T2Zmc2V0ICsgbWF0Y2hbMl0ubGVuZ3RoICsgKChpc1Nsb3QgJiYgbWF0Y2hbM10pIHx8ICcnKS5sZW5ndGgpKTtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gbWF0Y2hbMl07XG4gICAgICAgICAgICBsZXQgaXNTdGF0aWMgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGNvbnRlbnQuc3RhcnRzV2l0aCgnWycpKSB7XG4gICAgICAgICAgICAgICAgaXNTdGF0aWMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnQuZW5kc1dpdGgoJ10nKSkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0RXJyb3IoY29udGV4dCwgMjcgLyogRXJyb3JDb2Rlcy5YX01JU1NJTkdfRFlOQU1JQ19ESVJFQ1RJVkVfQVJHVU1FTlRfRU5EICovKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5zbGljZSgxLCBjb250ZW50Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzU2xvdCkge1xuICAgICAgICAgICAgICAgIC8vICMxMjQxIHNwZWNpYWwgY2FzZSBmb3Igdi1zbG90OiB2dWV0aWZ5IHJlbGllcyBleHRlbnNpdmVseSBvbiBzbG90XG4gICAgICAgICAgICAgICAgLy8gbmFtZXMgY29udGFpbmluZyBkb3RzLiB2LXNsb3QgZG9lc24ndCBoYXZlIGFueSBtb2RpZmllcnMgYW5kIFZ1ZSAyLnhcbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0cyBzdWNoIHVzYWdlIHNvIHdlIGFyZSBrZWVwaW5nIGl0IGNvbnNpc3RlbnQgd2l0aCAyLnguXG4gICAgICAgICAgICAgICAgY29udGVudCArPSBtYXRjaFszXSB8fCAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLyxcbiAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICAgIGlzU3RhdGljLFxuICAgICAgICAgICAgICAgIGNvbnN0VHlwZTogaXNTdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgPyAzIC8qIENvbnN0YW50VHlwZXMuQ0FOX1NUUklOR0lGWSAqL1xuICAgICAgICAgICAgICAgICAgICA6IDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi8sXG4gICAgICAgICAgICAgICAgbG9jXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5pc1F1b3RlZCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVMb2MgPSB2YWx1ZS5sb2M7XG4gICAgICAgICAgICB2YWx1ZUxvYy5zdGFydC5vZmZzZXQrKztcbiAgICAgICAgICAgIHZhbHVlTG9jLnN0YXJ0LmNvbHVtbisrO1xuICAgICAgICAgICAgdmFsdWVMb2MuZW5kID0gYWR2YW5jZVBvc2l0aW9uV2l0aENsb25lKHZhbHVlTG9jLnN0YXJ0LCB2YWx1ZS5jb250ZW50KTtcbiAgICAgICAgICAgIHZhbHVlTG9jLnNvdXJjZSA9IHZhbHVlTG9jLnNvdXJjZS5zbGljZSgxLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kaWZpZXJzID0gbWF0Y2hbM10gPyBtYXRjaFszXS5zbGljZSgxKS5zcGxpdCgnLicpIDogW107XG4gICAgICAgIGlmIChpc1Byb3BTaG9ydGhhbmQpXG4gICAgICAgICAgICBtb2RpZmllcnMucHVzaCgncHJvcCcpO1xuICAgICAgICAvLyAyLnggY29tcGF0IHYtYmluZDpmb28uc3luYyAtPiB2LW1vZGVsOmZvb1xuICAgICAgICBpZiAoZGlyTmFtZSA9PT0gJ2JpbmQnICYmIGFyZykge1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5pbmNsdWRlcygnc3luYycpICYmXG4gICAgICAgICAgICAgICAgY2hlY2tDb21wYXRFbmFibGVkJDEoXCJDT01QSUxFUl9WX0JJTkRfU1lOQ1wiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9WX0JJTkRfU1lOQyAqLywgY29udGV4dCwgbG9jLCBhcmcubG9jLnNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBkaXJOYW1lID0gJ21vZGVsJztcbiAgICAgICAgICAgICAgICBtb2RpZmllcnMuc3BsaWNlKG1vZGlmaWVycy5pbmRleE9mKCdzeW5jJyksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtb2RpZmllcnMuaW5jbHVkZXMoJ3Byb3AnKSkge1xuICAgICAgICAgICAgICAgIGNoZWNrQ29tcGF0RW5hYmxlZCQxKFwiQ09NUElMRVJfVl9CSU5EX1BST1BcIiAvKiBDb21waWxlckRlcHJlY2F0aW9uVHlwZXMuQ09NUElMRVJfVl9CSU5EX1BST1AgKi8sIGNvbnRleHQsIGxvYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IDcgLyogTm9kZVR5cGVzLkRJUkVDVElWRSAqLyxcbiAgICAgICAgICAgIG5hbWU6IGRpck5hbWUsXG4gICAgICAgICAgICBleHA6IHZhbHVlICYmIHtcbiAgICAgICAgICAgICAgICB0eXBlOiA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB2YWx1ZS5jb250ZW50LFxuICAgICAgICAgICAgICAgIGlzU3RhdGljOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAvLyBUcmVhdCBhcyBub24tY29uc3RhbnQgYnkgZGVmYXVsdC4gVGhpcyBjYW4gYmUgcG90ZW50aWFsbHkgc2V0IHRvXG4gICAgICAgICAgICAgICAgLy8gb3RoZXIgdmFsdWVzIGJ5IGB0cmFuc2Zvcm1FeHByZXNzaW9uYCB0byBtYWtlIGl0IGVsaWdpYmxlIGZvciBob2lzdGluZy5cbiAgICAgICAgICAgICAgICBjb25zdFR5cGU6IDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi8sXG4gICAgICAgICAgICAgICAgbG9jOiB2YWx1ZS5sb2NcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcmcsXG4gICAgICAgICAgICBtb2RpZmllcnMsXG4gICAgICAgICAgICBsb2NcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gbWlzc2luZyBkaXJlY3RpdmUgbmFtZSBvciBpbGxlZ2FsIGRpcmVjdGl2ZSBuYW1lXG4gICAgaWYgKCFjb250ZXh0LmluVlByZSAmJiBzdGFydHNXaXRoKG5hbWUsICd2LScpKSB7XG4gICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCAyNiAvKiBFcnJvckNvZGVzLlhfTUlTU0lOR19ESVJFQ1RJVkVfTkFNRSAqLyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IDYgLyogTm9kZVR5cGVzLkFUVFJJQlVURSAqLyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlICYmIHtcbiAgICAgICAgICAgIHR5cGU6IDIgLyogTm9kZVR5cGVzLlRFWFQgKi8sXG4gICAgICAgICAgICBjb250ZW50OiB2YWx1ZS5jb250ZW50LFxuICAgICAgICAgICAgbG9jOiB2YWx1ZS5sb2NcbiAgICAgICAgfSxcbiAgICAgICAgbG9jXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlQXR0cmlidXRlVmFsdWUoY29udGV4dCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gZ2V0Q3Vyc29yKGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50O1xuICAgIGNvbnN0IHF1b3RlID0gY29udGV4dC5zb3VyY2VbMF07XG4gICAgY29uc3QgaXNRdW90ZWQgPSBxdW90ZSA9PT0gYFwiYCB8fCBxdW90ZSA9PT0gYCdgO1xuICAgIGlmIChpc1F1b3RlZCkge1xuICAgICAgICAvLyBRdW90ZWQgdmFsdWUuXG4gICAgICAgIGFkdmFuY2VCeShjb250ZXh0LCAxKTtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSBjb250ZXh0LnNvdXJjZS5pbmRleE9mKHF1b3RlKTtcbiAgICAgICAgaWYgKGVuZEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgY29udGVudCA9IHBhcnNlVGV4dERhdGEoY29udGV4dCwgY29udGV4dC5zb3VyY2UubGVuZ3RoLCA0IC8qIFRleHRNb2Rlcy5BVFRSSUJVVEVfVkFMVUUgKi8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGVudCA9IHBhcnNlVGV4dERhdGEoY29udGV4dCwgZW5kSW5kZXgsIDQgLyogVGV4dE1vZGVzLkFUVFJJQlVURV9WQUxVRSAqLyk7XG4gICAgICAgICAgICBhZHZhbmNlQnkoY29udGV4dCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFVucXVvdGVkXG4gICAgICAgIGNvbnN0IG1hdGNoID0gL15bXlxcdFxcclxcblxcZiA+XSsvLmV4ZWMoY29udGV4dC5zb3VyY2UpO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVuZXhwZWN0ZWRDaGFycyA9IC9bXCInPD1gXS9nO1xuICAgICAgICBsZXQgbTtcbiAgICAgICAgd2hpbGUgKChtID0gdW5leHBlY3RlZENoYXJzLmV4ZWMobWF0Y2hbMF0pKSkge1xuICAgICAgICAgICAgZW1pdEVycm9yKGNvbnRleHQsIDE4IC8qIEVycm9yQ29kZXMuVU5FWFBFQ1RFRF9DSEFSQUNURVJfSU5fVU5RVU9URURfQVRUUklCVVRFX1ZBTFVFICovLCBtLmluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZW50ID0gcGFyc2VUZXh0RGF0YShjb250ZXh0LCBtYXRjaFswXS5sZW5ndGgsIDQgLyogVGV4dE1vZGVzLkFUVFJJQlVURV9WQUxVRSAqLyk7XG4gICAgfVxuICAgIHJldHVybiB7IGNvbnRlbnQsIGlzUXVvdGVkLCBsb2M6IGdldFNlbGVjdGlvbihjb250ZXh0LCBzdGFydCkgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlSW50ZXJwb2xhdGlvbihjb250ZXh0LCBtb2RlKSB7XG4gICAgY29uc3QgW29wZW4sIGNsb3NlXSA9IGNvbnRleHQub3B0aW9ucy5kZWxpbWl0ZXJzO1xuICAgIGNvbnN0IGNsb3NlSW5kZXggPSBjb250ZXh0LnNvdXJjZS5pbmRleE9mKGNsb3NlLCBvcGVuLmxlbmd0aCk7XG4gICAgaWYgKGNsb3NlSW5kZXggPT09IC0xKSB7XG4gICAgICAgIGVtaXRFcnJvcihjb250ZXh0LCAyNSAvKiBFcnJvckNvZGVzLlhfTUlTU0lOR19JTlRFUlBPTEFUSU9OX0VORCAqLyk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHN0YXJ0ID0gZ2V0Q3Vyc29yKGNvbnRleHQpO1xuICAgIGFkdmFuY2VCeShjb250ZXh0LCBvcGVuLmxlbmd0aCk7XG4gICAgY29uc3QgaW5uZXJTdGFydCA9IGdldEN1cnNvcihjb250ZXh0KTtcbiAgICBjb25zdCBpbm5lckVuZCA9IGdldEN1cnNvcihjb250ZXh0KTtcbiAgICBjb25zdCByYXdDb250ZW50TGVuZ3RoID0gY2xvc2VJbmRleCAtIG9wZW4ubGVuZ3RoO1xuICAgIGNvbnN0IHJhd0NvbnRlbnQgPSBjb250ZXh0LnNvdXJjZS5zbGljZSgwLCByYXdDb250ZW50TGVuZ3RoKTtcbiAgICBjb25zdCBwcmVUcmltQ29udGVudCA9IHBhcnNlVGV4dERhdGEoY29udGV4dCwgcmF3Q29udGVudExlbmd0aCwgbW9kZSk7XG4gICAgY29uc3QgY29udGVudCA9IHByZVRyaW1Db250ZW50LnRyaW0oKTtcbiAgICBjb25zdCBzdGFydE9mZnNldCA9IHByZVRyaW1Db250ZW50LmluZGV4T2YoY29udGVudCk7XG4gICAgaWYgKHN0YXJ0T2Zmc2V0ID4gMCkge1xuICAgICAgICBhZHZhbmNlUG9zaXRpb25XaXRoTXV0YXRpb24oaW5uZXJTdGFydCwgcmF3Q29udGVudCwgc3RhcnRPZmZzZXQpO1xuICAgIH1cbiAgICBjb25zdCBlbmRPZmZzZXQgPSByYXdDb250ZW50TGVuZ3RoIC0gKHByZVRyaW1Db250ZW50Lmxlbmd0aCAtIGNvbnRlbnQubGVuZ3RoIC0gc3RhcnRPZmZzZXQpO1xuICAgIGFkdmFuY2VQb3NpdGlvbldpdGhNdXRhdGlvbihpbm5lckVuZCwgcmF3Q29udGVudCwgZW5kT2Zmc2V0KTtcbiAgICBhZHZhbmNlQnkoY29udGV4dCwgY2xvc2UubGVuZ3RoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiA1IC8qIE5vZGVUeXBlcy5JTlRFUlBPTEFUSU9OICovLFxuICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICB0eXBlOiA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLyxcbiAgICAgICAgICAgIGlzU3RhdGljOiBmYWxzZSxcbiAgICAgICAgICAgIC8vIFNldCBgaXNDb25zdGFudGAgdG8gZmFsc2UgYnkgZGVmYXVsdCBhbmQgd2lsbCBkZWNpZGUgaW4gdHJhbnNmb3JtRXhwcmVzc2lvblxuICAgICAgICAgICAgY29uc3RUeXBlOiAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovLFxuICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIGxvYzogZ2V0U2VsZWN0aW9uKGNvbnRleHQsIGlubmVyU3RhcnQsIGlubmVyRW5kKVxuICAgICAgICB9LFxuICAgICAgICBsb2M6IGdldFNlbGVjdGlvbihjb250ZXh0LCBzdGFydClcbiAgICB9O1xufVxuZnVuY3Rpb24gcGFyc2VUZXh0KGNvbnRleHQsIG1vZGUpIHtcbiAgICBjb25zdCBlbmRUb2tlbnMgPSBtb2RlID09PSAzIC8qIFRleHRNb2Rlcy5DREFUQSAqLyA/IFsnXV0+J10gOiBbJzwnLCBjb250ZXh0Lm9wdGlvbnMuZGVsaW1pdGVyc1swXV07XG4gICAgbGV0IGVuZEluZGV4ID0gY29udGV4dC5zb3VyY2UubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5kVG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY29udGV4dC5zb3VyY2UuaW5kZXhPZihlbmRUb2tlbnNbaV0sIDEpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xICYmIGVuZEluZGV4ID4gaW5kZXgpIHtcbiAgICAgICAgICAgIGVuZEluZGV4ID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3RhcnQgPSBnZXRDdXJzb3IoY29udGV4dCk7XG4gICAgY29uc3QgY29udGVudCA9IHBhcnNlVGV4dERhdGEoY29udGV4dCwgZW5kSW5kZXgsIG1vZGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IDIgLyogTm9kZVR5cGVzLlRFWFQgKi8sXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGxvYzogZ2V0U2VsZWN0aW9uKGNvbnRleHQsIHN0YXJ0KVxuICAgIH07XG59XG4vKipcbiAqIEdldCB0ZXh0IGRhdGEgd2l0aCBhIGdpdmVuIGxlbmd0aCBmcm9tIHRoZSBjdXJyZW50IGxvY2F0aW9uLlxuICogVGhpcyB0cmFuc2xhdGVzIEhUTUwgZW50aXRpZXMgaW4gdGhlIHRleHQgZGF0YS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VUZXh0RGF0YShjb250ZXh0LCBsZW5ndGgsIG1vZGUpIHtcbiAgICBjb25zdCByYXdUZXh0ID0gY29udGV4dC5zb3VyY2Uuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICBhZHZhbmNlQnkoY29udGV4dCwgbGVuZ3RoKTtcbiAgICBpZiAobW9kZSA9PT0gMiAvKiBUZXh0TW9kZXMuUkFXVEVYVCAqLyB8fFxuICAgICAgICBtb2RlID09PSAzIC8qIFRleHRNb2Rlcy5DREFUQSAqLyB8fFxuICAgICAgICAhcmF3VGV4dC5pbmNsdWRlcygnJicpKSB7XG4gICAgICAgIHJldHVybiByYXdUZXh0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gREFUQSBvciBSQ0RBVEEgY29udGFpbmluZyBcIiZcIlwiLiBFbnRpdHkgZGVjb2RpbmcgcmVxdWlyZWQuXG4gICAgICAgIHJldHVybiBjb250ZXh0Lm9wdGlvbnMuZGVjb2RlRW50aXRpZXMocmF3VGV4dCwgbW9kZSA9PT0gNCAvKiBUZXh0TW9kZXMuQVRUUklCVVRFX1ZBTFVFICovKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDdXJzb3IoY29udGV4dCkge1xuICAgIGNvbnN0IHsgY29sdW1uLCBsaW5lLCBvZmZzZXQgfSA9IGNvbnRleHQ7XG4gICAgcmV0dXJuIHsgY29sdW1uLCBsaW5lLCBvZmZzZXQgfTtcbn1cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihjb250ZXh0LCBzdGFydCwgZW5kKSB7XG4gICAgZW5kID0gZW5kIHx8IGdldEN1cnNvcihjb250ZXh0KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCxcbiAgICAgICAgZW5kLFxuICAgICAgICBzb3VyY2U6IGNvbnRleHQub3JpZ2luYWxTb3VyY2Uuc2xpY2Uoc3RhcnQub2Zmc2V0LCBlbmQub2Zmc2V0KVxuICAgIH07XG59XG5mdW5jdGlvbiBsYXN0KHhzKSB7XG4gICAgcmV0dXJuIHhzW3hzLmxlbmd0aCAtIDFdO1xufVxuZnVuY3Rpb24gc3RhcnRzV2l0aChzb3VyY2UsIHNlYXJjaFN0cmluZykge1xuICAgIHJldHVybiBzb3VyY2Uuc3RhcnRzV2l0aChzZWFyY2hTdHJpbmcpO1xufVxuZnVuY3Rpb24gYWR2YW5jZUJ5KGNvbnRleHQsIG51bWJlck9mQ2hhcmFjdGVycykge1xuICAgIGNvbnN0IHsgc291cmNlIH0gPSBjb250ZXh0O1xuICAgIGFkdmFuY2VQb3NpdGlvbldpdGhNdXRhdGlvbihjb250ZXh0LCBzb3VyY2UsIG51bWJlck9mQ2hhcmFjdGVycyk7XG4gICAgY29udGV4dC5zb3VyY2UgPSBzb3VyY2Uuc2xpY2UobnVtYmVyT2ZDaGFyYWN0ZXJzKTtcbn1cbmZ1bmN0aW9uIGFkdmFuY2VTcGFjZXMoY29udGV4dCkge1xuICAgIGNvbnN0IG1hdGNoID0gL15bXFx0XFxyXFxuXFxmIF0rLy5leGVjKGNvbnRleHQuc291cmNlKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgYWR2YW5jZUJ5KGNvbnRleHQsIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TmV3UG9zaXRpb24oY29udGV4dCwgc3RhcnQsIG51bWJlck9mQ2hhcmFjdGVycykge1xuICAgIHJldHVybiBhZHZhbmNlUG9zaXRpb25XaXRoQ2xvbmUoc3RhcnQsIGNvbnRleHQub3JpZ2luYWxTb3VyY2Uuc2xpY2Uoc3RhcnQub2Zmc2V0LCBudW1iZXJPZkNoYXJhY3RlcnMpLCBudW1iZXJPZkNoYXJhY3RlcnMpO1xufVxuZnVuY3Rpb24gZW1pdEVycm9yKGNvbnRleHQsIGNvZGUsIG9mZnNldCwgbG9jID0gZ2V0Q3Vyc29yKGNvbnRleHQpKSB7XG4gICAgaWYgKG9mZnNldCkge1xuICAgICAgICBsb2Mub2Zmc2V0ICs9IG9mZnNldDtcbiAgICAgICAgbG9jLmNvbHVtbiArPSBvZmZzZXQ7XG4gICAgfVxuICAgIGNvbnRleHQub3B0aW9ucy5vbkVycm9yKGNyZWF0ZUNvbXBpbGVyRXJyb3IoY29kZSwge1xuICAgICAgICBzdGFydDogbG9jLFxuICAgICAgICBlbmQ6IGxvYyxcbiAgICAgICAgc291cmNlOiAnJ1xuICAgIH0pKTtcbn1cbmZ1bmN0aW9uIGlzRW5kKGNvbnRleHQsIG1vZGUsIGFuY2VzdG9ycykge1xuICAgIGNvbnN0IHMgPSBjb250ZXh0LnNvdXJjZTtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSAwIC8qIFRleHRNb2Rlcy5EQVRBICovOlxuICAgICAgICAgICAgaWYgKHN0YXJ0c1dpdGgocywgJzwvJykpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBwcm9iYWJseSBiYWQgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gYW5jZXN0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydHNXaXRoRW5kVGFnT3BlbihzLCBhbmNlc3RvcnNbaV0udGFnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxIC8qIFRleHRNb2Rlcy5SQ0RBVEEgKi86XG4gICAgICAgIGNhc2UgMiAvKiBUZXh0TW9kZXMuUkFXVEVYVCAqLzoge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbGFzdChhbmNlc3RvcnMpO1xuICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBzdGFydHNXaXRoRW5kVGFnT3BlbihzLCBwYXJlbnQudGFnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzIC8qIFRleHRNb2Rlcy5DREFUQSAqLzpcbiAgICAgICAgICAgIGlmIChzdGFydHNXaXRoKHMsICddXT4nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiAhcztcbn1cbmZ1bmN0aW9uIHN0YXJ0c1dpdGhFbmRUYWdPcGVuKHNvdXJjZSwgdGFnKSB7XG4gICAgcmV0dXJuIChzdGFydHNXaXRoKHNvdXJjZSwgJzwvJykgJiZcbiAgICAgICAgc291cmNlLnNsaWNlKDIsIDIgKyB0YWcubGVuZ3RoKS50b0xvd2VyQ2FzZSgpID09PSB0YWcudG9Mb3dlckNhc2UoKSAmJlxuICAgICAgICAvW1xcdFxcclxcblxcZiAvPl0vLnRlc3Qoc291cmNlWzIgKyB0YWcubGVuZ3RoXSB8fCAnPicpKTtcbn1cblxuZnVuY3Rpb24gaG9pc3RTdGF0aWMocm9vdCwgY29udGV4dCkge1xuICAgIHdhbGskMShyb290LCBjb250ZXh0LCBcbiAgICAvLyBSb290IG5vZGUgaXMgdW5mb3J0dW5hdGVseSBub24taG9pc3RhYmxlIGR1ZSB0byBwb3RlbnRpYWwgcGFyZW50XG4gICAgLy8gZmFsbHRocm91Z2ggYXR0cmlidXRlcy5cbiAgICBpc1NpbmdsZUVsZW1lbnRSb290KHJvb3QsIHJvb3QuY2hpbGRyZW5bMF0pKTtcbn1cbmZ1bmN0aW9uIGlzU2luZ2xlRWxlbWVudFJvb3Qocm9vdCwgY2hpbGQpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSByb290O1xuICAgIHJldHVybiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmXG4gICAgICAgIGNoaWxkLnR5cGUgPT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8gJiZcbiAgICAgICAgIWlzU2xvdE91dGxldChjaGlsZCkpO1xufVxuZnVuY3Rpb24gd2FsayQxKG5vZGUsIGNvbnRleHQsIGRvTm90SG9pc3ROb2RlID0gZmFsc2UpIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSBub2RlO1xuICAgIGNvbnN0IG9yaWdpbmFsQ291bnQgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgbGV0IGhvaXN0ZWRDb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAvLyBvbmx5IHBsYWluIGVsZW1lbnRzICYgdGV4dCBjYWxscyBhcmUgZWxpZ2libGUgZm9yIGhvaXN0aW5nLlxuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJlxuICAgICAgICAgICAgY2hpbGQudGFnVHlwZSA9PT0gMCAvKiBFbGVtZW50VHlwZXMuRUxFTUVOVCAqLykge1xuICAgICAgICAgICAgY29uc3QgY29uc3RhbnRUeXBlID0gZG9Ob3RIb2lzdE5vZGVcbiAgICAgICAgICAgICAgICA/IDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi9cbiAgICAgICAgICAgICAgICA6IGdldENvbnN0YW50VHlwZShjaGlsZCwgY29udGV4dCk7XG4gICAgICAgICAgICBpZiAoY29uc3RhbnRUeXBlID4gMCAvKiBDb25zdGFudFR5cGVzLk5PVF9DT05TVEFOVCAqLykge1xuICAgICAgICAgICAgICAgIGlmIChjb25zdGFudFR5cGUgPj0gMiAvKiBDb25zdGFudFR5cGVzLkNBTl9IT0lTVCAqLykge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5jb2RlZ2VuTm9kZS5wYXRjaEZsYWcgPVxuICAgICAgICAgICAgICAgICAgICAgICAgLTEgLyogUGF0Y2hGbGFncy5IT0lTVEVEICovICsgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGAgLyogSE9JU1RFRCAqL2AgOiBgYCk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmNvZGVnZW5Ob2RlID0gY29udGV4dC5ob2lzdChjaGlsZC5jb2RlZ2VuTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGhvaXN0ZWRDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBub2RlIG1heSBjb250YWluIGR5bmFtaWMgY2hpbGRyZW4sIGJ1dCBpdHMgcHJvcHMgbWF5IGJlIGVsaWdpYmxlIGZvclxuICAgICAgICAgICAgICAgIC8vIGhvaXN0aW5nLlxuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVnZW5Ob2RlID0gY2hpbGQuY29kZWdlbk5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGVnZW5Ob2RlLnR5cGUgPT09IDEzIC8qIE5vZGVUeXBlcy5WTk9ERV9DQUxMICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsYWcgPSBnZXRQYXRjaEZsYWcoY29kZWdlbk5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKCFmbGFnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnID09PSA1MTIgLyogUGF0Y2hGbGFncy5ORUVEX1BBVENIICovIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnID09PSAxIC8qIFBhdGNoRmxhZ3MuVEVYVCAqLykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEdlbmVyYXRlZFByb3BzQ29uc3RhbnRUeXBlKGNoaWxkLCBjb250ZXh0KSA+PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLyogQ29uc3RhbnRUeXBlcy5DQU5fSE9JU1QgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzID0gZ2V0Tm9kZVByb3BzKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVnZW5Ob2RlLnByb3BzID0gY29udGV4dC5ob2lzdChwcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGVnZW5Ob2RlLmR5bmFtaWNQcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZWdlbk5vZGUuZHluYW1pY1Byb3BzID0gY29udGV4dC5ob2lzdChjb2RlZ2VuTm9kZS5keW5hbWljUHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHdhbGsgZnVydGhlclxuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLykge1xuICAgICAgICAgICAgY29uc3QgaXNDb21wb25lbnQgPSBjaGlsZC50YWdUeXBlID09PSAxIC8qIEVsZW1lbnRUeXBlcy5DT01QT05FTlQgKi87XG4gICAgICAgICAgICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNjb3Blcy52U2xvdCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2FsayQxKGNoaWxkLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2NvcGVzLnZTbG90LS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gMTEgLyogTm9kZVR5cGVzLkZPUiAqLykge1xuICAgICAgICAgICAgLy8gRG8gbm90IGhvaXN0IHYtZm9yIHNpbmdsZSBjaGlsZCBiZWNhdXNlIGl0IGhhcyB0byBiZSBhIGJsb2NrXG4gICAgICAgICAgICB3YWxrJDEoY2hpbGQsIGNvbnRleHQsIGNoaWxkLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gOSAvKiBOb2RlVHlwZXMuSUYgKi8pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGQuYnJhbmNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgaG9pc3Qgdi1pZiBzaW5nbGUgY2hpbGQgYmVjYXVzZSBpdCBoYXMgdG8gYmUgYSBibG9ja1xuICAgICAgICAgICAgICAgIHdhbGskMShjaGlsZC5icmFuY2hlc1tpXSwgY29udGV4dCwgY2hpbGQuYnJhbmNoZXNbaV0uY2hpbGRyZW4ubGVuZ3RoID09PSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaG9pc3RlZENvdW50ICYmIGNvbnRleHQudHJhbnNmb3JtSG9pc3QpIHtcbiAgICAgICAgY29udGV4dC50cmFuc2Zvcm1Ib2lzdChjaGlsZHJlbiwgY29udGV4dCwgbm9kZSk7XG4gICAgfVxuICAgIC8vIGFsbCBjaGlsZHJlbiB3ZXJlIGhvaXN0ZWQgLSB0aGUgZW50aXJlIGNoaWxkcmVuIGFycmF5IGlzIGhvaXN0YWJsZS5cbiAgICBpZiAoaG9pc3RlZENvdW50ICYmXG4gICAgICAgIGhvaXN0ZWRDb3VudCA9PT0gb3JpZ2luYWxDb3VudCAmJlxuICAgICAgICBub2RlLnR5cGUgPT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8gJiZcbiAgICAgICAgbm9kZS50YWdUeXBlID09PSAwIC8qIEVsZW1lbnRUeXBlcy5FTEVNRU5UICovICYmXG4gICAgICAgIG5vZGUuY29kZWdlbk5vZGUgJiZcbiAgICAgICAgbm9kZS5jb2RlZ2VuTm9kZS50eXBlID09PSAxMyAvKiBOb2RlVHlwZXMuVk5PREVfQ0FMTCAqLyAmJlxuICAgICAgICBpc0FycmF5KG5vZGUuY29kZWdlbk5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICAgIG5vZGUuY29kZWdlbk5vZGUuY2hpbGRyZW4gPSBjb250ZXh0LmhvaXN0KGNyZWF0ZUFycmF5RXhwcmVzc2lvbihub2RlLmNvZGVnZW5Ob2RlLmNoaWxkcmVuKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q29uc3RhbnRUeXBlKG5vZGUsIGNvbnRleHQpIHtcbiAgICBjb25zdCB7IGNvbnN0YW50Q2FjaGUgfSA9IGNvbnRleHQ7XG4gICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAxIC8qIE5vZGVUeXBlcy5FTEVNRU5UICovOlxuICAgICAgICAgICAgaWYgKG5vZGUudGFnVHlwZSAhPT0gMCAvKiBFbGVtZW50VHlwZXMuRUxFTUVOVCAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gY29uc3RhbnRDYWNoZS5nZXQobm9kZSk7XG4gICAgICAgICAgICBpZiAoY2FjaGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29kZWdlbk5vZGUgPSBub2RlLmNvZGVnZW5Ob2RlO1xuICAgICAgICAgICAgaWYgKGNvZGVnZW5Ob2RlLnR5cGUgIT09IDEzIC8qIE5vZGVUeXBlcy5WTk9ERV9DQUxMICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29kZWdlbk5vZGUuaXNCbG9jayAmJlxuICAgICAgICAgICAgICAgIG5vZGUudGFnICE9PSAnc3ZnJyAmJlxuICAgICAgICAgICAgICAgIG5vZGUudGFnICE9PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMCAvKiBDb25zdGFudFR5cGVzLk5PVF9DT05TVEFOVCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZsYWcgPSBnZXRQYXRjaEZsYWcoY29kZWdlbk5vZGUpO1xuICAgICAgICAgICAgaWYgKCFmbGFnKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJldHVyblR5cGUgPSAzIC8qIENvbnN0YW50VHlwZXMuQ0FOX1NUUklOR0lGWSAqLztcbiAgICAgICAgICAgICAgICAvLyBFbGVtZW50IGl0c2VsZiBoYXMgbm8gcGF0Y2ggZmxhZy4gSG93ZXZlciB3ZSBzdGlsbCBuZWVkIHRvIGNoZWNrOlxuICAgICAgICAgICAgICAgIC8vIDEuIEV2ZW4gZm9yIGEgbm9kZSB3aXRoIG5vIHBhdGNoIGZsYWcsIGl0IGlzIHBvc3NpYmxlIGZvciBpdCB0byBjb250YWluXG4gICAgICAgICAgICAgICAgLy8gbm9uLWhvaXN0YWJsZSBleHByZXNzaW9ucyB0aGF0IHJlZmVycyB0byBzY29wZSB2YXJpYWJsZXMsIGUuZy4gY29tcGlsZXJcbiAgICAgICAgICAgICAgICAvLyBpbmplY3RlZCBrZXlzIG9yIGNhY2hlZCBldmVudCBoYW5kbGVycy4gVGhlcmVmb3JlIHdlIG5lZWQgdG8gYWx3YXlzXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhlIGNvZGVnZW5Ob2RlJ3MgcHJvcHMgdG8gYmUgc3VyZS5cbiAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmF0ZWRQcm9wc1R5cGUgPSBnZXRHZW5lcmF0ZWRQcm9wc0NvbnN0YW50VHlwZShub2RlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoZ2VuZXJhdGVkUHJvcHNUeXBlID09PSAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0YW50Q2FjaGUuc2V0KG5vZGUsIDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi8pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMCAvKiBDb25zdGFudFR5cGVzLk5PVF9DT05TVEFOVCAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdlbmVyYXRlZFByb3BzVHlwZSA8IHJldHVyblR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZSA9IGdlbmVyYXRlZFByb3BzVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gMi4gaXRzIGNoaWxkcmVuLlxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFR5cGUgPSBnZXRDb25zdGFudFR5cGUobm9kZS5jaGlsZHJlbltpXSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZFR5cGUgPT09IDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0YW50Q2FjaGUuc2V0KG5vZGUsIDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkVHlwZSA8IHJldHVyblR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBjaGlsZFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gMy4gaWYgdGhlIHR5cGUgaXMgbm90IGFscmVhZHkgQ0FOX1NLSVBfUEFUQ0ggd2hpY2ggaXMgdGhlIGxvd2VzdCBub24tMFxuICAgICAgICAgICAgICAgIC8vIHR5cGUsIGNoZWNrIGlmIGFueSBvZiB0aGUgcHJvcHMgY2FuIGNhdXNlIHRoZSB0eXBlIHRvIGJlIGxvd2VyZWRcbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gc2tpcCBjYW5fcGF0Y2ggYmVjYXVzZSBpdCdzIGd1YXJhbnRlZWQgYnkgdGhlIGFic2VuY2Ugb2YgYVxuICAgICAgICAgICAgICAgIC8vIHBhdGNoRmxhZy5cbiAgICAgICAgICAgICAgICBpZiAocmV0dXJuVHlwZSA+IDEgLyogQ29uc3RhbnRUeXBlcy5DQU5fU0tJUF9QQVRDSCAqLykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUucHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBub2RlLnByb3BzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAudHlwZSA9PT0gNyAvKiBOb2RlVHlwZXMuRElSRUNUSVZFICovICYmIHAubmFtZSA9PT0gJ2JpbmQnICYmIHAuZXhwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwVHlwZSA9IGdldENvbnN0YW50VHlwZShwLmV4cCwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4cFR5cGUgPT09IDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RhbnRDYWNoZS5zZXQobm9kZSwgMCAvKiBDb25zdGFudFR5cGVzLk5PVF9DT05TVEFOVCAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhwVHlwZSA8IHJldHVyblR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZSA9IGV4cFR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9ubHkgc3ZnL2ZvcmVpZ25PYmplY3QgY291bGQgYmUgYmxvY2sgaGVyZSwgaG93ZXZlciBpZiB0aGV5IGFyZVxuICAgICAgICAgICAgICAgIC8vIHN0YXRpYyB0aGVuIHRoZXkgZG9uJ3QgbmVlZCB0byBiZSBibG9ja3Mgc2luY2UgdGhlcmUgd2lsbCBiZSBub1xuICAgICAgICAgICAgICAgIC8vIG5lc3RlZCB1cGRhdGVzLlxuICAgICAgICAgICAgICAgIGlmIChjb2RlZ2VuTm9kZS5pc0Jsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV4Y2VwdCBzZXQgY3VzdG9tIGRpcmVjdGl2ZXMuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5wcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IG5vZGUucHJvcHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocC50eXBlID09PSA3IC8qIE5vZGVUeXBlcy5ESVJFQ1RJVkUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdGFudENhY2hlLnNldChub2RlLCAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMCAvKiBDb25zdGFudFR5cGVzLk5PVF9DT05TVEFOVCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlbW92ZUhlbHBlcihPUEVOX0JMT0NLKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZW1vdmVIZWxwZXIoZ2V0Vk5vZGVCbG9ja0hlbHBlcihjb250ZXh0LmluU1NSLCBjb2RlZ2VuTm9kZS5pc0NvbXBvbmVudCkpO1xuICAgICAgICAgICAgICAgICAgICBjb2RlZ2VuTm9kZS5pc0Jsb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaGVscGVyKGdldFZOb2RlSGVscGVyKGNvbnRleHQuaW5TU1IsIGNvZGVnZW5Ob2RlLmlzQ29tcG9uZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0YW50Q2FjaGUuc2V0KG5vZGUsIHJldHVyblR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5UeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3RhbnRDYWNoZS5zZXQobm9kZSwgMCAvKiBDb25zdGFudFR5cGVzLk5PVF9DT05TVEFOVCAqLyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgMiAvKiBOb2RlVHlwZXMuVEVYVCAqLzpcbiAgICAgICAgY2FzZSAzIC8qIE5vZGVUeXBlcy5DT01NRU5UICovOlxuICAgICAgICAgICAgcmV0dXJuIDMgLyogQ29uc3RhbnRUeXBlcy5DQU5fU1RSSU5HSUZZICovO1xuICAgICAgICBjYXNlIDkgLyogTm9kZVR5cGVzLklGICovOlxuICAgICAgICBjYXNlIDExIC8qIE5vZGVUeXBlcy5GT1IgKi86XG4gICAgICAgIGNhc2UgMTAgLyogTm9kZVR5cGVzLklGX0JSQU5DSCAqLzpcbiAgICAgICAgICAgIHJldHVybiAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovO1xuICAgICAgICBjYXNlIDUgLyogTm9kZVR5cGVzLklOVEVSUE9MQVRJT04gKi86XG4gICAgICAgIGNhc2UgMTIgLyogTm9kZVR5cGVzLlRFWFRfQ0FMTCAqLzpcbiAgICAgICAgICAgIHJldHVybiBnZXRDb25zdGFudFR5cGUobm9kZS5jb250ZW50LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLzpcbiAgICAgICAgICAgIHJldHVybiBub2RlLmNvbnN0VHlwZTtcbiAgICAgICAgY2FzZSA4IC8qIE5vZGVUeXBlcy5DT01QT1VORF9FWFBSRVNTSU9OICovOlxuICAgICAgICAgICAgbGV0IHJldHVyblR5cGUgPSAzIC8qIENvbnN0YW50VHlwZXMuQ0FOX1NUUklOR0lGWSAqLztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoY2hpbGQpIHx8IGlzU3ltYm9sKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRUeXBlID0gZ2V0Q29uc3RhbnRUeXBlKGNoaWxkLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRUeXBlID09PSAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGlsZFR5cGUgPCByZXR1cm5UeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSBjaGlsZFR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblR5cGU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSA7XG4gICAgICAgICAgICByZXR1cm4gMCAvKiBDb25zdGFudFR5cGVzLk5PVF9DT05TVEFOVCAqLztcbiAgICB9XG59XG5jb25zdCBhbGxvd0hvaXN0ZWRIZWxwZXJTZXQgPSBuZXcgU2V0KFtcbiAgICBOT1JNQUxJWkVfQ0xBU1MsXG4gICAgTk9STUFMSVpFX1NUWUxFLFxuICAgIE5PUk1BTElaRV9QUk9QUyxcbiAgICBHVUFSRF9SRUFDVElWRV9QUk9QU1xuXSk7XG5mdW5jdGlvbiBnZXRDb25zdGFudFR5cGVPZkhlbHBlckNhbGwodmFsdWUsIGNvbnRleHQpIHtcbiAgICBpZiAodmFsdWUudHlwZSA9PT0gMTQgLyogTm9kZVR5cGVzLkpTX0NBTExfRVhQUkVTU0lPTiAqLyAmJlxuICAgICAgICAhaXNTdHJpbmcodmFsdWUuY2FsbGVlKSAmJlxuICAgICAgICBhbGxvd0hvaXN0ZWRIZWxwZXJTZXQuaGFzKHZhbHVlLmNhbGxlZSkpIHtcbiAgICAgICAgY29uc3QgYXJnID0gdmFsdWUuYXJndW1lbnRzWzBdO1xuICAgICAgICBpZiAoYXJnLnR5cGUgPT09IDQgLyogTm9kZVR5cGVzLlNJTVBMRV9FWFBSRVNTSU9OICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29uc3RhbnRUeXBlKGFyZywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJnLnR5cGUgPT09IDE0IC8qIE5vZGVUeXBlcy5KU19DQUxMX0VYUFJFU1NJT04gKi8pIHtcbiAgICAgICAgICAgIC8vIGluIHRoZSBjYXNlIG9mIG5lc3RlZCBoZWxwZXIgY2FsbCwgZS5nLiBgbm9ybWFsaXplUHJvcHMoZ3VhcmRSZWFjdGl2ZVByb3BzKGV4cCkpYFxuICAgICAgICAgICAgcmV0dXJuIGdldENvbnN0YW50VHlwZU9mSGVscGVyQ2FsbChhcmcsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovO1xufVxuZnVuY3Rpb24gZ2V0R2VuZXJhdGVkUHJvcHNDb25zdGFudFR5cGUobm9kZSwgY29udGV4dCkge1xuICAgIGxldCByZXR1cm5UeXBlID0gMyAvKiBDb25zdGFudFR5cGVzLkNBTl9TVFJJTkdJRlkgKi87XG4gICAgY29uc3QgcHJvcHMgPSBnZXROb2RlUHJvcHMobm9kZSk7XG4gICAgaWYgKHByb3BzICYmIHByb3BzLnR5cGUgPT09IDE1IC8qIE5vZGVUeXBlcy5KU19PQkpFQ1RfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICBjb25zdCB7IHByb3BlcnRpZXMgfSA9IHByb3BzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGtleVR5cGUgPSBnZXRDb25zdGFudFR5cGUoa2V5LCBjb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChrZXlUeXBlID09PSAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleVR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5VHlwZSA8IHJldHVyblR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5UeXBlID0ga2V5VHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2YWx1ZVR5cGU7XG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gNCAvKiBOb2RlVHlwZXMuU0lNUExFX0VYUFJFU1NJT04gKi8pIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGUgPSBnZXRDb25zdGFudFR5cGUodmFsdWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUudHlwZSA9PT0gMTQgLyogTm9kZVR5cGVzLkpTX0NBTExfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICAgICAgICAgIC8vIHNvbWUgaGVscGVyIGNhbGxzIGNhbiBiZSBob2lzdGVkLFxuICAgICAgICAgICAgICAgIC8vIHN1Y2ggYXMgdGhlIGBub3JtYWxpemVQcm9wc2AgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBmb3IgcHJlLW5vcm1hbGl6ZSBjbGFzcyxcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGlzIGNhc2Ugd2UgbmVlZCB0byByZXNwZWN0IHRoZSBDb25zdGFudFR5cGUgb2YgdGhlIGhlbHBlcidzIGFyZ3VtZW50c1xuICAgICAgICAgICAgICAgIHZhbHVlVHlwZSA9IGdldENvbnN0YW50VHlwZU9mSGVscGVyQ2FsbCh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGUgPSAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlVHlwZSA9PT0gMCAvKiBDb25zdGFudFR5cGVzLk5PVF9DT05TVEFOVCAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWVUeXBlIDwgcmV0dXJuVHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVyblR5cGUgPSB2YWx1ZVR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldHVyblR5cGU7XG59XG5mdW5jdGlvbiBnZXROb2RlUHJvcHMobm9kZSkge1xuICAgIGNvbnN0IGNvZGVnZW5Ob2RlID0gbm9kZS5jb2RlZ2VuTm9kZTtcbiAgICBpZiAoY29kZWdlbk5vZGUudHlwZSA9PT0gMTMgLyogTm9kZVR5cGVzLlZOT0RFX0NBTEwgKi8pIHtcbiAgICAgICAgcmV0dXJuIGNvZGVnZW5Ob2RlLnByb3BzO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFBhdGNoRmxhZyhub2RlKSB7XG4gICAgY29uc3QgZmxhZyA9IG5vZGUucGF0Y2hGbGFnO1xuICAgIHJldHVybiBmbGFnID8gcGFyc2VJbnQoZmxhZywgMTApIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1Db250ZXh0KHJvb3QsIHsgZmlsZW5hbWUgPSAnJywgcHJlZml4SWRlbnRpZmllcnMgPSBmYWxzZSwgaG9pc3RTdGF0aWMgPSBmYWxzZSwgY2FjaGVIYW5kbGVycyA9IGZhbHNlLCBub2RlVHJhbnNmb3JtcyA9IFtdLCBkaXJlY3RpdmVUcmFuc2Zvcm1zID0ge30sIHRyYW5zZm9ybUhvaXN0ID0gbnVsbCwgaXNCdWlsdEluQ29tcG9uZW50ID0gTk9PUCwgaXNDdXN0b21FbGVtZW50ID0gTk9PUCwgZXhwcmVzc2lvblBsdWdpbnMgPSBbXSwgc2NvcGVJZCA9IG51bGwsIHNsb3R0ZWQgPSB0cnVlLCBzc3IgPSBmYWxzZSwgaW5TU1IgPSBmYWxzZSwgc3NyQ3NzVmFycyA9IGBgLCBiaW5kaW5nTWV0YWRhdGEgPSBFTVBUWV9PQkosIGlubGluZSA9IGZhbHNlLCBpc1RTID0gZmFsc2UsIG9uRXJyb3IgPSBkZWZhdWx0T25FcnJvciwgb25XYXJuID0gZGVmYXVsdE9uV2FybiwgY29tcGF0Q29uZmlnIH0pIHtcbiAgICBjb25zdCBuYW1lTWF0Y2ggPSBmaWxlbmFtZS5yZXBsYWNlKC9cXD8uKiQvLCAnJykubWF0Y2goLyhbXi9cXFxcXSspXFwuXFx3KyQvKTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAvLyBvcHRpb25zXG4gICAgICAgIHNlbGZOYW1lOiBuYW1lTWF0Y2ggJiYgY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lTWF0Y2hbMV0pKSxcbiAgICAgICAgcHJlZml4SWRlbnRpZmllcnMsXG4gICAgICAgIGhvaXN0U3RhdGljLFxuICAgICAgICBjYWNoZUhhbmRsZXJzLFxuICAgICAgICBub2RlVHJhbnNmb3JtcyxcbiAgICAgICAgZGlyZWN0aXZlVHJhbnNmb3JtcyxcbiAgICAgICAgdHJhbnNmb3JtSG9pc3QsXG4gICAgICAgIGlzQnVpbHRJbkNvbXBvbmVudCxcbiAgICAgICAgaXNDdXN0b21FbGVtZW50LFxuICAgICAgICBleHByZXNzaW9uUGx1Z2lucyxcbiAgICAgICAgc2NvcGVJZCxcbiAgICAgICAgc2xvdHRlZCxcbiAgICAgICAgc3NyLFxuICAgICAgICBpblNTUixcbiAgICAgICAgc3NyQ3NzVmFycyxcbiAgICAgICAgYmluZGluZ01ldGFkYXRhLFxuICAgICAgICBpbmxpbmUsXG4gICAgICAgIGlzVFMsXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICAgIG9uV2FybixcbiAgICAgICAgY29tcGF0Q29uZmlnLFxuICAgICAgICAvLyBzdGF0ZVxuICAgICAgICByb290LFxuICAgICAgICBoZWxwZXJzOiBuZXcgTWFwKCksXG4gICAgICAgIGNvbXBvbmVudHM6IG5ldyBTZXQoKSxcbiAgICAgICAgZGlyZWN0aXZlczogbmV3IFNldCgpLFxuICAgICAgICBob2lzdHM6IFtdLFxuICAgICAgICBpbXBvcnRzOiBbXSxcbiAgICAgICAgY29uc3RhbnRDYWNoZTogbmV3IE1hcCgpLFxuICAgICAgICB0ZW1wczogMCxcbiAgICAgICAgY2FjaGVkOiAwLFxuICAgICAgICBpZGVudGlmaWVyczogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgc2NvcGVzOiB7XG4gICAgICAgICAgICB2Rm9yOiAwLFxuICAgICAgICAgICAgdlNsb3Q6IDAsXG4gICAgICAgICAgICB2UHJlOiAwLFxuICAgICAgICAgICAgdk9uY2U6IDBcbiAgICAgICAgfSxcbiAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICBjdXJyZW50Tm9kZTogcm9vdCxcbiAgICAgICAgY2hpbGRJbmRleDogMCxcbiAgICAgICAgaW5WT25jZTogZmFsc2UsXG4gICAgICAgIC8vIG1ldGhvZHNcbiAgICAgICAgaGVscGVyKG5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gY29udGV4dC5oZWxwZXJzLmdldChuYW1lKSB8fCAwO1xuICAgICAgICAgICAgY29udGV4dC5oZWxwZXJzLnNldChuYW1lLCBjb3VudCArIDEpO1xuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUhlbHBlcihuYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IGNvbnRleHQuaGVscGVycy5nZXQobmFtZSk7XG4gICAgICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQgPSBjb3VudCAtIDE7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5oZWxwZXJzLmRlbGV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaGVscGVycy5zZXQobmFtZSwgY3VycmVudENvdW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGhlbHBlclN0cmluZyhuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gYF8ke2hlbHBlck5hbWVNYXBbY29udGV4dC5oZWxwZXIobmFtZSldfWA7XG4gICAgICAgIH0sXG4gICAgICAgIHJlcGxhY2VOb2RlKG5vZGUpIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGlmICghY29udGV4dC5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vZGUgYmVpbmcgcmVwbGFjZWQgaXMgYWxyZWFkeSByZW1vdmVkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlcGxhY2Ugcm9vdCBub2RlLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQucGFyZW50LmNoaWxkcmVuW2NvbnRleHQuY2hpbGRJbmRleF0gPSBjb250ZXh0LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlTm9kZShub2RlKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFjb250ZXh0LnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlbW92ZSByb290IG5vZGUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsaXN0ID0gY29udGV4dC5wYXJlbnQuY2hpbGRyZW47XG4gICAgICAgICAgICBjb25zdCByZW1vdmFsSW5kZXggPSBub2RlXG4gICAgICAgICAgICAgICAgPyBsaXN0LmluZGV4T2Yobm9kZSlcbiAgICAgICAgICAgICAgICA6IGNvbnRleHQuY3VycmVudE5vZGVcbiAgICAgICAgICAgICAgICAgICAgPyBjb250ZXh0LmNoaWxkSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgOiAtMTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiByZW1vdmFsSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBub2RlIGJlaW5nIHJlbW92ZWQgaXMgbm90IGEgY2hpbGQgb2YgY3VycmVudCBwYXJlbnRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbm9kZSB8fCBub2RlID09PSBjb250ZXh0LmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBub2RlIHJlbW92ZWRcbiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm9uTm9kZVJlbW92ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHNpYmxpbmcgbm9kZSByZW1vdmVkXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuY2hpbGRJbmRleCA+IHJlbW92YWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNoaWxkSW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vbk5vZGVSZW1vdmVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHJlbW92YWxJbmRleCwgMSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTm9kZVJlbW92ZWQ6ICgpID0+IHsgfSxcbiAgICAgICAgYWRkSWRlbnRpZmllcnMoZXhwKSB7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUlkZW50aWZpZXJzKGV4cCkge1xuICAgICAgICB9LFxuICAgICAgICBob2lzdChleHApIHtcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhleHApKVxuICAgICAgICAgICAgICAgIGV4cCA9IGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oZXhwKTtcbiAgICAgICAgICAgIGNvbnRleHQuaG9pc3RzLnB1c2goZXhwKTtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGBfaG9pc3RlZF8ke2NvbnRleHQuaG9pc3RzLmxlbmd0aH1gLCBmYWxzZSwgZXhwLmxvYywgMiAvKiBDb25zdGFudFR5cGVzLkNBTl9IT0lTVCAqLyk7XG4gICAgICAgICAgICBpZGVudGlmaWVyLmhvaXN0ZWQgPSBleHA7XG4gICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcjtcbiAgICAgICAgfSxcbiAgICAgICAgY2FjaGUoZXhwLCBpc1ZOb2RlID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDYWNoZUV4cHJlc3Npb24oY29udGV4dC5jYWNoZWQrKywgZXhwLCBpc1ZOb2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAge1xuICAgICAgICBjb250ZXh0LmZpbHRlcnMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtKHJvb3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlVHJhbnNmb3JtQ29udGV4dChyb290LCBvcHRpb25zKTtcbiAgICB0cmF2ZXJzZU5vZGUocm9vdCwgY29udGV4dCk7XG4gICAgaWYgKG9wdGlvbnMuaG9pc3RTdGF0aWMpIHtcbiAgICAgICAgaG9pc3RTdGF0aWMocm9vdCwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5zc3IpIHtcbiAgICAgICAgY3JlYXRlUm9vdENvZGVnZW4ocm9vdCwgY29udGV4dCk7XG4gICAgfVxuICAgIC8vIGZpbmFsaXplIG1ldGEgaW5mb3JtYXRpb25cbiAgICByb290LmhlbHBlcnMgPSBbLi4uY29udGV4dC5oZWxwZXJzLmtleXMoKV07XG4gICAgcm9vdC5jb21wb25lbnRzID0gWy4uLmNvbnRleHQuY29tcG9uZW50c107XG4gICAgcm9vdC5kaXJlY3RpdmVzID0gWy4uLmNvbnRleHQuZGlyZWN0aXZlc107XG4gICAgcm9vdC5pbXBvcnRzID0gY29udGV4dC5pbXBvcnRzO1xuICAgIHJvb3QuaG9pc3RzID0gY29udGV4dC5ob2lzdHM7XG4gICAgcm9vdC50ZW1wcyA9IGNvbnRleHQudGVtcHM7XG4gICAgcm9vdC5jYWNoZWQgPSBjb250ZXh0LmNhY2hlZDtcbiAgICB7XG4gICAgICAgIHJvb3QuZmlsdGVycyA9IFsuLi5jb250ZXh0LmZpbHRlcnNdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVJvb3RDb2RlZ2VuKHJvb3QsIGNvbnRleHQpIHtcbiAgICBjb25zdCB7IGhlbHBlciB9ID0gY29udGV4dDtcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSByb290O1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgICAgLy8gaWYgdGhlIHNpbmdsZSBjaGlsZCBpcyBhbiBlbGVtZW50LCB0dXJuIGl0IGludG8gYSBibG9jay5cbiAgICAgICAgaWYgKGlzU2luZ2xlRWxlbWVudFJvb3Qocm9vdCwgY2hpbGQpICYmIGNoaWxkLmNvZGVnZW5Ob2RlKSB7XG4gICAgICAgICAgICAvLyBzaW5nbGUgZWxlbWVudCByb290IGlzIG5ldmVyIGhvaXN0ZWQgc28gY29kZWdlbk5vZGUgd2lsbCBuZXZlciBiZVxuICAgICAgICAgICAgLy8gU2ltcGxlRXhwcmVzc2lvbk5vZGVcbiAgICAgICAgICAgIGNvbnN0IGNvZGVnZW5Ob2RlID0gY2hpbGQuY29kZWdlbk5vZGU7XG4gICAgICAgICAgICBpZiAoY29kZWdlbk5vZGUudHlwZSA9PT0gMTMgLyogTm9kZVR5cGVzLlZOT0RFX0NBTEwgKi8pIHtcbiAgICAgICAgICAgICAgICBtYWtlQmxvY2soY29kZWdlbk5vZGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm9vdC5jb2RlZ2VuTm9kZSA9IGNvZGVnZW5Ob2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gLSBzaW5nbGUgPHNsb3QvPiwgSWZOb2RlLCBGb3JOb2RlOiBhbHJlYWR5IGJsb2Nrcy5cbiAgICAgICAgICAgIC8vIC0gc2luZ2xlIHRleHQgbm9kZTogYWx3YXlzIHBhdGNoZWQuXG4gICAgICAgICAgICAvLyByb290IGNvZGVnZW4gZmFsbHMgdGhyb3VnaCB2aWEgZ2VuTm9kZSgpXG4gICAgICAgICAgICByb290LmNvZGVnZW5Ob2RlID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyByb290IGhhcyBtdWx0aXBsZSBub2RlcyAtIHJldHVybiBhIGZyYWdtZW50IGJsb2NrLlxuICAgICAgICBsZXQgcGF0Y2hGbGFnID0gNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi87XG4gICAgICAgIGxldCBwYXRjaEZsYWdUZXh0ID0gUGF0Y2hGbGFnTmFtZXNbNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi9dO1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgZnJhZ21lbnQgYWN0dWFsbHkgY29udGFpbnMgYSBzaW5nbGUgdmFsaWQgY2hpbGQgd2l0aFxuICAgICAgICAvLyB0aGUgcmVzdCBiZWluZyBjb21tZW50c1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICBjaGlsZHJlbi5maWx0ZXIoYyA9PiBjLnR5cGUgIT09IDMgLyogTm9kZVR5cGVzLkNPTU1FTlQgKi8pLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcGF0Y2hGbGFnIHw9IDIwNDggLyogUGF0Y2hGbGFncy5ERVZfUk9PVF9GUkFHTUVOVCAqLztcbiAgICAgICAgICAgIHBhdGNoRmxhZ1RleHQgKz0gYCwgJHtQYXRjaEZsYWdOYW1lc1syMDQ4IC8qIFBhdGNoRmxhZ3MuREVWX1JPT1RfRlJBR01FTlQgKi9dfWA7XG4gICAgICAgIH1cbiAgICAgICAgcm9vdC5jb2RlZ2VuTm9kZSA9IGNyZWF0ZVZOb2RlQ2FsbChjb250ZXh0LCBoZWxwZXIoRlJBR01FTlQpLCB1bmRlZmluZWQsIHJvb3QuY2hpbGRyZW4sIHBhdGNoRmxhZyArICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgIC8qICR7cGF0Y2hGbGFnVGV4dH0gKi9gIDogYGApLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSwgdW5kZWZpbmVkLCBmYWxzZSAvKiBpc0NvbXBvbmVudCAqLyk7XG4gICAgfVxuICAgIGVsc2UgO1xufVxuZnVuY3Rpb24gdHJhdmVyc2VDaGlsZHJlbihwYXJlbnQsIGNvbnRleHQpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3Qgbm9kZVJlbW92ZWQgPSAoKSA9PiB7XG4gICAgICAgIGktLTtcbiAgICB9O1xuICAgIGZvciAoOyBpIDwgcGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gcGFyZW50LmNoaWxkcmVuW2ldO1xuICAgICAgICBpZiAoaXNTdHJpbmcoY2hpbGQpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnRleHQucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBjb250ZXh0LmNoaWxkSW5kZXggPSBpO1xuICAgICAgICBjb250ZXh0Lm9uTm9kZVJlbW92ZWQgPSBub2RlUmVtb3ZlZDtcbiAgICAgICAgdHJhdmVyc2VOb2RlKGNoaWxkLCBjb250ZXh0KTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmF2ZXJzZU5vZGUobm9kZSwgY29udGV4dCkge1xuICAgIGNvbnRleHQuY3VycmVudE5vZGUgPSBub2RlO1xuICAgIC8vIGFwcGx5IHRyYW5zZm9ybSBwbHVnaW5zXG4gICAgY29uc3QgeyBub2RlVHJhbnNmb3JtcyB9ID0gY29udGV4dDtcbiAgICBjb25zdCBleGl0Rm5zID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlVHJhbnNmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvbkV4aXQgPSBub2RlVHJhbnNmb3Jtc1tpXShub2RlLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKG9uRXhpdCkge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkob25FeGl0KSkge1xuICAgICAgICAgICAgICAgIGV4aXRGbnMucHVzaCguLi5vbkV4aXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhpdEZucy5wdXNoKG9uRXhpdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250ZXh0LmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAvLyBub2RlIHdhcyByZW1vdmVkXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBub2RlIG1heSBoYXZlIGJlZW4gcmVwbGFjZWRcbiAgICAgICAgICAgIG5vZGUgPSBjb250ZXh0LmN1cnJlbnROb2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgMyAvKiBOb2RlVHlwZXMuQ09NTUVOVCAqLzpcbiAgICAgICAgICAgIGlmICghY29udGV4dC5zc3IpIHtcbiAgICAgICAgICAgICAgICAvLyBpbmplY3QgaW1wb3J0IGZvciB0aGUgQ29tbWVudCBzeW1ib2wsIHdoaWNoIGlzIG5lZWRlZCBmb3IgY3JlYXRpbmdcbiAgICAgICAgICAgICAgICAvLyBjb21tZW50IG5vZGVzIHdpdGggYGNyZWF0ZVZOb2RlYFxuICAgICAgICAgICAgICAgIGNvbnRleHQuaGVscGVyKENSRUFURV9DT01NRU5UKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDUgLyogTm9kZVR5cGVzLklOVEVSUE9MQVRJT04gKi86XG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIHRyYXZlcnNlLCBidXQgd2UgbmVlZCB0byBpbmplY3QgdG9TdHJpbmcgaGVscGVyXG4gICAgICAgICAgICBpZiAoIWNvbnRleHQuc3NyKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5oZWxwZXIoVE9fRElTUExBWV9TVFJJTkcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIGZvciBjb250YWluZXIgdHlwZXMsIGZ1cnRoZXIgdHJhdmVyc2UgZG93bndhcmRzXG4gICAgICAgIGNhc2UgOSAvKiBOb2RlVHlwZXMuSUYgKi86XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuYnJhbmNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZU5vZGUobm9kZS5icmFuY2hlc1tpXSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMCAvKiBOb2RlVHlwZXMuSUZfQlJBTkNIICovOlxuICAgICAgICBjYXNlIDExIC8qIE5vZGVUeXBlcy5GT1IgKi86XG4gICAgICAgIGNhc2UgMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLzpcbiAgICAgICAgY2FzZSAwIC8qIE5vZGVUeXBlcy5ST09UICovOlxuICAgICAgICAgICAgdHJhdmVyc2VDaGlsZHJlbihub2RlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBleGl0IHRyYW5zZm9ybXNcbiAgICBjb250ZXh0LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICBsZXQgaSA9IGV4aXRGbnMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgZXhpdEZuc1tpXSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0cnVjdHVyYWxEaXJlY3RpdmVUcmFuc2Zvcm0obmFtZSwgZm4pIHtcbiAgICBjb25zdCBtYXRjaGVzID0gaXNTdHJpbmcobmFtZSlcbiAgICAgICAgPyAobikgPT4gbiA9PT0gbmFtZVxuICAgICAgICA6IChuKSA9PiBuYW1lLnRlc3Qobik7XG4gICAgcmV0dXJuIChub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJvcHMgfSA9IG5vZGU7XG4gICAgICAgICAgICAvLyBzdHJ1Y3R1cmFsIGRpcmVjdGl2ZSB0cmFuc2Zvcm1zIGFyZSBub3QgY29uY2VybmVkIHdpdGggc2xvdHNcbiAgICAgICAgICAgIC8vIGFzIHRoZXkgYXJlIGhhbmRsZWQgc2VwYXJhdGVseSBpbiB2U2xvdC50c1xuICAgICAgICAgICAgaWYgKG5vZGUudGFnVHlwZSA9PT0gMyAvKiBFbGVtZW50VHlwZXMuVEVNUExBVEUgKi8gJiYgcHJvcHMuc29tZShpc1ZTbG90KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV4aXRGbnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHByb3AudHlwZSA9PT0gNyAvKiBOb2RlVHlwZXMuRElSRUNUSVZFICovICYmIG1hdGNoZXMocHJvcC5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdHJ1Y3R1cmFsIGRpcmVjdGl2ZXMgYXJlIHJlbW92ZWQgdG8gYXZvaWQgaW5maW5pdGUgcmVjdXJzaW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsc28gd2UgcmVtb3ZlIHRoZW0gKmJlZm9yZSogYXBwbHlpbmcgc28gdGhhdCBpdCBjYW4gZnVydGhlclxuICAgICAgICAgICAgICAgICAgICAvLyB0cmF2ZXJzZSBpdHNlbGYgaW4gY2FzZSBpdCBtb3ZlcyB0aGUgbm9kZSBhcm91bmRcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9uRXhpdCA9IGZuKG5vZGUsIHByb3AsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob25FeGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpdEZucy5wdXNoKG9uRXhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV4aXRGbnM7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5jb25zdCBQVVJFX0FOTk9UQVRJT04gPSBgLyojX19QVVJFX18qL2A7XG5jb25zdCBhbGlhc0hlbHBlciA9IChzKSA9PiBgJHtoZWxwZXJOYW1lTWFwW3NdfTogXyR7aGVscGVyTmFtZU1hcFtzXX1gO1xuZnVuY3Rpb24gY3JlYXRlQ29kZWdlbkNvbnRleHQoYXN0LCB7IG1vZGUgPSAnZnVuY3Rpb24nLCBwcmVmaXhJZGVudGlmaWVycyA9IG1vZGUgPT09ICdtb2R1bGUnLCBzb3VyY2VNYXAgPSBmYWxzZSwgZmlsZW5hbWUgPSBgdGVtcGxhdGUudnVlLmh0bWxgLCBzY29wZUlkID0gbnVsbCwgb3B0aW1pemVJbXBvcnRzID0gZmFsc2UsIHJ1bnRpbWVHbG9iYWxOYW1lID0gYFZ1ZWAsIHJ1bnRpbWVNb2R1bGVOYW1lID0gYHZ1ZWAsIHNzclJ1bnRpbWVNb2R1bGVOYW1lID0gJ3Z1ZS9zZXJ2ZXItcmVuZGVyZXInLCBzc3IgPSBmYWxzZSwgaXNUUyA9IGZhbHNlLCBpblNTUiA9IGZhbHNlIH0pIHtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBtb2RlLFxuICAgICAgICBwcmVmaXhJZGVudGlmaWVycyxcbiAgICAgICAgc291cmNlTWFwLFxuICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgc2NvcGVJZCxcbiAgICAgICAgb3B0aW1pemVJbXBvcnRzLFxuICAgICAgICBydW50aW1lR2xvYmFsTmFtZSxcbiAgICAgICAgcnVudGltZU1vZHVsZU5hbWUsXG4gICAgICAgIHNzclJ1bnRpbWVNb2R1bGVOYW1lLFxuICAgICAgICBzc3IsXG4gICAgICAgIGlzVFMsXG4gICAgICAgIGluU1NSLFxuICAgICAgICBzb3VyY2U6IGFzdC5sb2Muc291cmNlLFxuICAgICAgICBjb2RlOiBgYCxcbiAgICAgICAgY29sdW1uOiAxLFxuICAgICAgICBsaW5lOiAxLFxuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIGluZGVudExldmVsOiAwLFxuICAgICAgICBwdXJlOiBmYWxzZSxcbiAgICAgICAgbWFwOiB1bmRlZmluZWQsXG4gICAgICAgIGhlbHBlcihrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBgXyR7aGVscGVyTmFtZU1hcFtrZXldfWA7XG4gICAgICAgIH0sXG4gICAgICAgIHB1c2goY29kZSwgbm9kZSkge1xuICAgICAgICAgICAgY29udGV4dC5jb2RlICs9IGNvZGU7XG4gICAgICAgIH0sXG4gICAgICAgIGluZGVudCgpIHtcbiAgICAgICAgICAgIG5ld2xpbmUoKytjb250ZXh0LmluZGVudExldmVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVpbmRlbnQod2l0aG91dE5ld0xpbmUgPSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKHdpdGhvdXROZXdMaW5lKSB7XG4gICAgICAgICAgICAgICAgLS1jb250ZXh0LmluZGVudExldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3bGluZSgtLWNvbnRleHQuaW5kZW50TGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBuZXdsaW5lKCkge1xuICAgICAgICAgICAgbmV3bGluZShjb250ZXh0LmluZGVudExldmVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gbmV3bGluZShuKSB7XG4gICAgICAgIGNvbnRleHQucHVzaCgnXFxuJyArIGAgIGAucmVwZWF0KG4pKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZShhc3QsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVDb2RlZ2VuQ29udGV4dChhc3QsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLm9uQ29udGV4dENyZWF0ZWQpXG4gICAgICAgIG9wdGlvbnMub25Db250ZXh0Q3JlYXRlZChjb250ZXh0KTtcbiAgICBjb25zdCB7IG1vZGUsIHB1c2gsIHByZWZpeElkZW50aWZpZXJzLCBpbmRlbnQsIGRlaW5kZW50LCBuZXdsaW5lLCBzY29wZUlkLCBzc3IgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgaGFzSGVscGVycyA9IGFzdC5oZWxwZXJzLmxlbmd0aCA+IDA7XG4gICAgY29uc3QgdXNlV2l0aEJsb2NrID0gIXByZWZpeElkZW50aWZpZXJzICYmIG1vZGUgIT09ICdtb2R1bGUnO1xuICAgIC8vIHByZWFtYmxlc1xuICAgIC8vIGluIHNldHVwKCkgaW5saW5lIG1vZGUsIHRoZSBwcmVhbWJsZSBpcyBnZW5lcmF0ZWQgaW4gYSBzdWIgY29udGV4dFxuICAgIC8vIGFuZCByZXR1cm5lZCBzZXBhcmF0ZWx5LlxuICAgIGNvbnN0IHByZWFtYmxlQ29udGV4dCA9IGNvbnRleHQ7XG4gICAge1xuICAgICAgICBnZW5GdW5jdGlvblByZWFtYmxlKGFzdCwgcHJlYW1ibGVDb250ZXh0KTtcbiAgICB9XG4gICAgLy8gZW50ZXIgcmVuZGVyIGZ1bmN0aW9uXG4gICAgY29uc3QgZnVuY3Rpb25OYW1lID0gc3NyID8gYHNzclJlbmRlcmAgOiBgcmVuZGVyYDtcbiAgICBjb25zdCBhcmdzID0gc3NyID8gWydfY3R4JywgJ19wdXNoJywgJ19wYXJlbnQnLCAnX2F0dHJzJ10gOiBbJ19jdHgnLCAnX2NhY2hlJ107XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYXJncy5qb2luKCcsICcpO1xuICAgIHtcbiAgICAgICAgcHVzaChgZnVuY3Rpb24gJHtmdW5jdGlvbk5hbWV9KCR7c2lnbmF0dXJlfSkge2ApO1xuICAgIH1cbiAgICBpbmRlbnQoKTtcbiAgICBpZiAodXNlV2l0aEJsb2NrKSB7XG4gICAgICAgIHB1c2goYHdpdGggKF9jdHgpIHtgKTtcbiAgICAgICAgaW5kZW50KCk7XG4gICAgICAgIC8vIGZ1bmN0aW9uIG1vZGUgY29uc3QgZGVjbGFyYXRpb25zIHNob3VsZCBiZSBpbnNpZGUgd2l0aCBibG9ja1xuICAgICAgICAvLyBhbHNvIHRoZXkgc2hvdWxkIGJlIHJlbmFtZWQgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggdXNlciBwcm9wZXJ0aWVzXG4gICAgICAgIGlmIChoYXNIZWxwZXJzKSB7XG4gICAgICAgICAgICBwdXNoKGBjb25zdCB7ICR7YXN0LmhlbHBlcnMubWFwKGFsaWFzSGVscGVyKS5qb2luKCcsICcpfSB9ID0gX1Z1ZWApO1xuICAgICAgICAgICAgcHVzaChgXFxuYCk7XG4gICAgICAgICAgICBuZXdsaW5lKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZ2VuZXJhdGUgYXNzZXQgcmVzb2x1dGlvbiBzdGF0ZW1lbnRzXG4gICAgaWYgKGFzdC5jb21wb25lbnRzLmxlbmd0aCkge1xuICAgICAgICBnZW5Bc3NldHMoYXN0LmNvbXBvbmVudHMsICdjb21wb25lbnQnLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGFzdC5kaXJlY3RpdmVzLmxlbmd0aCB8fCBhc3QudGVtcHMgPiAwKSB7XG4gICAgICAgICAgICBuZXdsaW5lKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFzdC5kaXJlY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICBnZW5Bc3NldHMoYXN0LmRpcmVjdGl2ZXMsICdkaXJlY3RpdmUnLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGFzdC50ZW1wcyA+IDApIHtcbiAgICAgICAgICAgIG5ld2xpbmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXN0LmZpbHRlcnMgJiYgYXN0LmZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgIG5ld2xpbmUoKTtcbiAgICAgICAgZ2VuQXNzZXRzKGFzdC5maWx0ZXJzLCAnZmlsdGVyJywgY29udGV4dCk7XG4gICAgICAgIG5ld2xpbmUoKTtcbiAgICB9XG4gICAgaWYgKGFzdC50ZW1wcyA+IDApIHtcbiAgICAgICAgcHVzaChgbGV0IGApO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzdC50ZW1wczsgaSsrKSB7XG4gICAgICAgICAgICBwdXNoKGAke2kgPiAwID8gYCwgYCA6IGBgfV90ZW1wJHtpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhc3QuY29tcG9uZW50cy5sZW5ndGggfHwgYXN0LmRpcmVjdGl2ZXMubGVuZ3RoIHx8IGFzdC50ZW1wcykge1xuICAgICAgICBwdXNoKGBcXG5gKTtcbiAgICAgICAgbmV3bGluZSgpO1xuICAgIH1cbiAgICAvLyBnZW5lcmF0ZSB0aGUgVk5vZGUgdHJlZSBleHByZXNzaW9uXG4gICAgaWYgKCFzc3IpIHtcbiAgICAgICAgcHVzaChgcmV0dXJuIGApO1xuICAgIH1cbiAgICBpZiAoYXN0LmNvZGVnZW5Ob2RlKSB7XG4gICAgICAgIGdlbk5vZGUoYXN0LmNvZGVnZW5Ob2RlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHB1c2goYG51bGxgKTtcbiAgICB9XG4gICAgaWYgKHVzZVdpdGhCbG9jaykge1xuICAgICAgICBkZWluZGVudCgpO1xuICAgICAgICBwdXNoKGB9YCk7XG4gICAgfVxuICAgIGRlaW5kZW50KCk7XG4gICAgcHVzaChgfWApO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzdCxcbiAgICAgICAgY29kZTogY29udGV4dC5jb2RlLFxuICAgICAgICBwcmVhbWJsZTogYGAsXG4gICAgICAgIC8vIFNvdXJjZU1hcEdlbmVyYXRvciBkb2VzIGhhdmUgdG9KU09OKCkgbWV0aG9kIGJ1dCBpdCdzIG5vdCBpbiB0aGUgdHlwZXNcbiAgICAgICAgbWFwOiBjb250ZXh0Lm1hcCA/IGNvbnRleHQubWFwLnRvSlNPTigpIDogdW5kZWZpbmVkXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdlbkZ1bmN0aW9uUHJlYW1ibGUoYXN0LCBjb250ZXh0KSB7XG4gICAgY29uc3QgeyBzc3IsIHByZWZpeElkZW50aWZpZXJzLCBwdXNoLCBuZXdsaW5lLCBydW50aW1lTW9kdWxlTmFtZSwgcnVudGltZUdsb2JhbE5hbWUsIHNzclJ1bnRpbWVNb2R1bGVOYW1lIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IFZ1ZUJpbmRpbmcgPSBydW50aW1lR2xvYmFsTmFtZTtcbiAgICAvLyBHZW5lcmF0ZSBjb25zdCBkZWNsYXJhdGlvbiBmb3IgaGVscGVyc1xuICAgIC8vIEluIHByZWZpeCBtb2RlLCB3ZSBwbGFjZSB0aGUgY29uc3QgZGVjbGFyYXRpb24gYXQgdG9wIHNvIGl0J3MgZG9uZVxuICAgIC8vIG9ubHkgb25jZTsgQnV0IGlmIHdlIG5vdCBwcmVmaXhpbmcsIHdlIHBsYWNlIHRoZSBkZWNsYXJhdGlvbiBpbnNpZGUgdGhlXG4gICAgLy8gd2l0aCBibG9jayBzbyBpdCBkb2Vzbid0IGluY3VyIHRoZSBgaW5gIGNoZWNrIGNvc3QgZm9yIGV2ZXJ5IGhlbHBlciBhY2Nlc3MuXG4gICAgaWYgKGFzdC5oZWxwZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gXCJ3aXRoXCIgbW9kZS5cbiAgICAgICAgICAgIC8vIHNhdmUgVnVlIGluIGEgc2VwYXJhdGUgdmFyaWFibGUgdG8gYXZvaWQgY29sbGlzaW9uXG4gICAgICAgICAgICBwdXNoKGBjb25zdCBfVnVlID0gJHtWdWVCaW5kaW5nfVxcbmApO1xuICAgICAgICAgICAgLy8gaW4gXCJ3aXRoXCIgbW9kZSwgaGVscGVycyBhcmUgZGVjbGFyZWQgaW5zaWRlIHRoZSB3aXRoIGJsb2NrIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBoYXMgY2hlY2sgY29zdCwgYnV0IGhvaXN0cyBhcmUgbGlmdGVkIG91dCBvZiB0aGUgZnVuY3Rpb24gLSB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBwcm92aWRlIHRoZSBoZWxwZXIgaGVyZS5cbiAgICAgICAgICAgIGlmIChhc3QuaG9pc3RzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRpY0hlbHBlcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIENSRUFURV9WTk9ERSxcbiAgICAgICAgICAgICAgICAgICAgQ1JFQVRFX0VMRU1FTlRfVk5PREUsXG4gICAgICAgICAgICAgICAgICAgIENSRUFURV9DT01NRU5ULFxuICAgICAgICAgICAgICAgICAgICBDUkVBVEVfVEVYVCxcbiAgICAgICAgICAgICAgICAgICAgQ1JFQVRFX1NUQVRJQ1xuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihoZWxwZXIgPT4gYXN0LmhlbHBlcnMuaW5jbHVkZXMoaGVscGVyKSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChhbGlhc0hlbHBlcilcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJywgJyk7XG4gICAgICAgICAgICAgICAgcHVzaChgY29uc3QgeyAke3N0YXRpY0hlbHBlcnN9IH0gPSBfVnVlXFxuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2VuSG9pc3RzKGFzdC5ob2lzdHMsIGNvbnRleHQpO1xuICAgIG5ld2xpbmUoKTtcbiAgICBwdXNoKGByZXR1cm4gYCk7XG59XG5mdW5jdGlvbiBnZW5Bc3NldHMoYXNzZXRzLCB0eXBlLCB7IGhlbHBlciwgcHVzaCwgbmV3bGluZSwgaXNUUyB9KSB7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSBoZWxwZXIodHlwZSA9PT0gJ2ZpbHRlcidcbiAgICAgICAgPyBSRVNPTFZFX0ZJTFRFUlxuICAgICAgICA6IHR5cGUgPT09ICdjb21wb25lbnQnXG4gICAgICAgICAgICA/IFJFU09MVkVfQ09NUE9ORU5UXG4gICAgICAgICAgICA6IFJFU09MVkVfRElSRUNUSVZFKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgaWQgPSBhc3NldHNbaV07XG4gICAgICAgIC8vIHBvdGVudGlhbCBjb21wb25lbnQgaW1wbGljaXQgc2VsZi1yZWZlcmVuY2UgaW5mZXJyZWQgZnJvbSBTRkMgZmlsZW5hbWVcbiAgICAgICAgY29uc3QgbWF5YmVTZWxmUmVmZXJlbmNlID0gaWQuZW5kc1dpdGgoJ19fc2VsZicpO1xuICAgICAgICBpZiAobWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICBpZCA9IGlkLnNsaWNlKDAsIC02KTtcbiAgICAgICAgfVxuICAgICAgICBwdXNoKGBjb25zdCAke3RvVmFsaWRBc3NldElkKGlkLCB0eXBlKX0gPSAke3Jlc29sdmVyfSgke0pTT04uc3RyaW5naWZ5KGlkKX0ke21heWJlU2VsZlJlZmVyZW5jZSA/IGAsIHRydWVgIDogYGB9KSR7aXNUUyA/IGAhYCA6IGBgfWApO1xuICAgICAgICBpZiAoaSA8IGFzc2V0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBuZXdsaW5lKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBnZW5Ib2lzdHMoaG9pc3RzLCBjb250ZXh0KSB7XG4gICAgaWYgKCFob2lzdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29udGV4dC5wdXJlID0gdHJ1ZTtcbiAgICBjb25zdCB7IHB1c2gsIG5ld2xpbmUsIGhlbHBlciwgc2NvcGVJZCwgbW9kZSB9ID0gY29udGV4dDtcbiAgICBuZXdsaW5lKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob2lzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZXhwID0gaG9pc3RzW2ldO1xuICAgICAgICBpZiAoZXhwKSB7XG4gICAgICAgICAgICBwdXNoKGBjb25zdCBfaG9pc3RlZF8ke2kgKyAxfSA9ICR7YGB9YCk7XG4gICAgICAgICAgICBnZW5Ob2RlKGV4cCwgY29udGV4dCk7XG4gICAgICAgICAgICBuZXdsaW5lKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29udGV4dC5wdXJlID0gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1RleHQkMShuKSB7XG4gICAgcmV0dXJuIChpc1N0cmluZyhuKSB8fFxuICAgICAgICBuLnR5cGUgPT09IDQgLyogTm9kZVR5cGVzLlNJTVBMRV9FWFBSRVNTSU9OICovIHx8XG4gICAgICAgIG4udHlwZSA9PT0gMiAvKiBOb2RlVHlwZXMuVEVYVCAqLyB8fFxuICAgICAgICBuLnR5cGUgPT09IDUgLyogTm9kZVR5cGVzLklOVEVSUE9MQVRJT04gKi8gfHxcbiAgICAgICAgbi50eXBlID09PSA4IC8qIE5vZGVUeXBlcy5DT01QT1VORF9FWFBSRVNTSU9OICovKTtcbn1cbmZ1bmN0aW9uIGdlbk5vZGVMaXN0QXNBcnJheShub2RlcywgY29udGV4dCkge1xuICAgIGNvbnN0IG11bHRpbGluZXMgPSBub2Rlcy5sZW5ndGggPiAzIHx8XG4gICAgICAgICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSAmJiBub2Rlcy5zb21lKG4gPT4gaXNBcnJheShuKSB8fCAhaXNUZXh0JDEobikpKTtcbiAgICBjb250ZXh0LnB1c2goYFtgKTtcbiAgICBtdWx0aWxpbmVzICYmIGNvbnRleHQuaW5kZW50KCk7XG4gICAgZ2VuTm9kZUxpc3Qobm9kZXMsIGNvbnRleHQsIG11bHRpbGluZXMpO1xuICAgIG11bHRpbGluZXMgJiYgY29udGV4dC5kZWluZGVudCgpO1xuICAgIGNvbnRleHQucHVzaChgXWApO1xufVxuZnVuY3Rpb24gZ2VuTm9kZUxpc3Qobm9kZXMsIGNvbnRleHQsIG11bHRpbGluZXMgPSBmYWxzZSwgY29tbWEgPSB0cnVlKSB7XG4gICAgY29uc3QgeyBwdXNoLCBuZXdsaW5lIH0gPSBjb250ZXh0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAoaXNTdHJpbmcobm9kZSkpIHtcbiAgICAgICAgICAgIHB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgICAgICAgZ2VuTm9kZUxpc3RBc0FycmF5KG5vZGUsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2VuTm9kZShub2RlLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA8IG5vZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGlmIChtdWx0aWxpbmVzKSB7XG4gICAgICAgICAgICAgICAgY29tbWEgJiYgcHVzaCgnLCcpO1xuICAgICAgICAgICAgICAgIG5ld2xpbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbW1hICYmIHB1c2goJywgJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBnZW5Ob2RlKG5vZGUsIGNvbnRleHQpIHtcbiAgICBpZiAoaXNTdHJpbmcobm9kZSkpIHtcbiAgICAgICAgY29udGV4dC5wdXNoKG5vZGUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1N5bWJvbChub2RlKSkge1xuICAgICAgICBjb250ZXh0LnB1c2goY29udGV4dC5oZWxwZXIobm9kZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLzpcbiAgICAgICAgY2FzZSA5IC8qIE5vZGVUeXBlcy5JRiAqLzpcbiAgICAgICAgY2FzZSAxMSAvKiBOb2RlVHlwZXMuRk9SICovOlxuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgYXNzZXJ0KG5vZGUuY29kZWdlbk5vZGUgIT0gbnVsbCwgYENvZGVnZW4gbm9kZSBpcyBtaXNzaW5nIGZvciBlbGVtZW50L2lmL2ZvciBub2RlLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYEFwcGx5IGFwcHJvcHJpYXRlIHRyYW5zZm9ybXMgZmlyc3QuYCk7XG4gICAgICAgICAgICBnZW5Ob2RlKG5vZGUuY29kZWdlbk5vZGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMiAvKiBOb2RlVHlwZXMuVEVYVCAqLzpcbiAgICAgICAgICAgIGdlblRleHQobm9kZSwgY29udGV4dCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLzpcbiAgICAgICAgICAgIGdlbkV4cHJlc3Npb24obm9kZSwgY29udGV4dCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1IC8qIE5vZGVUeXBlcy5JTlRFUlBPTEFUSU9OICovOlxuICAgICAgICAgICAgZ2VuSW50ZXJwb2xhdGlvbihub2RlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyIC8qIE5vZGVUeXBlcy5URVhUX0NBTEwgKi86XG4gICAgICAgICAgICBnZW5Ob2RlKG5vZGUuY29kZWdlbk5vZGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOCAvKiBOb2RlVHlwZXMuQ09NUE9VTkRfRVhQUkVTU0lPTiAqLzpcbiAgICAgICAgICAgIGdlbkNvbXBvdW5kRXhwcmVzc2lvbihub2RlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMgLyogTm9kZVR5cGVzLkNPTU1FTlQgKi86XG4gICAgICAgICAgICBnZW5Db21tZW50KG5vZGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTMgLyogTm9kZVR5cGVzLlZOT0RFX0NBTEwgKi86XG4gICAgICAgICAgICBnZW5WTm9kZUNhbGwobm9kZSwgY29udGV4dCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNCAvKiBOb2RlVHlwZXMuSlNfQ0FMTF9FWFBSRVNTSU9OICovOlxuICAgICAgICAgICAgZ2VuQ2FsbEV4cHJlc3Npb24obm9kZSwgY29udGV4dCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNSAvKiBOb2RlVHlwZXMuSlNfT0JKRUNUX0VYUFJFU1NJT04gKi86XG4gICAgICAgICAgICBnZW5PYmplY3RFeHByZXNzaW9uKG5vZGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTcgLyogTm9kZVR5cGVzLkpTX0FSUkFZX0VYUFJFU1NJT04gKi86XG4gICAgICAgICAgICBnZW5BcnJheUV4cHJlc3Npb24obm9kZSwgY29udGV4dCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOCAvKiBOb2RlVHlwZXMuSlNfRlVOQ1RJT05fRVhQUkVTU0lPTiAqLzpcbiAgICAgICAgICAgIGdlbkZ1bmN0aW9uRXhwcmVzc2lvbihub2RlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE5IC8qIE5vZGVUeXBlcy5KU19DT05ESVRJT05BTF9FWFBSRVNTSU9OICovOlxuICAgICAgICAgICAgZ2VuQ29uZGl0aW9uYWxFeHByZXNzaW9uKG5vZGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjAgLyogTm9kZVR5cGVzLkpTX0NBQ0hFX0VYUFJFU1NJT04gKi86XG4gICAgICAgICAgICBnZW5DYWNoZUV4cHJlc3Npb24obm9kZSwgY29udGV4dCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMSAvKiBOb2RlVHlwZXMuSlNfQkxPQ0tfU1RBVEVNRU5UICovOlxuICAgICAgICAgICAgZ2VuTm9kZUxpc3Qobm9kZS5ib2R5LCBjb250ZXh0LCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gU1NSIG9ubHkgdHlwZXNcbiAgICAgICAgY2FzZSAyMiAvKiBOb2RlVHlwZXMuSlNfVEVNUExBVEVfTElURVJBTCAqLzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIzIC8qIE5vZGVUeXBlcy5KU19JRl9TVEFURU1FTlQgKi86XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNCAvKiBOb2RlVHlwZXMuSlNfQVNTSUdOTUVOVF9FWFBSRVNTSU9OICovOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjUgLyogTm9kZVR5cGVzLkpTX1NFUVVFTkNFX0VYUFJFU1NJT04gKi86XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNiAvKiBOb2RlVHlwZXMuSlNfUkVUVVJOX1NUQVRFTUVOVCAqLzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBjYXNlIDEwIC8qIE5vZGVUeXBlcy5JRl9CUkFOQ0ggKi86XG4gICAgICAgICAgICAvLyBub29wXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoZmFsc2UsIGB1bmhhbmRsZWQgY29kZWdlbiBub2RlIHR5cGU6ICR7bm9kZS50eXBlfWApO1xuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBleGhhdXN0IGFsbCBwb3NzaWJsZSB0eXBlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IG5vZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4aGF1c3RpdmVDaGVjaztcbiAgICAgICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBnZW5UZXh0KG5vZGUsIGNvbnRleHQpIHtcbiAgICBjb250ZXh0LnB1c2goSlNPTi5zdHJpbmdpZnkobm9kZS5jb250ZW50KSwgbm9kZSk7XG59XG5mdW5jdGlvbiBnZW5FeHByZXNzaW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICBjb25zdCB7IGNvbnRlbnQsIGlzU3RhdGljIH0gPSBub2RlO1xuICAgIGNvbnRleHQucHVzaChpc1N0YXRpYyA/IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpIDogY29udGVudCwgbm9kZSk7XG59XG5mdW5jdGlvbiBnZW5JbnRlcnBvbGF0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICBjb25zdCB7IHB1c2gsIGhlbHBlciwgcHVyZSB9ID0gY29udGV4dDtcbiAgICBpZiAocHVyZSlcbiAgICAgICAgcHVzaChQVVJFX0FOTk9UQVRJT04pO1xuICAgIHB1c2goYCR7aGVscGVyKFRPX0RJU1BMQVlfU1RSSU5HKX0oYCk7XG4gICAgZ2VuTm9kZShub2RlLmNvbnRlbnQsIGNvbnRleHQpO1xuICAgIHB1c2goYClgKTtcbn1cbmZ1bmN0aW9uIGdlbkNvbXBvdW5kRXhwcmVzc2lvbihub2RlLCBjb250ZXh0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGlzU3RyaW5nKGNoaWxkKSkge1xuICAgICAgICAgICAgY29udGV4dC5wdXNoKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdlbk5vZGUoY2hpbGQsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2VuRXhwcmVzc2lvbkFzUHJvcGVydHlLZXkobm9kZSwgY29udGV4dCkge1xuICAgIGNvbnN0IHsgcHVzaCB9ID0gY29udGV4dDtcbiAgICBpZiAobm9kZS50eXBlID09PSA4IC8qIE5vZGVUeXBlcy5DT01QT1VORF9FWFBSRVNTSU9OICovKSB7XG4gICAgICAgIHB1c2goYFtgKTtcbiAgICAgICAgZ2VuQ29tcG91bmRFeHByZXNzaW9uKG5vZGUsIGNvbnRleHQpO1xuICAgICAgICBwdXNoKGBdYCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUuaXNTdGF0aWMpIHtcbiAgICAgICAgLy8gb25seSBxdW90ZSBrZXlzIGlmIG5lY2Vzc2FyeVxuICAgICAgICBjb25zdCB0ZXh0ID0gaXNTaW1wbGVJZGVudGlmaWVyKG5vZGUuY29udGVudClcbiAgICAgICAgICAgID8gbm9kZS5jb250ZW50XG4gICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KG5vZGUuY29udGVudCk7XG4gICAgICAgIHB1c2godGV4dCwgbm9kZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwdXNoKGBbJHtub2RlLmNvbnRlbnR9XWAsIG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdlbkNvbW1lbnQobm9kZSwgY29udGV4dCkge1xuICAgIGNvbnN0IHsgcHVzaCwgaGVscGVyLCBwdXJlIH0gPSBjb250ZXh0O1xuICAgIGlmIChwdXJlKSB7XG4gICAgICAgIHB1c2goUFVSRV9BTk5PVEFUSU9OKTtcbiAgICB9XG4gICAgcHVzaChgJHtoZWxwZXIoQ1JFQVRFX0NPTU1FTlQpfSgke0pTT04uc3RyaW5naWZ5KG5vZGUuY29udGVudCl9KWAsIG5vZGUpO1xufVxuZnVuY3Rpb24gZ2VuVk5vZGVDYWxsKG5vZGUsIGNvbnRleHQpIHtcbiAgICBjb25zdCB7IHB1c2gsIGhlbHBlciwgcHVyZSB9ID0gY29udGV4dDtcbiAgICBjb25zdCB7IHRhZywgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgZGlyZWN0aXZlcywgaXNCbG9jaywgZGlzYWJsZVRyYWNraW5nLCBpc0NvbXBvbmVudCB9ID0gbm9kZTtcbiAgICBpZiAoZGlyZWN0aXZlcykge1xuICAgICAgICBwdXNoKGhlbHBlcihXSVRIX0RJUkVDVElWRVMpICsgYChgKTtcbiAgICB9XG4gICAgaWYgKGlzQmxvY2spIHtcbiAgICAgICAgcHVzaChgKCR7aGVscGVyKE9QRU5fQkxPQ0spfSgke2Rpc2FibGVUcmFja2luZyA/IGB0cnVlYCA6IGBgfSksIGApO1xuICAgIH1cbiAgICBpZiAocHVyZSkge1xuICAgICAgICBwdXNoKFBVUkVfQU5OT1RBVElPTik7XG4gICAgfVxuICAgIGNvbnN0IGNhbGxIZWxwZXIgPSBpc0Jsb2NrXG4gICAgICAgID8gZ2V0Vk5vZGVCbG9ja0hlbHBlcihjb250ZXh0LmluU1NSLCBpc0NvbXBvbmVudClcbiAgICAgICAgOiBnZXRWTm9kZUhlbHBlcihjb250ZXh0LmluU1NSLCBpc0NvbXBvbmVudCk7XG4gICAgcHVzaChoZWxwZXIoY2FsbEhlbHBlcikgKyBgKGAsIG5vZGUpO1xuICAgIGdlbk5vZGVMaXN0KGdlbk51bGxhYmxlQXJncyhbdGFnLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzXSksIGNvbnRleHQpO1xuICAgIHB1c2goYClgKTtcbiAgICBpZiAoaXNCbG9jaykge1xuICAgICAgICBwdXNoKGApYCk7XG4gICAgfVxuICAgIGlmIChkaXJlY3RpdmVzKSB7XG4gICAgICAgIHB1c2goYCwgYCk7XG4gICAgICAgIGdlbk5vZGUoZGlyZWN0aXZlcywgY29udGV4dCk7XG4gICAgICAgIHB1c2goYClgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZW5OdWxsYWJsZUFyZ3MoYXJncykge1xuICAgIGxldCBpID0gYXJncy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBpZiAoYXJnc1tpXSAhPSBudWxsKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcmdzLnNsaWNlKDAsIGkgKyAxKS5tYXAoYXJnID0+IGFyZyB8fCBgbnVsbGApO1xufVxuLy8gSmF2YVNjcmlwdFxuZnVuY3Rpb24gZ2VuQ2FsbEV4cHJlc3Npb24obm9kZSwgY29udGV4dCkge1xuICAgIGNvbnN0IHsgcHVzaCwgaGVscGVyLCBwdXJlIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IGNhbGxlZSA9IGlzU3RyaW5nKG5vZGUuY2FsbGVlKSA/IG5vZGUuY2FsbGVlIDogaGVscGVyKG5vZGUuY2FsbGVlKTtcbiAgICBpZiAocHVyZSkge1xuICAgICAgICBwdXNoKFBVUkVfQU5OT1RBVElPTik7XG4gICAgfVxuICAgIHB1c2goY2FsbGVlICsgYChgLCBub2RlKTtcbiAgICBnZW5Ob2RlTGlzdChub2RlLmFyZ3VtZW50cywgY29udGV4dCk7XG4gICAgcHVzaChgKWApO1xufVxuZnVuY3Rpb24gZ2VuT2JqZWN0RXhwcmVzc2lvbihub2RlLCBjb250ZXh0KSB7XG4gICAgY29uc3QgeyBwdXNoLCBpbmRlbnQsIGRlaW5kZW50LCBuZXdsaW5lIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHsgcHJvcGVydGllcyB9ID0gbm9kZTtcbiAgICBpZiAoIXByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgIHB1c2goYHt9YCwgbm9kZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbXVsdGlsaW5lcyA9IHByb3BlcnRpZXMubGVuZ3RoID4gMSB8fFxuICAgICAgICAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkgJiZcbiAgICAgICAgICAgIHByb3BlcnRpZXMuc29tZShwID0+IHAudmFsdWUudHlwZSAhPT0gNCAvKiBOb2RlVHlwZXMuU0lNUExFX0VYUFJFU1NJT04gKi8pKTtcbiAgICBwdXNoKG11bHRpbGluZXMgPyBge2AgOiBgeyBgKTtcbiAgICBtdWx0aWxpbmVzICYmIGluZGVudCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB7IGtleSwgdmFsdWUgfSA9IHByb3BlcnRpZXNbaV07XG4gICAgICAgIC8vIGtleVxuICAgICAgICBnZW5FeHByZXNzaW9uQXNQcm9wZXJ0eUtleShrZXksIGNvbnRleHQpO1xuICAgICAgICBwdXNoKGA6IGApO1xuICAgICAgICAvLyB2YWx1ZVxuICAgICAgICBnZW5Ob2RlKHZhbHVlLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGkgPCBwcm9wZXJ0aWVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIC8vIHdpbGwgb25seSByZWFjaCB0aGlzIGlmIGl0J3MgbXVsdGlsaW5lc1xuICAgICAgICAgICAgcHVzaChgLGApO1xuICAgICAgICAgICAgbmV3bGluZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG11bHRpbGluZXMgJiYgZGVpbmRlbnQoKTtcbiAgICBwdXNoKG11bHRpbGluZXMgPyBgfWAgOiBgIH1gKTtcbn1cbmZ1bmN0aW9uIGdlbkFycmF5RXhwcmVzc2lvbihub2RlLCBjb250ZXh0KSB7XG4gICAgZ2VuTm9kZUxpc3RBc0FycmF5KG5vZGUuZWxlbWVudHMsIGNvbnRleHQpO1xufVxuZnVuY3Rpb24gZ2VuRnVuY3Rpb25FeHByZXNzaW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICBjb25zdCB7IHB1c2gsIGluZGVudCwgZGVpbmRlbnQgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgeyBwYXJhbXMsIHJldHVybnMsIGJvZHksIG5ld2xpbmUsIGlzU2xvdCB9ID0gbm9kZTtcbiAgICBpZiAoaXNTbG90KSB7XG4gICAgICAgIC8vIHdyYXAgc2xvdCBmdW5jdGlvbnMgd2l0aCBvd25lciBjb250ZXh0XG4gICAgICAgIHB1c2goYF8ke2hlbHBlck5hbWVNYXBbV0lUSF9DVFhdfShgKTtcbiAgICB9XG4gICAgcHVzaChgKGAsIG5vZGUpO1xuICAgIGlmIChpc0FycmF5KHBhcmFtcykpIHtcbiAgICAgICAgZ2VuTm9kZUxpc3QocGFyYW1zLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFyYW1zKSB7XG4gICAgICAgIGdlbk5vZGUocGFyYW1zLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcHVzaChgKSA9PiBgKTtcbiAgICBpZiAobmV3bGluZSB8fCBib2R5KSB7XG4gICAgICAgIHB1c2goYHtgKTtcbiAgICAgICAgaW5kZW50KCk7XG4gICAgfVxuICAgIGlmIChyZXR1cm5zKSB7XG4gICAgICAgIGlmIChuZXdsaW5lKSB7XG4gICAgICAgICAgICBwdXNoKGByZXR1cm4gYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkocmV0dXJucykpIHtcbiAgICAgICAgICAgIGdlbk5vZGVMaXN0QXNBcnJheShyZXR1cm5zLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdlbk5vZGUocmV0dXJucywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYm9keSkge1xuICAgICAgICBnZW5Ob2RlKGJvZHksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAobmV3bGluZSB8fCBib2R5KSB7XG4gICAgICAgIGRlaW5kZW50KCk7XG4gICAgICAgIHB1c2goYH1gKTtcbiAgICB9XG4gICAgaWYgKGlzU2xvdCkge1xuICAgICAgICBpZiAobm9kZS5pc05vblNjb3BlZFNsb3QpIHtcbiAgICAgICAgICAgIHB1c2goYCwgdW5kZWZpbmVkLCB0cnVlYCk7XG4gICAgICAgIH1cbiAgICAgICAgcHVzaChgKWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdlbkNvbmRpdGlvbmFsRXhwcmVzc2lvbihub2RlLCBjb250ZXh0KSB7XG4gICAgY29uc3QgeyB0ZXN0LCBjb25zZXF1ZW50LCBhbHRlcm5hdGUsIG5ld2xpbmU6IG5lZWROZXdsaW5lIH0gPSBub2RlO1xuICAgIGNvbnN0IHsgcHVzaCwgaW5kZW50LCBkZWluZGVudCwgbmV3bGluZSB9ID0gY29udGV4dDtcbiAgICBpZiAodGVzdC50eXBlID09PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICBjb25zdCBuZWVkc1BhcmVucyA9ICFpc1NpbXBsZUlkZW50aWZpZXIodGVzdC5jb250ZW50KTtcbiAgICAgICAgbmVlZHNQYXJlbnMgJiYgcHVzaChgKGApO1xuICAgICAgICBnZW5FeHByZXNzaW9uKHRlc3QsIGNvbnRleHQpO1xuICAgICAgICBuZWVkc1BhcmVucyAmJiBwdXNoKGApYCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwdXNoKGAoYCk7XG4gICAgICAgIGdlbk5vZGUodGVzdCwgY29udGV4dCk7XG4gICAgICAgIHB1c2goYClgKTtcbiAgICB9XG4gICAgbmVlZE5ld2xpbmUgJiYgaW5kZW50KCk7XG4gICAgY29udGV4dC5pbmRlbnRMZXZlbCsrO1xuICAgIG5lZWROZXdsaW5lIHx8IHB1c2goYCBgKTtcbiAgICBwdXNoKGA/IGApO1xuICAgIGdlbk5vZGUoY29uc2VxdWVudCwgY29udGV4dCk7XG4gICAgY29udGV4dC5pbmRlbnRMZXZlbC0tO1xuICAgIG5lZWROZXdsaW5lICYmIG5ld2xpbmUoKTtcbiAgICBuZWVkTmV3bGluZSB8fCBwdXNoKGAgYCk7XG4gICAgcHVzaChgOiBgKTtcbiAgICBjb25zdCBpc05lc3RlZCA9IGFsdGVybmF0ZS50eXBlID09PSAxOSAvKiBOb2RlVHlwZXMuSlNfQ09ORElUSU9OQUxfRVhQUkVTU0lPTiAqLztcbiAgICBpZiAoIWlzTmVzdGVkKSB7XG4gICAgICAgIGNvbnRleHQuaW5kZW50TGV2ZWwrKztcbiAgICB9XG4gICAgZ2VuTm9kZShhbHRlcm5hdGUsIGNvbnRleHQpO1xuICAgIGlmICghaXNOZXN0ZWQpIHtcbiAgICAgICAgY29udGV4dC5pbmRlbnRMZXZlbC0tO1xuICAgIH1cbiAgICBuZWVkTmV3bGluZSAmJiBkZWluZGVudCh0cnVlIC8qIHdpdGhvdXQgbmV3bGluZSAqLyk7XG59XG5mdW5jdGlvbiBnZW5DYWNoZUV4cHJlc3Npb24obm9kZSwgY29udGV4dCkge1xuICAgIGNvbnN0IHsgcHVzaCwgaGVscGVyLCBpbmRlbnQsIGRlaW5kZW50LCBuZXdsaW5lIH0gPSBjb250ZXh0O1xuICAgIHB1c2goYF9jYWNoZVske25vZGUuaW5kZXh9XSB8fCAoYCk7XG4gICAgaWYgKG5vZGUuaXNWTm9kZSkge1xuICAgICAgICBpbmRlbnQoKTtcbiAgICAgICAgcHVzaChgJHtoZWxwZXIoU0VUX0JMT0NLX1RSQUNLSU5HKX0oLTEpLGApO1xuICAgICAgICBuZXdsaW5lKCk7XG4gICAgfVxuICAgIHB1c2goYF9jYWNoZVske25vZGUuaW5kZXh9XSA9IGApO1xuICAgIGdlbk5vZGUobm9kZS52YWx1ZSwgY29udGV4dCk7XG4gICAgaWYgKG5vZGUuaXNWTm9kZSkge1xuICAgICAgICBwdXNoKGAsYCk7XG4gICAgICAgIG5ld2xpbmUoKTtcbiAgICAgICAgcHVzaChgJHtoZWxwZXIoU0VUX0JMT0NLX1RSQUNLSU5HKX0oMSksYCk7XG4gICAgICAgIG5ld2xpbmUoKTtcbiAgICAgICAgcHVzaChgX2NhY2hlWyR7bm9kZS5pbmRleH1dYCk7XG4gICAgICAgIGRlaW5kZW50KCk7XG4gICAgfVxuICAgIHB1c2goYClgKTtcbn1cblxuLy8gdGhlc2Uga2V5d29yZHMgc2hvdWxkIG5vdCBhcHBlYXIgaW5zaWRlIGV4cHJlc3Npb25zLCBidXQgb3BlcmF0b3JzIGxpa2Vcbi8vIHR5cGVvZiwgaW5zdGFuY2VvZiBhbmQgaW4gYXJlIGFsbG93ZWRcbmNvbnN0IHByb2hpYml0ZWRLZXl3b3JkUkUgPSBuZXcgUmVnRXhwKCdcXFxcYicgK1xuICAgICgnZG8saWYsZm9yLGxldCxuZXcsdHJ5LHZhcixjYXNlLGVsc2Usd2l0aCxhd2FpdCxicmVhayxjYXRjaCxjbGFzcyxjb25zdCwnICtcbiAgICAgICAgJ3N1cGVyLHRocm93LHdoaWxlLHlpZWxkLGRlbGV0ZSxleHBvcnQsaW1wb3J0LHJldHVybixzd2l0Y2gsZGVmYXVsdCwnICtcbiAgICAgICAgJ2V4dGVuZHMsZmluYWxseSxjb250aW51ZSxkZWJ1Z2dlcixmdW5jdGlvbixhcmd1bWVudHMsdHlwZW9mLHZvaWQnKVxuICAgICAgICAuc3BsaXQoJywnKVxuICAgICAgICAuam9pbignXFxcXGJ8XFxcXGInKSArXG4gICAgJ1xcXFxiJyk7XG4vLyBzdHJpcCBzdHJpbmdzIGluIGV4cHJlc3Npb25zXG5jb25zdCBzdHJpcFN0cmluZ1JFID0gLycoPzpbXidcXFxcXXxcXFxcLikqJ3xcIig/OlteXCJcXFxcXXxcXFxcLikqXCJ8YCg/OlteYFxcXFxdfFxcXFwuKSpcXCRcXHt8XFx9KD86W15gXFxcXF18XFxcXC4pKmB8YCg/OlteYFxcXFxdfFxcXFwuKSpgL2c7XG4vKipcbiAqIFZhbGlkYXRlIGEgbm9uLXByZWZpeGVkIGV4cHJlc3Npb24uXG4gKiBUaGlzIGlzIG9ubHkgY2FsbGVkIHdoZW4gdXNpbmcgdGhlIGluLWJyb3dzZXIgcnVudGltZSBjb21waWxlciBzaW5jZSBpdFxuICogZG9lc24ndCBwcmVmaXggZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQnJvd3NlckV4cHJlc3Npb24obm9kZSwgY29udGV4dCwgYXNQYXJhbXMgPSBmYWxzZSwgYXNSYXdTdGF0ZW1lbnRzID0gZmFsc2UpIHtcbiAgICBjb25zdCBleHAgPSBub2RlLmNvbnRlbnQ7XG4gICAgLy8gZW1wdHkgZXhwcmVzc2lvbnMgYXJlIHZhbGlkYXRlZCBwZXItZGlyZWN0aXZlIHNpbmNlIHNvbWUgZGlyZWN0aXZlc1xuICAgIC8vIGRvIGFsbG93IGVtcHR5IGV4cHJlc3Npb25zLlxuICAgIGlmICghZXhwLnRyaW0oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIG5ldyBGdW5jdGlvbihhc1Jhd1N0YXRlbWVudHNcbiAgICAgICAgICAgID8gYCAke2V4cH0gYFxuICAgICAgICAgICAgOiBgcmV0dXJuICR7YXNQYXJhbXMgPyBgKCR7ZXhwfSkgPT4ge31gIDogYCgke2V4cH0pYH1gKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgICAgIGNvbnN0IGtleXdvcmRNYXRjaCA9IGV4cFxuICAgICAgICAgICAgLnJlcGxhY2Uoc3RyaXBTdHJpbmdSRSwgJycpXG4gICAgICAgICAgICAubWF0Y2gocHJvaGliaXRlZEtleXdvcmRSRSk7XG4gICAgICAgIGlmIChrZXl3b3JkTWF0Y2gpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgYXZvaWQgdXNpbmcgSmF2YVNjcmlwdCBrZXl3b3JkIGFzIHByb3BlcnR5IG5hbWU6IFwiJHtrZXl3b3JkTWF0Y2hbMF19XCJgO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVDb21waWxlckVycm9yKDQ1IC8qIEVycm9yQ29kZXMuWF9JTlZBTElEX0VYUFJFU1NJT04gKi8sIG5vZGUubG9jLCB1bmRlZmluZWQsIG1lc3NhZ2UpKTtcbiAgICB9XG59XG5cbmNvbnN0IHRyYW5zZm9ybUV4cHJlc3Npb24gPSAobm9kZSwgY29udGV4dCkgPT4ge1xuICAgIGlmIChub2RlLnR5cGUgPT09IDUgLyogTm9kZVR5cGVzLklOVEVSUE9MQVRJT04gKi8pIHtcbiAgICAgICAgbm9kZS5jb250ZW50ID0gcHJvY2Vzc0V4cHJlc3Npb24obm9kZS5jb250ZW50LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZS50eXBlID09PSAxIC8qIE5vZGVUeXBlcy5FTEVNRU5UICovKSB7XG4gICAgICAgIC8vIGhhbmRsZSBkaXJlY3RpdmVzIG9uIGVsZW1lbnRcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLnByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkaXIgPSBub2RlLnByb3BzW2ldO1xuICAgICAgICAgICAgLy8gZG8gbm90IHByb2Nlc3MgZm9yIHYtb24gJiB2LWZvciBzaW5jZSB0aGV5IGFyZSBzcGVjaWFsIGhhbmRsZWRcbiAgICAgICAgICAgIGlmIChkaXIudHlwZSA9PT0gNyAvKiBOb2RlVHlwZXMuRElSRUNUSVZFICovICYmIGRpci5uYW1lICE9PSAnZm9yJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4cCA9IGRpci5leHA7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJnID0gZGlyLmFyZztcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgcHJvY2VzcyBleHAgaWYgdGhpcyBpcyB2LW9uOmFyZyAtIHdlIG5lZWQgc3BlY2lhbCBoYW5kbGluZ1xuICAgICAgICAgICAgICAgIC8vIGZvciB3cmFwcGluZyBpbmxpbmUgc3RhdGVtZW50cy5cbiAgICAgICAgICAgICAgICBpZiAoZXhwICYmXG4gICAgICAgICAgICAgICAgICAgIGV4cC50eXBlID09PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLyAmJlxuICAgICAgICAgICAgICAgICAgICAhKGRpci5uYW1lID09PSAnb24nICYmIGFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyLmV4cCA9IHByb2Nlc3NFeHByZXNzaW9uKGV4cCwgY29udGV4dCwgXG4gICAgICAgICAgICAgICAgICAgIC8vIHNsb3QgYXJncyBtdXN0IGJlIHByb2Nlc3NlZCBhcyBmdW5jdGlvbiBwYXJhbXNcbiAgICAgICAgICAgICAgICAgICAgZGlyLm5hbWUgPT09ICdzbG90Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhcmcgJiYgYXJnLnR5cGUgPT09IDQgLyogTm9kZVR5cGVzLlNJTVBMRV9FWFBSRVNTSU9OICovICYmICFhcmcuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyLmFyZyA9IHByb2Nlc3NFeHByZXNzaW9uKGFyZywgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbi8vIEltcG9ydGFudDogc2luY2UgdGhpcyBmdW5jdGlvbiB1c2VzIE5vZGUuanMgb25seSBkZXBlbmRlbmNpZXMsIGl0IHNob3VsZFxuLy8gYWx3YXlzIGJlIHVzZWQgd2l0aCBhIGxlYWRpbmcgIXRydWUgY2hlY2sgc28gdGhhdCBpdCBjYW4gYmVcbi8vIHRyZWUtc2hha2VuIGZyb20gdGhlIGJyb3dzZXIgYnVpbGQuXG5mdW5jdGlvbiBwcm9jZXNzRXhwcmVzc2lvbihub2RlLCBjb250ZXh0LCBcbi8vIHNvbWUgZXhwcmVzc2lvbnMgbGlrZSB2LXNsb3QgcHJvcHMgJiB2LWZvciBhbGlhc2VzIHNob3VsZCBiZSBwYXJzZWQgYXNcbi8vIGZ1bmN0aW9uIHBhcmFtc1xuYXNQYXJhbXMgPSBmYWxzZSwgXG4vLyB2LW9uIGhhbmRsZXIgdmFsdWVzIG1heSBjb250YWluIG11bHRpcGxlIHN0YXRlbWVudHNcbmFzUmF3U3RhdGVtZW50cyA9IGZhbHNlLCBsb2NhbFZhcnMgPSBPYmplY3QuY3JlYXRlKGNvbnRleHQuaWRlbnRpZmllcnMpKSB7XG4gICAge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAvLyBzaW1wbGUgaW4tYnJvd3NlciB2YWxpZGF0aW9uIChzYW1lIGxvZ2ljIGluIDIueClcbiAgICAgICAgICAgIHZhbGlkYXRlQnJvd3NlckV4cHJlc3Npb24obm9kZSwgY29udGV4dCwgYXNQYXJhbXMsIGFzUmF3U3RhdGVtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxufVxuXG5jb25zdCB0cmFuc2Zvcm1JZiA9IGNyZWF0ZVN0cnVjdHVyYWxEaXJlY3RpdmVUcmFuc2Zvcm0oL14oaWZ8ZWxzZXxlbHNlLWlmKSQvLCAobm9kZSwgZGlyLCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHByb2Nlc3NJZihub2RlLCBkaXIsIGNvbnRleHQsIChpZk5vZGUsIGJyYW5jaCwgaXNSb290KSA9PiB7XG4gICAgICAgIC8vICMxNTg3OiBXZSBuZWVkIHRvIGR5bmFtaWNhbGx5IGluY3JlbWVudCB0aGUga2V5IGJhc2VkIG9uIHRoZSBjdXJyZW50XG4gICAgICAgIC8vIG5vZGUncyBzaWJsaW5nIG5vZGVzLCBzaW5jZSBjaGFpbmVkIHYtaWYvZWxzZSBicmFuY2hlcyBhcmVcbiAgICAgICAgLy8gcmVuZGVyZWQgYXQgdGhlIHNhbWUgZGVwdGhcbiAgICAgICAgY29uc3Qgc2libGluZ3MgPSBjb250ZXh0LnBhcmVudC5jaGlsZHJlbjtcbiAgICAgICAgbGV0IGkgPSBzaWJsaW5ncy5pbmRleE9mKGlmTm9kZSk7XG4gICAgICAgIGxldCBrZXkgPSAwO1xuICAgICAgICB3aGlsZSAoaS0tID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNpYmxpbmcgPSBzaWJsaW5nc1tpXTtcbiAgICAgICAgICAgIGlmIChzaWJsaW5nICYmIHNpYmxpbmcudHlwZSA9PT0gOSAvKiBOb2RlVHlwZXMuSUYgKi8pIHtcbiAgICAgICAgICAgICAgICBrZXkgKz0gc2libGluZy5icmFuY2hlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhpdCBjYWxsYmFjay4gQ29tcGxldGUgdGhlIGNvZGVnZW5Ob2RlIHdoZW4gYWxsIGNoaWxkcmVuIGhhdmUgYmVlblxuICAgICAgICAvLyB0cmFuc2Zvcm1lZC5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgICAgICBpZk5vZGUuY29kZWdlbk5vZGUgPSBjcmVhdGVDb2RlZ2VuTm9kZUZvckJyYW5jaChicmFuY2gsIGtleSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhdHRhY2ggdGhpcyBicmFuY2gncyBjb2RlZ2VuIG5vZGUgdG8gdGhlIHYtaWYgcm9vdC5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRDb25kaXRpb24gPSBnZXRQYXJlbnRDb25kaXRpb24oaWZOb2RlLmNvZGVnZW5Ob2RlKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25kaXRpb24uYWx0ZXJuYXRlID0gY3JlYXRlQ29kZWdlbk5vZGVGb3JCcmFuY2goYnJhbmNoLCBrZXkgKyBpZk5vZGUuYnJhbmNoZXMubGVuZ3RoIC0gMSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59KTtcbi8vIHRhcmdldC1hZ25vc3RpYyB0cmFuc2Zvcm0gdXNlZCBmb3IgYm90aCBDbGllbnQgYW5kIFNTUlxuZnVuY3Rpb24gcHJvY2Vzc0lmKG5vZGUsIGRpciwgY29udGV4dCwgcHJvY2Vzc0NvZGVnZW4pIHtcbiAgICBpZiAoZGlyLm5hbWUgIT09ICdlbHNlJyAmJlxuICAgICAgICAoIWRpci5leHAgfHwgIWRpci5leHAuY29udGVudC50cmltKCkpKSB7XG4gICAgICAgIGNvbnN0IGxvYyA9IGRpci5leHAgPyBkaXIuZXhwLmxvYyA6IG5vZGUubG9jO1xuICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlQ29tcGlsZXJFcnJvcigyOCAvKiBFcnJvckNvZGVzLlhfVl9JRl9OT19FWFBSRVNTSU9OICovLCBkaXIubG9jKSk7XG4gICAgICAgIGRpci5leHAgPSBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGB0cnVlYCwgZmFsc2UsIGxvYyk7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdHJ1ZSAmJiBkaXIuZXhwKSB7XG4gICAgICAgIHZhbGlkYXRlQnJvd3NlckV4cHJlc3Npb24oZGlyLmV4cCwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChkaXIubmFtZSA9PT0gJ2lmJykge1xuICAgICAgICBjb25zdCBicmFuY2ggPSBjcmVhdGVJZkJyYW5jaChub2RlLCBkaXIpO1xuICAgICAgICBjb25zdCBpZk5vZGUgPSB7XG4gICAgICAgICAgICB0eXBlOiA5IC8qIE5vZGVUeXBlcy5JRiAqLyxcbiAgICAgICAgICAgIGxvYzogbm9kZS5sb2MsXG4gICAgICAgICAgICBicmFuY2hlczogW2JyYW5jaF1cbiAgICAgICAgfTtcbiAgICAgICAgY29udGV4dC5yZXBsYWNlTm9kZShpZk5vZGUpO1xuICAgICAgICBpZiAocHJvY2Vzc0NvZGVnZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzQ29kZWdlbihpZk5vZGUsIGJyYW5jaCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGxvY2F0ZSB0aGUgYWRqYWNlbnQgdi1pZlxuICAgICAgICBjb25zdCBzaWJsaW5ncyA9IGNvbnRleHQucGFyZW50LmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjb21tZW50cyA9IFtdO1xuICAgICAgICBsZXQgaSA9IHNpYmxpbmdzLmluZGV4T2Yobm9kZSk7XG4gICAgICAgIHdoaWxlIChpLS0gPj0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpYmxpbmcgPSBzaWJsaW5nc1tpXTtcbiAgICAgICAgICAgIGlmIChzaWJsaW5nICYmIHNpYmxpbmcudHlwZSA9PT0gMyAvKiBOb2RlVHlwZXMuQ09NTUVOVCAqLykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVtb3ZlTm9kZShzaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29tbWVudHMudW5zaGlmdChzaWJsaW5nKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaWJsaW5nICYmXG4gICAgICAgICAgICAgICAgc2libGluZy50eXBlID09PSAyIC8qIE5vZGVUeXBlcy5URVhUICovICYmXG4gICAgICAgICAgICAgICAgIXNpYmxpbmcuY29udGVudC50cmltKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZW1vdmVOb2RlKHNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpYmxpbmcgJiYgc2libGluZy50eXBlID09PSA5IC8qIE5vZGVUeXBlcy5JRiAqLykge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHYtZWxzZSB3YXMgZm9sbG93ZWQgYnkgdi1lbHNlLWlmXG4gICAgICAgICAgICAgICAgaWYgKGRpci5uYW1lID09PSAnZWxzZS1pZicgJiZcbiAgICAgICAgICAgICAgICAgICAgc2libGluZy5icmFuY2hlc1tzaWJsaW5nLmJyYW5jaGVzLmxlbmd0aCAtIDFdLmNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVDb21waWxlckVycm9yKDMwIC8qIEVycm9yQ29kZXMuWF9WX0VMU0VfTk9fQURKQUNFTlRfSUYgKi8sIG5vZGUubG9jKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG1vdmUgdGhlIG5vZGUgdG8gdGhlIGlmIG5vZGUncyBicmFuY2hlc1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVtb3ZlTm9kZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJyYW5jaCA9IGNyZWF0ZUlmQnJhbmNoKG5vZGUsIGRpcik7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICBjb21tZW50cy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gIzM2MTkgaWdub3JlIGNvbW1lbnRzIGlmIHRoZSB2LWlmIGlzIGRpcmVjdCBjaGlsZCBvZiA8dHJhbnNpdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgIShjb250ZXh0LnBhcmVudCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wYXJlbnQudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNCdWlsdEluVHlwZShjb250ZXh0LnBhcmVudC50YWcsICd0cmFuc2l0aW9uJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyYW5jaC5jaGlsZHJlbiA9IFsuLi5jb21tZW50cywgLi4uYnJhbmNoLmNoaWxkcmVuXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBpcyBmb3JjaW5nIHNhbWUga2V5IG9uIGRpZmZlcmVudCBicmFuY2hlc1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIXRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYnJhbmNoLnVzZXJLZXk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcuYnJhbmNoZXMuZm9yRWFjaCgoeyB1c2VyS2V5IH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTYW1lS2V5KHVzZXJLZXksIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZUNvbXBpbGVyRXJyb3IoMjkgLyogRXJyb3JDb2Rlcy5YX1ZfSUZfU0FNRV9LRVkgKi8sIGJyYW5jaC51c2VyS2V5LmxvYykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNpYmxpbmcuYnJhbmNoZXMucHVzaChicmFuY2gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9uRXhpdCA9IHByb2Nlc3NDb2RlZ2VuICYmIHByb2Nlc3NDb2RlZ2VuKHNpYmxpbmcsIGJyYW5jaCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBicmFuY2ggd2FzIHJlbW92ZWQsIGl0IHdpbGwgbm90IGJlIHRyYXZlcnNlZC5cbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdG8gdHJhdmVyc2UgaGVyZS5cbiAgICAgICAgICAgICAgICB0cmF2ZXJzZU5vZGUoYnJhbmNoLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAvLyBjYWxsIG9uIGV4aXRcbiAgICAgICAgICAgICAgICBpZiAob25FeGl0KVxuICAgICAgICAgICAgICAgICAgICBvbkV4aXQoKTtcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgY3VycmVudE5vZGUgYWZ0ZXIgdHJhdmVyc2FsIHRvIGluZGljYXRlIHRoaXNcbiAgICAgICAgICAgICAgICAvLyBub2RlIGhhcyBiZWVuIHJlbW92ZWQuXG4gICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlQ29tcGlsZXJFcnJvcigzMCAvKiBFcnJvckNvZGVzLlhfVl9FTFNFX05PX0FESkFDRU5UX0lGICovLCBub2RlLmxvYykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVJZkJyYW5jaChub2RlLCBkaXIpIHtcbiAgICBjb25zdCBpc1RlbXBsYXRlSWYgPSBub2RlLnRhZ1R5cGUgPT09IDMgLyogRWxlbWVudFR5cGVzLlRFTVBMQVRFICovO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IDEwIC8qIE5vZGVUeXBlcy5JRl9CUkFOQ0ggKi8sXG4gICAgICAgIGxvYzogbm9kZS5sb2MsXG4gICAgICAgIGNvbmRpdGlvbjogZGlyLm5hbWUgPT09ICdlbHNlJyA/IHVuZGVmaW5lZCA6IGRpci5leHAsXG4gICAgICAgIGNoaWxkcmVuOiBpc1RlbXBsYXRlSWYgJiYgIWZpbmREaXIobm9kZSwgJ2ZvcicpID8gbm9kZS5jaGlsZHJlbiA6IFtub2RlXSxcbiAgICAgICAgdXNlcktleTogZmluZFByb3Aobm9kZSwgYGtleWApLFxuICAgICAgICBpc1RlbXBsYXRlSWZcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQ29kZWdlbk5vZGVGb3JCcmFuY2goYnJhbmNoLCBrZXlJbmRleCwgY29udGV4dCkge1xuICAgIGlmIChicmFuY2guY29uZGl0aW9uKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVDb25kaXRpb25hbEV4cHJlc3Npb24oYnJhbmNoLmNvbmRpdGlvbiwgY3JlYXRlQ2hpbGRyZW5Db2RlZ2VuTm9kZShicmFuY2gsIGtleUluZGV4LCBjb250ZXh0KSwgXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byBwYXNzIGluIGFzQmxvY2s6IHRydWUgc28gdGhhdCB0aGUgY29tbWVudCBub2RlIGNhbGxcbiAgICAgICAgLy8gY2xvc2VzIHRoZSBjdXJyZW50IGJsb2NrLlxuICAgICAgICBjcmVhdGVDYWxsRXhwcmVzc2lvbihjb250ZXh0LmhlbHBlcihDUkVBVEVfQ09NTUVOVCksIFtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdcInYtaWZcIicgOiAnXCJcIicsXG4gICAgICAgICAgICAndHJ1ZSdcbiAgICAgICAgXSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUNoaWxkcmVuQ29kZWdlbk5vZGUoYnJhbmNoLCBrZXlJbmRleCwgY29udGV4dCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQ2hpbGRyZW5Db2RlZ2VuTm9kZShicmFuY2gsIGtleUluZGV4LCBjb250ZXh0KSB7XG4gICAgY29uc3QgeyBoZWxwZXIgfSA9IGNvbnRleHQ7XG4gICAgY29uc3Qga2V5UHJvcGVydHkgPSBjcmVhdGVPYmplY3RQcm9wZXJ0eShga2V5YCwgY3JlYXRlU2ltcGxlRXhwcmVzc2lvbihgJHtrZXlJbmRleH1gLCBmYWxzZSwgbG9jU3R1YiwgMiAvKiBDb25zdGFudFR5cGVzLkNBTl9IT0lTVCAqLykpO1xuICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IGJyYW5jaDtcbiAgICBjb25zdCBmaXJzdENoaWxkID0gY2hpbGRyZW5bMF07XG4gICAgY29uc3QgbmVlZEZyYWdtZW50V3JhcHBlciA9IGNoaWxkcmVuLmxlbmd0aCAhPT0gMSB8fCBmaXJzdENoaWxkLnR5cGUgIT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi87XG4gICAgaWYgKG5lZWRGcmFnbWVudFdyYXBwZXIpIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiBmaXJzdENoaWxkLnR5cGUgPT09IDExIC8qIE5vZGVUeXBlcy5GT1IgKi8pIHtcbiAgICAgICAgICAgIC8vIG9wdGltaXplIGF3YXkgbmVzdGVkIGZyYWdtZW50cyB3aGVuIGNoaWxkIGlzIGEgRm9yTm9kZVxuICAgICAgICAgICAgY29uc3Qgdm5vZGVDYWxsID0gZmlyc3RDaGlsZC5jb2RlZ2VuTm9kZTtcbiAgICAgICAgICAgIGluamVjdFByb3Aodm5vZGVDYWxsLCBrZXlQcm9wZXJ0eSwgY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gdm5vZGVDYWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBhdGNoRmxhZyA9IDY0IC8qIFBhdGNoRmxhZ3MuU1RBQkxFX0ZSQUdNRU5UICovO1xuICAgICAgICAgICAgbGV0IHBhdGNoRmxhZ1RleHQgPSBQYXRjaEZsYWdOYW1lc1s2NCAvKiBQYXRjaEZsYWdzLlNUQUJMRV9GUkFHTUVOVCAqL107XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgZnJhZ21lbnQgYWN0dWFsbHkgY29udGFpbnMgYSBzaW5nbGUgdmFsaWQgY2hpbGQgd2l0aFxuICAgICAgICAgICAgLy8gdGhlIHJlc3QgYmVpbmcgY29tbWVudHNcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAhYnJhbmNoLmlzVGVtcGxhdGVJZiAmJlxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZpbHRlcihjID0+IGMudHlwZSAhPT0gMyAvKiBOb2RlVHlwZXMuQ09NTUVOVCAqLykubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcGF0Y2hGbGFnIHw9IDIwNDggLyogUGF0Y2hGbGFncy5ERVZfUk9PVF9GUkFHTUVOVCAqLztcbiAgICAgICAgICAgICAgICBwYXRjaEZsYWdUZXh0ICs9IGAsICR7UGF0Y2hGbGFnTmFtZXNbMjA0OCAvKiBQYXRjaEZsYWdzLkRFVl9ST09UX0ZSQUdNRU5UICovXX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlQ2FsbChjb250ZXh0LCBoZWxwZXIoRlJBR01FTlQpLCBjcmVhdGVPYmplY3RFeHByZXNzaW9uKFtrZXlQcm9wZXJ0eV0pLCBjaGlsZHJlbiwgcGF0Y2hGbGFnICsgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGAgLyogJHtwYXRjaEZsYWdUZXh0fSAqL2AgOiBgYCksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlLCBmYWxzZSwgZmFsc2UgLyogaXNDb21wb25lbnQgKi8sIGJyYW5jaC5sb2MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByZXQgPSBmaXJzdENoaWxkLmNvZGVnZW5Ob2RlO1xuICAgICAgICBjb25zdCB2bm9kZUNhbGwgPSBnZXRNZW1vZWRWTm9kZUNhbGwocmV0KTtcbiAgICAgICAgLy8gQ2hhbmdlIGNyZWF0ZVZOb2RlIHRvIGNyZWF0ZUJsb2NrLlxuICAgICAgICBpZiAodm5vZGVDYWxsLnR5cGUgPT09IDEzIC8qIE5vZGVUeXBlcy5WTk9ERV9DQUxMICovKSB7XG4gICAgICAgICAgICBtYWtlQmxvY2sodm5vZGVDYWxsLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbmplY3QgYnJhbmNoIGtleVxuICAgICAgICBpbmplY3RQcm9wKHZub2RlQ2FsbCwga2V5UHJvcGVydHksIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzU2FtZUtleShhLCBiKSB7XG4gICAgaWYgKCFhIHx8IGEudHlwZSAhPT0gYi50eXBlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGEudHlwZSA9PT0gNiAvKiBOb2RlVHlwZXMuQVRUUklCVVRFICovKSB7XG4gICAgICAgIGlmIChhLnZhbHVlLmNvbnRlbnQgIT09IGIudmFsdWUuY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBkaXJlY3RpdmVcbiAgICAgICAgY29uc3QgZXhwID0gYS5leHA7XG4gICAgICAgIGNvbnN0IGJyYW5jaEV4cCA9IGIuZXhwO1xuICAgICAgICBpZiAoZXhwLnR5cGUgIT09IGJyYW5jaEV4cC50eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cC50eXBlICE9PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLyB8fFxuICAgICAgICAgICAgZXhwLmlzU3RhdGljICE9PSBicmFuY2hFeHAuaXNTdGF0aWMgfHxcbiAgICAgICAgICAgIGV4cC5jb250ZW50ICE9PSBicmFuY2hFeHAuY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50Q29uZGl0aW9uKG5vZGUpIHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAobm9kZS50eXBlID09PSAxOSAvKiBOb2RlVHlwZXMuSlNfQ09ORElUSU9OQUxfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICAgICAgaWYgKG5vZGUuYWx0ZXJuYXRlLnR5cGUgPT09IDE5IC8qIE5vZGVUeXBlcy5KU19DT05ESVRJT05BTF9FWFBSRVNTSU9OICovKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS50eXBlID09PSAyMCAvKiBOb2RlVHlwZXMuSlNfQ0FDSEVfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IHRyYW5zZm9ybUZvciA9IGNyZWF0ZVN0cnVjdHVyYWxEaXJlY3RpdmVUcmFuc2Zvcm0oJ2ZvcicsIChub2RlLCBkaXIsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhlbHBlciwgcmVtb3ZlSGVscGVyIH0gPSBjb250ZXh0O1xuICAgIHJldHVybiBwcm9jZXNzRm9yKG5vZGUsIGRpciwgY29udGV4dCwgZm9yTm9kZSA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgbG9vcCByZW5kZXIgZnVuY3Rpb24gZXhwcmVzc2lvbiBub3csIGFuZCBhZGQgdGhlXG4gICAgICAgIC8vIGl0ZXJhdG9yIG9uIGV4aXQgYWZ0ZXIgYWxsIGNoaWxkcmVuIGhhdmUgYmVlbiB0cmF2ZXJzZWRcbiAgICAgICAgY29uc3QgcmVuZGVyRXhwID0gY3JlYXRlQ2FsbEV4cHJlc3Npb24oaGVscGVyKFJFTkRFUl9MSVNUKSwgW1xuICAgICAgICAgICAgZm9yTm9kZS5zb3VyY2VcbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IGlzVGVtcGxhdGUgPSBpc1RlbXBsYXRlTm9kZShub2RlKTtcbiAgICAgICAgY29uc3QgbWVtbyA9IGZpbmREaXIobm9kZSwgJ21lbW8nKTtcbiAgICAgICAgY29uc3Qga2V5UHJvcCA9IGZpbmRQcm9wKG5vZGUsIGBrZXlgKTtcbiAgICAgICAgY29uc3Qga2V5RXhwID0ga2V5UHJvcCAmJlxuICAgICAgICAgICAgKGtleVByb3AudHlwZSA9PT0gNiAvKiBOb2RlVHlwZXMuQVRUUklCVVRFICovXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGtleVByb3AudmFsdWUuY29udGVudCwgdHJ1ZSlcbiAgICAgICAgICAgICAgICA6IGtleVByb3AuZXhwKTtcbiAgICAgICAgY29uc3Qga2V5UHJvcGVydHkgPSBrZXlQcm9wID8gY3JlYXRlT2JqZWN0UHJvcGVydHkoYGtleWAsIGtleUV4cCkgOiBudWxsO1xuICAgICAgICBjb25zdCBpc1N0YWJsZUZyYWdtZW50ID0gZm9yTm9kZS5zb3VyY2UudHlwZSA9PT0gNCAvKiBOb2RlVHlwZXMuU0lNUExFX0VYUFJFU1NJT04gKi8gJiZcbiAgICAgICAgICAgIGZvck5vZGUuc291cmNlLmNvbnN0VHlwZSA+IDAgLyogQ29uc3RhbnRUeXBlcy5OT1RfQ09OU1RBTlQgKi87XG4gICAgICAgIGNvbnN0IGZyYWdtZW50RmxhZyA9IGlzU3RhYmxlRnJhZ21lbnRcbiAgICAgICAgICAgID8gNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi9cbiAgICAgICAgICAgIDoga2V5UHJvcFxuICAgICAgICAgICAgICAgID8gMTI4IC8qIFBhdGNoRmxhZ3MuS0VZRURfRlJBR01FTlQgKi9cbiAgICAgICAgICAgICAgICA6IDI1NiAvKiBQYXRjaEZsYWdzLlVOS0VZRURfRlJBR01FTlQgKi87XG4gICAgICAgIGZvck5vZGUuY29kZWdlbk5vZGUgPSBjcmVhdGVWTm9kZUNhbGwoY29udGV4dCwgaGVscGVyKEZSQUdNRU5UKSwgdW5kZWZpbmVkLCByZW5kZXJFeHAsIGZyYWdtZW50RmxhZyArXG4gICAgICAgICAgICAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYCAvKiAke1BhdGNoRmxhZ05hbWVzW2ZyYWdtZW50RmxhZ119ICovYCA6IGBgKSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUgLyogaXNCbG9jayAqLywgIWlzU3RhYmxlRnJhZ21lbnQgLyogZGlzYWJsZVRyYWNraW5nICovLCBmYWxzZSAvKiBpc0NvbXBvbmVudCAqLywgbm9kZS5sb2MpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgLy8gZmluaXNoIHRoZSBjb2RlZ2VuIG5vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGJlZW4gdHJhdmVyc2VkXG4gICAgICAgICAgICBsZXQgY2hpbGRCbG9jaztcbiAgICAgICAgICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IGZvck5vZGU7XG4gICAgICAgICAgICAvLyBjaGVjayA8dGVtcGxhdGUgdi1mb3I+IGtleSBwbGFjZW1lbnRcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICF0cnVlKSAmJiBpc1RlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlbi5zb21lKGMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYy50eXBlID09PSAxIC8qIE5vZGVUeXBlcy5FTEVNRU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBmaW5kUHJvcChjLCAna2V5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZUNvbXBpbGVyRXJyb3IoMzMgLyogRXJyb3JDb2Rlcy5YX1ZfRk9SX1RFTVBMQVRFX0tFWV9QTEFDRU1FTlQgKi8sIGtleS5sb2MpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmVlZEZyYWdtZW50V3JhcHBlciA9IGNoaWxkcmVuLmxlbmd0aCAhPT0gMSB8fCBjaGlsZHJlblswXS50eXBlICE9PSAxIC8qIE5vZGVUeXBlcy5FTEVNRU5UICovO1xuICAgICAgICAgICAgY29uc3Qgc2xvdE91dGxldCA9IGlzU2xvdE91dGxldChub2RlKVxuICAgICAgICAgICAgICAgID8gbm9kZVxuICAgICAgICAgICAgICAgIDogaXNUZW1wbGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICBpc1Nsb3RPdXRsZXQobm9kZS5jaGlsZHJlblswXSlcbiAgICAgICAgICAgICAgICAgICAgPyBub2RlLmNoaWxkcmVuWzBdIC8vIGFwaS1leHRyYWN0b3Igc29tZWhvdyBmYWlscyB0byBpbmZlciB0aGlzXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChzbG90T3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgLy8gPHNsb3Qgdi1mb3I9XCIuLi5cIj4gb3IgPHRlbXBsYXRlIHYtZm9yPVwiLi4uXCI+PHNsb3QvPjwvdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgY2hpbGRCbG9jayA9IHNsb3RPdXRsZXQuY29kZWdlbk5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGVtcGxhdGUgJiYga2V5UHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gPHRlbXBsYXRlIHYtZm9yPVwiLi4uXCIgOmtleT1cIi4uLlwiPjxzbG90Lz48L3RlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGluamVjdCB0aGUga2V5IHRvIHRoZSByZW5kZXJTbG90KCkgY2FsbC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByb3BzIGZvciByZW5kZXJTbG90IGlzIHBhc3NlZCBhcyB0aGUgM3JkIGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RQcm9wKGNoaWxkQmxvY2ssIGtleVByb3BlcnR5LCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuZWVkRnJhZ21lbnRXcmFwcGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gPHRlbXBsYXRlIHYtZm9yPVwiLi4uXCI+IHdpdGggdGV4dCBvciBtdWx0aS1lbGVtZW50c1xuICAgICAgICAgICAgICAgIC8vIHNob3VsZCBnZW5lcmF0ZSBhIGZyYWdtZW50IGJsb2NrIGZvciBlYWNoIGxvb3BcbiAgICAgICAgICAgICAgICBjaGlsZEJsb2NrID0gY3JlYXRlVk5vZGVDYWxsKGNvbnRleHQsIGhlbHBlcihGUkFHTUVOVCksIGtleVByb3BlcnR5ID8gY3JlYXRlT2JqZWN0RXhwcmVzc2lvbihba2V5UHJvcGVydHldKSA6IHVuZGVmaW5lZCwgbm9kZS5jaGlsZHJlbiwgNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi8gK1xuICAgICAgICAgICAgICAgICAgICAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAgLyogJHtQYXRjaEZsYWdOYW1lc1s2NCAvKiBQYXRjaEZsYWdzLlNUQUJMRV9GUkFHTUVOVCAqL119ICovYFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgYCksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlLCB1bmRlZmluZWQsIGZhbHNlIC8qIGlzQ29tcG9uZW50ICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vcm1hbCBlbGVtZW50IHYtZm9yLiBEaXJlY3RseSB1c2UgdGhlIGNoaWxkJ3MgY29kZWdlbk5vZGVcbiAgICAgICAgICAgICAgICAvLyBidXQgbWFyayBpdCBhcyBhIGJsb2NrLlxuICAgICAgICAgICAgICAgIGNoaWxkQmxvY2sgPSBjaGlsZHJlblswXVxuICAgICAgICAgICAgICAgICAgICAuY29kZWdlbk5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGVtcGxhdGUgJiYga2V5UHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0UHJvcChjaGlsZEJsb2NrLCBrZXlQcm9wZXJ0eSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEJsb2NrLmlzQmxvY2sgIT09ICFpc1N0YWJsZUZyYWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEJsb2NrLmlzQmxvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN3aXRjaCBmcm9tIGJsb2NrIHRvIHZub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVIZWxwZXIoT1BFTl9CTE9DSyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVIZWxwZXIoZ2V0Vk5vZGVCbG9ja0hlbHBlcihjb250ZXh0LmluU1NSLCBjaGlsZEJsb2NrLmlzQ29tcG9uZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggZnJvbSB2bm9kZSB0byBibG9ja1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSGVscGVyKGdldFZOb2RlSGVscGVyKGNvbnRleHQuaW5TU1IsIGNoaWxkQmxvY2suaXNDb21wb25lbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGlsZEJsb2NrLmlzQmxvY2sgPSAhaXNTdGFibGVGcmFnbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRCbG9jay5pc0Jsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlbHBlcihPUEVOX0JMT0NLKTtcbiAgICAgICAgICAgICAgICAgICAgaGVscGVyKGdldFZOb2RlQmxvY2tIZWxwZXIoY29udGV4dC5pblNTUiwgY2hpbGRCbG9jay5pc0NvbXBvbmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGVscGVyKGdldFZOb2RlSGVscGVyKGNvbnRleHQuaW5TU1IsIGNoaWxkQmxvY2suaXNDb21wb25lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVtbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvb3AgPSBjcmVhdGVGdW5jdGlvbkV4cHJlc3Npb24oY3JlYXRlRm9yTG9vcFBhcmFtcyhmb3JOb2RlLnBhcnNlUmVzdWx0LCBbXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oYF9jYWNoZWRgKVxuICAgICAgICAgICAgICAgIF0pKTtcbiAgICAgICAgICAgICAgICBsb29wLmJvZHkgPSBjcmVhdGVCbG9ja1N0YXRlbWVudChbXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvbXBvdW5kRXhwcmVzc2lvbihbYGNvbnN0IF9tZW1vID0gKGAsIG1lbW8uZXhwLCBgKWBdKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ29tcG91bmRFeHByZXNzaW9uKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpZiAoX2NhY2hlZGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oa2V5RXhwID8gW2AgJiYgX2NhY2hlZC5rZXkgPT09IGAsIGtleUV4cF0gOiBbXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBgICYmICR7Y29udGV4dC5oZWxwZXJTdHJpbmcoSVNfTUVNT19TQU1FKX0oX2NhY2hlZCwgX21lbW8pKSByZXR1cm4gX2NhY2hlZGBcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvbXBvdW5kRXhwcmVzc2lvbihbYGNvbnN0IF9pdGVtID0gYCwgY2hpbGRCbG9ja10pLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGBfaXRlbS5tZW1vID0gX21lbW9gKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2ltcGxlRXhwcmVzc2lvbihgcmV0dXJuIF9pdGVtYClcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICByZW5kZXJFeHAuYXJndW1lbnRzLnB1c2gobG9vcCwgY3JlYXRlU2ltcGxlRXhwcmVzc2lvbihgX2NhY2hlYCksIGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oU3RyaW5nKGNvbnRleHQuY2FjaGVkKyspKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJFeHAuYXJndW1lbnRzLnB1c2goY3JlYXRlRnVuY3Rpb25FeHByZXNzaW9uKGNyZWF0ZUZvckxvb3BQYXJhbXMoZm9yTm9kZS5wYXJzZVJlc3VsdCksIGNoaWxkQmxvY2ssIHRydWUgLyogZm9yY2UgbmV3bGluZSAqLykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xufSk7XG4vLyB0YXJnZXQtYWdub3N0aWMgdHJhbnNmb3JtIHVzZWQgZm9yIGJvdGggQ2xpZW50IGFuZCBTU1JcbmZ1bmN0aW9uIHByb2Nlc3NGb3Iobm9kZSwgZGlyLCBjb250ZXh0LCBwcm9jZXNzQ29kZWdlbikge1xuICAgIGlmICghZGlyLmV4cCkge1xuICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlQ29tcGlsZXJFcnJvcigzMSAvKiBFcnJvckNvZGVzLlhfVl9GT1JfTk9fRVhQUkVTU0lPTiAqLywgZGlyLmxvYykpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gcGFyc2VGb3JFeHByZXNzaW9uKFxuICAgIC8vIGNhbiBvbmx5IGJlIHNpbXBsZSBleHByZXNzaW9uIGJlY2F1c2UgdkZvciB0cmFuc2Zvcm0gaXMgYXBwbGllZFxuICAgIC8vIGJlZm9yZSBleHByZXNzaW9uIHRyYW5zZm9ybS5cbiAgICBkaXIuZXhwLCBjb250ZXh0KTtcbiAgICBpZiAoIXBhcnNlUmVzdWx0KSB7XG4gICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVDb21waWxlckVycm9yKDMyIC8qIEVycm9yQ29kZXMuWF9WX0ZPUl9NQUxGT1JNRURfRVhQUkVTU0lPTiAqLywgZGlyLmxvYykpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgYWRkSWRlbnRpZmllcnMsIHJlbW92ZUlkZW50aWZpZXJzLCBzY29wZXMgfSA9IGNvbnRleHQ7XG4gICAgY29uc3QgeyBzb3VyY2UsIHZhbHVlLCBrZXksIGluZGV4IH0gPSBwYXJzZVJlc3VsdDtcbiAgICBjb25zdCBmb3JOb2RlID0ge1xuICAgICAgICB0eXBlOiAxMSAvKiBOb2RlVHlwZXMuRk9SICovLFxuICAgICAgICBsb2M6IGRpci5sb2MsXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgdmFsdWVBbGlhczogdmFsdWUsXG4gICAgICAgIGtleUFsaWFzOiBrZXksXG4gICAgICAgIG9iamVjdEluZGV4QWxpYXM6IGluZGV4LFxuICAgICAgICBwYXJzZVJlc3VsdCxcbiAgICAgICAgY2hpbGRyZW46IGlzVGVtcGxhdGVOb2RlKG5vZGUpID8gbm9kZS5jaGlsZHJlbiA6IFtub2RlXVxuICAgIH07XG4gICAgY29udGV4dC5yZXBsYWNlTm9kZShmb3JOb2RlKTtcbiAgICAvLyBib29ra2VlcGluZ1xuICAgIHNjb3Blcy52Rm9yKys7XG4gICAgY29uc3Qgb25FeGl0ID0gcHJvY2Vzc0NvZGVnZW4gJiYgcHJvY2Vzc0NvZGVnZW4oZm9yTm9kZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgc2NvcGVzLnZGb3ItLTtcbiAgICAgICAgaWYgKG9uRXhpdClcbiAgICAgICAgICAgIG9uRXhpdCgpO1xuICAgIH07XG59XG5jb25zdCBmb3JBbGlhc1JFID0gLyhbXFxzXFxTXSo/KVxccysoPzppbnxvZilcXHMrKFtcXHNcXFNdKikvO1xuLy8gVGhpcyByZWdleCBkb2Vzbid0IGNvdmVyIHRoZSBjYXNlIGlmIGtleSBvciBpbmRleCBhbGlhc2VzIGhhdmUgZGVzdHJ1Y3R1cmluZyxcbi8vIGJ1dCB0aG9zZSBkbyBub3QgbWFrZSBzZW5zZSBpbiB0aGUgZmlyc3QgcGxhY2UsIHNvIHRoaXMgd29ya3MgaW4gcHJhY3RpY2UuXG5jb25zdCBmb3JJdGVyYXRvclJFID0gLywoW14sXFx9XFxdXSopKD86LChbXixcXH1cXF1dKikpPyQvO1xuY29uc3Qgc3RyaXBQYXJlbnNSRSA9IC9eXFwofFxcKSQvZztcbmZ1bmN0aW9uIHBhcnNlRm9yRXhwcmVzc2lvbihpbnB1dCwgY29udGV4dCkge1xuICAgIGNvbnN0IGxvYyA9IGlucHV0LmxvYztcbiAgICBjb25zdCBleHAgPSBpbnB1dC5jb250ZW50O1xuICAgIGNvbnN0IGluTWF0Y2ggPSBleHAubWF0Y2goZm9yQWxpYXNSRSk7XG4gICAgaWYgKCFpbk1hdGNoKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgWywgTEhTLCBSSFNdID0gaW5NYXRjaDtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHNvdXJjZTogY3JlYXRlQWxpYXNFeHByZXNzaW9uKGxvYywgUkhTLnRyaW0oKSwgZXhwLmluZGV4T2YoUkhTLCBMSFMubGVuZ3RoKSksXG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIGtleTogdW5kZWZpbmVkLFxuICAgICAgICBpbmRleDogdW5kZWZpbmVkXG4gICAgfTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHRydWUpIHtcbiAgICAgICAgdmFsaWRhdGVCcm93c2VyRXhwcmVzc2lvbihyZXN1bHQuc291cmNlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgbGV0IHZhbHVlQ29udGVudCA9IExIUy50cmltKCkucmVwbGFjZShzdHJpcFBhcmVuc1JFLCAnJykudHJpbSgpO1xuICAgIGNvbnN0IHRyaW1tZWRPZmZzZXQgPSBMSFMuaW5kZXhPZih2YWx1ZUNvbnRlbnQpO1xuICAgIGNvbnN0IGl0ZXJhdG9yTWF0Y2ggPSB2YWx1ZUNvbnRlbnQubWF0Y2goZm9ySXRlcmF0b3JSRSk7XG4gICAgaWYgKGl0ZXJhdG9yTWF0Y2gpIHtcbiAgICAgICAgdmFsdWVDb250ZW50ID0gdmFsdWVDb250ZW50LnJlcGxhY2UoZm9ySXRlcmF0b3JSRSwgJycpLnRyaW0oKTtcbiAgICAgICAgY29uc3Qga2V5Q29udGVudCA9IGl0ZXJhdG9yTWF0Y2hbMV0udHJpbSgpO1xuICAgICAgICBsZXQga2V5T2Zmc2V0O1xuICAgICAgICBpZiAoa2V5Q29udGVudCkge1xuICAgICAgICAgICAga2V5T2Zmc2V0ID0gZXhwLmluZGV4T2Yoa2V5Q29udGVudCwgdHJpbW1lZE9mZnNldCArIHZhbHVlQ29udGVudC5sZW5ndGgpO1xuICAgICAgICAgICAgcmVzdWx0LmtleSA9IGNyZWF0ZUFsaWFzRXhwcmVzc2lvbihsb2MsIGtleUNvbnRlbnQsIGtleU9mZnNldCk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUJyb3dzZXJFeHByZXNzaW9uKHJlc3VsdC5rZXksIGNvbnRleHQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVyYXRvck1hdGNoWzJdKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleENvbnRlbnQgPSBpdGVyYXRvck1hdGNoWzJdLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChpbmRleENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuaW5kZXggPSBjcmVhdGVBbGlhc0V4cHJlc3Npb24obG9jLCBpbmRleENvbnRlbnQsIGV4cC5pbmRleE9mKGluZGV4Q29udGVudCwgcmVzdWx0LmtleVxuICAgICAgICAgICAgICAgICAgICA/IGtleU9mZnNldCArIGtleUNvbnRlbnQubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIDogdHJpbW1lZE9mZnNldCArIHZhbHVlQ29udGVudC5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVCcm93c2VyRXhwcmVzc2lvbihyZXN1bHQuaW5kZXgsIGNvbnRleHQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodmFsdWVDb250ZW50KSB7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IGNyZWF0ZUFsaWFzRXhwcmVzc2lvbihsb2MsIHZhbHVlQ29udGVudCwgdHJpbW1lZE9mZnNldCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdHJ1ZSkge1xuICAgICAgICAgICAgdmFsaWRhdGVCcm93c2VyRXhwcmVzc2lvbihyZXN1bHQudmFsdWUsIGNvbnRleHQsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjcmVhdGVBbGlhc0V4cHJlc3Npb24ocmFuZ2UsIGNvbnRlbnQsIG9mZnNldCkge1xuICAgIHJldHVybiBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGNvbnRlbnQsIGZhbHNlLCBnZXRJbm5lclJhbmdlKHJhbmdlLCBvZmZzZXQsIGNvbnRlbnQubGVuZ3RoKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVGb3JMb29wUGFyYW1zKHsgdmFsdWUsIGtleSwgaW5kZXggfSwgbWVtb0FyZ3MgPSBbXSkge1xuICAgIHJldHVybiBjcmVhdGVQYXJhbXNMaXN0KFt2YWx1ZSwga2V5LCBpbmRleCwgLi4ubWVtb0FyZ3NdKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhcmFtc0xpc3QoYXJncykge1xuICAgIGxldCBpID0gYXJncy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBpZiAoYXJnc1tpXSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYXJnc1xuICAgICAgICAuc2xpY2UoMCwgaSArIDEpXG4gICAgICAgIC5tYXAoKGFyZywgaSkgPT4gYXJnIHx8IGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oYF9gLnJlcGVhdChpICsgMSksIGZhbHNlKSk7XG59XG5cbmNvbnN0IGRlZmF1bHRGYWxsYmFjayA9IGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oYHVuZGVmaW5lZGAsIGZhbHNlKTtcbi8vIEEgTm9kZVRyYW5zZm9ybSB0aGF0OlxuLy8gMS4gVHJhY2tzIHNjb3BlIGlkZW50aWZpZXJzIGZvciBzY29wZWQgc2xvdHMgc28gdGhhdCB0aGV5IGRvbid0IGdldCBwcmVmaXhlZFxuLy8gICAgYnkgdHJhbnNmb3JtRXhwcmVzc2lvbi4gVGhpcyBpcyBvbmx5IGFwcGxpZWQgaW4gbm9uLWJyb3dzZXIgYnVpbGRzIHdpdGhcbi8vICAgIHsgcHJlZml4SWRlbnRpZmllcnM6IHRydWUgfS5cbi8vIDIuIFRyYWNrIHYtc2xvdCBkZXB0aHMgc28gdGhhdCB3ZSBrbm93IGEgc2xvdCBpcyBpbnNpZGUgYW5vdGhlciBzbG90LlxuLy8gICAgTm90ZSB0aGUgZXhpdCBjYWxsYmFjayBpcyBleGVjdXRlZCBiZWZvcmUgYnVpbGRTbG90cygpIG9uIHRoZSBzYW1lIG5vZGUsXG4vLyAgICBzbyBvbmx5IG5lc3RlZCBzbG90cyBzZWUgcG9zaXRpdmUgbnVtYmVycy5cbmNvbnN0IHRyYWNrU2xvdFNjb3BlcyA9IChub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJlxuICAgICAgICAobm9kZS50YWdUeXBlID09PSAxIC8qIEVsZW1lbnRUeXBlcy5DT01QT05FTlQgKi8gfHxcbiAgICAgICAgICAgIG5vZGUudGFnVHlwZSA9PT0gMyAvKiBFbGVtZW50VHlwZXMuVEVNUExBVEUgKi8pKSB7XG4gICAgICAgIC8vIFdlIGFyZSBvbmx5IGNoZWNraW5nIG5vbi1lbXB0eSB2LXNsb3QgaGVyZVxuICAgICAgICAvLyBzaW5jZSB3ZSBvbmx5IGNhcmUgYWJvdXQgc2xvdHMgdGhhdCBpbnRyb2R1Y2Ugc2NvcGUgdmFyaWFibGVzLlxuICAgICAgICBjb25zdCB2U2xvdCA9IGZpbmREaXIobm9kZSwgJ3Nsb3QnKTtcbiAgICAgICAgaWYgKHZTbG90KSB7XG4gICAgICAgICAgICB2U2xvdC5leHA7XG4gICAgICAgICAgICBjb250ZXh0LnNjb3Blcy52U2xvdCsrO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNjb3Blcy52U2xvdC0tO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBidWlsZENsaWVudFNsb3RGbiA9IChwcm9wcywgY2hpbGRyZW4sIGxvYykgPT4gY3JlYXRlRnVuY3Rpb25FeHByZXNzaW9uKHByb3BzLCBjaGlsZHJlbiwgZmFsc2UgLyogbmV3bGluZSAqLywgdHJ1ZSAvKiBpc1Nsb3QgKi8sIGNoaWxkcmVuLmxlbmd0aCA/IGNoaWxkcmVuWzBdLmxvYyA6IGxvYyk7XG4vLyBJbnN0ZWFkIG9mIGJlaW5nIGEgRGlyZWN0aXZlVHJhbnNmb3JtLCB2LXNsb3QgcHJvY2Vzc2luZyBpcyBjYWxsZWQgZHVyaW5nXG4vLyB0cmFuc2Zvcm1FbGVtZW50IHRvIGJ1aWxkIHRoZSBzbG90cyBvYmplY3QgZm9yIGEgY29tcG9uZW50LlxuZnVuY3Rpb24gYnVpbGRTbG90cyhub2RlLCBjb250ZXh0LCBidWlsZFNsb3RGbiA9IGJ1aWxkQ2xpZW50U2xvdEZuKSB7XG4gICAgY29udGV4dC5oZWxwZXIoV0lUSF9DVFgpO1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIGxvYyB9ID0gbm9kZTtcbiAgICBjb25zdCBzbG90c1Byb3BlcnRpZXMgPSBbXTtcbiAgICBjb25zdCBkeW5hbWljU2xvdHMgPSBbXTtcbiAgICAvLyBJZiB0aGUgc2xvdCBpcyBpbnNpZGUgYSB2LWZvciBvciBhbm90aGVyIHYtc2xvdCwgZm9yY2UgaXQgdG8gYmUgZHluYW1pY1xuICAgIC8vIHNpbmNlIGl0IGxpa2VseSB1c2VzIGEgc2NvcGUgdmFyaWFibGUuXG4gICAgbGV0IGhhc0R5bmFtaWNTbG90cyA9IGNvbnRleHQuc2NvcGVzLnZTbG90ID4gMCB8fCBjb250ZXh0LnNjb3Blcy52Rm9yID4gMDtcbiAgICAvLyAxLiBDaGVjayBmb3Igc2xvdCB3aXRoIHNsb3RQcm9wcyBvbiBjb21wb25lbnQgaXRzZWxmLlxuICAgIC8vICAgIDxDb21wIHYtc2xvdD1cInsgcHJvcCB9XCIvPlxuICAgIGNvbnN0IG9uQ29tcG9uZW50U2xvdCA9IGZpbmREaXIobm9kZSwgJ3Nsb3QnLCB0cnVlKTtcbiAgICBpZiAob25Db21wb25lbnRTbG90KSB7XG4gICAgICAgIGNvbnN0IHsgYXJnLCBleHAgfSA9IG9uQ29tcG9uZW50U2xvdDtcbiAgICAgICAgaWYgKGFyZyAmJiAhaXNTdGF0aWNFeHAoYXJnKSkge1xuICAgICAgICAgICAgaGFzRHluYW1pY1Nsb3RzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzbG90c1Byb3BlcnRpZXMucHVzaChjcmVhdGVPYmplY3RQcm9wZXJ0eShhcmcgfHwgY3JlYXRlU2ltcGxlRXhwcmVzc2lvbignZGVmYXVsdCcsIHRydWUpLCBidWlsZFNsb3RGbihleHAsIGNoaWxkcmVuLCBsb2MpKSk7XG4gICAgfVxuICAgIC8vIDIuIEl0ZXJhdGUgdGhyb3VnaCBjaGlsZHJlbiBhbmQgY2hlY2sgZm9yIHRlbXBsYXRlIHNsb3RzXG4gICAgLy8gICAgPHRlbXBsYXRlIHYtc2xvdDpmb289XCJ7IHByb3AgfVwiPlxuICAgIGxldCBoYXNUZW1wbGF0ZVNsb3RzID0gZmFsc2U7XG4gICAgbGV0IGhhc05hbWVkRGVmYXVsdFNsb3QgPSBmYWxzZTtcbiAgICBjb25zdCBpbXBsaWNpdERlZmF1bHRDaGlsZHJlbiA9IFtdO1xuICAgIGNvbnN0IHNlZW5TbG90TmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgbGV0IGNvbmRpdGlvbmFsQnJhbmNoSW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdEVsZW1lbnQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgbGV0IHNsb3REaXI7XG4gICAgICAgIGlmICghaXNUZW1wbGF0ZU5vZGUoc2xvdEVsZW1lbnQpIHx8XG4gICAgICAgICAgICAhKHNsb3REaXIgPSBmaW5kRGlyKHNsb3RFbGVtZW50LCAnc2xvdCcsIHRydWUpKSkge1xuICAgICAgICAgICAgLy8gbm90IGEgPHRlbXBsYXRlIHYtc2xvdD4sIHNraXAuXG4gICAgICAgICAgICBpZiAoc2xvdEVsZW1lbnQudHlwZSAhPT0gMyAvKiBOb2RlVHlwZXMuQ09NTUVOVCAqLykge1xuICAgICAgICAgICAgICAgIGltcGxpY2l0RGVmYXVsdENoaWxkcmVuLnB1c2goc2xvdEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uQ29tcG9uZW50U2xvdCkge1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBoYXMgb24tY29tcG9uZW50IHNsb3QgLSB0aGlzIGlzIGluY29ycmVjdCB1c2FnZS5cbiAgICAgICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVDb21waWxlckVycm9yKDM3IC8qIEVycm9yQ29kZXMuWF9WX1NMT1RfTUlYRURfU0xPVF9VU0FHRSAqLywgc2xvdERpci5sb2MpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGhhc1RlbXBsYXRlU2xvdHMgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IGNoaWxkcmVuOiBzbG90Q2hpbGRyZW4sIGxvYzogc2xvdExvYyB9ID0gc2xvdEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHsgYXJnOiBzbG90TmFtZSA9IGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oYGRlZmF1bHRgLCB0cnVlKSwgZXhwOiBzbG90UHJvcHMsIGxvYzogZGlyTG9jIH0gPSBzbG90RGlyO1xuICAgICAgICAvLyBjaGVjayBpZiBuYW1lIGlzIGR5bmFtaWMuXG4gICAgICAgIGxldCBzdGF0aWNTbG90TmFtZTtcbiAgICAgICAgaWYgKGlzU3RhdGljRXhwKHNsb3ROYW1lKSkge1xuICAgICAgICAgICAgc3RhdGljU2xvdE5hbWUgPSBzbG90TmFtZSA/IHNsb3ROYW1lLmNvbnRlbnQgOiBgZGVmYXVsdGA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYXNEeW5hbWljU2xvdHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNsb3RGdW5jdGlvbiA9IGJ1aWxkU2xvdEZuKHNsb3RQcm9wcywgc2xvdENoaWxkcmVuLCBzbG90TG9jKTtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBzbG90IGlzIGNvbmRpdGlvbmFsICh2LWlmL3YtZm9yKVxuICAgICAgICBsZXQgdklmO1xuICAgICAgICBsZXQgdkVsc2U7XG4gICAgICAgIGxldCB2Rm9yO1xuICAgICAgICBpZiAoKHZJZiA9IGZpbmREaXIoc2xvdEVsZW1lbnQsICdpZicpKSkge1xuICAgICAgICAgICAgaGFzRHluYW1pY1Nsb3RzID0gdHJ1ZTtcbiAgICAgICAgICAgIGR5bmFtaWNTbG90cy5wdXNoKGNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbih2SWYuZXhwLCBidWlsZER5bmFtaWNTbG90KHNsb3ROYW1lLCBzbG90RnVuY3Rpb24sIGNvbmRpdGlvbmFsQnJhbmNoSW5kZXgrKyksIGRlZmF1bHRGYWxsYmFjaykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh2RWxzZSA9IGZpbmREaXIoc2xvdEVsZW1lbnQsIC9eZWxzZSgtaWYpPyQvLCB0cnVlIC8qIGFsbG93RW1wdHkgKi8pKSkge1xuICAgICAgICAgICAgLy8gZmluZCBhZGphY2VudCB2LWlmXG4gICAgICAgICAgICBsZXQgaiA9IGk7XG4gICAgICAgICAgICBsZXQgcHJldjtcbiAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0gY2hpbGRyZW5bal07XG4gICAgICAgICAgICAgICAgaWYgKHByZXYudHlwZSAhPT0gMyAvKiBOb2RlVHlwZXMuQ09NTUVOVCAqLykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldiAmJiBpc1RlbXBsYXRlTm9kZShwcmV2KSAmJiBmaW5kRGlyKHByZXYsICdpZicpKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG5vZGVcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIC8vIGF0dGFjaCB0aGlzIHNsb3QgdG8gcHJldmlvdXMgY29uZGl0aW9uYWxcbiAgICAgICAgICAgICAgICBsZXQgY29uZGl0aW9uYWwgPSBkeW5hbWljU2xvdHNbZHluYW1pY1Nsb3RzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjb25kaXRpb25hbC5hbHRlcm5hdGUudHlwZSA9PT0gMTkgLyogTm9kZVR5cGVzLkpTX0NPTkRJVElPTkFMX0VYUFJFU1NJT04gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uYWwgPSBjb25kaXRpb25hbC5hbHRlcm5hdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbmFsLmFsdGVybmF0ZSA9IHZFbHNlLmV4cFxuICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZUNvbmRpdGlvbmFsRXhwcmVzc2lvbih2RWxzZS5leHAsIGJ1aWxkRHluYW1pY1Nsb3Qoc2xvdE5hbWUsIHNsb3RGdW5jdGlvbiwgY29uZGl0aW9uYWxCcmFuY2hJbmRleCsrKSwgZGVmYXVsdEZhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgICA6IGJ1aWxkRHluYW1pY1Nsb3Qoc2xvdE5hbWUsIHNsb3RGdW5jdGlvbiwgY29uZGl0aW9uYWxCcmFuY2hJbmRleCsrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVDb21waWxlckVycm9yKDMwIC8qIEVycm9yQ29kZXMuWF9WX0VMU0VfTk9fQURKQUNFTlRfSUYgKi8sIHZFbHNlLmxvYykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh2Rm9yID0gZmluZERpcihzbG90RWxlbWVudCwgJ2ZvcicpKSkge1xuICAgICAgICAgICAgaGFzRHluYW1pY1Nsb3RzID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gdkZvci5wYXJzZVJlc3VsdCB8fFxuICAgICAgICAgICAgICAgIHBhcnNlRm9yRXhwcmVzc2lvbih2Rm9yLmV4cCwgY29udGV4dCk7XG4gICAgICAgICAgICBpZiAocGFyc2VSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAvLyBSZW5kZXIgdGhlIGR5bmFtaWMgc2xvdHMgYXMgYW4gYXJyYXkgYW5kIGFkZCBpdCB0byB0aGUgY3JlYXRlU2xvdCgpXG4gICAgICAgICAgICAgICAgLy8gYXJncy4gVGhlIHJ1bnRpbWUga25vd3MgaG93IHRvIGhhbmRsZSBpdCBhcHByb3ByaWF0ZWx5LlxuICAgICAgICAgICAgICAgIGR5bmFtaWNTbG90cy5wdXNoKGNyZWF0ZUNhbGxFeHByZXNzaW9uKGNvbnRleHQuaGVscGVyKFJFTkRFUl9MSVNUKSwgW1xuICAgICAgICAgICAgICAgICAgICBwYXJzZVJlc3VsdC5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUZ1bmN0aW9uRXhwcmVzc2lvbihjcmVhdGVGb3JMb29wUGFyYW1zKHBhcnNlUmVzdWx0KSwgYnVpbGREeW5hbWljU2xvdChzbG90TmFtZSwgc2xvdEZ1bmN0aW9uKSwgdHJ1ZSAvKiBmb3JjZSBuZXdsaW5lICovKVxuICAgICAgICAgICAgICAgIF0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVDb21waWxlckVycm9yKDMyIC8qIEVycm9yQ29kZXMuWF9WX0ZPUl9NQUxGT1JNRURfRVhQUkVTU0lPTiAqLywgdkZvci5sb2MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGR1cGxpY2F0ZSBzdGF0aWMgbmFtZXNcbiAgICAgICAgICAgIGlmIChzdGF0aWNTbG90TmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWVuU2xvdE5hbWVzLmhhcyhzdGF0aWNTbG90TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZUNvbXBpbGVyRXJyb3IoMzggLyogRXJyb3JDb2Rlcy5YX1ZfU0xPVF9EVVBMSUNBVEVfU0xPVF9OQU1FUyAqLywgZGlyTG9jKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWVuU2xvdE5hbWVzLmFkZChzdGF0aWNTbG90TmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRpY1Nsb3ROYW1lID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzTmFtZWREZWZhdWx0U2xvdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2xvdHNQcm9wZXJ0aWVzLnB1c2goY3JlYXRlT2JqZWN0UHJvcGVydHkoc2xvdE5hbWUsIHNsb3RGdW5jdGlvbikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghb25Db21wb25lbnRTbG90KSB7XG4gICAgICAgIGNvbnN0IGJ1aWxkRGVmYXVsdFNsb3RQcm9wZXJ0eSA9IChwcm9wcywgY2hpbGRyZW4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gYnVpbGRTbG90Rm4ocHJvcHMsIGNoaWxkcmVuLCBsb2MpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQuY29tcGF0Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgZm4uaXNOb25TY29wZWRTbG90ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVPYmplY3RQcm9wZXJ0eShgZGVmYXVsdGAsIGZuKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFoYXNUZW1wbGF0ZVNsb3RzKSB7XG4gICAgICAgICAgICAvLyBpbXBsaWNpdCBkZWZhdWx0IHNsb3QgKG9uIGNvbXBvbmVudClcbiAgICAgICAgICAgIHNsb3RzUHJvcGVydGllcy5wdXNoKGJ1aWxkRGVmYXVsdFNsb3RQcm9wZXJ0eSh1bmRlZmluZWQsIGNoaWxkcmVuKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW1wbGljaXREZWZhdWx0Q2hpbGRyZW4ubGVuZ3RoICYmXG4gICAgICAgICAgICAvLyAjMzc2NlxuICAgICAgICAgICAgLy8gd2l0aCB3aGl0ZXNwYWNlOiAncHJlc2VydmUnLCB3aGl0ZXNwYWNlcyBiZXR3ZWVuIHNsb3RzIHdpbGwgZW5kIHVwIGluXG4gICAgICAgICAgICAvLyBpbXBsaWNpdERlZmF1bHRDaGlsZHJlbi4gSWdub3JlIGlmIGFsbCBpbXBsaWNpdCBjaGlsZHJlbiBhcmUgd2hpdGVzcGFjZXMuXG4gICAgICAgICAgICBpbXBsaWNpdERlZmF1bHRDaGlsZHJlbi5zb21lKG5vZGUgPT4gaXNOb25XaGl0ZXNwYWNlQ29udGVudChub2RlKSkpIHtcbiAgICAgICAgICAgIC8vIGltcGxpY2l0IGRlZmF1bHQgc2xvdCAobWl4ZWQgd2l0aCBuYW1lZCBzbG90cylcbiAgICAgICAgICAgIGlmIChoYXNOYW1lZERlZmF1bHRTbG90KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZUNvbXBpbGVyRXJyb3IoMzkgLyogRXJyb3JDb2Rlcy5YX1ZfU0xPVF9FWFRSQU5FT1VTX0RFRkFVTFRfU0xPVF9DSElMRFJFTiAqLywgaW1wbGljaXREZWZhdWx0Q2hpbGRyZW5bMF0ubG9jKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzbG90c1Byb3BlcnRpZXMucHVzaChidWlsZERlZmF1bHRTbG90UHJvcGVydHkodW5kZWZpbmVkLCBpbXBsaWNpdERlZmF1bHRDaGlsZHJlbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNsb3RGbGFnID0gaGFzRHluYW1pY1Nsb3RzXG4gICAgICAgID8gMiAvKiBTbG90RmxhZ3MuRFlOQU1JQyAqL1xuICAgICAgICA6IGhhc0ZvcndhcmRlZFNsb3RzKG5vZGUuY2hpbGRyZW4pXG4gICAgICAgICAgICA/IDMgLyogU2xvdEZsYWdzLkZPUldBUkRFRCAqL1xuICAgICAgICAgICAgOiAxIC8qIFNsb3RGbGFncy5TVEFCTEUgKi87XG4gICAgbGV0IHNsb3RzID0gY3JlYXRlT2JqZWN0RXhwcmVzc2lvbihzbG90c1Byb3BlcnRpZXMuY29uY2F0KGNyZWF0ZU9iamVjdFByb3BlcnR5KGBfYCwgXG4gICAgLy8gMiA9IGNvbXBpbGVkIGJ1dCBkeW5hbWljID0gY2FuIHNraXAgbm9ybWFsaXphdGlvbiwgYnV0IG11c3QgcnVuIGRpZmZcbiAgICAvLyAxID0gY29tcGlsZWQgYW5kIHN0YXRpYyA9IGNhbiBza2lwIG5vcm1hbGl6YXRpb24gQU5EIGRpZmYgYXMgb3B0aW1pemVkXG4gICAgY3JlYXRlU2ltcGxlRXhwcmVzc2lvbihzbG90RmxhZyArICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgIC8qICR7c2xvdEZsYWdzVGV4dFtzbG90RmxhZ119ICovYCA6IGBgKSwgZmFsc2UpKSksIGxvYyk7XG4gICAgaWYgKGR5bmFtaWNTbG90cy5sZW5ndGgpIHtcbiAgICAgICAgc2xvdHMgPSBjcmVhdGVDYWxsRXhwcmVzc2lvbihjb250ZXh0LmhlbHBlcihDUkVBVEVfU0xPVFMpLCBbXG4gICAgICAgICAgICBzbG90cyxcbiAgICAgICAgICAgIGNyZWF0ZUFycmF5RXhwcmVzc2lvbihkeW5hbWljU2xvdHMpXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzbG90cyxcbiAgICAgICAgaGFzRHluYW1pY1Nsb3RzXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkRHluYW1pY1Nsb3QobmFtZSwgZm4sIGluZGV4KSB7XG4gICAgY29uc3QgcHJvcHMgPSBbXG4gICAgICAgIGNyZWF0ZU9iamVjdFByb3BlcnR5KGBuYW1lYCwgbmFtZSksXG4gICAgICAgIGNyZWF0ZU9iamVjdFByb3BlcnR5KGBmbmAsIGZuKVxuICAgIF07XG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcHJvcHMucHVzaChjcmVhdGVPYmplY3RQcm9wZXJ0eShga2V5YCwgY3JlYXRlU2ltcGxlRXhwcmVzc2lvbihTdHJpbmcoaW5kZXgpLCB0cnVlKSkpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlT2JqZWN0RXhwcmVzc2lvbihwcm9wcyk7XG59XG5mdW5jdGlvbiBoYXNGb3J3YXJkZWRTbG90cyhjaGlsZHJlbikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgc3dpdGNoIChjaGlsZC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnRhZ1R5cGUgPT09IDIgLyogRWxlbWVudFR5cGVzLlNMT1QgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgaGFzRm9yd2FyZGVkU2xvdHMoY2hpbGQuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgOSAvKiBOb2RlVHlwZXMuSUYgKi86XG4gICAgICAgICAgICAgICAgaWYgKGhhc0ZvcndhcmRlZFNsb3RzKGNoaWxkLmJyYW5jaGVzKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEwIC8qIE5vZGVUeXBlcy5JRl9CUkFOQ0ggKi86XG4gICAgICAgICAgICBjYXNlIDExIC8qIE5vZGVUeXBlcy5GT1IgKi86XG4gICAgICAgICAgICAgICAgaWYgKGhhc0ZvcndhcmRlZFNsb3RzKGNoaWxkLmNoaWxkcmVuKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNOb25XaGl0ZXNwYWNlQ29udGVudChub2RlKSB7XG4gICAgaWYgKG5vZGUudHlwZSAhPT0gMiAvKiBOb2RlVHlwZXMuVEVYVCAqLyAmJiBub2RlLnR5cGUgIT09IDEyIC8qIE5vZGVUeXBlcy5URVhUX0NBTEwgKi8pXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IDIgLyogTm9kZVR5cGVzLlRFWFQgKi9cbiAgICAgICAgPyAhIW5vZGUuY29udGVudC50cmltKClcbiAgICAgICAgOiBpc05vbldoaXRlc3BhY2VDb250ZW50KG5vZGUuY29udGVudCk7XG59XG5cbi8vIHNvbWUgZGlyZWN0aXZlIHRyYW5zZm9ybXMgKGUuZy4gdi1tb2RlbCkgbWF5IHJldHVybiBhIHN5bWJvbCBmb3IgcnVudGltZVxuLy8gaW1wb3J0LCB3aGljaCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGEgcmVzb2x2ZURpcmVjdGl2ZSBjYWxsLlxuY29uc3QgZGlyZWN0aXZlSW1wb3J0TWFwID0gbmV3IFdlYWtNYXAoKTtcbi8vIGdlbmVyYXRlIGEgSmF2YVNjcmlwdCBBU1QgZm9yIHRoaXMgZWxlbWVudCdzIGNvZGVnZW5cbmNvbnN0IHRyYW5zZm9ybUVsZW1lbnQgPSAobm9kZSwgY29udGV4dCkgPT4ge1xuICAgIC8vIHBlcmZvcm0gdGhlIHdvcmsgb24gZXhpdCwgYWZ0ZXIgYWxsIGNoaWxkIGV4cHJlc3Npb25zIGhhdmUgYmVlblxuICAgIC8vIHByb2Nlc3NlZCBhbmQgbWVyZ2VkLlxuICAgIHJldHVybiBmdW5jdGlvbiBwb3N0VHJhbnNmb3JtRWxlbWVudCgpIHtcbiAgICAgICAgbm9kZSA9IGNvbnRleHQuY3VycmVudE5vZGU7XG4gICAgICAgIGlmICghKG5vZGUudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJlxuICAgICAgICAgICAgKG5vZGUudGFnVHlwZSA9PT0gMCAvKiBFbGVtZW50VHlwZXMuRUxFTUVOVCAqLyB8fFxuICAgICAgICAgICAgICAgIG5vZGUudGFnVHlwZSA9PT0gMSAvKiBFbGVtZW50VHlwZXMuQ09NUE9ORU5UICovKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHRhZywgcHJvcHMgfSA9IG5vZGU7XG4gICAgICAgIGNvbnN0IGlzQ29tcG9uZW50ID0gbm9kZS50YWdUeXBlID09PSAxIC8qIEVsZW1lbnRUeXBlcy5DT01QT05FTlQgKi87XG4gICAgICAgIC8vIFRoZSBnb2FsIG9mIHRoZSB0cmFuc2Zvcm0gaXMgdG8gY3JlYXRlIGEgY29kZWdlbk5vZGUgaW1wbGVtZW50aW5nIHRoZVxuICAgICAgICAvLyBWTm9kZUNhbGwgaW50ZXJmYWNlLlxuICAgICAgICBsZXQgdm5vZGVUYWcgPSBpc0NvbXBvbmVudFxuICAgICAgICAgICAgPyByZXNvbHZlQ29tcG9uZW50VHlwZShub2RlLCBjb250ZXh0KVxuICAgICAgICAgICAgOiBgXCIke3RhZ31cImA7XG4gICAgICAgIGNvbnN0IGlzRHluYW1pY0NvbXBvbmVudCA9IGlzT2JqZWN0KHZub2RlVGFnKSAmJiB2bm9kZVRhZy5jYWxsZWUgPT09IFJFU09MVkVfRFlOQU1JQ19DT01QT05FTlQ7XG4gICAgICAgIGxldCB2bm9kZVByb3BzO1xuICAgICAgICBsZXQgdm5vZGVDaGlsZHJlbjtcbiAgICAgICAgbGV0IHZub2RlUGF0Y2hGbGFnO1xuICAgICAgICBsZXQgcGF0Y2hGbGFnID0gMDtcbiAgICAgICAgbGV0IHZub2RlRHluYW1pY1Byb3BzO1xuICAgICAgICBsZXQgZHluYW1pY1Byb3BOYW1lcztcbiAgICAgICAgbGV0IHZub2RlRGlyZWN0aXZlcztcbiAgICAgICAgbGV0IHNob3VsZFVzZUJsb2NrID0gXG4gICAgICAgIC8vIGR5bmFtaWMgY29tcG9uZW50IG1heSByZXNvbHZlIHRvIHBsYWluIGVsZW1lbnRzXG4gICAgICAgIGlzRHluYW1pY0NvbXBvbmVudCB8fFxuICAgICAgICAgICAgdm5vZGVUYWcgPT09IFRFTEVQT1JUIHx8XG4gICAgICAgICAgICB2bm9kZVRhZyA9PT0gU1VTUEVOU0UgfHxcbiAgICAgICAgICAgICghaXNDb21wb25lbnQgJiZcbiAgICAgICAgICAgICAgICAvLyA8c3ZnPiBhbmQgPGZvcmVpZ25PYmplY3Q+IG11c3QgYmUgZm9yY2VkIGludG8gYmxvY2tzIHNvIHRoYXQgYmxvY2tcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVzIGluc2lkZSBnZXQgcHJvcGVyIGlzU1ZHIGZsYWcgYXQgcnVudGltZS4gKCM2MzksICM2NDMpXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0ZWNobmljYWxseSB3ZWItc3BlY2lmaWMsIGJ1dCBzcGxpdHRpbmcgdGhlIGxvZ2ljIG91dCBvZiBjb3JlXG4gICAgICAgICAgICAgICAgLy8gbGVhZHMgdG8gdG9vIG11Y2ggdW5uZWNlc3NhcnkgY29tcGxleGl0eS5cbiAgICAgICAgICAgICAgICAodGFnID09PSAnc3ZnJyB8fCB0YWcgPT09ICdmb3JlaWduT2JqZWN0JykpO1xuICAgICAgICAvLyBwcm9wc1xuICAgICAgICBpZiAocHJvcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcHJvcHNCdWlsZFJlc3VsdCA9IGJ1aWxkUHJvcHMobm9kZSwgY29udGV4dCwgdW5kZWZpbmVkLCBpc0NvbXBvbmVudCwgaXNEeW5hbWljQ29tcG9uZW50KTtcbiAgICAgICAgICAgIHZub2RlUHJvcHMgPSBwcm9wc0J1aWxkUmVzdWx0LnByb3BzO1xuICAgICAgICAgICAgcGF0Y2hGbGFnID0gcHJvcHNCdWlsZFJlc3VsdC5wYXRjaEZsYWc7XG4gICAgICAgICAgICBkeW5hbWljUHJvcE5hbWVzID0gcHJvcHNCdWlsZFJlc3VsdC5keW5hbWljUHJvcE5hbWVzO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlcyA9IHByb3BzQnVpbGRSZXN1bHQuZGlyZWN0aXZlcztcbiAgICAgICAgICAgIHZub2RlRGlyZWN0aXZlcyA9XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlcyAmJiBkaXJlY3RpdmVzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZUFycmF5RXhwcmVzc2lvbihkaXJlY3RpdmVzLm1hcChkaXIgPT4gYnVpbGREaXJlY3RpdmVBcmdzKGRpciwgY29udGV4dCkpKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChwcm9wc0J1aWxkUmVzdWx0LnNob3VsZFVzZUJsb2NrKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkVXNlQmxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNoaWxkcmVuXG4gICAgICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICh2bm9kZVRhZyA9PT0gS0VFUF9BTElWRSkge1xuICAgICAgICAgICAgICAgIC8vIEFsdGhvdWdoIGEgYnVpbHQtaW4gY29tcG9uZW50LCB3ZSBjb21waWxlIEtlZXBBbGl2ZSB3aXRoIHJhdyBjaGlsZHJlblxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2Ygc2xvdCBmdW5jdGlvbnMgc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBpbnNpZGUgVHJhbnNpdGlvblxuICAgICAgICAgICAgICAgIC8vIG9yIG90aGVyIFRyYW5zaXRpb24td3JhcHBpbmcgSE9Dcy5cbiAgICAgICAgICAgICAgICAvLyBUbyBlbnN1cmUgY29ycmVjdCB1cGRhdGVzIHdpdGggYmxvY2sgb3B0aW1pemF0aW9ucywgd2UgbmVlZCB0bzpcbiAgICAgICAgICAgICAgICAvLyAxLiBGb3JjZSBrZWVwLWFsaXZlIGludG8gYSBibG9jay4gVGhpcyBhdm9pZHMgaXRzIGNoaWxkcmVuIGJlaW5nXG4gICAgICAgICAgICAgICAgLy8gICAgY29sbGVjdGVkIGJ5IGEgcGFyZW50IGJsb2NrLlxuICAgICAgICAgICAgICAgIHNob3VsZFVzZUJsb2NrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyAyLiBGb3JjZSBrZWVwLWFsaXZlIHRvIGFsd2F5cyBiZSB1cGRhdGVkLCBzaW5jZSBpdCB1c2VzIHJhdyBjaGlsZHJlbi5cbiAgICAgICAgICAgICAgICBwYXRjaEZsYWcgfD0gMTAyNCAvKiBQYXRjaEZsYWdzLkRZTkFNSUNfU0xPVFMgKi87XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZUNvbXBpbGVyRXJyb3IoNDYgLyogRXJyb3JDb2Rlcy5YX0tFRVBfQUxJVkVfSU5WQUxJRF9DSElMRFJFTiAqLywge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG5vZGUuY2hpbGRyZW5bMF0ubG9jLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBub2RlLmNoaWxkcmVuW25vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMV0ubG9jLmVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJydcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNob3VsZEJ1aWxkQXNTbG90cyA9IGlzQ29tcG9uZW50ICYmXG4gICAgICAgICAgICAgICAgLy8gVGVsZXBvcnQgaXMgbm90IGEgcmVhbCBjb21wb25lbnQgYW5kIGhhcyBkZWRpY2F0ZWQgcnVudGltZSBoYW5kbGluZ1xuICAgICAgICAgICAgICAgIHZub2RlVGFnICE9PSBURUxFUE9SVCAmJlxuICAgICAgICAgICAgICAgIC8vIGV4cGxhaW5lZCBhYm92ZS5cbiAgICAgICAgICAgICAgICB2bm9kZVRhZyAhPT0gS0VFUF9BTElWRTtcbiAgICAgICAgICAgIGlmIChzaG91bGRCdWlsZEFzU2xvdHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNsb3RzLCBoYXNEeW5hbWljU2xvdHMgfSA9IGJ1aWxkU2xvdHMobm9kZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgdm5vZGVDaGlsZHJlbiA9IHNsb3RzO1xuICAgICAgICAgICAgICAgIGlmIChoYXNEeW5hbWljU2xvdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hGbGFnIHw9IDEwMjQgLyogUGF0Y2hGbGFncy5EWU5BTUlDX1NMT1RTICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIHZub2RlVGFnICE9PSBURUxFUE9SVCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gY2hpbGQudHlwZTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3IgZHluYW1pYyB0ZXh0IGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRHluYW1pY1RleHRDaGlsZCA9IHR5cGUgPT09IDUgLyogTm9kZVR5cGVzLklOVEVSUE9MQVRJT04gKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gOCAvKiBOb2RlVHlwZXMuQ09NUE9VTkRfRVhQUkVTU0lPTiAqLztcbiAgICAgICAgICAgICAgICBpZiAoaGFzRHluYW1pY1RleHRDaGlsZCAmJlxuICAgICAgICAgICAgICAgICAgICBnZXRDb25zdGFudFR5cGUoY2hpbGQsIGNvbnRleHQpID09PSAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoRmxhZyB8PSAxIC8qIFBhdGNoRmxhZ3MuVEVYVCAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcGFzcyBkaXJlY3RseSBpZiB0aGUgb25seSBjaGlsZCBpcyBhIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgIC8vIChwbGFpbiAvIGludGVycG9sYXRpb24gLyBleHByZXNzaW9uKVxuICAgICAgICAgICAgICAgIGlmIChoYXNEeW5hbWljVGV4dENoaWxkIHx8IHR5cGUgPT09IDIgLyogTm9kZVR5cGVzLlRFWFQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdm5vZGVDaGlsZHJlbiA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdm5vZGVDaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdm5vZGVDaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGF0Y2hGbGFnICYgZHluYW1pY1Byb3BOYW1lc1xuICAgICAgICBpZiAocGF0Y2hGbGFnICE9PSAwKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBmbGFncyAobmVnYXRpdmUgYW5kIG11dHVhbGx5IGV4Y2x1c2l2ZSlcbiAgICAgICAgICAgICAgICAgICAgdm5vZGVQYXRjaEZsYWcgPSBwYXRjaEZsYWcgKyBgIC8qICR7UGF0Y2hGbGFnTmFtZXNbcGF0Y2hGbGFnXX0gKi9gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYml0d2lzZSBmbGFnc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbGFnTmFtZXMgPSBPYmplY3Qua2V5cyhQYXRjaEZsYWdOYW1lcylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoTnVtYmVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihuID0+IG4gPiAwICYmIHBhdGNoRmxhZyAmIG4pXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKG4gPT4gUGF0Y2hGbGFnTmFtZXNbbl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbihgLCBgKTtcbiAgICAgICAgICAgICAgICAgICAgdm5vZGVQYXRjaEZsYWcgPSBwYXRjaEZsYWcgKyBgIC8qICR7ZmxhZ05hbWVzfSAqL2A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdm5vZGVQYXRjaEZsYWcgPSBTdHJpbmcocGF0Y2hGbGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkeW5hbWljUHJvcE5hbWVzICYmIGR5bmFtaWNQcm9wTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdm5vZGVEeW5hbWljUHJvcHMgPSBzdHJpbmdpZnlEeW5hbWljUHJvcE5hbWVzKGR5bmFtaWNQcm9wTmFtZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUuY29kZWdlbk5vZGUgPSBjcmVhdGVWTm9kZUNhbGwoY29udGV4dCwgdm5vZGVUYWcsIHZub2RlUHJvcHMsIHZub2RlQ2hpbGRyZW4sIHZub2RlUGF0Y2hGbGFnLCB2bm9kZUR5bmFtaWNQcm9wcywgdm5vZGVEaXJlY3RpdmVzLCAhIXNob3VsZFVzZUJsb2NrLCBmYWxzZSAvKiBkaXNhYmxlVHJhY2tpbmcgKi8sIGlzQ29tcG9uZW50LCBub2RlLmxvYyk7XG4gICAgfTtcbn07XG5mdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50VHlwZShub2RlLCBjb250ZXh0LCBzc3IgPSBmYWxzZSkge1xuICAgIGxldCB7IHRhZyB9ID0gbm9kZTtcbiAgICAvLyAxLiBkeW5hbWljIGNvbXBvbmVudFxuICAgIGNvbnN0IGlzRXhwbGljaXREeW5hbWljID0gaXNDb21wb25lbnRUYWcodGFnKTtcbiAgICBjb25zdCBpc1Byb3AgPSBmaW5kUHJvcChub2RlLCAnaXMnKTtcbiAgICBpZiAoaXNQcm9wKSB7XG4gICAgICAgIGlmIChpc0V4cGxpY2l0RHluYW1pYyB8fFxuICAgICAgICAgICAgKGlzQ29tcGF0RW5hYmxlZCQxKFwiQ09NUElMRVJfSVNfT05fRUxFTUVOVFwiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9JU19PTl9FTEVNRU5UICovLCBjb250ZXh0KSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cCA9IGlzUHJvcC50eXBlID09PSA2IC8qIE5vZGVUeXBlcy5BVFRSSUJVVEUgKi9cbiAgICAgICAgICAgICAgICA/IGlzUHJvcC52YWx1ZSAmJiBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGlzUHJvcC52YWx1ZS5jb250ZW50LCB0cnVlKVxuICAgICAgICAgICAgICAgIDogaXNQcm9wLmV4cDtcbiAgICAgICAgICAgIGlmIChleHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2FsbEV4cHJlc3Npb24oY29udGV4dC5oZWxwZXIoUkVTT0xWRV9EWU5BTUlDX0NPTVBPTkVOVCksIFtcbiAgICAgICAgICAgICAgICAgICAgZXhwXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQcm9wLnR5cGUgPT09IDYgLyogTm9kZVR5cGVzLkFUVFJJQlVURSAqLyAmJlxuICAgICAgICAgICAgaXNQcm9wLnZhbHVlLmNvbnRlbnQuc3RhcnRzV2l0aCgndnVlOicpKSB7XG4gICAgICAgICAgICAvLyA8YnV0dG9uIGlzPVwidnVlOnh4eFwiPlxuICAgICAgICAgICAgLy8gaWYgbm90IDxjb21wb25lbnQ+LCBvbmx5IGlzIHZhbHVlIHRoYXQgc3RhcnRzIHdpdGggXCJ2dWU6XCIgd2lsbCBiZVxuICAgICAgICAgICAgLy8gdHJlYXRlZCBhcyBjb21wb25lbnQgYnkgdGhlIHBhcnNlIHBoYXNlIGFuZCByZWFjaCBoZXJlLCB1bmxlc3MgaXQnc1xuICAgICAgICAgICAgLy8gY29tcGF0IG1vZGUgd2hlcmUgYWxsIGlzIHZhbHVlcyBhcmUgY29uc2lkZXJlZCBjb21wb25lbnRzXG4gICAgICAgICAgICB0YWcgPSBpc1Byb3AudmFsdWUuY29udGVudC5zbGljZSg0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAxLjUgdi1pcyAoVE9ETzogRGVwcmVjYXRlKVxuICAgIGNvbnN0IGlzRGlyID0gIWlzRXhwbGljaXREeW5hbWljICYmIGZpbmREaXIobm9kZSwgJ2lzJyk7XG4gICAgaWYgKGlzRGlyICYmIGlzRGlyLmV4cCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQ2FsbEV4cHJlc3Npb24oY29udGV4dC5oZWxwZXIoUkVTT0xWRV9EWU5BTUlDX0NPTVBPTkVOVCksIFtcbiAgICAgICAgICAgIGlzRGlyLmV4cFxuICAgICAgICBdKTtcbiAgICB9XG4gICAgLy8gMi4gYnVpbHQtaW4gY29tcG9uZW50cyAoVGVsZXBvcnQsIFRyYW5zaXRpb24sIEtlZXBBbGl2ZSwgU3VzcGVuc2UuLi4pXG4gICAgY29uc3QgYnVpbHRJbiA9IGlzQ29yZUNvbXBvbmVudCh0YWcpIHx8IGNvbnRleHQuaXNCdWlsdEluQ29tcG9uZW50KHRhZyk7XG4gICAgaWYgKGJ1aWx0SW4pIHtcbiAgICAgICAgLy8gYnVpbHQtaW5zIGFyZSBzaW1wbHkgZmFsbHRocm91Z2hzIC8gaGF2ZSBzcGVjaWFsIGhhbmRsaW5nIGR1cmluZyBzc3JcbiAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBpbXBvcnQgdGhlaXIgcnVudGltZSBlcXVpdmFsZW50c1xuICAgICAgICBpZiAoIXNzcilcbiAgICAgICAgICAgIGNvbnRleHQuaGVscGVyKGJ1aWx0SW4pO1xuICAgICAgICByZXR1cm4gYnVpbHRJbjtcbiAgICB9XG4gICAgLy8gNS4gdXNlciBjb21wb25lbnQgKHJlc29sdmUpXG4gICAgY29udGV4dC5oZWxwZXIoUkVTT0xWRV9DT01QT05FTlQpO1xuICAgIGNvbnRleHQuY29tcG9uZW50cy5hZGQodGFnKTtcbiAgICByZXR1cm4gdG9WYWxpZEFzc2V0SWQodGFnLCBgY29tcG9uZW50YCk7XG59XG5mdW5jdGlvbiBidWlsZFByb3BzKG5vZGUsIGNvbnRleHQsIHByb3BzID0gbm9kZS5wcm9wcywgaXNDb21wb25lbnQsIGlzRHluYW1pY0NvbXBvbmVudCwgc3NyID0gZmFsc2UpIHtcbiAgICBjb25zdCB7IHRhZywgbG9jOiBlbGVtZW50TG9jLCBjaGlsZHJlbiB9ID0gbm9kZTtcbiAgICBsZXQgcHJvcGVydGllcyA9IFtdO1xuICAgIGNvbnN0IG1lcmdlQXJncyA9IFtdO1xuICAgIGNvbnN0IHJ1bnRpbWVEaXJlY3RpdmVzID0gW107XG4gICAgY29uc3QgaGFzQ2hpbGRyZW4gPSBjaGlsZHJlbi5sZW5ndGggPiAwO1xuICAgIGxldCBzaG91bGRVc2VCbG9jayA9IGZhbHNlO1xuICAgIC8vIHBhdGNoRmxhZyBhbmFseXNpc1xuICAgIGxldCBwYXRjaEZsYWcgPSAwO1xuICAgIGxldCBoYXNSZWYgPSBmYWxzZTtcbiAgICBsZXQgaGFzQ2xhc3NCaW5kaW5nID0gZmFsc2U7XG4gICAgbGV0IGhhc1N0eWxlQmluZGluZyA9IGZhbHNlO1xuICAgIGxldCBoYXNIeWRyYXRpb25FdmVudEJpbmRpbmcgPSBmYWxzZTtcbiAgICBsZXQgaGFzRHluYW1pY0tleXMgPSBmYWxzZTtcbiAgICBsZXQgaGFzVm5vZGVIb29rID0gZmFsc2U7XG4gICAgY29uc3QgZHluYW1pY1Byb3BOYW1lcyA9IFtdO1xuICAgIGNvbnN0IHB1c2hNZXJnZUFyZyA9IChhcmcpID0+IHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBtZXJnZUFyZ3MucHVzaChjcmVhdGVPYmplY3RFeHByZXNzaW9uKGRlZHVwZVByb3BlcnRpZXMocHJvcGVydGllcyksIGVsZW1lbnRMb2MpKTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnKVxuICAgICAgICAgICAgbWVyZ2VBcmdzLnB1c2goYXJnKTtcbiAgICB9O1xuICAgIGNvbnN0IGFuYWx5emVQYXRjaEZsYWcgPSAoeyBrZXksIHZhbHVlIH0pID0+IHtcbiAgICAgICAgaWYgKGlzU3RhdGljRXhwKGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBrZXkuY29udGVudDtcbiAgICAgICAgICAgIGNvbnN0IGlzRXZlbnRIYW5kbGVyID0gaXNPbihuYW1lKTtcbiAgICAgICAgICAgIGlmIChpc0V2ZW50SGFuZGxlciAmJlxuICAgICAgICAgICAgICAgICghaXNDb21wb25lbnQgfHwgaXNEeW5hbWljQ29tcG9uZW50KSAmJlxuICAgICAgICAgICAgICAgIC8vIG9taXQgdGhlIGZsYWcgZm9yIGNsaWNrIGhhbmRsZXJzIGJlY2F1c2UgaHlkcmF0aW9uIGdpdmVzIGNsaWNrXG4gICAgICAgICAgICAgICAgLy8gZGVkaWNhdGVkIGZhc3QgcGF0aC5cbiAgICAgICAgICAgICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdvbmNsaWNrJyAmJlxuICAgICAgICAgICAgICAgIC8vIG9taXQgdi1tb2RlbCBoYW5kbGVyc1xuICAgICAgICAgICAgICAgIG5hbWUgIT09ICdvblVwZGF0ZTptb2RlbFZhbHVlJyAmJlxuICAgICAgICAgICAgICAgIC8vIG9taXQgb25Wbm9kZVhYWCBob29rc1xuICAgICAgICAgICAgICAgICFpc1Jlc2VydmVkUHJvcChuYW1lKSkge1xuICAgICAgICAgICAgICAgIGhhc0h5ZHJhdGlvbkV2ZW50QmluZGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNFdmVudEhhbmRsZXIgJiYgaXNSZXNlcnZlZFByb3AobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBoYXNWbm9kZUhvb2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IDIwIC8qIE5vZGVUeXBlcy5KU19DQUNIRV9FWFBSRVNTSU9OICovIHx8XG4gICAgICAgICAgICAgICAgKCh2YWx1ZS50eXBlID09PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLyB8fFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS50eXBlID09PSA4IC8qIE5vZGVUeXBlcy5DT01QT1VORF9FWFBSRVNTSU9OICovKSAmJlxuICAgICAgICAgICAgICAgICAgICBnZXRDb25zdGFudFR5cGUodmFsdWUsIGNvbnRleHQpID4gMCkpIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIGlmIHRoZSBwcm9wIGlzIGEgY2FjaGVkIGhhbmRsZXIgb3IgaGFzIGNvbnN0YW50IHZhbHVlXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdyZWYnKSB7XG4gICAgICAgICAgICAgICAgaGFzUmVmID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5hbWUgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgICAgICBoYXNDbGFzc0JpbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgICAgIGhhc1N0eWxlQmluZGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuYW1lICE9PSAna2V5JyAmJiAhZHluYW1pY1Byb3BOYW1lcy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgIGR5bmFtaWNQcm9wTmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRyZWF0IHRoZSBkeW5hbWljIGNsYXNzIGFuZCBzdHlsZSBiaW5kaW5nIG9mIHRoZSBjb21wb25lbnQgYXMgZHluYW1pYyBwcm9wc1xuICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50ICYmXG4gICAgICAgICAgICAgICAgKG5hbWUgPT09ICdjbGFzcycgfHwgbmFtZSA9PT0gJ3N0eWxlJykgJiZcbiAgICAgICAgICAgICAgICAhZHluYW1pY1Byb3BOYW1lcy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgIGR5bmFtaWNQcm9wTmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhc0R5bmFtaWNLZXlzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBzdGF0aWMgYXR0cmlidXRlXG4gICAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgaWYgKHByb3AudHlwZSA9PT0gNiAvKiBOb2RlVHlwZXMuQVRUUklCVVRFICovKSB7XG4gICAgICAgICAgICBjb25zdCB7IGxvYywgbmFtZSwgdmFsdWUgfSA9IHByb3A7XG4gICAgICAgICAgICBsZXQgaXNTdGF0aWMgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdyZWYnKSB7XG4gICAgICAgICAgICAgICAgaGFzUmVmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5zY29wZXMudkZvciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGNyZWF0ZU9iamVjdFByb3BlcnR5KGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oJ3JlZl9mb3InLCB0cnVlKSwgY3JlYXRlU2ltcGxlRXhwcmVzc2lvbigndHJ1ZScpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2tpcCBpcyBvbiA8Y29tcG9uZW50Piwgb3IgaXM9XCJ2dWU6eHh4XCJcbiAgICAgICAgICAgIGlmIChuYW1lID09PSAnaXMnICYmXG4gICAgICAgICAgICAgICAgKGlzQ29tcG9uZW50VGFnKHRhZykgfHxcbiAgICAgICAgICAgICAgICAgICAgKHZhbHVlICYmIHZhbHVlLmNvbnRlbnQuc3RhcnRzV2l0aCgndnVlOicpKSB8fFxuICAgICAgICAgICAgICAgICAgICAoaXNDb21wYXRFbmFibGVkJDEoXCJDT01QSUxFUl9JU19PTl9FTEVNRU5UXCIgLyogQ29tcGlsZXJEZXByZWNhdGlvblR5cGVzLkNPTVBJTEVSX0lTX09OX0VMRU1FTlQgKi8sIGNvbnRleHQpKSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChjcmVhdGVPYmplY3RQcm9wZXJ0eShjcmVhdGVTaW1wbGVFeHByZXNzaW9uKG5hbWUsIHRydWUsIGdldElubmVyUmFuZ2UobG9jLCAwLCBuYW1lLmxlbmd0aCkpLCBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKHZhbHVlID8gdmFsdWUuY29udGVudCA6ICcnLCBpc1N0YXRpYywgdmFsdWUgPyB2YWx1ZS5sb2MgOiBsb2MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkaXJlY3RpdmVzXG4gICAgICAgICAgICBjb25zdCB7IG5hbWUsIGFyZywgZXhwLCBsb2MgfSA9IHByb3A7XG4gICAgICAgICAgICBjb25zdCBpc1ZCaW5kID0gbmFtZSA9PT0gJ2JpbmQnO1xuICAgICAgICAgICAgY29uc3QgaXNWT24gPSBuYW1lID09PSAnb24nO1xuICAgICAgICAgICAgLy8gc2tpcCB2LXNsb3QgLSBpdCBpcyBoYW5kbGVkIGJ5IGl0cyBkZWRpY2F0ZWQgdHJhbnNmb3JtLlxuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdzbG90Jykge1xuICAgICAgICAgICAgICAgIGlmICghaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZUNvbXBpbGVyRXJyb3IoNDAgLyogRXJyb3JDb2Rlcy5YX1ZfU0xPVF9NSVNQTEFDRUQgKi8sIGxvYykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNraXAgdi1vbmNlL3YtbWVtbyAtIHRoZXkgYXJlIGhhbmRsZWQgYnkgZGVkaWNhdGVkIHRyYW5zZm9ybXMuXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gJ29uY2UnIHx8IG5hbWUgPT09ICdtZW1vJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2tpcCB2LWlzIGFuZCA6aXMgb24gPGNvbXBvbmVudD5cbiAgICAgICAgICAgIGlmIChuYW1lID09PSAnaXMnIHx8XG4gICAgICAgICAgICAgICAgKGlzVkJpbmQgJiZcbiAgICAgICAgICAgICAgICAgICAgaXNTdGF0aWNBcmdPZihhcmcsICdpcycpICYmXG4gICAgICAgICAgICAgICAgICAgIChpc0NvbXBvbmVudFRhZyh0YWcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoaXNDb21wYXRFbmFibGVkJDEoXCJDT01QSUxFUl9JU19PTl9FTEVNRU5UXCIgLyogQ29tcGlsZXJEZXByZWNhdGlvblR5cGVzLkNPTVBJTEVSX0lTX09OX0VMRU1FTlQgKi8sIGNvbnRleHQpKSkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBza2lwIHYtb24gaW4gU1NSIGNvbXBpbGF0aW9uXG4gICAgICAgICAgICBpZiAoaXNWT24gJiYgc3NyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAvLyAjOTM4OiBlbGVtZW50cyB3aXRoIGR5bmFtaWMga2V5cyBzaG91bGQgYmUgZm9yY2VkIGludG8gYmxvY2tzXG4gICAgICAgICAgICAoaXNWQmluZCAmJiBpc1N0YXRpY0FyZ09mKGFyZywgJ2tleScpKSB8fFxuICAgICAgICAgICAgICAgIC8vIGlubGluZSBiZWZvcmUtdXBkYXRlIGhvb2tzIG5lZWQgdG8gZm9yY2UgYmxvY2sgc28gdGhhdCBpdCBpcyBpbnZva2VkXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgKGlzVk9uICYmIGhhc0NoaWxkcmVuICYmIGlzU3RhdGljQXJnT2YoYXJnLCAndnVlOmJlZm9yZS11cGRhdGUnKSkpIHtcbiAgICAgICAgICAgICAgICBzaG91bGRVc2VCbG9jayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNWQmluZCAmJiBpc1N0YXRpY0FyZ09mKGFyZywgJ3JlZicpICYmIGNvbnRleHQuc2NvcGVzLnZGb3IgPiAwKSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGNyZWF0ZU9iamVjdFByb3BlcnR5KGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oJ3JlZl9mb3InLCB0cnVlKSwgY3JlYXRlU2ltcGxlRXhwcmVzc2lvbigndHJ1ZScpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIHYtYmluZCBhbmQgdi1vbiB3aXRoIG5vIGFyZ3VtZW50XG4gICAgICAgICAgICBpZiAoIWFyZyAmJiAoaXNWQmluZCB8fCBpc1ZPbikpIHtcbiAgICAgICAgICAgICAgICBoYXNEeW5hbWljS2V5cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGV4cCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWQmluZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSB0byBtZXJnZSBlYXJseSBmb3IgY29tcGF0IGJ1aWxkIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoTWVyZ2VBcmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyLnggdi1iaW5kIG9iamVjdCBvcmRlciBjb21wYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc092ZXJyaWRhYmxlS2V5cyA9IG1lcmdlQXJncy5zb21lKGFyZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnLnR5cGUgPT09IDE1IC8qIE5vZGVUeXBlcy5KU19PQkpFQ1RfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcucHJvcGVydGllcy5zb21lKCh7IGtleSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkudHlwZSAhPT0gNCAvKiBOb2RlVHlwZXMuU0lNUExFX0VYUFJFU1NJT04gKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFrZXkuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoa2V5LmNvbnRlbnQgIT09ICdjbGFzcycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleS5jb250ZW50ICE9PSAnc3R5bGUnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNPbihrZXkuY29udGVudCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZHluYW1pYyBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3ZlcnJpZGFibGVLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0NvbXBhdEVuYWJsZWQkMShcIkNPTVBJTEVSX1ZfQklORF9PQkpFQ1RfT1JERVJcIiAvKiBDb21waWxlckRlcHJlY2F0aW9uVHlwZXMuQ09NUElMRVJfVl9CSU5EX09CSkVDVF9PUkRFUiAqLywgY29udGV4dCwgbG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkJDEoXCJDT01QSUxFUl9WX0JJTkRfT0JKRUNUX09SREVSXCIgLyogQ29tcGlsZXJEZXByZWNhdGlvblR5cGVzLkNPTVBJTEVSX1ZfQklORF9PQkpFQ1RfT1JERVIgKi8sIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlQXJncy51bnNoaWZ0KGV4cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlQXJncy5wdXNoKGV4cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2LW9uPVwib2JqXCIgLT4gdG9IYW5kbGVycyhvYmopXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoTWVyZ2VBcmcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IDE0IC8qIE5vZGVUeXBlcy5KU19DQUxMX0VYUFJFU1NJT04gKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZTogY29udGV4dC5oZWxwZXIoVE9fSEFORExFUlMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogaXNDb21wb25lbnQgPyBbZXhwXSA6IFtleHAsIGB0cnVlYF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlQ29tcGlsZXJFcnJvcihpc1ZCaW5kXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDM0IC8qIEVycm9yQ29kZXMuWF9WX0JJTkRfTk9fRVhQUkVTU0lPTiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAzNSAvKiBFcnJvckNvZGVzLlhfVl9PTl9OT19FWFBSRVNTSU9OICovLCBsb2MpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVUcmFuc2Zvcm0gPSBjb250ZXh0LmRpcmVjdGl2ZVRyYW5zZm9ybXNbbmFtZV07XG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgLy8gaGFzIGJ1aWx0LWluIGRpcmVjdGl2ZSB0cmFuc2Zvcm0uXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwcm9wcywgbmVlZFJ1bnRpbWUgfSA9IGRpcmVjdGl2ZVRyYW5zZm9ybShwcm9wLCBub2RlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAhc3NyICYmIHByb3BzLmZvckVhY2goYW5hbHl6ZVBhdGNoRmxhZyk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVk9uICYmIGFyZyAmJiAhaXNTdGF0aWNFeHAoYXJnKSkge1xuICAgICAgICAgICAgICAgICAgICBwdXNoTWVyZ2VBcmcoY3JlYXRlT2JqZWN0RXhwcmVzc2lvbihwcm9wcywgZWxlbWVudExvYykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKC4uLnByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRSdW50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bnRpbWVEaXJlY3RpdmVzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N5bWJvbChuZWVkUnVudGltZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZUltcG9ydE1hcC5zZXQocHJvcCwgbmVlZFJ1bnRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGJ1aWx0LWluIHRyYW5zZm9ybSwgdGhpcyBpcyBhIHVzZXIgY3VzdG9tIGRpcmVjdGl2ZS5cbiAgICAgICAgICAgICAgICBydW50aW1lRGlyZWN0aXZlcy5wdXNoKHByb3ApO1xuICAgICAgICAgICAgICAgIC8vIGN1c3RvbSBkaXJzIG1heSB1c2UgYmVmb3JlVXBkYXRlIHNvIHRoZXkgbmVlZCB0byBmb3JjZSBibG9ja3NcbiAgICAgICAgICAgICAgICAvLyB0byBlbnN1cmUgYmVmb3JlLXVwZGF0ZSBnZXRzIGNhbGxlZCBiZWZvcmUgY2hpbGRyZW4gdXBkYXRlXG4gICAgICAgICAgICAgICAgaWYgKGhhc0NoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFVzZUJsb2NrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHByb3BzRXhwcmVzc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAvLyBoYXMgdi1iaW5kPVwib2JqZWN0XCIgb3Igdi1vbj1cIm9iamVjdFwiLCB3cmFwIHdpdGggbWVyZ2VQcm9wc1xuICAgIGlmIChtZXJnZUFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNsb3NlIHVwIGFueSBub3QteWV0LW1lcmdlZCBwcm9wc1xuICAgICAgICBwdXNoTWVyZ2VBcmcoKTtcbiAgICAgICAgaWYgKG1lcmdlQXJncy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBwcm9wc0V4cHJlc3Npb24gPSBjcmVhdGVDYWxsRXhwcmVzc2lvbihjb250ZXh0LmhlbHBlcihNRVJHRV9QUk9QUyksIG1lcmdlQXJncywgZWxlbWVudExvYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzaW5nbGUgdi1iaW5kIHdpdGggbm90aGluZyBlbHNlIC0gbm8gbmVlZCBmb3IgYSBtZXJnZVByb3BzIGNhbGxcbiAgICAgICAgICAgIHByb3BzRXhwcmVzc2lvbiA9IG1lcmdlQXJnc1swXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChwcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICBwcm9wc0V4cHJlc3Npb24gPSBjcmVhdGVPYmplY3RFeHByZXNzaW9uKGRlZHVwZVByb3BlcnRpZXMocHJvcGVydGllcyksIGVsZW1lbnRMb2MpO1xuICAgIH1cbiAgICAvLyBwYXRjaEZsYWcgYW5hbHlzaXNcbiAgICBpZiAoaGFzRHluYW1pY0tleXMpIHtcbiAgICAgICAgcGF0Y2hGbGFnIHw9IDE2IC8qIFBhdGNoRmxhZ3MuRlVMTF9QUk9QUyAqLztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChoYXNDbGFzc0JpbmRpbmcgJiYgIWlzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBwYXRjaEZsYWcgfD0gMiAvKiBQYXRjaEZsYWdzLkNMQVNTICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNTdHlsZUJpbmRpbmcgJiYgIWlzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBwYXRjaEZsYWcgfD0gNCAvKiBQYXRjaEZsYWdzLlNUWUxFICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeW5hbWljUHJvcE5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcGF0Y2hGbGFnIHw9IDggLyogUGF0Y2hGbGFncy5QUk9QUyAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzSHlkcmF0aW9uRXZlbnRCaW5kaW5nKSB7XG4gICAgICAgICAgICBwYXRjaEZsYWcgfD0gMzIgLyogUGF0Y2hGbGFncy5IWURSQVRFX0VWRU5UUyAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXNob3VsZFVzZUJsb2NrICYmXG4gICAgICAgIChwYXRjaEZsYWcgPT09IDAgfHwgcGF0Y2hGbGFnID09PSAzMiAvKiBQYXRjaEZsYWdzLkhZRFJBVEVfRVZFTlRTICovKSAmJlxuICAgICAgICAoaGFzUmVmIHx8IGhhc1Zub2RlSG9vayB8fCBydW50aW1lRGlyZWN0aXZlcy5sZW5ndGggPiAwKSkge1xuICAgICAgICBwYXRjaEZsYWcgfD0gNTEyIC8qIFBhdGNoRmxhZ3MuTkVFRF9QQVRDSCAqLztcbiAgICB9XG4gICAgLy8gcHJlLW5vcm1hbGl6ZSBwcm9wcywgU1NSIGlzIHNraXBwZWQgZm9yIG5vd1xuICAgIGlmICghY29udGV4dC5pblNTUiAmJiBwcm9wc0V4cHJlc3Npb24pIHtcbiAgICAgICAgc3dpdGNoIChwcm9wc0V4cHJlc3Npb24udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxNSAvKiBOb2RlVHlwZXMuSlNfT0JKRUNUX0VYUFJFU1NJT04gKi86XG4gICAgICAgICAgICAgICAgLy8gbWVhbnMgdGhhdCB0aGVyZSBpcyBubyB2LWJpbmQsXG4gICAgICAgICAgICAgICAgLy8gYnV0IHN0aWxsIG5lZWQgdG8gZGVhbCB3aXRoIGR5bmFtaWMga2V5IGJpbmRpbmdcbiAgICAgICAgICAgICAgICBsZXQgY2xhc3NLZXlJbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgIGxldCBzdHlsZUtleUluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgbGV0IGhhc0R5bmFtaWNLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzRXhwcmVzc2lvbi5wcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzRXhwcmVzc2lvbi5wcm9wZXJ0aWVzW2ldLmtleTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3RhdGljRXhwKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkuY29udGVudCA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzS2V5SW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5LmNvbnRlbnQgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUtleUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgha2V5LmlzSGFuZGxlcktleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRHluYW1pY0tleSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhc3NQcm9wID0gcHJvcHNFeHByZXNzaW9uLnByb3BlcnRpZXNbY2xhc3NLZXlJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVQcm9wID0gcHJvcHNFeHByZXNzaW9uLnByb3BlcnRpZXNbc3R5bGVLZXlJbmRleF07XG4gICAgICAgICAgICAgICAgLy8gbm8gZHluYW1pYyBrZXlcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0R5bmFtaWNLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzUHJvcCAmJiAhaXNTdGF0aWNFeHAoY2xhc3NQcm9wLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NQcm9wLnZhbHVlID0gY3JlYXRlQ2FsbEV4cHJlc3Npb24oY29udGV4dC5oZWxwZXIoTk9STUFMSVpFX0NMQVNTKSwgW2NsYXNzUHJvcC52YWx1ZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZVByb3AgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBzdGF0aWMgc3R5bGUgaXMgY29tcGlsZWQgaW50byBhbiBvYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyB1c2UgYGhhc1N0eWxlQmluZGluZ2AgdG8gZW5zdXJlIHRoYXQgaXQgaXMgYSBkeW5hbWljIHN0eWxlIGJpbmRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIChoYXNTdHlsZUJpbmRpbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3R5bGVQcm9wLnZhbHVlLnR5cGUgPT09IDQgLyogTm9kZVR5cGVzLlNJTVBMRV9FWFBSRVNTSU9OICovICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUHJvcC52YWx1ZS5jb250ZW50LnRyaW0oKVswXSA9PT0gYFtgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHYtYmluZDpzdHlsZSBhbmQgc3R5bGUgYm90aCBleGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2LWJpbmQ6c3R5bGUgd2l0aCBzdGF0aWMgbGl0ZXJhbCBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVByb3AudmFsdWUudHlwZSA9PT0gMTcgLyogTm9kZVR5cGVzLkpTX0FSUkFZX0VYUFJFU1NJT04gKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVByb3AudmFsdWUgPSBjcmVhdGVDYWxsRXhwcmVzc2lvbihjb250ZXh0LmhlbHBlcihOT1JNQUxJWkVfU1RZTEUpLCBbc3R5bGVQcm9wLnZhbHVlXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGR5bmFtaWMga2V5IGJpbmRpbmcsIHdyYXAgd2l0aCBgbm9ybWFsaXplUHJvcHNgXG4gICAgICAgICAgICAgICAgICAgIHByb3BzRXhwcmVzc2lvbiA9IGNyZWF0ZUNhbGxFeHByZXNzaW9uKGNvbnRleHQuaGVscGVyKE5PUk1BTElaRV9QUk9QUyksIFtwcm9wc0V4cHJlc3Npb25dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE0IC8qIE5vZGVUeXBlcy5KU19DQUxMX0VYUFJFU1NJT04gKi86XG4gICAgICAgICAgICAgICAgLy8gbWVyZ2VQcm9wcyBjYWxsLCBkbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIHNpbmdsZSB2LWJpbmRcbiAgICAgICAgICAgICAgICBwcm9wc0V4cHJlc3Npb24gPSBjcmVhdGVDYWxsRXhwcmVzc2lvbihjb250ZXh0LmhlbHBlcihOT1JNQUxJWkVfUFJPUFMpLCBbXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNhbGxFeHByZXNzaW9uKGNvbnRleHQuaGVscGVyKEdVQVJEX1JFQUNUSVZFX1BST1BTKSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNFeHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcHM6IHByb3BzRXhwcmVzc2lvbixcbiAgICAgICAgZGlyZWN0aXZlczogcnVudGltZURpcmVjdGl2ZXMsXG4gICAgICAgIHBhdGNoRmxhZyxcbiAgICAgICAgZHluYW1pY1Byb3BOYW1lcyxcbiAgICAgICAgc2hvdWxkVXNlQmxvY2tcbiAgICB9O1xufVxuLy8gRGVkdXBlIHByb3BzIGluIGFuIG9iamVjdCBsaXRlcmFsLlxuLy8gTGl0ZXJhbCBkdXBsaWNhdGVkIGF0dHJpYnV0ZXMgd291bGQgaGF2ZSBiZWVuIHdhcm5lZCBkdXJpbmcgdGhlIHBhcnNlIHBoYXNlLFxuLy8gaG93ZXZlciwgaXQncyBwb3NzaWJsZSB0byBlbmNvdW50ZXIgZHVwbGljYXRlZCBgb25YWFhgIGhhbmRsZXJzIHdpdGggZGlmZmVyZW50XG4vLyBtb2RpZmllcnMuIFdlIGFsc28gbmVlZCB0byBtZXJnZSBzdGF0aWMgYW5kIGR5bmFtaWMgY2xhc3MgLyBzdHlsZSBhdHRyaWJ1dGVzLlxuLy8gLSBvblhYWCBoYW5kbGVycyAvIHN0eWxlOiBtZXJnZSBpbnRvIGFycmF5XG4vLyAtIGNsYXNzOiBtZXJnZSBpbnRvIHNpbmdsZSBleHByZXNzaW9uIHdpdGggY29uY2F0ZW5hdGlvblxuZnVuY3Rpb24gZGVkdXBlUHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3Qga25vd25Qcm9wcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkZWR1cGVkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICAvLyBkeW5hbWljIGtleXMgYXJlIGFsd2F5cyBhbGxvd2VkXG4gICAgICAgIGlmIChwcm9wLmtleS50eXBlID09PSA4IC8qIE5vZGVUeXBlcy5DT01QT1VORF9FWFBSRVNTSU9OICovIHx8ICFwcm9wLmtleS5pc1N0YXRpYykge1xuICAgICAgICAgICAgZGVkdXBlZC5wdXNoKHByb3ApO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmFtZSA9IHByb3Aua2V5LmNvbnRlbnQ7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0ga25vd25Qcm9wcy5nZXQobmFtZSk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdzdHlsZScgfHwgbmFtZSA9PT0gJ2NsYXNzJyB8fCBpc09uKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VBc0FycmF5JDEoZXhpc3RpbmcsIHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdW5leHBlY3RlZCBkdXBsaWNhdGUsIHNob3VsZCBoYXZlIGVtaXR0ZWQgZXJyb3IgZHVyaW5nIHBhcnNlXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBrbm93blByb3BzLnNldChuYW1lLCBwcm9wKTtcbiAgICAgICAgICAgIGRlZHVwZWQucHVzaChwcm9wKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVkdXBlZDtcbn1cbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSQxKGV4aXN0aW5nLCBpbmNvbWluZykge1xuICAgIGlmIChleGlzdGluZy52YWx1ZS50eXBlID09PSAxNyAvKiBOb2RlVHlwZXMuSlNfQVJSQVlfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICBleGlzdGluZy52YWx1ZS5lbGVtZW50cy5wdXNoKGluY29taW5nLnZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4aXN0aW5nLnZhbHVlID0gY3JlYXRlQXJyYXlFeHByZXNzaW9uKFtleGlzdGluZy52YWx1ZSwgaW5jb21pbmcudmFsdWVdLCBleGlzdGluZy5sb2MpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJ1aWxkRGlyZWN0aXZlQXJncyhkaXIsIGNvbnRleHQpIHtcbiAgICBjb25zdCBkaXJBcmdzID0gW107XG4gICAgY29uc3QgcnVudGltZSA9IGRpcmVjdGl2ZUltcG9ydE1hcC5nZXQoZGlyKTtcbiAgICBpZiAocnVudGltZSkge1xuICAgICAgICAvLyBidWlsdC1pbiBkaXJlY3RpdmUgd2l0aCBydW50aW1lXG4gICAgICAgIGRpckFyZ3MucHVzaChjb250ZXh0LmhlbHBlclN0cmluZyhydW50aW1lKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpbmplY3Qgc3RhdGVtZW50IGZvciByZXNvbHZpbmcgZGlyZWN0aXZlXG4gICAgICAgICAgICBjb250ZXh0LmhlbHBlcihSRVNPTFZFX0RJUkVDVElWRSk7XG4gICAgICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXMuYWRkKGRpci5uYW1lKTtcbiAgICAgICAgICAgIGRpckFyZ3MucHVzaCh0b1ZhbGlkQXNzZXRJZChkaXIubmFtZSwgYGRpcmVjdGl2ZWApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB7IGxvYyB9ID0gZGlyO1xuICAgIGlmIChkaXIuZXhwKVxuICAgICAgICBkaXJBcmdzLnB1c2goZGlyLmV4cCk7XG4gICAgaWYgKGRpci5hcmcpIHtcbiAgICAgICAgaWYgKCFkaXIuZXhwKSB7XG4gICAgICAgICAgICBkaXJBcmdzLnB1c2goYHZvaWQgMGApO1xuICAgICAgICB9XG4gICAgICAgIGRpckFyZ3MucHVzaChkaXIuYXJnKTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKGRpci5tb2RpZmllcnMpLmxlbmd0aCkge1xuICAgICAgICBpZiAoIWRpci5hcmcpIHtcbiAgICAgICAgICAgIGlmICghZGlyLmV4cCkge1xuICAgICAgICAgICAgICAgIGRpckFyZ3MucHVzaChgdm9pZCAwYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXJBcmdzLnB1c2goYHZvaWQgMGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRydWVFeHByZXNzaW9uID0gY3JlYXRlU2ltcGxlRXhwcmVzc2lvbihgdHJ1ZWAsIGZhbHNlLCBsb2MpO1xuICAgICAgICBkaXJBcmdzLnB1c2goY3JlYXRlT2JqZWN0RXhwcmVzc2lvbihkaXIubW9kaWZpZXJzLm1hcChtb2RpZmllciA9PiBjcmVhdGVPYmplY3RQcm9wZXJ0eShtb2RpZmllciwgdHJ1ZUV4cHJlc3Npb24pKSwgbG9jKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVBcnJheUV4cHJlc3Npb24oZGlyQXJncywgZGlyLmxvYyk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlEeW5hbWljUHJvcE5hbWVzKHByb3BzKSB7XG4gICAgbGV0IHByb3BzTmFtZXNTdHJpbmcgPSBgW2A7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBwcm9wcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgcHJvcHNOYW1lc1N0cmluZyArPSBKU09OLnN0cmluZ2lmeShwcm9wc1tpXSk7XG4gICAgICAgIGlmIChpIDwgbCAtIDEpXG4gICAgICAgICAgICBwcm9wc05hbWVzU3RyaW5nICs9ICcsICc7XG4gICAgfVxuICAgIHJldHVybiBwcm9wc05hbWVzU3RyaW5nICsgYF1gO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnRUYWcodGFnKSB7XG4gICAgcmV0dXJuIHRhZyA9PT0gJ2NvbXBvbmVudCcgfHwgdGFnID09PSAnQ29tcG9uZW50Jztcbn1cblxuY29uc3QgdHJhbnNmb3JtU2xvdE91dGxldCA9IChub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKGlzU2xvdE91dGxldChub2RlKSkge1xuICAgICAgICBjb25zdCB7IGNoaWxkcmVuLCBsb2MgfSA9IG5vZGU7XG4gICAgICAgIGNvbnN0IHsgc2xvdE5hbWUsIHNsb3RQcm9wcyB9ID0gcHJvY2Vzc1Nsb3RPdXRsZXQobm9kZSwgY29udGV4dCk7XG4gICAgICAgIGNvbnN0IHNsb3RBcmdzID0gW1xuICAgICAgICAgICAgY29udGV4dC5wcmVmaXhJZGVudGlmaWVycyA/IGBfY3R4LiRzbG90c2AgOiBgJHNsb3RzYCxcbiAgICAgICAgICAgIHNsb3ROYW1lLFxuICAgICAgICAgICAgJ3t9JyxcbiAgICAgICAgICAgICd1bmRlZmluZWQnLFxuICAgICAgICAgICAgJ3RydWUnXG4gICAgICAgIF07XG4gICAgICAgIGxldCBleHBlY3RlZExlbiA9IDI7XG4gICAgICAgIGlmIChzbG90UHJvcHMpIHtcbiAgICAgICAgICAgIHNsb3RBcmdzWzJdID0gc2xvdFByb3BzO1xuICAgICAgICAgICAgZXhwZWN0ZWRMZW4gPSAzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNsb3RBcmdzWzNdID0gY3JlYXRlRnVuY3Rpb25FeHByZXNzaW9uKFtdLCBjaGlsZHJlbiwgZmFsc2UsIGZhbHNlLCBsb2MpO1xuICAgICAgICAgICAgZXhwZWN0ZWRMZW4gPSA0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LnNjb3BlSWQgJiYgIWNvbnRleHQuc2xvdHRlZCkge1xuICAgICAgICAgICAgZXhwZWN0ZWRMZW4gPSA1O1xuICAgICAgICB9XG4gICAgICAgIHNsb3RBcmdzLnNwbGljZShleHBlY3RlZExlbik7IC8vIHJlbW92ZSB1bnVzZWQgYXJndW1lbnRzXG4gICAgICAgIG5vZGUuY29kZWdlbk5vZGUgPSBjcmVhdGVDYWxsRXhwcmVzc2lvbihjb250ZXh0LmhlbHBlcihSRU5ERVJfU0xPVCksIHNsb3RBcmdzLCBsb2MpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBwcm9jZXNzU2xvdE91dGxldChub2RlLCBjb250ZXh0KSB7XG4gICAgbGV0IHNsb3ROYW1lID0gYFwiZGVmYXVsdFwiYDtcbiAgICBsZXQgc2xvdFByb3BzID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG5vbk5hbWVQcm9wcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5wcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwID0gbm9kZS5wcm9wc1tpXTtcbiAgICAgICAgaWYgKHAudHlwZSA9PT0gNiAvKiBOb2RlVHlwZXMuQVRUUklCVVRFICovKSB7XG4gICAgICAgICAgICBpZiAocC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChwLm5hbWUgPT09ICduYW1lJykge1xuICAgICAgICAgICAgICAgICAgICBzbG90TmFtZSA9IEpTT04uc3RyaW5naWZ5KHAudmFsdWUuY29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwLm5hbWUgPSBjYW1lbGl6ZShwLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBub25OYW1lUHJvcHMucHVzaChwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocC5uYW1lID09PSAnYmluZCcgJiYgaXNTdGF0aWNBcmdPZihwLmFyZywgJ25hbWUnKSkge1xuICAgICAgICAgICAgICAgIGlmIChwLmV4cClcbiAgICAgICAgICAgICAgICAgICAgc2xvdE5hbWUgPSBwLmV4cDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwLm5hbWUgPT09ICdiaW5kJyAmJiBwLmFyZyAmJiBpc1N0YXRpY0V4cChwLmFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgcC5hcmcuY29udGVudCA9IGNhbWVsaXplKHAuYXJnLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub25OYW1lUHJvcHMucHVzaChwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9uTmFtZVByb3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgeyBwcm9wcywgZGlyZWN0aXZlcyB9ID0gYnVpbGRQcm9wcyhub2RlLCBjb250ZXh0LCBub25OYW1lUHJvcHMsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHNsb3RQcm9wcyA9IHByb3BzO1xuICAgICAgICBpZiAoZGlyZWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVDb21waWxlckVycm9yKDM2IC8qIEVycm9yQ29kZXMuWF9WX1NMT1RfVU5FWFBFQ1RFRF9ESVJFQ1RJVkVfT05fU0xPVF9PVVRMRVQgKi8sIGRpcmVjdGl2ZXNbMF0ubG9jKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2xvdE5hbWUsXG4gICAgICAgIHNsb3RQcm9wc1xuICAgIH07XG59XG5cbmNvbnN0IGZuRXhwUkUgPSAvXlxccyooW1xcdyRfXSt8KGFzeW5jXFxzKik/XFwoW14pXSo/XFwpKVxccyooOltePV0rKT89PnxeXFxzKihhc3luY1xccyspP2Z1bmN0aW9uKD86XFxzK1tcXHckXSspP1xccypcXCgvO1xuY29uc3QgdHJhbnNmb3JtT24gPSAoZGlyLCBub2RlLCBjb250ZXh0LCBhdWdtZW50b3IpID0+IHtcbiAgICBjb25zdCB7IGxvYywgbW9kaWZpZXJzLCBhcmcgfSA9IGRpcjtcbiAgICBpZiAoIWRpci5leHAgJiYgIW1vZGlmaWVycy5sZW5ndGgpIHtcbiAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZUNvbXBpbGVyRXJyb3IoMzUgLyogRXJyb3JDb2Rlcy5YX1ZfT05fTk9fRVhQUkVTU0lPTiAqLywgbG9jKSk7XG4gICAgfVxuICAgIGxldCBldmVudE5hbWU7XG4gICAgaWYgKGFyZy50eXBlID09PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICBpZiAoYXJnLmlzU3RhdGljKSB7XG4gICAgICAgICAgICBsZXQgcmF3TmFtZSA9IGFyZy5jb250ZW50O1xuICAgICAgICAgICAgLy8gVE9ETyBkZXByZWNhdGUgQHZub2RlWFhYIHVzYWdlXG4gICAgICAgICAgICBpZiAocmF3TmFtZS5zdGFydHNXaXRoKCd2dWU6JykpIHtcbiAgICAgICAgICAgICAgICByYXdOYW1lID0gYHZub2RlLSR7cmF3TmFtZS5zbGljZSg0KX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXZlbnRTdHJpbmcgPSBub2RlLnRhZ1R5cGUgIT09IDAgLyogRWxlbWVudFR5cGVzLkVMRU1FTlQgKi8gfHxcbiAgICAgICAgICAgICAgICByYXdOYW1lLnN0YXJ0c1dpdGgoJ3Zub2RlJykgfHxcbiAgICAgICAgICAgICAgICAhL1tBLVpdLy50ZXN0KHJhd05hbWUpXG4gICAgICAgICAgICAgICAgPyAvLyBmb3Igbm9uLWVsZW1lbnQgYW5kIHZub2RlIGxpZmVjeWNsZSBldmVudCBsaXN0ZW5lcnMsIGF1dG8gY29udmVydFxuICAgICAgICAgICAgICAgICAgICAvLyBpdCB0byBjYW1lbENhc2UuIFNlZSBpc3N1ZSAjMjI0OVxuICAgICAgICAgICAgICAgICAgICB0b0hhbmRsZXJLZXkoY2FtZWxpemUocmF3TmFtZSkpXG4gICAgICAgICAgICAgICAgOiAvLyBwcmVzZXJ2ZSBjYXNlIGZvciBwbGFpbiBlbGVtZW50IGxpc3RlbmVycyB0aGF0IGhhdmUgdXBwZXJjYXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldHRlcnMsIGFzIHRoZXNlIG1heSBiZSBjdXN0b20gZWxlbWVudHMnIGN1c3RvbSBldmVudHNcbiAgICAgICAgICAgICAgICAgICAgYG9uOiR7cmF3TmFtZX1gO1xuICAgICAgICAgICAgZXZlbnROYW1lID0gY3JlYXRlU2ltcGxlRXhwcmVzc2lvbihldmVudFN0cmluZywgdHJ1ZSwgYXJnLmxvYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyAjMjM4OFxuICAgICAgICAgICAgZXZlbnROYW1lID0gY3JlYXRlQ29tcG91bmRFeHByZXNzaW9uKFtcbiAgICAgICAgICAgICAgICBgJHtjb250ZXh0LmhlbHBlclN0cmluZyhUT19IQU5ETEVSX0tFWSl9KGAsXG4gICAgICAgICAgICAgICAgYXJnLFxuICAgICAgICAgICAgICAgIGApYFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGFscmVhZHkgYSBjb21wb3VuZCBleHByZXNzaW9uLlxuICAgICAgICBldmVudE5hbWUgPSBhcmc7XG4gICAgICAgIGV2ZW50TmFtZS5jaGlsZHJlbi51bnNoaWZ0KGAke2NvbnRleHQuaGVscGVyU3RyaW5nKFRPX0hBTkRMRVJfS0VZKX0oYCk7XG4gICAgICAgIGV2ZW50TmFtZS5jaGlsZHJlbi5wdXNoKGApYCk7XG4gICAgfVxuICAgIC8vIGhhbmRsZXIgcHJvY2Vzc2luZ1xuICAgIGxldCBleHAgPSBkaXIuZXhwO1xuICAgIGlmIChleHAgJiYgIWV4cC5jb250ZW50LnRyaW0oKSkge1xuICAgICAgICBleHAgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCBzaG91bGRDYWNoZSA9IGNvbnRleHQuY2FjaGVIYW5kbGVycyAmJiAhZXhwICYmICFjb250ZXh0LmluVk9uY2U7XG4gICAgaWYgKGV4cCkge1xuICAgICAgICBjb25zdCBpc01lbWJlckV4cCA9IGlzTWVtYmVyRXhwcmVzc2lvbihleHAuY29udGVudCk7XG4gICAgICAgIGNvbnN0IGlzSW5saW5lU3RhdGVtZW50ID0gIShpc01lbWJlckV4cCB8fCBmbkV4cFJFLnRlc3QoZXhwLmNvbnRlbnQpKTtcbiAgICAgICAgY29uc3QgaGFzTXVsdGlwbGVTdGF0ZW1lbnRzID0gZXhwLmNvbnRlbnQuaW5jbHVkZXMoYDtgKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB0cnVlKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUJyb3dzZXJFeHByZXNzaW9uKGV4cCwgY29udGV4dCwgZmFsc2UsIGhhc011bHRpcGxlU3RhdGVtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSW5saW5lU3RhdGVtZW50IHx8IChzaG91bGRDYWNoZSAmJiBpc01lbWJlckV4cCkpIHtcbiAgICAgICAgICAgIC8vIHdyYXAgaW5saW5lIHN0YXRlbWVudCBpbiBhIGZ1bmN0aW9uIGV4cHJlc3Npb25cbiAgICAgICAgICAgIGV4cCA9IGNyZWF0ZUNvbXBvdW5kRXhwcmVzc2lvbihbXG4gICAgICAgICAgICAgICAgYCR7aXNJbmxpbmVTdGF0ZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgPyBgJGV2ZW50YFxuICAgICAgICAgICAgICAgICAgICA6IGAke2BgfSguLi5hcmdzKWB9ID0+ICR7aGFzTXVsdGlwbGVTdGF0ZW1lbnRzID8gYHtgIDogYChgfWAsXG4gICAgICAgICAgICAgICAgZXhwLFxuICAgICAgICAgICAgICAgIGhhc011bHRpcGxlU3RhdGVtZW50cyA/IGB9YCA6IGApYFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJldCA9IHtcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICAgIGNyZWF0ZU9iamVjdFByb3BlcnR5KGV2ZW50TmFtZSwgZXhwIHx8IGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oYCgpID0+IHt9YCwgZmFsc2UsIGxvYykpXG4gICAgICAgIF1cbiAgICB9O1xuICAgIC8vIGFwcGx5IGV4dGVuZGVkIGNvbXBpbGVyIGF1Z21lbnRvclxuICAgIGlmIChhdWdtZW50b3IpIHtcbiAgICAgICAgcmV0ID0gYXVnbWVudG9yKHJldCk7XG4gICAgfVxuICAgIGlmIChzaG91bGRDYWNoZSkge1xuICAgICAgICAvLyBjYWNoZSBoYW5kbGVycyBzbyB0aGF0IGl0J3MgYWx3YXlzIHRoZSBzYW1lIGhhbmRsZXIgYmVpbmcgcGFzc2VkIGRvd24uXG4gICAgICAgIC8vIHRoaXMgYXZvaWRzIHVubmVjZXNzYXJ5IHJlLXJlbmRlcnMgd2hlbiB1c2VycyB1c2UgaW5saW5lIGhhbmRsZXJzIG9uXG4gICAgICAgIC8vIGNvbXBvbmVudHMuXG4gICAgICAgIHJldC5wcm9wc1swXS52YWx1ZSA9IGNvbnRleHQuY2FjaGUocmV0LnByb3BzWzBdLnZhbHVlKTtcbiAgICB9XG4gICAgLy8gbWFyayB0aGUga2V5IGFzIGhhbmRsZXIgZm9yIHByb3BzIG5vcm1hbGl6YXRpb24gY2hlY2tcbiAgICByZXQucHJvcHMuZm9yRWFjaChwID0+IChwLmtleS5pc0hhbmRsZXJLZXkgPSB0cnVlKSk7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cbi8vIHYtYmluZCB3aXRob3V0IGFyZyBpcyBoYW5kbGVkIGRpcmVjdGx5IGluIC4vdHJhbnNmb3JtRWxlbWVudHMudHMgZHVlIHRvIGl0IGFmZmVjdGluZ1xuLy8gY29kZWdlbiBmb3IgdGhlIGVudGlyZSBwcm9wcyBvYmplY3QuIFRoaXMgdHJhbnNmb3JtIGhlcmUgaXMgb25seSBmb3Igdi1iaW5kXG4vLyAqd2l0aCogYXJncy5cbmNvbnN0IHRyYW5zZm9ybUJpbmQgPSAoZGlyLCBfbm9kZSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgZXhwLCBtb2RpZmllcnMsIGxvYyB9ID0gZGlyO1xuICAgIGNvbnN0IGFyZyA9IGRpci5hcmc7XG4gICAgaWYgKGFyZy50eXBlICE9PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICBhcmcuY2hpbGRyZW4udW5zaGlmdChgKGApO1xuICAgICAgICBhcmcuY2hpbGRyZW4ucHVzaChgKSB8fCBcIlwiYCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFhcmcuaXNTdGF0aWMpIHtcbiAgICAgICAgYXJnLmNvbnRlbnQgPSBgJHthcmcuY29udGVudH0gfHwgXCJcImA7XG4gICAgfVxuICAgIC8vIC5zeW5jIGlzIHJlcGxhY2VkIGJ5IHYtbW9kZWw6YXJnXG4gICAgaWYgKG1vZGlmaWVycy5pbmNsdWRlcygnY2FtZWwnKSkge1xuICAgICAgICBpZiAoYXJnLnR5cGUgPT09IDQgLyogTm9kZVR5cGVzLlNJTVBMRV9FWFBSRVNTSU9OICovKSB7XG4gICAgICAgICAgICBpZiAoYXJnLmlzU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgYXJnLmNvbnRlbnQgPSBjYW1lbGl6ZShhcmcuY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcmcuY29udGVudCA9IGAke2NvbnRleHQuaGVscGVyU3RyaW5nKENBTUVMSVpFKX0oJHthcmcuY29udGVudH0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFyZy5jaGlsZHJlbi51bnNoaWZ0KGAke2NvbnRleHQuaGVscGVyU3RyaW5nKENBTUVMSVpFKX0oYCk7XG4gICAgICAgICAgICBhcmcuY2hpbGRyZW4ucHVzaChgKWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghY29udGV4dC5pblNTUikge1xuICAgICAgICBpZiAobW9kaWZpZXJzLmluY2x1ZGVzKCdwcm9wJykpIHtcbiAgICAgICAgICAgIGluamVjdFByZWZpeChhcmcsICcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGlmaWVycy5pbmNsdWRlcygnYXR0cicpKSB7XG4gICAgICAgICAgICBpbmplY3RQcmVmaXgoYXJnLCAnXicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghZXhwIHx8XG4gICAgICAgIChleHAudHlwZSA9PT0gNCAvKiBOb2RlVHlwZXMuU0lNUExFX0VYUFJFU1NJT04gKi8gJiYgIWV4cC5jb250ZW50LnRyaW0oKSkpIHtcbiAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZUNvbXBpbGVyRXJyb3IoMzQgLyogRXJyb3JDb2Rlcy5YX1ZfQklORF9OT19FWFBSRVNTSU9OICovLCBsb2MpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3BzOiBbY3JlYXRlT2JqZWN0UHJvcGVydHkoYXJnLCBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKCcnLCB0cnVlLCBsb2MpKV1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcHM6IFtjcmVhdGVPYmplY3RQcm9wZXJ0eShhcmcsIGV4cCldXG4gICAgfTtcbn07XG5jb25zdCBpbmplY3RQcmVmaXggPSAoYXJnLCBwcmVmaXgpID0+IHtcbiAgICBpZiAoYXJnLnR5cGUgPT09IDQgLyogTm9kZVR5cGVzLlNJTVBMRV9FWFBSRVNTSU9OICovKSB7XG4gICAgICAgIGlmIChhcmcuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIGFyZy5jb250ZW50ID0gcHJlZml4ICsgYXJnLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcmcuY29udGVudCA9IGBcXGAke3ByZWZpeH1cXCR7JHthcmcuY29udGVudH19XFxgYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXJnLmNoaWxkcmVuLnVuc2hpZnQoYCcke3ByZWZpeH0nICsgKGApO1xuICAgICAgICBhcmcuY2hpbGRyZW4ucHVzaChgKWApO1xuICAgIH1cbn07XG5cbi8vIE1lcmdlIGFkamFjZW50IHRleHQgbm9kZXMgYW5kIGV4cHJlc3Npb25zIGludG8gYSBzaW5nbGUgZXhwcmVzc2lvblxuLy8gZS5nLiA8ZGl2PmFiYyB7eyBkIH19IHt7IGUgfX08L2Rpdj4gc2hvdWxkIGhhdmUgYSBzaW5nbGUgZXhwcmVzc2lvbiBub2RlIGFzIGNoaWxkLlxuY29uc3QgdHJhbnNmb3JtVGV4dCA9IChub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gMCAvKiBOb2RlVHlwZXMuUk9PVCAqLyB8fFxuICAgICAgICBub2RlLnR5cGUgPT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8gfHxcbiAgICAgICAgbm9kZS50eXBlID09PSAxMSAvKiBOb2RlVHlwZXMuRk9SICovIHx8XG4gICAgICAgIG5vZGUudHlwZSA9PT0gMTAgLyogTm9kZVR5cGVzLklGX0JSQU5DSCAqLykge1xuICAgICAgICAvLyBwZXJmb3JtIHRoZSB0cmFuc2Zvcm0gb24gbm9kZSBleGl0IHNvIHRoYXQgYWxsIGV4cHJlc3Npb25zIGhhdmUgYWxyZWFkeVxuICAgICAgICAvLyBiZWVuIHByb2Nlc3NlZC5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICAgIGxldCBjdXJyZW50Q29udGFpbmVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IGhhc1RleHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpc1RleHQoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc1RleHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBjaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGNoaWxkcmVuW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGV4dChuZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudENvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29udGFpbmVyID0gY2hpbGRyZW5baV0gPSBjcmVhdGVDb21wb3VuZEV4cHJlc3Npb24oW2NoaWxkXSwgY2hpbGQubG9jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWVyZ2UgYWRqYWNlbnQgdGV4dCBub2RlIGludG8gY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250YWluZXIuY2hpbGRyZW4ucHVzaChgICsgYCwgbmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGotLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250YWluZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhhc1RleHQgfHxcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgcGxhaW4gZWxlbWVudCB3aXRoIGEgc2luZ2xlIHRleHQgY2hpbGQsIGxlYXZlIGl0XG4gICAgICAgICAgICAgICAgLy8gYXMtaXMgc2luY2UgdGhlIHJ1bnRpbWUgaGFzIGRlZGljYXRlZCBmYXN0IHBhdGggZm9yIHRoaXMgYnkgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAvLyBzZXR0aW5nIHRleHRDb250ZW50IG9mIHRoZSBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIGZvciBjb21wb25lbnQgcm9vdCBpdCdzIGFsd2F5cyBub3JtYWxpemVkIGFueXdheS5cbiAgICAgICAgICAgICAgICAoY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICAgICAgICAgIChub2RlLnR5cGUgPT09IDAgLyogTm9kZVR5cGVzLlJPT1QgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChub2RlLnR5cGUgPT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRhZ1R5cGUgPT09IDAgLyogRWxlbWVudFR5cGVzLkVMRU1FTlQgKi8gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAjMzc1NlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1c3RvbSBkaXJlY3RpdmVzIGNhbiBwb3RlbnRpYWxseSBhZGQgRE9NIGVsZW1lbnRzIGFyYml0cmFyaWx5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gYXZvaWQgc2V0dGluZyB0ZXh0Q29udGVudCBvZiB0aGUgZWxlbWVudCBhdCBydW50aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gYXZvaWQgYWNjaWRlbnRhbGx5IG92ZXJ3cml0aW5nIHRoZSBET00gZWxlbWVudHMgYWRkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBieSB0aGUgdXNlciB0aHJvdWdoIGN1c3RvbSBkaXJlY3RpdmVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFub2RlLnByb3BzLmZpbmQocCA9PiBwLnR5cGUgPT09IDcgLyogTm9kZVR5cGVzLkRJUkVDVElWRSAqLyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhY29udGV4dC5kaXJlY3RpdmVUcmFuc2Zvcm1zW3AubmFtZV0pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gY29tcGF0IG1vZGUsIDx0ZW1wbGF0ZT4gdGFncyB3aXRoIG5vIHNwZWNpYWwgZGlyZWN0aXZlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgYmUgcmVuZGVyZWQgYXMgYSBmcmFnbWVudCBzbyBpdHMgY2hpbGRyZW4gbXVzdCBiZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnRlZCBpbnRvIHZub2Rlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKG5vZGUudGFnID09PSAndGVtcGxhdGUnKSkpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByZS1jb252ZXJ0IHRleHQgbm9kZXMgaW50byBjcmVhdGVUZXh0Vk5vZGUodGV4dCkgY2FsbHMgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHJ1bnRpbWUgbm9ybWFsaXphdGlvbi5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpc1RleHQoY2hpbGQpIHx8IGNoaWxkLnR5cGUgPT09IDggLyogTm9kZVR5cGVzLkNPTVBPVU5EX0VYUFJFU1NJT04gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbEFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlVGV4dFZOb2RlIGRlZmF1bHRzIHRvIHNpbmdsZSB3aGl0ZXNwYWNlLCBzbyBpZiBpdCBpcyBhXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBzcGFjZSB0aGUgY29kZSBjb3VsZCBiZSBhbiBlbXB0eSBjYWxsIHRvIHNhdmUgYnl0ZXMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC50eXBlICE9PSAyIC8qIE5vZGVUeXBlcy5URVhUICovIHx8IGNoaWxkLmNvbnRlbnQgIT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEFyZ3MucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gbWFyayBkeW5hbWljIHRleHQgd2l0aCBmbGFnIHNvIGl0IGdldHMgcGF0Y2hlZCBpbnNpZGUgYSBibG9ja1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQuc3NyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRDb25zdGFudFR5cGUoY2hpbGQsIGNvbnRleHQpID09PSAwIC8qIENvbnN0YW50VHlwZXMuTk9UX0NPTlNUQU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQXJncy5wdXNoKDEgLyogUGF0Y2hGbGFncy5URVhUICovICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYCAvKiAke1BhdGNoRmxhZ05hbWVzWzEgLyogUGF0Y2hGbGFncy5URVhUICovXX0gKi9gIDogYGApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbltpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IDEyIC8qIE5vZGVUeXBlcy5URVhUX0NBTEwgKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYzogY2hpbGQubG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZWdlbk5vZGU6IGNyZWF0ZUNhbGxFeHByZXNzaW9uKGNvbnRleHQuaGVscGVyKENSRUFURV9URVhUKSwgY2FsbEFyZ3MpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5cbmNvbnN0IHNlZW4gPSBuZXcgV2Vha1NldCgpO1xuY29uc3QgdHJhbnNmb3JtT25jZSA9IChub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJiBmaW5kRGlyKG5vZGUsICdvbmNlJywgdHJ1ZSkpIHtcbiAgICAgICAgaWYgKHNlZW4uaGFzKG5vZGUpIHx8IGNvbnRleHQuaW5WT25jZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uYWRkKG5vZGUpO1xuICAgICAgICBjb250ZXh0LmluVk9uY2UgPSB0cnVlO1xuICAgICAgICBjb250ZXh0LmhlbHBlcihTRVRfQkxPQ0tfVFJBQ0tJTkcpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29udGV4dC5pblZPbmNlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjdXIgPSBjb250ZXh0LmN1cnJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKGN1ci5jb2RlZ2VuTm9kZSkge1xuICAgICAgICAgICAgICAgIGN1ci5jb2RlZ2VuTm9kZSA9IGNvbnRleHQuY2FjaGUoY3VyLmNvZGVnZW5Ob2RlLCB0cnVlIC8qIGlzVk5vZGUgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5cbmNvbnN0IHRyYW5zZm9ybU1vZGVsID0gKGRpciwgbm9kZSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgZXhwLCBhcmcgfSA9IGRpcjtcbiAgICBpZiAoIWV4cCkge1xuICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlQ29tcGlsZXJFcnJvcig0MSAvKiBFcnJvckNvZGVzLlhfVl9NT0RFTF9OT19FWFBSRVNTSU9OICovLCBkaXIubG9jKSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVUcmFuc2Zvcm1Qcm9wcygpO1xuICAgIH1cbiAgICBjb25zdCByYXdFeHAgPSBleHAubG9jLnNvdXJjZTtcbiAgICBjb25zdCBleHBTdHJpbmcgPSBleHAudHlwZSA9PT0gNCAvKiBOb2RlVHlwZXMuU0lNUExFX0VYUFJFU1NJT04gKi8gPyBleHAuY29udGVudCA6IHJhd0V4cDtcbiAgICAvLyBpbSBTRkMgPHNjcmlwdCBzZXR1cD4gaW5saW5lIG1vZGUsIHRoZSBleHAgbWF5IGhhdmUgYmVlbiB0cmFuc2Zvcm1lZCBpbnRvXG4gICAgLy8gX3VucmVmKGV4cClcbiAgICBjb25zdCBiaW5kaW5nVHlwZSA9IGNvbnRleHQuYmluZGluZ01ldGFkYXRhW3Jhd0V4cF07XG4gICAgLy8gY2hlY2sgcHJvcHNcbiAgICBpZiAoYmluZGluZ1R5cGUgPT09IFwicHJvcHNcIiAvKiBCaW5kaW5nVHlwZXMuUFJPUFMgKi8gfHxcbiAgICAgICAgYmluZGluZ1R5cGUgPT09IFwicHJvcHMtYWxpYXNlZFwiIC8qIEJpbmRpbmdUeXBlcy5QUk9QU19BTElBU0VEICovKSB7XG4gICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVDb21waWxlckVycm9yKDQ0IC8qIEVycm9yQ29kZXMuWF9WX01PREVMX09OX1BST1BTICovLCBleHAubG9jKSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVUcmFuc2Zvcm1Qcm9wcygpO1xuICAgIH1cbiAgICBjb25zdCBtYXliZVJlZiA9ICF0cnVlICA7XG4gICAgaWYgKCFleHBTdHJpbmcudHJpbSgpIHx8XG4gICAgICAgICghaXNNZW1iZXJFeHByZXNzaW9uKGV4cFN0cmluZykgJiYgIW1heWJlUmVmKSkge1xuICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlQ29tcGlsZXJFcnJvcig0MiAvKiBFcnJvckNvZGVzLlhfVl9NT0RFTF9NQUxGT1JNRURfRVhQUkVTU0lPTiAqLywgZXhwLmxvYykpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVHJhbnNmb3JtUHJvcHMoKTtcbiAgICB9XG4gICAgY29uc3QgcHJvcE5hbWUgPSBhcmcgPyBhcmcgOiBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKCdtb2RlbFZhbHVlJywgdHJ1ZSk7XG4gICAgY29uc3QgZXZlbnROYW1lID0gYXJnXG4gICAgICAgID8gaXNTdGF0aWNFeHAoYXJnKVxuICAgICAgICAgICAgPyBgb25VcGRhdGU6JHthcmcuY29udGVudH1gXG4gICAgICAgICAgICA6IGNyZWF0ZUNvbXBvdW5kRXhwcmVzc2lvbihbJ1wib25VcGRhdGU6XCIgKyAnLCBhcmddKVxuICAgICAgICA6IGBvblVwZGF0ZTptb2RlbFZhbHVlYDtcbiAgICBsZXQgYXNzaWdubWVudEV4cDtcbiAgICBjb25zdCBldmVudEFyZyA9IGNvbnRleHQuaXNUUyA/IGAoJGV2ZW50OiBhbnkpYCA6IGAkZXZlbnRgO1xuICAgIHtcbiAgICAgICAgYXNzaWdubWVudEV4cCA9IGNyZWF0ZUNvbXBvdW5kRXhwcmVzc2lvbihbXG4gICAgICAgICAgICBgJHtldmVudEFyZ30gPT4gKChgLFxuICAgICAgICAgICAgZXhwLFxuICAgICAgICAgICAgYCkgPSAkZXZlbnQpYFxuICAgICAgICBdKTtcbiAgICB9XG4gICAgY29uc3QgcHJvcHMgPSBbXG4gICAgICAgIC8vIG1vZGVsVmFsdWU6IGZvb1xuICAgICAgICBjcmVhdGVPYmplY3RQcm9wZXJ0eShwcm9wTmFtZSwgZGlyLmV4cCksXG4gICAgICAgIC8vIFwib25VcGRhdGU6bW9kZWxWYWx1ZVwiOiAkZXZlbnQgPT4gKGZvbyA9ICRldmVudClcbiAgICAgICAgY3JlYXRlT2JqZWN0UHJvcGVydHkoZXZlbnROYW1lLCBhc3NpZ25tZW50RXhwKVxuICAgIF07XG4gICAgLy8gbW9kZWxNb2RpZmllcnM6IHsgZm9vOiB0cnVlLCBcImJhci1iYXpcIjogdHJ1ZSB9XG4gICAgaWYgKGRpci5tb2RpZmllcnMubGVuZ3RoICYmIG5vZGUudGFnVHlwZSA9PT0gMSAvKiBFbGVtZW50VHlwZXMuQ09NUE9ORU5UICovKSB7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IGRpci5tb2RpZmllcnNcbiAgICAgICAgICAgIC5tYXAobSA9PiAoaXNTaW1wbGVJZGVudGlmaWVyKG0pID8gbSA6IEpTT04uc3RyaW5naWZ5KG0pKSArIGA6IHRydWVgKVxuICAgICAgICAgICAgLmpvaW4oYCwgYCk7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVyc0tleSA9IGFyZ1xuICAgICAgICAgICAgPyBpc1N0YXRpY0V4cChhcmcpXG4gICAgICAgICAgICAgICAgPyBgJHthcmcuY29udGVudH1Nb2RpZmllcnNgXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVDb21wb3VuZEV4cHJlc3Npb24oW2FyZywgJyArIFwiTW9kaWZpZXJzXCInXSlcbiAgICAgICAgICAgIDogYG1vZGVsTW9kaWZpZXJzYDtcbiAgICAgICAgcHJvcHMucHVzaChjcmVhdGVPYmplY3RQcm9wZXJ0eShtb2RpZmllcnNLZXksIGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oYHsgJHttb2RpZmllcnN9IH1gLCBmYWxzZSwgZGlyLmxvYywgMiAvKiBDb25zdGFudFR5cGVzLkNBTl9IT0lTVCAqLykpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVRyYW5zZm9ybVByb3BzKHByb3BzKTtcbn07XG5mdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1Qcm9wcyhwcm9wcyA9IFtdKSB7XG4gICAgcmV0dXJuIHsgcHJvcHMgfTtcbn1cblxuY29uc3QgdmFsaWREaXZpc2lvbkNoYXJSRSA9IC9bXFx3KS4rXFwtXyRcXF1dLztcbmNvbnN0IHRyYW5zZm9ybUZpbHRlciA9IChub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKCFpc0NvbXBhdEVuYWJsZWQkMShcIkNPTVBJTEVSX0ZJTFRFUlwiIC8qIENvbXBpbGVyRGVwcmVjYXRpb25UeXBlcy5DT01QSUxFUl9GSUxURVJTICovLCBjb250ZXh0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChub2RlLnR5cGUgPT09IDUgLyogTm9kZVR5cGVzLklOVEVSUE9MQVRJT04gKi8pIHtcbiAgICAgICAgLy8gZmlsdGVyIHJld3JpdGUgaXMgYXBwbGllZCBiZWZvcmUgZXhwcmVzc2lvbiB0cmFuc2Zvcm0gc28gb25seVxuICAgICAgICAvLyBzaW1wbGUgZXhwcmVzc2lvbnMgYXJlIHBvc3NpYmxlIGF0IHRoaXMgc3RhZ2VcbiAgICAgICAgcmV3cml0ZUZpbHRlcihub2RlLmNvbnRlbnQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAobm9kZS50eXBlID09PSAxIC8qIE5vZGVUeXBlcy5FTEVNRU5UICovKSB7XG4gICAgICAgIG5vZGUucHJvcHMuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3AudHlwZSA9PT0gNyAvKiBOb2RlVHlwZXMuRElSRUNUSVZFICovICYmXG4gICAgICAgICAgICAgICAgcHJvcC5uYW1lICE9PSAnZm9yJyAmJlxuICAgICAgICAgICAgICAgIHByb3AuZXhwKSB7XG4gICAgICAgICAgICAgICAgcmV3cml0ZUZpbHRlcihwcm9wLmV4cCwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5mdW5jdGlvbiByZXdyaXRlRmlsdGVyKG5vZGUsIGNvbnRleHQpIHtcbiAgICBpZiAobm9kZS50eXBlID09PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLykge1xuICAgICAgICBwYXJzZUZpbHRlcihub2RlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGlsZCAhPT0gJ29iamVjdCcpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gNCAvKiBOb2RlVHlwZXMuU0lNUExFX0VYUFJFU1NJT04gKi8pIHtcbiAgICAgICAgICAgICAgICBwYXJzZUZpbHRlcihjaGlsZCwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGlsZC50eXBlID09PSA4IC8qIE5vZGVUeXBlcy5DT01QT1VORF9FWFBSRVNTSU9OICovKSB7XG4gICAgICAgICAgICAgICAgcmV3cml0ZUZpbHRlcihub2RlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLnR5cGUgPT09IDUgLyogTm9kZVR5cGVzLklOVEVSUE9MQVRJT04gKi8pIHtcbiAgICAgICAgICAgICAgICByZXdyaXRlRmlsdGVyKGNoaWxkLmNvbnRlbnQsIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VGaWx0ZXIobm9kZSwgY29udGV4dCkge1xuICAgIGNvbnN0IGV4cCA9IG5vZGUuY29udGVudDtcbiAgICBsZXQgaW5TaW5nbGUgPSBmYWxzZTtcbiAgICBsZXQgaW5Eb3VibGUgPSBmYWxzZTtcbiAgICBsZXQgaW5UZW1wbGF0ZVN0cmluZyA9IGZhbHNlO1xuICAgIGxldCBpblJlZ2V4ID0gZmFsc2U7XG4gICAgbGV0IGN1cmx5ID0gMDtcbiAgICBsZXQgc3F1YXJlID0gMDtcbiAgICBsZXQgcGFyZW4gPSAwO1xuICAgIGxldCBsYXN0RmlsdGVySW5kZXggPSAwO1xuICAgIGxldCBjLCBwcmV2LCBpLCBleHByZXNzaW9uLCBmaWx0ZXJzID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IGV4cC5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcmV2ID0gYztcbiAgICAgICAgYyA9IGV4cC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoaW5TaW5nbGUpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAweDI3ICYmIHByZXYgIT09IDB4NWMpXG4gICAgICAgICAgICAgICAgaW5TaW5nbGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbkRvdWJsZSkge1xuICAgICAgICAgICAgaWYgKGMgPT09IDB4MjIgJiYgcHJldiAhPT0gMHg1YylcbiAgICAgICAgICAgICAgICBpbkRvdWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluVGVtcGxhdGVTdHJpbmcpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAweDYwICYmIHByZXYgIT09IDB4NWMpXG4gICAgICAgICAgICAgICAgaW5UZW1wbGF0ZVN0cmluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluUmVnZXgpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAweDJmICYmIHByZXYgIT09IDB4NWMpXG4gICAgICAgICAgICAgICAgaW5SZWdleCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IDB4N2MgJiYgLy8gcGlwZVxuICAgICAgICAgICAgZXhwLmNoYXJDb2RlQXQoaSArIDEpICE9PSAweDdjICYmXG4gICAgICAgICAgICBleHAuY2hhckNvZGVBdChpIC0gMSkgIT09IDB4N2MgJiZcbiAgICAgICAgICAgICFjdXJseSAmJlxuICAgICAgICAgICAgIXNxdWFyZSAmJlxuICAgICAgICAgICAgIXBhcmVuKSB7XG4gICAgICAgICAgICBpZiAoZXhwcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgZmlsdGVyLCBlbmQgb2YgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgIGxhc3RGaWx0ZXJJbmRleCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBleHAuc2xpY2UoMCwgaSkudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHVzaEZpbHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAweDIyOlxuICAgICAgICAgICAgICAgICAgICBpbkRvdWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBcIlxuICAgICAgICAgICAgICAgIGNhc2UgMHgyNzpcbiAgICAgICAgICAgICAgICAgICAgaW5TaW5nbGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gJ1xuICAgICAgICAgICAgICAgIGNhc2UgMHg2MDpcbiAgICAgICAgICAgICAgICAgICAgaW5UZW1wbGF0ZVN0cmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBgXG4gICAgICAgICAgICAgICAgY2FzZSAweDI4OlxuICAgICAgICAgICAgICAgICAgICBwYXJlbisrO1xuICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gKFxuICAgICAgICAgICAgICAgIGNhc2UgMHgyOTpcbiAgICAgICAgICAgICAgICAgICAgcGFyZW4tLTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIClcbiAgICAgICAgICAgICAgICBjYXNlIDB4NWI6XG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZSsrO1xuICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gW1xuICAgICAgICAgICAgICAgIGNhc2UgMHg1ZDpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlLS07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBdXG4gICAgICAgICAgICAgICAgY2FzZSAweDdiOlxuICAgICAgICAgICAgICAgICAgICBjdXJseSsrO1xuICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8ge1xuICAgICAgICAgICAgICAgIGNhc2UgMHg3ZDpcbiAgICAgICAgICAgICAgICAgICAgY3VybHktLTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAweDJmKSB7XG4gICAgICAgICAgICAgICAgLy8gL1xuICAgICAgICAgICAgICAgIGxldCBqID0gaSAtIDE7XG4gICAgICAgICAgICAgICAgbGV0IHA7XG4gICAgICAgICAgICAgICAgLy8gZmluZCBmaXJzdCBub24td2hpdGVzcGFjZSBwcmV2IGNoYXJcbiAgICAgICAgICAgICAgICBmb3IgKDsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IGV4cC5jaGFyQXQoaik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwICE9PSAnICcpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwIHx8ICF2YWxpZERpdmlzaW9uQ2hhclJFLnRlc3QocCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5SZWdleCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cC5zbGljZSgwLCBpKS50cmltKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxhc3RGaWx0ZXJJbmRleCAhPT0gMCkge1xuICAgICAgICBwdXNoRmlsdGVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hGaWx0ZXIoKSB7XG4gICAgICAgIGZpbHRlcnMucHVzaChleHAuc2xpY2UobGFzdEZpbHRlckluZGV4LCBpKS50cmltKCkpO1xuICAgICAgICBsYXN0RmlsdGVySW5kZXggPSBpICsgMTtcbiAgICB9XG4gICAgaWYgKGZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgd2FybkRlcHJlY2F0aW9uJDEoXCJDT01QSUxFUl9GSUxURVJcIiAvKiBDb21waWxlckRlcHJlY2F0aW9uVHlwZXMuQ09NUElMRVJfRklMVEVSUyAqLywgY29udGV4dCwgbm9kZS5sb2MpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHdyYXBGaWx0ZXIoZXhwcmVzc2lvbiwgZmlsdGVyc1tpXSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5jb250ZW50ID0gZXhwcmVzc2lvbjtcbiAgICB9XG59XG5mdW5jdGlvbiB3cmFwRmlsdGVyKGV4cCwgZmlsdGVyLCBjb250ZXh0KSB7XG4gICAgY29udGV4dC5oZWxwZXIoUkVTT0xWRV9GSUxURVIpO1xuICAgIGNvbnN0IGkgPSBmaWx0ZXIuaW5kZXhPZignKCcpO1xuICAgIGlmIChpIDwgMCkge1xuICAgICAgICBjb250ZXh0LmZpbHRlcnMuYWRkKGZpbHRlcik7XG4gICAgICAgIHJldHVybiBgJHt0b1ZhbGlkQXNzZXRJZChmaWx0ZXIsICdmaWx0ZXInKX0oJHtleHB9KWA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBuYW1lID0gZmlsdGVyLnNsaWNlKDAsIGkpO1xuICAgICAgICBjb25zdCBhcmdzID0gZmlsdGVyLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgY29udGV4dC5maWx0ZXJzLmFkZChuYW1lKTtcbiAgICAgICAgcmV0dXJuIGAke3RvVmFsaWRBc3NldElkKG5hbWUsICdmaWx0ZXInKX0oJHtleHB9JHthcmdzICE9PSAnKScgPyAnLCcgKyBhcmdzIDogYXJnc31gO1xuICAgIH1cbn1cblxuY29uc3Qgc2VlbiQxID0gbmV3IFdlYWtTZXQoKTtcbmNvbnN0IHRyYW5zZm9ybU1lbW8gPSAobm9kZSwgY29udGV4dCkgPT4ge1xuICAgIGlmIChub2RlLnR5cGUgPT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8pIHtcbiAgICAgICAgY29uc3QgZGlyID0gZmluZERpcihub2RlLCAnbWVtbycpO1xuICAgICAgICBpZiAoIWRpciB8fCBzZWVuJDEuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VlbiQxLmFkZChub2RlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGVnZW5Ob2RlID0gbm9kZS5jb2RlZ2VuTm9kZSB8fFxuICAgICAgICAgICAgICAgIGNvbnRleHQuY3VycmVudE5vZGUuY29kZWdlbk5vZGU7XG4gICAgICAgICAgICBpZiAoY29kZWdlbk5vZGUgJiYgY29kZWdlbk5vZGUudHlwZSA9PT0gMTMgLyogTm9kZVR5cGVzLlZOT0RFX0NBTEwgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBub24tY29tcG9uZW50IHN1YiB0cmVlIHNob3VsZCBiZSB0dXJuZWQgaW50byBhIGJsb2NrXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnVHlwZSAhPT0gMSAvKiBFbGVtZW50VHlwZXMuQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ha2VCbG9jayhjb2RlZ2VuTm9kZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUuY29kZWdlbk5vZGUgPSBjcmVhdGVDYWxsRXhwcmVzc2lvbihjb250ZXh0LmhlbHBlcihXSVRIX01FTU8pLCBbXG4gICAgICAgICAgICAgICAgICAgIGRpci5leHAsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUZ1bmN0aW9uRXhwcmVzc2lvbih1bmRlZmluZWQsIGNvZGVnZW5Ob2RlKSxcbiAgICAgICAgICAgICAgICAgICAgYF9jYWNoZWAsXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZyhjb250ZXh0LmNhY2hlZCsrKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGdldEJhc2VUcmFuc2Zvcm1QcmVzZXQocHJlZml4SWRlbnRpZmllcnMpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBbXG4gICAgICAgICAgICB0cmFuc2Zvcm1PbmNlLFxuICAgICAgICAgICAgdHJhbnNmb3JtSWYsXG4gICAgICAgICAgICB0cmFuc2Zvcm1NZW1vLFxuICAgICAgICAgICAgdHJhbnNmb3JtRm9yLFxuICAgICAgICAgICAgLi4uKFt0cmFuc2Zvcm1GaWx0ZXJdICksXG4gICAgICAgICAgICAuLi4oKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgID8gW3RyYW5zZm9ybUV4cHJlc3Npb25dXG4gICAgICAgICAgICAgICAgICAgIDogW10pLFxuICAgICAgICAgICAgdHJhbnNmb3JtU2xvdE91dGxldCxcbiAgICAgICAgICAgIHRyYW5zZm9ybUVsZW1lbnQsXG4gICAgICAgICAgICB0cmFja1Nsb3RTY29wZXMsXG4gICAgICAgICAgICB0cmFuc2Zvcm1UZXh0XG4gICAgICAgIF0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9uOiB0cmFuc2Zvcm1PbixcbiAgICAgICAgICAgIGJpbmQ6IHRyYW5zZm9ybUJpbmQsXG4gICAgICAgICAgICBtb2RlbDogdHJhbnNmb3JtTW9kZWxcbiAgICAgICAgfVxuICAgIF07XG59XG4vLyB3ZSBuYW1lIGl0IGBiYXNlQ29tcGlsZWAgc28gdGhhdCBoaWdoZXIgb3JkZXIgY29tcGlsZXJzIGxpa2Vcbi8vIEB2dWUvY29tcGlsZXItZG9tIGNhbiBleHBvcnQgYGNvbXBpbGVgIHdoaWxlIHJlLWV4cG9ydGluZyBldmVyeXRoaW5nIGVsc2UuXG5mdW5jdGlvbiBiYXNlQ29tcGlsZSh0ZW1wbGF0ZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgb25FcnJvciA9IG9wdGlvbnMub25FcnJvciB8fCBkZWZhdWx0T25FcnJvcjtcbiAgICBjb25zdCBpc01vZHVsZU1vZGUgPSBvcHRpb25zLm1vZGUgPT09ICdtb2R1bGUnO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIHtcbiAgICAgICAgaWYgKG9wdGlvbnMucHJlZml4SWRlbnRpZmllcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG9uRXJyb3IoY3JlYXRlQ29tcGlsZXJFcnJvcig0NyAvKiBFcnJvckNvZGVzLlhfUFJFRklYX0lEX05PVF9TVVBQT1JURUQgKi8pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc01vZHVsZU1vZGUpIHtcbiAgICAgICAgICAgIG9uRXJyb3IoY3JlYXRlQ29tcGlsZXJFcnJvcig0OCAvKiBFcnJvckNvZGVzLlhfTU9EVUxFX01PREVfTk9UX1NVUFBPUlRFRCAqLykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHByZWZpeElkZW50aWZpZXJzID0gIXRydWUgO1xuICAgIGlmIChvcHRpb25zLmNhY2hlSGFuZGxlcnMpIHtcbiAgICAgICAgb25FcnJvcihjcmVhdGVDb21waWxlckVycm9yKDQ5IC8qIEVycm9yQ29kZXMuWF9DQUNIRV9IQU5ETEVSX05PVF9TVVBQT1JURUQgKi8pKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc2NvcGVJZCAmJiAhaXNNb2R1bGVNb2RlKSB7XG4gICAgICAgIG9uRXJyb3IoY3JlYXRlQ29tcGlsZXJFcnJvcig1MCAvKiBFcnJvckNvZGVzLlhfU0NPUEVfSURfTk9UX1NVUFBPUlRFRCAqLykpO1xuICAgIH1cbiAgICBjb25zdCBhc3QgPSBpc1N0cmluZyh0ZW1wbGF0ZSkgPyBiYXNlUGFyc2UodGVtcGxhdGUsIG9wdGlvbnMpIDogdGVtcGxhdGU7XG4gICAgY29uc3QgW25vZGVUcmFuc2Zvcm1zLCBkaXJlY3RpdmVUcmFuc2Zvcm1zXSA9IGdldEJhc2VUcmFuc2Zvcm1QcmVzZXQoKTtcbiAgICB0cmFuc2Zvcm0oYXN0LCBleHRlbmQoe30sIG9wdGlvbnMsIHtcbiAgICAgICAgcHJlZml4SWRlbnRpZmllcnMsXG4gICAgICAgIG5vZGVUcmFuc2Zvcm1zOiBbXG4gICAgICAgICAgICAuLi5ub2RlVHJhbnNmb3JtcyxcbiAgICAgICAgICAgIC4uLihvcHRpb25zLm5vZGVUcmFuc2Zvcm1zIHx8IFtdKSAvLyB1c2VyIHRyYW5zZm9ybXNcbiAgICAgICAgXSxcbiAgICAgICAgZGlyZWN0aXZlVHJhbnNmb3JtczogZXh0ZW5kKHt9LCBkaXJlY3RpdmVUcmFuc2Zvcm1zLCBvcHRpb25zLmRpcmVjdGl2ZVRyYW5zZm9ybXMgfHwge30gLy8gdXNlciB0cmFuc2Zvcm1zXG4gICAgICAgIClcbiAgICB9KSk7XG4gICAgcmV0dXJuIGdlbmVyYXRlKGFzdCwgZXh0ZW5kKHt9LCBvcHRpb25zLCB7XG4gICAgICAgIHByZWZpeElkZW50aWZpZXJzXG4gICAgfSkpO1xufVxuXG5jb25zdCBub29wRGlyZWN0aXZlVHJhbnNmb3JtID0gKCkgPT4gKHsgcHJvcHM6IFtdIH0pO1xuXG5jb25zdCBWX01PREVMX1JBRElPID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGB2TW9kZWxSYWRpb2AgOiBgYCk7XG5jb25zdCBWX01PREVMX0NIRUNLQk9YID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGB2TW9kZWxDaGVja2JveGAgOiBgYCk7XG5jb25zdCBWX01PREVMX1RFWFQgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHZNb2RlbFRleHRgIDogYGApO1xuY29uc3QgVl9NT0RFTF9TRUxFQ1QgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHZNb2RlbFNlbGVjdGAgOiBgYCk7XG5jb25zdCBWX01PREVMX0RZTkFNSUMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHZNb2RlbER5bmFtaWNgIDogYGApO1xuY29uc3QgVl9PTl9XSVRIX01PRElGSUVSUyA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgdk9uTW9kaWZpZXJzR3VhcmRgIDogYGApO1xuY29uc3QgVl9PTl9XSVRIX0tFWVMgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHZPbktleXNHdWFyZGAgOiBgYCk7XG5jb25zdCBWX1NIT1cgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gYHZTaG93YCA6IGBgKTtcbmNvbnN0IFRSQU5TSVRJT04kMSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgVHJhbnNpdGlvbmAgOiBgYCk7XG5jb25zdCBUUkFOU0lUSU9OX0dST1VQID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGBUcmFuc2l0aW9uR3JvdXBgIDogYGApO1xucmVnaXN0ZXJSdW50aW1lSGVscGVycyh7XG4gICAgW1ZfTU9ERUxfUkFESU9dOiBgdk1vZGVsUmFkaW9gLFxuICAgIFtWX01PREVMX0NIRUNLQk9YXTogYHZNb2RlbENoZWNrYm94YCxcbiAgICBbVl9NT0RFTF9URVhUXTogYHZNb2RlbFRleHRgLFxuICAgIFtWX01PREVMX1NFTEVDVF06IGB2TW9kZWxTZWxlY3RgLFxuICAgIFtWX01PREVMX0RZTkFNSUNdOiBgdk1vZGVsRHluYW1pY2AsXG4gICAgW1ZfT05fV0lUSF9NT0RJRklFUlNdOiBgd2l0aE1vZGlmaWVyc2AsXG4gICAgW1ZfT05fV0lUSF9LRVlTXTogYHdpdGhLZXlzYCxcbiAgICBbVl9TSE9XXTogYHZTaG93YCxcbiAgICBbVFJBTlNJVElPTiQxXTogYFRyYW5zaXRpb25gLFxuICAgIFtUUkFOU0lUSU9OX0dST1VQXTogYFRyYW5zaXRpb25Hcm91cGBcbn0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbmxldCBkZWNvZGVyO1xuZnVuY3Rpb24gZGVjb2RlSHRtbEJyb3dzZXIocmF3LCBhc0F0dHIgPSBmYWxzZSkge1xuICAgIGlmICghZGVjb2Rlcikge1xuICAgICAgICBkZWNvZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgfVxuICAgIGlmIChhc0F0dHIpIHtcbiAgICAgICAgZGVjb2Rlci5pbm5lckhUTUwgPSBgPGRpdiBmb289XCIke3Jhdy5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyl9XCI+YDtcbiAgICAgICAgcmV0dXJuIGRlY29kZXIuY2hpbGRyZW5bMF0uZ2V0QXR0cmlidXRlKCdmb28nKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlY29kZXIuaW5uZXJIVE1MID0gcmF3O1xuICAgICAgICByZXR1cm4gZGVjb2Rlci50ZXh0Q29udGVudDtcbiAgICB9XG59XG5cbmNvbnN0IGlzUmF3VGV4dENvbnRhaW5lciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnc3R5bGUsaWZyYW1lLHNjcmlwdCxub3NjcmlwdCcsIHRydWUpO1xuY29uc3QgcGFyc2VyT3B0aW9ucyA9IHtcbiAgICBpc1ZvaWRUYWcsXG4gICAgaXNOYXRpdmVUYWc6IHRhZyA9PiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWR1RhZyh0YWcpLFxuICAgIGlzUHJlVGFnOiB0YWcgPT4gdGFnID09PSAncHJlJyxcbiAgICBkZWNvZGVFbnRpdGllczogZGVjb2RlSHRtbEJyb3dzZXIgLFxuICAgIGlzQnVpbHRJbkNvbXBvbmVudDogKHRhZykgPT4ge1xuICAgICAgICBpZiAoaXNCdWlsdEluVHlwZSh0YWcsIGBUcmFuc2l0aW9uYCkpIHtcbiAgICAgICAgICAgIHJldHVybiBUUkFOU0lUSU9OJDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNCdWlsdEluVHlwZSh0YWcsIGBUcmFuc2l0aW9uR3JvdXBgKSkge1xuICAgICAgICAgICAgcmV0dXJuIFRSQU5TSVRJT05fR1JPVVA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3BhcnNpbmcuaHRtbCN0cmVlLWNvbnN0cnVjdGlvbi1kaXNwYXRjaGVyXG4gICAgZ2V0TmFtZXNwYWNlKHRhZywgcGFyZW50KSB7XG4gICAgICAgIGxldCBucyA9IHBhcmVudCA/IHBhcmVudC5ucyA6IDAgLyogRE9NTmFtZXNwYWNlcy5IVE1MICovO1xuICAgICAgICBpZiAocGFyZW50ICYmIG5zID09PSAyIC8qIERPTU5hbWVzcGFjZXMuTUFUSF9NTCAqLykge1xuICAgICAgICAgICAgaWYgKHBhcmVudC50YWcgPT09ICdhbm5vdGF0aW9uLXhtbCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFnID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMSAvKiBET01OYW1lc3BhY2VzLlNWRyAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wcm9wcy5zb21lKGEgPT4gYS50eXBlID09PSA2IC8qIE5vZGVUeXBlcy5BVFRSSUJVVEUgKi8gJiZcbiAgICAgICAgICAgICAgICAgICAgYS5uYW1lID09PSAnZW5jb2RpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgIGEudmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAoYS52YWx1ZS5jb250ZW50ID09PSAndGV4dC9odG1sJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgYS52YWx1ZS5jb250ZW50ID09PSAnYXBwbGljYXRpb24veGh0bWwreG1sJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5zID0gMCAvKiBET01OYW1lc3BhY2VzLkhUTUwgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoL15tKD86W2lvbnNdfHRleHQpJC8udGVzdChwYXJlbnQudGFnKSAmJlxuICAgICAgICAgICAgICAgIHRhZyAhPT0gJ21nbHlwaCcgJiZcbiAgICAgICAgICAgICAgICB0YWcgIT09ICdtYWxpZ25tYXJrJykge1xuICAgICAgICAgICAgICAgIG5zID0gMCAvKiBET01OYW1lc3BhY2VzLkhUTUwgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyZW50ICYmIG5zID09PSAxIC8qIERPTU5hbWVzcGFjZXMuU1ZHICovKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50LnRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnIHx8XG4gICAgICAgICAgICAgICAgcGFyZW50LnRhZyA9PT0gJ2Rlc2MnIHx8XG4gICAgICAgICAgICAgICAgcGFyZW50LnRhZyA9PT0gJ3RpdGxlJykge1xuICAgICAgICAgICAgICAgIG5zID0gMCAvKiBET01OYW1lc3BhY2VzLkhUTUwgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5zID09PSAwIC8qIERPTU5hbWVzcGFjZXMuSFRNTCAqLykge1xuICAgICAgICAgICAgaWYgKHRhZyA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMSAvKiBET01OYW1lc3BhY2VzLlNWRyAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YWcgPT09ICdtYXRoJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAyIC8qIERPTU5hbWVzcGFjZXMuTUFUSF9NTCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnM7XG4gICAgfSxcbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9wYXJzaW5nLmh0bWwjcGFyc2luZy1odG1sLWZyYWdtZW50c1xuICAgIGdldFRleHRNb2RlKHsgdGFnLCBucyB9KSB7XG4gICAgICAgIGlmIChucyA9PT0gMCAvKiBET01OYW1lc3BhY2VzLkhUTUwgKi8pIHtcbiAgICAgICAgICAgIGlmICh0YWcgPT09ICd0ZXh0YXJlYScgfHwgdGFnID09PSAndGl0bGUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogVGV4dE1vZGVzLlJDREFUQSAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1Jhd1RleHRDb250YWluZXIodGFnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAyIC8qIFRleHRNb2Rlcy5SQVdURVhUICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwIC8qIFRleHRNb2Rlcy5EQVRBICovO1xuICAgIH1cbn07XG5cbi8vIFBhcnNlIGlubGluZSBDU1Mgc3RyaW5ncyBmb3Igc3RhdGljIHN0eWxlIGF0dHJpYnV0ZXMgaW50byBhbiBvYmplY3QuXG4vLyBUaGlzIGlzIGEgTm9kZVRyYW5zZm9ybSBzaW5jZSBpdCB3b3JrcyBvbiB0aGUgc3RhdGljIGBzdHlsZWAgYXR0cmlidXRlIGFuZFxuLy8gY29udmVydHMgaXQgaW50byBhIGR5bmFtaWMgZXF1aXZhbGVudDpcbi8vIHN0eWxlPVwiY29sb3I6IHJlZFwiIC0+IDpzdHlsZT0neyBcImNvbG9yXCI6IFwicmVkXCIgfSdcbi8vIEl0IGlzIHRoZW4gcHJvY2Vzc2VkIGJ5IGB0cmFuc2Zvcm1FbGVtZW50YCBhbmQgaW5jbHVkZWQgaW4gdGhlIGdlbmVyYXRlZFxuLy8gcHJvcHMuXG5jb25zdCB0cmFuc2Zvcm1TdHlsZSA9IG5vZGUgPT4ge1xuICAgIGlmIChub2RlLnR5cGUgPT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8pIHtcbiAgICAgICAgbm9kZS5wcm9wcy5mb3JFYWNoKChwLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAocC50eXBlID09PSA2IC8qIE5vZGVUeXBlcy5BVFRSSUJVVEUgKi8gJiYgcC5uYW1lID09PSAnc3R5bGUnICYmIHAudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyByZXBsYWNlIHAgd2l0aCBhbiBleHByZXNzaW9uIG5vZGVcbiAgICAgICAgICAgICAgICBub2RlLnByb3BzW2ldID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiA3IC8qIE5vZGVUeXBlcy5ESVJFQ1RJVkUgKi8sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGBiaW5kYCxcbiAgICAgICAgICAgICAgICAgICAgYXJnOiBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGBzdHlsZWAsIHRydWUsIHAubG9jKSxcbiAgICAgICAgICAgICAgICAgICAgZXhwOiBwYXJzZUlubGluZUNTUyhwLnZhbHVlLmNvbnRlbnQsIHAubG9jKSxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgbG9jOiBwLmxvY1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCBwYXJzZUlubGluZUNTUyA9IChjc3NUZXh0LCBsb2MpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkID0gcGFyc2VTdHJpbmdTdHlsZShjc3NUZXh0KTtcbiAgICByZXR1cm4gY3JlYXRlU2ltcGxlRXhwcmVzc2lvbihKU09OLnN0cmluZ2lmeShub3JtYWxpemVkKSwgZmFsc2UsIGxvYywgMyAvKiBDb25zdGFudFR5cGVzLkNBTl9TVFJJTkdJRlkgKi8pO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlRE9NQ29tcGlsZXJFcnJvcihjb2RlLCBsb2MpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29tcGlsZXJFcnJvcihjb2RlLCBsb2MsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhdHJ1ZSA/IERPTUVycm9yTWVzc2FnZXMgOiB1bmRlZmluZWQpO1xufVxuY29uc3QgRE9NRXJyb3JNZXNzYWdlcyA9IHtcbiAgICBbNTEgLyogRE9NRXJyb3JDb2Rlcy5YX1ZfSFRNTF9OT19FWFBSRVNTSU9OICovXTogYHYtaHRtbCBpcyBtaXNzaW5nIGV4cHJlc3Npb24uYCxcbiAgICBbNTIgLyogRE9NRXJyb3JDb2Rlcy5YX1ZfSFRNTF9XSVRIX0NISUxEUkVOICovXTogYHYtaHRtbCB3aWxsIG92ZXJyaWRlIGVsZW1lbnQgY2hpbGRyZW4uYCxcbiAgICBbNTMgLyogRE9NRXJyb3JDb2Rlcy5YX1ZfVEVYVF9OT19FWFBSRVNTSU9OICovXTogYHYtdGV4dCBpcyBtaXNzaW5nIGV4cHJlc3Npb24uYCxcbiAgICBbNTQgLyogRE9NRXJyb3JDb2Rlcy5YX1ZfVEVYVF9XSVRIX0NISUxEUkVOICovXTogYHYtdGV4dCB3aWxsIG92ZXJyaWRlIGVsZW1lbnQgY2hpbGRyZW4uYCxcbiAgICBbNTUgLyogRE9NRXJyb3JDb2Rlcy5YX1ZfTU9ERUxfT05fSU5WQUxJRF9FTEVNRU5UICovXTogYHYtbW9kZWwgY2FuIG9ubHkgYmUgdXNlZCBvbiA8aW5wdXQ+LCA8dGV4dGFyZWE+IGFuZCA8c2VsZWN0PiBlbGVtZW50cy5gLFxuICAgIFs1NiAvKiBET01FcnJvckNvZGVzLlhfVl9NT0RFTF9BUkdfT05fRUxFTUVOVCAqL106IGB2LW1vZGVsIGFyZ3VtZW50IGlzIG5vdCBzdXBwb3J0ZWQgb24gcGxhaW4gZWxlbWVudHMuYCxcbiAgICBbNTcgLyogRE9NRXJyb3JDb2Rlcy5YX1ZfTU9ERUxfT05fRklMRV9JTlBVVF9FTEVNRU5UICovXTogYHYtbW9kZWwgY2Fubm90IGJlIHVzZWQgb24gZmlsZSBpbnB1dHMgc2luY2UgdGhleSBhcmUgcmVhZC1vbmx5LiBVc2UgYSB2LW9uOmNoYW5nZSBsaXN0ZW5lciBpbnN0ZWFkLmAsXG4gICAgWzU4IC8qIERPTUVycm9yQ29kZXMuWF9WX01PREVMX1VOTkVDRVNTQVJZX1ZBTFVFICovXTogYFVubmVjZXNzYXJ5IHZhbHVlIGJpbmRpbmcgdXNlZCBhbG9uZ3NpZGUgdi1tb2RlbC4gSXQgd2lsbCBpbnRlcmZlcmUgd2l0aCB2LW1vZGVsJ3MgYmVoYXZpb3IuYCxcbiAgICBbNTkgLyogRE9NRXJyb3JDb2Rlcy5YX1ZfU0hPV19OT19FWFBSRVNTSU9OICovXTogYHYtc2hvdyBpcyBtaXNzaW5nIGV4cHJlc3Npb24uYCxcbiAgICBbNjAgLyogRE9NRXJyb3JDb2Rlcy5YX1RSQU5TSVRJT05fSU5WQUxJRF9DSElMRFJFTiAqL106IGA8VHJhbnNpdGlvbj4gZXhwZWN0cyBleGFjdGx5IG9uZSBjaGlsZCBlbGVtZW50IG9yIGNvbXBvbmVudC5gLFxuICAgIFs2MSAvKiBET01FcnJvckNvZGVzLlhfSUdOT1JFRF9TSURFX0VGRkVDVF9UQUcgKi9dOiBgVGFncyB3aXRoIHNpZGUgZWZmZWN0ICg8c2NyaXB0PiBhbmQgPHN0eWxlPikgYXJlIGlnbm9yZWQgaW4gY2xpZW50IGNvbXBvbmVudCB0ZW1wbGF0ZXMuYFxufTtcblxuY29uc3QgdHJhbnNmb3JtVkh0bWwgPSAoZGlyLCBub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBleHAsIGxvYyB9ID0gZGlyO1xuICAgIGlmICghZXhwKSB7XG4gICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVET01Db21waWxlckVycm9yKDUxIC8qIERPTUVycm9yQ29kZXMuWF9WX0hUTUxfTk9fRVhQUkVTU0lPTiAqLywgbG9jKSk7XG4gICAgfVxuICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlRE9NQ29tcGlsZXJFcnJvcig1MiAvKiBET01FcnJvckNvZGVzLlhfVl9IVE1MX1dJVEhfQ0hJTERSRU4gKi8sIGxvYykpO1xuICAgICAgICBub2RlLmNoaWxkcmVuLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgICBjcmVhdGVPYmplY3RQcm9wZXJ0eShjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGBpbm5lckhUTUxgLCB0cnVlLCBsb2MpLCBleHAgfHwgY3JlYXRlU2ltcGxlRXhwcmVzc2lvbignJywgdHJ1ZSkpXG4gICAgICAgIF1cbiAgICB9O1xufTtcblxuY29uc3QgdHJhbnNmb3JtVlRleHQgPSAoZGlyLCBub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBleHAsIGxvYyB9ID0gZGlyO1xuICAgIGlmICghZXhwKSB7XG4gICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVET01Db21waWxlckVycm9yKDUzIC8qIERPTUVycm9yQ29kZXMuWF9WX1RFWFRfTk9fRVhQUkVTU0lPTiAqLywgbG9jKSk7XG4gICAgfVxuICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlRE9NQ29tcGlsZXJFcnJvcig1NCAvKiBET01FcnJvckNvZGVzLlhfVl9URVhUX1dJVEhfQ0hJTERSRU4gKi8sIGxvYykpO1xuICAgICAgICBub2RlLmNoaWxkcmVuLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgICBjcmVhdGVPYmplY3RQcm9wZXJ0eShjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGB0ZXh0Q29udGVudGAsIHRydWUpLCBleHBcbiAgICAgICAgICAgICAgICA/IGdldENvbnN0YW50VHlwZShleHAsIGNvbnRleHQpID4gMFxuICAgICAgICAgICAgICAgICAgICA/IGV4cFxuICAgICAgICAgICAgICAgICAgICA6IGNyZWF0ZUNhbGxFeHByZXNzaW9uKGNvbnRleHQuaGVscGVyU3RyaW5nKFRPX0RJU1BMQVlfU1RSSU5HKSwgW2V4cF0sIGxvYylcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVNpbXBsZUV4cHJlc3Npb24oJycsIHRydWUpKVxuICAgICAgICBdXG4gICAgfTtcbn07XG5cbmNvbnN0IHRyYW5zZm9ybU1vZGVsJDEgPSAoZGlyLCBub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYmFzZVJlc3VsdCA9IHRyYW5zZm9ybU1vZGVsKGRpciwgbm9kZSwgY29udGV4dCk7XG4gICAgLy8gYmFzZSB0cmFuc2Zvcm0gaGFzIGVycm9ycyBPUiBjb21wb25lbnQgdi1tb2RlbCAob25seSBuZWVkIHByb3BzKVxuICAgIGlmICghYmFzZVJlc3VsdC5wcm9wcy5sZW5ndGggfHwgbm9kZS50YWdUeXBlID09PSAxIC8qIEVsZW1lbnRUeXBlcy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN1bHQ7XG4gICAgfVxuICAgIGlmIChkaXIuYXJnKSB7XG4gICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVET01Db21waWxlckVycm9yKDU2IC8qIERPTUVycm9yQ29kZXMuWF9WX01PREVMX0FSR19PTl9FTEVNRU5UICovLCBkaXIuYXJnLmxvYykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0R1cGxpY2F0ZWRWYWx1ZSgpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBmaW5kUHJvcChub2RlLCAndmFsdWUnKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlRE9NQ29tcGlsZXJFcnJvcig1OCAvKiBET01FcnJvckNvZGVzLlhfVl9NT0RFTF9VTk5FQ0VTU0FSWV9WQUxVRSAqLywgdmFsdWUubG9jKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyB0YWcgfSA9IG5vZGU7XG4gICAgY29uc3QgaXNDdXN0b21FbGVtZW50ID0gY29udGV4dC5pc0N1c3RvbUVsZW1lbnQodGFnKTtcbiAgICBpZiAodGFnID09PSAnaW5wdXQnIHx8XG4gICAgICAgIHRhZyA9PT0gJ3RleHRhcmVhJyB8fFxuICAgICAgICB0YWcgPT09ICdzZWxlY3QnIHx8XG4gICAgICAgIGlzQ3VzdG9tRWxlbWVudCkge1xuICAgICAgICBsZXQgZGlyZWN0aXZlVG9Vc2UgPSBWX01PREVMX1RFWFQ7XG4gICAgICAgIGxldCBpc0ludmFsaWRUeXBlID0gZmFsc2U7XG4gICAgICAgIGlmICh0YWcgPT09ICdpbnB1dCcgfHwgaXNDdXN0b21FbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZmluZFByb3Aobm9kZSwgYHR5cGVgKTtcbiAgICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUudHlwZSA9PT0gNyAvKiBOb2RlVHlwZXMuRElSRUNUSVZFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDp0eXBlPVwiZm9vXCJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlVG9Vc2UgPSBWX01PREVMX0RZTkFNSUM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlLnZhbHVlLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVUb1VzZSA9IFZfTU9ERUxfUkFESU87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlVG9Vc2UgPSBWX01PREVMX0NIRUNLQk9YO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNJbnZhbGlkVHlwZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZURPTUNvbXBpbGVyRXJyb3IoNTcgLyogRE9NRXJyb3JDb2Rlcy5YX1ZfTU9ERUxfT05fRklMRV9JTlBVVF9FTEVNRU5UICovLCBkaXIubG9jKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRleHQgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja0R1cGxpY2F0ZWRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzRHluYW1pY0tleVZCaW5kKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudCBoYXMgYmluZGluZ3Mgd2l0aCBkeW5hbWljIGtleXMsIHdoaWNoIGNhbiBwb3NzaWJseSBjb250YWluXG4gICAgICAgICAgICAgICAgLy8gXCJ0eXBlXCIuXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlVG9Vc2UgPSBWX01PREVMX0RZTkFNSUM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB0ZXh0IHR5cGVcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY2hlY2tEdXBsaWNhdGVkVmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0YWcgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgICAgICBkaXJlY3RpdmVUb1VzZSA9IFZfTU9ERUxfU0VMRUNUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdGV4dGFyZWFcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjaGVja0R1cGxpY2F0ZWRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluamVjdCBydW50aW1lIGRpcmVjdGl2ZVxuICAgICAgICAvLyBieSByZXR1cm5pbmcgdGhlIGhlbHBlciBzeW1ib2wgdmlhIG5lZWRSdW50aW1lXG4gICAgICAgIC8vIHRoZSBpbXBvcnQgd2lsbCByZXBsYWNlZCBhIHJlc29sdmVEaXJlY3RpdmUgY2FsbC5cbiAgICAgICAgaWYgKCFpc0ludmFsaWRUeXBlKSB7XG4gICAgICAgICAgICBiYXNlUmVzdWx0Lm5lZWRSdW50aW1lID0gY29udGV4dC5oZWxwZXIoZGlyZWN0aXZlVG9Vc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZXh0Lm9uRXJyb3IoY3JlYXRlRE9NQ29tcGlsZXJFcnJvcig1NSAvKiBET01FcnJvckNvZGVzLlhfVl9NT0RFTF9PTl9JTlZBTElEX0VMRU1FTlQgKi8sIGRpci5sb2MpKTtcbiAgICB9XG4gICAgLy8gbmF0aXZlIHZtb2RlbCBkb2Vzbid0IG5lZWQgdGhlIGBtb2RlbFZhbHVlYCBwcm9wcyBzaW5jZSB0aGV5IGFyZSBhbHNvXG4gICAgLy8gcGFzc2VkIHRvIHRoZSBydW50aW1lIGFzIGBiaW5kaW5nLnZhbHVlYC4gcmVtb3ZpbmcgaXQgcmVkdWNlcyBjb2RlIHNpemUuXG4gICAgYmFzZVJlc3VsdC5wcm9wcyA9IGJhc2VSZXN1bHQucHJvcHMuZmlsdGVyKHAgPT4gIShwLmtleS50eXBlID09PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqLyAmJlxuICAgICAgICBwLmtleS5jb250ZW50ID09PSAnbW9kZWxWYWx1ZScpKTtcbiAgICByZXR1cm4gYmFzZVJlc3VsdDtcbn07XG5cbmNvbnN0IGlzRXZlbnRPcHRpb25Nb2RpZmllciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChgcGFzc2l2ZSxvbmNlLGNhcHR1cmVgKTtcbmNvbnN0IGlzTm9uS2V5TW9kaWZpZXIgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoXG4vLyBldmVudCBwcm9wYWdhdGlvbiBtYW5hZ2VtZW50XG5gc3RvcCxwcmV2ZW50LHNlbGYsYCArXG4gICAgLy8gc3lzdGVtIG1vZGlmaWVycyArIGV4YWN0XG4gICAgYGN0cmwsc2hpZnQsYWx0LG1ldGEsZXhhY3QsYCArXG4gICAgLy8gbW91c2VcbiAgICBgbWlkZGxlYCk7XG4vLyBsZWZ0ICYgcmlnaHQgY291bGQgYmUgbW91c2Ugb3Iga2V5IG1vZGlmaWVycyBiYXNlZCBvbiBldmVudCB0eXBlXG5jb25zdCBtYXliZUtleU1vZGlmaWVyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdsZWZ0LHJpZ2h0Jyk7XG5jb25zdCBpc0tleWJvYXJkRXZlbnQgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYG9ua2V5dXAsb25rZXlkb3duLG9ua2V5cHJlc3NgLCB0cnVlKTtcbmNvbnN0IHJlc29sdmVNb2RpZmllcnMgPSAoa2V5LCBtb2RpZmllcnMsIGNvbnRleHQsIGxvYykgPT4ge1xuICAgIGNvbnN0IGtleU1vZGlmaWVycyA9IFtdO1xuICAgIGNvbnN0IG5vbktleU1vZGlmaWVycyA9IFtdO1xuICAgIGNvbnN0IGV2ZW50T3B0aW9uTW9kaWZpZXJzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2RpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbW9kaWZpZXIgPSBtb2RpZmllcnNbaV07XG4gICAgICAgIGlmIChtb2RpZmllciA9PT0gJ25hdGl2ZScgJiZcbiAgICAgICAgICAgIGNoZWNrQ29tcGF0RW5hYmxlZCQxKFwiQ09NUElMRVJfVl9PTl9OQVRJVkVcIiAvKiBDb21waWxlckRlcHJlY2F0aW9uVHlwZXMuQ09NUElMRVJfVl9PTl9OQVRJVkUgKi8sIGNvbnRleHQsIGxvYykpIHtcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uTW9kaWZpZXJzLnB1c2gobW9kaWZpZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRXZlbnRPcHRpb25Nb2RpZmllcihtb2RpZmllcikpIHtcbiAgICAgICAgICAgIC8vIGV2ZW50T3B0aW9uTW9kaWZpZXJzOiBtb2RpZmllcnMgZm9yIGFkZEV2ZW50TGlzdGVuZXIoKSBvcHRpb25zLFxuICAgICAgICAgICAgLy8gZS5nLiAucGFzc2l2ZSAmIC5jYXB0dXJlXG4gICAgICAgICAgICBldmVudE9wdGlvbk1vZGlmaWVycy5wdXNoKG1vZGlmaWVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJ1bnRpbWVNb2RpZmllcnM6IG1vZGlmaWVycyB0aGF0IG5lZWRzIHJ1bnRpbWUgZ3VhcmRzXG4gICAgICAgICAgICBpZiAobWF5YmVLZXlNb2RpZmllcihtb2RpZmllcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdGF0aWNFeHAoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNLZXlib2FyZEV2ZW50KGtleS5jb250ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5TW9kaWZpZXJzLnB1c2gobW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9uS2V5TW9kaWZpZXJzLnB1c2gobW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBrZXlNb2RpZmllcnMucHVzaChtb2RpZmllcik7XG4gICAgICAgICAgICAgICAgICAgIG5vbktleU1vZGlmaWVycy5wdXNoKG1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOb25LZXlNb2RpZmllcihtb2RpZmllcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9uS2V5TW9kaWZpZXJzLnB1c2gobW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAga2V5TW9kaWZpZXJzLnB1c2gobW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBrZXlNb2RpZmllcnMsXG4gICAgICAgIG5vbktleU1vZGlmaWVycyxcbiAgICAgICAgZXZlbnRPcHRpb25Nb2RpZmllcnNcbiAgICB9O1xufTtcbmNvbnN0IHRyYW5zZm9ybUNsaWNrID0gKGtleSwgZXZlbnQpID0+IHtcbiAgICBjb25zdCBpc1N0YXRpY0NsaWNrID0gaXNTdGF0aWNFeHAoa2V5KSAmJiBrZXkuY29udGVudC50b0xvd2VyQ2FzZSgpID09PSAnb25jbGljayc7XG4gICAgcmV0dXJuIGlzU3RhdGljQ2xpY2tcbiAgICAgICAgPyBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGV2ZW50LCB0cnVlKVxuICAgICAgICA6IGtleS50eXBlICE9PSA0IC8qIE5vZGVUeXBlcy5TSU1QTEVfRVhQUkVTU0lPTiAqL1xuICAgICAgICAgICAgPyBjcmVhdGVDb21wb3VuZEV4cHJlc3Npb24oW1xuICAgICAgICAgICAgICAgIGAoYCxcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgYCkgPT09IFwib25DbGlja1wiID8gXCIke2V2ZW50fVwiIDogKGAsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIGApYFxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIDoga2V5O1xufTtcbmNvbnN0IHRyYW5zZm9ybU9uJDEgPSAoZGlyLCBub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybU9uKGRpciwgbm9kZSwgY29udGV4dCwgYmFzZVJlc3VsdCA9PiB7XG4gICAgICAgIGNvbnN0IHsgbW9kaWZpZXJzIH0gPSBkaXI7XG4gICAgICAgIGlmICghbW9kaWZpZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBiYXNlUmVzdWx0O1xuICAgICAgICBsZXQgeyBrZXksIHZhbHVlOiBoYW5kbGVyRXhwIH0gPSBiYXNlUmVzdWx0LnByb3BzWzBdO1xuICAgICAgICBjb25zdCB7IGtleU1vZGlmaWVycywgbm9uS2V5TW9kaWZpZXJzLCBldmVudE9wdGlvbk1vZGlmaWVycyB9ID0gcmVzb2x2ZU1vZGlmaWVycyhrZXksIG1vZGlmaWVycywgY29udGV4dCwgZGlyLmxvYyk7XG4gICAgICAgIC8vIG5vcm1hbGl6ZSBjbGljay5yaWdodCBhbmQgY2xpY2subWlkZGxlIHNpbmNlIHRoZXkgZG9uJ3QgYWN0dWFsbHkgZmlyZVxuICAgICAgICBpZiAobm9uS2V5TW9kaWZpZXJzLmluY2x1ZGVzKCdyaWdodCcpKSB7XG4gICAgICAgICAgICBrZXkgPSB0cmFuc2Zvcm1DbGljayhrZXksIGBvbkNvbnRleHRtZW51YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vbktleU1vZGlmaWVycy5pbmNsdWRlcygnbWlkZGxlJykpIHtcbiAgICAgICAgICAgIGtleSA9IHRyYW5zZm9ybUNsaWNrKGtleSwgYG9uTW91c2V1cGApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub25LZXlNb2RpZmllcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoYW5kbGVyRXhwID0gY3JlYXRlQ2FsbEV4cHJlc3Npb24oY29udGV4dC5oZWxwZXIoVl9PTl9XSVRIX01PRElGSUVSUyksIFtcbiAgICAgICAgICAgICAgICBoYW5kbGVyRXhwLFxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG5vbktleU1vZGlmaWVycylcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlNb2RpZmllcnMubGVuZ3RoICYmXG4gICAgICAgICAgICAvLyBpZiBldmVudCBuYW1lIGlzIGR5bmFtaWMsIGFsd2F5cyB3cmFwIHdpdGgga2V5cyBndWFyZFxuICAgICAgICAgICAgKCFpc1N0YXRpY0V4cChrZXkpIHx8IGlzS2V5Ym9hcmRFdmVudChrZXkuY29udGVudCkpKSB7XG4gICAgICAgICAgICBoYW5kbGVyRXhwID0gY3JlYXRlQ2FsbEV4cHJlc3Npb24oY29udGV4dC5oZWxwZXIoVl9PTl9XSVRIX0tFWVMpLCBbXG4gICAgICAgICAgICAgICAgaGFuZGxlckV4cCxcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShrZXlNb2RpZmllcnMpXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRPcHRpb25Nb2RpZmllcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBtb2RpZmllclBvc3RmaXggPSBldmVudE9wdGlvbk1vZGlmaWVycy5tYXAoY2FwaXRhbGl6ZSkuam9pbignJyk7XG4gICAgICAgICAgICBrZXkgPSBpc1N0YXRpY0V4cChrZXkpXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVTaW1wbGVFeHByZXNzaW9uKGAke2tleS5jb250ZW50fSR7bW9kaWZpZXJQb3N0Zml4fWAsIHRydWUpXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVDb21wb3VuZEV4cHJlc3Npb24oW2AoYCwga2V5LCBgKSArIFwiJHttb2RpZmllclBvc3RmaXh9XCJgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3BzOiBbY3JlYXRlT2JqZWN0UHJvcGVydHkoa2V5LCBoYW5kbGVyRXhwKV1cbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IHRyYW5zZm9ybVNob3cgPSAoZGlyLCBub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBleHAsIGxvYyB9ID0gZGlyO1xuICAgIGlmICghZXhwKSB7XG4gICAgICAgIGNvbnRleHQub25FcnJvcihjcmVhdGVET01Db21waWxlckVycm9yKDU5IC8qIERPTUVycm9yQ29kZXMuWF9WX1NIT1dfTk9fRVhQUkVTU0lPTiAqLywgbG9jKSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzOiBbXSxcbiAgICAgICAgbmVlZFJ1bnRpbWU6IGNvbnRleHQuaGVscGVyKFZfU0hPVylcbiAgICB9O1xufTtcblxuY29uc3QgdHJhbnNmb3JtVHJhbnNpdGlvbiA9IChub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJlxuICAgICAgICBub2RlLnRhZ1R5cGUgPT09IDEgLyogRWxlbWVudFR5cGVzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBjb250ZXh0LmlzQnVpbHRJbkNvbXBvbmVudChub2RlLnRhZyk7XG4gICAgICAgIGlmIChjb21wb25lbnQgPT09IFRSQU5TSVRJT04kMSkge1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2FybiBtdWx0aXBsZSB0cmFuc2l0aW9uIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgaWYgKGhhc011bHRpcGxlQ2hpbGRyZW4obm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZURPTUNvbXBpbGVyRXJyb3IoNjAgLyogRE9NRXJyb3JDb2Rlcy5YX1RSQU5TSVRJT05fSU5WQUxJRF9DSElMRFJFTiAqLywge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG5vZGUuY2hpbGRyZW5bMF0ubG9jLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBub2RlLmNoaWxkcmVuW25vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMV0ubG9jLmVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJydcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBpdCdzIHMgc2luZ2xlIGNoaWxkIHcvIHYtc2hvd1xuICAgICAgICAgICAgICAgIC8vIGlmIHllcywgaW5qZWN0IFwicGVyc2lzdGVkOiB0cnVlXCIgdG8gdGhlIHRyYW5zaXRpb24gcHJvcHNcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IDEgLyogTm9kZVR5cGVzLkVMRU1FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIGNoaWxkLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocC50eXBlID09PSA3IC8qIE5vZGVUeXBlcy5ESVJFQ1RJVkUgKi8gJiYgcC5uYW1lID09PSAnc2hvdycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnByb3BzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiA2IC8qIE5vZGVUeXBlcy5BVFRSSUJVVEUgKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwZXJzaXN0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2M6IG5vZGUubG9jXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufTtcbmZ1bmN0aW9uIGhhc011bHRpcGxlQ2hpbGRyZW4obm9kZSkge1xuICAgIC8vICMxMzUyIGZpbHRlciBvdXQgcG90ZW50aWFsIGNvbW1lbnQgbm9kZXMuXG4gICAgY29uc3QgY2hpbGRyZW4gPSAobm9kZS5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4uZmlsdGVyKGMgPT4gYy50eXBlICE9PSAzIC8qIE5vZGVUeXBlcy5DT01NRU5UICovICYmXG4gICAgICAgICEoYy50eXBlID09PSAyIC8qIE5vZGVUeXBlcy5URVhUICovICYmICFjLmNvbnRlbnQudHJpbSgpKSkpO1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bMF07XG4gICAgcmV0dXJuIChjaGlsZHJlbi5sZW5ndGggIT09IDEgfHxcbiAgICAgICAgY2hpbGQudHlwZSA9PT0gMTEgLyogTm9kZVR5cGVzLkZPUiAqLyB8fFxuICAgICAgICAoY2hpbGQudHlwZSA9PT0gOSAvKiBOb2RlVHlwZXMuSUYgKi8gJiYgY2hpbGQuYnJhbmNoZXMuc29tZShoYXNNdWx0aXBsZUNoaWxkcmVuKSkpO1xufVxuXG5jb25zdCBpZ25vcmVTaWRlRWZmZWN0VGFncyA9IChub2RlLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gMSAvKiBOb2RlVHlwZXMuRUxFTUVOVCAqLyAmJlxuICAgICAgICBub2RlLnRhZ1R5cGUgPT09IDAgLyogRWxlbWVudFR5cGVzLkVMRU1FTlQgKi8gJiZcbiAgICAgICAgKG5vZGUudGFnID09PSAnc2NyaXB0JyB8fCBub2RlLnRhZyA9PT0gJ3N0eWxlJykpIHtcbiAgICAgICAgY29udGV4dC5vbkVycm9yKGNyZWF0ZURPTUNvbXBpbGVyRXJyb3IoNjEgLyogRE9NRXJyb3JDb2Rlcy5YX0lHTk9SRURfU0lERV9FRkZFQ1RfVEFHICovLCBub2RlLmxvYykpO1xuICAgICAgICBjb250ZXh0LnJlbW92ZU5vZGUoKTtcbiAgICB9XG59O1xuXG5jb25zdCBET01Ob2RlVHJhbnNmb3JtcyA9IFtcbiAgICB0cmFuc2Zvcm1TdHlsZSxcbiAgICAuLi4oKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gW3RyYW5zZm9ybVRyYW5zaXRpb25dIDogW10pXG5dO1xuY29uc3QgRE9NRGlyZWN0aXZlVHJhbnNmb3JtcyA9IHtcbiAgICBjbG9hazogbm9vcERpcmVjdGl2ZVRyYW5zZm9ybSxcbiAgICBodG1sOiB0cmFuc2Zvcm1WSHRtbCxcbiAgICB0ZXh0OiB0cmFuc2Zvcm1WVGV4dCxcbiAgICBtb2RlbDogdHJhbnNmb3JtTW9kZWwkMSxcbiAgICBvbjogdHJhbnNmb3JtT24kMSxcbiAgICBzaG93OiB0cmFuc2Zvcm1TaG93XG59O1xuZnVuY3Rpb24gY29tcGlsZSQxKHRlbXBsYXRlLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gYmFzZUNvbXBpbGUodGVtcGxhdGUsIGV4dGVuZCh7fSwgcGFyc2VyT3B0aW9ucywgb3B0aW9ucywge1xuICAgICAgICBub2RlVHJhbnNmb3JtczogW1xuICAgICAgICAgICAgLy8gaWdub3JlIDxzY3JpcHQ+IGFuZCA8dGFnPlxuICAgICAgICAgICAgLy8gdGhpcyBpcyBub3QgcHV0IGluc2lkZSBET01Ob2RlVHJhbnNmb3JtcyBiZWNhdXNlIHRoYXQgbGlzdCBpcyB1c2VkXG4gICAgICAgICAgICAvLyBieSBjb21waWxlci1zc3IgdG8gZ2VuZXJhdGUgdm5vZGUgZmFsbGJhY2sgYnJhbmNoZXNcbiAgICAgICAgICAgIGlnbm9yZVNpZGVFZmZlY3RUYWdzLFxuICAgICAgICAgICAgLi4uRE9NTm9kZVRyYW5zZm9ybXMsXG4gICAgICAgICAgICAuLi4ob3B0aW9ucy5ub2RlVHJhbnNmb3JtcyB8fCBbXSlcbiAgICAgICAgXSxcbiAgICAgICAgZGlyZWN0aXZlVHJhbnNmb3JtczogZXh0ZW5kKHt9LCBET01EaXJlY3RpdmVUcmFuc2Zvcm1zLCBvcHRpb25zLmRpcmVjdGl2ZVRyYW5zZm9ybXMgfHwge30pLFxuICAgICAgICB0cmFuc2Zvcm1Ib2lzdDogbnVsbCBcbiAgICB9KSk7XG59XG5cbi8vIFRoaXMgZW50cnkgaXMgdGhlIFwiZnVsbC1idWlsZFwiIHRoYXQgaW5jbHVkZXMgYm90aCB0aGUgcnVudGltZVxuY29uc3QgY29tcGlsZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIGNvbXBpbGVUb0Z1bmN0aW9uKHRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFpc1N0cmluZyh0ZW1wbGF0ZSkpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLmlubmVySFRNTDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYGludmFsaWQgdGVtcGxhdGUgb3B0aW9uOiBgLCB0ZW1wbGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gTk9PUDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBrZXkgPSB0ZW1wbGF0ZTtcbiAgICBjb25zdCBjYWNoZWQgPSBjb21waWxlQ2FjaGVba2V5XTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZVswXSA9PT0gJyMnKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0ZW1wbGF0ZSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWVsKSB7XG4gICAgICAgICAgICB3YXJuJDEoYFRlbXBsYXRlIGVsZW1lbnQgbm90IGZvdW5kIG9yIGlzIGVtcHR5OiAke3RlbXBsYXRlfWApO1xuICAgICAgICB9XG4gICAgICAgIC8vIF9fVU5TQUZFX19cbiAgICAgICAgLy8gUmVhc29uOiBwb3RlbnRpYWwgZXhlY3V0aW9uIG9mIEpTIGV4cHJlc3Npb25zIGluIGluLURPTSB0ZW1wbGF0ZS5cbiAgICAgICAgLy8gVGhlIHVzZXIgbXVzdCBtYWtlIHN1cmUgdGhlIGluLURPTSB0ZW1wbGF0ZSBpcyB0cnVzdGVkLiBJZiBpdCdzIHJlbmRlcmVkXG4gICAgICAgIC8vIGJ5IHRoZSBzZXJ2ZXIsIHRoZSB0ZW1wbGF0ZSBzaG91bGQgbm90IGNvbnRhaW4gYW55IHVzZXIgZGF0YS5cbiAgICAgICAgdGVtcGxhdGUgPSBlbCA/IGVsLmlubmVySFRNTCA6IGBgO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFmYWxzZSAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMud2hpdGVzcGFjZSkpIHtcbiAgICAgICAgd2FybkRlcHJlY2F0aW9uKFwiQ09ORklHX1dISVRFU1BBQ0VcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19XSElURVNQQUNFICovLCBudWxsKTtcbiAgICB9XG4gICAgY29uc3QgeyBjb2RlIH0gPSBjb21waWxlJDEodGVtcGxhdGUsIGV4dGVuZCh7XG4gICAgICAgIGhvaXN0U3RhdGljOiB0cnVlLFxuICAgICAgICB3aGl0ZXNwYWNlOiAncHJlc2VydmUnLFxuICAgICAgICBvbkVycm9yOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBvbkVycm9yIDogdW5kZWZpbmVkLFxuICAgICAgICBvbldhcm46IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGUgPT4gb25FcnJvcihlLCB0cnVlKSA6IE5PT1BcbiAgICB9LCBvcHRpb25zKSk7XG4gICAgZnVuY3Rpb24gb25FcnJvcihlcnIsIGFzV2FybmluZyA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhc1dhcm5pbmdcbiAgICAgICAgICAgID8gZXJyLm1lc3NhZ2VcbiAgICAgICAgICAgIDogYFRlbXBsYXRlIGNvbXBpbGF0aW9uIGVycm9yOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgIGNvbnN0IGNvZGVGcmFtZSA9IGVyci5sb2MgJiZcbiAgICAgICAgICAgIGdlbmVyYXRlQ29kZUZyYW1lKHRlbXBsYXRlLCBlcnIubG9jLnN0YXJ0Lm9mZnNldCwgZXJyLmxvYy5lbmQub2Zmc2V0KTtcbiAgICAgICAgd2FybiQxKGNvZGVGcmFtZSA/IGAke21lc3NhZ2V9XFxuJHtjb2RlRnJhbWV9YCA6IG1lc3NhZ2UpO1xuICAgIH1cbiAgICAvLyBUaGUgd2lsZGNhcmQgaW1wb3J0IHJlc3VsdHMgaW4gYSBodWdlIG9iamVjdCB3aXRoIGV2ZXJ5IGV4cG9ydFxuICAgIC8vIHdpdGgga2V5cyB0aGF0IGNhbm5vdCBiZSBtYW5nbGVkLCBhbmQgY2FuIGJlIHF1aXRlIGhlYXZ5IHNpemUtd2lzZS5cbiAgICAvLyBJbiB0aGUgZ2xvYmFsIGJ1aWxkIHdlIGtub3cgYFZ1ZWAgaXMgYXZhaWxhYmxlIGdsb2JhbGx5IHNvIHdlIGNhbiBhdm9pZFxuICAgIC8vIHRoZSB3aWxkY2FyZCBvYmplY3QuXG4gICAgY29uc3QgcmVuZGVyID0gKG5ldyBGdW5jdGlvbignVnVlJywgY29kZSkocnVudGltZURvbSkpO1xuICAgIHJlbmRlci5fcmMgPSB0cnVlO1xuICAgIHJldHVybiAoY29tcGlsZUNhY2hlW2tleV0gPSByZW5kZXIpO1xufVxucmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIoY29tcGlsZVRvRnVuY3Rpb24pO1xuY29uc3QgVnVlID0gY3JlYXRlQ29tcGF0VnVlJDEoKTtcblZ1ZS5jb21waWxlID0gY29tcGlsZVRvRnVuY3Rpb247XG5cbmNvbnN0IHsgY29uZmlndXJlQ29tcGF0OiBjb25maWd1cmVDb21wYXQkMSB9ID0gVnVlO1xuXG5leHBvcnQgZGVmYXVsdCBWdWU7XG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQ29tbWVudCwgRWZmZWN0U2NvcGUsIEZyYWdtZW50LCBLZWVwQWxpdmUsIFJlYWN0aXZlRWZmZWN0LCBTdGF0aWMsIFN1c3BlbnNlLCBUZWxlcG9ydCwgVGV4dCwgVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwLCBWdWVFbGVtZW50LCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgY2FsbFdpdGhFcnJvckhhbmRsaW5nLCBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgY2xvbmVWTm9kZSwgY29tcGF0VXRpbHMsIGNvbXB1dGVkJDEgYXMgY29tcHV0ZWQsIGNvbmZpZ3VyZUNvbXBhdCQxIGFzIGNvbmZpZ3VyZUNvbXBhdCwgY3JlYXRlQXBwLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJhc2VWTm9kZSBhcyBjcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVQcm9wc1Jlc3RQcm94eSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNTUkFwcCwgY3JlYXRlU2xvdHMsIGNyZWF0ZVN0YXRpY1ZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZVZOb2RlLCBjdXN0b21SZWYsIGRlZmluZUFzeW5jQ29tcG9uZW50LCBkZWZpbmVDb21wb25lbnQsIGRlZmluZUN1c3RvbUVsZW1lbnQsIGRlZmluZUVtaXRzLCBkZWZpbmVFeHBvc2UsIGRlZmluZVByb3BzLCBkZWZpbmVTU1JDdXN0b21FbGVtZW50LCBkZXZ0b29scywgZWZmZWN0LCBlZmZlY3RTY29wZSwgZ2V0Q3VycmVudEluc3RhbmNlLCBnZXRDdXJyZW50U2NvcGUsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgZ3VhcmRSZWFjdGl2ZVByb3BzLCBoLCBoYW5kbGVFcnJvciwgaHlkcmF0ZSwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5pdERpcmVjdGl2ZXNGb3JTU1IsIGluamVjdCwgaXNNZW1vU2FtZSwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzUnVudGltZU9ubHksIGlzU2hhbGxvdywgaXNWTm9kZSwgbWFya1JhdywgbWVyZ2VEZWZhdWx0cywgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TY29wZURpc3Bvc2UsIG9uU2VydmVyUHJlZmV0Y2gsIG9uVW5tb3VudGVkLCBvblVwZGF0ZWQsIG9wZW5CbG9jaywgcG9wU2NvcGVJZCwgcHJvdmlkZSwgcHJveHlSZWZzLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyLCByZW5kZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlRmlsdGVyJDEgYXMgcmVzb2x2ZUZpbHRlciwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgc2V0QmxvY2tUcmFja2luZywgc2V0RGV2dG9vbHNIb29rLCBzZXRUcmFuc2l0aW9uSG9va3MsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzc3JDb250ZXh0S2V5LCBzc3JVdGlscywgc3RvcCwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvSGFuZGxlcnMsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0cmFuc2Zvcm1WTm9kZUFyZ3MsIHRyaWdnZXJSZWYsIHVucmVmLCB1c2VBdHRycywgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB1c2VTU1JDb250ZXh0LCB1c2VTbG90cywgdXNlVHJhbnNpdGlvblN0YXRlLCB2TW9kZWxDaGVja2JveCwgdk1vZGVsRHluYW1pYywgdk1vZGVsUmFkaW8sIHZNb2RlbFNlbGVjdCwgdk1vZGVsVGV4dCwgdlNob3csIHZlcnNpb24sIHdhcm4kMSBhcyB3YXJuLCB3YXRjaCwgd2F0Y2hFZmZlY3QsIHdhdGNoUG9zdEVmZmVjdCwgd2F0Y2hTeW5jRWZmZWN0LCB3aXRoQXN5bmNDb250ZXh0LCB3aXRoQ3R4LCB3aXRoRGVmYXVsdHMsIHdpdGhEaXJlY3RpdmVzLCB3aXRoS2V5cywgd2l0aE1lbW8sIHdpdGhNb2RpZmllcnMsIHdpdGhTY29wZUlkIH07XG4iLCJpbXBvcnQgKiBhcyBWdWUgZnJvbSAndnVlJ1xuXG52YXIgaXNWdWUyID0gZmFsc2VcbnZhciBpc1Z1ZTMgPSB0cnVlXG52YXIgVnVlMiA9IHVuZGVmaW5lZFxuXG5mdW5jdGlvbiBpbnN0YWxsKCkge31cblxuZXhwb3J0IGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgdmFsKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICB0YXJnZXQubGVuZ3RoID0gTWF0aC5tYXgodGFyZ2V0Lmxlbmd0aCwga2V5KVxuICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxLCB2YWwpXG4gICAgcmV0dXJuIHZhbFxuICB9XG4gIHRhcmdldFtrZXldID0gdmFsXG4gIHJldHVybiB2YWxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbCh0YXJnZXQsIGtleSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgdGFyZ2V0LnNwbGljZShrZXksIDEpXG4gICAgcmV0dXJuXG4gIH1cbiAgZGVsZXRlIHRhcmdldFtrZXldXG59XG5cbmV4cG9ydCAqIGZyb20gJ3Z1ZSdcbmV4cG9ydCB7XG4gIFZ1ZSxcbiAgVnVlMixcbiAgaXNWdWUyLFxuICBpc1Z1ZTMsXG4gIGluc3RhbGwsXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0RGV2dG9vbHNHbG9iYWxIb29rKCkge1xuICAgIHJldHVybiBnZXRUYXJnZXQoKS5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgPyB3aW5kb3dcbiAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgIDoge307XG59XG5leHBvcnQgY29uc3QgaXNQcm94eUF2YWlsYWJsZSA9IHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJztcbiIsImV4cG9ydCBjb25zdCBIT09LX1NFVFVQID0gJ2RldnRvb2xzLXBsdWdpbjpzZXR1cCc7XG5leHBvcnQgY29uc3QgSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUID0gJ3BsdWdpbjpzZXR0aW5nczpzZXQnO1xuIiwibGV0IHN1cHBvcnRlZDtcbmxldCBwZXJmO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGVyZm9ybWFuY2VTdXBwb3J0ZWQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChzdXBwb3J0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3VwcG9ydGVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmICgoX2EgPSBnbG9iYWwucGVyZl9ob29rcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBlcmZvcm1hbmNlKSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBwZXJmID0gZ2xvYmFsLnBlcmZfaG9va3MucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIGlzUGVyZm9ybWFuY2VTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpO1xufVxuIiwiaW1wb3J0IHsgSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUIH0gZnJvbSAnLi9jb25zdC5qcyc7XG5pbXBvcnQgeyBub3cgfSBmcm9tICcuL3RpbWUuanMnO1xuZXhwb3J0IGNsYXNzIEFwaVByb3h5IHtcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW4sIGhvb2spIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldFF1ZXVlID0gW107XG4gICAgICAgIHRoaXMub25RdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5ob29rID0gaG9vaztcbiAgICAgICAgY29uc3QgZGVmYXVsdFNldHRpbmdzID0ge307XG4gICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gcGx1Z2luLnNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHBsdWdpbi5zZXR0aW5nc1tpZF07XG4gICAgICAgICAgICAgICAgZGVmYXVsdFNldHRpbmdzW2lkXSA9IGl0ZW0uZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2FsU2V0dGluZ3NTYXZlSWQgPSBgX192dWUtZGV2dG9vbHMtcGx1Z2luLXNldHRpbmdzX18ke3BsdWdpbi5pZH1gO1xuICAgICAgICBsZXQgY3VycmVudFNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFNldHRpbmdzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU2V0dGluZ3NTYXZlSWQpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmF3KTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudFNldHRpbmdzLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm9vcFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmFsbGJhY2tzID0ge1xuICAgICAgICAgICAgZ2V0U2V0dGluZ3MoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZXR0aW5ncztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRTZXR0aW5ncyh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU2V0dGluZ3NTYXZlSWQsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm93KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3coKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChob29rKSB7XG4gICAgICAgICAgICBob29rLm9uKEhPT0tfUExVR0lOX1NFVFRJTkdTX1NFVCwgKHBsdWdpbklkLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW5JZCA9PT0gdGhpcy5wbHVnaW4uaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWxsYmFja3Muc2V0U2V0dGluZ3ModmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJveGllZE9uID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgICAgICBnZXQ6IChfdGFyZ2V0LCBwcm9wKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5vbltwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJveGllZFRhcmdldCA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICAgICAgZ2V0OiAoX3RhcmdldCwgcHJvcCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJveGllZE9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChPYmplY3Qua2V5cyh0aGlzLmZhbGxiYWNrcykuaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6ICgpID0+IHsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFsbGJhY2tzW3Byb3BdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNldFJlYWxUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5vblF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5vbltpdGVtLm1ldGhvZF0oLi4uaXRlbS5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy50YXJnZXRRdWV1ZSkge1xuICAgICAgICAgICAgaXRlbS5yZXNvbHZlKGF3YWl0IHRoaXMudGFyZ2V0W2l0ZW0ubWV0aG9kXSguLi5pdGVtLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFRhcmdldCwgZ2V0RGV2dG9vbHNHbG9iYWxIb29rLCBpc1Byb3h5QXZhaWxhYmxlIH0gZnJvbSAnLi9lbnYuanMnO1xuaW1wb3J0IHsgSE9PS19TRVRVUCB9IGZyb20gJy4vY29uc3QuanMnO1xuaW1wb3J0IHsgQXBpUHJveHkgfSBmcm9tICcuL3Byb3h5LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYXBpL2luZGV4LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcGx1Z2luLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdGltZS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBEZXZ0b29sc1BsdWdpbihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSB7XG4gICAgY29uc3QgZGVzY3JpcHRvciA9IHBsdWdpbkRlc2NyaXB0b3I7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0VGFyZ2V0KCk7XG4gICAgY29uc3QgaG9vayA9IGdldERldnRvb2xzR2xvYmFsSG9vaygpO1xuICAgIGNvbnN0IGVuYWJsZVByb3h5ID0gaXNQcm94eUF2YWlsYWJsZSAmJiBkZXNjcmlwdG9yLmVuYWJsZUVhcmx5UHJveHk7XG4gICAgaWYgKGhvb2sgJiYgKHRhcmdldC5fX1ZVRV9ERVZUT09MU19QTFVHSU5fQVBJX0FWQUlMQUJMRV9fIHx8ICFlbmFibGVQcm94eSkpIHtcbiAgICAgICAgaG9vay5lbWl0KEhPT0tfU0VUVVAsIHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcHJveHkgPSBlbmFibGVQcm94eSA/IG5ldyBBcGlQcm94eShkZXNjcmlwdG9yLCBob29rKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX1BMVUdJTlNfXyB8fCBbXTtcbiAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgIHBsdWdpbkRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgICAgICAgICBzZXR1cEZuLFxuICAgICAgICAgICAgcHJveHksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJveHkpXG4gICAgICAgICAgICBzZXR1cEZuKHByb3h5LnByb3hpZWRUYXJnZXQpO1xuICAgIH1cbn1cbiIsIi8qIVxuICAqIHBpbmlhIHYyLjAuMjlcbiAgKiAoYykgMjAyMyBFZHVhcmRvIFNhbiBNYXJ0aW4gTW9yb3RlXG4gICogQGxpY2Vuc2UgTUlUXG4gICovXG5pbXBvcnQgeyBnZXRDdXJyZW50SW5zdGFuY2UsIGluamVjdCwgdG9SYXcsIHdhdGNoLCB1bnJlZiwgbWFya1JhdywgZWZmZWN0U2NvcGUsIHJlZiwgaXNWdWUyLCBpc1JlZiwgaXNSZWFjdGl2ZSwgc2V0LCBnZXRDdXJyZW50U2NvcGUsIG9uU2NvcGVEaXNwb3NlLCByZWFjdGl2ZSwgdG9SZWYsIGRlbCwgbmV4dFRpY2ssIGNvbXB1dGVkLCB0b1JlZnMgfSBmcm9tICd2dWUtZGVtaSc7XG5pbXBvcnQgeyBzZXR1cERldnRvb2xzUGx1Z2luIH0gZnJvbSAnQHZ1ZS9kZXZ0b29scy1hcGknO1xuXG4vKipcclxuICogc2V0QWN0aXZlUGluaWEgbXVzdCBiZSBjYWxsZWQgdG8gaGFuZGxlIFNTUiBhdCB0aGUgdG9wIG9mIGZ1bmN0aW9ucyBsaWtlXHJcbiAqIGBmZXRjaGAsIGBzZXR1cGAsIGBzZXJ2ZXJQcmVmZXRjaGAgYW5kIG90aGVyc1xyXG4gKi9cclxubGV0IGFjdGl2ZVBpbmlhO1xyXG4vKipcclxuICogU2V0cyBvciB1bnNldHMgdGhlIGFjdGl2ZSBwaW5pYS4gVXNlZCBpbiBTU1IgYW5kIGludGVybmFsbHkgd2hlbiBjYWxsaW5nXHJcbiAqIGFjdGlvbnMgYW5kIGdldHRlcnNcclxuICpcclxuICogQHBhcmFtIHBpbmlhIC0gUGluaWEgaW5zdGFuY2VcclxuICovXHJcbmNvbnN0IHNldEFjdGl2ZVBpbmlhID0gKHBpbmlhKSA9PiAoYWN0aXZlUGluaWEgPSBwaW5pYSk7XHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgcGluaWEgaWYgdGhlcmUgaXMgYW55LlxyXG4gKi9cclxuY29uc3QgZ2V0QWN0aXZlUGluaWEgPSAoKSA9PiAoZ2V0Q3VycmVudEluc3RhbmNlKCkgJiYgaW5qZWN0KHBpbmlhU3ltYm9sKSkgfHwgYWN0aXZlUGluaWE7XHJcbmNvbnN0IHBpbmlhU3ltYm9sID0gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IFN5bWJvbCgncGluaWEnKSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFN5bWJvbCgpKTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxubykge1xyXG4gICAgcmV0dXJuIChvICYmXHJcbiAgICAgICAgdHlwZW9mIG8gPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSAnW29iamVjdCBPYmplY3RdJyAmJlxyXG4gICAgICAgIHR5cGVvZiBvLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyk7XHJcbn1cclxuLy8gdHlwZSBEZWVwUmVhZG9ubHk8VD4gPSB7IHJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBEZWVwUmVhZG9ubHk8VFtQXT4gfVxyXG4vLyBUT0RPOiBjYW4gd2UgY2hhbmdlIHRoZXNlIHRvIG51bWJlcnM/XHJcbi8qKlxyXG4gKiBQb3NzaWJsZSB0eXBlcyBmb3IgU3Vic2NyaXB0aW9uQ2FsbGJhY2tcclxuICovXHJcbnZhciBNdXRhdGlvblR5cGU7XHJcbihmdW5jdGlvbiAoTXV0YXRpb25UeXBlKSB7XHJcbiAgICAvKipcclxuICAgICAqIERpcmVjdCBtdXRhdGlvbiBvZiB0aGUgc3RhdGU6XHJcbiAgICAgKlxyXG4gICAgICogLSBgc3RvcmUubmFtZSA9ICduZXcgbmFtZSdgXHJcbiAgICAgKiAtIGBzdG9yZS4kc3RhdGUubmFtZSA9ICduZXcgbmFtZSdgXHJcbiAgICAgKiAtIGBzdG9yZS5saXN0LnB1c2goJ25ldyBpdGVtJylgXHJcbiAgICAgKi9cclxuICAgIE11dGF0aW9uVHlwZVtcImRpcmVjdFwiXSA9IFwiZGlyZWN0XCI7XHJcbiAgICAvKipcclxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGFuIG9iamVjdFxyXG4gICAgICpcclxuICAgICAqIC0gYHN0b3JlLiRwYXRjaCh7IG5hbWU6ICduZXdOYW1lJyB9KWBcclxuICAgICAqL1xyXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hPYmplY3RcIl0gPSBcInBhdGNoIG9iamVjdFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNdXRhdGVkIHRoZSBzdGF0ZSB3aXRoIGAkcGF0Y2hgIGFuZCBhIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogLSBgc3RvcmUuJHBhdGNoKHN0YXRlID0+IHN0YXRlLm5hbWUgPSAnbmV3TmFtZScpYFxyXG4gICAgICovXHJcbiAgICBNdXRhdGlvblR5cGVbXCJwYXRjaEZ1bmN0aW9uXCJdID0gXCJwYXRjaCBmdW5jdGlvblwiO1xyXG4gICAgLy8gbWF5YmUgcmVzZXQ/IGZvciAkc3RhdGUgPSB7fSBhbmQgJHJlc2V0XHJcbn0pKE11dGF0aW9uVHlwZSB8fCAoTXV0YXRpb25UeXBlID0ge30pKTtcblxuY29uc3QgSVNfQ0xJRU5UID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XHJcbi8qKlxyXG4gKiBTaG91bGQgd2UgYWRkIHRoZSBkZXZ0b29scyBwbHVnaW5zLlxyXG4gKiAtIG9ubHkgaWYgZGV2IG1vZGUgb3IgZm9yY2VkIHRocm91Z2ggdGhlIHByb2QgZGV2dG9vbHMgZmxhZ1xyXG4gKiAtIG5vdCBpbiB0ZXN0XHJcbiAqIC0gb25seSBpZiB3aW5kb3cgZXhpc3RzIChjb3VsZCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZSlcclxuICovXHJcbmNvbnN0IFVTRV9ERVZUT09MUyA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykgJiYgSVNfQ0xJRU5UO1xuXG4vKlxyXG4gKiBGaWxlU2F2ZXIuanMgQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXHJcbiAqXHJcbiAqIE9yaWdpbmFsbHkgYnkgRWxpIEdyZXksIGFkYXB0ZWQgYXMgYW4gRVNNIG1vZHVsZSBieSBFZHVhcmRvIFNhbiBNYXJ0aW5cclxuICogTW9yb3RlLlxyXG4gKlxyXG4gKiBMaWNlbnNlIDogTUlUXHJcbiAqL1xyXG4vLyBUaGUgb25lIGFuZCBvbmx5IHdheSBvZiBnZXR0aW5nIGdsb2JhbCBzY29wZSBpbiBhbGwgZW52aXJvbm1lbnRzXHJcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8zMjc3MTgyLzEwMDg5OTlcclxuY29uc3QgX2dsb2JhbCA9IC8qI19fUFVSRV9fKi8gKCgpID0+IHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy53aW5kb3cgPT09IHdpbmRvd1xyXG4gICAgPyB3aW5kb3dcclxuICAgIDogdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZlxyXG4gICAgICAgID8gc2VsZlxyXG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsXHJcbiAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnXHJcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcclxuICAgICAgICAgICAgICAgIDogeyBIVE1MRWxlbWVudDogbnVsbCB9KSgpO1xyXG5mdW5jdGlvbiBib20oYmxvYiwgeyBhdXRvQm9tID0gZmFsc2UgfSA9IHt9KSB7XHJcbiAgICAvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxyXG4gICAgLy8gbm90ZTogeW91ciBicm93c2VyIHdpbGwgYXV0b21hdGljYWxseSBjb252ZXJ0IFVURi0xNiBVK0ZFRkYgdG8gRUYgQkIgQkZcclxuICAgIGlmIChhdXRvQm9tICYmXHJcbiAgICAgICAgL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSgweGZlZmYpLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYmxvYjtcclxufVxyXG5mdW5jdGlvbiBkb3dubG9hZCh1cmwsIG5hbWUsIG9wdHMpIHtcclxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XHJcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xyXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzYXZlQXMoeGhyLnJlc3BvbnNlLCBuYW1lLCBvcHRzKTtcclxuICAgIH07XHJcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdjb3VsZCBub3QgZG93bmxvYWQgZmlsZScpO1xyXG4gICAgfTtcclxuICAgIHhoci5zZW5kKCk7XHJcbn1cclxuZnVuY3Rpb24gY29yc0VuYWJsZWQodXJsKSB7XHJcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIC8vIHVzZSBzeW5jIHRvIGF2b2lkIHBvcHVwIGJsb2NrZXJcclxuICAgIHhoci5vcGVuKCdIRUFEJywgdXJsLCBmYWxzZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICByZXR1cm4geGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8PSAyOTk7XHJcbn1cclxuLy8gYGEuY2xpY2soKWAgZG9lc24ndCB3b3JrIGZvciBhbGwgYnJvd3NlcnMgKCM0NjUpXHJcbmZ1bmN0aW9uIGNsaWNrKG5vZGUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc3QgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XHJcbiAgICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KCdjbGljaycsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgODAsIDIwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XHJcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgX25hdmlnYXRvciA9IFxyXG4gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogJycgfTtcclxuLy8gRGV0ZWN0IFdlYlZpZXcgaW5zaWRlIGEgbmF0aXZlIG1hY09TIGFwcCBieSBydWxpbmcgb3V0IGFsbCBicm93c2Vyc1xyXG4vLyBXZSBqdXN0IG5lZWQgdG8gY2hlY2sgZm9yICdTYWZhcmknIGJlY2F1c2UgYWxsIG90aGVyIGJyb3dzZXJzIChiZXNpZGVzIEZpcmVmb3gpIGluY2x1ZGUgdGhhdCB0b29cclxuLy8gaHR0cHM6Ly93d3cud2hhdGlzbXlicm93c2VyLmNvbS9ndWlkZXMvdGhlLWxhdGVzdC11c2VyLWFnZW50L21hY29zXHJcbmNvbnN0IGlzTWFjT1NXZWJWaWV3ID0gLyojX19QVVJFX18qLyAoKCkgPT4gL01hY2ludG9zaC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcclxuICAgIC9BcHBsZVdlYktpdC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcclxuICAgICEvU2FmYXJpLy50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSkoKTtcclxuY29uc3Qgc2F2ZUFzID0gIUlTX0NMSUVOVFxyXG4gICAgPyAoKSA9PiB7IH0gLy8gbm9vcFxyXG4gICAgOiAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSkgdW5sZXNzIHRoaXMgaXMgYSBtYWNPUyBXZWJWaWV3IG9yIG1pbmkgcHJvZ3JhbVxyXG4gICAgICAgIHR5cGVvZiBIVE1MQW5jaG9yRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAgICAgJ2Rvd25sb2FkJyBpbiBIVE1MQW5jaG9yRWxlbWVudC5wcm90b3R5cGUgJiZcclxuICAgICAgICAgICAgIWlzTWFjT1NXZWJWaWV3XHJcbiAgICAgICAgICAgID8gZG93bmxvYWRTYXZlQXNcclxuICAgICAgICAgICAgOiAvLyBVc2UgbXNTYXZlT3JPcGVuQmxvYiBhcyBhIHNlY29uZCBhcHByb2FjaFxyXG4gICAgICAgICAgICAgICAgJ21zU2F2ZU9yT3BlbkJsb2InIGluIF9uYXZpZ2F0b3JcclxuICAgICAgICAgICAgICAgICAgICA/IG1zU2F2ZUFzXHJcbiAgICAgICAgICAgICAgICAgICAgOiAvLyBGYWxsYmFjayB0byB1c2luZyBGaWxlUmVhZGVyIGFuZCBhIHBvcHVwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTYXZlclNhdmVBcztcclxuZnVuY3Rpb24gZG93bmxvYWRTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcclxuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBhLmRvd25sb2FkID0gbmFtZTtcclxuICAgIGEucmVsID0gJ25vb3BlbmVyJzsgLy8gdGFibmFiYmluZ1xyXG4gICAgLy8gVE9ETzogZGV0ZWN0IGNocm9tZSBleHRlbnNpb25zICYgcGFja2FnZWQgYXBwc1xyXG4gICAgLy8gYS50YXJnZXQgPSAnX2JsYW5rJ1xyXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vIFN1cHBvcnQgcmVndWxhciBsaW5rc1xyXG4gICAgICAgIGEuaHJlZiA9IGJsb2I7XHJcbiAgICAgICAgaWYgKGEub3JpZ2luICE9PSBsb2NhdGlvbi5vcmlnaW4pIHtcclxuICAgICAgICAgICAgaWYgKGNvcnNFbmFibGVkKGEuaHJlZikpIHtcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcclxuICAgICAgICAgICAgICAgIGNsaWNrKGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjbGljayhhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBTdXBwb3J0IGJsb2JzXHJcbiAgICAgICAgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpO1xyXG4gICAgICAgIH0sIDRlNCk7IC8vIDQwc1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGljayhhKTtcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBtc1NhdmVBcyhibG9iLCBuYW1lID0gJ2Rvd25sb2FkJywgb3B0cykge1xyXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xyXG4gICAgICAgICAgICBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGEuaHJlZiA9IGJsb2I7XHJcbiAgICAgICAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2xpY2soYSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IHdvcmtzIG9uIHdpbmRvd3NcclxuICAgICAgICBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihib20oYmxvYiwgb3B0cyksIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZpbGVTYXZlclNhdmVBcyhibG9iLCBuYW1lLCBvcHRzLCBwb3B1cCkge1xyXG4gICAgLy8gT3BlbiBhIHBvcHVwIGltbWVkaWF0ZWx5IGRvIGdvIGFyb3VuZCBwb3B1cCBibG9ja2VyXHJcbiAgICAvLyBNb3N0bHkgb25seSBhdmFpbGFibGUgb24gdXNlciBpbnRlcmFjdGlvbiBhbmQgdGhlIGZpbGVSZWFkZXIgaXMgYXN5bmMgc28uLi5cclxuICAgIHBvcHVwID0gcG9wdXAgfHwgb3BlbignJywgJ19ibGFuaycpO1xyXG4gICAgaWYgKHBvcHVwKSB7XHJcbiAgICAgICAgcG9wdXAuZG9jdW1lbnQudGl0bGUgPSBwb3B1cC5kb2N1bWVudC5ib2R5LmlubmVyVGV4dCA9ICdkb3dubG9hZGluZy4uLic7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKVxyXG4gICAgICAgIHJldHVybiBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcclxuICAgIGNvbnN0IGZvcmNlID0gYmxvYi50eXBlID09PSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcclxuICAgIGNvbnN0IGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChTdHJpbmcoX2dsb2JhbC5IVE1MRWxlbWVudCkpIHx8ICdzYWZhcmknIGluIF9nbG9iYWw7XHJcbiAgICBjb25zdCBpc0Nocm9tZUlPUyA9IC9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIGlmICgoaXNDaHJvbWVJT1MgfHwgKGZvcmNlICYmIGlzU2FmYXJpKSB8fCBpc01hY09TV2ViVmlldykgJiZcclxuICAgICAgICB0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIFVSTHNcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSByZWFkZXIucmVzdWx0O1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHBvcHVwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgcmVhZGVyLnJlc3VsdCB0eXBlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXJsID0gaXNDaHJvbWVJT1NcclxuICAgICAgICAgICAgICAgID8gdXJsXHJcbiAgICAgICAgICAgICAgICA6IHVybC5yZXBsYWNlKC9eZGF0YTpbXjtdKjsvLCAnZGF0YTphdHRhY2htZW50L2ZpbGU7Jyk7XHJcbiAgICAgICAgICAgIGlmIChwb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgcG9wdXAubG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvcHVwID0gbnVsbDsgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBpZiAocG9wdXApXHJcbiAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICBwb3B1cCA9IG51bGw7IC8vIHJldmVyc2UtdGFibmFiYmluZyAjNDYwXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcclxuICAgIH1cclxufVxuXG4vKipcclxuICogU2hvd3MgYSB0b2FzdCBvciBjb25zb2xlLmxvZ1xyXG4gKlxyXG4gKiBAcGFyYW0gbWVzc2FnZSAtIG1lc3NhZ2UgdG8gbG9nXHJcbiAqIEBwYXJhbSB0eXBlIC0gZGlmZmVyZW50IGNvbG9yIG9mIHRoZSB0b29sdGlwXHJcbiAqL1xyXG5mdW5jdGlvbiB0b2FzdE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xyXG4gICAgY29uc3QgcGluaWFNZXNzYWdlID0gJ/CfjY0gJyArIG1lc3NhZ2U7XHJcbiAgICBpZiAodHlwZW9mIF9fVlVFX0RFVlRPT0xTX1RPQVNUX18gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBfX1ZVRV9ERVZUT09MU19UT0FTVF9fKHBpbmlhTWVzc2FnZSwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihwaW5pYU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3dhcm4nKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKHBpbmlhTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhwaW5pYU1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzUGluaWEobykge1xyXG4gICAgcmV0dXJuICdfYScgaW4gbyAmJiAnaW5zdGFsbCcgaW4gbztcclxufVxuXG5mdW5jdGlvbiBjaGVja0NsaXBib2FyZEFjY2VzcygpIHtcclxuICAgIGlmICghKCdjbGlwYm9hcmQnIGluIG5hdmlnYXRvcikpIHtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoYFlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdGhlIENsaXBib2FyZCBBUElgLCAnZXJyb3InKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcclxuICAgICAgICBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2RvY3VtZW50IGlzIG5vdCBmb2N1c2VkJykpIHtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoJ1lvdSBuZWVkIHRvIGFjdGl2YXRlIHRoZSBcIkVtdWxhdGUgYSBmb2N1c2VkIHBhZ2VcIiBzZXR0aW5nIGluIHRoZSBcIlJlbmRlcmluZ1wiIHBhbmVsIG9mIGRldnRvb2xzLicsICd3YXJuJyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsQ29weVN0YXRlKHBpbmlhKSB7XHJcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KEpTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKSk7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgY29waWVkIHRvIGNsaXBib2FyZC4nKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBzZXJpYWxpemUgdGhlIHN0YXRlLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpIHtcclxuICAgIGlmIChjaGVja0NsaXBib2FyZEFjY2VzcygpKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWUgPSBKU09OLnBhcnNlKGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKSk7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgcGFzdGVkIGZyb20gY2xpcGJvYXJkLicpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGNoZWNrTm90Rm9jdXNlZEVycm9yKGVycm9yKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGRlc2VyaWFsaXplIHRoZSBzdGF0ZSBmcm9tIGNsaXBib2FyZC4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxyXG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxTYXZlU3RhdGUocGluaWEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgc2F2ZUFzKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShwaW5pYS5zdGF0ZS52YWx1ZSldLCB7XHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnLFxyXG4gICAgICAgIH0pLCAncGluaWEtc3RhdGUuanNvbicpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gZXhwb3J0IHRoZSBzdGF0ZSBhcyBKU09OLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbmxldCBmaWxlSW5wdXQ7XHJcbmZ1bmN0aW9uIGdldEZpbGVPcGVuZXIoKSB7XHJcbiAgICBpZiAoIWZpbGVJbnB1dCkge1xyXG4gICAgICAgIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XHJcbiAgICAgICAgZmlsZUlucHV0LmFjY2VwdCA9ICcuanNvbic7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvcGVuRmlsZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGZpbGVJbnB1dC5maWxlcztcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZXMuaXRlbSgwKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdGV4dDogYXdhaXQgZmlsZS50ZXh0KCksIGZpbGUgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IFRPRE86IGNoYW5nZWQgZnJvbSA0LjMgdG8gNC40XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmNhbmNlbCA9ICgpID0+IHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBvcGVuRmlsZTtcclxufVxyXG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG9wZW4gPSBhd2FpdCBnZXRGaWxlT3BlbmVyKCk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlbigpO1xyXG4gICAgICAgIGlmICghcmVzdWx0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgeyB0ZXh0LCBmaWxlIH0gPSByZXN1bHQ7XHJcbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWUgPSBKU09OLnBhcnNlKHRleHQpO1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgR2xvYmFsIHN0YXRlIGltcG9ydGVkIGZyb20gXCIke2ZpbGUubmFtZX1cIi5gKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGV4cG9ydCB0aGUgc3RhdGUgYXMgSlNPTi4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5KGRpc3BsYXkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX2N1c3RvbToge1xyXG4gICAgICAgICAgICBkaXNwbGF5LFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IFBJTklBX1JPT1RfTEFCRUwgPSAn8J+NjSBQaW5pYSAocm9vdCknO1xyXG5jb25zdCBQSU5JQV9ST09UX0lEID0gJ19yb290JztcclxuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKHN0b3JlKSB7XHJcbiAgICByZXR1cm4gaXNQaW5pYShzdG9yZSlcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgaWQ6IFBJTklBX1JPT1RfSUQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBQSU5JQV9ST09UX0xBQkVMLFxyXG4gICAgICAgIH1cclxuICAgICAgICA6IHtcclxuICAgICAgICAgICAgaWQ6IHN0b3JlLiRpZCxcclxuICAgICAgICAgICAgbGFiZWw6IHN0b3JlLiRpZCxcclxuICAgICAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoc3RvcmUpIHtcclxuICAgIGlmIChpc1BpbmlhKHN0b3JlKSkge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlTmFtZXMgPSBBcnJheS5mcm9tKHN0b3JlLl9zLmtleXMoKSk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVNYXAgPSBzdG9yZS5fcztcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgc3RhdGU6IHN0b3JlTmFtZXMubWFwKChzdG9yZUlkKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBrZXk6IHN0b3JlSWQsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuc3RhdGUudmFsdWVbc3RvcmVJZF0sXHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgZ2V0dGVyczogc3RvcmVOYW1lc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoaWQpID0+IHN0b3JlTWFwLmdldChpZCkuX2dldHRlcnMpXHJcbiAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBzdG9yZU1hcC5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBpZCxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuX2dldHRlcnMucmVkdWNlKChnZXR0ZXJzLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwge30pLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICBzdGF0ZTogT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5tYXAoKGtleSkgPT4gKHtcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlLiRzdGF0ZVtrZXldLFxyXG4gICAgICAgIH0pKSxcclxuICAgIH07XHJcbiAgICAvLyBhdm9pZCBhZGRpbmcgZW1wdHkgZ2V0dGVyc1xyXG4gICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgIHN0YXRlLmdldHRlcnMgPSBzdG9yZS5fZ2V0dGVycy5tYXAoKGdldHRlck5hbWUpID0+ICh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAga2V5OiBnZXR0ZXJOYW1lLFxyXG4gICAgICAgICAgICB2YWx1ZTogc3RvcmVbZ2V0dGVyTmFtZV0sXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLnNpemUpIHtcclxuICAgICAgICBzdGF0ZS5jdXN0b21Qcm9wZXJ0aWVzID0gQXJyYXkuZnJvbShzdG9yZS5fY3VzdG9tUHJvcGVydGllcykubWFwKChrZXkpID0+ICh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtrZXldLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGF0ZTtcclxufVxyXG5mdW5jdGlvbiBmb3JtYXRFdmVudERhdGEoZXZlbnRzKSB7XHJcbiAgICBpZiAoIWV2ZW50cylcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudHMpKSB7XHJcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGFkZCBhbmQgZGVsZXRlIGZvciBhcnJheXMgYW5kIG9iamVjdHNcclxuICAgICAgICByZXR1cm4gZXZlbnRzLnJlZHVjZSgoZGF0YSwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZGF0YS5rZXlzLnB1c2goZXZlbnQua2V5KTtcclxuICAgICAgICAgICAgZGF0YS5vcGVyYXRpb25zLnB1c2goZXZlbnQudHlwZSk7XHJcbiAgICAgICAgICAgIGRhdGEub2xkVmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm9sZFZhbHVlO1xyXG4gICAgICAgICAgICBkYXRhLm5ld1ZhbHVlW2V2ZW50LmtleV0gPSBldmVudC5uZXdWYWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBvbGRWYWx1ZToge30sXHJcbiAgICAgICAgICAgIGtleXM6IFtdLFxyXG4gICAgICAgICAgICBvcGVyYXRpb25zOiBbXSxcclxuICAgICAgICAgICAgbmV3VmFsdWU6IHt9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgb3BlcmF0aW9uOiBmb3JtYXREaXNwbGF5KGV2ZW50cy50eXBlKSxcclxuICAgICAgICAgICAga2V5OiBmb3JtYXREaXNwbGF5KGV2ZW50cy5rZXkpLFxyXG4gICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnRzLm9sZFZhbHVlLFxyXG4gICAgICAgICAgICBuZXdWYWx1ZTogZXZlbnRzLm5ld1ZhbHVlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0TXV0YXRpb25UeXBlKHR5cGUpIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLmRpcmVjdDpcclxuICAgICAgICAgICAgcmV0dXJuICdtdXRhdGlvbic7XHJcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbjpcclxuICAgICAgICAgICAgcmV0dXJuICckcGF0Y2gnO1xyXG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0OlxyXG4gICAgICAgICAgICByZXR1cm4gJyRwYXRjaCc7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJztcclxuICAgIH1cclxufVxuXG4vLyB0aW1lbGluZSBjYW4gYmUgcGF1c2VkIHdoZW4gZGlyZWN0bHkgY2hhbmdpbmcgdGhlIHN0YXRlXHJcbmxldCBpc1RpbWVsaW5lQWN0aXZlID0gdHJ1ZTtcclxuY29uc3QgY29tcG9uZW50U3RhdGVUeXBlcyA9IFtdO1xyXG5jb25zdCBNVVRBVElPTlNfTEFZRVJfSUQgPSAncGluaWE6bXV0YXRpb25zJztcclxuY29uc3QgSU5TUEVDVE9SX0lEID0gJ3BpbmlhJztcclxuLyoqXHJcbiAqIEdldHMgdGhlIGRpc3BsYXllZCBuYW1lIG9mIGEgc3RvcmUgaW4gZGV2dG9vbHNcclxuICpcclxuICogQHBhcmFtIGlkIC0gaWQgb2YgdGhlIHN0b3JlXHJcbiAqIEByZXR1cm5zIGEgZm9ybWF0dGVkIHN0cmluZ1xyXG4gKi9cclxuY29uc3QgZ2V0U3RvcmVUeXBlID0gKGlkKSA9PiAn8J+NjSAnICsgaWQ7XHJcbi8qKlxyXG4gKiBBZGQgdGhlIHBpbmlhIHBsdWdpbiB3aXRob3V0IGFueSBzdG9yZS4gQWxsb3dzIGRpc3BsYXlpbmcgYSBQaW5pYSBwbHVnaW4gdGFiXHJcbiAqIGFzIHNvb24gYXMgaXQgaXMgYWRkZWQgdG8gdGhlIGFwcGxpY2F0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gVnVlIGFwcGxpY2F0aW9uXHJcbiAqIEBwYXJhbSBwaW5pYSAtIHBpbmlhIGluc3RhbmNlXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclBpbmlhRGV2dG9vbHMoYXBwLCBwaW5pYSkge1xyXG4gICAgc2V0dXBEZXZ0b29sc1BsdWdpbih7XHJcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcclxuICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxyXG4gICAgICAgIGxvZ286ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9sb2dvLnN2ZycsXHJcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXHJcbiAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZycsXHJcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcyxcclxuICAgICAgICBhcHAsXHJcbiAgICB9LCAoYXBpKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcGkubm93ICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XHJcbiAgICAgICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBgUGluaWEg8J+NjWAsXHJcbiAgICAgICAgICAgIGNvbG9yOiAweGU1ZGY4OCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcclxuICAgICAgICAgICAgaWQ6IElOU1BFQ1RPUl9JRCxcclxuICAgICAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcclxuICAgICAgICAgICAgaWNvbjogJ3N0b3JhZ2UnLFxyXG4gICAgICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdTZWFyY2ggc3RvcmVzJyxcclxuICAgICAgICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdjb250ZW50X2NvcHknLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NlcmlhbGl6ZSBhbmQgY29weSB0aGUgc3RhdGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9wYXN0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1JlcGxhY2UgdGhlIHN0YXRlIHdpdGggdGhlIGNvbnRlbnQgb2YgeW91ciBjbGlwYm9hcmQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnc2F2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkdsb2JhbFNhdmVTdGF0ZShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2F2ZSB0aGUgc3RhdGUgYXMgYSBKU09OIGZpbGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZm9sZGVyX29wZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdJbXBvcnQgdGhlIHN0YXRlIGZyb20gYSBKU09OIGZpbGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgbm9kZUFjdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAncmVzdG9yZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1Jlc2V0IHRoZSBzdGF0ZSAob3B0aW9uIHN0b3JlIG9ubHkpJyxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IChub2RlSWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQobm9kZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IHdhc24ndCBmb3VuZC5gLCAnd2FybicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzdG9yZS5faXNPcHRpb25zQVBJKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYENhbm5vdCByZXNldCBcIiR7bm9kZUlkfVwiIHN0b3JlIGJlY2F1c2UgaXQncyBhIHNldHVwIHN0b3JlLmAsICd3YXJuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS4kcmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgU3RvcmUgXCIke25vZGVJZH1cIiByZXNldC5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwaS5vbi5pbnNwZWN0Q29tcG9uZW50KChwYXlsb2FkLCBjdHgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJveHkgPSAocGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZS5wcm94eSk7XHJcbiAgICAgICAgICAgIGlmIChwcm94eSAmJiBwcm94eS5fcFN0b3Jlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWFTdG9yZXMgPSBwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlLnByb3h5Ll9wU3RvcmVzO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhwaW5pYVN0b3JlcykuZm9yRWFjaCgoc3RvcmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3N0YXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5faXNPcHRpb25zQVBJXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b1JhdyhzdG9yZS4kc3RhdGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3Jlc3RvcmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdSZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBzdG9yZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiBzdG9yZS4kcmVzZXQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogLy8gTk9URTogd29ya2Fyb3VuZCB0byB1bndyYXAgdHJhbnNmZXJyZWQgcmVmc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0b3JlLiRzdGF0ZSkucmVkdWNlKChzdGF0ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBzdG9yZS4kc3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmUuX2dldHRlcnMgJiYgc3RvcmUuX2dldHRlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdnZXR0ZXJzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcnNba2V5XSA9IHN0b3JlW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBqdXN0IHdhbnQgdG8gc2hvdyBpdCBpbiBkZXZ0b29sc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmVzID0gW3BpbmlhXTtcclxuICAgICAgICAgICAgICAgIHN0b3JlcyA9IHN0b3Jlcy5jb25jYXQoQXJyYXkuZnJvbShwaW5pYS5fcy52YWx1ZXMoKSkpO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5yb290Tm9kZXMgPSAocGF5bG9hZC5maWx0ZXJcclxuICAgICAgICAgICAgICAgICAgICA/IHN0b3Jlcy5maWx0ZXIoKHN0b3JlKSA9PiAnJGlkJyBpbiBzdG9yZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0b3JlLiRpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBJTklBX1JPT1RfTEFCRUwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSlcclxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlcykubWFwKGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXHJcbiAgICAgICAgICAgICAgICAgICAgPyBwaW5pYVxyXG4gICAgICAgICAgICAgICAgICAgIDogcGluaWEuX3MuZ2V0KHBheWxvYWQubm9kZUlkKTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGJlIHRoZSBzZWxlY3RlZCBzdG9yZSByZXN0b3JlZCBmb3IgYSBkaWZmZXJlbnQgcHJvamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIGl0J3MgYmV0dGVyIG5vdCB0byBzYXkgYW55dGhpbmcgaGVyZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpbnNwZWN0ZWRTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuc3RhdGUgPSBmb3JtYXRTdG9yZUZvckluc3BlY3RvclN0YXRlKGluc3BlY3RlZFN0b3JlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQsIGN0eCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluc3BlY3RlZFN0b3JlID0gcGF5bG9hZC5ub2RlSWQgPT09IFBJTklBX1JPT1RfSURcclxuICAgICAgICAgICAgICAgICAgICA/IHBpbmlhXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnNwZWN0ZWRTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtwYXlsb2FkLm5vZGVJZH1cIiBub3QgZm91bmRgLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gcGF5bG9hZDtcclxuICAgICAgICAgICAgICAgIGlmICghaXNQaW5pYShpbnNwZWN0ZWRTdG9yZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3Mgb25seSB0aGUgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggIT09IDEgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWluc3BlY3RlZFN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmhhcyhwYXRoWzBdKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoWzBdIGluIGluc3BlY3RlZFN0b3JlLiRzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoJyRzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJvb3QgYWNjZXNzLCB3ZSBjYW4gb21pdCB0aGUgYC52YWx1ZWAgYmVjYXVzZSB0aGUgZGV2dG9vbHMgQVBJIGRvZXMgaXQgZm9yIHVzXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KCdzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoaW5zcGVjdGVkU3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZWRpdENvbXBvbmVudFN0YXRlKChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLnR5cGUuc3RhcnRzV2l0aCgn8J+NjScpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUlkID0gcGF5bG9hZC50eXBlLnJlcGxhY2UoL17wn42NXFxzKi8sICcnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KHN0b3JlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtzdG9yZUlkfVwiIG5vdCBmb3VuZGAsICdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBwYXlsb2FkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbMF0gIT09ICdzdGF0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBJbnZhbGlkIHBhdGggZm9yIHN0b3JlIFwiJHtzdG9yZUlkfVwiOlxcbiR7cGF0aH1cXG5Pbmx5IHN0YXRlIGNhbiBiZSBtb2RpZmllZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJld3JpdGUgdGhlIGZpcnN0IGVudHJ5IHRvIGJlIGFibGUgdG8gZGlyZWN0bHkgc2V0IHRoZSBzdGF0ZSBhc1xyXG4gICAgICAgICAgICAgICAgLy8gd2VsbCBhcyBhbnkgb3RoZXIgcGF0aFxyXG4gICAgICAgICAgICAgICAgcGF0aFswXSA9ICckc3RhdGUnO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoc3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGFkZFN0b3JlVG9EZXZ0b29scyhhcHAsIHN0b3JlKSB7XHJcbiAgICBpZiAoIWNvbXBvbmVudFN0YXRlVHlwZXMuaW5jbHVkZXMoZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCkpKSB7XHJcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcy5wdXNoKGdldFN0b3JlVHlwZShzdG9yZS4kaWQpKTtcclxuICAgIH1cclxuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xyXG4gICAgICAgIGlkOiAnZGV2LmVzbS5waW5pYScsXHJcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcclxuICAgICAgICBsb2dvOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvbG9nby5zdmcnLFxyXG4gICAgICAgIHBhY2thZ2VOYW1lOiAncGluaWEnLFxyXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxyXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMsXHJcbiAgICAgICAgYXBwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGxvZ1N0b3JlQ2hhbmdlczoge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOb3RpZnkgYWJvdXQgbmV3L2RlbGV0ZWQgc3RvcmVzJyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gdXNlRW1vamlzOiB7XHJcbiAgICAgICAgICAgIC8vICAgbGFiZWw6ICdVc2UgZW1vamlzIGluIG1lc3NhZ2VzIOKaoe+4jycsXHJcbiAgICAgICAgICAgIC8vICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICAgICAgICAvLyAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICB9LFxyXG4gICAgfSwgKGFwaSkgPT4ge1xyXG4gICAgICAgIC8vIGdyYWNlZnVsbHkgaGFuZGxlIGVycm9yc1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHR5cGVvZiBhcGkubm93ID09PSAnZnVuY3Rpb24nID8gYXBpLm5vdy5iaW5kKGFwaSkgOiBEYXRlLm5vdztcclxuICAgICAgICBzdG9yZS4kb25BY3Rpb24oKHsgYWZ0ZXIsIG9uRXJyb3IsIG5hbWUsIGFyZ3MgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBncm91cElkID0gcnVubmluZ0FjdGlvbklkKys7XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5urICcgKyBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhZnRlcigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfm6wgJyArIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgb25FcnJvcigoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+SpSAnICsgbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICB3YXRjaCgoKSA9PiB1bnJlZihzdG9yZVtuYW1lXSksIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1RpbWVsaW5lQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hhbmdlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGl2ZUFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN0b3JlLiRzdWJzY3JpYmUoKHsgZXZlbnRzLCB0eXBlIH0sIHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGltZWxpbmVBY3RpdmUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIHJvb3RTdG9yZS5zdGF0ZVtzdG9yZS5pZF0gPSBzdGF0ZVxyXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRFdmVudERhdGEoZXZlbnRzKSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBncm91cElkOiBhY3RpdmVBY3Rpb24sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IGZvciB0aGUgbmV4dCBtdXRhdGlvblxyXG4gICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gJ+Kkte+4jyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSAn8J+nqSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnRzICYmICFBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9IGV2ZW50cy50eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5kYXRhWydyYXdFdmVudChzKSddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0RlYnVnZ2VyRXZlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ3JhdyBEZWJ1Z2dlckV2ZW50W10nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudERhdGEsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIHsgZGV0YWNoZWQ6IHRydWUsIGZsdXNoOiAnc3luYycgfSk7XHJcbiAgICAgICAgY29uc3QgaG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcclxuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcclxuICAgICAgICAgICAgaG90VXBkYXRlKG5ld1N0b3JlKTtcclxuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CflKUgJyArIHN0b3JlLiRpZCxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0hNUiB1cGRhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogZm9ybWF0RGlzcGxheShgSE1SIHVwZGF0ZWApLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkZXZ0b29scyB0b29cclxuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHsgJGRpc3Bvc2UgfSA9IHN0b3JlO1xyXG4gICAgICAgIHN0b3JlLiRkaXNwb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAkZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgICAgIGFwaS5nZXRTZXR0aW5ncygpLmxvZ1N0b3JlQ2hhbmdlcyAmJlxyXG4gICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBEaXNwb3NlZCBcIiR7c3RvcmUuJGlkfVwiIHN0b3JlIPCfl5FgKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHRyaWdnZXIgYW4gdXBkYXRlIHNvIGl0IGNhbiBkaXNwbGF5IG5ldyByZWdpc3RlcmVkIHN0b3Jlc1xyXG4gICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgYXBpLmdldFNldHRpbmdzKCkubG9nU3RvcmVDaGFuZ2VzICYmXHJcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgXCIke3N0b3JlLiRpZH1cIiBzdG9yZSBpbnN0YWxsZWQg8J+GlWApO1xyXG4gICAgfSk7XHJcbn1cclxubGV0IHJ1bm5pbmdBY3Rpb25JZCA9IDA7XHJcbmxldCBhY3RpdmVBY3Rpb247XHJcbi8qKlxyXG4gKiBQYXRjaGVzIGEgc3RvcmUgdG8gZW5hYmxlIGFjdGlvbiBncm91cGluZyBpbiBkZXZ0b29scyBieSB3cmFwcGluZyB0aGUgc3RvcmUgd2l0aCBhIFByb3h5IHRoYXQgaXMgcGFzc2VkIGFzIHRoZVxyXG4gKiBjb250ZXh0IG9mIGFsbCBhY3Rpb25zLCBhbGxvd2luZyB1cyB0byBzZXQgYHJ1bm5pbmdBY3Rpb25gIG9uIGVhY2ggYWNjZXNzIGFuZCBlZmZlY3RpdmVseSBhc3NvY2lhdGluZyBhbnkgc3RhdGVcclxuICogbXV0YXRpb24gdG8gdGhlIGFjdGlvbi5cclxuICpcclxuICogQHBhcmFtIHN0b3JlIC0gc3RvcmUgdG8gcGF0Y2hcclxuICogQHBhcmFtIGFjdGlvbk5hbWVzIC0gbGlzdCBvZiBhY3Rpb25zdCB0byBwYXRjaFxyXG4gKi9cclxuZnVuY3Rpb24gcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgYWN0aW9uTmFtZXMpIHtcclxuICAgIC8vIG9yaWdpbmFsIGFjdGlvbnMgb2YgdGhlIHN0b3JlIGFzIHRoZXkgYXJlIGdpdmVuIGJ5IHBpbmlhLiBXZSBhcmUgZ29pbmcgdG8gb3ZlcnJpZGUgdGhlbVxyXG4gICAgY29uc3QgYWN0aW9ucyA9IGFjdGlvbk5hbWVzLnJlZHVjZSgoc3RvcmVBY3Rpb25zLCBhY3Rpb25OYW1lKSA9PiB7XHJcbiAgICAgICAgLy8gdXNlIHRvUmF3IHRvIGF2b2lkIHRyYWNraW5nICM1NDFcclxuICAgICAgICBzdG9yZUFjdGlvbnNbYWN0aW9uTmFtZV0gPSB0b1JhdyhzdG9yZSlbYWN0aW9uTmFtZV07XHJcbiAgICAgICAgcmV0dXJuIHN0b3JlQWN0aW9ucztcclxuICAgIH0sIHt9KTtcclxuICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBhY3Rpb25zKSB7XHJcbiAgICAgICAgc3RvcmVbYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHNldEFjdGl2ZVBpbmlhKHN0b3JlLl9wKVxyXG4gICAgICAgICAgICAvLyB0aGUgcnVubmluZyBhY3Rpb24gaWQgaXMgaW5jcmVtZW50ZWQgaW4gYSBiZWZvcmUgYWN0aW9uIGhvb2tcclxuICAgICAgICAgICAgY29uc3QgX2FjdGlvbklkID0gcnVubmluZ0FjdGlvbklkO1xyXG4gICAgICAgICAgICBjb25zdCB0cmFja2VkU3RvcmUgPSBuZXcgUHJveHkoc3RvcmUsIHtcclxuICAgICAgICAgICAgICAgIGdldCguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCguLi5hcmdzKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQoLi4uYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnNbYWN0aW9uTmFtZV0uYXBwbHkodHJhY2tlZFN0b3JlLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbilcclxuICovXHJcbmZ1bmN0aW9uIGRldnRvb2xzUGx1Z2luKHsgYXBwLCBzdG9yZSwgb3B0aW9ucyB9KSB7XHJcbiAgICAvLyBITVIgbW9kdWxlXHJcbiAgICBpZiAoc3RvcmUuJGlkLnN0YXJ0c1dpdGgoJ19faG90OicpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gZGV0ZWN0IG9wdGlvbiBhcGkgdnMgc2V0dXAgYXBpXHJcbiAgICBpZiAob3B0aW9ucy5zdGF0ZSkge1xyXG4gICAgICAgIHN0b3JlLl9pc09wdGlvbnNBUEkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gb25seSB3cmFwIGFjdGlvbnMgaW4gb3B0aW9uLWRlZmluZWQgc3RvcmVzIGFzIHRoaXMgdGVjaG5pcXVlIHJlbGllcyBvblxyXG4gICAgLy8gd3JhcHBpbmcgdGhlIGNvbnRleHQgb2YgdGhlIGFjdGlvbiB3aXRoIGEgcHJveHlcclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zdGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoXHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogY2FuIGNhc3QgdGhlIHN0b3JlLi4uXHJcbiAgICAgICAgc3RvcmUsIE9iamVjdC5rZXlzKG9wdGlvbnMuYWN0aW9ucykpO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcclxuICAgICAgICAvLyBVcGdyYWRlIHRoZSBITVIgdG8gYWxzbyB1cGRhdGUgdGhlIG5ldyBhY3Rpb25zXHJcbiAgICAgICAgdG9SYXcoc3RvcmUpLl9ob3RVcGRhdGUgPSBmdW5jdGlvbiAobmV3U3RvcmUpIHtcclxuICAgICAgICAgICAgb3JpZ2luYWxIb3RVcGRhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgT2JqZWN0LmtleXMobmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBhZGRTdG9yZVRvRGV2dG9vbHMoYXBwLCBcclxuICAgIC8vIEZJWE1FOiBpcyB0aGVyZSBhIHdheSB0byBhbGxvdyB0aGUgYXNzaWdubWVudCBmcm9tIFN0b3JlPElkLCBTLCBHLCBBPiB0byBTdG9yZUdlbmVyaWM/XHJcbiAgICBzdG9yZSk7XHJcbn1cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBQaW5pYSBpbnN0YW5jZSB0byBiZSB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUGluaWEoKSB7XHJcbiAgICBjb25zdCBzY29wZSA9IGVmZmVjdFNjb3BlKHRydWUpO1xyXG4gICAgLy8gTk9URTogaGVyZSB3ZSBjb3VsZCBjaGVjayB0aGUgd2luZG93IG9iamVjdCBmb3IgYSBzdGF0ZSBhbmQgZGlyZWN0bHkgc2V0IGl0XHJcbiAgICAvLyBpZiB0aGVyZSBpcyBhbnl0aGluZyBsaWtlIGl0IHdpdGggVnVlIDMgU1NSXHJcbiAgICBjb25zdCBzdGF0ZSA9IHNjb3BlLnJ1bigoKSA9PiByZWYoe30pKTtcclxuICAgIGxldCBfcCA9IFtdO1xyXG4gICAgLy8gcGx1Z2lucyBhZGRlZCBiZWZvcmUgY2FsbGluZyBhcHAudXNlKHBpbmlhKVxyXG4gICAgbGV0IHRvQmVJbnN0YWxsZWQgPSBbXTtcclxuICAgIGNvbnN0IHBpbmlhID0gbWFya1Jhdyh7XHJcbiAgICAgICAgaW5zdGFsbChhcHApIHtcclxuICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgY2FsbGluZyB1c2VTdG9yZSgpIG91dHNpZGUgb2YgYSBjb21wb25lbnQgc2V0dXAgYWZ0ZXJcclxuICAgICAgICAgICAgLy8gaW5zdGFsbGluZyBwaW5pYSdzIHBsdWdpblxyXG4gICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgIGlmICghaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBwaW5pYS5fYSA9IGFwcDtcclxuICAgICAgICAgICAgICAgIGFwcC5wcm92aWRlKHBpbmlhU3ltYm9sLCBwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHBpbmlhID0gcGluaWE7XHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKFVTRV9ERVZUT09MUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGluaWFEZXZ0b29scyhhcHAsIHBpbmlhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRvQmVJbnN0YWxsZWQuZm9yRWFjaCgocGx1Z2luKSA9PiBfcC5wdXNoKHBsdWdpbikpO1xyXG4gICAgICAgICAgICAgICAgdG9CZUluc3RhbGxlZCA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1c2UocGx1Z2luKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fYSAmJiAhaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkLnB1c2gocGx1Z2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9wLnB1c2gocGx1Z2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9wLFxyXG4gICAgICAgIC8vIGl0J3MgYWN0dWFsbHkgdW5kZWZpbmVkIGhlcmVcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgX2E6IG51bGwsXHJcbiAgICAgICAgX2U6IHNjb3BlLFxyXG4gICAgICAgIF9zOiBuZXcgTWFwKCksXHJcbiAgICAgICAgc3RhdGUsXHJcbiAgICB9KTtcclxuICAgIC8vIHBpbmlhIGRldnRvb2xzIHJlbHkgb24gZGV2IG9ubHkgZmVhdHVyZXMgc28gdGhleSBjYW5ub3QgYmUgZm9yY2VkIHVubGVzc1xyXG4gICAgLy8gdGhlIGRldiBidWlsZCBvZiBWdWUgaXMgdXNlZC4gQXZvaWQgb2xkIGJyb3dzZXJzIGxpa2UgSUUxMS5cclxuICAgIGlmIChVU0VfREVWVE9PTFMgJiYgdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGluaWE7XHJcbn1cblxuLyoqXHJcbiAqIENoZWNrcyBpZiBhIGZ1bmN0aW9uIGlzIGEgYFN0b3JlRGVmaW5pdGlvbmAuXHJcbiAqXHJcbiAqIEBwYXJhbSBmbiAtIG9iamVjdCB0byB0ZXN0XHJcbiAqIEByZXR1cm5zIHRydWUgaWYgYGZuYCBpcyBhIFN0b3JlRGVmaW5pdGlvblxyXG4gKi9cclxuY29uc3QgaXNVc2VTdG9yZSA9IChmbikgPT4ge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZm4uJGlkID09PSAnc3RyaW5nJztcclxufTtcclxuLyoqXHJcbiAqIE11dGF0ZXMgaW4gcGxhY2UgYG5ld1N0YXRlYCB3aXRoIGBvbGRTdGF0ZWAgdG8gX2hvdCB1cGRhdGVfIGl0LiBJdCB3aWxsXHJcbiAqIHJlbW92ZSBhbnkga2V5IG5vdCBleGlzdGluZyBpbiBgbmV3U3RhdGVgIGFuZCByZWN1cnNpdmVseSBtZXJnZSBwbGFpblxyXG4gKiBvYmplY3RzLlxyXG4gKlxyXG4gKiBAcGFyYW0gbmV3U3RhdGUgLSBuZXcgc3RhdGUgb2JqZWN0IHRvIGJlIHBhdGNoZWRcclxuICogQHBhcmFtIG9sZFN0YXRlIC0gb2xkIHN0YXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcGF0Y2ggbmV3U3RhdGVcclxuICogQHJldHVybnMgLSBuZXdTdGF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcGF0Y2hPYmplY3QobmV3U3RhdGUsIG9sZFN0YXRlKSB7XHJcbiAgICAvLyBubyBuZWVkIHRvIGdvIHRocm91Z2ggc3ltYm9scyBiZWNhdXNlIHRoZXkgY2Fubm90IGJlIHNlcmlhbGl6ZWQgYW55d2F5XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTdGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gb2xkU3RhdGVba2V5XTtcclxuICAgICAgICAvLyBza2lwIHRoZSB3aG9sZSBzdWIgdHJlZVxyXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdTdGF0ZSkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gbmV3U3RhdGVba2V5XTtcclxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcclxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxyXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcclxuICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHBhdGNoT2JqZWN0KHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBvYmplY3RzIGFyZSBlaXRoZXIgYSBiaXQgbW9yZSBjb21wbGV4IChlLmcuIHJlZnMpIG9yIHByaW1pdGl2ZXMsIHNvIHdlXHJcbiAgICAgICAgICAgIC8vIGp1c3Qgc2V0IHRoZSB3aG9sZSB0aGluZ1xyXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBzZXQobmV3U3RhdGUsIGtleSwgc3ViUGF0Y2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHN1YlBhdGNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1N0YXRlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGFuIF9hY2NlcHRfIGZ1bmN0aW9uIHRvIHBhc3MgdG8gYGltcG9ydC5tZXRhLmhvdGAgaW4gVml0ZSBhcHBsaWNhdGlvbnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IHVzZVVzZXIgPSBkZWZpbmVTdG9yZSguLi4pXHJcbiAqIGlmIChpbXBvcnQubWV0YS5ob3QpIHtcclxuICogICBpbXBvcnQubWV0YS5ob3QuYWNjZXB0KGFjY2VwdEhNUlVwZGF0ZSh1c2VVc2VyLCBpbXBvcnQubWV0YS5ob3QpKVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0gaW5pdGlhbFVzZVN0b3JlIC0gcmV0dXJuIG9mIHRoZSBkZWZpbmVTdG9yZSB0byBob3QgdXBkYXRlXHJcbiAqIEBwYXJhbSBob3QgLSBgaW1wb3J0Lm1ldGEuaG90YFxyXG4gKi9cclxuZnVuY3Rpb24gYWNjZXB0SE1SVXBkYXRlKGluaXRpYWxVc2VTdG9yZSwgaG90KSB7XHJcbiAgICAvLyBzdHJpcCBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gaWlmZS5wcm9kXHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKG5ld01vZHVsZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBpbmlhID0gaG90LmRhdGEucGluaWEgfHwgaW5pdGlhbFVzZVN0b3JlLl9waW5pYTtcclxuICAgICAgICBpZiAoIXBpbmlhKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgc3RvcmUgaXMgc3RpbGwgbm90IHVzZWRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgcGluaWEgaW5zdGFuY2UgYWNyb3NzIGxvYWRzXHJcbiAgICAgICAgaG90LmRhdGEucGluaWEgPSBwaW5pYTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ290IGRhdGEnLCBuZXdTdG9yZSlcclxuICAgICAgICBmb3IgKGNvbnN0IGV4cG9ydE5hbWUgaW4gbmV3TW9kdWxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZVN0b3JlID0gbmV3TW9kdWxlW2V4cG9ydE5hbWVdO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hlY2tpbmcgZm9yJywgZXhwb3J0TmFtZSlcclxuICAgICAgICAgICAgaWYgKGlzVXNlU3RvcmUodXNlU3RvcmUpICYmIHBpbmlhLl9zLmhhcyh1c2VTdG9yZS4kaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQWNjZXB0aW5nIHVwZGF0ZSBmb3InLCB1c2VTdG9yZS4kaWQpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHVzZVN0b3JlLiRpZDtcclxuICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gaW5pdGlhbFVzZVN0b3JlLiRpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhlIGlkIG9mIHRoZSBzdG9yZSBjaGFuZ2VkIGZyb20gXCIke2luaXRpYWxVc2VTdG9yZS4kaWR9XCIgdG8gXCIke2lkfVwiLiBSZWxvYWRpbmcuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGltcG9ydC5tZXRhLmhvdC5pbnZhbGlkYXRlKClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG90LmludmFsaWRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1N0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtQaW5pYV06IHNraXBwaW5nIGhtciBiZWNhdXNlIHN0b3JlIGRvZXNuJ3QgZXhpc3QgeWV0YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXNlU3RvcmUocGluaWEsIGV4aXN0aW5nU3RvcmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG5jb25zdCBub29wID0gKCkgPT4geyB9O1xyXG5mdW5jdGlvbiBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9ucywgY2FsbGJhY2ssIGRldGFjaGVkLCBvbkNsZWFudXAgPSBub29wKSB7XHJcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goY2FsbGJhY2spO1xyXG4gICAgY29uc3QgcmVtb3ZlU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoIWRldGFjaGVkICYmIGdldEN1cnJlbnRTY29wZSgpKSB7XHJcbiAgICAgICAgb25TY29wZURpc3Bvc2UocmVtb3ZlU3Vic2NyaXB0aW9uKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlclN1YnNjcmlwdGlvbnMoc3Vic2NyaXB0aW9ucywgLi4uYXJncykge1xyXG4gICAgc3Vic2NyaXB0aW9ucy5zbGljZSgpLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBtZXJnZVJlYWN0aXZlT2JqZWN0cyh0YXJnZXQsIHBhdGNoVG9BcHBseSkge1xyXG4gICAgLy8gSGFuZGxlIE1hcCBpbnN0YW5jZXNcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBNYXAgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgTWFwKSB7XHJcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHRhcmdldC5zZXQoa2V5LCB2YWx1ZSkpO1xyXG4gICAgfVxyXG4gICAgLy8gSGFuZGxlIFNldCBpbnN0YW5jZXNcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBTZXQgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgU2V0KSB7XHJcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2godGFyZ2V0LmFkZCwgdGFyZ2V0KTtcclxuICAgIH1cclxuICAgIC8vIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCBzeW1ib2xzIGJlY2F1c2UgdGhleSBjYW5ub3QgYmUgc2VyaWFsaXplZCBhbnl3YXlcclxuICAgIGZvciAoY29uc3Qga2V5IGluIHBhdGNoVG9BcHBseSkge1xyXG4gICAgICAgIGlmICghcGF0Y2hUb0FwcGx5Lmhhc093blByb3BlcnR5KGtleSkpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gcGF0Y2hUb0FwcGx5W2tleV07XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcclxuICAgICAgICAgICAgdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkgJiZcclxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxyXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcclxuICAgICAgICAgICAgLy8gTk9URTogaGVyZSBJIHdhbnRlZCB0byB3YXJuIGFib3V0IGluY29uc2lzdGVudCB0eXBlcyBidXQgaXQncyBub3QgcG9zc2libGUgYmVjYXVzZSBpbiBzZXR1cCBzdG9yZXMgb25lIG1pZ2h0XHJcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGFzIGEgY2VydGFpbiB0eXBlIGUuZy4gYSBNYXAsIGFuZCB0aGVuIGZvciBzb21lIHJlYXNvbiwgZHVyaW5nIFNTUiwgY2hhbmdlIHRoYXRcclxuICAgICAgICAgICAgLy8gdG8gYHVuZGVmaW5lZGAuIFdoZW4gdHJ5aW5nIHRvIGh5ZHJhdGUsIHdlIHdhbnQgdG8gb3ZlcnJpZGUgdGhlIE1hcCB3aXRoIGB1bmRlZmluZWRgLlxyXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBzdWJQYXRjaCBpcyBhIHZhbGlkIHZhbHVlXHJcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc3ViUGF0Y2g7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5jb25zdCBza2lwSHlkcmF0ZVN5bWJvbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgPyBTeW1ib2woJ3BpbmlhOnNraXBIeWRyYXRpb24nKVxyXG4gICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBTeW1ib2woKTtcclxuY29uc3Qgc2tpcEh5ZHJhdGVNYXAgPSAvKiNfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XHJcbi8qKlxyXG4gKiBUZWxscyBQaW5pYSB0byBza2lwIHRoZSBoeWRyYXRpb24gcHJvY2VzcyBvZiBhIGdpdmVuIG9iamVjdC4gVGhpcyBpcyB1c2VmdWwgaW4gc2V0dXAgc3RvcmVzIChvbmx5KSB3aGVuIHlvdSByZXR1cm4gYVxyXG4gKiBzdGF0ZWZ1bCBvYmplY3QgaW4gdGhlIHN0b3JlIGJ1dCBpdCBpc24ndCByZWFsbHkgc3RhdGUuIGUuZy4gcmV0dXJuaW5nIGEgcm91dGVyIGluc3RhbmNlIGluIGEgc2V0dXAgc3RvcmUuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmogLSB0YXJnZXQgb2JqZWN0XHJcbiAqIEByZXR1cm5zIG9ialxyXG4gKi9cclxuZnVuY3Rpb24gc2tpcEh5ZHJhdGUob2JqKSB7XHJcbiAgICByZXR1cm4gaXNWdWUyXHJcbiAgICAgICAgPyAvLyBpbiBAdnVlL2NvbXBvc2l0aW9uLWFwaSwgdGhlIHJlZnMgYXJlIHNlYWxlZCBzbyBkZWZpbmVQcm9wZXJ0eSBkb2Vzbid0IHdvcmsuLi5cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gc2tpcEh5ZHJhdGVNYXAuc2V0KG9iaiwgMSkgJiYgb2JqXHJcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBza2lwSHlkcmF0ZVN5bWJvbCwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBzaG91bGQgYmUgaHlkcmF0ZWRcclxuICpcclxuICogQHBhcmFtIG9iaiAtIHRhcmdldCB2YXJpYWJsZVxyXG4gKiBAcmV0dXJucyB0cnVlIGlmIGBvYmpgIHNob3VsZCBiZSBoeWRyYXRlZFxyXG4gKi9cclxuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZShvYmopIHtcclxuICAgIHJldHVybiBpc1Z1ZTJcclxuICAgICAgICA/IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovICFza2lwSHlkcmF0ZU1hcC5oYXMob2JqKVxyXG4gICAgICAgIDogIWlzUGxhaW5PYmplY3Qob2JqKSB8fCAhb2JqLmhhc093blByb3BlcnR5KHNraXBIeWRyYXRlU3ltYm9sKTtcclxufVxyXG5jb25zdCB7IGFzc2lnbiB9ID0gT2JqZWN0O1xyXG5mdW5jdGlvbiBpc0NvbXB1dGVkKG8pIHtcclxuICAgIHJldHVybiAhIShpc1JlZihvKSAmJiBvLmVmZmVjdCk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSwgaG90KSB7XHJcbiAgICBjb25zdCB7IHN0YXRlLCBhY3Rpb25zLCBnZXR0ZXJzIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVbaWRdO1xyXG4gICAgbGV0IHN0b3JlO1xyXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICAgICAgaWYgKCFpbml0aWFsU3RhdGUgJiYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIWhvdCkpIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcclxuICAgICAgICAgICAgICAgIHNldChwaW5pYS5zdGF0ZS52YWx1ZSwgaWQsIHN0YXRlID8gc3RhdGUoKSA6IHt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlW2lkXSA9IHN0YXRlID8gc3RhdGUoKSA6IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGF2b2lkIGNyZWF0aW5nIGEgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWVcclxuICAgICAgICBjb25zdCBsb2NhbFN0YXRlID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdFxyXG4gICAgICAgICAgICA/IC8vIHVzZSByZWYoKSB0byB1bndyYXAgcmVmcyBpbnNpZGUgc3RhdGUgVE9ETzogY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCBuZWNlc3NhcnlcclxuICAgICAgICAgICAgICAgIHRvUmVmcyhyZWYoc3RhdGUgPyBzdGF0ZSgpIDoge30pLnZhbHVlKVxyXG4gICAgICAgICAgICA6IHRvUmVmcyhwaW5pYS5zdGF0ZS52YWx1ZVtpZF0pO1xyXG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxTdGF0ZSwgYWN0aW9ucywgT2JqZWN0LmtleXMoZ2V0dGVycyB8fCB7fSkucmVkdWNlKChjb21wdXRlZEdldHRlcnMsIG5hbWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuYW1lIGluIGxvY2FsU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBBIGdldHRlciBjYW5ub3QgaGF2ZSB0aGUgc2FtZSBuYW1lIGFzIGFub3RoZXIgc3RhdGUgcHJvcGVydHkuIFJlbmFtZSBvbmUgb2YgdGhlbS4gRm91bmQgd2l0aCBcIiR7bmFtZX1cIiBpbiBzdG9yZSBcIiR7aWR9XCIuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcHV0ZWRHZXR0ZXJzW25hbWVdID0gbWFya1Jhdyhjb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY3JlYXRlZCBqdXN0IGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgY3Jvc3MgdXNpbmcgc3RvcmVzXHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVnVlMiAmJiAhc3RvcmUuX3IpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGdldHRlcnMhW25hbWVdLmNhbGwoY29udGV4dCwgY29udGV4dClcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGF2b2lkIHJlYWRpbmcgdGhlIGdldHRlciB3aGlsZSBhc3NpZ25pbmcgd2l0aCBhIGdsb2JhbCB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnNbbmFtZV0uY2FsbChzdG9yZSwgc3RvcmUpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZEdldHRlcnM7XHJcbiAgICAgICAgfSwge30pKTtcclxuICAgIH1cclxuICAgIHN0b3JlID0gY3JlYXRlU2V0dXBTdG9yZShpZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhLCBob3QsIHRydWUpO1xyXG4gICAgc3RvcmUuJHJlc2V0ID0gZnVuY3Rpb24gJHJlc2V0KCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGUgPyBzdGF0ZSgpIDoge307XHJcbiAgICAgICAgLy8gd2UgdXNlIGEgcGF0Y2ggdG8gZ3JvdXAgYWxsIGNoYW5nZXMgaW50byBvbmUgc2luZ2xlIHN1YnNjcmlwdGlvblxyXG4gICAgICAgIHRoaXMuJHBhdGNoKCgkc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgYXNzaWduKCRzdGF0ZSwgbmV3U3RhdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBzdG9yZTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVTZXR1cFN0b3JlKCRpZCwgc2V0dXAsIG9wdGlvbnMgPSB7fSwgcGluaWEsIGhvdCwgaXNPcHRpb25zU3RvcmUpIHtcclxuICAgIGxldCBzY29wZTtcclxuICAgIGNvbnN0IG9wdGlvbnNGb3JQbHVnaW4gPSBhc3NpZ24oeyBhY3Rpb25zOiB7fSB9LCBvcHRpb25zKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogYWN0aXZlIGlzIGFuIGludGVybmFsIHByb3BlcnR5XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFwaW5pYS5fZS5hY3RpdmUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BpbmlhIGRlc3Ryb3llZCcpO1xyXG4gICAgfVxyXG4gICAgLy8gd2F0Y2hlciBvcHRpb25zIGZvciAkc3Vic2NyaWJlXHJcbiAgICBjb25zdCAkc3Vic2NyaWJlT3B0aW9ucyA9IHtcclxuICAgICAgICBkZWVwOiB0cnVlLFxyXG4gICAgICAgIC8vIGZsdXNoOiAncG9zdCcsXHJcbiAgICB9O1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVnVlMikge1xyXG4gICAgICAgICRzdWJzY3JpYmVPcHRpb25zLm9uVHJpZ2dlciA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAoaXNMaXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgICAgIGRlYnVnZ2VyRXZlbnRzID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0cmlnZ2VyaW5nIHRoaXMgd2hpbGUgdGhlIHN0b3JlIGlzIGJlaW5nIGJ1aWx0IGFuZCB0aGUgc3RhdGUgaXMgYmVpbmcgc2V0IGluIHBpbmlhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNMaXN0ZW5pbmcgPT0gZmFsc2UgJiYgIXN0b3JlLl9ob3RVcGRhdGluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHBhdGNoIHNlbmQgYWxsIHRoZSBldmVudHMgdG9nZXRoZXIgbGF0ZXJcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkZWJ1Z2dlckV2ZW50cykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfjY0gZGVidWdnZXJFdmVudHMgc2hvdWxkIGJlIGFuIGFycmF5LiBUaGlzIGlzIG1vc3QgbGlrZWx5IGFuIGludGVybmFsIFBpbmlhIGJ1Zy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBpbnRlcm5hbCBzdGF0ZVxyXG4gICAgbGV0IGlzTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXHJcbiAgICBsZXQgaXNTeW5jTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXHJcbiAgICBsZXQgc3Vic2NyaXB0aW9ucyA9IG1hcmtSYXcoW10pO1xyXG4gICAgbGV0IGFjdGlvblN1YnNjcmlwdGlvbnMgPSBtYXJrUmF3KFtdKTtcclxuICAgIGxldCBkZWJ1Z2dlckV2ZW50cztcclxuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF07XHJcbiAgICAvLyBhdm9pZCBzZXR0aW5nIHRoZSBzdGF0ZSBmb3Igb3B0aW9uIHN0b3JlcyBpZiBpdCBpcyBzZXRcclxuICAgIC8vIGJ5IHRoZSBzZXR1cFxyXG4gICAgaWYgKCFpc09wdGlvbnNTdG9yZSAmJiAhaW5pdGlhbFN0YXRlICYmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICFob3QpKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWUsICRpZCwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGhvdFN0YXRlID0gcmVmKHt9KTtcclxuICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgdG9vIG1hbnkgbGlzdGVuZXJzXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcGluaWEvaXNzdWVzLzExMjlcclxuICAgIGxldCBhY3RpdmVMaXN0ZW5lcjtcclxuICAgIGZ1bmN0aW9uICRwYXRjaChwYXJ0aWFsU3RhdGVPck11dGF0b3IpIHtcclxuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uTXV0YXRpb247XHJcbiAgICAgICAgaXNMaXN0ZW5pbmcgPSBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAvLyByZXNldCB0aGUgZGVidWdnZXIgZXZlbnRzIHNpbmNlIHBhdGNoZXMgYXJlIHN5bmNcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsU3RhdGVPck11dGF0b3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcGFydGlhbFN0YXRlT3JNdXRhdG9yKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pO1xyXG4gICAgICAgICAgICBzdWJzY3JpcHRpb25NdXRhdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5wYXRjaEZ1bmN0aW9uLFxyXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1lcmdlUmVhY3RpdmVPYmplY3RzKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIHBhcnRpYWxTdGF0ZU9yTXV0YXRvcik7XHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk11dGF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcGFydGlhbFN0YXRlT3JNdXRhdG9yLFxyXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbXlMaXN0ZW5lcklkID0gKGFjdGl2ZUxpc3RlbmVyID0gU3ltYm9sKCkpO1xyXG4gICAgICAgIG5leHRUaWNrKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVMaXN0ZW5lciA9PT0gbXlMaXN0ZW5lcklkKSB7XHJcbiAgICAgICAgICAgICAgICBpc0xpc3RlbmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgcGF1c2VkIHRoZSB3YXRjaGVyLCB3ZSBuZWVkIHRvIG1hbnVhbGx5IGNhbGwgdGhlIHN1YnNjcmlwdGlvbnNcclxuICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCBzdWJzY3JpcHRpb25NdXRhdGlvbiwgcGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgY29uc3QgJHJlc2V0ID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg8J+NjTogU3RvcmUgXCIkeyRpZH1cIiBpcyBidWlsdCB1c2luZyB0aGUgc2V0dXAgc3ludGF4IGFuZCBkb2VzIG5vdCBpbXBsZW1lbnQgJHJlc2V0KCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDogbm9vcDtcclxuICAgIGZ1bmN0aW9uICRkaXNwb3NlKCkge1xyXG4gICAgICAgIHNjb3BlLnN0b3AoKTtcclxuICAgICAgICBzdWJzY3JpcHRpb25zID0gW107XHJcbiAgICAgICAgYWN0aW9uU3Vic2NyaXB0aW9ucyA9IFtdO1xyXG4gICAgICAgIHBpbmlhLl9zLmRlbGV0ZSgkaWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXcmFwcyBhbiBhY3Rpb24gdG8gaGFuZGxlIHN1YnNjcmlwdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIHRoZSBhY3Rpb25cclxuICAgICAqIEBwYXJhbSBhY3Rpb24gLSBhY3Rpb24gdG8gd3JhcFxyXG4gICAgICogQHJldHVybnMgYSB3cmFwcGVkIGFjdGlvbiB0byBoYW5kbGUgc3Vic2NyaXB0aW9uc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB3cmFwQWN0aW9uKG5hbWUsIGFjdGlvbikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcclxuICAgICAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgY29uc3QgYWZ0ZXJDYWxsYmFja0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgY29uc3Qgb25FcnJvckNhbGxiYWNrTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZnRlcihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJDYWxsYmFja0xpc3QucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvcihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvckNhbGxiYWNrTGlzdC5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFjdGlvblN1YnNjcmlwdGlvbnMsIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgc3RvcmUsXHJcbiAgICAgICAgICAgICAgICBhZnRlcixcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXQgcmV0O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0ID0gYWN0aW9uLmFwcGx5KHRoaXMgJiYgdGhpcy4kaWQgPT09ICRpZCA/IHRoaXMgOiBzdG9yZSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc3luYyBlcnJvcnNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKG9uRXJyb3JDYWxsYmFja0xpc3QsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0XHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhvbkVycm9yQ2FsbGJhY2tMaXN0LCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsbG93IHRoZSBhZnRlckNhbGxiYWNrIHRvIG92ZXJyaWRlIHRoZSByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHJldCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IF9obXJQYXlsb2FkID0gLyojX19QVVJFX18qLyBtYXJrUmF3KHtcclxuICAgICAgICBhY3Rpb25zOiB7fSxcclxuICAgICAgICBnZXR0ZXJzOiB7fSxcclxuICAgICAgICBzdGF0ZTogW10sXHJcbiAgICAgICAgaG90U3RhdGUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHBhcnRpYWxTdG9yZSA9IHtcclxuICAgICAgICBfcDogcGluaWEsXHJcbiAgICAgICAgLy8gX3M6IHNjb3BlLFxyXG4gICAgICAgICRpZCxcclxuICAgICAgICAkb25BY3Rpb246IGFkZFN1YnNjcmlwdGlvbi5iaW5kKG51bGwsIGFjdGlvblN1YnNjcmlwdGlvbnMpLFxyXG4gICAgICAgICRwYXRjaCxcclxuICAgICAgICAkcmVzZXQsXHJcbiAgICAgICAgJHN1YnNjcmliZShjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZVN1YnNjcmlwdGlvbiA9IGFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25zLCBjYWxsYmFjaywgb3B0aW9ucy5kZXRhY2hlZCwgKCkgPT4gc3RvcFdhdGNoZXIoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3BXYXRjaGVyID0gc2NvcGUucnVuKCgpID0+IHdhdGNoKCgpID0+IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIChzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmx1c2ggPT09ICdzeW5jJyA/IGlzU3luY0xpc3RlbmluZyA6IGlzTGlzdGVuaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5kaXJlY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBhc3NpZ24oe30sICRzdWJzY3JpYmVPcHRpb25zLCBvcHRpb25zKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlU3Vic2NyaXB0aW9uO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJGRpc3Bvc2UsXHJcbiAgICB9O1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgLy8gc3RhcnQgYXMgbm9uIHJlYWR5XHJcbiAgICAgICAgcGFydGlhbFN0b3JlLl9yID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdG9yZSA9IHJlYWN0aXZlKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBVU0VfREVWVE9PTFNcclxuICAgICAgICA/IGFzc2lnbih7XHJcbiAgICAgICAgICAgIF9obXJQYXlsb2FkLFxyXG4gICAgICAgICAgICBfY3VzdG9tUHJvcGVydGllczogbWFya1JhdyhuZXcgU2V0KCkpLCAvLyBkZXZ0b29scyBjdXN0b20gcHJvcGVydGllc1xyXG4gICAgICAgIH0sIHBhcnRpYWxTdG9yZVxyXG4gICAgICAgIC8vIG11c3QgYmUgYWRkZWQgbGF0ZXJcclxuICAgICAgICAvLyBzZXR1cFN0b3JlXHJcbiAgICAgICAgKVxyXG4gICAgICAgIDogcGFydGlhbFN0b3JlKTtcclxuICAgIC8vIHN0b3JlIHRoZSBwYXJ0aWFsIHN0b3JlIG5vdyBzbyB0aGUgc2V0dXAgb2Ygc3RvcmVzIGNhbiBpbnN0YW50aWF0ZSBlYWNoIG90aGVyIGJlZm9yZSB0aGV5IGFyZSBmaW5pc2hlZCB3aXRob3V0XHJcbiAgICAvLyBjcmVhdGluZyBpbmZpbml0ZSBsb29wcy5cclxuICAgIHBpbmlhLl9zLnNldCgkaWQsIHN0b3JlKTtcclxuICAgIC8vIFRPRE86IGlkZWEgY3JlYXRlIHNraXBTZXJpYWxpemUgdGhhdCBtYXJrcyBwcm9wZXJ0aWVzIGFzIG5vbiBzZXJpYWxpemFibGUgYW5kIHRoZXkgYXJlIHNraXBwZWRcclxuICAgIGNvbnN0IHNldHVwU3RvcmUgPSBwaW5pYS5fZS5ydW4oKCkgPT4ge1xyXG4gICAgICAgIHNjb3BlID0gZWZmZWN0U2NvcGUoKTtcclxuICAgICAgICByZXR1cm4gc2NvcGUucnVuKCgpID0+IHNldHVwKCkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBvdmVyd3JpdGUgZXhpc3RpbmcgYWN0aW9ucyB0byBzdXBwb3J0ICRvbkFjdGlvblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2V0dXBTdG9yZSkge1xyXG4gICAgICAgIGNvbnN0IHByb3AgPSBzZXR1cFN0b3JlW2tleV07XHJcbiAgICAgICAgaWYgKChpc1JlZihwcm9wKSAmJiAhaXNDb21wdXRlZChwcm9wKSkgfHwgaXNSZWFjdGl2ZShwcm9wKSkge1xyXG4gICAgICAgICAgICAvLyBtYXJrIGl0IGFzIGEgcGllY2Ugb2Ygc3RhdGUgdG8gYmUgc2VyaWFsaXplZFxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xyXG4gICAgICAgICAgICAgICAgc2V0KGhvdFN0YXRlLnZhbHVlLCBrZXksIHRvUmVmKHNldHVwU3RvcmUsIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlT3B0aW9uU3RvcmUgZGlyZWN0bHkgc2V0cyB0aGUgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWUgc28gd2VcclxuICAgICAgICAgICAgICAgIC8vIGNhbiBqdXN0IHNraXAgdGhhdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc09wdGlvbnNTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gc2V0dXAgc3RvcmVzIHdlIG11c3QgaHlkcmF0ZSB0aGUgc3RhdGUgYW5kIHN5bmMgcGluaWEgc3RhdGUgdHJlZSB3aXRoIHRoZSByZWZzIHRoZSB1c2VyIGp1c3QgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSAmJiBzaG91bGRIeWRyYXRlKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVmKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AudmFsdWUgPSBpbml0aWFsU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgcmVhY3RpdmUgb2JqZWN0LCBsZXRzIHJlY3Vyc2l2ZWx5IGFzc2lnblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBwcm9wIGlzIHVua25vd25cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VSZWFjdGl2ZU9iamVjdHMocHJvcCwgaW5pdGlhbFN0YXRlW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRoZSByZWYgdG8gdGhlIHBpbmlhIHN0YXRlIHRvIGtlZXAgZXZlcnl0aGluZyBpbiBzeW5jXHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWVbJGlkXSwga2V5LCBwcm9wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlWyRpZF1ba2V5XSA9IHByb3A7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuc3RhdGUucHVzaChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFjdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBhcmUgb3ZlcnJpZGluZyB0aGUgZnVuY3Rpb24gd2UgYXZvaWQgd3JhcHBpbmcgaWZcclxuICAgICAgICAgICAgY29uc3QgYWN0aW9uVmFsdWUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90ID8gcHJvcCA6IHdyYXBBY3Rpb24oa2V5LCBwcm9wKTtcclxuICAgICAgICAgICAgLy8gdGhpcyBhIGhvdCBtb2R1bGUgcmVwbGFjZW1lbnQgc3RvcmUgYmVjYXVzZSB0aGUgaG90VXBkYXRlIG1ldGhvZCBuZWVkc1xyXG4gICAgICAgICAgICAvLyB0byBkbyBpdCB3aXRoIHRoZSByaWdodCBjb250ZXh0XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBzZXQoc2V0dXBTdG9yZSwga2V5LCBhY3Rpb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICBzZXR1cFN0b3JlW2tleV0gPSBhY3Rpb25WYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBfaG1yUGF5bG9hZC5hY3Rpb25zW2tleV0gPSBwcm9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGxpc3QgYWN0aW9ucyBzbyB0aGV5IGNhbiBiZSB1c2VkIGluIHBsdWdpbnNcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICBvcHRpb25zRm9yUGx1Z2luLmFjdGlvbnNba2V5XSA9IHByb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAvLyBhZGQgZ2V0dGVycyBmb3IgZGV2dG9vbHNcclxuICAgICAgICAgICAgaWYgKGlzQ29tcHV0ZWQocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLmdldHRlcnNba2V5XSA9IGlzT3B0aW9uc1N0b3JlXHJcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZ2V0dGVyc1trZXldXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm9wO1xyXG4gICAgICAgICAgICAgICAgaWYgKElTX0NMSUVOVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlcnMgPSBzZXR1cFN0b3JlLl9nZXR0ZXJzIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHNhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNldHVwU3RvcmUuX2dldHRlcnMgPSBtYXJrUmF3KFtdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0dGVycy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBhZGQgdGhlIHN0YXRlLCBnZXR0ZXJzLCBhbmQgYWN0aW9uIHByb3BlcnRpZXNcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHNldHVwU3RvcmUpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBzZXQoc3RvcmUsIGtleSwgc2V0dXBTdG9yZVtrZXldKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFzc2lnbihzdG9yZSwgc2V0dXBTdG9yZSk7XHJcbiAgICAgICAgLy8gYWxsb3dzIHJldHJpZXZpbmcgcmVhY3RpdmUgb2JqZWN0cyB3aXRoIGBzdG9yZVRvUmVmcygpYC4gTXVzdCBiZSBjYWxsZWQgYWZ0ZXIgYXNzaWduaW5nIHRvIHRoZSByZWFjdGl2ZSBvYmplY3QuXHJcbiAgICAgICAgLy8gTWFrZSBgc3RvcmVUb1JlZnMoKWAgd29yayB3aXRoIGByZWFjdGl2ZSgpYCAjNzk5XHJcbiAgICAgICAgYXNzaWduKHRvUmF3KHN0b3JlKSwgc2V0dXBTdG9yZSk7XHJcbiAgICB9XHJcbiAgICAvLyB1c2UgdGhpcyBpbnN0ZWFkIG9mIGEgY29tcHV0ZWQgd2l0aCBzZXR0ZXIgdG8gYmUgYWJsZSB0byBjcmVhdGUgaXQgYW55d2hlcmVcclxuICAgIC8vIHdpdGhvdXQgbGlua2luZyB0aGUgY29tcHV0ZWQgbGlmZXNwYW4gdG8gd2hlcmV2ZXIgdGhlIHN0b3JlIGlzIGZpcnN0XHJcbiAgICAvLyBjcmVhdGVkLlxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JlLCAnJHN0YXRlJywge1xyXG4gICAgICAgIGdldDogKCkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QgPyBob3RTdGF0ZS52YWx1ZSA6IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pLFxyXG4gICAgICAgIHNldDogKHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3Qgc2V0IGhvdFN0YXRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHBhdGNoKCgkc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGFzc2lnbigkc3RhdGUsIHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgLy8gYWRkIHRoZSBob3RVcGRhdGUgYmVmb3JlIHBsdWdpbnMgdG8gYWxsb3cgdGhlbSB0byBvdmVycmlkZSBpdFxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcclxuICAgICAgICAgICAgc3RvcmUuX2hvdFVwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgbmV3U3RvcmUuX2htclBheWxvYWQuc3RhdGUuZm9yRWFjaCgoc3RhdGVLZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUtleSBpbiBzdG9yZS4kc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZVRhcmdldCA9IG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkU3RhdGVTb3VyY2UgPSBzdG9yZS4kc3RhdGVbc3RhdGVLZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3U3RhdGVUYXJnZXQgPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3QobmV3U3RhdGVUYXJnZXQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3Qob2xkU3RhdGVTb3VyY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoT2JqZWN0KG5ld1N0YXRlVGFyZ2V0LCBvbGRTdGF0ZVNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2ZlciB0aGUgcmVmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV0gPSBvbGRTdGF0ZVNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBkaXJlY3QgYWNjZXNzIHByb3BlcnRpZXMgdG8gYWxsb3cgc3RvcmUuc3RhdGVQcm9wZXJ0eSB0byB3b3JrIGFzXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZS4kc3RhdGUuc3RhdGVQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBzdGF0ZUtleSwgdG9SZWYobmV3U3RvcmUuJHN0YXRlLCBzdGF0ZUtleSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGRlbGV0ZWQgc3RhdGUgcHJvcGVydGllc1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZUtleSBpbiBuZXdTdG9yZS4kc3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsKHN0b3JlLCBzdGF0ZUtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBhdm9pZCBkZXZ0b29scyBsb2dnaW5nIHRoaXMgYXMgYSBtdXRhdGlvblxyXG4gICAgICAgICAgICBpc0xpc3RlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHRvUmVmKG5ld1N0b3JlLl9obXJQYXlsb2FkLCAnaG90U3RhdGUnKTtcclxuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgbmV4dFRpY2soKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlzTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBuZXdTdG9yZVthY3Rpb25OYW1lXTtcclxuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgYWN0aW9uTmFtZSwgd3JhcEFjdGlvbihhY3Rpb25OYW1lLCBhY3Rpb24pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUT0RPOiBkb2VzIHRoaXMgd29yayBpbiBib3RoIHNldHVwIGFuZCBvcHRpb24gc3RvcmU/XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2V0dGVyTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXIgPSBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzW2dldHRlck5hbWVdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVyVmFsdWUgPSBpc09wdGlvbnNTdG9yZVxyXG4gICAgICAgICAgICAgICAgICAgID8gLy8gc3BlY2lhbCBoYW5kbGluZyBvZiBvcHRpb25zIGFwaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwoc3RvcmUsIHN0b3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICA6IGdldHRlcjtcclxuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgZ2V0dGVyTmFtZSwgZ2V0dGVyVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBkZWxldGVkIGdldHRlcnNcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkIGFjdGlvbnNcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHZhbHVlcyB1c2VkIGluIGRldnRvb2xzIGFuZCB0byBhbGxvdyBkZWxldGluZyBuZXcgcHJvcGVydGllcyBsYXRlciBvblxyXG4gICAgICAgICAgICBzdG9yZS5faG1yUGF5bG9hZCA9IG5ld1N0b3JlLl9obXJQYXlsb2FkO1xyXG4gICAgICAgICAgICBzdG9yZS5fZ2V0dGVycyA9IG5ld1N0b3JlLl9nZXR0ZXJzO1xyXG4gICAgICAgICAgICBzdG9yZS5faG90VXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChVU0VfREVWVE9PTFMpIHtcclxuICAgICAgICBjb25zdCBub25FbnVtZXJhYmxlID0ge1xyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBhdm9pZCB3YXJuaW5nIG9uIGRldnRvb2xzIHRyeWluZyB0byBkaXNwbGF5IHRoaXMgcHJvcGVydHlcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBbJ19wJywgJ19obXJQYXlsb2FkJywgJ19nZXR0ZXJzJywgJ19jdXN0b21Qcm9wZXJ0aWVzJ10uZm9yRWFjaCgocCkgPT4ge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RvcmUsIHAsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtwXSxcclxuICAgICAgICAgICAgICAgIC4uLm5vbkVudW1lcmFibGUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgLy8gbWFyayB0aGUgc3RvcmUgYXMgcmVhZHkgYmVmb3JlIHBsdWdpbnNcclxuICAgICAgICBzdG9yZS5fciA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyBhcHBseSBhbGwgcGx1Z2luc1xyXG4gICAgcGluaWEuX3AuZm9yRWFjaCgoZXh0ZW5kZXIpID0+IHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmIChVU0VfREVWVE9PTFMpIHtcclxuICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XHJcbiAgICAgICAgICAgICAgICBzdG9yZSxcclxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXHJcbiAgICAgICAgICAgICAgICBwaW5pYSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXh0ZW5zaW9ucyB8fCB7fSkuZm9yRWFjaCgoa2V5KSA9PiBzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5hZGQoa2V5KSk7XHJcbiAgICAgICAgICAgIGFzc2lnbihzdG9yZSwgZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhc3NpZ24oc3RvcmUsIHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XHJcbiAgICAgICAgICAgICAgICBzdG9yZSxcclxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXHJcbiAgICAgICAgICAgICAgICBwaW5pYSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgc3RvcmUuJHN0YXRlICYmXHJcbiAgICAgICAgdHlwZW9mIHN0b3JlLiRzdGF0ZSA9PT0gJ29iamVjdCcgJiZcclxuICAgICAgICB0eXBlb2Ygc3RvcmUuJHN0YXRlLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgIXN0b3JlLiRzdGF0ZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluY2x1ZGVzKCdbbmF0aXZlIGNvZGVdJykpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFvwn42NXTogVGhlIFwic3RhdGVcIiBtdXN0IGJlIGEgcGxhaW4gb2JqZWN0LiBJdCBjYW5ub3QgYmVcXG5gICtcclxuICAgICAgICAgICAgYFxcdHN0YXRlOiAoKSA9PiBuZXcgTXlDbGFzcygpXFxuYCArXHJcbiAgICAgICAgICAgIGBGb3VuZCBpbiBzdG9yZSBcIiR7c3RvcmUuJGlkfVwiLmApO1xyXG4gICAgfVxyXG4gICAgLy8gb25seSBhcHBseSBoeWRyYXRlIHRvIG9wdGlvbiBzdG9yZXMgd2l0aCBhbiBpbml0aWFsIHN0YXRlIGluIHBpbmlhXHJcbiAgICBpZiAoaW5pdGlhbFN0YXRlICYmXHJcbiAgICAgICAgaXNPcHRpb25zU3RvcmUgJiZcclxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUpIHtcclxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUoc3RvcmUuJHN0YXRlLCBpbml0aWFsU3RhdGUpO1xyXG4gICAgfVxyXG4gICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgIHJldHVybiBzdG9yZTtcclxufVxyXG5mdW5jdGlvbiBkZWZpbmVTdG9yZShcclxuLy8gVE9ETzogYWRkIHByb3BlciB0eXBlcyBmcm9tIGFib3ZlXHJcbmlkT3JPcHRpb25zLCBzZXR1cCwgc2V0dXBPcHRpb25zKSB7XHJcbiAgICBsZXQgaWQ7XHJcbiAgICBsZXQgb3B0aW9ucztcclxuICAgIGNvbnN0IGlzU2V0dXBTdG9yZSA9IHR5cGVvZiBzZXR1cCA9PT0gJ2Z1bmN0aW9uJztcclxuICAgIGlmICh0eXBlb2YgaWRPck9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWQgPSBpZE9yT3B0aW9ucztcclxuICAgICAgICAvLyB0aGUgb3B0aW9uIHN0b3JlIHNldHVwIHdpbGwgY29udGFpbiB0aGUgYWN0dWFsIG9wdGlvbnMgaW4gdGhpcyBjYXNlXHJcbiAgICAgICAgb3B0aW9ucyA9IGlzU2V0dXBTdG9yZSA/IHNldHVwT3B0aW9ucyA6IHNldHVwO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGlkT3JPcHRpb25zO1xyXG4gICAgICAgIGlkID0gaWRPck9wdGlvbnMuaWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB1c2VTdG9yZShwaW5pYSwgaG90KSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgcGluaWEgPVxyXG4gICAgICAgICAgICAvLyBpbiB0ZXN0IG1vZGUsIGlnbm9yZSB0aGUgYXJndW1lbnQgcHJvdmlkZWQgYXMgd2UgY2FuIGFsd2F5cyByZXRyaWV2ZSBhXHJcbiAgICAgICAgICAgIC8vIHBpbmlhIGluc3RhbmNlIHdpdGggZ2V0QWN0aXZlUGluaWEoKVxyXG4gICAgICAgICAgICAoKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpICYmIGFjdGl2ZVBpbmlhICYmIGFjdGl2ZVBpbmlhLl90ZXN0aW5nID8gbnVsbCA6IHBpbmlhKSB8fFxyXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRJbnN0YW5jZSAmJiBpbmplY3QocGluaWFTeW1ib2wsIG51bGwpKTtcclxuICAgICAgICBpZiAocGluaWEpXHJcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY3RpdmVQaW5pYSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvwn42NXTogZ2V0QWN0aXZlUGluaWEgd2FzIGNhbGxlZCB3aXRoIG5vIGFjdGl2ZSBQaW5pYS4gRGlkIHlvdSBmb3JnZXQgdG8gaW5zdGFsbCBwaW5pYT9cXG5gICtcclxuICAgICAgICAgICAgICAgIGBcXHRjb25zdCBwaW5pYSA9IGNyZWF0ZVBpbmlhKClcXG5gICtcclxuICAgICAgICAgICAgICAgIGBcXHRhcHAudXNlKHBpbmlhKVxcbmAgK1xyXG4gICAgICAgICAgICAgICAgYFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBpbmlhID0gYWN0aXZlUGluaWE7XHJcbiAgICAgICAgaWYgKCFwaW5pYS5fcy5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0aW5nIHRoZSBzdG9yZSByZWdpc3RlcnMgaXQgaW4gYHBpbmlhLl9zYFxyXG4gICAgICAgICAgICBpZiAoaXNTZXR1cFN0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVTZXR1cFN0b3JlKGlkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogbm90IHRoZSByaWdodCBpbmZlcnJlZCB0eXBlXHJcbiAgICAgICAgICAgICAgICB1c2VTdG9yZS5fcGluaWEgPSBwaW5pYTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcclxuICAgICAgICAgICAgY29uc3QgaG90SWQgPSAnX19ob3Q6JyArIGlkO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTdG9yZSA9IGlzU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVTZXR1cFN0b3JlKGhvdElkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEsIHRydWUpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZU9wdGlvbnNTdG9yZShob3RJZCwgYXNzaWduKHt9LCBvcHRpb25zKSwgcGluaWEsIHRydWUpO1xyXG4gICAgICAgICAgICBob3QuX2hvdFVwZGF0ZShuZXdTdG9yZSk7XHJcbiAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIHN0YXRlIHByb3BlcnRpZXMgYW5kIHRoZSBzdG9yZSBmcm9tIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICBkZWxldGUgcGluaWEuc3RhdGUudmFsdWVbaG90SWRdO1xyXG4gICAgICAgICAgICBwaW5pYS5fcy5kZWxldGUoaG90SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzYXZlIHN0b3JlcyBpbiBpbnN0YW5jZXMgdG8gYWNjZXNzIHRoZW0gZGV2dG9vbHNcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIElTX0NMSUVOVCAmJlxyXG4gICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UgJiZcclxuICAgICAgICAgICAgY3VycmVudEluc3RhbmNlLnByb3h5ICYmXHJcbiAgICAgICAgICAgIC8vIGF2b2lkIGFkZGluZyBzdG9yZXMgdGhhdCBhcmUganVzdCBidWlsdCBmb3IgaG90IG1vZHVsZSByZXBsYWNlbWVudFxyXG4gICAgICAgICAgICAhaG90KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZtID0gY3VycmVudEluc3RhbmNlLnByb3h5O1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9ICdfcFN0b3JlcycgaW4gdm0gPyB2bS5fcFN0b3JlcyA6ICh2bS5fcFN0b3JlcyA9IHt9KTtcclxuICAgICAgICAgICAgY2FjaGVbaWRdID0gc3RvcmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0b3JlR2VuZXJpYyBjYW5ub3QgYmUgY2FzdGVkIHRvd2FyZHMgU3RvcmVcclxuICAgICAgICByZXR1cm4gc3RvcmU7XHJcbiAgICB9XHJcbiAgICB1c2VTdG9yZS4kaWQgPSBpZDtcclxuICAgIHJldHVybiB1c2VTdG9yZTtcclxufVxuXG5sZXQgbWFwU3RvcmVTdWZmaXggPSAnU3RvcmUnO1xyXG4vKipcclxuICogQ2hhbmdlcyB0aGUgc3VmZml4IGFkZGVkIGJ5IGBtYXBTdG9yZXMoKWAuIENhbiBiZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLlxyXG4gKiBEZWZhdWx0cyB0byBgXCJTdG9yZVwiYC4gTWFrZSBzdXJlIHRvIGV4dGVuZCB0aGUgTWFwU3RvcmVzQ3VzdG9taXphdGlvblxyXG4gKiBpbnRlcmZhY2UgaWYgeW91IGFyZSB1c2luZyBUeXBlU2NyaXB0LlxyXG4gKlxyXG4gKiBAcGFyYW0gc3VmZml4IC0gbmV3IHN1ZmZpeFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0TWFwU3RvcmVTdWZmaXgoc3VmZml4IC8vIGNvdWxkIGJlICdTdG9yZScgYnV0IHRoYXQgd291bGQgYmUgYW5ub3lpbmcgZm9yIEpTXHJcbikge1xyXG4gICAgbWFwU3RvcmVTdWZmaXggPSBzdWZmaXg7XHJcbn1cclxuLyoqXHJcbiAqIEFsbG93cyB1c2luZyBzdG9yZXMgd2l0aG91dCB0aGUgY29tcG9zaXRpb24gQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW5cclxuICogb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZCBvZiBhIGNvbXBvbmVudC4gSXQgYWNjZXB0cyBhIGxpc3RcclxuICogb2Ygc3RvcmUgZGVmaW5pdGlvbnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGV4cG9ydCBkZWZhdWx0IHtcclxuICogICBjb21wdXRlZDoge1xyXG4gKiAgICAgLy8gb3RoZXIgY29tcHV0ZWQgcHJvcGVydGllc1xyXG4gKiAgICAgLi4ubWFwU3RvcmVzKHVzZVVzZXJTdG9yZSwgdXNlQ2FydFN0b3JlKVxyXG4gKiAgIH0sXHJcbiAqXHJcbiAqICAgY3JlYXRlZCgpIHtcclxuICogICAgIHRoaXMudXNlclN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJ1c2VyXCJcclxuICogICAgIHRoaXMuY2FydFN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJjYXJ0XCJcclxuICogICB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSBzdG9yZXMgLSBsaXN0IG9mIHN0b3JlcyB0byBtYXAgdG8gYW4gb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXBTdG9yZXMoLi4uc3RvcmVzKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIEFycmF5LmlzQXJyYXkoc3RvcmVzWzBdKSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBEaXJlY3RseSBwYXNzIGFsbCBzdG9yZXMgdG8gXCJtYXBTdG9yZXMoKVwiIHdpdGhvdXQgcHV0dGluZyB0aGVtIGluIGFuIGFycmF5OlxcbmAgK1xyXG4gICAgICAgICAgICBgUmVwbGFjZVxcbmAgK1xyXG4gICAgICAgICAgICBgXFx0bWFwU3RvcmVzKFt1c2VBdXRoU3RvcmUsIHVzZUNhcnRTdG9yZV0pXFxuYCArXHJcbiAgICAgICAgICAgIGB3aXRoXFxuYCArXHJcbiAgICAgICAgICAgIGBcXHRtYXBTdG9yZXModXNlQXV0aFN0b3JlLCB1c2VDYXJ0U3RvcmUpXFxuYCArXHJcbiAgICAgICAgICAgIGBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcclxuICAgICAgICBzdG9yZXMgPSBzdG9yZXNbMF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RvcmVzLnJlZHVjZSgocmVkdWNlZCwgdXNlU3RvcmUpID0+IHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiAkaWQgaXMgYWRkZWQgYnkgZGVmaW5lU3RvcmVcclxuICAgICAgICByZWR1Y2VkW3VzZVN0b3JlLiRpZCArIG1hcFN0b3JlU3VmZml4XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgfSwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBBbGxvd3MgdXNpbmcgc3RhdGUgYW5kIGdldHRlcnMgZnJvbSBvbmUgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cclxuICogQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW4gb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZFxyXG4gKiBvZiBhIGNvbXBvbmVudC5cclxuICpcclxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cclxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gbWFwU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxyXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pXHJcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh0aGlzLiRwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUtleSA9IGtleXNPck1hcHBlcltrZXldO1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIHNvbWUgcmVhc29uIFRTIGlzIHVuYWJsZSB0byBpbmZlciB0aGUgdHlwZSBvZiBzdG9yZUtleSB0byBiZSBhXHJcbiAgICAgICAgICAgICAgICAvLyBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBzdG9yZUtleSA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVLZXkuY2FsbCh0aGlzLCBzdG9yZSlcclxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlW3N0b3JlS2V5XTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3IgYG1hcFN0YXRlKClgLiBZb3Ugc2hvdWxkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cclxuICogQGRlcHJlY2F0ZWQgdXNlIGBtYXBTdGF0ZSgpYCBpbnN0ZWFkLlxyXG4gKi9cclxuY29uc3QgbWFwR2V0dGVycyA9IG1hcFN0YXRlO1xyXG4vKipcclxuICogQWxsb3dzIGRpcmVjdGx5IHVzaW5nIGFjdGlvbnMgZnJvbSB5b3VyIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXHJcbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBtZXRob2RzYCBmaWVsZFxyXG4gKiBvZiBhIGNvbXBvbmVudC5cclxuICpcclxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cclxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gbWFwQWN0aW9ucyh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzT3JNYXBwZXIpXHJcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldKC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcclxuICAgICAgICB9LCB7fSlcclxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXlzT3JNYXBwZXJba2V5XV0oLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgICAgIH0sIHt9KTtcclxufVxyXG4vKipcclxuICogQWxsb3dzIHVzaW5nIHN0YXRlIGFuZCBnZXR0ZXJzIGZyb20gb25lIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXHJcbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGRcclxuICogb2YgYSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXHJcbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG1hcFdyaXRhYmxlU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxyXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0ge1xyXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGVhc2llciB0byB0eXBlIGl0IGhlcmUgYXMgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XSA9IHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgICAgIH0sIHt9KVxyXG4gICAgICAgIDogT2JqZWN0LmtleXMoa2V5c09yTWFwcGVyKS5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IHtcclxuICAgICAgICAgICAgICAgIGdldCgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGVhc2llciB0byB0eXBlIGl0IGhlcmUgYXMgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dID0gdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pO1xyXG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBvZiByZWZlcmVuY2VzIHdpdGggYWxsIHRoZSBzdGF0ZSwgZ2V0dGVycywgYW5kIHBsdWdpbi1hZGRlZFxyXG4gKiBzdGF0ZSBwcm9wZXJ0aWVzIG9mIHRoZSBzdG9yZS4gU2ltaWxhciB0byBgdG9SZWZzKClgIGJ1dCBzcGVjaWZpY2FsbHlcclxuICogZGVzaWduZWQgZm9yIFBpbmlhIHN0b3JlcyBzbyBtZXRob2RzIGFuZCBub24gcmVhY3RpdmUgcHJvcGVydGllcyBhcmVcclxuICogY29tcGxldGVseSBpZ25vcmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBleHRyYWN0IHRoZSByZWZzIGZyb21cclxuICovXHJcbmZ1bmN0aW9uIHN0b3JlVG9SZWZzKHN0b3JlKSB7XHJcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy84NTJcclxuICAgIC8vIEl0J3MgZWFzaWVyIHRvIGp1c3QgdXNlIHRvUmVmcygpIGV2ZW4gaWYgaXQgaW5jbHVkZXMgbW9yZSBzdHVmZlxyXG4gICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRvUmVmcyBpbmNsdWRlIG1ldGhvZHMgYW5kIG90aGVyc1xyXG4gICAgICAgIHJldHVybiB0b1JlZnMoc3RvcmUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc3RvcmUgPSB0b1JhdyhzdG9yZSk7XHJcbiAgICAgICAgY29uc3QgcmVmcyA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHN0b3JlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3RvcmVba2V5XTtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKHZhbHVlKSB8fCBpc1JlYWN0aXZlKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIGtleSBpcyBzdGF0ZSBvciBnZXR0ZXJcclxuICAgICAgICAgICAgICAgIHJlZnNba2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLS0tXHJcbiAgICAgICAgICAgICAgICAgICAgdG9SZWYoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlZnM7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFZ1ZSAyIFBsdWdpbiB0aGF0IG11c3QgYmUgaW5zdGFsbGVkIGZvciBwaW5pYSB0byB3b3JrLiBOb3RlICoqeW91IGRvbid0IG5lZWRcclxuICogdGhpcyBwbHVnaW4gaWYgeW91IGFyZSB1c2luZyBOdXh0LmpzKiouIFVzZSB0aGUgYGJ1aWxkTW9kdWxlYCBpbnN0ZWFkOlxyXG4gKiBodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9zc3IvbnV4dC5odG1sLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcclxuICogaW1wb3J0IHsgUGluaWFWdWVQbHVnaW4sIGNyZWF0ZVBpbmlhIH0gZnJvbSAncGluaWEnXHJcbiAqXHJcbiAqIFZ1ZS51c2UoUGluaWFWdWVQbHVnaW4pXHJcbiAqIGNvbnN0IHBpbmlhID0gY3JlYXRlUGluaWEoKVxyXG4gKlxyXG4gKiBuZXcgVnVlKHtcclxuICogICBlbDogJyNhcHAnLFxyXG4gKiAgIC8vIC4uLlxyXG4gKiAgIHBpbmlhLFxyXG4gKiB9KVxyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIF9WdWUgLSBgVnVlYCBpbXBvcnRlZCBmcm9tICd2dWUnLlxyXG4gKi9cclxuY29uc3QgUGluaWFWdWVQbHVnaW4gPSBmdW5jdGlvbiAoX1Z1ZSkge1xyXG4gICAgLy8gRXF1aXZhbGVudCBvZlxyXG4gICAgLy8gYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRwaW5pYSA9IHBpbmlhXHJcbiAgICBfVnVlLm1peGluKHtcclxuICAgICAgICBiZWZvcmVDcmVhdGUoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5waW5pYSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWEgPSBvcHRpb25zLnBpbmlhO1xyXG4gICAgICAgICAgICAgICAgLy8gSEFDSzogdGFrZW4gZnJvbSBwcm92aWRlKCk6IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb21wb3NpdGlvbi1hcGkvYmxvYi9tYWluL3NyYy9hcGlzL2luamVjdC50cyNMMzFcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3Byb3ZpZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZUNhY2hlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfcHJvdmlkZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcHJvdmlkZUNhY2hlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICh2KSA9PiBPYmplY3QuYXNzaWduKHByb3ZpZGVDYWNoZSwgdiksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm92aWRlZFtwaW5pYVN5bWJvbF0gPSBwaW5pYTtcclxuICAgICAgICAgICAgICAgIC8vIHByb3BhZ2F0ZSB0aGUgcGluaWEgaW5zdGFuY2UgaW4gYW4gU1NSIGZyaWVuZGx5IHdheVxyXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgYWRkaW5nIGl0IHRvIG51eHQgdHdpY2VcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJHBpbmlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGluaWEgPSBwaW5pYTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBpbmlhLl9hID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGlmIChJU19DTElFTlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyBjYWxsaW5nIHVzZVN0b3JlKCkgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCBzZXR1cCBhZnRlclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RhbGxpbmcgcGluaWEncyBwbHVnaW5cclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoVVNFX0RFVlRPT0xTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKHBpbmlhLl9hLCBwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuJHBpbmlhICYmIG9wdGlvbnMucGFyZW50ICYmIG9wdGlvbnMucGFyZW50LiRwaW5pYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcGluaWEgPSBvcHRpb25zLnBhcmVudC4kcGluaWE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlc3Ryb3llZCgpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BTdG9yZXM7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59O1xuXG5leHBvcnQgeyBNdXRhdGlvblR5cGUsIFBpbmlhVnVlUGx1Z2luLCBhY2NlcHRITVJVcGRhdGUsIGNyZWF0ZVBpbmlhLCBkZWZpbmVTdG9yZSwgZ2V0QWN0aXZlUGluaWEsIG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlLCBtYXBTdG9yZXMsIG1hcFdyaXRhYmxlU3RhdGUsIHNldEFjdGl2ZVBpbmlhLCBzZXRNYXBTdG9yZVN1ZmZpeCwgc2tpcEh5ZHJhdGUsIHN0b3JlVG9SZWZzIH07XG4iLCJpbXBvcnQgeyBTdWJtaXR0ZWREYXRhIH0gZnJvbSBcIi4vU3VibWl0dGVkRGF0YVwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi9tb2RlbC9FbnRyeVwiO1xuXG5leHBvcnQgY2xhc3MgU2F2ZVN0YXRlIHtcbiAgICBvcmlnaW5hbEVudHJ5PzogRW50cnk7XG4gICAgbmV3RW50cnk6IEVudHJ5ID0gbmV3IEVudHJ5KHt9KTtcbiAgICB0aXRsZVJlc2V0VmFsdWU6IHN0cmluZztcbiAgICBzdWJtaXR0ZWREYXRhPzogU3VibWl0dGVkRGF0YTtcbiAgICBsYXN0QWN0aXZlQXQ/OiBEYXRlO1xuICAgIHNob3dVUkxNaXNtYXRjaFdhcm5pbmc6IGJvb2xlYW47XG4gICAgZmF2aWNvbj86IHN0cmluZztcbn1cbiIsImltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9EYXRhYmFzZVwiO1xuaW1wb3J0IHsgUGFzc3dvcmRQcm9maWxlIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9QYXNzd29yZFByb2ZpbGVcIjtcbmltcG9ydCB7IEtlZU5vdGlmaWNhdGlvbiB9IGZyb20gXCIuLi9jb21tb24vS2VlTm90aWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBFbnRyeVN1bW1hcnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5U3VtbWFyeVwiO1xuaW1wb3J0IHsgU2F2ZVN0YXRlIH0gZnJvbSBcIi4uL2NvbW1vbi9TYXZlU3RhdGVcIjtcbmltcG9ydCB7IFNhdmVFbnRyeVJlc3VsdCB9IGZyb20gXCIuLi9jb21tb24vU2F2ZUVudHJ5UmVzdWx0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2VlU3RhdGUge1xuICAgIGxhdGVzdENvbm5lY3Rpb25FcnJvcjogc3RyaW5nO1xuICAgIGxhc3RLZWVQYXNzUlBDUmVmcmVzaDogbnVtYmVyO1xuICAgIEFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4OiBudW1iZXI7XG4gICAgS2VlUGFzc0RhdGFiYXNlczogRGF0YWJhc2VbXTtcbiAgICBQYXNzd29yZFByb2ZpbGVzOiBQYXNzd29yZFByb2ZpbGVbXTtcbiAgICBub3RpZmljYXRpb25zOiBLZWVOb3RpZmljYXRpb25bXTtcbiAgICBjb25uZWN0ZWQ6IGJvb2xlYW47XG4gICAgY29ubmVjdGVkV2Vic29ja2V0OiBib29sZWFuO1xuICAgIGN1cnJlbnRTZWFyY2hUZXJtOiBzdHJpbmc7XG4gICAgbG9naW5zRm91bmQ6IGJvb2xlYW47XG4gICAgc2VhcmNoUmVzdWx0czogRW50cnlTdW1tYXJ5W107XG4gICAgc2F2ZVN0YXRlOiBTYXZlU3RhdGU7XG4gICAgZ2VuZXJhdGVkUGFzc3dvcmQ6IHN0cmluZztcbiAgICBzYXZlRW50cnlSZXN1bHQ6IFNhdmVFbnRyeVJlc3VsdDtcbiAgICBlbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgbGF0ZXN0Q29ubmVjdGlvbkVycm9yOiBcIlwiLFxuICAgIGxhc3RLZWVQYXNzUlBDUmVmcmVzaDogMCxcbiAgICBBY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleDogLTEsXG4gICAgS2VlUGFzc0RhdGFiYXNlczogW10sXG4gICAgUGFzc3dvcmRQcm9maWxlczogW10sXG4gICAgbm90aWZpY2F0aW9uczogW10sXG4gICAgY29ubmVjdGVkOiBmYWxzZSxcbiAgICBjb25uZWN0ZWRXZWJzb2NrZXQ6IGZhbHNlLFxuICAgIGN1cnJlbnRTZWFyY2hUZXJtOiBudWxsLFxuICAgIGxvZ2luc0ZvdW5kOiBmYWxzZSxcbiAgICBzZWFyY2hSZXN1bHRzOiBudWxsLFxuICAgIHNhdmVTdGF0ZTogbmV3IFNhdmVTdGF0ZSgpLFxuICAgIGdlbmVyYXRlZFBhc3N3b3JkOiBcIlwiLFxuICAgIHNhdmVFbnRyeVJlc3VsdDoge1xuICAgICAgICByZXN1bHQ6IG51bGwsXG4gICAgICAgIHJlY2VpdmVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGZpbGVOYW1lOiBudWxsLFxuICAgICAgICB1dWlkOiBudWxsXG4gICAgfSxcbiAgICBlbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcDogMFxufTtcbiIsImV4cG9ydCBlbnVtIFNlc3Npb25UeXBlIHtcbiAgICBFdmVudCA9IFwiZXZlbnRcIixcbiAgICBXZWJzb2NrZXQgPSBcIndlYnNvY2tldFwiXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVQaW5pYSwgZGVmaW5lU3RvcmUsIERlZmluZVN0b3JlT3B0aW9ucywgUGluaWEsIFN0YXRlVHJlZSwgU3RvcmVEZWZpbml0aW9uLCBfR2V0dGVyc1RyZWUgfSBmcm9tIFwicGluaWFcIjtcblxuaW1wb3J0IHsgS2VlU3RhdGUsIGRlZmF1bHRzIH0gZnJvbSBcIi4vS2VlU3RhdGVcIjtcbmltcG9ydCB7IFNhdmVTdGF0ZSB9IGZyb20gXCIuLi9jb21tb24vU2F2ZVN0YXRlXCI7XG5pbXBvcnQgeyBTZXNzaW9uVHlwZSB9IGZyb20gXCIuLi9jb21tb24vU2Vzc2lvblR5cGVcIjtcbmltcG9ydCB7IEZpZWxkIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9GaWVsZFwiO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSBcInZ1ZVwiO1xuXG4vKipcbiAqIEEgcmVwbGFjZW1lbnQgZm9yIGBkZWZpbmVTdG9yZWAgd2hpY2ggbWFrZXMgYWxsIHN0YXRlIHByb3BlcnRpZXMgcmVhZG9ubHlcbiAqIHRvIHByZXZlbnQgbXV0YXRpb25zIG91dHNpZGUgb2YgYWN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZGVmaW5lSW1tdXRhYmxlU3RvcmU8SWQgZXh0ZW5kcyBzdHJpbmcsIFMgZXh0ZW5kcyBTdGF0ZVRyZWUgPSBhbnksIEcgZXh0ZW5kcyBfR2V0dGVyc1RyZWU8Uz4gPSBhbnksIEEgPSBhbnk+KFxuICAgIGlkOiBJZCxcbiAgICBvcHRpb25zOiBPbWl0PERlZmluZVN0b3JlT3B0aW9uczxJZCwgUywgRywgQT4sIFwiaWRcIj5cbiAgKTogU3RvcmVEZWZpbml0aW9uPElkLCBSZWFkb25seTxTPiwgRywgQT4ge1xuICAgIHJldHVybiBkZWZpbmVTdG9yZShpZCwgb3B0aW9ucyk7XG4gIH1cblxuY29uc3QgdXNlU3RvcmUgPSBkZWZpbmVJbW11dGFibGVTdG9yZShcImtlZVwiLCB7XG4gICAgc3RhdGU6ICgpOiBLZWVTdGF0ZSA9PiAoZGVmYXVsdHMpLFxuICAgIGdldHRlcnM6IHtcbiAgICAgICAgc2hvd0dlbmVyYXRlUGFzc3dvcmRMaW5rOiAoc3RhdGU6IEtlZVN0YXRlKSA9PiBzdGF0ZS5jb25uZWN0ZWQsXG4gICAgICAgIHNob3dNYXRjaGVkTG9naW5zOiAoc3RhdGU6IEtlZVN0YXRlKSA9PiAhIXN0YXRlLmxvZ2luc0ZvdW5kLFxuICAgICAgICBzaG93Tm90aWZpY2F0aW9uczogKHN0YXRlOiBLZWVTdGF0ZSkgPT5cbiAgICAgICAgICAgIHN0YXRlLm5vdGlmaWNhdGlvbnMgJiYgISFzdGF0ZS5ub3RpZmljYXRpb25zLmxlbmd0aCxcbiAgICAgICAgZGF0YWJhc2VJc09wZW46IChzdGF0ZTogS2VlU3RhdGUpID0+XG4gICAgICAgICAgICBzdGF0ZS5jb25uZWN0ZWQgJiYgISFzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aCxcblxuICAgICAgICBkYXRhYmFzZU5hbWU6IChzdGF0ZTogS2VlU3RhdGUpID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzICYmXG4gICAgICAgICAgICAgICAgc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBzdGF0ZS5BY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleCA+PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IHN0YXRlLktlZVBhc3NEYXRhYmFzZXNbc3RhdGUuQWN0aXZlS2VlUGFzc0RhdGFiYXNlSW5kZXhdO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYi5uYW1lID8gZGIubmFtZSA6IGRiLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcL10vLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9LFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzKHN0YXRlOiBLZWVTdGF0ZSk6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJFNUUkYoXCJtdWx0aXBsZVBhc3N3b3JkU291cmNlc0VuYWJsZWRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGgudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YWJhc2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkU1RSKFwibm90aWZ5QmFyTG9naW5Ub0tlZVBhc3NCdXR0b25fdGlwXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRTVFIoXCJub3RpZnlCYXJMYXVuY2hLZWVQYXNzQnV0dG9uX3RpcFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1c0RldGFpbChzdGF0ZTogS2VlU3RhdGUpOiBzdHJpbmcge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRTVFJGKFwibG9nZ2VkSW5NdWx0aXBsZV90aXBcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YWJhc2VOYW1lXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJFNUUkYoXCJsb2dnZWRJbl90aXBcIiwgdGhpcy5kYXRhYmFzZU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkU1RSKFwibm90aWZ5QmFyTGF1bmNoS2VlUGFzc19sYWJlbFwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2hvd09wZW5LZWVQYXNzQnV0dG9uOiAoc3RhdGU6IEtlZVN0YXRlKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuY29ubmVjdGVkV2Vic29ja2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzV2Vic29ja2V0REJzID0gc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5zb21lKFxuICAgICAgICAgICAgICAgICAgICBkYiA9PiBkYi5zZXNzaW9uVHlwZSA9PT0gU2Vzc2lvblR5cGUuV2Vic29ja2V0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBwb3J0c1dlYnNvY2tldEZvY3VzID0gc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5zb21lKFxuICAgICAgICAgICAgICAgICAgICBkYiA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgZGIuc2Vzc2lvblR5cGUgPT09IFNlc3Npb25UeXBlLldlYnNvY2tldCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZGIuc2Vzc2lvbkZlYXR1cmVzLmluZGV4T2YoXCJLUFJQQ19PUEVOX0FORF9GT0NVU19EQVRBQkFTRVwiKSA+PSAwXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1dlYnNvY2tldERCcyB8fCBzdXBwb3J0c1dlYnNvY2tldEZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWN0aW9uczoge1xuICAgICAgICB1cGRhdGVBY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7QWN0aXZlS2VlUGFzc0RhdGFiYXNlSW5kZXg6IHBheWxvYWR9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVDb25uZWN0ZWQocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy4kcGF0Y2goe2Nvbm5lY3RlZDogcGF5bG9hZH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUNvbm5lY3RlZFdlYnNvY2tldChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7Y29ubmVjdGVkV2Vic29ja2V0OiBwYXlsb2FkfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlQ3VycmVudFNlYXJjaFRlcm0ocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy4kcGF0Y2goe2N1cnJlbnRTZWFyY2hUZXJtOiBwYXlsb2FkfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlS2VlUGFzc0RhdGFiYXNlcyhwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7S2VlUGFzc0RhdGFiYXNlczogcGF5bG9hZH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUxhc3RLZWVQYXNzUlBDUmVmcmVzaChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7bGFzdEtlZVBhc3NSUENSZWZyZXNoOiBwYXlsb2FkfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlTGF0ZXN0Q29ubmVjdGlvbkVycm9yKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKHtsYXRlc3RDb25uZWN0aW9uRXJyb3I6IHBheWxvYWR9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVMb2dpbnNGb3VuZChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7bG9naW5zRm91bmQ6IHBheWxvYWQgfHwgZmFsc2V9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVOb3RpZmljYXRpb25zKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKHtub3RpZmljYXRpb25zOiBwYXlsb2FkfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlUGFzc3dvcmRQcm9maWxlcyhwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7UGFzc3dvcmRQcm9maWxlczogcGF5bG9hZH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUdlbmVyYXRlZFBhc3N3b3JkKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKHtnZW5lcmF0ZWRQYXNzd29yZDogcGF5bG9hZH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVN1Ym1pdHRlZERhdGEocGF5bG9hZCkge1xuICAgICAgICAgICAgY29uc3QgcGF0Y2ggPSB0aGlzLnNhdmVTdGF0ZSA/IHt9IDogbmV3IFNhdmVTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy4kcGF0Y2goe3NhdmVTdGF0ZToge1xuICAgICAgICAgICAgICAgIHN1Ym1pdHRlZERhdGE6IHBheWxvYWQgfHwgbnVsbFxuICAgICAgICAgICAgfX0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVNhdmVTdGF0ZShwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7c2F2ZVN0YXRlOiBwYXlsb2FkIHx8IG51bGx9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVTZWFyY2hSZXN1bHRzKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKHtzZWFyY2hSZXN1bHRzOiBwYXlsb2FkIHx8IG51bGx9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVTZWFyY2hSZXN1bHRXaXRoRnVsbERldGFpbHMocGF5bG9hZCkge1xuICAgICAgICAgICAgLy9UT0RPOiBuZWVkcyAkcGF0Y2ggd3JpdHRlblxuICAgICAgICAgICAgY29uc3QgaWQgPSBwYXlsb2FkLnV1aWQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgdGhpcy5zZWFyY2hSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMudXVpZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5mdWxsRGV0YWlscyA9IHBheWxvYWQgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihwYXlsb2FkKSB7XG4gICAgICAgICAgICAvL1RPRE86IG5lZWRzICRwYXRjaD9cbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKHBheWxvYWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVNhdmVFbnRyeVJlc3VsdChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7c2F2ZUVudHJ5UmVzdWx0OiBwYXlsb2FkIHx8IG51bGx9KTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVGaWVsZEZyb21BY3RpdmVFbnRyeShwYXlsb2FkKSB7XG5cbiAgICAgICAgICAgIC8vVE9ETzogbmVlZHMgJHBhdGNoIHdyaXR0ZW5cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGV4dEZpZWxkSW5kZXggPSB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgIGYgPT4gZi50eXBlID09PSBcInRleHRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFzc3dvcmRGaWVsZEluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICBmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxGaWVsZEluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICBmID0+IGYudXVpZCA9PT0gKHBheWxvYWQgfHwgbnVsbClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuc3BsaWNlKG9yaWdpbmFsRmllbGRJbmRleCwgMSk7XG5cbiAgICAgICAgICAgIGlmIChvcmlnaW5hbEZpZWxkSW5kZXggPT09IGZpcnN0VGV4dEZpZWxkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZUluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgZiA9PiBmLnR5cGUgPT09IFwidGV4dFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VXNlcm5hbWVJbmRleCA8IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZSA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5zcGxpY2UobmV3VXNlcm5hbWVJbmRleCwgMSlbMF07XG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxGaWVsZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoeyAuLi5uZXdVc2VybmFtZSwgbmFtZTogXCJLZWVQYXNzIHVzZXJuYW1lXCIgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbEZpZWxkSW5kZXggPT09IGZpcnN0UGFzc3dvcmRGaWVsZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UGFzc3dvcmRJbmRleCA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgIGYgPT4gZi50eXBlID09PSBcInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChuZXdQYXNzd29yZEluZGV4IDwgMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLnNwbGljZShuZXdQYXNzd29yZEluZGV4LCAxKVswXTtcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuc3BsaWNlKFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEZpZWxkSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZCh7IC4uLm5ld1Bhc3N3b3JkLCBuYW1lOiBcIktlZVBhc3MgcGFzc3dvcmRcIiB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlRW50cnlVcGRhdGVTdGFydGVkQXRUaW1lc3RhbXAocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy4kcGF0Y2goe2VudHJ5VXBkYXRlU3RhcnRlZEF0VGltZXN0YW1wOiBwYXlsb2FkIHx8IG51bGx9KTtcbiAgICAgICAgfVxuXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVN0b3JlO1xuXG5leHBvcnQgdHlwZSBLZWVTdG9yZSA9IE9taXQ8XG4gICAgUmV0dXJuVHlwZTx0eXBlb2YgdXNlU3RvcmU+LFxuICAgIGtleW9mIFJldHVyblR5cGU8dHlwZW9mIGRlZmluZVN0b3JlPlxuPjtcblxuXG4vL1RPRE86IERvZXMgdGhpcyBjcmVhdGUgYSBzdWl0YWJsZSBzdHViIFZ1ZSBpbnN0YW5jZSBmb3IgUGluaWEgdG8gd29yayB3aXRoIE1WMj9cbmxldCBzdHViVnVlQXBwOiBBcHA8RWxlbWVudD47XG5sZXQgc3R1YlBpbmlhOiBQaW5pYTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VTdHViU3RvcmUoKSB7XG4gICAgaWYgKCFzdHViUGluaWEpIHtcbiAgICAgICAgc3R1YlBpbmlhID0gY3JlYXRlUGluaWEoKTtcbiAgICB9XG4gICAgaWYgKCFzdHViVnVlQXBwKSB7XG4gICAgICAgIHN0dWJWdWVBcHAgPSBjcmVhdGVBcHAoZGVmaW5lQ29tcG9uZW50KTtcbiAgICAgICAgc3R1YlZ1ZUFwcC51c2Uoc3R1YlBpbmlhKTtcbiAgICB9XG4gICAgcmV0dXJuIHVzZVN0b3JlKCk7XG59XG4iLCJpbXBvcnQgeyBGaWxsZWRGaWVsZCB9IGZyb20gXCIuL0ZpbGxlZEZpZWxkXCI7XG5pbXBvcnQgeyBQYW5lbFN0dWIsIFBhbmVsU3R1Yk9wdGlvbnMgfSBmcm9tIFwiLi9QYW5lbFN0dWJcIjtcbmltcG9ydCB7IEZvcm1VdGlscyB9IGZyb20gXCIuL2Zvcm1zVXRpbHNcIjtcbmltcG9ydCB7IEZvcm1TYXZpbmcgfSBmcm9tIFwiLi9mb3JtU2F2aW5nXCI7XG5pbXBvcnQgeyBLZWVGaWVsZEljb24gfSBmcm9tIFwiLi9rZWVGaWVsZEljb25cIjtcbmltcG9ydCB7IE1hdGNoUmVzdWx0IH0gZnJvbSBcIi4vTWF0Y2hSZXN1bHRcIjtcbmltcG9ydCB7IEZpbmRNYXRjaGVzQmVoYXZpb3VyIH0gZnJvbSBcIi4vZmluZE1hdGNoZXNCZWhhdmlvdXJcIjtcbmltcG9ydCB7IEtlZUxvZ2dlciwgS2VlTG9nIH0gZnJvbSBcIi4uL2NvbW1vbi9Mb2dnZXJcIjtcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gXCIuLi9jb21tb24vY29uZmlnXCI7XG5pbXBvcnQgeyBjb25maWdNYW5hZ2VyIH0gZnJvbSBcIi4uL2NvbW1vbi9Db25maWdNYW5hZ2VyXCI7XG5pbXBvcnQgeyBNYXRjaGVkRmllbGQgfSBmcm9tIFwiLi9NYXRjaGVkRmllbGRcIjtcbmltcG9ydCB7IEZpZWxkIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9GaWVsZFwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5XCI7XG5pbXBvcnQgdXNlU3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5cbmNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTtcblxuaW50ZXJmYWNlIFNjb3JlTWF0cml4IHtcbiAgICBzY29yZTogbnVtYmVyO1xuICAgIGZvcm1GaWVsZEluZGV4OiBudW1iZXI7XG4gICAgZGF0YUZpZWxkSW5kZXg6IG51bWJlcjtcbn1cblxuZGVjbGFyZSBjb25zdCBwdW55Y29kZTtcblxuY2xhc3MgRmlsbEFuZFN1Ym1pdEFjdGlvbiB7XG4gICAgZmlsbDogYm9vbGVhbjtcbiAgICBzdWJtaXQ6IGJvb2xlYW47XG59XG5cbmNsYXNzIFN1Ym1pdENhbmRpZGF0ZSB7XG4gICAgZGlzdGFuY2U6IG51bWJlcjtcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBzY29yZTogbnVtYmVyO1xufVxuXG5jbGFzcyBGaWVsZE1hdGNoU2NvcmVDb25maWcge1xuICAgIHB1bmlzaFdyb25nSURBbmROYW1lOiBib29sZWFuO1xufVxuXG5jbGFzcyBWaXNpYmxlRmllbGRDYWNoZSB7XG4gICAgcGFzc3dvcmQ6IGJvb2xlYW5bXTtcbiAgICBvdGhlcjogYm9vbGVhbltdO1xufVxuXG5leHBvcnQgY2xhc3MgRm9ybUZpbGxpbmcge1xuICAgIHByaXZhdGUgZmluZExvZ2luT3A6IGFueSA9IHt9O1xuICAgIHByaXZhdGUgbWF0Y2hSZXN1bHQ6IE1hdGNoUmVzdWx0ID0gbmV3IE1hdGNoUmVzdWx0KCk7XG4gICAgcHJpdmF0ZSBrZWVGaWVsZEljb246IEtlZUZpZWxkSWNvbjtcblxuICAgIHB1YmxpYyBtYXRjaGVkTG9naW5zUGFuZWxTdHViOiBQYW5lbFN0dWI7XG4gICAgcHJpdmF0ZSBtYXRjaGVkTG9naW5zUGFuZWxTdHViUmFmOiBudW1iZXI7XG5cbiAgICAvLyBTaG91bGQgcmVhbGx5IG1ha2UgdGhpcyBwcml2YXRlIGFuZCBjYWxsIGluZGlyZWN0bHkgYnV0IEknbSB3YXJ5IG9mIGFsbCBwZXJmb3JtYW5jZSBvdmVyaGVhZHMgd3J0IERPTSBtdXRhdGlvbiBvYnNlcnZlcnNcbiAgICBwdWJsaWMgZm9ybUZpbmRlclRpbWVyOiBudW1iZXIgPSBudWxsO1xuXG4gICAgcHJpdmF0ZSBzZW1hbnRpY1doaXRlbGlzdENhY2hlO1xuICAgIHByaXZhdGUgc2VtYW50aWNCbGFja2xpc3RDYWNoZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG15UG9ydDogYnJvd3Nlci5ydW50aW1lLlBvcnQsXG4gICAgICAgIHByaXZhdGUgcGFyZW50RnJhbWVJZDogbnVtYmVyLFxuICAgICAgICBwcml2YXRlIGZvcm1VdGlsczogRm9ybVV0aWxzLFxuICAgICAgICBwcml2YXRlIGZvcm1TYXZpbmc6IEZvcm1TYXZpbmcsXG4gICAgICAgIHByaXZhdGUgTG9nZ2VyOiBLZWVMb2dnZXIsXG4gICAgICAgIHByaXZhdGUgY29uZmlnOiBDb25maWcsXG4gICAgICAgIHByaXZhdGUgbWF0Y2hGaW5kZXI6IHsgKHVyaTogc3RyaW5nKTogdm9pZCB9XG4gICAgKSB7XG4gICAgICAgIHRoaXMua2VlRmllbGRJY29uID0gbmV3IEtlZUZpZWxkSWNvbihcbiAgICAgICAgICAgIG15UG9ydCxcbiAgICAgICAgICAgIHBhcmVudEZyYW1lSWQsXG4gICAgICAgICAgICBmb3JtVXRpbHMsXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbE5lYXJOb2RlLmJpbmQodGhpcylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZXhlY3V0ZVByaW1hcnlBY3Rpb24oKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZW50cmllcyAmJlxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID49IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzW3RoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsbEFuZFN1Ym1pdChmYWxzZSwgdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXgsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNYXRjaGVkTG9naW5zUGFuZWwoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzW3RoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGggPiAxXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTWF0Y2hlZExvZ2luc1BhbmVsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViID0gbmV3IFBhbmVsU3R1YihcbiAgICAgICAgICAgICAgICAgICAgUGFuZWxTdHViT3B0aW9ucy5NYXRjaGVkTG9naW5zLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEZyYW1lSWRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1Yi5jcmVhdGVQYW5lbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbEluQ2VudGVyKHNwZWNpZmljRnJhbWVJZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY2xvc2VNYXRjaGVkTG9naW5zUGFuZWwoKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViID0gbmV3IFBhbmVsU3R1YihcbiAgICAgICAgICAgIFBhbmVsU3R1Yk9wdGlvbnMuTWF0Y2hlZExvZ2lucyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzcGVjaWZpY0ZyYW1lSWRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbE5lYXJOb2RlKHRhcmdldDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKFxuICAgICAgICAgICAgUGFuZWxTdHViT3B0aW9ucy5NYXRjaGVkTG9naW5zLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgdGhpcy5wYXJlbnRGcmFtZUlkXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1Yi5jcmVhdGVQYW5lbCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWJSYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWF0Y2hlZExvZ2luc1BhbmVsUG9zaXRpb24oKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpIHtcbiAgICAgICAgaWYgKHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1YikgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLmNsb3NlUGFuZWwoKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViID0gbnVsbDtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViUmFmKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlTWF0Y2hlZExvZ2luc1BhbmVsUG9zaXRpb24oKSB7XG4gICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1Yi51cGRhdGVCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViUmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hdGNoZWRMb2dpbnNQYW5lbFBvc2l0aW9uKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZXF1aXJlcyBLZWVQYXNzUlBDICMxMDFcbiAgICAvLyBwcml2YXRlIGNhbGN1bGF0ZUxhYmVsTWF0Y2hTY29yZShtYXRjaGVkRmllbGQ6IE1hdGNoZWRGaWVsZCwgZGF0YUZpZWxkOiBGaWVsZCkge1xuICAgIC8vICAgICBpZiAoIW1hdGNoZWRGaWVsZC5maWVsZC5uYW1lIHx8ICFkYXRhRmllbGQubmFtZSkgcmV0dXJuIDA7XG5cbiAgICAvLyAgICAgLy8gV2Ugb25seSBwZXJzaXN0IGEgc2luZ2xlIFwibGFiZWxcIiB2YWx1ZSwgaW1wbGljaXRseSB2aWEgdGhlIGRpc3BsYXkgbmFtZVxuICAgIC8vICAgICAvLyBmaWVsZC4gQ291bGQgY2hhbmdlIHRoaXMgaW4gZnV0dXJlIHdpdGggYWRkaXRpb25hbCBmZWF0dXJlcyBhZGRlZCB0byB0aGVcbiAgICAvLyAgICAgLy8gS2VlUGFzc1JQQyBsaWJyYXJpZXMuXG4gICAgLy8gICAgIGlmIChcbiAgICAvLyAgICAgICAgIG1hdGNoZWRGaWVsZC5maWVsZC5sb2NhdG9yc1swXS5sYWJlbHMuc29tZShcbiAgICAvLyAgICAgICAgICAgICBtYXRjaGVkRmllbGRMYWJlbCA9PlxuICAgIC8vICAgICAgICAgICAgICAgICBtYXRjaGVkRmllbGRMYWJlbC50b0xvd2VyQ2FzZSgpID09PSBkYXRhRmllbGQubmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgLy8gICAgICAgICApXG4gICAgLy8gICAgICkge1xuICAgIC8vICAgICAgICAgcmV0dXJuIDEwMDtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGNvbnN0IHdlYWtNYXRjaExhYmVscyA9IFtkYXRhRmllbGQubmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAvLyAgICAgaWYgKGRhdGFGaWVsZC5uYW1lICE9PSBkYXRhRmllbGQubG9jYXRvcnNbMF0ubmFtZSkge1xuICAgIC8vICAgICAgICAgd2Vha01hdGNoTGFiZWxzLnB1c2goZGF0YUZpZWxkLmxvY2F0b3JzWzBdLm5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgLy8gICAgIH1cblxuICAgIC8vICAgICBpZiAoXG4gICAgLy8gICAgICAgICBtYXRjaGVkRmllbGQuZmllbGQubG9jYXRvcnNbMF0ubGFiZWxzLnNvbWUobWF0Y2hlZEZpZWxkTGFiZWwgPT4ge1xuICAgIC8vICAgICAgICAgICAgIHdlYWtNYXRjaExhYmVscy5zb21lKFxuICAgIC8vICAgICAgICAgICAgICAgICBkYXRhTGFiZWwgPT4gbWF0Y2hlZEZpZWxkTGFiZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGRhdGFMYWJlbCkgPj0gMFxuICAgIC8vICAgICAgICAgICAgICk7XG4gICAgLy8gICAgICAgICB9KVxuICAgIC8vICAgICApIHtcbiAgICAvLyAgICAgICAgIHJldHVybiAzMDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gMDtcbiAgICAvLyB9XG5cbiAgICBwcml2YXRlIGNhbGN1bGF0ZUZpZWxkTWF0Y2hTY29yZShcbiAgICAgICAgbWF0Y2hlZEZpZWxkOiBNYXRjaGVkRmllbGQsXG4gICAgICAgIGRhdGFGaWVsZDogRmllbGQsXG4gICAgICAgIF9jdXJyZW50UGFnZSwgLy9UT0RPOjQ6IHJlbW92ZSBwYXJhbVxuICAgICAgICBjb25maWc6IEZpZWxkTWF0Y2hTY29yZUNvbmZpZyxcbiAgICAgICAgaXNWaXNpYmxlPzogYm9vbGVhblxuICAgICkge1xuICAgICAgICBjb25zdCBmb3JtRmllbGQgPSBtYXRjaGVkRmllbGQuZmllbGQ7XG4gICAgICAgIC8vIERlZmF1bHQgc2NvcmUgaXMgMSBzbyB0aGF0IGJhZCBtYXRjaGVzIHdoaWNoIGFyZSBhdCBsZWFzdCB0aGUgY29ycmVjdCB0eXBlXG4gICAgICAgIC8vIGhhdmUgYSBjaGFuY2Ugb2YgYmVpbmcgc2VsZWN0ZWQgaWYgbm8gZ29vZCBtYXRjaGVzIGFyZSBmb3VuZFxuICAgICAgICBsZXQgc2NvcmUgPSAxO1xuXG4gICAgICAgIC8vIERvIG5vdCBhbGxvdyBhbnkgbWF0Y2ggaWYgZmllbGQgdHlwZXMgYXJlIHNpZ25pZmljYW50bHkgbWlzbWF0Y2hlZCAoZS5nLiBjaGVja2JveCB2cyB0ZXh0IGZpZWxkKVxuICAgICAgICBpZiAoZm9ybUZpZWxkLnR5cGUgIT09IGRhdGFGaWVsZC50eXBlKSByZXR1cm4gMDtcblxuICAgICAgICAvLyBzY29yZSArPSB0aGlzLmNhbGN1bGF0ZUxhYmVsTWF0Y2hTY29yZShtYXRjaGVkRmllbGQsIGRhdGFGaWVsZCk7XG5cbiAgICAgICAgLy8gSWYgZmllbGQgSURzIG1hdGNoICsrKysrXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5pZCAhPSBudWxsICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0uaWQgIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0uaWQgIT0gXCJcIiAmJlxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLmlkID09IGRhdGFGaWVsZC5sb2NhdG9yc1swXS5pZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHNjb3JlICs9IDUwO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wdW5pc2hXcm9uZ0lEQW5kTmFtZSAmJiBkYXRhRmllbGQubG9jYXRvcnNbMF0uaWQpIHtcbiAgICAgICAgICAgIHNjb3JlIC09IDU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBmaWVsZCBuYW1lcyBtYXRjaCArKysrXG4gICAgICAgIC8vIChXZSBkbyBub3QgdHJlYXQgSUQgYW5kIE5BTUUgYXMgbXV0dWFsbHkgZXhjbHVzaXZlIGJlY2F1c2Ugc29tZSBiYWRseSB3cml0dGVuXG4gICAgICAgIC8vIHdlYnNpdGVzIG1pZ2h0IGhhdmUgZHVwbGljYXRlIElEcyBidXQgZGlmZmVyZW50IG5hbWVzIHNvIHRoaXMgY29tYmluZWQgYXBwcm9hY2hcbiAgICAgICAgLy8gbWlnaHQgYWxsb3cgdGhlbSB0byB3b3JrIGNvcnJlY3RseSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLm5hbWUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLm5hbWUgIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0ubmFtZSAhPSBcIlwiICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0ubmFtZSA9PSBkYXRhRmllbGQubG9jYXRvcnNbMF0ubmFtZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHNjb3JlICs9IDQwO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wdW5pc2hXcm9uZ0lEQW5kTmFtZSAmJiBkYXRhRmllbGQubG9jYXRvcnNbMF0ubmFtZSkge1xuICAgICAgICAgICAgc2NvcmUgLT0gNTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJhZGlvIGJ1dHRvbnMgaGF2ZSB0aGVpciB2YWx1ZXMgc2V0IGJ5IHRoZSB3ZWJzaXRlIGFuZCBoZW5jZSBjYW4gcHJvdmlkZVxuICAgICAgICAvLyBhIHVzZWZ1bCBjdWUgd2hlbiBib3RoIGlkIGFuZCBuYW1lIG1hdGNoaW5nIGZhaWxzXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS50eXBlID09PSBcInJhZGlvXCIgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC52YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgICBmb3JtRmllbGQudmFsdWUgIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBmb3JtRmllbGQudmFsdWUgIT0gXCJcIiAmJlxuICAgICAgICAgICAgZm9ybUZpZWxkLnZhbHVlID09IGRhdGFGaWVsZC52YWx1ZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHNjb3JlICs9IDMwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaXNWaXNpYmxlID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMuZm9ybVV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUobWF0Y2hlZEZpZWxkLkRPTWVsZW1lbnQpXG4gICAgICAgICkge1xuICAgICAgICAgICAgaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3JlICs9IGlzVmlzaWJsZSA/IDM1IDogMDtcblxuICAgICAgICByZXR1cm4gc2NvcmU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWxsTWF0Y2hlZEZpZWxkcyhcbiAgICAgICAgZmllbGRTY29yZU1hdHJpeDogU2NvcmVNYXRyaXhbXSxcbiAgICAgICAgZGF0YUZpZWxkczogRmllbGRbXSxcbiAgICAgICAgZm9ybUZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIGF1dG9tYXRlZDogYm9vbGVhblxuICAgICkge1xuICAgICAgICAvLyBXZSB3YW50IHRvIG1ha2Ugc3VyZSBlYWNoIGRhdGEgZmllbGQgaXMgbWF0Y2hlZCB0byBvbmx5IG9uZSBmb3JtIGZpZWxkIGJ1dCB3ZVxuICAgICAgICAvLyBkb24ndCBrbm93IHdoaWNoIGZpZWxkIHdpbGwgYmUgdGhlIGJlc3QgbWF0Y2ggYW5kIHdlIGRvbid0IHdhbnQgdG8gaWdub3JlXG4gICAgICAgIC8vIGxlc3MgYWNjdXJhdGUgbWF0Y2hlcyBqdXN0IGJlY2F1c2UgdGhleSBoYXBwZW4gdG8gYXBwZWFyIGxhdGVyLlxuXG4gICAgICAgIC8vIFdlIGhhdmUgYSBtYXRyaXggb2Ygb2JqZWN0cyByZXByZXNlbnRpbmcgZWFjaCBwb3NzaWJsZSBjb21iaW5hdGlvbiBvZiBkYXRhIGZpZWxkXG4gICAgICAgIC8vIGFuZCBmb3JtIGZpZWxkIGFuZCB0aGUgc2NvcmUgZm9yIHRoYXQgbWF0Y2guXG4gICAgICAgIC8vIFdlIGNob29zZSB3aGF0IHRvIGZpbGwgYnkgc29ydGluZyB0aGF0IGxpc3QgYnkgc2NvcmUuXG4gICAgICAgIC8vIEFmdGVyIGZpbGxpbmcgYSBmaWVsZCB3ZSByZW1vdmUgYWxsIG9iamVjdHMgZnJvbSB0aGUgbGlzdCB3aGljaCBhcmUgZm9yIHRoZVxuICAgICAgICAvLyBkYXRhIGZpZWxkIHdlIGp1c3QgZmlsbGVkIGluIGFuZCB0aGUgZm9ybSBmaWVsZCB3ZSBmaWxsZWQgaW4uXG5cbiAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBhbHdheXMgZmlsbCBlYWNoIGZvcm0gZmllbGQgb25seSBvbmNlLCB3aXRoIHRoZSBiZXN0IG1hdGNoXG4gICAgICAgIC8vIHNlbGVjdGVkIGZyb20gYWxsIGRhdGEgZmllbGRzIHRoYXQgaGF2ZW4ndCBhbHJlYWR5IGJlZW4gc2VsZWN0ZWQgZm9yIGFub3RoZXIgZm9ybSBmaWVsZFxuXG4gICAgICAgIC8vIFRoZSBhYm92ZSBhbGdvcml0aG0gY291bGQgbWF5YmUgYmUgdHdlYWtlZCBzbGlnaHRseSBpbiBvcmRlciB0byBhdXRvLWZpbGxcbiAgICAgICAgLy8gYSBcImNoYW5nZSBwYXNzd29yZFwiIGZvcm0gaWYgd2UgZXZlciBtYW5hZ2UgdG8gbWFrZSB0aGF0IGF1dG9tYXRlZFxuXG4gICAgICAgIC8vIChzY29yZSBpcyByZWR1Y2VkIGJ5IG9uZSBmb3IgZWFjaCBwb3NpdGlvbiB3ZSBmaW5kIGluIHRoZSBmb3JtIC0gdGhpcyBnaXZlc1xuICAgICAgICAvLyBhIHNsaWdodCBwcmlvcml0eSB0byBmaWVsZHMgYXQgdGhlIHRvcCBvZiBhIGZvcm0gd2hpY2ggY2FuIGJlIHVzZWZ1bCBvY2Nhc2lvbmFsbHkpXG5cbiAgICAgICAgZmllbGRTY29yZU1hdHJpeC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5zY29yZSAtIGEuc2NvcmU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlbWVtYmVyIHdoYXQgd2UndmUgZmlsbGVkIGluIHNvIHdlIGNhbiBtYWtlIG1vcmUgYWNjdXJhdGUgZGVjaXNpb25zIHdoZW5cbiAgICAgICAgLy8gdGhlIGZvcm0gaXMgc3VibWl0dGVkIGxhdGVyLiBXZSByZXNpc3QgdGhlIHVyZ2UgdGhlIGluZGV4IGJ5IGVsZW1lbnQgSUQgb3JcbiAgICAgICAgLy8gdGhlIERPTWVsZW1lbnQgaXRzZWxmIGJlY2F1c2Ugc29tZSB3ZWJzaXRlcyBkbyBub3Qgc3BlY2lmeSBhbiBJRCBhbmQgc29tZVxuICAgICAgICAvLyBtYXkgcmVtb3ZlIHRoZSBET01lbGVtZW50IGJlZm9yZSB3ZSBzdWJtaXQgdGhlIGZvcm0gKHNvbWV0aW1lcyB1bmRlciB1c2VyXG4gICAgICAgIC8vIGRpcmVjdGlvbiBidXQgb2NjYXNpb25hbGx5IGF1dG9tYXRpY2FsbHkgdG9vKVxuICAgICAgICBjb25zdCBmaWxsZWRGaWVsZHM6IEZpbGxlZEZpZWxkW10gPSBbXTtcblxuICAgICAgICAvLyBLZWVwIGZpbGxpbmcgaW4gZmllbGRzIHVudGlsIHdlIGZpbmQgbm8gbW9yZSB3aXRoIGEgcG9zaXRpdmUgc2NvcmVcbiAgICAgICAgd2hpbGUgKGZpZWxkU2NvcmVNYXRyaXgubGVuZ3RoID4gMCAmJiBmaWVsZFNjb3JlTWF0cml4WzBdLnNjb3JlID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZmZpID0gZmllbGRTY29yZU1hdHJpeFswXS5mb3JtRmllbGRJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGRmaSA9IGZpZWxkU2NvcmVNYXRyaXhbMF0uZGF0YUZpZWxkSW5kZXg7XG4gICAgICAgICAgICBjb25zdCBmb3JtRmllbGQgPSBmb3JtRmllbGRzW2ZmaV07XG4gICAgICAgICAgICBjb25zdCBkYXRhRmllbGQgPSBkYXRhRmllbGRzW2RmaV07XG4gICAgICAgICAgICBjb25zdCBkb21FbGVtZW50ID0gZm9ybUZpZWxkLkRPTWVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0Rm9ybUZpZWxkQ3VycmVudFZhbHVlKFxuICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLnR5cGVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBhdXRvbWF0ZWQgJiZcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgJiZcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgIT09IChkb21FbGVtZW50IGFzIGFueSkua2VlSW5pdGlhbERldGVjdGVkVmFsdWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgIFwiTm90IGZpbGxpbmcgZmllbGQgYmVjYXVzZSBpdCdzIG5vdCBlbXB0eSBhbmQgd2FzIGVkaXRlZCBieSB1c2VyIHNpbmNlIGxhc3QgbG9hZC9maWxsXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBhdXRvbWF0ZWQgJiZcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgJiZcbiAgICAgICAgICAgICAgICAhY29uZmlnTWFuYWdlci5jdXJyZW50LmF1dG9GaWxsRmllbGRzV2l0aEV4aXN0aW5nVmFsdWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgIFwiTm90IGZpbGxpbmcgZmllbGQgYmVjYXVzZSBpdCdzIG5vdCBlbXB0eSBhbmQgdXNlciBwcmVmZXJlbmNlIGlzIHRvIHByZXZlbnQgYXV0b21hdGljIGZpbGxcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgIFwiV2Ugd2lsbCBwb3B1bGF0ZSBmaWVsZCBcIiArIGZmaSArIFwiIChpZDpcIiArIGZvcm1GaWVsZC5maWVsZC5sb2NhdG9yc1swXS5pZCArIFwiKVwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxBU2luZ2xlRmllbGQoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZC5maWVsZC5sb2NhdG9yc1swXS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhRmllbGQudmFsdWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWxsZWRGaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IGZvcm1GaWVsZC5maWVsZC5sb2NhdG9yc1swXS5pZCxcbiAgICAgICAgICAgICAgICBET01lbGVtZW50OiBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IGZvcm1GaWVsZC5maWVsZC5sb2NhdG9yc1swXS5uYW1lLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkYXRhRmllbGQudmFsdWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmaWVsZFNjb3JlTWF0cml4ID0gZmllbGRTY29yZU1hdHJpeC5maWx0ZXIoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5kYXRhRmllbGRJbmRleCAhPSBkZmkgJiYgZWxlbWVudC5mb3JtRmllbGRJbmRleCAhPSBmZmk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZmllbGRTY29yZU1hdHJpeC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGIuc2NvcmUgLSBhLnNjb3JlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbGxlZEZpZWxkcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEZvcm1GaWVsZEN1cnJlbnRWYWx1ZShcbiAgICAgICAgZG9tRWxlbWVudDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50LFxuICAgICAgICBmaWVsZFR5cGU6IHN0cmluZ1xuICAgICkge1xuICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gZG9tRWxlbWVudC52YWx1ZTtcbiAgICAgICAgaWYgKGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGZpZWxkVHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICBpZiAoZG9tRWxlbWVudC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlID0gXCJLRUVGT1hfQ0hFQ0tFRF9GTEFHX1RSVUVcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlID0gXCJLRUVGT1hfQ0hFQ0tFRF9GTEFHX0ZBTFNFXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbGxBU2luZ2xlRmllbGQoXG4gICAgICAgIGRvbUVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudCxcbiAgICAgICAgZmllbGRUeXBlOiBzdHJpbmcsXG4gICAgICAgIHZhbHVlOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgaWYgKGZpZWxkVHlwZSA9PSBcInNlbGVjdC1vbmVcIikge1xuICAgICAgICAgICAgZG9tRWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGZpZWxkVHlwZSA9PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfVFJVRVwiKSBkb21FbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBkb21FbGVtZW50LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChkb21FbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiBmaWVsZFR5cGUgPT0gXCJyYWRpb1wiKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9tRWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9UT0RPOjQ6IEludmVzdGlnYXRlIGFuZCBkb2N1bWVudCB3aHkgd2UncmUgbm90IHVzaW5nIGRhdGEgYXR0cmlidXRlcyB0byBzdG9yZSB0aGlzIHN0cmluZyBpbiB0aGUgRE9NXG4gICAgICAgIChkb21FbGVtZW50IGFzIGFueSkua2VlSW5pdGlhbERldGVjdGVkVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBkb21FbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgVUlFdmVudChcImlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICB2aWV3OiB3aW5kb3csXG4gICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBkb21FbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgVUlFdmVudChcImNoYW5nZVwiLCB7XG4gICAgICAgICAgICAgICAgdmlldzogd2luZG93LFxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbGxNYW55Rm9ybUZpZWxkcyhcbiAgICAgICAgZm9ybUZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIGRhdGFGaWVsZHM6IEZpZWxkW10sXG4gICAgICAgIGN1cnJlbnRQYWdlLFxuICAgICAgICBzY29yZUNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICBhdXRvbWF0ZWQ6IGJvb2xlYW5cbiAgICApIHtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJfZmlsbE1hbnlGb3JtRmllbGRzIHN0YXJ0ZWRcIik7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZm9ybUZpZWxkcyA9PSBudWxsIHx8XG4gICAgICAgICAgICBmb3JtRmllbGRzID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgZGF0YUZpZWxkcyA9PSBudWxsIHx8XG4gICAgICAgICAgICBkYXRhRmllbGRzID09IHVuZGVmaW5lZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiV2UndmUgcmVjZWl2ZWQgdGhlIGRhdGEgd2UgbmVlZFwiKTtcblxuICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiRmlsbGluZyBmb3JtIGZpZWxkcyBmb3IgcGFnZSBcIiArIGN1cnJlbnRQYWdlKTtcblxuICAgICAgICAvLyB3ZSB0cnkgdG8gZmlsbCBldmVyeSBmb3JtIGZpZWxkLiBXZSB0cnkgdG8gbWF0Y2ggYnkgaWQgZmlyc3QgYW5kIHRoZW4gbmFtZSBiZWZvcmUganVzdCBndWVzc2luZy5cbiAgICAgICAgLy8gR2VuZXJhbGx5IHdlJ2xsIG9ubHkgZmlsbCBpZiB0aGUgbWF0Y2hlZCBmaWVsZCBpcyBvZiB0aGUgc2FtZSB0eXBlIGFzIHRoZSBmb3JtIGZpZWxkIGJ1dFxuICAgICAgICAvLyB3ZSBhcmUgZmxleGlibGUgUkUgdGV4dCBhbmQgdXNlcm5hbWUgZmllbGRzIGJlY2F1c2UgdGhhdCdzIGFuIGFydGlmaWNpYWwgZGlmZmVyZW5jZVxuICAgICAgICAvLyBmb3IgdGhlIHNha2Ugb2YgdGhlIEtlZSBwYXNzd29yZCBtYW5hZ2VtZW50IHNvZnR3YXJlLiBIb3dldmVyLCB1c2VybmFtZXMgd2lsbCBiZSBjaG9zZW4gYWJvdmVcbiAgICAgICAgLy8gdGV4dCBmaWVsZHMgaWYgYWxsIGVsc2UgaXMgZXF1YWxcbiAgICAgICAgY29uc3QgZmllbGRTY29yZU1hdHJpeCA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybUZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkYXRhRmllbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSB0aGlzLmNhbGN1bGF0ZUZpZWxkTWF0Y2hTY29yZShcbiAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUZpZWxkc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlQ29uZmlnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJTdWl0YWJpbGl0eSBvZiBwdXR0aW5nIGRhdGEgZmllbGQgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgaiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBpbnRvIGZvcm0gZmllbGQgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgaSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiAoaWQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZHNbaV0uZmllbGQubG9jYXRvcnNbMF0uaWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIpIGlzIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmaWVsZFNjb3JlTWF0cml4LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBzY29yZTogc2NvcmUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFGaWVsZEluZGV4OiBqLFxuICAgICAgICAgICAgICAgICAgICBmb3JtRmllbGRJbmRleDogaVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsbE1hdGNoZWRGaWVsZHMoZmllbGRTY29yZU1hdHJpeCwgZGF0YUZpZWxkcywgZm9ybUZpZWxkcywgYXV0b21hdGVkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRNYXRjaFJlc3VsdChiZWhhdmlvdXI6IEZpbmRNYXRjaGVzQmVoYXZpb3VyKSB7XG4gICAgICAgIC8vVE9ETzo0OiAjNiBjcmVhdGUgbmV3IG9iamVjdCBtaWdodCBjYXVzZSBpc3N1ZXMgd2l0aCBtdWx0aS1wYWdlIG9yIHN1Ym1pdCBiZWhhdmlvdXI/IGlmIG5vdCwgdGhpcyB3b3VsZCBiZSBuZWF0ZXI6XG4gICAgICAgIC8vIG1hdGNoUmVzdWx0ID0gbmV3IE1hdGNoUmVzdWx0KCk7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuVVVJRCA9IFwiXCI7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZW50cmllcyA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tdXN0QXV0b0ZpbGxGb3JtID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuY2Fubm90QXV0b0ZpbGxGb3JtID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubXVzdEF1dG9TdWJtaXRGb3JtID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuY2Fubm90QXV0b1N1Ym1pdEZvcm0gPSBmYWxzZTtcblxuICAgICAgICBpZiAoYmVoYXZpb3VyLlVVSUQgIT0gdW5kZWZpbmVkICYmIGJlaGF2aW91ci5VVUlEICE9IG51bGwgJiYgYmVoYXZpb3VyLlVVSUQgIT0gXCJcIikge1xuICAgICAgICAgICAgLy8gS2VlcCBhIHJlY29yZCBvZiB0aGUgc3BlY2lmaWMgZW50cnkgd2UgYXJlIGdvaW5nIHRvIHNlYXJjaCBmb3IgKHdlIGRlbGV0ZVxuICAgICAgICAgICAgLy8gdGhlIHRhYnN0YXRlIGJlbG93IGFuZCByZS1jcmVhdGUgaXQgZHVyaW5nIGZvcm0gZmlsbClcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuVVVJRCA9IGJlaGF2aW91ci5VVUlEO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5kYkZpbGVOYW1lID0gYmVoYXZpb3VyLmRiRmlsZU5hbWU7XG5cbiAgICAgICAgICAgIC8vIHdlIHdhbnQgdG8gZmlsbCB0aGUgZm9ybSB3aXRoIHRoaXMgZGF0YVxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tdXN0QXV0b0ZpbGxGb3JtID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5tdXN0QXV0b1N1Ym1pdEZvcm0pIHRoaXMubWF0Y2hSZXN1bHQubXVzdEF1dG9TdWJtaXRGb3JtID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZG9jID0gd2luZG93LmRvY3VtZW50O1xuXG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZm9ybVJlYWR5Rm9yU3VibWl0ID0gZmFsc2U7IC8vIHRyYWNrcyB3aGV0aGVyIHdlIGFjdHVhbGx5IGF1dG8tZmlsbCBvbiB0aGlzIHBhZ2VcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5hdXRvZmlsbE9uU3VjY2VzcyA9IGJlaGF2aW91ci5hdXRvZmlsbE9uU3VjY2VzcztcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5hdXRvc3VibWl0T25TdWNjZXNzID0gYmVoYXZpb3VyLmF1dG9zdWJtaXRPblN1Y2Nlc3M7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubm90aWZ5VXNlck9uU3VjY2VzcyA9IGJlaGF2aW91ci5ub3RpZnlVc2VyT25TdWNjZXNzO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LndyYXBwZXJzID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuYWxsTWF0Y2hpbmdMb2dpbnMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuc3VibWl0VGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnVzZXJuYW1lSW5kZXhBcnJheSA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5vdGhlckZpZWxkc0FycmF5ID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQucmVxdWVzdENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5yZXNwb25zZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5yZXF1ZXN0SWRzID0gW107IC8vIHRoZSBKU09OUlBDIHJlcXVlc3QgSWRzIHRoYXQgcmVmZXJlbmNlIHRoaXMgbWF0Y2hSZXN1bHQgb2JqZWN0ICh0byBhbGxvdyBkZWxldGlvbiBhZnRlciBhc3luYyBjYWxsYmFjayBwcm9jZXNzaW5nKVxuICAgIH1cblxuICAgIC8qIEV4cGVjdHMgdGhpcyBkYXRhIG9iamVjdDpcbiAgICB7XG4gICAgICAgIGF1dG9maWxsT25TdWNjZXNzOiB0cnVlLCAvLyBUaGlzIHdvbid0IG92ZXJyaWRlIG90aGVyIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBpZiB0cnVlIGJ1dCBpZiBmYWxzZSBpdCB3aWxsLlxuICAgICAgICBhdXRvc3VibWl0T25TdWNjZXNzOiB0cnVlLCAvLyBUaGlzIHdvbid0IG92ZXJyaWRlIG90aGVyIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBpZiB0cnVlIGJ1dCBpZiBmYWxzZSBpdCB3aWxsLlxuICAgICAgICBub3RpZnlVc2VyT25TdWNjZXNzOiB0cnVlLCAvLyBlLmcuIHVzZWQgd2hlbiBwZXJpb2RpYyBmb3JtIHBvbGxpbmcgZmluZHMgYSBmb3JtIGFmdGVyIHRoZSBwYWdlIGhhcyBsb2FkZWQuXG4gICAgICAgIC4uLiBvdGhlcnNcbiAgICB9XG4gICAgKi9cbiAgICBwdWJsaWMgZmluZE1hdGNoZXNJblRoaXNGcmFtZShiZWhhdmlvdXI6IEZpbmRNYXRjaGVzQmVoYXZpb3VyID0ge30pIHtcbiAgICAgICAgdGhpcy5zZW1hbnRpY1doaXRlbGlzdENhY2hlID0ge307XG4gICAgICAgIHRoaXMuc2VtYW50aWNCbGFja2xpc3RDYWNoZSA9IHt9O1xuXG4gICAgICAgIC8vIFdoZXRoZXIgb3Igbm90IHRoaXMgd2FzIGludm9rZWQgYXMgYSByZXN1bHQgb2YgYSBET00gbXV0YXRpb24sIHdlIHdvbid0IG5lZWQgdGhlIHRpbWVyIHRvIGZpcmUgYW55bW9yZVxuICAgICAgICBpZiAodGhpcy5mb3JtRmluZGVyVGltZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZvcm1GaW5kZXJUaW1lcik7XG4gICAgICAgICAgICB0aGlzLmZvcm1GaW5kZXJUaW1lciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2luZG93LmRvY3VtZW50LmZvcm1zLmxlbmd0aCA+IDUwKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICBcIlRvbyBtYW55IGZvcm1zIG9uIHRoaXMgcGFnZS4gQXNzdW1pbmcgaXQgaXMgbm90IGEgbG9naW4gcGFnZVwiICtcbiAgICAgICAgICAgICAgICAgICAgXCIgYW5kIGF2b2lkaW5nIGxvb2tpbmcgZm9yIGxvZ2luIGZvcm1zIGluIG9yZGVyIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGltcGFjdC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbid0IGFwcGVuZCB0byBhIEhUTUxDb2xsZWN0aW9uIGJ1dCBhbGwgd2UgcmVhbGx5IHVzZSBpdCBmb3IgaXMgaXRlcmF0aW9uXG4gICAgICAgIC8vIGFuZCBsZW5ndGggc28gY29udmVydGluZyB0byBhbiBhcnJheSBzb21ldGltZXMgd2lsbCBjYXVzZSBubyBpc3N1ZXNcbiAgICAgICAgbGV0IGZvcm1zID0gbmV3IEFycmF5PEhUTUxGb3JtRWxlbWVudD4oKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aW5kb3cuZG9jdW1lbnQuZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvcm1zLnB1c2god2luZG93LmRvY3VtZW50LmZvcm1zLml0ZW0oaSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yY2luZyBhIHNjYW4gZm9yIG9ycGhhbmVkIGZpZWxkcyBvbiBhbGwgcGFnZXMuIE1heSBuZWVkIHRvIGNoYW5nZVxuICAgICAgICAvLyB0aGlzIGlmIHJlYWwgd29ybGQgcGVyZm9ybWFuY2UgaXMgdG9vIHNsb3cuXG4gICAgICAgIGNvbnN0IHBzZXVkb0Zvcm0gPSB0aGlzLnNjYW5Gb3JPcnBoYW5lZEZpZWxkcyh3aW5kb3cuZG9jdW1lbnQpO1xuICAgICAgICBpZiAocHNldWRvRm9ybSkge1xuICAgICAgICAgICAgZm9ybXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmb3Jtcyk7XG4gICAgICAgICAgICBmb3Jtcy5wdXNoKHBzZXVkb0Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3JtcyB8fCBmb3Jtcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIk5vIGZvcm1zIGZvdW5kIG9uIHRoaXMgcGFnZS5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5kb2N1bWVudC5VUkwpO1xuICAgICAgICB1cmwuaG9zdG5hbWUgPSBwdW55Y29kZS50b1VuaWNvZGUodXJsLmhvc3RuYW1lKTtcblxuICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFxuICAgICAgICAgICAgXCJGaW5kaW5nIG1hdGNoZXMgaW4gYSBkb2N1bWVudC4gcmVhZHlTdGF0ZTogXCIgKyB3aW5kb3cuZG9jdW1lbnQucmVhZHlTdGF0ZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaW5pdE1hdGNoUmVzdWx0KGJlaGF2aW91cik7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZm9ybXMgPSBmb3JtcztcblxuICAgICAgICBjb25zdCBjb25mID0gY29uZmlnTWFuYWdlci5zaXRlQ29uZmlnRm9yKHVybC5ocmVmKTtcblxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImZpbmRNYXRjaGVzIHByb2Nlc3NpbmcgXCIgKyBmb3Jtcy5sZW5ndGggKyBcIiBmb3Jtc1wiKTtcblxuICAgICAgICBsZXQgc2VhcmNoU2VudFRvS2VlUGFzcyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEZvciBldmVyeSBmb3JtLCBpbmNsdWRpbmcgYW55IHBzZXVkbyBmb3JtcyB3ZSBjcmVhdGVkIGVhcmxpZXJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZm9ybSA9IGZvcm1zW2ldO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzW2ldID0gW107XG5cbiAgICAgICAgICAgIC8vIHRoZSBvdmVyYWxsIHJlbGV2YW5jZSBvZiB0aGlzIGZvcm0gaXMgdGhlIG1heGltdW0gb2YgaXQnc1xuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgZW50cmllcyAoc28gd2UgZmlsbCB0aGUgbW9zdCByZWxldmFudCBmb3JtKVxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzW2ldID0gMDtcblxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJhYm91dCB0byBnZXQgZm9ybSBmaWVsZHNcIik7XG4gICAgICAgICAgICBsZXQgc2NhblJlc3VsdDoge1xuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXTtcbiAgICAgICAgICAgICAgICBhY3R1YWxVc2VybmFtZUluZGV4PzogbnVtYmVyO1xuICAgICAgICAgICAgICAgIHB3RmllbGRzPzogTWF0Y2hlZEZpZWxkW107XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzY2FuUmVzdWx0ID0gdGhpcy5mb3JtVXRpbHMuZ2V0Rm9ybUZpZWxkcyhmb3JtLCBmYWxzZSwgNTApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTG9zdCBpbnRlcmVzdCBpbiB0aGlzIGZvcm0gYWZ0ZXIgZmluZGluZyB0b28gbWFueSBmaWVsZHNcIiArIGUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWVJbmRleCA9IHNjYW5SZXN1bHQuYWN0dWFsVXNlcm5hbWVJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkRmllbGRzID0gc2NhblJlc3VsdC5wd0ZpZWxkcztcbiAgICAgICAgICAgIGNvbnN0IG90aGVyRmllbGRzID0gc2NhblJlc3VsdC5vdGhlckZpZWxkcztcblxuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBmaWxsIGluIHRoaXMgZm9ybSBpZiB3ZSBmaW5kIGEgcGFzc3dvcmQgZmllbGQgYnV0IGZpcnN0XG4gICAgICAgICAgICAvLyB3ZSBjaGVjayB3aGV0aGVyIGFueSB3aGl0ZWxpc3Qgb3IgYmxhY2tsaXN0IGVudHJpZXMgbXVzdCBvdmVycmlkZSB0aGF0IGJlaGF2aW91clxuICAgICAgICAgICAgbGV0IGludGVyZXN0aW5nRm9ybTogYm9vbGVhbiA9IG51bGw7XG5cbiAgICAgICAgICAgIGludGVyZXN0aW5nRm9ybSA9IGNvbmZpZ01hbmFnZXIuaXNGb3JtSW50ZXJlc3RpbmcoXG4gICAgICAgICAgICAgICAgZm9ybSxcbiAgICAgICAgICAgICAgICBjb25mLFxuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzLm1hcChmID0+IGYuZmllbGQpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoaW50ZXJlc3RpbmdGb3JtID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIkxvc3QgaW50ZXJlc3QgaW4gdGhpcyBmb3JtIGFmdGVyIGluc3BlY3RpbmcgZmllbGQgbmFtZXMgYW5kIElEc1wiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgbm9QYXNzd29yZEZpZWxkID1cbiAgICAgICAgICAgICAgICBwYXNzd29yZEZpZWxkcyA9PSBudWxsIHx8IHBhc3N3b3JkRmllbGRzLmxlbmd0aCA8PSAwIHx8IHBhc3N3b3JkRmllbGRzWzBdID09IG51bGw7XG4gICAgICAgICAgICBjb25zdCBub090aGVyRmllbGQgPVxuICAgICAgICAgICAgICAgIHVzZXJuYW1lSW5kZXggPCAwIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHMgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzLmxlbmd0aCA8PSAwIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHNbdXNlcm5hbWVJbmRleF0gPT0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKG5vUGFzc3dvcmRGaWVsZCAmJiAobm9PdGhlckZpZWxkIHx8IGludGVyZXN0aW5nRm9ybSAhPT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJObyBwYXNzd29yZCBmaWVsZCBmb3VuZCBpbiB0aGlzIGZvcm0gYW5kIGVpdGhlciB0aGVyZSBhcmUgbm8gb3RoZXJcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBmaWVsZHMgb3Igbm8gd2hpdGVsaXN0ZWQgdGV4dCBmaWVsZCBvciBmb3JtIGVsZW1lbnRcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzdWJtaXRUYXJnZXROZWlnaGJvdXI6IEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKG5vUGFzc3dvcmRGaWVsZCkge1xuICAgICAgICAgICAgICAgIHN1Ym1pdFRhcmdldE5laWdoYm91ciA9IG90aGVyRmllbGRzW3VzZXJuYW1lSW5kZXhdLkRPTWVsZW1lbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1Ym1pdFRhcmdldE5laWdoYm91ciA9IHBhc3N3b3JkRmllbGRzWzBdLkRPTWVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYXR0YWNoU3VibWl0SGFuZGxlcnMoZm9ybSwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyLCBpKTtcblxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC51c2VybmFtZUluZGV4QXJyYXlbaV0gPSB1c2VybmFtZUluZGV4O1xuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5wYXNzd29yZEZpZWxkc0FycmF5W2ldID0gcGFzc3dvcmRGaWVsZHM7XG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXlbaV0gPSBvdGhlckZpZWxkcztcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuc3VibWl0VGFyZ2V0c1tpXSA9IHN1Ym1pdFRhcmdldE5laWdoYm91cjtcblxuICAgICAgICAgICAgLy8gVGhlIGVudHJpZXMgcmV0dXJuZWQgZnJvbSBLZWVQYXNzIGZvciBldmVyeSBmb3JtIHdpbGwgYmUgaWRlbnRpY2FsIChiYXNlZCBvbiB0YWIvZnJhbWUgVVJMKVxuICAgICAgICAgICAgaWYgKCFzZWFyY2hTZW50VG9LZWVQYXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kTG9naW5PcC5mb3JtcyA9IGZvcm1zO1xuICAgICAgICAgICAgICAgIHRoaXMuZmluZExvZ2luT3AuZm9ybUluZGV4ZXMgPSBbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kTG9naW5PcC53cmFwcGVkQnkgPSB0aGlzLm1hdGNoUmVzdWx0O1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQud3JhcHBlcnNbaV0gPSB0aGlzLmZpbmRMb2dpbk9wO1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQucmVxdWVzdENvdW50Kys7XG5cbiAgICAgICAgICAgICAgICAvLyBTZWFyY2ggZm9yIG1hdGNoaW5nIGVudHJpZXMgZm9yIHRoZSByZWxldmFudCBVUkwuIFRoaXMgcmVxdWVzdCBpcyBhc3luY2hyb25vdXMuXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaEZpbmRlcih1cmwuaHJlZik7XG4gICAgICAgICAgICAgICAgc2VhcmNoU2VudFRvS2VlUGFzcyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZm9ybVtcIiArIGkgKyBcIl06IHJldXNpbmcgZW50cmllcyBmcm9tIGxhc3QgZm9ybS5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kTG9naW5PcC5mb3JtSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IC8vIGVuZCBvZiBmb3JtIGZvciBsb29wXG4gICAgfVxuXG4gICAgLy8gSXQncyBPSyBmb3IgdGhpcyB0byB0YWtlIGEgZmV3IHNlY29uZHMgLSBodW1hbnMgY2FuJ3QgdHlwZSB0aGF0IGZhc3QuXG4gICAgLy8gQnkgbWFraW5nIHRoaXMgYXN5bmMgd2UgYWxsb3cgdGhlIHNlYXJjaCBmb3IgZW50cmllcyB0byBiZWdpbiBlYXJsaWVyXG4gICAgLy8gYW5kIHJlZHVjZSBwZXJjZWl2ZWQgaW1wYWN0IG9uIHBhZ2UgbG9hZCB0aW1lXG4gICAgcHJpdmF0ZSBhc3luYyBhdHRhY2hTdWJtaXRIYW5kbGVycyhcbiAgICAgICAgZm9ybTogSFRNTEZvcm1FbGVtZW50LFxuICAgICAgICBzdWJtaXRUYXJnZXROZWlnaGJvdXI6IEhUTUxFbGVtZW50LFxuICAgICAgICBmb3JtTnVtYmVyOiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHN1Ym1pdFRhcmdldCA9IHRoaXMuZmluZFN1Ym1pdEJ1dHRvbihmb3JtLCBzdWJtaXRUYXJnZXROZWlnaGJvdXIpO1xuICAgICAgICAgICAgdGhpcy5mb3JtU2F2aW5nLmFkZFN1Ym1pdEhhbmRsZXIoc3VibWl0VGFyZ2V0LCBmb3JtKTtcbiAgICAgICAgICAgIEtlZUxvZy5pbmZvKFxuICAgICAgICAgICAgICAgIFwiU3VibWl0IGhhbmRsZXJzIGF0dGFjaGVkIGFzeW5jaHJvbm91c2x5IHRvIGZvcm0gXCIgK1xuICAgICAgICAgICAgICAgICAgICBmb3JtTnVtYmVyICtcbiAgICAgICAgICAgICAgICAgICAgXCIgaW4gXCIgK1xuICAgICAgICAgICAgICAgICAgICAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkgK1xuICAgICAgICAgICAgICAgICAgICBcIm1zXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIEtlZUxvZy53YXJuKFwiRXhjZXB0aW9uIHdoaWxlIGFkZGluZyBzdWJtaXQgaGFuZGxlci4gTWVzc2FnZTogXCIgKyBlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzY2FuRm9yT3JwaGFuZWRGaWVsZHMoZG9jKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgY29uc3Qgb3JwaGFuZWRGaWVsZHMgPSBbXTtcbiAgICAgICAgbGV0IHBzZXVkb0Zvcm0gPSBudWxsO1xuXG4gICAgICAgIC8vIG11Y2ggZmFzdGVyIHRoYW4gcXVlcnlTZWxlY3RvckFsbFxuICAgICAgICBjb25zdCBpdGVtcyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiBpdGVtcykge1xuICAgICAgICAgICAgaWYgKCF0YWcuZm9ybSkgb3JwaGFuZWRGaWVsZHMucHVzaCh0YWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9ycGhhbmVkRmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHBzZXVkb0Zvcm0gPSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHM6IG9ycGhhbmVkRmllbGRzLFxuICAgICAgICAgICAgICAgIGlkOiBcIktlZS1wc2V1ZG8tZm9ybVwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiS2VlLXBzZXVkby1mb3JtXCIsXG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudDogZG9jLFxuICAgICAgICAgICAgICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzO1xuICAgICAgICAgICAgICAgIH0sIC8vIE9ubHkgdXNlIGlzIGZvciBsaXN0aW5nIGlucHV0IGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfSwgLy8gT25seSB1c2UgaXMgZm9yIGxpc3RpbmcgYnV0dG9uIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9LCAvLyBOb3QgcG9zc2libGUgdG8gc3VibWl0IGEgcHNldWRvIGZvcm0gdW5sZXNzIGEgYnV0dG9uIHdpdGggY3VzdG9tIEpTIGhhcyBhbHJlYWR5IGJlZW4gZm91bmRcbiAgICAgICAgICAgICAgICBvZmZzZXRQYXJlbnQ6IHRydWUsIC8vIFRoaXMgdHJpY2tzIGVsZW1lbnQgdmlzaWJpbGl0eSBjaGVja3MgaW50byB0cmVhdGluZyB0aGlzIGFzIHZpc2libGUgdG8gdGhlIHVzZXJcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9LCAvL1RPRE86NDogaG9vayB1cCB0byB0aGUgc3VibWl0IGZ1bmN0aW9uIHRvIHNpbXVsYXRlIHJlYWwgZm9ybSBzdWJtaXNzaW9uXG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRuID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwic2NhbkZvck9ycGhhbmVkRmllbGRzIHRvb2s6IFwiICsgKHRuIC0gdCkpO1xuXG4gICAgICAgIHJldHVybiBwc2V1ZG9Gb3JtO1xuICAgIH1cblxuICAgIHB1YmxpYyBmaW5kTG9naW5zUmVzdWx0SGFuZGxlcihlbnRyaWVzOiBFbnRyeVtdKSB7XG4gICAgICAgIGlmICghZW50cmllcykgcmV0dXJuO1xuICAgICAgICBjb25zdCB2YWxpZEVudHJpZXMgPSBlbnRyaWVzLmZpbHRlcihcbiAgICAgICAgICAgIGUgPT4gRW50cnkuZ2V0VXNlcm5hbWVGaWVsZChlKSB8fCBFbnRyeS5nZXRQYXNzd29yZEZpZWxkKGUpXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdCA9IHRoaXMuZ2V0UmVsZXZhbmNlT2ZMb2dpbk1hdGNoZXNBZ2FpbnN0QWxsRm9ybXMoXG4gICAgICAgICAgICB2YWxpZEVudHJpZXMsXG4gICAgICAgICAgICB0aGlzLmZpbmRMb2dpbk9wLFxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuZmlsbEFuZFN1Ym1pdCh0cnVlKTtcbiAgICB9XG5cbiAgICBnZXRSZWxldmFuY2VPZkxvZ2luTWF0Y2hlc0FnYWluc3RBbGxGb3JtcyhcbiAgICAgICAgZW50cmllczogRW50cnlbXSxcbiAgICAgICAgZmluZExvZ2luT3AsXG4gICAgICAgIG1hdGNoUmVzdWx0OiBNYXRjaFJlc3VsdFxuICAgICkge1xuICAgICAgICBjb25zdCBjclN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGVudHJpZXMpO1xuICAgICAgICBsZXQgZmlyc3RNYXRjaFByb2Nlc3NlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmluZExvZ2luT3AuZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFNraXAgYW55IGZvcm0gdGhhdCB3ZSBkb24ndCB3YW50IHRvIG1hdGNoIGFnYWluc3QgdGhpcyBzZXQgb2YgZW50cmllc1xuICAgICAgICAgICAgaWYgKGZpbmRMb2dpbk9wLmZvcm1JbmRleGVzLmluZGV4T2YoaSkgPT0gLTEpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIGZvcm0sIHdlIGhhdmUgdG8gd29yayB3aXRoIGNsb25lcyBvZiB0aGUgZW50cnkgc29cbiAgICAgICAgICAgIC8vIHRoYXQgd2UgY2FuIG1hbmlwdWxhdGUgdGhlIHJlbGV2YW5jeSBzY29yZXMsIGV0Yy4gaW5kZXBlbmRlbnRseSBmb3IgZWFjaFxuICAgICAgICAgICAgLy8gZm9ybSBhbmQgZW50cnkgY29tYmluYXRpb24uIFdlIGNvdWxkIGJlIG1vcmUgZWZmaWNpZW50IGZvciB0aGUgY29tbW9uIGNhc2Ugb2YgMSBmb3JtXG4gICAgICAgICAgICAvLyBieSBhdm9pZGluZyB0aGUgY2xvbmUgdGhlbiBidXQga2VlcGluZyB0aGUgc2FtZSBiZWhhdmlvdXIgZ2l2ZXMgdXMgYSBoaWdoZXIgY2hhbmNlXG4gICAgICAgICAgICAvLyBvZiBub3RpY2luZyBidWdzLlxuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXSA9IEpTT04ucGFyc2UoY3JTdHJpbmcpOyAvL1RPRE86NDogZmFzdGVyIGNsb25lPyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9BUEkvRE9NL1RoZV9zdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSA/XG5cbiAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaWYgd2UgaGF2ZSBubyBtYXRjaGluZyBlbnRyaWVzIGF2YWlsYWJsZS5cbiAgICAgICAgICAgIGlmIChtYXRjaFJlc3VsdC5lbnRyaWVzW2ldLmxlbmd0aCA9PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIm1hdGNoIGZvdW5kIVwiKTtcblxuICAgICAgICAgICAgY29uc3QgZm9ybVZpc2libGUgPSB0aGlzLmZvcm1VdGlscy5pc0RPTUVsZW1lbnRWaXNpYmxlKG1hdGNoUmVzdWx0LnN1Ym1pdFRhcmdldHNbaV0pO1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJmb3JtVmlzaWJsZTogXCIgKyBmb3JtVmlzaWJsZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHZpc2libGVGaWVsZENhY2hlID0ge1xuICAgICAgICAgICAgICAgIG90aGVyOiBtYXRjaFJlc3VsdC5vdGhlckZpZWxkc0FycmF5W2ldLm1hcChmID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUoZi5ET01lbGVtZW50KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXlbaV0ubWFwKGYgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtVXRpbHMuaXNET01FbGVtZW50VmlzaWJsZShmLkRPTWVsZW1lbnQpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSByZWxldmFuY2Ugb2YgZWFjaCBlbnRyeSB0byB0aGlzIGZvcm1cbiAgICAgICAgICAgIC8vIHdlIGNvdWxkIHNraXAgdGhpcyB3aGVuIGF1dG9maWxsaW5nIGJhc2VkIG9uIHV1aWQgYnV0IHdlIHdvdWxkIGhhdmUgdG8gY2hlY2sgZm9yXG4gICAgICAgICAgICAvLyBtYXRjaGVzIGZpcnN0IG9yIGVsc2Ugd2UgcmlzayBubyBtYXRjaCBhbmQgbm8gYWx0ZXJuYXRpdmUgbWF0Y2hpbmcgZW50cmllcyBvbiB0aGUgbWFpblVJXG4gICAgICAgICAgICAvLyBhbmQgd2UgYWxzbyBub3cgY29uc2lkZXIgdGhlIHRvdGFsaXR5IG9mIHBvc3NpYmxlIG1hdGNoZXMgYWdhaW5zdCBhIGZpZWxkIGluIG9yZGVyXG4gICAgICAgICAgICAvLyB0byBsaW1pdCB3aGljaCBmaWVsZHMgd2Ugc2hvdmUgYSBLZWUgaWNvbiBpbnRvLlxuICAgICAgICAgICAgZm9yIChsZXQgdiA9IDA7IHYgPCBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldLmxlbmd0aDsgdisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBzdG9yZS5LZWVQYXNzRGF0YWJhc2VzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgIGRiID0+IGRiLmZpbGVOYW1lID09PSBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLmRhdGFiYXNlLmZpbGVOYW1lXG4gICAgICAgICAgICAgICAgKS5zZXNzaW9uRmVhdHVyZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRNYXRjaFNjb3JlQ29uZmlnOiBGaWVsZE1hdGNoU2NvcmVDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIHB1bmlzaFdyb25nSURBbmROYW1lOlxuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMuaW5kZXhPZihcIktQUlBDX0ZJRUxEX0RFRkFVTFRfTkFNRV9BTkRfSURfRU1QVFlcIikgPj0gMFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY29yZSwgbG93RmllbGRNYXRjaFJhdGlvIH0gPSB0aGlzLmNhbGN1bGF0ZVJlbGV2YW5jZVNjb3JlKFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5wYXNzd29yZEZpZWxkc0FycmF5W2ldLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5vdGhlckZpZWxkc0FycmF5W2ldLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgZm9ybVZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkTWF0Y2hTY29yZUNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUZpZWxkQ2FjaGVcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hvb3NpbmcgYmVzdCBmb3JtIHNob3VsZCBub3QgYmUgYWZmZWN0ZWQgYnkgbG93RmllbGRNYXRjaFJhdGlvIGVudHJ5IHNjb3JlXG4gICAgICAgICAgICAgICAgLy8gYnV0IHdoZW4gd2UgY29tZSB0byBmaWxsIHRoZSBmb3JtIHdlIGNhbiBmb3JjZSBvdXJzZWx2ZXMgaW50byBhIG5vLWF1dG8tZmlsbCBiZWhhdmlvdXIuXG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5yZWxldmFuY2VTY29yZSA9IHNjb3JlO1xuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0ubG93RmllbGRNYXRjaFJhdGlvID0gbG93RmllbGRNYXRjaFJhdGlvO1xuXG4gICAgICAgICAgICAgICAgLy8gYWxzbyBzZXQgdGhlIGZvcm0gaW5kZXggYW5kIGVudHJ5IGluZGV4IG9uIHRoZSBpbnRlcm5hbCBlbnRyeSBvYmplY3Qgc29cbiAgICAgICAgICAgICAgICAvLyBpdCB3aWxsIHBlcnNpc3Qgd2hlbiBsYXRlciBwYXNzZWQgdG8gdGhlIFVJIGFuZCB3ZSBjYW4gdWx0aW1hdGVseVxuICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIHNhbWUgZW50cnkgb2JqZWN0IHdoZW4gcHJvY2Vzc2luZyBhIG1hdGNoZWQgZW50cnlcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLmZvcm1JbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5lbnRyeUluZGV4ID0gdjtcblxuICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoZSBiZXN0IGZvcm0gZm9yIGVhY2ggZW50cnlcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICFmaXJzdE1hdGNoUHJvY2Vzc2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0ucmVsZXZhbmNlU2NvcmUgPlxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuYWxsTWF0Y2hpbmdMb2dpbnNbdl0ucmVsZXZhbmNlU2NvcmVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkhpZ2hlciByZWxldmFuY2Ugc2NvcmUgZm91bmQgZm9yIGVudHJ5IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiB3aXRoIGZvcm1JbmRleCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5mb3JtSW5kZXggK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIChcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZExvZ2luT3AuZm9ybXNbaV0uaWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKVwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmFsbE1hdGNoaW5nTG9naW5zW3ZdID0gbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaXJzdE1hdGNoUHJvY2Vzc2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gRmluZCB0aGUgYmVzdCBlbnRyeSBmb3IgdGhpcyBmb3JtXG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYy5yZWxldmFuY2VTY29yZSA+IG1hdGNoUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZm9ybVJlbGV2YW5jZVNjb3Jlc1tpXSA9IGMucmVsZXZhbmNlU2NvcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgIFwiUmVsZXZhbmNlIG9mIGZvcm0gXCIgK1xuICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgXCIgKFwiICtcbiAgICAgICAgICAgICAgICAgICAgZmluZExvZ2luT3AuZm9ybXNbaV0uaWQgK1xuICAgICAgICAgICAgICAgICAgICBcIikgaXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzW2ldXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaFJlc3VsdDtcbiAgICB9XG5cbiAgICBnZXRNb3N0UmVsZXZhbnRGb3JtKGZvcm1JbmRleD86IG51bWJlcikge1xuICAgICAgICBjb25zdCBmaW5kTWF0Y2hlc1Jlc3VsdCA9IHRoaXMubWF0Y2hSZXN1bHQ7XG5cbiAgICAgICAgLy8gVGhlcmUgbWF5IGJlIG5vIHJlc3VsdHMgZm9yIHRoaXMgZnJhbWUgKGUuZy4gbm8gZm9ybXMgZm91bmQsIHNlYXJjaCBmYWlsZWQsIGV0Yy4pXG4gICAgICAgIGlmICghZmluZE1hdGNoZXNSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYmVzdEZvcm1JbmRleDogMCxcbiAgICAgICAgICAgICAgICBiZXN0UmVsZXZhbmNlU2NvcmU6IDAsXG4gICAgICAgICAgICAgICAgYmVzdEZpbmRNYXRjaGVzUmVzdWx0OiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gMDtcblxuICAgICAgICBpZiAoZm9ybUluZGV4ID49IDApIG1vc3RSZWxldmFudEZvcm1JbmRleCA9IGZvcm1JbmRleDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaW5kTWF0Y2hlc1Jlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzLmZvckVhY2goKGMsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJSZWxldmFuY2Ugb2YgZm9ybSBpcyBcIiArIGMpO1xuICAgICAgICAgICAgICAgIGlmIChjID4gZmluZE1hdGNoZXNSZXN1bHQuZm9ybVJlbGV2YW5jZVNjb3Jlc1ttb3N0UmVsZXZhbnRGb3JtSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vc3RSZWxldmFudEZvcm1JbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJUaGUgbW9zdCByZWxldmFudCBmb3JtIGlzICNcIiArIG1vc3RSZWxldmFudEZvcm1JbmRleCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiZXN0Rm9ybUluZGV4OiBtb3N0UmVsZXZhbnRGb3JtSW5kZXgsXG4gICAgICAgICAgICBiZXN0UmVsZXZhbmNlU2NvcmU6IGZpbmRNYXRjaGVzUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXNbbW9zdFJlbGV2YW50Rm9ybUluZGV4XSxcbiAgICAgICAgICAgIGJlc3RGaW5kTWF0Y2hlc1Jlc3VsdDogZmluZE1hdGNoZXNSZXN1bHRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBhdXRvbWF0ZWQgY291bGQgYmUgb24gcGFnZSBsb2FkIG9yIHJlc3VsdGluZyBmcm9tIG90aGVyIG5vbi11c2VyLWludGVyYWN0aW9uLlxuICAgIC8vIEl0J3MgcG9zc2libGUgdG8gZmlsbCBhbmQgc3VibWl0IGEgZW50cnkgd2l0aCBhIHNwZWNpZmljIHV1aWQgYnV0XG4gICAgLy8gdGhhdCBwcm9jZXNzIGlzIG5vdyBjZW50ZXJlZCBvbiB0aGUgZmluZE1hdGNoZXMgZnVuY3Rpb24uIFRoaXMgZnVuY3Rpb24ganVzdFxuICAgIC8vIHRha2VzIHRoZSByZXN1bHRzIG9mIHRoYXQgKHdoaWNoIG1heSBpbmNsdWRlIGEgc3BlY2lmaWMgZW50cnkgdG8gZmlsbCBhbmQgc3VibWl0IHRvIGEgc3BlY2lmaWMgZm9ybSlcbiAgICBmaWxsQW5kU3VibWl0KGF1dG9tYXRlZDogYm9vbGVhbiwgZm9ybUluZGV4PzogbnVtYmVyLCBlbnRyeUluZGV4PzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgXCJmaWxsQW5kU3VibWl0IHN0YXJ0ZWQuIGF1dG9tYXRlZDogXCIgK1xuICAgICAgICAgICAgICAgIGF1dG9tYXRlZCArXG4gICAgICAgICAgICAgICAgXCIsIGZvcm1JbmRleDogXCIgK1xuICAgICAgICAgICAgICAgIGZvcm1JbmRleCArXG4gICAgICAgICAgICAgICAgXCIsIGVudHJ5SW5kZXg6IFwiICtcbiAgICAgICAgICAgICAgICBlbnRyeUluZGV4XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgbWF0Y2hSZXN1bHQgPSB0aGlzLm1hdGNoUmVzdWx0O1xuICAgICAgICBsZXQgc3VibWl0VGFyZ2V0TmVpZ2hib3VyO1xuXG4gICAgICAgIC8vIEdpdmUgdXAgaWYgd2UgaGF2ZSBubyByZXN1bHRzIGZvciB0aGlzIGZyYW1lIChpLmUuIHRoZXJlIHdlcmUgbm8gZm9ybXMgdG8gZmlsbClcbiAgICAgICAgaWYgKCFtYXRjaFJlc3VsdCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFdlIGRvIHNvbWUgdGhpbmdzIGRpZmZlcmVudGx5IGlmIHdlJ3JlIGJlaW5nIG1hbnVhbGx5IGFza2VkIHRvIGZpbGwgYW5kXG4gICAgICAgIC8vIHN1Ym1pdCBhIHNwZWNpZmljIG1hdGNoZWQgZW50cnlcbiAgICAgICAgY29uc3QgaXNNYXRjaGVkTG9naW5SZXF1ZXN0ID1cbiAgICAgICAgICAgICFhdXRvbWF0ZWQgJiZcbiAgICAgICAgICAgICgobWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID49IDApIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIGZvcm1JbmRleCAhPSBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgdHlwZW9mIGVudHJ5SW5kZXggIT0gXCJ1bmRlZmluZWRcIjtcblxuICAgICAgICBpZiAoIWlzTWF0Y2hlZExvZ2luUmVxdWVzdCkge1xuICAgICAgICAgICAgbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gdGhpcy5nZXRNb3N0UmVsZXZhbnRGb3JtKCkuYmVzdEZvcm1JbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN1cHBsaWVkIGZvcm1JRCBvdmVycmlkZXMgYW55IHRoYXQgd2UganVzdCBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgYWJvdmVcbiAgICAgICAgaWYgKGZvcm1JbmRleCAhPT0gbnVsbCAmJiBmb3JtSW5kZXggPj0gMCkgbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gZm9ybUluZGV4O1xuXG4gICAgICAgIC8vIGZyb20gbm93IG9uIHdlIGNvbmNlbnRyYXRlIG9uIGp1c3QgdGhlIG1vc3QgcmVsZXZhbnQgZm9ybSBhbmQgdGhlIGZpZWxkcyB3ZSBmb3VuZCBlYXJsaWVyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBtYXRjaFJlc3VsdC5mb3Jtc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdO1xuICAgICAgICBjb25zdCBwYXNzd29yZEZpZWxkcyA9IG1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXlbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XTtcbiAgICAgICAgY29uc3Qgb3RoZXJGaWVsZHMgPSBtYXRjaFJlc3VsdC5vdGhlckZpZWxkc0FycmF5W21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF07XG5cbiAgICAgICAgY29uc3Qgb3JkZXJlZEVudHJpZXMgPSB0aGlzLnNvcnRNYXRjaGVkRW50cmllcyhcbiAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBvcmRlcmVkRW50cmllc1dpdGhQcmVmZXJlbmNlID0gdGhpcy5mbGFnVXNlclByZWZlcnJlZEVudHJ5KG9yZGVyZWRFbnRyaWVzKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNNYXRjaGVkTG9naW5SZXF1ZXN0ICYmXG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF0ubGVuZ3RoID4gMFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMubXlQb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBlbnRyaWVzOiBvcmRlcmVkRW50cmllc1dpdGhQcmVmZXJlbmNlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gR2l2ZSB0aGUgdXNlciBhIHdheSB0byBjaG9vc2UgYW4gZW50cnkgaW50ZXJhY3RpdmVseVxuICAgICAgICAgICAgdGhpcy5rZWVGaWVsZEljb24uYWRkS2VlSWNvblRvRmllbGRzKFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzLFxuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzLFxuICAgICAgICAgICAgICAgIG9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2VcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzIHJlY29yZHMgdGhlIGVudHJ5IHRoYXQgd2UgZXZlbnR1YWxseSBjaG9vc2UgYXMgdGhlIG9uZSB0byBmaWxsIHRoZSBjaG9zZW4gZm9ybSB3aXRoXG4gICAgICAgIGxldCBtYXRjaGluZ0xvZ2luOiBFbnRyeSA9IG51bGw7XG4gICAgICAgIGxldCBhY3Rpb246IEZpbGxBbmRTdWJtaXRBY3Rpb24gPSB7IGZpbGw6IGZhbHNlLCBzdWJtaXQ6IGZhbHNlIH07XG4gICAgICAgIGxldCBtdWx0aXBsZU1hdGNoZXMgPSBmYWxzZTtcblxuICAgICAgICAvLyBJZiB3ZSBzdGFydGVkIHRoaXMgZmlsbC9zdWJtaXQgYXR0ZW1wdCBmcm9tIGNlcnRhaW4gY29udGV4dHMsIHdlIHdpbGwgaGF2ZVxuICAgICAgICAvLyBiZWVuIHRvbGQgdG8gZW5zdXJlIHdlIGRvIG5vdCBwZXJmb3JtIGF1dG8tZmlsbCBvciBzdWJtaXQgYW5kIHdlJ2xsIGluc3RlYWRcbiAgICAgICAgLy8ganVzdCB0ZWxsIHRoZSBVSSB0byBub3RpZnkgdGhlIHVzZXIgYWJvdXQgYW55IG1hdGNoZXMgd2UgZm91bmQuIEFsdGhvdWdoXG4gICAgICAgIC8vIHdlIGlnbm9yZSB0aGlzIHJ1bGUgaWYgdGhlIHVzZXIgaW5pdGlhdGVkIHRoZSBmaWxsL3N1Ym1pdC5cbiAgICAgICAgbWF0Y2hSZXN1bHQuY2Fubm90QXV0b0ZpbGxGb3JtID0gZmFsc2U7XG4gICAgICAgIG1hdGNoUmVzdWx0LmNhbm5vdEF1dG9TdWJtaXRGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGF1dG9tYXRlZCAmJiBtYXRjaFJlc3VsdC5hdXRvZmlsbE9uU3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG1hdGNoUmVzdWx0LmNhbm5vdEF1dG9GaWxsRm9ybSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dG9tYXRlZCAmJiBtYXRjaFJlc3VsdC5hdXRvc3VibWl0T25TdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuY2Fubm90QXV0b1N1Ym1pdEZvcm0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm8gcG9pbnQgbG9va2luZyBhdCBlbnRyeSBzcGVjaWZpYyBwcmVmZXJlbmNlcyBpZiB3ZSBhcmUgbm90IGFsbG93ZWQgdG8gYXV0by1maWxsXG4gICAgICAgIGlmICghbWF0Y2hSZXN1bHQuY2Fubm90QXV0b0ZpbGxGb3JtKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIldlIGFyZSBhbGxvd2VkIHRvIGF1dG8tZmlsbCB0aGlzIGZvcm0uXCIpO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBiZWVuIGluc3RydWN0ZWQgdG8gZmlsbCBhIHNwZWNpZmljIGVudHJ5LCB3ZSBuZWVkIHRvIHNlbGVjdCB0aGF0XG4gICAgICAgICAgICAvLyBlbnRyeSBhbmQgY2xlYXIgYW55IHByZXZpb3VzbHkgc2V0IGluZm9ybWF0aW9uIGFib3V0IGFuIGF1dG8tZmlsbGVkIGVudHJ5XG4gICAgICAgICAgICAvLyBzbyBpdCBjYW4gYmUgc2V0IGNvcnJlY3RseSBsYXRlclxuICAgICAgICAgICAgaWYgKGVudHJ5SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4gPSBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF1bZW50cnlJbmRleF07XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuVVVJRCA9IG51bGw7XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZGJGaWxlTmFtZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjaGVja01hdGNoaW5nTG9naW5SZWxldmFuY2VUaHJlc2hvbGQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF0ubGVuZ3RoID09IDFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4gPSBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF1bMF07XG4gICAgICAgICAgICAgICAgY2hlY2tNYXRjaGluZ0xvZ2luUmVsZXZhbmNlVGhyZXNob2xkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuVVVJRCAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEICE9IFwiXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdGhlIHJlbGV2YW5jZSB0ZXN0cyBpZiB3ZSBoYXZlIGJlZW4gdG9sZCB0byB1c2UgYSBzcGVjaWZpYyBVVUlEXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgIFwiV2UndmUgYmVlbiB0b2xkIHRvIHVzZSBhbiBlbnRyeSB3aXRoIHRoaXMgVVVJRDogXCIgKyBtYXRjaFJlc3VsdC5VVUlEXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb3VudCA8IG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50KytcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdW2NvdW50XS51dWlkID09XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdW2NvdW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ291bGQgbm90IGZpbmQgdGhlIHJlcXVpcmVkIEtlZVBhc3MgZW50cnkuIE1heWJlIHRoZSB3ZWJzaXRlIHJlZGlyZWN0ZWQgeW91IHRvIGEgZGlmZmVyZW50IGRvbWFpbiBvciBob3N0bmFtZT9cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgKCFtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF0gfHxcbiAgICAgICAgICAgICAgICAgICAgIW1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGgpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk5vIGVudHJpZXMgZm9yIGZvcm0uXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaGluZ0xvZ2luID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJNdWx0aXBsZSBlbnRyaWVzIGZvciBmb3JtLCBzbyB1c2luZyBwcmVmZXJyZWQgb3IgbW9zdCByZWxldmFudC5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2UuZmluZChlID0+IGUuaXNQcmVmZXJyZWRNYXRjaCkgfHxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJlZEVudHJpZXNXaXRoUHJlZmVyZW5jZVswXTtcbiAgICAgICAgICAgICAgICBtdWx0aXBsZU1hdGNoZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNoZWNrTWF0Y2hpbmdMb2dpblJlbGV2YW5jZVRocmVzaG9sZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdXRvbWF0ZWQgJiYgY2hlY2tNYXRjaGluZ0xvZ2luUmVsZXZhbmNlVGhyZXNob2xkICYmIG1hdGNoaW5nTG9naW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLnJlbGV2YW5jZVNjb3JlIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJPdXIgc2VsZWN0ZWQgZW50cnkgaXMgbm90IHJlbGV2YW50IGVub3VnaCB0byBleGNlZWQgb3VyIHRocmVzaG9sZCBzbyB3aWxsIG5vdCBiZSBhdXRvLWZpbGxlZC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoaW5nTG9naW4ubG93RmllbGRNYXRjaFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk91ciBzZWxlY3RlZCBlbnRyeSBoYXMgYSBsb3cgZmllbGQgbWF0Y2ggcmF0aW8gc28gd2lsbCBub3QgYmUgYXV0by1maWxsZWQuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdMb2dpbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9UT0RPOjQ6ICM2IG11bHRpLXBhZ2VcbiAgICAgICAgICAgICAgICAvLyAvLyByZWNvcmQgLyB1cGRhdGUgdGhlIGluZm8gYXR0YWNoZWQgdG8gdGhpcyB0YWIgcmVnYXJkaW5nXG4gICAgICAgICAgICAgICAgLy8gLy8gdGhlIG51bWJlciBvZiBwYWdlcyBvZiBmb3JtcyB3ZSB3YW50IHRvIGZpbGwgaW5cbiAgICAgICAgICAgICAgICAvLyAvLyBOQjogd2UgZG8gdGhpcyBldmVuIGlmIHdlIGtub3cgdGhpcyBpcyBhIHNpbmdsZSBmb3JtXG4gICAgICAgICAgICAgICAgLy8gLy8gc3VibWlzc2lvbiBiZWNhdWFzZSB0aGVuIGlmIHRoZSB1c2VyIGdldHMgZHVtcGVkXG4gICAgICAgICAgICAgICAgLy8gLy8gYmFjayB0byB0aGUgZm9ybSAocGFzc3dvcmQgZXJyb3I/KSB0aGVuIHdlIGtub3cgbm90XG4gICAgICAgICAgICAgICAgLy8gLy8gdG8gYXV0by1zdWJtaXQgYWdhaW4gKHRvIGF2b2lkIGdldHRpbmcgc3R1Y2sgaW4gYSBsb29wKVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRhYlN0YXRlLmN1cnJlbnRQYWdlID4gdGFiU3RhdGUubWF4aW11bVBhZ2UpXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyBJIGRvbid0IHRoaW5rIHRoaXMgc2hvdWxkIGV2ZXIgaGFwcGVuIGJlY2F1c2UgaXQncyByZXNldCBvbkZvcm1TdWJtaXRcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gYmVmb3JlIHRoaXMgcGFnZSBoYXMgbG9hZGVkLlxuXG4gICAgICAgICAgICAgICAgLy8gICAgIHRhYlN0YXRlLmN1cnJlbnRQYWdlID0gMDtcbiAgICAgICAgICAgICAgICAvLyAgICAgdGFiU3RhdGUubWF4aW11bVBhZ2UgPSAwO1xuICAgICAgICAgICAgICAgIC8vICAgICB0YWJTdGF0ZS5mb3JjZUF1dG9TdWJtaXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vICAgICBtYXRjaFJlc3VsdC5jYW5ub3RBdXRvU3VibWl0Rm9ybSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJFeGNlZWRlZCBleHBlY3RlZCBudW1iZXIgb2YgcGFnZXMgZHVyaW5nIHRoaXMgZm9ybS1maWxsaW5nIHNlc3Npb24uIE5vdCBhdXRvLXN1Ym1pdGluZyB0aGlzIGZvcm0uXCIpO1xuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIC8vIC8vIElmIHRoZSB1c2VyIG1hbnVhbGx5IHJlcXVlc3RlZCB0aGlzIHRvIGJlIGZpbGxlZCBpbiBvciB0aGUgY3VycmVudCBwYWdlIGlzIHVua25vd25cbiAgICAgICAgICAgICAgICAvLyBpZiAoIWF1dG9tYXRlZCkvL1RPRE86NDogIzYgbXVsdGktcGFnZSB8fCB0YWJTdGF0ZS5jdXJyZW50UGFnZSA8PSAwKVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgbGV0IG1heGltdW1QYWdlQ291bnQgPSAxO1xuICAgICAgICAgICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoaW5nTG9naW4ucGFzc3dvcmRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjb25zdCBwYXNzRmllbGQgPSBtYXRjaGluZ0xvZ2luLnBhc3N3b3Jkc1tpXTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChwYXNzRmllbGQuZm9ybUZpZWxkUGFnZSA+IG1heGltdW1QYWdlQ291bnQpXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWF4aW11bVBhZ2VDb3VudCA9IHBhc3NGaWVsZC5mb3JtRmllbGRQYWdlO1xuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hpbmdMb2dpbi5vdGhlckZpZWxkcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAvLyAgICAge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29uc3Qgb3RoZXJGaWVsZCA9IG1hdGNoaW5nTG9naW4ub3RoZXJGaWVsZHNbaV07XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAob3RoZXJGaWVsZC5mb3JtRmllbGRQYWdlID4gbWF4aW11bVBhZ2VDb3VudClcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtYXhpbXVtUGFnZUNvdW50ID0gb3RoZXJGaWVsZC5mb3JtRmllbGRQYWdlO1xuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vVE9ETzo0OiAjNjogbXVsdGktcGFnZVxuICAgICAgICAgICAgICAgIC8vICAgICAvLyAvLyBhbHdheXMgYXNzdW1lIHBhZ2UgMSAodmVyeSByYXJlIGNhc2VzIHdpbGwgZ28gd3JvbmcgLSBzZWUgZ2l0aHViIEtlZUZveCAjNDExIGZvciByZWxldmFudCBlbmhhbmNlbWVudCByZXF1ZXN0KVxuICAgICAgICAgICAgICAgIC8vICAgICAvLyAvLyBQb3NzaWJsZSByZWdyZXNzaW9uIHNpbmNlIHYxLjQ6IFdlIHVzZWQgdG8gaWdub3JlIGN1cnJlbnRQYWdlIGVudGlyZWx5IGZvciB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gLy8gcGFnZSBvZiBhIHN1Ym1pc3Npb24sIG5vdyB3ZSBtaWdodCB0cnkgdG8gZ2l2ZSBwcmVmZXJlbmNlIHRvIHBhZ2UgMSBmaWVsZHMgKHRob3VnaCB0b3RhbFxuICAgICAgICAgICAgICAgIC8vICAgICAvLyAvLyByZWxldmFuY2Ugc2NvcmUgc2hvdWxkbid0IGJlIHNoaWZ0ZWQgYnkgZW5vdWdoIHRvIGFmZmVjdCBvdGhlcndpc2Ugd2VsbC1tYXRjaGVkIGZpZWxkcylcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gdGFiU3RhdGUuY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyB0YWJTdGF0ZS5tYXhpbXVtUGFnZSA9IG1heGltdW1QYWdlQ291bnQ7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiY3VycmVudFBhZ2UgaXM6IFwiICsgdGFiU3RhdGUuY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIm1heGltdW1QYWdlIGlzOiBcIiArIHRhYlN0YXRlLm1heGltdW1QYWdlKTtcbiAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IGF1dG8tZmlsbCBiZWhhdmlvdXIgZGVwZW5kcyB1cG9uIHdoZXRoZXIgdGhpcyBpcyBhdXRvbWF0aWMgb3JcbiAgICAgICAgICAgICAgICAvLyBtYW51YWwsIHRoZSBjb3JyZXNwb25kaW5nIHVzZXIgXCJhdXRvbWF0aWNcIiBvcHRpb24sIGlmIHRoZXJlIGFyZSBvbmUgb3IgbWFueSBtYXRjaGVzXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoZSB1c2VyIG9wdGlvbiB0byBwcmV2ZW50IGF1dG9tYXRpYyBmaWxsIGR1ZSB0byBtdWx0aXBsZSBtYXRjaGVzXG4gICAgICAgICAgICAgICAgY29uc3QgYXV0b0ZpbGxFbmFibGVkID1cbiAgICAgICAgICAgICAgICAgICAgaXNNYXRjaGVkTG9naW5SZXF1ZXN0IHx8XG4gICAgICAgICAgICAgICAgICAgIChhdXRvbWF0ZWQgJiYgbXVsdGlwbGVNYXRjaGVzICYmICF0aGlzLmNvbmZpZy5hdXRvRmlsbEZvcm1zV2l0aE11bHRpcGxlTWF0Y2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNvbmZpZy5hdXRvRmlsbEZvcm1zKTtcblxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgYXV0by1zdWJtaXQgYmVoYXZpb3VyIGRlcGVuZHMgdXBvbiB3aGV0aGVyIHRoaXMgaXMgYXV0b21hdGljIG9yIG1hbnVhbCBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgdXNlciBvcHRpb25cbiAgICAgICAgICAgICAgICBjb25zdCBhdXRvU3VibWl0RW5hYmxlZCA9IGlzTWF0Y2hlZExvZ2luUmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuY29uZmlnLmF1dG9TdWJtaXRNYXRjaGVkRm9ybXNcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNvbmZpZy5hdXRvU3VibWl0Rm9ybXM7XG5cbiAgICAgICAgICAgICAgICBhY3Rpb24gPSB7IGZpbGw6IGF1dG9GaWxsRW5hYmxlZCwgc3VibWl0OiBhdXRvU3VibWl0RW5hYmxlZCB9O1xuXG4gICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgZmlsbCBwcmVmZXJlbmNlcyBmcm9tIHBlci1lbnRyeSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAvLyB1bmxlc3MgdXNlciBleHBsaWNpdHkgc2VsZWN0ZWQgdGhlIG1hdGNoZWQgZW50cnlcbiAgICAgICAgICAgICAgICBpZiAoIWlzTWF0Y2hlZExvZ2luUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdMb2dpbi5hbHdheXNBdXRvRmlsbCkgYWN0aW9uLmZpbGwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdMb2dpbi5uZXZlckF1dG9GaWxsKSBhY3Rpb24uZmlsbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE92ZXJyaWRlIHN1Ym1pdCBwcmVmZXJlbmNlcyBmcm9tIHBlci1lbnRyeSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAoIWlzTWF0Y2hlZExvZ2luUmVxdWVzdCB8fCAhdGhpcy5jb25maWcubWFudWFsU3VibWl0T3ZlcnJpZGVQcm9oaWJpdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLmFsd2F5c0F1dG9TdWJtaXQpIGFjdGlvbi5zdWJtaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdMb2dpbi5uZXZlckF1dG9TdWJtaXQpIGFjdGlvbi5zdWJtaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmZpbGwgfHwgbWF0Y2hSZXN1bHQubXVzdEF1dG9GaWxsRm9ybSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkdvaW5nIHRvIGF1dG8tZmlsbCBhIGZvcm1cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBzdG9yZS5LZWVQYXNzRGF0YWJhc2VzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBkYiA9PiBkYi5maWxlTmFtZSA9PT0gbWF0Y2hpbmdMb2dpbi5kYXRhYmFzZS5maWxlTmFtZVxuICAgICAgICAgICAgICAgICAgICApLnNlc3Npb25GZWF0dXJlcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVDb25maWc6IEZpZWxkTWF0Y2hTY29yZUNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1bmlzaFdyb25nSURBbmROYW1lOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLmluZGV4T2YoXCJLUFJQQ19GSUVMRF9ERUZBVUxUX05BTUVfQU5EX0lEX0VNUFRZXCIpID49IDBcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEZpbGxlZE90aGVyID0gdGhpcy5maWxsTWFueUZvcm1GaWVsZHMoXG4gICAgICAgICAgICAgICAgICAgICAgICBvdGhlckZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4uZmllbGRzLmZpbHRlcihmID0+IGYudHlwZSAhPT0gXCJwYXNzd29yZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVDb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEZpbGxlZFBhc3N3b3JkcyA9IHRoaXMuZmlsbE1hbnlGb3JtRmllbGRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRGaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luLmZpZWxkcy5maWx0ZXIoZiA9PiBmLnR5cGUgPT09IFwicGFzc3dvcmRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b21hdGVkXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmZvcm1SZWFkeUZvclN1Ym1pdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0Lmxhc3RGaWxsZWRQYXNzd29yZHMgPSBsYXN0RmlsbGVkUGFzc3dvcmRzO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5sYXN0RmlsbGVkT3RoZXIgPSBsYXN0RmlsbGVkT3RoZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0RmlsbGVkUGFzc3dvcmRzICYmIGxhc3RGaWxsZWRQYXNzd29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0VGFyZ2V0TmVpZ2hib3VyID0gbGFzdEZpbGxlZFBhc3N3b3Jkc1swXS5ET01lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RGaWxsZWRPdGhlciAmJiBsYXN0RmlsbGVkT3RoZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0VGFyZ2V0TmVpZ2hib3VyID0gbGFzdEZpbGxlZE90aGVyWzBdLkRPTWVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtU2F2aW5nLnVwZGF0ZU1hdGNoUmVzdWx0KG1hdGNoUmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBvbmx5IGRvIHRoaXMgaWYgYW55IGZvcm1zIHdlcmUgYXV0by1maWxsZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICAgIGlmIChtYXRjaFJlc3VsdC5mb3JtUmVhZHlGb3JTdWJtaXQpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGRpZG4ndCBhbHJlYWR5IGRlZmluZSBhIHV1aWQsIHdlIHNldCBpdCB1cCBub3dcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgPT0gXCJcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTeW5jaW5nIFVVSUQgdG86IFwiICsgbWF0Y2hpbmdMb2dpbi51dWlkKTtcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEID0gbWF0Y2hpbmdMb2dpbi51dWlkO1xuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmRiRmlsZU5hbWUgPSBtYXRjaGluZ0xvZ2luLmRhdGFiYXNlLmZpbGVOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhpcyBmb3JtIGZpbGwgaXMgdGhlIG5vbi1maW5hbCBwYWdlIG9mIGEgbXVsdGktcGFnZSBsb2dpbiBwcm9jZXNzIHdlIHJlY29yZCB0aGVcbiAgICAgICAgLy8gVVVJRCBhbmQgZGJGaWxlbmFtZS4gV2UgYWxzbyBlbmFibGUgYXV0by1zdWJtaXQgaW4gc29tZSBjaXJjdW1zdGFuY2VzXG4gICAgICAgIC8vVE9ETzo0OiAjNjogbXVsdGktcGFnZVxuICAgICAgICAvLyBpZiAobWF0Y2hSZXN1bHQuVVVJRCAhPSB1bmRlZmluZWQgJiYgbWF0Y2hSZXN1bHQuVVVJRCAhPSBudWxsICYmIG1hdGNoUmVzdWx0LlVVSUQgIT0gXCJcIilcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgaWYgKHRhYlN0YXRlLmN1cnJlbnRQYWdlID4gMCAmJiB0YWJTdGF0ZS5jdXJyZW50UGFnZSA8IHRhYlN0YXRlLm1heGltdW1QYWdlKVxuICAgICAgICAvLyAgICAge1xuICAgICAgICAvLyAgICAgICAgIGlmIChtYXRjaFJlc3VsdC5VVUlEKVxuICAgICAgICAvLyAgICAgICAgIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTZXR0aW5nIFVVSUQgdG86IFwiICsgbWF0Y2hSZXN1bHQuVVVJRCk7XG4gICAgICAgIC8vICAgICAgICAgICAgIHRhYlN0YXRlLlVVSUQgPSBtYXRjaFJlc3VsdC5VVUlEO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICBpZiAobWF0Y2hSZXN1bHQuZGJGaWxlTmFtZSlcbiAgICAgICAgLy8gICAgICAgICB7XG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBkYkZpbGVOYW1lIHRvOiBcIiArIG1hdGNoUmVzdWx0LmRiRmlsZU5hbWUpO1xuICAgICAgICAvLyAgICAgICAgICAgICB0YWJTdGF0ZS5kYkZpbGVOYW1lID0gbWF0Y2hSZXN1bHQuZGJGaWxlTmFtZTtcbiAgICAgICAgLy8gICAgICAgICB9XG5cbiAgICAgICAgLy8gICAgICAgICAvLyBXZSBmb3JjZSBhdXRvIHN1Ym1pdCBmb3IgYWxsIG11bHRpLXBhZ2UgZW50cmllcyB0aGF0IGhhdmUgYmVlbiB0cmlnZ2VyZWRcbiAgICAgICAgLy8gICAgICAgICAvLyBieSBhIG9uZS1jbGljayBvciBtYXRjaGVkIGxvZ2luIHVzZXIgc2VsZWN0aW9uLCBwcm92aWRlZCB0aGF0IG9wZXJhdGlvblxuICAgICAgICAvLyAgICAgICAgIC8vIGhhcyBub3QgYWxyZWFkeSBiZWVuIG1hcmtlZCBjb21wbGV0ZSBieSB0aGUgb25Gb3JtU3VibWl0SGFuZGxlciBpbiBmb3Jtc1NhdmVUYWIuanNcbiAgICAgICAgLy8gICAgICAgICBpZiAodGFiU3RhdGUudXNlclJlY2VudGx5RGVtYW5kZWRBdXRvU3VibWl0KVxuICAgICAgICAvLyAgICAgICAgIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGFiU3RhdGUuZm9yY2VBdXRvU3VibWl0ID0gdHJ1ZTtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTZXQgZm9yY2VBdXRvU3VibWl0IHRvOiB0cnVlXCIpO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFtYXRjaFJlc3VsdC5jYW5ub3RBdXRvU3VibWl0Rm9ybSAmJlxuICAgICAgICAgICAgKGFjdGlvbi5zdWJtaXQgfHwgbWF0Y2hSZXN1bHQubXVzdEF1dG9TdWJtaXRGb3JtKSAmJlxuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZm9ybVJlYWR5Rm9yU3VibWl0XG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIkF1dG8tc3VibWl0dGluZyBmb3JtLi4uXCIpO1xuICAgICAgICAgICAgdGhpcy5zdWJtaXRGb3JtKGZvcm0sIHN1Ym1pdFRhcmdldE5laWdoYm91cik7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaGVkTG9naW5SZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk1hdGNoZWQgZW50cnkgcmVxdWVzdCBpcyBub3QgYmVpbmcgYXV0by1zdWJtaXR0ZWQuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMubWF0Y2hSZXN1bHQuYWxsTWF0Y2hpbmdMb2dpbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChhdXRvbWF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJBdXRvbWF0aWMgZm9ybSBmaWxsIGNvbXBsZXRlLlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk1hbnVhbCBmb3JtIGZpbGwgY29tcGxldGUuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIk5vdGhpbmcgdG8gZmlsbC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzb3J0TWF0Y2hlZEVudHJpZXMoZW50cmllczogRW50cnlbXSk6IEVudHJ5W10ge1xuICAgICAgICByZXR1cm4gZW50cmllc1xuICAgICAgICAgICAgLm1hcChlID0+IG5ldyBFbnRyeSh7IC4uLmUgfSkpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5yZWxldmFuY2VTY29yZSAtIGEucmVsZXZhbmNlU2NvcmUpO1xuICAgIH1cblxuICAgIGZsYWdVc2VyUHJlZmVycmVkRW50cnkob3JkZXJlZEVudHJpZXM6IEVudHJ5W10pOiBFbnRyeVtdIHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cuZG9jdW1lbnQuVVJMKTtcbiAgICAgICAgdXJsLmhvc3RuYW1lID0gcHVueWNvZGUudG9Vbmljb2RlKHVybC5ob3N0bmFtZSk7XG4gICAgICAgIGNvbnN0IGNvbmYgPSBjb25maWdNYW5hZ2VyLnNpdGVDb25maWdGb3IodXJsLmhyZWYpO1xuICAgICAgICByZXR1cm4gb3JkZXJlZEVudHJpZXMubWFwKFxuICAgICAgICAgICAgZSA9PlxuICAgICAgICAgICAgICAgIG5ldyBFbnRyeSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgICAgICAgICAgIGlzUHJlZmVycmVkTWF0Y2g6IGNvbmYucHJlZmVycmVkRW50cnlVdWlkID09PSBlLnV1aWQgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmluZFN1Ym1pdEJ1dHRvbihmb3JtOiBIVE1MRm9ybUVsZW1lbnQsIHN1Ym1pdFRhcmdldE5laWdoYm91cjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlczogU3VibWl0Q2FuZGlkYXRlW10gPSBbXTtcbiAgICAgICAgY29uc3QgRElTVEFOQ0VfTUFYX1NDT1JFID0gMTAwO1xuICAgICAgICBjb25zdCBESVNUQU5DRV9ESUZGRVJFTkNFX0ZBQ1RPUiA9IDIwO1xuICAgICAgICBjb25zdCBWSVNJQkxFX1NDT1JFID0gNjA7XG4gICAgICAgIGNvbnN0IENBVF9CVVRUT05JTkZPUk1fU0NPUkUgPSA2MDtcbiAgICAgICAgY29uc3QgQ0FUX1NVQk1JVElOUFVUSU5GT1JNX1NDT1JFID0gNTA7XG4gICAgICAgIGNvbnN0IENBVF9CVVRUT05PVVRTSURFRk9STV9TQ09SRSA9IDQwO1xuICAgICAgICBjb25zdCBDQVRfSU1BR0VJTlBVVElORk9STV9TQ09SRSA9IDQwO1xuICAgICAgICBjb25zdCBDQVRfQlVUVE9OSU5QVVRJTkZPUk1fU0NPUkUgPSAzMDtcbiAgICAgICAgY29uc3QgQ0FUX0JVVFRPTlJPTEVJTkZPUk1fU0NPUkUgPSAyMDtcbiAgICAgICAgY29uc3QgQ0FUX0JVVFRPTlJPTEVPVVRTSURFRk9STV9TQ09SRSA9IDEwO1xuICAgICAgICBsZXQgbWluU2NvcmVUb1dpbiA9IDA7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlQ2FsYyA9ICh2LCB0KSA9PiB0aGlzLmNvbW1vbkFuY2VzdG9yRGlzdGFuY2UodiwgdCwgZGlzdGFuY2VNYXApO1xuICAgICAgICBjb25zdCBkaXN0YW5jZU1hcCA9IG5ldyBNYXA8Tm9kZSwgbnVtYmVyPigpO1xuICAgICAgICBjb25zdCBmVXRpbHMgPSB0aGlzLmZvcm1VdGlscztcblxuICAgICAgICBmdW5jdGlvbiB2ZXJpZnlQb3RlbnRpYWxDYW5kaWRhdGUodmFsdWU6IEhUTUxFbGVtZW50LCBzY29yZTogbnVtYmVyKSB7XG4gICAgICAgICAgICAvLyBhYm9ydCBlYXJseSBpZiB3ZSBjYW4ndCB3aW4gZXZlbiB3aXRoIGEgcGVyZmVjdCB2aXNpYmlsaXR5IGFuZCBkaXN0YW5jZSBzY29yZVxuICAgICAgICAgICAgaWYgKG1pblNjb3JlVG9XaW4gPiBzY29yZSArIFZJU0lCTEVfU0NPUkUgKyBESVNUQU5DRV9NQVhfU0NPUkUpIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgaXNWaXNpYmxlID0gZlV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUodmFsdWUpO1xuXG4gICAgICAgICAgICAvLyBTb21lIGZvcm1zIGFyZSBoaWRkZW4gKGUuZy4gVHdpdHRlcikgYW5kIHNpbXBseSByZXZlYWxlZCB0byB0aGUgdXNlciBhdCBhIGxhdGVyIHRpbWVcbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3ZSBzaG91bGQgb25seSBwdW5pc2ggYmFzZWQgb24gdmlzaWJpbGl0eSBpZiB0aGUgZm9ybSBzdWJtaXRUYXJnZXROZWlnaGJvdXIgaXMgdmlzaWJsZS5cbiAgICAgICAgICAgIGlmIChpc1Zpc2libGUgfHwgIWZVdGlscy5pc0RPTUVsZW1lbnRWaXNpYmxlKHN1Ym1pdFRhcmdldE5laWdoYm91cikpIHtcbiAgICAgICAgICAgICAgICBzY29yZSArPSBWSVNJQkxFX1NDT1JFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhYm9ydCBlYXJseSBpZiB3ZSBjYW4ndCB3aW4gZXZlbiB3aXRoIGEgcGVyZmVjdCB2aXNpYmlsaXR5IGFuZCBkaXN0YW5jZSBzY29yZVxuICAgICAgICAgICAgaWYgKG1pblNjb3JlVG9XaW4gPiBzY29yZSArIERJU1RBTkNFX01BWF9TQ09SRSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZUNhbGModmFsdWUsIHN1Ym1pdFRhcmdldE5laWdoYm91ciksXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdmFsdWUsXG4gICAgICAgICAgICAgICAgc2NvcmU6IHNjb3JlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbWluU2NvcmVUb1dpbiA9IHNjb3JlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUFyaWFMYWJlbFZhbHVlcyhlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxzID0gW107XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxzLnB1c2goZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIilcbiAgICAgICAgICAgICAgICA/LnRyaW0oKVxuICAgICAgICAgICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZm9ybS5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbEVsZW1lbnQgJiYgbGFiZWxFbGVtZW50LmlubmVyVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVscy5wdXNoKGxhYmVsRWxlbWVudC5pbm5lclRleHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGxhYmVscztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICAgICBJbiBGaXJlZm94IEFycmF5LmZyb20uLi5mb3JlYWNoIGlzIGFib3V0IDUwJSBmYXN0ZXIgdGhhbiB0aGUgYWx0ZXJuYXRpdmUgaW4gdGhpcyBjb21tZW50IGJlbG93Li4uIGJ1dCAyMCUgc2xvd2VyIGluIENocm9tZS5cbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBmb3JtLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJidXR0b25cIik7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8YnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYnV0dG9uc1tpXTtcbiAgICAgICAgICAgICAgICAuLi5cbiAgICAgICAgICAgICovXG4gICAgICAgIEFycmF5LmZyb20oZm9ybS5vd25lckRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYnV0dG9uXCIpKS5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmICghdmFsdWUuaXNDb25uZWN0ZWQpIHJldHVybjtcbiAgICAgICAgICAgIGlmICghdmFsdWUudHlwZSB8fCB2YWx1ZS50eXBlICE9IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbWFudGljVmFsdWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5uYW1lKSBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnRleHRDb250ZW50KSBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZSkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS52YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcy5wdXNoKC4uLnJlc29sdmVBcmlhTGFiZWxWYWx1ZXModmFsdWUpKTtcblxuICAgICAgICAgICAgICAgIGxldCBzY29yZSA9IHRoaXMuc2NvcmVBZGp1c3RtZW50Rm9yTWFnaWNXb3JkcyhcbiAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgIDUwLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljV2hpdGVsaXN0Q2FjaGUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNCbGFja2xpc3RDYWNoZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgc2NvcmUgKz1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuZm9ybSAmJiB2YWx1ZS5mb3JtID09IGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgID8gQ0FUX0JVVFRPTklORk9STV9TQ09SRVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBDQVRfQlVUVE9OT1VUU0lERUZPUk1fU0NPUkU7XG5cbiAgICAgICAgICAgICAgICB2ZXJpZnlQb3RlbnRpYWxDYW5kaWRhdGUodmFsdWUsIHNjb3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgQXJyYXkuZnJvbShmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIikpLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZS5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBzZW1hbnRpY1Njb3JlID0gMDtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09IFwic3VibWl0XCIgfHwgdmFsdWUudHlwZSA9PSBcImJ1dHRvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1Njb3JlICs9IHRoaXMuc2NvcmVBZGp1c3RtZW50Rm9yTWFnaWNXb3JkcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljV2hpdGVsaXN0Q2FjaGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTmFtZXMgYXJlIG1vcmUgaW1wb3J0YW50IGJ1dCBzb21ldGltZXMgdGhleSBkb24ndCBleGlzdCBvciBhcmUgcmFuZG9tXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIGNoZWNrIHdoYXQgaXMgYWN0dWFsbHkgZGlzcGxheWVkIHRvIHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbWFudGljVmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS52YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcy5wdXNoKC4uLnJlc29sdmVBcmlhTGFiZWxWYWx1ZXModmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbWFudGljVmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljU2NvcmUgKz0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljU2NvcmUgKz0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZS5pZC50b0xvd2VyQ2FzZSgpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljV2hpdGVsaXN0Q2FjaGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT0gXCJzdWJtaXRcIiB8fCB2YWx1ZS50eXBlID09IFwiYnV0dG9uXCIgfHwgdmFsdWUudHlwZSA9PSBcImltYWdlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gc2VtYW50aWNTY29yZTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcmUgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnR5cGUgPT0gXCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gQ0FUX0JVVFRPTklOUFVUSU5GT1JNX1NDT1JFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB2YWx1ZS50eXBlID09IFwiaW1hZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gQ0FUX0lNQUdFSU5QVVRJTkZPUk1fU0NPUkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENBVF9TVUJNSVRJTlBVVElORk9STV9TQ09SRTtcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UG90ZW50aWFsQ2FuZGlkYXRlKHZhbHVlLCBzY29yZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBBcnJheS5mcm9tKGZvcm0ub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW3JvbGU9YnV0dG9uXTpub3QoYnV0dG9uKVwiKSkuZm9yRWFjaChcbiAgICAgICAgICAgICh2YWx1ZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZS5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbWFudGljVmFsdWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgLy8gdGVjaG5pY2FsXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLm5hbWUpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaWQpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUuaWQudG9Mb3dlckNhc2UoKSk7XG5cbiAgICAgICAgICAgICAgICAvLyB1c2VyIHZpc2libGVcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudGl0bGUpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUudGl0bGUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmlubmVyVGV4dCkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS5pbm5lclRleHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmRhdGFTZXQgJiYgdmFsdWUuZGF0YVNldC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5kYXRhU2V0LnRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUuZGF0YVNldC50b29sdGlwLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLnB1c2goLi4ucmVzb2x2ZUFyaWFMYWJlbFZhbHVlcyh2YWx1ZSkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgNTAsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzY29yZSArPVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5mb3JtICYmIHZhbHVlLmZvcm0gPT0gZm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBDQVRfQlVUVE9OUk9MRUlORk9STV9TQ09SRVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBDQVRfQlVUVE9OUk9MRU9VVFNJREVGT1JNX1NDT1JFO1xuICAgICAgICAgICAgICAgIHZlcmlmeVBvdGVudGlhbENhbmRpZGF0ZSh2YWx1ZSwgc2NvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA8PSAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gY2FuZGlkYXRlc1swXS5lbGVtZW50O1xuXG4gICAgICAgIGNvbnN0IHN1Ym1pdEVsZW1lbnRzID0gY2FuZGlkYXRlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5kaXN0YW5jZSA+IGIuZGlzdGFuY2UpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhLmRpc3RhbmNlIDwgYi5kaXN0YW5jZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbWF4RGlzdGFuY2VEaWZmZXJlbmNlID1cbiAgICAgICAgICAgIHN1Ym1pdEVsZW1lbnRzWzBdLmRpc3RhbmNlIC0gc3VibWl0RWxlbWVudHNbc3VibWl0RWxlbWVudHMubGVuZ3RoIC0gMV0uZGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlU2NvcmUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIERJU1RBTkNFX01BWF9TQ09SRSxcbiAgICAgICAgICAgIERJU1RBTkNFX0RJRkZFUkVOQ0VfRkFDVE9SICogbWF4RGlzdGFuY2VEaWZmZXJlbmNlXG4gICAgICAgICk7XG4gICAgICAgIGxldCBkaXN0YW5jZUZhY3RvciA9IDEgLyBzdWJtaXRFbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIGxldCBsYXN0RGlzdGFuY2UgPSBzdWJtaXRFbGVtZW50c1swXS5kaXN0YW5jZTtcbiAgICAgICAgc3VibWl0RWxlbWVudHMuZm9yRWFjaCgoY2FuZGlkYXRlLCBpbmRleCwgZWxlbWVudHMpID0+IHtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuZGlzdGFuY2UgPCBsYXN0RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZUZhY3RvciA9IChpbmRleCArIDEpIC8gZWxlbWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxhc3REaXN0YW5jZSA9IGNhbmRpZGF0ZS5kaXN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbmRpZGF0ZS5zY29yZSArPSBkaXN0YW5jZUZhY3RvciAqIGRpc3RhbmNlU2NvcmU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vVE9ETzo0OiBtb3JlIGFjY3VyYXRlIHNlYXJjaGluZyBvZiBzdWJtaXQgYnV0dG9ucywgZXRjLiB0byBhdm9pZCBwYXNzd29yZCByZXNldHMgaWYgcG9zc2libGVcbiAgICAgICAgLy8gbWF5YmUgc3BlY2lhbCBjYXNlcyBmb3IgY29tbW9uIEhUTUwgb3V0cHV0IHBhdHRlcm5zIChlLmcuIGphdmFzY3JpcHQtb25seSBBU1AuTkVUIGZvcm1zKVxuXG4gICAgICAgIGxldCBtYXhTY29yZSA9IHN1Ym1pdEVsZW1lbnRzWzBdLnNjb3JlO1xuICAgICAgICBsZXQgbWF4U2NvcmVFbGVtZW50ID0gc3VibWl0RWxlbWVudHNbMF0uZWxlbWVudDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzdWJtaXRFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHN1Ym1pdEVsZW1lbnRzW2ldLnNjb3JlID4gbWF4U2NvcmUpIHtcbiAgICAgICAgICAgICAgICBtYXhTY29yZSA9IHN1Ym1pdEVsZW1lbnRzW2ldLnNjb3JlO1xuICAgICAgICAgICAgICAgIG1heFNjb3JlRWxlbWVudCA9IHN1Ym1pdEVsZW1lbnRzW2ldLmVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heFNjb3JlRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNjb3JlQWRqdXN0bWVudEZvck1hZ2ljV29yZHMoXG4gICAgICAgIHNlbWFudGljVmFsdWVzOiBzdHJpbmdbXSxcbiAgICAgICAgZmFjdG9yOiBudW1iZXIsXG4gICAgICAgIHNlbWFudGljV2hpdGVsaXN0Q2FjaGUsXG4gICAgICAgIHNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICApIHtcbiAgICAgICAgLy9UT0RPOjQ6IG90aGVyIGxhbmd1YWdlc1xuICAgICAgICBjb25zdCBnb29kV29yZHMgPSBbXG4gICAgICAgICAgICBcInN1Ym1pdFwiLFxuICAgICAgICAgICAgXCJsb2dpblwiLFxuICAgICAgICAgICAgXCJlbnRlclwiLFxuICAgICAgICAgICAgXCJsb2cgaW5cIixcbiAgICAgICAgICAgIFwic2lnbmluXCIsXG4gICAgICAgICAgICBcInNpZ24gaW5cIixcbiAgICAgICAgICAgIFwibmV4dFwiLFxuICAgICAgICAgICAgXCJjb250aW51ZVwiXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGJhZFdvcmRzID0gW1xuICAgICAgICAgICAgXCJyZXNldFwiLFxuICAgICAgICAgICAgXCJjYW5jZWxcIixcbiAgICAgICAgICAgIFwiYmFja1wiLFxuICAgICAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICAgICAgXCJ1bmRvXCIsXG4gICAgICAgICAgICBcImV4aXRcIixcbiAgICAgICAgICAgIFwiZW1wdHlcIixcbiAgICAgICAgICAgIFwiY2xlYXJcIixcbiAgICAgICAgICAgIFwiY2FwdGNoYVwiLFxuICAgICAgICAgICAgXCJ0b3RwXCIsXG4gICAgICAgICAgICBcImZvcmdvdFwiLFxuICAgICAgICAgICAgXCJkaXNtaXNzXCIsXG4gICAgICAgICAgICBcImRlbGV0ZVwiLFxuICAgICAgICAgICAgXCJzaG93XCIsXG4gICAgICAgICAgICBcInJldmVhbFwiXG4gICAgICAgIF07XG4gICAgICAgIGxldCBnb29kU2NvcmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IGJhZFNjb3JlID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZW1hbnRpY1ZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGdvb2RTY29yZSkgYnJlYWs7XG4gICAgICAgICAgICBpZiAoIXNlbWFudGljVmFsdWVzW2ldKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHNlbWFudGljVmFsdWUgPSBzZW1hbnRpY1ZhbHVlc1tpXS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIXNlbWFudGljVmFsdWUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoc2VtYW50aWNXaGl0ZWxpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGdvb2RTY29yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VtYW50aWNXaGl0ZWxpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ29vZFdvcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbWFudGljVmFsdWUuaW5kZXhPZihnb29kV29yZHNbal0pID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZFNjb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNXaGl0ZWxpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljV2hpdGVsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZW1hbnRpY1ZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGJhZFNjb3JlKSBicmVhaztcbiAgICAgICAgICAgIGlmICghc2VtYW50aWNWYWx1ZXNbaV0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZSA9IHNlbWFudGljVmFsdWVzW2ldLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghc2VtYW50aWNWYWx1ZSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChzZW1hbnRpY0JsYWNrbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYmFkU2NvcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbWFudGljQmxhY2tsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJhZFdvcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbWFudGljVmFsdWUuaW5kZXhPZihiYWRXb3Jkc1tqXSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYWRTY29yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljQmxhY2tsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY0JsYWNrbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdvb2RTY29yZSAmJiBiYWRTY29yZSkgcmV0dXJuIDA7XG4gICAgICAgIGlmIChiYWRTY29yZSkgcmV0dXJuIC0xICogZmFjdG9yO1xuICAgICAgICBpZiAoZ29vZFNjb3JlKSByZXR1cm4gZmFjdG9yO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbW1vbkFuY2VzdG9yRGlzdGFuY2Uobm9kZUE6IE5vZGUsIG5vZGVCOiBOb2RlLCBkaXN0YW5jZU1hcDogTWFwPE5vZGUsIG51bWJlcj4pIHtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gMTtcbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBlbmRpbmdNYXA6IEFycmF5PE5vZGU+ID0gW107XG4gICAgICAgIGxldCBwZW5kaW5nTWFwU3RhcnREaXN0YW5jZSA9IDA7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmQtYXNzaWduXG4gICAgICAgIHdoaWxlICgobm9kZUEgPSBub2RlQS5wYXJlbnRFbGVtZW50KSkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVkTm9kZURpc3RhbmNlID0gZGlzdGFuY2VNYXAuZ2V0KG5vZGVBKTtcblxuICAgICAgICAgICAgLy8gSWYgd2UgYWxyZWFkeSBrbm93IGhvdyBmYXIgdGhlIHBhcmVudCBpcyB3ZSBjYW4gcmV0dXJuIGVhcmx5IGJ1dCB3ZSBtYXkgaGF2ZSBsZWFybnQgYWJvdXQgbW9yZSBub2RlcyBvbiBvdXIgd2F5XG4gICAgICAgICAgICBpZiAoY2FjaGVkTm9kZURpc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSArPSBjYWNoZWROb2RlRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgcGVuZGluZ01hcFN0YXJ0RGlzdGFuY2UgPSBjYWNoZWROb2RlRGlzdGFuY2UgKyAxO1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gd2Uga25vdyB3ZSBkb24ndCBrbm93IGhvdyBmYXIgdGhpcyBub2RlIGlzIHNvIGxldHMgaW1wbGljaXRseSBzdG9yZSBob3cgZmFyIHdlIGhhdmUgZ290IHNvIGZhclxuICAgICAgICAgICAgcGVuZGluZ01hcC5wdXNoKG5vZGVBKTtcblxuICAgICAgICAgICAgaWYgKG5vZGVBLmNvbnRhaW5zKG5vZGVCKSkge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3RhbmNlKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIC8vIGVhY2ggbm9kZSB0aGF0IHdlIGNhbWUgYWNyb3NzIG9uIG91ciBqb3VybmV5IGNhbiBiZSBhc3NpZ25lZCBhIHZhbHVlIG9mIGhvdyBmYXIgaXQgaXMgZnJvbSB0aGUgY29tbW9uIHBhcmVudFxuICAgICAgICAgICAgaWYgKHBlbmRpbmdNYXAubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwZW5kaW5nTWFwU3RhcnREaXN0YW5jZTsgaSA8IGRpc3RhbmNlICYmIHBlbmRpbmdNYXAubGVuZ3RoID4gMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBwZW5kaW5nTWFwLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZU1hcC5zZXQobm9kZSwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRpc3RhbmNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGlzY29ubmVjdGVkIG5vZGUgKEkgZ3Vlc3MgLSBwcm9iYWJseSB3b24ndCBldmVyIGhhcHBlbilcbiAgICAgICAgICAgIHJldHVybiA5MDA3MTk5MjU0NzQwOTkxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3VibWl0IGEgZm9ybVxuICAgIHByaXZhdGUgc3VibWl0Rm9ybShmb3JtOiBIVE1MRm9ybUVsZW1lbnQsIHN1Ym1pdFRhcmdldE5laWdoYm91cjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc3VibWl0RWxlbWVudCA9IHRoaXMuZmluZFN1Ym1pdEJ1dHRvbihmb3JtLCBzdWJtaXRUYXJnZXROZWlnaGJvdXIpO1xuXG4gICAgICAgIC8vIEF2b2lkIHNlYXJjaGluZyBmb3IgbWF0Y2hpbmcgcGFzc3dvcmRzIHVwb24gYXV0by1zdWJtaXNzaW9uXG4gICAgICAgIHRoaXMuZm9ybVNhdmluZy5yZW1vdmVBbGxTdWJtaXRIYW5kbGVycygpO1xuXG4gICAgICAgIC8vIElmIHdlJ3ZlIGZvdW5kIGEgYnV0dG9uIHRvIGNsaWNrLCB1c2UgdGhhdDsgaWYgbm90LCBqdXN0IHN1Ym1pdCB0aGUgZm9ybS5cbiAgICAgICAgaWYgKHN1Ym1pdEVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgXCJTdWJtaXRpbmcgdXNpbmcgZWxlbWVudDogXCIgKyAoc3VibWl0RWxlbWVudCBhcyBhbnkpLm5hbWUgKyBcIjogXCIgKyBzdWJtaXRFbGVtZW50LmlkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc3VibWl0RWxlbWVudC5jbGljaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTdWJtaXRpbmcgdXNpbmcgZm9ybVwiKTtcbiAgICAgICAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL1RPRE86NDogbWF5YmUgc29tZXRoaW5nIGxpa2UgdGhpcyBtaWdodCBiZSB1c2VmdWw/IER1bm5vIHdoeSBhIGNsaWNrKClcbiAgICAgICAgLy8gYWJvdmUgd291bGRuJ3QgYmUgc3VmZmljaWVudCBidXQgbWF5YmUgc29tZSBjdXN0b20gZXZlbnQgcmFpc2luZyBtaWdodCBiZSBoYW5keS4uLlxuICAgICAgICAvKlxuICAgICAgICBmdW5jdGlvbiBzaW11bGF0ZUNsaWNrKCkge1xuICAgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtcbiAgICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwgdHJ1ZSwgdHJ1ZSwgd2luZG93LFxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgICB2YXIgY2IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoZWNrYm94XCIpO1xuICAgICAgICB2YXIgY2FuY2VsZWQgPSAhY2IuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgICBpZihjYW5jZWxlZCkge1xuICAgICAgICAgICAgLy8gQSBoYW5kbGVyIGNhbGxlZCBwcmV2ZW50RGVmYXVsdFxuICAgICAgICAgICAgYWxlcnQoXCJjYW5jZWxlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vbmUgb2YgdGhlIGhhbmRsZXJzIGNhbGxlZCBwcmV2ZW50RGVmYXVsdFxuICAgICAgICAgICAgYWxlcnQoXCJub3QgY2FuY2VsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmVsZXZhbmNlU2NvcmUoXG4gICAgICAgIGVudHJ5OiBFbnRyeSxcbiAgICAgICAgcGFzc3dvcmRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdLFxuICAgICAgICBvdGhlckZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIGN1cnJlbnRQYWdlOiBudW1iZXIsXG4gICAgICAgIGZvcm1WaXNpYmxlOiBib29sZWFuLFxuICAgICAgICBzY29yZUNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICB2aXNpYmxlRmllbGRDYWNoZTogVmlzaWJsZUZpZWxkQ2FjaGVcbiAgICApIHtcbiAgICAgICAgbGV0IHNjb3JlID0gMDtcbiAgICAgICAgbGV0IGxvd0ZpZWxkTWF0Y2hSYXRpbyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEtlZSAzLjQrIG5vIGxvbmdlciBjb25zaWRlcnMgcHJpb3JpdHkgb3ZlcnJpZGVzIGJlY2F1c2UgdGhleSB3ZXJlXG4gICAgICAgIC8vIGNvbXBsaWNhdGVkIGFuZCB1bnJlbGlhYmxlIGV2ZW4gd2hlbiBmdWxseSB1bmRlcnN0b29kLlxuXG4gICAgICAgIC8vIEtlZSAxLjUrIG5vIGxvbmdlciBjb25zaWRlcnMgYWN0aW9uIFVSTHMgaW4gcmVsZXZhbmNlIHdlaWdodGluZy4gU2luY2UgdGhlIG9ubHlcbiAgICAgICAgLy8gZW50cnkgZW50cmllcyBvZiBpbnRlcmVzdCBhcmUgYWxyZWFkeSBwcmUtbWF0Y2hlZCBieSBLZWVQYXNzLCB0aGlzIHNob3VsZCBoYXZlIGJlZW5cbiAgICAgICAgLy8gYWRkaW5nIG5lZ2xpZ2FibGUgYWNjdXJhY3kgdG8gdGhlIGZvcm0gbWF0Y2hpbmcuXG5cbiAgICAgICAgc2NvcmUgKz0gZW50cnkubWF0Y2hBY2N1cmFjeTtcblxuICAgICAgICAvLyBQdW5pc2ggYnV0IGRvbid0IGVudGlyZWx5IGV4Y2x1ZGUgbWF0Y2hlcyBhZ2FpbnN0IGludmlzaWJsZSBmb3Jtc1xuICAgICAgICAvLyBUaGlzIGlzIGluIGFkZGl0aW9uIHRvIHRoZSBtYXhpbXVtIHNjb3JlIG9mIGludmlzaWJsZSBmaWVsZHMgYmVpbmcgbGltaXRlZFxuICAgICAgICAvLyBzbyB0aGF0IGZvcm1zIHdpdGggc29tZSB2aXNpYmxlIGZpZWxkcyBidXQgaW52aXNpYmxlIHVzZXJuYW1lL3Bhc3N3b3JkXG4gICAgICAgIC8vIGZpZWxkcyAob3Igb3VyIGJlc3QgZ3Vlc3MgYXQgdGhlbSBhbnl3YXkpIGFyZSBjb25zaWRlcmVkIGEgbGVzcyBsaWtlbHkgbWF0Y2hcbiAgICAgICAgaWYgKCFmb3JtVmlzaWJsZSkgc2NvcmUgLT0gMjA7XG5cbiAgICAgICAgLy8gVGhpcyBpcyBzaW1pbGFyIHRvIF9maWxsTWFueUZvcm1GaWVsZHMgc28gbWlnaHQgYmUgYWJsZSB0byByZXVzZSB0aGUgcmVzdWx0cyBpbiBmdXR1cmVcbiAgICAgICAgLy8gKGJ1dCBuZWVkIHRvIHdhdGNoIGZvciBjaGFuZ2VzIHRoYXQgaW52YWxpZGF0ZSB0aGUgZWFybGllciBjYWxjdWxhdGlvbnMpLlxuXG4gICAgICAgIC8vIFJlcXVpcmUgYXQgbGVhc3QgYSB0eXBlIG1hdGNoIGZvciAyLWZpZWxkIGZvcm1zIChlLmcuIHVzZXIvcGFzcyk7IDEgbWlzc2luZ1xuICAgICAgICAvLyBtYXRjaCBmb3IgMyBvciA0IGZpZWxkIGZvcm1zOyBldGMuXG4gICAgICAgIGNvbnN0IG1pbk1hdGNoZWRGaWVsZENvdW50UmF0aW8gPSAwLjUwMTtcblxuICAgICAgICBjb25zdCBbb3RoZXJSZWxldmFuY2VTY29yZSwgb3RoZXJGaWVsZE1hdGNoU3VjY2Vzc2VzXSA9IHRoaXMuZGV0ZXJtaW5lUmVsZXZhbmNlU2NvcmVzKFxuICAgICAgICAgICAgXCJvdGhlclwiLFxuICAgICAgICAgICAgb3RoZXJGaWVsZHMsXG4gICAgICAgICAgICBlbnRyeS5maWVsZHMuZmlsdGVyKGYgPT4gZi50eXBlICE9PSBcInBhc3N3b3JkXCIpLFxuICAgICAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgICAgICBzY29yZUNvbmZpZyxcbiAgICAgICAgICAgIHZpc2libGVGaWVsZENhY2hlLm90aGVyXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IFtwYXNzd29yZFJlbGV2YW5jZVNjb3JlLCBwYXNzd29yZEZpZWxkTWF0Y2hTdWNjZXNzZXNdID0gdGhpcy5kZXRlcm1pbmVSZWxldmFuY2VTY29yZXMoXG4gICAgICAgICAgICBcInBhc3N3b3JkXCIsXG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkcyxcbiAgICAgICAgICAgIGVudHJ5LmZpZWxkcy5maWx0ZXIoZiA9PiBmLnR5cGUgPT09IFwicGFzc3dvcmRcIiksXG4gICAgICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgIHNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgdmlzaWJsZUZpZWxkQ2FjaGUucGFzc3dvcmRcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB0b3RhbFJlbGV2YW5jZVNjb3JlID0gb3RoZXJSZWxldmFuY2VTY29yZSArIHBhc3N3b3JkUmVsZXZhbmNlU2NvcmU7XG5cbiAgICAgICAgLy8gT25seSBjb25zaWRlciBmaWVsZHMgdGhhdCBjYW4gZXZlciBtYXRjaCBhYm92ZSB0aGUgbWluaW11bSAoZXNzZW50aWFsbHlcbiAgICAgICAgLy8gaWdub3JlIGVtcHR5IGZvcm0gb3IgZW50cnkgZmllbGRzKS4gV2lsbCB1bmRlcmVzdGltYXRlIG51bWJlciBvZiBmb3JtXG4gICAgICAgIC8vIGZpZWxkcywgcmVzdWx0aW5nIGluIGluY3JlYXNlZCBtYXRjaCByYXRpbyBhbmQgbGVzcyBhY2N1cmF0ZSByZWxldmFuY3lcbiAgICAgICAgLy8gc2NvcmVzIGZvciBmb3JtcyB0aGF0IGNvbnRhaW4gYSB1c2VybmFtZS9wYXNzd29yZCBmaWVsZCB3aXRoIG5vIG5hbWVcbiAgICAgICAgLy8gb3IgaWQgYXR0cmlidXRlcy4gTm8gaWRlYSBpZiB0aGlzIHdpbGwgY2F1c2UgYSBwcm9ibGVtLiBTZWVtcyB0by5cbiAgICAgICAgLy8gTWl0aWdhdGluZyBieSBhZGp1c3RpbmcgbWluIHJlbGV2YW5jeSB2YWx1ZXMsIGV0Yy4gc28gY2FuIHJlbW92ZVxuICAgICAgICAvLyB0aGlzIGNvbW1lbnQgaW4gYSBmZXcgdmVyc2lvbnMgaWYgYWxsIGlzIGdvb2QuXG4gICAgICAgIC8vIHYzLjUgc3RpbGwgbm90IGdvb2QuIEhhdmUgZml4ZWQgYSB2aXNpYmlsaXR5IGJ1Zywgd2hpY2ggZXhhY2VyYmF0ZXNcbiAgICAgICAgLy8gc29tZSBvdGhlciBidWdzLiBXaWxsIHRyeSBpZ25vcmluZyBub24tdGV4dC9wYXNzd29yZCBmaWVsZHMgaW4gcmF0aW9cbiAgICAgICAgLy8gY2FsY3VsYXRpb24gZm9yIGF1dG9maWxsIChjYW4gZXh0ZW5kIHRvIGZvcm0gc2VsZWN0aW9uIGNhbGN1bGF0aW9uIGxhdGVyIGlmIGdvb2QpXG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZENvdW50ID0gcGFzc3dvcmRGaWVsZHNcbiAgICAgICAgICAgIC5jb25jYXQob3RoZXJGaWVsZHMpXG4gICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5maWVsZC5sb2NhdG9yc1swXS5pZCB8fCBmLmZpZWxkLmxvY2F0b3JzWzBdLm5hbWUgfHwgZi5maWVsZC52YWx1ZSlcbiAgICAgICAgICAgIC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxvZ2luRmllbGRDb3VudCA9IGVudHJ5LmZpZWxkcy5maWx0ZXIoXG4gICAgICAgICAgICBmID0+IGYubG9jYXRvcnNbMF0uaWQgfHwgZi5sb2NhdG9yc1swXS5uYW1lIHx8IGYudmFsdWVcbiAgICAgICAgKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGwgPSBwYXNzd29yZEZpZWxkc1xuICAgICAgICAgICAgLmNvbmNhdChvdGhlckZpZWxkcylcbiAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgZiA9PlxuICAgICAgICAgICAgICAgICAgICAoZi5maWVsZC50eXBlID09PSBcInBhc3N3b3JkXCIgfHwgZi5maWVsZC50eXBlID09PSBcInRleHRcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgKGYuZmllbGQubG9jYXRvcnNbMF0uaWQgfHwgZi5maWVsZC5sb2NhdG9yc1swXS5uYW1lKVxuICAgICAgICAgICAgKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxvZ2luRmllbGRDb3VudEZvckF1dG9maWxsID0gZW50cnkuZmllbGRzLmZpbHRlcihcbiAgICAgICAgICAgIGYgPT5cbiAgICAgICAgICAgICAgICAoZi50eXBlID09PSBcInBhc3N3b3JkXCIgfHwgZi50eXBlID09PSBcInRleHRcIikgJiZcbiAgICAgICAgICAgICAgICAoZi5sb2NhdG9yc1swXS5pZCB8fCBmLmxvY2F0b3JzWzBdLm5hbWUgfHwgZi52YWx1ZSlcbiAgICAgICAgKS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgZm9ybU1hdGNoZWRGaWVsZENvdW50Rm9yQXV0b2ZpbGwgPVxuICAgICAgICAgICAgb3RoZXJGaWVsZE1hdGNoU3VjY2Vzc2VzLmZpbHRlcihzID0+IHMgPT09IHRydWUpLmxlbmd0aCArXG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkTWF0Y2hTdWNjZXNzZXMuZmlsdGVyKHMgPT4gcyA9PT0gdHJ1ZSkubGVuZ3RoO1xuXG4gICAgICAgIGNvbnN0IG51bWJlck9mTmV3UGFzc3dvcmRGaWVsZHMgPSBwYXNzd29yZEZpZWxkcy5maWx0ZXIoZiA9PlxuICAgICAgICAgICAgZi5maWVsZC5sb2NhdG9yc1swXS5hdXRvY29tcGxldGVWYWx1ZXM/LnNvbWUodiA9PiB2ID09PSBcIm5ldy1wYXNzd29yZFwiKVxuICAgICAgICApLmxlbmd0aDtcblxuICAgICAgICAvLyBMaW1pdGluZyB0byBudW1iZXIgb2YgZW50cnkgZmllbGRzIHdpbGwgcmVkdWNlIGZhbHNlIHBvc2l0aXZlcyBidXRcbiAgICAgICAgLy9pbmNyZWFzZSBjaGFuY2Ugb2YgYSB2YWxpZCBmb3JtIGJlaW5nIG1pc3NlZC5cbiAgICAgICAgLy8gVG8gaGVscCB3aXRoIHBhc3N3b3JkIGNoYW5naW5nLCB3ZSB0cmVhdCBhbnkga25vd24gXCJuZXcgcGFzc3dvcmRcIiBmaWVsZHMgYXMgYW4gYXV0b21hdGljIG1hdGNoXG4gICAgICAgIGNvbnN0IGZpZWxkTWF0Y2hSYXRpb0ZvckF1dG9maWxsID1cbiAgICAgICAgICAgIE1hdGgubWluKFxuICAgICAgICAgICAgICAgIGxvZ2luRmllbGRDb3VudEZvckF1dG9maWxsICsgbnVtYmVyT2ZOZXdQYXNzd29yZEZpZWxkcyxcbiAgICAgICAgICAgICAgICBmb3JtTWF0Y2hlZEZpZWxkQ291bnRGb3JBdXRvZmlsbFxuICAgICAgICAgICAgKSAvIE1hdGgubWF4KDEsIGZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGwpO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgXCJmb3JtRmllbGRDb3VudDogXCIgK1xuICAgICAgICAgICAgICAgIGZvcm1GaWVsZENvdW50ICtcbiAgICAgICAgICAgICAgICBcIiwgbG9naW5GaWVsZENvdW50OiBcIiArXG4gICAgICAgICAgICAgICAgbG9naW5GaWVsZENvdW50ICtcbiAgICAgICAgICAgICAgICBcIiwgbG9naW5GaWVsZENvdW50Rm9yQXV0b2ZpbGw6IFwiICtcbiAgICAgICAgICAgICAgICBsb2dpbkZpZWxkQ291bnRGb3JBdXRvZmlsbCArXG4gICAgICAgICAgICAgICAgXCIsIGZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGw6IFwiICtcbiAgICAgICAgICAgICAgICBmb3JtRmllbGRDb3VudEZvckF1dG9maWxsICtcbiAgICAgICAgICAgICAgICBcIiwgZm9ybU1hdGNoZWRGaWVsZENvdW50Rm9yQXV0b2ZpbGw6IFwiICtcbiAgICAgICAgICAgICAgICBmb3JtTWF0Y2hlZEZpZWxkQ291bnRGb3JBdXRvZmlsbCArXG4gICAgICAgICAgICAgICAgXCIsIG51bWJlck9mTmV3UGFzc3dvcmRGaWVsZHM6IFwiICtcbiAgICAgICAgICAgICAgICBudW1iZXJPZk5ld1Bhc3N3b3JkRmllbGRzICtcbiAgICAgICAgICAgICAgICBcIiwgZmllbGRNYXRjaFJhdGlvOiBcIiArXG4gICAgICAgICAgICAgICAgZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGwgPCBtaW5NYXRjaGVkRmllbGRDb3VudFJhdGlvKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFxuICAgICAgICAgICAgICAgIGVudHJ5LnV1aWQgK1xuICAgICAgICAgICAgICAgICAgICBcIiB3aWxsIGJlIGZvcmNlZCB0byBub3QgYXV0by1maWxsIGJlY2F1c2UgdGhlIGZvcm0gZmllbGQgbWF0Y2ggcmF0aW8gKFwiICtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGwgK1xuICAgICAgICAgICAgICAgICAgICBcIikgaXMgbm90IGhpZ2ggZW5vdWdoLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG93RmllbGRNYXRjaFJhdGlvID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VGaWVsZFJlbGV2YW5jZSA9XG4gICAgICAgICAgICB0b3RhbFJlbGV2YW5jZVNjb3JlIC8gTWF0aC5tYXgoZm9ybUZpZWxkQ291bnQsIGxvZ2luRmllbGRDb3VudCk7XG4gICAgICAgIGNvbnN0IGFkanVzdGVkUmVsZXZhbmNlID1cbiAgICAgICAgICAgIGF2ZXJhZ2VGaWVsZFJlbGV2YW5jZSAvIChNYXRoLmFicyhmb3JtRmllbGRDb3VudCAtIGxvZ2luRmllbGRDb3VudCkgKyAxKTtcblxuICAgICAgICBzY29yZSArPSBhZGp1c3RlZFJlbGV2YW5jZTtcblxuICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiUmVsZXZhbmNlIGZvciBcIiArIGVudHJ5LnV1aWQgKyBcIiBpczogXCIgKyBzY29yZSk7XG4gICAgICAgIHJldHVybiB7IHNjb3JlOiBzY29yZSwgbG93RmllbGRNYXRjaFJhdGlvOiBsb3dGaWVsZE1hdGNoUmF0aW8gfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRldGVybWluZVJlbGV2YW5jZVNjb3JlcyhcbiAgICAgICAgZGVidWdOYW1lOiBzdHJpbmcsXG4gICAgICAgIG1hdGNoZWRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdLFxuICAgICAgICBlbnRyeUZpZWxkczogRmllbGRbXSxcbiAgICAgICAgY3VycmVudFBhZ2U6IG51bWJlcixcbiAgICAgICAgc2NvcmVDb25maWc6IEZpZWxkTWF0Y2hTY29yZUNvbmZpZyxcbiAgICAgICAgdmlzaWJsZUZpZWxkTWFwOiBib29sZWFuW11cbiAgICApOiBbbnVtYmVyLCBib29sZWFuW11dIHtcbiAgICAgICAgbGV0IHRvdGFsUmVsZXZhbmNlU2NvcmUgPSAwO1xuICAgICAgICBjb25zdCBtaW5GaWVsZFJlbGV2YW5jZSA9IDE7XG4gICAgICAgIGNvbnN0IGZpZWxkTWF0Y2hTdWNjZXNzZXM6IGJvb2xlYW5bXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hlZEZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG1vc3RSZWxldmFudFNjb3JlID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1GaWVsZCA9IG1hdGNoZWRGaWVsZHNbaV0uZmllbGQ7XG5cbiAgICAgICAgICAgIGlmIChmb3JtRmllbGQubG9jYXRvcnNbMF0uYXV0b2NvbXBsZXRlVmFsdWVzPy5zb21lKHYgPT4gdiA9PT0gXCJuZXctcGFzc3dvcmRcIikpIHtcbiAgICAgICAgICAgICAgICAvLyBSZWNvcmQgYXMgYSBzdWNjZXNzZnVsIG1hdGNoIGZvciB0aGUgcHVycG9zZXMgb2YgbWF0Y2ggcmF0aW8gY2FsY3VsYXRpb25zXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIG5ldyBwYXNzd29yZCBmaWVsZCBhcyBwYXJ0IG9mIGEgY2hhbmdlIHBhc3N3b3JkIGZvcm0uIFNvIHdlXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWZmZWN0IHRoZSBzZWxlY3Rpb24gb2YgdGhlIGZvcm0gb3IgZW50cnkgdG8gZmlsbCBidXQgd2hlbiBhbGxcbiAgICAgICAgICAgICAgICAvLyBlbHNlIGlzIGVxdWFsLCB3ZSB3aWxsIGhhdmUgYSBoaWdoZXIgY2hhbmNlIG9mIGF1dG8tZmlsbGluZyB0aGUgZXhpc3RpbmdcbiAgICAgICAgICAgICAgICAvLyB1c2VyIG5hbWUgYW5kIHBhc3N3b3JkIGZpZWxkcy5cbiAgICAgICAgICAgICAgICBmaWVsZE1hdGNoU3VjY2Vzc2VzW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbnRyeUZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZtU2NvcmUgPSB0aGlzLmNhbGN1bGF0ZUZpZWxkTWF0Y2hTY29yZShcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEZpZWxkc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgZW50cnlGaWVsZHNbal0sXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgICAgICAgICBzY29yZUNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUZpZWxkTWFwW2ldXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJTdWl0YWJpbGl0eSBvZiBwdXR0aW5nIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBmaWVsZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBqICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGludG8gZm9ybSBmaWVsZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIChpZDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLmlkICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiKSBpcyBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBmbVNjb3JlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoZm1TY29yZSA+IG1vc3RSZWxldmFudFNjb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vc3RSZWxldmFudFNjb3JlID0gZm1TY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZm1TY29yZUZvclJhdGlvID0gZm1TY29yZSAtICh2aXNpYmxlRmllbGRNYXBbaV0gPyAwIDogMTApO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKGZvcm1GaWVsZC50eXBlID09PSBcInRleHRcIiB8fCBmb3JtRmllbGQudHlwZSA9PT0gXCJwYXNzd29yZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICBmbVNjb3JlRm9yUmF0aW8gPj0gbWluRmllbGRSZWxldmFuY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgZW50cnlGaWVsZHNbal0udmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgIWZpZWxkTWF0Y2hTdWNjZXNzZXNbaV1cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRNYXRjaFN1Y2Nlc3Nlc1tpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEZpZWxkc1tpXS5oaWdoZXN0U2NvcmUgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICBmbVNjb3JlID4gbWF0Y2hlZEZpZWxkc1tpXS5oaWdoZXN0U2NvcmVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEZpZWxkc1tpXS5oaWdoZXN0U2NvcmUgPSBmbVNjb3JlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdGFsUmVsZXZhbmNlU2NvcmUgKz0gbW9zdFJlbGV2YW50U2NvcmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b3RhbFJlbGV2YW5jZVNjb3JlLCBmaWVsZE1hdGNoU3VjY2Vzc2VzXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMua2VlRmllbGRJY29uLnJlbW92ZUtlZUljb25Gcm9tQWxsRmllbGRzKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0ZpZWxkXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXRjaGVkRmllbGQge1xuICAgIGZpZWxkOiBGaWVsZDtcbiAgICBET01lbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgaGlnaGVzdFNjb3JlOiBudW1iZXI7XG59XG4iLCJpbXBvcnQgeyBLZWVMb2dnZXIgfSBmcm9tIFwiLi4vY29tbW9uL0xvZ2dlclwiO1xuaW1wb3J0IHsgTWF0Y2hlZEZpZWxkIH0gZnJvbSBcIi4vTWF0Y2hlZEZpZWxkXCI7XG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRmllbGRcIjtcblxuLypcbiAgVGhpcyBjb250YWlucyBjb2RlIHJlbGF0ZWQgdG8gdGhlIG1hbmFnZW1lbnQgYW5kIG1hbmlwdWxhdGlvbiBvZiBmb3JtcyBhbmQgZm9ybSBmaWVsZHMuXG4qL1xuXG5leHBvcnQgY2xhc3MgRm9ybVV0aWxzIHtcbiAgICBmaW5kTG9naW5PcHMgPSBbXTtcbiAgICBtYXRjaFJlc3VsdHMgPSBbXTtcbiAgICBMb2dnZXI6IEtlZUxvZ2dlcjtcblxuICAgIGNvbnN0cnVjdG9yKGxvZ2dlcjogS2VlTG9nZ2VyKSB7XG4gICAgICAgIHRoaXMuTG9nZ2VyID0gbG9nZ2VyO1xuICAgIH1cblxuICAgIGNvdW50QWxsRG9jdW1lbnRzKGZyYW1lOiBXaW5kb3cpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVXJpV2VDYW5GaWxsKGZyYW1lLmxvY2F0aW9uKSkgcmV0dXJuIDA7XG5cbiAgICAgICAgbGV0IGxvY2FsRG9jQ291bnQgPSAxO1xuXG4gICAgICAgIGlmIChmcmFtZS5mcmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZnJhbWVzID0gZnJhbWUuZnJhbWVzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsb2NhbERvY0NvdW50ICs9IHRoaXMuY291bnRBbGxEb2N1bWVudHMoZnJhbWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxEb2NDb3VudDtcbiAgICB9XG5cbiAgICBpc1VyaVdlQ2FuRmlsbCh1cmkpIHtcbiAgICAgICAgaWYgKHVyaS5wcm90b2NvbCA9PSBcImh0dHA6XCIgfHwgdXJpLnByb3RvY29sID09IFwiaHR0cHM6XCIgfHwgdXJpLnByb3RvY29sID09IFwiZmlsZTpcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzQVRleHRGb3JtRmllbGRUeXBlKHR5cGUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZSA9PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJzZWxlY3Qtb25lXCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJyYWRpb1wiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwicGFzc3dvcmRcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcImhpZGRlblwiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwic3VibWl0XCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJidXR0b25cIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcImZpbGVcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcImltYWdlXCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJyZXNldFwiXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0FLbm93blVzZXJuYW1lU3RyaW5nKGZpZWxkTmFtZUluKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGZpZWxkTmFtZUluLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInVzZXJuYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImpfdXNlcm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlcl9uYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInVzZXJcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlci1uYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImxvZ2luXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInZiX2xvZ2luX3VzZXJuYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlciBuYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInVzZXIgaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlci1pZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiZW1haWxcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiZS1tYWlsXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImlkXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImZvcm1fbG9naW5uYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIndwbmFtZVwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJtYWlsXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImxvZ2luaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibG9naW4gaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibG9naW5fbmFtZVwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJvcGVuaWRfaWRlbnRpZmllclwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJhdXRoZW50aWNhdGlvbl9lbWFpbFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJvcGVuaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiYXV0aF9lbWFpbFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJhdXRoX2lkXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImF1dGhlbnRpY2F0aW9uX2lkZW50aWZpZXJcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiYXV0aGVudGljYXRpb25faWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiY3VzdG9tZXJfbnVtYmVyXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImN1c3RvbWVybnVtYmVyXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm9ubGluZWlkXCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBldGMuIGV0Yy5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIGdldEZvcm1GaWVsZHNcbiAgICAgKlxuICAgICAqIFJldHVybnMgdGhlIHVzZXJuYW1lSW5kZXggYW5kIHBhc3N3b3JkIGZpZWxkcyBmb3VuZCBpbiB0aGUgZm9ybS5cbiAgICAgKiBDYW4gaGFuZGxlIGNvbXBsZXggZm9ybXMgYnkgdHJ5aW5nIHRvIGZpZ3VyZSBvdXQgd2hhdCB0aGVcbiAgICAgKiByZWxldmFudCBmaWVsZHMgYXJlLlxuICAgICAqXG4gICAgICogUmV0dXJuczogW3VzZXJuYW1lSW5kZXgsIHBhc3N3b3JkcywgLi4uXVxuICAgICAqIGFsbCBhcnJheXMgYXJlIHN0YW5kYXJkIGphdmFzY3JpcHQgYXJyYXlzXG4gICAgICogdXNlcm5hbWVGaWVsZCBtYXkgYmUgbnVsbC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Rm9ybUZpZWxkcyhmb3JtLCBpc1N1Ym1pc3Npb246IGJvb2xlYW4sIG1heGltdW1GaWVsZENvdW50OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcHdGaWVsZHM6IE1hdGNoZWRGaWVsZFtdID0gW107XG4gICAgICAgIGNvbnN0IG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXSA9IFtdO1xuICAgICAgICBjb25zdCBhbGxGaWVsZHM6IHtcbiAgICAgICAgICAgIGluZGV4OiBudW1iZXI7XG4gICAgICAgICAgICBlbGVtZW50OiBNYXRjaGVkRmllbGQ7XG4gICAgICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgICAgIH1bXSA9IFtdO1xuICAgICAgICBsZXQgZmlyc3RQYXNzd29yZEluZGV4ID0gLTE7XG4gICAgICAgIGxldCBmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCA9IC0xO1xuICAgICAgICBsZXQgdXNlcm5hbWVJbmRleCA9IC0xO1xuXG4gICAgICAgIC8vIHNlYXJjaCB0aGUgRE9NIGZvciBhbnkgZm9ybSBmaWVsZHMgd2UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpblxuICAgICAgICBjb25zdCB0b3RhbEVsZW1lbnRzID0gZm9ybS5lbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRMaW1pdCA9IHRvdGFsRWxlbWVudHMgPCAyMDAwID8gdG90YWxFbGVtZW50cyA6IDIwMDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudExpbWl0OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhbGxGaWVsZHMubGVuZ3RoID4gbWF4aW11bUZpZWxkQ291bnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbWFueSBmaWVsZHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZm9ybS5lbGVtZW50c1tpXS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSA9PSBcIm9iamVjdFwiIHx8XG4gICAgICAgICAgICAgICAgZm9ybS5lbGVtZW50c1tpXS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImtleWdlblwiIHx8XG4gICAgICAgICAgICAgICAgZm9ybS5lbGVtZW50c1tpXS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSA9PSBcIm91dHB1dFwiIHx8XG4gICAgICAgICAgICAgICAgKGZvcm0uZWxlbWVudHNbaV0ubG9jYWxOYW1lLnRvTG93ZXJDYXNlKCkgIT0gXCJpbnB1dFwiICYmXG4gICAgICAgICAgICAgICAgICAgIChmb3JtLmVsZW1lbnRzW2ldLnR5cGUgPT0gdW5kZWZpbmVkIHx8IGZvcm0uZWxlbWVudHNbaV0udHlwZSA9PSBudWxsKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBtYXliZSBpdCdzIHNvbWV0aGluZyB1bi1pbnRlcmVzdGluZ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkb21UeXBlOiBzdHJpbmcgPSBmb3JtLmVsZW1lbnRzW2ldLnR5cGUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJmaWVsZHNldFwiKSBjb250aW51ZTsgLy8gbm90IGludGVyZXN0ZWQgaW4gZmllbGRzZXRzXG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBkb21UeXBlICE9IFwicGFzc3dvcmRcIiAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmlzQVRleHRGb3JtRmllbGRUeXBlKGRvbVR5cGUpICYmXG4gICAgICAgICAgICAgICAgZG9tVHlwZSAhPSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICBkb21UeXBlICE9IFwicmFkaW9cIiAmJlxuICAgICAgICAgICAgICAgIGRvbVR5cGUgIT0gXCJzZWxlY3Qtb25lXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBpZ25vcmluZyBvdGhlciBmb3JtIHR5cGVzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkb21UeXBlID09IFwicmFkaW9cIiAmJiBpc1N1Ym1pc3Npb24gJiYgZm9ybS5lbGVtZW50c1tpXS5jaGVja2VkID09IGZhbHNlKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChkb21UeXBlID09IFwicGFzc3dvcmRcIiAmJiBpc1N1Ym1pc3Npb24gJiYgIWZvcm0uZWxlbWVudHNbaV0udmFsdWUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJzZWxlY3Qtb25lXCIgJiYgaXNTdWJtaXNzaW9uICYmICFmb3JtLmVsZW1lbnRzW2ldLnZhbHVlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoYHByb2Nlc3NpbmcgZmllbGQgd2l0aCBkb210eXBlICR7ZG9tVHlwZX0uLi5gKTtcbiAgICAgICAgICAgIGFsbEZpZWxkc1thbGxGaWVsZHMubGVuZ3RoXSA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBuZXcgTWF0Y2hlZEZpZWxkKCksXG4gICAgICAgICAgICAgICAgdHlwZTogZG9tVHlwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBmaWVsZFZhbHVlID0gZm9ybS5lbGVtZW50c1tpXS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChkb21UeXBlID09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgIGlmIChmb3JtLmVsZW1lbnRzW2ldLmNoZWNrZWQpIGZpZWxkVmFsdWUgPSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfVFJVRVwiO1xuICAgICAgICAgICAgICAgIGVsc2UgZmllbGRWYWx1ZSA9IFwiS0VFRk9YX0NIRUNLRURfRkxBR19GQUxTRVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBGaWVsZC5mcm9tRE9NKGZvcm0uZWxlbWVudHNbaV0sIGRvbVR5cGUsIGZpZWxkVmFsdWUpO1xuICAgICAgICAgICAgYWxsRmllbGRzW2FsbEZpZWxkcy5sZW5ndGggLSAxXS5lbGVtZW50LmZpZWxkID0gZmllbGQ7XG4gICAgICAgICAgICBhbGxGaWVsZHNbYWxsRmllbGRzLmxlbmd0aCAtIDFdLmVsZW1lbnQuRE9NZWxlbWVudCA9IGZvcm0uZWxlbWVudHNbaV07XG5cbiAgICAgICAgICAgIGlmIChkb21UeXBlID09IFwicGFzc3dvcmRcIiAmJiBmaXJzdFBhc3N3b3JkSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBmaXJzdFBhc3N3b3JkSW5kZXggPSBhbGxGaWVsZHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuaXNBVGV4dEZvcm1GaWVsZFR5cGUoZG9tVHlwZSkgJiZcbiAgICAgICAgICAgICAgICBmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCA9PSAtMSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLmlzQUtub3duVXNlcm5hbWVTdHJpbmcoZm9ybS5lbGVtZW50c1tpXS5uYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5sb2NhdG9yc1swXS5sYWJlbHM/LnNvbWUobGFiZWwgPT4gdGhpcy5pc0FLbm93blVzZXJuYW1lU3RyaW5nKGxhYmVsKSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCA9IGFsbEZpZWxkcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZm9ybS5lbGVtZW50c1tpXS5rZWVJbml0aWFsRGV0ZWN0ZWRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9ybS5lbGVtZW50c1tpXS5rZWVJbml0aWFsRGV0ZWN0ZWRWYWx1ZSA9IGZpZWxkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXb3JrIG91dCB3aGljaCBET00gZm9ybSBlbGVtZW50IGlzIG1vc3QgbGlrZWx5IHRvIGJlIHRoZSB1c2VybmFtZSBmaWVsZC5cbiAgICAgICAgLy8gVGhpcyBpbmZvcm1hdGlvbiBpcyBvbmx5IHVzZWQgdG8gZGlzcGxheSB0aGUgdXNlcm5hbWUgdG8gdGhlIHVzZXIgc28gYW4gaW5hY2N1cmF0ZVxuICAgICAgICAvLyBjaG9pY2Ugd29uJ3QgaW1wYWN0IHRoZSBmb3JtIGRldGVjdGlvbiBvciBmaWxsaW5nIGJlaGF2aW91ci5cbiAgICAgICAgLy9UT0RPOjQ6IEV4dGVuZCB0aGlzIHRvIGluc3BlY3QgbW9yZSB0aGFuIGp1c3QgdGhlIG5hbWUgb2YgdGhlIGZpZWxkLiBFLmcuIG1heCBsZW5ndGg/XG4gICAgICAgIC8vVE9ETzo0OiBGb3IgZm9ybSBmaWxsaW5nIChub3Qgc3VibWl0dGluZykgd2UgbWlnaHQgd2FudCB0byBzZWxlY3QgYmFzZWQgdXBvbiBmb3VuZCBkYXRhIGluIEtlZVBhc3M/XG4gICAgICAgIGlmIChmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCAhPSAtMSkgdXNlcm5hbWVJbmRleCA9IGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4O1xuICAgICAgICBlbHNlIGlmIChmaXJzdFBhc3N3b3JkSW5kZXggPiAwKSB1c2VybmFtZUluZGV4ID0gZmlyc3RQYXNzd29yZEluZGV4IC0gMTtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ1c2VybmFtZUluZGV4OiBcIiArIHVzZXJuYW1lSW5kZXgpO1xuXG4gICAgICAgIGxldCBvdGhlckNvdW50ID0gMDtcbiAgICAgICAgbGV0IGFjdHVhbFVzZXJuYW1lSW5kZXggPSAwO1xuXG4gICAgICAgIC8vIHNlcGFyYXRlIHRoZSBmaWVsZCBkYXRhIGludG8gYXBwcm9wcmlhdGUgdmFyaWFibGVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsRmllbGRzW2ldLnR5cGUgPT0gXCJwYXNzd29yZFwiKSBwd0ZpZWxkc1twd0ZpZWxkcy5sZW5ndGhdID0gYWxsRmllbGRzW2ldLmVsZW1lbnQ7XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLmlzQVRleHRGb3JtRmllbGRUeXBlKGFsbEZpZWxkc1tpXS50eXBlKSB8fFxuICAgICAgICAgICAgICAgIGFsbEZpZWxkc1tpXS50eXBlID09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgIGFsbEZpZWxkc1tpXS50eXBlID09IFwicmFkaW9cIiB8fFxuICAgICAgICAgICAgICAgIGFsbEZpZWxkc1tpXS50eXBlID09IFwic2VsZWN0LW9uZVwiXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBvdGhlckZpZWxkc1tvdGhlckZpZWxkcy5sZW5ndGhdID0gYWxsRmllbGRzW2ldLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gdXNlcm5hbWVJbmRleCkgYWN0dWFsVXNlcm5hbWVJbmRleCA9IG90aGVyQ291bnQ7XG4gICAgICAgICAgICAgICAgZWxzZSBvdGhlckNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImFjdHVhbFVzZXJuYW1lSW5kZXg6IFwiICsgYWN0dWFsVXNlcm5hbWVJbmRleCk7XG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwib3RoZXJGaWVsZHMubGVuZ3RoOlwiICsgb3RoZXJGaWVsZHMubGVuZ3RoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0dWFsVXNlcm5hbWVJbmRleCxcbiAgICAgICAgICAgIHB3RmllbGRzLFxuICAgICAgICAgICAgb3RoZXJGaWVsZHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBBIGJhc2ljLCBzbGlnaHRseSBmbGF3ZWQgYnV0IGZhc3QgdmlzaWJpbGl0eSB0ZXN0XG4gICAgcHVibGljIGlzRE9NRWxlbWVudFZpc2libGUoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Lm9mZnNldFBhcmVudCAmJiBlbGVtZW50Lm9mZnNldEhlaWdodCA9PT0gMCAmJiBlbGVtZW50Lm9mZnNldFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gLy8gdXNlZCBmb3IgbXVsdGlwYWdlIHN0dWZmIHRoYXQgd2UgbWlnaHQgbm90IGJlIGFibGUgdG8gc3VwcG9ydCB5ZXQgaW4gd2ViZXh0ZW5zaW9uc1xuICAgIC8vIHJlc2V0Rm9ybUZpbGxTZXNzaW9uICgpIHtcbiAgICAvLyAgICAgaWYgKHJlc2V0Rm9ybUZpbGxUaW1lciAhPSBudWxsKSB7XG4gICAgLy8gICAgICAgICBjbGVhclRpbWVvdXQocmVzZXRGb3JtRmlsbFRpbWVyKTtcbiAgICAvLyAgICAgICAgIHJlc2V0Rm9ybUZpbGxUaW1lciA9IG51bGw7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgdGFiU3RhdGUuY3VycmVudFBhZ2UgPSAwO1xuICAgIC8vICAgICB0YWJTdGF0ZS5tYXhpbXVtUGFnZSA9IDA7XG4gICAgLy8gICAgIHRhYlN0YXRlLmZvcmNlQXV0b1N1Ym1pdCA9IG51bGw7XG4gICAgLy8gICAgIHRhYlN0YXRlLnVzZXJSZWNlbnRseURlbWFuZGVkQXV0b1N1Ym1pdCA9IGZhbHNlO1xuICAgIC8vICAgICBMb2dnZXIuZGVidWcoXCJSZXNldCBmb3JtLWZpbGxpbmcgc2Vzc2lvbiAocGFnZSA9IDAgYW5kIGNhbmNlbGxlZCBhbnkgZm9yY2VkIGF1dG9zdWJtaXQpLlwiKTtcbiAgICAvLyB9O1xuICAgIC8vdmFyIHJlc2V0Rm9ybUZpbGxUaW1lciA9IG51bGw7XG59XG4iLCJpbXBvcnQgeyBGb3JtVXRpbHMgfSBmcm9tIFwiLi9mb3Jtc1V0aWxzXCI7XG5pbXBvcnQgeyBNYXRjaFJlc3VsdCB9IGZyb20gXCIuL01hdGNoUmVzdWx0XCI7XG5pbXBvcnQgeyBGaWxsZWRGaWVsZCB9IGZyb20gXCIuL0ZpbGxlZEZpZWxkXCI7XG5pbXBvcnQgeyBLZWVMb2dnZXIgfSBmcm9tIFwiLi4vY29tbW9uL0xvZ2dlclwiO1xuaW1wb3J0IHsgY29uZmlnTWFuYWdlciB9IGZyb20gXCIuLi9jb21tb24vQ29uZmlnTWFuYWdlclwiO1xuaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4uL2NvbW1vbi9BZGRvbk1lc3NhZ2VcIjtcbmltcG9ydCB7IE1hdGNoZWRGaWVsZCB9IGZyb20gXCIuL01hdGNoZWRGaWVsZFwiO1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0ZpZWxkXCI7XG5cbmRlY2xhcmUgY29uc3QgcHVueWNvZGU7XG5cbmludGVyZmFjZSBTdWJtaXRIYW5kbGVyQXR0YWNobWVudCB7XG4gICAgdGFyZ2V0OiBIVE1MRWxlbWVudDtcbiAgICBoYW5kbGVyOiAoZTogRXZlbnQpID0+IHZvaWQ7XG4gICAgZm9ybTogSFRNTEZvcm1FbGVtZW50O1xufVxuXG5leHBvcnQgY2xhc3MgRm9ybVNhdmluZyB7XG4gICAgcHJpdmF0ZSBMb2dnZXI6IEtlZUxvZ2dlcjtcbiAgICBwcml2YXRlIGZvcm1VdGlsczogRm9ybVV0aWxzO1xuICAgIHByaXZhdGUgU3VibWl0SGFuZGxlckF0dGFjaG1lbnRzOiBTdWJtaXRIYW5kbGVyQXR0YWNobWVudFtdID0gW107XG4gICAgcHJpdmF0ZSBtYXRjaFJlc3VsdDogTWF0Y2hSZXN1bHQ7IC8vVE9ETzo0OiBNYXkgYmUgb3ZlcmtpbGwgdG8gaGF2ZSBhbGwgdGhpcyBkYXRhIGF2YWlsYWJsZSBmb3Igc2F2aW5nXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15UG9ydDogYnJvd3Nlci5ydW50aW1lLlBvcnQsIGxvZ2dlcjogS2VlTG9nZ2VyLCBmb3JtVXRpbHM6IEZvcm1VdGlscykge1xuICAgICAgICB0aGlzLkxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5mb3JtVXRpbHMgPSBmb3JtVXRpbHM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFN1Ym1pdEhhbmRsZXIodGFyZ2V0OiBIVE1MRWxlbWVudCwgZm9ybVRvU3VibWl0OiBIVE1MRm9ybUVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gdGhpcy5zdWJtaXRIYW5kbGVyKGUsIGZvcm1Ub1N1Ym1pdCk7XG4gICAgICAgIHRoaXMuU3VibWl0SGFuZGxlckF0dGFjaG1lbnRzLnB1c2goe1xuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICBmb3JtOiBmb3JtVG9TdWJtaXQsXG4gICAgICAgICAgICBoYW5kbGVyOiBoYW5kbGVyXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGFyZ2V0KSB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZXIpO1xuICAgICAgICBmb3JtVG9TdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlQWxsU3VibWl0SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuU3VibWl0SGFuZGxlckF0dGFjaG1lbnRzLmZvckVhY2goYXR0YWNobWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoYXR0YWNobWVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXR0YWNobWVudC5oYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dGFjaG1lbnQuZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGF0dGFjaG1lbnQuaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLlN1Ym1pdEhhbmRsZXJBdHRhY2htZW50cyA9IFtdO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVNYXRjaFJlc3VsdChtYXRjaFJlc3VsdDogTWF0Y2hSZXN1bHQpIHtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdCA9IG1hdGNoUmVzdWx0O1xuICAgIH1cblxuICAgIC8vIFRoaXMgd29uJ3QgYWx3YXlzIGJlIGNhbGxlZCBiZWZvcmUgYWxsIGV2ZW50IGhhbmRsZXJzIG9uIHRoZSB3ZWIgcGFnZSBzbyBvblxuICAgIC8vIHNvbWUgc2l0ZXMgd2Ugd2lsbCBzdG9yZSBpbnZhbGlkIGRhdGEgKGluIGNhc2VzIHdoZXJlIHRoZSBsb2dpbiBzY3JpcHRzXG4gICAgLy8gbWFuZ2xlIHRoZSBjb250ZW50cyBvZiB0aGUgZmllbGRzIGJlZm9yZSBzdWJtaXR0aW5nIHRoZW0pLlxuICAgIC8vVE9ETzo0OiBQb3NzaWJseSBjb3VsZCBzbGlnaHRseSByZWR1Y2UgaW5jaWRlbmNlIG9mIHRoaXMgcHJvYmxlbSBieSBsaXN0ZW5pbmdcbiAgICAvLyB0byBldmVyeSBjbGljayBvbiB0aGUgZG9jdW1lbnQgYm9keSBvciB0cmFja2luZyBhbGwgaW5wdXQgZXZlbnRzIGJ1dCBwZXJmb3JtYW5jZT9cbiAgICBwcml2YXRlIHN1Ym1pdEhhbmRsZXIoX2U6IEV2ZW50LCBmb3JtOiBIVE1MRm9ybUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzdWJtaXRIYW5kbGVyIGNhbGxlZFwiKTtcblxuICAgICAgICAvLyBVbnRpbCB0aGUgbmV4dCB0aW1lIHdlIGhhdmUgc2VhcmNoZWQgZm9yIGZvcm1zIGluIHRoaXMgcGFnZSxcbiAgICAgICAgLy8gZG9uJ3QgcmVzcG9uZCB0byBhbnkgZm9ybSBzdWJtaXNzaW9uIHJlbGF0ZWQgZXZlbnRzXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsU3VibWl0SGFuZGxlcnMoKTtcblxuICAgICAgICBjb25zdCBkb2MgPSBmb3JtLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZG9jLlVSTCk7XG4gICAgICAgIHVybC5ob3N0bmFtZSA9IHB1bnljb2RlLnRvVW5pY29kZSh1cmwuaG9zdG5hbWUpO1xuXG4gICAgICAgIGNvbnN0IGNvbmYgPSBjb25maWdNYW5hZ2VyLnNpdGVDb25maWdGb3IodXJsLmhyZWYpO1xuICAgICAgICBpZiAoY29uZi5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbikgcmV0dXJuO1xuXG4gICAgICAgIGxldCBpc1Bhc3N3b3JkQ2hhbmdlRm9ybSA9IGZhbHNlO1xuICAgICAgICBsZXQgaXNSZWdpc3RyYXRpb25Gb3JtID0gZmFsc2U7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBhcHByb3ByaWF0ZSBmaWVsZHMgZnJvbSB0aGUgZm9ybS5cbiAgICAgICAgY29uc3QgcGFzc3dvcmRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdID0gW107XG4gICAgICAgIGxldCBzY2FuUmVzdWx0OiB7XG4gICAgICAgICAgICBvdGhlckZpZWxkczogTWF0Y2hlZEZpZWxkW107XG4gICAgICAgICAgICBhY3R1YWxVc2VybmFtZUluZGV4PzogbnVtYmVyO1xuICAgICAgICAgICAgcHdGaWVsZHM/OiBNYXRjaGVkRmllbGRbXTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNjYW5SZXN1bHQgPSB0aGlzLmZvcm1VdGlscy5nZXRGb3JtRmllbGRzKGZvcm0sIHRydWUsIDUwKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJMb3N0IGludGVyZXN0IGluIHRoaXMgZm9ybSBhZnRlciBmaW5kaW5nIHRvbyBtYW55IGZpZWxkc1wiICsgZXgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXJuYW1lSW5kZXggPSBzY2FuUmVzdWx0LmFjdHVhbFVzZXJuYW1lSW5kZXg7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkcyA9IHNjYW5SZXN1bHQucHdGaWVsZHM7XG4gICAgICAgIGNvbnN0IG90aGVyRmllbGRzID0gc2NhblJlc3VsdC5vdGhlckZpZWxkcztcblxuICAgICAgICBpZiAocGFzc3dvcmRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGNvdWxkIGJlIHBhc3N3b3JkIGNoYW5nZSBmb3JtIG9yIG11bHRpLXBhc3N3b3JkIGxvZ2luIGZvcm0gb3Igc2lnbiB1cCBmb3JtXG4gICAgICAgICAgICAvLyBuYWl2ZSBkdXBsaWNhdGUgZmluZGVyIC0gbW9yZSB0aGFuIHN1ZmZpY2llbnQgZm9yIHRoZSBudW1iZXIgb2YgcGFzc3dvcmRzIHBlciBkb21haW5cbiAgICAgICAgICAgIGxldCB0d29QYXNzd29yZHNNYXRjaEluZGV4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3N3b3Jkcy5sZW5ndGggJiYgdHdvUGFzc3dvcmRzTWF0Y2hJbmRleCA9PSAtMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgcGFzc3dvcmRzLmxlbmd0aCAmJiB0d29QYXNzd29yZHNNYXRjaEluZGV4ID09IC0xOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3N3b3Jkc1tqXS5maWVsZC52YWx1ZSA9PSBwYXNzd29yZHNbaV0uZmllbGQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR3b1Bhc3N3b3Jkc01hdGNoSW5kZXggPSBqO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHdvUGFzc3dvcmRzTWF0Y2hJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGVpdGhlciBtaXMtdHlwZWQgcGFzc3dvcmQgY2hhbmdlIGZvcm0sIHNpbmdsZSBwYXNzd29yZCBjaGFuZ2UgYm94IGZvcm0gb3IgbXVsdGktcGFzc3dvcmQgbG9naW4vc2lnbnVwLCBhc3N1bWluZyBsYXR0ZXIuXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJtdWx0aXBsZSBwYXNzd29yZHMgZm91bmQgKHdpdGggbm8gaWRlbnRpY2FsIHZhbHVlcylcIik7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3N3b3Jkcy5sZW5ndGg7IGkrKykgcGFzc3dvcmRGaWVsZHMucHVzaChwYXNzd29yZHNbaV0pO1xuXG4gICAgICAgICAgICAgICAgLy9UT0RPOjQ6IHRyeSB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIG11bHRpLXBhc3N3b3JkIGxvZ2luL3NpZ251cCBhbmQgdHlwby4gbWF5YmU6IGlmIHVzZXJuYW1lIGV4aXN0cyBhbmQgbWF0Y2hlcyBleGlzdGluZyBwYXNzd29yZCBpdCBpcyBhIHR5cG8sIGVsc2UgbXVsdGktcGFzc3dvcmRcbiAgICAgICAgICAgICAgICAvL3JldHVybjtcbiAgICAgICAgICAgIH0gLy8gaXQncyBwcm9iYWJseSBhIHBhc3N3b3JkIGNoYW5nZSBmb3JtLCBidXQgbWF5IGJlIGEgc2lnbi11cCBmb3JtXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGlnbm9yZSBhbnkgZmllbGRzIHRoYXQgd2VyZSBwcmVzZW50ZWQgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gdXNlciBhcyBlaXRoZXIgXCJvbGQgcGFzc3dvcmRcIiBvciBcInJldHlwZSBuZXcgcGFzc3dvcmRcIlxuXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgIFwiTG9va3MgbGlrZSBhIHBhc3N3b3JkIGNoYW5nZSBmb3JtIG9yIG5ldyByZWdpc3RyYXRpb24gZm9ybSBoYXMgYmVlbiBzdWJtaXR0ZWRcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgbWF5IGJlIG1vcmUgdGhhbiBvbmUgcGFpciBvZiBtYXRjaGVzIC0gdGhvdWdoLCB3ZSdyZSBwbHVja2luZyBmb3IgdGhlIGZpcnN0IG9uZVxuICAgICAgICAgICAgICAgIC8vIHdlIGtub3cgdGhlIGluZGV4IG9mIG9uZSBtYXRjaGluZyBwYXNzd29yZFxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG9ubHkgdHdvIHBhc3N3b3JkcyB3ZSBhbHJlYWR5IGtub3cgdGhhdCB0aGV5IG1hdGNoXG4gICAgICAgICAgICAgICAgaWYgKHBhc3N3b3Jkcy5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZEZpZWxkcy5wdXNoKHBhc3N3b3Jkc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vVE9ETzo0OiBpdCBpcyBhbHNvIHJlYXNvbmFibHkgbGlrZWx5IHRoYXQgdGhpcyBpbmRpY2F0ZXMgYVxuICAgICAgICAgICAgICAgICAgICAvLyBzaWduLXVwIGZvcm0gcmF0aGVyIHRoYW4gYSBwYXNzd29yZCBjaGFuZ2UgZm9ybS4gZGVjaWRlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGhlcmUgYW5kIGZsYWcgd2hpY2ggb25lIGl0IGlzLiBmb3Igbm93LCB3ZSBqdXN0IGFzc3VtZVxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGEgc2lnbi11cCBmb3JtIGJlY3Vhc2UgdGhhdCBpcyBtb3JlIHVzZWZ1bCBmb3IgdGhlIHVzZXIgaW4gbWFueSBjYXNlc1xuICAgICAgICAgICAgICAgICAgICBpc1Bhc3N3b3JkQ2hhbmdlRm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc1JlZ2lzdHJhdGlvbkZvcm0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhlcmUgd2UgYXNzdW1lIHRoYXQgYW55IGZvcm0gd2l0aCAzIHBhc3N3b3JkcyBvbiBpdFxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBtdWNoIG1vcmUgbGlrZWx5IHRvIGJlIGEgY2hhbmdlIHBhc3N3b3JkIGZvcm0gdGhhblxuICAgICAgICAgICAgICAgICAgICAvLyBhIHNpZ24tdXAgZm9ybSAob2J2aW91c2x5IHRoZXJlIHdpbGwgYmUgZXhjZXB0aW9ucyBidXRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgYmVzdCB3ZSBjYW4gZG8gZm9yIG5vdylcbiAgICAgICAgICAgICAgICAgICAgLy8gQlVUOiBoYXZlIG5vdCB5ZXQgaW1wbGVtZW50ZWQgcmVsaWFibGUgcGFzc3dvcmQgY2hhbmdlIGZlYXR1cmUuLi5cbiAgICAgICAgICAgICAgICAgICAgaXNQYXNzd29yZENoYW5nZUZvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaXNSZWdpc3RyYXRpb25Gb3JtID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRGaWVsZHMucHVzaChwYXNzd29yZHNbdHdvUGFzc3dvcmRzTWF0Y2hJbmRleF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwYXNzd29yZHMgIT0gbnVsbCAmJiBwYXNzd29yZHNbMF0gIT0gbnVsbCAmJiBwYXNzd29yZHNbMF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkcy5wdXNoKHBhc3N3b3Jkc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCwgYXQgbGVhc3Qgb25lIHBhc3N3b3JkRmllbGQgaGFzIGJlZW4gY2hvc2VuIGFuZCBhblxuICAgICAgICAvLyBvbGRQYXNzd29yZEZpZWxkIGhhcyBiZWVuIGNob3NlbiBpZiBhcHBsaWNhYmxlLlxuICAgICAgICAvLyB3ZSBoYXZlIGFsc28gZGV0ZXJtaW5lZCB3aGV0aGVyIHRoaXMgZm9ybSBmaWxsIGlzIGxpa2VseSB0b1xuICAgICAgICAvLyBiZSBhIG5ldyByZWdpc3RyYXRpb24gZm9ybSBvciBwYXNzd29yZCBjaGFuZ2UgZm9ybVxuXG4gICAgICAgIGNvbnN0IG5vbkVtcHR5UGFzc3dvcmRGaWVsZHMgPSB0aGlzLnJlbW92ZUVtcHR5RmllbGRzKHBhc3N3b3JkRmllbGRzKTtcbiAgICAgICAgY29uc3Qgbm9uRW1wdHlPdGhlckZpZWxkcyA9IHRoaXMucmVtb3ZlRW1wdHlGaWVsZHMob3RoZXJGaWVsZHMpO1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGZpbGxlZCBwYXNzd29yZCB0aGF0IGlzIG5vdCBiZWluZyBzdWJtaXR0ZWQgb3IgaGFzIGEgY2hhbmdlZCB2YWx1ZVxuICAgICAgICBjb25zdCBkaWZmZXJlbnRQYXNzd29yZCA9XG4gICAgICAgICAgICAhdGhpcy5tYXRjaFJlc3VsdCB8fFxuICAgICAgICAgICAgIXRoaXMubWF0Y2hSZXN1bHQubGFzdEZpbGxlZFBhc3N3b3JkcyB8fFxuICAgICAgICAgICAgdGhpcy5oYXNGaWVsZEJlZW5Nb2RpZmllZChub25FbXB0eVBhc3N3b3JkRmllbGRzLCB0aGlzLm1hdGNoUmVzdWx0Lmxhc3RGaWxsZWRQYXNzd29yZHMpO1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGZpbGxlZCBvdGhlciBmaWVsZCB0aGF0IGlzIG5vdCBiZWluZyBzdWJtaXR0ZWQgb3IgaGFzIGEgY2hhbmdlZCB2YWx1ZVxuICAgICAgICBjb25zdCBkaWZmZXJlbnRPdGhlciA9XG4gICAgICAgICAgICAhdGhpcy5tYXRjaFJlc3VsdCB8fFxuICAgICAgICAgICAgIXRoaXMubWF0Y2hSZXN1bHQubGFzdEZpbGxlZE90aGVyIHx8XG4gICAgICAgICAgICB0aGlzLmhhc0ZpZWxkQmVlbk1vZGlmaWVkKG5vbkVtcHR5T3RoZXJGaWVsZHMsIHRoaXMubWF0Y2hSZXN1bHQubGFzdEZpbGxlZE90aGVyKTtcblxuICAgICAgICBpZiAoZGlmZmVyZW50UGFzc3dvcmQgfHwgZGlmZmVyZW50T3RoZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1Ym1pdHRlZERhdGEgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiB1cmwuaHJlZixcbiAgICAgICAgICAgICAgICBmaWVsZHM6IEZpZWxkLmNvbWJpbmVEb21GaWVsZExpc3RzKFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBub25FbXB0eU90aGVyRmllbGRzLm1hcChmID0+IGYuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBub25FbXB0eVBhc3N3b3JkRmllbGRzLm1hcChmID0+IGYuZmllbGQpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogZG9jLnRpdGxlIHx8IHVybC5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICBpc1Bhc3N3b3JkQ2hhbmdlRm9ybSxcbiAgICAgICAgICAgICAgICBpc1JlZ2lzdHJhdGlvbkZvcm1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMubXlQb3J0LnBvc3RNZXNzYWdlKHsgc3VibWl0dGVkRGF0YSB9IGFzIEFkZG9uTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZUVtcHR5RmllbGRzKGZpZWxkczogTWF0Y2hlZEZpZWxkW10pIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkcy5maWx0ZXIoZiA9PiBmLmZpZWxkLnZhbHVlIHx8IGYuZmllbGQudHlwZSA9PT0gXCJib29sZWFuXCIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFzRmllbGRCZWVuTW9kaWZpZWQoXG4gICAgICAgIG5ld2x5U3VibWl0dGVkRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgcHJldmlvdXNseUZpbGxlZEZpZWxkczogRmlsbGVkRmllbGRbXVxuICAgICkge1xuICAgICAgICByZXR1cm4gISFwcmV2aW91c2x5RmlsbGVkRmllbGRzLmZpbmQoZmlsbGVkRmllbGQgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3VibWl0dGVkRmllbGQgPSBuZXdseVN1Ym1pdHRlZEZpZWxkcy5maW5kKFxuICAgICAgICAgICAgICAgIGYgPT4gZmlsbGVkRmllbGQuRE9NZWxlbWVudCA9PSBmLkRPTWVsZW1lbnRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmVuJ3Qgc3VibWl0dGVkIHRoZSBzYW1lIERPTSBlbGVtZW50IHdlIGZpbGxlZCBpblxuICAgICAgICAgICAgaWYgKCFzdWJtaXR0ZWRGaWVsZCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIGlmIChzdWJtaXR0ZWRGaWVsZC5maWVsZC52YWx1ZSAhPSBmaWxsZWRGaWVsZC52YWx1ZSkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGFuZWxTdHViLCBQYW5lbFN0dWJPcHRpb25zIH0gZnJvbSBcIi4vUGFuZWxTdHViXCI7XG5cbi8vY29uc3QgcGFuZWxPcHRpb25zID0gUGFuZWxTdHViT3B0aW9ucy5HZW5lcmF0ZVBhc3N3b3JkTGVnYWN5O1xuY29uc3QgcGFuZWxPcHRpb25zID0gUGFuZWxTdHViT3B0aW9ucy5HZW5lcmF0ZVBhc3N3b3JkO1xuXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRHZW5lcmF0b3Ige1xuICAgIHB1YmxpYyBnZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViOiBQYW5lbFN0dWI7XG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViUmFmOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmVudEZyYW1lSWQ6IG51bWJlcikge31cblxuICAgIHB1YmxpYyBjcmVhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViID0gbmV3IFBhbmVsU3R1YihwYW5lbE9wdGlvbnMsIG51bGwsIHRoaXMucGFyZW50RnJhbWVJZCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1Yi5jcmVhdGVQYW5lbCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWxOZWFyTm9kZSh0YXJnZXQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2xvc2VHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViID0gbmV3IFBhbmVsU3R1YihwYW5lbE9wdGlvbnMsIHRhcmdldCwgdGhpcy5wYXJlbnRGcmFtZUlkKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1YlJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PlxuICAgICAgICAgICAgdGhpcy51cGRhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWxQb3NpdGlvbigpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlR2VuZXJhdGVQYXNzd29yZFBhbmVsKCkge1xuICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViKSB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIuY2xvc2VQYW5lbCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIgPSBudWxsO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWJSYWYpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWxQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViLnVwZGF0ZUJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWJSYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlR2VuZXJhdGVQYXNzd29yZFBhbmVsUG9zaXRpb24oKVxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE11dGF0aW9uVHlwZSB9IGZyb20gXCJwaW5pYVwiO1xuaW1wb3J0IHsgZGVlcEVxdWFsIH0gZnJvbSBcIn4vY29tbW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBLZWVTdG9yZSB9IGZyb20gXCIuXCI7XG5pbXBvcnQgeyBLZWVTdGF0ZSB9IGZyb20gXCIuL0tlZVN0YXRlXCI7XG5pbXBvcnQgeyBNdXRhdGlvbiwgTXV0YXRpb25QYXlsb2FkIH0gZnJvbSBcIi4vc3luY0JhY2tncm91bmRcIjtcblxuZXhwb3J0IGNsYXNzIFN5bmNDb250ZW50IHtcbiAgICBwcml2YXRlIHN0b3JlOiBLZWVTdG9yZTtcbiAgICBpbml0aWFsaXplZDogYm9vbGVhbjtcbiAgICByZWNlaXZlZFBheWxvYWRzOiBNdXRhdGlvblBheWxvYWRbXTtcbiAgICBwZW5kaW5nTXV0YXRpb25zOiBNdXRhdGlvbltdO1xuICAgIHByaXZhdGUgc2VuZE11dGF0aW9uUGF5bG9hZDogKG11dGF0aW9uOiBNdXRhdGlvblBheWxvYWQpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlZFBheWxvYWRzID0gW107XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTXV0YXRpb25zID0gW107XG4gICAgfVxuXG4gICAgaW5pdChzdG9yZTogS2VlU3RvcmUsIGluaXRpYWxTdGF0ZTogS2VlU3RhdGUsIHNlbmRNdXRhdGlvbjogKG11dGF0aW9uOiBNdXRhdGlvblBheWxvYWQpID0+IHZvaWQsIHZ1ZU1vdW50Pykge1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMuc3RvcmUuJHN1YnNjcmliZShtdXRhdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PSBNdXRhdGlvblR5cGUucGF0Y2hPYmplY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUxvY2FsbHlHZW5lcmF0ZWRNdXRhdGlvbihtdXRhdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGluaWEgZ2VuZXJhdGVkIGEgbm9uLW9iamVjdCBtdXRhdGlvbi4gV2UgZG9uJ3QgdGhpbmsgd2UgY2FuIHN1cHBvcnQgdGhpcyBhbmQgbmVlZCB0byBrbm93IHRoYXQgaXQgaXMgcG9zc2libGUgZm9yIGl0IHRvIGhhcHBlbiEgVGVsbCB1cyBub3cgb3Igd2VpcmQgdGhpbmdzIHdpbGwgaGFwcGVuLlwiKTtcbiAgICAgICAgICAgICAgICB9IC8vICdkaXJlY3QnIHwgJ3BhdGNoIG9iamVjdCcgfCAncGF0Y2ggZnVuY3Rpb24nXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbmRNdXRhdGlvblBheWxvYWQgPSBzZW5kTXV0YXRpb247XG5cbiAgICAgICAgdGhpcy5zdG9yZS4kcGF0Y2goaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdMb2NhbGx5U291cmNlZE11dGF0aW9ucygpO1xuXG4gICAgICAgIGlmICh2dWVNb3VudCkgdnVlTW91bnQoKTtcbiAgICAgICAgLy8gbW92ZSBzdG9yZSBzdWJzY3JpcHRpb24gYW5kIGluaXRpYWwgc3RhdGUgcGF0Y2ggdG8gaGVyZSwgYWZ0ZXIgY3JlYXRpbmcgaXQgYW5kIHJldHVybmluZyBmcm9tIHZ1ZXdJbml0KClcbiAgICAgICAgLy8gd2lsbCBtZWFuIHNsb3dlciBpbml0aWFsIHN1cHBvcnQgZm9yIHJlY2VpdmluZyBtdXRhdGlvbnMuLi4gd2hpY2ggaXMgZnVja2VkPyBjb3Mgd2UgbWF5IHdpbGwgZGVjaWRlIHRvIHNlbmQgdGhlbSBiZWZvcmUgYmFja2dyb3VuZCBoYXMgcmVzcG9uZGVkIHdpdGggdGhlIHN0b3JlIGluaXRpYWwgc3RhdGUuXG4gICAgICAgIC8vIFNvbWUgd2F5IHRvIHVzZSBhIHRlbXBvcmFyeSBzdG9yZSBvbiBhIHRlbXBvcmFyeSBwaW5pYSBpbnN0YW5jZSBvbiBhIHRlbXBvcmFyeSB2dWUgaW5zdGFuY2U/XG4gICAgICAgIC8vIENhbiBhZGQgdG8gcGVuZGluZ011dGF0aW9ucyBubyBtYXR0ZXIgd2hpY2ggc3RvcmUgaXQgaXMgZnJvbVxuICAgICAgICAvLyBjb3VsZCBnZXQgcmVtb3RlbXV0YXRpb25zIGJlZm9yZSB3ZSBhcmUgcmVhZHkgYnV0IG1heWJlIE9LIHRvIGp1c3QgaWdub3JlIHRoZW0gbGlrZSB3ZSBkbyBjdXJyZW50bHkuXG4gICAgICAgIC8vIFNvLCB0aGVyZWZvcmUgd2UgaGF2ZSB0byBpbml0aWFsaXNlIHZ1ZSBiZWZvcmUgd2UgaGF2ZSBoZWFyZCBiYWNrIHdoYXQgdGhlIGluaXRpYWwgc3RvcmUgc3RhdGUgc2hvdWxkIGJlLiBtaWdodCBqdXN0IHdvcmsgYnV0IG1heWJlIG5lZWQgdG8gYWRkIGEgXCJsb2FkaW5nXCIgc3RhdHVzIHRvIFZ1ZVxuICAgICAgICAvL2ludGlhaWxseSwgb3IgbWF5YmUgd2UgY2FuIGdldCBhd2F5IHdpdGhvdXQgY2FsbGluZyBtb3VudCgpIHVudGlsIGFmdGVyIHRoZSBzdGF0ZSBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgICAgLy8gQ291bGQgd29yay4uLiBzbyB0aGVuIHdlIGRvbid0IG5lZWQgdG8gc3VwcGx5IHRoZSBzdG9yZSBvciBzdGF0ZSBiZWZvcmUgdGhlIHN0b3JlIGNhbiBiZSBpbml0aWFsaWFzZWQgdXNpbmcgdGhlIG5ldyB2dWUgaW5zdGFuY2UuXG4gICAgfVxuXG4gICAgcmVzZXQobmV3U3RhdGU6IEtlZVN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RvcmUuJHBhdGNoKG5ld1N0YXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25SZW1vdGVNdXRhdGlvblBheWxvYWQocGF5bG9hZDogTXV0YXRpb25QYXlsb2FkKSB7XG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNlaXZlZFBheWxvYWRzLnB1c2gocGF5bG9hZCk7XG4gICAgICAgIHRoaXMuc3RvcmUuJHBhdGNoKHBheWxvYWQpO1xuICAgIH1cblxuICAgIGhhbmRsZUxvY2FsbHlHZW5lcmF0ZWRNdXRhdGlvbihtdXRhdGlvbjogTXV0YXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wZW5kaW5nTXV0YXRpb25zLnB1c2gobXV0YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnJlY2VpdmVkUGF5bG9hZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kTXV0YXRpb25QYXlsb2FkKG11dGF0aW9uLnBheWxvYWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyByZWNlaXZlZCBtdXRhdGlvbiwgaWYgaXQncyBqdXN0IGlnbm9yZSBpdCwgaWYgbm90IHNlbmQgdG8gYmFja2dyb3VuZFxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5yZWNlaXZlZFBheWxvYWRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZGVlcEVxdWFsKHRoaXMucmVjZWl2ZWRQYXlsb2Fkc1tpXSwgbXV0YXRpb24ucGF5bG9hZClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRQYXlsb2Fkcy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgICAgICAgICAgICAvLyBNdWx0aXBsZSBtdXRhdGlvbnMgY2FuIGJlIGluIHRoZSByZWNlaXZlZCBxdWV1ZSBzbyB3ZSBoYXZlIHRvIGJyZWFrLFxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBkdXBsaWNhdGUgcmVjZWl2ZWQgbXV0YXRpb25zIHdpbGwgcmVzdWx0IGluIHNvbWUgYmVpbmcgc2VudFxuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBiYWNrZ3JvdW5kIHRocmVhZCwgbGVhZGluZyB0byBhbiBpbmZpbml0ZSBsb29wLlxuICAgICAgICAgICAgICAgIC8vIFRoZSBleGFjdCBtZWNoYW5pc20gYnkgd2hpY2ggdGhpcyBjYW4gaGFwcGVuIGlzIHVuY2xlYXIgYW5kIGl0XG4gICAgICAgICAgICAgICAgLy8gbWF5IGJlIGEgYnVnIG9yIG11dGFibGUgaW1wbGVtZW50YXRpb24gZGV0YWlsIG9mIFZ1ZVguIEkgaHlwb3RoZXNpc2VcbiAgICAgICAgICAgICAgICAvLyB0aGF0IG11bHRpcGxlIG11dGF0aW9ucyBhcnJpdmluZyBpbiBhIHNob3J0IHBlcmlvZCBvZiB0aW1lIGNhbiBnZXRcbiAgICAgICAgICAgICAgICAvLyBiYXRjaGVkIHRvZ2V0aGVyIGluIGEgd2F5IHRoYXQgYWxsb3dzIG11bHRpcGxlIGhvb2tzIHRvIHF1ZXVlIHVwXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIGJlaW5nIGludm9rZWQuIFRodXMgdGhlIGZpcnN0IHRpbWUgdGhhdCB0aGlzIGxvb3AgaXMgY3JlYXRlZFxuICAgICAgICAgICAgICAgIC8vIGl0IHNldHMgdXAgYSBoaWdoZXIgY2hhbmNlIHRoYXQgdGhlIGxvb3Agd2lsbCByZXBlYXQgYWdhaW4sIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gc3VjaCB0aW1lIGFzIHRoZSBiYXRjaGluZyBiZWhhdmlvdXIgaXMgYWxsIGJ1dCBndWFyYW50ZWVkIGFuZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBsb29wIGNhbiBuZXZlciBlbmQuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE11dGF0aW9uUGF5bG9hZChtdXRhdGlvbi5wYXlsb2FkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb2Nlc3NQZW5kaW5nTG9jYWxseVNvdXJjZWRNdXRhdGlvbnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5wZW5kaW5nTXV0YXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBlbmRpbmdNdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZE11dGF0aW9uUGF5bG9hZCh0aGlzLnBlbmRpbmdNdXRhdGlvbnNbaV0ucGF5bG9hZCk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNdXRhdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4vQWRkb25NZXNzYWdlXCI7XG5pbXBvcnQgeyBWYXVsdE1lc3NhZ2UgfSBmcm9tIFwiLi9WYXVsdE1lc3NhZ2VcIjtcblxuY2xhc3MgQ29udGVudFBvcnRNYW5hZ2VyIHtcbiAgICBwcml2YXRlIHBvcnQ6IGJyb3dzZXIucnVudGltZS5Qb3J0O1xuXG4gICAgLy8gcHVibGljIG1peGluID0ge1xuICAgIC8vICAgICBtZXRob2RzOiB7XG4gICAgLy8gICAgICAgICBwb3N0TWVzc2FnZTogbXNnID0+IHtcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UobXNnKTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vIH07XG5cbiAgICBwdWJsaWMgcG9zdE1lc3NhZ2UobXNnOiBBZGRvbk1lc3NhZ2UgfCBWYXVsdE1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKG1zZyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0dXAobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMucG9ydCA9IGJyb3dzZXIucnVudGltZS5jb25uZWN0KHsgbmFtZSB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMucG9ydCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCByYXcoKTogYnJvd3Nlci5ydW50aW1lLlBvcnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3J0O1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFBvcnQgPSBuZXcgQ29udGVudFBvcnRNYW5hZ2VyKCk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1pbm5lci1kZWNsYXJhdGlvbnMgKi9cbmltcG9ydCB7IEZvcm1GaWxsaW5nIH0gZnJvbSBcIi4vZm9ybUZpbGxpbmdcIjtcbmltcG9ydCB7IEZvcm1VdGlscyB9IGZyb20gXCIuL2Zvcm1zVXRpbHNcIjtcbmltcG9ydCB7IEZvcm1TYXZpbmcgfSBmcm9tIFwiLi9mb3JtU2F2aW5nXCI7XG5pbXBvcnQgeyBQYXNzd29yZEdlbmVyYXRvciB9IGZyb20gXCIuL1Bhc3N3b3JkR2VuZXJhdG9yXCI7XG5pbXBvcnQgeyBLZWVMb2cgfSBmcm9tIFwiLi4vY29tbW9uL0xvZ2dlclwiO1xuaW1wb3J0IHsgY29uZmlnTWFuYWdlciB9IGZyb20gXCIuLi9jb21tb24vQ29uZmlnTWFuYWdlclwiO1xuaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4uL2NvbW1vbi9BZGRvbk1lc3NhZ2VcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi9jb21tb24vQWN0aW9uXCI7XG5pbXBvcnQgdXNlU3RvcmUsIHsgdXNlU3R1YlN0b3JlIH0gZnJvbSBcIi4uL3N0b3JlXCI7XG5pbXBvcnQgeyBTeW5jQ29udGVudCB9IGZyb20gXCIuLi9zdG9yZS9zeW5jQ29udGVudFwiO1xuaW1wb3J0IHsgUG9ydCB9IGZyb20gXCIuLi9jb21tb24vcG9ydFwiO1xuaW1wb3J0IHsgY3JlYXRlUGluaWEgfSBmcm9tIFwicGluaWFcIjtcbmltcG9ydCB7IE11dGF0aW9uIH0gZnJvbSBcIi4uL3N0b3JlL3N5bmNCYWNrZ3JvdW5kXCI7XG5cbi8qIFRoaXMgb3JjaGVzdHJhdGVzIHRoZSBtYWluIGZ1bmN0aW9ucyBvZiB0aGUgYWRkLW9uXG5vbiBhbGwgd2Vic2l0ZSBwYWdlcyBleGNlcHQgdGhvc2UgY29udGFpbmluZyBhIEtQUlBDIHNlcnZlciAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG52YXIga2VlRHVwbGljYXRpb25Db3VudDtcblxuaWYgKGtlZUR1cGxpY2F0aW9uQ291bnQpIHtcbiAgICBpZiAoS2VlTG9nICYmIEtlZUxvZy5lcnJvcikge1xuICAgICAgICBLZWVMb2cuZXJyb3IoXG4gICAgICAgICAgICBcIkR1cGxpY2F0ZSBLZWUgY29udGVudCBzY3JpcHQgaW5zdGFuY2UgZGV0ZWN0ZWQhIEZvdW5kIHRoaXMgbWFueSBvdGhlciBpbnN0YW5jZXM6IFwiICtcbiAgICAgICAgICAgICAgICBrZWVEdXBsaWNhdGlvbkNvdW50XG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRHVwbGljYXRlIEtlZSBjb250ZW50IHNjcmlwdCBpbnN0YW5jZSBkZXRlY3RlZCEgRm91bmQgdGhpcyBtYW55IG90aGVyIGluc3RhbmNlczogXCIgK1xuICAgICAgICAgICAgICAgIGtlZUR1cGxpY2F0aW9uQ291bnRcbiAgICAgICAgKTtcbiAgICB9XG59IGVsc2Uge1xuICAgIGtlZUR1cGxpY2F0aW9uQ291bnQgPSAwO1xufVxua2VlRHVwbGljYXRpb25Db3VudCArPSAxO1xuXG5sZXQgZm9ybVV0aWxzOiBGb3JtVXRpbHM7XG5sZXQgZm9ybUZpbGxpbmc6IEZvcm1GaWxsaW5nO1xubGV0IGZvcm1TYXZpbmc6IEZvcm1TYXZpbmc7XG5sZXQgcGFzc3dvcmRHZW5lcmF0b3I6IFBhc3N3b3JkR2VuZXJhdG9yO1xubGV0IGZyYW1lSWQ6IG51bWJlcjtcbmxldCBzeW5jQ29udGVudDogU3luY0NvbnRlbnQ7XG5sZXQgY29ubmVjdGVkID0gZmFsc2U7XG5sZXQgbWVzc2FnaW5nUG9ydENvbm5lY3Rpb25SZXRyeVRpbWVyOiBudW1iZXI7XG5sZXQgcGFnZVNob3dGaXJlZCA9IGZhbHNlO1xubGV0IGNvbmZpZ1JlYWR5ID0gZmFsc2U7XG5sZXQgbWlzc2luZ1BhZ2VTaG93VGltZXI6IG51bWJlcjtcblxubGV0IGlucHV0c09ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyO1xuXG5jb25zdCBzdG9yZSA9IHVzZVN0dWJTdG9yZSgpO1xuXG4vLyBDb250ZW50IHNjcmlwdHMgYXJlIGluamVjdGVkIGludG8gbm9uLUhUTUwgZG9jdW1lbnRzIHN1Y2ggYXMgU1ZHcy5cbi8vIFdlIGhhdmUgbm8gaW50ZXJlc3QgaW4gdGhpcyBkb2N1bWVudCBpZiBpdCBoYXMgbm8gYm9keSBOb2RlXG5pZiAoZG9jdW1lbnQuYm9keSkge1xuICAgIGlucHV0c09ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbHJlYWR5IHNjaGVkdWxlZCBhIHJlc2NhbiByZWNlbnRseSwgbm8gZnVydGhlciBhY3Rpb24gcmVxdWlyZWRcbiAgICAgICAgaWYgKGZvcm1GaWxsaW5nLmZvcm1GaW5kZXJUaW1lciAhPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIE9ubHkgcHJvY2VlZCBpZiB3ZSBoYXZlIGEgREIgdG8gc2VhcmNoXG4gICAgICAgIGlmICghc3RvcmUuY29ubmVjdGVkIHx8IHN0b3JlLkFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4IDwgMCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCByZXNjYW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgaW50ZXJlc3RpbmdOb2RlcyA9IFtcImZvcm1cIiwgXCJpbnB1dFwiLCBcInNlbGVjdFwiXTtcbiAgICAgICAgbXV0YXRpb25zLmZvckVhY2gobXV0YXRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKHJlc2NhbikgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09IFwiY2hpbGRMaXN0XCIgJiYgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2NhbikgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW50ZXJlc3RpbmdOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IgJiYgZWxlbWVudC5xdWVyeVNlbGVjdG9yKGludGVyZXN0aW5nTm9kZXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzY2FuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2NoZWR1bGUgYSByZXNjYW4gc29vbi4gTm90IGltbWVkaWF0ZWx5LCBpbiBjYXNlIGEgYmF0Y2ggb2YgbXV0YXRpb25zIGFyZSBhYm91dCB0byBiZSB0cmlnZ2VyZWQuXG4gICAgICAgIGlmIChyZXNjYW4pIHtcbiAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZvcm1GaW5kZXJUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbmRNYXRjaGVzSW5UaGlzRnJhbWUuYmluZChmb3JtRmlsbGluZyksXG4gICAgICAgICAgICAgICAgNTAwXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtYXRjaEZpbmRlcih1cmk6IHN0cmluZykge1xuICAgICAgICBQb3J0LnBvc3RNZXNzYWdlKHsgZmluZE1hdGNoZXM6IHsgdXJpIH0gfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHV0b3JpYWxJbnRlZ3JhdGlvbigpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aChcInR1dG9yaWFsLWFkZG9uLmtlZS5wbVwiKSkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIktlZUZveEFkZG9uU3RhdGVUcmFuc2ZlckVsZW1lbnRcIik7XG4gICAgICAgICAgICB0cmFuc2ZlckVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIFwic3RhdGVcIixcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RlZDogc3RvcmUuY29ubmVjdGVkLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBicm93c2VyLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS52ZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBkYkxvYWRlZDogc3RvcmUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggPiAwLFxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uTmFtZXM6IHN0b3JlLktlZVBhc3NEYXRhYmFzZXMubWFwKGRiID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5zZXNzaW9uVHlwZS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICkuZmlsdGVyKCh2LCBpLCBhKSA9PiBhLmluZGV4T2YodikgPT09IGkpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodHJhbnNmZXJFbGVtZW50KTtcblxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoXCJLZWVGb3hBZGRvblN0YXRlVHJhbnNmZXJFdmVudFwiLCB7XG4gICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFuc2ZlckVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkZpcnN0Q29ubmVjdChteUZyYW1lSWQ6IG51bWJlcikge1xuICAgICAgICBmcmFtZUlkID0gbXlGcmFtZUlkO1xuXG4gICAgICAgIEtlZUxvZy5hdHRhY2hDb25maWcoY29uZmlnTWFuYWdlci5jdXJyZW50KTtcbiAgICAgICAgZm9ybVV0aWxzID0gbmV3IEZvcm1VdGlscyhLZWVMb2cpO1xuICAgICAgICBmb3JtU2F2aW5nID0gbmV3IEZvcm1TYXZpbmcoUG9ydC5yYXcsIEtlZUxvZywgZm9ybVV0aWxzKTtcbiAgICAgICAgZm9ybUZpbGxpbmcgPSBuZXcgRm9ybUZpbGxpbmcoXG4gICAgICAgICAgICBQb3J0LnJhdyxcbiAgICAgICAgICAgIGZyYW1lSWQsXG4gICAgICAgICAgICBmb3JtVXRpbHMsXG4gICAgICAgICAgICBmb3JtU2F2aW5nLFxuICAgICAgICAgICAgS2VlTG9nLFxuICAgICAgICAgICAgY29uZmlnTWFuYWdlci5jdXJyZW50LFxuICAgICAgICAgICAgbWF0Y2hGaW5kZXJcbiAgICAgICAgKTtcbiAgICAgICAgcGFzc3dvcmRHZW5lcmF0b3IgPSBuZXcgUGFzc3dvcmRHZW5lcmF0b3IoZnJhbWVJZCk7XG5cbiAgICAgICAgaW5wdXRzT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcblxuICAgICAgICB0dXRvcmlhbEludGVncmF0aW9uKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgICAgICAgS2VlTG9nLmRlYnVnKFwiY29udGVudCBwYWdlIHN0YXJ0aW5nXCIpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uZWN0VG9NZXNzYWdpbmdQb3J0KCk7XG4gICAgICAgICAgICBpZiAoUG9ydC5yYXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEtlZUxvZy53YXJuKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gbWVzc2FnaW5nIHBvcnQuIFdlJ2xsIHRyeSBhZ2FpbiBsYXRlci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBLZWVMb2cud2FybihcbiAgICAgICAgICAgICAgICBcIkZhaWxlZCB0byBjb25uZWN0IHRvIG1lc3NhZ2luZyBwb3J0LiBXZSdsbCB0cnkgYWdhaW4gbGF0ZXIuIEV4Y2VwdGlvbiBtZXNzYWdlOiBcIiArXG4gICAgICAgICAgICAgICAgICAgIGV4Lm1lc3NhZ2VcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNzYWdpbmdQb3J0Q29ubmVjdGlvblJldHJ5VGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKFBvcnQucmF3ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBLZWVMb2cuaW5mbyhcIk1lc3NhZ2luZyBwb3J0IHdhcyBub3QgZXN0YWJsaXNoZWQgYXQgcGFnZSBzdGFydHVwLiBSZXRyeWluZyBub3cuLi5cIik7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdFRvTWVzc2FnaW5nUG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoUG9ydC5yYXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgS2VlTG9nLndhcm4oXCJGYWlsZWQgdG8gY29ubmVjdCB0byBtZXNzYWdpbmcgcG9ydC4gV2UnbGwgdHJ5IGFnYWluIGxhdGVyLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIEtlZUxvZy53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJGYWlsZWQgdG8gY29ubmVjdCB0byBtZXNzYWdpbmcgcG9ydC4gV2UnbGwgdHJ5IGFnYWluIGxhdGVyLiBFeGNlcHRpb24gbWVzc2FnZTogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Lm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobWVzc2FnaW5nUG9ydENvbm5lY3Rpb25SZXRyeVRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG5cbiAgICAgICAgS2VlTG9nLmRlYnVnKFwiY29udGVudCBwYWdlIHJlYWR5XCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbm5lY3RUb01lc3NhZ2luZ1BvcnQoKSB7XG4gICAgICAgIGlmIChQb3J0LnJhdykge1xuICAgICAgICAgICAgS2VlTG9nLndhcm4oXG4gICAgICAgICAgICAgICAgXCJwb3J0IGFscmVhZHkgc2V0IHRvICdcIiArXG4gICAgICAgICAgICAgICAgICAgIFBvcnQucmF3Lm5hbWUgK1xuICAgICAgICAgICAgICAgICAgICBcIicuIFNraXBwaW5nIHN0YXJ0dXAgYmVjYXVzZSBpdCBzaG91bGQgYWxyZWFkeSBiZSB1bmRlcndheSBidXQgaXMgdGFraW5nIGEgbG9uZyB0aW1lLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN5bmNDb250ZW50ID0gbmV3IFN5bmNDb250ZW50KHN0b3JlKTtcbiAgICAgICAgUG9ydC5zdGFydHVwKFwicGFnZVwiKTtcblxuICAgICAgICBQb3J0LnJhdy5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKG06IEFkZG9uTWVzc2FnZSkge1xuICAgICAgICAgICAgS2VlTG9nLmRlYnVnKFwiSW4gYnJvd3NlciBjb250ZW50IHBhZ2Ugc2NyaXB0LCByZWNlaXZlZCBtZXNzYWdlIGZyb20gYmFja2dyb3VuZCBzY3JpcHRcIik7XG5cbiAgICAgICAgICAgIGlmIChtLmluaXRpYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHN5bmNDb250ZW50LmluaXQobS5pbml0aWFsU3RhdGUsIChtdXRhdGlvbjogTXV0YXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgUG9ydC5wb3N0TWVzc2FnZSh7IG11dGF0aW9uIH0gYXMgQWRkb25NZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtLm11dGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3luY0NvbnRlbnQub25SZW1vdGVNdXRhdGlvbihtLm11dGF0aW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgb25GaXJzdENvbm5lY3QobS5mcmFtZUlkKTtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5maW5kTWF0Y2hlc0luVGhpc0ZyYW1lKCk7XG4gICAgICAgICAgICAgICAgY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobS5hY3Rpb24gPT0gQWN0aW9uLkRldGVjdEZvcm1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKG0ucmVzZXRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTb21ldGltZXMgdGhlIHBhZ2UncyBWdWV4IHN0YXRlIGNhbiBiZSBvdXQgb2Ygc3luYyB3aXRoIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kIC0gZS5nLiB3aGVuIHRoZSB0YWIgaGFzIGJlZW4gaW5hY3RpdmUgZm9yIHNvbWVcbiAgICAgICAgICAgICAgICAgICAgLy8gdGltZS4gSW4gdGhlc2UgY2FzZXMsIHdlIG11c3Qgc3VwcGx5IHRoZSBmdWxsIHN0YXRlIGFnYWluXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlZm9yZSBsb29raW5nIGZvciBtYXRjaGluZyBlbnRyaWVzLlxuICAgICAgICAgICAgICAgICAgICBzeW5jQ29udGVudC5yZXNldChtLnJlc2V0U3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5yZW1vdmVLZWVJY29uRnJvbUFsbEZpZWxkcygpO1xuICAgICAgICAgICAgICAgIGZvcm1TYXZpbmcucmVtb3ZlQWxsU3VibWl0SGFuZGxlcnMoKTtcblxuICAgICAgICAgICAgICAgIGlmIChzdG9yZS5lbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcCA+PSBEYXRlLm5vdygpIC0gMjAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuZmluZE1hdGNoZXNJblRoaXNGcmFtZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvZmlsbE9uU3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvc3VibWl0T25TdWNjZXNzOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5maW5kTWF0Y2hlc0luVGhpc0ZyYW1lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobS5maW5kTWF0Y2hlc1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbmRMb2dpbnNSZXN1bHRIYW5kbGVyKG0uZmluZE1hdGNoZXNSZXN1bHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobS5hY3Rpb24gPT0gQWN0aW9uLk1hbnVhbEZpbGwgJiYgbS5zZWxlY3RlZEVudHJ5SW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmNsb3NlTWF0Y2hlZExvZ2luc1BhbmVsKCk7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuZmlsbEFuZFN1Ym1pdChmYWxzZSwgbnVsbCwgbS5zZWxlY3RlZEVudHJ5SW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobS5hY3Rpb24gPT0gQWN0aW9uLlJlc2V0Rm9ybXMpIHtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5yZW1vdmVLZWVJY29uRnJvbUFsbEZpZWxkcygpO1xuICAgICAgICAgICAgICAgIGZvcm1TYXZpbmcucmVtb3ZlQWxsU3VibWl0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5QcmltYXJ5KSB7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuZXhlY3V0ZVByaW1hcnlBY3Rpb24oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5HZW5lcmF0ZVBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgcGFzc3dvcmRHZW5lcmF0b3IuY3JlYXRlR2VuZXJhdGVQYXNzd29yZFBhbmVsKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtLmFjdGlvbiA9PSBBY3Rpb24uQ2xvc2VBbGxQYW5lbHMpIHtcbiAgICAgICAgICAgICAgICBwYXNzd29yZEdlbmVyYXRvci5jbG9zZUdlbmVyYXRlUGFzc3dvcmRQYW5lbCgpO1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmNsb3NlTWF0Y2hlZExvZ2luc1BhbmVsKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtLmFjdGlvbiA9PSBBY3Rpb24uU2hvd01hdGNoZWRMb2dpbnNQYW5lbCkge1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbEluQ2VudGVyKG0uZnJhbWVJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZXNob3dcIiwgKCkgPT4ge1xuICAgICAgICBwYWdlU2hvd0ZpcmVkID0gdHJ1ZTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KG1pc3NpbmdQYWdlU2hvd1RpbWVyKTtcbiAgICAgICAgaWYgKGNvbmZpZ1JlYWR5KSB7XG4gICAgICAgICAgICBzdGFydHVwKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsICgpID0+IHtcbiAgICAgICAgaW5wdXRzT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBpZiAoUG9ydC5yYXcpIFBvcnQucG9zdE1lc3NhZ2UoeyBhY3Rpb246IEFjdGlvbi5QYWdlSGlkZSB9KTtcbiAgICAgICAgZm9ybUZpbGxpbmcucmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKTtcbiAgICAgICAgUG9ydC5zaHV0ZG93bigpO1xuICAgICAgICBjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgZnJhbWVJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9ybVV0aWxzID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3JtU2F2aW5nID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3JtRmlsbGluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcGFzc3dvcmRHZW5lcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgfSk7XG5cbiAgICAvLyBMb2FkIG91ciBjb25maWdcbiAgICBjb25maWdNYW5hZ2VyLmxvYWQoKCkgPT4ge1xuICAgICAgICBjb25maWdSZWFkeSA9IHRydWU7XG4gICAgICAgIGlmIChwYWdlU2hvd0ZpcmVkKSB7XG4gICAgICAgICAgICBzdGFydHVwKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBQYWdlIHNob3cgZG9lcyBub3QgYWx3YXlzIGZpcmUgKGUuZy4gb24gZmlyc3QgaW5zdGFsbCBvZiB0aGUgZXh0ZW5zaW9uKVxuICAgICAgICAgICAgLy8gc28gd2Ugd29uJ3Qgd2FpdCBhcm91bmQgZm9yZXZlciwgYXQgdGhlIGNvc3Qgb2Ygb2NjYXNpb25hbCBkdXBsaWNhdGVcbiAgICAgICAgICAgIC8vIHN0YXJ0dXAgY29kZSAtIGJyb2FkbHkgbGltaXRlZCB0byBkaXNjb3ZlcmluZyB0aGF0IHRoZSBtZXNzYWdlIHBvcnRcbiAgICAgICAgICAgIC8vIGlzIGFscmVhZHkgZXN0YWJsaXNoZWQuXG4gICAgICAgICAgICBtaXNzaW5nUGFnZVNob3dUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KHN0YXJ0dXAsIDE1MDApO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsIm1vZHVsZSIsInRoaXMiLCJfYiIsIl9hIiwiQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFIiwid3JhcEFQSXMiLCJleHRlbnNpb25BUElzIiwiYXBpTWV0YWRhdGEiLCJEZWZhdWx0V2Vha01hcCIsImNyZWF0ZUl0ZW0iLCJpdGVtcyIsImtleSIsImlzVGhlbmFibGUiLCJ2YWx1ZSIsIm1ha2VDYWxsYmFjayIsInByb21pc2UiLCJtZXRhZGF0YSIsImNhbGxiYWNrQXJncyIsInBsdXJhbGl6ZUFyZ3VtZW50cyIsIm51bUFyZ3MiLCJ3cmFwQXN5bmNGdW5jdGlvbiIsIm5hbWUiLCJ0YXJnZXQiLCJhcmdzIiwicmVzb2x2ZSIsInJlamVjdCIsImNiRXJyb3IiLCJ3cmFwTWV0aG9kIiwibWV0aG9kIiwid3JhcHBlciIsInRhcmdldE1ldGhvZCIsInRoaXNPYmoiLCJoYXNPd25Qcm9wZXJ0eSIsIndyYXBPYmplY3QiLCJ3cmFwcGVycyIsImNhY2hlIiwiaGFuZGxlcnMiLCJwcm94eVRhcmdldCIsInByb3AiLCJyZWNlaXZlciIsImRlc2MiLCJ3cmFwRXZlbnQiLCJ3cmFwcGVyTWFwIiwibGlzdGVuZXIiLCJvblJlcXVlc3RGaW5pc2hlZFdyYXBwZXJzIiwicmVxIiwid3JhcHBlZFJlcSIsIm9uTWVzc2FnZVdyYXBwZXJzIiwibWVzc2FnZSIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImRpZENhbGxTZW5kUmVzcG9uc2UiLCJ3cmFwcGVkU2VuZFJlc3BvbnNlIiwic2VuZFJlc3BvbnNlUHJvbWlzZSIsInJlc3BvbnNlIiwicmVzdWx0IiwiZXJyIiwiaXNSZXN1bHRUaGVuYWJsZSIsInNlbmRQcm9taXNlZFJlc3VsdCIsIm1zZyIsImVycm9yIiwid3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2siLCJyZXBseSIsIndyYXBwZWRTZW5kTWVzc2FnZSIsImFwaU5hbWVzcGFjZU9iaiIsIndyYXBwZWRDYiIsInN0YXRpY1dyYXBwZXJzIiwic2V0dGluZ01ldGFkYXRhIiwiU2l0ZUNvbmZpZyIsIlNpdGVDb25maWdMb29rdXAiLCJTaXRlQ29uZmlnSW5kZXgiLCJDb25maWciLCJkZWZhdWx0U2l0ZUNvbmZpZyIsIkNvbmZpZ01pZ3JhdGlvbnMiLCJjdXJyZW50IiwibmV3TG9nTGV2ZWwiLCJuZXdTaXRlQ29uZmlnIiwiaSIsInVybCIsIndpdGhvdXRQcm90b2NvbCIsIm5ld0NvbmZpZyIsInBhdGhJbmRleCIsImhvc3QiLCJ3ZWlnaHQiLCJwYWdlUHJlZml4Iiwib2xkQ29uZmlnIiwic2MiLCJVdGlscyIsInZlcnNpb25BcnJheSIsInZlcnNpb25JbnQiLCJieXRlQXJyYXkiLCJieXRlIiwiY2hhckNvZGUiLCJieXRlQ291bnQiLCJieXRlcyIsImhleCIsImRhdGEiLCJvdXRGb3JtYXQiLCJhbGdvcml0aG0iLCJpbkJ1ZmZlciIsIm91dEJ1ZmZlciIsInV0aWxzIiwiaW50IiwiaW5kZXgiLCJpbnRBcnJheSIsImoiLCJzdHIiLCJpbnB1dCIsImV4dHJhTGVuZ3RoIiwidmlldyIsImJpbmFyeSIsImxlbiIsIm9mZnNldCIsImJ1ZmZlciIsImFycmF5QnVmZmVyIiwiYmFzZTY0IiwiZW5jb2RpbmdzIiwiYnl0ZUxlbmd0aCIsImJ5dGVSZW1haW5kZXIiLCJtYWluTGVuZ3RoIiwiYiIsImMiLCJkIiwiY2h1bmsiLCJoZXhTdHJpbmciLCJudW1CeXRlcyIsImx1dCIsImR2YWxzIiwiZDAiLCJkMSIsImQyIiwiZDMiLCJkZWVwRXF1YWwiLCJhIiwibGVuZ3RoIiwia2V5cyIsImxpc3QiLCJjb25zdHJ1Y3RvciIsImVycm9yQ29uc3RydWN0b3JzIiwiY29tbW9uUHJvcGVydGllcyIsInRvSnNvbldhc0NhbGxlZCIsInRvSlNPTiIsImZyb20iLCJqc29uIiwiZ2V0RXJyb3JDb25zdHJ1Y3RvciIsImRlc3Ryb3lDaXJjdWxhciIsInNlZW4iLCJ0byIsImZvcmNlRW51bWVyYWJsZSIsIm1heERlcHRoIiwiZGVwdGgiLCJ1c2VUb0pTT04iLCJzZXJpYWxpemUiLCJpc0Vycm9yTGlrZSIsIkVycm9yIiwiY29udGludWVEZXN0cm95Q2lyY3VsYXIiLCJwcm9wZXJ0eSIsImVudW1lcmFibGUiLCJzZXJpYWxpemVFcnJvciIsIm9wdGlvbnMiLCJLZWVMb2dnZXIiLCJjb25maWciLCJlIiwibG9nTGV2ZWwiLCJLZWVMb2ciLCJMQVRFU1RfVkVSU0lPTiIsImRlZmF1bHRDb25maWciLCJDb25maWdNYW5hZ2VyIiwiYnJvd3Nlci5zdG9yYWdlIiwiY2hhbmdlcyIsImFyZWEiLCJjb25maWdNYW5hZ2VyIiwidmFsdWVzIiwibnVtUGFnZXMiLCJwYWdlcyIsIm8iLCJjb25maWdTdHJpbmciLCJjb25maWdWYWx1ZXMiLCJvbkxvYWRlZCIsInBhZ2VDb3VudCIsIm5leHRQYWdlIiwib2xkUGFnZUNvdW50Iiwic2F2ZU5lZWRlZCIsIm1pZ3JhdGlvbnMiLCJtYXRjaGVkQ29uZmlnTm9kZXMiLCJub2RlMSIsIm5vZGUyIiwidXJsU3RyaW5nIiwicGFnZSIsImRvbWFpbiIsIm1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMiLCJkZXJpdmVkQ29uZmlnIiwibm9kZSIsImljIiwiZm9ybSIsImNvbmYiLCJvdGhlckZpZWxkcyIsImZpZWxkSWRzIiwiZmllbGQiLCJmaWVsZE5hbWVzIiwiZm9ybUlkIiwiZm9ybU5hbWUiLCJleGNsdWRlRm9ybUlkcyIsIngiLCJleGNsdWRlRm9ybU5hbWVzIiwiX2QiLCJfYyIsImV4Y2x1ZGVGaWVsZElkcyIsIl9mIiwiX2UiLCJleGNsdWRlRmllbGROYW1lcyIsIl9oIiwiX2ciLCJpZCIsIm4iLCJpbmNsdWRlRm9ybUlkcyIsIl9qIiwiX2kiLCJpbmNsdWRlRm9ybU5hbWVzIiwiX2wiLCJfayIsImluY2x1ZGVGaWVsZElkcyIsIl9uIiwiX20iLCJpbmNsdWRlRmllbGROYW1lcyIsIl9wIiwiX28iLCJ1dWlkIiwiY29uZmlndXJlZFRhcmdldCIsImFsbENvbmZpZ05vZGVzQW5kTG9va3VwcyIsImN1cnJlbnRQcmVmZXJyZWRVdWlkIiwiY25sIiwibG9va3VwIiwidDEiLCJ0MiIsInBhcnRpYWxDb25maWciLCJzb3VyY2UiLCJjb25maWdMb29rdXAiLCJQYW5lbFN0dWJPcHRpb25zIiwiUGFuZWxTdHViIiwicGFyZW50RnJhbWVJZCIsInNoYWRvdyIsInN0eWxlIiwiaWZyYW1lIiwidGVtcGxhdGUiLCJicm93c2VyLmV4dGVuc2lvbiIsImJvZHlFbGVtZW50cyIsImZyYW1lc2V0RWxlbWVudHMiLCJvbGRSZWN0IiwicHJlZmVycmVkQ29udGFpbmVySGVpZ2h0IiwiY29udGFpbmVySGVpZ2h0IiwiY29udGFpbmVyV2lkdGgiLCJwb3NpdGlvbkFib3ZlIiwidGFyZ2V0VG9wIiwidGFyZ2V0Qm90dG9tIiwicHJlZmVycmVkQXJyb3dYQ29vcmQiLCJwcmVmZXJyZWRCb3R0b20iLCJwcmVmZXJyZWRUb3AiLCJvdmVyZmxvd0JvdHRvbSIsIm92ZXJmbG93VG9wIiwidGFyZ2V0V2lkdGgiLCJyZWxhdGl2ZUxlZnQiLCJ0b3AiLCJsZWZ0IiwicGFuZWwiLCJBY3Rpb24iLCJLZWVGaWVsZEljb24iLCJteVBvcnQiLCJmb3JtVXRpbHMiLCJjcmVhdGVNYXRjaGVkTG9naW5zUGFuZWxOZWFyTm9kZSIsImVsZW1lbnQiLCJwYXNzd29yZEZpZWxkcyIsImVudHJpZXMiLCJpbWFnZSIsInRyYW5zaXRpb25Db25maWciLCJ2YWwiLCJmaWVsZHMiLCJmIiwiZmllbGRTZXQxIiwiZmllbGRTZXQyIiwiY3VycmVudFN0eWxlIiwic2hhZG93cyIsInMiLCJiY3JlY3QiLCJsZWZ0TGltaXQiLCJ0ZXh0IiwiY2FudmFzIiwiaW1nIiwiY29udGV4dCIsIk1hdGNoUmVzdWx0IiwiU2Vzc2lvblR5cGUiLCJFbnRyeVN1bW1hcnkiLCJlbnRyeSIsIkVudHJ5IiwiZW50cnlTdW1tYXJ5RHRvIiwicGF0aCIsImRiRmlsZU5hbWUiLCJHcm91cCIsImciLCJncm91cER0byIsImNoaWxkTGlnaHRFbnRyeSIsImNoaWxkR3JvdXAiLCJncm91cCIsIkRhdGFiYXNlIiwiZGIiLCJkdG8iLCJzZXNzaW9uVHlwZSIsInNlc3Npb25GZWF0dXJlcyIsIiRTVFIiLCJicm93c2VyLmkxOG4iLCIkU1RSRiIsInN1YnMiLCJMb2NhdG9yIiwibG9jYXRvciIsIkVudHJ5RHRvIiwiRm9ybUZpZWxkVHlwZURUTyIsIkZpZWxkIiwicmV2ZWFsUGFzc3dvcmRzIiwicmVwbGFjZW1lbnRJZlByb3RlY3RlZCIsImRvbVR5cGUiLCJ1c2VybmFtZUluZGV4IiwicGFzc3dvcmRzIiwibGFiZWxzIiwiY29sbGVjdExhYmVscyIsImNvbGxlY3RBdXRvY29tcGxldGVWYWx1ZXMiLCJ0eXBlIiwibG9jYXRvclR5cGUiLCJpc1VzZXJuYW1lIiwiZmZ0IiwibGFiZWxzQ291bnQiLCJsYWJlbCIsImFyaWFMYWJlbCIsImFyaWFMYWJlbElkcyIsImxhYmVsRWxlbWVudCIsInYiLCJHcm91cFN1bW1hcnkiLCJncm91cFN1bW1hcnlEdG8iLCJlbnRyeUR0byIsInNvcnRlZEZpZWxkcyIsIm1heGltdW1QYWdlIiwidW5zb3J0ZWRGaWVsZHMiLCJmaXJzdFBhc3N3b3JkSW5kZXgiLCJtYWtlTWFwIiwiZXhwZWN0c0xvd2VyQ2FzZSIsIm1hcCIsIlBhdGNoRmxhZ05hbWVzIiwic2xvdEZsYWdzVGV4dCIsImlzR2xvYmFsbHlXaGl0ZWxpc3RlZCIsInJhbmdlIiwiZ2VuZXJhdGVDb2RlRnJhbWUiLCJzdGFydCIsImVuZCIsImxpbmVzIiwibmV3bGluZVNlcXVlbmNlcyIsIl8iLCJpZHgiLCJjb3VudCIsInJlcyIsImxpbmUiLCJsaW5lTGVuZ3RoIiwibmV3TGluZVNlcUxlbmd0aCIsInBhZCIsIm5vcm1hbGl6ZVN0eWxlIiwiaXNBcnJheSIsIml0ZW0iLCJub3JtYWxpemVkIiwiaXNTdHJpbmciLCJwYXJzZVN0cmluZ1N0eWxlIiwiaXNPYmplY3QiLCJsaXN0RGVsaW1pdGVyUkUiLCJwcm9wZXJ0eURlbGltaXRlclJFIiwic3R5bGVDb21tZW50UkUiLCJjc3NUZXh0IiwicmV0IiwidG1wIiwibm9ybWFsaXplQ2xhc3MiLCJub3JtYWxpemVQcm9wcyIsInByb3BzIiwia2xhc3MiLCJIVE1MX1RBR1MiLCJTVkdfVEFHUyIsIlZPSURfVEFHUyIsImlzSFRNTFRhZyIsImlzU1ZHVGFnIiwiaXNWb2lkVGFnIiwiaXNTcGVjaWFsQm9vbGVhbkF0dHIiLCJpbmNsdWRlQm9vbGVhbkF0dHIiLCJsb29zZUNvbXBhcmVBcnJheXMiLCJlcXVhbCIsImxvb3NlRXF1YWwiLCJhVmFsaWRUeXBlIiwiaXNEYXRlIiwiYlZhbGlkVHlwZSIsImlzU3ltYm9sIiwiYUtleXNDb3VudCIsImJLZXlzQ291bnQiLCJhSGFzS2V5IiwiYkhhc0tleSIsImxvb3NlSW5kZXhPZiIsImFyciIsInRvRGlzcGxheVN0cmluZyIsIm9iamVjdFRvU3RyaW5nIiwiaXNGdW5jdGlvbiIsInJlcGxhY2VyIiwiX2tleSIsImlzTWFwIiwiaXNTZXQiLCJpc1BsYWluT2JqZWN0IiwiRU1QVFlfT0JKIiwiRU1QVFlfQVJSIiwiTk9PUCIsIk5PIiwib25SRSIsImlzT24iLCJpc01vZGVsTGlzdGVuZXIiLCJleHRlbmQiLCJyZW1vdmUiLCJlbCIsImhhc093biIsInRvVHlwZVN0cmluZyIsImlzUHJvbWlzZSIsInRvUmF3VHlwZSIsImlzSW50ZWdlcktleSIsImlzUmVzZXJ2ZWRQcm9wIiwiaXNCdWlsdEluRGlyZWN0aXZlIiwiY2FjaGVTdHJpbmdGdW5jdGlvbiIsImZuIiwiY2FtZWxpemVSRSIsImNhbWVsaXplIiwiaHlwaGVuYXRlUkUiLCJoeXBoZW5hdGUiLCJjYXBpdGFsaXplIiwidG9IYW5kbGVyS2V5IiwiaGFzQ2hhbmdlZCIsIm9sZFZhbHVlIiwiaW52b2tlQXJyYXlGbnMiLCJmbnMiLCJhcmciLCJkZWYiLCJvYmoiLCJ0b051bWJlciIsIl9nbG9iYWxUaGlzIiwiZ2V0R2xvYmFsVGhpcyIsIndhcm4iLCJhY3RpdmVFZmZlY3RTY29wZSIsIkVmZmVjdFNjb3BlIiwiZGV0YWNoZWQiLCJjdXJyZW50RWZmZWN0U2NvcGUiLCJmcm9tUGFyZW50IiwibCIsImxhc3QiLCJlZmZlY3RTY29wZSIsInJlY29yZEVmZmVjdFNjb3BlIiwiZWZmZWN0Iiwic2NvcGUiLCJnZXRDdXJyZW50U2NvcGUiLCJvblNjb3BlRGlzcG9zZSIsImNyZWF0ZURlcCIsImVmZmVjdHMiLCJkZXAiLCJ3YXNUcmFja2VkIiwidHJhY2tPcEJpdCIsIm5ld1RyYWNrZWQiLCJpbml0RGVwTWFya2VycyIsImRlcHMiLCJmaW5hbGl6ZURlcE1hcmtlcnMiLCJwdHIiLCJ0YXJnZXRNYXAiLCJlZmZlY3RUcmFja0RlcHRoIiwibWF4TWFya2VyQml0cyIsImFjdGl2ZUVmZmVjdCIsIklURVJBVEVfS0VZIiwiTUFQX0tFWV9JVEVSQVRFX0tFWSIsIlJlYWN0aXZlRWZmZWN0Iiwic2NoZWR1bGVyIiwicGFyZW50IiwibGFzdFNob3VsZFRyYWNrIiwic2hvdWxkVHJhY2siLCJjbGVhbnVwRWZmZWN0IiwiX2VmZmVjdCIsInJ1bm5lciIsInN0b3AiLCJ0cmFja1N0YWNrIiwicGF1c2VUcmFja2luZyIsInJlc2V0VHJhY2tpbmciLCJ0cmFjayIsImRlcHNNYXAiLCJ0cmFja0VmZmVjdHMiLCJkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvIiwidHJpZ2dlciIsIm5ld1ZhbHVlIiwib2xkVGFyZ2V0IiwibmV3TGVuZ3RoIiwiZXZlbnRJbmZvIiwidHJpZ2dlckVmZmVjdHMiLCJ0cmlnZ2VyRWZmZWN0IiwiaXNOb25UcmFja2FibGVLZXlzIiwiYnVpbHRJblN5bWJvbHMiLCJnZXQiLCJjcmVhdGVHZXR0ZXIiLCJzaGFsbG93R2V0IiwicmVhZG9ubHlHZXQiLCJzaGFsbG93UmVhZG9ubHlHZXQiLCJhcnJheUluc3RydW1lbnRhdGlvbnMiLCJjcmVhdGVBcnJheUluc3RydW1lbnRhdGlvbnMiLCJpbnN0cnVtZW50YXRpb25zIiwidG9SYXciLCJpc1JlYWRvbmx5Iiwic2hhbGxvdyIsInNoYWxsb3dSZWFkb25seU1hcCIsInJlYWRvbmx5TWFwIiwic2hhbGxvd1JlYWN0aXZlTWFwIiwicmVhY3RpdmVNYXAiLCJ0YXJnZXRJc0FycmF5IiwiaXNSZWYiLCJyZWFkb25seSIsInJlYWN0aXZlIiwic2V0IiwiY3JlYXRlU2V0dGVyIiwic2hhbGxvd1NldCIsImlzU2hhbGxvdyIsImhhZEtleSIsImRlbGV0ZVByb3BlcnR5IiwiaGFzIiwib3duS2V5cyIsIm11dGFibGVIYW5kbGVycyIsInJlYWRvbmx5SGFuZGxlcnMiLCJzaGFsbG93UmVhY3RpdmVIYW5kbGVycyIsInNoYWxsb3dSZWFkb25seUhhbmRsZXJzIiwidG9TaGFsbG93IiwiZ2V0UHJvdG8iLCJnZXQkMSIsInJhd1RhcmdldCIsInJhd0tleSIsIndyYXAiLCJ0b1JlYWRvbmx5IiwidG9SZWFjdGl2ZSIsImhhcyQxIiwic2l6ZSIsImFkZCIsInNldCQxIiwiY2hlY2tJZGVudGl0eUtleXMiLCJkZWxldGVFbnRyeSIsImNsZWFyIiwiaGFkSXRlbXMiLCJjcmVhdGVGb3JFYWNoIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwib2JzZXJ2ZWQiLCJjcmVhdGVJdGVyYWJsZU1ldGhvZCIsInRhcmdldElzTWFwIiwiaXNQYWlyIiwiaXNLZXlPbmx5IiwiaW5uZXJJdGVyYXRvciIsImRvbmUiLCJjcmVhdGVSZWFkb25seU1ldGhvZCIsImNyZWF0ZUluc3RydW1lbnRhdGlvbnMiLCJtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyIsInNoYWxsb3dJbnN0cnVtZW50YXRpb25zIiwicmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIiwic2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyIsImNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlciIsIm11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMiLCJzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzIiwicmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMiLCJzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMiLCJ0YXJnZXRUeXBlTWFwIiwicmF3VHlwZSIsImdldFRhcmdldFR5cGUiLCJjcmVhdGVSZWFjdGl2ZU9iamVjdCIsInNoYWxsb3dSZWFjdGl2ZSIsInNoYWxsb3dSZWFkb25seSIsImJhc2VIYW5kbGVycyIsImNvbGxlY3Rpb25IYW5kbGVycyIsInByb3h5TWFwIiwiZXhpc3RpbmdQcm94eSIsInRhcmdldFR5cGUiLCJwcm94eSIsImlzUmVhY3RpdmUiLCJpc1Byb3h5IiwicmF3IiwibWFya1JhdyIsInRyYWNrUmVmVmFsdWUiLCJyZWYiLCJ0cmlnZ2VyUmVmVmFsdWUiLCJuZXdWYWwiLCJyIiwiY3JlYXRlUmVmIiwic2hhbGxvd1JlZiIsInJhd1ZhbHVlIiwiUmVmSW1wbCIsIl9fdl9pc1NoYWxsb3ciLCJ1c2VEaXJlY3RWYWx1ZSIsInRyaWdnZXJSZWYiLCJ1bnJlZiIsInNoYWxsb3dVbndyYXBIYW5kbGVycyIsInByb3h5UmVmcyIsIm9iamVjdFdpdGhSZWZzIiwiQ3VzdG9tUmVmSW1wbCIsImN1c3RvbVJlZiIsInRvUmVmcyIsIm9iamVjdCIsInRvUmVmIiwiT2JqZWN0UmVmSW1wbCIsIl9vYmplY3QiLCJfZGVmYXVsdFZhbHVlIiwiZGVmYXVsdFZhbHVlIiwiQ29tcHV0ZWRSZWZJbXBsIiwiZ2V0dGVyIiwiX3NldHRlciIsImlzU1NSIiwic2VsZiIsImNvbXB1dGVkIiwiZ2V0dGVyT3JPcHRpb25zIiwiZGVidWdPcHRpb25zIiwic2V0dGVyIiwib25seUdldHRlciIsImNSZWYiLCJzdGFjayIsInB1c2hXYXJuaW5nQ29udGV4dCIsInZub2RlIiwicG9wV2FybmluZ0NvbnRleHQiLCJ3YXJuJDEiLCJpbnN0YW5jZSIsImFwcFdhcm5IYW5kbGVyIiwidHJhY2UiLCJnZXRDb21wb25lbnRUcmFjZSIsImNhbGxXaXRoRXJyb3JIYW5kbGluZyIsImZvcm1hdENvbXBvbmVudE5hbWUiLCJ3YXJuQXJncyIsImZvcm1hdFRyYWNlIiwiY3VycmVudFZOb2RlIiwibm9ybWFsaXplZFN0YWNrIiwicGFyZW50SW5zdGFuY2UiLCJsb2dzIiwiZm9ybWF0VHJhY2VFbnRyeSIsInJlY3Vyc2VDb3VudCIsInBvc3RmaXgiLCJpc1Jvb3QiLCJvcGVuIiwiY2xvc2UiLCJmb3JtYXRQcm9wcyIsImZvcm1hdFByb3AiLCJFcnJvclR5cGVTdHJpbmdzIiwiaGFuZGxlRXJyb3IiLCJjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyIsInRocm93SW5EZXYiLCJjb250ZXh0Vk5vZGUiLCJjdXIiLCJleHBvc2VkSW5zdGFuY2UiLCJlcnJvckluZm8iLCJlcnJvckNhcHR1cmVkSG9va3MiLCJhcHBFcnJvckhhbmRsZXIiLCJsb2dFcnJvciIsImluZm8iLCJpc0ZsdXNoaW5nIiwiaXNGbHVzaFBlbmRpbmciLCJxdWV1ZSIsImZsdXNoSW5kZXgiLCJwZW5kaW5nUG9zdEZsdXNoQ2JzIiwiYWN0aXZlUG9zdEZsdXNoQ2JzIiwicG9zdEZsdXNoSW5kZXgiLCJyZXNvbHZlZFByb21pc2UiLCJjdXJyZW50Rmx1c2hQcm9taXNlIiwiUkVDVVJTSU9OX0xJTUlUIiwibmV4dFRpY2siLCJwIiwiZmluZEluc2VydGlvbkluZGV4IiwibWlkZGxlIiwiZ2V0SWQiLCJxdWV1ZUpvYiIsImpvYiIsInF1ZXVlRmx1c2giLCJmbHVzaEpvYnMiLCJpbnZhbGlkYXRlSm9iIiwicXVldWVQb3N0Rmx1c2hDYiIsImNiIiwiZmx1c2hQcmVGbHVzaENicyIsImNoZWNrUmVjdXJzaXZlVXBkYXRlcyIsImZsdXNoUG9zdEZsdXNoQ2JzIiwiZGVkdXBlZCIsImNvbXBhcmF0b3IiLCJkaWZmIiwiY2hlY2siLCJjb21wb25lbnROYW1lIiwiZ2V0Q29tcG9uZW50TmFtZSIsImlzSG1yVXBkYXRpbmciLCJobXJEaXJ0eUNvbXBvbmVudHMiLCJ0cnlXcmFwIiwiY3JlYXRlUmVjb3JkIiwicmVyZW5kZXIiLCJyZWxvYWQiLCJyZWdpc3RlckhNUiIsInJlY29yZCIsInVucmVnaXN0ZXJITVIiLCJpbml0aWFsRGVmIiwibm9ybWFsaXplQ2xhc3NDb21wb25lbnQiLCJjb21wb25lbnQiLCJpc0NsYXNzQ29tcG9uZW50IiwibmV3UmVuZGVyIiwibmV3Q29tcCIsInVwZGF0ZUNvbXBvbmVudERlZiIsImluc3RhbmNlcyIsIm9sZENvbXAiLCJkZXZ0b29scyIsImRldnRvb2xzTm90SW5zdGFsbGVkIiwiZW1pdCIsImV2ZW50Iiwic2V0RGV2dG9vbHNIb29rIiwiaG9vayIsIm5ld0hvb2siLCJkZXZ0b29sc0luaXRBcHAiLCJhcHAiLCJ2ZXJzaW9uIiwiRnJhZ21lbnQiLCJUZXh0IiwiQ29tbWVudCIsIlN0YXRpYyIsImRldnRvb2xzVW5tb3VudEFwcCIsImRldnRvb2xzQ29tcG9uZW50QWRkZWQiLCJjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2siLCJkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQiLCJfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkIiwiZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkIiwiZGV2dG9vbHNQZXJmU3RhcnQiLCJjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayIsImRldnRvb2xzUGVyZkVuZCIsInRpbWUiLCJkZXZ0b29sc0NvbXBvbmVudEVtaXQiLCJwYXJhbXMiLCJkZXByZWNhdGlvbkRhdGEiLCJpc1J1bnRpbWVPbmx5IiwibGVnYWN5SG9vayIsImNvZXJjZWQiLCJjb21wIiwiY29uZmlnTXNnIiwiaW5zdGFuY2VXYXJuZWQiLCJ3YXJuQ291bnQiLCJ3YXJuRGVwcmVjYXRpb24iLCJnZXRDdXJyZW50SW5zdGFuY2UiLCJnZXRDb21wYXRDb25maWdGb3JLZXkiLCJkdXBLZXkiLCJjb21wSWQiLCJjb21wb25lbnREdXBLZXkiLCJsaW5rIiwiaXNDb21wYXRFbmFibGVkIiwiZ2xvYmFsQ29tcGF0Q29uZmlnIiwiY29uZmlndXJlQ29tcGF0IiwidmFsaWRhdGVDb21wYXRDb25maWciLCJzZWVuQ29uZmlnT2JqZWN0cyIsIndhcm5lZEludmFsaWRLZXlzIiwiaW5zdGFuY2VDb25maWciLCJlbmFibGVGb3JCdWlsdEluIiwicmF3TW9kZSIsImFzc2VydENvbXBhdEVuYWJsZWQiLCJzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZCIsImNoZWNrQ29tcGF0RW5hYmxlZCIsImVuYWJsZWQiLCJldmVudFJlZ2lzdHJ5TWFwIiwiZ2V0UmVnaXN0cnkiLCJldmVudHMiLCJvbiIsIm9uY2UiLCJ3cmFwcGVkIiwib2ZmIiwidm0iLCJjYnMiLCJlbWl0JDEiLCJjb21wYXRNb2RlbEV2ZW50UHJlZml4Iiwid2FybmVkVHlwZXMiLCJjb252ZXJ0TGVnYWN5Vk1vZGVsUHJvcHMiLCJzaGFwZUZsYWciLCJkeW5hbWljUHJvcHMiLCJtb2RlbCIsImFwcGx5TW9kZWxGcm9tTWl4aW5zIiwibWl4aW5zIiwibSIsImNvbXBhdE1vZGVsRW1pdCIsIm1vZGVsSGFuZGxlciIsImVtaXQkMiIsInJhd0FyZ3MiLCJlbWl0c09wdGlvbnMiLCJwcm9wc09wdGlvbnMiLCJ2YWxpZGF0b3IiLCJtb2RlbEFyZyIsIm1vZGlmaWVyc0tleSIsIm51bWJlciIsInRyaW0iLCJsb3dlckNhc2VFdmVudCIsImhhbmRsZXJOYW1lIiwiaGFuZGxlciIsIm9uY2VIYW5kbGVyIiwibm9ybWFsaXplRW1pdHNPcHRpb25zIiwiYXBwQ29udGV4dCIsImFzTWl4aW4iLCJjYWNoZWQiLCJoYXNFeHRlbmRzIiwiZXh0ZW5kRW1pdHMiLCJub3JtYWxpemVkRnJvbUV4dGVuZCIsImlzRW1pdExpc3RlbmVyIiwiY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIiwiY3VycmVudFNjb3BlSWQiLCJzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJwcmV2IiwicHVzaFNjb3BlSWQiLCJwb3BTY29wZUlkIiwid2l0aFNjb3BlSWQiLCJfaWQiLCJ3aXRoQ3R4IiwiY3R4IiwiaXNOb25TY29wZWRTbG90IiwicmVuZGVyRm5XaXRoQ29udGV4dCIsInNldEJsb2NrVHJhY2tpbmciLCJwcmV2SW5zdGFuY2UiLCJhY2Nlc3NlZEF0dHJzIiwibWFya0F0dHJzQWNjZXNzZWQiLCJyZW5kZXJDb21wb25lbnRSb290IiwiQ29tcG9uZW50Iiwid2l0aFByb3h5Iiwic2xvdHMiLCJhdHRycyIsInJlbmRlciIsInJlbmRlckNhY2hlIiwic2V0dXBTdGF0ZSIsImluaGVyaXRBdHRycyIsImZhbGx0aHJvdWdoQXR0cnMiLCJwcm94eVRvVXNlIiwibm9ybWFsaXplVk5vZGUiLCJnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2giLCJibG9ja1N0YWNrIiwiY3JlYXRlVk5vZGUiLCJyb290Iiwic2V0Um9vdCIsImdldENoaWxkUm9vdCIsImZpbHRlck1vZGVsTGlzdGVuZXJzIiwiY2xvbmVWTm9kZSIsImFsbEF0dHJzIiwiZXZlbnRBdHRycyIsImV4dHJhQXR0cnMiLCJjbHMiLCJpc0VsZW1lbnRSb290IiwicmF3Q2hpbGRyZW4iLCJkeW5hbWljQ2hpbGRyZW4iLCJjaGlsZFJvb3QiLCJmaWx0ZXJTaW5nbGVSb290IiwiZHluYW1pY0luZGV4IiwidXBkYXRlZFJvb3QiLCJjaGlsZHJlbiIsInNpbmdsZVJvb3QiLCJjaGlsZCIsImlzVk5vZGUiLCJzaG91bGRVcGRhdGVDb21wb25lbnQiLCJwcmV2Vk5vZGUiLCJuZXh0Vk5vZGUiLCJvcHRpbWl6ZWQiLCJwcmV2UHJvcHMiLCJwcmV2Q2hpbGRyZW4iLCJuZXh0UHJvcHMiLCJuZXh0Q2hpbGRyZW4iLCJwYXRjaEZsYWciLCJlbWl0cyIsImhhc1Byb3BzQ2hhbmdlZCIsIm5leHRLZXlzIiwidXBkYXRlSE9DSG9zdEVsIiwiaXNTdXNwZW5zZSIsIlN1c3BlbnNlIiwibjEiLCJuMiIsImNvbnRhaW5lciIsImFuY2hvciIsInBhcmVudENvbXBvbmVudCIsInBhcmVudFN1c3BlbnNlIiwiaXNTVkciLCJzbG90U2NvcGVJZHMiLCJyZW5kZXJlckludGVybmFscyIsIm1vdW50U3VzcGVuc2UiLCJwYXRjaFN1c3BlbnNlIiwiaHlkcmF0ZVN1c3BlbnNlIiwiY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSIsIm5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW4iLCJ0cmlnZ2VyRXZlbnQiLCJldmVudExpc3RlbmVyIiwicGF0Y2giLCJjcmVhdGVFbGVtZW50IiwiaGlkZGVuQ29udGFpbmVyIiwic3VzcGVuc2UiLCJzZXRBY3RpdmVCcmFuY2giLCJ1bm1vdW50IiwibmV3QnJhbmNoIiwibmV3RmFsbGJhY2siLCJhY3RpdmVCcmFuY2giLCJwZW5kaW5nQnJhbmNoIiwiaXNJbkZhbGxiYWNrIiwiaXNIeWRyYXRpbmciLCJpc1NhbWVWTm9kZVR5cGUiLCJ0aW1lb3V0IiwicGVuZGluZ0lkIiwiaGFzV2FybmVkIiwibW92ZSIsIm5leHQiLCJwYXJlbnROb2RlIiwicmVzdW1lIiwiZGVsYXlFbnRlciIsImhhc1VucmVzb2x2ZWRBbmNlc3RvciIsImZhbGxiYWNrVk5vZGUiLCJtb3VudEZhbGxiYWNrIiwic2V0dXBSZW5kZXJFZmZlY3QiLCJpc0luUGVuZGluZ1N1c3BlbnNlIiwiaHlkcmF0ZWRFbCIsImFzeW5jU2V0dXBSZXN1bHQiLCJoYW5kbGVTZXR1cFJlc3VsdCIsInBsYWNlaG9sZGVyIiwiZG9SZW1vdmUiLCJoeWRyYXRlTm9kZSIsImlzU2xvdENoaWxkcmVuIiwibm9ybWFsaXplU3VzcGVuc2VTbG90IiwiYmxvY2siLCJ0cmFja0Jsb2NrIiwiaXNCbG9ja1RyZWVFbmFibGVkIiwib3BlbkJsb2NrIiwiY3VycmVudEJsb2NrIiwiY2xvc2VCbG9jayIsInNpbmdsZUNoaWxkIiwicXVldWVFZmZlY3RXaXRoU3VzcGVuc2UiLCJicmFuY2giLCJwcm92aWRlIiwiY3VycmVudEluc3RhbmNlIiwicHJvdmlkZXMiLCJwYXJlbnRQcm92aWRlcyIsImluamVjdCIsInRyZWF0RGVmYXVsdEFzRmFjdG9yeSIsIndhdGNoRWZmZWN0IiwiZG9XYXRjaCIsIndhdGNoUG9zdEVmZmVjdCIsIndhdGNoU3luY0VmZmVjdCIsIklOSVRJQUxfV0FUQ0hFUl9WQUxVRSIsIndhdGNoIiwiaW1tZWRpYXRlIiwiZGVlcCIsImZsdXNoIiwib25UcmFjayIsIm9uVHJpZ2dlciIsIndhcm5JbnZhbGlkU291cmNlIiwiZm9yY2VUcmlnZ2VyIiwiaXNNdWx0aVNvdXJjZSIsInRyYXZlcnNlIiwiY2xlYW51cCIsIm9uQ2xlYW51cCIsImJhc2VHZXR0ZXIiLCJzc3JDbGVhbnVwIiwiaXNJblNTUkNvbXBvbmVudFNldHVwIiwidXNlU1NSQ29udGV4dCIsInF1ZXVlUG9zdFJlbmRlckVmZmVjdCIsInVud2F0Y2giLCJpbnN0YW5jZVdhdGNoIiwicHVibGljVGhpcyIsImNyZWF0ZVBhdGhHZXR0ZXIiLCJzZXRDdXJyZW50SW5zdGFuY2UiLCJ1bnNldEN1cnJlbnRJbnN0YW5jZSIsInNlZ21lbnRzIiwidXNlVHJhbnNpdGlvblN0YXRlIiwic3RhdGUiLCJvbk1vdW50ZWQiLCJvbkJlZm9yZVVubW91bnQiLCJUcmFuc2l0aW9uSG9va1ZhbGlkYXRvciIsIkJhc2VUcmFuc2l0aW9uSW1wbCIsInByZXZUcmFuc2l0aW9uS2V5IiwiZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuIiwiaGFzRm91bmQiLCJyYXdQcm9wcyIsIm1vZGUiLCJlbXB0eVBsYWNlaG9sZGVyIiwiaW5uZXJDaGlsZCIsImdldEtlZXBBbGl2ZUNoaWxkIiwiZW50ZXJIb29rcyIsInJlc29sdmVUcmFuc2l0aW9uSG9va3MiLCJzZXRUcmFuc2l0aW9uSG9va3MiLCJvbGRDaGlsZCIsIm9sZElubmVyQ2hpbGQiLCJ0cmFuc2l0aW9uS2V5Q2hhbmdlZCIsImdldFRyYW5zaXRpb25LZXkiLCJsZWF2aW5nSG9va3MiLCJlYXJseVJlbW92ZSIsImRlbGF5ZWRMZWF2ZSIsImxlYXZpbmdWTm9kZXNDYWNoZSIsImdldExlYXZpbmdOb2Rlc0ZvclR5cGUiLCJCYXNlVHJhbnNpdGlvbiIsImxlYXZpbmdWTm9kZXMiLCJhcHBlYXIiLCJwZXJzaXN0ZWQiLCJvbkJlZm9yZUVudGVyIiwib25FbnRlciIsIm9uQWZ0ZXJFbnRlciIsIm9uRW50ZXJDYW5jZWxsZWQiLCJvbkJlZm9yZUxlYXZlIiwib25MZWF2ZSIsIm9uQWZ0ZXJMZWF2ZSIsIm9uTGVhdmVDYW5jZWxsZWQiLCJvbkJlZm9yZUFwcGVhciIsIm9uQXBwZWFyIiwib25BZnRlckFwcGVhciIsIm9uQXBwZWFyQ2FuY2VsbGVkIiwiY2FsbEhvb2siLCJjYWxsQXN5bmNIb29rIiwiaG9va3MiLCJsZWF2aW5nVk5vZGUiLCJhZnRlckhvb2siLCJjYW5jZWxIb29rIiwiY2FsbGVkIiwiY2FuY2VsbGVkIiwiaXNLZWVwQWxpdmUiLCJrZWVwQ29tbWVudCIsInBhcmVudEtleSIsImtleWVkRnJhZ21lbnRDb3VudCIsImRlZmluZUNvbXBvbmVudCIsImlzQXN5bmNXcmFwcGVyIiwiZGVmaW5lQXN5bmNDb21wb25lbnQiLCJsb2FkZXIiLCJsb2FkaW5nQ29tcG9uZW50IiwiZXJyb3JDb21wb25lbnQiLCJkZWxheSIsInN1c3BlbnNpYmxlIiwidXNlck9uRXJyb3IiLCJwZW5kaW5nUmVxdWVzdCIsInJlc29sdmVkQ29tcCIsInJldHJpZXMiLCJyZXRyeSIsImxvYWQiLCJ0aGlzUmVxdWVzdCIsImNyZWF0ZUlubmVyQ29tcCIsIm9uRXJyb3IiLCJsb2FkZWQiLCJkZWxheWVkIiwiY2UiLCJLZWVwQWxpdmVJbXBsIiwic2hhcmVkQ29udGV4dCIsIl91bm1vdW50Iiwic3RvcmFnZUNvbnRhaW5lciIsInZub2RlSG9vayIsImludm9rZVZOb2RlSG9vayIsInJlc2V0U2hhcGVGbGFnIiwicHJ1bmVDYWNoZSIsImZpbHRlciIsInBydW5lQ2FjaGVFbnRyeSIsImluY2x1ZGUiLCJleGNsdWRlIiwibWF0Y2hlcyIsInBlbmRpbmdDYWNoZUtleSIsImNhY2hlU3VidHJlZSIsImdldElubmVyQ2hpbGQiLCJvblVwZGF0ZWQiLCJzdWJUcmVlIiwiZGEiLCJyYXdWTm9kZSIsIm1heCIsImNhY2hlZFZOb2RlIiwiS2VlcEFsaXZlIiwicGF0dGVybiIsIm9uQWN0aXZhdGVkIiwicmVnaXN0ZXJLZWVwQWxpdmVIb29rIiwib25EZWFjdGl2YXRlZCIsIndyYXBwZWRIb29rIiwiaW5qZWN0SG9vayIsImluamVjdFRvS2VlcEFsaXZlUm9vdCIsImtlZXBBbGl2ZVJvb3QiLCJpbmplY3RlZCIsIm9uVW5tb3VudGVkIiwicHJlcGVuZCIsImFwaU5hbWUiLCJjcmVhdGVIb29rIiwibGlmZWN5Y2xlIiwib25CZWZvcmVNb3VudCIsIm9uQmVmb3JlVXBkYXRlIiwib25TZXJ2ZXJQcmVmZXRjaCIsIm9uUmVuZGVyVHJpZ2dlcmVkIiwib25SZW5kZXJUcmFja2VkIiwib25FcnJvckNhcHR1cmVkIiwiZ2V0Q29tcGF0Q2hpbGRyZW4iLCJ3YWxrIiwidm5vZGVzIiwiZ2V0Q29tcGF0TGlzdGVuZXJzIiwibGlzdGVuZXJzIiwibGVnYWN5RGlyZWN0aXZlSG9va01hcCIsIm1hcENvbXBhdERpcmVjdGl2ZUhvb2siLCJkaXIiLCJtYXBwZWROYW1lIiwibWFwcGVkIiwibWFwcGVkSG9vayIsInZhbGlkYXRlRGlyZWN0aXZlTmFtZSIsIndpdGhEaXJlY3RpdmVzIiwiZGlyZWN0aXZlcyIsImludGVybmFsSW5zdGFuY2UiLCJnZXRFeHBvc2VQcm94eSIsImJpbmRpbmdzIiwibW9kaWZpZXJzIiwiaW52b2tlRGlyZWN0aXZlSG9vayIsIm9sZEJpbmRpbmdzIiwiYmluZGluZyIsIkNPTVBPTkVOVFMiLCJESVJFQ1RJVkVTIiwiRklMVEVSUyIsInJlc29sdmVDb21wb25lbnQiLCJtYXliZVNlbGZSZWZlcmVuY2UiLCJyZXNvbHZlQXNzZXQiLCJOVUxMX0RZTkFNSUNfQ09NUE9ORU5UIiwicmVzb2x2ZUR5bmFtaWNDb21wb25lbnQiLCJyZXNvbHZlRGlyZWN0aXZlIiwicmVzb2x2ZUZpbHRlciIsIndhcm5NaXNzaW5nIiwic2VsZk5hbWUiLCJleHRyYSIsInJlZ2lzdHJ5IiwiY29udmVydExlZ2FjeVJlbmRlckZuIiwiY29tcGF0SCIsInByb3BzT3JDaGlsZHJlbiIsInQiLCJpczJuZEFyZ0FycmF5Q2hpbGRyZW4iLCJjb252ZXJ0TGVnYWN5U2xvdHMiLCJjb252ZXJ0TGVnYWN5RGlyZWN0aXZlcyIsImNvbnZlcnRMZWdhY3lQcm9wcyIsInNraXBMZWdhY3lSb290TGV2ZWxQcm9wcyIsImxlZ2FjeVByb3BzIiwiY29udmVydGVkIiwiaGFuZGxlcktleSIsImNvbnZlcnRMZWdhY3lFdmVudEtleSIsImV4aXN0aW5nIiwiaW5jb21pbmciLCJzbG90TmFtZSIsInNsb3QiLCJzbG90Q2hpbGRyZW4iLCJzY29wZWRTbG90cyIsIm5vcm1hbGl6ZUNoaWxkcmVuIiwiZGVmaW5lTGVnYWN5Vk5vZGVQcm9wZXJ0aWVzIiwiZ2V0SW5zdGFuY2UiLCJjb21wb25lbnRPcHRpb25zIiwibm9ybWFsaXplZEZ1bmN0aW9uYWxDb21wb25lbnRNYXAiLCJsZWdhY3lTbG90UHJveHlIYW5kbGVycyIsImNvbnZlcnRMZWdhY3lGdW5jdGlvbmFsQ29tcG9uZW50IiwibGVnYWN5Rm4iLCJGdW5jIiwibGVnYWN5Q3R4IiwiaW5qZWN0aW9ucyIsInJlc29sdmVJbmplY3Rpb25zIiwicmVuZGVyTGlzdCIsInJlbmRlckl0ZW0iLCJjcmVhdGVTbG90cyIsImR5bmFtaWNTbG90cyIsInJlbmRlclNsb3QiLCJmYWxsYmFjayIsIm5vU2xvdHRlZCIsInZhbGlkU2xvdENvbnRlbnQiLCJlbnN1cmVWYWxpZFZOb2RlIiwicmVuZGVyZWQiLCJjcmVhdGVCbG9jayIsInRvSGFuZGxlcnMiLCJwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSIsInRvT2JqZWN0IiwibGVnYWN5QmluZE9iamVjdFByb3BzIiwiX3RhZyIsIl9hc1Byb3AiLCJpc1N5bmMiLCJjYW1lbGl6ZWRLZXkiLCJoeXBoZW5hdGVkS2V5IiwiJGV2ZW50IiwibGVnYWN5QmluZE9iamVjdExpc3RlbmVycyIsIm1lcmdlUHJvcHMiLCJsZWdhY3lSZW5kZXJTbG90IiwiYmluZE9iamVjdCIsImxlZ2FjeXJlc29sdmVTY29wZWRTbG90cyIsImhhc0R5bmFtaWNLZXlzIiwibWFwS2V5VG9OYW1lIiwic3RhdGljQ2FjaGVNYXAiLCJsZWdhY3lSZW5kZXJTdGF0aWMiLCJsZWdhY3lDaGVja0tleUNvZGVzIiwiZXZlbnRLZXlDb2RlIiwiYnVpbHRJbktleUNvZGUiLCJldmVudEtleU5hbWUiLCJidWlsdEluS2V5TmFtZSIsImNvbmZpZ0tleUNvZGVzIiwibWFwcGVkS2V5Q29kZSIsImlzS2V5Tm90TWF0Y2giLCJleHBlY3QiLCJhY3R1YWwiLCJsZWdhY3lNYXJrT25jZSIsInRyZWUiLCJsZWdhY3lCaW5kRHluYW1pY0tleXMiLCJsZWdhY3lQcmVwZW5kTW9kaWZpZXIiLCJzeW1ib2wiLCJpbnN0YWxsQ29tcGF0SW5zdGFuY2VQcm9wZXJ0aWVzIiwiZGVsIiwicmVzb2x2ZU1lcmdlZE9wdGlvbnMiLCJjcmVhdGVUZXh0Vk5vZGUiLCJjcmVhdGVDb21tZW50Vk5vZGUiLCJnZXRQdWJsaWNJbnN0YW5jZSIsImlzU3RhdGVmdWxDb21wb25lbnQiLCJwdWJsaWNQcm9wZXJ0aWVzTWFwIiwiaXNSZXNlcnZlZFByZWZpeCIsImhhc1NldHVwQmluZGluZyIsIlB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyIsImFjY2Vzc0NhY2hlIiwibm9ybWFsaXplZFByb3BzIiwic2hvdWxkQ2FjaGVBY2Nlc3MiLCJwdWJsaWNHZXR0ZXIiLCJjc3NNb2R1bGUiLCJnbG9iYWxQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsIlJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyIsImNyZWF0ZURldlJlbmRlckNvbnRleHQiLCJleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dCIsImV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQiLCJkZWVwTWVyZ2VEYXRhIiwidG9WYWwiLCJmcm9tVmFsIiwiY3JlYXRlRHVwbGljYXRlQ2hlY2tlciIsImFwcGx5T3B0aW9ucyIsImRhdGFPcHRpb25zIiwiY29tcHV0ZWRPcHRpb25zIiwibWV0aG9kcyIsIndhdGNoT3B0aW9ucyIsInByb3ZpZGVPcHRpb25zIiwiaW5qZWN0T3B0aW9ucyIsImNyZWF0ZWQiLCJiZWZvcmVNb3VudCIsIm1vdW50ZWQiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVkIiwiYWN0aXZhdGVkIiwiZGVhY3RpdmF0ZWQiLCJiZWZvcmVEZXN0cm95IiwiYmVmb3JlVW5tb3VudCIsImRlc3Ryb3llZCIsInVubW91bnRlZCIsInJlbmRlclRyYWNrZWQiLCJyZW5kZXJUcmlnZ2VyZWQiLCJlcnJvckNhcHR1cmVkIiwic2VydmVyUHJlZmV0Y2giLCJleHBvc2UiLCJjb21wb25lbnRzIiwiZmlsdGVycyIsImNoZWNrRHVwbGljYXRlUHJvcGVydGllcyIsIm1ldGhvZEhhbmRsZXIiLCJvcHQiLCJjb21wdXRlZCQxIiwiY3JlYXRlV2F0Y2hlciIsInJlZ2lzdGVyTGlmZWN5Y2xlSG9vayIsInJlZ2lzdGVyIiwiX2hvb2siLCJleHBvc2VkIiwidW53cmFwUmVmIiwibm9ybWFsaXplSW5qZWN0IiwiaCIsImJhc2UiLCJleHRlbmRzT3B0aW9ucyIsImdsb2JhbE1peGlucyIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsInJlc29sdmVkIiwibWVyZ2VPcHRpb25zIiwic3RyYXRzIiwic3RyYXQiLCJpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzIiwibWVyZ2VEYXRhRm4iLCJtZXJnZU9iamVjdE9wdGlvbnMiLCJtZXJnZUFzQXJyYXkiLCJtZXJnZVdhdGNoT3B0aW9ucyIsIm1lcmdlSW5qZWN0IiwibWVyZ2VkIiwiY3JlYXRlUHJvcHNEZWZhdWx0VGhpcyIsInByb3BLZXkiLCJzaG91bGRTa2lwQXR0ciIsImluaXRQcm9wcyIsImlzU3RhdGVmdWwiLCJJbnRlcm5hbE9iamVjdEtleSIsInNldEZ1bGxQcm9wcyIsInZhbGlkYXRlUHJvcHMiLCJpc0luSG1yQ29udGV4dCIsInVwZGF0ZVByb3BzIiwicmF3UHJldlByb3BzIiwicmF3Q3VycmVudFByb3BzIiwiaGFzQXR0cnNDaGFuZ2VkIiwicHJvcHNUb1VwZGF0ZSIsInJlc29sdmVQcm9wVmFsdWUiLCJrZWJhYktleSIsIm5lZWRDYXN0S2V5cyIsInJhd0Nhc3RWYWx1ZXMiLCJjYW1lbEtleSIsImNhc3RWYWx1ZXMiLCJpc0Fic2VudCIsImhhc0RlZmF1bHQiLCJwcm9wc0RlZmF1bHRzIiwibm9ybWFsaXplUHJvcHNPcHRpb25zIiwiZXh0ZW5kUHJvcHMiLCJub3JtYWxpemVkS2V5IiwidmFsaWRhdGVQcm9wTmFtZSIsImJvb2xlYW5JbmRleCIsImdldFR5cGVJbmRleCIsInN0cmluZ0luZGV4IiwiZ2V0VHlwZSIsImN0b3IiLCJtYXRjaCIsImlzU2FtZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwicmVzb2x2ZWRWYWx1ZXMiLCJ2YWxpZGF0ZVByb3AiLCJyZXF1aXJlZCIsImlzVmFsaWQiLCJ0eXBlcyIsInZhbGlkIiwiZXhwZWN0ZWRUeXBlIiwiYXNzZXJ0VHlwZSIsImdldEludmFsaWRUeXBlTWVzc2FnZSIsImlzU2ltcGxlVHlwZSIsInJlY2VpdmVkVHlwZSIsImV4cGVjdGVkVmFsdWUiLCJzdHlsZVZhbHVlIiwicmVjZWl2ZWRWYWx1ZSIsImlzRXhwbGljYWJsZSIsImlzQm9vbGVhbiIsImVsZW0iLCJpc0ludGVybmFsS2V5Iiwibm9ybWFsaXplU2xvdFZhbHVlIiwibm9ybWFsaXplU2xvdCIsInJhd1Nsb3QiLCJub3JtYWxpemVPYmplY3RTbG90cyIsInJhd1Nsb3RzIiwibm9ybWFsaXplVk5vZGVTbG90cyIsImluaXRTbG90cyIsInVwZGF0ZVNsb3RzIiwibmVlZERlbGV0aW9uQ2hlY2siLCJkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQiLCJpbnN0YWxsTGVnYWN5Q29uZmlnV2FybmluZ3MiLCJsZWdhY3lDb25maWdPcHRpb25zIiwiaXNDb3B5aW5nQ29uZmlnIiwiaW5zdGFsbExlZ2FjeU9wdGlvbk1lcmdlU3RyYXRzIiwic2luZ2xldG9uQXBwIiwic2luZ2xldG9uQ3RvciIsImNyZWF0ZUNvbXBhdFZ1ZSIsImNyZWF0ZUFwcCIsImNyZWF0ZVNpbmdsZXRvbkFwcCIsIlZ1ZSIsImNyZWF0ZUNvbXBhdEFwcCIsIkN0b3IiLCJhcHBseVNpbmdsZXRvblByb3RvdHlwZSIsImNpZCIsImV4dGVuZENhY2hlIiwiZXh0ZW5kQ3RvciIsImV4dGVuZE9wdGlvbnMiLCJTdXBlciIsIlN1YlZ1ZSIsImlubGluZU9wdGlvbnMiLCJtZXJnZUJhc2UiLCJzdXBlclZhbHVlIiwidXRpbCIsImRlZmluZVJlYWN0aXZlIiwiaW5zdGFsbEFwcENvbXBhdFByb3BlcnRpZXMiLCJpbnN0YWxsRmlsdGVyTWV0aG9kIiwiaW5zdGFsbENvbXBhdE1vdW50IiwiaW5zdGFsbExlZ2FjeUFQSXMiLCJhcHBseVNpbmdsZXRvbkFwcE11dGF0aW9ucyIsInRhZyIsImhhc1Byb3RvdHlwZUF1Z21lbnRhdGlvbnMiLCJkZXNjcmlwdG9ycyIsImlzTW91bnRlZCIsImhhc05vUmVuZGVyIiwiZW1wdHlSZW5kZXIiLCJjcmVhdGVDb21wb25lbnRJbnN0YW5jZSIsInNldHVwQ29tcG9uZW50Iiwic2VsZWN0b3JPckVsIiwiY2xvbmVkIiwiYXR0ciIsImZpbmlzaENvbXBvbmVudFNldHVwIiwiYnVtIiwidW0iLCJtZXRob2RzVG9QYXRjaCIsInBhdGNoZWQiLCJyZWFjdGl2ZVZhbCIsImRlZmluZVJlYWN0aXZlU2ltcGxlIiwiY3JlYXRlQXBwQ29udGV4dCIsInVpZCIsImNyZWF0ZUFwcEFQSSIsImh5ZHJhdGUiLCJyb290Q29tcG9uZW50Iiwicm9vdFByb3BzIiwiaW5zdGFsbGVkUGx1Z2lucyIsInBsdWdpbiIsIm1peGluIiwidmFsaWRhdGVDb21wb25lbnROYW1lIiwiZGlyZWN0aXZlIiwicm9vdENvbnRhaW5lciIsImlzSHlkcmF0ZSIsInNldFJlZiIsInJhd1JlZiIsIm9sZFJhd1JlZiIsImlzVW5tb3VudCIsInJlZlZhbHVlIiwib3duZXIiLCJvbGRSZWYiLCJyZWZzIiwiX2lzU3RyaW5nIiwiX2lzUmVmIiwiZG9TZXQiLCJoYXNNaXNtYXRjaCIsImlzU1ZHQ29udGFpbmVyIiwiaXNDb21tZW50IiwiY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zIiwibW91bnRDb21wb25lbnQiLCJwYXRjaFByb3AiLCJjcmVhdGVUZXh0IiwibmV4dFNpYmxpbmciLCJpbnNlcnQiLCJjcmVhdGVDb21tZW50IiwiaXNGcmFnbWVudFN0YXJ0Iiwib25NaXNtYXRjaCIsImhhbmRsZU1pc21hdGNoIiwibmV4dE5vZGUiLCJuZWVkVG9BZG9wdENvbnRlbnQiLCJoeWRyYXRlRnJhZ21lbnQiLCJoeWRyYXRlRWxlbWVudCIsImxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvciIsImh5ZHJhdGVDaGlsZHJlbiIsImRpcnMiLCJmb3JjZVBhdGNoVmFsdWUiLCJ2bm9kZUhvb2tzIiwicGFyZW50Vk5vZGUiLCJmcmFnbWVudFNsb3RTY29wZUlkcyIsImlzRnJhZ21lbnQiLCJzdXBwb3J0ZWQiLCJwZXJmIiwic3RhcnRNZWFzdXJlIiwiaXNTdXBwb3J0ZWQiLCJlbmRNZWFzdXJlIiwic3RhcnRUYWciLCJlbmRUYWciLCJpbml0RmVhdHVyZUZsYWdzIiwibmVlZFdhcm4iLCJtdWx0aSIsImNyZWF0ZVJlbmRlcmVyIiwiYmFzZUNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIiLCJjcmVhdGVIeWRyYXRpb25GbnMiLCJob3N0SW5zZXJ0IiwiaG9zdFJlbW92ZSIsImhvc3RQYXRjaFByb3AiLCJob3N0Q3JlYXRlRWxlbWVudCIsImhvc3RDcmVhdGVUZXh0IiwiaG9zdENyZWF0ZUNvbW1lbnQiLCJob3N0U2V0VGV4dCIsImhvc3RTZXRFbGVtZW50VGV4dCIsImhvc3RQYXJlbnROb2RlIiwiaG9zdE5leHRTaWJsaW5nIiwiaG9zdFNldFNjb3BlSWQiLCJob3N0SW5zZXJ0U3RhdGljQ29udGVudCIsImdldE5leHRIb3N0Tm9kZSIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0NvbW1lbnROb2RlIiwibW91bnRTdGF0aWNOb2RlIiwicGF0Y2hTdGF0aWNOb2RlIiwicHJvY2Vzc0ZyYWdtZW50IiwicHJvY2Vzc0VsZW1lbnQiLCJwcm9jZXNzQ29tcG9uZW50IiwiaW50ZXJuYWxzIiwicmVtb3ZlU3RhdGljTm9kZSIsIm1vdmVTdGF0aWNOb2RlIiwibW91bnRFbGVtZW50IiwicGF0Y2hFbGVtZW50IiwidHJhbnNpdGlvbiIsIm1vdW50Q2hpbGRyZW4iLCJ1bm1vdW50Q2hpbGRyZW4iLCJzZXRTY29wZUlkIiwibmVlZENhbGxUcmFuc2l0aW9uSG9va3MiLCJzY29wZUlkIiwiY2xvbmVJZk1vdW50ZWQiLCJvbGRQcm9wcyIsIm5ld1Byb3BzIiwidG9nZ2xlUmVjdXJzZSIsImFyZUNoaWxkcmVuU1ZHIiwicGF0Y2hCbG9ja0NoaWxkcmVuIiwidHJhdmVyc2VTdGF0aWNDaGlsZHJlbiIsInBhdGNoQ2hpbGRyZW4iLCJwYXRjaFByb3BzIiwib2xkQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImZhbGxiYWNrQ29udGFpbmVyIiwib2xkVk5vZGUiLCJuZXdWTm9kZSIsImZyYWdtZW50U3RhcnRBbmNob3IiLCJmcmFnbWVudEVuZEFuY2hvciIsInVwZGF0ZUNvbXBvbmVudCIsImluaXRpYWxWTm9kZSIsImNvbXBhdE1vdW50SW5zdGFuY2UiLCJ1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIiLCJjb21wb25lbnRVcGRhdGVGbiIsImJ1IiwidSIsIm9yaWdpbk5leHQiLCJuZXh0VHJlZSIsInByZXZUcmVlIiwiYm0iLCJpc0FzeW5jV3JhcHBlclZOb2RlIiwiaHlkcmF0ZVN1YlRyZWUiLCJzY29wZWRJbml0aWFsVk5vZGUiLCJ1cGRhdGUiLCJjMSIsInByZXZTaGFwZUZsYWciLCJjMiIsInBhdGNoS2V5ZWRDaGlsZHJlbiIsInBhdGNoVW5rZXllZENoaWxkcmVuIiwib2xkTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwicGFyZW50QW5jaG9yIiwibDIiLCJlMSIsImUyIiwibmV4dFBvcyIsInMxIiwiczIiLCJrZXlUb05ld0luZGV4TWFwIiwidG9CZVBhdGNoZWQiLCJtb3ZlZCIsIm1heE5ld0luZGV4U29GYXIiLCJuZXdJbmRleFRvT2xkSW5kZXhNYXAiLCJwcmV2Q2hpbGQiLCJuZXdJbmRleCIsImluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlIiwiZ2V0U2VxdWVuY2UiLCJuZXh0SW5kZXgiLCJtb3ZlVHlwZSIsImxlYXZlIiwiZGVsYXlMZWF2ZSIsImFmdGVyTGVhdmUiLCJwZXJmb3JtTGVhdmUiLCJzaG91bGRJbnZva2VEaXJzIiwic2hvdWxkSW52b2tlVm5vZGVIb29rIiwidW5tb3VudENvbXBvbmVudCIsInJlbW92ZUZyYWdtZW50IiwicGVyZm9ybVJlbW92ZSIsImFsbG93ZWQiLCJjaDEiLCJjaDIiLCJhcnJJIiwiaXNUZWxlcG9ydCIsImlzVGVsZXBvcnREaXNhYmxlZCIsImlzVGFyZ2V0U1ZHIiwicmVzb2x2ZVRhcmdldCIsInNlbGVjdCIsInRhcmdldFNlbGVjdG9yIiwiVGVsZXBvcnRJbXBsIiwicXVlcnlTZWxlY3RvciIsImRpc2FibGVkIiwibWFpbkFuY2hvciIsInRhcmdldEFuY2hvciIsIm1vdW50Iiwid2FzRGlzYWJsZWQiLCJjdXJyZW50Q29udGFpbmVyIiwiY3VycmVudEFuY2hvciIsIm1vdmVUZWxlcG9ydCIsIm5leHRUYXJnZXQiLCJ1cGRhdGVDc3NWYXJzIiwiaHlkcmF0ZVRlbGVwb3J0IiwiaXNSZW9yZGVyIiwidGFyZ2V0Tm9kZSIsIlRlbGVwb3J0Iiwibm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwIiwiY29udmVydExlZ2FjeUFzeW5jQ29tcG9uZW50IiwiZmFsbGJhY2tQcm9taXNlIiwicmoiLCJjb252ZXJ0TGVnYWN5Q29tcG9uZW50IiwiZGlzYWJsZVRyYWNraW5nIiwic2V0dXBCbG9jayIsImNyZWF0ZUVsZW1lbnRCbG9jayIsImNyZWF0ZUJhc2VWTm9kZSIsInZub2RlQXJnc1RyYW5zZm9ybWVyIiwidHJhbnNmb3JtVk5vZGVBcmdzIiwidHJhbnNmb3JtZXIiLCJjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtIiwiX2NyZWF0ZVZOb2RlIiwibm9ybWFsaXplS2V5Iiwibm9ybWFsaXplUmVmIiwicmVmX2tleSIsInJlZl9mb3IiLCJpc0Jsb2NrTm9kZSIsIm5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uIiwiZ3VhcmRSZWFjdGl2ZVByb3BzIiwiZXh0cmFQcm9wcyIsIm1lcmdlUmVmIiwibWVyZ2VkUHJvcHMiLCJkZWVwQ2xvbmVWTm9kZSIsImZsYWciLCJjcmVhdGVTdGF0aWNWTm9kZSIsImNvbnRlbnQiLCJudW1iZXJPZk5vZGVzIiwiYXNCbG9jayIsInNsb3RGbGFnIiwidG9NZXJnZSIsImVtcHR5QXBwQ29udGV4dCIsInVpZCQxIiwiaXNCdWlsdEluVGFnIiwiYXBwSXNOYXRpdmVUYWciLCJzZXR1cFJlc3VsdCIsInNldHVwU3RhdGVmdWxDb21wb25lbnQiLCJuYW1lcyIsInNldHVwIiwic2V0dXBDb250ZXh0IiwiY3JlYXRlU2V0dXBDb250ZXh0IiwicmVzb2x2ZWRSZXN1bHQiLCJjb21waWxlIiwiaW5zdGFsbFdpdGhQcm94eSIsInJlZ2lzdGVyUnVudGltZUNvbXBpbGVyIiwiX2NvbXBpbGUiLCJza2lwT3B0aW9ucyIsImlzQ3VzdG9tRWxlbWVudCIsImNvbXBpbGVyT3B0aW9ucyIsImRlbGltaXRlcnMiLCJjb21wb25lbnRDb21waWxlck9wdGlvbnMiLCJmaW5hbENvbXBpbGVyT3B0aW9ucyIsImNyZWF0ZUF0dHJzUHJveHkiLCJjbGFzc2lmeVJFIiwiY2xhc3NpZnkiLCJpbmNsdWRlSW5mZXJyZWQiLCJpbmZlckZyb21SZWdpc3RyeSIsIndhcm5SdW50aW1lVXNhZ2UiLCJkZWZpbmVQcm9wcyIsImRlZmluZUVtaXRzIiwiZGVmaW5lRXhwb3NlIiwid2l0aERlZmF1bHRzIiwiZGVmYXVsdHMiLCJ1c2VTbG90cyIsImdldENvbnRleHQiLCJ1c2VBdHRycyIsIm1lcmdlRGVmYXVsdHMiLCJjcmVhdGVQcm9wc1Jlc3RQcm94eSIsImV4Y2x1ZGVkS2V5cyIsIndpdGhBc3luY0NvbnRleHQiLCJnZXRBd2FpdGFibGUiLCJhd2FpdGFibGUiLCJzc3JDb250ZXh0S2V5IiwiaW5pdEN1c3RvbUZvcm1hdHRlciIsInZ1ZVN0eWxlIiwibnVtYmVyU3R5bGUiLCJzdHJpbmdTdHlsZSIsImtleXdvcmRTdHlsZSIsImZvcm1hdHRlciIsImdlblJlZkZsYWciLCJmb3JtYXRWYWx1ZSIsImZvcm1hdEluc3RhbmNlIiwiYmxvY2tzIiwiY3JlYXRlSW5zdGFuY2VCbG9jayIsImV4dHJhY3RLZXlzIiwiYXNSYXciLCJDb21wIiwiZXh0cmFjdGVkIiwiaXNLZXlPZlR5cGUiLCJvcHRzIiwid2l0aE1lbW8iLCJtZW1vIiwiaXNNZW1vU2FtZSIsInNzclV0aWxzIiwicmVzb2x2ZUZpbHRlciQxIiwiY29tcGF0VXRpbHMiLCJzdmdOUyIsImRvYyIsInRlbXBsYXRlQ29udGFpbmVyIiwibm9kZU9wcyIsImlzIiwic2VsZWN0b3IiLCJiZWZvcmUiLCJwYXRjaENsYXNzIiwidHJhbnNpdGlvbkNsYXNzZXMiLCJwYXRjaFN0eWxlIiwiaXNDc3NTdHJpbmciLCJzZXRTdHlsZSIsImN1cnJlbnREaXNwbGF5Iiwic2VtaWNvbG9uUkUiLCJpbXBvcnRhbnRSRSIsInByZWZpeGVkIiwiYXV0b1ByZWZpeCIsInByZWZpeGVzIiwicHJlZml4Q2FjaGUiLCJyYXdOYW1lIiwieGxpbmtOUyIsInBhdGNoQXR0ciIsImNvbXBhdENvZXJjZUF0dHIiLCJpc0VudW1lcmF0ZWRBdHRyIiwidjJDb2VyY2VkVmFsdWUiLCJwYXRjaERPTVByb3AiLCJuZWVkUmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwYXRjaEV2ZW50IiwicHJldlZhbHVlIiwibmV4dFZhbHVlIiwiaW52b2tlcnMiLCJleGlzdGluZ0ludm9rZXIiLCJwYXJzZU5hbWUiLCJpbnZva2VyIiwiY3JlYXRlSW52b2tlciIsIm9wdGlvbnNNb2RpZmllclJFIiwiY2FjaGVkTm93IiwiZ2V0Tm93IiwiaW5pdGlhbFZhbHVlIiwicGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJvcmlnaW5hbFN0b3AiLCJuYXRpdmVPblJFIiwic2hvdWxkU2V0QXNQcm9wIiwiZGVmaW5lQ3VzdG9tRWxlbWVudCIsIlZ1ZUN1c3RvbUVsZW1lbnQiLCJWdWVFbGVtZW50IiwiaW5pdGlhbFByb3BzIiwiZGVmaW5lU1NSQ3VzdG9tRWxlbWVudCIsIkJhc2VDbGFzcyIsIl9kZWYiLCJfcHJvcHMiLCJtdXRhdGlvbnMiLCJpc0FzeW5jIiwic3R5bGVzIiwibnVtYmVyUHJvcHMiLCJhc3luY0RlZiIsImRlY2xhcmVkUHJvcEtleXMiLCJzaG91bGRSZWZsZWN0Iiwic2hvdWxkVXBkYXRlIiwibmV3U3R5bGVzIiwiZGlzcGF0Y2giLCJjc3MiLCJ1c2VDc3NNb2R1bGUiLCJtb2R1bGVzIiwibW9kIiwidXNlQ3NzVmFycyIsInVwZGF0ZVRlbGVwb3J0cyIsInZhcnMiLCJzZXRWYXJzT25Ob2RlIiwic2V0VmFycyIsInNldFZhcnNPblZOb2RlIiwib2IiLCJUUkFOU0lUSU9OIiwiQU5JTUFUSU9OIiwiVHJhbnNpdGlvbiIsInJlc29sdmVUcmFuc2l0aW9uUHJvcHMiLCJET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzIiwiVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyIsImNhbGxIb29rJDEiLCJoYXNFeHBsaWNpdENhbGxiYWNrIiwiYmFzZVByb3BzIiwiZHVyYXRpb24iLCJlbnRlckZyb21DbGFzcyIsImVudGVyQWN0aXZlQ2xhc3MiLCJlbnRlclRvQ2xhc3MiLCJhcHBlYXJGcm9tQ2xhc3MiLCJhcHBlYXJBY3RpdmVDbGFzcyIsImFwcGVhclRvQ2xhc3MiLCJsZWF2ZUZyb21DbGFzcyIsImxlYXZlQWN0aXZlQ2xhc3MiLCJsZWF2ZVRvQ2xhc3MiLCJsZWdhY3lDbGFzc0VuYWJsZWQiLCJsZWdhY3lFbnRlckZyb21DbGFzcyIsImxlZ2FjeUFwcGVhckZyb21DbGFzcyIsImxlZ2FjeUxlYXZlRnJvbUNsYXNzIiwidG9MZWdhY3lDbGFzcyIsImR1cmF0aW9ucyIsIm5vcm1hbGl6ZUR1cmF0aW9uIiwiZW50ZXJEdXJhdGlvbiIsImxlYXZlRHVyYXRpb24iLCJmaW5pc2hFbnRlciIsImlzQXBwZWFyIiwicmVtb3ZlVHJhbnNpdGlvbkNsYXNzIiwiZmluaXNoTGVhdmUiLCJtYWtlRW50ZXJIb29rIiwibmV4dEZyYW1lIiwiYWRkVHJhbnNpdGlvbkNsYXNzIiwid2hlblRyYW5zaXRpb25FbmRzIiwiZm9yY2VSZWZsb3ciLCJOdW1iZXJPZiIsInZhbGlkYXRlRHVyYXRpb24iLCJfdnRjIiwiZW5kSWQiLCJleHBsaWNpdFRpbWVvdXQiLCJyZXNvbHZlSWZOb3RTdGFsZSIsInByb3BDb3VudCIsImdldFRyYW5zaXRpb25JbmZvIiwiZW5kRXZlbnQiLCJlbmRlZCIsIm9uRW5kIiwiZ2V0U3R5bGVQcm9wZXJ0aWVzIiwidHJhbnNpdGlvbkRlbGF5cyIsInRyYW5zaXRpb25EdXJhdGlvbnMiLCJ0cmFuc2l0aW9uVGltZW91dCIsImdldFRpbWVvdXQiLCJhbmltYXRpb25EZWxheXMiLCJhbmltYXRpb25EdXJhdGlvbnMiLCJhbmltYXRpb25UaW1lb3V0IiwiaGFzVHJhbnNmb3JtIiwiZGVsYXlzIiwidG9NcyIsInBvc2l0aW9uTWFwIiwibmV3UG9zaXRpb25NYXAiLCJUcmFuc2l0aW9uR3JvdXBJbXBsIiwibW92ZUNsYXNzIiwiaGFzQ1NTVHJhbnNmb3JtIiwiY2FsbFBlbmRpbmdDYnMiLCJyZWNvcmRQb3NpdGlvbiIsIm1vdmVkQ2hpbGRyZW4iLCJhcHBseVRyYW5zbGF0aW9uIiwiY3NzVHJhbnNpdGlvblByb3BzIiwiVHJhbnNpdGlvbkdyb3VwIiwib2xkUG9zIiwibmV3UG9zIiwiZHgiLCJkeSIsImNsb25lIiwiZ2V0TW9kZWxBc3NpZ25lciIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25FbmQiLCJ2TW9kZWxUZXh0IiwibGF6eSIsImNhc3RUb051bWJlciIsImRvbVZhbHVlIiwidk1vZGVsQ2hlY2tib3giLCJtb2RlbFZhbHVlIiwiZWxlbWVudFZhbHVlIiwiZ2V0VmFsdWUiLCJjaGVja2VkIiwiYXNzaWduIiwiZm91bmQiLCJmaWx0ZXJlZCIsImdldENoZWNrYm94VmFsdWUiLCJzZXRDaGVja2VkIiwidk1vZGVsUmFkaW8iLCJ2TW9kZWxTZWxlY3QiLCJpc1NldE1vZGVsIiwic2VsZWN0ZWRWYWwiLCJzZXRTZWxlY3RlZCIsIl9iaW5kaW5nIiwiaXNNdWx0aXBsZSIsIm9wdGlvbiIsIm9wdGlvblZhbHVlIiwidk1vZGVsRHluYW1pYyIsImNhbGxNb2RlbEhvb2siLCJyZXNvbHZlRHluYW1pY01vZGVsIiwidGFnTmFtZSIsImluaXRWTW9kZWxGb3JTU1IiLCJtb2RlbFRvVXNlIiwic3lzdGVtTW9kaWZpZXJzIiwibW9kaWZpZXJHdWFyZHMiLCJ3aXRoTW9kaWZpZXJzIiwiZ3VhcmQiLCJrZXlOYW1lcyIsIndpdGhLZXlzIiwiZ2xvYmFsS2V5Q29kZXMiLCJldmVudEtleSIsImsiLCJrZXlDb2RlIiwiY29kZXMiLCJjb2RlIiwidlNob3ciLCJzZXREaXNwbGF5IiwiaW5pdFZTaG93Rm9yU1NSIiwicmVuZGVyZXJPcHRpb25zIiwicmVuZGVyZXIiLCJlbmFibGVkSHlkcmF0aW9uIiwiZW5zdXJlUmVuZGVyZXIiLCJlbnN1cmVIeWRyYXRpb25SZW5kZXJlciIsImluamVjdE5hdGl2ZVRhZ0NoZWNrIiwiaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2siLCJjb250YWluZXJPclNlbGVjdG9yIiwibm9ybWFsaXplQ29udGFpbmVyIiwiY3JlYXRlU1NSQXBwIiwic3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQiLCJydW50aW1lRG9tIiwiaW5pdERldiIsIndyYXBwZWRDcmVhdGVBcHAiLCJjcmVhdGVDb21wYXRWdWUkMSIsImRlZmF1bHRPbkVycm9yIiwiZGVmYXVsdE9uV2FybiIsImNyZWF0ZUNvbXBpbGVyRXJyb3IiLCJsb2MiLCJtZXNzYWdlcyIsImFkZGl0aW9uYWxNZXNzYWdlIiwiZXJyb3JNZXNzYWdlcyIsIkZSQUdNRU5UIiwiVEVMRVBPUlQiLCJTVVNQRU5TRSIsIktFRVBfQUxJVkUiLCJCQVNFX1RSQU5TSVRJT04iLCJPUEVOX0JMT0NLIiwiQ1JFQVRFX0JMT0NLIiwiQ1JFQVRFX0VMRU1FTlRfQkxPQ0siLCJDUkVBVEVfVk5PREUiLCJDUkVBVEVfRUxFTUVOVF9WTk9ERSIsIkNSRUFURV9DT01NRU5UIiwiQ1JFQVRFX1RFWFQiLCJDUkVBVEVfU1RBVElDIiwiUkVTT0xWRV9DT01QT05FTlQiLCJSRVNPTFZFX0RZTkFNSUNfQ09NUE9ORU5UIiwiUkVTT0xWRV9ESVJFQ1RJVkUiLCJSRVNPTFZFX0ZJTFRFUiIsIldJVEhfRElSRUNUSVZFUyIsIlJFTkRFUl9MSVNUIiwiUkVOREVSX1NMT1QiLCJDUkVBVEVfU0xPVFMiLCJUT19ESVNQTEFZX1NUUklORyIsIk1FUkdFX1BST1BTIiwiTk9STUFMSVpFX0NMQVNTIiwiTk9STUFMSVpFX1NUWUxFIiwiTk9STUFMSVpFX1BST1BTIiwiR1VBUkRfUkVBQ1RJVkVfUFJPUFMiLCJUT19IQU5ETEVSUyIsIkNBTUVMSVpFIiwiQ0FQSVRBTElaRSIsIlRPX0hBTkRMRVJfS0VZIiwiU0VUX0JMT0NLX1RSQUNLSU5HIiwiUFVTSF9TQ09QRV9JRCIsIlBPUF9TQ09QRV9JRCIsIldJVEhfQ1RYIiwiVU5SRUYiLCJJU19SRUYiLCJXSVRIX01FTU8iLCJJU19NRU1PX1NBTUUiLCJoZWxwZXJOYW1lTWFwIiwicmVnaXN0ZXJSdW50aW1lSGVscGVycyIsImhlbHBlcnMiLCJsb2NTdHViIiwiY3JlYXRlUm9vdCIsImNyZWF0ZVZOb2RlQ2FsbCIsImlzQmxvY2siLCJpc0NvbXBvbmVudCIsImdldFZOb2RlQmxvY2tIZWxwZXIiLCJnZXRWTm9kZUhlbHBlciIsImNyZWF0ZUFycmF5RXhwcmVzc2lvbiIsImVsZW1lbnRzIiwiY3JlYXRlT2JqZWN0RXhwcmVzc2lvbiIsInByb3BlcnRpZXMiLCJjcmVhdGVPYmplY3RQcm9wZXJ0eSIsImNyZWF0ZVNpbXBsZUV4cHJlc3Npb24iLCJpc1N0YXRpYyIsImNvbnN0VHlwZSIsImNyZWF0ZUNvbXBvdW5kRXhwcmVzc2lvbiIsImNyZWF0ZUNhbGxFeHByZXNzaW9uIiwiY2FsbGVlIiwiY3JlYXRlRnVuY3Rpb25FeHByZXNzaW9uIiwicmV0dXJucyIsIm5ld2xpbmUiLCJpc1Nsb3QiLCJjcmVhdGVDb25kaXRpb25hbEV4cHJlc3Npb24iLCJ0ZXN0IiwiY29uc2VxdWVudCIsImFsdGVybmF0ZSIsImNyZWF0ZUNhY2hlRXhwcmVzc2lvbiIsImNyZWF0ZUJsb2NrU3RhdGVtZW50IiwiYm9keSIsImlzU3RhdGljRXhwIiwiaXNCdWlsdEluVHlwZSIsImV4cGVjdGVkIiwiaXNDb3JlQ29tcG9uZW50Iiwibm9uSWRlbnRpZmllclJFIiwiaXNTaW1wbGVJZGVudGlmaWVyIiwidmFsaWRGaXJzdElkZW50Q2hhclJFIiwidmFsaWRJZGVudENoYXJSRSIsIndoaXRlc3BhY2VSRSIsImlzTWVtYmVyRXhwcmVzc2lvbiIsInN0YXRlU3RhY2siLCJjdXJyZW50T3BlbkJyYWNrZXRDb3VudCIsImN1cnJlbnRPcGVuUGFyZW5zQ291bnQiLCJjdXJyZW50U3RyaW5nVHlwZSIsImNoYXIiLCJnZXRJbm5lclJhbmdlIiwibmV3TG9jIiwiYWR2YW5jZVBvc2l0aW9uV2l0aENsb25lIiwicG9zIiwibnVtYmVyT2ZDaGFyYWN0ZXJzIiwiYWR2YW5jZVBvc2l0aW9uV2l0aE11dGF0aW9uIiwibGluZXNDb3VudCIsImxhc3ROZXdMaW5lUG9zIiwiYXNzZXJ0IiwiY29uZGl0aW9uIiwiZmluZERpciIsImFsbG93RW1wdHkiLCJmaW5kUHJvcCIsImR5bmFtaWNPbmx5IiwiaXNTdGF0aWNBcmdPZiIsImhhc0R5bmFtaWNLZXlWQmluZCIsImlzVGV4dCIsImlzVlNsb3QiLCJpc1RlbXBsYXRlTm9kZSIsImlzU2xvdE91dGxldCIsInNzciIsInByb3BzSGVscGVyU2V0IiwiZ2V0VW5ub3JtYWxpemVkUHJvcHMiLCJjYWxsUGF0aCIsImluamVjdFByb3AiLCJwcm9wc1dpdGhJbmplY3Rpb24iLCJwYXJlbnRDYWxsIiwiZmlyc3QiLCJoYXNQcm9wIiwicHJvcEtleU5hbWUiLCJ0b1ZhbGlkQXNzZXRJZCIsInNlYXJjaFZhbHVlIiwicmVwbGFjZVZhbHVlIiwiZ2V0TWVtb2VkVk5vZGVDYWxsIiwibWFrZUJsb2NrIiwiaGVscGVyIiwicmVtb3ZlSGVscGVyIiwiaW5TU1IiLCJkZXByZWNhdGlvbkRhdGEkMSIsImdldENvbXBhdFZhbHVlIiwiaXNDb21wYXRFbmFibGVkJDEiLCJjaGVja0NvbXBhdEVuYWJsZWQkMSIsIndhcm5EZXByZWNhdGlvbiQxIiwiZGVjb2RlUkUiLCJkZWNvZGVNYXAiLCJkZWZhdWx0UGFyc2VyT3B0aW9ucyIsInJhd1RleHQiLCJwMSIsImJhc2VQYXJzZSIsImNyZWF0ZVBhcnNlckNvbnRleHQiLCJnZXRDdXJzb3IiLCJwYXJzZUNoaWxkcmVuIiwiZ2V0U2VsZWN0aW9uIiwicmF3T3B0aW9ucyIsImFuY2VzdG9ycyIsIm5zIiwibm9kZXMiLCJpc0VuZCIsInN0YXJ0c1dpdGgiLCJwYXJzZUludGVycG9sYXRpb24iLCJlbWl0RXJyb3IiLCJwYXJzZUNvbW1lbnQiLCJwYXJzZUJvZ3VzQ29tbWVudCIsInBhcnNlQ0RBVEEiLCJhZHZhbmNlQnkiLCJwYXJzZVRhZyIsInBhcnNlRWxlbWVudCIsImlzU3BlY2lhbFRlbXBsYXRlRGlyZWN0aXZlIiwicGFyc2VUZXh0IiwicHVzaE5vZGUiLCJyZW1vdmVkV2hpdGVzcGFjZSIsInNob3VsZENvbmRlbnNlIiwicHJldkluZGV4IiwibmVzdGVkSW5kZXgiLCJjb250ZW50U3RhcnQiLCJjbG9zZUluZGV4Iiwid2FzSW5QcmUiLCJ3YXNJblZQcmUiLCJpc1ByZUJvdW5kYXJ5IiwiaXNWUHJlQm91bmRhcnkiLCJpbmxpbmVUZW1wbGF0ZVByb3AiLCJzdGFydHNXaXRoRW5kVGFnT3BlbiIsImFkdmFuY2VTcGFjZXMiLCJjdXJzb3IiLCJjdXJyZW50U291cmNlIiwicGFyc2VBdHRyaWJ1dGVzIiwiaXNTZWxmQ2xvc2luZyIsImhhc0lmIiwiaGFzRm9yIiwidGFnVHlwZSIsImF0dHJpYnV0ZU5hbWVzIiwicGFyc2VBdHRyaWJ1dGUiLCJuYW1lU2V0IiwicGFyc2VBdHRyaWJ1dGVWYWx1ZSIsImlzUHJvcFNob3J0aGFuZCIsImRpck5hbWUiLCJzdGFydE9mZnNldCIsImdldE5ld1Bvc2l0aW9uIiwidmFsdWVMb2MiLCJxdW90ZSIsImlzUXVvdGVkIiwiZW5kSW5kZXgiLCJwYXJzZVRleHREYXRhIiwidW5leHBlY3RlZENoYXJzIiwiaW5uZXJTdGFydCIsImlubmVyRW5kIiwicmF3Q29udGVudExlbmd0aCIsInJhd0NvbnRlbnQiLCJwcmVUcmltQ29udGVudCIsImVuZE9mZnNldCIsImVuZFRva2VucyIsImNvbHVtbiIsInhzIiwic2VhcmNoU3RyaW5nIiwiaG9pc3RTdGF0aWMiLCJ3YWxrJDEiLCJpc1NpbmdsZUVsZW1lbnRSb290IiwiZG9Ob3RIb2lzdE5vZGUiLCJvcmlnaW5hbENvdW50IiwiaG9pc3RlZENvdW50IiwiY29uc3RhbnRUeXBlIiwiZ2V0Q29uc3RhbnRUeXBlIiwiY29kZWdlbk5vZGUiLCJnZXRQYXRjaEZsYWciLCJnZXRHZW5lcmF0ZWRQcm9wc0NvbnN0YW50VHlwZSIsImdldE5vZGVQcm9wcyIsImNvbnN0YW50Q2FjaGUiLCJyZXR1cm5UeXBlIiwiZ2VuZXJhdGVkUHJvcHNUeXBlIiwiY2hpbGRUeXBlIiwiZXhwVHlwZSIsImFsbG93SG9pc3RlZEhlbHBlclNldCIsImdldENvbnN0YW50VHlwZU9mSGVscGVyQ2FsbCIsImtleVR5cGUiLCJ2YWx1ZVR5cGUiLCJjcmVhdGVUcmFuc2Zvcm1Db250ZXh0IiwiZmlsZW5hbWUiLCJwcmVmaXhJZGVudGlmaWVycyIsImNhY2hlSGFuZGxlcnMiLCJub2RlVHJhbnNmb3JtcyIsImRpcmVjdGl2ZVRyYW5zZm9ybXMiLCJ0cmFuc2Zvcm1Ib2lzdCIsImlzQnVpbHRJbkNvbXBvbmVudCIsImV4cHJlc3Npb25QbHVnaW5zIiwic2xvdHRlZCIsInNzckNzc1ZhcnMiLCJiaW5kaW5nTWV0YWRhdGEiLCJpbmxpbmUiLCJpc1RTIiwib25XYXJuIiwiY29tcGF0Q29uZmlnIiwibmFtZU1hdGNoIiwiY3VycmVudENvdW50IiwicmVtb3ZhbEluZGV4IiwiZXhwIiwiaWRlbnRpZmllciIsInRyYW5zZm9ybSIsInRyYXZlcnNlTm9kZSIsImNyZWF0ZVJvb3RDb2RlZ2VuIiwicGF0Y2hGbGFnVGV4dCIsInRyYXZlcnNlQ2hpbGRyZW4iLCJub2RlUmVtb3ZlZCIsImV4aXRGbnMiLCJvbkV4aXQiLCJjcmVhdGVTdHJ1Y3R1cmFsRGlyZWN0aXZlVHJhbnNmb3JtIiwiUFVSRV9BTk5PVEFUSU9OIiwiYWxpYXNIZWxwZXIiLCJjcmVhdGVDb2RlZ2VuQ29udGV4dCIsImFzdCIsInNvdXJjZU1hcCIsIm9wdGltaXplSW1wb3J0cyIsInJ1bnRpbWVHbG9iYWxOYW1lIiwicnVudGltZU1vZHVsZU5hbWUiLCJzc3JSdW50aW1lTW9kdWxlTmFtZSIsIndpdGhvdXROZXdMaW5lIiwiZ2VuZXJhdGUiLCJwdXNoIiwiaW5kZW50IiwiZGVpbmRlbnQiLCJoYXNIZWxwZXJzIiwidXNlV2l0aEJsb2NrIiwiZ2VuRnVuY3Rpb25QcmVhbWJsZSIsImZ1bmN0aW9uTmFtZSIsInNpZ25hdHVyZSIsImdlbkFzc2V0cyIsImdlbk5vZGUiLCJWdWVCaW5kaW5nIiwic3RhdGljSGVscGVycyIsImdlbkhvaXN0cyIsImFzc2V0cyIsInJlc29sdmVyIiwiaG9pc3RzIiwiaXNUZXh0JDEiLCJnZW5Ob2RlTGlzdEFzQXJyYXkiLCJtdWx0aWxpbmVzIiwiZ2VuTm9kZUxpc3QiLCJjb21tYSIsImdlblRleHQiLCJnZW5FeHByZXNzaW9uIiwiZ2VuSW50ZXJwb2xhdGlvbiIsImdlbkNvbXBvdW5kRXhwcmVzc2lvbiIsImdlbkNvbW1lbnQiLCJnZW5WTm9kZUNhbGwiLCJnZW5DYWxsRXhwcmVzc2lvbiIsImdlbk9iamVjdEV4cHJlc3Npb24iLCJnZW5BcnJheUV4cHJlc3Npb24iLCJnZW5GdW5jdGlvbkV4cHJlc3Npb24iLCJnZW5Db25kaXRpb25hbEV4cHJlc3Npb24iLCJnZW5DYWNoZUV4cHJlc3Npb24iLCJwdXJlIiwiZ2VuRXhwcmVzc2lvbkFzUHJvcGVydHlLZXkiLCJjYWxsSGVscGVyIiwiZ2VuTnVsbGFibGVBcmdzIiwibmVlZE5ld2xpbmUiLCJuZWVkc1BhcmVucyIsImlzTmVzdGVkIiwicHJvaGliaXRlZEtleXdvcmRSRSIsInN0cmlwU3RyaW5nUkUiLCJ2YWxpZGF0ZUJyb3dzZXJFeHByZXNzaW9uIiwiYXNQYXJhbXMiLCJhc1Jhd1N0YXRlbWVudHMiLCJrZXl3b3JkTWF0Y2giLCJ0cmFuc2Zvcm1FeHByZXNzaW9uIiwicHJvY2Vzc0V4cHJlc3Npb24iLCJsb2NhbFZhcnMiLCJ0cmFuc2Zvcm1JZiIsInByb2Nlc3NJZiIsImlmTm9kZSIsInNpYmxpbmdzIiwic2libGluZyIsImNyZWF0ZUNvZGVnZW5Ob2RlRm9yQnJhbmNoIiwicGFyZW50Q29uZGl0aW9uIiwiZ2V0UGFyZW50Q29uZGl0aW9uIiwicHJvY2Vzc0NvZGVnZW4iLCJjcmVhdGVJZkJyYW5jaCIsImNvbW1lbnRzIiwidXNlcktleSIsImlzU2FtZUtleSIsImlzVGVtcGxhdGVJZiIsImtleUluZGV4IiwiY3JlYXRlQ2hpbGRyZW5Db2RlZ2VuTm9kZSIsImtleVByb3BlcnR5IiwiZmlyc3RDaGlsZCIsInZub2RlQ2FsbCIsImJyYW5jaEV4cCIsInRyYW5zZm9ybUZvciIsInByb2Nlc3NGb3IiLCJmb3JOb2RlIiwicmVuZGVyRXhwIiwiaXNUZW1wbGF0ZSIsImtleVByb3AiLCJrZXlFeHAiLCJpc1N0YWJsZUZyYWdtZW50IiwiZnJhZ21lbnRGbGFnIiwiY2hpbGRCbG9jayIsIm5lZWRGcmFnbWVudFdyYXBwZXIiLCJzbG90T3V0bGV0IiwibG9vcCIsImNyZWF0ZUZvckxvb3BQYXJhbXMiLCJwYXJzZVJlc3VsdCIsInBhcnNlRm9yRXhwcmVzc2lvbiIsImFkZElkZW50aWZpZXJzIiwicmVtb3ZlSWRlbnRpZmllcnMiLCJzY29wZXMiLCJmb3JBbGlhc1JFIiwiZm9ySXRlcmF0b3JSRSIsInN0cmlwUGFyZW5zUkUiLCJpbk1hdGNoIiwiTEhTIiwiUkhTIiwiY3JlYXRlQWxpYXNFeHByZXNzaW9uIiwidmFsdWVDb250ZW50IiwidHJpbW1lZE9mZnNldCIsIml0ZXJhdG9yTWF0Y2giLCJrZXlDb250ZW50Iiwia2V5T2Zmc2V0IiwiaW5kZXhDb250ZW50IiwibWVtb0FyZ3MiLCJjcmVhdGVQYXJhbXNMaXN0IiwiZGVmYXVsdEZhbGxiYWNrIiwidHJhY2tTbG90U2NvcGVzIiwidlNsb3QiLCJidWlsZENsaWVudFNsb3RGbiIsImJ1aWxkU2xvdHMiLCJidWlsZFNsb3RGbiIsInNsb3RzUHJvcGVydGllcyIsImhhc0R5bmFtaWNTbG90cyIsIm9uQ29tcG9uZW50U2xvdCIsImhhc1RlbXBsYXRlU2xvdHMiLCJoYXNOYW1lZERlZmF1bHRTbG90IiwiaW1wbGljaXREZWZhdWx0Q2hpbGRyZW4iLCJzZWVuU2xvdE5hbWVzIiwiY29uZGl0aW9uYWxCcmFuY2hJbmRleCIsInNsb3RFbGVtZW50Iiwic2xvdERpciIsInNsb3RMb2MiLCJzbG90UHJvcHMiLCJkaXJMb2MiLCJzdGF0aWNTbG90TmFtZSIsInNsb3RGdW5jdGlvbiIsInZJZiIsInZFbHNlIiwidkZvciIsImJ1aWxkRHluYW1pY1Nsb3QiLCJjb25kaXRpb25hbCIsImJ1aWxkRGVmYXVsdFNsb3RQcm9wZXJ0eSIsImlzTm9uV2hpdGVzcGFjZUNvbnRlbnQiLCJoYXNGb3J3YXJkZWRTbG90cyIsImRpcmVjdGl2ZUltcG9ydE1hcCIsInRyYW5zZm9ybUVsZW1lbnQiLCJ2bm9kZVRhZyIsInJlc29sdmVDb21wb25lbnRUeXBlIiwiaXNEeW5hbWljQ29tcG9uZW50Iiwidm5vZGVQcm9wcyIsInZub2RlQ2hpbGRyZW4iLCJ2bm9kZVBhdGNoRmxhZyIsInZub2RlRHluYW1pY1Byb3BzIiwiZHluYW1pY1Byb3BOYW1lcyIsInZub2RlRGlyZWN0aXZlcyIsInNob3VsZFVzZUJsb2NrIiwicHJvcHNCdWlsZFJlc3VsdCIsImJ1aWxkUHJvcHMiLCJidWlsZERpcmVjdGl2ZUFyZ3MiLCJoYXNEeW5hbWljVGV4dENoaWxkIiwiZmxhZ05hbWVzIiwic3RyaW5naWZ5RHluYW1pY1Byb3BOYW1lcyIsImlzRXhwbGljaXREeW5hbWljIiwiaXNDb21wb25lbnRUYWciLCJpc1Byb3AiLCJpc0RpciIsImJ1aWx0SW4iLCJlbGVtZW50TG9jIiwibWVyZ2VBcmdzIiwicnVudGltZURpcmVjdGl2ZXMiLCJoYXNDaGlsZHJlbiIsImhhc1JlZiIsImhhc0NsYXNzQmluZGluZyIsImhhc1N0eWxlQmluZGluZyIsImhhc0h5ZHJhdGlvbkV2ZW50QmluZGluZyIsImhhc1Zub2RlSG9vayIsInB1c2hNZXJnZUFyZyIsImRlZHVwZVByb3BlcnRpZXMiLCJhbmFseXplUGF0Y2hGbGFnIiwiaXNFdmVudEhhbmRsZXIiLCJpc1ZCaW5kIiwiaXNWT24iLCJkaXJlY3RpdmVUcmFuc2Zvcm0iLCJuZWVkUnVudGltZSIsInByb3BzRXhwcmVzc2lvbiIsImNsYXNzS2V5SW5kZXgiLCJzdHlsZUtleUluZGV4IiwiaGFzRHluYW1pY0tleSIsImNsYXNzUHJvcCIsInN0eWxlUHJvcCIsImtub3duUHJvcHMiLCJtZXJnZUFzQXJyYXkkMSIsImRpckFyZ3MiLCJydW50aW1lIiwidHJ1ZUV4cHJlc3Npb24iLCJtb2RpZmllciIsInByb3BzTmFtZXNTdHJpbmciLCJ0cmFuc2Zvcm1TbG90T3V0bGV0IiwicHJvY2Vzc1Nsb3RPdXRsZXQiLCJzbG90QXJncyIsImV4cGVjdGVkTGVuIiwibm9uTmFtZVByb3BzIiwiZm5FeHBSRSIsInRyYW5zZm9ybU9uIiwiYXVnbWVudG9yIiwiZXZlbnROYW1lIiwiZXZlbnRTdHJpbmciLCJzaG91bGRDYWNoZSIsImlzTWVtYmVyRXhwIiwiaXNJbmxpbmVTdGF0ZW1lbnQiLCJoYXNNdWx0aXBsZVN0YXRlbWVudHMiLCJ0cmFuc2Zvcm1CaW5kIiwiX25vZGUiLCJpbmplY3RQcmVmaXgiLCJwcmVmaXgiLCJ0cmFuc2Zvcm1UZXh0IiwiaGFzVGV4dCIsImNhbGxBcmdzIiwidHJhbnNmb3JtT25jZSIsInRyYW5zZm9ybU1vZGVsIiwiY3JlYXRlVHJhbnNmb3JtUHJvcHMiLCJyYXdFeHAiLCJleHBTdHJpbmciLCJiaW5kaW5nVHlwZSIsIm1heWJlUmVmIiwicHJvcE5hbWUiLCJhc3NpZ25tZW50RXhwIiwiZXZlbnRBcmciLCJ2YWxpZERpdmlzaW9uQ2hhclJFIiwidHJhbnNmb3JtRmlsdGVyIiwicmV3cml0ZUZpbHRlciIsInBhcnNlRmlsdGVyIiwiaW5TaW5nbGUiLCJpbkRvdWJsZSIsImluVGVtcGxhdGVTdHJpbmciLCJpblJlZ2V4IiwiY3VybHkiLCJzcXVhcmUiLCJwYXJlbiIsImxhc3RGaWx0ZXJJbmRleCIsImV4cHJlc3Npb24iLCJwdXNoRmlsdGVyIiwid3JhcEZpbHRlciIsInNlZW4kMSIsInRyYW5zZm9ybU1lbW8iLCJnZXRCYXNlVHJhbnNmb3JtUHJlc2V0IiwiYmFzZUNvbXBpbGUiLCJpc01vZHVsZU1vZGUiLCJub29wRGlyZWN0aXZlVHJhbnNmb3JtIiwiVl9NT0RFTF9SQURJTyIsIlZfTU9ERUxfQ0hFQ0tCT1giLCJWX01PREVMX1RFWFQiLCJWX01PREVMX1NFTEVDVCIsIlZfTU9ERUxfRFlOQU1JQyIsIlZfT05fV0lUSF9NT0RJRklFUlMiLCJWX09OX1dJVEhfS0VZUyIsIlZfU0hPVyIsIlRSQU5TSVRJT04kMSIsIlRSQU5TSVRJT05fR1JPVVAiLCJkZWNvZGVyIiwiZGVjb2RlSHRtbEJyb3dzZXIiLCJhc0F0dHIiLCJpc1Jhd1RleHRDb250YWluZXIiLCJwYXJzZXJPcHRpb25zIiwidHJhbnNmb3JtU3R5bGUiLCJwYXJzZUlubGluZUNTUyIsImNyZWF0ZURPTUNvbXBpbGVyRXJyb3IiLCJET01FcnJvck1lc3NhZ2VzIiwidHJhbnNmb3JtVkh0bWwiLCJ0cmFuc2Zvcm1WVGV4dCIsInRyYW5zZm9ybU1vZGVsJDEiLCJiYXNlUmVzdWx0IiwiY2hlY2tEdXBsaWNhdGVkVmFsdWUiLCJkaXJlY3RpdmVUb1VzZSIsImlzSW52YWxpZFR5cGUiLCJpc0V2ZW50T3B0aW9uTW9kaWZpZXIiLCJpc05vbktleU1vZGlmaWVyIiwibWF5YmVLZXlNb2RpZmllciIsImlzS2V5Ym9hcmRFdmVudCIsInJlc29sdmVNb2RpZmllcnMiLCJrZXlNb2RpZmllcnMiLCJub25LZXlNb2RpZmllcnMiLCJldmVudE9wdGlvbk1vZGlmaWVycyIsInRyYW5zZm9ybUNsaWNrIiwidHJhbnNmb3JtT24kMSIsImhhbmRsZXJFeHAiLCJtb2RpZmllclBvc3RmaXgiLCJ0cmFuc2Zvcm1TaG93IiwidHJhbnNmb3JtVHJhbnNpdGlvbiIsImhhc011bHRpcGxlQ2hpbGRyZW4iLCJpZ25vcmVTaWRlRWZmZWN0VGFncyIsIkRPTU5vZGVUcmFuc2Zvcm1zIiwiRE9NRGlyZWN0aXZlVHJhbnNmb3JtcyIsImNvbXBpbGUkMSIsImNvbXBpbGVDYWNoZSIsImNvbXBpbGVUb0Z1bmN0aW9uIiwiYXNXYXJuaW5nIiwiY29kZUZyYW1lIiwiaXNWdWUyIiwiZ2V0RGV2dG9vbHNHbG9iYWxIb29rIiwiZ2V0VGFyZ2V0IiwiaXNQcm94eUF2YWlsYWJsZSIsIkhPT0tfU0VUVVAiLCJIT09LX1BMVUdJTl9TRVRUSU5HU19TRVQiLCJpc1BlcmZvcm1hbmNlU3VwcG9ydGVkIiwibm93IiwiQXBpUHJveHkiLCJkZWZhdWx0U2V0dGluZ3MiLCJsb2NhbFNldHRpbmdzU2F2ZUlkIiwiY3VycmVudFNldHRpbmdzIiwicGx1Z2luSWQiLCJfdGFyZ2V0Iiwic2V0dXBEZXZ0b29sc1BsdWdpbiIsInBsdWdpbkRlc2NyaXB0b3IiLCJzZXR1cEZuIiwiZW5hYmxlUHJveHkiLCJhY3RpdmVQaW5pYSIsInNldEFjdGl2ZVBpbmlhIiwicGluaWEiLCJwaW5pYVN5bWJvbCIsIk11dGF0aW9uVHlwZSIsIklTX0NMSUVOVCIsIlVTRV9ERVZUT09MUyIsIl9nbG9iYWwiLCJib20iLCJibG9iIiwiYXV0b0JvbSIsImRvd25sb2FkIiwieGhyIiwic2F2ZUFzIiwiY29yc0VuYWJsZWQiLCJjbGljayIsImV2dCIsIl9uYXZpZ2F0b3IiLCJpc01hY09TV2ViVmlldyIsImRvd25sb2FkU2F2ZUFzIiwibXNTYXZlQXMiLCJmaWxlU2F2ZXJTYXZlQXMiLCJwb3B1cCIsImZvcmNlIiwiaXNTYWZhcmkiLCJpc0Nocm9tZUlPUyIsInJlYWRlciIsInRvYXN0TWVzc2FnZSIsInBpbmlhTWVzc2FnZSIsImlzUGluaWEiLCJjaGVja0NsaXBib2FyZEFjY2VzcyIsImNoZWNrTm90Rm9jdXNlZEVycm9yIiwiYWN0aW9uR2xvYmFsQ29weVN0YXRlIiwiYWN0aW9uR2xvYmFsUGFzdGVTdGF0ZSIsImFjdGlvbkdsb2JhbFNhdmVTdGF0ZSIsImZpbGVJbnB1dCIsImdldEZpbGVPcGVuZXIiLCJvcGVuRmlsZSIsImZpbGVzIiwiZmlsZSIsImFjdGlvbkdsb2JhbE9wZW5TdGF0ZUZpbGUiLCJmb3JtYXREaXNwbGF5IiwiZGlzcGxheSIsIlBJTklBX1JPT1RfTEFCRUwiLCJQSU5JQV9ST09UX0lEIiwiZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlIiwic3RvcmUiLCJmb3JtYXRTdG9yZUZvckluc3BlY3RvclN0YXRlIiwic3RvcmVOYW1lcyIsInN0b3JlTWFwIiwic3RvcmVJZCIsImdldHRlcnMiLCJnZXR0ZXJOYW1lIiwiZm9ybWF0RXZlbnREYXRhIiwiZm9ybWF0TXV0YXRpb25UeXBlIiwiaXNUaW1lbGluZUFjdGl2ZSIsImNvbXBvbmVudFN0YXRlVHlwZXMiLCJNVVRBVElPTlNfTEFZRVJfSUQiLCJJTlNQRUNUT1JfSUQiLCJnZXRTdG9yZVR5cGUiLCJyZWdpc3RlclBpbmlhRGV2dG9vbHMiLCJhcGkiLCJub2RlSWQiLCJwYXlsb2FkIiwicGluaWFTdG9yZXMiLCJzdG9yZXMiLCJpbnNwZWN0ZWRTdG9yZSIsImFkZFN0b3JlVG9EZXZ0b29scyIsImFmdGVyIiwiZ3JvdXBJZCIsInJ1bm5pbmdBY3Rpb25JZCIsImFjdGl2ZUFjdGlvbiIsImV2ZW50RGF0YSIsImhvdFVwZGF0ZSIsIm5ld1N0b3JlIiwiJGRpc3Bvc2UiLCJwYXRjaEFjdGlvbkZvckdyb3VwaW5nIiwiYWN0aW9uTmFtZXMiLCJhY3Rpb25zIiwic3RvcmVBY3Rpb25zIiwiYWN0aW9uTmFtZSIsIl9hY3Rpb25JZCIsInRyYWNrZWRTdG9yZSIsImRldnRvb2xzUGx1Z2luIiwib3JpZ2luYWxIb3RVcGRhdGUiLCJjcmVhdGVQaW5pYSIsInRvQmVJbnN0YWxsZWQiLCJwYXRjaE9iamVjdCIsIm5ld1N0YXRlIiwib2xkU3RhdGUiLCJzdWJQYXRjaCIsInRhcmdldFZhbHVlIiwibm9vcCIsImFkZFN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbnMiLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJ0cmlnZ2VyU3Vic2NyaXB0aW9ucyIsIm1lcmdlUmVhY3RpdmVPYmplY3RzIiwicGF0Y2hUb0FwcGx5Iiwic2tpcEh5ZHJhdGVTeW1ib2wiLCJzaG91bGRIeWRyYXRlIiwiaXNDb21wdXRlZCIsImNyZWF0ZU9wdGlvbnNTdG9yZSIsImhvdCIsImluaXRpYWxTdGF0ZSIsImxvY2FsU3RhdGUiLCJjb21wdXRlZEdldHRlcnMiLCJjcmVhdGVTZXR1cFN0b3JlIiwiJHN0YXRlIiwiJGlkIiwiaXNPcHRpb25zU3RvcmUiLCJvcHRpb25zRm9yUGx1Z2luIiwiJHN1YnNjcmliZU9wdGlvbnMiLCJpc0xpc3RlbmluZyIsImRlYnVnZ2VyRXZlbnRzIiwiaXNTeW5jTGlzdGVuaW5nIiwiYWN0aW9uU3Vic2NyaXB0aW9ucyIsImhvdFN0YXRlIiwiYWN0aXZlTGlzdGVuZXIiLCIkcGF0Y2giLCJwYXJ0aWFsU3RhdGVPck11dGF0b3IiLCJzdWJzY3JpcHRpb25NdXRhdGlvbiIsIm15TGlzdGVuZXJJZCIsIiRyZXNldCIsIndyYXBBY3Rpb24iLCJhY3Rpb24iLCJhZnRlckNhbGxiYWNrTGlzdCIsIm9uRXJyb3JDYWxsYmFja0xpc3QiLCJfaG1yUGF5bG9hZCIsInBhcnRpYWxTdG9yZSIsInN0b3BXYXRjaGVyIiwic2V0dXBTdG9yZSIsImFjdGlvblZhbHVlIiwic3RhdGVLZXkiLCJuZXdTdGF0ZVRhcmdldCIsIm9sZFN0YXRlU291cmNlIiwiZ2V0dGVyVmFsdWUiLCJub25FbnVtZXJhYmxlIiwiZXh0ZW5kZXIiLCJleHRlbnNpb25zIiwiZGVmaW5lU3RvcmUiLCJpZE9yT3B0aW9ucyIsInNldHVwT3B0aW9ucyIsImlzU2V0dXBTdG9yZSIsInVzZVN0b3JlIiwiaG90SWQiLCJTYXZlU3RhdGUiLCJkZWZpbmVJbW11dGFibGVTdG9yZSIsImhhc1dlYnNvY2tldERCcyIsInN1cHBvcnRzV2Vic29ja2V0Rm9jdXMiLCJmaXJzdFRleHRGaWVsZEluZGV4IiwiZmlyc3RQYXNzd29yZEZpZWxkSW5kZXgiLCJvcmlnaW5hbEZpZWxkSW5kZXgiLCJuZXdVc2VybmFtZUluZGV4IiwibmV3VXNlcm5hbWUiLCJuZXdQYXNzd29yZEluZGV4IiwibmV3UGFzc3dvcmQiLCJzdHViVnVlQXBwIiwic3R1YlBpbmlhIiwidXNlU3R1YlN0b3JlIiwiRm9ybUZpbGxpbmciLCJmb3JtU2F2aW5nIiwiTG9nZ2VyIiwibWF0Y2hGaW5kZXIiLCJzcGVjaWZpY0ZyYW1lSWQiLCJtYXRjaGVkRmllbGQiLCJkYXRhRmllbGQiLCJfY3VycmVudFBhZ2UiLCJpc1Zpc2libGUiLCJmb3JtRmllbGQiLCJzY29yZSIsImZpZWxkU2NvcmVNYXRyaXgiLCJkYXRhRmllbGRzIiwiZm9ybUZpZWxkcyIsImF1dG9tYXRlZCIsImZpbGxlZEZpZWxkcyIsImZmaSIsImRmaSIsImRvbUVsZW1lbnQiLCJjdXJyZW50VmFsdWUiLCJmaWVsZFR5cGUiLCJjdXJyZW50UGFnZSIsInNjb3JlQ29uZmlnIiwiYmVoYXZpb3VyIiwiZm9ybXMiLCJwc2V1ZG9Gb3JtIiwic2VhcmNoU2VudFRvS2VlUGFzcyIsInNjYW5SZXN1bHQiLCJpbnRlcmVzdGluZ0Zvcm0iLCJub1Bhc3N3b3JkRmllbGQiLCJub090aGVyRmllbGQiLCJzdWJtaXRUYXJnZXROZWlnaGJvdXIiLCJmb3JtTnVtYmVyIiwic3VibWl0VGFyZ2V0Iiwib3JwaGFuZWRGaWVsZHMiLCJ0biIsInZhbGlkRW50cmllcyIsImZpbmRMb2dpbk9wIiwibWF0Y2hSZXN1bHQiLCJjclN0cmluZyIsImZpcnN0TWF0Y2hQcm9jZXNzZWQiLCJmb3JtVmlzaWJsZSIsInZpc2libGVGaWVsZENhY2hlIiwiZmllbGRNYXRjaFNjb3JlQ29uZmlnIiwibG93RmllbGRNYXRjaFJhdGlvIiwiZm9ybUluZGV4IiwiZmluZE1hdGNoZXNSZXN1bHQiLCJtb3N0UmVsZXZhbnRGb3JtSW5kZXgiLCJlbnRyeUluZGV4IiwiaXNNYXRjaGVkTG9naW5SZXF1ZXN0Iiwib3JkZXJlZEVudHJpZXMiLCJvcmRlcmVkRW50cmllc1dpdGhQcmVmZXJlbmNlIiwibWF0Y2hpbmdMb2dpbiIsIm11bHRpcGxlTWF0Y2hlcyIsImNoZWNrTWF0Y2hpbmdMb2dpblJlbGV2YW5jZVRocmVzaG9sZCIsImF1dG9GaWxsRW5hYmxlZCIsImF1dG9TdWJtaXRFbmFibGVkIiwibGFzdEZpbGxlZE90aGVyIiwibGFzdEZpbGxlZFBhc3N3b3JkcyIsImNhbmRpZGF0ZXMiLCJtaW5TY29yZVRvV2luIiwiZGlzdGFuY2VDYWxjIiwiZGlzdGFuY2VNYXAiLCJmVXRpbHMiLCJ2ZXJpZnlQb3RlbnRpYWxDYW5kaWRhdGUiLCJyZXNvbHZlQXJpYUxhYmVsVmFsdWVzIiwic2VtYW50aWNWYWx1ZXMiLCJzZW1hbnRpY1Njb3JlIiwic3VibWl0RWxlbWVudHMiLCJtYXhEaXN0YW5jZURpZmZlcmVuY2UiLCJkaXN0YW5jZVNjb3JlIiwiZGlzdGFuY2VGYWN0b3IiLCJsYXN0RGlzdGFuY2UiLCJjYW5kaWRhdGUiLCJtYXhTY29yZSIsIm1heFNjb3JlRWxlbWVudCIsImZhY3RvciIsInNlbWFudGljV2hpdGVsaXN0Q2FjaGUiLCJzZW1hbnRpY0JsYWNrbGlzdENhY2hlIiwiZ29vZFdvcmRzIiwiYmFkV29yZHMiLCJnb29kU2NvcmUiLCJiYWRTY29yZSIsInNlbWFudGljVmFsdWUiLCJub2RlQSIsIm5vZGVCIiwiZGlzdGFuY2UiLCJwZW5kaW5nTWFwIiwicGVuZGluZ01hcFN0YXJ0RGlzdGFuY2UiLCJjYWNoZWROb2RlRGlzdGFuY2UiLCJzdWJtaXRFbGVtZW50IiwibWluTWF0Y2hlZEZpZWxkQ291bnRSYXRpbyIsIm90aGVyUmVsZXZhbmNlU2NvcmUiLCJvdGhlckZpZWxkTWF0Y2hTdWNjZXNzZXMiLCJwYXNzd29yZFJlbGV2YW5jZVNjb3JlIiwicGFzc3dvcmRGaWVsZE1hdGNoU3VjY2Vzc2VzIiwidG90YWxSZWxldmFuY2VTY29yZSIsImZvcm1GaWVsZENvdW50IiwibG9naW5GaWVsZENvdW50IiwiZm9ybUZpZWxkQ291bnRGb3JBdXRvZmlsbCIsImxvZ2luRmllbGRDb3VudEZvckF1dG9maWxsIiwiZm9ybU1hdGNoZWRGaWVsZENvdW50Rm9yQXV0b2ZpbGwiLCJudW1iZXJPZk5ld1Bhc3N3b3JkRmllbGRzIiwiZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGwiLCJhZGp1c3RlZFJlbGV2YW5jZSIsImRlYnVnTmFtZSIsIm1hdGNoZWRGaWVsZHMiLCJlbnRyeUZpZWxkcyIsInZpc2libGVGaWVsZE1hcCIsIm1pbkZpZWxkUmVsZXZhbmNlIiwiZmllbGRNYXRjaFN1Y2Nlc3NlcyIsIm1vc3RSZWxldmFudFNjb3JlIiwiZm1TY29yZSIsImZtU2NvcmVGb3JSYXRpbyIsIk1hdGNoZWRGaWVsZCIsIkZvcm1VdGlscyIsImxvZ2dlciIsImZyYW1lIiwibG9jYWxEb2NDb3VudCIsImZyYW1lcyIsInVyaSIsImZpZWxkTmFtZUluIiwiZmllbGROYW1lIiwiaXNTdWJtaXNzaW9uIiwibWF4aW11bUZpZWxkQ291bnQiLCJwd0ZpZWxkcyIsImFsbEZpZWxkcyIsImZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4IiwidG90YWxFbGVtZW50cyIsImVsZW1lbnRMaW1pdCIsImZpZWxkVmFsdWUiLCJvdGhlckNvdW50IiwiYWN0dWFsVXNlcm5hbWVJbmRleCIsIkZvcm1TYXZpbmciLCJmb3JtVG9TdWJtaXQiLCJhdHRhY2htZW50IiwiaXNQYXNzd29yZENoYW5nZUZvcm0iLCJpc1JlZ2lzdHJhdGlvbkZvcm0iLCJleCIsInR3b1Bhc3N3b3Jkc01hdGNoSW5kZXgiLCJub25FbXB0eVBhc3N3b3JkRmllbGRzIiwibm9uRW1wdHlPdGhlckZpZWxkcyIsImRpZmZlcmVudFBhc3N3b3JkIiwiZGlmZmVyZW50T3RoZXIiLCJzdWJtaXR0ZWREYXRhIiwibmV3bHlTdWJtaXR0ZWRGaWVsZHMiLCJwcmV2aW91c2x5RmlsbGVkRmllbGRzIiwiZmlsbGVkRmllbGQiLCJzdWJtaXR0ZWRGaWVsZCIsInBhbmVsT3B0aW9ucyIsIlBhc3N3b3JkR2VuZXJhdG9yIiwiU3luY0NvbnRlbnQiLCJzZW5kTXV0YXRpb24iLCJ2dWVNb3VudCIsIm11dGF0aW9uIiwiQ29udGVudFBvcnRNYW5hZ2VyIiwiYnJvd3Nlci5ydW50aW1lIiwiUG9ydCIsImtlZUR1cGxpY2F0aW9uQ291bnQiLCJmb3JtRmlsbGluZyIsInBhc3N3b3JkR2VuZXJhdG9yIiwiZnJhbWVJZCIsInN5bmNDb250ZW50IiwiY29ubmVjdGVkIiwibWVzc2FnaW5nUG9ydENvbm5lY3Rpb25SZXRyeVRpbWVyIiwicGFnZVNob3dGaXJlZCIsImNvbmZpZ1JlYWR5IiwibWlzc2luZ1BhZ2VTaG93VGltZXIiLCJpbnB1dHNPYnNlcnZlciIsInR1dG9yaWFsSW50ZWdyYXRpb24iLCJ0cmFuc2ZlckVsZW1lbnQiLCJvbkZpcnN0Q29ubmVjdCIsIm15RnJhbWVJZCIsInN0YXJ0dXAiLCJjb25uZWN0VG9NZXNzYWdpbmdQb3J0IiwicmVzY2FuIiwiaW50ZXJlc3RpbmdOb2RlcyJdLCJtYXBwaW5ncyI6Im9OQUFDLFNBQVVBLEVBQVFDLEVBQVMsQ0FJeEJBLEVBQVFDLENBQU0sQ0FRbEIsR0FBRyxPQUFPLFdBQWUsSUFBYyxXQUFhLE9BQU8sS0FBUyxJQUFjLEtBQU9DLEdBQU0sU0FBVUQsRUFBUSxTQVkvRyxHQUFJLEdBQUNFLEdBQUFDLEVBQUEsV0FBVyxTQUFYLFlBQUFBLEVBQW1CLFVBQW5CLE1BQUFELEVBQTRCLElBQy9CLE1BQU0sSUFBSSxNQUFNLDJEQUEyRCxFQUc3RSxHQUFJLE9BQU8sV0FBVyxRQUFZLEtBQWUsT0FBTyxlQUFlLFdBQVcsT0FBTyxJQUFNLE9BQU8sVUFBVyxDQUMvRyxNQUFNRSxFQUFtRCwwREFNbkRDLEVBQVdDLEdBQWlCLENBSWhD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QUFBLDBCQUFBLFFBQUFELEVBQUEseUJBQUEsT0FJSUEsRUFBQSx3QkFBQUMsRUFBQSxPQUFBLHlCQUVKQSxFQUFBLE9BQUEsNEJBQUEsUUFBQUQsRUFBQSwyQkFBQSxPQUlJQSxFQUFBLDBCQUFBQyxFQUFBLE9BQUEsMkJBR0pBLEVBQUEsT0FBQSxZQUFBLFNBQ0lELEVBQUEsWUFBQSxTQUNJQSxFQUFBLFVBQUEsSUFFSkMsRUFBQSxPQUFBLFVBQUEsT0FBQSxTQUNJRCxFQUFBLFVBQUEsT0FBQSxTQUNJQSxFQUFBLFVBQUEsS0FBQSxJQUVKQyxFQUFBLE9BQUEsVUFBQSxLQUFBLE1BQUEsUUFDSUQsRUFBQSxVQUFBLEtBQUEsTUFBQSxTQUNJQSxFQUFBLFVBQUEsS0FBQSxJQUFBQyxFQUFBLE9BQUEsVUFBQSxLQUFBLEtBR1JBLEVBQUEsT0FBQSxVQUFBLEtBQUEsUUFBQSxRQUNJRCxFQUFBLFVBQUEsS0FBQSxRQUFBLFNBQ0lBLEVBQUEsVUFBQSxLQUFBLE1BQUFDLEVBQUEsT0FBQSxVQUFBLEtBQUEsUUFJWkEsRUFBQSxPQUFBLFVBQUEsU0FBQSxTQUNJRCxFQUFBLFVBQUEsU0FBQSxTQUNJQSxFQUFBLFVBQUEsT0FBQSxJQUVKQyxFQUFBLE9BQUEsVUFBQSxPQUFBLE1BQUEsUUFDSUQsRUFBQSxVQUFBLE9BQUEsTUFBQSxTQUNJQSxFQUFBLFVBQUEsT0FBQSxJQUFBQyxFQUFBLE9BQUEsVUFBQSxPQUFBLEtBR1JBLEVBQUEsT0FBQSxVQUFBLE9BQUEsUUFBQSxRQUNJRCxFQUFBLFVBQUEsT0FBQSxRQUFBLFNBQ0lBLEVBQUEsVUFBQSxPQUFBLE1BQUFDLEVBQUEsT0FBQSxVQUFBLE9BQUEsU0FPaEJBLEVBQUEsT0FBQSxZQUFBLFNBQ0lELEVBQUEsWUFBQSxTQUNJQSxFQUFBLFVBQUEsSUFFSkMsRUFBQSxPQUFBLFVBQUEsT0FBQSxTQUNJRCxFQUFBLFVBQUEsT0FBQSxTQUNJQSxFQUFBLFVBQUEsS0FBQSxJQUVKQyxFQUFBLE9BQUEsVUFBQSxLQUFBLE1BQUEsUUFDSUQsRUFBQSxVQUFBLEtB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
