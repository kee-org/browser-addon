(function(){"use strict";function Ze(e,t){const n=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Eu=Ze("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function On(e){if(V(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=ce(s)?Pu(s):On(s);if(i)for(const r in i)t[r]=i[r]}return t}else{if(ce(e))return e;if(ee(e))return e}}const xu=/;(?![^(]*\))/g,Su=/:([^]+)/,Tu=/\/\*.*?\*\//gs;function Pu(e){const t={};return e.replace(Tu,"").split(xu).forEach(n=>{if(n){const s=n.split(Su);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function It(e){let t="";if(ce(e))t=e;else if(V(e))for(let n=0;n<e.length;n++){const s=It(e[n]);s&&(t+=s+" ")}else if(ee(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ou(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ce(t)&&(e.class=It(t)),n&&(e.style=On(n)),e}const Ru="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Fu="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Iu=Ze(Ru),Lu=Ze(Fu),Mo=Ze("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function ko(e){return!!e||e===""}function Nu(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=_t(e[s],t[s]);return n}function _t(e,t){if(e===t)return!0;let n=Vo(e),s=Vo(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=zn(e),s=zn(t),n||s)return e===t;if(n=V(e),s=V(t),n||s)return n&&s?Nu(e,t):!1;if(n=ee(e),s=ee(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!_t(e[o],t[o]))return!1}}return String(e)===String(t)}function Xn(e,t){return e.findIndex(n=>_t(n,t))}const Do=e=>ce(e)?e:e==null?"":V(e)||ee(e)&&(e.toString===jo||!G(e.toString))?JSON.stringify(e,$o,2):String(e),$o=(e,t)=>t&&t.__v_isRef?$o(e,t.value):nn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:sn(t)?{[`Set(${t.size})`]:[...t.values()]}:ee(t)&&!V(t)&&!$s(t)?String(t):t,oe=Object.freeze({}),Rn=Object.freeze([]),Ee=()=>{},Uo=()=>!1,Mu=/^on[^a-z]/,lt=e=>Mu.test(e),Ds=e=>e.startsWith("onUpdate:"),ne=Object.assign,qi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ku=Object.prototype.hasOwnProperty,se=(e,t)=>ku.call(e,t),V=Array.isArray,nn=e=>Zn(e)==="[object Map]",sn=e=>Zn(e)==="[object Set]",Vo=e=>Zn(e)==="[object Date]",G=e=>typeof e=="function",ce=e=>typeof e=="string",zn=e=>typeof e=="symbol",ee=e=>e!==null&&typeof e=="object",Qn=e=>ee(e)&&G(e.then)&&G(e.catch),jo=Object.prototype.toString,Zn=e=>jo.call(e),Yi=e=>Zn(e).slice(8,-1),$s=e=>Zn(e)==="[object Object]",Ji=e=>ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fn=Ze(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Du=Ze("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Us=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},$u=/-(\w)/g,Te=Us(e=>e.replace($u,(t,n)=>n?n.toUpperCase():"")),Uu=/\B([A-Z])/g,Ae=Us(e=>e.replace(Uu,"-$1").toLowerCase()),Lt=Us(e=>e.charAt(0).toUpperCase()+e.slice(1)),ct=Us(e=>e?`on${Lt(e)}`:""),In=(e,t)=>!Object.is(e,t),ut=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Vs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ft=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Bo;const Ho=()=>Bo||(Bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function js(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let Be;class Xi{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Be,!t&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Be;try{return Be=this,t()}finally{Be=n}}else js("cannot run an inactive effect scope.")}on(){Be=this}off(){Be=this.parent}stop(t){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function zi(e){return new Xi(e)}function Ko(e,t=Be){t&&t.active&&t.effects.push(e)}function Wo(){return Be}function Go(e){Be?Be.cleanups.push(e):js("onScopeDispose() is called when there is no active effect scope to be associated with.")}const Qi=e=>{const t=new Set(e);return t.w=0,t.n=0,t},qo=e=>(e.w&Nt)>0,Yo=e=>(e.n&Nt)>0,Vu=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Nt},ju=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const i=t[s];qo(i)&&!Yo(i)?i.delete(e):t[n++]=i,i.w&=~Nt,i.n&=~Nt}t.length=n}},Zi=new WeakMap;let es=0,Nt=1;const er=30;let Pe;const rn=Symbol("iterate"),tr=Symbol("Map key iterate");class ts{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ko(this,s)}run(){if(!this.active)return this.fn();let t=Pe,n=Mt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Pe,Pe=this,Mt=!0,Nt=1<<++es,es<=er?Vu(this):Jo(this),this.fn()}finally{es<=er&&ju(this),Nt=1<<--es,Pe=this.parent,Mt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pe===this?this.deferStop=!0:this.active&&(Jo(this),this.onStop&&this.onStop(),this.active=!1)}}function Jo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function Bu(e,t){e.effect&&(e=e.effect.fn);const n=new ts(e);t&&(ne(n,t),t.scope&&Ko(n,t.scope)),(!t||!t.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function Hu(e){e.effect.stop()}let Mt=!0;const Xo=[];function on(){Xo.push(Mt),Mt=!1}function an(){const e=Xo.pop();Mt=e===void 0?!0:e}function Ie(e,t,n){if(Mt&&Pe){let s=Zi.get(e);s||Zi.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=Qi()),zo(i,{effect:Pe,target:e,type:t,key:n})}}function zo(e,t){let n=!1;es<=er?Yo(e)||(e.n|=Nt,n=!qo(e)):n=!e.has(Pe),n&&(e.add(Pe),Pe.deps.push(e),Pe.onTrack&&Pe.onTrack(Object.assign({effect:Pe},t)))}function dt(e,t,n,s,i,r){const o=Zi.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&V(e)){const c=ft(s);o.forEach((f,u)=>{(u==="length"||u>=c)&&a.push(f)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":V(e)?Ji(n)&&a.push(o.get("length")):(a.push(o.get(rn)),nn(e)&&a.push(o.get(tr)));break;case"delete":V(e)||(a.push(o.get(rn)),nn(e)&&a.push(o.get(tr)));break;case"set":nn(e)&&a.push(o.get(rn));break}const l={target:e,type:t,key:n,newValue:s,oldValue:i,oldTarget:r};if(a.length===1)a[0]&&nr(a[0],l);else{const c=[];for(const f of a)f&&c.push(...f);nr(Qi(c),l)}}function nr(e,t){const n=V(e)?e:[...e];for(const s of n)s.computed&&Qo(s,t);for(const s of n)s.computed||Qo(s,t)}function Qo(e,t){(e!==Pe||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(ne({effect:e},t)),e.scheduler?e.scheduler():e.run())}const Ku=Ze("__proto__,__v_isRef,__isVue"),Zo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(zn)),Wu=Bs(),Gu=Bs(!1,!0),qu=Bs(!0),Yu=Bs(!0,!0),ea=Ju();function Ju(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Z(this);for(let r=0,o=this.length;r<o;r++)Ie(s,"get",r+"");const i=s[t](...n);return i===-1||i===!1?s[t](...n.map(Z)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){on();const s=Z(this)[t].apply(this,n);return an(),s}}),e}function Bs(e=!1,t=!1){return function(s,i,r){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&r===(e?t?da:fa:t?ua:ca).get(s))return s;const o=V(s);if(!e&&o&&se(ea,i))return Reflect.get(ea,i,r);const a=Reflect.get(s,i,r);return(zn(i)?Zo.has(i):Ku(i))||(e||Ie(s,"get",i),t)?a:de(a)?o&&Ji(i)?a:a.value:ee(a)?e?ir(a):vt(a):a}}const Xu=ta(),zu=ta(!0);function ta(e=!1){return function(n,s,i,r){let o=n[s];if(At(o)&&de(o)&&!de(i))return!1;if(!e&&(!$t(i)&&!At(i)&&(o=Z(o),i=Z(i)),!V(n)&&de(o)&&!de(i)))return o.value=i,!0;const a=V(n)&&Ji(s)?Number(s)<n.length:se(n,s),l=Reflect.set(n,s,i,r);return n===Z(r)&&(a?In(i,o)&&dt(n,"set",s,i,o):dt(n,"add",s,i)),l}}function Qu(e,t){const n=se(e,t),s=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&dt(e,"delete",t,void 0,s),i}function Zu(e,t){const n=Reflect.has(e,t);return(!zn(t)||!Zo.has(t))&&Ie(e,"has",t),n}function ef(e){return Ie(e,"iterate",V(e)?"length":rn),Reflect.ownKeys(e)}const na={get:Wu,set:Xu,deleteProperty:Qu,has:Zu,ownKeys:ef},sa={get:qu,set(e,t){return js(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return js(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},tf=ne({},na,{get:Gu,set:zu}),nf=ne({},sa,{get:Yu}),sr=e=>e,Hs=e=>Reflect.getPrototypeOf(e);function Ks(e,t,n=!1,s=!1){e=e.__v_raw;const i=Z(e),r=Z(t);n||(t!==r&&Ie(i,"get",t),Ie(i,"get",r));const{has:o}=Hs(i),a=s?sr:n?rr:ss;if(o.call(i,t))return a(e.get(t));if(o.call(i,r))return a(e.get(r));e!==i&&e.get(t)}function Ws(e,t=!1){const n=this.__v_raw,s=Z(n),i=Z(e);return t||(e!==i&&Ie(s,"has",e),Ie(s,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Gs(e,t=!1){return e=e.__v_raw,!t&&Ie(Z(e),"iterate",rn),Reflect.get(e,"size",e)}function ia(e){e=Z(e);const t=Z(this);return Hs(t).has.call(t,e)||(t.add(e),dt(t,"add",e,e)),this}function ra(e,t){t=Z(t);const n=Z(this),{has:s,get:i}=Hs(n);let r=s.call(n,e);r?la(n,s,e):(e=Z(e),r=s.call(n,e));const o=i.call(n,e);return n.set(e,t),r?In(t,o)&&dt(n,"set",e,t,o):dt(n,"add",e,t),this}function oa(e){const t=Z(this),{has:n,get:s}=Hs(t);let i=n.call(t,e);i?la(t,n,e):(e=Z(e),i=n.call(t,e));const r=s?s.call(t,e):void 0,o=t.delete(e);return i&&dt(t,"delete",e,void 0,r),o}function aa(){const e=Z(this),t=e.size!==0,n=nn(e)?new Map(e):new Set(e),s=e.clear();return t&&dt(e,"clear",void 0,void 0,n),s}function qs(e,t){return function(s,i){const r=this,o=r.__v_raw,a=Z(o),l=t?sr:e?rr:ss;return!e&&Ie(a,"iterate",rn),o.forEach((c,f)=>s.call(i,l(c),l(f),r))}}function Ys(e,t,n){return function(...s){const i=this.__v_raw,r=Z(i),o=nn(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...s),f=n?sr:t?rr:ss;return!t&&Ie(r,"iterate",l?tr:rn),{next(){const{value:u,done:d}=c.next();return d?{value:u,done:d}:{value:a?[f(u[0]),f(u[1])]:f(u),done:d}},[Symbol.iterator](){return this}}}}function kt(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${Lt(e)} operation ${n}failed: target is readonly.`,Z(this))}return e==="delete"?!1:this}}function sf(){const e={get(r){return Ks(this,r)},get size(){return Gs(this)},has:Ws,add:ia,set:ra,delete:oa,clear:aa,forEach:qs(!1,!1)},t={get(r){return Ks(this,r,!1,!0)},get size(){return Gs(this)},has:Ws,add:ia,set:ra,delete:oa,clear:aa,forEach:qs(!1,!0)},n={get(r){return Ks(this,r,!0)},get size(){return Gs(this,!0)},has(r){return Ws.call(this,r,!0)},add:kt("add"),set:kt("set"),delete:kt("delete"),clear:kt("clear"),forEach:qs(!0,!1)},s={get(r){return Ks(this,r,!0,!0)},get size(){return Gs(this,!0)},has(r){return Ws.call(this,r,!0)},add:kt("add"),set:kt("set"),delete:kt("delete"),clear:kt("clear"),forEach:qs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Ys(r,!1,!1),n[r]=Ys(r,!0,!1),t[r]=Ys(r,!1,!0),s[r]=Ys(r,!0,!0)}),[e,n,t,s]}const[rf,of,af,lf]=sf();function Js(e,t){const n=t?e?lf:af:e?of:rf;return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(se(n,i)&&i in s?n:s,i,r)}const cf={get:Js(!1,!1)},uf={get:Js(!1,!0)},ff={get:Js(!0,!1)},df={get:Js(!0,!0)};function la(e,t,n){const s=Z(n);if(s!==n&&t.call(e,s)){const i=Yi(e);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ca=new WeakMap,ua=new WeakMap,fa=new WeakMap,da=new WeakMap;function hf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gf(e){return e.__v_skip||!Object.isExtensible(e)?0:hf(Yi(e))}function vt(e){return At(e)?e:Xs(e,!1,na,cf,ca)}function ha(e){return Xs(e,!1,tf,uf,ua)}function ir(e){return Xs(e,!0,sa,ff,fa)}function Dt(e){return Xs(e,!0,nf,df,da)}function Xs(e,t,n,s,i){if(!ee(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=gf(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return i.set(e,a),a}function He(e){return At(e)?He(e.__v_raw):!!(e&&e.__v_isReactive)}function At(e){return!!(e&&e.__v_isReadonly)}function $t(e){return!!(e&&e.__v_isShallow)}function ns(e){return He(e)||At(e)}function Z(e){const t=e&&e.__v_raw;return t?Z(t):e}function qe(e){return Vs(e,"__v_skip",!0),e}const ss=e=>ee(e)?vt(e):e,rr=e=>ee(e)?ir(e):e;function or(e){Mt&&Pe&&(e=Z(e),zo(e.dep||(e.dep=Qi()),{target:e,type:"get",key:"value"}))}function zs(e,t){e=Z(e),e.dep&&nr(e.dep,{target:e,type:"set",key:"value",newValue:t})}function de(e){return!!(e&&e.__v_isRef===!0)}function ln(e){return ga(e,!1)}function mf(e){return ga(e,!0)}function ga(e,t){return de(e)?e:new pf(e,t)}class pf{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Z(t),this._value=n?t:ss(t)}get value(){return or(this),this._value}set value(t){const n=this.__v_isShallow||$t(t)||At(t);t=n?t:Z(t),In(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ss(t),zs(this,t))}}function bf(e){zs(e,e.value)}function ar(e){return de(e)?e.value:e}const yf={get:(e,t,n)=>ar(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return de(i)&&!de(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function lr(e){return He(e)?e:new Proxy(e,yf)}class wf{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>or(this),()=>zs(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function _f(e){return new wf(e)}function cr(e){ns(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=V(e)?new Array(e.length):{};for(const n in e)t[n]=is(e,n);return t}class vf{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function is(e,t,n){const s=e[t];return de(s)?s:new vf(e,t,n)}var ma;class Af{constructor(t,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[ma]=!1,this._dirty=!0,this.effect=new ts(t,()=>{this._dirty||(this._dirty=!0,zs(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=Z(this);return or(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}ma="__v_isReadonly";function Cf(e,t,n=!1){let s,i;const r=G(e);r?(s=e,i=()=>{console.warn("Write operation failed: computed value is readonly")}):(s=e.get,i=e.set);const o=new Af(s,i,r||!i,n);return t&&!n&&(o.effect.onTrack=t.onTrack,o.effect.onTrigger=t.onTrigger),o}const cn=[];function Ln(e){cn.push(e)}function Nn(){cn.pop()}function S(e,...t){on();const n=cn.length?cn[cn.length-1].component:null,s=n&&n.appContext.config.warnHandler,i=Ef();if(s)et(s,n,11,[e+t.join(""),n&&n.proxy,i.map(({vnode:r})=>`at <${Ss(n,r.type)}>`).join(`
`),i]);else{const r=[`[Vue warn]: ${e}`,...t];i.length&&r.push(`
`,...xf(i)),console.warn(...r)}an()}function Ef(){let e=cn[cn.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function xf(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...Sf(n))}),t}function Sf({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,i=` at <${Ss(e.component,e.type,s)}`,r=">"+n;return e.props?[i,...Tf(e.props),r]:[i+r]}function Tf(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...pa(s,e[s]))}),n.length>3&&t.push(" ..."),t}function pa(e,t,n){return ce(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:de(t)?(t=pa(e,Z(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):G(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Z(t),n?t:[`${e}=`,t])}const ur={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function et(e,t,n,s){let i;try{i=s?e(...s):e()}catch(r){un(r,t,n)}return i}function Le(e,t,n,s){if(G(e)){const r=et(e,t,n,s);return r&&Qn(r)&&r.catch(o=>{un(o,t,n)}),r}const i=[];for(let r=0;r<e.length;r++)i.push(Le(e[r],t,n,s));return i}function un(e,t,n,s=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=ur[n];for(;r;){const c=r.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){et(l,null,10,[e,o,a]);return}}Pf(e,n,i,s)}function Pf(e,t,n,s=!0){{const i=ur[t];if(n&&Ln(n),S(`Unhandled error${i?` during execution of ${i}`:""}`),n&&Nn(),s)throw e;console.error(e)}}let rs=!1,fr=!1;const xe=[];let ht=0;const Mn=[];let gt=null,Ut=0;const ba=Promise.resolve();let dr=null;const Of=100;function fn(e){const t=dr||ba;return e?t.then(this?e.bind(this):e):t}function Rf(e){let t=ht+1,n=xe.length;for(;t<n;){const s=t+n>>>1;as(xe[s])<e?t=s+1:n=s}return t}function os(e){(!xe.length||!xe.includes(e,rs&&e.allowRecurse?ht+1:ht))&&(e.id==null?xe.push(e):xe.splice(Rf(e.id),0,e),ya())}function ya(){!rs&&!fr&&(fr=!0,dr=ba.then(_a))}function Ff(e){const t=xe.indexOf(e);t>ht&&xe.splice(t,1)}function Qs(e){V(e)?Mn.push(...e):(!gt||!gt.includes(e,e.allowRecurse?Ut+1:Ut))&&Mn.push(e),ya()}function wa(e,t=rs?ht+1:0){for(e=e||new Map;t<xe.length;t++){const n=xe[t];if(n&&n.pre){if(hr(e,n))continue;xe.splice(t,1),t--,n()}}}function Zs(e){if(Mn.length){const t=[...new Set(Mn)];if(Mn.length=0,gt){gt.push(...t);return}for(gt=t,e=e||new Map,gt.sort((n,s)=>as(n)-as(s)),Ut=0;Ut<gt.length;Ut++)hr(e,gt[Ut])||gt[Ut]();gt=null,Ut=0}}const as=e=>e.id==null?1/0:e.id,If=(e,t)=>{const n=as(e)-as(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function _a(e){fr=!1,rs=!0,e=e||new Map,xe.sort(If);const t=n=>hr(e,n);try{for(ht=0;ht<xe.length;ht++){const n=xe[ht];if(n&&n.active!==!1){if(t(n))continue;et(n,null,14)}}}finally{ht=0,xe.length=0,Zs(e),rs=!1,dr=null,(xe.length||Mn.length)&&_a(e)}}function hr(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>Of){const s=t.ownerInstance,i=s&&Qt(s.type);return S(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let Vt=!1;const kn=new Set;Ho().__VUE_HMR_RUNTIME__={createRecord:gr(va),rerender:gr(Mf),reload:gr(kf)};const dn=new Map;function Lf(e){const t=e.type.__hmrId;let n=dn.get(t);n||(va(t,e.type),n=dn.get(t)),n.instances.add(e)}function Nf(e){dn.get(e.type.__hmrId).instances.delete(e)}function va(e,t){return dn.has(e)?!1:(dn.set(e,{initialDef:ls(t),instances:new Set}),!0)}function ls(e){return sc(e)?e.__vccOpts:e}function Mf(e,t){const n=dn.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,ls(s.type).render=t),s.renderCache=[],Vt=!0,s.update(),Vt=!1}))}function kf(e,t){const n=dn.get(e);if(!n)return;t=ls(t),Aa(n.initialDef,t);const s=[...n.instances];for(const i of s){const r=ls(i.type);kn.has(r)||(r!==n.initialDef&&Aa(r,t),kn.add(r)),i.appContext.optionsCache.delete(i.type),i.ceReload?(kn.add(r),i.ceReload(t.styles),kn.delete(r)):i.parent?os(i.parent.update):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Qs(()=>{for(const i of s)kn.delete(ls(i.type))})}function Aa(e,t){ne(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function gr(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let tt,cs=[],mr=!1;function us(e,...t){tt?tt.emit(e,...t):mr||cs.push({event:e,args:t})}function pr(e,t){var n,s;tt=e,tt?(tt.enabled=!0,cs.forEach(({event:i,args:r})=>tt.emit(i,...r)),cs=[]):typeof window<"u"&&window.HTMLElement&&!(!((s=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||s===void 0)&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{pr(r,t)}),setTimeout(()=>{tt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,mr=!0,cs=[])},3e3)):(mr=!0,cs=[])}function Ca(e,t){us("app:init",e,t,{Fragment:we,Text:qt,Comment:ge,Static:Yt})}function Ea(e){us("app:unmount",e)}const br=yr("component:added"),xa=yr("component:updated"),Df=yr("component:removed"),$f=e=>{tt&&typeof tt.cleanupBuffer=="function"&&!tt.cleanupBuffer(e)&&Df(e)};function yr(e){return t=>{us(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const Uf=Sa("perf:start"),Vf=Sa("perf:end");function Sa(e){return(t,n,s)=>{us(e,t.appContext.app,t.uid,t,n,s)}}function jf(e,t,n){us("component:emit",e.appContext.app,e,t,n)}const Ta={GLOBAL_MOUNT:{message:'The global app bootstrapping API has changed: vm.$mount() and the "el" option have been removed. Use createApp(RootComponent).mount() instead.',link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#mounting-app-instance"},GLOBAL_MOUNT_CONTAINER:{message:"Vue detected directives on the mount container. In Vue 3, the container is no longer considered part of the template and will not be processed/replaced.",link:"https://v3-migration.vuejs.org/breaking-changes/mount-changes.html"},GLOBAL_EXTEND:{message:"Vue.extend() has been removed in Vue 3. Use defineComponent() instead.",link:"https://vuejs.org/api/general.html#definecomponent"},GLOBAL_PROTOTYPE:{message:"Vue.prototype is no longer available in Vue 3. Use app.config.globalProperties instead.",link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#vue-prototype-replaced-by-config-globalproperties"},GLOBAL_SET:{message:"Vue.set() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},GLOBAL_DELETE:{message:"Vue.delete() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},GLOBAL_OBSERVABLE:{message:'Vue.observable() has been removed. Use `import { reactive } from "vue"` from Composition API instead.',link:"https://vuejs.org/api/reactivity-core.html#reactive"},GLOBAL_PRIVATE_UTIL:{message:"Vue.util has been removed. Please refactor to avoid its usage since it was an internal API even in Vue 2."},CONFIG_SILENT:{message:"config.silent has been removed because it is not good practice to intentionally suppress warnings. You can use your browser console's filter features to focus on relevant messages."},CONFIG_DEVTOOLS:{message:"config.devtools has been removed. To enable devtools for production, configure the false compile-time flag.",link:"https://github.com/vuejs/core/tree/main/packages/vue#bundler-build-feature-flags"},CONFIG_KEY_CODES:{message:"config.keyCodes has been removed. In Vue 3, you can directly use the kebab-case key names as v-on modifiers.",link:"https://v3-migration.vuejs.org/breaking-changes/keycode-modifiers.html"},CONFIG_PRODUCTION_TIP:{message:"config.productionTip has been removed.",link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-productiontip-removed"},CONFIG_IGNORED_ELEMENTS:{message:()=>{let e="config.ignoredElements has been removed.";return vn()?e+=' Pass the "isCustomElement" option to @vue/compiler-dom instead.':e+=" Use config.isCustomElement instead.",e},link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-ignoredelements-is-now-config-iscustomelement"},CONFIG_WHITESPACE:{message:'Vue 3 compiler\'s whitespace option will default to "condense" instead of "preserve". To suppress this warning, provide an explicit value for `config.compilerOptions.whitespace`.'},CONFIG_OPTION_MERGE_STRATS:{message:"config.optionMergeStrategies no longer exposes internal strategies. Use custom merge functions instead."},INSTANCE_SET:{message:"vm.$set() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},INSTANCE_DELETE:{message:"vm.$delete() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},INSTANCE_DESTROY:{message:"vm.$destroy() has been removed. Use app.unmount() instead.",link:"https://vuejs.org/api/application.html#app-unmount"},INSTANCE_EVENT_EMITTER:{message:"vm.$on/$once/$off() have been removed. Use an external event emitter library instead.",link:"https://v3-migration.vuejs.org/breaking-changes/events-api.html"},INSTANCE_EVENT_HOOKS:{message:e=>`"${e}" lifecycle events are no longer supported. From templates, use the "vue:" prefix instead of "hook:". For example, @${e} should be changed to @vue:${e.slice(5)}. From JavaScript, use Composition API to dynamically register lifecycle hooks.`,link:"https://v3-migration.vuejs.org/breaking-changes/vnode-lifecycle-events.html"},INSTANCE_CHILDREN:{message:"vm.$children has been removed. Consider refactoring your logic to avoid relying on direct access to child components.",link:"https://v3-migration.vuejs.org/breaking-changes/children.html"},INSTANCE_LISTENERS:{message:'vm.$listeners has been removed. In Vue 3, parent v-on listeners are included in vm.$attrs and it is no longer necessary to separately use v-on="$listeners" if you are already using v-bind="$attrs". (Note: the Vue 3 behavior only applies if this compat config is disabled)',link:"https://v3-migration.vuejs.org/breaking-changes/listeners-removed.html"},INSTANCE_SCOPED_SLOTS:{message:"vm.$scopedSlots has been removed. Use vm.$slots instead.",link:"https://v3-migration.vuejs.org/breaking-changes/slots-unification.html"},INSTANCE_ATTRS_CLASS_STYLE:{message:e=>`Component <${e||"Anonymous"}> has \`inheritAttrs: false\` but is relying on class/style fallthrough from parent. In Vue 3, class/style are now included in $attrs and will no longer fallthrough when inheritAttrs is false. If you are already using v-bind="$attrs" on component root it should render the same end result. If you are binding $attrs to a non-root element and expecting class/style to fallthrough on root, you will need to now manually bind them on root via :class="$attrs.class".`,link:"https://v3-migration.vuejs.org/breaking-changes/attrs-includes-class-style.html"},OPTIONS_DATA_FN:{message:'The "data" option can no longer be a plain object. Always use a function.',link:"https://v3-migration.vuejs.org/breaking-changes/data-option.html"},OPTIONS_DATA_MERGE:{message:e=>`Detected conflicting key "${e}" when merging data option values. In Vue 3, data keys are merged shallowly and will override one another.`,link:"https://v3-migration.vuejs.org/breaking-changes/data-option.html#mixin-merge-behavior-change"},OPTIONS_BEFORE_DESTROY:{message:"`beforeDestroy` has been renamed to `beforeUnmount`."},OPTIONS_DESTROYED:{message:"`destroyed` has been renamed to `unmounted`."},WATCH_ARRAY:{message:`"watch" option or vm.$watch on an array value will no longer trigger on array mutation unless the "deep" option is specified. If current usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ WATCH_ARRAY: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/watch.html"},PROPS_DEFAULT_THIS:{message:e=>`props default value function no longer has access to "this". The compat build only offers access to this.$options.(found in prop "${e}")`,link:"https://v3-migration.vuejs.org/breaking-changes/props-default-this.html"},CUSTOM_DIR:{message:(e,t)=>`Custom directive hook "${e}" has been removed. Use "${t}" instead.`,link:"https://v3-migration.vuejs.org/breaking-changes/custom-directives.html"},V_ON_KEYCODE_MODIFIER:{message:"Using keyCode as v-on modifier is no longer supported. Use kebab-case key name modifiers instead.",link:"https://v3-migration.vuejs.org/breaking-changes/keycode-modifiers.html"},ATTR_FALSE_VALUE:{message:e=>`Attribute "${e}" with v-bind value \`false\` will render ${e}="false" instead of removing it in Vue 3. To remove the attribute, use \`null\` or \`undefined\` instead. If the usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ ATTR_FALSE_VALUE: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/attribute-coercion.html"},ATTR_ENUMERATED_COERCION:{message:(e,t,n)=>`Enumerated attribute "${e}" with v-bind value \`${t}\` will ${t===null?"be removed":"render the value as-is"} instead of coercing the value to "${n}" in Vue 3. Always use explicit "true" or "false" values for enumerated attributes. If the usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ ATTR_ENUMERATED_COERCION: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/attribute-coercion.html"},TRANSITION_CLASSES:{message:""},TRANSITION_GROUP_ROOT:{message:`<TransitionGroup> no longer renders a root <span> element by default if no "tag" prop is specified. If you do not rely on the span for styling, you can disable the compat behavior and suppress this warning with:

  configureCompat({ TRANSITION_GROUP_ROOT: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/transition-group.html"},COMPONENT_ASYNC:{message:e=>{const t=Qt(e);return`Async component${t?` <${t}>`:"s"} should be explicitly created via \`defineAsyncComponent()\` in Vue 3. Plain functions will be treated as functional components in non-compat build. If you have already migrated all async component usage and intend to use plain functions for functional components, you can disable the compat behavior and suppress this warning with:

  configureCompat({ COMPONENT_ASYNC: false })
`},link:"https://v3-migration.vuejs.org/breaking-changes/async-components.html"},COMPONENT_FUNCTIONAL:{message:e=>{const t=Qt(e);return`Functional component${t?` <${t}>`:"s"} should be defined as a plain function in Vue 3. The "functional" option has been removed. NOTE: Before migrating to use plain functions for functional components, first make sure that all async components usage have been migrated and its compat behavior has been disabled.`},link:"https://v3-migration.vuejs.org/breaking-changes/functional-components.html"},COMPONENT_V_MODEL:{message:e=>{const t="opt-in to Vue 3 behavior on a per-component basis with `compatConfig: { COMPONENT_V_MODEL: false }`.";return e.props&&(V(e.props)?e.props.includes("modelValue"):se(e.props,"modelValue"))?`Component declares "modelValue" prop, which is Vue 3 usage, but is running under Vue 2 compat v-model behavior. You can ${t}`:`v-model usage on component has changed in Vue 3. Component that expects to work with v-model should now use the "modelValue" prop and emit the "update:modelValue" event. You can update the usage and then ${t}`},link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},RENDER_FUNCTION:{message:`Vue 3's render function API has changed. You can opt-in to the new API with:

  configureCompat({ RENDER_FUNCTION: false })

  (This can also be done per-component via the "compatConfig" option.)`,link:"https://v3-migration.vuejs.org/breaking-changes/render-function-api.html"},FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"},PRIVATE_APIS:{message:e=>`"${e}" is a Vue 2 private API that no longer exists in Vue 3. If you are seeing this warning only due to a dependency, you can suppress this warning via { PRIVATE_APIS: 'suppress-warning' }.`}},Pa=Object.create(null),wr=Object.create(null);function Ye(e,t,...n){if(t=t||Xe(),vr(e,t)==="suppress-warning")return;const i=e+n.join("");let r=t&&Ss(t,t.type);r==="Anonymous"&&t&&(r=t.uid);const o=i+r;if(o in Pa)return;if(Pa[o]=!0,i in wr){S(`(deprecation ${e}) (${++wr[i]+1})`);return}wr[i]=0;const{message:a,link:l}=Ta[e];S(`(deprecation ${e}) ${typeof a=="function"?a(...n):a}${l?`
  Details: ${l}`:""}`),re(e,t,!0)||console.error("^ The above deprecation's compat behavior is disabled and will likely lead to runtime errors.")}const _r={MODE:2};function Bf(e){Fa(e),ne(_r,e)}const Oa=new WeakSet,Ra={};function Fa(e,t){if(!Oa.has(e)){Oa.add(e);for(const n of Object.keys(e))n!=="MODE"&&!(n in Ta)&&!(n in Ra)&&(n.startsWith("COMPILER_")?vn()&&S(`Deprecation config "${n}" is compiler-specific and you are running a runtime-only build of Vue. This deprecation should be configured via compiler options in your build setup instead.
Details: https://v3-migration.vuejs.org/breaking-changes/migration-build.html`):S(`Invalid deprecation config "${n}".`),Ra[n]=!0);t&&e.OPTIONS_DATA_MERGE!=null&&S('Deprecation config "OPTIONS_DATA_MERGE" can only be configured globally.')}}function vr(e,t){const n=t&&t.type.compatConfig;return n&&e in n?n[e]:_r[e]}function re(e,t,n=!1){if(!n&&t&&t.type.__isBuiltIn)return!1;const s=vr("MODE",t)||2,i=vr(e,t);return(G(s)?s(t&&t.type):s)===2?i!==!1:i===!0||i==="suppress-warning"}function Ce(e,t,...n){if(re(e,t))Ye(e,t,...n);else throw new Error(`${e} compat has been disabled.`)}function Ct(e,t,...n){return Ye(e,t,...n),re(e,t)}function ei(e,t,...n){const s=re(e,t);return s&&Ye(e,t,...n),s}const Ar=new WeakMap;function Cr(e){let t=Ar.get(e);return t||Ar.set(e,t=Object.create(null)),t}function Er(e,t,n){if(V(t))t.forEach(s=>Er(e,s,n));else{t.startsWith("hook:")?Ce("INSTANCE_EVENT_HOOKS",e,t):Ce("INSTANCE_EVENT_EMITTER",e);const s=Cr(e);(s[t]||(s[t]=[])).push(n)}return e.proxy}function Hf(e,t,n){const s=(...i)=>{xr(e,t,s),n.call(e.proxy,...i)};return s.fn=n,Er(e,t,s),e.proxy}function xr(e,t,n){Ce("INSTANCE_EVENT_EMITTER",e);const s=e.proxy;if(!t)return Ar.set(e,Object.create(null)),s;if(V(t))return t.forEach(o=>xr(e,o,n)),s;const i=Cr(e),r=i[t];return r?n?(i[t]=r.filter(o=>!(o===n||o.fn===n)),s):(i[t]=void 0,s):s}function Kf(e,t,n){const s=Cr(e)[t];return s&&Le(s.map(i=>i.bind(e.proxy)),e,6,n),e.proxy}const fs="onModelCompat:",Ia=new WeakSet;function Wf(e){const{type:t,shapeFlag:n,props:s,dynamicProps:i}=e,r=t;if(n&6&&s&&"modelValue"in s){if(!re("COMPONENT_V_MODEL",{type:t}))return;Ia.has(r)||(Ln(e),Ye("COMPONENT_V_MODEL",{type:t},r),Nn(),Ia.add(r));const o=r.model||{};La(o,r.mixins);const{prop:a="value",event:l="input"}=o;a!=="modelValue"&&(s[a]=s.modelValue,delete s.modelValue),i&&(i[i.indexOf("modelValue")]=a),s[fs+l]=s["onUpdate:modelValue"],delete s["onUpdate:modelValue"]}}function La(e,t){t&&t.forEach(n=>{n.model&&ne(e,n.model),n.mixins&&La(e,n.mixins)})}function Gf(e,t,n){if(!re("COMPONENT_V_MODEL",e))return;const s=e.vnode.props,i=s&&s[fs+t];i&&et(i,e,6,n)}function qf(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||oe;{const{emitsOptions:f,propsOptions:[u]}=e;if(f)if(!(t in f)&&!(t.startsWith("hook:")||t.startsWith(fs)))(!u||!(ct(t)in u))&&S(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${ct(t)}" prop.`);else{const d=f[t];G(d)&&(d(...n)||S(`Invalid event arguments: event validation failed for event "${t}".`))}}let i=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:d}=s[f]||oe;d&&(i=n.map(y=>ce(y)?y.trim():y)),u&&(i=n.map(ft))}jf(e,t,i);{const f=t.toLowerCase();f!==t&&s[ct(f)]&&S(`Event "${f}" is emitted in component ${Ss(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Ae(t)}" instead of "${t}".`)}let a,l=s[a=ct(t)]||s[a=ct(Te(t))];!l&&r&&(l=s[a=ct(Ae(t))]),l&&Le(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Le(c,e,6,i)}return Gf(e,t,i),Kf(e,t,i)}function Na(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!G(e)){const l=c=>{const f=Na(c,t,!0);f&&(a=!0,ne(o,f))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(ee(e)&&s.set(e,null),null):(V(r)?r.forEach(l=>o[l]=null):ne(o,r),ee(e)&&s.set(e,o),o)}function ti(e,t){return!e||!lt(t)?!1:t.startsWith(fs)?!0:(t=t.slice(2).replace(/Once$/,""),se(e,t[0].toLowerCase()+t.slice(1))||se(e,Ae(t))||se(e,t))}let he=null,Dn=null;function ds(e){const t=he;return he=e,Dn=e&&e.type.__scopeId||null,Dn||(Dn=e&&e.type._scopeId||null),t}function Yf(e){Dn=e}function Jf(){Dn=null}const Xf=e=>Sr;function Sr(e,t=he,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&Xr(-1);const r=ds(t);let o;try{o=e(...i)}finally{ds(r),s._d&&Xr(1)}return xa(t),o};return s._n=!0,s._c=!0,s._d=!0,n&&(s._ns=!0),s}let Tr=!1;function ni(){Tr=!0}function si(e){const{type:t,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:f,renderCache:u,data:d,setupState:y,ctx:A,inheritAttrs:C}=e;let F,v;const g=ds(e);Tr=!1;try{if(n.shapeFlag&4){const R=i||s;F=$e(f.call(R,R,u,r,y,d,A)),v=l}else{const R=t;l===r&&ni(),F=$e(R.length>1?R(r,{get attrs(){return ni(),l},slots:a,emit:c}):R(r,null)),v=t.props?l:Qf(l)}}catch(R){Es.length=0,un(R,e,1),F=le(ge)}let E=F,x;if(F.patchFlag>0&&F.patchFlag&2048&&([E,x]=zf(F)),v&&C!==!1){const R=Object.keys(v),{shapeFlag:D}=E;if(R.length){if(D&7)o&&R.some(Ds)&&(v=Zf(v,o)),E=De(E,v);else if(!Tr&&E.type!==ge){const P=Object.keys(l),w=[],m=[];for(let _=0,b=P.length;_<b;_++){const N=P[_];lt(N)?Ds(N)||w.push(N[2].toLowerCase()+N.slice(3)):m.push(N)}m.length&&S(`Extraneous non-props attributes (${m.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),w.length&&S(`Extraneous non-emits event listeners (${w.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}if(re("INSTANCE_ATTRS_CLASS_STYLE",e)&&n.shapeFlag&4&&E.shapeFlag&7){const{class:R,style:D}=n.props||{};(R||D)&&(C===!1&&Ye("INSTANCE_ATTRS_CLASS_STYLE",e,Qt(e.type)),E=De(E,{class:R,style:D}))}return n.dirs&&(Ma(E)||S("Runtime directive used on component with non-element root node. The directives will not function as intended."),E=De(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(Ma(E)||S("Component inside <Transition> renders non-element root node that cannot be animated."),E.transition=n.transition),x?x(E):F=E,ds(g),F}const zf=e=>{const t=e.children,n=e.dynamicChildren,s=Pr(t);if(!s)return[e,void 0];const i=t.indexOf(s),r=n?n.indexOf(s):-1,o=a=>{t[i]=a,n&&(r>-1?n[r]=a:a.patchFlag>0&&(e.dynamicChildren=[...n,a]))};return[$e(s),o]};function Pr(e){let t;for(let n=0;n<e.length;n++){const s=e[n];if(ke(s)){if(s.type!==ge||s.children==="v-if"){if(t)return;t=s}}else return}return t}const Qf=e=>{let t;for(const n in e)(n==="class"||n==="style"||lt(n))&&((t||(t={}))[n]=e[n]);return t},Zf=(e,t)=>{const n={};for(const s in e)(!Ds(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n},Ma=e=>e.shapeFlag&7||e.type===ge;function ed(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if((i||a)&&Vt||t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?ka(s,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const d=f[u];if(o[d]!==s[d]&&!ti(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?ka(s,o,c):!0:!!o;return!1}function ka(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!ti(n,r))return!0}return!1}function Or({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Da=e=>e.__isSuspense,td={name:"Suspense",__isSuspense:!0,process(e,t,n,s,i,r,o,a,l,c){e==null?nd(t,n,s,i,r,o,a,l,c):sd(e,t,n,s,i,o,a,l,c)},hydrate:id,create:Rr,normalize:rd};function hs(e,t){const n=e.props&&e.props[t];G(n)&&n()}function nd(e,t,n,s,i,r,o,a,l){const{p:c,o:{createElement:f}}=l,u=f("div"),d=e.suspense=Rr(e,i,s,t,u,n,r,o,a,l);c(null,d.pendingBranch=e.ssContent,u,null,s,d,r,o),d.deps>0?(hs(e,"onPending"),hs(e,"onFallback"),c(null,e.ssFallback,t,n,s,null,r,o),$n(d,e.ssFallback)):d.resolve()}function sd(e,t,n,s,i,r,o,a,{p:l,um:c,o:{createElement:f}}){const u=t.suspense=e.suspense;u.vnode=t,t.el=e.el;const d=t.ssContent,y=t.ssFallback,{activeBranch:A,pendingBranch:C,isInFallback:F,isHydrating:v}=u;if(C)u.pendingBranch=d,pt(d,C)?(l(C,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0?u.resolve():F&&(l(A,y,n,s,i,null,r,o,a),$n(u,y))):(u.pendingId++,v?(u.isHydrating=!1,u.activeBranch=C):c(C,i,u),u.deps=0,u.effects.length=0,u.hiddenContainer=f("div"),F?(l(null,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0?u.resolve():(l(A,y,n,s,i,null,r,o,a),$n(u,y))):A&&pt(d,A)?(l(A,d,n,s,i,u,r,o,a),u.resolve(!0)):(l(null,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0&&u.resolve()));else if(A&&pt(d,A))l(A,d,n,s,i,u,r,o,a),$n(u,d);else if(hs(t,"onPending"),u.pendingBranch=d,u.pendingId++,l(null,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0)u.resolve();else{const{timeout:g,pendingId:E}=u;g>0?setTimeout(()=>{u.pendingId===E&&u.fallback(y)},g):g===0&&u.fallback(y)}}let $a=!1;function Rr(e,t,n,s,i,r,o,a,l,c,f=!1){$a||($a=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:u,m:d,um:y,n:A,o:{parentNode:C,remove:F}}=c,v=ft(e.props&&e.props.timeout),g={vnode:e,parent:t,parentComponent:n,isSVG:o,container:s,hiddenContainer:i,anchor:r,deps:0,pendingId:0,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(E=!1){{if(!E&&!g.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(g.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:x,activeBranch:R,pendingBranch:D,pendingId:P,effects:w,parentComponent:m,container:_}=g;if(g.isHydrating)g.isHydrating=!1;else if(!E){const K=R&&D.transition&&D.transition.mode==="out-in";K&&(R.transition.afterLeave=()=>{P===g.pendingId&&d(D,_,B,0)});let{anchor:B}=g;R&&(B=A(R),y(R,m,g,!0)),K||d(D,_,B,0)}$n(g,D),g.pendingBranch=null,g.isInFallback=!1;let b=g.parent,N=!1;for(;b;){if(b.pendingBranch){b.effects.push(...w),N=!0;break}b=b.parent}N||Qs(w),g.effects=[],hs(x,"onResolve")},fallback(E){if(!g.pendingBranch)return;const{vnode:x,activeBranch:R,parentComponent:D,container:P,isSVG:w}=g;hs(x,"onFallback");const m=A(R),_=()=>{g.isInFallback&&(u(null,E,P,m,D,null,w,a,l),$n(g,E))},b=E.transition&&E.transition.mode==="out-in";b&&(R.transition.afterLeave=_),g.isInFallback=!0,y(R,D,null,!0),b||_()},move(E,x,R){g.activeBranch&&d(g.activeBranch,E,x,R),g.container=E},next(){return g.activeBranch&&A(g.activeBranch)},registerDep(E,x){const R=!!g.pendingBranch;R&&g.deps++;const D=E.vnode.el;E.asyncDep.catch(P=>{un(P,E,0)}).then(P=>{if(E.isUnmounted||g.isUnmounted||g.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:w}=E;Ln(w),so(E,P,!1),D&&(w.el=D);const m=!D&&E.subTree.el;x(E,w,C(D||E.subTree.el),D?null:A(E.subTree),g,o,l),m&&F(m),Or(E,w.el),Nn(),R&&--g.deps===0&&g.resolve()})},unmount(E,x){g.isUnmounted=!0,g.activeBranch&&y(g.activeBranch,n,E,x),g.pendingBranch&&y(g.pendingBranch,n,E,x)}};return g}function id(e,t,n,s,i,r,o,a,l){const c=t.suspense=Rr(t,s,n,e.parentNode,document.createElement("div"),null,i,r,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,n,c,r,o);return c.deps===0&&c.resolve(),f}function rd(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=Ua(s?n.default:n),e.ssFallback=s?Ua(n.fallback):le(ge)}function Ua(e){let t;if(G(e)){const n=_n&&e._c;n&&(e._d=!1,yi()),e=e(),n&&(e._d=!0,t=Me,Jl())}if(V(e)){const n=Pr(e);n||S("<Suspense> slots expect a single root node."),e=n}return e=$e(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Va(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):Qs(e)}function $n(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e,i=n.el=t.el;s&&s.subTree===n&&(s.vnode.el=i,Or(s,i))}function ja(e,t){if(!pe)S("provide() can only be used inside setup().");else{let n=pe.provides;const s=pe.parent&&pe.parent.provides;s===n&&(n=pe.provides=Object.create(s)),n[e]=t}}function jt(e,t,n=!1){const s=pe||he;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&G(t)?t.call(s.proxy):t;S(`injection "${String(e)}" not found.`)}else S("inject() can only be used inside setup() or functional components.")}function od(e,t){return gs(e,null,t)}function Ba(e,t){return gs(e,null,Object.assign(Object.assign({},t),{flush:"post"}))}function ad(e,t){return gs(e,null,Object.assign(Object.assign({},t),{flush:"sync"}))}const ii={};function hn(e,t,n){return G(t)||S("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),gs(e,t,n)}function gs(e,t,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=oe){t||(n!==void 0&&S('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&S('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const a=x=>{S("Invalid watch source: ",x,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},l=pe;let c,f=!1,u=!1;if(de(e)?(c=()=>e.value,f=$t(e)):He(e)?(c=()=>e,s=!0):V(e)?(u=!0,f=e.some(x=>He(x)||$t(x)),c=()=>e.map(x=>{if(de(x))return x.value;if(He(x))return Bt(x);if(G(x))return et(x,l,2);a(x)})):G(e)?t?c=()=>et(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),Le(e,l,3,[y])}:(c=Ee,a(e)),t&&!s){const x=c;c=()=>{const R=x();return V(R)&&ei("WATCH_ARRAY",l)&&Bt(R),R}}if(t&&s){const x=c;c=()=>Bt(x())}let d,y=x=>{d=g.onStop=()=>{et(x,l,4)}},A;if(Bn)if(y=Ee,t?n&&Le(t,l,3,[c(),u?[]:void 0,y]):c(),i==="sync"){const x=ac();A=x.__watcherHandles||(x.__watcherHandles=[])}else return Ee;let C=u?new Array(e.length).fill(ii):ii;const F=()=>{if(g.active)if(t){const x=g.run();(s||f||(u?x.some((R,D)=>In(R,C[D])):In(x,C))||V(x)&&re("WATCH_ARRAY",l))&&(d&&d(),Le(t,l,3,[x,C===ii?void 0:u&&C[0]===ii?[]:C,y]),C=x)}else g.run()};F.allowRecurse=!!t;let v;i==="sync"?v=F:i==="post"?v=()=>me(F,l&&l.suspense):(F.pre=!0,l&&(F.id=l.uid),v=()=>os(F));const g=new ts(c,v);g.onTrack=r,g.onTrigger=o,t?n?F():C=g.run():i==="post"?me(g.run.bind(g),l&&l.suspense):g.run();const E=()=>{g.stop(),l&&l.scope&&qi(l.scope.effects,g)};return A&&A.push(E),E}function ld(e,t,n){const s=this.proxy,i=ce(e)?e.includes(".")?Ha(s,e):()=>s[e]:e.bind(s,s);let r;G(t)?r=t:(r=t.handler,n=t);const o=pe;Xt(this);const a=gs(i,r.bind(s),n);return o?Xt(o):zt(),a}function Ha(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Bt(e,t){if(!ee(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),de(e))Bt(e.value,t);else if(V(e))for(let n=0;n<e.length;n++)Bt(e[n],t);else if(sn(e)||nn(e))e.forEach(n=>{Bt(n,t)});else if($s(e))for(const n in e)Bt(e[n],t);return e}function Fr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ps(()=>{e.isMounted=!0}),bs(()=>{e.isUnmounting=!0}),e}const Je=[Function,Array],Ka={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Je,onEnter:Je,onAfterEnter:Je,onEnterCancelled:Je,onBeforeLeave:Je,onLeave:Je,onAfterLeave:Je,onLeaveCancelled:Je,onBeforeAppear:Je,onAppear:Je,onAfterAppear:Je,onAppearCancelled:Je},setup(e,{slots:t}){const n=Xe(),s=Fr();let i;return()=>{const r=t.default&&ri(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let C=!1;for(const F of r)if(F.type!==ge){if(C){S("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}o=F,C=!0}}const a=Z(e),{mode:l}=a;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&S(`invalid <transition> mode: ${l}`),s.isLeaving)return Lr(o);const c=Ga(o);if(!c)return Lr(o);const f=Un(c,a,s,n);gn(c,f);const u=n.subTree,d=u&&Ga(u);let y=!1;const{getTransitionKey:A}=c.type;if(A){const C=A();i===void 0?i=C:C!==i&&(i=C,y=!0)}if(d&&d.type!==ge&&(!pt(c,d)||y)){const C=Un(d,a,s,n);if(gn(d,C),l==="out-in")return s.isLeaving=!0,C.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},Lr(o);l==="in-out"&&c.type!==ge&&(C.delayLeave=(F,v,g)=>{const E=Wa(s,d);E[String(d.key)]=d,F._leaveCb=()=>{v(),F._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=g})}return o}}};Ka.__isBuiltIn=!0;const Ir=Ka;function Wa(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Un(e,t,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:u,onLeave:d,onAfterLeave:y,onLeaveCancelled:A,onBeforeAppear:C,onAppear:F,onAfterAppear:v,onAppearCancelled:g}=t,E=String(e.key),x=Wa(n,e),R=(w,m)=>{w&&Le(w,s,9,m)},D=(w,m)=>{const _=m[1];R(w,m),V(w)?w.every(b=>b.length<=1)&&_():w.length<=1&&_()},P={mode:r,persisted:o,beforeEnter(w){let m=a;if(!n.isMounted)if(i)m=C||a;else return;w._leaveCb&&w._leaveCb(!0);const _=x[E];_&&pt(e,_)&&_.el._leaveCb&&_.el._leaveCb(),R(m,[w])},enter(w){let m=l,_=c,b=f;if(!n.isMounted)if(i)m=F||l,_=v||c,b=g||f;else return;let N=!1;const K=w._enterCb=B=>{N||(N=!0,B?R(b,[w]):R(_,[w]),P.delayedLeave&&P.delayedLeave(),w._enterCb=void 0)};m?D(m,[w,K]):K()},leave(w,m){const _=String(e.key);if(w._enterCb&&w._enterCb(!0),n.isUnmounting)return m();R(u,[w]);let b=!1;const N=w._leaveCb=K=>{b||(b=!0,m(),K?R(A,[w]):R(y,[w]),w._leaveCb=void 0,x[_]===e&&delete x[_])};x[_]=e,d?D(d,[w,N]):N()},clone(w){return Un(w,t,n,s)}};return P}function Lr(e){if(Vn(e))return e=De(e),e.children=null,e}function Ga(e){return Vn(e)?e.children?e.children[0]:void 0:e}function gn(e,t){e.shapeFlag&6&&e.component?gn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ri(e,t=!1,n){let s=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===we?(o.patchFlag&128&&i++,s=s.concat(ri(o.children,t,a))):(t||o.type!==ge)&&s.push(a!=null?De(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function oi(e){return G(e)?{setup:e,name:e.name}:e}const mn=e=>!!e.type.__asyncLoader;function ai(e){G(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:i=200,timeout:r,suspensible:o=!0,onError:a}=e;let l=null,c,f=0;const u=()=>(f++,l=null,d()),d=()=>{let y;return l||(y=l=t().catch(A=>{if(A=A instanceof Error?A:new Error(String(A)),a)return new Promise((C,F)=>{a(A,()=>C(u()),()=>F(A),f+1)});throw A}).then(A=>{if(y!==l&&l)return l;if(A||S("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),A&&(A.__esModule||A[Symbol.toStringTag]==="Module")&&(A=A.default),A&&!ee(A)&&!G(A))throw new Error(`Invalid async component load result: ${A}`);return c=A,A}))};return oi({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const y=pe;if(c)return()=>Nr(c,y);const A=g=>{l=null,un(g,y,13,!s)};if(o&&y.suspense||Bn)return d().then(g=>()=>Nr(g,y)).catch(g=>(A(g),()=>s?le(s,{error:g}):null));const C=ln(!1),F=ln(),v=ln(!!i);return i&&setTimeout(()=>{v.value=!1},i),r!=null&&setTimeout(()=>{if(!C.value&&!F.value){const g=new Error(`Async component timed out after ${r}ms.`);A(g),F.value=g}},r),d().then(()=>{C.value=!0,y.parent&&Vn(y.parent.vnode)&&os(y.parent.update)}).catch(g=>{A(g),F.value=g}),()=>{if(C.value&&c)return Nr(c,y);if(F.value&&s)return le(s,{error:F.value});if(n&&!v.value)return le(n)}}})}function Nr(e,t){const{ref:n,props:s,children:i,ce:r}=t.vnode,o=le(e,s,i);return o.ref=n,o.ce=r,delete t.vnode.ce,o}const Vn=e=>e.type.__isKeepAlive,qa={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Xe(),s=n.ctx;if(!s.renderer)return()=>{const g=t.default&&t.default();return g&&g.length===1?g[0]:g};const i=new Map,r=new Set;let o=null;n.__v_cache=i;const a=n.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:u}}}=s,d=u("div");s.activate=(g,E,x,R,D)=>{const P=g.component;c(g,E,x,0,a),l(P.vnode,g,E,x,P,a,R,g.slotScopeIds,D),me(()=>{P.isDeactivated=!1,P.a&&ut(P.a);const w=g.props&&g.props.onVnodeMounted;w&&Ue(w,P.parent,g)},a),br(P)},s.deactivate=g=>{const E=g.component;c(g,d,null,1,a),me(()=>{E.da&&ut(E.da);const x=g.props&&g.props.onVnodeUnmounted;x&&Ue(x,E.parent,g),E.isDeactivated=!0},a),br(E)};function y(g){Mr(g),f(g,n,a,!0)}function A(g){i.forEach((E,x)=>{const R=Qt(E.type);R&&(!g||!g(R))&&C(x)})}function C(g){const E=i.get(g);!o||E.type!==o.type?y(E):o&&Mr(o),i.delete(g),r.delete(g)}hn(()=>[e.include,e.exclude],([g,E])=>{g&&A(x=>ms(g,x)),E&&A(x=>!ms(E,x))},{flush:"post",deep:!0});let F=null;const v=()=>{F!=null&&i.set(F,kr(n.subTree))};return ps(v),ci(v),bs(()=>{i.forEach(g=>{const{subTree:E,suspense:x}=n,R=kr(E);if(g.type===R.type){Mr(R);const D=R.component.da;D&&me(D,x);return}y(g)})}),()=>{if(F=null,!t.default)return null;const g=t.default(),E=g[0];if(g.length>1)return S("KeepAlive should contain exactly one component child."),o=null,g;if(!ke(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let x=kr(E);const R=x.type,D=Qt(mn(x)?x.type.__asyncResolved||{}:R),{include:P,exclude:w,max:m}=e;if(P&&(!D||!ms(P,D))||w&&D&&ms(w,D))return o=x,E;const _=x.key==null?R:x.key,b=i.get(_);return x.el&&(x=De(x),E.shapeFlag&128&&(E.ssContent=x)),F=_,b?(x.el=b.el,x.component=b.component,x.transition&&gn(x,x.transition),x.shapeFlag|=512,r.delete(_),r.add(_)):(r.add(_),m&&r.size>parseInt(m,10)&&C(r.values().next().value)),x.shapeFlag|=256,o=x,Da(E.type)?E:x}}};qa.__isBuildIn=!0;const Ya=qa;function ms(e,t){return V(e)?e.some(n=>ms(n,t)):ce(e)?e.split(",").includes(t):e.test?e.test(t):!1}function Ja(e,t){za(e,"a",t)}function Xa(e,t){za(e,"da",t)}function za(e,t,n=pe){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(li(t,s,n),n){let i=n.parent;for(;i&&i.parent;)Vn(i.parent.vnode)&&cd(s,t,n,i),i=i.parent}}function cd(e,t,n,s){const i=li(t,e,s,!0);ys(()=>{qi(s[t],i)},n)}function Mr(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function kr(e){return e.shapeFlag&128?e.ssContent:e}function li(e,t,n=pe,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;on(),Xt(n);const a=Le(t,n,e,o);return zt(),an(),a});return s?i.unshift(r):i.push(r),r}else{const i=ct(ur[e].replace(/ hook$/,""));S(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Et=e=>(t,n=pe)=>(!Bn||e==="sp")&&li(e,(...s)=>t(...s),n),Qa=Et("bm"),ps=Et("m"),Za=Et("bu"),ci=Et("u"),bs=Et("bum"),ys=Et("um"),el=Et("sp"),tl=Et("rtg"),nl=Et("rtc");function sl(e,t=pe){li("ec",e,t)}function ud(e){Ce("INSTANCE_CHILDREN",e);const t=e.subTree,n=[];return t&&il(t,n),n}function il(e,t){if(e.component)t.push(e.component.proxy);else if(e.shapeFlag&16){const n=e.children;for(let s=0;s<n.length;s++)il(n[s],t)}}function rl(e){Ce("INSTANCE_LISTENERS",e);const t={},n=e.vnode.props;if(!n)return t;for(const s in n)lt(s)&&(t[s[2].toLowerCase()+s.slice(3)]=n[s]);return t}const fd={beforeMount:"bind",mounted:"inserted",updated:["update","componentUpdated"],unmounted:"unbind"};function dd(e,t,n){const s=fd[e];if(s)if(V(s)){const i=[];return s.forEach(r=>{const o=t[r];o&&(Ct("CUSTOM_DIR",n,r,e),i.push(o))}),i.length?i:void 0}else return t[s]&&Ct("CUSTOM_DIR",n,s,e),t[s]}function ol(e){Du(e)&&S("Do not use built-in directive ids as custom directive id: "+e)}function al(e,t){const n=he;if(n===null)return S("withDirectives can only be used inside render functions."),e;const s=Ei(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=oe]=t[r];o&&(G(o)&&(o={mounted:o,updated:o}),o.deep&&Bt(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function mt(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l||(l=dd(s,a.dir,n)),l&&(on(),Le(l,n,8,[e.el,a,e,t]),an())}}const ui="components",hd="directives",gd="filters";function md(e,t){return fi(ui,e,!0,t)||e}const ll=Symbol();function cl(e){return ce(e)?fi(ui,e,!1)||e:e||ll}function ul(e){return fi(hd,e)}function fl(e){return fi(gd,e)}function fi(e,t,n=!0,s=!1){const i=he||pe;if(i){const r=i.type;if(e===ui){const a=Qt(r,!1);if(a&&(a===t||a===Te(t)||a===Lt(Te(t))))return r}const o=dl(i[e]||r[e],t)||dl(i.appContext[e],t);if(!o&&s)return r;if(n&&!o){const a=e===ui?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";S(`Failed to resolve ${e.slice(0,-1)}: ${t}${a}`)}return o}else S(`resolve${Lt(e.slice(0,-1))} can only be used in render() or setup().`)}function dl(e,t){return e&&(e[t]||e[Te(t)]||e[Lt(Te(t))])}function pd(e){const t=e.type,n=t.render;if(!(!n||n._rc||n._compatChecked||n._compatWrapped)){if(n.length>=2){n._compatChecked=!0;return}if(ei("RENDER_FUNCTION",e)){const s=t.render=function(){return n.call(this,di)};s._compatWrapped=!0}}}function di(e,t,n){if(e||(e=ge),typeof e=="string"){const r=Ae(e);(r==="transition"||r==="transition-group"||r==="keep-alive")&&(e=`__compat__${r}`),e=cl(e)}const s=arguments.length,i=V(t);return s===2||i?ee(t)&&!i?ke(t)?hi(le(e,null,[t])):hi(gl(le(e,hl(t,e)),t)):hi(le(e,null,t)):(ke(n)&&(n=[n]),hi(gl(le(e,hl(t,e),n),t)))}const bd=Ze("staticStyle,staticClass,directives,model,hook");function hl(e,t){if(!e)return null;const n={};for(const s in e)if(s==="attrs"||s==="domProps"||s==="props")ne(n,e[s]);else if(s==="on"||s==="nativeOn"){const i=e[s];for(const r in i){let o=yd(r);s==="nativeOn"&&(o+="Native");const a=n[o],l=i[r];a!==l&&(a?n[o]=[].concat(a,l):n[o]=l)}}else bd(s)||(n[s]=e[s]);if(e.staticClass&&(n.class=It([e.staticClass,n.class])),e.staticStyle&&(n.style=On([e.staticStyle,n.style])),e.model&&ee(t)){const{prop:s="value",event:i="input"}=t.model||{};n[s]=e.model.value,n[fs+i]=e.model.callback}return n}function yd(e){return e[0]==="&"&&(e=e.slice(1)+"Passive"),e[0]==="~"&&(e=e.slice(1)+"Once"),e[0]==="!"&&(e=e.slice(1)+"Capture"),ct(e)}function gl(e,t){return t&&t.directives?al(e,t.directives.map(({name:n,value:s,arg:i,modifiers:r})=>[ul(n),s,i,r])):e}function hi(e){const{props:t,children:n}=e;let s;if(e.shapeFlag&6&&V(n)){s={};for(let r=0;r<n.length;r++){const o=n[r],a=ke(o)&&o.props&&o.props.slot||"default",l=s[a]||(s[a]=[]);ke(o)&&o.type==="template"?l.push(o.children):l.push(o)}if(s)for(const r in s){const o=s[r];s[r]=()=>o,s[r]._ns=!0}}const i=t&&t.scopedSlots;return i&&(delete t.scopedSlots,s?ne(s,i):s=i),s&&Ai(e,s),e}function ml(e){if(re("RENDER_FUNCTION",he,!0)&&re("PRIVATE_APIS",he,!0)){const t=he,n=()=>e.component&&e.component.proxy;let s;Object.defineProperties(e,{tag:{get:()=>e.type},data:{get:()=>e.props||{},set:i=>e.props=i},elm:{get:()=>e.el},componentInstance:{get:n},child:{get:n},text:{get:()=>ce(e.children)?e.children:null},context:{get:()=>t&&t.proxy},componentOptions:{get:()=>{if(e.shapeFlag&4)return s||(s={Ctor:e.type,propsData:e.props,children:e.children})}}})}}const Dr=new Map,pl={get(e,t){const n=e[t];return n&&n()}};function wd(e){if(Dr.has(e))return Dr.get(e);const t=e.render,n=(s,i)=>{const r=Xe(),o={props:s,children:r.vnode.children||[],data:r.vnode.props||{},scopedSlots:i.slots,parent:r.parent&&r.parent.proxy,slots(){return new Proxy(i.slots,pl)},get listeners(){return rl(r)},get injections(){if(e.inject){const a={};return Sl(e.inject,a),a}return{}}};return t(di,o)};return n.props=e.props,n.displayName=e.name,n.compatConfig=e.compatConfig,n.inheritAttrs=!1,Dr.set(e,n),n}function bl(e,t,n,s){let i;const r=n&&n[s];if(V(e)||ce(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){Number.isInteger(e)||S(`The v-for range expect an integer value but got ${e}.`),i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,r&&r[o])}else if(ee(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=t(e[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}function yl(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(V(s))for(let i=0;i<s.length;i++)e[s[i].name]=s[i].fn;else s&&(e[s.name]=s.key?(...i)=>{const r=s.fn(...i);return r&&(r.key=s.key),r}:s.fn)}return e}function wl(e,t,n={},s,i){if(he.isCE||he.parent&&mn(he.parent)&&he.parent.isCE)return t!=="default"&&(n.name=t),le("slot",n,s&&s());let r=e[t];r&&r.length>1&&(S("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),r=()=>[]),r&&r._c&&(r._d=!1),yi();const o=r&&_l(r(n)),a=zr(we,{key:n.key||o&&o.key||`_${t}`},o||(s?s():[]),o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function _l(e){return e.some(t=>ke(t)?!(t.type===ge||t.type===we&&!_l(t.children)):!0)?e:null}function vl(e,t){const n={};if(!ee(e))return S("v-on with no argument expects an object value."),n;for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:ct(s)]=e[s];return n}function _d(e){const t={};for(let n=0;n<e.length;n++)e[n]&&ne(t,e[n]);return t}function vd(e,t,n,s,i){if(n&&ee(n)){V(n)&&(n=_d(n));for(const r in n)if(Fn(r))e[r]=n[r];else if(r==="class")e.class=It([e.class,n.class]);else if(r==="style")e.style=It([e.style,n.style]);else{const o=e.attrs||(e.attrs={}),a=Te(r),l=Ae(r);if(!(a in o)&&!(l in o)&&(o[r]=n[r],i)){const c=e.on||(e.on={});c[`update:${r}`]=function(f){n[r]=f}}}}return e}function Ad(e,t){return Ci(e,vl(t))}function Cd(e,t,n,s,i){return i&&(s=Ci(s,i)),wl(e.slots,t,s,n&&(()=>n))}function Ed(e,t,n){return yl(t||{$stable:!n},Al(e))}function Al(e){for(let t=0;t<e.length;t++){const n=e[t];n&&(V(n)?Al(n):n.name=n.key||"default")}return e}const Cl=new WeakMap;function xd(e,t){let n=Cl.get(e);if(n||Cl.set(e,n=[]),n[t])return n[t];const s=e.type.staticRenderFns[t],i=e.proxy;return n[t]=s.call(i,null,i)}function Sd(e,t,n,s,i,r){const a=e.appContext.config.keyCodes||{},l=a[n]||s;if(r&&i&&!a[n])return El(r,i);if(l)return El(l,t);if(i)return Ae(i)!==n}function El(e,t){return V(e)?!e.includes(t):e!==t}function Td(e){return e}function Pd(e,t){for(let n=0;n<t.length;n+=2){const s=t[n];typeof s=="string"&&s&&(e[t[n]]=t[n+1])}return e}function Od(e,t){return typeof e=="string"?t+e:e}function Rd(e){const t=(s,i,r)=>{s[i]=r},n=(s,i)=>{delete s[i]};ne(e,{$set:s=>(Ce("INSTANCE_SET",s),t),$delete:s=>(Ce("INSTANCE_DELETE",s),n),$mount:s=>(Ce("GLOBAL_MOUNT",null),s.ctx._compat_mount||Ee),$destroy:s=>(Ce("INSTANCE_DESTROY",s),s.ctx._compat_destroy||Ee),$slots:s=>re("RENDER_FUNCTION",s)&&s.render&&s.render._compatWrapped?new Proxy(s.slots,pl):Dt(s.slots),$scopedSlots:s=>{Ce("INSTANCE_SCOPED_SLOTS",s);const i={};for(const r in s.slots){const o=s.slots[r];o._ns||(i[r]=o)}return i},$on:s=>Er.bind(null,s),$once:s=>Hf.bind(null,s),$off:s=>xr.bind(null,s),$children:ud,$listeners:rl}),re("PRIVATE_APIS",null)&&ne(e,{$vnode:s=>s.vnode,$options:s=>{const i=ne({},_s(s));return i.parent=s.proxy.$parent,i.propsData=s.vnode.props,i},_self:s=>s.proxy,_uid:s=>s.uid,_data:s=>s.data,_isMounted:s=>s.isMounted,_isDestroyed:s=>s.isUnmounted,$createElement:()=>di,_c:()=>di,_o:()=>Td,_n:()=>ft,_s:()=>Do,_l:()=>bl,_t:s=>Cd.bind(null,s),_q:()=>_t,_i:()=>Xn,_m:s=>xd.bind(null,s),_f:()=>fl,_k:s=>Sd.bind(null,s),_b:()=>vd,_v:()=>vi,_e:()=>ec,_u:()=>Ed,_g:()=>Ad,_d:()=>Pd,_p:()=>Od})}const $r=e=>e?tc(e)?Ei(e)||e.proxy:$r(e.parent):null,Ht=ne(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>Dt(e.props),$attrs:e=>Dt(e.attrs),$slots:e=>Dt(e.slots),$refs:e=>Dt(e.refs),$parent:e=>$r(e.parent),$root:e=>$r(e.root),$emit:e=>e.emit,$options:e=>_s(e),$forceUpdate:e=>e.f||(e.f=()=>os(e.update)),$nextTick:e=>e.n||(e.n=fn.bind(e.proxy)),$watch:e=>ld.bind(e)});Rd(Ht);const Ur=e=>e==="_"||e==="$",Vr=(e,t)=>e!==oe&&!e.__isScriptSetup&&se(e,t),ws={get({_:e},t){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;if(t==="__isVue")return!0;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(Vr(s,t))return o[t]=1,s[t];if(i!==oe&&se(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&se(c,t))return o[t]=3,r[t];if(n!==oe&&se(n,t))return o[t]=4,n[t];jr&&(o[t]=0)}}const f=Ht[t];let u,d;if(f)return t==="$attrs"&&(Ie(e,"get",t),ni()),f(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==oe&&se(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,se(d,t)){const y=Object.getOwnPropertyDescriptor(d,t);if(y.get)return y.get.call(e.proxy);{const A=d[t];return G(A)?Object.assign(A.bind(e.proxy),A):A}}else he&&(!ce(t)||t.indexOf("__v")!==0)&&(i!==oe&&Ur(t[0])&&se(i,t)?S(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===he&&S(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return Vr(i,t)?(i[t]=n,!0):i.__isScriptSetup&&se(i,t)?(S(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==oe&&se(s,t)?(s[t]=n,!0):se(e.props,t)?(S(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(S(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||e!==oe&&se(e,o)||Vr(t,o)||(a=r[0])&&se(a,o)||se(s,o)||se(Ht,o)||se(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:se(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};ws.ownKeys=e=>(S("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));const Fd=ne({},ws,{get(e,t){if(t!==Symbol.unscopables)return ws.get(e,t,e)},has(e,t){const n=t[0]!=="_"&&!Eu(t);return!n&&ws.has(e,t)&&S(`Property ${JSON.stringify(t)} should not start with _ which is a reserved prefix for Vue internals.`),n}});function Id(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Ht).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Ht[n](e),set:Ee})}),t}function Ld(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(s=>{Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>e.props[s],set:Ee})})}function Nd(e){const{ctx:t,setupState:n}=e;Object.keys(Z(n)).forEach(s=>{if(!n.__isScriptSetup){if(Ur(s[0])){S(`setup() return property ${JSON.stringify(s)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n[s],set:Ee})}})}function xl(e,t){for(const n in t){const s=e[n],i=t[n];n in e&&$s(s)&&$s(i)?(Ye("OPTIONS_DATA_MERGE",null,n),xl(s,i)):e[n]=i}return e}function Md(){const e=Object.create(null);return(t,n)=>{e[n]?S(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let jr=!0;function kd(e){const t=_s(e),n=e.proxy,s=e.ctx;jr=!1,t.beforeCreate&&Tl(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:u,mounted:d,beforeUpdate:y,updated:A,activated:C,deactivated:F,beforeDestroy:v,beforeUnmount:g,destroyed:E,unmounted:x,render:R,renderTracked:D,renderTriggered:P,errorCaptured:w,serverPrefetch:m,expose:_,inheritAttrs:b,components:N,directives:K,filters:B}=t,W=Md();{const[U]=e.propsOptions;if(U)for(const z in U)W("Props",z)}if(c&&Sl(c,s,W,e.appContext.config.unwrapInjectedRef),o)for(const U in o){const z=o[U];G(z)?(Object.defineProperty(s,U,{value:z.bind(n),configurable:!0,enumerable:!0,writable:!0}),W("Methods",U)):S(`Method "${U}" has type "${typeof z}" in the component definition. Did you reference the function correctly?`)}if(i){G(i)||S("The data option must be a function. Plain object usage is no longer supported.");const U=i.call(n,n);if(Qn(U)&&S("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!ee(U))S("data() should return an object.");else{e.data=vt(U);for(const z in U)W("Data",z),Ur(z[0])||Object.defineProperty(s,z,{configurable:!0,enumerable:!0,get:()=>U[z],set:Ee})}}if(jr=!0,r)for(const U in r){const z=r[U],X=G(z)?z.bind(n,n):G(z.get)?z.get.bind(n,n):Ee;X===Ee&&S(`Computed property "${U}" has no getter.`);const ae=!G(z)&&G(z.set)?z.set.bind(n):()=>{S(`Write operation failed: computed property "${U}" is readonly.`)},Re=xi({get:X,set:ae});Object.defineProperty(s,U,{enumerable:!0,configurable:!0,get:()=>Re.value,set:qn=>Re.value=qn}),W("Computed",U)}if(a)for(const U in a)Pl(a[U],s,n,U);if(l){const U=G(l)?l.call(n):l;Reflect.ownKeys(U).forEach(z=>{ja(z,U[z])})}f&&Tl(f,e,"c");function I(U,z){V(z)?z.forEach(X=>U(X.bind(n))):z&&U(z.bind(n))}if(I(Qa,u),I(ps,d),I(Za,y),I(ci,A),I(Ja,C),I(Xa,F),I(sl,w),I(nl,D),I(tl,P),I(bs,g),I(ys,x),I(el,m),v&&Ct("OPTIONS_BEFORE_DESTROY",e)&&I(bs,v),E&&Ct("OPTIONS_DESTROYED",e)&&I(ys,E),V(_))if(_.length){const U=e.exposed||(e.exposed={});_.forEach(z=>{Object.defineProperty(U,z,{get:()=>n[z],set:X=>n[z]=X})})}else e.exposed||(e.exposed={});R&&e.render===Ee&&(e.render=R),b!=null&&(e.inheritAttrs=b),N&&(e.components=N),K&&(e.directives=K),B&&re("FILTERS",e)&&(e.filters=B)}function Sl(e,t,n=Ee,s=!1){V(e)&&(e=Br(e));for(const i in e){const r=e[i];let o;ee(r)?"default"in r?o=jt(r.from||i,r.default,!0):o=jt(r.from||i):o=jt(r),de(o)?s?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):(S(`injected property "${i}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),t[i]=o):t[i]=o,n("Inject",i)}}function Tl(e,t,n){Le(V(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Pl(e,t,n,s){const i=s.includes(".")?Ha(n,s):()=>n[s];if(ce(e)){const r=t[e];G(r)?hn(i,r):S(`Invalid watch handler specified by key "${e}"`,r)}else if(G(e))hn(i,e.bind(n));else if(ee(e))if(V(e))e.forEach(r=>Pl(r,t,n,s));else{const r=G(e.handler)?e.handler.bind(n):t[e.handler];G(r)?hn(i,r,e):S(`Invalid watch handler specified by key "${e.handler}"`,r)}else S(`Invalid watch option: "${s}"`,e)}function _s(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?re("PRIVATE_APIS",e)?(l=ne({},t),l.parent=e.parent&&e.parent.proxy,l.propsData=e.vnode.props):l=t:(l={},i.length&&i.forEach(c=>pn(l,c,o,!0)),pn(l,t,o)),ee(t)&&r.set(t,l),l}function pn(e,t,n,s=!1){G(t)&&(t=t.options);const{mixins:i,extends:r}=t;r&&pn(e,r,n,!0),i&&i.forEach(o=>pn(e,o,n,!0));for(const o in t)if(s&&o==="expose")S('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=bn[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const bn={data:Ol,props:Kt,emits:Kt,methods:Kt,computed:Kt,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Kt,directives:Kt,watch:$d,provide:Ol,inject:Dd};bn.filters=Kt;function Ol(e,t){return t?e?function(){return(re("OPTIONS_DATA_MERGE",null)?xl:ne)(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function Dd(e,t){return Kt(Br(e),Br(t))}function Br(e){if(V(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Oe(e,t){return e?[...new Set([].concat(e,t))]:t}function Kt(e,t){return e?ne(ne(Object.create(null),e),t):t}function $d(e,t){if(!e)return t;if(!t)return e;const n=ne(Object.create(null),e);for(const s in t)n[s]=Oe(e[s],t[s]);return n}function Ud(e,t,n){return new Proxy({},{get(s,i){if(Ye("PROPS_DEFAULT_THIS",null,n),i==="$options")return _s(e);if(i in t)return t[i];const r=e.type.inject;if(r){if(V(r)){if(r.includes(i))return jt(i)}else if(i in r)return jt(i)}}})}function Rl(e,t){return!!(e==="is"||(e==="class"||e==="style")&&re("INSTANCE_ATTRS_CLASS_STYLE",t)||lt(e)&&re("INSTANCE_LISTENERS",t)||e.startsWith("routerView")||e==="registerRouteInstance")}function Vd(e,t,n,s=!1){const i={},r={};Vs(r,wi,1),e.propsDefaults=Object.create(null),Fl(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);kl(t||{},i,e),n?e.props=s?i:ha(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function jd(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function Bd(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=Z(i),[l]=e.propsOptions;let c=!1;if(!jd(e)&&(s||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let d=f[u];if(ti(e.emitsOptions,d))continue;const y=t[d];if(l)if(se(r,d))y!==r[d]&&(r[d]=y,c=!0);else{const A=Te(d);i[A]=Hr(l,a,A,y,e,!1)}else{if(lt(d)&&d.endsWith("Native"))d=d.slice(0,-6);else if(Rl(d,e))continue;y!==r[d]&&(r[d]=y,c=!0)}}}}else{Fl(e,t,i,r)&&(c=!0);let f;for(const u in a)(!t||!se(t,u)&&((f=Ae(u))===u||!se(t,f)))&&(l?n&&(n[u]!==void 0||n[f]!==void 0)&&(i[u]=Hr(l,a,u,void 0,e,!0)):delete i[u]);if(r!==a)for(const u in r)(!t||!se(t,u)&&!se(t,u+"Native"))&&(delete r[u],c=!0)}c&&dt(e,"set","$attrs"),kl(t||{},i,e)}function Fl(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Fn(l)||(l.startsWith("onHook:")&&Ct("INSTANCE_EVENT_HOOKS",e,l.slice(2).toLowerCase()),l==="inline-template"))continue;const c=t[l];let f;if(i&&se(i,f=Te(l)))!r||!r.includes(f)?n[f]=c:(a||(a={}))[f]=c;else if(!ti(e.emitsOptions,l)){if(lt(l)&&l.endsWith("Native"))l=l.slice(0,-6);else if(Rl(l,e))continue;(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}}if(r){const l=Z(n),c=a||oe;for(let f=0;f<r.length;f++){const u=r[f];n[u]=Hr(i,l,u,c[u],e,!se(c,u))}}return o}function Hr(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&G(l)){const{propsDefaults:c}=i;n in c?s=c[n]:(Xt(i),s=c[n]=l.call(re("PROPS_DEFAULT_THIS",i)?Ud(i,t,n):null,t),zt())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ae(n))&&(s=!0))}return s}function Il(e,t,n=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!G(e)){const f=u=>{G(u)&&(u=u.options),l=!0;const[d,y]=Il(u,t,!0);ne(o,d),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!l)return ee(e)&&s.set(e,Rn),Rn;if(V(r))for(let f=0;f<r.length;f++){ce(r[f])||S("props must be strings when using array syntax.",r[f]);const u=Te(r[f]);Ll(u)&&(o[u]=oe)}else if(r){ee(r)||S("invalid props options",r);for(const f in r){const u=Te(f);if(Ll(u)){const d=r[f],y=o[u]=V(d)||G(d)?{type:d}:Object.assign({},d);if(y){const A=Ml(Boolean,y.type),C=Ml(String,y.type);y[0]=A>-1,y[1]=C<0||A<C,(A>-1||se(y,"default"))&&a.push(u)}}}}const c=[o,a];return ee(e)&&s.set(e,c),c}function Ll(e){return e[0]!=="$"?!0:(S(`Invalid prop name: "${e}" is a reserved property.`),!1)}function Kr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Nl(e,t){return Kr(e)===Kr(t)}function Ml(e,t){return V(t)?t.findIndex(n=>Nl(n,e)):G(t)&&Nl(t,e)?0:-1}function kl(e,t,n){const s=Z(t),i=n.propsOptions[0];for(const r in i){let o=i[r];o!=null&&Hd(r,s[r],o,!se(e,r)&&!se(e,Ae(r)))}}function Hd(e,t,n,s){const{type:i,required:r,validator:o}=n;if(r&&s){S('Missing required prop: "'+e+'"');return}if(!(t==null&&!n.required)){if(i!=null&&i!==!0){let a=!1;const l=V(i)?i:[i],c=[];for(let f=0;f<l.length&&!a;f++){const{valid:u,expectedType:d}=Wd(t,l[f]);c.push(d||""),a=u}if(!a){S(Gd(e,t,c));return}}o&&!o(t)&&S('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Kd=Ze("String,Number,Boolean,Function,Symbol,BigInt");function Wd(e,t){let n;const s=Kr(t);if(Kd(s)){const i=typeof e;n=i===s.toLowerCase(),!n&&i==="object"&&(n=e instanceof t)}else s==="Object"?n=ee(e):s==="Array"?n=V(e):s==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:s}}function Gd(e,t,n){let s=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(Lt).join(" | ")}`;const i=n[0],r=Yi(t),o=Dl(t,i),a=Dl(t,r);return n.length===1&&$l(i)&&!qd(i,r)&&(s+=` with value ${o}`),s+=`, got ${r} `,$l(r)&&(s+=`with value ${a}.`),s}function Dl(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function $l(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function qd(...e){return e.some(t=>t.toLowerCase()==="boolean")}const Ul=e=>e[0]==="_"||e==="$stable",Wr=e=>V(e)?e.map($e):[$e(e)],Yd=(e,t,n)=>{if(t._n)return t;const s=Sr((...i)=>(pe&&S(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Wr(t(...i))),n);return s._c=!1,s},Vl=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Ul(i))continue;const r=e[i];if(G(r))t[i]=Yd(i,r,s);else if(r!=null){re("RENDER_FUNCTION",n)||S(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const o=Wr(r);t[i]=()=>o}}},jl=(e,t)=>{!Vn(e.vnode)&&!re("RENDER_FUNCTION",e)&&S("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Wr(t);e.slots.default=()=>n},Jd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Z(t),Vs(t,"_",n)):Vl(t,e.slots={},e)}else e.slots={},t&&jl(e,t);Vs(e.slots,wi,1)},Xd=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=oe;if(s.shapeFlag&32){const a=t._;a?Vt?ne(i,t):n&&a===1?r=!1:(ne(i,t),!n&&a===1&&delete i._):(r=!t.$stable,Vl(t,i,e)),o=t}else t&&(jl(e,t),o={default:1});if(r)for(const a in i)!Ul(a)&&!(a in o)&&delete i[a]};function zd(e){const t={silent:"CONFIG_SILENT",devtools:"CONFIG_DEVTOOLS",ignoredElements:"CONFIG_IGNORED_ELEMENTS",keyCodes:"CONFIG_KEY_CODES",productionTip:"CONFIG_PRODUCTION_TIP"};Object.keys(t).forEach(n=>{let s=e[n];Object.defineProperty(e,n,{enumerable:!0,get(){return s},set(i){Gr||Ye(t[n],null),s=i}})})}function Qd(e){e.optionMergeStrategies=new Proxy({},{get(t,n){if(n in t)return t[n];if(n in bn&&Ct("CONFIG_OPTION_MERGE_STRATS",null))return bn[n]}})}let Gr=!1,Ne,yn;function Zd(e,t){Ne=t({});const n=yn=function l(c={}){return s(c,l)};function s(l={},c){Ce("GLOBAL_MOUNT",null);const{data:f}=l;f&&!G(f)&&Ct("OPTIONS_DATA_FN",null)&&(l.data=()=>f);const u=e(l);c!==n&&Bl(u,c);const d=u._createRoot(l);return l.el?d.$mount(l.el):d}n.version="2.6.14-compat:3.2.45",n.config=Ne.config,n.use=(l,...c)=>(l&&G(l.install)?l.install(n,...c):G(l)&&l(n,...c),n),n.mixin=l=>(Ne.mixin(l),n),n.component=(l,c)=>c?(Ne.component(l,c),n):Ne.component(l),n.directive=(l,c)=>c?(Ne.directive(l,c),n):Ne.directive(l),n.options={_base:n};let i=1;n.cid=i,n.nextTick=fn;const r=new WeakMap;function o(l={}){if(Ce("GLOBAL_EXTEND",null),G(l)&&(l=l.options),r.has(l))return r.get(l);const c=this;function f(d){return s(d?pn(ne({},f.options),d,bn):f.options,f)}f.super=c,f.prototype=Object.create(n.prototype),f.prototype.constructor=f;const u={};for(const d in c.options){const y=c.options[d];u[d]=V(y)?y.slice():ee(y)?ne(Object.create(null),y):y}return f.options=pn(u,l,bn),f.options._base=f,f.extend=o.bind(f),f.mixin=c.mixin,f.use=c.use,f.cid=++i,r.set(l,f),f}n.extend=o.bind(n),n.set=(l,c,f)=>{Ce("GLOBAL_SET",null),l[c]=f},n.delete=(l,c)=>{Ce("GLOBAL_DELETE",null),delete l[c]},n.observable=l=>(Ce("GLOBAL_OBSERVABLE",null),vt(l)),n.filter=(l,c)=>c?(Ne.filter(l,c),n):Ne.filter(l);const a={warn:S,extend:ne,mergeOptions:(l,c,f)=>pn(l,c,f?void 0:bn),defineReactive:ah};return Object.defineProperty(n,"util",{get(){return Ce("GLOBAL_PRIVATE_UTIL",null),a}}),n.configureCompat=Bf,n}function eh(e,t,n){th(e,t),Qd(e.config),Ne&&(ih(e,t,n),nh(e),sh(e),zd(e.config))}function th(e,t){t.filters={},e.filter=(n,s)=>(Ce("FILTERS",null),s?(t.filters[n]&&S(`Filter "${n}" has already been registered.`),t.filters[n]=s,e):t.filters[n])}function nh(e){Object.defineProperties(e,{prototype:{get(){return Ye("GLOBAL_PROTOTYPE",null),e.config.globalProperties}},nextTick:{value:fn},extend:{value:yn.extend},set:{value:yn.set},delete:{value:yn.delete},observable:{value:yn.observable},util:{get(){return yn.util}}})}function sh(e){e._context.mixins=[...Ne._context.mixins],["components","directives","filters"].forEach(t=>{e._context[t]=Object.create(Ne._context[t])}),Gr=!0;for(const t in Ne.config){if(t==="isNativeTag"||vn()&&(t==="isCustomElement"||t==="compilerOptions"))continue;const n=Ne.config[t];e.config[t]=ee(n)?Object.create(n):n,t==="ignoredElements"&&re("CONFIG_IGNORED_ELEMENTS",null)&&!vn()&&V(n)&&(e.config.compilerOptions.isCustomElement=s=>n.some(i=>ce(i)?i===s:i.test(s)))}Gr=!1,Bl(e,yn)}function Bl(e,t){const n=re("GLOBAL_PROTOTYPE",null);n&&(e.config.globalProperties=Object.create(t.prototype));let s=!1;const i=Object.getOwnPropertyDescriptors(t.prototype);for(const r in i)r!=="constructor"&&(s=!0,n&&Object.defineProperty(e.config.globalProperties,r,i[r]));s&&Ye("GLOBAL_PROTOTYPE",null)}function ih(e,t,n){let s=!1;e._createRoot=i=>{const r=e._component,o=le(r,i.propsData||null);o.appContext=t;const a=!G(r)&&!r.render&&!r.template,l=()=>{},c=eo(o,null,null);return a&&(c.render=l),no(c),o.component=c,o.isCompatRoot=!0,c.ctx._compat_mount=f=>{if(s){S("Root instance is already mounted.");return}let u;if(typeof f=="string"){const y=document.querySelector(f);if(!y){S(`Failed to mount root instance: selector "${f}" returned null.`);return}u=y}else u=f||document.createElement("div");const d=u instanceof SVGElement;if(t.reload=()=>{const y=De(o);y.component=null,n(y,u,d)},a&&c.render===l){for(let y=0;y<u.attributes.length;y++){const A=u.attributes[y];if(A.name!=="v-cloak"&&/^(v-|:|@)/.test(A.name)){Ye("GLOBAL_MOUNT_CONTAINER",null);break}}c.render=null,r.template=u.innerHTML,ro(c,!1,!0)}return u.innerHTML="",n(o,u,d),u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),s=!0,e._container=u,u.__vue_app__=e,Ca(e,Ti),c.proxy},c.ctx._compat_destroy=()=>{if(s)n(null,e._container),Ea(e),delete e._container.__vue_app__;else{const{bum:f,scope:u,um:d}=c;f&&ut(f),re("INSTANCE_EVENT_HOOKS",c)&&c.emit("hook:beforeDestroy"),u&&u.stop(),d&&ut(d),re("INSTANCE_EVENT_HOOKS",c)&&c.emit("hook:destroyed")}},c.proxy}}const rh=["push","pop","shift","unshift","splice","sort","reverse"],oh=new WeakSet;function ah(e,t,n){if(ee(n)&&!He(n)&&!oh.has(n)){const i=vt(n);V(n)?rh.forEach(r=>{n[r]=(...o)=>{Array.prototype[r].call(i,...o)}}):Object.keys(n).forEach(r=>{try{qr(n,r,n[r])}catch{}})}const s=e.$;s&&e===s.proxy?(qr(s.ctx,t,n),s.accessCache=Object.create(null)):He(e)?e[t]=n:qr(e,t,n)}function qr(e,t,n){n=ee(n)?vt(n):n,Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get(){return Ie(e,"get",t),n},set(s){n=ee(s)?vt(s):s,dt(e,"set",t,s)}})}function Hl(){return{app:null,config:{isNativeTag:Uo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lh=0;function ch(e,t){return function(s,i=null){G(s)||(s=Object.assign({},s)),i!=null&&!ee(i)&&(S("root props passed to app.mount() must be an object."),i=null);const r=Hl(),o=new Set;let a=!1;const l=r.app={_uid:lh++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Ti,get config(){return r.config},set config(c){S("app.config cannot be replaced. Modify individual options instead.")},use(c,...f){return o.has(c)?S("Plugin has already been applied to target app."):c&&G(c.install)?(o.add(c),c.install(l,...f)):G(c)?(o.add(c),c(l,...f)):S('A plugin must either be a function or an object with an "install" function.'),l},mixin(c){return r.mixins.includes(c)?S("Mixin has already been applied to target app"+(c.name?`: ${c.name}`:"")):r.mixins.push(c),l},component(c,f){return to(c,r.config),f?(r.components[c]&&S(`Component "${c}" has already been registered in target app.`),r.components[c]=f,l):r.components[c]},directive(c,f){return ol(c),f?(r.directives[c]&&S(`Directive "${c}" has already been registered in target app.`),r.directives[c]=f,l):r.directives[c]},mount(c,f,u){if(a)S("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{c.__vue_app__&&S("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=le(s,i);return d.appContext=r,r.reload=()=>{e(De(d),c,u)},f&&t?t(d,c):e(d,c,u),a=!0,l._container=c,c.__vue_app__=l,l._instance=d.component,Ca(l,Ti),Ei(d.component)||d.component.proxy}},unmount(){a?(e(null,l._container),l._instance=null,Ea(l),delete l._container.__vue_app__):S("Cannot unmount an app that is not mounted.")},provide(c,f){return c in r.provides&&S(`App already provides property with key "${String(c)}". It will be overwritten with the new value.`),r.provides[c]=f,l}};return eh(l,r,e),l}}function gi(e,t,n,s,i=!1){if(V(e)){e.forEach((d,y)=>gi(d,t&&(V(t)?t[y]:t),n,s,i));return}if(mn(s)&&!i)return;const r=s.shapeFlag&4?Ei(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=e;if(!a){S("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=t&&t.r,f=a.refs===oe?a.refs={}:a.refs,u=a.setupState;if(c!=null&&c!==l&&(ce(c)?(f[c]=null,se(u,c)&&(u[c]=null)):de(c)&&(c.value=null)),G(l))et(l,a,12,[o,f]);else{const d=ce(l),y=de(l);if(d||y){const A=()=>{if(e.f){const C=d?se(u,l)?u[l]:f[l]:l.value;i?V(C)&&qi(C,r):V(C)?C.includes(r)||C.push(r):d?(f[l]=[r],se(u,l)&&(u[l]=f[l])):(l.value=[r],e.k&&(f[e.k]=l.value))}else d?(f[l]=o,se(u,l)&&(u[l]=o)):y?(l.value=o,e.k&&(f[e.k]=o)):S("Invalid template ref type:",l,`(${typeof l})`)};o?(A.id=-1,me(A,n)):A()}else S("Invalid template ref type:",l,`(${typeof l})`)}}let Wt=!1;const mi=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",vs=e=>e.nodeType===8;function uh(e){const{mt:t,p:n,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(v,g)=>{if(!g.hasChildNodes()){S("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,v,g),Zs(),g._vnode=v;return}Wt=!1,u(g.firstChild,v,null,null,null),Zs(),g._vnode=v,Wt&&console.error("Hydration completed but contains mismatches.")},u=(v,g,E,x,R,D=!1)=>{const P=vs(v)&&v.data==="[",w=()=>C(v,g,E,x,R,P),{type:m,ref:_,shapeFlag:b,patchFlag:N}=g;let K=v.nodeType;g.el=v,N===-2&&(D=!1,g.dynamicChildren=null);let B=null;switch(m){case qt:K!==3?g.children===""?(l(g.el=i(""),o(v),v),B=v):B=w():(v.data!==g.children&&(Wt=!0,S(`Hydration text mismatch:
- Client: ${JSON.stringify(v.data)}
- Server: ${JSON.stringify(g.children)}`),v.data=g.children),B=r(v));break;case ge:K!==8||P?B=w():B=r(v);break;case Yt:if(P&&(v=r(v),K=v.nodeType),K===1||K===3){B=v;const W=!g.children.length;for(let I=0;I<g.staticCount;I++)W&&(g.children+=B.nodeType===1?B.outerHTML:B.data),I===g.staticCount-1&&(g.anchor=B),B=r(B);return P?r(B):B}else w();break;case we:P?B=A(v,g,E,x,R,D):B=w();break;default:if(b&1)K!==1||g.type.toLowerCase()!==v.tagName.toLowerCase()?B=w():B=d(v,g,E,x,R,D);else if(b&6){g.slotScopeIds=R;const W=o(v);if(t(g,W,null,E,x,mi(W),D),B=P?F(v):r(v),B&&vs(B)&&B.data==="teleport end"&&(B=r(B)),mn(g)){let I;P?(I=le(we),I.anchor=B?B.previousSibling:W.lastChild):I=v.nodeType===3?vi(""):le("div"),I.el=v,g.component.subTree=I}}else b&64?K!==8?B=w():B=g.type.hydrate(v,g,E,x,R,D,e,y):b&128?B=g.type.hydrate(v,g,E,x,mi(o(v)),R,D,e,u):S("Invalid HostVNode type:",m,`(${typeof m})`)}return _!=null&&gi(_,null,x,g),B},d=(v,g,E,x,R,D)=>{D=D||!!g.dynamicChildren;const{type:P,props:w,patchFlag:m,shapeFlag:_,dirs:b}=g,N=P==="input"&&b||P==="option";{if(b&&mt(g,null,E,"created"),w)if(N||!D||m&48)for(const B in w)(N&&B.endsWith("value")||lt(B)&&!Fn(B))&&s(v,B,null,w[B],!1,void 0,E);else w.onClick&&s(v,"onClick",null,w.onClick,!1,void 0,E);let K;if((K=w&&w.onVnodeBeforeMount)&&Ue(K,E,g),b&&mt(g,null,E,"beforeMount"),((K=w&&w.onVnodeMounted)||b)&&Va(()=>{K&&Ue(K,E,g),b&&mt(g,null,E,"mounted")},x),_&16&&!(w&&(w.innerHTML||w.textContent))){let B=y(v.firstChild,g,v,E,x,R,D),W=!1;for(;B;){Wt=!0,W||(S(`Hydration children mismatch in <${g.type}>: server rendered element contains more child nodes than client vdom.`),W=!0);const I=B;B=B.nextSibling,a(I)}}else _&8&&v.textContent!==g.children&&(Wt=!0,S(`Hydration text content mismatch in <${g.type}>:
- Client: ${v.textContent}
- Server: ${g.children}`),v.textContent=g.children)}return v.nextSibling},y=(v,g,E,x,R,D,P)=>{P=P||!!g.dynamicChildren;const w=g.children,m=w.length;let _=!1;for(let b=0;b<m;b++){const N=P?w[b]:w[b]=$e(w[b]);if(v)v=u(v,N,x,R,D,P);else{if(N.type===qt&&!N.children)continue;Wt=!0,_||(S(`Hydration children mismatch in <${E.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`),_=!0),n(null,N,E,null,x,R,mi(E),D)}}return v},A=(v,g,E,x,R,D)=>{const{slotScopeIds:P}=g;P&&(R=R?R.concat(P):P);const w=o(v),m=y(r(v),g,w,E,x,R,D);return m&&vs(m)&&m.data==="]"?r(g.anchor=m):(Wt=!0,l(g.anchor=c("]"),w,m),m)},C=(v,g,E,x,R,D)=>{if(Wt=!0,S(`Hydration node mismatch:
- Client vnode:`,g.type,`
- Server rendered DOM:`,v,v.nodeType===3?"(text)":vs(v)&&v.data==="["?"(start of fragment)":""),g.el=null,D){const m=F(v);for(;;){const _=r(v);if(_&&_!==m)a(_);else break}}const P=r(v),w=o(v);return a(v),n(null,g,w,P,E,x,mi(w),R),P},F=v=>{let g=0;for(;v;)if(v=r(v),v&&vs(v)&&(v.data==="["&&g++,v.data==="]")){if(g===0)return r(v);g--}return v};return[f,u]}let As,Gt;function xt(e,t){e.appContext.config.performance&&pi()&&Gt.mark(`vue-${t}-${e.uid}`),Uf(e,t,pi()?Gt.now():Date.now())}function St(e,t){if(e.appContext.config.performance&&pi()){const n=`vue-${t}-${e.uid}`,s=n+":end";Gt.mark(s),Gt.measure(`<${Ss(e,e.type)}> ${t}`,n,s),Gt.clearMarks(n),Gt.clearMarks(s)}Vf(e,t,pi()?Gt.now():Date.now())}function pi(){return As!==void 0||(typeof window<"u"&&window.performance?(As=!0,Gt=window.performance):As=!1),As}function fh(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const me=Va;function Kl(e){return Gl(e)}function Wl(e){return Gl(e,uh)}function Gl(e,t){fh();const n=Ho();n.__VUE__=!0,pr(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:u,nextSibling:d,setScopeId:y=Ee,insertStaticContent:A}=e,C=(h,p,T,L=null,O=null,$=null,H=!1,j=null,k=Vt?!1:!!p.dynamicChildren)=>{if(h===p)return;h&&!pt(h,p)&&(L=Gi(h),tn(h,O,$,!0),h=null),p.patchFlag===-2&&(k=!1,p.dynamicChildren=null);const{type:M,ref:Y,shapeFlag:q}=p;switch(M){case qt:F(h,p,T,L);break;case ge:v(h,p,T,L);break;case Yt:h==null?g(p,T,L,H):E(h,p,T,H);break;case we:K(h,p,T,L,O,$,H,j,k);break;default:q&1?D(h,p,T,L,O,$,H,j,k):q&6?B(h,p,T,L,O,$,H,j,k):q&64||q&128?M.process(h,p,T,L,O,$,H,j,k,Yn):S("Invalid VNode type:",M,`(${typeof M})`)}Y!=null&&O&&gi(Y,h&&h.ref,$,p||h,!p)},F=(h,p,T,L)=>{if(h==null)s(p.el=a(p.children),T,L);else{const O=p.el=h.el;p.children!==h.children&&c(O,p.children)}},v=(h,p,T,L)=>{h==null?s(p.el=l(p.children||""),T,L):p.el=h.el},g=(h,p,T,L)=>{[h.el,h.anchor]=A(h.children,p,T,L,h.el,h.anchor)},E=(h,p,T,L)=>{if(p.children!==h.children){const O=d(h.anchor);R(h),[p.el,p.anchor]=A(p.children,T,O,L)}else p.el=h.el,p.anchor=h.anchor},x=({el:h,anchor:p},T,L)=>{let O;for(;h&&h!==p;)O=d(h),s(h,T,L),h=O;s(p,T,L)},R=({el:h,anchor:p})=>{let T;for(;h&&h!==p;)T=d(h),i(h),h=T;i(p)},D=(h,p,T,L,O,$,H,j,k)=>{H=H||p.type==="svg",h==null?P(p,T,L,O,$,H,j,k):_(h,p,O,$,H,j,k)},P=(h,p,T,L,O,$,H,j)=>{let k,M;const{type:Y,props:q,shapeFlag:J,transition:te,dirs:ie}=h;if(k=h.el=o(h.type,$,q&&q.is,q),J&8?f(k,h.children):J&16&&m(h.children,k,null,L,O,$&&Y!=="foreignObject",H,j),ie&&mt(h,null,L,"created"),q){for(const ue in q)ue!=="value"&&!Fn(ue)&&r(k,ue,null,q[ue],$,h.children,L,O,Ft);"value"in q&&r(k,"value",null,q.value),(M=q.onVnodeBeforeMount)&&Ue(M,L,h)}w(k,h,h.scopeId,H,L),Object.defineProperty(k,"__vnode",{value:h,enumerable:!1}),Object.defineProperty(k,"__vueParentComponent",{value:L,enumerable:!1}),ie&&mt(h,null,L,"beforeMount");const fe=(!O||O&&!O.pendingBranch)&&te&&!te.persisted;fe&&te.beforeEnter(k),s(k,p,T),((M=q&&q.onVnodeMounted)||fe||ie)&&me(()=>{M&&Ue(M,L,h),fe&&te.enter(k),ie&&mt(h,null,L,"mounted")},O)},w=(h,p,T,L,O)=>{if(T&&y(h,T),L)for(let $=0;$<L.length;$++)y(h,L[$]);if(O){let $=O.subTree;if($.patchFlag>0&&$.patchFlag&2048&&($=Pr($.children)||$),p===$){const H=O.vnode;w(h,H,H.scopeId,H.slotScopeIds,O.parent)}}},m=(h,p,T,L,O,$,H,j,k=0)=>{for(let M=k;M<h.length;M++){const Y=h[M]=j?Jt(h[M]):$e(h[M]);C(null,Y,p,T,L,O,$,H,j)}},_=(h,p,T,L,O,$,H)=>{const j=p.el=h.el;let{patchFlag:k,dynamicChildren:M,dirs:Y}=p;k|=h.patchFlag&16;const q=h.props||oe,J=p.props||oe;let te;T&&wn(T,!1),(te=J.onVnodeBeforeUpdate)&&Ue(te,T,p,h),Y&&mt(p,h,T,"beforeUpdate"),T&&wn(T,!0),Vt&&(k=0,H=!1,M=null);const ie=O&&p.type!=="foreignObject";if(M?(b(h.dynamicChildren,M,j,T,L,ie,$),T&&T.type.__hmrId&&Cs(h,p)):H||X(h,p,j,null,T,L,ie,$,!1),k>0){if(k&16)N(j,p,q,J,T,L,O);else if(k&2&&q.class!==J.class&&r(j,"class",null,J.class,O),k&4&&r(j,"style",q.style,J.style,O),k&8){const fe=p.dynamicProps;for(let ue=0;ue<fe.length;ue++){const ye=fe[ue],at=q[ye],Jn=J[ye];(Jn!==at||ye==="value")&&r(j,ye,at,Jn,O,h.children,T,L,Ft)}}k&1&&h.children!==p.children&&f(j,p.children)}else!H&&M==null&&N(j,p,q,J,T,L,O);((te=J.onVnodeUpdated)||Y)&&me(()=>{te&&Ue(te,T,p,h),Y&&mt(p,h,T,"updated")},L)},b=(h,p,T,L,O,$,H)=>{for(let j=0;j<p.length;j++){const k=h[j],M=p[j],Y=k.el&&(k.type===we||!pt(k,M)||k.shapeFlag&70)?u(k.el):T;C(k,M,Y,null,L,O,$,H,!0)}},N=(h,p,T,L,O,$,H)=>{if(T!==L){if(T!==oe)for(const j in T)!Fn(j)&&!(j in L)&&r(h,j,T[j],null,H,p.children,O,$,Ft);for(const j in L){if(Fn(j))continue;const k=L[j],M=T[j];k!==M&&j!=="value"&&r(h,j,M,k,H,p.children,O,$,Ft)}"value"in L&&r(h,"value",T.value,L.value)}},K=(h,p,T,L,O,$,H,j,k)=>{const M=p.el=h?h.el:a(""),Y=p.anchor=h?h.anchor:a("");let{patchFlag:q,dynamicChildren:J,slotScopeIds:te}=p;(Vt||q&2048)&&(q=0,k=!1,J=null),te&&(j=j?j.concat(te):te),h==null?(s(M,T,L),s(Y,T,L),m(p.children,T,Y,O,$,H,j,k)):q>0&&q&64&&J&&h.dynamicChildren?(b(h.dynamicChildren,J,T,O,$,H,j),O&&O.type.__hmrId?Cs(h,p):(p.key!=null||O&&p===O.subTree)&&Cs(h,p,!0)):X(h,p,T,Y,O,$,H,j,k)},B=(h,p,T,L,O,$,H,j,k)=>{p.slotScopeIds=j,h==null?p.shapeFlag&512?O.ctx.activate(p,T,L,H,k):W(p,T,L,O,$,H,k):I(h,p,k)},W=(h,p,T,L,O,$,H)=>{const j=h.isCompatRoot&&h.component,k=j||(h.component=eo(h,L,O));if(k.type.__hmrId&&Lf(k),Ln(h),xt(k,"mount"),Vn(h)&&(k.ctx.renderer=Yn),j||(xt(k,"init"),no(k),St(k,"init")),k.asyncDep){if(O&&O.registerDep(k,U),!h.el){const M=k.subTree=le(ge);v(null,M,p,T)}return}U(k,h,p,T,O,$,H),Nn(),St(k,"mount")},I=(h,p,T)=>{const L=p.component=h.component;if(ed(h,p,T))if(L.asyncDep&&!L.asyncResolved){Ln(p),z(L,p,T),Nn();return}else L.next=p,Ff(L.update),L.update();else p.el=h.el,L.vnode=p},U=(h,p,T,L,O,$,H)=>{const j=()=>{if(h.isMounted){let{next:Y,bu:q,u:J,parent:te,vnode:ie}=h,fe=Y,ue;Ln(Y||h.vnode),wn(h,!1),Y?(Y.el=ie.el,z(h,Y,H)):Y=ie,q&&ut(q),(ue=Y.props&&Y.props.onVnodeBeforeUpdate)&&Ue(ue,te,Y,ie),re("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeUpdate"),wn(h,!0),xt(h,"render");const ye=si(h);St(h,"render");const at=h.subTree;h.subTree=ye,xt(h,"patch"),C(at,ye,u(at.el),Gi(at),h,O,$),St(h,"patch"),Y.el=ye.el,fe===null&&Or(h,ye.el),J&&me(J,O),(ue=Y.props&&Y.props.onVnodeUpdated)&&me(()=>Ue(ue,te,Y,ie),O),re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:updated"),O),xa(h),Nn()}else{let Y;const{el:q,props:J}=p,{bm:te,m:ie,parent:fe}=h,ue=mn(p);if(wn(h,!1),te&&ut(te),!ue&&(Y=J&&J.onVnodeBeforeMount)&&Ue(Y,fe,p),re("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeMount"),wn(h,!0),q&&No){const ye=()=>{xt(h,"render"),h.subTree=si(h),St(h,"render"),xt(h,"hydrate"),No(q,h.subTree,h,O,null),St(h,"hydrate")};ue?p.type.__asyncLoader().then(()=>!h.isUnmounted&&ye()):ye()}else{xt(h,"render");const ye=h.subTree=si(h);St(h,"render"),xt(h,"patch"),C(null,ye,T,L,h,O,$),St(h,"patch"),p.el=ye.el}if(ie&&me(ie,O),!ue&&(Y=J&&J.onVnodeMounted)){const ye=p;me(()=>Ue(Y,fe,ye),O)}re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:mounted"),O),(p.shapeFlag&256||fe&&mn(fe.vnode)&&fe.vnode.shapeFlag&256)&&(h.a&&me(h.a,O),re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:activated"),O)),h.isMounted=!0,br(h),p=T=L=null}},k=h.effect=new ts(j,()=>os(M),h.scope),M=h.update=()=>k.run();M.id=h.uid,wn(h,!0),k.onTrack=h.rtc?Y=>ut(h.rtc,Y):void 0,k.onTrigger=h.rtg?Y=>ut(h.rtg,Y):void 0,M.ownerInstance=h,M()},z=(h,p,T)=>{p.component=h;const L=h.vnode.props;h.vnode=p,h.next=null,Bd(h,p.props,L,T),Xd(h,p.children,T),on(),wa(),an()},X=(h,p,T,L,O,$,H,j,k=!1)=>{const M=h&&h.children,Y=h?h.shapeFlag:0,q=p.children,{patchFlag:J,shapeFlag:te}=p;if(J>0){if(J&128){Re(M,q,T,L,O,$,H,j,k);return}else if(J&256){ae(M,q,T,L,O,$,H,j,k);return}}te&8?(Y&16&&Ft(M,O,$),q!==M&&f(T,q)):Y&16?te&16?Re(M,q,T,L,O,$,H,j,k):Ft(M,O,$,!0):(Y&8&&f(T,""),te&16&&m(q,T,L,O,$,H,j,k))},ae=(h,p,T,L,O,$,H,j,k)=>{h=h||Rn,p=p||Rn;const M=h.length,Y=p.length,q=Math.min(M,Y);let J;for(J=0;J<q;J++){const te=p[J]=k?Jt(p[J]):$e(p[J]);C(h[J],te,T,null,O,$,H,j,k)}M>Y?Ft(h,O,$,!0,!1,q):m(p,T,L,O,$,H,j,k,q)},Re=(h,p,T,L,O,$,H,j,k)=>{let M=0;const Y=p.length;let q=h.length-1,J=Y-1;for(;M<=q&&M<=J;){const te=h[M],ie=p[M]=k?Jt(p[M]):$e(p[M]);if(pt(te,ie))C(te,ie,T,null,O,$,H,j,k);else break;M++}for(;M<=q&&M<=J;){const te=h[q],ie=p[J]=k?Jt(p[J]):$e(p[J]);if(pt(te,ie))C(te,ie,T,null,O,$,H,j,k);else break;q--,J--}if(M>q){if(M<=J){const te=J+1,ie=te<Y?p[te].el:L;for(;M<=J;)C(null,p[M]=k?Jt(p[M]):$e(p[M]),T,ie,O,$,H,j,k),M++}}else if(M>J)for(;M<=q;)tn(h[M],O,$,!0),M++;else{const te=M,ie=M,fe=new Map;for(M=ie;M<=J;M++){const Fe=p[M]=k?Jt(p[M]):$e(p[M]);Fe.key!=null&&(fe.has(Fe.key)&&S("Duplicate keys found during update:",JSON.stringify(Fe.key),"Make sure keys are unique."),fe.set(Fe.key,M))}let ue,ye=0;const at=J-ie+1;let Jn=!1,vu=0;const ks=new Array(at);for(M=0;M<at;M++)ks[M]=0;for(M=te;M<=q;M++){const Fe=h[M];if(ye>=at){tn(Fe,O,$,!0);continue}let wt;if(Fe.key!=null)wt=fe.get(Fe.key);else for(ue=ie;ue<=J;ue++)if(ks[ue-ie]===0&&pt(Fe,p[ue])){wt=ue;break}wt===void 0?tn(Fe,O,$,!0):(ks[wt-ie]=M+1,wt>=vu?vu=wt:Jn=!0,C(Fe,p[wt],T,null,O,$,H,j,k),ye++)}const Au=Jn?dh(ks):Rn;for(ue=Au.length-1,M=at-1;M>=0;M--){const Fe=ie+M,wt=p[Fe],Cu=Fe+1<Y?p[Fe+1].el:L;ks[M]===0?C(null,wt,T,Cu,O,$,H,j,k):Jn&&(ue<0||M!==Au[ue]?qn(wt,T,Cu,2):ue--)}}},qn=(h,p,T,L,O=null)=>{const{el:$,type:H,transition:j,children:k,shapeFlag:M}=h;if(M&6){qn(h.component.subTree,p,T,L);return}if(M&128){h.suspense.move(p,T,L);return}if(M&64){H.move(h,p,T,Yn);return}if(H===we){s($,p,T);for(let q=0;q<k.length;q++)qn(k[q],p,T,L);s(h.anchor,p,T);return}if(H===Yt){x(h,p,T);return}if(L!==2&&M&1&&j)if(L===0)j.beforeEnter($),s($,p,T),me(()=>j.enter($),O);else{const{leave:q,delayLeave:J,afterLeave:te}=j,ie=()=>s($,p,T),fe=()=>{q($,()=>{ie(),te&&te()})};J?J($,ie,fe):fe()}else s($,p,T)},tn=(h,p,T,L=!1,O=!1)=>{const{type:$,props:H,ref:j,children:k,dynamicChildren:M,shapeFlag:Y,patchFlag:q,dirs:J}=h;if(j!=null&&gi(j,null,T,h,!0),Y&256){p.ctx.deactivate(h);return}const te=Y&1&&J,ie=!mn(h);let fe;if(ie&&(fe=H&&H.onVnodeBeforeUnmount)&&Ue(fe,p,h),Y&6)Fm(h.component,T,L);else{if(Y&128){h.suspense.unmount(T,L);return}te&&mt(h,null,p,"beforeUnmount"),Y&64?h.type.remove(h,p,T,O,Yn,L):M&&($!==we||q>0&&q&64)?Ft(M,p,T,!1,!0):($===we&&q&384||!O&&Y&16)&&Ft(k,p,T),L&&Io(h)}(ie&&(fe=H&&H.onVnodeUnmounted)||te)&&me(()=>{fe&&Ue(fe,p,h),te&&mt(h,null,p,"unmounted")},T)},Io=h=>{const{type:p,el:T,anchor:L,transition:O}=h;if(p===we){h.patchFlag>0&&h.patchFlag&2048&&O&&!O.persisted?h.children.forEach(H=>{H.type===ge?i(H.el):Io(H)}):Rm(T,L);return}if(p===Yt){R(h);return}const $=()=>{i(T),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(h.shapeFlag&1&&O&&!O.persisted){const{leave:H,delayLeave:j}=O,k=()=>H(T,$);j?j(h.el,$,k):k()}else $()},Rm=(h,p)=>{let T;for(;h!==p;)T=d(h),i(h),h=T;i(p)},Fm=(h,p,T)=>{h.type.__hmrId&&Nf(h);const{bum:L,scope:O,update:$,subTree:H,um:j}=h;L&&ut(L),re("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeDestroy"),O.stop(),$&&($.active=!1,tn(H,h,p,T)),j&&me(j,p),re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:destroyed"),p),me(()=>{h.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve()),$f(h)},Ft=(h,p,T,L=!1,O=!1,$=0)=>{for(let H=$;H<h.length;H++)tn(h[H],p,T,L,O)},Gi=h=>h.shapeFlag&6?Gi(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el),_u=(h,p,T)=>{h==null?p._vnode&&tn(p._vnode,null,null,!0):C(p._vnode||null,h,p,null,null,null,T),wa(),Zs(),p._vnode=h},Yn={p:C,um:tn,m:qn,r:Io,mt:W,mc:m,pc:X,pbc:b,n:Gi,o:e};let Lo,No;return t&&([Lo,No]=t(Yn)),{render:_u,hydrate:Lo,createApp:ch(_u,Lo)}}function wn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Cs(e,t,n=!1){const s=e.children,i=t.children;if(V(s)&&V(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Jt(i[r]),a.el=o.el),n||Cs(o,a)),a.type===qt&&(a.el=o.el),a.type===ge&&!a.el&&(a.el=o.el)}}function dh(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const hh=e=>e.__isTeleport,jn=e=>e&&(e.disabled||e.disabled===""),ql=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Yr=(e,t)=>{const n=e&&e.to;if(ce(n))if(t){const s=t(n);return s||S(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),s}else return S("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!jn(e)&&S(`Invalid Teleport target: ${n}`),n},gh={__isTeleport:!0,process(e,t,n,s,i,r,o,a,l,c){const{mc:f,pc:u,pbc:d,o:{insert:y,querySelector:A,createText:C,createComment:F}}=c,v=jn(t.props);let{shapeFlag:g,children:E,dynamicChildren:x}=t;if(Vt&&(l=!1,x=null),e==null){const R=t.el=F("teleport start"),D=t.anchor=F("teleport end");y(R,n,s),y(D,n,s);const P=t.target=Yr(t.props,A),w=t.targetAnchor=C("");P?(y(w,P),o=o||ql(P)):v||S("Invalid Teleport target on mount:",P,`(${typeof P})`);const m=(_,b)=>{g&16&&f(E,_,b,i,r,o,a,l)};v?m(n,D):P&&m(P,w)}else{t.el=e.el;const R=t.anchor=e.anchor,D=t.target=e.target,P=t.targetAnchor=e.targetAnchor,w=jn(e.props),m=w?n:D,_=w?R:P;if(o=o||ql(D),x?(d(e.dynamicChildren,x,m,i,r,o,a),Cs(e,t,!0)):l||u(e,t,m,_,i,r,o,a,!1),v)w||bi(t,n,R,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const b=t.target=Yr(t.props,A);b?bi(t,b,null,c,0):S("Invalid Teleport target on update:",D,`(${typeof D})`)}else w&&bi(t,D,P,c,1)}Yl(t)},remove(e,t,n,s,{um:i,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:f,target:u,props:d}=e;if(u&&r(f),(o||!jn(d))&&(r(c),a&16))for(let y=0;y<l.length;y++){const A=l[y];i(A,t,n,!0,!!A.dynamicChildren)}},move:bi,hydrate:mh};function bi(e,t,n,{o:{insert:s},m:i},r=2){r===0&&s(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,u=r===2;if(u&&s(o,t,n),(!u||jn(f))&&l&16)for(let d=0;d<c.length;d++)i(c[d],t,n,2);u&&s(a,t,n)}function mh(e,t,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const f=t.target=Yr(t.props,l);if(f){const u=f._lpa||f.firstChild;if(t.shapeFlag&16)if(jn(t.props))t.anchor=c(o(e),t,a(e),n,s,i,r),t.targetAnchor=u;else{t.anchor=o(e);let d=u;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(u,t,f,n,s,i,r)}Yl(t)}return t.anchor&&o(t.anchor)}const ph=gh;function Yl(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Jr=new Map;function bh(e){if(Jr.has(e))return Jr.get(e);let t,n;const s=new Promise((o,a)=>{t=o,n=a}),i=e(t,n);let r;return Qn(i)?r=ai(()=>i):ee(i)&&!ke(i)&&!V(i)?r=ai({loader:()=>i.component,loadingComponent:i.loading,errorComponent:i.error,delay:i.delay,timeout:i.timeout}):i==null?r=ai(()=>s):r=e,Jr.set(e,r),r}function yh(e,t){return e.__isBuiltIn?e:(G(e)&&e.cid&&(e=e.options),G(e)&&ei("COMPONENT_ASYNC",t,e)?bh(e):ee(e)&&e.functional&&Ct("COMPONENT_FUNCTIONAL",t,e)?wd(e):e)}const we=Symbol("Fragment"),qt=Symbol("Text"),ge=Symbol("Comment"),Yt=Symbol("Static"),Es=[];let Me=null;function yi(e=!1){Es.push(Me=e?null:[])}function Jl(){Es.pop(),Me=Es[Es.length-1]||null}let _n=1;function Xr(e){_n+=e}function Xl(e){return e.dynamicChildren=_n>0?Me||Rn:null,Jl(),_n>0&&Me&&Me.push(e),e}function wh(e,t,n,s,i,r){return Xl(Zr(e,t,n,s,i,r,!0))}function zr(e,t,n,s,i){return Xl(le(e,t,n,s,i,!0))}function ke(e){return e?e.__v_isVNode===!0:!1}function pt(e,t){return t.shapeFlag&6&&kn.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}let Qr;function _h(e){Qr=e}const vh=(...e)=>Ah(...Qr?Qr(e,he):e),wi="__vInternal",zl=({key:e})=>e??null,_i=({ref:e,ref_key:t,ref_for:n})=>e!=null?ce(e)||de(e)||G(e)?{i:he,r:e,k:t,f:!!n}:e:null;function Zr(e,t=null,n=null,s=0,i=null,r=e===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&zl(t),ref:t&&_i(t),scopeId:Dn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:he};return a?(Ai(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=ce(n)?8:16),l.key!==l.key&&S("VNode created with invalid key (NaN). VNode type:",l.type),_n>0&&!o&&Me&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Me.push(l),Wf(l),ml(l),l}const le=vh;function Ah(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===ll)&&(e||S(`Invalid vnode type when creating vnode: ${e}.`),e=ge),ke(e)){const a=De(e,t,!0);return n&&Ai(a,n),_n>0&&!r&&Me&&(a.shapeFlag&6?Me[Me.indexOf(e)]=a:Me.push(a)),a.patchFlag|=-2,a}if(sc(e)&&(e=e.__vccOpts),e=yh(e,he),t){t=Ql(t);let{class:a,style:l}=t;a&&!ce(a)&&(t.class=It(a)),ee(l)&&(ns(l)&&!V(l)&&(l=ne({},l)),t.style=On(l))}const o=ce(e)?1:Da(e)?128:hh(e)?64:ee(e)?4:G(e)?2:0;return o&4&&ns(e)&&(e=Z(e),S("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),Zr(e,t,n,s,i,o,r,!0)}function Ql(e){return e?ns(e)||wi in e?ne({},e):e:null}function De(e,t,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=e,a=t?Ci(s||{},t):s,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&zl(a),ref:t&&t.ref?n&&i?V(i)?i.concat(_i(t)):[i,_i(t)]:_i(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r===-1&&V(o)?o.map(Zl):o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&De(e.ssContent),ssFallback:e.ssFallback&&De(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx};return ml(l),l}function Zl(e){const t=De(e);return V(e.children)&&(t.children=e.children.map(Zl)),t}function vi(e=" ",t=0){return le(qt,null,e,t)}function Ch(e,t){const n=le(Yt,null,e);return n.staticCount=t,n}function ec(e="",t=!1){return t?(yi(),zr(ge,null,e)):le(ge,null,e)}function $e(e){return e==null||typeof e=="boolean"?le(ge):V(e)?le(we,null,e.slice()):typeof e=="object"?Jt(e):le(qt,null,String(e))}function Jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:De(e)}function Ai(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(V(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Ai(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(wi in t)?t._ctx=he:i===3&&he&&(he.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:he},n=32):(t=String(t),s&64?(n=16,t=[vi(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ci(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=It([t.class,s.class]));else if(i==="style")t.style=On([t.style,s.style]);else if(lt(i)){const r=t[i],o=s[i];o&&r!==o&&!(V(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function Ue(e,t,n,s=null){Le(e,t,7,[n,s])}const Eh=Hl();let xh=0;function eo(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||Eh,r={uid:xh++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Il(s,i),emitsOptions:Na(s,i),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:s.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx=Id(r),r.root=t?t.root:r,r.emit=qf.bind(null,r),e.ce&&e.ce(r),r}let pe=null;const Xe=()=>pe||he,Xt=e=>{pe=e,e.scope.on()},zt=()=>{pe&&pe.scope.off(),pe=null},Sh=Ze("slot,component");function to(e,t){const n=t.isNativeTag||Uo;(Sh(e)||n(e))&&S("Do not use built-in or reserved HTML elements as component id: "+e)}function tc(e){return e.vnode.shapeFlag&4}let Bn=!1;function no(e,t=!1){Bn=t;const{props:n,children:s}=e.vnode,i=tc(e);Vd(e,n,i,t),Jd(e,s);const r=i?Th(e,t):void 0;return Bn=!1,r}function Th(e,t){var n;const s=e.type;{if(s.name&&to(s.name,e.appContext.config),s.components){const r=Object.keys(s.components);for(let o=0;o<r.length;o++)to(r[o],e.appContext.config)}if(s.directives){const r=Object.keys(s.directives);for(let o=0;o<r.length;o++)ol(r[o])}s.compilerOptions&&vn()&&S('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=qe(new Proxy(e.ctx,ws)),Ld(e);const{setup:i}=s;if(i){const r=e.setupContext=i.length>1?nc(e):null;Xt(e),on();const o=et(i,e,0,[Dt(e.props),r]);if(an(),zt(),Qn(o)){if(o.then(zt,zt),t)return o.then(a=>{so(e,a,t)}).catch(a=>{un(a,e,0)});if(e.asyncDep=o,!e.suspense){const a=(n=s.name)!==null&&n!==void 0?n:"Anonymous";S(`Component <${a}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else so(e,o,t)}else ro(e,t)}function so(e,t,n){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ee(t)?(ke(t)&&S("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=lr(t),Nd(e)):t!==void 0&&S(`setup() should return an object. Received: ${t===null?"null":typeof t}`),ro(e,n)}let xs,io;function Ph(e){xs=e,io=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Fd))}}const vn=()=>!xs;function ro(e,t,n){const s=e.type;if(pd(e),s.compatConfig&&Fa(s.compatConfig),!e.render){if(!t&&xs&&!s.render){const i=e.vnode.props&&e.vnode.props["inline-template"]||s.template||_s(e).template;if(i){xt(e,"compile");const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=ne(ne({isCustomElement:r,delimiters:a},o),l);c.compatConfig=Object.create(_r),s.compatConfig&&ne(c.compatConfig,s.compatConfig),s.render=xs(i,c),St(e,"compile")}}e.render=s.render||Ee,io&&io(e)}n||(Xt(e),on(),kd(e),an(),zt()),!s.render&&e.render===Ee&&!t&&(!xs&&s.template?S('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):S("Component is missing template or render function."))}function Oh(e){return new Proxy(e.attrs,{get(t,n){return ni(),Ie(e,"get","$attrs"),t[n]},set(){return S("setupContext.attrs is readonly."),!1},deleteProperty(){return S("setupContext.attrs is readonly."),!1}})}function nc(e){const t=s=>{e.exposed&&S("expose() should be called only once per setup()."),e.exposed=s||{}};let n;return Object.freeze({get attrs(){return n||(n=Oh(e))},get slots(){return Dt(e.slots)},get emit(){return(s,...i)=>e.emit(s,...i)},expose:t})}function Ei(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(lr(qe(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ht)return Ht[n](e)},has(t,n){return n in t||n in Ht}}))}const Rh=/(?:^|[-_])(\w)/g,Fh=e=>e.replace(Rh,t=>t.toUpperCase()).replace(/[-_]/g,"");function Qt(e,t=!0){return G(e)?e.displayName||e.name:e.name||t&&e.__name}function Ss(e,t,n=!1){let s=Qt(t);if(!s&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(s=i[1])}if(!s&&e&&e.parent){const i=r=>{for(const o in r)if(r[o]===t)return o};s=i(e.components||e.parent.type.components)||i(e.appContext.components)}return s?Fh(s):n?"App":"Anonymous"}function sc(e){return G(e)&&"__vccOpts"in e}const xi=(e,t)=>Cf(e,t,Bn),Si=e=>S(`${e}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`);function Ih(){return Si("defineProps"),null}function Lh(){return Si("defineEmits"),null}function Nh(e){Si("defineExpose")}function Mh(e,t){return Si("withDefaults"),null}function kh(){return ic().slots}function Dh(){return ic().attrs}function ic(){const e=Xe();return e||S("useContext() called without active instance."),e.setupContext||(e.setupContext=nc(e))}function $h(e,t){const n=V(e)?e.reduce((s,i)=>(s[i]={},s),{}):e;for(const s in t){const i=n[s];i?V(i)||G(i)?n[s]={type:i,default:t[s]}:i.default=t[s]:i===null?n[s]={default:t[s]}:S(`props default key "${s}" has no corresponding declaration.`)}return n}function Uh(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function Vh(e){const t=Xe();t||S("withAsyncContext called without active current instance. This is likely a bug.");let n=e();return zt(),Qn(n)&&(n=n.catch(s=>{throw Xt(t),s})),[n,()=>Xt(t)]}function rc(e,t,n){const s=arguments.length;return s===2?ee(t)&&!V(t)?ke(t)?le(e,null,[t]):le(e,t):le(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ke(n)&&(n=[n]),le(e,t,n))}const oc=Symbol("ssrContext"),ac=()=>{{const e=jt(oc);return e||S("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function lc(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},n={style:"color:#b62e24"},s={style:"color:#9d288c"},i={header(u){return ee(u)?u.__isVue?["div",e,"VueInstance"]:de(u)?["div",{},["span",e,f(u)],"<",a(u.value),">"]:He(u)?["div",{},["span",e,$t(u)?"ShallowReactive":"Reactive"],"<",a(u),`>${At(u)?" (readonly)":""}`]:At(u)?["div",{},["span",e,$t(u)?"ShallowReadonly":"Readonly"],"<",a(u),">"]:null:null},hasBody(u){return u&&u.__isVue},body(u){if(u&&u.__isVue)return["div",{},...r(u.$)]}};function r(u){const d=[];u.type.props&&u.props&&d.push(o("props",Z(u.props))),u.setupState!==oe&&d.push(o("setup",u.setupState)),u.data!==oe&&d.push(o("data",Z(u.data)));const y=l(u,"computed");y&&d.push(o("computed",y));const A=l(u,"inject");return A&&d.push(o("injected",A)),d.push(["div",{},["span",{style:s.style+";opacity:0.66"},"$ (internal): "],["object",{object:u}]]),d}function o(u,d){return d=ne({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},u],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(y=>["div",{},["span",s,y+": "],a(d[y],!1)])]]:["span",{}]}function a(u,d=!0){return typeof u=="number"?["span",t,u]:typeof u=="string"?["span",n,JSON.stringify(u)]:typeof u=="boolean"?["span",s,u]:ee(u)?["object",{object:d?Z(u):u}]:["span",n,String(u)]}function l(u,d){const y=u.type;if(G(y))return;const A={};for(const C in u.ctx)c(y,C,d)&&(A[C]=u.ctx[C]);return A}function c(u,d,y){const A=u[y];if(V(A)&&A.includes(d)||ee(A)&&d in A||u.extends&&c(u.extends,d,y)||u.mixins&&u.mixins.some(C=>c(C,d,y)))return!0}function f(u){return $t(u)?"ShallowRef":u.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}function jh(e,t,n,s){const i=n[s];if(i&&cc(i,e))return i;const r=t();return r.memo=e.slice(),n[s]=r}function cc(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(In(n[s],t[s]))return!1;return _n>0&&Me&&Me.push(e),!0}const Ti="3.2.45",Bh={createComponentInstance:eo,setupComponent:no,renderComponentRoot:si,setCurrentRenderingInstance:ds,isVNode:ke,normalizeVNode:$e},Hh=fl,Ke={warnDeprecation:Ye,createCompatVue:Zd,isCompatEnabled:re,checkCompatEnabled:ei,softAssertCompatEnabled:Ct},Kh="http://www.w3.org/2000/svg",An=typeof document<"u"?document:null,uc=An&&An.createElement("template"),Wh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t?An.createElementNS(Kh,e):An.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>An.createTextNode(e),createComment:e=>An.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>An.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{uc.innerHTML=s?`<svg>${e}</svg>`:e;const a=uc.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Gh(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function qh(e,t,n){const s=e.style,i=ce(n);if(n&&!i){for(const r in n)oo(s,r,n[r]);if(t&&!ce(t))for(const r in t)n[r]==null&&oo(s,r,"")}else{const r=s.display;i?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=r)}}const Yh=/[^\\];\s*$/,fc=/\s*!important$/;function oo(e,t,n){if(V(n))n.forEach(s=>oo(e,t,s));else if(n==null&&(n=""),Yh.test(n)&&S(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const s=Jh(e,t);fc.test(n)?e.setProperty(Ae(s),n.replace(fc,""),"important"):e[s]=n}}const dc=["Webkit","Moz","ms"],ao={};function Jh(e,t){const n=ao[t];if(n)return n;let s=Te(t);if(s!=="filter"&&s in e)return ao[t]=s;s=Lt(s);for(let i=0;i<dc.length;i++){const r=dc[i]+s;if(r in e)return ao[t]=r}return t}const hc="http://www.w3.org/1999/xlink";function Xh(e,t,n,s,i){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(hc,t.slice(6,t.length)):e.setAttributeNS(hc,t,n);else{if(Qh(e,t,n,i))return;const r=Mo(t);n==null||r&&!ko(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}const zh=Ze("contenteditable,draggable,spellcheck");function Qh(e,t,n,s=null){if(zh(t)){const i=n===null?"false":typeof n!="boolean"&&n!==void 0?"true":null;if(i&&Ke.softAssertCompatEnabled("ATTR_ENUMERATED_COERCION",s,t,n,i))return e.setAttribute(t,i),!0}else if(n===!1&&!Mo(t)&&Ke.softAssertCompatEnabled("ATTR_FALSE_VALUE",s,t))return e.removeAttribute(t),!0;return!1}function Zh(e,t,n,s,i,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,i,r),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=ko(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}else if(n===!1&&Ke.isCompatEnabled("ATTR_FALSE_VALUE",i)){const l=typeof e[t];(l==="string"||l==="number")&&(Ke.warnDeprecation("ATTR_FALSE_VALUE",i,t),n=l==="number"?0:"",a=!0)}try{e[t]=n}catch(l){a||S(`Failed setting prop "${t}" on <${e.tagName.toLowerCase()}>: value ${n} is invalid.`,l)}a&&e.removeAttribute(t)}function Tt(e,t,n,s){e.addEventListener(t,n,s)}function eg(e,t,n,s){e.removeEventListener(t,n,s)}function tg(e,t,n,s,i=null){const r=e._vei||(e._vei={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=ng(t);if(s){const c=r[t]=rg(s,i);Tt(e,a,c,l)}else o&&(eg(e,a,o,l),r[t]=void 0)}}const gc=/(?:Once|Passive|Capture)$/;function ng(e){let t;if(gc.test(e)){t={};let s;for(;s=e.match(gc);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ae(e.slice(2)),t]}let lo=0;const sg=Promise.resolve(),ig=()=>lo||(sg.then(()=>lo=0),lo=Date.now());function rg(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Le(og(s,n.value),t,5,[s])};return n.value=e,n.attached=ig(),n}function og(e,t){if(V(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const mc=/^on[a-z]/,ag=(e,t,n,s,i=!1,r,o,a,l)=>{t==="class"?Gh(e,s,i):t==="style"?qh(e,n,s):lt(t)?Ds(t)||tg(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lg(e,t,s,i))?Zh(e,t,s,r,o,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Xh(e,t,s,i,o))};function lg(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&mc.test(t)&&G(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||mc.test(t)&&ce(n)?!1:t in e}function pc(e,t){const n=oi(e);class s extends Pi{constructor(r){super(n,r,t)}}return s.def=n,s}const cg=e=>pc(e,Vc),ug=typeof HTMLElement<"u"?HTMLElement:class{};class Pi extends ug{constructor(t,n={},s){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.shadowRoot&&S("Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use `defineSSRCustomElement`."),this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,fn(()=>{this._connected||(bo(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const i of s)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(s,i=!1)=>{const{props:r,styles:o}=s;let a;if(r&&!V(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=ft(this._props[l])),(a||(a=Object.create(null)))[Te(l)]=!0)}this._numberProps=a,i&&this._resolveProps(s),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=V(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of s.map(Te))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(r){this._setProp(i,r)}})}_setAttr(t){let n=this.getAttribute(t);const s=Te(t);this._numberProps&&this._numberProps[s]&&(n=ft(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Ae(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ae(t),n+""):n||this.removeAttribute(Ae(t))))}_update(){bo(this._createVNode(),this.shadowRoot)}_createVNode(){const t=le(this._def,ne({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.ceReload=r=>{this._styles&&(this._styles.forEach(o=>this.shadowRoot.removeChild(o)),this._styles.length=0),this._applyStyles(r),this._instance=null,this._update()};const s=(r,o)=>{this.dispatchEvent(new CustomEvent(r,{detail:o}))};n.emit=(r,...o)=>{s(r,o),Ae(r)!==r&&s(Ae(r),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Pi){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s),(this._styles||(this._styles=[])).push(s)})}}function fg(e="$style"){{const t=Xe();if(!t)return S("useCssModule must be called inside setup()"),oe;const n=t.type.__cssModules;if(!n)return S("Current instance does not have CSS modules injected."),oe;const s=n[e];return s||(S(`Current instance does not have CSS module named "${e}".`),oe)}}function dg(e){const t=Xe();if(!t){S("useCssVars is called without current active component instance.");return}const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>uo(r,i))},s=()=>{const i=e(t.proxy);co(t.subTree,i),n(i)};Ba(s),ps(()=>{const i=new MutationObserver(s);i.observe(t.subTree.el.parentNode,{childList:!0}),ys(()=>i.disconnect())})}function co(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{co(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)uo(e.el,t);else if(e.type===we)e.children.forEach(n=>co(n,t));else if(e.type===Yt){let{el:n,anchor:s}=e;for(;n&&(uo(n,t),n!==s);)n=n.nextSibling}}function uo(e,t){if(e.nodeType===1){const n=e.style;for(const s in t)n.setProperty(`--${s}`,t[s])}}const Zt="transition",Ts="animation",Ps=(e,{slots:t})=>rc(Ir,wc(e),t);Ps.displayName="Transition",Ps.__isBuiltIn=!0;const bc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hg=Ps.props=ne({},Ir.props,bc),Cn=(e,t=[])=>{V(e)?e.forEach(n=>n(...t)):e&&e(...t)},yc=e=>e?V(e)?e.some(t=>t.length>1):e.length>1:!1;function wc(e){const t={};for(const I in e)I in bc||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,A=Ke.isCompatEnabled("TRANSITION_CLASSES",null);let C,F,v;if(A){const I=U=>U.replace(/-from$/,"");e.enterFromClass||(C=I(r)),e.appearFromClass||(F=I(l)),e.leaveFromClass||(v=I(u))}const g=gg(i),E=g&&g[0],x=g&&g[1],{onBeforeEnter:R,onEnter:D,onEnterCancelled:P,onLeave:w,onLeaveCancelled:m,onBeforeAppear:_=R,onAppear:b=D,onAppearCancelled:N=P}=t,K=(I,U,z)=>{bt(I,U?f:a),bt(I,U?c:o),z&&z()},B=(I,U)=>{I._isLeaving=!1,bt(I,u),bt(I,y),bt(I,d),U&&U()},W=I=>(U,z)=>{const X=I?b:D,ae=()=>K(U,I,z);Cn(X,[U,ae]),_c(()=>{bt(U,I?l:r),A&&bt(U,I?F:C),ze(U,I?f:a),yc(X)||vc(U,s,E,ae)})};return ne(t,{onBeforeEnter(I){Cn(R,[I]),ze(I,r),A&&ze(I,C),ze(I,o)},onBeforeAppear(I){Cn(_,[I]),ze(I,l),A&&ze(I,F),ze(I,c)},onEnter:W(!1),onAppear:W(!0),onLeave(I,U){I._isLeaving=!0;const z=()=>B(I,U);ze(I,u),A&&ze(I,v),xc(),ze(I,d),_c(()=>{I._isLeaving&&(bt(I,u),A&&bt(I,v),ze(I,y),yc(w)||vc(I,s,x,z))}),Cn(w,[I,z])},onEnterCancelled(I){K(I,!1),Cn(P,[I])},onAppearCancelled(I){K(I,!0),Cn(N,[I])},onLeaveCancelled(I){B(I),Cn(m,[I])}})}function gg(e){if(e==null)return null;if(ee(e))return[fo(e.enter),fo(e.leave)];{const t=fo(e);return[t,t]}}function fo(e){const t=ft(e);return mg(t),t}function mg(e){typeof e!="number"?S(`<transition> explicit duration is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&S("<transition> explicit duration is NaN - the duration expression might be incorrect.")}function ze(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function bt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function _c(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let pg=0;function vc(e,t,n,s){const i=e._endId=++pg,r=()=>{i===e._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=Ac(e,t);if(!o)return s();const c=o+"end";let f=0;const u=()=>{e.removeEventListener(c,d),r()},d=y=>{y.target===e&&++f>=l&&u()};setTimeout(()=>{f<l&&u()},a+1),e.addEventListener(c,d)}function Ac(e,t){const n=window.getComputedStyle(e),s=A=>(n[A]||"").split(", "),i=s(`${Zt}Delay`),r=s(`${Zt}Duration`),o=Cc(i,r),a=s(`${Ts}Delay`),l=s(`${Ts}Duration`),c=Cc(a,l);let f=null,u=0,d=0;t===Zt?o>0&&(f=Zt,u=o,d=r.length):t===Ts?c>0&&(f=Ts,u=c,d=l.length):(u=Math.max(o,c),f=u>0?o>c?Zt:Ts:null,d=f?f===Zt?r.length:l.length:0);const y=f===Zt&&/\b(transform|all)(,|$)/.test(s(`${Zt}Property`).toString());return{type:f,timeout:u,propCount:d,hasTransform:y}}function Cc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Ec(n)+Ec(e[s])))}function Ec(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function xc(){return document.body.offsetHeight}const Sc=new WeakMap,Tc=new WeakMap,Pc={name:"TransitionGroup",props:ne({},hg,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Xe(),s=Fr();let i,r;return ci(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!_g(i[0].el,n.vnode.el,o))return;i.forEach(bg),i.forEach(yg);const a=i.filter(wg);xc(),a.forEach(l=>{const c=l.el,f=c.style;ze(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const u=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",u),c._moveCb=null,bt(c,o))};c.addEventListener("transitionend",u)})}),()=>{const o=Z(e),a=wc(o);let l=o.tag||we;!o.tag&&Ke.checkCompatEnabled("TRANSITION_GROUP_ROOT",n.parent)&&(l="span"),i=r,r=t.default?ri(t.default()):[];for(let c=0;c<r.length;c++){const f=r[c];f.key!=null?gn(f,Un(f,a,s,n)):S("<TransitionGroup> children must be keyed.")}if(i)for(let c=0;c<i.length;c++){const f=i[c];gn(f,Un(f,a,s,n)),Sc.set(f,f.el.getBoundingClientRect())}return le(l,null,r)}}};Pc.__isBuiltIn=!0;const Oc=Pc;function bg(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function yg(e){Tc.set(e,e.el.getBoundingClientRect())}function wg(e){const t=Sc.get(e),n=Tc.get(e),s=t.left-n.left,i=t.top-n.top;if(s||i){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",e}}function _g(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:r}=Ac(s);return i.removeChild(s),r}const en=e=>{const t=e.props["onUpdate:modelValue"]||e.props["onModelCompat:input"];return V(t)?n=>ut(t,n):t};function vg(e){e.target.composing=!0}function Rc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Oi={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e._assign=en(i);const r=s||i.props&&i.props.type==="number";Tt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=ft(a)),e._assign(a)}),n&&Tt(e,"change",()=>{e.value=e.value.trim()}),t||(Tt(e,"compositionstart",vg),Tt(e,"compositionend",Rc),Tt(e,"change",Rc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:i}},r){if(e._assign=en(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(i||e.type==="number")&&ft(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},ho={deep:!0,created(e,t,n){e._assign=en(n),Tt(e,"change",()=>{const s=e._modelValue,i=Hn(e),r=e.checked,o=e._assign;if(V(s)){const a=Xn(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(sn(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(Nc(e,r))})},mounted:Fc,beforeUpdate(e,t,n){e._assign=en(n),Fc(e,t,n)}};function Fc(e,{value:t,oldValue:n},s){e._modelValue=t,V(t)?e.checked=Xn(t,s.props.value)>-1:sn(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=_t(t,Nc(e,!0)))}const go={created(e,{value:t},n){e.checked=_t(t,n.props.value),e._assign=en(n),Tt(e,"change",()=>{e._assign(Hn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=en(s),t!==n&&(e.checked=_t(t,s.props.value))}},Ic={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=sn(t);Tt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?ft(Hn(o)):Hn(o));e._assign(e.multiple?i?new Set(r):r:r[0])}),e._assign=en(s)},mounted(e,{value:t}){Lc(e,t)},beforeUpdate(e,t,n){e._assign=en(n)},updated(e,{value:t}){Lc(e,t)}};function Lc(e,t){const n=e.multiple;if(n&&!V(t)&&!sn(t)){S(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let s=0,i=e.options.length;s<i;s++){const r=e.options[s],o=Hn(r);if(n)V(t)?r.selected=Xn(t,o)>-1:r.selected=t.has(o);else if(_t(Hn(r),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function Hn(e){return"_value"in e?e._value:e.value}function Nc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const mo={created(e,t,n){Ri(e,t,n,null,"created")},mounted(e,t,n){Ri(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){Ri(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){Ri(e,t,n,s,"updated")}};function Mc(e,t){switch(e){case"SELECT":return Ic;case"TEXTAREA":return Oi;default:switch(t){case"checkbox":return ho;case"radio":return go;default:return Oi}}}function Ri(e,t,n,s,i){const o=Mc(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,s)}function Ag(){Oi.getSSRProps=({value:e})=>({value:e}),go.getSSRProps=({value:e},t)=>{if(t.props&&_t(t.props.value,e))return{checked:!0}},ho.getSSRProps=({value:e},t)=>{if(V(e)){if(t.props&&Xn(e,t.props.value)>-1)return{checked:!0}}else if(sn(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},mo.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Mc(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const Cg=["ctrl","shift","alt","meta"],Eg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Cg.some(n=>e[`${n}Key`]&&!t.includes(n))},xg=(e,t)=>(n,...s)=>{for(let i=0;i<t.length;i++){const r=Eg[t[i]];if(r&&r(n,t))return}return e(n,...s)},Sg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tg=(e,t)=>{let n,s=null;return s=Xe(),Ke.isCompatEnabled("CONFIG_KEY_CODES",s)&&s&&(n=s.appContext.config.keyCodes),t.some(i=>/^\d+$/.test(i))&&Ke.warnDeprecation("V_ON_KEYCODE_MODIFIER",s),i=>{if(!("key"in i))return;const r=Ae(i.key);if(t.some(o=>o===r||Sg[o]===r))return e(i);{const o=String(i.keyCode);if(Ke.isCompatEnabled("V_ON_KEYCODE_MODIFIER",s)&&t.some(a=>a==o))return e(i);if(n)for(const a of t){const l=n[a];if(l&&(V(l)?l.some(f=>String(f)===o):String(l)===o))return e(i)}}}},po={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Os(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Os(e,!0),s.enter(e)):s.leave(e,()=>{Os(e,!1)}):Os(e,t))},beforeUnmount(e,{value:t}){Os(e,t)}};function Os(e,t){e.style.display=t?e._vod:"none"}function Pg(){po.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const kc=ne({patchProp:ag},Wh);let Rs,Dc=!1;function $c(){return Rs||(Rs=Kl(kc))}function Uc(){return Rs=Dc?Rs:Wl(kc),Dc=!0,Rs}const bo=(...e)=>{$c().render(...e)},Vc=(...e)=>{Uc().hydrate(...e)},Fi=(...e)=>{const t=$c().createApp(...e);jc(t),Bc(t);const{mount:n}=t;return t.mount=s=>{const i=Hc(s);if(!i)return;const r=t._component;if(!G(r)&&!r.render&&!r.template){r.template=i.innerHTML;for(let a=0;a<i.attributes.length;a++){const l=i.attributes[a];if(l.name!=="v-cloak"&&/^(v-|:|@)/.test(l.name)){Ke.warnDeprecation("GLOBAL_MOUNT_CONTAINER",null);break}}}i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},Og=(...e)=>{const t=Uc().createApp(...e);jc(t),Bc(t);const{mount:n}=t;return t.mount=s=>{const i=Hc(s);if(i)return n(i,!0,i instanceof SVGElement)},t};function jc(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>Iu(t)||Lu(t),writable:!1})}function Bc(e){if(vn()){const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){S("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,s='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(e.config,"compilerOptions",{get(){return S(s),n},set(){S(s)}})}}function Hc(e){if(ce(e)){const t=document.querySelector(e);return t||S(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&S('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}let Kc=!1;var Rg=Object.freeze({__proto__:null,render:bo,hydrate:Vc,createApp:Fi,createSSRApp:Og,initDirectivesForSSR:()=>{Kc||(Kc=!0,Ag(),Pg())},defineCustomElement:pc,defineSSRCustomElement:cg,VueElement:Pi,useCssModule:fg,useCssVars:dg,Transition:Ps,TransitionGroup:Oc,vModelText:Oi,vModelCheckbox:ho,vModelRadio:go,vModelSelect:Ic,vModelDynamic:mo,withModifiers:xg,withKeys:Tg,vShow:po,reactive:vt,ref:ln,readonly:ir,unref:ar,proxyRefs:lr,isRef:de,toRef:is,toRefs:cr,isProxy:ns,isReactive:He,isReadonly:At,isShallow:$t,customRef:_f,triggerRef:bf,shallowRef:mf,shallowReactive:ha,shallowReadonly:Dt,markRaw:qe,toRaw:Z,effect:Bu,stop:Hu,ReactiveEffect:ts,effectScope:zi,EffectScope:Xi,getCurrentScope:Wo,onScopeDispose:Go,computed:xi,watch:hn,watchEffect:od,watchPostEffect:Ba,watchSyncEffect:ad,onBeforeMount:Qa,onMounted:ps,onBeforeUpdate:Za,onUpdated:ci,onBeforeUnmount:bs,onUnmounted:ys,onActivated:Ja,onDeactivated:Xa,onRenderTracked:nl,onRenderTriggered:tl,onErrorCaptured:sl,onServerPrefetch:el,provide:ja,inject:jt,nextTick:fn,defineComponent:oi,defineAsyncComponent:ai,useAttrs:Dh,useSlots:kh,defineProps:Ih,defineEmits:Lh,defineExpose:Nh,withDefaults:Mh,mergeDefaults:$h,createPropsRestProxy:Uh,withAsyncContext:Vh,getCurrentInstance:Xe,h:rc,createVNode:le,cloneVNode:De,mergeProps:Ci,isVNode:ke,Fragment:we,Text:qt,Comment:ge,Static:Yt,Teleport:ph,Suspense:td,KeepAlive:Ya,BaseTransition:Ir,withDirectives:al,useSSRContext:ac,ssrContextKey:oc,createRenderer:Kl,createHydrationRenderer:Wl,queuePostFlushCb:Qs,warn:S,handleError:un,callWithErrorHandling:et,callWithAsyncErrorHandling:Le,resolveComponent:md,resolveDirective:ul,resolveDynamicComponent:cl,registerRuntimeCompiler:Ph,isRuntimeOnly:vn,useTransitionState:Fr,resolveTransitionHooks:Un,setTransitionHooks:gn,getTransitionRawChildren:ri,initCustomFormatter:lc,get devtools(){return tt},setDevtoolsHook:pr,withCtx:Sr,pushScopeId:Yf,popScopeId:Jf,withScopeId:Xf,renderList:bl,toHandlers:vl,renderSlot:wl,createSlots:yl,withMemo:jh,isMemoSame:cc,openBlock:yi,createBlock:zr,setBlockTracking:Xr,createTextVNode:vi,createCommentVNode:ec,createStaticVNode:Ch,createElementVNode:Zr,createElementBlock:wh,guardReactiveProps:Ql,toDisplayString:Do,camelize:Te,capitalize:Lt,toHandlerKey:ct,normalizeProps:Ou,normalizeClass:It,normalizeStyle:On,transformVNodeArgs:_h,version:Ti,ssrUtils:Bh,resolveFilter:Hh,compatUtils:Ke});function Fg(){lc()}Fg();function Ig(...e){const t=Fi(...e);return Ke.isCompatEnabled("RENDER_FUNCTION",null)&&(t.component("__compat__transition",Ps),t.component("__compat__transition-group",Oc),t.component("__compat__keep-alive",Ya),t._context.directives.show=po,t._context.directives.model=mo),t}function Lg(){const e=Ke.createCompatVue(Fi,Ig);return ne(e,Rg),e}const Ng=Lg();Ng.compile=()=>{S('Runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "@vue/compat/dist/vue.esm-bundler.js".')};var Mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nt={},kg={get exports(){return nt},set exports(e){nt=e}};(function(e,t){(function(n,s){s(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Mg,function(n){var s,i;if(!((i=(s=globalThis.chrome)==null?void 0:s.runtime)!=null&&i.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const r="The message port closed before a response was received.",o=a=>{const l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class c extends WeakMap{constructor(m,_=void 0){super(_),this.createItem=m}get(m){return this.has(m)||this.set(m,this.createItem(m)),super.get(m)}}const f=w=>w&&typeof w=="object"&&typeof w.then=="function",u=(w,m)=>(..._)=>{a.runtime.lastError?w.reject(new Error(a.runtime.lastError.message)):m.singleCallbackArg||_.length<=1&&m.singleCallbackArg!==!1?w.resolve(_[0]):w.resolve(_)},d=w=>w==1?"argument":"arguments",y=(w,m)=>function(b,...N){if(N.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${d(m.minArgs)} for ${w}(), got ${N.length}`);if(N.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${d(m.maxArgs)} for ${w}(), got ${N.length}`);return new Promise((K,B)=>{if(m.fallbackToNoCallback)try{b[w](...N,u({resolve:K,reject:B},m))}catch(W){console.warn(`${w} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,W),b[w](...N),m.fallbackToNoCallback=!1,m.noCallback=!0,K()}else m.noCallback?(b[w](...N),K()):b[w](...N,u({resolve:K,reject:B},m))})},A=(w,m,_)=>new Proxy(m,{apply(b,N,K){return _.call(N,w,...K)}});let C=Function.call.bind(Object.prototype.hasOwnProperty);const F=(w,m={},_={})=>{let b=Object.create(null),N={has(B,W){return W in w||W in b},get(B,W,I){if(W in b)return b[W];if(!(W in w))return;let U=w[W];if(typeof U=="function")if(typeof m[W]=="function")U=A(w,w[W],m[W]);else if(C(_,W)){let z=y(W,_[W]);U=A(w,w[W],z)}else U=U.bind(w);else if(typeof U=="object"&&U!==null&&(C(m,W)||C(_,W)))U=F(U,m[W],_[W]);else if(C(_,"*"))U=F(U,m[W],_["*"]);else return Object.defineProperty(b,W,{configurable:!0,enumerable:!0,get(){return w[W]},set(z){w[W]=z}}),U;return b[W]=U,U},set(B,W,I,U){return W in b?b[W]=I:w[W]=I,!0},defineProperty(B,W,I){return Reflect.defineProperty(b,W,I)},deleteProperty(B,W){return Reflect.deleteProperty(b,W)}},K=Object.create(w);return new Proxy(K,N)},v=w=>({addListener(m,_,...b){m.addListener(w.get(_),...b)},hasListener(m,_){return m.hasListener(w.get(_))},removeListener(m,_){m.removeListener(w.get(_))}}),g=new c(w=>typeof w!="function"?w:function(_){const b=F(_,{},{getContent:{minArgs:0,maxArgs:0}});w(b)}),E=new c(w=>typeof w!="function"?w:function(_,b,N){let K=!1,B,W=new Promise(X=>{B=function(ae){K=!0,X(ae)}}),I;try{I=w(_,b,B)}catch(X){I=Promise.reject(X)}const U=I!==!0&&f(I);if(I!==!0&&!U&&!K)return!1;const z=X=>{X.then(ae=>{N(ae)},ae=>{let Re;ae&&(ae instanceof Error||typeof ae.message=="string")?Re=ae.message:Re="An unexpected error occurred",N({__mozWebExtensionPolyfillReject__:!0,message:Re})}).catch(ae=>{console.error("Failed to send onMessage rejected reply",ae)})};return z(U?I:W),!0}),x=({reject:w,resolve:m},_)=>{a.runtime.lastError?a.runtime.lastError.message===r?m():w(new Error(a.runtime.lastError.message)):_&&_.__mozWebExtensionPolyfillReject__?w(new Error(_.message)):m(_)},R=(w,m,_,...b)=>{if(b.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${d(m.minArgs)} for ${w}(), got ${b.length}`);if(b.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${d(m.maxArgs)} for ${w}(), got ${b.length}`);return new Promise((N,K)=>{const B=x.bind(null,{resolve:N,reject:K});b.push(B),_.sendMessage(...b)})},D={devtools:{network:{onRequestFinished:v(g)}},runtime:{onMessage:v(E),onMessageExternal:v(E),sendMessage:R.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:R.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},P={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":P},services:{"*":P},websites:{"*":P}},F(a,D,l)};n.exports=o(chrome)}else n.exports=globalThis.browser})})(kg);class Wc{}class We{}class Gc{}class Dg{}const Ii=new Gc;Ii.pageRegex=new We,Ii.pageRegex["^.*$"]={config:{preventSaveNotification:!1,listMatchingCaseSensitive:!1,blackList:{form:{names:["search"],ids:["search"]},fields:{names:["search","q","query"],ids:["search","q"]}},whiteList:{form:{names:["login"],ids:["login"]},fields:{names:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user name","user id","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login id","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"],ids:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"]}},preferredEntryUuid:null},matchWeight:0,source:"Default"};class qc{migrateToVersion8(t){Object.assign(t,{overWriteFieldsAutomatically:!1,version:8})}migrateToVersion7(t){t.notificationCountSavePassword>6?Object.assign(t,{notificationCountSavePassword:6,version:7}):Object.assign(t,{version:7})}migrateToVersion6(t){Object.assign(t,{animateWhenOfferingSave:!0,version:6})}migrateToVersion5(t){Object.assign(t,{notifyPasswordAvailableForPaste:!0,version:5})}migrateToVersion4(t){let n=2;t.logLevel===1&&(n=1),Object.assign(t,{logLevel:n,version:4})}migrateToVersion3(t){t.notificationCountGeneric==null&&(t.notificationCountGeneric=0),t.notificationCountSavePassword==null&&(t.notificationCountSavePassword=0),Object.assign(t,{currentSearchTermTimeout:30,version:3})}migrateToVersion2(t){let n=new Gc;if(!t.config||t.config.length==0){n=Ii;return}n.pageRegex=new We,n.hostExact=new We,n.pagePrefix=new We,n.pageRegex["^.*$"]={matchWeight:0,config:this.migrateIndividualSiteConfigSettingsToV2(t.config[0].config),source:"Migration"};for(let s=1;s<t.config.length;s++){const i=t.config[s].url;if(i.indexOf("://")==-1)continue;const r=i.substr(i.indexOf("://")+3);if(r.length<=1)continue;const o=this.migrateIndividualSiteConfigSettingsToV2(t.config[s].config),a=r.indexOf("/");if(a>-1||a==r.lastIndexOf("/")){const l=a>-1?r.substr(0,a):r;n.hostExact[l]={config:o,matchWeight:100,source:"Migration"}}else{let l=200;for(const c in n.pagePrefix)r.startsWith(c)&&l++;n.pagePrefix[r]={config:o,matchWeight:l,source:"Migration"}}}Object.assign(t,{siteConfig:n,config:null,version:2})}migrateIndividualSiteConfigSettingsToV2(t){const n=new Wc;return t.preventSaveNotification==null&&(n.preventSaveNotification=t.preventSaveNotification),t.interestingForms&&(t.interestingForms.name_w&&(n.whiteList?n.whiteList.form?n.whiteList.form.names||(n.whiteList.form.names=[]):n.whiteList.form={names:[]}:n.whiteList={form:{names:[]}},n.whiteList.form.names=t.interestingForms.name_w),t.interestingForms.id_w&&(n.whiteList?n.whiteList.form?n.whiteList.form.ids||(n.whiteList.form.ids=[]):n.whiteList.form={ids:[]}:n.whiteList={form:{ids:[]}},n.whiteList.form.ids=t.interestingForms.id_w),t.interestingForms.name_b&&(n.blackList?n.blackList.form?n.blackList.form.names||(n.blackList.form.names=[]):n.blackList.form={names:[]}:n.blackList={form:{names:[]}},n.blackList.form.names=t.interestingForms.name_b),t.interestingForms.id_b&&(n.blackList?n.blackList.form?n.blackList.form.ids||(n.blackList.form.ids=[]):n.blackList.form={ids:[]}:n.blackList={form:{ids:[]}},n.blackList.form.ids=t.interestingForms.id_b),t.interestingForms.f_name_w&&(n.whiteList?n.whiteList.fields?n.whiteList.fields.names||(n.whiteList.fields.names=[]):n.whiteList.fields={names:[]}:n.whiteList={fields:{names:[]}},n.whiteList.fields.names=t.interestingForms.f_name_w),t.interestingForms.f_id_w&&(n.whiteList?n.whiteList.fields?n.whiteList.fields.ids||(n.whiteList.fields.ids=[]):n.whiteList.fields={ids:[]}:n.whiteList={fields:{ids:[]}},n.whiteList.fields.ids=t.interestingForms.f_id_w),t.interestingForms.f_name_b&&(n.blackList?n.blackList.fields?n.blackList.fields.names||(n.blackList.fields.names=[]):n.blackList.fields={names:[]}:n.blackList={fields:{names:[]}},n.blackList.fields.names=t.interestingForms.f_name_b),t.interestingForms.f_id_b&&(n.blackList?n.blackList.fields?n.blackList.fields.ids||(n.blackList.fields.ids=[]):n.blackList.fields={ids:[]}:n.blackList={fields:{ids:[]}},n.blackList.fields.ids=t.interestingForms.f_id_b)),n}}class $g{constructor(){this.pslInitialised=!1}versionAsInt(t){let n=0;for(let s=0;s<t.length;s++)n=n*256+t[s];return n}versionAsArray(t){const n=[0,0,0];for(let s=n.length-1;s>=0;s--){const i=t&255;n[s]=i,t=(t-i)/256}return n}versionAsString(t){let n="";const s=this.versionAsArray(t);for(let i=0;i<s.length;i++)i>0&&(n+="."),n+=s[i].toString();return n}toHexString(t){return("0"+t.toString(16)).slice(-2)}BigIntFromRandom(t){const n=new Uint8Array(t);window.crypto.getRandomValues(n);const s=Array.from(n).map(this.toHexString).join("");return BigInt(`0x${s}`)}hash(t,n="hex",s="SHA-256"){let i;return typeof t=="string"?i=new TextEncoder().encode(t):i=t,crypto.subtle.digest({name:s},i).then(r=>n=="base64"?st.byteArrayToBase64(r):Array.from(new Uint8Array(r)).map(this.toHexString).join(""))}intToByteArray(t){const n=[0,0,0,0];for(let s=n.length-1;s>=0;s--){const i=t&255;n[s]=i,t=(t-i)/256}return n}intArrayToByteArray(t){const n=new Array(t.length*4);for(let s=0;s<t.length;s++){let i=t[s];for(let r=3;r>=0;r--){const o=i&255;n[s*4+r]=o,i=(i-o)/256}}return n}stringToByteArray(t){return new TextEncoder().encode(t)}base64toByteArrayForHMAC(t,n,s=null){const i=atob(t),r=i.length;let o=0;if(!s){const a=new ArrayBuffer(r+n);s=new Uint8Array(a),o=20}for(let a=0;a<r;a++)s[a+o]=i.charCodeAt(a);return s}base64toByteArray(t){const n=atob(t),s=n.length,i=new ArrayBuffer(s),r=new Uint8Array(i);for(let o=0;o<s;o++)r[o]=n.charCodeAt(o);return r}byteArrayToBase64(t){let n="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(t),r=i.byteLength,o=r%3,a=r-o;let l,c,f,u,d;for(let y=0;y<a;y=y+3)d=i[y]<<16|i[y+1]<<8|i[y+2],l=(d&16515072)>>18,c=(d&258048)>>12,f=(d&4032)>>6,u=d&63,n+=s[l]+s[c]+s[f]+s[u];return o==1?(d=i[a],l=(d&252)>>2,c=(d&3)<<4,n+=s[l]+s[c]+"=="):o==2&&(d=i[a]<<8|i[a+1],l=(d&64512)>>10,c=(d&1008)>>4,f=(d&15)<<2,n+=s[l]+s[c]+s[f]+"="),n}hexStringToByteArray(t,n=null){if(t.length%2!==0)throw Error("Must have an even number of hex digits to convert to bytes");const s=t.length/2;n||(n=new Uint8Array(s));for(let i=0;i<s;i++)n[i]=parseInt(t.substr(i*2,2),16);return n}newGUID(){const t=[];for(let a=0;a<256;a++)t[a]=(a<16?"0":"")+a.toString(16);const n=new Uint32Array(4);window.crypto.getRandomValues(n);const s=n[0],i=n[1],r=n[2],o=n[3];return t[s&255]+t[s>>8&255]+t[s>>16&255]+t[s>>24&255]+"-"+t[i&255]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[r&63|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[o&255]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]}base64urlDecode(t){return atob(t.replace(/-/g,"+").replace(/_/g,"/"))}binaryToByteArray(t){const n=t.length,s=new ArrayBuffer(n),i=new Uint8Array(s);for(let r=0;r<n;r++)i[r]=t.charCodeAt(r);return i}base64urltoByteArray(t){const n=this.base64urlDecode(t);return this.binaryToByteArray(n)}get psl(){if(!publicSuffixList)throw new Error("publicSuffixList library not present");return this.pslInitialised||(publicSuffixList.parse(pslData.text,punycode.toASCII),this.pslInitialised=!0),publicSuffixList}}const st=new $g;class Ug{constructor(){this.defaultLevel=4,this.outputStarted=!1,this.config={logLevel:this.defaultLevel}}attachConfig(t){this.debug("Logging system config updated at "+Date()),this.config=t}formatMessage(t){return t?(this.outputStarted||(t="* "+t,this.outputStarted=!0),t):""}debug(t){this.config.logLevel>=4&&(t=this.formatMessage(t),t.length>0&&(console.debug(t),this.config.logLevel>=4&&this.send(4,t)))}info(t){this.config.logLevel>=3&&(t=this.formatMessage(t),t.length>0&&(console.info(t),this.config.logLevel>=4&&this.send(3,t)))}warn(t){this.config.logLevel>=2&&(t=this.formatMessage(t),t.length>0&&(console.warn(t),this.config.logLevel>=4&&this.send(2,t)))}error(t){this.config.logLevel>=1&&(t=this.formatMessage(t),t.length>0&&(console.error(t),this.config.logLevel>=4&&this.send(1,t)))}send(t,n){}stackTrace(){console.groupCollapsed("%c Stack Trace","color:cream; font-style: normal;"),console.debug(new Error().stack),console.groupEnd()}}const be=new Ug,yo=8,Q=new Dg;Q.autoFillDialogs=!1,Q.autoFillForms=!0,Q.autoFillFormsWithMultipleMatches=!1,Q.autoSubmitForms=!1,Q.autoSubmitDialogs=!1,Q.autoSubmitMatchedForms=!1,Q.connSLClient=2,Q.connSLServerMin=2,Q.keePassDBToOpen="",Q.keePassMRUDB="",Q.KeePassRPCWebSocketPort=12546,Q.KPRPCUsername="",Q.KPRPCStoredKeys={},Q.lastConnectedToKeePass="",Q.listAllOpenDBs=!0,Q.logLevel=be.defaultLevel,Q.logMethodConsole=!1,Q.logMethodFile=!1,Q.logSensitiveData=!1,Q.metricsUsageDisabled=!1,Q.metricsUserId="",Q.notifyWhenEntryUpdated=!0,Q.notifyWhenLateDiscovery=!1,Q.notifyWhenLoggedOut=!1,Q.overWriteFieldsAutomatically=!1,Q.rememberMRUDB=!0,Q.rememberMRUGroup=!0,Q.saveFavicons=!0,Q.searchAllOpenDBs=!0,Q.config=null,Q.siteConfig=Ii,Q.tutorialProgress="",Q.version=yo,Q.triggerChangeInputEventAfterFill=!1,Q.autoSubmitNetworkAuthWithSingleMatch=!1,Q.searchNetworkAuth=!0,Q.notificationCountGeneric=0,Q.notificationCountSavePassword=0,Q.currentSearchTermTimeout=30,Q.notifyPasswordAvailableForPaste=!0,Q.animateWhenOfferingSave=!0,Q.keeVaultLaunchMessageDismissed=!1,Q.keeVaultLaunchStart=864e13,Q.keeVaultLaunchEnd=864e13,Q.manualSubmitOverrideProhibited=!1,Q.theme=null,Q.hideConfirmationAfterSave=!1,Q.mustShowReleaseNotesAtStartup=!1,Q.autoFillFieldsWithExistingValue=!1;class Vg{constructor(){this.maxCharsPerPage=1e4,this._listeners=[],this.current=Q,nt.storage.onChanged.addListener((t,n)=>this.reloadOnStorageChange(t,n))}addChangeListener(t){this._listeners.push(t)}reloadOnStorageChange(t,n){Qe.reload(()=>this._listeners.forEach(s=>s(t,n)))}async setASAP(t){Object.assign(this.current,t),await this.save()}splitStringToPages(t){const n=Math.ceil(t.length/this.maxCharsPerPage),s=new Array(n);for(let i=0,r=0;i<n;++i,r+=this.maxCharsPerPage)s[i]=t.substr(r,this.maxCharsPerPage);return s}async save(){const t=JSON.stringify(this.current),n=this.splitStringToPages(t),s={};s.keeConfigPageCount=n.length;for(let i=0;i<n.length;i++)s["keeConfigPage"+i]=n[i];await nt.storage.local.set(s)}load(t){nt.storage.local.get().then(n=>{const s=n.keeConfigPageCount;if(s){let i="";for(let r=0;r<s;r++){const o=n["keeConfigPage"+r];o&&(i+=o)}i&&(this.current=JSON.parse(i))}else{const i=n.keefoxConfigPageCount;if(i){let r="";for(let o=0;o<i;o++){const a=n["keefoxConfigPage"+o];a&&(r+=a)}r&&(this.current=JSON.parse(r))}}this.fixInvalidConfigData(),this.migrateToLatestVersion(),t()})}fixInvalidConfigData(){let t=!1;this.current.KPRPCStoredKeys==null&&(this.current.KPRPCStoredKeys={},t=!0),t&&this.save()}migrateToLatestVersion(){if(this.current.version>=yo)return;const t=new qc;switch(this.current.version){case 1:t.migrateToVersion2(this.current);case 2:t.migrateToVersion3(this.current);case 3:t.migrateToVersion4(this.current);case 4:t.migrateToVersion5(this.current);case 5:t.migrateToVersion6(this.current);case 6:t.migrateToVersion7(this.current);case 7:t.migrateToVersion8(this.current)}this.save()}migrateFromRemoteToLatestVersion(){if(this.current.version>=yo)return;const t=new qc;switch(this.current.version){case 5:t.migrateToVersion6(this.current);case 6:t.migrateToVersion7(this.current)}this.save()}reload(t){nt.storage.local.get().then(n=>{const s=n.keeConfigPageCount;if(s){let i="";for(let r=0;r<s;r++){const o=n["keeConfigPage"+r];o&&(i+=o)}i&&(this.current=Object.assign(this.current,JSON.parse(i)))}t&&t()})}siteConfigLookupFor(t,n){if(t=="Domain"){if(n=="Exact")return this.current.siteConfig.domainExact||(this.current.siteConfig.domainExact=new We),this.current.siteConfig.domainExact;if(n=="Prefix")return this.current.siteConfig.domainPrefix||(this.current.siteConfig.domainPrefix=new We),this.current.siteConfig.domainPrefix;if(n=="Regex")return this.current.siteConfig.domainRegex||(this.current.siteConfig.domainRegex=new We),this.current.siteConfig.domainRegex}else if(t=="Host"){if(n=="Exact")return this.current.siteConfig.hostExact||(this.current.siteConfig.hostExact=new We),this.current.siteConfig.hostExact;if(n=="Prefix")return this.current.siteConfig.hostPrefix||(this.current.siteConfig.hostPrefix=new We),this.current.siteConfig.hostPrefix;if(n=="Regex")return this.current.siteConfig.hostRegex||(this.current.siteConfig.hostRegex=new We),this.current.siteConfig.hostRegex}else if(t=="Page"){if(n=="Exact")return this.current.siteConfig.pageExact||(this.current.siteConfig.pageExact=new We),this.current.siteConfig.pageExact;if(n=="Prefix")return this.current.siteConfig.pagePrefix||(this.current.siteConfig.pagePrefix=new We),this.current.siteConfig.pagePrefix;if(n=="Regex")return this.current.siteConfig.pageRegex||(this.current.siteConfig.pageRegex=new We),this.current.siteConfig.pageRegex}return null}siteConfigFor(t){const n=this.findAllConfigsFor(t);return n.sort((s,i)=>i.matchWeight-s.matchWeight),this.deriveConfigFromMatches(n)}findAllConfigsFor(t){const n=[],s=new URL(t),i=s.host,r=i+s.pathname,o=st.psl.getDomain(i);for(const a in this.current.siteConfig.domainExact)a===o&&n.push(this.current.siteConfig.domainExact[a]);for(const a in this.current.siteConfig.hostExact)a===i&&n.push(this.current.siteConfig.hostExact[a]);for(const a in this.current.siteConfig.pageExact)a===r&&n.push(this.current.siteConfig.pageExact[a]);for(const a in this.current.siteConfig.domainPrefix)o.startsWith(a)&&n.push(this.current.siteConfig.domainPrefix[a]);for(const a in this.current.siteConfig.hostPrefix)i.startsWith(a)&&n.push(this.current.siteConfig.hostPrefix[a]);for(const a in this.current.siteConfig.pagePrefix)r.startsWith(a)&&n.push(this.current.siteConfig.pagePrefix[a]);for(const a in this.current.siteConfig.domainRegex)new RegExp(a).test(o)&&n.push(this.current.siteConfig.domainRegex[a]);for(const a in this.current.siteConfig.hostRegex)new RegExp(a).test(i)&&n.push(this.current.siteConfig.hostRegex[a]);for(const a in this.current.siteConfig.pageRegex)new RegExp(a).test(r)&&n.push(this.current.siteConfig.pageRegex[a]);return n}findAllConfigsAndIndexFor(t){const n=[],s=new URL(t),i=s.host,r=i+s.pathname,o=st.psl.getDomain(i);for(const a in this.current.siteConfig.domainExact)a===o&&n.push({node:this.current.siteConfig.domainExact[a],target:"Domain",method:"Exact",lookupValue:a});for(const a in this.current.siteConfig.hostExact)a===i&&n.push({node:this.current.siteConfig.hostExact[a],target:"Host",method:"Exact",lookupValue:a});for(const a in this.current.siteConfig.pageExact)a===r&&n.push({node:this.current.siteConfig.pageExact[a],target:"Page",method:"Exact",lookupValue:a});for(const a in this.current.siteConfig.domainPrefix)o.startsWith(a)&&n.push({node:this.current.siteConfig.domainPrefix[a],target:"Domain",method:"Prefix",lookupValue:a});for(const a in this.current.siteConfig.hostPrefix)i.startsWith(a)&&n.push({node:this.current.siteConfig.hostPrefix[a],target:"Host",method:"Prefix",lookupValue:a});for(const a in this.current.siteConfig.pagePrefix)r.startsWith(a)&&n.push({node:this.current.siteConfig.pagePrefix[a],target:"Page",method:"Prefix",lookupValue:a});for(const a in this.current.siteConfig.domainRegex)new RegExp(a).test(o)&&n.push({node:this.current.siteConfig.domainRegex[a],target:"Domain",method:"Regex",lookupValue:a});for(const a in this.current.siteConfig.hostRegex)new RegExp(a).test(i)&&n.push({node:this.current.siteConfig.hostRegex[a],target:"Host",method:"Regex",lookupValue:a});for(const a in this.current.siteConfig.pageRegex)new RegExp(a).test(r)&&n.push({node:this.current.siteConfig.pageRegex[a],target:"Page",method:"Regex",lookupValue:a});return n}deriveConfigFromMatches(t){const n={};return t.forEach(s=>{s.config.preventSaveNotification!==void 0&&n.preventSaveNotification==null&&(n.preventSaveNotification=s.config.preventSaveNotification),s.config.listMatchingCaseSensitive!==void 0&&n.listMatchingCaseSensitive==null&&(n.listMatchingCaseSensitive=s.config.listMatchingCaseSensitive),s.config.blackList!==void 0&&(n.blackList===void 0&&(n.blackList={}),s.config.blackList.form!==void 0&&(n.blackList.form===void 0&&(n.blackList.form={}),s.config.blackList.form.ids!==void 0&&n.blackList.form.ids===void 0&&(n.blackList.form.ids=s.config.blackList.form.ids),s.config.blackList.form.names!==void 0&&n.blackList.form.names===void 0&&(n.blackList.form.names=s.config.blackList.form.names)),s.config.blackList.fields!==void 0&&(n.blackList.fields===void 0&&(n.blackList.fields={}),s.config.blackList.fields.ids!==void 0&&n.blackList.fields.ids===void 0&&(n.blackList.fields.ids=s.config.blackList.fields.ids),s.config.blackList.fields.names!==void 0&&n.blackList.fields.names===void 0&&(n.blackList.fields.names=s.config.blackList.fields.names))),s.config.whiteList!==void 0&&(n.whiteList===void 0&&(n.whiteList={}),s.config.whiteList.form!==void 0&&(n.whiteList.form===void 0&&(n.whiteList.form={}),s.config.whiteList.form.ids!==void 0&&n.whiteList.form.ids===void 0&&(n.whiteList.form.ids=s.config.whiteList.form.ids),s.config.whiteList.form.names!==void 0&&n.whiteList.form.names===void 0&&(n.whiteList.form.names=s.config.whiteList.form.names)),s.config.whiteList.fields!==void 0&&(n.whiteList.fields===void 0&&(n.whiteList.fields={}),s.config.whiteList.fields.ids!==void 0&&n.whiteList.fields.ids===void 0&&(n.whiteList.fields.ids=s.config.whiteList.fields.ids),s.config.whiteList.fields.names!==void 0&&n.whiteList.fields.names===void 0&&(n.whiteList.fields.names=s.config.whiteList.fields.names))),s.config.preferredEntryUuid!==void 0&&n.preferredEntryUuid==null&&(n.preferredEntryUuid=s.config.preferredEntryUuid)}),n}normalizeFormProperty(t,n){return typeof t!="string"?null:n?t.toLowerCase():t}isFormInteresting(t,n,s){var E,x,R,D,P,w,m,_,b,N,K,B,W,I,U,z;const i=n.listMatchingCaseSensitive!==!0,r=s.map(X=>{var ae,Re;return i?(ae=X.locators[0])==null?void 0:ae.id.toLowerCase():(Re=X.locators[0])==null?void 0:Re.id}).filter(Boolean),o=s.map(X=>{var ae,Re;return i?(ae=X.locators[0])==null?void 0:ae.name.toLowerCase():(Re=X.locators[0])==null?void 0:Re.name}).filter(Boolean),a=this.normalizeFormProperty(t.id,i),l=this.normalizeFormProperty(t.name,i),c=(((x=(E=n==null?void 0:n.blackList)==null?void 0:E.form)==null?void 0:x.ids)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean),f=(((D=(R=n==null?void 0:n.blackList)==null?void 0:R.form)==null?void 0:D.names)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean),u=(((w=(P=n==null?void 0:n.blackList)==null?void 0:P.fields)==null?void 0:w.ids)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean),d=(((_=(m=n==null?void 0:n.blackList)==null?void 0:m.fields)==null?void 0:_.names)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean);if(c.indexOf(a)>=0||f.indexOf(l)>=0||u.some(X=>r.find(ae=>X===ae)!==void 0)||d.some(X=>o.find(ae=>X===ae)!==void 0))return!1;const A=((N=(b=n==null?void 0:n.whiteList)==null?void 0:b.form)==null?void 0:N.ids)||[],C=((B=(K=n==null?void 0:n.whiteList)==null?void 0:K.form)==null?void 0:B.names)||[],F=((I=(W=n==null?void 0:n.whiteList)==null?void 0:W.fields)==null?void 0:I.ids)||[],v=((z=(U=n==null?void 0:n.whiteList)==null?void 0:U.fields)==null?void 0:z.names)||[];return A.indexOf(a)>=0||C.indexOf(l)>=0||F.some(X=>r.find(ae=>X===ae)!==void 0)||v.some(X=>o.find(ae=>X===ae)!==void 0)?!0:null}get activeTheme(){return this.current.theme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}togglePreferredEntryUuid(t,n){let s;try{s=new URL(n)}catch{be.error("Invalid URL supplied to togglePreferredEntryUuid. Preferred entry will not be altered.");return}const i="Domain",r=this.findAllConfigsAndIndexFor(n),a=this.siteConfigFor(n).preferredEntryUuid;a===t?r.forEach(l=>{l.node.config.preferredEntryUuid===t&&this.removePreferredEntryUuid(l)}):(r.forEach(l=>{l.node.config.preferredEntryUuid===a&&this.leastSpecificTarget(i,l.target)===i&&this.removePreferredEntryUuid(l)}),this.addSiteConfigParameters({preferredEntryUuid:t},s,i,"Exact","Auto")),this.save()}removePreferredEntryUuid(t){if(t.node.config.preferredEntryUuid=null,t.node.source==="Auto"&&this.equalsDefaultSiteConfig(t.node.config)){const n=this.siteConfigLookupFor(t.target,t.method);delete n[t.lookupValue]}}equalsDefaultSiteConfig(t){return!(typeof t.preferredEntryUuid=="boolean"||typeof t.preventSaveNotification=="boolean"||typeof t.listMatchingCaseSensitive=="boolean"||t.whiteList||t.blackList)}leastSpecificTarget(t,n){return t==="Domain"||n==="Domain"?"Domain":t==="Host"||n==="Host"?"Host":"Page"}valueFromUrl(t,n){const s=t.host;if(n==="Host")return s;if(n==="Page")return s+t.pathname;if(n==="Domain")return st.psl.getDomain(s)}addSiteConfigParameters(t,n,s,i,r){const o=this.valueFromUrl(n,s),a=Qe.siteConfigLookupFor(s,i);a[o]||(a[o]={config:new Wc,source:r,matchWeight:100}),Object.assign(a[o].config,t)}}const Qe=new Vg;class En{}En.MatchedLogins={id:"KeeAddonPanelMatchedLogins",height:300,width:400,name:"matchedLoginsLegacy",autoCloseTime:0,legacy:!0},En.GeneratePasswordLegacy={id:"KeeAddonPanelGeneratePassword",height:300,width:400,name:"generatePasswordLegacy",autoCloseTime:0,legacy:!0},En.GeneratePassword={id:"KeeAddonPanelGeneratePassword",height:500,width:450,name:"generatePassword",autoCloseTime:0,legacy:!1};class Fs{constructor(t,n,s){this.target=n,this.options=t,this.parentFrameId=s}createPanel(){this.options.name=="generatePassword"&&(this.elementToRefocus=document.activeElement),this.container=document.createElement("div");const t=this.container.attachShadow({mode:"closed"});this.container.id=this.options.id;const n=document.createElement("style");n.textContent=`:host(div) {
            display: block !important;
            position: absolute !important;
            z-index: 2147483647 !important;
        }`,t.appendChild(n),this.target?(this.targetRelativeRect=this.target.getBoundingClientRect(),this.positionPanel()):(this.container.style.setProperty("width",this.options.width+"px","important"),this.container.style.setProperty("height",this.options.height+"px","important"),this.container.style.setProperty("top",(window.innerHeight-this.options.height)/2+window.scrollY+"px","important"),this.container.style.setProperty("left",(window.innerWidth-this.options.width)/2+window.scrollX+"px","important"));const s=document.createElement("iframe");s.setAttribute("sandbox","allow-scripts allow-same-origin"),s.setAttribute("allow",""),s.style.setProperty("width","100%","important"),s.style.setProperty("height","100%","important"),s.style.setProperty("visibility","visible","important"),s.style.setProperty("display","block","important"),s.style.setProperty("position","relative","important"),s.style.setProperty("background-color",Qe.activeTheme==="dark"?"#1e1e1e":"#ffffff","important"),s.setAttribute("scrolling","no"),this.options.legacy?s.style.setProperty("border","none","important"):(s.style.setProperty("border","2px solid #1a466b","important"),s.style.setProperty("border-radius","8px","important")),t.appendChild(s);const i=nt.extension.getURL(`panels/panels${this.options.legacy?"Legacy":""}.html`);s.src=`${i}?parentFrameId=${this.parentFrameId}&autoCloseTime=${this.options.autoCloseTime}&panel=${this.options.name}&theme=${Qe.activeTheme}`;const r=document.getElementsByTagName("body");if(r&&r.length>0)r[0].appendChild(this.container);else{const o=document.getElementsByTagName("frameset");o&&o.length>0&&o[0].insertAdjacentElement("afterend",this.container)}}updateBoundingClientRect(){const t=this.targetRelativeRect;this.targetRelativeRect=this.target.getBoundingClientRect(),(t.top!=this.targetRelativeRect.top||t.bottom!=this.targetRelativeRect.bottom||t.left!=this.targetRelativeRect.left||t.right!=this.targetRelativeRect.right)&&this.positionPanel()}positionPanel(){const t=this.options.height;let n=t;const s=this.options.width;let i=!1;const r=this.targetRelativeRect.top+window.scrollY,o=this.targetRelativeRect.bottom+window.scrollY,a=this.targetRelativeRect.right-12,l=this.targetRelativeRect.bottom+t;if(l>window.innerHeight){const y=this.targetRelativeRect.top-t;if(y>=0)i=!0;else{const A=l-window.innerHeight,C=-y;A>C?(i=!0,n=t-C):n=t-A}}const c=a-this.targetRelativeRect.left;let f;c<s?f=Math.min(this.targetRelativeRect.left,window.innerWidth-s):f=a-s;const u=i?r-n:o,d=f+window.scrollX;this.container.style.setProperty("width",s+"px","important"),this.container.style.setProperty("height",n+"px","important"),this.container.style.setProperty("top",u+"px","important"),this.container.style.setProperty("left",d+"px","important")}closePanel(){const t=document.getElementById(this.options.id);if(t&&t.parentNode.removeChild(t),this.elementToRefocus)try{this.elementToRefocus.focus()}catch{}}}var yt=(e=>(e.CloseAllPanels="closeAllPanels",e.DetectForms="detectForms",e.ResetForms="resetForms",e.GetPasswordProfiles="getPasswordProfiles",e.GeneratePassword="generatePassword",e.ManualFill="manualFill",e.Primary="primary",e.ShowMatchedLoginsPanel="showMatchedLoginsPanel",e.PageHide="pageHide",e.OpenKeePass="openkeepass",e.CreateEntry="createEntry",e.UpdateEntry="updateEntry",e))(yt||{});class jg{constructor(t,n,s,i){this.myPort=t,this.parentFrameId=n,this.formUtils=s,this.createMatchedLoginsPanelNearNode=i,this.fieldsWithIcons=[],this.KEEFOX_ICON_16="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAOdEVYdFRpdGxlAEtlZSBsb2dvN59B9AAAABB0RVh0QXV0aG9yAEtlZSBWYXVsdGXwy5UAAAH8SURBVDiNhZDfS1NhGMc/z3vOEHea0lgXrkisvArWTUSlF9XFIKj/waugtP+hey/M5vpFN0Eg4UVB0WARSglC0IX2AwwtzdywppYsz862875dzLmDbfTcvd/n8/0+X16JX74Sxgt9AHrYmYhVfTbZ88Z6/SeWVEC/szF1brGvVDT2JRqzVLLUCTl28Xrbtq8LwL76JtU1axLhLTm/2A/A1JFp5txOM5RPSCBgM2ypLrWQSXkID+tqd8jljLMpjvgMRFcY2P+NsPI57WxId8gN+HmwkEl5NoBUuWUsrgIqZnu7xLXol6CBmF1mudIOUDU2aQAFsPoq/RkjGYB5L4KnFXvH04p5zwHAwNP8i/TybgAAYkYBitpieL0XP2D2geH1XorarqG6xgIEP0XiycH3wHGAU+0b3D44h6sthvIJZt3OOvYulx07WTcFuxojjeSlSq3u13KYT6VIAwowewOwttoeIRSC2sx2lIqpY5KPdhx43DLg+8yIK3A/qJ111gmJrtmNvvNx4ka5ZQCA0pIGKho0QET5AAYoVUXf+4ffK6y8HMsBEyVtuQC/dQgfMRjG17J3f/w3AEArc7Oo7fD4r0OMFI6ijShRarQZK81EgHhycBro23lO5rLpC824pg0AxEjjotD0OoDdarFaiT053Lb2VhB/uePn81bcX+xXu7resl9RAAAAAElFTkSuQmCC"}removeKeeIconFromAllFields(){for(const t of this.fieldsWithIcons){const n=t.DOMelement;n&&(n.removeEventListener("click",this),n.removeEventListener("mousemove",this),n.style.setProperty("background-image",""),n.style.setProperty("background-repeat",""),n.style.setProperty("background-attachment",""),n.style.setProperty("background-size",""),n.style.setProperty("background-position",""))}this.fieldsWithIcons=[],this.passwordFields=null,this.otherFields=null}addKeeIconToFields(t,n,s){this.passwordFields=t,this.otherFields=n,s.length>1?this.getLabelledIcon(s.length.toString()):this.afterImageLoaded(this.KEEFOX_ICON_16)}skipField(t){return!this.formUtils.isATextFormFieldType(t.field.type)&&t.field.type!="password"||!t.DOMelement||t.DOMelement instanceof HTMLSelectElement||!t.DOMelement.isConnected||t.DOMelement.maxLength>0&&t.DOMelement.maxLength<=3||t.DOMelement.offsetWidth<50}addIcon(t,n){this.fieldsWithIcons.push(t);const s=t.DOMelement;s.addEventListener("click",this),s.addEventListener("mousemove",this),s.style.setProperty("background-image","url('"+n+"')","important"),s.style.setProperty("background-repeat","no-repeat","important"),s.style.setProperty("background-attachment","scroll","important"),s.style.setProperty("background-size","16px 16px","important"),s.style.setProperty("background-position","calc(100% - 4px) 50%","important"),s.style.setProperty("cursor","auto");const i=window.getComputedStyle(t.DOMelement).getPropertyValue("transition-property");["all","background"].some(r=>i.includes(r))&&t.DOMelement.style.setProperty("transition","none","important"),this.overrideBoxShadows(s)}handleEvent(t){t.type==="click"&&this.showMatchedLoginsPanel(t),t.type==="mousemove"&&this.hoverOverInput(t)}limitFields(t){return t.filter(s=>!this.skipField(s)).sort((s,i)=>s.highestScore===i.highestScore?0:s.highestScore<i.highestScore?1:-1).slice(0,2)}afterImageLoaded(t){const n=this.limitFields(this.passwordFields),s=this.limitFields(this.otherFields);for(const i of n.concat(s))this.addIcon(i,t)}overrideBoxShadows(t){const n=window.getComputedStyle(t);if(n){const s=[];s.push(n.getPropertyValue("box-shadow")),s.push(n.getPropertyValue("-webkit-box-shadow")),s.push(n.getPropertyValue("-moz-box-shadow")),s.some(i=>i.indexOf("inset"))&&(t.style.setProperty("box-shadow","initial","important"),t.style.setProperty("-webkit-box-shadow","initial","important"),t.style.setProperty("-moz-box-shadow","initial","important"))}}showMatchedLoginsPanel(t){const n=t.target.getBoundingClientRect(),s=n.left+n.width-22;t.clientX>s&&n.top<=t.clientY&&t.clientY<=n.bottom&&(this.parentFrameId!==0?this.myPort.postMessage({action:yt.ShowMatchedLoginsPanel}):this.createMatchedLoginsPanelNearNode(t.target))}hoverOverInput(t){if(t.target.disabled)return;const n=t.target.getBoundingClientRect(),s=n.left+n.width-22;if(t.clientX>s){t.target.style.setProperty("cursor","pointer","important");return}t.target.style.setProperty("cursor","auto")}getLabelledIcon(t){const n=document.createElement("canvas");n.height=16,n.width=16;const s=document.createElement("img");s.addEventListener("load",()=>{const i=n.getContext("2d");i.drawImage(s,0,0),i.fillStyle="white",i.fillRect(6,8,10,8),i.fillStyle="red",i.font="8px Arial",i.fillText(t,7,15),this.afterImageLoaded(n.toDataURL())}),s.src=this.KEEFOX_ICON_16}}class Bg{}var Yc=(e=>(e.Event="event",e.Websocket="websocket",e))(Yc||{});class Li{constructor(t){this.icon=t.icon||{version:1,iconImageData:""},this.usernameValue=t.usernameValue||"<no username>",this.usernameName=t.usernameName||"<no username>",this.path=t.path||"UNKNOWN PATH",this.title=t.title||"",this.uRLs=t.uRLs||[],this.url=(t==null?void 0:t.url)||"",this.uuid=t.uuid||st.newGUID(),this.dbFileName=t.dbFileName||"",this.relevanceScore=t.relevanceScore,this.fullDetails=t.fullDetails,this.isPreferredMatch=t.isPreferredMatch}static fromEntry(t){var n,s;return new Li({icon:t.icon,usernameValue:(n=Ot.getUsernameField(t))==null?void 0:n.value,usernameName:(s=Ot.getUsernameField(t))==null?void 0:s.name,title:t.title,uRLs:t.URLs,url:t==null?void 0:t.URLs[0],uuid:t.uuid,dbFileName:t.database.fileName,fullDetails:t,isPreferredMatch:t.isPreferredMatch})}static fromKPRPCEntrySummaryDTO(t,n,s){return new Li({icon:{version:1,iconImageData:t.iconImageData},usernameValue:t.usernameValue,usernameName:t.usernameName,path:n,title:t.title,uRLs:t.uRLs,url:t==null?void 0:t.uRLs[0],uuid:t.uniqueID,dbFileName:s})}}class Is{constructor(t){this.title=t.title||"",this.uuid=t.uuid||st.newGUID(),this.icon=t.icon||{version:1,iconImageData:""},this.path=t.path||"UNKNOWN PATH",this.entrySummaries=t.entrySummaries||[],this.groups=t.groups||[]}static fromKPRPCGroupDTO(t,n){return new Is({title:t.title,uuid:t.uniqueID,icon:{version:1,iconImageData:t.iconImageData},path:t.path,entrySummaries:t.childLightEntries.map(s=>Li.fromKPRPCEntrySummaryDTO(s,t.path,n)),groups:t.childGroups.map(s=>this.fromKPRPCGroupDTO(s,n))})}static containsId(t,n){return!!(t.uuid===n||t.groups&&t.groups.some(s=>Is.containsId(s,n)))}}class wo{constructor(t){this.name=t.name||"",this.fileName=t.fileName||"",this.icon=t.icon||{version:1,iconImageData:""},this.root=t.root||new Is({}),this.active=t.active||!1,this.sessionType=t.sessionType||Yc.Event,this.sessionFeatures=t.sessionFeatures||[""]}static fromKPRPCDatabaseDTO(t,n,s){return new wo({name:t.name,fileName:t.fileName,icon:{version:1,iconImageData:t.iconImageData},root:Is.fromKPRPCGroupDTO(t.root,t.fileName),active:t.active,sessionType:n,sessionFeatures:s})}}function Pt(e){return nt.i18n.getMessage(e)||e}function _o(e,t){return nt.i18n.getMessage(e,t)||e}class Jc{constructor(t){this.id=t.id||"",this.name=t.name||"",this.type=t.type||"",this.query=t.query,this.labels=t.labels,this.autocompleteValues=t.autocompleteValues}}class Hg{}var Ve=(e=>(e.radio="FFTradio",e.username="FFTusername",e.text="FFTtext",e.password="FFTpassword",e.select="FFTselect",e.checkbox="FFTcheckbox",e))(Ve||{});class Ge{constructor(t){this.name=t.name||"",this.value=t.value||"",this.resetValue=t.resetValue||"",this.uuid=t.uuid||st.newGUID(),this.type=t.type||"text",this.locators=t.locators||[]}static getDisplayValueInternal(t,n,s){return t.type==="boolean"?t.value==="KEEFOX_CHECKED_FLAG_TRUE"?Pt("enabled"):Pt("disabled"):t.type==="password"&&!n?s:t.value}static getDisplayValue(t,n){return Ge.getDisplayValueInternal(t,n,"*".repeat(t.value.length))}static getDisplayName(t){return t.name==="KeePass username"?Pt("username"):t.name==="KeePass password"?Pt("password"):t.name?t.name:"[ "+Pt("no_name")+" ]"}static getDisplayTooltip(t,n){return Ge.getDisplayName(t)+": "+Ge.getDisplayValueInternal(t,n,Pt("click_to_reveal_hide"))}static typeFromDOMtype(t){switch(t){case"password":return"password";case"radio":return"existing";case"checkbox":return"boolean";case"select-one":return"existing";default:return"text"}}static combineDomFieldLists(t,n,s){const i=[];return t>=0&&n[t]&&i.push(n[t]),s.forEach(r=>{i.push(r)}),n.forEach((r,o)=>{o!==t&&i.push(r)}),i}static fromDOM(t,n,s){const i=Kg(t);return new Ge({uuid:st.newGUID(),name:i&&i.length?i[0]:t.name,locators:[new Jc({name:t.name,id:t.id,type:n,labels:i,autocompleteValues:Wg(t)})],value:s,type:Ge.typeFromDOMtype(n)})}static fromKPRPCFieldDTO(t){let n="text",s="text";switch(t.type){case Ve.password:n="password",s="password";break;case Ve.radio:n="existing",s="radio";break;case Ve.checkbox:n="boolean",s="checkbox";break;case Ve.select:n="existing",s="select";break;case Ve.username:n="text",s="text";break;case Ve.text:n="text",s="text";break}return new Ge({name:t.displayName||t.name,uuid:st.newGUID(),value:t.value,resetValue:t.value,type:n,locators:[new Jc({id:t.id,name:t.name,type:s})]})}static toKPRPCFieldDTO(t,n){let s;switch(t.locators[0].type){case"password":s=Ve.password;break;case"radio":s=Ve.radio;break;case"checkbox":s=Ve.checkbox;break;case"select-one":s=Ve.select;break;default:s=n?Ve.username:Ve.text;break}return{displayName:t.name,id:t.locators[0].id,name:t.locators[0].name,type:s,value:t.value,page:-1}}}function Kg(e){var r,o,a,l;const t=[],n=((r=e.labels)==null?void 0:r.length)||0;for(let c=0;c<n;c++){const f=e.labels[c];f!=null&&f.innerText&&t.push(f.innerText)}const s=(o=e.getAttribute("aria-label"))==null?void 0:o.toLowerCase();s&&t.push(s);const i=[];return(a=e.getAttribute("aria-labelledby"))==null||a.trim().split(" ").forEach(c=>{c&&i.push(c)}),(l=e.getAttribute("aria-describedby"))==null||l.trim().split(" ").forEach(c=>{c&&i.push(c)}),i.forEach(c=>{const f=document.getElementById(c);f!=null&&f.innerText&&t.push(f.innerText)}),t.length?t:void 0}function Wg(e){var n,s;const t=[];return(s=(n=e.attributes.autocomplete)==null?void 0:n.value)==null||s.trim().split(" ").forEach(i=>{i&&t.push(i.toLowerCase())}),t.length?t:void 0}class Ni{constructor(t){this.title=t.title||"",this.uuid=t.uuid||st.newGUID(),this.icon=t.icon||{version:1,iconImageData:""},this.path=t.path||"UNKNOWN PATH"}static fromKPRPCGroupSummaryDTO(t){return new Ni({title:t.title,uuid:t.uniqueID,icon:{version:1,iconImageData:t.iconImageData},path:t.path})}static fromGroup(t){return new Ni({title:t.title,uuid:t.uuid,icon:t.icon,path:t.path})}}class Ot{constructor(t){this.alwaysAutoFill=t.alwaysAutoFill||!1,this.alwaysAutoSubmit=t.alwaysAutoSubmit||!1,this.neverAutoFill=t.neverAutoFill||!1,this.neverAutoSubmit=t.neverAutoSubmit||!1,this.URLs=t.URLs||[],this.fields=t.fields||[],this.httpRealm=t.httpRealm||"",this.parentGroup=t.parentGroup||null,this.uuid=t.uuid||st.newGUID(),this.title=t.title||"",this.matchAccuracy=t.matchAccuracy||0,this.icon=t.icon||{version:1,iconImageData:""},this.database=t.database||new wo({}),this.relevanceScore=t.relevanceScore,this.lowFieldMatchRatio=t.lowFieldMatchRatio,this.formIndex=t.formIndex,this.entryIndex=t.entryIndex,this.isPreferredMatch=t.isPreferredMatch}static getUsernameField(t){return t.fields.find(n=>n.type==="text")}static getPasswordField(t){return t.fields.find(n=>n.type==="password")}static fromKPRPCEntryDTO(t,n){const s=[];let i=1;const r=t.formFieldList.findIndex(c=>c.type===Ve.username),o=t.formFieldList.map(c=>(c.page>i&&(i=c.page),Ge.fromKPRPCFieldDTO(c))),a=o.findIndex(c=>c.type==="password");return r>-1&&s.push(o[r]),a>-1&&s.push(o[a]),o.forEach((c,f)=>{f!==r&&f!==a&&s.push(c)}),new Ot({URLs:t.uRLs,neverAutoFill:t.neverAutoFill,alwaysAutoFill:t.alwaysAutoFill,neverAutoSubmit:t.neverAutoSubmit,alwaysAutoSubmit:t.alwaysAutoSubmit,icon:{version:1,iconImageData:t.iconImageData},parentGroup:Ni.fromKPRPCGroupSummaryDTO(t.parent),database:n,matchAccuracy:t.matchAccuracy,httpRealm:t.hTTPRealm,uuid:t.uniqueID,title:t.title,fields:s})}static toKPRPCEntryDTO(t){const n=new Hg;return n.alwaysAutoFill=t.alwaysAutoFill,n.alwaysAutoSubmit=t.alwaysAutoSubmit,n.formFieldList=t.fields.map((s,i)=>Ge.toKPRPCFieldDTO(s,i===0)),n.hTTPRealm=t.httpRealm,n.iconImageData=t.icon.iconImageData,n.neverAutoFill=t.neverAutoFill,n.neverAutoSubmit=t.neverAutoSubmit,n.title=t.title,n.uRLs=t.URLs,n}}var Gg=!1;function Mi(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function vo(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function qg(){return Xc().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Xc(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Yg=typeof Proxy=="function",Jg="devtools-plugin:setup",Xg="plugin:settings:set";let Kn,Ao;function zg(){var e;return Kn!==void 0||(typeof window<"u"&&window.performance?(Kn=!0,Ao=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Kn=!0,Ao=global.perf_hooks.performance):Kn=!1),Kn}function Qg(){return zg()?Ao.now():Date.now()}class Zg{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const s={};if(t.settings)for(const o in t.settings){const a=t.settings[o];s[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},s);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(r,a)}catch{}this.fallbacks={getSettings(){return r},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}r=o},now(){return Qg()}},n&&n.on(Xg,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function zc(e,t){const n=e,s=Xc(),i=qg(),r=Yg&&n.enableEarlyProxy;if(i&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))i.emit(Jg,e,t);else{const o=r?new Zg(n,i):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * pinia v2.0.29
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Co;const Ls=e=>Co=e,Qc=Symbol("pinia");function xn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var it;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(it||(it={}));const ki=typeof window<"u",Di=ki,Zc=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function em(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function Eo(e,t,n){const s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){nu(s.response,t,n)},s.onerror=function(){console.error("could not download file")},s.send()}function eu(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function $i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const Ui=typeof navigator=="object"?navigator:{userAgent:""},tu=(()=>/Macintosh/.test(Ui.userAgent)&&/AppleWebKit/.test(Ui.userAgent)&&!/Safari/.test(Ui.userAgent))(),nu=ki?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!tu?tm:"msSaveOrOpenBlob"in Ui?nm:sm:()=>{};function tm(e,t="download",n){const s=document.createElement("a");s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?eu(s.href)?Eo(e,t,n):(s.target="_blank",$i(s)):$i(s)):(s.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(s.href)},4e4),setTimeout(function(){$i(s)},0))}function nm(e,t="download",n){if(typeof e=="string")if(eu(e))Eo(e,t,n);else{const s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){$i(s)})}else navigator.msSaveOrOpenBlob(em(e,n),t)}function sm(e,t,n,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return Eo(e,t,n);const i=e.type==="application/octet-stream",r=/constructor/i.test(String(Zc.HTMLElement))||"safari"in Zc,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&r||tu)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw s=null,new Error("Wrong reader.result type");l=o?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=l:location.assign(l),s=null},a.readAsDataURL(e)}else{const a=URL.createObjectURL(e);s?s.location.assign(a):location.href=a,s=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function _e(e,t){const n="🍍 "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,t):t==="error"?console.error(n):t==="warn"?console.warn(n):console.log(n)}function xo(e){return"_a"in e&&"install"in e}function su(){if(!("clipboard"in navigator))return _e("Your browser doesn't support the Clipboard API","error"),!0}function iu(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(_e('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function im(e){if(!su())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),_e("Global state copied to clipboard.")}catch(t){if(iu(t))return;_e("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function rm(e){if(!su())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),_e("Global state pasted from clipboard.")}catch(t){if(iu(t))return;_e("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function om(e){try{nu(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){_e("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let Rt;function am(){Rt||(Rt=document.createElement("input"),Rt.type="file",Rt.accept=".json");function e(){return new Promise((t,n)=>{Rt.onchange=async()=>{const s=Rt.files;if(!s)return t(null);const i=s.item(0);return t(i?{text:await i.text(),file:i}:null)},Rt.oncancel=()=>t(null),Rt.onerror=n,Rt.click()})}return e}async function lm(e){try{const n=await(await am())();if(!n)return;const{text:s,file:i}=n;e.state.value=JSON.parse(s),_e(`Global state imported from "${i.name}".`)}catch(t){_e("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function rt(e){return{_custom:{display:e}}}const ru="🍍 Pinia (root)",So="_root";function cm(e){return xo(e)?{id:So,label:ru}:{id:e.$id,label:e.$id}}function um(e){if(xo(e)){const n=Array.from(e._s.keys()),s=e._s;return{state:n.map(r=>({editable:!0,key:r,value:e.state.value[r]})),getters:n.filter(r=>s.get(r)._getters).map(r=>{const o=s.get(r);return{editable:!1,key:r,value:o._getters.reduce((a,l)=>(a[l]=o[l],a),{})}})}}const t={state:Object.keys(e.$state).map(n=>({editable:!0,key:n,value:e.$state[n]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(n=>({editable:!1,key:n,value:e[n]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(n=>({editable:!0,key:n,value:e[n]}))),t}function fm(e){return e?Array.isArray(e)?e.reduce((t,n)=>(t.keys.push(n.key),t.operations.push(n.type),t.oldValue[n.key]=n.oldValue,t.newValue[n.key]=n.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:rt(e.type),key:rt(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function dm(e){switch(e){case it.direct:return"mutation";case it.patchFunction:return"$patch";case it.patchObject:return"$patch";default:return"unknown"}}let Wn=!0;const Vi=[],Sn="pinia:mutations",Se="pinia",ji=e=>"🍍 "+e;function hm(e,t){zc({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Vi,app:e},n=>{typeof n.now!="function"&&_e("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Sn,label:"Pinia 🍍",color:15064968}),n.addInspector({id:Se,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{im(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await rm(t),n.sendInspectorTree(Se),n.sendInspectorState(Se)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{om(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await lm(t),n.sendInspectorTree(Se),n.sendInspectorState(Se)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:s=>{const i=t._s.get(s);i?i._isOptionsAPI?(i.$reset(),_e(`Store "${s}" reset.`)):_e(`Cannot reset "${s}" store because it's a setup store.`,"warn"):_e(`Cannot reset "${s}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((s,i)=>{const r=s.componentInstance&&s.componentInstance.proxy;if(r&&r._pStores){const o=s.componentInstance.proxy._pStores;Object.values(o).forEach(a=>{s.instanceData.state.push({type:ji(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:Z(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((l,c)=>(l[c]=a.$state[c],l),{})}),a._getters&&a._getters.length&&s.instanceData.state.push({type:ji(a.$id),key:"getters",editable:!1,value:a._getters.reduce((l,c)=>{try{l[c]=a[c]}catch(f){l[c]=f}return l},{})})})}}),n.on.getInspectorTree(s=>{if(s.app===e&&s.inspectorId===Se){let i=[t];i=i.concat(Array.from(t._s.values())),s.rootNodes=(s.filter?i.filter(r=>"$id"in r?r.$id.toLowerCase().includes(s.filter.toLowerCase()):ru.toLowerCase().includes(s.filter.toLowerCase())):i).map(cm)}}),n.on.getInspectorState(s=>{if(s.app===e&&s.inspectorId===Se){const i=s.nodeId===So?t:t._s.get(s.nodeId);if(!i)return;i&&(s.state=um(i))}}),n.on.editInspectorState((s,i)=>{if(s.app===e&&s.inspectorId===Se){const r=s.nodeId===So?t:t._s.get(s.nodeId);if(!r)return _e(`store "${s.nodeId}" not found`,"error");const{path:o}=s;xo(r)?o.unshift("state"):(o.length!==1||!r._customProperties.has(o[0])||o[0]in r.$state)&&o.unshift("$state"),Wn=!1,s.set(r,o,s.state.value),Wn=!0}}),n.on.editComponentState(s=>{if(s.type.startsWith("🍍")){const i=s.type.replace(/^🍍\s*/,""),r=t._s.get(i);if(!r)return _e(`store "${i}" not found`,"error");const{path:o}=s;if(o[0]!=="state")return _e(`Invalid path for store "${i}":
${o}
Only state can be modified.`);o[0]="$state",Wn=!1,s.set(r,o,s.state.value),Wn=!0}})})}function gm(e,t){Vi.includes(ji(t.$id))||Vi.push(ji(t.$id)),zc({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Vi,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const s=typeof n.now=="function"?n.now.bind(n):Date.now;t.$onAction(({after:o,onError:a,name:l,args:c})=>{const f=ou++;n.addTimelineEvent({layerId:Sn,event:{time:s(),title:"🛫 "+l,subtitle:"start",data:{store:rt(t.$id),action:rt(l),args:c},groupId:f}}),o(u=>{Tn=void 0,n.addTimelineEvent({layerId:Sn,event:{time:s(),title:"🛬 "+l,subtitle:"end",data:{store:rt(t.$id),action:rt(l),args:c,result:u},groupId:f}})}),a(u=>{Tn=void 0,n.addTimelineEvent({layerId:Sn,event:{time:s(),logType:"error",title:"💥 "+l,subtitle:"end",data:{store:rt(t.$id),action:rt(l),args:c,error:u},groupId:f}})})},!0),t._customProperties.forEach(o=>{hn(()=>ar(t[o]),(a,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(Se),Wn&&n.addTimelineEvent({layerId:Sn,event:{time:s(),title:"Change",subtitle:o,data:{newValue:a,oldValue:l},groupId:Tn}})},{deep:!0})}),t.$subscribe(({events:o,type:a},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Se),!Wn)return;const c={time:s(),title:dm(a),data:{store:rt(t.$id),...fm(o)},groupId:Tn};Tn=void 0,a===it.patchFunction?c.subtitle="⤵️":a===it.patchObject?c.subtitle="🧩":o&&!Array.isArray(o)&&(c.subtitle=o.type),o&&(c.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),n.addTimelineEvent({layerId:Sn,event:c})},{detached:!0,flush:"sync"});const i=t._hotUpdate;t._hotUpdate=qe(o=>{i(o),n.addTimelineEvent({layerId:Sn,event:{time:s(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:rt(t.$id),info:rt("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Se),n.sendInspectorState(Se)});const{$dispose:r}=t;t.$dispose=()=>{r(),n.notifyComponentUpdate(),n.sendInspectorTree(Se),n.sendInspectorState(Se),n.getSettings().logStoreChanges&&_e(`Disposed "${t.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(Se),n.sendInspectorState(Se),n.getSettings().logStoreChanges&&_e(`"${t.$id}" store installed 🆕`)})}let ou=0,Tn;function au(e,t){const n=t.reduce((s,i)=>(s[i]=Z(e)[i],s),{});for(const s in n)e[s]=function(){const i=ou,r=new Proxy(e,{get(...o){return Tn=i,Reflect.get(...o)},set(...o){return Tn=i,Reflect.set(...o)}});return n[s].apply(r,arguments)}}function mm({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),typeof n.state=="function"){au(t,Object.keys(n.actions));const s=t._hotUpdate;Z(t)._hotUpdate=function(i){s.apply(this,arguments),au(t,Object.keys(i._hmrPayload.actions))}}gm(e,t)}}function pm(){const e=zi(!0),t=e.run(()=>ln({}));let n=[],s=[];const i=qe({install(r){Ls(i),i._a=r,r.provide(Qc,i),r.config.globalProperties.$pinia=i,Di&&hm(r,i),s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!Gg?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return Di&&typeof Proxy<"u"&&i.use(mm),i}function lu(e,t){for(const n in t){const s=t[n];if(!(n in e))continue;const i=e[n];xn(i)&&xn(s)&&!de(s)&&!He(s)?e[n]=lu(i,s):e[n]=s}return e}const bm=()=>{};function cu(e,t,n,s=bm){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&Wo()&&Go(i),i}function Gn(e,...t){e.slice().forEach(n=>{n(...t)})}function To(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];xn(i)&&xn(s)&&e.hasOwnProperty(n)&&!de(s)&&!He(s)?e[n]=To(i,s):e[n]=s}return e}const ym=Symbol("pinia:skipHydration");function wm(e){return!xn(e)||!e.hasOwnProperty(ym)}const{assign:ot}=Object;function uu(e){return!!(de(e)&&e.effect)}function fu(e,t,n,s){const{state:i,actions:r,getters:o}=t,a=n.state.value[e];let l;function c(){!a&&!s&&(n.state.value[e]=i?i():{});const f=cr(s?ln(i?i():{}).value:n.state.value[e]);return ot(f,r,Object.keys(o||{}).reduce((u,d)=>(d in f&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${d}" in store "${e}".`),u[d]=qe(xi(()=>{Ls(n);const y=n._s.get(e);return o[d].call(y,y)})),u),{}))}return l=Po(e,c,t,n,s,!0),l.$reset=function(){const u=i?i():{};this.$patch(d=>{ot(d,u)})},l}function Po(e,t,n={},s,i,r){let o;const a=ot({actions:{}},n);if(!s._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=m=>{c?y=m:c==!1&&!P._hotUpdating&&(Array.isArray(y)?y.push(m):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let c,f,u=qe([]),d=qe([]),y;const A=s.state.value[e];!r&&!A&&!i&&(s.state.value[e]={});const C=ln({});let F;function v(m){let _;c=f=!1,y=[],typeof m=="function"?(m(s.state.value[e]),_={type:it.patchFunction,storeId:e,events:y}):(To(s.state.value[e],m),_={type:it.patchObject,payload:m,storeId:e,events:y});const b=F=Symbol();fn().then(()=>{F===b&&(c=!0)}),f=!0,Gn(u,_,s.state.value[e])}const g=()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function E(){o.stop(),u=[],d=[],s._s.delete(e)}function x(m,_){return function(){Ls(s);const b=Array.from(arguments),N=[],K=[];function B(U){N.push(U)}function W(U){K.push(U)}Gn(d,{args:b,name:m,store:P,after:B,onError:W});let I;try{I=_.apply(this&&this.$id===e?this:P,b)}catch(U){throw Gn(K,U),U}return I instanceof Promise?I.then(U=>(Gn(N,U),U)).catch(U=>(Gn(K,U),Promise.reject(U))):(Gn(N,I),I)}}const R=qe({actions:{},getters:{},state:[],hotState:C}),D={_p:s,$id:e,$onAction:cu.bind(null,d),$patch:v,$reset:g,$subscribe(m,_={}){const b=cu(u,m,_.detached,()=>N()),N=o.run(()=>hn(()=>s.state.value[e],K=>{(_.flush==="sync"?f:c)&&m({storeId:e,type:it.direct,events:y},K)},ot({},l,_)));return b},$dispose:E},P=vt(ot({_hmrPayload:R,_customProperties:qe(new Set)},D));s._s.set(e,P);const w=s._e.run(()=>(o=zi(),o.run(()=>t())));for(const m in w){const _=w[m];if(de(_)&&!uu(_)||He(_))i?Mi(C.value,m,is(w,m)):r||(A&&wm(_)&&(de(_)?_.value=A[m]:To(_,A[m])),s.state.value[e][m]=_),R.state.push(m);else if(typeof _=="function"){const b=i?_:x(m,_);w[m]=b,R.actions[m]=_,a.actions[m]=_}else uu(_)&&(R.getters[m]=r?n.getters[m]:_,ki&&(w._getters||(w._getters=qe([]))).push(m))}if(ot(P,w),ot(Z(P),w),Object.defineProperty(P,"$state",{get:()=>i?C.value:s.state.value[e],set:m=>{if(i)throw new Error("cannot set hotState");v(_=>{ot(_,m)})}}),P._hotUpdate=qe(m=>{P._hotUpdating=!0,m._hmrPayload.state.forEach(_=>{if(_ in P.$state){const b=m.$state[_],N=P.$state[_];typeof b=="object"&&xn(b)&&xn(N)?lu(b,N):m.$state[_]=N}Mi(P,_,is(m.$state,_))}),Object.keys(P.$state).forEach(_=>{_ in m.$state||vo(P,_)}),c=!1,f=!1,s.state.value[e]=is(m._hmrPayload,"hotState"),f=!0,fn().then(()=>{c=!0});for(const _ in m._hmrPayload.actions){const b=m[_];Mi(P,_,x(_,b))}for(const _ in m._hmrPayload.getters){const b=m._hmrPayload.getters[_],N=r?xi(()=>(Ls(s),b.call(P,P))):b;Mi(P,_,N)}Object.keys(P._hmrPayload.getters).forEach(_=>{_ in m._hmrPayload.getters||vo(P,_)}),Object.keys(P._hmrPayload.actions).forEach(_=>{_ in m._hmrPayload.actions||vo(P,_)}),P._hmrPayload=m._hmrPayload,P._getters=m._getters,P._hotUpdating=!1}),Di){const m={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(_=>{Object.defineProperty(P,_,{value:P[_],...m})})}return s._p.forEach(m=>{if(Di){const _=o.run(()=>m({store:P,app:s._a,pinia:s,options:a}));Object.keys(_||{}).forEach(b=>P._customProperties.add(b)),ot(P,_)}else ot(P,o.run(()=>m({store:P,app:s._a,pinia:s,options:a})))}),P.$state&&typeof P.$state=="object"&&typeof P.$state.constructor=="function"&&!P.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${P.$id}".`),A&&r&&n.hydrate&&n.hydrate(P.$state,A),c=!0,f=!0,P}function _m(e,t,n){let s,i;const r=typeof t=="function";typeof e=="string"?(s=e,i=r?n:t):(i=e,s=e.id);function o(a,l){const c=Xe();if(a=a||c&&jt(Qc,null),a&&Ls(a),!Co)throw new Error(`[🍍]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);a=Co,a._s.has(s)||(r?Po(s,t,i,a):fu(s,i,a),o._pinia=a);const f=a._s.get(s);if(l){const u="__hot:"+s,d=r?Po(u,t,i,a,!0):fu(u,ot({},i),a,!0);l._hotUpdate(d),delete a.state.value[u],a._s.delete(u)}if(ki&&c&&c.proxy&&!l){const u=c.proxy,d="_pStores"in u?u._pStores:u._pStores={};d[s]=f}return f}return o.$id=s,o}class du{constructor(){this.newEntry=new Ot({})}}const vm={latestConnectionError:"",lastKeePassRPCRefresh:0,ActiveKeePassDatabaseIndex:-1,KeePassDatabases:[],PasswordProfiles:[],notifications:[],connected:!1,connectedWebsocket:!1,currentSearchTerm:null,loginsFound:!1,searchResults:null,saveState:new du,generatedPassword:"",saveEntryResult:{result:null,receivedAt:new Date,fileName:null,uuid:null},entryUpdateStartedAtTimestamp:0};var Oo=(e=>(e.Event="event",e.Websocket="websocket",e))(Oo||{});function Am(e,t){return _m(e,t)}const hu=Am("kee",{state:()=>vm,getters:{showGeneratePasswordLink:e=>e.connected,showMatchedLogins:e=>!!e.loginsFound,showNotifications:e=>e.notifications&&!!e.notifications.length,databaseIsOpen:e=>e.connected&&!!e.KeePassDatabases.length,databaseName:e=>{if(e.KeePassDatabases&&e.KeePassDatabases.length&&e.ActiveKeePassDatabaseIndex>=0){const t=e.KeePassDatabases[e.ActiveKeePassDatabaseIndex];return t.name?t.name:t.fileName.replace(/^.*[\\/]/,"")}return""},connectionStatus(e){return e.connected?e.KeePassDatabases.length>1?_o("multiplePasswordSourcesEnabled",[e.KeePassDatabases.length.toString()]):e.KeePassDatabases.length==1?this.databaseName:Pt("notifyBarLoginToKeePassButton_tip"):Pt("notifyBarLaunchKeePassButton_tip")},connectionStatusDetail(e){if(e.connected){if(e.KeePassDatabases.length>1)return _o("loggedInMultiple_tip",[e.KeePassDatabases.length.toString(),this.databaseName]);if(e.KeePassDatabases.length==1)return _o("loggedIn_tip",this.databaseName)}return Pt("notifyBarLaunchKeePass_label")},showOpenKeePassButton:e=>{if(e.connectedWebsocket){const t=e.KeePassDatabases.some(s=>s.sessionType===Oo.Websocket),n=e.KeePassDatabases.some(s=>s.sessionType===Oo.Websocket&&s.sessionFeatures.indexOf("KPRPC_OPEN_AND_FOCUS_DATABASE")>=0);return!!(!t||n)}else return!1}},actions:{updateActiveKeePassDatabaseIndex(e){this.$patch({ActiveKeePassDatabaseIndex:e})},updateConnected(e){this.$patch({connected:e})},updateConnectedWebsocket(e){this.$patch({connectedWebsocket:e})},updateCurrentSearchTerm(e){this.$patch({currentSearchTerm:e})},updateKeePassDatabases(e){this.$patch({KeePassDatabases:e})},updateLastKeePassRPCRefresh(e){this.$patch({lastKeePassRPCRefresh:e})},updateLatestConnectionError(e){this.$patch({latestConnectionError:e})},updateLoginsFound(e){this.$patch({loginsFound:e||!1})},updateNotifications(e){this.$patch({notifications:e})},updatePasswordProfiles(e){this.$patch({PasswordProfiles:e})},updateGeneratedPassword(e){this.$patch({generatedPassword:e})},updateSubmittedData(e){this.saveState||new du,this.$patch({saveState:{submittedData:e||null}})},updateSaveState(e){this.$patch({saveState:e||null})},updateSearchResults(e){this.$patch({searchResults:e||null})},updateSearchResultWithFullDetails(e){const t=e.uuid;for(const n of this.searchResults)if(n.uuid===t){n.fullDetails=e||null;break}},addNotification(e){this.notifications.push(e)},updateSaveEntryResult(e){this.$patch({saveEntryResult:e||null})},removeFieldFromActiveEntry(e){const t=this.saveState.newEntry.fields.findIndex(i=>i.type==="text"),n=this.saveState.newEntry.fields.findIndex(i=>i.type==="password"),s=this.saveState.newEntry.fields.findIndex(i=>i.uuid===(e||null));if(this.saveState.newEntry.fields.splice(s,1),s===t){const i=this.saveState.newEntry.fields.findIndex(o=>o.type==="text");if(i<0)return;const r=this.saveState.newEntry.fields.splice(i,1)[0];this.saveState.newEntry.fields.splice(s,0,new Ge({...r,name:"KeePass username"}))}else if(s===n){const i=this.saveState.newEntry.fields.findIndex(o=>o.type==="password");if(i<0)return;const r=this.saveState.newEntry.fields.splice(i,1)[0];this.saveState.newEntry.fields.splice(s,0,new Ge({...r,name:"KeePass password"}))}},updateEntryUpdateStartedAtTimestamp(e){this.$patch({entryUpdateStartedAtTimestamp:e||null})}}}),gu=hu();class Cm{constructor(t,n,s,i,r,o,a){this.myPort=t,this.parentFrameId=n,this.formUtils=s,this.formSaving=i,this.Logger=r,this.config=o,this.matchFinder=a,this.findLoginOp={},this.matchResult=new Bg,this.formFinderTimer=null,this.keeFieldIcon=new jg(t,n,s,this.createMatchedLoginsPanelNearNode.bind(this))}executePrimaryAction(){this.matchResult.entries&&this.matchResult.entries.length>0&&this.matchResult.mostRelevantFormIndex!=null&&this.matchResult.mostRelevantFormIndex>=0&&(this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length==1?(this.fillAndSubmit(!1,this.matchResult.mostRelevantFormIndex,0),this.closeMatchedLoginsPanel()):this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length>1&&(this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Fs(En.MatchedLogins,null,this.parentFrameId),this.matchedLoginsPanelStub.createPanel()))}createMatchedLoginsPanelInCenter(t){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Fs(En.MatchedLogins,null,t),this.matchedLoginsPanelStub.createPanel()}createMatchedLoginsPanelNearNode(t){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Fs(En.MatchedLogins,t,this.parentFrameId),this.matchedLoginsPanelStub.createPanel(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}closeMatchedLoginsPanel(){this.matchedLoginsPanelStub&&this.matchedLoginsPanelStub.closePanel(),this.matchedLoginsPanelStub=null,cancelAnimationFrame(this.matchedLoginsPanelStubRaf)}updateMatchedLoginsPanelPosition(){this.matchedLoginsPanelStub.updateBoundingClientRect(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}calculateFieldMatchScore(t,n,s,i,r){const o=t.field;let a=1;return o.type!==n.type?0:(o.locators[0].id!=null&&o.locators[0].id!=null&&o.locators[0].id!=""&&o.locators[0].id==n.locators[0].id?a+=50:i.punishWrongIDAndName&&n.locators[0].id&&(a-=5),o.locators[0].name!=null&&o.locators[0].name!=null&&o.locators[0].name!=""&&o.locators[0].name==n.locators[0].name?a+=40:i.punishWrongIDAndName&&n.locators[0].name&&(a-=5),o.locators[0].type==="radio"&&o.value!=null&&o.value!=null&&o.value!=""&&o.value==n.value&&(a+=30),r===void 0&&this.formUtils.isDOMElementVisible(t.DOMelement)&&(r=!0),a+=r?35:0,a)}fillMatchedFields(t,n,s,i){t.sort(function(o,a){return a.score-o.score});const r=[];for(;t.length>0&&t[0].score>0;){const o=t[0].formFieldIndex,a=t[0].dataFieldIndex,l=s[o],c=n[a],f=l.DOMelement,u=this.getFormFieldCurrentValue(f,l.field.locators[0].type);i&&u&&u!==f.keeInitialDetectedValue?this.Logger.info("Not filling field because it's not empty and was edited by user since last load/fill"):i&&u&&!Qe.current.autoFillFieldsWithExistingValue?this.Logger.info("Not filling field because it's not empty and user preference is to prevent automatic fill"):(this.Logger.info("We will populate field "+o+" (id:"+l.field.locators[0].id+")"),this.fillASingleField(f,l.field.locators[0].type,c.value)),r.push({id:l.field.locators[0].id,DOMelement:f,name:l.field.locators[0].name,value:c.value}),t=t.filter(function(d){return d.dataFieldIndex!=a&&d.formFieldIndex!=o}),t.sort(function(d,y){return y.score-d.score})}return r}getFormFieldCurrentValue(t,n){let s=t.value;return t instanceof HTMLInputElement&&n==="checkbox"&&(t.checked?s="KEEFOX_CHECKED_FLAG_TRUE":s="KEEFOX_CHECKED_FLAG_FALSE"),s}fillASingleField(t,n,s){n=="select-one"?t.value=s:t instanceof HTMLInputElement&&n=="checkbox"?s=="KEEFOX_CHECKED_FLAG_TRUE"?t.checked=!0:t.checked=!1:t instanceof HTMLInputElement&&n=="radio"?t.checked=!0:t.value=s,t.keeInitialDetectedValue=s,t.dispatchEvent(new UIEvent("input",{view:window,bubbles:!0,cancelable:!0})),t.dispatchEvent(new UIEvent("change",{view:window,bubbles:!0,cancelable:!0}))}fillManyFormFields(t,n,s,i,r){if(this.Logger.debug("_fillManyFormFields started"),t==null||t==null||n==null||n==null)return;this.Logger.debug("We've received the data we need"),this.Logger.info("Filling form fields for page "+s);const o=[];for(let a=0;a<t.length;a++)for(let l=0;l<n.length;l++){const c=this.calculateFieldMatchScore(t[a],n[l],s,i);this.Logger.debug("Suitability of putting data field "+l+" into form field "+a+" (id: "+t[a].field.locators[0].id+") is "+c),o.push({score:c,dataFieldIndex:l,formFieldIndex:a})}return this.fillMatchedFields(o,n,t,r)}initMatchResult(t){this.matchResult.UUID="",this.matchResult.entries=[],this.matchResult.mostRelevantFormIndex=null,this.matchResult.mustAutoFillForm=!1,this.matchResult.cannotAutoFillForm=!1,this.matchResult.mustAutoSubmitForm=!1,this.matchResult.cannotAutoSubmitForm=!1,t.UUID!=null&&t.UUID!=null&&t.UUID!=""&&(this.matchResult.UUID=t.UUID,this.matchResult.dbFileName=t.dbFileName,this.matchResult.mustAutoFillForm=!0,t.mustAutoSubmitForm&&(this.matchResult.mustAutoSubmitForm=!0)),this.matchResult.doc=window.document,this.matchResult.formReadyForSubmit=!1,this.matchResult.autofillOnSuccess=t.autofillOnSuccess,this.matchResult.autosubmitOnSuccess=t.autosubmitOnSuccess,this.matchResult.notifyUserOnSuccess=t.notifyUserOnSuccess,this.matchResult.wrappers=[],this.matchResult.allMatchingLogins=[],this.matchResult.formRelevanceScores=[],this.matchResult.submitTargets=[],this.matchResult.usernameIndexArray=[],this.matchResult.passwordFieldsArray=[],this.matchResult.otherFieldsArray=[],this.matchResult.requestCount=0,this.matchResult.responseCount=0,this.matchResult.requestIds=[]}findMatchesInThisFrame(t={}){this.semanticWhitelistCache={},this.semanticBlacklistCache={},this.formFinderTimer!==null&&(clearTimeout(this.formFinderTimer),this.formFinderTimer=null),window.document.forms.length>50&&this.Logger.debug("Too many forms on this page. Assuming it is not a login page and avoiding looking for login forms in order to avoid performance impact.");let n=new Array;for(let a=0;a<window.document.forms.length;a++)n.push(window.document.forms.item(a));const s=this.scanForOrphanedFields(window.document);if(s&&(n=Array.prototype.slice.call(n),n.push(s)),!n||n.length==0){this.Logger.info("No forms found on this page.");return}const i=new URL(window.document.URL);i.hostname=punycode.toUnicode(i.hostname),this.Logger.info("Finding matches in a document. readyState: "+window.document.readyState),this.initMatchResult(t),this.matchResult.forms=n;const r=Qe.siteConfigFor(i.href);this.Logger.debug("findMatches processing "+n.length+" forms");let o=!1;for(let a=0;a<n.length;a++){const l=n[a];this.matchResult.entries[a]=[],this.matchResult.formRelevanceScores[a]=0,this.Logger.debug("about to get form fields");let c;try{c=this.formUtils.getFormFields(l,!1,50)}catch(v){this.Logger.debug("Lost interest in this form after finding too many fields"+v);continue}const f=c.actualUsernameIndex,u=c.pwFields,d=c.otherFields;let y=null;if(y=Qe.isFormInteresting(l,r,d.map(v=>v.field)),y===!1){this.Logger.debug("Lost interest in this form after inspecting field names and IDs");continue}const A=u==null||u.length<=0||u[0]==null,C=f<0||d==null||d.length<=0||d[f]==null;if(A&&(C||y!==!0)){this.Logger.debug("No password field found in this form and either there are no other fields or no whitelisted text field or form element");continue}let F;A?F=d[f].DOMelement:F=u[0].DOMelement,this.attachSubmitHandlers(l,F,a),this.matchResult.usernameIndexArray[a]=f,this.matchResult.passwordFieldsArray[a]=u,this.matchResult.otherFieldsArray[a]=d,this.matchResult.submitTargets[a]=F,o?(this.Logger.debug("form["+a+"]: reusing entries from last form."),this.findLoginOp.formIndexes.push(a)):(this.findLoginOp.forms=n,this.findLoginOp.formIndexes=[a],this.findLoginOp.wrappedBy=this.matchResult,this.matchResult.wrappers[a]=this.findLoginOp,this.matchResult.requestCount++,this.matchFinder(i.href),o=!0)}}async attachSubmitHandlers(t,n,s){try{await Promise.resolve();const i=performance.now(),r=this.findSubmitButton(t,n);this.formSaving.addSubmitHandler(r,t),be.info("Submit handlers attached asynchronously to form "+s+" in "+(performance.now()-i)+"ms")}catch(i){be.warn("Exception while adding submit handler. Message: "+i.message)}}scanForOrphanedFields(t){const n=new Date().getTime(),s=[];let i=null;const r=t.getElementsByTagName("input");for(const a of r)a.form||s.push(a);s.length>0&&(i={elements:s,id:"Kee-pseudo-form",name:"Kee-pseudo-form",ownerDocument:t,getElementsByTagName:function(){return this.elements},querySelectorAll:function(){return[]},submit:function(){},offsetParent:!0,addEventListener:function(){},removeEventListener:function(){}});const o=new Date().getTime();return this.Logger.debug("scanForOrphanedFields took: "+(o-n)),i}findLoginsResultHandler(t){if(!t)return;const n=t.filter(s=>Ot.getUsernameField(s)||Ot.getPasswordField(s));this.matchResult=this.getRelevanceOfLoginMatchesAgainstAllForms(n,this.findLoginOp,this.matchResult),this.fillAndSubmit(!0)}getRelevanceOfLoginMatchesAgainstAllForms(t,n,s){const i=JSON.stringify(t);let r=!1;for(let o=0;o<n.forms.length;o++){if(n.formIndexes.indexOf(o)==-1||(s.entries[o]=JSON.parse(i),s.entries[o].length==0))continue;this.Logger.info("match found!");const a=this.formUtils.isDOMElementVisible(s.submitTargets[o]);this.Logger.debug("formVisible: "+a);const l={other:s.otherFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement)),password:s.passwordFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement))};for(let c=0;c<s.entries[o].length;c++){const u={punishWrongIDAndName:gu.KeePassDatabases.find(A=>A.fileName===s.entries[o][c].database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},{score:d,lowFieldMatchRatio:y}=this.calculateRelevanceScore(s.entries[o][c],s.passwordFieldsArray[o],s.otherFieldsArray[o],s.currentPage,a,u,l);s.entries[o][c].relevanceScore=d,s.entries[o][c].lowFieldMatchRatio=y,s.entries[o][c].formIndex=o,s.entries[o][c].entryIndex=c,(!r||s.entries[o][c].relevanceScore>s.allMatchingLogins[c].relevanceScore)&&(this.Logger.debug("Higher relevance score found for entry "+c+" with formIndex "+s.entries[o][c].formIndex+" ("+n.forms[o].id+")"),s.allMatchingLogins[c]=s.entries[o][c])}r=!0,s.entries[o].forEach(function(c){c.relevanceScore>s.formRelevanceScores[o]&&(s.formRelevanceScores[o]=c.relevanceScore)}),this.Logger.debug("Relevance of form "+o+" ("+n.forms[o].id+") is "+s.formRelevanceScores[o])}return s}getMostRelevantForm(t){const n=this.matchResult;if(!n)return{bestFormIndex:0,bestRelevanceScore:0,bestFindMatchesResult:void 0};let s=0;return t>=0?s=t:n.formRelevanceScores.forEach((i,r)=>{this.Logger.debug("Relevance of form is "+i),i>n.formRelevanceScores[s]&&(s=r)}),this.Logger.debug("The most relevant form is #"+s),{bestFormIndex:s,bestRelevanceScore:n.formRelevanceScores[s],bestFindMatchesResult:n}}fillAndSubmit(t,n,s){this.Logger.debug("fillAndSubmit started. automated: "+t+", formIndex: "+n+", entryIndex: "+s);const i=this.matchResult;let r;if(!i)return;const o=!t&&(i.mostRelevantFormIndex!==null&&i.mostRelevantFormIndex>=0||typeof n<"u")&&typeof s<"u";o||(i.mostRelevantFormIndex=this.getMostRelevantForm().bestFormIndex),n!==null&&n>=0&&(i.mostRelevantFormIndex=n);const a=i.forms[i.mostRelevantFormIndex],l=i.passwordFieldsArray[i.mostRelevantFormIndex],c=i.otherFieldsArray[i.mostRelevantFormIndex],f=this.sortMatchedEntries(i.entries[i.mostRelevantFormIndex]),u=this.flagUserPreferredEntry(f);!o&&i.entries[i.mostRelevantFormIndex].length>0&&(this.myPort.postMessage({entries:u}),this.keeFieldIcon.addKeeIconToFields(l,c,u));let d=null,y={fill:!1,submit:!1},A=!1;if(i.cannotAutoFillForm=!1,i.cannotAutoSubmitForm=!1,t&&i.autofillOnSuccess===!1&&(i.cannotAutoFillForm=!0),t&&i.autosubmitOnSuccess===!1&&(i.cannotAutoSubmitForm=!0),!i.cannotAutoFillForm){this.Logger.debug("We are allowed to auto-fill this form."),s>=0&&(d=i.entries[i.mostRelevantFormIndex][s],i.UUID=null,i.dbFileName=null);let C=!1;if(d==null&&i.entries[i.mostRelevantFormIndex].length==1)d=i.entries[i.mostRelevantFormIndex][0],C=!0;else if(i.UUID!=null&&i.UUID!=null&&i.UUID!=""){this.Logger.debug("We've been told to use an entry with this UUID: "+i.UUID);for(let F=0;F<i.entries[i.mostRelevantFormIndex].length;F++)if(i.entries[i.mostRelevantFormIndex][F].uuid==i.UUID){d=i.entries[i.mostRelevantFormIndex][F];break}d==null&&this.Logger.warn("Could not find the required KeePass entry. Maybe the website redirected you to a different domain or hostname?")}else d==null&&(!i.entries[i.mostRelevantFormIndex]||!i.entries[i.mostRelevantFormIndex].length)?this.Logger.debug("No entries for form."):d==null&&(this.Logger.debug("Multiple entries for form, so using preferred or most relevant."),d=u.find(F=>F.isPreferredMatch)||u[0],A=!0,C=!0);if(t&&C&&d!=null&&(d.relevanceScore<1?(this.Logger.info("Our selected entry is not relevant enough to exceed our threshold so will not be auto-filled."),d=null):d.lowFieldMatchRatio&&(this.Logger.info("Our selected entry has a low field match ratio so will not be auto-filled."),d=null)),d!=null){const F=o||(t&&A&&!this.config.autoFillFormsWithMultipleMatches?!1:this.config.autoFillForms),v=o?this.config.autoSubmitMatchedForms:this.config.autoSubmitForms;if(y={fill:F,submit:v},o||(d.alwaysAutoFill&&(y.fill=!0),d.neverAutoFill&&(y.fill=!1)),(!o||!this.config.manualSubmitOverrideProhibited)&&(d.alwaysAutoSubmit&&(y.submit=!0),d.neverAutoSubmit&&(y.submit=!1)),y.fill||i.mustAutoFillForm){this.Logger.debug("Going to auto-fill a form");const E={punishWrongIDAndName:gu.KeePassDatabases.find(D=>D.fileName===d.database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},x=this.fillManyFormFields(c,d.fields.filter(D=>D.type!=="password"),-1,E,t),R=this.fillManyFormFields(l,d.fields.filter(D=>D.type==="password"),-1,E,t);i.formReadyForSubmit=!0,i.lastFilledPasswords=R,i.lastFilledOther=x,R&&R.length>0?r=R[0].DOMelement:x&&x.length>0&&(r=x[0].DOMelement),this.formSaving.updateMatchResult(i)}}}i.formReadyForSubmit&&(i.UUID==null||i.UUID==null||i.UUID=="")&&(this.Logger.debug("Syncing UUID to: "+d.uuid),i.UUID=d.uuid,i.dbFileName=d.database.fileName),!i.cannotAutoSubmitForm&&(y.submit||i.mustAutoSubmitForm)&&i.formReadyForSubmit?(this.Logger.info("Auto-submitting form..."),this.submitForm(a,r)):o?this.Logger.debug("Matched entry request is not being auto-submitted."):this.matchResult.allMatchingLogins.length>0?t?this.Logger.debug("Automatic form fill complete."):this.Logger.debug("Manual form fill complete."):this.Logger.info("Nothing to fill.")}sortMatchedEntries(t){return t.map(n=>new Ot({...n})).sort((n,s)=>s.relevanceScore-n.relevanceScore)}flagUserPreferredEntry(t){const n=new URL(window.document.URL);n.hostname=punycode.toUnicode(n.hostname);const s=Qe.siteConfigFor(n.href);return t.map(i=>new Ot({...i,isPreferredMatch:s.preferredEntryUuid===i.uuid}))}findSubmitButton(t,n){const s=[];let A=0;const C=(b,N)=>this.commonAncestorDistance(b,N,F),F=new Map,v=this.formUtils;function g(b,N){A>N+60+100||((v.isDOMElementVisible(b)||!v.isDOMElementVisible(n))&&(N+=60),A>N+100)||(s.push({distance:C(b,n),element:b,score:N}),A=N)}function E(b){var K;const N=[];return b.hasAttribute("aria-label")&&N.push(b.getAttribute("aria-label").toLowerCase()),(K=b.getAttribute("aria-labelledby"))==null||K.trim().split(" ").forEach(B=>{if(B){const W=t.ownerDocument.getElementById(B);W&&W.innerText&&N.push(W.innerText.toLowerCase())}}),N}if(Array.from(t.ownerDocument.getElementsByTagName("button")).forEach(b=>{if(b.isConnected&&(!b.type||b.type!="reset")){const N=[];b.name&&N.push(b.name.toLowerCase()),b.textContent&&N.push(b.textContent.toLowerCase()),b.value&&N.push(b.value.toLowerCase()),N.push(...E(b));let K=this.scoreAdjustmentForMagicWords(N,50,this.semanticWhitelistCache,this.semanticBlacklistCache);K+=b.form&&b.form==t?60:40,g(b,K)}}),Array.from(t.getElementsByTagName("input")).forEach(b=>{if(b.isConnected&&b.type!=null){let N=0;if(b.type=="submit"||b.type=="button"){b.name&&(N+=this.scoreAdjustmentForMagicWords([b.name.toLowerCase()],50,this.semanticWhitelistCache,this.semanticBlacklistCache));const K=[];b.value&&K.push(b.value.toLowerCase()),K.push(...E(b)),K.length>0&&(N+=this.scoreAdjustmentForMagicWords(K,40,this.semanticWhitelistCache,this.semanticBlacklistCache)),b.id&&(N+=this.scoreAdjustmentForMagicWords([b.id.toLowerCase()],20,this.semanticWhitelistCache,this.semanticBlacklistCache))}if(b.type=="submit"||b.type=="button"||b.type=="image"){let K=N;K+=b.type=="button"?30:b.type=="image"?40:50,g(b,K)}}}),Array.from(t.ownerDocument.querySelectorAll("[role=button]:not(button)")).forEach(b=>{if(!b.isConnected)return;const N=[];b.name&&N.push(b.name.toLowerCase()),b.id&&N.push(b.id.toLowerCase()),b.title&&N.push(b.title.toLowerCase()),b.innerText&&N.push(b.innerText.toLowerCase()),b.dataSet&&b.dataSet.length>0&&b.dataSet.tooltip&&N.push(b.dataSet.tooltip.toLowerCase()),N.push(...E(b));let K=this.scoreAdjustmentForMagicWords(N,50,this.semanticWhitelistCache,this.semanticBlacklistCache);K+=b.form&&b.form==t?20:10,g(b,K)}),s.length<=0)return null;if(s.length===1)return s[0].element;const x=s.sort((b,N)=>b.distance>N.distance?-1:b.distance<N.distance?1:0),R=x[0].distance-x[x.length-1].distance,D=Math.min(100,20*R);let P=1/x.length,w=x[0].distance;x.forEach((b,N,K)=>{b.distance<w&&(P=(N+1)/K.length,w=b.distance),b.score+=P*D});let m=x[0].score,_=x[0].element;for(let b=1;b<x.length;b++)x[b].score>m&&(m=x[b].score,_=x[b].element);return _}scoreAdjustmentForMagicWords(t,n,s,i){const r=["submit","login","enter","log in","signin","sign in","next","continue"],o=["reset","cancel","back","abort","undo","exit","empty","clear","captcha","totp","forgot","dismiss","delete","show","reveal"];let a=!1,l=!1;for(let c=0;c<t.length&&!a;c++){if(!t[c])continue;const f=t[c].trim();if(f){if(s[f]===!0){a=!0;break}if(s[f]!==!1)for(let u=0;u<r.length;u++)if(f.indexOf(r[u])>=0){a=!0,s[f]=!0;break}else s[f]=!1}}for(let c=0;c<t.length&&!l;c++){if(!t[c])continue;const f=t[c].trim();if(f){if(i[f]===!0){l=!0;break}if(i[f]!==!1)for(let u=0;u<o.length;u++)if(f.indexOf(o[u])>=0){l=!0,i[f]=!0;break}else i[f]=!1}}return a&&l?0:l?-1*n:a?n:0}commonAncestorDistance(t,n,s){let i=1,r=!1;const o=[];let a=0;for(;t=t.parentElement;){const l=s.get(t);if(l!==void 0){i+=l,a=l+1,r=!0;break}if(o.push(t),t.contains(n)){r=!0;break}i++}if(r){if(o.length>0)for(let l=a;l<i&&o.length>0;l++){const c=o.pop();s.set(c,l)}return i}else return 9007199254740991}submitForm(t,n){const s=this.findSubmitButton(t,n);this.formSaving.removeAllSubmitHandlers(),s!=null?(this.Logger.debug("Submiting using element: "+s.name+": "+s.id),s.click()):(this.Logger.debug("Submiting using form"),t.submit())}calculateRelevanceScore(t,n,s,i,r,o,a){let l=0,c=!1;l+=t.matchAccuracy,r||(l-=20);const f=.501,[u,d]=this.determineRelevanceScores("other",s,t.fields.filter(m=>m.type!=="password"),i,o,a.other),[y,A]=this.determineRelevanceScores("password",n,t.fields.filter(m=>m.type==="password"),i,o,a.password),C=u+y,F=n.concat(s).filter(m=>m.field.locators[0].id||m.field.locators[0].name||m.field.value).length,v=t.fields.filter(m=>m.locators[0].id||m.locators[0].name||m.value).length,g=n.concat(s).filter(m=>(m.field.type==="password"||m.field.type==="text")&&(m.field.locators[0].id||m.field.locators[0].name)).length,E=t.fields.filter(m=>(m.type==="password"||m.type==="text")&&(m.locators[0].id||m.locators[0].name||m.value)).length,x=d.filter(m=>m===!0).length+A.filter(m=>m===!0).length,R=n.filter(m=>{var _;return(_=m.field.locators[0].autocompleteValues)==null?void 0:_.some(b=>b==="new-password")}).length,D=Math.min(E+R,x)/Math.max(1,g);this.Logger.debug("formFieldCount: "+F+", loginFieldCount: "+v+", loginFieldCountForAutofill: "+E+", formFieldCountForAutofill: "+g+", formMatchedFieldCountForAutofill: "+x+", numberOfNewPasswordFields: "+R+", fieldMatchRatio: "+D),D<f&&(this.Logger.info(t.uuid+" will be forced to not auto-fill because the form field match ratio ("+D+") is not high enough."),c=!0);const w=C/Math.max(F,v)/(Math.abs(F-v)+1);return l+=w,this.Logger.info("Relevance for "+t.uuid+" is: "+l),{score:l,lowFieldMatchRatio:c}}determineRelevanceScores(t,n,s,i,r,o){var f;let a=0;const l=1,c=[];for(let u=0;u<n.length;u++){let d=0;const y=n[u].field;(f=y.locators[0].autocompleteValues)!=null&&f.some(A=>A==="new-password")&&(c[u]=!0);for(let A=0;A<s.length;A++){const C=this.calculateFieldMatchScore(n[u],s[A],i,r,o[u]);this.Logger.debug("Suitability of putting "+t+" field "+A+" into form field "+u+" (id: "+y.locators[0].id+") is "+C),C>d&&(d=C);const F=C-(o[u]?0:10);(y.type==="text"||y.type==="password")&&F>=l&&s[A].value&&!c[u]&&(c[u]=!0),(n[u].highestScore==null||C>n[u].highestScore)&&(n[u].highestScore=C)}a+=d}return[a,c]}removeKeeIconFromAllFields(){this.keeFieldIcon.removeKeeIconFromAllFields()}}class Em{}class xm{constructor(t){this.findLoginOps=[],this.matchResults=[],this.Logger=t}countAllDocuments(t){if(!this.isUriWeCanFill(t.location))return 0;let n=1;if(t.frames.length>0){const s=t.frames;for(let i=0;i<s.length;i++)n+=this.countAllDocuments(s[i])}return n}isUriWeCanFill(t){return t.protocol=="http:"||t.protocol=="https:"||t.protocol=="file:"}isATextFormFieldType(t){return!(t=="checkbox"||t=="select-one"||t=="radio"||t=="password"||t=="hidden"||t=="submit"||t=="button"||t=="file"||t=="image"||t=="reset")}isAKnownUsernameString(t){const n=t.toLowerCase();return n=="username"||n=="j_username"||n=="user_name"||n=="user"||n=="user-name"||n=="login"||n=="vb_login_username"||n=="name"||n=="user name"||n=="user id"||n=="user-id"||n=="userid"||n=="email"||n=="e-mail"||n=="id"||n=="form_loginname"||n=="wpname"||n=="mail"||n=="loginid"||n=="login id"||n=="login_name"||n=="openid_identifier"||n=="authentication_email"||n=="openid"||n=="auth_email"||n=="auth_id"||n=="authentication_identifier"||n=="authentication_id"||n=="customer_number"||n=="customernumber"||n=="onlineid"}getFormFields(t,n,s){var A;const i=[],r=[],o=[];let a=-1,l=-1,c=-1;const f=t.elements.length,u=f<2e3?f:2e3;for(let C=0;C<u;C++){if(o.length>s)throw new Error("Too many fields");if(t.elements[C].localName.toLowerCase()=="object"||t.elements[C].localName.toLowerCase()=="keygen"||t.elements[C].localName.toLowerCase()=="output"||t.elements[C].localName.toLowerCase()!="input"&&(t.elements[C].type==null||t.elements[C].type==null))continue;const F=t.elements[C].type.toLowerCase();if(F=="fieldset"||F!="password"&&!this.isATextFormFieldType(F)&&F!="checkbox"&&F!="radio"&&F!="select-one"||F=="radio"&&n&&t.elements[C].checked==!1||F=="password"&&n&&!t.elements[C].value||F=="select-one"&&n&&!t.elements[C].value)continue;this.Logger.debug(`processing field with domtype ${F}...`),o[o.length]={index:C,element:new Em,type:F};let v=t.elements[C].value;F=="checkbox"&&(t.elements[C].checked?v="KEEFOX_CHECKED_FLAG_TRUE":v="KEEFOX_CHECKED_FLAG_FALSE");const g=Ge.fromDOM(t.elements[C],F,v);o[o.length-1].element.field=g,o[o.length-1].element.DOMelement=t.elements[C],F=="password"&&a==-1&&(a=o.length-1),this.isATextFormFieldType(F)&&l==-1&&(this.isAKnownUsernameString(t.elements[C].name)||(A=g.locators[0].labels)!=null&&A.some(E=>this.isAKnownUsernameString(E)))&&(l=o.length-1),t.elements[C].keeInitialDetectedValue==null&&(t.elements[C].keeInitialDetectedValue=v)}l!=-1?c=l:a>0&&(c=a-1),this.Logger.debug("usernameIndex: "+c);let d=0,y=0;for(let C=0;C<o.length;C++)o[C].type=="password"?i[i.length]=o[C].element:(this.isATextFormFieldType(o[C].type)||o[C].type=="checkbox"||o[C].type=="radio"||o[C].type=="select-one")&&(r[r.length]=o[C].element,C==c?y=d:d++);return this.Logger.debug("actualUsernameIndex: "+y),this.Logger.debug("otherFields.length:"+r.length),{actualUsernameIndex:y,pwFields:i,otherFields:r}}isDOMElementVisible(t){return!(!t.offsetParent&&t.offsetHeight===0&&t.offsetWidth===0)}}class Sm{constructor(t,n,s){this.myPort=t,this.SubmitHandlerAttachments=[],this.Logger=n,this.formUtils=s}addSubmitHandler(t,n){const s=i=>this.submitHandler(i,n);this.SubmitHandlerAttachments.push({target:t,form:n,handler:s}),t&&t.addEventListener("click",s),n.addEventListener("submit",s)}removeAllSubmitHandlers(){this.SubmitHandlerAttachments.forEach(t=>{t.target&&t.target.removeEventListener("click",t.handler),t.form.removeEventListener("submit",t.handler)}),this.SubmitHandlerAttachments=[]}updateMatchResult(t){this.matchResult=t}submitHandler(t,n){this.Logger.debug("submitHandler called"),this.removeAllSubmitHandlers();const s=n.ownerDocument,i=new URL(s.URL);if(i.hostname=punycode.toUnicode(i.hostname),Qe.siteConfigFor(i.href).preventSaveNotification)return;let o=!1,a=!1;const l=[];let c;try{c=this.formUtils.getFormFields(n,!0,50)}catch(v){this.Logger.warn("Lost interest in this form after finding too many fields"+v);return}const f=c.actualUsernameIndex,u=c.pwFields,d=c.otherFields;if(u.length>1){let v=-1;for(let g=0;g<u.length&&v==-1;g++)for(let E=g+1;E<u.length&&v==-1;E++)u[E].field.value==u[g].field.value&&(v=E);if(v==-1){this.Logger.debug("multiple passwords found (with no identical values)");for(let g=0;g<u.length;g++)l.push(u[g])}else this.Logger.debug("Looks like a password change form or new registration form has been submitted"),u.length==2?(l.push(u[0]),o=!1,a=!0):(o=!1,a=!1,l.push(u[v]))}else u!=null&&u[0]!=null&&u[0]!=null&&l.push(u[0]);const y=this.removeEmptyFields(l),A=this.removeEmptyFields(d),C=!this.matchResult||!this.matchResult.lastFilledPasswords||this.hasFieldBeenModified(y,this.matchResult.lastFilledPasswords),F=!this.matchResult||!this.matchResult.lastFilledOther||this.hasFieldBeenModified(A,this.matchResult.lastFilledOther);if(C||F){const v={url:i.href,fields:Ge.combineDomFieldLists(f,A.map(g=>g.field),y.map(g=>g.field)),title:s.title||i.hostname,isPasswordChangeForm:o,isRegistrationForm:a};this.myPort.postMessage({submittedData:v})}}removeEmptyFields(t){return t.filter(n=>n.field.value||n.field.type==="boolean")}hasFieldBeenModified(t,n){return!!n.find(s=>{const i=t.find(r=>s.DOMelement==r.DOMelement);return!i||i.field.value!=s.value})}}const mu=En.GeneratePassword;class Tm{constructor(t){this.parentFrameId=t}createGeneratePasswordPanel(){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Fs(mu,null,this.parentFrameId),this.generatePasswordPanelStub.createPanel()}createGeneratePasswordPanelNearNode(t){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Fs(mu,t,this.parentFrameId),this.generatePasswordPanelStub.createPanel(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}closeGeneratePasswordPanel(){this.generatePasswordPanelStub&&this.generatePasswordPanelStub.closePanel(),this.generatePasswordPanelStub=null,cancelAnimationFrame(this.generatePasswordPanelStubRaf)}updateGeneratePasswordPanelPosition(){this.generatePasswordPanelStub.updateBoundingClientRect(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}}class Pm{constructor(){this.receivedMutations=[],this.initialized=!1,this.pendingMutations=[]}init(t,n,s,i){this.store=t,this.store.$subscribe(r=>{if(r.type==it.patchObject)this.hookMutation(r);else throw new Error("Pinia generated a non-object mutation. We don't think we can support this and need to know that it is possible for it to happen! Tell us now or weird things will happen.")}),this.sendMutation=s,this.store.$patch(n),this.initialized=!0,this.processPendingMutations(),i&&i()}reset(t){this.store.$patch(t)}onRemoteMutation(t){this.initialized&&(this.receivedMutations.push(t),this.store.$patch(t.payload))}hookMutation(t){if(!this.initialized)return this.pendingMutations.push(t);if(!this.receivedMutations.length)return this.sendMutation(t);for(let n=this.receivedMutations.length-1;n>=0;n--)if(this.receivedMutations[n]==t.payload){this.receivedMutations.splice(n,1);break}else n==0&&this.sendMutation(t)}processPendingMutations(){if(this.pendingMutations.length)for(let t=0;t<this.pendingMutations.length;t++)this.sendMutation(this.pendingMutations[t]),this.pendingMutations.splice(t,1)}}class Om{constructor(){this.mixin={methods:{postMessage:t=>{this.port.postMessage(t)}}}}postMessage(t){this.port.postMessage(t)}startup(t){this.port=nt.runtime.connect({name:t})}shutdown(){this.port=null}get raw(){return this.port}}const je=new Om;var Ns;Ns?be&&be.error?be.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ns):console.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ns):Ns=0,Ns+=1;let Bi,ve,Ms,Hi,Ki,Wi,Ro=!1,pu,bu=!1,yu=!1,wu,Fo;Fi(oi).use(pm());const Pn=hu();if(document.body){let e=function(r){je.postMessage({findMatches:{uri:r}})},t=function(){if(window.location.hostname.endsWith("tutorial-addon.kee.pm")){const r=document.createElement("KeeFoxAddonStateTransferElement");r.setAttribute("state",JSON.stringify({connected:Pn.connected,version:nt.runtime.getManifest().version,dbLoaded:Pn.KeePassDatabases.length>0,sessionNames:Pn.KeePassDatabases.map(a=>a.sessionType.toString()).filter((a,l,c)=>c.indexOf(a)===l)})),document.documentElement.appendChild(r);const o=new Event("KeeFoxAddonStateTransferEvent",{bubbles:!0,cancelable:!1});r.dispatchEvent(o)}},n=function(r){Ki=r,be.attachConfig(Qe.current),Bi=new xm(be),Ms=new Sm(je.raw,be,Bi),ve=new Cm(je.raw,Ki,Bi,Ms,be,Qe.current,e),Hi=new Tm(Ki),Fo.observe(document.body,{childList:!0,subtree:!0}),t()},s=function(){be.debug("content page starting");try{i(),je.raw==null&&be.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){be.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}pu=window.setInterval(()=>{if(je.raw==null){be.info("Messaging port was not established at page startup. Retrying now...");try{i(),je.raw==null&&be.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){be.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}}else clearInterval(pu)},5e3),be.debug("content page ready")},i=function(){if(je.raw){be.warn("port already set to '"+je.raw.name+"'. Skipping startup because it should already be underway but is taking a long time.");return}Wi=new Pm(Pn),je.startup("page"),je.raw.onMessage.addListener(function(r){if(be.debug("In browser content page script, received message from background script"),r.initialState&&Wi.init(r.initialState,o=>{je.postMessage({mutation:o})}),r.mutation){Wi.onRemoteMutation(r.mutation);return}Ro?r.action==yt.DetectForms&&(r.resetState&&Wi.reset(r.resetState),ve.removeKeeIconFromAllFields(),Ms.removeAllSubmitHandlers(),Pn.entryUpdateStartedAtTimestamp>=Date.now()-2e4?ve.findMatchesInThisFrame({autofillOnSuccess:!1,autosubmitOnSuccess:!1}):ve.findMatchesInThisFrame()):(n(r.frameId),ve.findMatchesInThisFrame(),Ro=!0),r.findMatchesResult&&ve.findLoginsResultHandler(r.findMatchesResult),r.action==yt.ManualFill&&r.selectedEntryIndex!=null&&(ve.closeMatchedLoginsPanel(),ve.fillAndSubmit(!1,null,r.selectedEntryIndex)),r.action==yt.ResetForms&&(ve.removeKeeIconFromAllFields(),Ms.removeAllSubmitHandlers()),r.action==yt.Primary&&ve.executePrimaryAction(),r.action==yt.GeneratePassword&&Hi.createGeneratePasswordPanel(),r.action==yt.CloseAllPanels&&(Hi.closeGeneratePasswordPanel(),ve.closeMatchedLoginsPanel()),r.action==yt.ShowMatchedLoginsPanel&&ve.createMatchedLoginsPanelInCenter(r.frameId)})};Fo=new MutationObserver(r=>{if(ve.formFinderTimer!==null||!Pn.connected||Pn.ActiveKeePassDatabaseIndex<0)return;let o=!1;const a=["form","input","select"];r.forEach(l=>{if(!o&&l.type==="childList"&&l.addedNodes.length>0)for(const c of l.addedNodes){if(o)break;for(let f=0;f<a.length;f++){const u=c;if(u.querySelector&&u.querySelector(a[f])){o=!0;break}}}}),o&&(ve.formFinderTimer=window.setTimeout(ve.findMatchesInThisFrame.bind(ve),500))}),window.addEventListener("pageshow",()=>{bu=!0,clearTimeout(wu),yu&&s()}),window.addEventListener("pagehide",()=>{Fo.disconnect(),je.raw&&je.postMessage({action:yt.PageHide}),ve.removeKeeIconFromAllFields(),je.shutdown(),Ro=!1,Ki=void 0,Bi=void 0,Ms=void 0,ve=void 0,Hi=void 0}),Qe.load(()=>{yu=!0,bu?s():wu=window.setTimeout(s,1500)})}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZ2xvYmFsLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9jb21wYXQvZGlzdC92dWUucnVudGltZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWJleHRlbnNpb24tcG9seWZpbGwvZGlzdC9icm93c2VyLXBvbHlmaWxsLmpzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9jb25maWcudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL0RlZmF1bHRTaXRlQ29uZmlnLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9Db25maWdNaWdyYXRpb25zLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi91dGlscy50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vTG9nZ2VyLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9Db25maWdNYW5hZ2VyLnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvUGFuZWxTdHViLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9BY3Rpb24udHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9rZWVGaWVsZEljb24udHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9NYXRjaFJlc3VsdC50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvU2Vzc2lvblR5cGUudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0VudHJ5U3VtbWFyeS50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvR3JvdXAudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0RhdGFiYXNlLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9Eb2xsYXJQb2x5ZmlsbHMudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0xvY2F0b3IudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0tQUlBDRFRPcy50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvRmllbGQudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0dyb3VwU3VtbWFyeS50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvRW50cnkudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWRlbWkvbGliL2luZGV4Lm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2Vudi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2NvbnN0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vdGltZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL3Byb3h5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcGluaWEvZGlzdC9waW5pYS5tanMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL1NhdmVTdGF0ZS50cyIsIi4uLy4uLy4uL3NyYy9zdG9yZS9LZWVTdGF0ZS50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vU2Vzc2lvblR5cGUudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvaW5kZXgudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9mb3JtRmlsbGluZy50cyIsIi4uLy4uLy4uL3NyYy9wYWdlL01hdGNoZWRGaWVsZC50cyIsIi4uLy4uLy4uL3NyYy9wYWdlL2Zvcm1zVXRpbHMudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9mb3JtU2F2aW5nLnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvUGFzc3dvcmRHZW5lcmF0b3IudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvc3luY0NvbnRlbnQudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL3BvcnQudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9wYWdlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWFrZSBhIG1hcCBhbmQgcmV0dXJuIGEgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGEga2V5XG4gKiBpcyBpbiB0aGF0IG1hcC5cbiAqIElNUE9SVEFOVDogYWxsIGNhbGxzIG9mIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBwcmVmaXhlZCB3aXRoXG4gKiBcXC9cXCojXFxfXFxfUFVSRVxcX1xcX1xcKlxcL1xuICogU28gdGhhdCByb2xsdXAgY2FuIHRyZWUtc2hha2UgdGhlbSBpZiBuZWNlc3NhcnkuXG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyLCBleHBlY3RzTG93ZXJDYXNlKSB7XG4gICAgY29uc3QgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBjb25zdCBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcFtsaXN0W2ldXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RzTG93ZXJDYXNlID8gdmFsID0+ICEhbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXSA6IHZhbCA9PiAhIW1hcFt2YWxdO1xufVxuXG5jb25zdCBHTE9CQUxTX1dISVRFX0xJU1RFRCA9ICdJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLHBhcnNlRmxvYXQscGFyc2VJbnQsZGVjb2RlVVJJLCcgK1xuICAgICdkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCxNYXRoLE51bWJlcixEYXRlLEFycmF5LCcgK1xuICAgICdPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCc7XG5jb25zdCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoR0xPQkFMU19XSElURV9MSVNURUQpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGlzU3RyaW5nKGl0ZW0pXG4gICAgICAgICAgICAgICAgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVTdHlsZShpdGVtKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgICAgICByZXNba2V5XSA9IG5vcm1hbGl6ZWRba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KFteXSspLztcbmNvbnN0IHN0eWxlQ29tbWVudFJFID0gL1xcL1xcKi4qP1xcKlxcLy9ncztcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nU3R5bGUoY3NzVGV4dCkge1xuICAgIGNvbnN0IHJldCA9IHt9O1xuICAgIGNzc1RleHRcbiAgICAgICAgLnJlcGxhY2Uoc3R5bGVDb21tZW50UkUsICcnKVxuICAgICAgICAuc3BsaXQobGlzdERlbGltaXRlclJFKVxuICAgICAgICAuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XG4gICAgICAgICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3ModmFsdWUpIHtcbiAgICBsZXQgcmVzID0gJyc7XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXMgPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNsYXNzKHZhbHVlW2ldKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgcmVzICs9IG5vcm1hbGl6ZWQgKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgcmVzICs9IG5hbWUgKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcy50cmltKCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyhwcm9wcykge1xuICAgIGlmICghcHJvcHMpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9wcztcbn1cblxuLy8gVGhlc2UgdGFnIGNvbmZpZ3MgYXJlIHNoYXJlZCBiZXR3ZWVuIGNvbXBpbGVyLWRvbSBhbmQgcnVudGltZS1kb20sIHNvIHRoZXlcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudFxuY29uc3QgSFRNTF9UQUdTID0gJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsJyArXG4gICAgJ2hlYWRlcixoMSxoMixoMyxoNCxoNSxoNixuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbiwnICtcbiAgICAnZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsJyArXG4gICAgJ2RhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLCcgK1xuICAgICd0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLCcgK1xuICAgICdjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsJyArXG4gICAgJ3RoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCwnICtcbiAgICAnb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSwnICtcbiAgICAnc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCc7XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvRWxlbWVudFxuY29uc3QgU1ZHX1RBR1MgPSAnc3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLCcgK1xuICAgICdkZWZzLGRlc2MsZGlzY2FyZCxlbGxpcHNlLGZlQmxlbmQsZmVDb2xvck1hdHJpeCxmZUNvbXBvbmVudFRyYW5zZmVyLCcgK1xuICAgICdmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLCcgK1xuICAgICdmZURpc3RhbmNlTGlnaHQsZmVEcm9wU2hhZG93LGZlRmxvb2QsZmVGdW5jQSxmZUZ1bmNCLGZlRnVuY0csZmVGdW5jUiwnICtcbiAgICAnZmVHYXVzc2lhbkJsdXIsZmVJbWFnZSxmZU1lcmdlLGZlTWVyZ2VOb2RlLGZlTW9ycGhvbG9neSxmZU9mZnNldCwnICtcbiAgICAnZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlciwnICtcbiAgICAnZm9yZWlnbk9iamVjdCxnLGhhdGNoLGhhdGNocGF0aCxpbWFnZSxsaW5lLGxpbmVhckdyYWRpZW50LG1hcmtlcixtYXNrLCcgK1xuICAgICdtZXNoLG1lc2hncmFkaWVudCxtZXNocGF0Y2gsbWVzaHJvdyxtZXRhZGF0YSxtcGF0aCxwYXRoLHBhdHRlcm4sJyArXG4gICAgJ3BvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsJyArXG4gICAgJ3RleHQsdGV4dFBhdGgsdGl0bGUsdHNwYW4sdW5rbm93bix1c2Usdmlldyc7XG4vKipcbiAqIENvbXBpbGVyIG9ubHkuXG4gKiBEbyBOT1QgdXNlIGluIHJ1bnRpbWUgY29kZSBwYXRocyB1bmxlc3MgYmVoaW5kIGAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylgIGZsYWcuXG4gKi9cbmNvbnN0IGlzSFRNTFRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChIVE1MX1RBR1MpO1xuLyoqXG4gKiBDb21waWxlciBvbmx5LlxuICogRG8gTk9UIHVzZSBpbiBydW50aW1lIGNvZGUgcGF0aHMgdW5sZXNzIGJlaGluZCBgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpYCBmbGFnLlxuICovXG5jb25zdCBpc1NWR1RhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChTVkdfVEFHUyk7XG5cbi8qKlxuICogT24gdGhlIGNsaWVudCB3ZSBvbmx5IG5lZWQgdG8gb2ZmZXIgc3BlY2lhbCBjYXNlcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXRcbiAqIGhhdmUgZGlmZmVyZW50IG5hbWVzIGZyb20gdGhlaXIgY29ycmVzcG9uZGluZyBkb20gcHJvcGVydGllczpcbiAqIC0gaXRlbXNjb3BlIC0+IE4vQVxuICogLSBhbGxvd2Z1bGxzY3JlZW4gLT4gYWxsb3dGdWxsc2NyZWVuXG4gKiAtIGZvcm1ub3ZhbGlkYXRlIC0+IGZvcm1Ob1ZhbGlkYXRlXG4gKiAtIGlzbWFwIC0+IGlzTWFwXG4gKiAtIG5vbW9kdWxlIC0+IG5vTW9kdWxlXG4gKiAtIG5vdmFsaWRhdGUgLT4gbm9WYWxpZGF0ZVxuICogLSByZWFkb25seSAtPiByZWFkT25seVxuICovXG5jb25zdCBzcGVjaWFsQm9vbGVhbkF0dHJzID0gYGl0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seWA7XG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzKTtcbi8qKlxuICogQm9vbGVhbiBhdHRyaWJ1dGVzIHNob3VsZCBiZSBpbmNsdWRlZCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IG9yICcnLlxuICogZS5nLiBgPHNlbGVjdCBtdWx0aXBsZT5gIGNvbXBpbGVzIHRvIGB7IG11bHRpcGxlOiAnJyB9YFxuICovXG5mdW5jdGlvbiBpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSB8fCB2YWx1ZSA9PT0gJyc7XG59XG5cbmZ1bmN0aW9uIGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBlcXVhbCA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGVxdWFsICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVxdWFsID0gbG9vc2VFcXVhbChhW2ldLCBiW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGVxdWFsO1xufVxuZnVuY3Rpb24gbG9vc2VFcXVhbChhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGxldCBhVmFsaWRUeXBlID0gaXNEYXRlKGEpO1xuICAgIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKSA6IGZhbHNlO1xuICAgIH1cbiAgICBhVmFsaWRUeXBlID0gaXNTeW1ib2woYSk7XG4gICAgYlZhbGlkVHlwZSA9IGlzU3ltYm9sKGIpO1xuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgfVxuICAgIGFWYWxpZFR5cGUgPSBpc0FycmF5KGEpO1xuICAgIGJWYWxpZFR5cGUgPSBpc0FycmF5KGIpO1xuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xuICAgIH1cbiAgICBhVmFsaWRUeXBlID0gaXNPYmplY3QoYSk7XG4gICAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmOiB0aGlzIGlmIHdpbGwgcHJvYmFibHkgbmV2ZXIgYmUgY2FsbGVkICovXG4gICAgICAgIGlmICghYVZhbGlkVHlwZSB8fCAhYlZhbGlkVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhiKS5sZW5ndGg7XG4gICAgICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYSkge1xuICAgICAgICAgICAgY29uc3QgYUhhc0tleSA9IGEuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgICAgICAgIGNvbnN0IGJIYXNLZXkgPSBiLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICAgICAgICBpZiAoKGFIYXNLZXkgJiYgIWJIYXNLZXkpIHx8XG4gICAgICAgICAgICAgICAgKCFhSGFzS2V5ICYmIGJIYXNLZXkpIHx8XG4gICAgICAgICAgICAgICAgIWxvb3NlRXF1YWwoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcbn1cbmZ1bmN0aW9uIGxvb3NlSW5kZXhPZihhcnIsIHZhbCkge1xuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGl0ZW0gPT4gbG9vc2VFcXVhbChpdGVtLCB2YWwpKTtcbn1cblxuLyoqXG4gKiBGb3IgY29udmVydGluZyB7eyBpbnRlcnBvbGF0aW9uIH19IHZhbHVlcyB0byBkaXNwbGF5ZWQgc3RyaW5ncy5cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcbiAgICByZXR1cm4gaXNTdHJpbmcodmFsKVxuICAgICAgICA/IHZhbFxuICAgICAgICA6IHZhbCA9PSBudWxsXG4gICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICA6IGlzQXJyYXkodmFsKSB8fFxuICAgICAgICAgICAgICAgIChpc09iamVjdCh2YWwpICYmXG4gICAgICAgICAgICAgICAgICAgICh2YWwudG9TdHJpbmcgPT09IG9iamVjdFRvU3RyaW5nIHx8ICFpc0Z1bmN0aW9uKHZhbC50b1N0cmluZykpKVxuICAgICAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMilcbiAgICAgICAgICAgICAgICA6IFN0cmluZyh2YWwpO1xufTtcbmNvbnN0IHJlcGxhY2VyID0gKF9rZXksIHZhbCkgPT4ge1xuICAgIC8vIGNhbid0IHVzZSBpc1JlZiBoZXJlIHNpbmNlIEB2dWUvc2hhcmVkIGhhcyBubyBkZXBzXG4gICAgaWYgKHZhbCAmJiB2YWwuX192X2lzUmVmKSB7XG4gICAgICAgIHJldHVybiByZXBsYWNlcihfa2V5LCB2YWwudmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc01hcCh2YWwpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbYE1hcCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC5lbnRyaWVzKCldLnJlZHVjZSgoZW50cmllcywgW2tleSwgdmFsXSkgPT4ge1xuICAgICAgICAgICAgICAgIGVudHJpZXNbYCR7a2V5fSA9PmBdID0gdmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgICAgICAgICAgfSwge30pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59O1xuXG5jb25zdCBFTVBUWV9PQkogPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICA/IE9iamVjdC5mcmVlemUoe30pXG4gICAgOiB7fTtcbmNvbnN0IEVNUFRZX0FSUiA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IE9iamVjdC5mcmVlemUoW10pIDogW107XG5jb25zdCBOT09QID0gKCkgPT4geyB9O1xuLyoqXG4gKiBBbHdheXMgcmV0dXJuIGZhbHNlLlxuICovXG5jb25zdCBOTyA9ICgpID0+IGZhbHNlO1xuY29uc3Qgb25SRSA9IC9eb25bXmEtel0vO1xuY29uc3QgaXNPbiA9IChrZXkpID0+IG9uUkUudGVzdChrZXkpO1xuY29uc3QgaXNNb2RlbExpc3RlbmVyID0gKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoJ29uVXBkYXRlOicpO1xuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XG4gICAgY29uc3QgaSA9IGFyci5pbmRleE9mKGVsKTtcbiAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gICAgfVxufTtcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGhhc093biA9ICh2YWwsIGtleSkgPT4gaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGtleSk7XG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE1hcF0nO1xuY29uc3QgaXNTZXQgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgU2V0XSc7XG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xuY29uc3QgaXNTeW1ib2wgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3ltYm9sJztcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xuY29uc3QgaXNQcm9taXNlID0gKHZhbCkgPT4ge1xuICAgIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcbn07XG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XG4gICAgLy8gZXh0cmFjdCBcIlJhd1R5cGVcIiBmcm9tIHN0cmluZ3MgbGlrZSBcIltvYmplY3QgUmF3VHlwZV1cIlxuICAgIHJldHVybiB0b1R5cGVTdHJpbmcodmFsdWUpLnNsaWNlKDgsIC0xKTtcbn07XG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuY29uc3QgaXNJbnRlZ2VyS2V5ID0gKGtleSkgPT4gaXNTdHJpbmcoa2V5KSAmJlxuICAgIGtleSAhPT0gJ05hTicgJiZcbiAgICBrZXlbMF0gIT09ICctJyAmJlxuICAgICcnICsgcGFyc2VJbnQoa2V5LCAxMCkgPT09IGtleTtcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFxuLy8gdGhlIGxlYWRpbmcgY29tbWEgaXMgaW50ZW50aW9uYWwgc28gZW1wdHkgc3RyaW5nIFwiXCIgaXMgYWxzbyBpbmNsdWRlZFxuJyxrZXkscmVmLHJlZl9mb3IscmVmX2tleSwnICtcbiAgICAnb25Wbm9kZUJlZm9yZU1vdW50LG9uVm5vZGVNb3VudGVkLCcgK1xuICAgICdvblZub2RlQmVmb3JlVXBkYXRlLG9uVm5vZGVVcGRhdGVkLCcgK1xuICAgICdvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkJyk7XG5jb25zdCBpc0J1aWx0SW5EaXJlY3RpdmUgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ2JpbmQsY2xvYWssZWxzZS1pZixlbHNlLGZvcixodG1sLGlmLG1vZGVsLG9uLG9uY2UscHJlLHNob3csc2xvdCx0ZXh0LG1lbW8nKTtcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgcmV0dXJuICgoc3RyKSA9PiB7XG4gICAgICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XG4gICAgICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKTtcbiAgICB9KTtcbn07XG5jb25zdCBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBjYW1lbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4ge1xuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJykpO1xufSk7XG5jb25zdCBoeXBoZW5hdGVSRSA9IC9cXEIoW0EtWl0pL2c7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IGh5cGhlbmF0ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgY2FwaXRhbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgdG9IYW5kbGVyS2V5ID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIgPyBgb24ke2NhcGl0YWxpemUoc3RyKX1gIDogYGApO1xuLy8gY29tcGFyZSB3aGV0aGVyIGEgdmFsdWUgaGFzIGNoYW5nZWQsIGFjY291bnRpbmcgZm9yIE5hTi5cbmNvbnN0IGhhc0NoYW5nZWQgPSAodmFsdWUsIG9sZFZhbHVlKSA9PiAhT2JqZWN0LmlzKHZhbHVlLCBvbGRWYWx1ZSk7XG5jb25zdCBpbnZva2VBcnJheUZucyA9IChmbnMsIGFyZykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZuc1tpXShhcmcpO1xuICAgIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlXG4gICAgfSk7XG59O1xuY29uc3QgdG9OdW1iZXIgPSAodmFsKSA9PiB7XG4gICAgY29uc3QgbiA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChfZ2xvYmFsVGhpcyB8fFxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxuICAgICAgICAgICAgdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxUaGlzXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxmXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XG59O1xuXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xuICAgIGNvbnNvbGUud2FybihgW1Z1ZSB3YXJuXSAke21zZ31gLCAuLi5hcmdzKTtcbn1cblxubGV0IGFjdGl2ZUVmZmVjdFNjb3BlO1xuY2xhc3MgRWZmZWN0U2NvcGUge1xuICAgIGNvbnN0cnVjdG9yKGRldGFjaGVkID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5kZXRhY2hlZCA9IGRldGFjaGVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWZmZWN0cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFudXBzID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICAgIGlmICghZGV0YWNoZWQgJiYgYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPVxuICAgICAgICAgICAgICAgIChhY3RpdmVFZmZlY3RTY29wZS5zY29wZXMgfHwgKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyA9IFtdKSkucHVzaCh0aGlzKSAtIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnVuKGZuKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcztcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gY3VycmVudEVmZmVjdFNjb3BlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybihgY2Fubm90IHJ1biBhbiBpbmFjdGl2ZSBlZmZlY3Qgc2NvcGUuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gbm9uLWRldGFjaGVkIHNjb3Blc1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG9uKCkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBvZmYoKSB7XG4gICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcy5wYXJlbnQ7XG4gICAgfVxuICAgIHN0b3AoZnJvbVBhcmVudCkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIGxldCBpLCBsO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVmZmVjdHNbaV0uc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuY2xlYW51cHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwc1tpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuc2NvcGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5zdG9wKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5lc3RlZCBzY29wZSwgZGVyZWZlcmVuY2UgZnJvbSBwYXJlbnQgdG8gYXZvaWQgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGV0YWNoZWQgJiYgdGhpcy5wYXJlbnQgJiYgIWZyb21QYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBvcHRpbWl6ZWQgTygxKSByZW1vdmFsXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucGFyZW50LnNjb3Blcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdCAmJiBsYXN0ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjb3Blc1t0aGlzLmluZGV4XSA9IGxhc3Q7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QuaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGVmZmVjdFNjb3BlKGRldGFjaGVkKSB7XG4gICAgcmV0dXJuIG5ldyBFZmZlY3RTY29wZShkZXRhY2hlZCk7XG59XG5mdW5jdGlvbiByZWNvcmRFZmZlY3RTY29wZShlZmZlY3QsIHNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICBpZiAoc2NvcGUgJiYgc2NvcGUuYWN0aXZlKSB7XG4gICAgICAgIHNjb3BlLmVmZmVjdHMucHVzaChlZmZlY3QpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZSgpIHtcbiAgICByZXR1cm4gYWN0aXZlRWZmZWN0U2NvcGU7XG59XG5mdW5jdGlvbiBvblNjb3BlRGlzcG9zZShmbikge1xuICAgIGlmIChhY3RpdmVFZmZlY3RTY29wZSkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZS5jbGVhbnVwcy5wdXNoKGZuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm4oYG9uU2NvcGVEaXNwb3NlKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGVmZmVjdCBzY29wZWAgK1xuICAgICAgICAgICAgYCB0byBiZSBhc3NvY2lhdGVkIHdpdGguYCk7XG4gICAgfVxufVxuXG5jb25zdCBjcmVhdGVEZXAgPSAoZWZmZWN0cykgPT4ge1xuICAgIGNvbnN0IGRlcCA9IG5ldyBTZXQoZWZmZWN0cyk7XG4gICAgZGVwLncgPSAwO1xuICAgIGRlcC5uID0gMDtcbiAgICByZXR1cm4gZGVwO1xufTtcbmNvbnN0IHdhc1RyYWNrZWQgPSAoZGVwKSA9PiAoZGVwLncgJiB0cmFja09wQml0KSA+IDA7XG5jb25zdCBuZXdUcmFja2VkID0gKGRlcCkgPT4gKGRlcC5uICYgdHJhY2tPcEJpdCkgPiAwO1xuY29uc3QgaW5pdERlcE1hcmtlcnMgPSAoeyBkZXBzIH0pID0+IHtcbiAgICBpZiAoZGVwcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkZXBzW2ldLncgfD0gdHJhY2tPcEJpdDsgLy8gc2V0IHdhcyB0cmFja2VkXG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgZmluYWxpemVEZXBNYXJrZXJzID0gKGVmZmVjdCkgPT4ge1xuICAgIGNvbnN0IHsgZGVwcyB9ID0gZWZmZWN0O1xuICAgIGlmIChkZXBzLmxlbmd0aCkge1xuICAgICAgICBsZXQgcHRyID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkZXAgPSBkZXBzW2ldO1xuICAgICAgICAgICAgaWYgKHdhc1RyYWNrZWQoZGVwKSAmJiAhbmV3VHJhY2tlZChkZXApKSB7XG4gICAgICAgICAgICAgICAgZGVwLmRlbGV0ZShlZmZlY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVwc1twdHIrK10gPSBkZXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjbGVhciBiaXRzXG4gICAgICAgICAgICBkZXAudyAmPSB+dHJhY2tPcEJpdDtcbiAgICAgICAgICAgIGRlcC5uICY9IH50cmFja09wQml0O1xuICAgICAgICB9XG4gICAgICAgIGRlcHMubGVuZ3RoID0gcHRyO1xuICAgIH1cbn07XG5cbmNvbnN0IHRhcmdldE1hcCA9IG5ldyBXZWFrTWFwKCk7XG4vLyBUaGUgbnVtYmVyIG9mIGVmZmVjdHMgY3VycmVudGx5IGJlaW5nIHRyYWNrZWQgcmVjdXJzaXZlbHkuXG5sZXQgZWZmZWN0VHJhY2tEZXB0aCA9IDA7XG5sZXQgdHJhY2tPcEJpdCA9IDE7XG4vKipcbiAqIFRoZSBiaXR3aXNlIHRyYWNrIG1hcmtlcnMgc3VwcG9ydCBhdCBtb3N0IDMwIGxldmVscyBvZiByZWN1cnNpb24uXG4gKiBUaGlzIHZhbHVlIGlzIGNob3NlbiB0byBlbmFibGUgbW9kZXJuIEpTIGVuZ2luZXMgdG8gdXNlIGEgU01JIG9uIGFsbCBwbGF0Zm9ybXMuXG4gKiBXaGVuIHJlY3Vyc2lvbiBkZXB0aCBpcyBncmVhdGVyLCBmYWxsIGJhY2sgdG8gdXNpbmcgYSBmdWxsIGNsZWFudXAuXG4gKi9cbmNvbnN0IG1heE1hcmtlckJpdHMgPSAzMDtcbmxldCBhY3RpdmVFZmZlY3Q7XG5jb25zdCBJVEVSQVRFX0tFWSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnaXRlcmF0ZScgOiAnJyk7XG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdNYXAga2V5IGl0ZXJhdGUnIDogJycpO1xuY2xhc3MgUmVhY3RpdmVFZmZlY3Qge1xuICAgIGNvbnN0cnVjdG9yKGZuLCBzY2hlZHVsZXIgPSBudWxsLCBzY29wZSkge1xuICAgICAgICB0aGlzLmZuID0gZm47XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVwcyA9IFtdO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmVjb3JkRWZmZWN0U2NvcGUodGhpcywgc2NvcGUpO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcmVudCA9IGFjdGl2ZUVmZmVjdDtcbiAgICAgICAgbGV0IGxhc3RTaG91bGRUcmFjayA9IHNob3VsZFRyYWNrO1xuICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICBpZiAocGFyZW50ID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3Q7XG4gICAgICAgICAgICBhY3RpdmVFZmZlY3QgPSB0aGlzO1xuICAgICAgICAgICAgc2hvdWxkVHJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgdHJhY2tPcEJpdCA9IDEgPDwgKytlZmZlY3RUcmFja0RlcHRoO1xuICAgICAgICAgICAgaWYgKGVmZmVjdFRyYWNrRGVwdGggPD0gbWF4TWFya2VyQml0cykge1xuICAgICAgICAgICAgICAgIGluaXREZXBNYXJrZXJzKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0VHJhY2tEZXB0aCA8PSBtYXhNYXJrZXJCaXRzKSB7XG4gICAgICAgICAgICAgICAgZmluYWxpemVEZXBNYXJrZXJzKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2tPcEJpdCA9IDEgPDwgLS1lZmZlY3RUcmFja0RlcHRoO1xuICAgICAgICAgICAgYWN0aXZlRWZmZWN0ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgICAgICBzaG91bGRUcmFjayA9IGxhc3RTaG91bGRUcmFjaztcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVmZXJTdG9wKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgLy8gc3RvcHBlZCB3aGlsZSBydW5uaW5nIGl0c2VsZiAtIGRlZmVyIHRoZSBjbGVhbnVwXG4gICAgICAgIGlmIChhY3RpdmVFZmZlY3QgPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmZXJTdG9wID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uU3RvcCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25TdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYW51cEVmZmVjdChlZmZlY3QpIHtcbiAgICBjb25zdCB7IGRlcHMgfSA9IGVmZmVjdDtcbiAgICBpZiAoZGVwcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkZXBzW2ldLmRlbGV0ZShlZmZlY3QpO1xuICAgICAgICB9XG4gICAgICAgIGRlcHMubGVuZ3RoID0gMDtcbiAgICB9XG59XG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMpIHtcbiAgICBpZiAoZm4uZWZmZWN0KSB7XG4gICAgICAgIGZuID0gZm4uZWZmZWN0LmZuO1xuICAgIH1cbiAgICBjb25zdCBfZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGZuKTtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBleHRlbmQoX2VmZmVjdCwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zLnNjb3BlKVxuICAgICAgICAgICAgcmVjb3JkRWZmZWN0U2NvcGUoX2VmZmVjdCwgb3B0aW9ucy5zY29wZSk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5sYXp5KSB7XG4gICAgICAgIF9lZmZlY3QucnVuKCk7XG4gICAgfVxuICAgIGNvbnN0IHJ1bm5lciA9IF9lZmZlY3QucnVuLmJpbmQoX2VmZmVjdCk7XG4gICAgcnVubmVyLmVmZmVjdCA9IF9lZmZlY3Q7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbn1cbmZ1bmN0aW9uIHN0b3AocnVubmVyKSB7XG4gICAgcnVubmVyLmVmZmVjdC5zdG9wKCk7XG59XG5sZXQgc2hvdWxkVHJhY2sgPSB0cnVlO1xuY29uc3QgdHJhY2tTdGFjayA9IFtdO1xuZnVuY3Rpb24gcGF1c2VUcmFja2luZygpIHtcbiAgICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICAgIHNob3VsZFRyYWNrID0gZmFsc2U7XG59XG5mdW5jdGlvbiByZXNldFRyYWNraW5nKCkge1xuICAgIGNvbnN0IGxhc3QgPSB0cmFja1N0YWNrLnBvcCgpO1xuICAgIHNob3VsZFRyYWNrID0gbGFzdCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGxhc3Q7XG59XG5mdW5jdGlvbiB0cmFjayh0YXJnZXQsIHR5cGUsIGtleSkge1xuICAgIGlmIChzaG91bGRUcmFjayAmJiBhY3RpdmVFZmZlY3QpIHtcbiAgICAgICAgbGV0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XG4gICAgICAgIGlmICghZGVwc01hcCkge1xuICAgICAgICAgICAgdGFyZ2V0TWFwLnNldCh0YXJnZXQsIChkZXBzTWFwID0gbmV3IE1hcCgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlcCA9IGRlcHNNYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghZGVwKSB7XG4gICAgICAgICAgICBkZXBzTWFwLnNldChrZXksIChkZXAgPSBjcmVhdGVEZXAoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV2ZW50SW5mbyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgPyB7IGVmZmVjdDogYWN0aXZlRWZmZWN0LCB0YXJnZXQsIHR5cGUsIGtleSB9XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgdHJhY2tFZmZlY3RzKGRlcCwgZXZlbnRJbmZvKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFja0VmZmVjdHMoZGVwLCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSB7XG4gICAgbGV0IHNob3VsZFRyYWNrID0gZmFsc2U7XG4gICAgaWYgKGVmZmVjdFRyYWNrRGVwdGggPD0gbWF4TWFya2VyQml0cykge1xuICAgICAgICBpZiAoIW5ld1RyYWNrZWQoZGVwKSkge1xuICAgICAgICAgICAgZGVwLm4gfD0gdHJhY2tPcEJpdDsgLy8gc2V0IG5ld2x5IHRyYWNrZWRcbiAgICAgICAgICAgIHNob3VsZFRyYWNrID0gIXdhc1RyYWNrZWQoZGVwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gRnVsbCBjbGVhbnVwIG1vZGUuXG4gICAgICAgIHNob3VsZFRyYWNrID0gIWRlcC5oYXMoYWN0aXZlRWZmZWN0KTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFRyYWNrKSB7XG4gICAgICAgIGRlcC5hZGQoYWN0aXZlRWZmZWN0KTtcbiAgICAgICAgYWN0aXZlRWZmZWN0LmRlcHMucHVzaChkZXApO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGFjdGl2ZUVmZmVjdC5vblRyYWNrKSB7XG4gICAgICAgICAgICBhY3RpdmVFZmZlY3Qub25UcmFjayhPYmplY3QuYXNzaWduKHsgZWZmZWN0OiBhY3RpdmVFZmZlY3QgfSwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcbiAgICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICAgIGlmICghZGVwc01hcCkge1xuICAgICAgICAvLyBuZXZlciBiZWVuIHRyYWNrZWRcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZGVwcyA9IFtdO1xuICAgIGlmICh0eXBlID09PSBcImNsZWFyXCIgLyogVHJpZ2dlck9wVHlwZXMuQ0xFQVIgKi8pIHtcbiAgICAgICAgLy8gY29sbGVjdGlvbiBiZWluZyBjbGVhcmVkXG4gICAgICAgIC8vIHRyaWdnZXIgYWxsIGVmZmVjdHMgZm9yIHRhcmdldFxuICAgICAgICBkZXBzID0gWy4uLmRlcHNNYXAudmFsdWVzKCldO1xuICAgIH1cbiAgICBlbHNlIGlmIChrZXkgPT09ICdsZW5ndGgnICYmIGlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSB0b051bWJlcihuZXdWYWx1ZSk7XG4gICAgICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdsZW5ndGgnIHx8IGtleSA+PSBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBzY2hlZHVsZSBydW5zIGZvciBTRVQgfCBBREQgfCBERUxFVEVcbiAgICAgICAgaWYgKGtleSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoa2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBydW4gZm9yIGl0ZXJhdGlvbiBrZXkgb24gQUREIHwgREVMRVRFIHwgTWFwLlNFVFxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhZGRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5BREQgKi86XG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzSW50ZWdlcktleShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBpbmRleCBhZGRlZCB0byBhcnJheSAtPiBsZW5ndGggY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoJ2xlbmd0aCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovOlxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi86XG4gICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50SW5mbyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICA/IHsgdGFyZ2V0LCB0eXBlLCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSwgb2xkVGFyZ2V0IH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgaWYgKGRlcHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmIChkZXBzWzBdKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckVmZmVjdHMoZGVwc1swXSwgZXZlbnRJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJFZmZlY3RzKGRlcHNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBlZmZlY3RzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZGVwIG9mIGRlcHMpIHtcbiAgICAgICAgICAgIGlmIChkZXApIHtcbiAgICAgICAgICAgICAgICBlZmZlY3RzLnB1c2goLi4uZGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0cyhjcmVhdGVEZXAoZWZmZWN0cyksIGV2ZW50SW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0cyhjcmVhdGVEZXAoZWZmZWN0cykpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlckVmZmVjdHMoZGVwLCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSB7XG4gICAgLy8gc3ByZWFkIGludG8gYXJyYXkgZm9yIHN0YWJpbGl6YXRpb25cbiAgICBjb25zdCBlZmZlY3RzID0gaXNBcnJheShkZXApID8gZGVwIDogWy4uLmRlcF07XG4gICAgZm9yIChjb25zdCBlZmZlY3Qgb2YgZWZmZWN0cykge1xuICAgICAgICBpZiAoZWZmZWN0LmNvbXB1dGVkKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0KGVmZmVjdCwgZGVidWdnZXJFdmVudEV4dHJhSW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBlZmZlY3Qgb2YgZWZmZWN0cykge1xuICAgICAgICBpZiAoIWVmZmVjdC5jb21wdXRlZCkge1xuICAgICAgICAgICAgdHJpZ2dlckVmZmVjdChlZmZlY3QsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlckVmZmVjdChlZmZlY3QsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pIHtcbiAgICBpZiAoZWZmZWN0ICE9PSBhY3RpdmVFZmZlY3QgfHwgZWZmZWN0LmFsbG93UmVjdXJzZSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGVmZmVjdC5vblRyaWdnZXIpIHtcbiAgICAgICAgICAgIGVmZmVjdC5vblRyaWdnZXIoZXh0ZW5kKHsgZWZmZWN0IH0sIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnNjaGVkdWxlcikge1xuICAgICAgICAgICAgZWZmZWN0LnNjaGVkdWxlcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWZmZWN0LnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBpc05vblRyYWNrYWJsZUtleXMgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYF9fcHJvdG9fXyxfX3ZfaXNSZWYsX19pc1Z1ZWApO1xuY29uc3QgYnVpbHRJblN5bWJvbHMgPSBuZXcgU2V0KFxuLyojX19QVVJFX18qL1xuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKVxuICAgIC8vIGlvczEwLnggT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKSBjYW4gZW51bWVyYXRlICdhcmd1bWVudHMnIGFuZCAnY2FsbGVyJ1xuICAgIC8vIGJ1dCBhY2Nlc3NpbmcgdGhlbSBvbiBTeW1ib2wgbGVhZHMgdG8gVHlwZUVycm9yIGJlY2F1c2UgU3ltYm9sIGlzIGEgc3RyaWN0IG1vZGVcbiAgICAvLyBmdW5jdGlvblxuICAgIC5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2FyZ3VtZW50cycgJiYga2V5ICE9PSAnY2FsbGVyJylcbiAgICAubWFwKGtleSA9PiBTeW1ib2xba2V5XSlcbiAgICAuZmlsdGVyKGlzU3ltYm9sKSk7XG5jb25zdCBnZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcigpO1xuY29uc3Qgc2hhbGxvd0dldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKGZhbHNlLCB0cnVlKTtcbmNvbnN0IHJlYWRvbmx5R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIodHJ1ZSk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcih0cnVlLCB0cnVlKTtcbmNvbnN0IGFycmF5SW5zdHJ1bWVudGF0aW9ucyA9IC8qI19fUFVSRV9fKi8gY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zKCk7XG5mdW5jdGlvbiBjcmVhdGVBcnJheUluc3RydW1lbnRhdGlvbnMoKSB7XG4gICAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IHt9O1xuICAgIFsnaW5jbHVkZXMnLCAnaW5kZXhPZicsICdsYXN0SW5kZXhPZiddLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IHRvUmF3KHRoaXMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIHRyYWNrKGFyciwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCBpICsgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgcnVuIHRoZSBtZXRob2QgdXNpbmcgdGhlIG9yaWdpbmFsIGFyZ3MgZmlyc3QgKHdoaWNoIG1heSBiZSByZWFjdGl2ZSlcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGFycltrZXldKC4uLmFyZ3MpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gLTEgfHwgcmVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoYXQgZGlkbid0IHdvcmssIHJ1biBpdCBhZ2FpbiB1c2luZyByYXcgdmFsdWVzLlxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJba2V5XSguLi5hcmdzLm1hcCh0b1JhdykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBbJ3B1c2gnLCAncG9wJywgJ3NoaWZ0JywgJ3Vuc2hpZnQnLCAnc3BsaWNlJ10uZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gdG9SYXcodGhpcylba2V5XS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGluc3RydW1lbnRhdGlvbnM7XG59XG5mdW5jdGlvbiBjcmVhdGVHZXR0ZXIoaXNSZWFkb25seSA9IGZhbHNlLCBzaGFsbG93ID0gZmFsc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFDVElWRSAqLykge1xuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBRE9OTFkgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNTaGFsbG93XCIgLyogUmVhY3RpdmVGbGFncy5JU19TSEFMTE9XICovKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhbGxvdztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovICYmXG4gICAgICAgICAgICByZWNlaXZlciA9PT1cbiAgICAgICAgICAgICAgICAoaXNSZWFkb25seVxuICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1JlYWRvbmx5TWFwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlYWRvbmx5TWFwXG4gICAgICAgICAgICAgICAgICAgIDogc2hhbGxvd1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93UmVhY3RpdmVNYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVhY3RpdmVNYXApLmdldCh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgICAgIGlmICghaXNSZWFkb25seSAmJiB0YXJnZXRJc0FycmF5ICYmIGhhc093bihhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldChhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcyA9IFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XG4gICAgICAgIGlmIChpc1N5bWJvbChrZXkpID8gYnVpbHRJblN5bWJvbHMuaGFzKGtleSkgOiBpc05vblRyYWNrYWJsZUtleXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUmVhZG9ubHkpIHtcbiAgICAgICAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFsbG93KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlZihyZXMpKSB7XG4gICAgICAgICAgICAvLyByZWYgdW53cmFwcGluZyAtIHNraXAgdW53cmFwIGZvciBBcnJheSArIGludGVnZXIga2V5LlxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyByZXMgOiByZXMudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgcmV0dXJuZWQgdmFsdWUgaW50byBhIHByb3h5IGFzIHdlbGwuIHdlIGRvIHRoZSBpc09iamVjdCBjaGVja1xuICAgICAgICAgICAgLy8gaGVyZSB0byBhdm9pZCBpbnZhbGlkIHZhbHVlIHdhcm5pbmcuIEFsc28gbmVlZCB0byBsYXp5IGFjY2VzcyByZWFkb25seVxuICAgICAgICAgICAgLy8gYW5kIHJlYWN0aXZlIGhlcmUgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5ID8gcmVhZG9ubHkocmVzKSA6IHJlYWN0aXZlKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xufVxuY29uc3Qgc2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVTZXR0ZXIoKTtcbmNvbnN0IHNoYWxsb3dTZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVNldHRlcih0cnVlKTtcbmZ1bmN0aW9uIGNyZWF0ZVNldHRlcihzaGFsbG93ID0gZmFsc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmIChpc1JlYWRvbmx5KG9sZFZhbHVlKSAmJiBpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2hhbGxvdykge1xuICAgICAgICAgICAgaWYgKCFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhZEtleSA9IGlzQXJyYXkodGFyZ2V0KSAmJiBpc0ludGVnZXJLZXkoa2V5KVxuICAgICAgICAgICAgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGhcbiAgICAgICAgICAgIDogaGFzT3duKHRhcmdldCwga2V5KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XG4gICAgICAgIC8vIGRvbid0IHRyaWdnZXIgaWYgdGFyZ2V0IGlzIHNvbWV0aGluZyB1cCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIG9mIG9yaWdpbmFsXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xuICAgICAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5BREQgKi8sIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCBoYWRLZXkgPSBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSk7XG4gICAgaWYgKHJlc3VsdCAmJiBoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaGFzKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcbiAgICAgICAgdHJhY2sodGFyZ2V0LCBcImhhc1wiIC8qIFRyYWNrT3BUeXBlcy5IQVMgKi8sIGtleSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBvd25LZXlzKHRhcmdldCkge1xuICAgIHRyYWNrKHRhcmdldCwgXCJpdGVyYXRlXCIgLyogVHJhY2tPcFR5cGVzLklURVJBVEUgKi8sIGlzQXJyYXkodGFyZ2V0KSA/ICdsZW5ndGgnIDogSVRFUkFURV9LRVkpO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbn1cbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IHtcbiAgICBnZXQsXG4gICAgc2V0LFxuICAgIGRlbGV0ZVByb3BlcnR5LFxuICAgIGhhcyxcbiAgICBvd25LZXlzXG59O1xuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IHtcbiAgICBnZXQ6IHJlYWRvbmx5R2V0LFxuICAgIHNldCh0YXJnZXQsIGtleSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuKGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4oYERlbGV0ZSBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn07XG5jb25zdCBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyA9IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBtdXRhYmxlSGFuZGxlcnMsIHtcbiAgICBnZXQ6IHNoYWxsb3dHZXQsXG4gICAgc2V0OiBzaGFsbG93U2V0XG59KTtcbi8vIFByb3BzIGhhbmRsZXJzIGFyZSBzcGVjaWFsIGluIHRoZSBzZW5zZSB0aGF0IGl0IHNob3VsZCBub3QgdW53cmFwIHRvcC1sZXZlbFxuLy8gcmVmcyAoaW4gb3JkZXIgdG8gYWxsb3cgcmVmcyB0byBiZSBleHBsaWNpdGx5IHBhc3NlZCBkb3duKSwgYnV0IHNob3VsZFxuLy8gcmV0YWluIHRoZSByZWFjdGl2aXR5IG9mIHRoZSBub3JtYWwgcmVhZG9ubHkgb2JqZWN0LlxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgcmVhZG9ubHlIYW5kbGVycywge1xuICAgIGdldDogc2hhbGxvd1JlYWRvbmx5R2V0XG59KTtcblxuY29uc3QgdG9TaGFsbG93ID0gKHZhbHVlKSA9PiB2YWx1ZTtcbmNvbnN0IGdldFByb3RvID0gKHYpID0+IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2Yodik7XG5mdW5jdGlvbiBnZXQkMSh0YXJnZXQsIGtleSwgaXNSZWFkb25seSA9IGZhbHNlLCBpc1NoYWxsb3cgPSBmYWxzZSkge1xuICAgIC8vICMxNzcyOiByZWFkb25seShyZWFjdGl2ZShNYXApKSBzaG91bGQgcmV0dXJuIHJlYWRvbmx5ICsgcmVhY3RpdmUgdmVyc2lvblxuICAgIC8vIG9mIHRoZSB2YWx1ZVxuICAgIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgIGlmICghaXNSZWFkb25seSkge1xuICAgICAgICBpZiAoa2V5ICE9PSByYXdLZXkpIHtcbiAgICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCByYXdLZXkpO1xuICAgIH1cbiAgICBjb25zdCB7IGhhcyB9ID0gZ2V0UHJvdG8ocmF3VGFyZ2V0KTtcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChrZXkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCByYXdLZXkpKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQocmF3S2V5KSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldCAhPT0gcmF3VGFyZ2V0KSB7XG4gICAgICAgIC8vICMzNjAyIHJlYWRvbmx5KHJlYWN0aXZlKE1hcCkpXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBuZXN0ZWQgcmVhY3RpdmUgYE1hcGAgY2FuIGRvIHRyYWNraW5nIGZvciBpdHNlbGZcbiAgICAgICAgdGFyZ2V0LmdldChrZXkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhcyQxKGtleSwgaXNSZWFkb25seSA9IGZhbHNlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgIGlmICghaXNSZWFkb25seSkge1xuICAgICAgICBpZiAoa2V5ICE9PSByYXdLZXkpIHtcbiAgICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBUcmFja09wVHlwZXMuSEFTICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBUcmFja09wVHlwZXMuSEFTICovLCByYXdLZXkpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5ID09PSByYXdLZXlcbiAgICAgICAgPyB0YXJnZXQuaGFzKGtleSlcbiAgICAgICAgOiB0YXJnZXQuaGFzKGtleSkgfHwgdGFyZ2V0LmhhcyhyYXdLZXkpO1xufVxuZnVuY3Rpb24gc2l6ZSh0YXJnZXQsIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xuICAgIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgIWlzUmVhZG9ubHkgJiYgdHJhY2sodG9SYXcodGFyZ2V0KSwgXCJpdGVyYXRlXCIgLyogVHJhY2tPcFR5cGVzLklURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCAnc2l6ZScsIHRhcmdldCk7XG59XG5mdW5jdGlvbiBhZGQodmFsdWUpIHtcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICBjb25zdCBwcm90byA9IGdldFByb3RvKHRhcmdldCk7XG4gICAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XG4gICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLywgdmFsdWUsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBzZXQkMShrZXksIHZhbHVlKSB7XG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xuICAgIH1cbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldC5jYWxsKHRhcmdldCwga2V5KTtcbiAgICB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xuICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLywga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8sIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBkZWxldGVFbnRyeShrZXkpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAga2V5ID0gdG9SYXcoa2V5KTtcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XG4gICAgfVxuICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0ID8gZ2V0LmNhbGwodGFyZ2V0LCBrZXkpIDogdW5kZWZpbmVkO1xuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXG4gICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xuICAgIGlmIChoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcbiAgICBjb25zdCBvbGRUYXJnZXQgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgPyBpc01hcCh0YXJnZXQpXG4gICAgICAgICAgICA/IG5ldyBNYXAodGFyZ2V0KVxuICAgICAgICAgICAgOiBuZXcgU2V0KHRhcmdldClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgLy8gZm9yd2FyZCB0aGUgb3BlcmF0aW9uIGJlZm9yZSBxdWV1ZWluZyByZWFjdGlvbnNcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuY2xlYXIoKTtcbiAgICBpZiAoaGFkSXRlbXMpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiY2xlYXJcIiAvKiBUcmlnZ2VyT3BUeXBlcy5DTEVBUiAqLywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZFRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjcmVhdGVGb3JFYWNoKGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xuICAgIHJldHVybiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dO1xuICAgICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgICAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiIC8qIFRyYWNrT3BUeXBlcy5JVEVSQVRFICovLCBJVEVSQVRFX0tFWSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gaW1wb3J0YW50OiBtYWtlIHN1cmUgdGhlIGNhbGxiYWNrIGlzXG4gICAgICAgICAgICAvLyAxLiBpbnZva2VkIHdpdGggdGhlIHJlYWN0aXZlIG1hcCBhcyBgdGhpc2AgYW5kIDNyZCBhcmdcbiAgICAgICAgICAgIC8vIDIuIHRoZSB2YWx1ZSByZWNlaXZlZCBzaG91bGQgYmUgYSBjb3JyZXNwb25kaW5nIHJlYWN0aXZlL3JlYWRvbmx5LlxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBpc1JlYWRvbmx5LCBpc1NoYWxsb3cpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICAgIGNvbnN0IHRhcmdldElzTWFwID0gaXNNYXAocmF3VGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaXNQYWlyID0gbWV0aG9kID09PSAnZW50cmllcycgfHwgKG1ldGhvZCA9PT0gU3ltYm9sLml0ZXJhdG9yICYmIHRhcmdldElzTWFwKTtcbiAgICAgICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSAna2V5cycgJiYgdGFyZ2V0SXNNYXA7XG4gICAgICAgIGNvbnN0IGlubmVySXRlcmF0b3IgPSB0YXJnZXRbbWV0aG9kXSguLi5hcmdzKTtcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAgICAgIWlzUmVhZG9ubHkgJiZcbiAgICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJpdGVyYXRlXCIgLyogVHJhY2tPcFR5cGVzLklURVJBVEUgKi8sIGlzS2V5T25seSA/IE1BUF9LRVlfSVRFUkFURV9LRVkgOiBJVEVSQVRFX0tFWSk7XG4gICAgICAgIC8vIHJldHVybiBhIHdyYXBwZWQgaXRlcmF0b3Igd2hpY2ggcmV0dXJucyBvYnNlcnZlZCB2ZXJzaW9ucyBvZiB0aGVcbiAgICAgICAgLy8gdmFsdWVzIGVtaXR0ZWQgZnJvbSB0aGUgcmVhbCBpdGVyYXRvclxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcbiAgICAgICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gaW5uZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgPyB7IHZhbHVlLCBkb25lIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBpdGVyYWJsZSBwcm90b2NvbFxuICAgICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWRvbmx5TWV0aG9kKHR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXJnc1swXSA/IGBvbiBrZXkgXCIke2FyZ3NbMF19XCIgYCA6IGBgO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0b1Jhdyh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovID8gZmFsc2UgOiB0aGlzO1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25zKCkge1xuICAgIGNvbnN0IG11dGFibGVJbnN0cnVtZW50YXRpb25zID0ge1xuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNpemUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzOiBoYXMkMSxcbiAgICAgICAgYWRkLFxuICAgICAgICBzZXQ6IHNldCQxLFxuICAgICAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxuICAgICAgICBjbGVhcixcbiAgICAgICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgZmFsc2UpXG4gICAgfTtcbiAgICBjb25zdCBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBoYXM6IGhhcyQxLFxuICAgICAgICBhZGQsXG4gICAgICAgIHNldDogc2V0JDEsXG4gICAgICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXG4gICAgICAgIGNsZWFyLFxuICAgICAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKGZhbHNlLCB0cnVlKVxuICAgIH07XG4gICAgY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNpemUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLyksXG4gICAgICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8pLFxuICAgICAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovKSxcbiAgICAgICAgY2xlYXI6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiY2xlYXJcIiAvKiBUcmlnZ2VyT3BUeXBlcy5DTEVBUiAqLyksXG4gICAgICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgZmFsc2UpXG4gICAgfTtcbiAgICBjb25zdCBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNpemUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLyksXG4gICAgICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8pLFxuICAgICAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovKSxcbiAgICAgICAgY2xlYXI6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiY2xlYXJcIiAvKiBUcmlnZ2VyT3BUeXBlcy5DTEVBUiAqLyksXG4gICAgICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgdHJ1ZSlcbiAgICB9O1xuICAgIGNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFsna2V5cycsICd2YWx1ZXMnLCAnZW50cmllcycsIFN5bWJvbC5pdGVyYXRvcl07XG4gICAgaXRlcmF0b3JNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcbiAgICAgICAgbXV0YWJsZUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIHRydWUsIHRydWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBbXG4gICAgICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zLFxuICAgICAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnMsXG4gICAgICAgIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zLFxuICAgICAgICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXG4gICAgXTtcbn1cbmNvbnN0IFttdXRhYmxlSW5zdHJ1bWVudGF0aW9ucywgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zLCBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucywgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc10gPSAvKiAjX19QVVJFX18qLyBjcmVhdGVJbnN0cnVtZW50YXRpb25zKCk7XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoaXNSZWFkb25seSwgc2hhbGxvdykge1xuICAgIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSBzaGFsbG93XG4gICAgICAgID8gaXNSZWFkb25seVxuICAgICAgICAgICAgPyBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXG4gICAgICAgICAgICA6IHNoYWxsb3dJbnN0cnVtZW50YXRpb25zXG4gICAgICAgIDogaXNSZWFkb25seVxuICAgICAgICAgICAgPyByZWFkb25seUluc3RydW1lbnRhdGlvbnNcbiAgICAgICAgICAgIDogbXV0YWJsZUluc3RydW1lbnRhdGlvbnM7XG4gICAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBQ1RJVkUgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiAhaXNSZWFkb25seTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldChoYXNPd24oaW5zdHJ1bWVudGF0aW9ucywga2V5KSAmJiBrZXkgaW4gdGFyZ2V0XG4gICAgICAgICAgICA/IGluc3RydW1lbnRhdGlvbnNcbiAgICAgICAgICAgIDogdGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcbiAgICB9O1xufVxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgICBnZXQ6IC8qI19fUFVSRV9fKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICAgIGdldDogLyojX19QVVJFX18qLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIHRydWUpXG59O1xuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gICAgZ2V0OiAvKiNfX1BVUkVfXyovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gICAgZ2V0OiAvKiNfX1BVUkVfXyovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxufTtcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpIHtcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgIGlmIChyYXdLZXkgIT09IGtleSAmJiBoYXMuY2FsbCh0YXJnZXQsIHJhd0tleSkpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHRvUmF3VHlwZSh0YXJnZXQpO1xuICAgICAgICBjb25zb2xlLndhcm4oYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSBgICtcbiAgICAgICAgICAgIGB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgYCArXG4gICAgICAgICAgICBgd2hpY2ggY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW5jaWVzLiBgICtcbiAgICAgICAgICAgIGBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBgICtcbiAgICAgICAgICAgIGBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmApO1xuICAgIH1cbn1cblxuY29uc3QgcmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc2hhbGxvd1JlYWN0aXZlTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlYWRvbmx5TWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHNoYWxsb3dSZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiB0YXJnZXRUeXBlTWFwKHJhd1R5cGUpIHtcbiAgICBzd2l0Y2ggKHJhd1R5cGUpIHtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIDEgLyogVGFyZ2V0VHlwZS5DT01NT04gKi87XG4gICAgICAgIGNhc2UgJ01hcCc6XG4gICAgICAgIGNhc2UgJ1NldCc6XG4gICAgICAgIGNhc2UgJ1dlYWtNYXAnOlxuICAgICAgICBjYXNlICdXZWFrU2V0JzpcbiAgICAgICAgICAgIHJldHVybiAyIC8qIFRhcmdldFR5cGUuQ09MTEVDVElPTiAqLztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAwIC8qIFRhcmdldFR5cGUuSU5WQUxJRCAqLztcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlW1wiX192X3NraXBcIiAvKiBSZWFjdGl2ZUZsYWdzLlNLSVAgKi9dIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKVxuICAgICAgICA/IDAgLyogVGFyZ2V0VHlwZS5JTlZBTElEICovXG4gICAgICAgIDogdGFyZ2V0VHlwZU1hcCh0b1Jhd1R5cGUodmFsdWUpKTtcbn1cbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xuICAgIC8vIGlmIHRyeWluZyB0byBvYnNlcnZlIGEgcmVhZG9ubHkgcHJveHksIHJldHVybiB0aGUgcmVhZG9ubHkgdmVyc2lvbi5cbiAgICBpZiAoaXNSZWFkb25seSh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGZhbHNlLCBtdXRhYmxlSGFuZGxlcnMsIG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMsIHJlYWN0aXZlTWFwKTtcbn1cbi8qKlxuICogUmV0dXJuIGEgc2hhbGxvd2x5LXJlYWN0aXZlIGNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdCwgd2hlcmUgb25seSB0aGUgcm9vdFxuICogbGV2ZWwgcHJvcGVydGllcyBhcmUgcmVhY3RpdmUuIEl0IGFsc28gZG9lcyBub3QgYXV0by11bndyYXAgcmVmcyAoZXZlbiBhdCB0aGVcbiAqIHJvb3QgbGV2ZWwpLlxuICovXG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgZmFsc2UsIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzLCBzaGFsbG93UmVhY3RpdmVNYXApO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgcmVhZG9ubHkgY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LiBOb3RlIHRoZSByZXR1cm5lZCBjb3B5IGlzIG5vdFxuICogbWFkZSByZWFjdGl2ZSwgYnV0IGByZWFkb25seWAgY2FuIGJlIGNhbGxlZCBvbiBhbiBhbHJlYWR5IHJlYWN0aXZlIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gcmVhZG9ubHkodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgdHJ1ZSwgcmVhZG9ubHlIYW5kbGVycywgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsIHJlYWRvbmx5TWFwKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIHJlYWN0aXZlLWNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdCwgd2hlcmUgb25seSB0aGUgcm9vdCBsZXZlbFxuICogcHJvcGVydGllcyBhcmUgcmVhZG9ubHksIGFuZCBkb2VzIE5PVCB1bndyYXAgcmVmcyBub3IgcmVjdXJzaXZlbHkgY29udmVydFxuICogcmV0dXJuZWQgcHJvcGVydGllcy5cbiAqIFRoaXMgaXMgdXNlZCBmb3IgY3JlYXRpbmcgdGhlIHByb3BzIHByb3h5IG9iamVjdCBmb3Igc3RhdGVmdWwgY29tcG9uZW50cy5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd1JlYWRvbmx5KHRhcmdldCkge1xuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsIHNoYWxsb3dSZWFkb25seU1hcCk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGlzUmVhZG9ubHksIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzLCBwcm94eU1hcCkge1xuICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHZhbHVlIGNhbm5vdCBiZSBtYWRlIHJlYWN0aXZlOiAke1N0cmluZyh0YXJnZXQpfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIC8vIHRhcmdldCBpcyBhbHJlYWR5IGEgUHJveHksIHJldHVybiBpdC5cbiAgICAvLyBleGNlcHRpb246IGNhbGxpbmcgcmVhZG9ubHkoKSBvbiBhIHJlYWN0aXZlIG9iamVjdFxuICAgIGlmICh0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dICYmXG4gICAgICAgICEoaXNSZWFkb25seSAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBQ1RJVkUgKi9dKSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICAvLyB0YXJnZXQgYWxyZWFkeSBoYXMgY29ycmVzcG9uZGluZyBQcm94eVxuICAgIGNvbnN0IGV4aXN0aW5nUHJveHkgPSBwcm94eU1hcC5nZXQodGFyZ2V0KTtcbiAgICBpZiAoZXhpc3RpbmdQcm94eSkge1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcbiAgICB9XG4gICAgLy8gb25seSBzcGVjaWZpYyB2YWx1ZSB0eXBlcyBjYW4gYmUgb2JzZXJ2ZWQuXG4gICAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0VHlwZSA9PT0gMCAvKiBUYXJnZXRUeXBlLklOVkFMSUQgKi8pIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkodGFyZ2V0LCB0YXJnZXRUeXBlID09PSAyIC8qIFRhcmdldFR5cGUuQ09MTEVDVElPTiAqLyA/IGNvbGxlY3Rpb25IYW5kbGVycyA6IGJhc2VIYW5kbGVycyk7XG4gICAgcHJveHlNYXAuc2V0KHRhcmdldCwgcHJveHkpO1xuICAgIHJldHVybiBwcm94eTtcbn1cbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcbiAgICBpZiAoaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWVbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dKTtcbiAgICB9XG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhY3RpdmVcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQUNUSVZFICovXSk7XG59XG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovXSk7XG59XG5mdW5jdGlvbiBpc1NoYWxsb3codmFsdWUpIHtcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNTaGFsbG93XCIgLyogUmVhY3RpdmVGbGFncy5JU19TSEFMTE9XICovXSk7XG59XG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWUpIHx8IGlzUmVhZG9ubHkodmFsdWUpO1xufVxuZnVuY3Rpb24gdG9SYXcob2JzZXJ2ZWQpIHtcbiAgICBjb25zdCByYXcgPSBvYnNlcnZlZCAmJiBvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgcmV0dXJuIHJhdyA/IHRvUmF3KHJhdykgOiBvYnNlcnZlZDtcbn1cbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcbiAgICBkZWYodmFsdWUsIFwiX192X3NraXBcIiAvKiBSZWFjdGl2ZUZsYWdzLlNLSVAgKi8sIHRydWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IHRvUmVhY3RpdmUgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWN0aXZlKHZhbHVlKSA6IHZhbHVlO1xuY29uc3QgdG9SZWFkb25seSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XG5cbmZ1bmN0aW9uIHRyYWNrUmVmVmFsdWUocmVmKSB7XG4gICAgaWYgKHNob3VsZFRyYWNrICYmIGFjdGl2ZUVmZmVjdCkge1xuICAgICAgICByZWYgPSB0b1JhdyhyZWYpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB0cmFja0VmZmVjdHMocmVmLmRlcCB8fCAocmVmLmRlcCA9IGNyZWF0ZURlcCgpKSwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogcmVmLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLyxcbiAgICAgICAgICAgICAgICBrZXk6ICd2YWx1ZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhY2tFZmZlY3RzKHJlZi5kZXAgfHwgKHJlZi5kZXAgPSBjcmVhdGVEZXAoKSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZlZhbHVlKHJlZiwgbmV3VmFsKSB7XG4gICAgcmVmID0gdG9SYXcocmVmKTtcbiAgICBpZiAocmVmLmRlcCkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0cyhyZWYuZGVwLCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiByZWYsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8sXG4gICAgICAgICAgICAgICAga2V5OiAndmFsdWUnLFxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJpZ2dlckVmZmVjdHMocmVmLmRlcCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc1JlZihyKSB7XG4gICAgcmV0dXJuICEhKHIgJiYgci5fX3ZfaXNSZWYgPT09IHRydWUpO1xufVxuZnVuY3Rpb24gcmVmKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlZih2YWx1ZSkge1xuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93KSB7XG4gICAgaWYgKGlzUmVmKHJhd1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gcmF3VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVmSW1wbChyYXdWYWx1ZSwgc2hhbGxvdyk7XG59XG5jbGFzcyBSZWZJbXBsIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgX192X2lzU2hhbGxvdykge1xuICAgICAgICB0aGlzLl9fdl9pc1NoYWxsb3cgPSBfX3ZfaXNTaGFsbG93O1xuICAgICAgICB0aGlzLmRlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IF9fdl9pc1NoYWxsb3cgPyB2YWx1ZSA6IHRvUmF3KHZhbHVlKTtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBfX3ZfaXNTaGFsbG93ID8gdmFsdWUgOiB0b1JlYWN0aXZlKHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICB0cmFja1JlZlZhbHVlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgfVxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICAgICAgY29uc3QgdXNlRGlyZWN0VmFsdWUgPSB0aGlzLl9fdl9pc1NoYWxsb3cgfHwgaXNTaGFsbG93KG5ld1ZhbCkgfHwgaXNSZWFkb25seShuZXdWYWwpO1xuICAgICAgICBuZXdWYWwgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbCA6IHRvUmF3KG5ld1ZhbCk7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKG5ld1ZhbCwgdGhpcy5fcmF3VmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IG5ld1ZhbDtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdXNlRGlyZWN0VmFsdWUgPyBuZXdWYWwgOiB0b1JlYWN0aXZlKG5ld1ZhbCk7XG4gICAgICAgICAgICB0cmlnZ2VyUmVmVmFsdWUodGhpcywgbmV3VmFsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJSZWYocmVmKSB7XG4gICAgdHJpZ2dlclJlZlZhbHVlKHJlZiwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gcmVmLnZhbHVlIDogdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIHVucmVmKHJlZikge1xuICAgIHJldHVybiBpc1JlZihyZWYpID8gcmVmLnZhbHVlIDogcmVmO1xufVxuY29uc3Qgc2hhbGxvd1Vud3JhcEhhbmRsZXJzID0ge1xuICAgIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4gdW5yZWYoUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSksXG4gICAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikgPT4ge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgICAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcbiAgICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcylcbiAgICAgICAgPyBvYmplY3RXaXRoUmVmc1xuICAgICAgICA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcbn1cbmNsYXNzIEN1c3RvbVJlZkltcGwge1xuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5kZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeSgoKSA9PiB0cmFja1JlZlZhbHVlKHRoaXMpLCAoKSA9PiB0cmlnZ2VyUmVmVmFsdWUodGhpcykpO1xuICAgICAgICB0aGlzLl9nZXQgPSBnZXQ7XG4gICAgICAgIHRoaXMuX3NldCA9IHNldDtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0KCk7XG4gICAgfVxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICAgICAgdGhpcy5fc2V0KG5ld1ZhbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbVJlZkltcGwoZmFjdG9yeSk7XG59XG5mdW5jdGlvbiB0b1JlZnMob2JqZWN0KSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XG4gICAgfVxuICAgIGNvbnN0IHJldCA9IGlzQXJyYXkob2JqZWN0KSA/IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKSA6IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICByZXRba2V5XSA9IHRvUmVmKG9iamVjdCwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cbmNsYXNzIE9iamVjdFJlZkltcGwge1xuICAgIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXksIF9kZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0ID0gX29iamVjdDtcbiAgICAgICAgdGhpcy5fa2V5ID0gX2tleTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gX2RlZmF1bHRWYWx1ZTtcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xuICAgICAgICByZXR1cm4gdmFsID09PSB1bmRlZmluZWQgPyB0aGlzLl9kZWZhdWx0VmFsdWUgOiB2YWw7XG4gICAgfVxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9SZWYob2JqZWN0LCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGNvbnN0IHZhbCA9IG9iamVjdFtrZXldO1xuICAgIHJldHVybiBpc1JlZih2YWwpXG4gICAgICAgID8gdmFsXG4gICAgICAgIDogbmV3IE9iamVjdFJlZkltcGwob2JqZWN0LCBrZXksIGRlZmF1bHRWYWx1ZSk7XG59XG5cbnZhciBfYTtcbmNsYXNzIENvbXB1dGVkUmVmSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZ2V0dGVyLCBfc2V0dGVyLCBpc1JlYWRvbmx5LCBpc1NTUikge1xuICAgICAgICB0aGlzLl9zZXR0ZXIgPSBfc2V0dGVyO1xuICAgICAgICB0aGlzLmRlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgICAgICB0aGlzW19hXSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGdldHRlciwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyUmVmVmFsdWUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVmZmVjdC5jb21wdXRlZCA9IHRoaXM7XG4gICAgICAgIHRoaXMuZWZmZWN0LmFjdGl2ZSA9IHRoaXMuX2NhY2hlYWJsZSA9ICFpc1NTUjtcbiAgICAgICAgdGhpc1tcIl9fdl9pc1JlYWRvbmx5XCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFET05MWSAqL10gPSBpc1JlYWRvbmx5O1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIC8vIHRoZSBjb21wdXRlZCByZWYgbWF5IGdldCB3cmFwcGVkIGJ5IG90aGVyIHByb3hpZXMgZS5nLiByZWFkb25seSgpICMzMzc2XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0b1Jhdyh0aGlzKTtcbiAgICAgICAgdHJhY2tSZWZWYWx1ZShzZWxmKTtcbiAgICAgICAgaWYgKHNlbGYuX2RpcnR5IHx8ICFzZWxmLl9jYWNoZWFibGUpIHtcbiAgICAgICAgICAgIHNlbGYuX2RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLl92YWx1ZSA9IHNlbGYuZWZmZWN0LnJ1bigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLl92YWx1ZTtcbiAgICB9XG4gICAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NldHRlcihuZXdWYWx1ZSk7XG4gICAgfVxufVxuX2EgPSBcIl9fdl9pc1JlYWRvbmx5XCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFET05MWSAqLztcbmZ1bmN0aW9uIGNvbXB1dGVkKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc1NTUiA9IGZhbHNlKSB7XG4gICAgbGV0IGdldHRlcjtcbiAgICBsZXQgc2V0dGVyO1xuICAgIGNvbnN0IG9ubHlHZXR0ZXIgPSBpc0Z1bmN0aW9uKGdldHRlck9yT3B0aW9ucyk7XG4gICAgaWYgKG9ubHlHZXR0ZXIpIHtcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xuICAgICAgICBzZXR0ZXIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgID8gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgdmFsdWUgaXMgcmVhZG9ubHknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogTk9PUDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XG4gICAgICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XG4gICAgfVxuICAgIGNvbnN0IGNSZWYgPSBuZXcgQ29tcHV0ZWRSZWZJbXBsKGdldHRlciwgc2V0dGVyLCBvbmx5R2V0dGVyIHx8ICFzZXR0ZXIsIGlzU1NSKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGRlYnVnT3B0aW9ucyAmJiAhaXNTU1IpIHtcbiAgICAgICAgY1JlZi5lZmZlY3Qub25UcmFjayA9IGRlYnVnT3B0aW9ucy5vblRyYWNrO1xuICAgICAgICBjUmVmLmVmZmVjdC5vblRyaWdnZXIgPSBkZWJ1Z09wdGlvbnMub25UcmlnZ2VyO1xuICAgIH1cbiAgICByZXR1cm4gY1JlZjtcbn1cblxuY29uc3Qgc3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSkge1xuICAgIHN0YWNrLnB1c2godm5vZGUpO1xufVxuZnVuY3Rpb24gcG9wV2FybmluZ0NvbnRleHQoKSB7XG4gICAgc3RhY2sucG9wKCk7XG59XG5mdW5jdGlvbiB3YXJuJDEobXNnLCAuLi5hcmdzKSB7XG4gICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBhdm9pZCBwcm9wcyBmb3JtYXR0aW5nIG9yIHdhcm4gaGFuZGxlciB0cmFja2luZyBkZXBzIHRoYXQgbWlnaHQgYmUgbXV0YXRlZFxuICAgIC8vIGR1cmluZyBwYXRjaCwgbGVhZGluZyB0byBpbmZpbml0ZSByZWN1cnNpb24uXG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcbiAgICBjb25zdCBhcHBXYXJuSGFuZGxlciA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLndhcm5IYW5kbGVyO1xuICAgIGNvbnN0IHRyYWNlID0gZ2V0Q29tcG9uZW50VHJhY2UoKTtcbiAgICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGFwcFdhcm5IYW5kbGVyLCBpbnN0YW5jZSwgMTEgLyogRXJyb3JDb2Rlcy5BUFBfV0FSTl9IQU5ETEVSICovLCBbXG4gICAgICAgICAgICBtc2cgKyBhcmdzLmpvaW4oJycpLFxuICAgICAgICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHksXG4gICAgICAgICAgICB0cmFjZVxuICAgICAgICAgICAgICAgIC5tYXAoKHsgdm5vZGUgfSkgPT4gYGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIHZub2RlLnR5cGUpfT5gKVxuICAgICAgICAgICAgICAgIC5qb2luKCdcXG4nKSxcbiAgICAgICAgICAgIHRyYWNlXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgd2FybkFyZ3MgPSBbYFtWdWUgd2Fybl06ICR7bXNnfWAsIC4uLmFyZ3NdO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHRyYWNlLmxlbmd0aCAmJlxuICAgICAgICAgICAgLy8gYXZvaWQgc3BhbW1pbmcgY29uc29sZSBkdXJpbmcgdGVzdHNcbiAgICAgICAgICAgICFmYWxzZSkge1xuICAgICAgICAgICAgd2FybkFyZ3MucHVzaChgXFxuYCwgLi4uZm9ybWF0VHJhY2UodHJhY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLndhcm4oLi4ud2FybkFyZ3MpO1xuICAgIH1cbiAgICByZXNldFRyYWNraW5nKCk7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcbiAgICBsZXQgY3VycmVudFZOb2RlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgaWYgKCFjdXJyZW50Vk5vZGUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvLyB3ZSBjYW4ndCBqdXN0IHVzZSB0aGUgc3RhY2sgYmVjYXVzZSBpdCB3aWxsIGJlIGluY29tcGxldGUgZHVyaW5nIHVwZGF0ZXNcbiAgICAvLyB0aGF0IGRpZCBub3Qgc3RhcnQgZnJvbSB0aGUgcm9vdC4gUmUtY29uc3RydWN0IHRoZSBwYXJlbnQgY2hhaW4gdXNpbmdcbiAgICAvLyBpbnN0YW5jZSBwYXJlbnQgcG9pbnRlcnMuXG4gICAgY29uc3Qgbm9ybWFsaXplZFN0YWNrID0gW107XG4gICAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xuICAgICAgICBjb25zdCBsYXN0ID0gbm9ybWFsaXplZFN0YWNrWzBdO1xuICAgICAgICBpZiAobGFzdCAmJiBsYXN0LnZub2RlID09PSBjdXJyZW50Vk5vZGUpIHtcbiAgICAgICAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgdm5vZGU6IGN1cnJlbnRWTm9kZSxcbiAgICAgICAgICAgICAgICByZWN1cnNlQ291bnQ6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEluc3RhbmNlID0gY3VycmVudFZOb2RlLmNvbXBvbmVudCAmJiBjdXJyZW50Vk5vZGUuY29tcG9uZW50LnBhcmVudDtcbiAgICAgICAgY3VycmVudFZOb2RlID0gcGFyZW50SW5zdGFuY2UgJiYgcGFyZW50SW5zdGFuY2Uudm5vZGU7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkU3RhY2s7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gZm9ybWF0VHJhY2UodHJhY2UpIHtcbiAgICBjb25zdCBsb2dzID0gW107XG4gICAgdHJhY2UuZm9yRWFjaCgoZW50cnksIGkpID0+IHtcbiAgICAgICAgbG9ncy5wdXNoKC4uLihpID09PSAwID8gW10gOiBbYFxcbmBdKSwgLi4uZm9ybWF0VHJhY2VFbnRyeShlbnRyeSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBsb2dzO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xuICAgIGNvbnN0IHBvc3RmaXggPSByZWN1cnNlQ291bnQgPiAwID8gYC4uLiAoJHtyZWN1cnNlQ291bnR9IHJlY3Vyc2l2ZSBjYWxscylgIDogYGA7XG4gICAgY29uc3QgaXNSb290ID0gdm5vZGUuY29tcG9uZW50ID8gdm5vZGUuY29tcG9uZW50LnBhcmVudCA9PSBudWxsIDogZmFsc2U7XG4gICAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZSh2bm9kZS5jb21wb25lbnQsIHZub2RlLnR5cGUsIGlzUm9vdCl9YDtcbiAgICBjb25zdCBjbG9zZSA9IGA+YCArIHBvc3RmaXg7XG4gICAgcmV0dXJuIHZub2RlLnByb3BzXG4gICAgICAgID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdXG4gICAgICAgIDogW29wZW4gKyBjbG9zZV07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gZm9ybWF0UHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXMgPSBbXTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuICAgIGtleXMuc2xpY2UoMCwgMykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICByZXMucHVzaCguLi5mb3JtYXRQcm9wKGtleSwgcHJvcHNba2V5XSkpO1xuICAgIH0pO1xuICAgIGlmIChrZXlzLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgcmVzLnB1c2goYCAuLi5gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBmb3JtYXRQcm9wKGtleSwgdmFsdWUsIHJhdykge1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PSR7dmFsdWV9YF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBmb3JtYXRQcm9wKGtleSwgdG9SYXcodmFsdWUudmFsdWUpLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09UmVmPGAsIHZhbHVlLCBgPmBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gW2Ake2tleX09Zm4ke3ZhbHVlLm5hbWUgPyBgPCR7dmFsdWUubmFtZX0+YCA6IGBgfWBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PWAsIHZhbHVlXTtcbiAgICB9XG59XG5cbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MgPSB7XG4gICAgW1wic3BcIiAvKiBMaWZlY3ljbGVIb29rcy5TRVJWRVJfUFJFRkVUQ0ggKi9dOiAnc2VydmVyUHJlZmV0Y2ggaG9vaycsXG4gICAgW1wiYmNcIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfQ1JFQVRFICovXTogJ2JlZm9yZUNyZWF0ZSBob29rJyxcbiAgICBbXCJjXCIgLyogTGlmZWN5Y2xlSG9va3MuQ1JFQVRFRCAqL106ICdjcmVhdGVkIGhvb2snLFxuICAgIFtcImJtXCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX01PVU5UICovXTogJ2JlZm9yZU1vdW50IGhvb2snLFxuICAgIFtcIm1cIiAvKiBMaWZlY3ljbGVIb29rcy5NT1VOVEVEICovXTogJ21vdW50ZWQgaG9vaycsXG4gICAgW1wiYnVcIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfVVBEQVRFICovXTogJ2JlZm9yZVVwZGF0ZSBob29rJyxcbiAgICBbXCJ1XCIgLyogTGlmZWN5Y2xlSG9va3MuVVBEQVRFRCAqL106ICd1cGRhdGVkJyxcbiAgICBbXCJidW1cIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfVU5NT1VOVCAqL106ICdiZWZvcmVVbm1vdW50IGhvb2snLFxuICAgIFtcInVtXCIgLyogTGlmZWN5Y2xlSG9va3MuVU5NT1VOVEVEICovXTogJ3VubW91bnRlZCBob29rJyxcbiAgICBbXCJhXCIgLyogTGlmZWN5Y2xlSG9va3MuQUNUSVZBVEVEICovXTogJ2FjdGl2YXRlZCBob29rJyxcbiAgICBbXCJkYVwiIC8qIExpZmVjeWNsZUhvb2tzLkRFQUNUSVZBVEVEICovXTogJ2RlYWN0aXZhdGVkIGhvb2snLFxuICAgIFtcImVjXCIgLyogTGlmZWN5Y2xlSG9va3MuRVJST1JfQ0FQVFVSRUQgKi9dOiAnZXJyb3JDYXB0dXJlZCBob29rJyxcbiAgICBbXCJydGNcIiAvKiBMaWZlY3ljbGVIb29rcy5SRU5ERVJfVFJBQ0tFRCAqL106ICdyZW5kZXJUcmFja2VkIGhvb2snLFxuICAgIFtcInJ0Z1wiIC8qIExpZmVjeWNsZUhvb2tzLlJFTkRFUl9UUklHR0VSRUQgKi9dOiAncmVuZGVyVHJpZ2dlcmVkIGhvb2snLFxuICAgIFswIC8qIEVycm9yQ29kZXMuU0VUVVBfRlVOQ1RJT04gKi9dOiAnc2V0dXAgZnVuY3Rpb24nLFxuICAgIFsxIC8qIEVycm9yQ29kZXMuUkVOREVSX0ZVTkNUSU9OICovXTogJ3JlbmRlciBmdW5jdGlvbicsXG4gICAgWzIgLyogRXJyb3JDb2Rlcy5XQVRDSF9HRVRURVIgKi9dOiAnd2F0Y2hlciBnZXR0ZXInLFxuICAgIFszIC8qIEVycm9yQ29kZXMuV0FUQ0hfQ0FMTEJBQ0sgKi9dOiAnd2F0Y2hlciBjYWxsYmFjaycsXG4gICAgWzQgLyogRXJyb3JDb2Rlcy5XQVRDSF9DTEVBTlVQICovXTogJ3dhdGNoZXIgY2xlYW51cCBmdW5jdGlvbicsXG4gICAgWzUgLyogRXJyb3JDb2Rlcy5OQVRJVkVfRVZFTlRfSEFORExFUiAqL106ICduYXRpdmUgZXZlbnQgaGFuZGxlcicsXG4gICAgWzYgLyogRXJyb3JDb2Rlcy5DT01QT05FTlRfRVZFTlRfSEFORExFUiAqL106ICdjb21wb25lbnQgZXZlbnQgaGFuZGxlcicsXG4gICAgWzcgLyogRXJyb3JDb2Rlcy5WTk9ERV9IT09LICovXTogJ3Zub2RlIGhvb2snLFxuICAgIFs4IC8qIEVycm9yQ29kZXMuRElSRUNUSVZFX0hPT0sgKi9dOiAnZGlyZWN0aXZlIGhvb2snLFxuICAgIFs5IC8qIEVycm9yQ29kZXMuVFJBTlNJVElPTl9IT09LICovXTogJ3RyYW5zaXRpb24gaG9vaycsXG4gICAgWzEwIC8qIEVycm9yQ29kZXMuQVBQX0VSUk9SX0hBTkRMRVIgKi9dOiAnYXBwIGVycm9ySGFuZGxlcicsXG4gICAgWzExIC8qIEVycm9yQ29kZXMuQVBQX1dBUk5fSEFORExFUiAqL106ICdhcHAgd2FybkhhbmRsZXInLFxuICAgIFsxMiAvKiBFcnJvckNvZGVzLkZVTkNUSU9OX1JFRiAqL106ICdyZWYgZnVuY3Rpb24nLFxuICAgIFsxMyAvKiBFcnJvckNvZGVzLkFTWU5DX0NPTVBPTkVOVF9MT0FERVIgKi9dOiAnYXN5bmMgY29tcG9uZW50IGxvYWRlcicsXG4gICAgWzE0IC8qIEVycm9yQ29kZXMuU0NIRURVTEVSICovXTogJ3NjaGVkdWxlciBmbHVzaC4gVGhpcyBpcyBsaWtlbHkgYSBWdWUgaW50ZXJuYWxzIGJ1Zy4gJyArXG4gICAgICAgICdQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL25ldy1pc3N1ZS52dWVqcy5vcmcvP3JlcG89dnVlanMvY29yZSdcbn07XG5mdW5jdGlvbiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gICAgbGV0IHJlcztcbiAgICB0cnkge1xuICAgICAgICByZXMgPSBhcmdzID8gZm4oLi4uYXJncykgOiBmbigpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICAgICAgICBpZiAocmVzICYmIGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICAgICAgICByZXMuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWVzLnB1c2goY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm5baV0sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59XG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGNvbnRleHRWTm9kZSA9IGluc3RhbmNlID8gaW5zdGFuY2Uudm5vZGUgOiBudWxsO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICBsZXQgY3VyID0gaW5zdGFuY2UucGFyZW50O1xuICAgICAgICAvLyB0aGUgZXhwb3NlZCBpbnN0YW5jZSBpcyB0aGUgcmVuZGVyIHByb3h5IHRvIGtlZXAgaXQgY29uc2lzdGVudCB3aXRoIDIueFxuICAgICAgICBjb25zdCBleHBvc2VkSW5zdGFuY2UgPSBpbnN0YW5jZS5wcm94eTtcbiAgICAgICAgLy8gaW4gcHJvZHVjdGlvbiB0aGUgaG9vayByZWNlaXZlcyBvbmx5IHRoZSBlcnJvciBjb2RlXG4gICAgICAgIGNvbnN0IGVycm9ySW5mbyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IEVycm9yVHlwZVN0cmluZ3NbdHlwZV0gOiB0eXBlO1xuICAgICAgICB3aGlsZSAoY3VyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XG4gICAgICAgICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcnJvckNhcHR1cmVkSG9va3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwLWxldmVsIGhhbmRsaW5nXG4gICAgICAgIGNvbnN0IGFwcEVycm9ySGFuZGxlciA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmVycm9ySGFuZGxlcjtcbiAgICAgICAgaWYgKGFwcEVycm9ySGFuZGxlcikge1xuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGFwcEVycm9ySGFuZGxlciwgbnVsbCwgMTAgLyogRXJyb3JDb2Rlcy5BUFBfRVJST1JfSEFORExFUiAqLywgW2VyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm9dKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldik7XG59XG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSBFcnJvclR5cGVTdHJpbmdzW3R5cGVdO1xuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQoY29udGV4dFZOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB3YXJuJDEoYFVuaGFuZGxlZCBlcnJvciR7aW5mbyA/IGAgZHVyaW5nIGV4ZWN1dGlvbiBvZiAke2luZm99YCA6IGBgfWApO1xuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyYXNoIGluIGRldiBieSBkZWZhdWx0IHNvIGl0J3MgbW9yZSBub3RpY2VhYmxlXG4gICAgICAgIGlmICh0aHJvd0luRGV2KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHJlY292ZXIgaW4gcHJvZCB0byByZWR1Y2UgdGhlIGltcGFjdCBvbiBlbmQtdXNlclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxufVxuXG5sZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xubGV0IGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XG5jb25zdCBxdWV1ZSA9IFtdO1xubGV0IGZsdXNoSW5kZXggPSAwO1xuY29uc3QgcGVuZGluZ1Bvc3RGbHVzaENicyA9IFtdO1xubGV0IGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xuY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gLyojX19QVVJFX18qLyBQcm9taXNlLnJlc29sdmUoKTtcbmxldCBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbmNvbnN0IFJFQ1VSU0lPTl9MSU1JVCA9IDEwMDtcbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gICAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xuICAgIHJldHVybiBmbiA/IHAudGhlbih0aGlzID8gZm4uYmluZCh0aGlzKSA6IGZuKSA6IHA7XG59XG4vLyAjMjc2OFxuLy8gVXNlIGJpbmFyeS1zZWFyY2ggdG8gZmluZCBhIHN1aXRhYmxlIHBvc2l0aW9uIGluIHRoZSBxdWV1ZSxcbi8vIHNvIHRoYXQgdGhlIHF1ZXVlIG1haW50YWlucyB0aGUgaW5jcmVhc2luZyBvcmRlciBvZiBqb2IncyBpZCxcbi8vIHdoaWNoIGNhbiBwcmV2ZW50IHRoZSBqb2IgZnJvbSBiZWluZyBza2lwcGVkIGFuZCBhbHNvIGNhbiBhdm9pZCByZXBlYXRlZCBwYXRjaGluZy5cbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChpZCkge1xuICAgIC8vIHRoZSBzdGFydCBpbmRleCBzaG91bGQgYmUgYGZsdXNoSW5kZXggKyAxYFxuICAgIGxldCBzdGFydCA9IGZsdXNoSW5kZXggKyAxO1xuICAgIGxldCBlbmQgPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IChzdGFydCArIGVuZCkgPj4+IDE7XG4gICAgICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQocXVldWVbbWlkZGxlXSk7XG4gICAgICAgIG1pZGRsZUpvYklkIDwgaWQgPyAoc3RhcnQgPSBtaWRkbGUgKyAxKSA6IChlbmQgPSBtaWRkbGUpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnQ7XG59XG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcbiAgICAvLyB0aGUgZGVkdXBlIHNlYXJjaCB1c2VzIHRoZSBzdGFydEluZGV4IGFyZ3VtZW50IG9mIEFycmF5LmluY2x1ZGVzKClcbiAgICAvLyBieSBkZWZhdWx0IHRoZSBzZWFyY2ggaW5kZXggaW5jbHVkZXMgdGhlIGN1cnJlbnQgam9iIHRoYXQgaXMgYmVpbmcgcnVuXG4gICAgLy8gc28gaXQgY2Fubm90IHJlY3Vyc2l2ZWx5IHRyaWdnZXIgaXRzZWxmIGFnYWluLlxuICAgIC8vIGlmIHRoZSBqb2IgaXMgYSB3YXRjaCgpIGNhbGxiYWNrLCB0aGUgc2VhcmNoIHdpbGwgc3RhcnQgd2l0aCBhICsxIGluZGV4IHRvXG4gICAgLy8gYWxsb3cgaXQgcmVjdXJzaXZlbHkgdHJpZ2dlciBpdHNlbGYgLSBpdCBpcyB0aGUgdXNlcidzIHJlc3BvbnNpYmlsaXR5IHRvXG4gICAgLy8gZW5zdXJlIGl0IGRvZXNuJ3QgZW5kIHVwIGluIGFuIGluZmluaXRlIGxvb3AuXG4gICAgaWYgKCFxdWV1ZS5sZW5ndGggfHxcbiAgICAgICAgIXF1ZXVlLmluY2x1ZGVzKGpvYiwgaXNGbHVzaGluZyAmJiBqb2IuYWxsb3dSZWN1cnNlID8gZmx1c2hJbmRleCArIDEgOiBmbHVzaEluZGV4KSkge1xuICAgICAgICBpZiAoam9iLmlkID09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goam9iKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXVlLnNwbGljZShmaW5kSW5zZXJ0aW9uSW5kZXgoam9iLmlkKSwgMCwgam9iKTtcbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUZsdXNoKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcXVldWVGbHVzaCgpIHtcbiAgICBpZiAoIWlzRmx1c2hpbmcgJiYgIWlzRmx1c2hQZW5kaW5nKSB7XG4gICAgICAgIGlzRmx1c2hQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IHJlc29sdmVkUHJvbWlzZS50aGVuKGZsdXNoSm9icyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW52YWxpZGF0ZUpvYihqb2IpIHtcbiAgICBjb25zdCBpID0gcXVldWUuaW5kZXhPZihqb2IpO1xuICAgIGlmIChpID4gZmx1c2hJbmRleCkge1xuICAgICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcXVldWVQb3N0Rmx1c2hDYihjYikge1xuICAgIGlmICghaXNBcnJheShjYikpIHtcbiAgICAgICAgaWYgKCFhY3RpdmVQb3N0Rmx1c2hDYnMgfHxcbiAgICAgICAgICAgICFhY3RpdmVQb3N0Rmx1c2hDYnMuaW5jbHVkZXMoY2IsIGNiLmFsbG93UmVjdXJzZSA/IHBvc3RGbHVzaEluZGV4ICsgMSA6IHBvc3RGbHVzaEluZGV4KSkge1xuICAgICAgICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKGNiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gaWYgY2IgaXMgYW4gYXJyYXksIGl0IGlzIGEgY29tcG9uZW50IGxpZmVjeWNsZSBob29rIHdoaWNoIGNhbiBvbmx5IGJlXG4gICAgICAgIC8vIHRyaWdnZXJlZCBieSBhIGpvYiwgd2hpY2ggaXMgYWxyZWFkeSBkZWR1cGVkIGluIHRoZSBtYWluIHF1ZXVlLCBzb1xuICAgICAgICAvLyB3ZSBjYW4gc2tpcCBkdXBsaWNhdGUgY2hlY2sgaGVyZSB0byBpbXByb3ZlIHBlcmZcbiAgICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKC4uLmNiKTtcbiAgICB9XG4gICAgcXVldWVGbHVzaCgpO1xufVxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhzZWVuLCBcbi8vIGlmIGN1cnJlbnRseSBmbHVzaGluZywgc2tpcCB0aGUgY3VycmVudCBqb2IgaXRzZWxmXG5pID0gaXNGbHVzaGluZyA/IGZsdXNoSW5kZXggKyAxIDogMCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgc2VlbiA9IHNlZW4gfHwgbmV3IE1hcCgpO1xuICAgIH1cbiAgICBmb3IgKDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNiID0gcXVldWVbaV07XG4gICAgICAgIGlmIChjYiAmJiBjYi5wcmUpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGNiKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pIHtcbiAgICBpZiAocGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZGVkdXBlZCA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQb3N0Rmx1c2hDYnMpXTtcbiAgICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGggPSAwO1xuICAgICAgICAvLyAjMTk0NyBhbHJlYWR5IGhhcyBhY3RpdmUgcXVldWUsIG5lc3RlZCBmbHVzaFBvc3RGbHVzaENicyBjYWxsXG4gICAgICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcbiAgICAgICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5wdXNoKC4uLmRlZHVwZWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMuc29ydCgoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKSk7XG4gICAgICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0oKTtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xuICAgICAgICBwb3N0Rmx1c2hJbmRleCA9IDA7XG4gICAgfVxufVxuY29uc3QgZ2V0SWQgPSAoam9iKSA9PiBqb2IuaWQgPT0gbnVsbCA/IEluZmluaXR5IDogam9iLmlkO1xuY29uc3QgY29tcGFyYXRvciA9IChhLCBiKSA9PiB7XG4gICAgY29uc3QgZGlmZiA9IGdldElkKGEpIC0gZ2V0SWQoYik7XG4gICAgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgICAgaWYgKGEucHJlICYmICFiLnByZSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGIucHJlICYmICFhLnByZSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZjtcbn07XG5mdW5jdGlvbiBmbHVzaEpvYnMoc2Vlbikge1xuICAgIGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XG4gICAgaXNGbHVzaGluZyA9IHRydWU7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XG4gICAgfVxuICAgIC8vIFNvcnQgcXVldWUgYmVmb3JlIGZsdXNoLlxuICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0OlxuICAgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcbiAgICAvLyAgICBjcmVhdGVkIGJlZm9yZSB0aGUgY2hpbGQgc28gaXRzIHJlbmRlciBlZmZlY3Qgd2lsbCBoYXZlIHNtYWxsZXJcbiAgICAvLyAgICBwcmlvcml0eSBudW1iZXIpXG4gICAgLy8gMi4gSWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB1cGRhdGUsXG4gICAgLy8gICAgaXRzIHVwZGF0ZSBjYW4gYmUgc2tpcHBlZC5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmF0b3IpO1xuICAgIC8vIGNvbmRpdGlvbmFsIHVzYWdlIG9mIGNoZWNrUmVjdXJzaXZlVXBkYXRlIG11c3QgYmUgZGV0ZXJtaW5lZCBvdXQgb2ZcbiAgICAvLyB0cnkgLi4uIGNhdGNoIGJsb2NrIHNpbmNlIFJvbGx1cCBieSBkZWZhdWx0IGRlLW9wdGltaXplcyB0cmVlc2hha2luZ1xuICAgIC8vIGluc2lkZSB0cnktY2F0Y2guIFRoaXMgY2FuIGxlYXZlIGFsbCB3YXJuaW5nIGNvZGUgdW5zaGFrZWQuIEFsdGhvdWdoXG4gICAgLy8gdGhleSB3b3VsZCBnZXQgZXZlbnR1YWxseSBzaGFrZW4gYnkgYSBtaW5pZmllciBsaWtlIHRlcnNlciwgc29tZSBtaW5pZmllcnNcbiAgICAvLyB3b3VsZCBmYWlsIHRvIGRvIHRoYXQgKGUuZy4gaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2VzYnVpbGQvaXNzdWVzLzE2MTApXG4gICAgY29uc3QgY2hlY2sgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgPyAoam9iKSA9PiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKVxuICAgICAgICA6IE5PT1A7XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yIChmbHVzaEluZGV4ID0gMDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgICAgICAgIGlmIChqb2IgJiYgam9iLmFjdGl2ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNoZWNrKGpvYikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBydW5uaW5nOmAsIGpvYi5pZClcbiAgICAgICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoam9iLCBudWxsLCAxNCAvKiBFcnJvckNvZGVzLlNDSEVEVUxFUiAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGZsdXNoSW5kZXggPSAwO1xuICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICBmbHVzaFBvc3RGbHVzaENicyhzZWVuKTtcbiAgICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xuICAgICAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbiAgICAgICAgLy8gc29tZSBwb3N0Rmx1c2hDYiBxdWV1ZWQgam9icyFcbiAgICAgICAgLy8ga2VlcCBmbHVzaGluZyB1bnRpbCBpdCBkcmFpbnMuXG4gICAgICAgIGlmIChxdWV1ZS5sZW5ndGggfHwgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZsdXNoSm9icyhzZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBmbikge1xuICAgIGlmICghc2Vlbi5oYXMoZm4pKSB7XG4gICAgICAgIHNlZW4uc2V0KGZuLCAxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pO1xuICAgICAgICBpZiAoY291bnQgPiBSRUNVUlNJT05fTElNSVQpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gZm4ub3duZXJJbnN0YW5jZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xuICAgICAgICAgICAgd2FybiQxKGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkJHtjb21wb25lbnROYW1lID8gYCBpbiBjb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZX0+YCA6IGBgfS4gYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgbWVhbnMgeW91IGhhdmUgYSByZWFjdGl2ZSBlZmZlY3QgdGhhdCBpcyBtdXRhdGluZyBpdHMgb3duIGAgK1xuICAgICAgICAgICAgICAgIGBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgYCArXG4gICAgICAgICAgICAgICAgYGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciBgICtcbiAgICAgICAgICAgICAgICBgd2F0Y2hlciBzb3VyY2UgZnVuY3Rpb24uYCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlZW4uc2V0KGZuLCBjb3VudCArIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSBuZXcgU2V0KCk7XG4vLyBFeHBvc2UgdGhlIEhNUiBydW50aW1lIG9uIHRoZSBnbG9iYWwgb2JqZWN0XG4vLyBUaGlzIG1ha2VzIGl0IGVudGlyZWx5IHRyZWUtc2hha2FibGUgd2l0aG91dCBwb2xsdXRpbmcgdGhlIGV4cG9ydHMgYW5kIG1ha2VzXG4vLyBpdCBlYXNpZXIgdG8gYmUgdXNlZCBpbiB0b29saW5ncyBsaWtlIHZ1ZS1sb2FkZXJcbi8vIE5vdGU6IGZvciBhIGNvbXBvbmVudCB0byBiZSBlbGlnaWJsZSBmb3IgSE1SIGl0IGFsc28gbmVlZHMgdGhlIF9faG1ySWQgb3B0aW9uXG4vLyB0byBiZSBzZXQgc28gdGhhdCBpdHMgaW5zdGFuY2VzIGNhbiBiZSByZWdpc3RlcmVkIC8gcmVtb3ZlZC5cbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfSE1SX1JVTlRJTUVfXyA9IHtcbiAgICAgICAgY3JlYXRlUmVjb3JkOiB0cnlXcmFwKGNyZWF0ZVJlY29yZCksXG4gICAgICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcbiAgICAgICAgcmVsb2FkOiB0cnlXcmFwKHJlbG9hZClcbiAgICB9O1xufVxuY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBpZCA9IGluc3RhbmNlLnR5cGUuX19obXJJZDtcbiAgICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcbiAgICAgICAgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gICAgfVxuICAgIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgICBtYXAuZ2V0KGluc3RhbmNlLnR5cGUuX19obXJJZCkuaW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWNvcmQoaWQsIGluaXRpYWxEZWYpIHtcbiAgICBpZiAobWFwLmhhcyhpZCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBtYXAuc2V0KGlkLCB7XG4gICAgICAgIGluaXRpYWxEZWY6IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluaXRpYWxEZWYpLFxuICAgICAgICBpbnN0YW5jZXM6IG5ldyBTZXQoKVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGlzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC5fX3ZjY09wdHMgOiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XG4gICAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgaW5pdGlhbCByZWNvcmQgKGZvciBub3QteWV0LXJlbmRlcmVkIGNvbXBvbmVudClcbiAgICByZWNvcmQuaW5pdGlhbERlZi5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gICAgWy4uLnJlY29yZC5pbnN0YW5jZXNdLmZvckVhY2goaW5zdGFuY2UgPT4ge1xuICAgICAgICBpZiAobmV3UmVuZGVyKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gICAgICAgICAgICBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKS5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcbiAgICAgICAgLy8gdGhpcyBmbGFnIGZvcmNlcyBjaGlsZCBjb21wb25lbnRzIHdpdGggc2xvdCBjb250ZW50IHRvIHVwZGF0ZVxuICAgICAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHJlbG9hZChpZCwgbmV3Q29tcCkge1xuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICAgIGlmICghcmVjb3JkKVxuICAgICAgICByZXR1cm47XG4gICAgbmV3Q29tcCA9IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KG5ld0NvbXApO1xuICAgIC8vIHVwZGF0ZSBpbml0aWFsIGRlZiAoZm9yIG5vdC15ZXQtcmVuZGVyZWQgY29tcG9uZW50cylcbiAgICB1cGRhdGVDb21wb25lbnREZWYocmVjb3JkLmluaXRpYWxEZWYsIG5ld0NvbXApO1xuICAgIC8vIGNyZWF0ZSBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nIHVwZGF0ZXNcbiAgICBjb25zdCBpbnN0YW5jZXMgPSBbLi4ucmVjb3JkLmluc3RhbmNlc107XG4gICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBpbnN0YW5jZXMpIHtcbiAgICAgICAgY29uc3Qgb2xkQ29tcCA9IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpO1xuICAgICAgICBpZiAoIWhtckRpcnR5Q29tcG9uZW50cy5oYXMob2xkQ29tcCkpIHtcbiAgICAgICAgICAgIC8vIDEuIFVwZGF0ZSBleGlzdGluZyBjb21wIGRlZmluaXRpb24gdG8gbWF0Y2ggbmV3IG9uZVxuICAgICAgICAgICAgaWYgKG9sZENvbXAgIT09IHJlY29yZC5pbml0aWFsRGVmKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMi4gbWFyayBkZWZpbml0aW9uIGRpcnR5LiBUaGlzIGZvcmNlcyB0aGUgcmVuZGVyZXIgdG8gcmVwbGFjZSB0aGVcbiAgICAgICAgICAgIC8vIGNvbXBvbmVudCBvbiBwYXRjaC5cbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5hZGQob2xkQ29tcCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4gaW52YWxpZGF0ZSBvcHRpb25zIHJlc29sdXRpb24gY2FjaGVcbiAgICAgICAgaW5zdGFuY2UuYXBwQ29udGV4dC5vcHRpb25zQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgICAgICAvLyA0LiBhY3R1YWxseSB1cGRhdGVcbiAgICAgICAgaWYgKGluc3RhbmNlLmNlUmVsb2FkKSB7XG4gICAgICAgICAgICAvLyBjdXN0b20gZWxlbWVudFxuICAgICAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmFkZChvbGRDb21wKTtcbiAgICAgICAgICAgIGluc3RhbmNlLmNlUmVsb2FkKG5ld0NvbXAuc3R5bGVzKTtcbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUob2xkQ29tcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICAgICAgICAvLyA0LiBGb3JjZSB0aGUgcGFyZW50IGluc3RhbmNlIHRvIHJlLXJlbmRlci4gVGhpcyB3aWxsIGNhdXNlIGFsbCB1cGRhdGVkXG4gICAgICAgICAgICAvLyBjb21wb25lbnRzIHRvIGJlIHVubW91bnRlZCBhbmQgcmUtbW91bnRlZC4gUXVldWUgdGhlIHVwZGF0ZSBzbyB0aGF0IHdlXG4gICAgICAgICAgICAvLyBkb24ndCBlbmQgdXAgZm9yY2luZyB0aGUgc2FtZSBwYXJlbnQgdG8gcmUtcmVuZGVyIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAgICAgcXVldWVKb2IoaW5zdGFuY2UucGFyZW50LnVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcbiAgICAgICAgICAgIC8vIHJvb3QgaW5zdGFuY2UgbW91bnRlZCB2aWEgY3JlYXRlQXBwKCkgaGFzIGEgcmVsb2FkIG1ldGhvZFxuICAgICAgICAgICAgaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gcm9vdCBpbnN0YW5jZSBpbnNpZGUgdHJlZSBjcmVhdGVkIHZpYSByYXcgcmVuZGVyKCkuIEZvcmNlIHJlbG9hZC5cbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyA1LiBtYWtlIHN1cmUgdG8gY2xlYW51cCBkaXJ0eSBobXIgY29tcG9uZW50cyBhZnRlciB1cGRhdGVcbiAgICBxdWV1ZVBvc3RGbHVzaENiKCgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBpbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUobm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCkge1xuICAgIGV4dGVuZChvbGRDb21wLCBuZXdDb21wKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRDb21wKSB7XG4gICAgICAgIGlmIChrZXkgIT09ICdfX2ZpbGUnICYmICEoa2V5IGluIG5ld0NvbXApKSB7XG4gICAgICAgICAgICBkZWxldGUgb2xkQ29tcFtrZXldO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJ5V3JhcChmbikge1xuICAgIHJldHVybiAoaWQsIGFyZykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGZuKGlkLCBhcmcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbSE1SXSBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgVnVlIGNvbXBvbmVudCBob3QtcmVsb2FkLiBgICtcbiAgICAgICAgICAgICAgICBgRnVsbCByZWxvYWQgcmVxdWlyZWQuYCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5sZXQgZGV2dG9vbHM7XG5sZXQgYnVmZmVyID0gW107XG5sZXQgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGVtaXQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICBpZiAoZGV2dG9vbHMpIHtcbiAgICAgICAgZGV2dG9vbHMuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFkZXZ0b29sc05vdEluc3RhbGxlZCkge1xuICAgICAgICBidWZmZXIucHVzaCh7IGV2ZW50LCBhcmdzIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayhob29rLCB0YXJnZXQpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGRldnRvb2xzID0gaG9vaztcbiAgICBpZiAoZGV2dG9vbHMpIHtcbiAgICAgICAgZGV2dG9vbHMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGJ1ZmZlci5mb3JFYWNoKCh7IGV2ZW50LCBhcmdzIH0pID0+IGRldnRvb2xzLmVtaXQoZXZlbnQsIC4uLmFyZ3MpKTtcbiAgICAgICAgYnVmZmVyID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKFxuICAgIC8vIGhhbmRsZSBsYXRlIGRldnRvb2xzIGluamVjdGlvbiAtIG9ubHkgZG8gdGhpcyBpZiB3ZSBhcmUgaW4gYW4gYWN0dWFsXG4gICAgLy8gYnJvd3NlciBlbnZpcm9ubWVudCB0byBhdm9pZCB0aGUgdGltZXIgaGFuZGxlIHN0YWxsaW5nIHRlc3QgcnVubmVyIGV4aXRcbiAgICAvLyAoIzQ4MTUpXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgLy8gc29tZSBlbnZzIG1vY2sgd2luZG93IGJ1dCBub3QgZnVsbHlcbiAgICAgICAgd2luZG93LkhUTUxFbGVtZW50ICYmXG4gICAgICAgIC8vIGFsc28gZXhjbHVkZSBqc2RvbVxuICAgICAgICAhKChfYiA9IChfYSA9IHdpbmRvdy5uYXZpZ2F0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcygnanNkb20nKSkpIHtcbiAgICAgICAgY29uc3QgcmVwbGF5ID0gKHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fID1cbiAgICAgICAgICAgIHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fIHx8IFtdKTtcbiAgICAgICAgcmVwbGF5LnB1c2goKG5ld0hvb2spID0+IHtcbiAgICAgICAgICAgIHNldERldnRvb2xzSG9vayhuZXdIb29rLCB0YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gY2xlYXIgYnVmZmVyIGFmdGVyIDNzIC0gdGhlIHVzZXIgcHJvYmFibHkgZG9lc24ndCBoYXZlIGRldnRvb2xzIGluc3RhbGxlZFxuICAgICAgICAvLyBhdCBhbGwsIGFuZCBrZWVwaW5nIHRoZSBidWZmZXIgd2lsbCBjYXVzZSBtZW1vcnkgbGVha3MgKCM0NzM4KVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICghZGV2dG9vbHMpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IG51bGw7XG4gICAgICAgICAgICAgICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAzMDAwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG5vbi1icm93c2VyIGVudiwgYXNzdW1lIG5vdCBpbnN0YWxsZWRcbiAgICAgICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICBidWZmZXIgPSBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKSB7XG4gICAgZW1pdChcImFwcDppbml0XCIgLyogRGV2dG9vbHNIb29rcy5BUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XG4gICAgICAgIEZyYWdtZW50LFxuICAgICAgICBUZXh0LFxuICAgICAgICBDb21tZW50LFxuICAgICAgICBTdGF0aWNcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzVW5tb3VudEFwcChhcHApIHtcbiAgICBlbWl0KFwiYXBwOnVubW91bnRcIiAvKiBEZXZ0b29sc0hvb2tzLkFQUF9VTk1PVU5UICovLCBhcHApO1xufVxuY29uc3QgZGV2dG9vbHNDb21wb25lbnRBZGRlZCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OmFkZGVkXCIgLyogRGV2dG9vbHNIb29rcy5DT01QT05FTlRfQURERUQgKi8pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkID0gXG4vKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogRGV2dG9vbHNIb29rcy5DT01QT05FTlRfVVBEQVRFRCAqLyk7XG5jb25zdCBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6cmVtb3ZlZFwiIC8qIERldnRvb2xzSG9va3MuQ09NUE9ORU5UX1JFTU9WRUQgKi8pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkID0gKGNvbXBvbmVudCkgPT4ge1xuICAgIGlmIChkZXZ0b29scyAmJlxuICAgICAgICB0eXBlb2YgZGV2dG9vbHMuY2xlYW51cEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAvLyByZW1vdmUgdGhlIGNvbXBvbmVudCBpZiBpdCB3YXNuJ3QgYnVmZmVyZWRcbiAgICAgICAgIWRldnRvb2xzLmNsZWFudXBCdWZmZXIoY29tcG9uZW50KSkge1xuICAgICAgICBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGNvbXBvbmVudCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhob29rKSB7XG4gICAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcbiAgICAgICAgZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHVuZGVmaW5lZCwgY29tcG9uZW50KTtcbiAgICB9O1xufVxuY29uc3QgZGV2dG9vbHNQZXJmU3RhcnQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjpzdGFydFwiIC8qIERldnRvb2xzSG9va3MuUEVSRk9STUFOQ0VfU1RBUlQgKi8pO1xuY29uc3QgZGV2dG9vbHNQZXJmRW5kID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6ZW5kXCIgLyogRGV2dG9vbHNIb29rcy5QRVJGT1JNQU5DRV9FTkQgKi8pO1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soaG9vaykge1xuICAgIHJldHVybiAoY29tcG9uZW50LCB0eXBlLCB0aW1lKSA9PiB7XG4gICAgICAgIGVtaXQoaG9vaywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQudWlkLCBjb21wb25lbnQsIHR5cGUsIHRpbWUpO1xuICAgIH07XG59XG5mdW5jdGlvbiBkZXZ0b29sc0NvbXBvbmVudEVtaXQoY29tcG9uZW50LCBldmVudCwgcGFyYW1zKSB7XG4gICAgZW1pdChcImNvbXBvbmVudDplbWl0XCIgLyogRGV2dG9vbHNIb29rcy5DT01QT05FTlRfRU1JVCAqLywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpO1xufVxuXG5jb25zdCBkZXByZWNhdGlvbkRhdGEgPSB7XG4gICAgW1wiR0xPQkFMX01PVU5UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfTU9VTlQgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBUaGUgZ2xvYmFsIGFwcCBib290c3RyYXBwaW5nIEFQSSBoYXMgY2hhbmdlZDogdm0uJG1vdW50KCkgYW5kIHRoZSBcImVsXCIgYCArXG4gICAgICAgICAgICBgb3B0aW9uIGhhdmUgYmVlbiByZW1vdmVkLiBVc2UgY3JlYXRlQXBwKFJvb3RDb21wb25lbnQpLm1vdW50KCkgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZ2xvYmFsLWFwaS5odG1sI21vdW50aW5nLWFwcC1pbnN0YW5jZWBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9NT1VOVF9DT05UQUlORVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9NT1VOVF9DT05UQUlORVIgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgZGV0ZWN0ZWQgZGlyZWN0aXZlcyBvbiB0aGUgbW91bnQgY29udGFpbmVyLiBgICtcbiAgICAgICAgICAgIGBJbiBWdWUgMywgdGhlIGNvbnRhaW5lciBpcyBubyBsb25nZXIgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSB0ZW1wbGF0ZSBgICtcbiAgICAgICAgICAgIGBhbmQgd2lsbCBub3QgYmUgcHJvY2Vzc2VkL3JlcGxhY2VkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9tb3VudC1jaGFuZ2VzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJHTE9CQUxfRVhURU5EXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfRVhURU5EICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlLmV4dGVuZCgpIGhhcyBiZWVuIHJlbW92ZWQgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFVzZSBkZWZpbmVDb21wb25lbnQoKSBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3Z1ZWpzLm9yZy9hcGkvZ2VuZXJhbC5odG1sI2RlZmluZWNvbXBvbmVudGBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUk9UT1RZUEUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUucHJvdG90eXBlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFVzZSBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZ2xvYmFsLWFwaS5odG1sI3Z1ZS1wcm90b3R5cGUtcmVwbGFjZWQtYnktY29uZmlnLWdsb2JhbHByb3BlcnRpZXNgXG4gICAgfSxcbiAgICBbXCJHTE9CQUxfU0VUXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfU0VUICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlLnNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgU2ltcGx5IHVzZSBuYXRpdmUgSmF2YVNjcmlwdCBtdXRhdGlvbnMuYFxuICAgIH0sXG4gICAgW1wiR0xPQkFMX0RFTEVURVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX0RFTEVURSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5kZWxldGUoKSBoYXMgYmVlbiByZW1vdmVkIGFzIGl0IGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFNpbXBseSB1c2UgbmF0aXZlIEphdmFTY3JpcHQgbXV0YXRpb25zLmBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9PQlNFUlZBQkxFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfT0JTRVJWQUJMRSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5vYnNlcnZhYmxlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gYCArXG4gICAgICAgICAgICBgVXNlIFxcYGltcG9ydCB7IHJlYWN0aXZlIH0gZnJvbSBcInZ1ZVwiXFxgIGZyb20gQ29tcG9zaXRpb24gQVBJIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdnVlanMub3JnL2FwaS9yZWFjdGl2aXR5LWNvcmUuaHRtbCNyZWFjdGl2ZWBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9QUklWQVRFX1VUSUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUklWQVRFX1VUSUwgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUudXRpbCBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgcmVmYWN0b3IgdG8gYXZvaWQgaXRzIHVzYWdlIGAgK1xuICAgICAgICAgICAgYHNpbmNlIGl0IHdhcyBhbiBpbnRlcm5hbCBBUEkgZXZlbiBpbiBWdWUgMi5gXG4gICAgfSxcbiAgICBbXCJDT05GSUdfU0lMRU5UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfU0lMRU5UICovXToge1xuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLnNpbGVudCBoYXMgYmVlbiByZW1vdmVkIGJlY2F1c2UgaXQgaXMgbm90IGdvb2QgcHJhY3RpY2UgdG8gYCArXG4gICAgICAgICAgICBgaW50ZW50aW9uYWxseSBzdXBwcmVzcyB3YXJuaW5ncy4gWW91IGNhbiB1c2UgeW91ciBicm93c2VyIGNvbnNvbGUncyBgICtcbiAgICAgICAgICAgIGBmaWx0ZXIgZmVhdHVyZXMgdG8gZm9jdXMgb24gcmVsZXZhbnQgbWVzc2FnZXMuYFxuICAgIH0sXG4gICAgW1wiQ09ORklHX0RFVlRPT0xTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfREVWVE9PTFMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBjb25maWcuZGV2dG9vbHMgaGFzIGJlZW4gcmVtb3ZlZC4gVG8gZW5hYmxlIGRldnRvb2xzIGZvciBgICtcbiAgICAgICAgICAgIGBwcm9kdWN0aW9uLCBjb25maWd1cmUgdGhlIF9fVlVFX1BST0RfREVWVE9PTFNfXyBjb21waWxlLXRpbWUgZmxhZy5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL2NvcmUvdHJlZS9tYWluL3BhY2thZ2VzL3Z1ZSNidW5kbGVyLWJ1aWxkLWZlYXR1cmUtZmxhZ3NgXG4gICAgfSxcbiAgICBbXCJDT05GSUdfS0VZX0NPREVTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfS0VZX0NPREVTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLmtleUNvZGVzIGhhcyBiZWVuIHJlbW92ZWQuIGAgK1xuICAgICAgICAgICAgYEluIFZ1ZSAzLCB5b3UgY2FuIGRpcmVjdGx5IHVzZSB0aGUga2ViYWItY2FzZSBrZXkgbmFtZXMgYXMgdi1vbiBtb2RpZmllcnMuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT05GSUdfUFJPRFVDVElPTl9USVBcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19QUk9EVUNUSU9OX1RJUCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5wcm9kdWN0aW9uVGlwIGhhcyBiZWVuIHJlbW92ZWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2dsb2JhbC1hcGkuaHRtbCNjb25maWctcHJvZHVjdGlvbnRpcC1yZW1vdmVkYFxuICAgIH0sXG4gICAgW1wiQ09ORklHX0lHTk9SRURfRUxFTUVOVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19JR05PUkVEX0VMRU1FTlRTICovXToge1xuICAgICAgICBtZXNzYWdlOiAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbXNnID0gYGNvbmZpZy5pZ25vcmVkRWxlbWVudHMgaGFzIGJlZW4gcmVtb3ZlZC5gO1xuICAgICAgICAgICAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgICAgICAgICAgIG1zZyArPSBgIFBhc3MgdGhlIFwiaXNDdXN0b21FbGVtZW50XCIgb3B0aW9uIHRvIEB2dWUvY29tcGlsZXItZG9tIGluc3RlYWQuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1zZyArPSBgIFVzZSBjb25maWcuaXNDdXN0b21FbGVtZW50IGluc3RlYWQuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9nbG9iYWwtYXBpLmh0bWwjY29uZmlnLWlnbm9yZWRlbGVtZW50cy1pcy1ub3ctY29uZmlnLWlzY3VzdG9tZWxlbWVudGBcbiAgICB9LFxuICAgIFtcIkNPTkZJR19XSElURVNQQUNFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfV0hJVEVTUEFDRSAqL106IHtcbiAgICAgICAgLy8gdGhpcyB3YXJuaW5nIGlzIG9ubHkgcmVsZXZhbnQgaW4gdGhlIGZ1bGwgYnVpbGQgd2hlbiB1c2luZyBydW50aW1lXG4gICAgICAgIC8vIGNvbXBpbGF0aW9uLCBzbyBpdCdzIHB1dCBpbiB0aGUgcnVudGltZSBjb21wYXRDb25maWcgbGlzdC5cbiAgICAgICAgbWVzc2FnZTogYFZ1ZSAzIGNvbXBpbGVyJ3Mgd2hpdGVzcGFjZSBvcHRpb24gd2lsbCBkZWZhdWx0IHRvIFwiY29uZGVuc2VcIiBpbnN0ZWFkIG9mIGAgK1xuICAgICAgICAgICAgYFwicHJlc2VydmVcIi4gVG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nLCBwcm92aWRlIGFuIGV4cGxpY2l0IHZhbHVlIGZvciBgICtcbiAgICAgICAgICAgIGBcXGBjb25maWcuY29tcGlsZXJPcHRpb25zLndoaXRlc3BhY2VcXGAuYFxuICAgIH0sXG4gICAgW1wiQ09ORklHX09QVElPTl9NRVJHRV9TVFJBVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19PUFRJT05fTUVSR0VfU1RSQVRTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcyBubyBsb25nZXIgZXhwb3NlcyBpbnRlcm5hbCBzdHJhdGVnaWVzLiBgICtcbiAgICAgICAgICAgIGBVc2UgY3VzdG9tIG1lcmdlIGZ1bmN0aW9ucyBpbnN0ZWFkLmBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX1NFVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfU0VUICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJHNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgU2ltcGx5IHVzZSBuYXRpdmUgSmF2YVNjcmlwdCBtdXRhdGlvbnMuYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfREVMRVRFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9ERUxFVEUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kZGVsZXRlKCkgaGFzIGJlZW4gcmVtb3ZlZCBhcyBpdCBpcyBubyBsb25nZXIgbmVlZGVkIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9ERVNUUk9ZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9ERVNUUk9ZICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJGRlc3Ryb3koKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXBwLnVubW91bnQoKSBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3Z1ZWpzLm9yZy9hcGkvYXBwbGljYXRpb24uaHRtbCNhcHAtdW5tb3VudGBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0VNSVRURVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0VNSVRURVIgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kb24vJG9uY2UvJG9mZigpIGhhdmUgYmVlbiByZW1vdmVkLiBgICtcbiAgICAgICAgICAgIGBVc2UgYW4gZXh0ZXJuYWwgZXZlbnQgZW1pdHRlciBsaWJyYXJ5IGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2V2ZW50cy1hcGkuaHRtbGBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogZXZlbnQgPT4gYFwiJHtldmVudH1cIiBsaWZlY3ljbGUgZXZlbnRzIGFyZSBubyBsb25nZXIgc3VwcG9ydGVkLiBGcm9tIHRlbXBsYXRlcywgYCArXG4gICAgICAgICAgICBgdXNlIHRoZSBcInZ1ZTpcIiBwcmVmaXggaW5zdGVhZCBvZiBcImhvb2s6XCIuIEZvciBleGFtcGxlLCBAJHtldmVudH0gYCArXG4gICAgICAgICAgICBgc2hvdWxkIGJlIGNoYW5nZWQgdG8gQHZ1ZToke2V2ZW50LnNsaWNlKDUpfS4gYCArXG4gICAgICAgICAgICBgRnJvbSBKYXZhU2NyaXB0LCB1c2UgQ29tcG9zaXRpb24gQVBJIHRvIGR5bmFtaWNhbGx5IHJlZ2lzdGVyIGxpZmVjeWNsZSBgICtcbiAgICAgICAgICAgIGBob29rcy5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvdm5vZGUtbGlmZWN5Y2xlLWV2ZW50cy5odG1sYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfQ0hJTERSRU5cIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0NISUxEUkVOICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJGNoaWxkcmVuIGhhcyBiZWVuIHJlbW92ZWQuIENvbnNpZGVyIHJlZmFjdG9yaW5nIHlvdXIgbG9naWMgYCArXG4gICAgICAgICAgICBgdG8gYXZvaWQgcmVseWluZyBvbiBkaXJlY3QgYWNjZXNzIHRvIGNoaWxkIGNvbXBvbmVudHMuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2NoaWxkcmVuLmh0bWxgXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9MSVNURU5FUlNcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0xJU1RFTkVSUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYHZtLiRsaXN0ZW5lcnMgaGFzIGJlZW4gcmVtb3ZlZC4gSW4gVnVlIDMsIHBhcmVudCB2LW9uIGxpc3RlbmVycyBhcmUgYCArXG4gICAgICAgICAgICBgaW5jbHVkZWQgaW4gdm0uJGF0dHJzIGFuZCBpdCBpcyBubyBsb25nZXIgbmVjZXNzYXJ5IHRvIHNlcGFyYXRlbHkgdXNlIGAgK1xuICAgICAgICAgICAgYHYtb249XCIkbGlzdGVuZXJzXCIgaWYgeW91IGFyZSBhbHJlYWR5IHVzaW5nIHYtYmluZD1cIiRhdHRyc1wiLiBgICtcbiAgICAgICAgICAgIGAoTm90ZTogdGhlIFZ1ZSAzIGJlaGF2aW9yIG9ubHkgYXBwbGllcyBpZiB0aGlzIGNvbXBhdCBjb25maWcgaXMgZGlzYWJsZWQpYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2xpc3RlbmVycy1yZW1vdmVkLmh0bWxgXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9TQ09QRURfU0xPVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX1NDT1BFRF9TTE9UUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYHZtLiRzY29wZWRTbG90cyBoYXMgYmVlbiByZW1vdmVkLiBVc2Ugdm0uJHNsb3RzIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3Nsb3RzLXVuaWZpY2F0aW9uLmh0bWxgXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGNvbXBvbmVudE5hbWUgPT4gYENvbXBvbmVudCA8JHtjb21wb25lbnROYW1lIHx8ICdBbm9ueW1vdXMnfT4gaGFzIFxcYGluaGVyaXRBdHRyczogZmFsc2VcXGAgYnV0IGlzIGAgK1xuICAgICAgICAgICAgYHJlbHlpbmcgb24gY2xhc3Mvc3R5bGUgZmFsbHRocm91Z2ggZnJvbSBwYXJlbnQuIEluIFZ1ZSAzLCBjbGFzcy9zdHlsZSBgICtcbiAgICAgICAgICAgIGBhcmUgbm93IGluY2x1ZGVkIGluICRhdHRycyBhbmQgd2lsbCBubyBsb25nZXIgZmFsbHRocm91Z2ggd2hlbiBgICtcbiAgICAgICAgICAgIGBpbmhlcml0QXR0cnMgaXMgZmFsc2UuIElmIHlvdSBhcmUgYWxyZWFkeSB1c2luZyB2LWJpbmQ9XCIkYXR0cnNcIiBvbiBgICtcbiAgICAgICAgICAgIGBjb21wb25lbnQgcm9vdCBpdCBzaG91bGQgcmVuZGVyIHRoZSBzYW1lIGVuZCByZXN1bHQuIGAgK1xuICAgICAgICAgICAgYElmIHlvdSBhcmUgYmluZGluZyAkYXR0cnMgdG8gYSBub24tcm9vdCBlbGVtZW50IGFuZCBleHBlY3RpbmcgYCArXG4gICAgICAgICAgICBgY2xhc3Mvc3R5bGUgdG8gZmFsbHRocm91Z2ggb24gcm9vdCwgeW91IHdpbGwgbmVlZCB0byBub3cgbWFudWFsbHkgYmluZCBgICtcbiAgICAgICAgICAgIGB0aGVtIG9uIHJvb3QgdmlhIDpjbGFzcz1cIiRhdHRycy5jbGFzc1wiLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9hdHRycy1pbmNsdWRlcy1jbGFzcy1zdHlsZS5odG1sYFxuICAgIH0sXG4gICAgW1wiT1BUSU9OU19EQVRBX0ZOXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfRk4gKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBUaGUgXCJkYXRhXCIgb3B0aW9uIGNhbiBubyBsb25nZXIgYmUgYSBwbGFpbiBvYmplY3QuIGAgK1xuICAgICAgICAgICAgYEFsd2F5cyB1c2UgYSBmdW5jdGlvbi5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZGF0YS1vcHRpb24uaHRtbGBcbiAgICB9LFxuICAgIFtcIk9QVElPTlNfREFUQV9NRVJHRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19EQVRBX01FUkdFICovXToge1xuICAgICAgICBtZXNzYWdlOiAoa2V5KSA9PiBgRGV0ZWN0ZWQgY29uZmxpY3Rpbmcga2V5IFwiJHtrZXl9XCIgd2hlbiBtZXJnaW5nIGRhdGEgb3B0aW9uIHZhbHVlcy4gYCArXG4gICAgICAgICAgICBgSW4gVnVlIDMsIGRhdGEga2V5cyBhcmUgbWVyZ2VkIHNoYWxsb3dseSBhbmQgd2lsbCBvdmVycmlkZSBvbmUgYW5vdGhlci5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZGF0YS1vcHRpb24uaHRtbCNtaXhpbi1tZXJnZS1iZWhhdmlvci1jaGFuZ2VgXG4gICAgfSxcbiAgICBbXCJPUFRJT05TX0JFRk9SRV9ERVNUUk9ZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0JFRk9SRV9ERVNUUk9ZICovXToge1xuICAgICAgICBtZXNzYWdlOiBgXFxgYmVmb3JlRGVzdHJveVxcYCBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYGJlZm9yZVVubW91bnRcXGAuYFxuICAgIH0sXG4gICAgW1wiT1BUSU9OU19ERVNUUk9ZRURcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREVTVFJPWUVEICovXToge1xuICAgICAgICBtZXNzYWdlOiBgXFxgZGVzdHJveWVkXFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgdW5tb3VudGVkXFxgLmBcbiAgICB9LFxuICAgIFtcIldBVENIX0FSUkFZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5XQVRDSF9BUlJBWSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFwid2F0Y2hcIiBvcHRpb24gb3Igdm0uJHdhdGNoIG9uIGFuIGFycmF5IHZhbHVlIHdpbGwgbm8gbG9uZ2VyIGAgK1xuICAgICAgICAgICAgYHRyaWdnZXIgb24gYXJyYXkgbXV0YXRpb24gdW5sZXNzIHRoZSBcImRlZXBcIiBvcHRpb24gaXMgc3BlY2lmaWVkLiBgICtcbiAgICAgICAgICAgIGBJZiBjdXJyZW50IHVzYWdlIGlzIGludGVuZGVkLCB5b3UgY2FuIGRpc2FibGUgdGhlIGNvbXBhdCBiZWhhdmlvciBhbmQgYCArXG4gICAgICAgICAgICBgc3VwcHJlc3MgdGhpcyB3YXJuaW5nIHdpdGg6YCArXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiV0FUQ0hfQVJSQVlcIiAvKiBEZXByZWNhdGlvblR5cGVzLldBVENIX0FSUkFZICovfTogZmFsc2UgfSlcXG5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvd2F0Y2guaHRtbGBcbiAgICB9LFxuICAgIFtcIlBST1BTX0RFRkFVTFRfVEhJU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuUFJPUFNfREVGQVVMVF9USElTICovXToge1xuICAgICAgICBtZXNzYWdlOiAoa2V5KSA9PiBgcHJvcHMgZGVmYXVsdCB2YWx1ZSBmdW5jdGlvbiBubyBsb25nZXIgaGFzIGFjY2VzcyB0byBcInRoaXNcIi4gVGhlIGNvbXBhdCBgICtcbiAgICAgICAgICAgIGBidWlsZCBvbmx5IG9mZmVycyBhY2Nlc3MgdG8gdGhpcy4kb3B0aW9ucy5gICtcbiAgICAgICAgICAgIGAoZm91bmQgaW4gcHJvcCBcIiR7a2V5fVwiKWAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9wcm9wcy1kZWZhdWx0LXRoaXMuaHRtbGBcbiAgICB9LFxuICAgIFtcIkNVU1RPTV9ESVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNVU1RPTV9ESVIgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChsZWdhY3lIb29rLCBuZXdIb29rKSA9PiBgQ3VzdG9tIGRpcmVjdGl2ZSBob29rIFwiJHtsZWdhY3lIb29rfVwiIGhhcyBiZWVuIHJlbW92ZWQuIGAgK1xuICAgICAgICAgICAgYFVzZSBcIiR7bmV3SG9va31cIiBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9jdXN0b20tZGlyZWN0aXZlcy5odG1sYFxuICAgIH0sXG4gICAgW1wiVl9PTl9LRVlDT0RFX01PRElGSUVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5WX09OX0tFWUNPREVfTU9ESUZJRVIgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBVc2luZyBrZXlDb2RlIGFzIHYtb24gbW9kaWZpZXIgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gYCArXG4gICAgICAgICAgICBgVXNlIGtlYmFiLWNhc2Uga2V5IG5hbWUgbW9kaWZpZXJzIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJBVFRSX0ZBTFNFX1ZBTFVFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0ZBTFNFX1ZBTFVFICovXToge1xuICAgICAgICBtZXNzYWdlOiAobmFtZSkgPT4gYEF0dHJpYnV0ZSBcIiR7bmFtZX1cIiB3aXRoIHYtYmluZCB2YWx1ZSBcXGBmYWxzZVxcYCB3aWxsIHJlbmRlciBgICtcbiAgICAgICAgICAgIGAke25hbWV9PVwiZmFsc2VcIiBpbnN0ZWFkIG9mIHJlbW92aW5nIGl0IGluIFZ1ZSAzLiBUbyByZW1vdmUgdGhlIGF0dHJpYnV0ZSwgYCArXG4gICAgICAgICAgICBgdXNlIFxcYG51bGxcXGAgb3IgXFxgdW5kZWZpbmVkXFxgIGluc3RlYWQuIElmIHRoZSB1c2FnZSBpcyBpbnRlbmRlZCwgYCArXG4gICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkFUVFJfRkFMU0VfVkFMVUVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkFUVFJfRkFMU0VfVkFMVUUgKi99OiBmYWxzZSB9KVxcbmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9hdHRyaWJ1dGUtY29lcmNpb24uaHRtbGBcbiAgICB9LFxuICAgIFtcIkFUVFJfRU5VTUVSQVRFRF9DT0VSQ0lPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovXToge1xuICAgICAgICBtZXNzYWdlOiAobmFtZSwgdmFsdWUsIGNvZXJjZWQpID0+IGBFbnVtZXJhdGVkIGF0dHJpYnV0ZSBcIiR7bmFtZX1cIiB3aXRoIHYtYmluZCB2YWx1ZSBcXGAke3ZhbHVlfVxcYCB3aWxsIGAgK1xuICAgICAgICAgICAgYCR7dmFsdWUgPT09IG51bGwgPyBgYmUgcmVtb3ZlZGAgOiBgcmVuZGVyIHRoZSB2YWx1ZSBhcy1pc2B9IGluc3RlYWQgb2YgY29lcmNpbmcgdGhlIHZhbHVlIHRvIFwiJHtjb2VyY2VkfVwiIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBBbHdheXMgdXNlIGV4cGxpY2l0IFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiB2YWx1ZXMgZm9yIGVudW1lcmF0ZWQgYXR0cmlidXRlcy4gYCArXG4gICAgICAgICAgICBgSWYgdGhlIHVzYWdlIGlzIGludGVuZGVkLCBgICtcbiAgICAgICAgICAgIGB5b3UgY2FuIGRpc2FibGUgdGhlIGNvbXBhdCBiZWhhdmlvciBhbmQgc3VwcHJlc3MgdGhpcyB3YXJuaW5nIHdpdGg6YCArXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0VOVU1FUkFURURfQ09FUkNJT04gKi99OiBmYWxzZSB9KVxcbmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9hdHRyaWJ1dGUtY29lcmNpb24uaHRtbGBcbiAgICB9LFxuICAgIFtcIlRSQU5TSVRJT05fQ0xBU1NFU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuVFJBTlNJVElPTl9DTEFTU0VTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgYCAvLyB0aGlzIGZlYXR1cmUgY2Fubm90IGJlIHJ1bnRpbWUtZGV0ZWN0ZWRcbiAgICB9LFxuICAgIFtcIlRSQU5TSVRJT05fR1JPVVBfUk9PVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuVFJBTlNJVElPTl9HUk9VUF9ST09UICovXToge1xuICAgICAgICBtZXNzYWdlOiBgPFRyYW5zaXRpb25Hcm91cD4gbm8gbG9uZ2VyIHJlbmRlcnMgYSByb290IDxzcGFuPiBlbGVtZW50IGJ5IGAgK1xuICAgICAgICAgICAgYGRlZmF1bHQgaWYgbm8gXCJ0YWdcIiBwcm9wIGlzIHNwZWNpZmllZC4gSWYgeW91IGRvIG5vdCByZWx5IG9uIHRoZSBzcGFuIGAgK1xuICAgICAgICAgICAgYGZvciBzdHlsaW5nLCB5b3UgY2FuIGRpc2FibGUgdGhlIGNvbXBhdCBiZWhhdmlvciBhbmQgc3VwcHJlc3MgdGhpcyBgICtcbiAgICAgICAgICAgIGB3YXJuaW5nIHdpdGg6YCArXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiVFJBTlNJVElPTl9HUk9VUF9ST09UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5UUkFOU0lUSU9OX0dST1VQX1JPT1QgKi99OiBmYWxzZSB9KVxcbmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy90cmFuc2l0aW9uLWdyb3VwLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT01QT05FTlRfQVNZTkNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9BU1lOQyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKGNvbXApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xuICAgICAgICAgICAgcmV0dXJuIChgQXN5bmMgY29tcG9uZW50JHtuYW1lID8gYCA8JHtuYW1lfT5gIDogYHNgfSBzaG91bGQgYmUgZXhwbGljaXRseSBjcmVhdGVkIHZpYSBcXGBkZWZpbmVBc3luY0NvbXBvbmVudCgpXFxgIGAgK1xuICAgICAgICAgICAgICAgIGBpbiBWdWUgMy4gUGxhaW4gZnVuY3Rpb25zIHdpbGwgYmUgdHJlYXRlZCBhcyBmdW5jdGlvbmFsIGNvbXBvbmVudHMgaW4gYCArXG4gICAgICAgICAgICAgICAgYG5vbi1jb21wYXQgYnVpbGQuIElmIHlvdSBoYXZlIGFscmVhZHkgbWlncmF0ZWQgYWxsIGFzeW5jIGNvbXBvbmVudCBgICtcbiAgICAgICAgICAgICAgICBgdXNhZ2UgYW5kIGludGVuZCB0byB1c2UgcGxhaW4gZnVuY3Rpb25zIGZvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMsIGAgK1xuICAgICAgICAgICAgICAgIGB5b3UgY2FuIGRpc2FibGUgdGhlIGNvbXBhdCBiZWhhdmlvciBhbmQgc3VwcHJlc3MgdGhpcyBgICtcbiAgICAgICAgICAgICAgICBgd2FybmluZyB3aXRoOmAgK1xuICAgICAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJDT01QT05FTlRfQVNZTkNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9BU1lOQyAqL306IGZhbHNlIH0pXFxuYCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9hc3luYy1jb21wb25lbnRzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT01QT05FTlRfRlVOQ1RJT05BTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX0ZVTkNUSU9OQUwgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShjb21wKTtcbiAgICAgICAgICAgIHJldHVybiAoYEZ1bmN0aW9uYWwgY29tcG9uZW50JHtuYW1lID8gYCA8JHtuYW1lfT5gIDogYHNgfSBzaG91bGQgYmUgZGVmaW5lZCBhcyBhIHBsYWluIGZ1bmN0aW9uIGluIFZ1ZSAzLiBUaGUgXCJmdW5jdGlvbmFsXCIgYCArXG4gICAgICAgICAgICAgICAgYG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkLiBOT1RFOiBCZWZvcmUgbWlncmF0aW5nIHRvIHVzZSBwbGFpbiBgICtcbiAgICAgICAgICAgICAgICBgZnVuY3Rpb25zIGZvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMsIGZpcnN0IG1ha2Ugc3VyZSB0aGF0IGFsbCBhc3luYyBgICtcbiAgICAgICAgICAgICAgICBgY29tcG9uZW50cyB1c2FnZSBoYXZlIGJlZW4gbWlncmF0ZWQgYW5kIGl0cyBjb21wYXQgYmVoYXZpb3IgaGFzIGAgK1xuICAgICAgICAgICAgICAgIGBiZWVuIGRpc2FibGVkLmApO1xuICAgICAgICB9LFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZnVuY3Rpb25hbC1jb21wb25lbnRzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX1ZfTU9ERUwgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb25maWdNc2cgPSBgb3B0LWluIHRvIGAgK1xuICAgICAgICAgICAgICAgIGBWdWUgMyBiZWhhdmlvciBvbiBhIHBlci1jb21wb25lbnQgYmFzaXMgd2l0aCBcXGBjb21wYXRDb25maWc6IHsgJHtcIkNPTVBPTkVOVF9WX01PREVMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfVl9NT0RFTCAqL306IGZhbHNlIH1cXGAuYDtcbiAgICAgICAgICAgIGlmIChjb21wLnByb3BzICYmXG4gICAgICAgICAgICAgICAgKGlzQXJyYXkoY29tcC5wcm9wcylcbiAgICAgICAgICAgICAgICAgICAgPyBjb21wLnByb3BzLmluY2x1ZGVzKCdtb2RlbFZhbHVlJylcbiAgICAgICAgICAgICAgICAgICAgOiBoYXNPd24oY29tcC5wcm9wcywgJ21vZGVsVmFsdWUnKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGBDb21wb25lbnQgZGVjbGFyZXMgXCJtb2RlbFZhbHVlXCIgcHJvcCwgd2hpY2ggaXMgVnVlIDMgdXNhZ2UsIGJ1dCBgICtcbiAgICAgICAgICAgICAgICAgICAgYGlzIHJ1bm5pbmcgdW5kZXIgVnVlIDIgY29tcGF0IHYtbW9kZWwgYmVoYXZpb3IuIFlvdSBjYW4gJHtjb25maWdNc2d9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKGB2LW1vZGVsIHVzYWdlIG9uIGNvbXBvbmVudCBoYXMgY2hhbmdlZCBpbiBWdWUgMy4gQ29tcG9uZW50IHRoYXQgZXhwZWN0cyBgICtcbiAgICAgICAgICAgICAgICBgdG8gd29yayB3aXRoIHYtbW9kZWwgc2hvdWxkIG5vdyB1c2UgdGhlIFwibW9kZWxWYWx1ZVwiIHByb3AgYW5kIGVtaXQgdGhlIGAgK1xuICAgICAgICAgICAgICAgIGBcInVwZGF0ZTptb2RlbFZhbHVlXCIgZXZlbnQuIFlvdSBjYW4gdXBkYXRlIHRoZSB1c2FnZSBhbmQgdGhlbiAke2NvbmZpZ01zZ31gKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3YtbW9kZWwuaHRtbGBcbiAgICB9LFxuICAgIFtcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlIDMncyByZW5kZXIgZnVuY3Rpb24gQVBJIGhhcyBjaGFuZ2VkLiBgICtcbiAgICAgICAgICAgIGBZb3UgY2FuIG9wdC1pbiB0byB0aGUgbmV3IEFQSSB3aXRoOmAgK1xuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovfTogZmFsc2UgfSlcXG5gICtcbiAgICAgICAgICAgIGBcXG4gIChUaGlzIGNhbiBhbHNvIGJlIGRvbmUgcGVyLWNvbXBvbmVudCB2aWEgdGhlIFwiY29tcGF0Q29uZmlnXCIgb3B0aW9uLilgLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvcmVuZGVyLWZ1bmN0aW9uLWFwaS5odG1sYFxuICAgIH0sXG4gICAgW1wiRklMVEVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuRklMVEVSUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYGZpbHRlcnMgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFRoZSBcInxcIiBzeW1ib2wgd2lsbCBiZSB0cmVhdGVkIGFzIG5hdGl2ZSBKYXZhU2NyaXB0IGJpdHdpc2UgT1Igb3BlcmF0b3IuIGAgK1xuICAgICAgICAgICAgYFVzZSBtZXRob2QgY2FsbHMgb3IgY29tcHV0ZWQgcHJvcGVydGllcyBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9maWx0ZXJzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJQUklWQVRFX0FQSVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlBSSVZBVEVfQVBJUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogbmFtZSA9PiBgXCIke25hbWV9XCIgaXMgYSBWdWUgMiBwcml2YXRlIEFQSSB0aGF0IG5vIGxvbmdlciBleGlzdHMgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYElmIHlvdSBhcmUgc2VlaW5nIHRoaXMgd2FybmluZyBvbmx5IGR1ZSB0byBhIGRlcGVuZGVuY3ksIHlvdSBjYW4gYCArXG4gICAgICAgICAgICBgc3VwcHJlc3MgdGhpcyB3YXJuaW5nIHZpYSB7IFBSSVZBVEVfQVBJUzogJ3N1cHByZXNzLXdhcm5pbmcnIH0uYFxuICAgIH1cbn07XG5jb25zdCBpbnN0YW5jZVdhcm5lZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCB3YXJuQ291bnQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gd2FybkRlcHJlY2F0aW9uKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpIHtcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGluc3RhbmNlID0gaW5zdGFuY2UgfHwgZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgLy8gY2hlY2sgdXNlciBjb25maWdcbiAgICBjb25zdCBjb25maWcgPSBnZXRDb21wYXRDb25maWdGb3JLZXkoa2V5LCBpbnN0YW5jZSk7XG4gICAgaWYgKGNvbmZpZyA9PT0gJ3N1cHByZXNzLXdhcm5pbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZHVwS2V5ID0ga2V5ICsgYXJncy5qb2luKCcnKTtcbiAgICBsZXQgY29tcElkID0gaW5zdGFuY2UgJiYgZm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSk7XG4gICAgaWYgKGNvbXBJZCA9PT0gJ0Fub255bW91cycgJiYgaW5zdGFuY2UpIHtcbiAgICAgICAgY29tcElkID0gaW5zdGFuY2UudWlkO1xuICAgIH1cbiAgICAvLyBza2lwIGlmIHRoZSBzYW1lIHdhcm5pbmcgaXMgZW1pdHRlZCBmb3IgdGhlIHNhbWUgY29tcG9uZW50IHR5cGVcbiAgICBjb25zdCBjb21wb25lbnREdXBLZXkgPSBkdXBLZXkgKyBjb21wSWQ7XG4gICAgaWYgKGNvbXBvbmVudER1cEtleSBpbiBpbnN0YW5jZVdhcm5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGluc3RhbmNlV2FybmVkW2NvbXBvbmVudER1cEtleV0gPSB0cnVlO1xuICAgIC8vIHNhbWUgd2FybmluZywgYnV0IGRpZmZlcmVudCBjb21wb25lbnQuIHNraXAgdGhlIGxvbmcgbWVzc2FnZSBhbmQganVzdFxuICAgIC8vIGxvZyB0aGUga2V5IGFuZCBjb3VudC5cbiAgICBpZiAoZHVwS2V5IGluIHdhcm5Db3VudCkge1xuICAgICAgICB3YXJuJDEoYChkZXByZWNhdGlvbiAke2tleX0pICgkeysrd2FybkNvdW50W2R1cEtleV0gKyAxfSlgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3YXJuQ291bnRbZHVwS2V5XSA9IDA7XG4gICAgY29uc3QgeyBtZXNzYWdlLCBsaW5rIH0gPSBkZXByZWNhdGlvbkRhdGFba2V5XTtcbiAgICB3YXJuJDEoYChkZXByZWNhdGlvbiAke2tleX0pICR7dHlwZW9mIG1lc3NhZ2UgPT09ICdmdW5jdGlvbicgPyBtZXNzYWdlKC4uLmFyZ3MpIDogbWVzc2FnZX0ke2xpbmsgPyBgXFxuICBEZXRhaWxzOiAke2xpbmt9YCA6IGBgfWApO1xuICAgIGlmICghaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIHRydWUpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYF4gVGhlIGFib3ZlIGRlcHJlY2F0aW9uJ3MgY29tcGF0IGJlaGF2aW9yIGlzIGRpc2FibGVkIGFuZCB3aWxsIGxpa2VseSBgICtcbiAgICAgICAgICAgIGBsZWFkIHRvIHJ1bnRpbWUgZXJyb3JzLmApO1xuICAgIH1cbn1cbmNvbnN0IGdsb2JhbENvbXBhdENvbmZpZyA9IHtcbiAgICBNT0RFOiAyXG59O1xuZnVuY3Rpb24gY29uZmlndXJlQ29tcGF0KGNvbmZpZykge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgdmFsaWRhdGVDb21wYXRDb25maWcoY29uZmlnKTtcbiAgICB9XG4gICAgZXh0ZW5kKGdsb2JhbENvbXBhdENvbmZpZywgY29uZmlnKTtcbn1cbmNvbnN0IHNlZW5Db25maWdPYmplY3RzID0gLyojX19QVVJFX18qLyBuZXcgV2Vha1NldCgpO1xuY29uc3Qgd2FybmVkSW52YWxpZEtleXMgPSB7fTtcbi8vIGRldiBvbmx5XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbXBhdENvbmZpZyhjb25maWcsIGluc3RhbmNlKSB7XG4gICAgaWYgKHNlZW5Db25maWdPYmplY3RzLmhhcyhjb25maWcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VlbkNvbmZpZ09iamVjdHMuYWRkKGNvbmZpZyk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoY29uZmlnKSkge1xuICAgICAgICBpZiAoa2V5ICE9PSAnTU9ERScgJiZcbiAgICAgICAgICAgICEoa2V5IGluIGRlcHJlY2F0aW9uRGF0YSkgJiZcbiAgICAgICAgICAgICEoa2V5IGluIHdhcm5lZEludmFsaWRLZXlzKSkge1xuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdDT01QSUxFUl8nKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBEZXByZWNhdGlvbiBjb25maWcgXCIke2tleX1cIiBpcyBjb21waWxlci1zcGVjaWZpYyBhbmQgeW91IGFyZSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBydW5uaW5nIGEgcnVudGltZS1vbmx5IGJ1aWxkIG9mIFZ1ZS4gVGhpcyBkZXByZWNhdGlvbiBzaG91bGQgYmUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgY29uZmlndXJlZCB2aWEgY29tcGlsZXIgb3B0aW9ucyBpbiB5b3VyIGJ1aWxkIHNldHVwIGluc3RlYWQuXFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgRGV0YWlsczogaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvbWlncmF0aW9uLWJ1aWxkLmh0bWxgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEludmFsaWQgZGVwcmVjYXRpb24gY29uZmlnIFwiJHtrZXl9XCIuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJuZWRJbnZhbGlkS2V5c1trZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UgJiYgY29uZmlnW1wiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfTUVSR0UgKi9dICE9IG51bGwpIHtcbiAgICAgICAgd2FybiQxKGBEZXByZWNhdGlvbiBjb25maWcgXCIke1wiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfTUVSR0UgKi99XCIgY2FuIG9ubHkgYmUgY29uZmlndXJlZCBnbG9iYWxseS5gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDb21wYXRDb25maWdGb3JLZXkoa2V5LCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IGluc3RhbmNlQ29uZmlnID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5jb21wYXRDb25maWc7XG4gICAgaWYgKGluc3RhbmNlQ29uZmlnICYmIGtleSBpbiBpbnN0YW5jZUNvbmZpZykge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2VDb25maWdba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbENvbXBhdENvbmZpZ1trZXldO1xufVxuZnVuY3Rpb24gaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIGVuYWJsZUZvckJ1aWx0SW4gPSBmYWxzZSkge1xuICAgIC8vIHNraXAgY29tcGF0IGZvciBidWlsdC1pbiBjb21wb25lbnRzXG4gICAgaWYgKCFlbmFibGVGb3JCdWlsdEluICYmIGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuX19pc0J1aWx0SW4pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCByYXdNb2RlID0gZ2V0Q29tcGF0Q29uZmlnRm9yS2V5KCdNT0RFJywgaW5zdGFuY2UpIHx8IDI7XG4gICAgY29uc3QgdmFsID0gZ2V0Q29tcGF0Q29uZmlnRm9yS2V5KGtleSwgaW5zdGFuY2UpO1xuICAgIGNvbnN0IG1vZGUgPSBpc0Z1bmN0aW9uKHJhd01vZGUpXG4gICAgICAgID8gcmF3TW9kZShpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlKVxuICAgICAgICA6IHJhd01vZGU7XG4gICAgaWYgKG1vZGUgPT09IDIpIHtcbiAgICAgICAgcmV0dXJuIHZhbCAhPT0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsID09PSB0cnVlIHx8IHZhbCA9PT0gJ3N1cHByZXNzLXdhcm5pbmcnO1xuICAgIH1cbn1cbi8qKlxuICogVXNlIHRoaXMgZm9yIGZlYXR1cmVzIHRoYXQgYXJlIGNvbXBsZXRlbHkgcmVtb3ZlZCBpbiBub24tY29tcGF0IGJ1aWxkLlxuICovXG5mdW5jdGlvbiBhc3NlcnRDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpIHtcbiAgICBpZiAoIWlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7a2V5fSBjb21wYXQgaGFzIGJlZW4gZGlzYWJsZWQuYCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuRGVwcmVjYXRpb24oa2V5LCBpbnN0YW5jZSwgLi4uYXJncyk7XG4gICAgfVxufVxuLyoqXG4gKiBVc2UgdGhpcyBmb3IgZmVhdHVyZXMgd2hlcmUgbGVnYWN5IHVzYWdlIGlzIHN0aWxsIHBvc3NpYmxlLCBidXQgd2lsbCBsaWtlbHlcbiAqIGxlYWQgdG8gcnVudGltZSBlcnJvciBpZiBjb21wYXQgaXMgZGlzYWJsZWQuICh3YXJuIGluIGFsbCBjYXNlcylcbiAqL1xuZnVuY3Rpb24gc29mdEFzc2VydENvbXBhdEVuYWJsZWQoa2V5LCBpbnN0YW5jZSwgLi4uYXJncykge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybkRlcHJlY2F0aW9uKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UpO1xufVxuLyoqXG4gKiBVc2UgdGhpcyBmb3IgZmVhdHVyZXMgd2l0aCB0aGUgc2FtZSBzeW50YXggYnV0IHdpdGggbXV0dWFsbHkgZXhjbHVzaXZlXG4gKiBiZWhhdmlvciBpbiAyIHZzIDMuIE9ubHkgd2FybiBpZiBjb21wYXQgaXMgZW5hYmxlZC5cbiAqIGUuZy4gcmVuZGVyIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGNoZWNrQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZW5hYmxlZCA9IGlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGVuYWJsZWQpIHtcbiAgICAgICAgd2FybkRlcHJlY2F0aW9uKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gZW5hYmxlZDtcbn1cblxuY29uc3QgZXZlbnRSZWdpc3RyeU1hcCA9IC8qI19fUFVSRV9fKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGdldFJlZ2lzdHJ5KGluc3RhbmNlKSB7XG4gICAgbGV0IGV2ZW50cyA9IGV2ZW50UmVnaXN0cnlNYXAuZ2V0KGluc3RhbmNlKTtcbiAgICBpZiAoIWV2ZW50cykge1xuICAgICAgICBldmVudFJlZ2lzdHJ5TWFwLnNldChpbnN0YW5jZSwgKGV2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50cztcbn1cbmZ1bmN0aW9uIG9uKGluc3RhbmNlLCBldmVudCwgZm4pIHtcbiAgICBpZiAoaXNBcnJheShldmVudCkpIHtcbiAgICAgICAgZXZlbnQuZm9yRWFjaChlID0+IG9uKGluc3RhbmNlLCBlLCBmbikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGV2ZW50LnN0YXJ0c1dpdGgoJ2hvb2s6JykpIHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUiAqLywgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IGdldFJlZ2lzdHJ5KGluc3RhbmNlKTtcbiAgICAgICAgKGV2ZW50c1tldmVudF0gfHwgKGV2ZW50c1tldmVudF0gPSBbXSkpLnB1c2goZm4pO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG59XG5mdW5jdGlvbiBvbmNlKGluc3RhbmNlLCBldmVudCwgZm4pIHtcbiAgICBjb25zdCB3cmFwcGVkID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgb2ZmKGluc3RhbmNlLCBldmVudCwgd3JhcHBlZCk7XG4gICAgICAgIGZuLmNhbGwoaW5zdGFuY2UucHJveHksIC4uLmFyZ3MpO1xuICAgIH07XG4gICAgd3JhcHBlZC5mbiA9IGZuO1xuICAgIG9uKGluc3RhbmNlLCBldmVudCwgd3JhcHBlZCk7XG4gICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xufVxuZnVuY3Rpb24gb2ZmKGluc3RhbmNlLCBldmVudCwgZm4pIHtcbiAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUiAqLywgaW5zdGFuY2UpO1xuICAgIGNvbnN0IHZtID0gaW5zdGFuY2UucHJveHk7XG4gICAgLy8gYWxsXG4gICAgaWYgKCFldmVudCkge1xuICAgICAgICBldmVudFJlZ2lzdHJ5TWFwLnNldChpbnN0YW5jZSwgT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgIHJldHVybiB2bTtcbiAgICB9XG4gICAgLy8gYXJyYXkgb2YgZXZlbnRzXG4gICAgaWYgKGlzQXJyYXkoZXZlbnQpKSB7XG4gICAgICAgIGV2ZW50LmZvckVhY2goZSA9PiBvZmYoaW5zdGFuY2UsIGUsIGZuKSk7XG4gICAgICAgIHJldHVybiB2bTtcbiAgICB9XG4gICAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgICBjb25zdCBldmVudHMgPSBnZXRSZWdpc3RyeShpbnN0YW5jZSk7XG4gICAgY29uc3QgY2JzID0gZXZlbnRzW2V2ZW50XTtcbiAgICBpZiAoIWNicykge1xuICAgICAgICByZXR1cm4gdm07XG4gICAgfVxuICAgIGlmICghZm4pIHtcbiAgICAgICAgZXZlbnRzW2V2ZW50XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHZtO1xuICAgIH1cbiAgICBldmVudHNbZXZlbnRdID0gY2JzLmZpbHRlcihjYiA9PiAhKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pKTtcbiAgICByZXR1cm4gdm07XG59XG5mdW5jdGlvbiBlbWl0JDEoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKSB7XG4gICAgY29uc3QgY2JzID0gZ2V0UmVnaXN0cnkoaW5zdGFuY2UpW2V2ZW50XTtcbiAgICBpZiAoY2JzKSB7XG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNicy5tYXAoY2IgPT4gY2IuYmluZChpbnN0YW5jZS5wcm94eSkpLCBpbnN0YW5jZSwgNiAvKiBFcnJvckNvZGVzLkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xufVxuXG5jb25zdCBjb21wYXRNb2RlbEV2ZW50UHJlZml4ID0gYG9uTW9kZWxDb21wYXQ6YDtcbmNvbnN0IHdhcm5lZFR5cGVzID0gbmV3IFdlYWtTZXQoKTtcbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lWTW9kZWxQcm9wcyh2bm9kZSkge1xuICAgIGNvbnN0IHsgdHlwZSwgc2hhcGVGbGFnLCBwcm9wcywgZHluYW1pY1Byb3BzIH0gPSB2bm9kZTtcbiAgICBjb25zdCBjb21wID0gdHlwZTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLyAmJiBwcm9wcyAmJiAnbW9kZWxWYWx1ZScgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKCFpc0NvbXBhdEVuYWJsZWQoXCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX1ZfTU9ERUwgKi8sIFxuICAgICAgICAvLyB0aGlzIGlzIGEgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIHdhbnQgdG8gdXNlIHRoZSB2bm9kZSBjb21wb25lbnQnc1xuICAgICAgICAvLyBjb21wYXQgY29uZmlnIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlICh3aGljaCBpcyB0aGVcbiAgICAgICAgLy8gcGFyZW50IG9mIHRoZSBjb21wb25lbnQgdGhhdCBleHBvc2VzIHYtbW9kZWwpXG4gICAgICAgIHsgdHlwZSB9KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXdhcm5lZFR5cGVzLmhhcyhjb21wKSkge1xuICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKTtcbiAgICAgICAgICAgIHdhcm5EZXByZWNhdGlvbihcIkNPTVBPTkVOVF9WX01PREVMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfVl9NT0RFTCAqLywgeyB0eXBlIH0sIGNvbXApO1xuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgICAgIHdhcm5lZFR5cGVzLmFkZChjb21wKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2MyBjb21waWxlZCBtb2RlbCBjb2RlIC0+IHYyIGNvbXBhdCBwcm9wc1xuICAgICAgICAvLyBtb2RlbFZhbHVlIC0+IHZhbHVlXG4gICAgICAgIC8vIG9uVXBkYXRlOm1vZGVsVmFsdWUgLT4gb25Nb2RlbENvbXBhdDppbnB1dFxuICAgICAgICBjb25zdCBtb2RlbCA9IGNvbXAubW9kZWwgfHwge307XG4gICAgICAgIGFwcGx5TW9kZWxGcm9tTWl4aW5zKG1vZGVsLCBjb21wLm1peGlucyk7XG4gICAgICAgIGNvbnN0IHsgcHJvcCA9ICd2YWx1ZScsIGV2ZW50ID0gJ2lucHV0JyB9ID0gbW9kZWw7XG4gICAgICAgIGlmIChwcm9wICE9PSAnbW9kZWxWYWx1ZScpIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BdID0gcHJvcHMubW9kZWxWYWx1ZTtcbiAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy5tb2RlbFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltcG9ydGFudDogdXBkYXRlIGR5bmFtaWMgcHJvcHNcbiAgICAgICAgaWYgKGR5bmFtaWNQcm9wcykge1xuICAgICAgICAgICAgZHluYW1pY1Byb3BzW2R5bmFtaWNQcm9wcy5pbmRleE9mKCdtb2RlbFZhbHVlJyldID0gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBwcm9wc1tjb21wYXRNb2RlbEV2ZW50UHJlZml4ICsgZXZlbnRdID0gcHJvcHNbJ29uVXBkYXRlOm1vZGVsVmFsdWUnXTtcbiAgICAgICAgZGVsZXRlIHByb3BzWydvblVwZGF0ZTptb2RlbFZhbHVlJ107XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwbHlNb2RlbEZyb21NaXhpbnMobW9kZWwsIG1peGlucykge1xuICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgbWl4aW5zLmZvckVhY2gobSA9PiB7XG4gICAgICAgICAgICBpZiAobS5tb2RlbClcbiAgICAgICAgICAgICAgICBleHRlbmQobW9kZWwsIG0ubW9kZWwpO1xuICAgICAgICAgICAgaWYgKG0ubWl4aW5zKVxuICAgICAgICAgICAgICAgIGFwcGx5TW9kZWxGcm9tTWl4aW5zKG1vZGVsLCBtLm1peGlucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbXBhdE1vZGVsRW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpIHtcbiAgICBpZiAoIWlzQ29tcGF0RW5hYmxlZChcIkNPTVBPTkVOVF9WX01PREVMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfVl9NT0RFTCAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICBjb25zdCBtb2RlbEhhbmRsZXIgPSBwcm9wcyAmJiBwcm9wc1tjb21wYXRNb2RlbEV2ZW50UHJlZml4ICsgZXZlbnRdO1xuICAgIGlmIChtb2RlbEhhbmRsZXIpIHtcbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKG1vZGVsSGFuZGxlciwgaW5zdGFuY2UsIDYgLyogRXJyb3JDb2Rlcy5DT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBlbWl0JDIoaW5zdGFuY2UsIGV2ZW50LCAuLi5yYXdBcmdzKSB7XG4gICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgcHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCB7IGVtaXRzT3B0aW9ucywgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmIChlbWl0c09wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghKGV2ZW50IGluIGVtaXRzT3B0aW9ucykgJiZcbiAgICAgICAgICAgICAgICAhKChldmVudC5zdGFydHNXaXRoKCdob29rOicpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdGFydHNXaXRoKGNvbXBhdE1vZGVsRXZlbnRQcmVmaXgpKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzT3B0aW9ucyB8fCAhKHRvSGFuZGxlcktleShldmVudCkgaW4gcHJvcHNPcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGV2ZW50KX1cIiBwcm9wLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRvciA9IGVtaXRzT3B0aW9uc1tldmVudF07XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdG9yKC4uLnJhd0FyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgSW52YWxpZCBldmVudCBhcmd1bWVudHM6IGV2ZW50IHZhbGlkYXRpb24gZmFpbGVkIGZvciBldmVudCBcIiR7ZXZlbnR9XCIuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGFyZ3MgPSByYXdBcmdzO1xuICAgIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoJ3VwZGF0ZTonKTtcbiAgICAvLyBmb3Igdi1tb2RlbCB1cGRhdGU6eHh4IGV2ZW50cywgYXBwbHkgbW9kaWZpZXJzIG9uIGFyZ3NcbiAgICBjb25zdCBtb2RlbEFyZyA9IGlzTW9kZWxMaXN0ZW5lciAmJiBldmVudC5zbGljZSg3KTtcbiAgICBpZiAobW9kZWxBcmcgJiYgbW9kZWxBcmcgaW4gcHJvcHMpIHtcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzS2V5ID0gYCR7bW9kZWxBcmcgPT09ICdtb2RlbFZhbHVlJyA/ICdtb2RlbCcgOiBtb2RlbEFyZ31Nb2RpZmllcnNgO1xuICAgICAgICBjb25zdCB7IG51bWJlciwgdHJpbSB9ID0gcHJvcHNbbW9kaWZpZXJzS2V5XSB8fCBFTVBUWV9PQko7XG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAoYSA9PiAoaXNTdHJpbmcoYSkgPyBhLnRyaW0oKSA6IGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtYmVyKSB7XG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAodG9OdW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50RW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IGxvd2VyQ2FzZUV2ZW50ID0gZXZlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGxvd2VyQ2FzZUV2ZW50ICE9PSBldmVudCAmJiBwcm9wc1t0b0hhbmRsZXJLZXkobG93ZXJDYXNlRXZlbnQpXSkge1xuICAgICAgICAgICAgd2FybiQxKGBFdmVudCBcIiR7bG93ZXJDYXNlRXZlbnR9XCIgaXMgZW1pdHRlZCBpbiBjb21wb25lbnQgYCArXG4gICAgICAgICAgICAgICAgYCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9IGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcIiR7ZXZlbnR9XCIuIGAgK1xuICAgICAgICAgICAgICAgIGBOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSBgICtcbiAgICAgICAgICAgICAgICBgdi1vbiB0byBsaXN0ZW4gdG8gY2FtZWxDYXNlIGV2ZW50cyB3aGVuIHVzaW5nIGluLURPTSB0ZW1wbGF0ZXMuIGAgK1xuICAgICAgICAgICAgICAgIGBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiR7aHlwaGVuYXRlKGV2ZW50KX1cIiBpbnN0ZWFkIG9mIFwiJHtldmVudH1cIi5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgaGFuZGxlck5hbWU7XG4gICAgbGV0IGhhbmRsZXIgPSBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoZXZlbnQpKV0gfHxcbiAgICAgICAgLy8gYWxzbyB0cnkgY2FtZWxDYXNlIGV2ZW50IGhhbmRsZXIgKCMyMjQ5KVxuICAgICAgICBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKSldO1xuICAgIC8vIGZvciB2LW1vZGVsIHVwZGF0ZTp4eHggZXZlbnRzLCBhbHNvIHRyaWdnZXIga2ViYWItY2FzZSBlcXVpdmFsZW50XG4gICAgLy8gZm9yIHByb3BzIHBhc3NlZCB2aWEga2ViYWItY2FzZVxuICAgIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcbiAgICAgICAgaGFuZGxlciA9IHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShoeXBoZW5hdGUoZXZlbnQpKSldO1xuICAgIH1cbiAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhoYW5kbGVyLCBpbnN0YW5jZSwgNiAvKiBFcnJvckNvZGVzLkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcbiAgICB9XG4gICAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XG4gICAgaWYgKG9uY2VIYW5kbGVyKSB7XG4gICAgICAgIGlmICghaW5zdGFuY2UuZW1pdHRlZCkge1xuICAgICAgICAgICAgaW5zdGFuY2UuZW1pdHRlZCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0gPSB0cnVlO1xuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhvbmNlSGFuZGxlciwgaW5zdGFuY2UsIDYgLyogRXJyb3JDb2Rlcy5DT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XG4gICAgfVxuICAgIHtcbiAgICAgICAgY29tcGF0TW9kZWxFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XG4gICAgICAgIHJldHVybiBlbWl0JDEoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVFbWl0c09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gICAgY29uc3QgY2FjaGUgPSBhcHBDb250ZXh0LmVtaXRzQ2FjaGU7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGNvbXApO1xuICAgIGlmIChjYWNoZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgIH1cbiAgICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xuICAgIGxldCBub3JtYWxpemVkID0ge307XG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kRW1pdHMgPSAocmF3KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKSB7XG4gICAgICAgICAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xuICAgICAgICAgICAgZXh0ZW5kRW1pdHMoY29tcC5leHRlbmRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgICAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgICAgICAgY2FjaGUuc2V0KGNvbXAsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICAgIHJhdy5mb3JFYWNoKGtleSA9PiAobm9ybWFsaXplZFtrZXldID0gbnVsbCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHJhdyk7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgICBjYWNoZS5zZXQoY29tcCwgbm9ybWFsaXplZCk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkO1xufVxuLy8gQ2hlY2sgaWYgYW4gaW5jb21pbmcgcHJvcCBrZXkgaXMgYSBkZWNsYXJlZCBlbWl0IGV2ZW50IGxpc3RlbmVyLlxuLy8gZS5nLiBXaXRoIGBlbWl0czogeyBjbGljazogbnVsbCB9YCwgcHJvcHMgbmFtZWQgYG9uQ2xpY2tgIGFuZCBgb25jbGlja2AgYXJlXG4vLyBib3RoIGNvbnNpZGVyZWQgbWF0Y2hlZCBsaXN0ZW5lcnMuXG5mdW5jdGlvbiBpc0VtaXRMaXN0ZW5lcihvcHRpb25zLCBrZXkpIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChrZXkuc3RhcnRzV2l0aChjb21wYXRNb2RlbEV2ZW50UHJlZml4KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAga2V5ID0ga2V5LnNsaWNlKDIpLnJlcGxhY2UoL09uY2UkLywgJycpO1xuICAgIHJldHVybiAoaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fFxuICAgICAgICBoYXNPd24ob3B0aW9ucywgaHlwaGVuYXRlKGtleSkpIHx8XG4gICAgICAgIGhhc093bihvcHRpb25zLCBrZXkpKTtcbn1cblxuLyoqXG4gKiBtYXJrIHRoZSBjdXJyZW50IHJlbmRlcmluZyBpbnN0YW5jZSBmb3IgYXNzZXQgcmVzb2x1dGlvbiAoZS5nLlxuICogcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSkgZHVyaW5nIHJlbmRlclxuICovXG5sZXQgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcbmxldCBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG4vKipcbiAqIE5vdGU6IHJlbmRlcmluZyBjYWxscyBtYXliZSBuZXN0ZWQuIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRoZSBwYXJlbnQgcmVuZGVyaW5nXG4gKiBpbnN0YW5jZSBpZiBwcmVzZW50LCB3aGljaCBzaG91bGQgYmUgcmVzdG9yZWQgYWZ0ZXIgdGhlIHJlbmRlciBpcyBkb25lOlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGkpXG4gKiAvLyAuLi5yZW5kZXJcbiAqIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGNvbnN0IHByZXYgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgY3VycmVudFNjb3BlSWQgPSAoaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX3Njb3BlSWQpIHx8IG51bGw7XG4gICAgLy8gdjIgcHJlLWNvbXBpbGVkIGNvbXBvbmVudHMgdXNlcyBfc2NvcGVJZCBpbnN0ZWFkIG9mIF9fc2NvcGVJZFxuICAgIGlmICghY3VycmVudFNjb3BlSWQpIHtcbiAgICAgICAgY3VycmVudFNjb3BlSWQgPSAoaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fc2NvcGVJZCkgfHwgbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHByZXY7XG59XG4vKipcbiAqIFNldCBzY29wZSBpZCB3aGVuIGNyZWF0aW5nIGhvaXN0ZWQgdm5vZGVzLlxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXG4gKi9cbmZ1bmN0aW9uIHB1c2hTY29wZUlkKGlkKSB7XG4gICAgY3VycmVudFNjb3BlSWQgPSBpZDtcbn1cbi8qKlxuICogVGVjaG5pY2FsbHkgd2Ugbm8gbG9uZ2VyIG5lZWQgdGhpcyBhZnRlciAzLjAuOCBidXQgd2UgbmVlZCB0byBrZWVwIHRoZSBzYW1lXG4gKiBBUEkgZm9yIGJhY2t3YXJkcyBjb21wYXQgdy8gY29kZSBnZW5lcmF0ZWQgYnkgY29tcGlsZXJzLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcG9wU2NvcGVJZCgpIHtcbiAgICBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG59XG4vKipcbiAqIE9ubHkgZm9yIGJhY2t3YXJkcyBjb21wYXRcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHdpdGhTY29wZUlkID0gKF9pZCkgPT4gd2l0aEN0eDtcbi8qKlxuICogV3JhcCBhIHNsb3QgZnVuY3Rpb24gdG8gbWVtb2l6ZSBjdXJyZW50IHJlbmRlcmluZyBpbnN0YW5jZVxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXG4gKi9cbmZ1bmN0aW9uIHdpdGhDdHgoZm4sIGN0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgaXNOb25TY29wZWRTbG90IC8vIHRydWUgb25seVxuKSB7XG4gICAgaWYgKCFjdHgpXG4gICAgICAgIHJldHVybiBmbjtcbiAgICAvLyBhbHJlYWR5IG5vcm1hbGl6ZWRcbiAgICBpZiAoZm4uX24pIHtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJGbldpdGhDb250ZXh0ID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgLy8gSWYgYSB1c2VyIGNhbGxzIGEgY29tcGlsZWQgc2xvdCBpbnNpZGUgYSB0ZW1wbGF0ZSBleHByZXNzaW9uICgjMTc0NSksIGl0XG4gICAgICAgIC8vIGNhbiBtZXNzIHVwIGJsb2NrIHRyYWNraW5nLCBzbyBieSBkZWZhdWx0IHdlIGRpc2FibGUgYmxvY2sgdHJhY2tpbmcgYW5kXG4gICAgICAgIC8vIGZvcmNlIGJhaWwgb3V0IHdoZW4gaW52b2tpbmcgYSBjb21waWxlZCBzbG90IChpbmRpY2F0ZWQgYnkgdGhlIC5fZCBmbGFnKS5cbiAgICAgICAgLy8gVGhpcyBpc24ndCBuZWNlc3NhcnkgaWYgcmVuZGVyaW5nIGEgY29tcGlsZWQgYDxzbG90PmAsIHNvIHdlIGZsaXAgdGhlXG4gICAgICAgIC8vIC5fZCBmbGFnIG9mZiB3aGVuIGludm9raW5nIHRoZSB3cmFwcGVkIGZuIGluc2lkZSBgcmVuZGVyU2xvdGAuXG4gICAgICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICAgICAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2SW5zdGFuY2UgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoY3R4KTtcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcyA9IGZuKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXZJbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgICAgICAgICAgIHNldEJsb2NrVHJhY2tpbmcoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChjdHgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICAvLyBtYXJrIG5vcm1hbGl6ZWQgdG8gYXZvaWQgZHVwbGljYXRlZCB3cmFwcGluZ1xuICAgIHJlbmRlckZuV2l0aENvbnRleHQuX24gPSB0cnVlO1xuICAgIC8vIG1hcmsgdGhpcyBhcyBjb21waWxlZCBieSBkZWZhdWx0XG4gICAgLy8gdGhpcyBpcyB1c2VkIGluIHZub2RlLnRzIC0+IG5vcm1hbGl6ZUNoaWxkcmVuKCkgdG8gc2V0IHRoZSBzbG90XG4gICAgLy8gcmVuZGVyaW5nIGZsYWcuXG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fYyA9IHRydWU7XG4gICAgLy8gZGlzYWJsZSBibG9jayB0cmFja2luZyBieSBkZWZhdWx0XG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fZCA9IHRydWU7XG4gICAgLy8gY29tcGF0IGJ1aWxkIG9ubHkgZmxhZyB0byBkaXN0aW5ndWlzaCBzY29wZWQgc2xvdHMgZnJvbSBub24tc2NvcGVkIG9uZXNcbiAgICBpZiAoaXNOb25TY29wZWRTbG90KSB7XG4gICAgICAgIHJlbmRlckZuV2l0aENvbnRleHQuX25zID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlckZuV2l0aENvbnRleHQ7XG59XG5cbi8qKlxuICogZGV2IG9ubHkgZmxhZyB0byB0cmFjayB3aGV0aGVyICRhdHRycyB3YXMgdXNlZCBkdXJpbmcgcmVuZGVyLlxuICogSWYgJGF0dHJzIHdhcyB1c2VkIGR1cmluZyByZW5kZXIgdGhlbiB0aGUgd2FybmluZyBmb3IgZmFpbGVkIGF0dHJzXG4gKiBmYWxsdGhyb3VnaCBjYW4gYmUgc3VwcHJlc3NlZC5cbiAqL1xubGV0IGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcbmZ1bmN0aW9uIG1hcmtBdHRyc0FjY2Vzc2VkKCkge1xuICAgIGFjY2Vzc2VkQXR0cnMgPSB0cnVlO1xufVxuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkge1xuICAgIGNvbnN0IHsgdHlwZTogQ29tcG9uZW50LCB2bm9kZSwgcHJveHksIHdpdGhQcm94eSwgcHJvcHMsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sIHNsb3RzLCBhdHRycywgZW1pdCwgcmVuZGVyLCByZW5kZXJDYWNoZSwgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4LCBpbmhlcml0QXR0cnMgfSA9IGluc3RhbmNlO1xuICAgIGxldCByZXN1bHQ7XG4gICAgbGV0IGZhbGx0aHJvdWdoQXR0cnM7XG4gICAgY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICAvLyB3aXRoUHJveHkgaXMgYSBwcm94eSB3aXRoIGEgZGlmZmVyZW50IGBoYXNgIHRyYXAgb25seSBmb3JcbiAgICAgICAgICAgIC8vIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2suXG4gICAgICAgICAgICBjb25zdCBwcm94eVRvVXNlID0gd2l0aFByb3h5IHx8IHByb3h5O1xuICAgICAgICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUocmVuZGVyLmNhbGwocHJveHlUb1VzZSwgcHJveHlUb1VzZSwgcmVuZGVyQ2FjaGUsIHByb3BzLCBzZXR1cFN0YXRlLCBkYXRhLCBjdHgpKTtcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBhdHRycztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWxcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IENvbXBvbmVudDtcbiAgICAgICAgICAgIC8vIGluIGRldiwgbWFyayBhdHRycyBhY2Nlc3NlZCBpZiBvcHRpb25hbCBwcm9wcyAoYXR0cnMgPT09IHByb3BzKVxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUocmVuZGVyLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICAgICA/IHJlbmRlcihwcm9wcywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogeyBhdHRycywgc2xvdHMsIGVtaXQgfSlcbiAgICAgICAgICAgICAgICA6IHJlbmRlcihwcm9wcywgbnVsbCAvKiB3ZSBrbm93IGl0IGRvZXNuJ3QgbmVlZCBpdCAqLykpO1xuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IENvbXBvbmVudC5wcm9wc1xuICAgICAgICAgICAgICAgID8gYXR0cnNcbiAgICAgICAgICAgICAgICA6IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaChhdHRycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEgLyogRXJyb3JDb2Rlcy5SRU5ERVJfRlVOQ1RJT04gKi8pO1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgICB9XG4gICAgLy8gYXR0ciBtZXJnaW5nXG4gICAgLy8gaW4gZGV2IG1vZGUsIGNvbW1lbnRzIGFyZSBwcmVzZXJ2ZWQsIGFuZCBpdCdzIHBvc3NpYmxlIGZvciBhIHRlbXBsYXRlXG4gICAgLy8gdG8gaGF2ZSBjb21tZW50cyBhbG9uZyBzaWRlIHRoZSByb290IGVsZW1lbnQgd2hpY2ggbWFrZXMgaXQgYSBmcmFnbWVudFxuICAgIGxldCByb290ID0gcmVzdWx0O1xuICAgIGxldCBzZXRSb290ID0gdW5kZWZpbmVkO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiZcbiAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDggLyogUGF0Y2hGbGFncy5ERVZfUk9PVF9GUkFHTUVOVCAqLykge1xuICAgICAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcbiAgICB9XG4gICAgaWYgKGZhbGx0aHJvdWdoQXR0cnMgJiYgaW5oZXJpdEF0dHJzICE9PSBmYWxzZSkge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAoMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gfCA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSB2LW1vZGVsIGxpc3RlbmVyIChvblVwZGF0ZTp4eHgpIGhhcyBhIGNvcnJlc3BvbmRpbmcgZGVjbGFyZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvcCwgaXQgaW5kaWNhdGVzIHRoaXMgY29tcG9uZW50IGV4cGVjdHMgdG8gaGFuZGxlIHYtbW9kZWwgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBub3QgZmFsbHRocm91Z2guXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbGF0ZWQ6ICMxNTQzLCAjMTY0MywgIzE5ODlcbiAgICAgICAgICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKGZhbGx0aHJvdWdoQXR0cnMsIHByb3BzT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEF0dHJzID0gT2JqZWN0LmtleXMoYXR0cnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50QXR0cnMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRyYUF0dHJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhbGxBdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYWxsQXR0cnNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB2LW1vZGVsIGhhbmRsZXJzIHdoZW4gdGhleSBmYWlsIHRvIGZhbGx0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGBvbmAsIGxvd2VyY2FzZSBmaXJzdCBsZXR0ZXIgdG8gcmVmbGVjdCBldmVudCBjYXNpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2N1cmF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBdHRycy5wdXNoKGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cnMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChleHRyYUF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXh0cmFBdHRycy5qb2luKCcsICcpfSkgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEV4dHJhbmVvdXMgbm9uLWVtaXRzIGV2ZW50IGxpc3RlbmVycyAoYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtldmVudEF0dHJzLmpvaW4oJywgJyl9KSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgcm9vdCBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgdGhlIGxpc3RlbmVyIGlzIGludGVuZGVkIHRvIGJlIGEgY29tcG9uZW50IGN1c3RvbSBldmVudCBsaXN0ZW5lciBvbmx5LCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBkZWNsYXJlIGl0IHVzaW5nIHRoZSBcImVtaXRzXCIgb3B0aW9uLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFICovLCBpbnN0YW5jZSkgJiZcbiAgICAgICAgdm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLyAmJlxuICAgICAgICByb290LnNoYXBlRmxhZyAmICgxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyB8IDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pKSB7XG4gICAgICAgIGNvbnN0IHsgY2xhc3M6IGNscywgc3R5bGUgfSA9IHZub2RlLnByb3BzIHx8IHt9O1xuICAgICAgICBpZiAoY2xzIHx8IHN0eWxlKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluaGVyaXRBdHRycyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB3YXJuRGVwcmVjYXRpb24oXCJJTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi8sIGluc3RhbmNlLCBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIHtcbiAgICAgICAgICAgICAgICBjbGFzczogY2xzLFxuICAgICAgICAgICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gaW5oZXJpdCBkaXJlY3RpdmVzXG4gICAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgICAgICAgd2FybiQxKGBSdW50aW1lIGRpcmVjdGl2ZSB1c2VkIG9uIGNvbXBvbmVudCB3aXRoIG5vbi1lbGVtZW50IHJvb3Qgbm9kZS4gYCArXG4gICAgICAgICAgICAgICAgYFRoZSBkaXJlY3RpdmVzIHdpbGwgbm90IGZ1bmN0aW9uIGFzIGludGVuZGVkLmApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNsb25lIGJlZm9yZSBtdXRhdGluZyBzaW5jZSB0aGUgcm9vdCBtYXkgYmUgYSBob2lzdGVkIHZub2RlXG4gICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QpO1xuICAgICAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcbiAgICB9XG4gICAgLy8gaW5oZXJpdCB0cmFuc2l0aW9uIGRhdGFcbiAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBpbnNpZGUgPFRyYW5zaXRpb24+IHJlbmRlcnMgbm9uLWVsZW1lbnQgcm9vdCBub2RlIGAgK1xuICAgICAgICAgICAgICAgIGB0aGF0IGNhbm5vdCBiZSBhbmltYXRlZC5gKTtcbiAgICAgICAgfVxuICAgICAgICByb290LnRyYW5zaXRpb24gPSB2bm9kZS50cmFuc2l0aW9uO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNldFJvb3QpIHtcbiAgICAgICAgc2V0Um9vdChyb290KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHJvb3Q7XG4gICAgfVxuICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBkZXYgb25seVxuICogSW4gZGV2IG1vZGUsIHRlbXBsYXRlIHJvb3QgbGV2ZWwgY29tbWVudHMgYXJlIHJlbmRlcmVkLCB3aGljaCB0dXJucyB0aGVcbiAqIHRlbXBsYXRlIGludG8gYSBmcmFnbWVudCByb290LCBidXQgd2UgbmVlZCB0byBsb2NhdGUgdGhlIHNpbmdsZSBlbGVtZW50XG4gKiByb290IGZvciBhdHRycyBhbmQgc2NvcGUgaWQgcHJvY2Vzc2luZy5cbiAqL1xuY29uc3QgZ2V0Q2hpbGRSb290ID0gKHZub2RlKSA9PiB7XG4gICAgY29uc3QgcmF3Q2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgICBjb25zdCBkeW5hbWljQ2hpbGRyZW4gPSB2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgY2hpbGRSb290ID0gZmlsdGVyU2luZ2xlUm9vdChyYXdDaGlsZHJlbik7XG4gICAgaWYgKCFjaGlsZFJvb3QpIHtcbiAgICAgICAgcmV0dXJuIFt2bm9kZSwgdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XG4gICAgY29uc3QgZHluYW1pY0luZGV4ID0gZHluYW1pY0NoaWxkcmVuID8gZHluYW1pY0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KSA6IC0xO1xuICAgIGNvbnN0IHNldFJvb3QgPSAodXBkYXRlZFJvb3QpID0+IHtcbiAgICAgICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChkeW5hbWljSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1cGRhdGVkUm9vdC5wYXRjaEZsYWcgPiAwKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gW25vcm1hbGl6ZVZOb2RlKGNoaWxkUm9vdCksIHNldFJvb3RdO1xufTtcbmZ1bmN0aW9uIGZpbHRlclNpbmdsZVJvb3QoY2hpbGRyZW4pIHtcbiAgICBsZXQgc2luZ2xlUm9vdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChpc1ZOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgLy8gaWdub3JlIHVzZXIgY29tbWVudFxuICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgIT09IENvbW1lbnQgfHwgY2hpbGQuY2hpbGRyZW4gPT09ICd2LWlmJykge1xuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyBtb3JlIHRoYW4gMSBub24tY29tbWVudCBjaGlsZCwgcmV0dXJuIG5vd1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaW5nbGVSb290ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaW5nbGVSb290O1xufVxuY29uc3QgZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoID0gKGF0dHJzKSA9PiB7XG4gICAgbGV0IHJlcztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ3N0eWxlJyB8fCBpc09uKGtleSkpIHtcbiAgICAgICAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBmaWx0ZXJNb2RlbExpc3RlbmVycyA9IChhdHRycywgcHJvcHMpID0+IHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpIHx8ICEoa2V5LnNsaWNlKDkpIGluIHByb3BzKSkge1xuICAgICAgICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59O1xuY29uc3QgaXNFbGVtZW50Um9vdCA9ICh2bm9kZSkgPT4ge1xuICAgIHJldHVybiAodm5vZGUuc2hhcGVGbGFnICYgKDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8gfCAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLykgfHxcbiAgICAgICAgdm5vZGUudHlwZSA9PT0gQ29tbWVudCAvLyBwb3RlbnRpYWwgdi1pZiBicmFuY2ggc3dpdGNoXG4gICAgKTtcbn07XG5mdW5jdGlvbiBzaG91bGRVcGRhdGVDb21wb25lbnQocHJldlZOb2RlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkge1xuICAgIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XG4gICAgY29uc3QgeyBwcm9wczogbmV4dFByb3BzLCBjaGlsZHJlbjogbmV4dENoaWxkcmVuLCBwYXRjaEZsYWcgfSA9IG5leHRWTm9kZTtcbiAgICBjb25zdCBlbWl0cyA9IGNvbXBvbmVudC5lbWl0c09wdGlvbnM7XG4gICAgLy8gUGFyZW50IGNvbXBvbmVudCdzIHJlbmRlciBmdW5jdGlvbiB3YXMgaG90LXVwZGF0ZWQuIFNpbmNlIHRoaXMgbWF5IGhhdmVcbiAgICAvLyBjYXVzZWQgdGhlIGNoaWxkIGNvbXBvbmVudCdzIHNsb3RzIGNvbnRlbnQgdG8gaGF2ZSBjaGFuZ2VkLCB3ZSBuZWVkIHRvXG4gICAgLy8gZm9yY2UgdGhlIGNoaWxkIHRvIHVwZGF0ZSBhcyB3ZWxsLlxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIGZvcmNlIGNoaWxkIHVwZGF0ZSBmb3IgcnVudGltZSBkaXJlY3RpdmUgb3IgdHJhbnNpdGlvbiBvbiBjb21wb25lbnQgdm5vZGUuXG4gICAgaWYgKG5leHRWTm9kZS5kaXJzIHx8IG5leHRWTm9kZS50cmFuc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAob3B0aW1pemVkICYmIHBhdGNoRmxhZyA+PSAwKSB7XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAxMDI0IC8qIFBhdGNoRmxhZ3MuRFlOQU1JQ19TTE9UUyAqLykge1xuICAgICAgICAgICAgLy8gc2xvdCBjb250ZW50IHRoYXQgcmVmZXJlbmNlcyB2YWx1ZXMgdGhhdCBtaWdodCBoYXZlIGNoYW5nZWQsXG4gICAgICAgICAgICAvLyBlLmcuIGluIGEgdi1mb3JcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAxNiAvKiBQYXRjaEZsYWdzLkZVTExfUFJPUFMgKi8pIHtcbiAgICAgICAgICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgdGhpcyBmbGFnIGluZGljYXRlcyBwcm9wcyBhcmUgYWx3YXlzIG5vbi1udWxsXG4gICAgICAgICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgOCAvKiBQYXRjaEZsYWdzLlBST1BTICovKSB7XG4gICAgICAgICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljUHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBkeW5hbWljUHJvcHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJlxuICAgICAgICAgICAgICAgICAgICAhaXNFbWl0TGlzdGVuZXIoZW1pdHMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyB0aGlzIHBhdGggaXMgb25seSB0YWtlbiBieSBtYW51YWxseSB3cml0dGVuIHJlbmRlciBmdW5jdGlvbnNcbiAgICAgICAgLy8gc28gcHJlc2VuY2Ugb2YgYW55IGNoaWxkcmVuIGxlYWRzIHRvIGEgZm9yY2VkIHVwZGF0ZVxuICAgICAgICBpZiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4gfHwgIW5leHRDaGlsZHJlbi4kc3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZQcm9wcyA9PT0gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5leHRQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzT3B0aW9ucykge1xuICAgIGNvbnN0IG5leHRLZXlzID0gT2JqZWN0LmtleXMobmV4dFByb3BzKTtcbiAgICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBuZXh0S2V5c1tpXTtcbiAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJlxuICAgICAgICAgICAgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdXBkYXRlSE9DSG9zdEVsKHsgdm5vZGUsIHBhcmVudCB9LCBlbCAvLyBIb3N0Tm9kZVxuKSB7XG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcbiAgICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbn1cblxuY29uc3QgaXNTdXNwZW5zZSA9ICh0eXBlKSA9PiB0eXBlLl9faXNTdXNwZW5zZTtcbi8vIFN1c3BlbnNlIGV4cG9zZXMgYSBjb21wb25lbnQtbGlrZSBBUEksIGFuZCBpcyB0cmVhdGVkIGxpa2UgYSBjb21wb25lbnRcbi8vIGluIHRoZSBjb21waWxlciwgYnV0IGludGVybmFsbHkgaXQncyBhIHNwZWNpYWwgYnVpbHQtaW4gdHlwZSB0aGF0IGhvb2tzXG4vLyBkaXJlY3RseSBpbnRvIHRoZSByZW5kZXJlci5cbmNvbnN0IFN1c3BlbnNlSW1wbCA9IHtcbiAgICBuYW1lOiAnU3VzcGVuc2UnLFxuICAgIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcbiAgICAvLyBkaXJlY3RseSBpbiB0aGUgcmVuZGVyZXIuIFRoZSByZW5kZXJlciBjaGVja3MgZm9yIHRoZSBfX2lzU3VzcGVuc2UgZmxhZ1xuICAgIC8vIG9uIGEgdm5vZGUncyB0eXBlIGFuZCBjYWxscyB0aGUgYHByb2Nlc3NgIG1ldGhvZCwgcGFzc2luZyBpbiByZW5kZXJlclxuICAgIC8vIGludGVybmFscy5cbiAgICBfX2lzU3VzcGVuc2U6IHRydWUsXG4gICAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIFxuICAgIC8vIHBsYXRmb3JtLXNwZWNpZmljIGltcGwgcGFzc2VkIGZyb20gcmVuZGVyZXJcbiAgICByZW5kZXJlckludGVybmFscykge1xuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgbW91bnRTdXNwZW5zZShuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXG4gICAgY3JlYXRlOiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5LFxuICAgIG5vcm1hbGl6ZTogbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlblxufTtcbi8vIEZvcmNlLWNhc3RlZCBwdWJsaWMgdHlwaW5nIGZvciBoIGFuZCBUU1ggcHJvcHMgaW5mZXJlbmNlXG5jb25zdCBTdXNwZW5zZSA9IChTdXNwZW5zZUltcGxcbiAgICApO1xuZnVuY3Rpb24gdHJpZ2dlckV2ZW50KHZub2RlLCBuYW1lKSB7XG4gICAgY29uc3QgZXZlbnRMaXN0ZW5lciA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzW25hbWVdO1xuICAgIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XG4gICAgICAgIGV2ZW50TGlzdGVuZXIoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcbiAgICBjb25zdCBoaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpKTtcbiAgICAvLyBzdGFydCBtb3VudGluZyB0aGUgY29udGVudCBzdWJ0cmVlIGluIGFuIG9mZi1kb20gY29udGFpbmVyXG4gICAgcGF0Y2gobnVsbCwgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQpLCBoaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xuICAgIC8vIG5vdyBjaGVjayBpZiB3ZSBoYXZlIGVuY291bnRlcmVkIGFueSBhc3luYyBkZXBzXG4gICAgaWYgKHN1c3BlbnNlLmRlcHMgPiAwKSB7XG4gICAgICAgIC8vIGhhcyBhc3luY1xuICAgICAgICAvLyBpbnZva2UgQGZhbGxiYWNrIGV2ZW50XG4gICAgICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgJ29uUGVuZGluZycpO1xuICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvbkZhbGxiYWNrJyk7XG4gICAgICAgIC8vIG1vdW50IHRoZSBmYWxsYmFjayB0cmVlXG4gICAgICAgIHBhdGNoKG51bGwsIHZub2RlLnNzRmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xuICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHZub2RlLnNzRmFsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gU3VzcGVuc2UgaGFzIG5vIGFzeW5jIGRlcHMuIEp1c3QgcmVzb2x2ZS5cbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XG4gICAgY29uc3Qgc3VzcGVuc2UgPSAobjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZSk7XG4gICAgc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgICBuMi5lbCA9IG4xLmVsO1xuICAgIGNvbnN0IG5ld0JyYW5jaCA9IG4yLnNzQ29udGVudDtcbiAgICBjb25zdCBuZXdGYWxsYmFjayA9IG4yLnNzRmFsbGJhY2s7XG4gICAgY29uc3QgeyBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIGlzSW5GYWxsYmFjaywgaXNIeWRyYXRpbmcgfSA9IHN1c3BlbnNlO1xuICAgIGlmIChwZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XG4gICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBwZW5kaW5nQnJhbmNoKSkge1xuICAgICAgICAgICAgLy8gc2FtZSByb290IHR5cGUgYnV0IGNvbnRlbnQgbWF5IGhhdmUgY2hhbmdlZC5cbiAgICAgICAgICAgIHBhdGNoKHBlbmRpbmdCcmFuY2gsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRvZ2dsZWQgYmVmb3JlIHBlbmRpbmcgdHJlZSBpcyByZXNvbHZlZFxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkKys7XG4gICAgICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0b2dnbGVkIGJlZm9yZSBoeWRyYXRpb24gaXMgZmluaXNoZWQsIHRoZSBjdXJyZW50IERPTSB0cmVlIGlzXG4gICAgICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIHZhbGlkLiBzZXQgaXQgYXMgdGhlIGFjdGl2ZSBicmFuY2ggc28gaXQgd2lsbCBiZSB1bm1vdW50ZWRcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggPSBwZW5kaW5nQnJhbmNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChwZW5kaW5nQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBwZW5kaW5nIElELiB0aGlzIGlzIHVzZWQgdG8gaW52YWxpZGF0ZSBhc3luYyBjYWxsYmFja3NcbiAgICAgICAgICAgIC8vIHJlc2V0IHN1c3BlbnNlIHN0YXRlXG4gICAgICAgICAgICBzdXNwZW5zZS5kZXBzID0gMDtcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgZWZmZWN0cyBmcm9tIHBlbmRpbmcgYnJhbmNoXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAvLyBkaXNjYXJkIHByZXZpb3VzIGNvbnRhaW5lclxuICAgICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiBmYWxsYmFjayBzdGF0ZVxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcbiAgICAgICAgICAgICAgICAvLyB0b2dnbGVkIFwiYmFja1wiIHRvIGN1cnJlbnQgYWN0aXZlIGJyYW5jaFxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSByZXNvbHZlXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHN3aXRjaGVkIHRvIGEgM3JkIGJyYW5jaFxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XG4gICAgICAgICAgICAvLyByb290IGRpZCBub3QgY2hhbmdlLCBqdXN0IG5vcm1hbCBwYXRjaFxuICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcm9vdCBub2RlIHRvZ2dsZWRcbiAgICAgICAgICAgIC8vIGludm9rZSBAcGVuZGluZyBldmVudFxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KG4yLCAnb25QZW5kaW5nJyk7XG4gICAgICAgICAgICAvLyBtb3VudCBwZW5kaW5nIGJyYW5jaCBpbiBvZmYtZG9tIGNvbnRhaW5lclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCsrO1xuICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5jb21pbmcgYnJhbmNoIGhhcyBubyBhc3luYyBkZXBzLCByZXNvbHZlIG5vdy5cbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRpbWVvdXQsIHBlbmRpbmdJZCB9ID0gc3VzcGVuc2U7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdJZCA9PT0gcGVuZGluZ0lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxubGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50LCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFmYWxzZSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgYGNvbnNvbGUuaW5mb2AgY2Fubm90IGJlIG51bGwgZXJyb3JcbiAgICAgICAgY29uc29sZVtjb25zb2xlLmluZm8gPyAnaW5mbycgOiAnbG9nJ10oYDxTdXNwZW5zZT4gaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgYW5kIGl0cyBBUEkgd2lsbCBsaWtlbHkgY2hhbmdlLmApO1xuICAgIH1cbiAgICBjb25zdCB7IHA6IHBhdGNoLCBtOiBtb3ZlLCB1bTogdW5tb3VudCwgbjogbmV4dCwgbzogeyBwYXJlbnROb2RlLCByZW1vdmUgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gICAgY29uc3QgdGltZW91dCA9IHRvTnVtYmVyKHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnRpbWVvdXQpO1xuICAgIGNvbnN0IHN1c3BlbnNlID0ge1xuICAgICAgICB2bm9kZSxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIGlzU1ZHLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBkZXBzOiAwLFxuICAgICAgICBwZW5kaW5nSWQ6IDAsXG4gICAgICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSAnbnVtYmVyJyA/IHRpbWVvdXQgOiAtMSxcbiAgICAgICAgYWN0aXZlQnJhbmNoOiBudWxsLFxuICAgICAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxuICAgICAgICBpc0luRmFsbGJhY2s6IHRydWUsXG4gICAgICAgIGlzSHlkcmF0aW5nLFxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICByZXNvbHZlKHJlc3VtZSA9IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bWUgJiYgIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIHdpdGhvdXQgYSBwZW5kaW5nIGJyYW5jaC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCBvbiBhbiBhbHJlYWR5IHVubW91bnRlZCBzdXNwZW5zZSBib3VuZGFyeS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHZub2RlLCBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIHBlbmRpbmdJZCwgZWZmZWN0cywgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIgfSA9IHN1c3BlbnNlO1xuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFyZXN1bWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheUVudGVyID0gYWN0aXZlQnJhbmNoICYmXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogTW92ZVR5cGUuRU5URVIgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGluaXRpYWwgYW5jaG9yIG9uIG1vdW50XG4gICAgICAgICAgICAgICAgbGV0IHsgYW5jaG9yIH0gPSBzdXNwZW5zZTtcbiAgICAgICAgICAgICAgICAvLyB1bm1vdW50IGN1cnJlbnQgYWN0aXZlIHRyZWVcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmYWxsYmFjayB0cmVlIHdhcyBtb3VudGVkLCBpdCBtYXkgaGF2ZSBiZWVuIG1vdmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHBhcnQgb2YgYSBwYXJlbnQgc3VzcGVuc2UuIGdldCB0aGUgbGF0ZXN0IGFuY2hvciBmb3IgaW5zZXJ0aW9uXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBjb250ZW50IGZyb20gb2ZmLWRvbSBjb250YWluZXIgdG8gYWN0dWFsIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIE1vdmVUeXBlLkVOVEVSICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG51bGw7XG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGZsdXNoIGJ1ZmZlcmVkIGVmZmVjdHNcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBwYXJlbnQgc3VzcGVuc2VcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XG4gICAgICAgICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XG4gICAgICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIG1lcmdlIGJ1ZmZlcmVkIHBvc3Qgam9ic1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnRvIHRoYXQgcGFyZW50XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgIGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm8gcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIGZsdXNoIGFsbCBqb2JzXG4gICAgICAgICAgICBpZiAoIWhhc1VucmVzb2x2ZWRBbmNlc3Rvcikge1xuICAgICAgICAgICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoZWZmZWN0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzID0gW107XG4gICAgICAgICAgICAvLyBpbnZva2UgQHJlc29sdmUgZXZlbnRcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgJ29uUmVzb2x2ZScpO1xuICAgICAgICB9LFxuICAgICAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XG4gICAgICAgICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHZub2RlLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBpc1NWRyB9ID0gc3VzcGVuc2U7XG4gICAgICAgICAgICAvLyBpbnZva2UgQGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvbkZhbGxiYWNrJyk7XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XG4gICAgICAgICAgICBjb25zdCBtb3VudEZhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbW91bnQgdGhlIGZhbGxiYWNrIHRyZWVcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBmYWxsYmFja1ZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBmYWxsYmFja1ZOb2RlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBkZWxheUVudGVyID0gZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uICYmIGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbi5tb2RlID09PSAnb3V0LWluJztcbiAgICAgICAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgLy8gdW5tb3VudCBjdXJyZW50IGFjdGl2ZSBicmFuY2hcbiAgICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIG5vIHN1c3BlbnNlIHNvIHVubW91bnQgaG9va3MgZmlyZSBub3dcbiAgICAgICAgICAgIHRydWUgLy8gc2hvdWxkUmVtb3ZlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgICAgICAgICAgbW91bnRGYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCB0eXBlKSB7XG4gICAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiZcbiAgICAgICAgICAgICAgICBtb3ZlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIHR5cGUpO1xuICAgICAgICAgICAgc3VzcGVuc2UuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB9LFxuICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBuZXh0KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCkge1xuICAgICAgICAgICAgY29uc3QgaXNJblBlbmRpbmdTdXNwZW5zZSA9ICEhc3VzcGVuc2UucGVuZGluZ0JyYW5jaDtcbiAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlKSB7XG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuZGVwcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAuYXN5bmNEZXAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwIC8qIEVycm9yQ29kZXMuU0VUVVBfRlVOQ1RJT04gKi8pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihhc3luY1NldHVwUmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAvLyByZXRyeSB3aGVuIHRoZSBzZXR1cCgpIHByb21pc2UgcmVzb2x2ZXMuXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gdW5tb3VudGVkIGJlZm9yZSByZXNvbHZlLlxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc1VubW91bnRlZCB8fFxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCB8fFxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgIT09IGluc3RhbmNlLnN1c3BlbnNlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXRyeSBmcm9tIHRoaXMgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2bm9kZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChoeWRyYXRlZEVsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIG1heSBoYXZlIGJlZW4gcmVwbGFjZWQgaWYgYW4gdXBkYXRlIGhhcHBlbmVkIGJlZm9yZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYXN5bmMgZGVwIGlzIHJlc29sdmVkLlxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5lbCA9IGh5ZHJhdGVkRWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gIWh5ZHJhdGVkRWwgJiYgaW5zdGFuY2Uuc3ViVHJlZS5lbDtcbiAgICAgICAgICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgdm5vZGUsIFxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgaGF2ZSBiZWVuIG1vdmVkIGJlZm9yZSByZXNvbHZlLlxuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGEgaHlkcmF0aW9uLCBpbnN0YW5jZS5zdWJUcmVlIHdpbGwgYmUgdGhlIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAvLyBwbGFjZWhvbGRlci5cbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlKGh5ZHJhdGVkRWwgfHwgaW5zdGFuY2Uuc3ViVHJlZS5lbCksIFxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cbiAgICAgICAgICAgICAgICAvLyBjb25zaWRlciB0aGUgY29tbWVudCBwbGFjZWhvbGRlciBjYXNlLlxuICAgICAgICAgICAgICAgIGh5ZHJhdGVkRWwgPyBudWxsIDogbmV4dChpbnN0YW5jZS5zdWJUcmVlKSwgc3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmUocGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlLmVsKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9ubHkgZGVjcmVhc2UgZGVwcyBjb3VudCBpZiBzdXNwZW5zZSBpcyBub3QgYWxyZWFkeSByZXNvbHZlZFxuICAgICAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKSB7XG4gICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBzdXNwZW5zZTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZU5vZGUpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIG5vZGUucGFyZW50Tm9kZSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIG51bGwsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIHRydWUgLyogaHlkcmF0aW5nICovKSk7XG4gICAgLy8gdGhlcmUgYXJlIHR3byBwb3NzaWJsZSBzY2VuYXJpb3MgZm9yIHNlcnZlci1yZW5kZXJlZCBzdXNwZW5zZTpcbiAgICAvLyAtIHN1Y2Nlc3M6IHNzciBjb250ZW50IHNob3VsZCBiZSBmdWxseSByZXNvbHZlZFxuICAgIC8vIC0gZmFpbHVyZTogc3NyIGNvbnRlbnQgc2hvdWxkIGJlIHRoZSBmYWxsYmFjayBicmFuY2guXG4gICAgLy8gaG93ZXZlciwgb24gdGhlIGNsaWVudCB3ZSBkb24ndCByZWFsbHkga25vdyBpZiBpdCBoYXMgZmFpbGVkIG9yIG5vdFxuICAgIC8vIGF0dGVtcHQgdG8gaHlkcmF0ZSB0aGUgRE9NIGFzc3VtaW5nIGl0IGhhcyBzdWNjZWVkZWQsIGJ1dCB3ZSBzdGlsbFxuICAgIC8vIG5lZWQgdG8gY29uc3RydWN0IGEgc3VzcGVuc2UgYm91bmRhcnkgZmlyc3RcbiAgICBjb25zdCByZXN1bHQgPSBoeWRyYXRlTm9kZShub2RlLCAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCksIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW4odm5vZGUpIHtcbiAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICAgIGNvbnN0IGlzU2xvdENoaWxkcmVuID0gc2hhcGVGbGFnICYgMzIgLyogU2hhcGVGbGFncy5TTE9UU19DSElMRFJFTiAqLztcbiAgICB2bm9kZS5zc0NvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoaXNTbG90Q2hpbGRyZW4gPyBjaGlsZHJlbi5kZWZhdWx0IDogY2hpbGRyZW4pO1xuICAgIHZub2RlLnNzRmFsbGJhY2sgPSBpc1Nsb3RDaGlsZHJlblxuICAgICAgICA/IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChjaGlsZHJlbi5mYWxsYmFjaylcbiAgICAgICAgOiBjcmVhdGVWTm9kZShDb21tZW50KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChzKSB7XG4gICAgbGV0IGJsb2NrO1xuICAgIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrQmxvY2sgPSBpc0Jsb2NrVHJlZUVuYWJsZWQgJiYgcy5fYztcbiAgICAgICAgaWYgKHRyYWNrQmxvY2spIHtcbiAgICAgICAgICAgIC8vIGRpc2FibGVUcmFja2luZzogZmFsc2VcbiAgICAgICAgICAgIC8vIGFsbG93IGJsb2NrIHRyYWNraW5nIGZvciBjb21waWxlZCBzbG90c1xuICAgICAgICAgICAgLy8gKHNlZSAuL2NvbXBvbmVudFJlbmRlckNvbnRleHQudHMpXG4gICAgICAgICAgICBzLl9kID0gZmFsc2U7XG4gICAgICAgICAgICBvcGVuQmxvY2soKTtcbiAgICAgICAgfVxuICAgICAgICBzID0gcygpO1xuICAgICAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgICAgICAgcy5fZCA9IHRydWU7XG4gICAgICAgICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcbiAgICAgICAgICAgIGNsb3NlQmxvY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNBcnJheShzKSkge1xuICAgICAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXNpbmdsZUNoaWxkKSB7XG4gICAgICAgICAgICB3YXJuJDEoYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcbiAgICAgICAgfVxuICAgICAgICBzID0gc2luZ2xlQ2hpbGQ7XG4gICAgfVxuICAgIHMgPSBub3JtYWxpemVWTm9kZShzKTtcbiAgICBpZiAoYmxvY2sgJiYgIXMuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHMuZHluYW1pY0NoaWxkcmVuID0gYmxvY2suZmlsdGVyKGMgPT4gYyAhPT0gcyk7XG4gICAgfVxuICAgIHJldHVybiBzO1xufVxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XG4gICAgaWYgKHN1c3BlbnNlICYmIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcbiAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggPSBicmFuY2g7XG4gICAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcbiAgICBjb25zdCBlbCA9ICh2bm9kZS5lbCA9IGJyYW5jaC5lbCk7XG4gICAgLy8gaW4gY2FzZSBzdXNwZW5zZSBpcyB0aGUgcm9vdCBub2RlIG9mIGEgY29tcG9uZW50LFxuICAgIC8vIHJlY3Vyc2l2ZWx5IHVwZGF0ZSB0aGUgSE9DIGVsXG4gICAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LnZub2RlLmVsID0gZWw7XG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICAgIGlmICghY3VycmVudEluc3RhbmNlKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgcHJvdmlkZSgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcztcbiAgICAgICAgLy8gYnkgZGVmYXVsdCBhbiBpbnN0YW5jZSBpbmhlcml0cyBpdHMgcGFyZW50J3MgcHJvdmlkZXMgb2JqZWN0XG4gICAgICAgIC8vIGJ1dCB3aGVuIGl0IG5lZWRzIHRvIHByb3ZpZGUgdmFsdWVzIG9mIGl0cyBvd24sIGl0IGNyZWF0ZXMgaXRzXG4gICAgICAgIC8vIG93biBwcm92aWRlcyBvYmplY3QgdXNpbmcgcGFyZW50IHByb3ZpZGVzIG9iamVjdCBhcyBwcm90b3R5cGUuXG4gICAgICAgIC8vIHRoaXMgd2F5IGluIGBpbmplY3RgIHdlIGNhbiBzaW1wbHkgbG9vayB1cCBpbmplY3Rpb25zIGZyb20gZGlyZWN0XG4gICAgICAgIC8vIHBhcmVudCBhbmQgbGV0IHRoZSBwcm90b3R5cGUgY2hhaW4gZG8gdGhlIHdvcmsuXG4gICAgICAgIGNvbnN0IHBhcmVudFByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnBhcmVudCAmJiBjdXJyZW50SW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xuICAgICAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XG4gICAgICAgICAgICBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcbiAgICAgICAgcHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2UpIHtcbiAgICAvLyBmYWxsYmFjayB0byBgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlYCBzbyB0aGF0IHRoaXMgY2FuIGJlIGNhbGxlZCBpblxuICAgIC8vIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgIC8vICMyNDAwXG4gICAgICAgIC8vIHRvIHN1cHBvcnQgYGFwcC51c2VgIHBsdWdpbnMsXG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIGFwcENvbnRleHQncyBgcHJvdmlkZXNgIGlmIHRoZSBpbnN0YW5jZSBpcyBhdCByb290XG4gICAgICAgIGNvbnN0IHByb3ZpZGVzID0gaW5zdGFuY2UucGFyZW50ID09IG51bGxcbiAgICAgICAgICAgID8gaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dCAmJiBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0LnByb3ZpZGVzXG4gICAgICAgICAgICA6IGluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcbiAgICAgICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xuICAgICAgICAgICAgLy8gVFMgZG9lc24ndCBhbGxvdyBzeW1ib2wgYXMgaW5kZXggdHlwZVxuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZS5wcm94eSlcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgaW5qZWN0aW9uIFwiJHtTdHJpbmcoa2V5KX1cIiBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm4kMShgaW5qZWN0KCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKSBvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMuYCk7XG4gICAgfVxufVxuXG4vLyBTaW1wbGUgZWZmZWN0LlxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHdhdGNoUG9zdEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGZsdXNoOiAncG9zdCcgfSkgOiB7IGZsdXNoOiAncG9zdCcgfSkpO1xufVxuZnVuY3Rpb24gd2F0Y2hTeW5jRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICAgIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgZmx1c2g6ICdzeW5jJyB9KSA6IHsgZmx1c2g6ICdzeW5jJyB9KSk7XG59XG4vLyBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycyB0byB0cmlnZ2VyIG9uIHVuZGVmaW5lZCBpbml0aWFsIHZhbHVlc1xuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XG4vLyBpbXBsZW1lbnRhdGlvblxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRnVuY3Rpb24oY2IpKSB7XG4gICAgICAgIHdhcm4kMShgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIGAgK1xuICAgICAgICAgICAgYFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IGAgK1xuICAgICAgICAgICAgYHN1cHBvcnRzIFxcYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XG4gICAgfVxuICAgIHJldHVybiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCB7IGltbWVkaWF0ZSwgZGVlcCwgZmx1c2gsIG9uVHJhY2ssIG9uVHJpZ2dlciB9ID0gRU1QVFlfT0JKKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY2IpIHtcbiAgICAgICAgaWYgKGltbWVkaWF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3YXJuJDEoYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgYCArXG4gICAgICAgICAgICAgICAgYHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2FybiQxKGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBgICtcbiAgICAgICAgICAgICAgICBgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3YXJuSW52YWxpZFNvdXJjZSA9IChzKSA9PiB7XG4gICAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBzb3VyY2U6IGAsIHMsIGBBIHdhdGNoIHNvdXJjZSBjYW4gb25seSBiZSBhIGdldHRlci9lZmZlY3QgZnVuY3Rpb24sIGEgcmVmLCBgICtcbiAgICAgICAgICAgIGBhIHJlYWN0aXZlIG9iamVjdCwgb3IgYW4gYXJyYXkgb2YgdGhlc2UgdHlwZXMuYCk7XG4gICAgfTtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICBsZXQgZ2V0dGVyO1xuICAgIGxldCBmb3JjZVRyaWdnZXIgPSBmYWxzZTtcbiAgICBsZXQgaXNNdWx0aVNvdXJjZSA9IGZhbHNlO1xuICAgIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS52YWx1ZTtcbiAgICAgICAgZm9yY2VUcmlnZ2VyID0gaXNTaGFsbG93KHNvdXJjZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2U7XG4gICAgICAgIGRlZXAgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgaXNNdWx0aVNvdXJjZSA9IHRydWU7XG4gICAgICAgIGZvcmNlVHJpZ2dlciA9IHNvdXJjZS5zb21lKHMgPT4gaXNSZWFjdGl2ZShzKSB8fCBpc1NoYWxsb3cocykpO1xuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKHMgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUmVmKHMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYXZlcnNlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsV2l0aEVycm9ySGFuZGxpbmcocywgaW5zdGFuY2UsIDIgLyogRXJyb3JDb2Rlcy5XQVRDSF9HRVRURVIgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5JbnZhbGlkU291cmNlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgLy8gZ2V0dGVyIHdpdGggY2JcbiAgICAgICAgICAgIGdldHRlciA9ICgpID0+IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAyIC8qIEVycm9yQ29kZXMuV0FUQ0hfR0VUVEVSICovKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIGNiIC0+IHNpbXBsZSBlZmZlY3RcbiAgICAgICAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAzIC8qIEVycm9yQ29kZXMuV0FUQ0hfQ0FMTEJBQ0sgKi8sIFtvbkNsZWFudXBdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdldHRlciA9IE5PT1A7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzb3VyY2UpO1xuICAgIH1cbiAgICAvLyAyLnggYXJyYXkgbXV0YXRpb24gd2F0Y2ggY29tcGF0XG4gICAgaWYgKGNiICYmICFkZWVwKSB7XG4gICAgICAgIGNvbnN0IGJhc2VHZXR0ZXIgPSBnZXR0ZXI7XG4gICAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IGJhc2VHZXR0ZXIoKTtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHZhbCkgJiZcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBhdEVuYWJsZWQoXCJXQVRDSF9BUlJBWVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuV0FUQ0hfQVJSQVkgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoY2IgJiYgZGVlcCkge1xuICAgICAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xuICAgICAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCkpO1xuICAgIH1cbiAgICBsZXQgY2xlYW51cDtcbiAgICBsZXQgb25DbGVhbnVwID0gKGZuKSA9PiB7XG4gICAgICAgIGNsZWFudXAgPSBlZmZlY3Qub25TdG9wID0gKCkgPT4ge1xuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgNCAvKiBFcnJvckNvZGVzLldBVENIX0NMRUFOVVAgKi8pO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLy8gaW4gU1NSIHRoZXJlIGlzIG5vIG5lZWQgdG8gc2V0dXAgYW4gYWN0dWFsIGVmZmVjdCwgYW5kIGl0IHNob3VsZCBiZSBub29wXG4gICAgLy8gdW5sZXNzIGl0J3MgZWFnZXIgb3Igc3luYyBmbHVzaFxuICAgIGxldCBzc3JDbGVhbnVwO1xuICAgIGlmIChpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICAgICAgLy8gd2Ugd2lsbCBhbHNvIG5vdCBjYWxsIHRoZSBpbnZhbGlkYXRlIGNhbGxiYWNrICgrIHJ1bm5lciBpcyBub3Qgc2V0IHVwKVxuICAgICAgICBvbkNsZWFudXAgPSBOT09QO1xuICAgICAgICBpZiAoIWNiKSB7XG4gICAgICAgICAgICBnZXR0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBpbnN0YW5jZSwgMyAvKiBFcnJvckNvZGVzLldBVENIX0NBTExCQUNLICovLCBbXG4gICAgICAgICAgICAgICAgZ2V0dGVyKCksXG4gICAgICAgICAgICAgICAgaXNNdWx0aVNvdXJjZSA/IFtdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsdXNoID09PSAnc3luYycpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHVzZVNTUkNvbnRleHQoKTtcbiAgICAgICAgICAgIHNzckNsZWFudXAgPSBjdHguX193YXRjaGVySGFuZGxlcyB8fCAoY3R4Ll9fd2F0Y2hlckhhbmRsZXMgPSBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTk9PUDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgb2xkVmFsdWUgPSBpc011bHRpU291cmNlXG4gICAgICAgID8gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpLmZpbGwoSU5JVElBTF9XQVRDSEVSX1ZBTFVFKVxuICAgICAgICA6IElOSVRJQUxfV0FUQ0hFUl9WQUxVRTtcbiAgICBjb25zdCBqb2IgPSAoKSA9PiB7XG4gICAgICAgIGlmICghZWZmZWN0LmFjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgLy8gd2F0Y2goc291cmNlLCBjYilcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgICAgICAgICAgaWYgKGRlZXAgfHxcbiAgICAgICAgICAgICAgICBmb3JjZVRyaWdnZXIgfHxcbiAgICAgICAgICAgICAgICAoaXNNdWx0aVNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA/IG5ld1ZhbHVlLnNvbWUoKHYsIGkpID0+IGhhc0NoYW5nZWQodiwgb2xkVmFsdWVbaV0pKVxuICAgICAgICAgICAgICAgICAgICA6IGhhc0NoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlKSkgfHxcbiAgICAgICAgICAgICAgICAoaXNBcnJheShuZXdWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiV0FUQ0hfQVJSQVlcIiAvKiBEZXByZWNhdGlvblR5cGVzLldBVENIX0FSUkFZICovLCBpbnN0YW5jZSkpKSB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW51cCBiZWZvcmUgcnVubmluZyBjYiBhZ2FpblxuICAgICAgICAgICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoY2IsIGluc3RhbmNlLCAzIC8qIEVycm9yQ29kZXMuV0FUQ0hfQ0FMTEJBQ0sgKi8sIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgdW5kZWZpbmVkIGFzIHRoZSBvbGQgdmFsdWUgd2hlbiBpdCdzIGNoYW5nZWQgZm9yIHRoZSBmaXJzdCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChpc011bHRpU291cmNlICYmIG9sZFZhbHVlWzBdID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogb2xkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xlYW51cFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB3YXRjaEVmZmVjdFxuICAgICAgICAgICAgZWZmZWN0LnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBpbXBvcnRhbnQ6IG1hcmsgdGhlIGpvYiBhcyBhIHdhdGNoZXIgY2FsbGJhY2sgc28gdGhhdCBzY2hlZHVsZXIga25vd3NcbiAgICAvLyBpdCBpcyBhbGxvd2VkIHRvIHNlbGYtdHJpZ2dlciAoIzE3MjcpXG4gICAgam9iLmFsbG93UmVjdXJzZSA9ICEhY2I7XG4gICAgbGV0IHNjaGVkdWxlcjtcbiAgICBpZiAoZmx1c2ggPT09ICdzeW5jJykge1xuICAgICAgICBzY2hlZHVsZXIgPSBqb2I7IC8vIHRoZSBzY2hlZHVsZXIgZnVuY3Rpb24gZ2V0cyBjYWxsZWQgZGlyZWN0bHlcbiAgICB9XG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xuICAgICAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBkZWZhdWx0OiAncHJlJ1xuICAgICAgICBqb2IucHJlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGluc3RhbmNlKVxuICAgICAgICAgICAgam9iLmlkID0gaW5zdGFuY2UudWlkO1xuICAgICAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZUpvYihqb2IpO1xuICAgIH1cbiAgICBjb25zdCBlZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZ2V0dGVyLCBzY2hlZHVsZXIpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgZWZmZWN0Lm9uVHJhY2sgPSBvblRyYWNrO1xuICAgICAgICBlZmZlY3Qub25UcmlnZ2VyID0gb25UcmlnZ2VyO1xuICAgIH1cbiAgICAvLyBpbml0aWFsIHJ1blxuICAgIGlmIChjYikge1xuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICBqb2IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9sZFZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGZsdXNoID09PSAncG9zdCcpIHtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGVmZmVjdC5ydW4uYmluZChlZmZlY3QpLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlZmZlY3QucnVuKCk7XG4gICAgfVxuICAgIGNvbnN0IHVud2F0Y2ggPSAoKSA9PiB7XG4gICAgICAgIGVmZmVjdC5zdG9wKCk7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5zY29wZSkge1xuICAgICAgICAgICAgcmVtb3ZlKGluc3RhbmNlLnNjb3BlLmVmZmVjdHMsIGVmZmVjdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmIChzc3JDbGVhbnVwKVxuICAgICAgICBzc3JDbGVhbnVwLnB1c2godW53YXRjaCk7XG4gICAgcmV0dXJuIHVud2F0Y2g7XG59XG4vLyB0aGlzLiR3YXRjaFxuZnVuY3Rpb24gaW5zdGFuY2VXYXRjaChzb3VyY2UsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcHVibGljVGhpcyA9IHRoaXMucHJveHk7XG4gICAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKVxuICAgICAgICA/IHNvdXJjZS5pbmNsdWRlcygnLicpXG4gICAgICAgICAgICA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywgc291cmNlKVxuICAgICAgICAgICAgOiAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV1cbiAgICAgICAgOiBzb3VyY2UuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgICBsZXQgY2I7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIGNiID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYiA9IHZhbHVlLmhhbmRsZXI7XG4gICAgICAgIG9wdGlvbnMgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgY3VyID0gY3VycmVudEluc3RhbmNlO1xuICAgIHNldEN1cnJlbnRJbnN0YW5jZSh0aGlzKTtcbiAgICBjb25zdCByZXMgPSBkb1dhdGNoKGdldHRlciwgY2IuYmluZChwdWJsaWNUaGlzKSwgb3B0aW9ucyk7XG4gICAgaWYgKGN1cikge1xuICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoY3VyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoR2V0dGVyKGN0eCwgcGF0aCkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGxldCBjdXIgPSBjdHg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoICYmIGN1cjsgaSsrKSB7XG4gICAgICAgICAgICBjdXIgPSBjdXJbc2VnbWVudHNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXI7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBzZWVuKSB7XG4gICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgdmFsdWVbXCJfX3Zfc2tpcFwiIC8qIFJlYWN0aXZlRmxhZ3MuU0tJUCAqL10pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBzZWVuID0gc2VlbiB8fCBuZXcgU2V0KCk7XG4gICAgaWYgKHNlZW4uaGFzKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHNlZW4uYWRkKHZhbHVlKTtcbiAgICBpZiAoaXNSZWYodmFsdWUpKSB7XG4gICAgICAgIHRyYXZlcnNlKHZhbHVlLnZhbHVlLCBzZWVuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVbaV0sIHNlZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgdHJhdmVyc2Uodiwgc2Vlbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgc2Vlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgICAgIGlzTGVhdmluZzogZmFsc2UsXG4gICAgICAgIGlzVW5tb3VudGluZzogZmFsc2UsXG4gICAgICAgIGxlYXZpbmdWTm9kZXM6IG5ldyBNYXAoKVxuICAgIH07XG4gICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgICAgc3RhdGUuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgICAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiBzdGF0ZTtcbn1cbmNvbnN0IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yID0gW0Z1bmN0aW9uLCBBcnJheV07XG5jb25zdCBCYXNlVHJhbnNpdGlvbkltcGwgPSB7XG4gICAgbmFtZTogYEJhc2VUcmFuc2l0aW9uYCxcbiAgICBwcm9wczoge1xuICAgICAgICBtb2RlOiBTdHJpbmcsXG4gICAgICAgIGFwcGVhcjogQm9vbGVhbixcbiAgICAgICAgcGVyc2lzdGVkOiBCb29sZWFuLFxuICAgICAgICAvLyBlbnRlclxuICAgICAgICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uQWZ0ZXJFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICAvLyBsZWF2ZVxuICAgICAgICBvbkJlZm9yZUxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uTGVhdmVDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICAvLyBhcHBlYXJcbiAgICAgICAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3JcbiAgICB9LFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICAgICAgbGV0IHByZXZUcmFuc2l0aW9uS2V5O1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCksIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGxldCBoYXNGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIGxvY2F0ZSBmaXJzdCBub24tY29tbWVudCBjaGlsZFxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYyBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYy50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhhc0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FybiBtb3JlIHRoYW4gb25lIG5vbi1jb21tZW50IGNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKCc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVc2UgPHRyYW5zaXRpb24tZ3JvdXA+IGZvciBsaXN0cy4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBuZWVkIHRvIHRyYWNrIHJlYWN0aXZpdHkgZm9yIHRoZXNlIHByb3BzIHNvIHVzZSB0aGUgcmF3XG4gICAgICAgICAgICAvLyBwcm9wcyBmb3IgYSBiaXQgYmV0dGVyIHBlcmZcbiAgICAgICAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgICAgICAgY29uc3QgeyBtb2RlIH0gPSByYXdQcm9wcztcbiAgICAgICAgICAgIC8vIGNoZWNrIG1vZGVcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICBtb2RlICYmXG4gICAgICAgICAgICAgICAgbW9kZSAhPT0gJ2luLW91dCcgJiZcbiAgICAgICAgICAgICAgICBtb2RlICE9PSAnb3V0LWluJyAmJlxuICAgICAgICAgICAgICAgIG1vZGUgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJHttb2RlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLmlzTGVhdmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGluIHRoZSBjYXNlIG9mIDx0cmFuc2l0aW9uPjxrZWVwLWFsaXZlLz48L3RyYW5zaXRpb24+LCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAvLyBjb21wYXJlIHRoZSB0eXBlIG9mIHRoZSBrZXB0LWFsaXZlIGNoaWxkcmVuLlxuICAgICAgICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldEtlZXBBbGl2ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIGlmICghaW5uZXJDaGlsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVudGVySG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIHJhd1Byb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIGVudGVySG9va3MpO1xuICAgICAgICAgICAgY29uc3Qgb2xkQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICAgICAgICAgICAgY29uc3Qgb2xkSW5uZXJDaGlsZCA9IG9sZENoaWxkICYmIGdldEtlZXBBbGl2ZUNoaWxkKG9sZENoaWxkKTtcbiAgICAgICAgICAgIGxldCB0cmFuc2l0aW9uS2V5Q2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgeyBnZXRUcmFuc2l0aW9uS2V5IH0gPSBpbm5lckNoaWxkLnR5cGU7XG4gICAgICAgICAgICBpZiAoZ2V0VHJhbnNpdGlvbktleSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFRyYW5zaXRpb25LZXkoKTtcbiAgICAgICAgICAgICAgICBpZiAocHJldlRyYW5zaXRpb25LZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VHJhbnNpdGlvbktleSA9IGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ICE9PSBwcmV2VHJhbnNpdGlvbktleSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VHJhbnNpdGlvbktleSA9IGtleTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbktleUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGhhbmRsZSBtb2RlXG4gICAgICAgICAgICBpZiAob2xkSW5uZXJDaGlsZCAmJlxuICAgICAgICAgICAgICAgIG9sZElubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCAmJlxuICAgICAgICAgICAgICAgICghaXNTYW1lVk5vZGVUeXBlKGlubmVyQ2hpbGQsIG9sZElubmVyQ2hpbGQpIHx8IHRyYW5zaXRpb25LZXlDaGFuZ2VkKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIG9sZCB0cmVlJ3MgaG9va3MgaW4gY2FzZSBvZiBkeW5hbWljIHRyYW5zaXRpb25cbiAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgbGVhdmluZ0hvb2tzKTtcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hpbmcgYmV0d2VlbiBkaWZmZXJlbnQgdmlld3NcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5hZnRlckxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAjNjgzNVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgYWxzbyBuZWVkcyB0byBiZSB1cGRhdGVkIHdoZW4gYWN0aXZlIGlzIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLnVwZGF0ZS5hY3RpdmUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ2luLW91dCcgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCBvbGRJbm5lckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtTdHJpbmcob2xkSW5uZXJDaGlsZC5rZXkpXSA9IG9sZElubmVyQ2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlYXJseSByZW1vdmFsIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXJseVJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9IGRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH07XG4gICAgfVxufTtcbntcbiAgICBCYXNlVHJhbnNpdGlvbkltcGwuX19pc0J1aWx0SW4gPSB0cnVlO1xufVxuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XG5mdW5jdGlvbiBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSkge1xuICAgIGNvbnN0IHsgbGVhdmluZ1ZOb2RlcyB9ID0gc3RhdGU7XG4gICAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xuICAgIGlmICghbGVhdmluZ1ZOb2Rlc0NhY2hlKSB7XG4gICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XG4gICAgfVxuICAgIHJldHVybiBsZWF2aW5nVk5vZGVzQ2FjaGU7XG59XG4vLyBUaGUgdHJhbnNpdGlvbiBob29rcyBhcmUgYXR0YWNoZWQgdG8gdGhlIHZub2RlIGFzIHZub2RlLnRyYW5zaXRpb25cbi8vIGFuZCB3aWxsIGJlIGNhbGxlZCBhdCBhcHByb3ByaWF0ZSB0aW1pbmcgaW4gdGhlIHJlbmRlcmVyLlxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IHsgYXBwZWFyLCBtb2RlLCBwZXJzaXN0ZWQgPSBmYWxzZSwgb25CZWZvcmVFbnRlciwgb25FbnRlciwgb25BZnRlckVudGVyLCBvbkVudGVyQ2FuY2VsbGVkLCBvbkJlZm9yZUxlYXZlLCBvbkxlYXZlLCBvbkFmdGVyTGVhdmUsIG9uTGVhdmVDYW5jZWxsZWQsIG9uQmVmb3JlQXBwZWFyLCBvbkFwcGVhciwgb25BZnRlckFwcGVhciwgb25BcHBlYXJDYW5jZWxsZWQgfSA9IHByb3BzO1xuICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcbiAgICBjb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgICAgIGhvb2sgJiZcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA5IC8qIEVycm9yQ29kZXMuVFJBTlNJVElPTl9IT09LICovLCBhcmdzKTtcbiAgICB9O1xuICAgIGNvbnN0IGNhbGxBc3luY0hvb2sgPSAoaG9vaywgYXJncykgPT4ge1xuICAgICAgICBjb25zdCBkb25lID0gYXJnc1sxXTtcbiAgICAgICAgY2FsbEhvb2soaG9vaywgYXJncyk7XG4gICAgICAgIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgICAgICAgICBpZiAoaG9vay5ldmVyeShob29rID0+IGhvb2subGVuZ3RoIDw9IDEpKVxuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhvb2tzID0ge1xuICAgICAgICBtb2RlLFxuICAgICAgICBwZXJzaXN0ZWQsXG4gICAgICAgIGJlZm9yZUVudGVyKGVsKSB7XG4gICAgICAgICAgICBsZXQgaG9vayA9IG9uQmVmb3JlRW50ZXI7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9vayA9IG9uQmVmb3JlQXBwZWFyIHx8IG9uQmVmb3JlRW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZm9yIHNhbWUgZWxlbWVudCAodi1zaG93KVxuICAgICAgICAgICAgaWYgKGVsLl9sZWF2ZUNiKSB7XG4gICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IodHJ1ZSAvKiBjYW5jZWxsZWQgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZm9yIHRvZ2dsZWQgZWxlbWVudCB3aXRoIHNhbWUga2V5ICh2LWlmKVxuICAgICAgICAgICAgY29uc3QgbGVhdmluZ1ZOb2RlID0gbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XG4gICAgICAgICAgICBpZiAobGVhdmluZ1ZOb2RlICYmXG4gICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmXG4gICAgICAgICAgICAgICAgbGVhdmluZ1ZOb2RlLmVsLl9sZWF2ZUNiKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgZWFybHkgcmVtb3ZhbCAobm90IGNhbmNlbGxlZClcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxIb29rKGhvb2ssIFtlbF0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnRlcihlbCkge1xuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkVudGVyO1xuICAgICAgICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcbiAgICAgICAgICAgIGxldCBjYW5jZWxIb29rID0gb25FbnRlckNhbmNlbGxlZDtcbiAgICAgICAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgICAgICAgICAgICBob29rID0gb25BcHBlYXIgfHwgb25FbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJIb29rID0gb25BZnRlckFwcGVhciB8fCBvbkFmdGVyRW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGRvbmUgPSAoZWwuX2VudGVyQ2IgPSAoY2FuY2VsbGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChob29rcy5kZWxheWVkTGVhdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaG9vaykge1xuICAgICAgICAgICAgICAgIGNhbGxBc3luY0hvb2soaG9vaywgW2VsLCBkb25lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxlYXZlKGVsLCByZW1vdmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICAgICAgICAgICAgaWYgKGVsLl9lbnRlckNiKSB7XG4gICAgICAgICAgICAgICAgZWwuX2VudGVyQ2IodHJ1ZSAvKiBjYW5jZWxsZWQgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLmlzVW5tb3VudGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxIb29rKG9uQmVmb3JlTGVhdmUsIFtlbF0pO1xuICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fbGVhdmVDYiA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID09PSB2bm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XSA9IHZub2RlO1xuICAgICAgICAgICAgaWYgKG9uTGVhdmUpIHtcbiAgICAgICAgICAgICAgICBjYWxsQXN5bmNIb29rKG9uTGVhdmUsIFtlbCwgZG9uZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbG9uZSh2bm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVUcmFuc2l0aW9uSG9va3Modm5vZGUsIHByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaG9va3M7XG59XG4vLyB0aGUgcGxhY2Vob2xkZXIgcmVhbGx5IG9ubHkgaGFuZGxlcyBvbmUgc3BlY2lhbCBjYXNlOiBLZWVwQWxpdmVcbi8vIGluIHRoZSBjYXNlIG9mIGEgS2VlcEFsaXZlIGluIGEgbGVhdmUgcGhhc2Ugd2UgbmVlZCB0byByZXR1cm4gYSBLZWVwQWxpdmVcbi8vIHBsYWNlaG9sZGVyIHdpdGggZW1wdHkgY29udGVudCB0byBhdm9pZCB0aGUgS2VlcEFsaXZlIGluc3RhbmNlIGZyb20gYmVpbmdcbi8vIHVubW91bnRlZC5cbmZ1bmN0aW9uIGVtcHR5UGxhY2Vob2xkZXIodm5vZGUpIHtcbiAgICBpZiAoaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZub2RlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEtlZXBBbGl2ZUNoaWxkKHZub2RlKSB7XG4gICAgcmV0dXJuIGlzS2VlcEFsaXZlKHZub2RlKVxuICAgICAgICA/IHZub2RlLmNoaWxkcmVuXG4gICAgICAgICAgICA/IHZub2RlLmNoaWxkcmVuWzBdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICA6IHZub2RlO1xufVxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGhvb2tzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xuICAgICAgICB2bm9kZS5zc0ZhbGxiYWNrLnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UsIHBhcmVudEtleSkge1xuICAgIGxldCByZXQgPSBbXTtcbiAgICBsZXQga2V5ZWRGcmFnbWVudENvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAvLyAjNTM2MCBpbmhlcml0IHBhcmVudCBrZXkgaW4gY2FzZSBvZiA8dGVtcGxhdGUgdi1mb3I+XG4gICAgICAgIGNvbnN0IGtleSA9IHBhcmVudEtleSA9PSBudWxsXG4gICAgICAgICAgICA/IGNoaWxkLmtleVxuICAgICAgICAgICAgOiBTdHJpbmcocGFyZW50S2V5KSArIFN0cmluZyhjaGlsZC5rZXkgIT0gbnVsbCA/IGNoaWxkLmtleSA6IGkpO1xuICAgICAgICAvLyBoYW5kbGUgZnJhZ21lbnQgY2hpbGRyZW4gY2FzZSwgZS5nLiB2LWZvclxuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXRjaEZsYWcgJiAxMjggLyogUGF0Y2hGbGFncy5LRVlFRF9GUkFHTUVOVCAqLylcbiAgICAgICAgICAgICAgICBrZXllZEZyYWdtZW50Q291bnQrKztcbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQoZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCwga2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tbWVudCBwbGFjZWhvbGRlcnMgc2hvdWxkIGJlIHNraXBwZWQsIGUuZy4gdi1pZlxuICAgICAgICBlbHNlIGlmIChrZWVwQ29tbWVudCB8fCBjaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgICByZXQucHVzaChrZXkgIT0gbnVsbCA/IGNsb25lVk5vZGUoY2hpbGQsIHsga2V5IH0pIDogY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vICMxMTI2IGlmIGEgdHJhbnNpdGlvbiBjaGlsZHJlbiBsaXN0IGNvbnRhaW5zIG11bHRpcGxlIHN1YiBmcmFnbWVudHMsIHRoZXNlXG4gICAgLy8gZnJhZ21lbnRzIHdpbGwgYmUgbWVyZ2VkIGludG8gYSBmbGF0IGNoaWxkcmVuIGFycmF5LiBTaW5jZSBlYWNoIHYtZm9yXG4gICAgLy8gZnJhZ21lbnQgbWF5IGNvbnRhaW4gZGlmZmVyZW50IHN0YXRpYyBiaW5kaW5ncyBpbnNpZGUsIHdlIG5lZWQgdG8gZGUtb3BcbiAgICAvLyB0aGVzZSBjaGlsZHJlbiB0byBmb3JjZSBmdWxsIGRpZmZzIHRvIGVuc3VyZSBjb3JyZWN0IGJlaGF2aW9yLlxuICAgIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXRbaV0ucGF0Y2hGbGFnID0gLTIgLyogUGF0Y2hGbGFncy5CQUlMICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbi8vIGltcGxlbWVudGF0aW9uLCBjbG9zZSB0byBuby1vcFxuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IHsgc2V0dXA6IG9wdGlvbnMsIG5hbWU6IG9wdGlvbnMubmFtZSB9IDogb3B0aW9ucztcbn1cblxuY29uc3QgaXNBc3luY1dyYXBwZXIgPSAoaSkgPT4gISFpLnR5cGUuX19hc3luY0xvYWRlcjtcbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xuICAgIH1cbiAgICBjb25zdCB7IGxvYWRlciwgbG9hZGluZ0NvbXBvbmVudCwgZXJyb3JDb21wb25lbnQsIGRlbGF5ID0gMjAwLCB0aW1lb3V0LCAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcbiAgICBzdXNwZW5zaWJsZSA9IHRydWUsIG9uRXJyb3I6IHVzZXJPbkVycm9yIH0gPSBzb3VyY2U7XG4gICAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICBsZXQgcmVzb2x2ZWRDb21wO1xuICAgIGxldCByZXRyaWVzID0gMDtcbiAgICBjb25zdCByZXRyeSA9ICgpID0+IHtcbiAgICAgICAgcmV0cmllcysrO1xuICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIHJldHVybiBsb2FkKCk7XG4gICAgfTtcbiAgICBjb25zdCBsb2FkID0gKCkgPT4ge1xuICAgICAgICBsZXQgdGhpc1JlcXVlc3Q7XG4gICAgICAgIHJldHVybiAocGVuZGluZ1JlcXVlc3QgfHxcbiAgICAgICAgICAgICh0aGlzUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0ID1cbiAgICAgICAgICAgICAgICBsb2FkZXIoKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodXNlck9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclJldHJ5ID0gKCkgPT4gcmVzb2x2ZShyZXRyeSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyRmFpbCA9ICgpID0+IHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoY29tcCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY29tcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBBc3luYyBjb21wb25lbnQgbG9hZGVyIHJlc29sdmVkIHRvIHVuZGVmaW5lZC4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYElmIHlvdSBhcmUgdXNpbmcgcmV0cnkoKSwgbWFrZSBzdXJlIHRvIHJldHVybiBpdHMgcmV0dXJuIHZhbHVlLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVyb3AgbW9kdWxlIGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSBjb21wLmRlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogJHtjb21wfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wO1xuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgfTtcbiAgICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcbiAgICAgICAgbmFtZTogJ0FzeW5jQ29tcG9uZW50V3JhcHBlcicsXG4gICAgICAgIF9fYXN5bmNMb2FkZXI6IGxvYWQsXG4gICAgICAgIGdldCBfX2FzeW5jUmVzb2x2ZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRDb21wO1xuICAgICAgICB9LFxuICAgICAgICBzZXR1cCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICAgICAgICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZFxuICAgICAgICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAxMyAvKiBFcnJvckNvZGVzLkFTWU5DX0NPTVBPTkVOVF9MT0FERVIgKi8sICFlcnJvckNvbXBvbmVudCAvKiBkbyBub3QgdGhyb3cgaW4gZGV2IGlmIHVzZXIgcHJvdmlkZWQgZXJyb3IgY29tcG9uZW50ICovKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBzdXNwZW5zZS1jb250cm9sbGVkIG9yIFNTUi5cbiAgICAgICAgICAgIGlmICgoc3VzcGVuc2libGUgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpIHx8XG4gICAgICAgICAgICAgICAgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZCgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGNvbXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKGNvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gZXJyb3JDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XG4gICAgICAgICAgICBjb25zdCBkZWxheWVkID0gcmVmKCEhZGVsYXkpO1xuICAgICAgICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ZWQudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9hZGVkLnZhbHVlICYmICFlcnJvci52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBBc3luYyBjb21wb25lbnQgdGltZWQgb3V0IGFmdGVyICR7dGltZW91dH1tcy5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2FkKClcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9hZGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50ICYmIGlzS2VlcEFsaXZlKGluc3RhbmNlLnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFyZW50IGlzIGtlZXAtYWxpdmUsIGZvcmNlIHVwZGF0ZSBzbyB0aGUgbG9hZGVkIGNvbXBvbmVudCdzXG4gICAgICAgICAgICAgICAgICAgIC8vIG5hbWUgaXMgdGFrZW4gaW50byBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZWQudmFsdWUgJiYgcmVzb2x2ZWRDb21wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yLnZhbHVlICYmIGVycm9yQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsb2FkaW5nQ29tcG9uZW50ICYmICFkZWxheWVkLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShsb2FkaW5nQ29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJbm5lckNvbXAoY29tcCwgcGFyZW50KSB7XG4gICAgY29uc3QgeyByZWYsIHByb3BzLCBjaGlsZHJlbiwgY2UgfSA9IHBhcmVudC52bm9kZTtcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XG4gICAgLy8gZW5zdXJlIGlubmVyIGNvbXBvbmVudCBpbmhlcml0cyB0aGUgYXN5bmMgd3JhcHBlcidzIHJlZiBvd25lclxuICAgIHZub2RlLnJlZiA9IHJlZjtcbiAgICAvLyBwYXNzIHRoZSBjdXN0b20gZWxlbWVudCBjYWxsYmFjayBvbiB0byB0aGUgaW5uZXIgY29tcFxuICAgIC8vIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgYXN5bmMgd3JhcHBlclxuICAgIHZub2RlLmNlID0gY2U7XG4gICAgZGVsZXRlIHBhcmVudC52bm9kZS5jZTtcbiAgICByZXR1cm4gdm5vZGU7XG59XG5cbmNvbnN0IGlzS2VlcEFsaXZlID0gKHZub2RlKSA9PiB2bm9kZS50eXBlLl9faXNLZWVwQWxpdmU7XG5jb25zdCBLZWVwQWxpdmVJbXBsID0ge1xuICAgIG5hbWU6IGBLZWVwQWxpdmVgLFxuICAgIC8vIE1hcmtlciBmb3Igc3BlY2lhbCBoYW5kbGluZyBpbnNpZGUgdGhlIHJlbmRlcmVyLiBXZSBhcmUgbm90IHVzaW5nIGEgPT09XG4gICAgLy8gY2hlY2sgZGlyZWN0bHkgb24gS2VlcEFsaXZlIGluIHRoZSByZW5kZXJlciwgYmVjYXVzZSBpbXBvcnRpbmcgaXQgZGlyZWN0bHlcbiAgICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXG4gICAgX19pc0tlZXBBbGl2ZTogdHJ1ZSxcbiAgICBwcm9wczoge1xuICAgICAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcbiAgICAgICAgZXhjbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgICAgIG1heDogW1N0cmluZywgTnVtYmVyXVxuICAgIH0sXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICAvLyBLZWVwQWxpdmUgY29tbXVuaWNhdGVzIHdpdGggdGhlIGluc3RhbnRpYXRlZCByZW5kZXJlciB2aWEgdGhlXG4gICAgICAgIC8vIGN0eCB3aGVyZSB0aGUgcmVuZGVyZXIgcGFzc2VzIGluIGl0cyBpbnRlcm5hbHMsXG4gICAgICAgIC8vIGFuZCB0aGUgS2VlcEFsaXZlIGluc3RhbmNlIGV4cG9zZXMgYWN0aXZhdGUvZGVhY3RpdmF0ZSBpbXBsZW1lbnRhdGlvbnMuXG4gICAgICAgIC8vIFRoZSB3aG9sZSBwb2ludCBvZiB0aGlzIGlzIHRvIGF2b2lkIGltcG9ydGluZyBLZWVwQWxpdmUgZGlyZWN0bHkgaW4gdGhlXG4gICAgICAgIC8vIHJlbmRlcmVyIHRvIGZhY2lsaXRhdGUgdHJlZS1zaGFraW5nLlxuICAgICAgICBjb25zdCBzaGFyZWRDb250ZXh0ID0gaW5zdGFuY2UuY3R4O1xuICAgICAgICAvLyBpZiB0aGUgaW50ZXJuYWwgcmVuZGVyZXIgaXMgbm90IHJlZ2lzdGVyZWQsIGl0IGluZGljYXRlcyB0aGF0IHRoaXMgaXMgc2VydmVyLXNpZGUgcmVuZGVyaW5nLFxuICAgICAgICAvLyBmb3IgS2VlcEFsaXZlLCB3ZSBqdXN0IG5lZWQgdG8gcmVuZGVyIGl0cyBjaGlsZHJlblxuICAgICAgICBpZiAoIXNoYXJlZENvbnRleHQucmVuZGVyZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIHNsb3RzLmRlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAxID8gY2hpbGRyZW5bMF0gOiBjaGlsZHJlbjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGxldCBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGluc3RhbmNlLl9fdl9jYWNoZSA9IGNhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudFN1c3BlbnNlID0gaW5zdGFuY2Uuc3VzcGVuc2U7XG4gICAgICAgIGNvbnN0IHsgcmVuZGVyZXI6IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiBfdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSB9ID0gc2hhcmVkQ29udGV4dDtcbiAgICAgICAgY29uc3Qgc3RvcmFnZUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzaGFyZWRDb250ZXh0LmFjdGl2YXRlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICBtb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBNb3ZlVHlwZS5FTlRFUiAqLywgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgLy8gaW4gY2FzZSBwcm9wcyBoYXZlIGNoYW5nZWRcbiAgICAgICAgICAgIHBhdGNoKGluc3RhbmNlLnZub2RlLCB2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHZub2RlLnNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNEZWFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5hKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlLmEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcbiAgICAgICAgICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvbXBvbmVudHMgdHJlZVxuICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzaGFyZWRDb250ZXh0LmRlYWN0aXZhdGUgPSAodm5vZGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgICAgICAgbW92ZSh2bm9kZSwgc3RvcmFnZUNvbnRhaW5lciwgbnVsbCwgMSAvKiBNb3ZlVHlwZS5MRUFWRSAqLywgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UuZGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xuICAgICAgICAgICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UucGFyZW50LCB2bm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzRGVhY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29tcG9uZW50cyB0cmVlXG4gICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBzaGFwZUZsYWcgc28gaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZFxuICAgICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcHJ1bmVDYWNoZShmaWx0ZXIpIHtcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goKHZub2RlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh2bm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSAmJiAoIWZpbHRlciB8fCAhZmlsdGVyKG5hbWUpKSkge1xuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkoa2V5KSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgICAgIGlmICghY3VycmVudCB8fCBjYWNoZWQudHlwZSAhPT0gY3VycmVudC50eXBlKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChjYWNoZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIGluc3RhbmNlIHNob3VsZCBubyBsb25nZXIgYmUga2VwdC1hbGl2ZS5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCB1bm1vdW50IGl0IG5vdyBidXQgaXQgbWlnaHQgYmUgbGF0ZXIsIHNvIHJlc2V0IGl0cyBmbGFnIG5vdy5cbiAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcnVuZSBjYWNoZSBvbiBpbmNsdWRlL2V4Y2x1ZGUgcHJvcCBjaGFuZ2VcbiAgICAgICAgd2F0Y2goKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLCAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XG4gICAgICAgICAgICBpbmNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiBtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKTtcbiAgICAgICAgICAgIGV4Y2x1ZGUgJiYgcHJ1bmVDYWNoZShuYW1lID0+ICFtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKTtcbiAgICAgICAgfSwgXG4gICAgICAgIC8vIHBydW5lIHBvc3QtcmVuZGVyIGFmdGVyIGBjdXJyZW50YCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgIHsgZmx1c2g6ICdwb3N0JywgZGVlcDogdHJ1ZSB9KTtcbiAgICAgICAgLy8gY2FjaGUgc3ViIHRyZWUgYWZ0ZXIgcmVuZGVyXG4gICAgICAgIGxldCBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgICAgICBjb25zdCBjYWNoZVN1YnRyZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBmaXggIzE2MjEsIHRoZSBwZW5kaW5nQ2FjaGVLZXkgY291bGQgYmUgMFxuICAgICAgICAgICAgaWYgKHBlbmRpbmdDYWNoZUtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2FjaGUuc2V0KHBlbmRpbmdDYWNoZUtleSwgZ2V0SW5uZXJDaGlsZChpbnN0YW5jZS5zdWJUcmVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG9uTW91bnRlZChjYWNoZVN1YnRyZWUpO1xuICAgICAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICAgICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goY2FjaGVkID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZSA9IGdldElubmVyQ2hpbGQoc3ViVHJlZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZC50eXBlID09PSB2bm9kZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaW5zdGFuY2Ugd2lsbCBiZSB1bm1vdW50ZWQgYXMgcGFydCBvZiBrZWVwLWFsaXZlJ3MgdW5tb3VudFxuICAgICAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpbnZva2UgaXRzIGRlYWN0aXZhdGVkIGhvb2sgaGVyZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYSA9IHZub2RlLmNvbXBvbmVudC5kYTtcbiAgICAgICAgICAgICAgICAgICAgZGEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRhLCBzdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdW5tb3VudChjYWNoZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCByYXdWTm9kZSA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzVk5vZGUocmF3Vk5vZGUpIHx8XG4gICAgICAgICAgICAgICAgKCEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLykgJiZcbiAgICAgICAgICAgICAgICAgICAgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XG4gICAgICAgICAgICBjb25zdCBjb21wID0gdm5vZGUudHlwZTtcbiAgICAgICAgICAgIC8vIGZvciBhc3luYyBjb21wb25lbnRzLCBuYW1lIGNoZWNrIHNob3VsZCBiZSBiYXNlZCBpbiBpdHMgbG9hZGVkXG4gICAgICAgICAgICAvLyBpbm5lciBjb21wb25lbnQgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShpc0FzeW5jV3JhcHBlcih2bm9kZSlcbiAgICAgICAgICAgICAgICA/IHZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkIHx8IHt9XG4gICAgICAgICAgICAgICAgOiBjb21wKTtcbiAgICAgICAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgbWF4IH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmICgoaW5jbHVkZSAmJiAoIW5hbWUgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpKSB8fFxuICAgICAgICAgICAgICAgIChleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qga2V5ID0gdm5vZGUua2V5ID09IG51bGwgPyBjb21wIDogdm5vZGUua2V5O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVkVk5vZGUgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgICAgIC8vIGNsb25lIHZub2RlIGlmIGl0J3MgcmV1c2VkIGJlY2F1c2Ugd2UgYXJlIGdvaW5nIHRvIG11dGF0ZSBpdFxuICAgICAgICAgICAgaWYgKHZub2RlLmVsKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gIzE1MTMgaXQncyBwb3NzaWJsZSBmb3IgdGhlIHJldHVybmVkIHZub2RlIHRvIGJlIGNsb25lZCBkdWUgdG8gYXR0clxuICAgICAgICAgICAgLy8gZmFsbHRocm91Z2ggb3Igc2NvcGVJZCwgc28gdGhlIHZub2RlIGhlcmUgbWF5IG5vdCBiZSB0aGUgZmluYWwgdm5vZGVcbiAgICAgICAgICAgIC8vIHRoYXQgaXMgbW91bnRlZC4gSW5zdGVhZCBvZiBjYWNoaW5nIGl0IGRpcmVjdGx5LCB3ZSBzdG9yZSB0aGUgcGVuZGluZ1xuICAgICAgICAgICAgLy8ga2V5IGFuZCBjYWNoZSBgaW5zdGFuY2Uuc3ViVHJlZWAgKHRoZSBub3JtYWxpemVkIHZub2RlKSBpblxuICAgICAgICAgICAgLy8gYmVmb3JlTW91bnQvYmVmb3JlVXBkYXRlIGhvb2tzLlxuICAgICAgICAgICAgcGVuZGluZ0NhY2hlS2V5ID0ga2V5O1xuICAgICAgICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gY29weSBvdmVyIG1vdW50ZWQgc3RhdGVcbiAgICAgICAgICAgICAgICB2bm9kZS5lbCA9IGNhY2hlZFZOb2RlLmVsO1xuICAgICAgICAgICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyByZWN1cnNpdmVseSB1cGRhdGUgdHJhbnNpdGlvbiBob29rcyBvbiBzdWJUcmVlXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgdm5vZGUudHJhbnNpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHZub2RlIGJlaW5nIG1vdW50ZWQgYXMgZnJlc2hcbiAgICAgICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyIC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XG4gICAgICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGtleSB0aGUgZnJlc2hlc3RcbiAgICAgICAgICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgICAgIC8vIHBydW5lIG9sZGVzdCBlbnRyeVxuICAgICAgICAgICAgICAgIGlmIChtYXggJiYga2V5cy5zaXplID4gcGFyc2VJbnQobWF4LCAxMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleXMudmFsdWVzKCkubmV4dCgpLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdm9pZCB2bm9kZSBiZWluZyB1bm1vdW50ZWRcbiAgICAgICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi87XG4gICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICAgICAgICByZXR1cm4gaXNTdXNwZW5zZShyYXdWTm9kZS50eXBlKSA/IHJhd1ZOb2RlIDogdm5vZGU7XG4gICAgICAgIH07XG4gICAgfVxufTtcbntcbiAgICBLZWVwQWxpdmVJbXBsLl9faXNCdWlsZEluID0gdHJ1ZTtcbn1cbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcbmNvbnN0IEtlZXBBbGl2ZSA9IEtlZXBBbGl2ZUltcGw7XG5mdW5jdGlvbiBtYXRjaGVzKHBhdHRlcm4sIG5hbWUpIHtcbiAgICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi5zb21lKChwKSA9PiBtYXRjaGVzKHAsIG5hbWUpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoJywnKS5pbmNsdWRlcyhuYW1lKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGF0dGVybi50ZXN0KSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gb25BY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiIC8qIExpZmVjeWNsZUhvb2tzLkFDVElWQVRFRCAqLywgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIG9uRGVhY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiAvKiBMaWZlY3ljbGVIb29rcy5ERUFDVElWQVRFRCAqLywgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCB0eXBlLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgICAvLyBjYWNoZSB0aGUgZGVhY3RpdmF0ZSBicmFuY2ggY2hlY2sgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWVcbiAgICAvLyBob29rIGNhbiBiZSBwcm9wZXJseSBkZWR1cGVkIGJ5IHRoZSBzY2hlZHVsZXIuIFwiX193ZGNcIiBzdGFuZHMgZm9yIFwid2l0aFxuICAgIC8vIGRlYWN0aXZhdGlvbiBjaGVja1wiLlxuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fFxuICAgICAgICAoaG9vay5fX3dkYyA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIG9ubHkgZmlyZSB0aGUgaG9vayBpZiB0aGUgdGFyZ2V0IGluc3RhbmNlIGlzIE5PVCBpbiBhIGRlYWN0aXZhdGVkIGJyYW5jaC5cbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5pc0RlYWN0aXZhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhvb2soKTtcbiAgICAgICAgfSk7XG4gICAgaW5qZWN0SG9vayh0eXBlLCB3cmFwcGVkSG9vaywgdGFyZ2V0KTtcbiAgICAvLyBJbiBhZGRpdGlvbiB0byByZWdpc3RlcmluZyBpdCBvbiB0aGUgdGFyZ2V0IGluc3RhbmNlLCB3ZSB3YWxrIHVwIHRoZSBwYXJlbnRcbiAgICAvLyBjaGFpbiBhbmQgcmVnaXN0ZXIgaXQgb24gYWxsIGFuY2VzdG9yIGluc3RhbmNlcyB0aGF0IGFyZSBrZWVwLWFsaXZlIHJvb3RzLlxuICAgIC8vIFRoaXMgYXZvaWRzIHRoZSBuZWVkIHRvIHdhbGsgdGhlIGVudGlyZSBjb21wb25lbnQgdHJlZSB3aGVuIGludm9raW5nIHRoZXNlXG4gICAgLy8gaG9va3MsIGFuZCBtb3JlIGltcG9ydGFudGx5LCBhdm9pZHMgdGhlIG5lZWQgdG8gdHJhY2sgY2hpbGQgY29tcG9uZW50cyBpblxuICAgIC8vIGFycmF5cy5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChpc0tlZXBBbGl2ZShjdXJyZW50LnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgICAgICAgICBpbmplY3RUb0tlZXBBbGl2ZVJvb3Qod3JhcHBlZEhvb2ssIHR5cGUsIHRhcmdldCwgY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpbmplY3RUb0tlZXBBbGl2ZVJvb3QoaG9vaywgdHlwZSwgdGFyZ2V0LCBrZWVwQWxpdmVSb290KSB7XG4gICAgLy8gaW5qZWN0SG9vayB3cmFwcyB0aGUgb3JpZ2luYWwgZm9yIGVycm9yIGhhbmRsaW5nLCBzbyBtYWtlIHN1cmUgdG8gcmVtb3ZlXG4gICAgLy8gdGhlIHdyYXBwZWQgdmVyc2lvbi5cbiAgICBjb25zdCBpbmplY3RlZCA9IGluamVjdEhvb2sodHlwZSwgaG9vaywga2VlcEFsaXZlUm9vdCwgdHJ1ZSAvKiBwcmVwZW5kICovKTtcbiAgICBvblVubW91bnRlZCgoKSA9PiB7XG4gICAgICAgIHJlbW92ZShrZWVwQWxpdmVSb290W3R5cGVdLCBpbmplY3RlZCk7XG4gICAgfSwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlc2V0U2hhcGVGbGFnKHZub2RlKSB7XG4gICAgLy8gYml0d2lzZSBvcGVyYXRpb25zIHRvIHJlbW92ZSBrZWVwIGFsaXZlIGZsYWdzXG4gICAgdm5vZGUuc2hhcGVGbGFnICY9IH4yNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi87XG4gICAgdm5vZGUuc2hhcGVGbGFnICY9IH41MTIgLyogU2hhcGVGbGFncy5DT01QT05FTlRfS0VQVF9BTElWRSAqLztcbn1cbmZ1bmN0aW9uIGdldElubmVyQ2hpbGQodm5vZGUpIHtcbiAgICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8gPyB2bm9kZS5zc0NvbnRlbnQgOiB2bm9kZTtcbn1cblxuZnVuY3Rpb24gaW5qZWN0SG9vayh0eXBlLCBob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UsIHByZXBlbmQgPSBmYWxzZSkge1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcbiAgICAgICAgLy8gY2FjaGUgdGhlIGVycm9yIGhhbmRsaW5nIHdyYXBwZXIgZm9yIGluamVjdGVkIGhvb2tzIHNvIHRoZSBzYW1lIGhvb2tcbiAgICAgICAgLy8gY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dlaFwiIHN0YW5kcyBmb3IgXCJ3aXRoIGVycm9yXG4gICAgICAgIC8vIGhhbmRsaW5nXCIuXG4gICAgICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dlaCB8fFxuICAgICAgICAgICAgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIHRyYWNraW5nIGluc2lkZSBhbGwgbGlmZWN5Y2xlIGhvb2tzXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhleSBjYW4gcG90ZW50aWFsbHkgYmUgY2FsbGVkIGluc2lkZSBlZmZlY3RzLlxuICAgICAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgY3VycmVudEluc3RhbmNlIGR1cmluZyBob29rIGludm9jYXRpb24uXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBhc3N1bWVzIHRoZSBob29rIGRvZXMgbm90IHN5bmNocm9ub3VzbHkgdHJpZ2dlciBvdGhlciBob29rcywgd2hpY2hcbiAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBiZSBmYWxzZSB3aGVuIHRoZSB1c2VyIGRvZXMgc29tZXRoaW5nIHJlYWxseSBmdW5reS5cbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCB0YXJnZXQsIHR5cGUsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHByZXBlbmQpIHtcbiAgICAgICAgICAgIGhvb2tzLnVuc2hpZnQod3JhcHBlZEhvb2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyYXBwZWRIb29rO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29uc3QgYXBpTmFtZSA9IHRvSGFuZGxlcktleShFcnJvclR5cGVTdHJpbmdzW3R5cGVdLnJlcGxhY2UoLyBob29rJC8sICcnKSk7XG4gICAgICAgIHdhcm4kMShgJHthcGlOYW1lfSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIGAgK1xuICAgICAgICAgICAgYGFzc29jaWF0ZWQgd2l0aC4gYCArXG4gICAgICAgICAgICBgTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgK1xuICAgICAgICAgICAgKGAgSWYgeW91IGFyZSB1c2luZyBhc3luYyBzZXR1cCgpLCBtYWtlIHN1cmUgdG8gcmVnaXN0ZXIgbGlmZWN5Y2xlIGAgK1xuICAgICAgICAgICAgICAgICAgICBgaG9va3MgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdCBzdGF0ZW1lbnQuYFxuICAgICAgICAgICAgICAgICkpO1xuICAgIH1cbn1cbmNvbnN0IGNyZWF0ZUhvb2sgPSAobGlmZWN5Y2xlKSA9PiAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiBcbi8vIHBvc3QtY3JlYXRlIGxpZmVjeWNsZSByZWdpc3RyYXRpb25zIGFyZSBub29wcyBkdXJpbmcgU1NSIChleGNlcHQgZm9yIHNlcnZlclByZWZldGNoKVxuKCFpc0luU1NSQ29tcG9uZW50U2V0dXAgfHwgbGlmZWN5Y2xlID09PSBcInNwXCIgLyogTGlmZWN5Y2xlSG9va3MuU0VSVkVSX1BSRUZFVENIICovKSAmJlxuICAgIGluamVjdEhvb2sobGlmZWN5Y2xlLCAoLi4uYXJncykgPT4gaG9vayguLi5hcmdzKSwgdGFyZ2V0KTtcbmNvbnN0IG9uQmVmb3JlTW91bnQgPSBjcmVhdGVIb29rKFwiYm1cIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfTU9VTlQgKi8pO1xuY29uc3Qgb25Nb3VudGVkID0gY3JlYXRlSG9vayhcIm1cIiAvKiBMaWZlY3ljbGVIb29rcy5NT1VOVEVEICovKTtcbmNvbnN0IG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlSG9vayhcImJ1XCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX1VQREFURSAqLyk7XG5jb25zdCBvblVwZGF0ZWQgPSBjcmVhdGVIb29rKFwidVwiIC8qIExpZmVjeWNsZUhvb2tzLlVQREFURUQgKi8pO1xuY29uc3Qgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlSG9vayhcImJ1bVwiIC8qIExpZmVjeWNsZUhvb2tzLkJFRk9SRV9VTk1PVU5UICovKTtcbmNvbnN0IG9uVW5tb3VudGVkID0gY3JlYXRlSG9vayhcInVtXCIgLyogTGlmZWN5Y2xlSG9va3MuVU5NT1VOVEVEICovKTtcbmNvbnN0IG9uU2VydmVyUHJlZmV0Y2ggPSBjcmVhdGVIb29rKFwic3BcIiAvKiBMaWZlY3ljbGVIb29rcy5TRVJWRVJfUFJFRkVUQ0ggKi8pO1xuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFwicnRnXCIgLyogTGlmZWN5Y2xlSG9va3MuUkVOREVSX1RSSUdHRVJFRCAqLyk7XG5jb25zdCBvblJlbmRlclRyYWNrZWQgPSBjcmVhdGVIb29rKFwicnRjXCIgLyogTGlmZWN5Y2xlSG9va3MuUkVOREVSX1RSQUNLRUQgKi8pO1xuZnVuY3Rpb24gb25FcnJvckNhcHR1cmVkKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xuICAgIGluamVjdEhvb2soXCJlY1wiIC8qIExpZmVjeWNsZUhvb2tzLkVSUk9SX0NBUFRVUkVEICovLCBob29rLCB0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wYXRDaGlsZHJlbihpbnN0YW5jZSkge1xuICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9DSElMRFJFTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfQ0hJTERSRU4gKi8sIGluc3RhbmNlKTtcbiAgICBjb25zdCByb290ID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgIGlmIChyb290KSB7XG4gICAgICAgIHdhbGsocm9vdCwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG59XG5mdW5jdGlvbiB3YWxrKHZub2RlLCBjaGlsZHJlbikge1xuICAgIGlmICh2bm9kZS5jb21wb25lbnQpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh2bm9kZS5jb21wb25lbnQucHJveHkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgIGNvbnN0IHZub2RlcyA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgd2Fsayh2bm9kZXNbaV0sIGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29tcGF0TGlzdGVuZXJzKGluc3RhbmNlKSB7XG4gICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0xJU1RFTkVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfTElTVEVORVJTICovLCBpbnN0YW5jZSk7XG4gICAgY29uc3QgbGlzdGVuZXJzID0ge307XG4gICAgY29uc3QgcmF3UHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICBpZiAoIXJhd1Byb3BzKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICAgIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyc1trZXlbMl0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgzKV0gPSByYXdQcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0ZW5lcnM7XG59XG5cbmNvbnN0IGxlZ2FjeURpcmVjdGl2ZUhvb2tNYXAgPSB7XG4gICAgYmVmb3JlTW91bnQ6ICdiaW5kJyxcbiAgICBtb3VudGVkOiAnaW5zZXJ0ZWQnLFxuICAgIHVwZGF0ZWQ6IFsndXBkYXRlJywgJ2NvbXBvbmVudFVwZGF0ZWQnXSxcbiAgICB1bm1vdW50ZWQ6ICd1bmJpbmQnXG59O1xuZnVuY3Rpb24gbWFwQ29tcGF0RGlyZWN0aXZlSG9vayhuYW1lLCBkaXIsIGluc3RhbmNlKSB7XG4gICAgY29uc3QgbWFwcGVkTmFtZSA9IGxlZ2FjeURpcmVjdGl2ZUhvb2tNYXBbbmFtZV07XG4gICAgaWYgKG1hcHBlZE5hbWUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkobWFwcGVkTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBbXTtcbiAgICAgICAgICAgIG1hcHBlZE5hbWUuZm9yRWFjaChtYXBwZWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZEhvb2sgPSBkaXJbbWFwcGVkXTtcbiAgICAgICAgICAgICAgICBpZiAobWFwcGVkSG9vaykge1xuICAgICAgICAgICAgICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIkNVU1RPTV9ESVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNVU1RPTV9ESVIgKi8sIGluc3RhbmNlLCBtYXBwZWQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBob29rLnB1c2gobWFwcGVkSG9vayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaG9vay5sZW5ndGggPyBob29rIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRpclttYXBwZWROYW1lXSkge1xuICAgICAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiQ1VTVE9NX0RJUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ1VTVE9NX0RJUiAqLywgaW5zdGFuY2UsIG1hcHBlZE5hbWUsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRpclttYXBwZWROYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG5SdW50aW1lIGhlbHBlciBmb3IgYXBwbHlpbmcgZGlyZWN0aXZlcyB0byBhIHZub2RlLiBFeGFtcGxlIHVzYWdlOlxuXG5jb25zdCBjb21wID0gcmVzb2x2ZUNvbXBvbmVudCgnY29tcCcpXG5jb25zdCBmb28gPSByZXNvbHZlRGlyZWN0aXZlKCdmb28nKVxuY29uc3QgYmFyID0gcmVzb2x2ZURpcmVjdGl2ZSgnYmFyJylcblxucmV0dXJuIHdpdGhEaXJlY3RpdmVzKGgoY29tcCksIFtcbiAgW2ZvbywgdGhpcy54XSxcbiAgW2JhciwgdGhpcy55XVxuXSlcbiovXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xuICAgIGlmIChpc0J1aWx0SW5EaXJlY3RpdmUobmFtZSkpIHtcbiAgICAgICAgd2FybiQxKCdEbyBub3QgdXNlIGJ1aWx0LWluIGRpcmVjdGl2ZSBpZHMgYXMgY3VzdG9tIGRpcmVjdGl2ZSBpZDogJyArIG5hbWUpO1xuICAgIH1cbn1cbi8qKlxuICogQWRkcyBkaXJlY3RpdmVzIHRvIGEgVk5vZGUuXG4gKi9cbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XG4gICAgY29uc3QgaW50ZXJuYWxJbnN0YW5jZSA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xuICAgICAgICByZXR1cm4gdm5vZGU7XG4gICAgfVxuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0RXhwb3NlUHJveHkoaW50ZXJuYWxJbnN0YW5jZSkgfHxcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5wcm94eTtcbiAgICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcbiAgICAgICAgaWYgKGRpcikge1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyKSkge1xuICAgICAgICAgICAgICAgIGRpciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbW91bnRlZDogZGlyLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkOiBkaXJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpci5kZWVwKSB7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmluZGluZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgZGlyLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgYXJnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgcHJldlZOb2RlLCBpbnN0YW5jZSwgbmFtZSkge1xuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycztcbiAgICBjb25zdCBvbGRCaW5kaW5ncyA9IHByZXZWTm9kZSAmJiBwcmV2Vk5vZGUuZGlycztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICAgICAgaWYgKG9sZEJpbmRpbmdzKSB7XG4gICAgICAgICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhvb2sgPSBiaW5kaW5nLmRpcltuYW1lXTtcbiAgICAgICAgaWYgKCFob29rKSB7XG4gICAgICAgICAgICBob29rID0gbWFwQ29tcGF0RGlyZWN0aXZlSG9vayhuYW1lLCBiaW5kaW5nLmRpciwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob29rKSB7XG4gICAgICAgICAgICAvLyBkaXNhYmxlIHRyYWNraW5nIGluc2lkZSBhbGwgbGlmZWN5Y2xlIGhvb2tzXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXG4gICAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgOCAvKiBFcnJvckNvZGVzLkRJUkVDVElWRV9IT09LICovLCBbXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwsXG4gICAgICAgICAgICAgICAgYmluZGluZyxcbiAgICAgICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgICAgICBwcmV2Vk5vZGVcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBDT01QT05FTlRTID0gJ2NvbXBvbmVudHMnO1xuY29uc3QgRElSRUNUSVZFUyA9ICdkaXJlY3RpdmVzJztcbmNvbnN0IEZJTFRFUlMgPSAnZmlsdGVycyc7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnQobmFtZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBuYW1lLCB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UpIHx8IG5hbWU7XG59XG5jb25zdCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UID0gU3ltYm9sKCk7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgY29tcG9uZW50LCBmYWxzZSkgfHwgY29tcG9uZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gaW52YWxpZCB0eXBlcyB3aWxsIGZhbGx0aHJvdWdoIHRvIGNyZWF0ZVZOb2RlIGFuZCByYWlzZSB3YXJuaW5nXG4gICAgICAgIHJldHVybiAoY29tcG9uZW50IHx8IE5VTExfRFlOQU1JQ19DT01QT05FTlQpO1xuICAgIH1cbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShuYW1lKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcbn1cbi8qKlxuICogdjIgY29tcGF0IG9ubHlcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiByZXNvbHZlRmlsdGVyKG5hbWUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KEZJTFRFUlMsIG5hbWUpO1xufVxuLy8gaW1wbGVtZW50YXRpb25cbmZ1bmN0aW9uIHJlc29sdmVBc3NldCh0eXBlLCBuYW1lLCB3YXJuTWlzc2luZyA9IHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICAgICAgICAvLyBleHBsaWNpdCBzZWxmIG5hbWUgaGFzIGhpZ2hlc3QgcHJpb3JpdHlcbiAgICAgICAgaWYgKHR5cGUgPT09IENPTVBPTkVOVFMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGZOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQsIGZhbHNlIC8qIGRvIG5vdCBpbmNsdWRlIGluZmVycmVkIG5hbWUgdG8gYXZvaWQgYnJlYWtpbmcgZXhpc3RpbmcgY29kZSAqLyk7XG4gICAgICAgICAgICBpZiAoc2VsZk5hbWUgJiZcbiAgICAgICAgICAgICAgICAoc2VsZk5hbWUgPT09IG5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgc2VsZk5hbWUgPT09IGNhbWVsaXplKG5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIHNlbGZOYW1lID09PSBjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcyA9IFxuICAgICAgICAvLyBsb2NhbCByZWdpc3RyYXRpb25cbiAgICAgICAgLy8gY2hlY2sgaW5zdGFuY2VbdHlwZV0gZmlyc3Qgd2hpY2ggaXMgcmVzb2x2ZWQgZm9yIG9wdGlvbnMgQVBJXG4gICAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fFxuICAgICAgICAgICAgLy8gZ2xvYmFsIHJlZ2lzdHJhdGlvblxuICAgICAgICAgICAgcmVzb2x2ZShpbnN0YW5jZS5hcHBDb250ZXh0W3R5cGVdLCBuYW1lKTtcbiAgICAgICAgaWYgKCFyZXMgJiYgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0byBpbXBsaWNpdCBzZWxmLXJlZmVyZW5jZVxuICAgICAgICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4dHJhID0gdHlwZSA9PT0gQ09NUE9ORU5UU1xuICAgICAgICAgICAgICAgID8gYFxcbklmIHRoaXMgaXMgYSBuYXRpdmUgY3VzdG9tIGVsZW1lbnQsIG1ha2Ugc3VyZSB0byBleGNsdWRlIGl0IGZyb20gYCArXG4gICAgICAgICAgICAgICAgICAgIGBjb21wb25lbnQgcmVzb2x1dGlvbiB2aWEgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudC5gXG4gICAgICAgICAgICAgICAgOiBgYDtcbiAgICAgICAgICAgIHdhcm4kMShgRmFpbGVkIHRvIHJlc29sdmUgJHt0eXBlLnNsaWNlKDAsIC0xKX06ICR7bmFtZX0ke2V4dHJhfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuJDEoYHJlc29sdmUke2NhcGl0YWxpemUodHlwZS5zbGljZSgwLCAtMSkpfSBgICtcbiAgICAgICAgICAgIGBjYW4gb25seSBiZSB1c2VkIGluIHJlbmRlcigpIG9yIHNldHVwKCkuYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZShyZWdpc3RyeSwgbmFtZSkge1xuICAgIHJldHVybiAocmVnaXN0cnkgJiZcbiAgICAgICAgKHJlZ2lzdHJ5W25hbWVdIHx8XG4gICAgICAgICAgICByZWdpc3RyeVtjYW1lbGl6ZShuYW1lKV0gfHxcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5UmVuZGVyRm4oaW5zdGFuY2UpIHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICAgIGNvbnN0IHJlbmRlciA9IENvbXBvbmVudC5yZW5kZXI7XG4gICAgLy8gdjMgcnVudGltZSBjb21waWxlZCwgb3IgYWxyZWFkeSBjaGVja2VkIC8gd3JhcHBlZFxuICAgIGlmICghcmVuZGVyIHx8IHJlbmRlci5fcmMgfHwgcmVuZGVyLl9jb21wYXRDaGVja2VkIHx8IHJlbmRlci5fY29tcGF0V3JhcHBlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZW5kZXIubGVuZ3RoID49IDIpIHtcbiAgICAgICAgLy8gdjMgcHJlLWNvbXBpbGVkIGZ1bmN0aW9uLCBzaW5jZSB2MiByZW5kZXIgZnVuY3Rpb25zIG5ldmVyIG5lZWQgbW9yZSB0aGFuXG4gICAgICAgIC8vIDIgYXJndW1lbnRzLCBhbmQgdjIgZnVuY3Rpb25hbCByZW5kZXIgZnVuY3Rpb25zIHdvdWxkIGhhdmUgYWxyZWFkeSBiZWVuXG4gICAgICAgIC8vIG5vcm1hbGl6ZWQgaW50byB2MyBmdW5jdGlvbmFsIGNvbXBvbmVudHNcbiAgICAgICAgcmVuZGVyLl9jb21wYXRDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB2MiByZW5kZXIgZnVuY3Rpb24sIHRyeSB0byBwcm92aWRlIGNvbXBhdFxuICAgIGlmIChjaGVja0NvbXBhdEVuYWJsZWQoXCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWQgPSAoQ29tcG9uZW50LnJlbmRlciA9IGZ1bmN0aW9uIGNvbXBhdFJlbmRlcigpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBjb21wYXRIKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgd3JhcHBlZC5fY29tcGF0V3JhcHBlZCA9IHRydWU7XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGF0SCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIHR5cGUgPSBDb21tZW50O1xuICAgIH1cbiAgICAvLyB0byBzdXBwb3J0IHYyIHN0cmluZyBjb21wb25lbnQgbmFtZSBsb29rIXVwXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCB0ID0gaHlwaGVuYXRlKHR5cGUpO1xuICAgICAgICBpZiAodCA9PT0gJ3RyYW5zaXRpb24nIHx8IHQgPT09ICd0cmFuc2l0aW9uLWdyb3VwJyB8fCB0ID09PSAna2VlcC1hbGl2ZScpIHtcbiAgICAgICAgICAgIC8vIHNpbmNlIHRyYW5zaXRpb24gYW5kIHRyYW5zaXRpb24tZ3JvdXAgYXJlIHJ1bnRpbWUtZG9tLXNwZWNpZmljLFxuICAgICAgICAgICAgLy8gd2UgY2Fubm90IGltcG9ydCB0aGVtIGRpcmVjdGx5IGhlcmUuIEluc3RlYWQgdGhleSBhcmUgcmVnaXN0ZXJlZCB1c2luZ1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBrZXlzIGluIEB2dWUvY29tcGF0IGVudHJ5LlxuICAgICAgICAgICAgdHlwZSA9IGBfX2NvbXBhdF9fJHt0fWA7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZSA9IHJlc29sdmVEeW5hbWljQ29tcG9uZW50KHR5cGUpO1xuICAgIH1cbiAgICBjb25zdCBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBjb25zdCBpczJuZEFyZ0FycmF5Q2hpbGRyZW4gPSBpc0FycmF5KHByb3BzT3JDaGlsZHJlbik7XG4gICAgaWYgKGwgPT09IDIgfHwgaXMybmRBcmdBcnJheUNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpczJuZEFyZ0FycmF5Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSB2bm9kZSB3aXRob3V0IHByb3BzXG4gICAgICAgICAgICBpZiAoaXNWTm9kZShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lTbG90cyhjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJvcHMgd2l0aG91dCBjaGlsZHJlblxuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lTbG90cyhjb252ZXJ0TGVnYWN5RGlyZWN0aXZlcyhjcmVhdGVWTm9kZSh0eXBlLCBjb252ZXJ0TGVnYWN5UHJvcHMocHJvcHNPckNoaWxkcmVuLCB0eXBlKSksIHByb3BzT3JDaGlsZHJlbikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gb21pdCBwcm9wc1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lTbG90cyhjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBwcm9wc09yQ2hpbGRyZW4pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGlzVk5vZGUoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lTbG90cyhjb252ZXJ0TGVnYWN5RGlyZWN0aXZlcyhjcmVhdGVWTm9kZSh0eXBlLCBjb252ZXJ0TGVnYWN5UHJvcHMocHJvcHNPckNoaWxkcmVuLCB0eXBlKSwgY2hpbGRyZW4pLCBwcm9wc09yQ2hpbGRyZW4pKTtcbiAgICB9XG59XG5jb25zdCBza2lwTGVnYWN5Um9vdExldmVsUHJvcHMgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ3N0YXRpY1N0eWxlLHN0YXRpY0NsYXNzLGRpcmVjdGl2ZXMsbW9kZWwsaG9vaycpO1xuZnVuY3Rpb24gY29udmVydExlZ2FjeVByb3BzKGxlZ2FjeVByb3BzLCB0eXBlKSB7XG4gICAgaWYgKCFsZWdhY3lQcm9wcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY29udmVydGVkID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbGVnYWN5UHJvcHMpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2F0dHJzJyB8fCBrZXkgPT09ICdkb21Qcm9wcycgfHwga2V5ID09PSAncHJvcHMnKSB7XG4gICAgICAgICAgICBleHRlbmQoY29udmVydGVkLCBsZWdhY3lQcm9wc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdvbicgfHwga2V5ID09PSAnbmF0aXZlT24nKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBsZWdhY3lQcm9wc1trZXldO1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGFuZGxlcktleSA9IGNvbnZlcnRMZWdhY3lFdmVudEtleShldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25hdGl2ZU9uJylcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcktleSArPSBgTmF0aXZlYDtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IGNvbnZlcnRlZFtoYW5kbGVyS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmNvbWluZyA9IGxpc3RlbmVyc1tldmVudF07XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nICE9PSBpbmNvbWluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZFtoYW5kbGVyS2V5XSA9IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVkW2hhbmRsZXJLZXldID0gaW5jb21pbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXNraXBMZWdhY3lSb290TGV2ZWxQcm9wcyhrZXkpKSB7XG4gICAgICAgICAgICBjb252ZXJ0ZWRba2V5XSA9IGxlZ2FjeVByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxlZ2FjeVByb3BzLnN0YXRpY0NsYXNzKSB7XG4gICAgICAgIGNvbnZlcnRlZC5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtsZWdhY3lQcm9wcy5zdGF0aWNDbGFzcywgY29udmVydGVkLmNsYXNzXSk7XG4gICAgfVxuICAgIGlmIChsZWdhY3lQcm9wcy5zdGF0aWNTdHlsZSkge1xuICAgICAgICBjb252ZXJ0ZWQuc3R5bGUgPSBub3JtYWxpemVTdHlsZShbbGVnYWN5UHJvcHMuc3RhdGljU3R5bGUsIGNvbnZlcnRlZC5zdHlsZV0pO1xuICAgIH1cbiAgICBpZiAobGVnYWN5UHJvcHMubW9kZWwgJiYgaXNPYmplY3QodHlwZSkpIHtcbiAgICAgICAgLy8gdjIgY29tcGlsZWQgY29tcG9uZW50IHYtbW9kZWxcbiAgICAgICAgY29uc3QgeyBwcm9wID0gJ3ZhbHVlJywgZXZlbnQgPSAnaW5wdXQnIH0gPSB0eXBlLm1vZGVsIHx8IHt9O1xuICAgICAgICBjb252ZXJ0ZWRbcHJvcF0gPSBsZWdhY3lQcm9wcy5tb2RlbC52YWx1ZTtcbiAgICAgICAgY29udmVydGVkW2NvbXBhdE1vZGVsRXZlbnRQcmVmaXggKyBldmVudF0gPSBsZWdhY3lQcm9wcy5tb2RlbC5jYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIGNvbnZlcnRlZDtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lFdmVudEtleShldmVudCkge1xuICAgIC8vIG5vcm1hbGl6ZSB2MiBldmVudCBwcmVmaXhlc1xuICAgIGlmIChldmVudFswXSA9PT0gJyYnKSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQuc2xpY2UoMSkgKyAnUGFzc2l2ZSc7XG4gICAgfVxuICAgIGlmIChldmVudFswXSA9PT0gJ34nKSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQuc2xpY2UoMSkgKyAnT25jZSc7XG4gICAgfVxuICAgIGlmIChldmVudFswXSA9PT0gJyEnKSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQuc2xpY2UoMSkgKyAnQ2FwdHVyZSc7XG4gICAgfVxuICAgIHJldHVybiB0b0hhbmRsZXJLZXkoZXZlbnQpO1xufVxuZnVuY3Rpb24gY29udmVydExlZ2FjeURpcmVjdGl2ZXModm5vZGUsIHByb3BzKSB7XG4gICAgaWYgKHByb3BzICYmIHByb3BzLmRpcmVjdGl2ZXMpIHtcbiAgICAgICAgcmV0dXJuIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBwcm9wcy5kaXJlY3RpdmVzLm1hcCgoeyBuYW1lLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICByZXNvbHZlRGlyZWN0aXZlKG5hbWUpLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIGFyZyxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnNcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY29udmVydExlZ2FjeVNsb3RzKHZub2RlKSB7XG4gICAgY29uc3QgeyBwcm9wcywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICAgIGxldCBzbG90cztcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLyAmJiBpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICBzbG90cyA9IHt9O1xuICAgICAgICAvLyBjaGVjayBcInNsb3RcIiBwcm9wZXJ0eSBvbiB2bm9kZXMgYW5kIHR1cm4gdGhlbSBpbnRvIHYzIGZ1bmN0aW9uIHNsb3RzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICBjb25zdCBzbG90TmFtZSA9IChpc1ZOb2RlKGNoaWxkKSAmJiBjaGlsZC5wcm9wcyAmJiBjaGlsZC5wcm9wcy5zbG90KSB8fCAnZGVmYXVsdCc7XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gc2xvdHNbc2xvdE5hbWVdIHx8IChzbG90c1tzbG90TmFtZV0gPSBbXSk7XG4gICAgICAgICAgICBpZiAoaXNWTm9kZShjaGlsZCkgJiYgY2hpbGQudHlwZSA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAgICAgICAgIHNsb3QucHVzaChjaGlsZC5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzbG90LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzbG90cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG90Q2hpbGRyZW4gPSBzbG90c1trZXldO1xuICAgICAgICAgICAgICAgIHNsb3RzW2tleV0gPSAoKSA9PiBzbG90Q2hpbGRyZW47XG4gICAgICAgICAgICAgICAgc2xvdHNba2V5XS5fbnMgPSB0cnVlOyAvKiBub24tc2NvcGVkIHNsb3QgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzY29wZWRTbG90cyA9IHByb3BzICYmIHByb3BzLnNjb3BlZFNsb3RzO1xuICAgIGlmIChzY29wZWRTbG90cykge1xuICAgICAgICBkZWxldGUgcHJvcHMuc2NvcGVkU2xvdHM7XG4gICAgICAgIGlmIChzbG90cykge1xuICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBzY29wZWRTbG90cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzbG90cyA9IHNjb3BlZFNsb3RzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzbG90cykge1xuICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgc2xvdHMpO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBkZWZpbmVMZWdhY3lWTm9kZVByb3BlcnRpZXModm5vZGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi8sIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgdHJ1ZSAvKiBlbmFibGUgZm9yIGJ1aWx0LWlucyAqLykgJiZcbiAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiUFJJVkFURV9BUElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUklWQVRFX0FQSVMgKi8sIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgdHJ1ZSAvKiBlbmFibGUgZm9yIGJ1aWx0LWlucyAqLykpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICAgICAgY29uc3QgZ2V0SW5zdGFuY2UgPSAoKSA9PiB2bm9kZS5jb21wb25lbnQgJiYgdm5vZGUuY29tcG9uZW50LnByb3h5O1xuICAgICAgICBsZXQgY29tcG9uZW50T3B0aW9ucztcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModm5vZGUsIHtcbiAgICAgICAgICAgIHRhZzogeyBnZXQ6ICgpID0+IHZub2RlLnR5cGUgfSxcbiAgICAgICAgICAgIGRhdGE6IHsgZ2V0OiAoKSA9PiB2bm9kZS5wcm9wcyB8fCB7fSwgc2V0OiBwID0+ICh2bm9kZS5wcm9wcyA9IHApIH0sXG4gICAgICAgICAgICBlbG06IHsgZ2V0OiAoKSA9PiB2bm9kZS5lbCB9LFxuICAgICAgICAgICAgY29tcG9uZW50SW5zdGFuY2U6IHsgZ2V0OiBnZXRJbnN0YW5jZSB9LFxuICAgICAgICAgICAgY2hpbGQ6IHsgZ2V0OiBnZXRJbnN0YW5jZSB9LFxuICAgICAgICAgICAgdGV4dDogeyBnZXQ6ICgpID0+IChpc1N0cmluZyh2bm9kZS5jaGlsZHJlbikgPyB2bm9kZS5jaGlsZHJlbiA6IG51bGwpIH0sXG4gICAgICAgICAgICBjb250ZXh0OiB7IGdldDogKCkgPT4gY29udGV4dCAmJiBjb250ZXh0LnByb3h5IH0sXG4gICAgICAgICAgICBjb21wb25lbnRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50T3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRPcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb21wb25lbnRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN0b3I6IHZub2RlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNEYXRhOiB2bm9kZS5wcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogdm5vZGUuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNvbnN0IG5vcm1hbGl6ZWRGdW5jdGlvbmFsQ29tcG9uZW50TWFwID0gbmV3IE1hcCgpO1xuY29uc3QgbGVnYWN5U2xvdFByb3h5SGFuZGxlcnMgPSB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgcmV0dXJuIHNsb3QgJiYgc2xvdCgpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5RnVuY3Rpb25hbENvbXBvbmVudChjb21wKSB7XG4gICAgaWYgKG5vcm1hbGl6ZWRGdW5jdGlvbmFsQ29tcG9uZW50TWFwLmhhcyhjb21wKSkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEZ1bmN0aW9uYWxDb21wb25lbnRNYXAuZ2V0KGNvbXApO1xuICAgIH1cbiAgICBjb25zdCBsZWdhY3lGbiA9IGNvbXAucmVuZGVyO1xuICAgIGNvbnN0IEZ1bmMgPSAocHJvcHMsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBjb25zdCBsZWdhY3lDdHggPSB7XG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBpbnN0YW5jZS52bm9kZS5jaGlsZHJlbiB8fCBbXSxcbiAgICAgICAgICAgIGRhdGE6IGluc3RhbmNlLnZub2RlLnByb3BzIHx8IHt9LFxuICAgICAgICAgICAgc2NvcGVkU2xvdHM6IGN0eC5zbG90cyxcbiAgICAgICAgICAgIHBhcmVudDogaW5zdGFuY2UucGFyZW50ICYmIGluc3RhbmNlLnBhcmVudC5wcm94eSxcbiAgICAgICAgICAgIHNsb3RzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkoY3R4LnNsb3RzLCBsZWdhY3lTbG90UHJveHlIYW5kbGVycyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGxpc3RlbmVycygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcGF0TGlzdGVuZXJzKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaW5qZWN0aW9ucygpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcC5pbmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5qZWN0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlSW5qZWN0aW9ucyhjb21wLmluamVjdCwgaW5qZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3Rpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBsZWdhY3lGbihjb21wYXRILCBsZWdhY3lDdHgpO1xuICAgIH07XG4gICAgRnVuYy5wcm9wcyA9IGNvbXAucHJvcHM7XG4gICAgRnVuYy5kaXNwbGF5TmFtZSA9IGNvbXAubmFtZTtcbiAgICBGdW5jLmNvbXBhdENvbmZpZyA9IGNvbXAuY29tcGF0Q29uZmlnO1xuICAgIC8vIHYyIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBkbyBub3QgaW5oZXJpdCBhdHRyc1xuICAgIEZ1bmMuaW5oZXJpdEF0dHJzID0gZmFsc2U7XG4gICAgbm9ybWFsaXplZEZ1bmN0aW9uYWxDb21wb25lbnRNYXAuc2V0KGNvbXAsIEZ1bmMpO1xuICAgIHJldHVybiBGdW5jO1xufVxuXG4vKipcbiAqIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxuICovXG5mdW5jdGlvbiByZW5kZXJMaXN0KHNvdXJjZSwgcmVuZGVySXRlbSwgY2FjaGUsIGluZGV4KSB7XG4gICAgbGV0IHJldDtcbiAgICBjb25zdCBjYWNoZWQgPSAoY2FjaGUgJiYgY2FjaGVbaW5kZXhdKTtcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHNvdXJjZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2ldLCBpLCB1bmRlZmluZWQsIGNhY2hlZCAmJiBjYWNoZWRbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xuICAgICAgICAgICAgd2FybiQxKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlOyBpKyspIHtcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oaSArIDEsIGksIHVuZGVmaW5lZCwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgICBpZiAoc291cmNlW1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgICAgICAgIHJldCA9IEFycmF5LmZyb20oc291cmNlLCAoaXRlbSwgaSkgPT4gcmVuZGVySXRlbShpdGVtLCBpLCB1bmRlZmluZWQsIGNhY2hlZCAmJiBjYWNoZWRbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICAgICAgcmV0ID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2tleV0sIGtleSwgaSwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldCA9IFtdO1xuICAgIH1cbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgY2FjaGVbaW5kZXhdID0gcmV0O1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG4vKipcbiAqIENvbXBpbGVyIHJ1bnRpbWUgaGVscGVyIGZvciBjcmVhdGluZyBkeW5hbWljIHNsb3RzIG9iamVjdFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2xvdHMoc2xvdHMsIGR5bmFtaWNTbG90cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XG4gICAgICAgIC8vIGFycmF5IG9mIGR5bmFtaWMgc2xvdCBnZW5lcmF0ZWQgYnkgPHRlbXBsYXRlIHYtZm9yPVwiLi4uXCIgI1suLi5dPlxuICAgICAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgc2xvdHNbc2xvdFtqXS5uYW1lXSA9IHNsb3Rbal0uZm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2xvdCkge1xuICAgICAgICAgICAgLy8gY29uZGl0aW9uYWwgc2luZ2xlIHNsb3QgZ2VuZXJhdGVkIGJ5IDx0ZW1wbGF0ZSB2LWlmPVwiLi4uXCIgI2Zvbz5cbiAgICAgICAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmtleVxuICAgICAgICAgICAgICAgID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gc2xvdC5mbiguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0YWNoIGJyYW5jaCBrZXkgc28gZWFjaCBjb25kaXRpb25hbCBicmFuY2ggaXMgY29uc2lkZXJlZCBhXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBmcmFnbWVudFxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmtleSA9IHNsb3Qua2V5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHNsb3QuZm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNsb3RzO1xufVxuXG4vKipcbiAqIENvbXBpbGVyIHJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgYDxzbG90Lz5gXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZW5kZXJTbG90KHNsb3RzLCBuYW1lLCBwcm9wcyA9IHt9LCBcbi8vIHRoaXMgaXMgbm90IGEgdXNlci1mYWNpbmcgZnVuY3Rpb24sIHNvIHRoZSBmYWxsYmFjayBpcyBhbHdheXMgZ2VuZXJhdGVkIGJ5XG4vLyB0aGUgY29tcGlsZXIgYW5kIGd1YXJhbnRlZWQgdG8gYmUgYSBmdW5jdGlvbiByZXR1cm5pbmcgYW4gYXJyYXlcbmZhbGxiYWNrLCBub1Nsb3R0ZWQpIHtcbiAgICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLmlzQ0UgfHxcbiAgICAgICAgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQgJiZcbiAgICAgICAgICAgIGlzQXN5bmNXcmFwcGVyKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQpICYmXG4gICAgICAgICAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UucGFyZW50LmlzQ0UpKSB7XG4gICAgICAgIGlmIChuYW1lICE9PSAnZGVmYXVsdCcpXG4gICAgICAgICAgICBwcm9wcy5uYW1lID0gbmFtZTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKCdzbG90JywgcHJvcHMsIGZhbGxiYWNrICYmIGZhbGxiYWNrKCkpO1xuICAgIH1cbiAgICBsZXQgc2xvdCA9IHNsb3RzW25hbWVdO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgd2FybiQxKGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgYCArXG4gICAgICAgICAgICBgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgYCArXG4gICAgICAgICAgICBgcGFyZW50IHRlbXBsYXRlLmApO1xuICAgICAgICBzbG90ID0gKCkgPT4gW107XG4gICAgfVxuICAgIC8vIGEgY29tcGlsZWQgc2xvdCBkaXNhYmxlcyBibG9jayB0cmFja2luZyBieSBkZWZhdWx0IHRvIGF2b2lkIG1hbnVhbFxuICAgIC8vIGludm9jYXRpb24gaW50ZXJmZXJpbmcgd2l0aCB0ZW1wbGF0ZS1iYXNlZCBibG9jayB0cmFja2luZywgYnV0IGluXG4gICAgLy8gYHJlbmRlclNsb3RgIHdlIGNhbiBiZSBzdXJlIHRoYXQgaXQncyB0ZW1wbGF0ZS1iYXNlZCBzbyB3ZSBjYW4gZm9yY2VcbiAgICAvLyBlbmFibGUgaXQuXG4gICAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xuICAgICAgICBzbG90Ll9kID0gZmFsc2U7XG4gICAgfVxuICAgIG9wZW5CbG9jaygpO1xuICAgIGNvbnN0IHZhbGlkU2xvdENvbnRlbnQgPSBzbG90ICYmIGVuc3VyZVZhbGlkVk5vZGUoc2xvdChwcm9wcykpO1xuICAgIGNvbnN0IHJlbmRlcmVkID0gY3JlYXRlQmxvY2soRnJhZ21lbnQsIHtcbiAgICAgICAga2V5OiBwcm9wcy5rZXkgfHxcbiAgICAgICAgICAgIC8vIHNsb3QgY29udGVudCBhcnJheSBvZiBhIGR5bmFtaWMgY29uZGl0aW9uYWwgc2xvdCBtYXkgaGF2ZSBhIGJyYW5jaFxuICAgICAgICAgICAgLy8ga2V5IGF0dGFjaGVkIGluIHRoZSBgY3JlYXRlU2xvdHNgIGhlbHBlciwgcmVzcGVjdCB0aGF0XG4gICAgICAgICAgICAodmFsaWRTbG90Q29udGVudCAmJiB2YWxpZFNsb3RDb250ZW50LmtleSkgfHxcbiAgICAgICAgICAgIGBfJHtuYW1lfWBcbiAgICB9LCB2YWxpZFNsb3RDb250ZW50IHx8IChmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBbXSksIHZhbGlkU2xvdENvbnRlbnQgJiYgc2xvdHMuXyA9PT0gMSAvKiBTbG90RmxhZ3MuU1RBQkxFICovXG4gICAgICAgID8gNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi9cbiAgICAgICAgOiAtMiAvKiBQYXRjaEZsYWdzLkJBSUwgKi8pO1xuICAgIGlmICghbm9TbG90dGVkICYmIHJlbmRlcmVkLnNjb3BlSWQpIHtcbiAgICAgICAgcmVuZGVyZWQuc2xvdFNjb3BlSWRzID0gW3JlbmRlcmVkLnNjb3BlSWQgKyAnLXMnXTtcbiAgICB9XG4gICAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xuICAgICAgICBzbG90Ll9kID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVkO1xufVxuZnVuY3Rpb24gZW5zdXJlVmFsaWRWTm9kZSh2bm9kZXMpIHtcbiAgICByZXR1cm4gdm5vZGVzLnNvbWUoY2hpbGQgPT4ge1xuICAgICAgICBpZiAoIWlzVk5vZGUoY2hpbGQpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBDb21tZW50KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQgJiZcbiAgICAgICAgICAgICFlbnN1cmVWYWxpZFZOb2RlKGNoaWxkLmNoaWxkcmVuKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSlcbiAgICAgICAgPyB2bm9kZXNcbiAgICAgICAgOiBudWxsO1xufVxuXG4vKipcbiAqIEZvciBwcmVmaXhpbmcga2V5cyBpbiB2LW9uPVwib2JqXCIgd2l0aCBcIm9uXCJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqLCBwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSkge1xuICAgIGNvbnN0IHJldCA9IHt9O1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgd2FybiQxKGB2LW9uIHdpdGggbm8gYXJndW1lbnQgZXhwZWN0cyBhbiBvYmplY3QgdmFsdWUuYCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICByZXRbcHJlc2VydmVDYXNlSWZOZWNlc3NhcnkgJiYgL1tBLVpdLy50ZXN0KGtleSlcbiAgICAgICAgICAgID8gYG9uOiR7a2V5fWBcbiAgICAgICAgICAgIDogdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KGFycikge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJbaV0pIHtcbiAgICAgICAgICAgIGV4dGVuZChyZXMsIGFycltpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGxlZ2FjeUJpbmRPYmplY3RQcm9wcyhkYXRhLCBfdGFnLCB2YWx1ZSwgX2FzUHJvcCwgaXNTeW5jKSB7XG4gICAgaWYgKHZhbHVlICYmIGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdG9PYmplY3QodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmNsYXNzID0gbm9ybWFsaXplQ2xhc3MoW2RhdGEuY2xhc3MsIHZhbHVlLmNsYXNzXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnN0eWxlID0gbm9ybWFsaXplQ2xhc3MoW2RhdGEuc3R5bGUsIHZhbHVlLnN0eWxlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRycyA9IGRhdGEuYXR0cnMgfHwgKGRhdGEuYXR0cnMgPSB7fSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBoeXBoZW5hdGVkS2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCEoY2FtZWxpemVkS2V5IGluIGF0dHJzKSAmJiAhKGh5cGhlbmF0ZWRLZXkgaW4gYXR0cnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbiA9IGRhdGEub24gfHwgKGRhdGEub24gPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbltgdXBkYXRlOiR7a2V5fWBdID0gZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tleV0gPSAkZXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gbGVnYWN5QmluZE9iamVjdExpc3RlbmVycyhwcm9wcywgbGlzdGVuZXJzKSB7XG4gICAgcmV0dXJuIG1lcmdlUHJvcHMocHJvcHMsIHRvSGFuZGxlcnMobGlzdGVuZXJzKSk7XG59XG5mdW5jdGlvbiBsZWdhY3lSZW5kZXJTbG90KGluc3RhbmNlLCBuYW1lLCBmYWxsYmFjaywgcHJvcHMsIGJpbmRPYmplY3QpIHtcbiAgICBpZiAoYmluZE9iamVjdCkge1xuICAgICAgICBwcm9wcyA9IG1lcmdlUHJvcHMocHJvcHMsIGJpbmRPYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyU2xvdChpbnN0YW5jZS5zbG90cywgbmFtZSwgcHJvcHMsIGZhbGxiYWNrICYmICgoKSA9PiBmYWxsYmFjaykpO1xufVxuZnVuY3Rpb24gbGVnYWN5cmVzb2x2ZVNjb3BlZFNsb3RzKGZucywgcmF3LCBcbi8vIHRoZSBmb2xsb3dpbmcgYXJlIGFkZGVkIGluIDIuNlxuaGFzRHluYW1pY0tleXMpIHtcbiAgICAvLyB2MiBkZWZhdWx0IHNsb3QgZG9lc24ndCBoYXZlIG5hbWVcbiAgICByZXR1cm4gY3JlYXRlU2xvdHMocmF3IHx8IHsgJHN0YWJsZTogIWhhc0R5bmFtaWNLZXlzIH0sIG1hcEtleVRvTmFtZShmbnMpKTtcbn1cbmZ1bmN0aW9uIG1hcEtleVRvTmFtZShzbG90cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xvdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZm4gPSBzbG90c1tpXTtcbiAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShmbikpIHtcbiAgICAgICAgICAgICAgICBtYXBLZXlUb05hbWUoZm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm4ubmFtZSA9IGZuLmtleSB8fCAnZGVmYXVsdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNsb3RzO1xufVxuY29uc3Qgc3RhdGljQ2FjaGVNYXAgPSAvKiNfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBsZWdhY3lSZW5kZXJTdGF0aWMoaW5zdGFuY2UsIGluZGV4KSB7XG4gICAgbGV0IGNhY2hlID0gc3RhdGljQ2FjaGVNYXAuZ2V0KGluc3RhbmNlKTtcbiAgICBpZiAoIWNhY2hlKSB7XG4gICAgICAgIHN0YXRpY0NhY2hlTWFwLnNldChpbnN0YW5jZSwgKGNhY2hlID0gW10pKTtcbiAgICB9XG4gICAgaWYgKGNhY2hlW2luZGV4XSkge1xuICAgICAgICByZXR1cm4gY2FjaGVbaW5kZXhdO1xuICAgIH1cbiAgICBjb25zdCBmbiA9IGluc3RhbmNlLnR5cGUuc3RhdGljUmVuZGVyRm5zW2luZGV4XTtcbiAgICBjb25zdCBjdHggPSBpbnN0YW5jZS5wcm94eTtcbiAgICByZXR1cm4gKGNhY2hlW2luZGV4XSA9IGZuLmNhbGwoY3R4LCBudWxsLCBjdHgpKTtcbn1cbmZ1bmN0aW9uIGxlZ2FjeUNoZWNrS2V5Q29kZXMoaW5zdGFuY2UsIGV2ZW50S2V5Q29kZSwga2V5LCBidWlsdEluS2V5Q29kZSwgZXZlbnRLZXlOYW1lLCBidWlsdEluS2V5TmFtZSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnO1xuICAgIGNvbnN0IGNvbmZpZ0tleUNvZGVzID0gY29uZmlnLmtleUNvZGVzIHx8IHt9O1xuICAgIGNvbnN0IG1hcHBlZEtleUNvZGUgPSBjb25maWdLZXlDb2Rlc1trZXldIHx8IGJ1aWx0SW5LZXlDb2RlO1xuICAgIGlmIChidWlsdEluS2V5TmFtZSAmJiBldmVudEtleU5hbWUgJiYgIWNvbmZpZ0tleUNvZGVzW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2goYnVpbHRJbktleU5hbWUsIGV2ZW50S2V5TmFtZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1hcHBlZEtleUNvZGUpIHtcbiAgICAgICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2gobWFwcGVkS2V5Q29kZSwgZXZlbnRLZXlDb2RlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnRLZXlOYW1lKSB7XG4gICAgICAgIHJldHVybiBoeXBoZW5hdGUoZXZlbnRLZXlOYW1lKSAhPT0ga2V5O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzS2V5Tm90TWF0Y2goZXhwZWN0LCBhY3R1YWwpIHtcbiAgICBpZiAoaXNBcnJheShleHBlY3QpKSB7XG4gICAgICAgIHJldHVybiAhZXhwZWN0LmluY2x1ZGVzKGFjdHVhbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZXhwZWN0ICE9PSBhY3R1YWw7XG4gICAgfVxufVxuZnVuY3Rpb24gbGVnYWN5TWFya09uY2UodHJlZSkge1xuICAgIHJldHVybiB0cmVlO1xufVxuZnVuY3Rpb24gbGVnYWN5QmluZER5bmFtaWNLZXlzKHByb3BzLCB2YWx1ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBrZXkgPSB2YWx1ZXNbaV07XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkpIHtcbiAgICAgICAgICAgIHByb3BzW3ZhbHVlc1tpXV0gPSB2YWx1ZXNbaSArIDFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIGxlZ2FjeVByZXBlbmRNb2RpZmllcih2YWx1ZSwgc3ltYm9sKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBzeW1ib2wgKyB2YWx1ZSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBpbnN0YWxsQ29tcGF0SW5zdGFuY2VQcm9wZXJ0aWVzKG1hcCkge1xuICAgIGNvbnN0IHNldCA9ICh0YXJnZXQsIGtleSwgdmFsKSA9PiB7XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsO1xuICAgIH07XG4gICAgY29uc3QgZGVsID0gKHRhcmdldCwga2V5KSA9PiB7XG4gICAgICAgIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgICB9O1xuICAgIGV4dGVuZChtYXAsIHtcbiAgICAgICAgJHNldDogaSA9PiB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfU0VUXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9TRVQgKi8sIGkpO1xuICAgICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgfSxcbiAgICAgICAgJGRlbGV0ZTogaSA9PiB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfREVMRVRFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9ERUxFVEUgKi8sIGkpO1xuICAgICAgICAgICAgcmV0dXJuIGRlbDtcbiAgICAgICAgfSxcbiAgICAgICAgJG1vdW50OiBpID0+IHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJHTE9CQUxfTU9VTlRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9NT1VOVCAqLywgbnVsbCAvKiB0aGlzIHdhcm5pbmcgaXMgZ2xvYmFsICovKTtcbiAgICAgICAgICAgIC8vIHJvb3QgbW91bnQgb3ZlcnJpZGUgZnJvbSAuL2dsb2JhbC50cyBpbiBpbnN0YWxsQ29tcGF0TW91bnRcbiAgICAgICAgICAgIHJldHVybiBpLmN0eC5fY29tcGF0X21vdW50IHx8IE5PT1A7XG4gICAgICAgIH0sXG4gICAgICAgICRkZXN0cm95OiBpID0+IHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9ERVNUUk9ZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9ERVNUUk9ZICovLCBpKTtcbiAgICAgICAgICAgIC8vIHJvb3QgZGVzdHJveSBvdmVycmlkZSBmcm9tIC4vZ2xvYmFsLnRzIGluIGluc3RhbGxDb21wYXRNb3VudFxuICAgICAgICAgICAgcmV0dXJuIGkuY3R4Ll9jb21wYXRfZGVzdHJveSB8fCBOT09QO1xuICAgICAgICB9LFxuICAgICAgICAvLyBvdmVycmlkZXMgZXhpc3RpbmcgYWNjZXNzb3JcbiAgICAgICAgJHNsb3RzOiBpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqLywgaSkgJiZcbiAgICAgICAgICAgICAgICBpLnJlbmRlciAmJlxuICAgICAgICAgICAgICAgIGkucmVuZGVyLl9jb21wYXRXcmFwcGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShpLnNsb3RzLCBsZWdhY3lTbG90UHJveHlIYW5kbGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuc2xvdHMpIDogaS5zbG90cztcbiAgICAgICAgfSxcbiAgICAgICAgJHNjb3BlZFNsb3RzOiBpID0+IHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9TQ09QRURfU0xPVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX1NDT1BFRF9TTE9UUyAqLywgaSk7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGkuc2xvdHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmbiA9IGkuc2xvdHNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoIWZuLl9ucyAvKiBub24tc2NvcGVkIHNsb3QgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzW2tleV0gPSBmbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LFxuICAgICAgICAkb246IGkgPT4gb24uYmluZChudWxsLCBpKSxcbiAgICAgICAgJG9uY2U6IGkgPT4gb25jZS5iaW5kKG51bGwsIGkpLFxuICAgICAgICAkb2ZmOiBpID0+IG9mZi5iaW5kKG51bGwsIGkpLFxuICAgICAgICAkY2hpbGRyZW46IGdldENvbXBhdENoaWxkcmVuLFxuICAgICAgICAkbGlzdGVuZXJzOiBnZXRDb21wYXRMaXN0ZW5lcnNcbiAgICB9KTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiUFJJVkFURV9BUElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUklWQVRFX0FQSVMgKi8sIG51bGwpKSB7XG4gICAgICAgIGV4dGVuZChtYXAsIHtcbiAgICAgICAgICAgIC8vIG5lZWRlZCBieSBtYW55IGxpYnMgLyByZW5kZXIgZm5zXG4gICAgICAgICAgICAkdm5vZGU6IGkgPT4gaS52bm9kZSxcbiAgICAgICAgICAgIC8vIGluamVjdCBhZGRpdGlvbmFsIHByb3BlcnRpZXMgaW50byAkb3B0aW9ucyBmb3IgY29tcGF0XG4gICAgICAgICAgICAvLyBlLmcuIHZ1ZXggbmVlZHMgdGhpcy4kb3B0aW9ucy5wYXJlbnRcbiAgICAgICAgICAgICRvcHRpb25zOiBpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBleHRlbmQoe30sIHJlc29sdmVNZXJnZWRPcHRpb25zKGkpKTtcbiAgICAgICAgICAgICAgICByZXMucGFyZW50ID0gaS5wcm94eS4kcGFyZW50O1xuICAgICAgICAgICAgICAgIHJlcy5wcm9wc0RhdGEgPSBpLnZub2RlLnByb3BzO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gc29tZSBwcml2YXRlIHByb3BlcnRpZXMgdGhhdCBhcmUgbGlrZWx5IGFjY2Vzc2VkLi4uXG4gICAgICAgICAgICBfc2VsZjogaSA9PiBpLnByb3h5LFxuICAgICAgICAgICAgX3VpZDogaSA9PiBpLnVpZCxcbiAgICAgICAgICAgIF9kYXRhOiBpID0+IGkuZGF0YSxcbiAgICAgICAgICAgIF9pc01vdW50ZWQ6IGkgPT4gaS5pc01vdW50ZWQsXG4gICAgICAgICAgICBfaXNEZXN0cm95ZWQ6IGkgPT4gaS5pc1VubW91bnRlZCxcbiAgICAgICAgICAgIC8vIHYyIHJlbmRlciBoZWxwZXJzXG4gICAgICAgICAgICAkY3JlYXRlRWxlbWVudDogKCkgPT4gY29tcGF0SCxcbiAgICAgICAgICAgIF9jOiAoKSA9PiBjb21wYXRILFxuICAgICAgICAgICAgX286ICgpID0+IGxlZ2FjeU1hcmtPbmNlLFxuICAgICAgICAgICAgX246ICgpID0+IHRvTnVtYmVyLFxuICAgICAgICAgICAgX3M6ICgpID0+IHRvRGlzcGxheVN0cmluZyxcbiAgICAgICAgICAgIF9sOiAoKSA9PiByZW5kZXJMaXN0LFxuICAgICAgICAgICAgX3Q6IGkgPT4gbGVnYWN5UmVuZGVyU2xvdC5iaW5kKG51bGwsIGkpLFxuICAgICAgICAgICAgX3E6ICgpID0+IGxvb3NlRXF1YWwsXG4gICAgICAgICAgICBfaTogKCkgPT4gbG9vc2VJbmRleE9mLFxuICAgICAgICAgICAgX206IGkgPT4gbGVnYWN5UmVuZGVyU3RhdGljLmJpbmQobnVsbCwgaSksXG4gICAgICAgICAgICBfZjogKCkgPT4gcmVzb2x2ZUZpbHRlcixcbiAgICAgICAgICAgIF9rOiBpID0+IGxlZ2FjeUNoZWNrS2V5Q29kZXMuYmluZChudWxsLCBpKSxcbiAgICAgICAgICAgIF9iOiAoKSA9PiBsZWdhY3lCaW5kT2JqZWN0UHJvcHMsXG4gICAgICAgICAgICBfdjogKCkgPT4gY3JlYXRlVGV4dFZOb2RlLFxuICAgICAgICAgICAgX2U6ICgpID0+IGNyZWF0ZUNvbW1lbnRWTm9kZSxcbiAgICAgICAgICAgIF91OiAoKSA9PiBsZWdhY3lyZXNvbHZlU2NvcGVkU2xvdHMsXG4gICAgICAgICAgICBfZzogKCkgPT4gbGVnYWN5QmluZE9iamVjdExpc3RlbmVycyxcbiAgICAgICAgICAgIF9kOiAoKSA9PiBsZWdhY3lCaW5kRHluYW1pY0tleXMsXG4gICAgICAgICAgICBfcDogKCkgPT4gbGVnYWN5UHJlcGVuZE1vZGlmaWVyXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLyoqXG4gKiAjMjQzNyBJbiBWdWUgMywgZnVuY3Rpb25hbCBjb21wb25lbnRzIGRvIG5vdCBoYXZlIGEgcHVibGljIGluc3RhbmNlIHByb3h5IGJ1dFxuICogdGhleSBleGlzdCBpbiB0aGUgaW50ZXJuYWwgcGFyZW50IGNoYWluLiBGb3IgY29kZSB0aGF0IHJlbGllcyBvbiB0cmF2ZXJzaW5nXG4gKiBwdWJsaWMgJHBhcmVudCBjaGFpbnMsIHNraXAgZnVuY3Rpb25hbCBvbmVzIGFuZCBnbyB0byB0aGUgcGFyZW50IGluc3RlYWQuXG4gKi9cbmNvbnN0IGdldFB1YmxpY0luc3RhbmNlID0gKGkpID0+IHtcbiAgICBpZiAoIWkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KGkpKVxuICAgICAgICByZXR1cm4gZ2V0RXhwb3NlUHJveHkoaSkgfHwgaS5wcm94eTtcbiAgICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xufTtcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSBcbi8vIE1vdmUgUFVSRSBtYXJrZXIgdG8gbmV3IGxpbmUgdG8gd29ya2Fyb3VuZCBjb21waWxlciBkaXNjYXJkaW5nIGl0XG4vLyBkdWUgdG8gdHlwZSBhbm5vdGF0aW9uXG4vKiNfX1BVUkVfXyovIGV4dGVuZChPYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gICAgJDogaSA9PiBpLFxuICAgICRlbDogaSA9PiBpLnZub2RlLmVsLFxuICAgICRkYXRhOiBpID0+IGkuZGF0YSxcbiAgICAkcHJvcHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMpLFxuICAgICRhdHRyczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuYXR0cnMpIDogaS5hdHRycyksXG4gICAgJHNsb3RzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5zbG90cykgOiBpLnNsb3RzKSxcbiAgICAkcmVmczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMpLFxuICAgICRwYXJlbnQ6IGkgPT4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpLFxuICAgICRyb290OiBpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucm9vdCksXG4gICAgJGVtaXQ6IGkgPT4gaS5lbWl0LFxuICAgICRvcHRpb25zOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaSkgOiBpLnR5cGUpLFxuICAgICRmb3JjZVVwZGF0ZTogaSA9PiBpLmYgfHwgKGkuZiA9ICgpID0+IHF1ZXVlSm9iKGkudXBkYXRlKSksXG4gICAgJG5leHRUaWNrOiBpID0+IGkubiB8fCAoaS5uID0gbmV4dFRpY2suYmluZChpLnByb3h5KSksXG4gICAgJHdhdGNoOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gaW5zdGFuY2VXYXRjaC5iaW5kKGkpIDogTk9PUClcbn0pO1xue1xuICAgIGluc3RhbGxDb21wYXRJbnN0YW5jZVByb3BlcnRpZXMocHVibGljUHJvcGVydGllc01hcCk7XG59XG5jb25zdCBpc1Jlc2VydmVkUHJlZml4ID0gKGtleSkgPT4ga2V5ID09PSAnXycgfHwga2V5ID09PSAnJCc7XG5jb25zdCBoYXNTZXR1cEJpbmRpbmcgPSAoc3RhdGUsIGtleSkgPT4gc3RhdGUgIT09IEVNUFRZX09CSiAmJiAhc3RhdGUuX19pc1NjcmlwdFNldHVwICYmIGhhc093bihzdGF0ZSwga2V5KTtcbmNvbnN0IFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IHtcbiAgICBnZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXkpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUsIGRhdGEsIHByb3BzLCBhY2Nlc3NDYWNoZSwgdHlwZSwgYXBwQ29udGV4dCB9ID0gaW5zdGFuY2U7XG4gICAgICAgIC8vIGZvciBpbnRlcm5hbCBmb3JtYXR0ZXJzIHRvIGtub3cgdGhhdCB0aGlzIGlzIGEgVnVlIGluc3RhbmNlXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5ID09PSAnX19pc1Z1ZScpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRhdGEgLyBwcm9wcyAvIGN0eFxuICAgICAgICAvLyBUaGlzIGdldHRlciBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgcHJvcGVydHkgYWNjZXNzIG9uIHRoZSByZW5kZXIgY29udGV4dFxuICAgICAgICAvLyBkdXJpbmcgcmVuZGVyIGFuZCBpcyBhIG1ham9yIGhvdHNwb3QuIFRoZSBtb3N0IGV4cGVuc2l2ZSBwYXJ0IG9mIHRoaXNcbiAgICAgICAgLy8gaXMgdGhlIG11bHRpcGxlIGhhc093bigpIGNhbGxzLiBJdCdzIG11Y2ggZmFzdGVyIHRvIGRvIGEgc2ltcGxlIHByb3BlcnR5XG4gICAgICAgIC8vIGFjY2VzcyBvbiBhIHBsYWluIG9iamVjdCwgc28gd2UgdXNlIGFuIGFjY2Vzc0NhY2hlIG9iamVjdCAod2l0aCBudWxsXG4gICAgICAgIC8vIHByb3RvdHlwZSkgdG8gbWVtb2l6ZSB3aGF0IGFjY2VzcyB0eXBlIGEga2V5IGNvcnJlc3BvbmRzIHRvLlxuICAgICAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBhY2Nlc3NDYWNoZVtrZXldO1xuICAgICAgICAgICAgaWYgKG4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogQWNjZXNzVHlwZXMuU0VUVVAgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIgLyogQWNjZXNzVHlwZXMuREFUQSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBBY2Nlc3NUeXBlcy5DT05URVhUICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDMgLyogQWNjZXNzVHlwZXMuUFJPUFMgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdDoganVzdCBmYWxsdGhyb3VnaFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogQWNjZXNzVHlwZXMuU0VUVVAgKi87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAyIC8qIEFjY2Vzc1R5cGVzLkRBVEEgKi87XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgLy8gb25seSBjYWNoZSBvdGhlciBwcm9wZXJ0aWVzIHdoZW4gaW5zdGFuY2UgaGFzIGRlY2xhcmVkICh0aHVzIHN0YWJsZSlcbiAgICAgICAgICAgIC8vIHByb3BzXG4gICAgICAgICAgICAobm9ybWFsaXplZFByb3BzID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSAmJlxuICAgICAgICAgICAgICAgIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMyAvKiBBY2Nlc3NUeXBlcy5QUk9QUyAqLztcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBBY2Nlc3NUeXBlcy5DT05URVhUICovO1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFfX1ZVRV9PUFRJT05TX0FQSV9fIHx8IHNob3VsZENhY2hlQWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogQWNjZXNzVHlwZXMuT1RIRVIgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHVibGljR2V0dGVyID0gcHVibGljUHJvcGVydGllc01hcFtrZXldO1xuICAgICAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xuICAgICAgICAvLyBwdWJsaWMgJHh4eCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmIChwdWJsaWNHZXR0ZXIpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICckYXR0cnMnKSB7XG4gICAgICAgICAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywga2V5KTtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwdWJsaWNHZXR0ZXIoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAvLyBjc3MgbW9kdWxlIChpbmplY3RlZCBieSB2dWUtbG9hZGVyKVxuICAgICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmXG4gICAgICAgICAgICAoY3NzTW9kdWxlID0gY3NzTW9kdWxlW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzTW9kdWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcbiAgICAgICAgICAgIC8vIHVzZXIgbWF5IHNldCBjdXN0b20gcHJvcGVydGllcyB0byBgdGhpc2AgdGhhdCBzdGFydCB3aXRoIGAkYFxuICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogQWNjZXNzVHlwZXMuQ09OVEVYVCAqLztcbiAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgLy8gZ2xvYmFsIHByb3BlcnRpZXNcbiAgICAgICAgKChnbG9iYWxQcm9wZXJ0aWVzID0gYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyksXG4gICAgICAgICAgICBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KSkpIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzYy5nZXQuY2FsbChpbnN0YW5jZS5wcm94eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBnbG9iYWxQcm9wZXJ0aWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbih2YWwuYmluZChpbnN0YW5jZS5wcm94eSksIHZhbClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJlxuICAgICAgICAgICAgKCFpc1N0cmluZyhrZXkpIHx8XG4gICAgICAgICAgICAgICAgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcbiAgICAgICAgICAgICAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcbiAgICAgICAgICAgICAgICBrZXkuaW5kZXhPZignX192JykgIT09IDApKSB7XG4gICAgICAgICAgICBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBtdXN0IGJlIGFjY2Vzc2VkIHZpYSAkZGF0YSBiZWNhdXNlIGl0IHN0YXJ0cyB3aXRoIGEgcmVzZXJ2ZWQgYCArXG4gICAgICAgICAgICAgICAgICAgIGBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSB3YXMgYWNjZXNzZWQgZHVyaW5nIHJlbmRlciBgICtcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCBpcyBub3QgZGVmaW5lZCBvbiBpbnN0YW5jZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0KHsgXzogaW5zdGFuY2UgfSwga2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmIChoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgICAgICAgc2V0dXBTdGF0ZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwICYmXG4gICAgICAgICAgICBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKGBDYW5ub3QgbXV0YXRlIDxzY3JpcHQgc2V0dXA+IGJpbmRpbmcgXCIke2tleX1cIiBmcm9tIE9wdGlvbnMgQVBJLmApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHByb3AgXCIke2tleX1cIi4gUHJvcHMgYXJlIHJlYWRvbmx5LmApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlbMF0gPT09ICckJyAmJiBrZXkuc2xpY2UoMSkgaW4gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm4kMShgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHVibGljIHByb3BlcnR5IFwiJHtrZXl9XCIuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgUHJvcGVydGllcyBzdGFydGluZyB3aXRoICQgYXJlIHJlc2VydmVkIGFuZCByZWFkb25seS5gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5IGluIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGhhcyh7IF86IHsgZGF0YSwgc2V0dXBTdGF0ZSwgYWNjZXNzQ2FjaGUsIGN0eCwgYXBwQ29udGV4dCwgcHJvcHNPcHRpb25zIH0gfSwga2V5KSB7XG4gICAgICAgIGxldCBub3JtYWxpemVkUHJvcHM7XG4gICAgICAgIHJldHVybiAoISFhY2Nlc3NDYWNoZVtrZXldIHx8XG4gICAgICAgICAgICAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB8fFxuICAgICAgICAgICAgaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkgfHxcbiAgICAgICAgICAgICgobm9ybWFsaXplZFByb3BzID0gcHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB8fFxuICAgICAgICAgICAgaGFzT3duKGN0eCwga2V5KSB8fFxuICAgICAgICAgICAgaGFzT3duKHB1YmxpY1Byb3BlcnRpZXNNYXAsIGtleSkgfHxcbiAgICAgICAgICAgIGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpKTtcbiAgICB9LFxuICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yLmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpbnZhbGlkYXRlIGtleSBjYWNoZSBvZiBhIGdldHRlciBiYXNlZCBwcm9wZXJ0eSAjNTQxN1xuICAgICAgICAgICAgdGFyZ2V0Ll8uYWNjZXNzQ2FjaGVba2V5XSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzT3duKGRlc2NyaXB0b3IsICd2YWx1ZScpKSB7XG4gICAgICAgICAgICB0aGlzLnNldCh0YXJnZXQsIGtleSwgZGVzY3JpcHRvci52YWx1ZSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbn07XG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFmYWxzZSkge1xuICAgIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xuICAgICAgICB3YXJuJDEoYEF2b2lkIGFwcCBsb2dpYyB0aGF0IHJlbGllcyBvbiBlbnVtZXJhdGluZyBrZXlzIG9uIGEgY29tcG9uZW50IGluc3RhbmNlLiBgICtcbiAgICAgICAgICAgIGBUaGUga2V5cyB3aWxsIGJlIGVtcHR5IGluIHByb2R1Y3Rpb24gbW9kZSB0byBhdm9pZCBwZXJmb3JtYW5jZSBvdmVyaGVhZC5gKTtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICAgIH07XG59XG5jb25zdCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLCB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIC8vIGZhc3QgcGF0aCBmb3IgdW5zY29wYWJsZXMgd2hlbiB1c2luZyBgd2l0aGAgYmxvY2tcbiAgICAgICAgaWYgKGtleSA9PT0gU3ltYm9sLnVuc2NvcGFibGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5nZXQodGFyZ2V0LCBrZXksIHRhcmdldCk7XG4gICAgfSxcbiAgICBoYXMoXywga2V5KSB7XG4gICAgICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gJ18nICYmICFpc0dsb2JhbGx5V2hpdGVsaXN0ZWQoa2V5KTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGFzICYmIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5oYXMoXywga2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBfIHdoaWNoIGlzIGEgcmVzZXJ2ZWQgcHJlZml4IGZvciBWdWUgaW50ZXJuYWxzLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXM7XG4gICAgfVxufSk7XG4vLyBkZXYgb25seVxuLy8gSW4gZGV2IG1vZGUsIHRoZSBwcm94eSB0YXJnZXQgZXhwb3NlcyB0aGUgc2FtZSBwcm9wZXJ0aWVzIGFzIHNlZW4gb24gYHRoaXNgXG4vLyBmb3IgZWFzaWVyIGNvbnNvbGUgaW5zcGVjdGlvbi4gSW4gcHJvZCBtb2RlIGl0IHdpbGwgYmUgYW4gZW1wdHkgb2JqZWN0IHNvXG4vLyB0aGVzZSBwcm9wZXJ0aWVzIGRlZmluaXRpb25zIGNhbiBiZSBza2lwcGVkLlxuZnVuY3Rpb24gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgIC8vIGV4cG9zZSBpbnRlcm5hbCBpbnN0YW5jZSBmb3IgcHJveHkgaGFuZGxlcnNcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgX2AsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZVxuICAgIH0pO1xuICAgIC8vIGV4cG9zZSBwdWJsaWMgcHJvcGVydGllc1xuICAgIE9iamVjdC5rZXlzKHB1YmxpY1Byb3BlcnRpZXNNYXApLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGdldDogKCkgPT4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKSxcbiAgICAgICAgICAgIC8vIGludGVyY2VwdGVkIGJ5IHRoZSBwcm94eSBzbyBubyBuZWVkIGZvciBpbXBsZW1lbnRhdGlvbixcbiAgICAgICAgICAgIC8vIGJ1dCBuZWVkZWQgdG8gcHJldmVudCBzZXQgZXJyb3JzXG4gICAgICAgICAgICBzZXQ6IE5PT1BcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbi8vIGRldiBvbmx5XG5mdW5jdGlvbiBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICAgIGNvbnN0IHsgY3R4LCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdIH0gPSBpbnN0YW5jZTtcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHByb3BzT3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZS5wcm9wc1trZXldLFxuICAgICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIGRldiBvbmx5XG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUgfSA9IGluc3RhbmNlO1xuICAgIE9iamVjdC5rZXlzKHRvUmF3KHNldHVwU3RhdGUpKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGlmICghc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXApIHtcbiAgICAgICAgICAgIGlmIChpc1Jlc2VydmVkUHJlZml4KGtleVswXSkpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYHNldHVwKCkgcmV0dXJuIHByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIFwiJFwiIG9yIFwiX1wiIGAgK1xuICAgICAgICAgICAgICAgICAgICBgd2hpY2ggYXJlIHJlc2VydmVkIHByZWZpeGVzIGZvciBWdWUgaW50ZXJuYWxzLmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gc2V0dXBTdGF0ZVtrZXldLFxuICAgICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGVlcE1lcmdlRGF0YSh0bywgZnJvbSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICAgICAgY29uc3QgdG9WYWwgPSB0b1trZXldO1xuICAgICAgICBjb25zdCBmcm9tVmFsID0gZnJvbVtrZXldO1xuICAgICAgICBpZiAoa2V5IGluIHRvICYmIGlzUGxhaW5PYmplY3QodG9WYWwpICYmIGlzUGxhaW5PYmplY3QoZnJvbVZhbCkpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuRGVwcmVjYXRpb24oXCJPUFRJT05TX0RBVEFfTUVSR0VcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREFUQV9NRVJHRSAqLywgbnVsbCwga2V5KTtcbiAgICAgICAgICAgIGRlZXBNZXJnZURhdGEodG9WYWwsIGZyb21WYWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9ba2V5XSA9IGZyb21WYWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkge1xuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xuICAgICAgICBpZiAoY2FjaGVba2V5XSkge1xuICAgICAgICAgICAgd2FybiQxKGAke3R5cGV9IHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgYWxyZWFkeSBkZWZpbmVkIGluICR7Y2FjaGVba2V5XX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWNoZVtrZXldID0gdHlwZTtcbiAgICAgICAgfVxuICAgIH07XG59XG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKTtcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XG4gICAgY29uc3QgY3R4ID0gaW5zdGFuY2UuY3R4O1xuICAgIC8vIGRvIG5vdCBjYWNoZSBwcm9wZXJ0eSBhY2Nlc3Mgb24gcHVibGljIHByb3h5IGR1cmluZyBzdGF0ZSBpbml0aWFsaXphdGlvblxuICAgIHNob3VsZENhY2hlQWNjZXNzID0gZmFsc2U7XG4gICAgLy8gY2FsbCBiZWZvcmVDcmVhdGUgZmlyc3QgYmVmb3JlIGFjY2Vzc2luZyBvdGhlciBvcHRpb25zIHNpbmNlXG4gICAgLy8gdGhlIGhvb2sgbWF5IG11dGF0ZSByZXNvbHZlZCBvcHRpb25zICgjMjc5MSlcbiAgICBpZiAob3B0aW9ucy5iZWZvcmVDcmVhdGUpIHtcbiAgICAgICAgY2FsbEhvb2sob3B0aW9ucy5iZWZvcmVDcmVhdGUsIGluc3RhbmNlLCBcImJjXCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX0NSRUFURSAqLyk7XG4gICAgfVxuICAgIGNvbnN0IHsgXG4gICAgLy8gc3RhdGVcbiAgICBkYXRhOiBkYXRhT3B0aW9ucywgY29tcHV0ZWQ6IGNvbXB1dGVkT3B0aW9ucywgbWV0aG9kcywgd2F0Y2g6IHdhdGNoT3B0aW9ucywgcHJvdmlkZTogcHJvdmlkZU9wdGlvbnMsIGluamVjdDogaW5qZWN0T3B0aW9ucywgXG4gICAgLy8gbGlmZWN5Y2xlXG4gICAgY3JlYXRlZCwgYmVmb3JlTW91bnQsIG1vdW50ZWQsIGJlZm9yZVVwZGF0ZSwgdXBkYXRlZCwgYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCwgYmVmb3JlRGVzdHJveSwgYmVmb3JlVW5tb3VudCwgZGVzdHJveWVkLCB1bm1vdW50ZWQsIHJlbmRlciwgcmVuZGVyVHJhY2tlZCwgcmVuZGVyVHJpZ2dlcmVkLCBlcnJvckNhcHR1cmVkLCBzZXJ2ZXJQcmVmZXRjaCwgXG4gICAgLy8gcHVibGljIEFQSVxuICAgIGV4cG9zZSwgaW5oZXJpdEF0dHJzLCBcbiAgICAvLyBhc3NldHNcbiAgICBjb21wb25lbnRzLCBkaXJlY3RpdmVzLCBmaWx0ZXJzIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSA6IG51bGw7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCBbcHJvcHNPcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHNPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiUHJvcHNcIiAvKiBPcHRpb25UeXBlcy5QUk9QUyAqLywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBvcHRpb25zIGluaXRpYWxpemF0aW9uIG9yZGVyICh0byBiZSBjb25zaXN0ZW50IHdpdGggVnVlIDIpOlxuICAgIC8vIC0gcHJvcHMgKGFscmVhZHkgZG9uZSBvdXRzaWRlIG9mIHRoaXMgZnVuY3Rpb24pXG4gICAgLy8gLSBpbmplY3RcbiAgICAvLyAtIG1ldGhvZHNcbiAgICAvLyAtIGRhdGEgKGRlZmVycmVkIHNpbmNlIGl0IHJlbGllcyBvbiBgdGhpc2AgYWNjZXNzKVxuICAgIC8vIC0gY29tcHV0ZWRcbiAgICAvLyAtIHdhdGNoIChkZWZlcnJlZCBzaW5jZSBpdCByZWxpZXMgb24gYHRoaXNgIGFjY2VzcylcbiAgICBpZiAoaW5qZWN0T3B0aW9ucykge1xuICAgICAgICByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcywgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcudW53cmFwSW5qZWN0ZWRSZWYpO1xuICAgIH1cbiAgICBpZiAobWV0aG9kcykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XG4gICAgICAgICAgICBjb25zdCBtZXRob2RIYW5kbGVyID0gbWV0aG9kc1trZXldO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obWV0aG9kSGFuZGxlcikpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBkZXYgbW9kZSwgd2UgdXNlIHRoZSBgY3JlYXRlUmVuZGVyQ29udGV4dGAgZnVuY3Rpb24gdG8gZGVmaW5lXG4gICAgICAgICAgICAgICAgLy8gbWV0aG9kcyB0byB0aGUgcHJveHkgdGFyZ2V0LCBhbmQgdGhvc2UgYXJlIHJlYWQtb25seSBidXRcbiAgICAgICAgICAgICAgICAvLyByZWNvbmZpZ3VyYWJsZSwgc28gaXQgbmVlZHMgdG8gYmUgcmVkZWZpbmVkIGhlcmVcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eFtrZXldID0gbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIk1ldGhvZHNcIiAvKiBPcHRpb25UeXBlcy5NRVRIT0RTICovLCBrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgTWV0aG9kIFwiJHtrZXl9XCIgaGFzIHR5cGUgXCIke3R5cGVvZiBtZXRob2RIYW5kbGVyfVwiIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkYXRhT3B0aW9ucykge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGRhdGFPcHRpb25zKSkge1xuICAgICAgICAgICAgd2FybiQxKGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBgICtcbiAgICAgICAgICAgICAgICBgUGxhaW4gb2JqZWN0IHVzYWdlIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IGRhdGFPcHRpb25zLmNhbGwocHVibGljVGhpcywgcHVibGljVGhpcyk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNQcm9taXNlKGRhdGEpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYGRhdGEoKSByZXR1cm5lZCBhIFByb21pc2UgLSBub3RlIGRhdGEoKSBjYW5ub3QgYmUgYXN5bmM7IElmIHlvdSBgICtcbiAgICAgICAgICAgICAgICBgaW50ZW5kIHRvIHBlcmZvcm0gZGF0YSBmZXRjaGluZyBiZWZvcmUgY29tcG9uZW50IHJlbmRlcnMsIHVzZSBgICtcbiAgICAgICAgICAgICAgICBgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgZGF0YSgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LmApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5zdGFuY2UuZGF0YSA9IHJlYWN0aXZlKGRhdGEpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiRGF0YVwiIC8qIE9wdGlvblR5cGVzLkRBVEEgKi8sIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV4cG9zZSBkYXRhIG9uIGN0eCBkdXJpbmcgZGV2XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGRhdGFba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHN0YXRlIGluaXRpYWxpemF0aW9uIGNvbXBsZXRlIGF0IHRoaXMgcG9pbnQgLSBzdGFydCBjYWNoaW5nIGFjY2Vzc1xuICAgIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbiAgICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgb3B0ID0gY29tcHV0ZWRPcHRpb25zW2tleV07XG4gICAgICAgICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdClcbiAgICAgICAgICAgICAgICA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXG4gICAgICAgICAgICAgICAgOiBpc0Z1bmN0aW9uKG9wdC5nZXQpXG4gICAgICAgICAgICAgICAgICAgID8gb3B0LmdldC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ2V0ID09PSBOT09QKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBDb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGhhcyBubyBnZXR0ZXIuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldClcbiAgICAgICAgICAgICAgICA/IG9wdC5zZXQuYmluZChwdWJsaWNUaGlzKVxuICAgICAgICAgICAgICAgIDogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgID8gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjb21wdXRlZCQxKHtcbiAgICAgICAgICAgICAgICBnZXQsXG4gICAgICAgICAgICAgICAgc2V0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gYy52YWx1ZSxcbiAgICAgICAgICAgICAgICBzZXQ6IHYgPT4gKGMudmFsdWUgPSB2KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiQ29tcHV0ZWRcIiAvKiBPcHRpb25UeXBlcy5DT01QVVRFRCAqLywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAod2F0Y2hPcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHdhdGNoT3B0aW9ucykge1xuICAgICAgICAgICAgY3JlYXRlV2F0Y2hlcih3YXRjaE9wdGlvbnNba2V5XSwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwcm92aWRlT3B0aW9ucykge1xuICAgICAgICBjb25zdCBwcm92aWRlcyA9IGlzRnVuY3Rpb24ocHJvdmlkZU9wdGlvbnMpXG4gICAgICAgICAgICA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcylcbiAgICAgICAgICAgIDogcHJvdmlkZU9wdGlvbnM7XG4gICAgICAgIFJlZmxlY3Qub3duS2V5cyhwcm92aWRlcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgcHJvdmlkZShrZXksIHByb3ZpZGVzW2tleV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGNyZWF0ZWQpIHtcbiAgICAgICAgY2FsbEhvb2soY3JlYXRlZCwgaW5zdGFuY2UsIFwiY1wiIC8qIExpZmVjeWNsZUhvb2tzLkNSRUFURUQgKi8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlckxpZmVjeWNsZUhvb2socmVnaXN0ZXIsIGhvb2spIHtcbiAgICAgICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgICAgICAgIGhvb2suZm9yRWFjaChfaG9vayA9PiByZWdpc3RlcihfaG9vay5iaW5kKHB1YmxpY1RoaXMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaG9vaykge1xuICAgICAgICAgICAgcmVnaXN0ZXIoaG9vay5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVNb3VudCwgYmVmb3JlTW91bnQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbk1vdW50ZWQsIG1vdW50ZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVwZGF0ZSwgYmVmb3JlVXBkYXRlKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25VcGRhdGVkLCB1cGRhdGVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25BY3RpdmF0ZWQsIGFjdGl2YXRlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRGVhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25FcnJvckNhcHR1cmVkLCBlcnJvckNhcHR1cmVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmFja2VkLCByZW5kZXJUcmFja2VkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmlnZ2VyZWQsIHJlbmRlclRyaWdnZXJlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlVW5tb3VudCwgYmVmb3JlVW5tb3VudCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVW5tb3VudGVkLCB1bm1vdW50ZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblNlcnZlclByZWZldGNoLCBzZXJ2ZXJQcmVmZXRjaCk7XG4gICAge1xuICAgICAgICBpZiAoYmVmb3JlRGVzdHJveSAmJlxuICAgICAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJPUFRJT05TX0JFRk9SRV9ERVNUUk9ZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0JFRk9SRV9ERVNUUk9ZICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVubW91bnQsIGJlZm9yZURlc3Ryb3kpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXN0cm95ZWQgJiZcbiAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiT1BUSU9OU19ERVNUUk9ZRURcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREVTVFJPWUVEICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVubW91bnRlZCwgZGVzdHJveWVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNBcnJheShleHBvc2UpKSB7XG4gICAgICAgIGlmIChleHBvc2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBleHBvc2VkID0gaW5zdGFuY2UuZXhwb3NlZCB8fCAoaW5zdGFuY2UuZXhwb3NlZCA9IHt9KTtcbiAgICAgICAgICAgIGV4cG9zZS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9zZWQsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1RoaXNba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiB2YWwgPT4gKHB1YmxpY1RoaXNba2V5XSA9IHZhbClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5leHBvc2VkID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gb3B0aW9ucyB0aGF0IGFyZSBoYW5kbGVkIHdoZW4gY3JlYXRpbmcgdGhlIGluc3RhbmNlIGJ1dCBhbHNvIG5lZWQgdG8gYmVcbiAgICAvLyBhcHBsaWVkIGZyb20gbWl4aW5zXG4gICAgaWYgKHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gcmVuZGVyO1xuICAgIH1cbiAgICBpZiAoaW5oZXJpdEF0dHJzICE9IG51bGwpIHtcbiAgICAgICAgaW5zdGFuY2UuaW5oZXJpdEF0dHJzID0gaW5oZXJpdEF0dHJzO1xuICAgIH1cbiAgICAvLyBhc3NldCBvcHRpb25zLlxuICAgIGlmIChjb21wb25lbnRzKVxuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgICBpZiAoZGlyZWN0aXZlcylcbiAgICAgICAgaW5zdGFuY2UuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG4gICAgaWYgKGZpbHRlcnMgJiZcbiAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiRklMVEVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuRklMVEVSUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgIGluc3RhbmNlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gTk9PUCwgdW53cmFwUmVmID0gZmFsc2UpIHtcbiAgICBpZiAoaXNBcnJheShpbmplY3RPcHRpb25zKSkge1xuICAgICAgICBpbmplY3RPcHRpb25zID0gbm9ybWFsaXplSW5qZWN0KGluamVjdE9wdGlvbnMpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbmplY3RPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG9wdCA9IGluamVjdE9wdGlvbnNba2V5XTtcbiAgICAgICAgbGV0IGluamVjdGVkO1xuICAgICAgICBpZiAoaXNPYmplY3Qob3B0KSkge1xuICAgICAgICAgICAgaWYgKCdkZWZhdWx0JyBpbiBvcHQpIHtcbiAgICAgICAgICAgICAgICBpbmplY3RlZCA9IGluamVjdChvcHQuZnJvbSB8fCBrZXksIG9wdC5kZWZhdWx0LCB0cnVlIC8qIHRyZWF0IGRlZmF1bHQgZnVuY3Rpb24gYXMgZmFjdG9yeSAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmplY3RlZCA9IGluamVjdChvcHQuZnJvbSB8fCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3Qob3B0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWYoaW5qZWN0ZWQpKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHJlbW92ZSB0aGUgY2hlY2sgaW4gMy4zXG4gICAgICAgICAgICBpZiAodW53cmFwUmVmKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBpbmplY3RlZC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiB2ID0+IChpbmplY3RlZC52YWx1ZSA9IHYpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgaW5qZWN0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBpcyBhIHJlZiBhbmQgd2lsbCBiZSBhdXRvLXVud3JhcHBlZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBhbmQgbm8gbG9uZ2VyIG5lZWRzIFxcYC52YWx1ZVxcYCBpbiB0aGUgbmV4dCBtaW5vciByZWxlYXNlLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBUbyBvcHQtaW4gdG8gdGhlIG5ldyBiZWhhdmlvciBub3csIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHNldCBcXGBhcHAuY29uZmlnLnVud3JhcEluamVjdGVkUmVmID0gdHJ1ZVxcYCAodGhpcyBjb25maWcgaXMgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgdGVtcG9yYXJ5IGFuZCB3aWxsIG5vdCBiZSBuZWVkZWQgaW4gdGhlIGZ1dHVyZS4pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHhba2V5XSA9IGluamVjdGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkluamVjdFwiIC8qIE9wdGlvblR5cGVzLklOSkVDVCAqLywga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNhbGxIb29rKGhvb2ssIGluc3RhbmNlLCB0eXBlKSB7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaXNBcnJheShob29rKVxuICAgICAgICA/IGhvb2subWFwKGggPT4gaC5iaW5kKGluc3RhbmNlLnByb3h5KSlcbiAgICAgICAgOiBob29rLmJpbmQoaW5zdGFuY2UucHJveHkpLCBpbnN0YW5jZSwgdHlwZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcbiAgICBjb25zdCBnZXR0ZXIgPSBrZXkuaW5jbHVkZXMoJy4nKVxuICAgICAgICA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywga2V5KVxuICAgICAgICA6ICgpID0+IHB1YmxpY1RoaXNba2V5XTtcbiAgICBpZiAoaXNTdHJpbmcocmF3KSkge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gY3R4W3Jhd107XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3fVwiYCwgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgcmF3LmJpbmQocHVibGljVGhpcykpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChyYXcpKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICAgICAgICAgIHJhdy5mb3JFYWNoKHIgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGlzRnVuY3Rpb24ocmF3LmhhbmRsZXIpXG4gICAgICAgICAgICAgICAgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpXG4gICAgICAgICAgICAgICAgOiBjdHhbcmF3LmhhbmRsZXJdO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIsIHJhdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggb3B0aW9uOiBcIiR7a2V5fVwiYCwgcmF3KTtcbiAgICB9XG59XG4vKipcbiAqIFJlc29sdmUgbWVyZ2VkIG9wdGlvbnMgYW5kIGNhY2hlIGl0IG9uIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIGlzIGRvbmUgb25seSBvbmNlIHBlci1jb21wb25lbnQgc2luY2UgdGhlIG1lcmdpbmcgZG9lcyBub3QgaW52b2x2ZVxuICogaW5zdGFuY2VzLlxuICovXG5mdW5jdGlvbiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbnN0YW5jZS50eXBlO1xuICAgIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gYmFzZTtcbiAgICBjb25zdCB7IG1peGluczogZ2xvYmFsTWl4aW5zLCBvcHRpb25zQ2FjaGU6IGNhY2hlLCBjb25maWc6IHsgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzIH0gfSA9IGluc3RhbmNlLmFwcENvbnRleHQ7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGJhc2UpO1xuICAgIGxldCByZXNvbHZlZDtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIHJlc29sdmVkID0gY2FjaGVkO1xuICAgIH1cbiAgICBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xuICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiUFJJVkFURV9BUElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUklWQVRFX0FQSVMgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSBleHRlbmQoe30sIGJhc2UpO1xuICAgICAgICAgICAgcmVzb2x2ZWQucGFyZW50ID0gaW5zdGFuY2UucGFyZW50ICYmIGluc3RhbmNlLnBhcmVudC5wcm94eTtcbiAgICAgICAgICAgIHJlc29sdmVkLnByb3BzRGF0YSA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSBiYXNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXNvbHZlZCA9IHt9O1xuICAgICAgICBpZiAoZ2xvYmFsTWl4aW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2gobSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgYmFzZSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KGJhc2UpKSB7XG4gICAgICAgIGNhY2hlLnNldChiYXNlLCByZXNvbHZlZCk7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlZDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihmcm9tKSkge1xuICAgICAgICBmcm9tID0gZnJvbS5vcHRpb25zO1xuICAgIH1cbiAgICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XG4gICAgaWYgKGV4dGVuZHNPcHRpb25zKSB7XG4gICAgICAgIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIHN0cmF0cywgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgbWl4aW5zLmZvckVhY2goKG0pID0+IG1lcmdlT3B0aW9ucyh0bywgbSwgc3RyYXRzLCB0cnVlKSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICAgICAgaWYgKGFzTWl4aW4gJiYga2V5ID09PSAnZXhwb3NlJykge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybiQxKGBcImV4cG9zZVwiIG9wdGlvbiBpcyBpZ25vcmVkIHdoZW4gZGVjbGFyZWQgaW4gbWl4aW5zIG9yIGV4dGVuZHMuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgSXQgc2hvdWxkIG9ubHkgYmUgZGVjbGFyZWQgaW4gdGhlIGJhc2UgY29tcG9uZW50IGl0c2VsZi5gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmF0ID0gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0c1trZXldIHx8IChzdHJhdHMgJiYgc3RyYXRzW2tleV0pO1xuICAgICAgICAgICAgdG9ba2V5XSA9IHN0cmF0ID8gc3RyYXQodG9ba2V5XSwgZnJvbVtrZXldKSA6IGZyb21ba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG87XG59XG5jb25zdCBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzID0ge1xuICAgIGRhdGE6IG1lcmdlRGF0YUZuLFxuICAgIHByb3BzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gICAgZW1pdHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgICAvLyBvYmplY3RzXG4gICAgbWV0aG9kczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAgIGNvbXB1dGVkOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gICAgLy8gbGlmZWN5Y2xlXG4gICAgYmVmb3JlQ3JlYXRlOiBtZXJnZUFzQXJyYXksXG4gICAgY3JlYXRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXG4gICAgbW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGJlZm9yZVVwZGF0ZTogbWVyZ2VBc0FycmF5LFxuICAgIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgICBiZWZvcmVEZXN0cm95OiBtZXJnZUFzQXJyYXksXG4gICAgYmVmb3JlVW5tb3VudDogbWVyZ2VBc0FycmF5LFxuICAgIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxuICAgIHVubW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGFjdGl2YXRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGRlYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gICAgZXJyb3JDYXB0dXJlZDogbWVyZ2VBc0FycmF5LFxuICAgIHNlcnZlclByZWZldGNoOiBtZXJnZUFzQXJyYXksXG4gICAgLy8gYXNzZXRzXG4gICAgY29tcG9uZW50czogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAgIGRpcmVjdGl2ZXM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgICAvLyB3YXRjaFxuICAgIHdhdGNoOiBtZXJnZVdhdGNoT3B0aW9ucyxcbiAgICAvLyBwcm92aWRlIC8gaW5qZWN0XG4gICAgcHJvdmlkZTogbWVyZ2VEYXRhRm4sXG4gICAgaW5qZWN0OiBtZXJnZUluamVjdFxufTtcbntcbiAgICBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzLmZpbHRlcnMgPSBtZXJnZU9iamVjdE9wdGlvbnM7XG59XG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xuICAgIGlmICghZnJvbSkge1xuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxuICAgIGlmICghdG8pIHtcbiAgICAgICAgcmV0dXJuIGZyb207XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4oKSB7XG4gICAgICAgIHJldHVybiAoaXNDb21wYXRFbmFibGVkKFwiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfTUVSR0UgKi8sIG51bGwpXG4gICAgICAgICAgICA/IGRlZXBNZXJnZURhdGFcbiAgICAgICAgICAgIDogZXh0ZW5kKShpc0Z1bmN0aW9uKHRvKSA/IHRvLmNhbGwodGhpcywgdGhpcykgOiB0bywgaXNGdW5jdGlvbihmcm9tKSA/IGZyb20uY2FsbCh0aGlzLCB0aGlzKSA6IGZyb20pO1xuICAgIH07XG59XG5mdW5jdGlvbiBtZXJnZUluamVjdCh0bywgZnJvbSkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdE9wdGlvbnMobm9ybWFsaXplSW5qZWN0KHRvKSwgbm9ybWFsaXplSW5qZWN0KGZyb20pKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUluamVjdChyYXcpIHtcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgcmV0dXJuIHJhdztcbn1cbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xuICAgIHJldHVybiB0byA/IFsuLi5uZXcgU2V0KFtdLmNvbmNhdCh0bywgZnJvbSkpXSA6IGZyb207XG59XG5mdW5jdGlvbiBtZXJnZU9iamVjdE9wdGlvbnModG8sIGZyb20pIHtcbiAgICByZXR1cm4gdG8gPyBleHRlbmQoZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIHRvKSwgZnJvbSkgOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VXYXRjaE9wdGlvbnModG8sIGZyb20pIHtcbiAgICBpZiAoIXRvKVxuICAgICAgICByZXR1cm4gZnJvbTtcbiAgICBpZiAoIWZyb20pXG4gICAgICAgIHJldHVybiB0bztcbiAgICBjb25zdCBtZXJnZWQgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICAgICAgbWVyZ2VkW2tleV0gPSBtZXJnZUFzQXJyYXkodG9ba2V5XSwgZnJvbVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvcHNEZWZhdWx0VGhpcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BLZXkpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgIGdldChfLCBrZXkpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm5EZXByZWNhdGlvbihcIlBST1BTX0RFRkFVTFRfVEhJU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuUFJPUFNfREVGQVVMVF9USElTICovLCBudWxsLCBwcm9wS2V5KTtcbiAgICAgICAgICAgIC8vICRvcHRpb25zXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnJG9wdGlvbnMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByb3BzXG4gICAgICAgICAgICBpZiAoa2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd1Byb3BzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpbmplY3Rpb25zXG4gICAgICAgICAgICBjb25zdCBpbmplY3Rpb25zID0gaW5zdGFuY2UudHlwZS5pbmplY3Q7XG4gICAgICAgICAgICBpZiAoaW5qZWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KGluamVjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmplY3Rpb25zLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3Qoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgaW4gaW5qZWN0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0KGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFNraXBBdHRyKGtleSwgaW5zdGFuY2UpIHtcbiAgICBpZiAoa2V5ID09PSAnaXMnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScpICYmXG4gICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRSAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXNPbihrZXkpICYmXG4gICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0xJU1RFTkVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfTElTVEVORVJTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIHZ1ZS1yb3V0ZXJcbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ3JvdXRlclZpZXcnKSB8fCBrZXkgPT09ICdyZWdpc3RlclJvdXRlSW5zdGFuY2UnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIGlzU3RhdGVmdWwsIC8vIHJlc3VsdCBvZiBiaXR3aXNlIGZsYWcgY29tcGFyaXNvblxuaXNTU1IgPSBmYWxzZSkge1xuICAgIGNvbnN0IHByb3BzID0ge307XG4gICAgY29uc3QgYXR0cnMgPSB7fTtcbiAgICBkZWYoYXR0cnMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcbiAgICBpbnN0YW5jZS5wcm9wc0RlZmF1bHRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpO1xuICAgIC8vIGVuc3VyZSBhbGwgZGVjbGFyZWQgcHJvcCBrZXlzIGFyZSBwcmVzZW50XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSB7XG4gICAgICAgIGlmICghKGtleSBpbiBwcm9wcykpIHtcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdmFsaWRhdGlvblxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGlzU3RhdGVmdWwpIHtcbiAgICAgICAgLy8gc3RhdGVmdWxcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghaW5zdGFuY2UudHlwZS5wcm9wcykge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbCB3LyBvcHRpb25hbCBwcm9wcywgcHJvcHMgPT09IGF0dHJzXG4gICAgICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IGF0dHJzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbCB3LyBkZWNsYXJlZCBwcm9wc1xuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xufVxuZnVuY3Rpb24gaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgICB3aGlsZSAoaW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKGluc3RhbmNlLnR5cGUuX19obXJJZClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnBhcmVudDtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHJhd1ByZXZQcm9wcywgb3B0aW1pemVkKSB7XG4gICAgY29uc3QgeyBwcm9wcywgYXR0cnMsIHZub2RlOiB7IHBhdGNoRmxhZyB9IH0gPSBpbnN0YW5jZTtcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgY29uc3QgW29wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgICBpZiAoXG4gICAgLy8gYWx3YXlzIGZvcmNlIGZ1bGwgZGlmZiBpbiBkZXZcbiAgICAvLyAtICMxOTQyIGlmIGhtciBpcyBlbmFibGVkIHdpdGggc2ZjIGNvbXBvbmVudFxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XG4gICAgISgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpKSAmJlxuICAgICAgICAob3B0aW1pemVkIHx8IHBhdGNoRmxhZyA+IDApICYmXG4gICAgICAgICEocGF0Y2hGbGFnICYgMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovKSkge1xuICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQYXRjaEZsYWdzLlBST1BTICovKSB7XG4gICAgICAgICAgICAvLyBDb21waWxlci1nZW5lcmF0ZWQgcHJvcHMgJiBubyBrZXlzIGNoYW5nZSwganVzdCBzZXQgdGhlIHVwZGF0ZWRcbiAgICAgICAgICAgIC8vIHRoZSBwcm9wcy5cbiAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBpbnN0YW5jZS52bm9kZS5keW5hbWljUHJvcHM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgICAgICAgICAvLyBza2lwIGlmIHRoZSBwcm9wIGtleSBpcyBhIGRlY2xhcmVkIGVtaXQgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICBpZiAoaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBQUk9QUyBmbGFnIGd1YXJhbnRlZXMgcmF3UHJvcHMgdG8gYmUgbm9uLW51bGxcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0ciAvIHByb3BzIHNlcGFyYXRpb24gd2FzIGRvbmUgb24gaW5pdCBhbmQgd2lsbCBiZSBjb25zaXN0ZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY29kZSBwYXRoLCBzbyBqdXN0IGNoZWNrIGlmIGF0dHJzIGhhdmUgaXQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24oYXR0cnMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywgY2FtZWxpemVkS2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGZhbHNlIC8qIGlzQWJzZW50ICovKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSAmJiBrZXkuZW5kc1dpdGgoJ05hdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5LnNsaWNlKDAsIC02KTsgLy8gcmVtb3ZlIE5hdGl2ZSBwb3N0Zml4XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaG91bGRTa2lwQXR0cihrZXksIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gZnVsbCBwcm9wcyB1cGRhdGUuXG4gICAgICAgIGlmIChzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpKSB7XG4gICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluIGNhc2Ugb2YgZHluYW1pYyBwcm9wcywgY2hlY2sgaWYgd2UgbmVlZCB0byBkZWxldGUga2V5cyBmcm9tXG4gICAgICAgIC8vIHRoZSBwcm9wcyBvYmplY3RcbiAgICAgICAgbGV0IGtlYmFiS2V5O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcbiAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHxcbiAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAgICAgICAgICAgKCFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBwb3NzaWJsZSB0aGUgb3JpZ2luYWwgcHJvcHMgd2FzIHBhc3NlZCBpbiBhcyBrZWJhYi1jYXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBjb252ZXJ0ZWQgdG8gY2FtZWxDYXNlICgjOTU1KVxuICAgICAgICAgICAgICAgICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF3UHJldlByb3BzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAocmF3UHJldlByb3BzW2tleV0gIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBrZWJhYi1jYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcmF3Q3VycmVudFByb3BzLCBrZXksIHVuZGVmaW5lZCwgaW5zdGFuY2UsIHRydWUgLyogaXNBYnNlbnQgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgZnVuY3Rpb25hbCBjb21wb25lbnQgdy9vIHByb3BzIGRlY2xhcmF0aW9uLCBwcm9wcyBhbmRcbiAgICAgICAgLy8gYXR0cnMgcG9pbnQgdG8gdGhlIHNhbWUgb2JqZWN0IHNvIGl0IHNob3VsZCBhbHJlYWR5IGhhdmUgYmVlbiB1cGRhdGVkLlxuICAgICAgICBpZiAoYXR0cnMgIT09IHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJhd1Byb3BzIHx8XG4gICAgICAgICAgICAgICAgICAgICghaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWhhc093bihyYXdQcm9wcywga2V5ICsgJ05hdGl2ZScpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dHJzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHRyaWdnZXIgdXBkYXRlcyBmb3IgJGF0dHJzIGluIGNhc2UgaXQncyB1c2VkIGluIGNvbXBvbmVudCBzbG90c1xuICAgIGlmIChoYXNBdHRyc0NoYW5nZWQpIHtcbiAgICAgICAgdHJpZ2dlcihpbnN0YW5jZSwgXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8sICckYXR0cnMnKTtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykge1xuICAgIGNvbnN0IFtvcHRpb25zLCBuZWVkQ2FzdEtleXNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgICBsZXQgcmF3Q2FzdFZhbHVlcztcbiAgICBpZiAocmF3UHJvcHMpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICAgICAgICAvLyBrZXksIHJlZiBhcmUgcmVzZXJ2ZWQgYW5kIG5ldmVyIHBhc3NlZCBkb3duXG4gICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnb25Ib29rOicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSwga2V5LnNsaWNlKDIpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnaW5saW5lLXRlbXBsYXRlJykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgICAgICAvLyBwcm9wIG9wdGlvbiBuYW1lcyBhcmUgY2FtZWxpemVkIGR1cmluZyBub3JtYWxpemF0aW9uLCBzbyB0byBzdXBwb3J0XG4gICAgICAgICAgICAvLyBrZWJhYiAtPiBjYW1lbCBjb252ZXJzaW9uIGhlcmUgd2UgbmVlZCB0byBjYW1lbGl6ZSB0aGUga2V5LlxuICAgICAgICAgICAgbGV0IGNhbWVsS2V5O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgaGFzT3duKG9wdGlvbnMsIChjYW1lbEtleSA9IGNhbWVsaXplKGtleSkpKSkge1xuICAgICAgICAgICAgICAgIGlmICghbmVlZENhc3RLZXlzIHx8ICFuZWVkQ2FzdEtleXMuaW5jbHVkZXMoY2FtZWxLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKHJhd0Nhc3RWYWx1ZXMgfHwgKHJhd0Nhc3RWYWx1ZXMgPSB7fSkpW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAvLyBBbnkgbm9uLWRlY2xhcmVkIChlaXRoZXIgYXMgYSBwcm9wIG9yIGFuIGVtaXR0ZWQgZXZlbnQpIHByb3BzIGFyZSBwdXRcbiAgICAgICAgICAgICAgICAvLyBpbnRvIGEgc2VwYXJhdGUgYGF0dHJzYCBvYmplY3QgZm9yIHNwcmVhZGluZy4gTWFrZSBzdXJlIHRvIHByZXNlcnZlXG4gICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwga2V5IGNhc2luZ1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSAmJiBrZXkuZW5kc1dpdGgoJ05hdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXkuc2xpY2UoMCwgLTYpOyAvLyByZW1vdmUgTmF0aXZlIHBvc3RmaXhcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaG91bGRTa2lwQXR0cihrZXksIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIGF0dHJzKSB8fCB2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChuZWVkQ2FzdEtleXMpIHtcbiAgICAgICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgICBjb25zdCBjYXN0VmFsdWVzID0gcmF3Q2FzdFZhbHVlcyB8fCBFTVBUWV9PQko7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZENhc3RLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XG4gICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGtleSwgY2FzdFZhbHVlc1trZXldLCBpbnN0YW5jZSwgIWhhc093bihjYXN0VmFsdWVzLCBrZXkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFzQXR0cnNDaGFuZ2VkO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGlzQWJzZW50KSB7XG4gICAgY29uc3Qgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHQgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzT3duKG9wdCwgJ2RlZmF1bHQnKTtcbiAgICAgICAgLy8gZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgaWYgKGhhc0RlZmF1bHQgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XG4gICAgICAgICAgICBpZiAob3B0LnR5cGUgIT09IEZ1bmN0aW9uICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvcHNEZWZhdWx0cyB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBwcm9wc0RlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV0gPSBkZWZhdWx0VmFsdWUuY2FsbChpc0NvbXBhdEVuYWJsZWQoXCJQUk9QU19ERUZBVUxUX1RISVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlBST1BTX0RFRkFVTFRfVEhJUyAqLywgaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZVByb3BzRGVmYXVsdFRoaXMoaW5zdGFuY2UsIHByb3BzLCBrZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsIHByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBib29sZWFuIGNhc3RpbmdcbiAgICAgICAgaWYgKG9wdFswIC8qIEJvb2xlYW5GbGFncy5zaG91bGRDYXN0ICovXSkge1xuICAgICAgICAgICAgaWYgKGlzQWJzZW50ICYmICFoYXNEZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdFsxIC8qIEJvb2xlYW5GbGFncy5zaG91bGRDYXN0VHJ1ZSAqL10gJiZcbiAgICAgICAgICAgICAgICAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IGNhY2hlID0gYXBwQ29udGV4dC5wcm9wc0NhY2hlO1xuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJhdyA9IGNvbXAucHJvcHM7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xuICAgIGNvbnN0IG5lZWRDYXN0S2V5cyA9IFtdO1xuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcbiAgICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZFByb3BzID0gKHJhdykgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xuICAgICAgICAgICAgICAgIHJhdyA9IHJhdy5vcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgcHJvcHMpO1xuICAgICAgICAgICAgaWYgKGtleXMpXG4gICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2goLi4ua2V5cyk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgICAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXAubWl4aW5zKSB7XG4gICAgICAgICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgICAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgICAgICAgIGNhY2hlLnNldChjb21wLCBFTVBUWV9BUlIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFTVBUWV9BUlI7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzU3RyaW5nKHJhd1tpXSkpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYHByb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC5gLCByYXdbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKHJhd1tpXSk7XG4gICAgICAgICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAocmF3KSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzT2JqZWN0KHJhdykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgaW52YWxpZCBwcm9wcyBvcHRpb25zYCwgcmF3KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXcpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gKG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPVxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IE9iamVjdC5hc3NpZ24oe30sIG9wdCkpO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2xlYW5JbmRleCA9IGdldFR5cGVJbmRleChCb29sZWFuLCBwcm9wLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdJbmRleCA9IGdldFR5cGVJbmRleChTdHJpbmcsIHByb3AudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHByb3BbMCAvKiBCb29sZWFuRmxhZ3Muc2hvdWxkQ2FzdCAqL10gPSBib29sZWFuSW5kZXggPiAtMTtcbiAgICAgICAgICAgICAgICAgICAgcHJvcFsxIC8qIEJvb2xlYW5GbGFncy5zaG91bGRDYXN0VHJ1ZSAqL10gPVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nSW5kZXggPCAwIHx8IGJvb2xlYW5JbmRleCA8IHN0cmluZ0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcHJvcCBuZWVkcyBib29sZWFuIGNhc3Rpbmcgb3IgZGVmYXVsdCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9vbGVhbkluZGV4ID4gLTEgfHwgaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRDYXN0S2V5cy5wdXNoKG5vcm1hbGl6ZWRLZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IFtub3JtYWxpemVkLCBuZWVkQ2FzdEtleXNdO1xuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgICBjYWNoZS5zZXQoY29tcCwgcmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcE5hbWUoa2V5KSB7XG4gICAgaWYgKGtleVswXSAhPT0gJyQnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybiQxKGBJbnZhbGlkIHByb3AgbmFtZTogXCIke2tleX1cIiBpcyBhIHJlc2VydmVkIHByb3BlcnR5LmApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyB1c2UgZnVuY3Rpb24gc3RyaW5nIG5hbWUgdG8gY2hlY2sgdHlwZSBjb25zdHJ1Y3RvcnNcbi8vIHNvIHRoYXQgaXQgd29ya3MgYWNyb3NzIHZtcyAvIGlmcmFtZXMuXG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcbiAgICBjb25zdCBtYXRjaCA9IGN0b3IgJiYgY3Rvci50b1N0cmluZygpLm1hdGNoKC9eXFxzKmZ1bmN0aW9uIChcXHcrKS8pO1xuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogY3RvciA9PT0gbnVsbCA/ICdudWxsJyA6ICcnO1xufVxuZnVuY3Rpb24gaXNTYW1lVHlwZShhLCBiKSB7XG4gICAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYik7XG59XG5mdW5jdGlvbiBnZXRUeXBlSW5kZXgodHlwZSwgZXhwZWN0ZWRUeXBlcykge1xuICAgIGlmIChpc0FycmF5KGV4cGVjdGVkVHlwZXMpKSB7XG4gICAgICAgIHJldHVybiBleHBlY3RlZFR5cGVzLmZpbmRJbmRleCh0ID0+IGlzU2FtZVR5cGUodCwgdHlwZSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVHlwZXMpKSB7XG4gICAgICAgIHJldHVybiBpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXMsIHR5cGUpID8gMCA6IC0xO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMsIHByb3BzLCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IHJlc29sdmVkVmFsdWVzID0gdG9SYXcocHJvcHMpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xuICAgICAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgICAgICBpZiAob3B0ID09IG51bGwpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgdmFsaWRhdGVQcm9wKGtleSwgcmVzb2x2ZWRWYWx1ZXNba2V5XSwgb3B0LCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmICFoYXNPd24ocmF3UHJvcHMsIGh5cGhlbmF0ZShrZXkpKSk7XG4gICAgfVxufVxuLyoqXG4gKiBkZXYgb25seVxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AobmFtZSwgdmFsdWUsIHByb3AsIGlzQWJzZW50KSB7XG4gICAgY29uc3QgeyB0eXBlLCByZXF1aXJlZCwgdmFsaWRhdG9yIH0gPSBwcm9wO1xuICAgIC8vIHJlcXVpcmVkIVxuICAgIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xuICAgICAgICB3YXJuJDEoJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIG1pc3NpbmcgYnV0IG9wdGlvbmFsXG4gICAgaWYgKHZhbHVlID09IG51bGwgJiYgIXByb3AucmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB0eXBlIGNoZWNrXG4gICAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlKSB7XG4gICAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHR5cGVzID0gaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZXMgPSBbXTtcbiAgICAgICAgLy8gdmFsdWUgaXMgdmFsaWQgYXMgbG9uZyBhcyBvbmUgb2YgdGhlIHNwZWNpZmllZCB0eXBlcyBtYXRjaFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aCAmJiAhaXNWYWxpZDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbGlkLCBleHBlY3RlZFR5cGUgfSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVzW2ldKTtcbiAgICAgICAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChleHBlY3RlZFR5cGUgfHwgJycpO1xuICAgICAgICAgICAgaXNWYWxpZCA9IHZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgd2FybiQxKGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGN1c3RvbSB2YWxpZGF0b3JcbiAgICBpZiAodmFsaWRhdG9yICYmICF2YWxpZGF0b3IodmFsdWUpKSB7XG4gICAgICAgIHdhcm4kMSgnSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicpO1xuICAgIH1cbn1cbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnU3RyaW5nLE51bWJlcixCb29sZWFuLEZ1bmN0aW9uLFN5bWJvbCxCaWdJbnQnKTtcbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZSkge1xuICAgIGxldCB2YWxpZDtcbiAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xuICAgIGlmIChpc1NpbXBsZVR5cGUoZXhwZWN0ZWRUeXBlKSkge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIHZhbHVlO1xuICAgICAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAvLyBmb3IgcHJpbWl0aXZlIHdyYXBwZXIgb2JqZWN0c1xuICAgICAgICBpZiAoIXZhbGlkICYmIHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XG4gICAgICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHtcbiAgICAgICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnbnVsbCcpIHtcbiAgICAgICAgdmFsaWQgPSB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZCxcbiAgICAgICAgZXhwZWN0ZWRUeXBlXG4gICAgfTtcbn1cbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIiR7bmFtZX1cIi5gICtcbiAgICAgICAgYCBFeHBlY3RlZCAke2V4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oJyB8ICcpfWA7XG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZXhwZWN0ZWRUeXBlc1swXTtcbiAgICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xuICAgIGNvbnN0IGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xuICAgIGNvbnN0IHJlY2VpdmVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCByZWNlaXZlZFR5cGUpO1xuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSBleHBlY3RlZCB2YWx1ZVxuICAgIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJlxuICAgICAgICAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xuICAgICAgICBtZXNzYWdlICs9IGAgd2l0aCB2YWx1ZSAke2V4cGVjdGVkVmFsdWV9YDtcbiAgICB9XG4gICAgbWVzc2FnZSArPSBgLCBnb3QgJHtyZWNlaXZlZFR5cGV9IGA7XG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IHJlY2VpdmVkIHZhbHVlXG4gICAgaWYgKGlzRXhwbGljYWJsZShyZWNlaXZlZFR5cGUpKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gYHdpdGggdmFsdWUgJHtyZWNlaXZlZFZhbHVlfS5gO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSAnU3RyaW5nJykge1xuICAgICAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdOdW1iZXInKSB7XG4gICAgICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWV9YDtcbiAgICB9XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XG4gICAgY29uc3QgZXhwbGljaXRUeXBlcyA9IFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ107XG4gICAgcmV0dXJuIGV4cGxpY2l0VHlwZXMuc29tZShlbGVtID0+IHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbSk7XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIGlzQm9vbGVhbiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3Muc29tZShlbGVtID0+IGVsZW0udG9Mb3dlckNhc2UoKSA9PT0gJ2Jvb2xlYW4nKTtcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleVswXSA9PT0gJ18nIHx8IGtleSA9PT0gJyRzdGFibGUnO1xuY29uc3Qgbm9ybWFsaXplU2xvdFZhbHVlID0gKHZhbHVlKSA9PiBpc0FycmF5KHZhbHVlKVxuICAgID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZOb2RlKVxuICAgIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB7XG4gICAgaWYgKHJhd1Nsb3QuX24pIHtcbiAgICAgICAgLy8gYWxyZWFkeSBub3JtYWxpemVkIC0gIzUzNTNcbiAgICAgICAgcmV0dXJuIHJhd1Nsb3Q7XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB3aXRoQ3R4KCguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY3VycmVudEluc3RhbmNlKSB7XG4gICAgICAgICAgICB3YXJuJDEoYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogYCArXG4gICAgICAgICAgICAgICAgYHRoaXMgd2lsbCBub3QgdHJhY2sgZGVwZW5kZW5jaWVzIHVzZWQgaW4gdGhlIHNsb3QuIGAgK1xuICAgICAgICAgICAgICAgIGBJbnZva2UgdGhlIHNsb3QgZnVuY3Rpb24gaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplU2xvdFZhbHVlKHJhd1Nsb3QoLi4uYXJncykpO1xuICAgIH0sIGN0eCk7XG4gICAgbm9ybWFsaXplZC5fYyA9IGZhbHNlO1xuICAgIHJldHVybiBub3JtYWxpemVkO1xufTtcbmNvbnN0IG5vcm1hbGl6ZU9iamVjdFNsb3RzID0gKHJhd1Nsb3RzLCBzbG90cywgaW5zdGFuY2UpID0+IHtcbiAgICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1Nsb3RzKSB7XG4gICAgICAgIGlmIChpc0ludGVybmFsS2V5KGtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSByYXdTbG90c1trZXldO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICEoaXNDb21wYXRFbmFibGVkKFwiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi8sIGluc3RhbmNlKSkpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3Igc2xvdCBcIiR7a2V5fVwiLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBub3JtYWxpemVWTm9kZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSAmJlxuICAgICAgICAhKGlzQ29tcGF0RW5hYmxlZChcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovLCBpbnN0YW5jZSkpKSB7XG4gICAgICAgIHdhcm4kMShgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBkZWZhdWx0IHNsb3QuIGAgK1xuICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKGNoaWxkcmVuKTtcbiAgICBpbnN0YW5jZS5zbG90cy5kZWZhdWx0ID0gKCkgPT4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBpbml0U2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XG4gICAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNoYXBlRmxhZ3MuU0xPVFNfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAvLyB1c2VycyBjYW4gZ2V0IHRoZSBzaGFsbG93IHJlYWRvbmx5IHZlcnNpb24gb2YgdGhlIHNsb3RzIG9iamVjdCB0aHJvdWdoIGB0aGlzLiRzbG90c2AsXG4gICAgICAgICAgICAvLyB3ZSBzaG91bGQgYXZvaWQgdGhlIHByb3h5IG9iamVjdCBwb2xsdXRpbmcgdGhlIHNsb3RzIG9mIHRoZSBpbnRlcm5hbCBpbnN0YW5jZVxuICAgICAgICAgICAgaW5zdGFuY2Uuc2xvdHMgPSB0b1JhdyhjaGlsZHJlbik7XG4gICAgICAgICAgICAvLyBtYWtlIGNvbXBpbGVyIG1hcmtlciBub24tZW51bWVyYWJsZVxuICAgICAgICAgICAgZGVmKGNoaWxkcmVuLCAnXycsIHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIChpbnN0YW5jZS5zbG90cyA9IHt9KSwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5zbG90cyA9IHt9O1xuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWYoaW5zdGFuY2Uuc2xvdHMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcbn07XG5jb25zdCB1cGRhdGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IHsgdm5vZGUsIHNsb3RzIH0gPSBpbnN0YW5jZTtcbiAgICBsZXQgbmVlZERlbGV0aW9uQ2hlY2sgPSB0cnVlO1xuICAgIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNoYXBlRmxhZ3MuU0xPVFNfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAvLyBjb21waWxlZCBzbG90cy5cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICAgICAgICAgIC8vIFBhcmVudCB3YXMgSE1SIHVwZGF0ZWQgc28gc2xvdCBjb250ZW50IG1heSBoYXZlIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdXBkYXRlIHNsb3RzIGFuZCBtYXJrIGluc3RhbmNlIGZvciBobXIgYXMgd2VsbFxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEgLyogU2xvdEZsYWdzLlNUQUJMRSAqLykge1xuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVkIEFORCBzdGFibGUuXG4gICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byB1cGRhdGUsIGFuZCBza2lwIHN0YWxlIHNsb3RzIHJlbW92YWwuXG4gICAgICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVkIGJ1dCBkeW5hbWljICh2LWlmL3YtZm9yIG9uIHNsb3RzKSAtIHVwZGF0ZSBzbG90cywgYnV0IHNraXBcbiAgICAgICAgICAgICAgICAvLyBub3JtYWxpemF0aW9uLlxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIC8vICMyODkzXG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZW5kZXJpbmcgdGhlIG9wdGltaXplZCBzbG90cyBieSBtYW51YWxseSB3cml0dGVuIHJlbmRlciBmdW5jdGlvbixcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGRlbGV0ZSB0aGUgYHNsb3RzLl9gIGZsYWcgaWYgbmVjZXNzYXJ5IHRvIG1ha2Ugc3Vic2VxdWVudCB1cGRhdGVzIHJlbGlhYmxlLFxuICAgICAgICAgICAgICAgIC8vIGkuZS4gbGV0IHRoZSBgcmVuZGVyU2xvdGAgY3JlYXRlIHRoZSBiYWlsZWQgRnJhZ21lbnRcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGltaXplZCAmJiB0eXBlID09PSAxIC8qIFNsb3RGbGFncy5TVEFCTEUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNsb3RzLl87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cywgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IGNoaWxkcmVuO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgICAgICAvLyBub24gc2xvdCBvYmplY3QgY2hpbGRyZW4gKGRpcmVjdCB2YWx1ZSkgcGFzc2VkIHRvIGEgY29tcG9uZW50XG4gICAgICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XG4gICAgfVxuICAgIC8vIGRlbGV0ZSBzdGFsZSBzbG90c1xuICAgIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgICAgICAgaWYgKCFpc0ludGVybmFsS2V5KGtleSkgJiYgIShrZXkgaW4gZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gZGV2IG9ubHlcbmZ1bmN0aW9uIGluc3RhbGxMZWdhY3lDb25maWdXYXJuaW5ncyhjb25maWcpIHtcbiAgICBjb25zdCBsZWdhY3lDb25maWdPcHRpb25zID0ge1xuICAgICAgICBzaWxlbnQ6IFwiQ09ORklHX1NJTEVOVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX1NJTEVOVCAqLyxcbiAgICAgICAgZGV2dG9vbHM6IFwiQ09ORklHX0RFVlRPT0xTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfREVWVE9PTFMgKi8sXG4gICAgICAgIGlnbm9yZWRFbGVtZW50czogXCJDT05GSUdfSUdOT1JFRF9FTEVNRU5UU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX0lHTk9SRURfRUxFTUVOVFMgKi8sXG4gICAgICAgIGtleUNvZGVzOiBcIkNPTkZJR19LRVlfQ09ERVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19LRVlfQ09ERVMgKi8sXG4gICAgICAgIHByb2R1Y3Rpb25UaXA6IFwiQ09ORklHX1BST0RVQ1RJT05fVElQXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfUFJPRFVDVElPTl9USVAgKi9cbiAgICB9O1xuICAgIE9iamVjdC5rZXlzKGxlZ2FjeUNvbmZpZ09wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgbGV0IHZhbCA9IGNvbmZpZ1trZXldO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uZmlnLCBrZXksIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQobmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0NvcHlpbmdDb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybkRlcHJlY2F0aW9uKGxlZ2FjeUNvbmZpZ09wdGlvbnNba2V5XSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbCA9IG5ld1ZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBpbnN0YWxsTGVnYWN5T3B0aW9uTWVyZ2VTdHJhdHMoY29uZmlnKSB7XG4gICAgY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcyA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleSBpbiBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzICYmXG4gICAgICAgICAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJDT05GSUdfT1BUSU9OX01FUkdFX1NUUkFUU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX09QVElPTl9NRVJHRV9TVFJBVFMgKi8sIG51bGwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5sZXQgaXNDb3B5aW5nQ29uZmlnID0gZmFsc2U7XG4vLyBleHBvcnRlZCBvbmx5IGZvciB0ZXN0XG5sZXQgc2luZ2xldG9uQXBwO1xubGV0IHNpbmdsZXRvbkN0b3I7XG4vLyBMZWdhY3kgZ2xvYmFsIFZ1ZSBjb25zdHJ1Y3RvclxuZnVuY3Rpb24gY3JlYXRlQ29tcGF0VnVlKGNyZWF0ZUFwcCwgY3JlYXRlU2luZ2xldG9uQXBwKSB7XG4gICAgc2luZ2xldG9uQXBwID0gY3JlYXRlU2luZ2xldG9uQXBwKHt9KTtcbiAgICBjb25zdCBWdWUgPSAoc2luZ2xldG9uQ3RvciA9IGZ1bmN0aW9uIFZ1ZShvcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbXBhdEFwcChvcHRpb25zLCBWdWUpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBhdEFwcChvcHRpb25zID0ge30sIEN0b3IpIHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9NT1VOVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX01PVU5UICovLCBudWxsKTtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoZGF0YSAmJlxuICAgICAgICAgICAgIWlzRnVuY3Rpb24oZGF0YSkgJiZcbiAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiT1BUSU9OU19EQVRBX0ZOXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfRk4gKi8sIG51bGwpKSB7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSAoKSA9PiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcChvcHRpb25zKTtcbiAgICAgICAgaWYgKEN0b3IgIT09IFZ1ZSkge1xuICAgICAgICAgICAgYXBwbHlTaW5nbGV0b25Qcm90b3R5cGUoYXBwLCBDdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bSA9IGFwcC5fY3JlYXRlUm9vdChvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2bS4kbW91bnQob3B0aW9ucy5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdm07XG4gICAgICAgIH1cbiAgICB9XG4gICAgVnVlLnZlcnNpb24gPSBgMi42LjE0LWNvbXBhdDoke1wiMy4yLjQ1XCJ9YDtcbiAgICBWdWUuY29uZmlnID0gc2luZ2xldG9uQXBwLmNvbmZpZztcbiAgICBWdWUudXNlID0gKHAsIC4uLm9wdGlvbnMpID0+IHtcbiAgICAgICAgaWYgKHAgJiYgaXNGdW5jdGlvbihwLmluc3RhbGwpKSB7XG4gICAgICAgICAgICBwLmluc3RhbGwoVnVlLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHApKSB7XG4gICAgICAgICAgICBwKFZ1ZSwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFZ1ZTtcbiAgICB9O1xuICAgIFZ1ZS5taXhpbiA9IG0gPT4ge1xuICAgICAgICBzaW5nbGV0b25BcHAubWl4aW4obSk7XG4gICAgICAgIHJldHVybiBWdWU7XG4gICAgfTtcbiAgICBWdWUuY29tcG9uZW50ID0gKChuYW1lLCBjb21wKSA9PiB7XG4gICAgICAgIGlmIChjb21wKSB7XG4gICAgICAgICAgICBzaW5nbGV0b25BcHAuY29tcG9uZW50KG5hbWUsIGNvbXApO1xuICAgICAgICAgICAgcmV0dXJuIFZ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzaW5nbGV0b25BcHAuY29tcG9uZW50KG5hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgVnVlLmRpcmVjdGl2ZSA9ICgobmFtZSwgZGlyKSA9PiB7XG4gICAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgICAgIHNpbmdsZXRvbkFwcC5kaXJlY3RpdmUobmFtZSwgZGlyKTtcbiAgICAgICAgICAgIHJldHVybiBWdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2luZ2xldG9uQXBwLmRpcmVjdGl2ZShuYW1lKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFZ1ZS5vcHRpb25zID0geyBfYmFzZTogVnVlIH07XG4gICAgbGV0IGNpZCA9IDE7XG4gICAgVnVlLmNpZCA9IGNpZDtcbiAgICBWdWUubmV4dFRpY2sgPSBuZXh0VGljaztcbiAgICBjb25zdCBleHRlbmRDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgZnVuY3Rpb24gZXh0ZW5kQ3RvcihleHRlbmRPcHRpb25zID0ge30pIHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9FWFRFTkRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9FWFRFTkQgKi8sIG51bGwpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihleHRlbmRPcHRpb25zKSkge1xuICAgICAgICAgICAgZXh0ZW5kT3B0aW9ucyA9IGV4dGVuZE9wdGlvbnMub3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZW5kQ2FjaGUuaGFzKGV4dGVuZE9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kQ2FjaGUuZ2V0KGV4dGVuZE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFN1cGVyID0gdGhpcztcbiAgICAgICAgZnVuY3Rpb24gU3ViVnVlKGlubGluZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghaW5saW5lT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb21wYXRBcHAoU3ViVnVlLm9wdGlvbnMsIFN1YlZ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29tcGF0QXBwKG1lcmdlT3B0aW9ucyhleHRlbmQoe30sIFN1YlZ1ZS5vcHRpb25zKSwgaW5saW5lT3B0aW9ucywgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyksIFN1YlZ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgU3ViVnVlLnN1cGVyID0gU3VwZXI7XG4gICAgICAgIFN1YlZ1ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFZ1ZS5wcm90b3R5cGUpO1xuICAgICAgICBTdWJWdWUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViVnVlO1xuICAgICAgICAvLyBjbG9uZSBub24tcHJpbWl0aXZlIGJhc2Ugb3B0aW9uIHZhbHVlcyBmb3IgZWRnZSBjYXNlIG9mIG11dGF0aW5nXG4gICAgICAgIC8vIGV4dGVuZGVkIG9wdGlvbnNcbiAgICAgICAgY29uc3QgbWVyZ2VCYXNlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIFN1cGVyLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cGVyVmFsdWUgPSBTdXBlci5vcHRpb25zW2tleV07XG4gICAgICAgICAgICBtZXJnZUJhc2Vba2V5XSA9IGlzQXJyYXkoc3VwZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICA/IHN1cGVyVmFsdWUuc2xpY2UoKVxuICAgICAgICAgICAgICAgIDogaXNPYmplY3Qoc3VwZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgPyBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwgc3VwZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgOiBzdXBlclZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIFN1YlZ1ZS5vcHRpb25zID0gbWVyZ2VPcHRpb25zKG1lcmdlQmFzZSwgZXh0ZW5kT3B0aW9ucywgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyk7XG4gICAgICAgIFN1YlZ1ZS5vcHRpb25zLl9iYXNlID0gU3ViVnVlO1xuICAgICAgICBTdWJWdWUuZXh0ZW5kID0gZXh0ZW5kQ3Rvci5iaW5kKFN1YlZ1ZSk7XG4gICAgICAgIFN1YlZ1ZS5taXhpbiA9IFN1cGVyLm1peGluO1xuICAgICAgICBTdWJWdWUudXNlID0gU3VwZXIudXNlO1xuICAgICAgICBTdWJWdWUuY2lkID0gKytjaWQ7XG4gICAgICAgIGV4dGVuZENhY2hlLnNldChleHRlbmRPcHRpb25zLCBTdWJWdWUpO1xuICAgICAgICByZXR1cm4gU3ViVnVlO1xuICAgIH1cbiAgICBWdWUuZXh0ZW5kID0gZXh0ZW5kQ3Rvci5iaW5kKFZ1ZSk7XG4gICAgVnVlLnNldCA9ICh0YXJnZXQsIGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9TRVRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9TRVQgKi8sIG51bGwpO1xuICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gICAgVnVlLmRlbGV0ZSA9ICh0YXJnZXQsIGtleSkgPT4ge1xuICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiR0xPQkFMX0RFTEVURVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX0RFTEVURSAqLywgbnVsbCk7XG4gICAgICAgIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgICB9O1xuICAgIFZ1ZS5vYnNlcnZhYmxlID0gKHRhcmdldCkgPT4ge1xuICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiR0xPQkFMX09CU0VSVkFCTEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9PQlNFUlZBQkxFICovLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHJlYWN0aXZlKHRhcmdldCk7XG4gICAgfTtcbiAgICBWdWUuZmlsdGVyID0gKChuYW1lLCBmaWx0ZXIpID0+IHtcbiAgICAgICAgaWYgKGZpbHRlcikge1xuICAgICAgICAgICAgc2luZ2xldG9uQXBwLmZpbHRlcihuYW1lLCBmaWx0ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIFZ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzaW5nbGV0b25BcHAuZmlsdGVyKG5hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gaW50ZXJuYWwgdXRpbHMgLSB0aGVzZSBhcmUgdGVjaG5pY2FsbHkgaW50ZXJuYWwgYnV0IHNvbWUgcGx1Z2lucyB1c2UgaXQuXG4gICAgY29uc3QgdXRpbCA9IHtcbiAgICAgICAgd2FybjogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gd2FybiQxIDogTk9PUCxcbiAgICAgICAgZXh0ZW5kLFxuICAgICAgICBtZXJnZU9wdGlvbnM6IChwYXJlbnQsIGNoaWxkLCB2bSkgPT4gbWVyZ2VPcHRpb25zKHBhcmVudCwgY2hpbGQsIHZtID8gdW5kZWZpbmVkIDogaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyksXG4gICAgICAgIGRlZmluZVJlYWN0aXZlXG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAndXRpbCcsIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9QUklWQVRFX1VUSUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUklWQVRFX1VUSUwgKi8sIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHV0aWw7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBWdWUuY29uZmlndXJlQ29tcGF0ID0gY29uZmlndXJlQ29tcGF0O1xuICAgIHJldHVybiBWdWU7XG59XG5mdW5jdGlvbiBpbnN0YWxsQXBwQ29tcGF0UHJvcGVydGllcyhhcHAsIGNvbnRleHQsIHJlbmRlcikge1xuICAgIGluc3RhbGxGaWx0ZXJNZXRob2QoYXBwLCBjb250ZXh0KTtcbiAgICBpbnN0YWxsTGVnYWN5T3B0aW9uTWVyZ2VTdHJhdHMoYXBwLmNvbmZpZyk7XG4gICAgaWYgKCFzaW5nbGV0b25BcHApIHtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgY2FsbCBvZiBjcmVhdGluZyB0aGUgc2luZ2xldG9uIGl0c2VsZiBzbyB0aGUgcmVzdCBpc1xuICAgICAgICAvLyB1bm5lY2Vzc2FyeVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGluc3RhbGxDb21wYXRNb3VudChhcHAsIGNvbnRleHQsIHJlbmRlcik7XG4gICAgaW5zdGFsbExlZ2FjeUFQSXMoYXBwKTtcbiAgICBhcHBseVNpbmdsZXRvbkFwcE11dGF0aW9ucyhhcHApO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpXG4gICAgICAgIGluc3RhbGxMZWdhY3lDb25maWdXYXJuaW5ncyhhcHAuY29uZmlnKTtcbn1cbmZ1bmN0aW9uIGluc3RhbGxGaWx0ZXJNZXRob2QoYXBwLCBjb250ZXh0KSB7XG4gICAgY29udGV4dC5maWx0ZXJzID0ge307XG4gICAgYXBwLmZpbHRlciA9IChuYW1lLCBmaWx0ZXIpID0+IHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkZJTFRFUlNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkZJTFRFUlMgKi8sIG51bGwpO1xuICAgICAgICBpZiAoIWZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZmlsdGVyc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbnRleHQuZmlsdGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgd2FybiQxKGBGaWx0ZXIgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuZmlsdGVyc1tuYW1lXSA9IGZpbHRlcjtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICB9O1xufVxuZnVuY3Rpb24gaW5zdGFsbExlZ2FjeUFQSXMoYXBwKSB7XG4gICAgLy8gZXhwb3NlIGdsb2JhbCBBUEkgb24gYXBwIGluc3RhbmNlIGZvciBsZWdhY3kgcGx1Z2luc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGFwcCwge1xuICAgICAgICAvLyBzbyB0aGF0IGFwcC51c2UoKSBjYW4gd29yayB3aXRoIGxlZ2FjeSBwbHVnaW5zIHRoYXQgZXh0ZW5kIHByb3RvdHlwZXNcbiAgICAgICAgcHJvdG90eXBlOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5EZXByZWNhdGlvbihcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUk9UT1RZUEUgKi8sIG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG5leHRUaWNrOiB7IHZhbHVlOiBuZXh0VGljayB9LFxuICAgICAgICBleHRlbmQ6IHsgdmFsdWU6IHNpbmdsZXRvbkN0b3IuZXh0ZW5kIH0sXG4gICAgICAgIHNldDogeyB2YWx1ZTogc2luZ2xldG9uQ3Rvci5zZXQgfSxcbiAgICAgICAgZGVsZXRlOiB7IHZhbHVlOiBzaW5nbGV0b25DdG9yLmRlbGV0ZSB9LFxuICAgICAgICBvYnNlcnZhYmxlOiB7IHZhbHVlOiBzaW5nbGV0b25DdG9yLm9ic2VydmFibGUgfSxcbiAgICAgICAgdXRpbDoge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaW5nbGV0b25DdG9yLnV0aWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFwcGx5U2luZ2xldG9uQXBwTXV0YXRpb25zKGFwcCkge1xuICAgIC8vIGNvcHkgb3ZlciBhc3NldCByZWdpc3RyaWVzIGFuZCBkZW9wdCBmbGFnXG4gICAgYXBwLl9jb250ZXh0Lm1peGlucyA9IFsuLi5zaW5nbGV0b25BcHAuX2NvbnRleHQubWl4aW5zXTtcbiAgICBbJ2NvbXBvbmVudHMnLCAnZGlyZWN0aXZlcycsICdmaWx0ZXJzJ10uZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGFwcC5fY29udGV4dFtrZXldID0gT2JqZWN0LmNyZWF0ZShzaW5nbGV0b25BcHAuX2NvbnRleHRba2V5XSk7XG4gICAgfSk7XG4gICAgLy8gY29weSBvdmVyIGdsb2JhbCBjb25maWcgbXV0YXRpb25zXG4gICAgaXNDb3B5aW5nQ29uZmlnID0gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzaW5nbGV0b25BcHAuY29uZmlnKSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdpc05hdGl2ZVRhZycpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKGlzUnVudGltZU9ubHkoKSAmJlxuICAgICAgICAgICAgKGtleSA9PT0gJ2lzQ3VzdG9tRWxlbWVudCcgfHwga2V5ID09PSAnY29tcGlsZXJPcHRpb25zJykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbCA9IHNpbmdsZXRvbkFwcC5jb25maWdba2V5XTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhcHAuY29uZmlnW2tleV0gPSBpc09iamVjdCh2YWwpID8gT2JqZWN0LmNyZWF0ZSh2YWwpIDogdmFsO1xuICAgICAgICAvLyBjb21wYXQgZm9yIHJ1bnRpbWUgaWdub3JlZEVsZW1lbnRzIC0+IGlzQ3VzdG9tRWxlbWVudFxuICAgICAgICBpZiAoa2V5ID09PSAnaWdub3JlZEVsZW1lbnRzJyAmJlxuICAgICAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiQ09ORklHX0lHTk9SRURfRUxFTUVOVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19JR05PUkVEX0VMRU1FTlRTICovLCBudWxsKSAmJlxuICAgICAgICAgICAgIWlzUnVudGltZU9ubHkoKSAmJlxuICAgICAgICAgICAgaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBhcHAuY29uZmlnLmNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnQgPSB0YWcgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWwuc29tZSh2ID0+IChpc1N0cmluZyh2KSA/IHYgPT09IHRhZyA6IHYudGVzdCh0YWcpKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzQ29weWluZ0NvbmZpZyA9IGZhbHNlO1xuICAgIGFwcGx5U2luZ2xldG9uUHJvdG90eXBlKGFwcCwgc2luZ2xldG9uQ3Rvcik7XG59XG5mdW5jdGlvbiBhcHBseVNpbmdsZXRvblByb3RvdHlwZShhcHAsIEN0b3IpIHtcbiAgICAvLyBjb3B5IHByb3RvdHlwZSBhdWdtZW50YXRpb25zIGFzIGNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzXG4gICAgY29uc3QgZW5hYmxlZCA9IGlzQ29tcGF0RW5hYmxlZChcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUk9UT1RZUEUgKi8sIG51bGwpO1xuICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyA9IE9iamVjdC5jcmVhdGUoQ3Rvci5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBsZXQgaGFzUHJvdG90eXBlQXVnbWVudGF0aW9ucyA9IGZhbHNlO1xuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoQ3Rvci5wcm90b3R5cGUpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRlc2NyaXB0b3JzKSB7XG4gICAgICAgIGlmIChrZXkgIT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICAgIGhhc1Byb3RvdHlwZUF1Z21lbnRhdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXksIGRlc2NyaXB0b3JzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaGFzUHJvdG90eXBlQXVnbWVudGF0aW9ucykge1xuICAgICAgICB3YXJuRGVwcmVjYXRpb24oXCJHTE9CQUxfUFJPVE9UWVBFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfUFJPVE9UWVBFICovLCBudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnN0YWxsQ29tcGF0TW91bnQoYXBwLCBjb250ZXh0LCByZW5kZXIpIHtcbiAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVnVlIDIgc3VwcG9ydHMgdGhlIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgY29tcG9uZW50IGluc3RhbmNlIGJ1dCBub3RcbiAgICAgKiBtb3VudGluZyBpdCwgd2hpY2ggaXMgbm8gbG9uZ2VyIHBvc3NpYmxlIGluIFZ1ZSAzIC0gdGhpcyBpbnRlcm5hbFxuICAgICAqIGZ1bmN0aW9uIHNpbXVsYXRlcyB0aGF0IGJlaGF2aW9yLlxuICAgICAqL1xuICAgIGFwcC5fY3JlYXRlUm9vdCA9IG9wdGlvbnMgPT4ge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBhcHAuX2NvbXBvbmVudDtcbiAgICAgICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHNEYXRhIHx8IG51bGwpO1xuICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgaGFzTm9SZW5kZXIgPSAhaXNGdW5jdGlvbihjb21wb25lbnQpICYmICFjb21wb25lbnQucmVuZGVyICYmICFjb21wb25lbnQudGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IGVtcHR5UmVuZGVyID0gKCkgPT4geyB9O1xuICAgICAgICAvLyBjcmVhdGUgcm9vdCBpbnN0YW5jZVxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKHZub2RlLCBudWxsLCBudWxsKTtcbiAgICAgICAgLy8gc3VwcHJlc3MgXCJtaXNzaW5nIHJlbmRlciBmblwiIHdhcm5pbmcgc2luY2UgaXQgY2FuJ3QgYmUgZGV0ZXJtaW5lZFxuICAgICAgICAvLyB1bnRpbCAkbW91bnQgaXMgY2FsbGVkXG4gICAgICAgIGlmIChoYXNOb1JlbmRlcikge1xuICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gZW1wdHlSZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBDb21wb25lbnQoaW5zdGFuY2UpO1xuICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBpbnN0YW5jZTtcbiAgICAgICAgdm5vZGUuaXNDb21wYXRSb290ID0gdHJ1ZTtcbiAgICAgICAgLy8gJG1vdW50ICYgJGRlc3Ryb3lcbiAgICAgICAgLy8gdGhlc2UgYXJlIGRlZmluZWQgb24gY3R4IGFuZCBwaWNrZWQgdXAgYnkgdGhlICRtb3VudC8kZGVzdHJveVxuICAgICAgICAvLyBwdWJsaWMgcHJvcGVydHkgZ2V0dGVycyBvbiB0aGUgaW5zdGFuY2UgcHJveHkuXG4gICAgICAgIC8vIE5vdGU6IHRoZSBmb2xsb3dpbmcgYXNzdW1lcyBET00gZW52aXJvbm1lbnQgc2luY2UgdGhlIGNvbXBhdCBidWlsZFxuICAgICAgICAvLyBvbmx5IHRhcmdldHMgd2ViLiBJdCBlc3NlbnRpYWxseSBpbmNsdWRlcyBsb2dpYyBmb3IgYXBwLm1vdW50IGZyb21cbiAgICAgICAgLy8gYm90aCBydW50aW1lLWNvcmUgQU5EIHJ1bnRpbWUtZG9tLlxuICAgICAgICBpbnN0YW5jZS5jdHguX2NvbXBhdF9tb3VudCA9IChzZWxlY3Rvck9yRWwpID0+IHtcbiAgICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGBSb290IGluc3RhbmNlIGlzIGFscmVhZHkgbW91bnRlZC5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3Rvck9yRWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvck9yRWwpO1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBGYWlsZWQgdG8gbW91bnQgcm9vdCBpbnN0YW5jZTogc2VsZWN0b3IgXCIke3NlbGVjdG9yT3JFbH1cIiByZXR1cm5lZCBudWxsLmApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHNlbGVjdG9yT3JFbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzU1ZHID0gY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbiAgICAgICAgICAgIC8vIEhNUiByb290IHJlbG9hZFxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcGF0IG1vZGUgd2lsbCB1c2UgaW5zdGFuY2UgaWYgbm90IHJlc2V0IHRvIG51bGxcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmNvbXBvbmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcihjbG9uZWQsIGNvbnRhaW5lciwgaXNTVkcpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXNvbHZlIGluLURPTSB0ZW1wbGF0ZSBpZiBjb21wb25lbnQgZGlkIG5vdCBwcm92aWRlIHJlbmRlclxuICAgICAgICAgICAgLy8gYW5kIG5vIHNldHVwL21peGluIHJlbmRlciBmdW5jdGlvbnMgYXJlIHByb3ZpZGVkIChieSBjaGVja2luZ1xuICAgICAgICAgICAgLy8gdGhhdCB0aGUgaW5zdGFuY2UgaXMgc3RpbGwgdXNpbmcgdGhlIHBsYWNlaG9sZGVyIHJlbmRlciBmbilcbiAgICAgICAgICAgIGlmIChoYXNOb1JlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IGVtcHR5UmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gcm9vdCBkaXJlY3RpdmVzIGNoZWNrXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lci5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyID0gY29udGFpbmVyLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ci5uYW1lICE9PSAndi1jbG9haycgJiYgL14odi18OnxAKS8udGVzdChhdHRyLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybkRlcHJlY2F0aW9uKFwiR0xPQkFMX01PVU5UX0NPTlRBSU5FUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX01PVU5UX0NPTlRBSU5FUiAqLywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQudGVtcGxhdGUgPSBjb250YWluZXIuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBmYWxzZSwgdHJ1ZSAvKiBza2lwIG9wdGlvbnMgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2xlYXIgY29udGVudCBiZWZvcmUgbW91bnRpbmdcbiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIC8vIFRPRE8gaHlkcmF0aW9uXG4gICAgICAgICAgICByZW5kZXIodm5vZGUsIGNvbnRhaW5lciwgaXNTVkcpO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCd2LWNsb2FrJyk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS12LWFwcCcsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIGNvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG4gICAgICAgIH07XG4gICAgICAgIGluc3RhbmNlLmN0eC5fY29tcGF0X2Rlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBidW0sIHNjb3BlLCB1bSB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlRGVzdHJveSBob29rc1xuICAgICAgICAgICAgICAgIGlmIChidW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmVtaXQoJ2hvb2s6YmVmb3JlRGVzdHJveScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzdG9wIGVmZmVjdHNcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB1bm1vdW50ZWQgaG9va1xuICAgICAgICAgICAgICAgIGlmICh1bSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyh1bSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5lbWl0KCdob29rOmRlc3Ryb3llZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xuICAgIH07XG59XG5jb25zdCBtZXRob2RzVG9QYXRjaCA9IFtcbiAgICAncHVzaCcsXG4gICAgJ3BvcCcsXG4gICAgJ3NoaWZ0JyxcbiAgICAndW5zaGlmdCcsXG4gICAgJ3NwbGljZScsXG4gICAgJ3NvcnQnLFxuICAgICdyZXZlcnNlJ1xuXTtcbmNvbnN0IHBhdGNoZWQgPSBuZXcgV2Vha1NldCgpO1xuZnVuY3Rpb24gZGVmaW5lUmVhY3RpdmUob2JqLCBrZXksIHZhbCkge1xuICAgIC8vIGl0J3MgcG9zc2libGUgZm9yIHRoZSBvcmlnaW5hbCBvYmplY3QgdG8gYmUgbXV0YXRlZCBhZnRlciBiZWluZyBkZWZpbmVkXG4gICAgLy8gYW5kIGV4cGVjdGluZyByZWFjdGl2aXR5Li4uIHdlIGFyZSBjb3ZlcmluZyBpdCBoZXJlIGJlY2F1c2UgdGhpcyBzZWVtcyB0b1xuICAgIC8vIGJlIGEgYml0IG1vcmUgY29tbW9uLlxuICAgIGlmIChpc09iamVjdCh2YWwpICYmICFpc1JlYWN0aXZlKHZhbCkgJiYgIXBhdGNoZWQuaGFzKHZhbCkpIHtcbiAgICAgICAgY29uc3QgcmVhY3RpdmVWYWwgPSByZWFjdGl2ZSh2YWwpO1xuICAgICAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBtZXRob2RzVG9QYXRjaC5mb3JFYWNoKG0gPT4ge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB2YWxbbV0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZVttXS5jYWxsKHJlYWN0aXZlVmFsLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh2YWwpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkZWZpbmVSZWFjdGl2ZVNpbXBsZSh2YWwsIGtleSwgdmFsW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpID0gb2JqLiQ7XG4gICAgaWYgKGkgJiYgb2JqID09PSBpLnByb3h5KSB7XG4gICAgICAgIC8vIHRhcmdldCBpcyBhIFZ1ZSBpbnN0YW5jZSAtIGRlZmluZSBvbiBpbnN0YW5jZS5jdHhcbiAgICAgICAgZGVmaW5lUmVhY3RpdmVTaW1wbGUoaS5jdHgsIGtleSwgdmFsKTtcbiAgICAgICAgaS5hY2Nlc3NDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xuICAgICAgICBvYmpba2V5XSA9IHZhbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlZmluZVJlYWN0aXZlU2ltcGxlKG9iaiwga2V5LCB2YWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlZmluZVJlYWN0aXZlU2ltcGxlKG9iaiwga2V5LCB2YWwpIHtcbiAgICB2YWwgPSBpc09iamVjdCh2YWwpID8gcmVhY3RpdmUodmFsKSA6IHZhbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICB0cmFjayhvYmosIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywga2V5KTtcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldChuZXdWYWwpIHtcbiAgICAgICAgICAgIHZhbCA9IGlzT2JqZWN0KG5ld1ZhbCkgPyByZWFjdGl2ZShuZXdWYWwpIDogbmV3VmFsO1xuICAgICAgICAgICAgdHJpZ2dlcihvYmosIFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLCBrZXksIG5ld1ZhbCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQXBwQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcHA6IG51bGwsXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgaXNOYXRpdmVUYWc6IE5PLFxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICAgICAgICAgICAgZ2xvYmFsUHJvcGVydGllczoge30sXG4gICAgICAgICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxuICAgICAgICAgICAgZXJyb3JIYW5kbGVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB3YXJuSGFuZGxlcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxuICAgICAgICB9LFxuICAgICAgICBtaXhpbnM6IFtdLFxuICAgICAgICBjb21wb25lbnRzOiB7fSxcbiAgICAgICAgZGlyZWN0aXZlczoge30sXG4gICAgICAgIHByb3ZpZGVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICBvcHRpb25zQ2FjaGU6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgIHByb3BzQ2FjaGU6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgIGVtaXRzQ2FjaGU6IG5ldyBXZWFrTWFwKClcbiAgICB9O1xufVxubGV0IHVpZCA9IDA7XG5mdW5jdGlvbiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XG4gICAgICAgIGlmICghaXNGdW5jdGlvbihyb290Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgcm9vdENvbXBvbmVudCA9IE9iamVjdC5hc3NpZ24oe30sIHJvb3RDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb290UHJvcHMgIT0gbnVsbCAmJiAhaXNPYmplY3Qocm9vdFByb3BzKSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICAgICAgICByb290UHJvcHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGxldCBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgYXBwID0gKGNvbnRleHQuYXBwID0ge1xuICAgICAgICAgICAgX3VpZDogdWlkKyssXG4gICAgICAgICAgICBfY29tcG9uZW50OiByb290Q29tcG9uZW50LFxuICAgICAgICAgICAgX3Byb3BzOiByb290UHJvcHMsXG4gICAgICAgICAgICBfY29udGFpbmVyOiBudWxsLFxuICAgICAgICAgICAgX2NvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBfaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICB2ZXJzaW9uLFxuICAgICAgICAgICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb25maWc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNvbmZpZyh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYGFwcC5jb25maWcgY2Fubm90IGJlIHJlcGxhY2VkLiBNb2RpZnkgaW5kaXZpZHVhbCBvcHRpb25zIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVzZShwbHVnaW4sIC4uLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkUGx1Z2lucy5oYXMocGx1Z2luKSkge1xuICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGBQbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsdWdpbiAmJiBpc0Z1bmN0aW9uKHBsdWdpbi5pbnN0YWxsKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uaW5zdGFsbChhcHAsIC4uLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEEgcGx1Z2luIG11c3QgZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IHdpdGggYW4gXCJpbnN0YWxsXCIgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgZnVuY3Rpb24uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWl4aW4obWl4aW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQubWl4aW5zLmluY2x1ZGVzKG1peGluKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5taXhpbnMucHVzaChtaXhpbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJ01peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1peGluLm5hbWUgPyBgOiAke21peGluLm5hbWV9YCA6ICcnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMSgnTWl4aW5zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBidWlsZHMgc3VwcG9ydGluZyBPcHRpb25zIEFQSScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb250ZXh0LmNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5jb21wb25lbnRzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgRGlyZWN0aXZlIFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0gPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3VudChyb290Q29udGFpbmVyLCBpc0h5ZHJhdGUsIGlzU1ZHKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gIzU1NzFcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYFRoZXJlIGlzIGFscmVhZHkgYW4gYXBwIGluc3RhbmNlIG1vdW50ZWQgb24gdGhlIGhvc3QgY29udGFpbmVyLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAgSWYgeW91IHdhbnQgdG8gbW91bnQgYW5vdGhlciBhcHAgb24gdGhlIHNhbWUgaG9zdCBjb250YWluZXIsYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCB5b3UgbmVlZCB0byB1bm1vdW50IHRoZSBwcmV2aW91cyBhcHAgYnkgY2FsbGluZyBcXGBhcHAudW5tb3VudCgpXFxgIGZpcnN0LmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUocm9vdENvbXBvbmVudCwgcm9vdFByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgYXBwIGNvbnRleHQgb24gdGhlIHJvb3QgVk5vZGUuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBiZSBzZXQgb24gdGhlIHJvb3QgaW5zdGFuY2Ugb24gaW5pdGlhbCBtb3VudC5cbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhNUiByb290IHJlbG9hZFxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlbG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXIoY2xvbmVWTm9kZSh2bm9kZSksIHJvb3RDb250YWluZXIsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSHlkcmF0ZSAmJiBoeWRyYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRlKHZub2RlLCByb290Q29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgcm9vdENvbnRhaW5lciwgaXNTVkcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGFwcC5fY29udGFpbmVyID0gcm9vdENvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RXhwb3NlUHJveHkodm5vZGUuY29tcG9uZW50KSB8fCB2bm9kZS5jb21wb25lbnQucHJveHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IHdhbnQgdG8gcmVtb3VudCB0aGUgc2FtZSBhcHAsIG1vdmUgeW91ciBhcHAgY3JlYXRpb24gbG9naWMgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgaW50byBhIGZhY3RvcnkgZnVuY3Rpb24gYW5kIGNyZWF0ZSBmcmVzaCBhcHAgaW5zdGFuY2VzIGZvciBlYWNoIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYG1vdW50IC0gZS5nLiBcXGBjb25zdCBjcmVhdGVNeUFwcCA9ICgpID0+IGNyZWF0ZUFwcChBcHApXFxgYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVubW91bnQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXIobnVsbCwgYXBwLl9jb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXBwLl9jb250YWluZXIuX192dWVfYXBwX187XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYENhbm5vdCB1bm1vdW50IGFuIGFwcCB0aGF0IGlzIG5vdCBtb3VudGVkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSBpbiBjb250ZXh0LnByb3ZpZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQXBwIGFscmVhZHkgcHJvdmlkZXMgcHJvcGVydHkgd2l0aCBrZXkgXCIke1N0cmluZyhrZXkpfVwiLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC5wcm92aWRlc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGluc3RhbGxBcHBDb21wYXRQcm9wZXJ0aWVzKGFwcCwgY29udGV4dCwgcmVuZGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgIH07XG59XG5cbi8qKlxuICogRnVuY3Rpb24gZm9yIGhhbmRsaW5nIGEgdGVtcGxhdGUgcmVmXG4gKi9cbmZ1bmN0aW9uIHNldFJlZihyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCBpc1VubW91bnQgPSBmYWxzZSkge1xuICAgIGlmIChpc0FycmF5KHJhd1JlZikpIHtcbiAgICAgICAgcmF3UmVmLmZvckVhY2goKHIsIGkpID0+IHNldFJlZihyLCBvbGRSYXdSZWYgJiYgKGlzQXJyYXkob2xkUmF3UmVmKSA/IG9sZFJhd1JlZltpXSA6IG9sZFJhd1JlZiksIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgaXNVbm1vdW50KSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSAmJiAhaXNVbm1vdW50KSB7XG4gICAgICAgIC8vIHdoZW4gbW91bnRpbmcgYXN5bmMgY29tcG9uZW50cywgbm90aGluZyBuZWVkcyB0byBiZSBkb25lLFxuICAgICAgICAvLyBiZWNhdXNlIHRoZSB0ZW1wbGF0ZSByZWYgaXMgZm9yd2FyZGVkIHRvIGlubmVyIGNvbXBvbmVudFxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlZlZhbHVlID0gdm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqL1xuICAgICAgICA/IGdldEV4cG9zZVByb3h5KHZub2RlLmNvbXBvbmVudCkgfHwgdm5vZGUuY29tcG9uZW50LnByb3h5XG4gICAgICAgIDogdm5vZGUuZWw7XG4gICAgY29uc3QgdmFsdWUgPSBpc1VubW91bnQgPyBudWxsIDogcmVmVmFsdWU7XG4gICAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhb3duZXIpIHtcbiAgICAgICAgd2FybiQxKGBNaXNzaW5nIHJlZiBvd25lciBjb250ZXh0LiByZWYgY2Fubm90IGJlIHVzZWQgb24gaG9pc3RlZCB2bm9kZXMuIGAgK1xuICAgICAgICAgICAgYEEgdm5vZGUgd2l0aCByZWYgbXVzdCBiZSBjcmVhdGVkIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uLmApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcbiAgICBjb25zdCByZWZzID0gb3duZXIucmVmcyA9PT0gRU1QVFlfT0JKID8gKG93bmVyLnJlZnMgPSB7fSkgOiBvd25lci5yZWZzO1xuICAgIGNvbnN0IHNldHVwU3RhdGUgPSBvd25lci5zZXR1cFN0YXRlO1xuICAgIC8vIGR5bmFtaWMgcmVmIGNoYW5nZWQuIHVuc2V0IG9sZCByZWZcbiAgICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKG9sZFJlZikpIHtcbiAgICAgICAgICAgIHJlZnNbb2xkUmVmXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIG9sZFJlZikpIHtcbiAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW29sZFJlZl0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUmVmKG9sZFJlZikpIHtcbiAgICAgICAgICAgIG9sZFJlZi52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcocmVmLCBvd25lciwgMTIgLyogRXJyb3JDb2Rlcy5GVU5DVElPTl9SRUYgKi8sIFt2YWx1ZSwgcmVmc10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgX2lzU3RyaW5nID0gaXNTdHJpbmcocmVmKTtcbiAgICAgICAgY29uc3QgX2lzUmVmID0gaXNSZWYocmVmKTtcbiAgICAgICAgaWYgKF9pc1N0cmluZyB8fCBfaXNSZWYpIHtcbiAgICAgICAgICAgIGNvbnN0IGRvU2V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyYXdSZWYuZikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IF9pc1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0dXBTdGF0ZVtyZWZdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZWZzW3JlZl1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNVbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5KGV4aXN0aW5nKSAmJiByZW1vdmUoZXhpc3RpbmcsIHJlZlZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2lzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gcmVmc1tyZWZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYudmFsdWUgPSBbcmVmVmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZzW3Jhd1JlZi5rXSA9IHJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghZXhpc3RpbmcuaW5jbHVkZXMocmVmVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcucHVzaChyZWZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX2lzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIHJlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKF9pc1JlZikge1xuICAgICAgICAgICAgICAgICAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1JlZi5rKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmc1tyYXdSZWYua10gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMSgnSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTonLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcbiAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZG9TZXQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvU2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuJDEoJ0ludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6JywgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmxldCBoYXNNaXNtYXRjaCA9IGZhbHNlO1xuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiAvc3ZnLy50ZXN0KGNvbnRhaW5lci5uYW1lc3BhY2VVUkkpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSAnZm9yZWlnbk9iamVjdCc7XG5jb25zdCBpc0NvbW1lbnQgPSAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBET01Ob2RlVHlwZXMuQ09NTUVOVCAqLztcbi8vIE5vdGU6IGh5ZHJhdGlvbiBpcyBET00tc3BlY2lmaWNcbi8vIEJ1dCB3ZSBoYXZlIHRvIHBsYWNlIGl0IGluIGNvcmUgZHVlIHRvIHRpZ2h0IGNvdXBsaW5nIHdpdGggY29yZSAtIHNwbGl0dGluZ1xuLy8gaXQgb3V0IGNyZWF0ZXMgYSB0b24gb2YgdW5uZWNlc3NhcnkgY29tcGxleGl0eS5cbi8vIEh5ZHJhdGlvbiBhbHNvIGRlcGVuZHMgb24gc29tZSByZW5kZXJlciBpbnRlcm5hbCBsb2dpYyB3aGljaCBuZWVkcyB0byBiZVxuLy8gcGFzc2VkIGluIHZpYSBhcmd1bWVudHMuXG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMocmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgICBjb25zdCB7IG10OiBtb3VudENvbXBvbmVudCwgcDogcGF0Y2gsIG86IHsgcGF0Y2hQcm9wLCBjcmVhdGVUZXh0LCBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcmVtb3ZlLCBpbnNlcnQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gICAgY29uc3QgaHlkcmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XG4gICAgICAgIGlmICghY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybiQxKGBBdHRlbXB0aW5nIHRvIGh5ZHJhdGUgZXhpc3RpbmcgbWFya3VwIGJ1dCBjb250YWluZXIgaXMgZW1wdHkuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYCk7XG4gICAgICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyKTtcbiAgICAgICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICAgICAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgaHlkcmF0ZU5vZGUoY29udGFpbmVyLmZpcnN0Q2hpbGQsIHZub2RlLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICAgICAgICBpZiAoaGFzTWlzbWF0Y2ggJiYgIWZhbHNlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGVycm9yIHNob3VsZCBzaG93IHVwIGluIHByb2R1Y3Rpb25cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEh5ZHJhdGlvbiBjb21wbGV0ZWQgYnV0IGNvbnRhaW5zIG1pc21hdGNoZXMuYCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGh5ZHJhdGVOb2RlID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzRnJhZ21lbnRTdGFydCA9IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09ICdbJztcbiAgICAgICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnRTdGFydCk7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcsIHBhdGNoRmxhZyB9ID0gdm5vZGU7XG4gICAgICAgIGxldCBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICAgICAgdm5vZGUuZWwgPSBub2RlO1xuICAgICAgICBpZiAocGF0Y2hGbGFnID09PSAtMiAvKiBQYXRjaEZsYWdzLkJBSUwgKi8pIHtcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV4dE5vZGUgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMyAvKiBET01Ob2RlVHlwZXMuVEVYVCAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyAjNTcyOCBlbXB0eSB0ZXh0IG5vZGUgaW5zaWRlIGEgc2xvdCBjYW4gY2F1c2UgaHlkcmF0aW9uIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGUgc2VydmVyIHJlbmRlcmVkIEhUTUwgd29uJ3QgY29udGFpbiBhIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQoKHZub2RlLmVsID0gY3JlYXRlVGV4dCgnJykpLCBwYXJlbnROb2RlKG5vZGUpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhICE9PSB2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBIeWRyYXRpb24gdGV4dCBtaXNtYXRjaDpgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbi0gQ2xpZW50OiAke0pTT04uc3RyaW5naWZ5KG5vZGUuZGF0YSl9YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcXG4tIFNlcnZlcjogJHtKU09OLnN0cmluZ2lmeSh2bm9kZS5jaGlsZHJlbil9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29tbWVudDpcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gOCAvKiBET01Ob2RlVHlwZXMuQ09NTUVOVCAqLyB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU3RhdGljOlxuICAgICAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW50aXJlIHRlbXBsYXRlIGlzIHN0YXRpYyBidXQgU1NSZWQgYXMgYSBmcmFnbWVudFxuICAgICAgICAgICAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSA9PT0gMSAvKiBET01Ob2RlVHlwZXMuRUxFTUVOVCAqLyB8fCBkb21UeXBlID09PSAzIC8qIERPTU5vZGVUeXBlcy5URVhUICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBhbmNob3IsIGFkb3B0IGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3RhdGljIHZub2RlIGhhcyBpdHMgY29udGVudCBzdHJpcHBlZCBkdXJpbmcgYnVpbGQsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkb3B0IGl0IGZyb20gdGhlIHNlcnZlci1yZW5kZXJlZCBIVE1MLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWVkVG9BZG9wdENvbnRlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUubm9kZVR5cGUgPT09IDEgLyogRE9NTm9kZVR5cGVzLkVMRU1FTlQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV4dE5vZGUub3V0ZXJIVE1MXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5leHROb2RlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdm5vZGUuc3RhdGljQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5leHROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNGcmFnbWVudFN0YXJ0ID8gbmV4dFNpYmxpbmcobmV4dE5vZGUpIDogbmV4dE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgICAgICAgICBpZiAoIWlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUZyYWdtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDEgLyogRE9NTm9kZVR5cGVzLkVMRU1FTlQgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVFbGVtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHNldHRpbmcgdXAgdGhlIHJlbmRlciBlZmZlY3QsIGlmIHRoZSBpbml0aWFsIHZub2RlIGFscmVhZHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFzIC5lbCBzZXQsIHRoZSBjb21wb25lbnQgd2lsbCBwZXJmb3JtIGh5ZHJhdGlvbiBpbnN0ZWFkIG9mIG1vdW50XG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGl0cyBzdWItdHJlZS5cbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBtb3VudENvbXBvbmVudCh2bm9kZSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGJlIGFzeW5jLCBzbyBpbiB0aGUgY2FzZSBvZiBmcmFnbWVudHMgd2UgY2Fubm90IHJlbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gY29tcG9uZW50J3MgcmVuZGVyZWQgb3V0cHV0IHRvIGRldGVybWluZSB0aGUgZW5kIG9mIHRoZSBmcmFnbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkLCB3ZSBkbyBhIGxvb2thaGVhZCB0byBmaW5kIHRoZSBlbmQgYW5jaG9yIG5vZGUuXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaXNGcmFnbWVudFN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gIzQyOTMgdGVsZXBvcnQgYXMgY29tcG9uZW50IHJvb3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHROb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbW1lbnQobmV4dE5vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZS5kYXRhID09PSAndGVsZXBvcnQgZW5kJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gIzM3ODdcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgY29tcG9uZW50IGlzIGFzeW5jLCBpdCBtYXkgZ2V0IG1vdmVkIC8gdW5tb3VudGVkIGJlZm9yZSBpdHNcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5uZXIgY29tcG9uZW50IGlzIGxvYWRlZCwgc28gd2UgbmVlZCB0byBnaXZlIGl0IGEgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgdGhhdCBtYXRjaGVzIGl0cyBhZG9wdGVkIERPTS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YlRyZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUcmVlLmFuY2hvciA9IG5leHROb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV4dE5vZGUucHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY29udGFpbmVyLmxhc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzID8gY3JlYXRlVGV4dFZOb2RlKCcnKSA6IGNyZWF0ZVZOb2RlKCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUuZWwgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUgPSBzdWJUcmVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogRE9NTm9kZVR5cGVzLkNPTU1FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZUNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIocGFyZW50Tm9kZShub2RlKSksIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZU5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKCdJbnZhbGlkIEhvc3RWTm9kZSB0eXBlOicsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dE5vZGU7XG4gICAgfTtcbiAgICBjb25zdCBoeWRyYXRlRWxlbWVudCA9IChlbCwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMgfSA9IHZub2RlO1xuICAgICAgICAvLyAjNDAwNiBmb3IgZm9ybSBlbGVtZW50cyB3aXRoIG5vbi1zdHJpbmcgdi1tb2RlbCB2YWx1ZSBiaW5kaW5nc1xuICAgICAgICAvLyBlLmcuIDxvcHRpb24gOnZhbHVlPVwib2JqXCI+LCA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgOnRydWUtdmFsdWU9XCIxXCI+XG4gICAgICAgIGNvbnN0IGZvcmNlUGF0Y2hWYWx1ZSA9ICh0eXBlID09PSAnaW5wdXQnICYmIGRpcnMpIHx8IHR5cGUgPT09ICdvcHRpb24nO1xuICAgICAgICAvLyBza2lwIHByb3BzICYgY2hpbGRyZW4gaWYgdGhpcyBpcyBob2lzdGVkIHN0YXRpYyBub2Rlc1xuICAgICAgICAvLyAjNTQwNSBpbiBkZXYsIGFsd2F5cyBoeWRyYXRlIGNoaWxkcmVuIGZvciBITVJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBmb3JjZVBhdGNoVmFsdWUgfHwgcGF0Y2hGbGFnICE9PSAtMSAvKiBQYXRjaEZsYWdzLkhPSVNURUQgKi8pIHtcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnY3JlYXRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgICAgIGlmIChmb3JjZVBhdGNoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICAgICAgIW9wdGltaXplZCB8fFxuICAgICAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiAoMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovIHwgMzIgLyogUGF0Y2hGbGFncy5IWURSQVRFX0VWRU5UUyAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZm9yY2VQYXRjaFZhbHVlICYmIGtleS5lbmRzV2l0aCgndmFsdWUnKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaXNPbihrZXkpICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCBmYWxzZSwgdW5kZWZpbmVkLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBjbGljayBsaXN0ZW5lcnMgKHdoaWNoIGlzIG1vc3Qgb2Z0ZW4pIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGluZyB0aHJvdWdoIHByb3BzLlxuICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsICdvbkNsaWNrJywgbnVsbCwgcHJvcHMub25DbGljaywgZmFsc2UsIHVuZGVmaW5lZCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB2bm9kZSAvIGRpcmVjdGl2ZSBob29rc1xuICAgICAgICAgICAgbGV0IHZub2RlSG9va3M7XG4gICAgICAgICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVNb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZub2RlSG9va3MgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ21vdW50ZWQnKTtcbiAgICAgICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGlsZHJlblxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8gJiZcbiAgICAgICAgICAgICAgICAvLyBza2lwIGlmIGVsZW1lbnQgaGFzIGlubmVySFRNTCAvIHRleHRDb250ZW50XG4gICAgICAgICAgICAgICAgIShwcm9wcyAmJiAocHJvcHMuaW5uZXJIVE1MIHx8IHByb3BzLnRleHRDb250ZW50KSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihlbC5maXJzdENoaWxkLCB2bm9kZSwgZWwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjogYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIG1vcmUgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIFNTUmVkIERPTSBjb250YWlucyBtb3JlIG5vZGVzIHRoYW4gaXQgc2hvdWxkLiBSZW1vdmUgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyID0gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShjdXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsLnRleHRDb250ZW50ICE9PSB2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjpcXG5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgLSBDbGllbnQ6ICR7ZWwudGV4dENvbnRlbnR9XFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gU2VydmVyOiAke3Zub2RlLmNoaWxkcmVufWApO1xuICAgICAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWwubmV4dFNpYmxpbmc7XG4gICAgfTtcbiAgICBjb25zdCBoeWRyYXRlQ2hpbGRyZW4gPSAobm9kZSwgcGFyZW50Vk5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhcGFyZW50Vk5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBsID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2bm9kZSA9IG9wdGltaXplZFxuICAgICAgICAgICAgICAgID8gY2hpbGRyZW5baV1cbiAgICAgICAgICAgICAgICA6IChjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKSk7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBoeWRyYXRlTm9kZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gVGV4dCAmJiAhdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7Y29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBzZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBmZXdlciBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmApO1xuICAgICAgICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGUgU1NSZWQgRE9NIGRpZG4ndCBjb250YWluIGVub3VnaCBub2Rlcy4gTW91bnQgdGhlIG1pc3Npbmcgb25lcy5cbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBzbG90U2NvcGVJZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG4gICAgY29uc3QgaHlkcmF0ZUZyYWdtZW50ID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBjb25zdCB7IHNsb3RTY29wZUlkczogZnJhZ21lbnRTbG90U2NvcGVJZHMgfSA9IHZub2RlO1xuICAgICAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkc1xuICAgICAgICAgICAgICAgID8gc2xvdFNjb3BlSWRzLmNvbmNhdChmcmFnbWVudFNsb3RTY29wZUlkcylcbiAgICAgICAgICAgICAgICA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgaWYgKG5leHQgJiYgaXNDb21tZW50KG5leHQpICYmIG5leHQuZGF0YSA9PT0gJ10nKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmcoKHZub2RlLmFuY2hvciA9IG5leHQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZyYWdtZW50IGRpZG4ndCBoeWRyYXRlIHN1Y2Nlc3NmdWxseSwgc2luY2Ugd2UgZGlkbid0IGdldCBhIGVuZCBhbmNob3JcbiAgICAgICAgICAgIC8vIGJhY2suIFRoaXMgc2hvdWxkIGhhdmUgbGVkIHRvIG5vZGUvY2hpbGRyZW4gbWlzbWF0Y2ggd2FybmluZ3MuXG4gICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAvLyBzaW5jZSB0aGUgYW5jaG9yIGlzIG1pc3NpbmcsIHdlIG5lZWQgdG8gY3JlYXRlIG9uZSBhbmQgaW5zZXJ0IGl0XG4gICAgICAgICAgICBpbnNlcnQoKHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSksIGNvbnRhaW5lciwgbmV4dCk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlTWlzbWF0Y2ggPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgaXNGcmFnbWVudCkgPT4ge1xuICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgd2FybiQxKGBIeWRyYXRpb24gbm9kZSBtaXNtYXRjaDpcXG4tIENsaWVudCB2bm9kZTpgLCB2bm9kZS50eXBlLCBgXFxuLSBTZXJ2ZXIgcmVuZGVyZWQgRE9NOmAsIG5vZGUsIG5vZGUubm9kZVR5cGUgPT09IDMgLyogRE9NTm9kZVR5cGVzLlRFWFQgKi9cbiAgICAgICAgICAgICAgICA/IGAodGV4dClgXG4gICAgICAgICAgICAgICAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWydcbiAgICAgICAgICAgICAgICAgICAgPyBgKHN0YXJ0IG9mIGZyYWdtZW50KWBcbiAgICAgICAgICAgICAgICAgICAgOiBgYCk7XG4gICAgICAgIHZub2RlLmVsID0gbnVsbDtcbiAgICAgICAgaWYgKGlzRnJhZ21lbnQpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGNlc3NpdmUgZnJhZ21lbnQgbm9kZXNcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKTtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQgIT09IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmUobmV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICByZW1vdmUobm9kZSk7XG4gICAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIsIG5leHQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIHNsb3RTY29wZUlkcyk7XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gICAgY29uc3QgbG9jYXRlQ2xvc2luZ0FzeW5jQW5jaG9yID0gKG5vZGUpID0+IHtcbiAgICAgICAgbGV0IG1hdGNoID0gMDtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgPT09ICdbJylcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2grKztcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSAnXScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG4gICAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xubGV0IHN1cHBvcnRlZDtcbmxldCBwZXJmO1xuZnVuY3Rpb24gc3RhcnRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgcGVyZi5tYXJrKGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gKTtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNQZXJmU3RhcnQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZW5kTWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGFnID0gYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWA7XG4gICAgICAgIGNvbnN0IGVuZFRhZyA9IHN0YXJ0VGFnICsgYDplbmRgO1xuICAgICAgICBwZXJmLm1hcmsoZW5kVGFnKTtcbiAgICAgICAgcGVyZi5tZWFzdXJlKGA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0+ICR7dHlwZX1gLCBzdGFydFRhZywgZW5kVGFnKTtcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzUGVyZkVuZChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICBpZiAoc3VwcG9ydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3VwcG9ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbi8qKlxuICogVGhpcyBpcyBvbmx5IGNhbGxlZCBpbiBlc20tYnVuZGxlciBidWlsZHMuXG4gKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHJlbmRlcmVyIGlzIGNyZWF0ZWQsIGluIGBiYXNlQ3JlYXRlUmVuZGVyZXJgIHNvIHRoYXRcbiAqIGltcG9ydGluZyBydW50aW1lLWNvcmUgaXMgc2lkZS1lZmZlY3RzIGZyZWUuXG4gKlxuICogaXN0YW5idWwtaWdub3JlLW5leHRcbiAqL1xuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcbiAgICBjb25zdCBuZWVkV2FybiA9IFtdO1xuICAgIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9PUFRJT05TX0FQSV9fYCk7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICdib29sZWFuJykge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfUFJPRF9ERVZUT09MU19fYCk7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybi5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbXVsdGkgPSBuZWVkV2Fybi5sZW5ndGggPiAxO1xuICAgICAgICBjb25zb2xlLndhcm4oYEZlYXR1cmUgZmxhZyR7bXVsdGkgPyBgc2AgOiBgYH0gJHtuZWVkV2Fybi5qb2luKCcsICcpfSAke211bHRpID8gYGFyZWAgOiBgaXNgfSBub3QgZXhwbGljaXRseSBkZWZpbmVkLiBZb3UgYXJlIHJ1bm5pbmcgdGhlIGVzbS1idW5kbGVyIGJ1aWxkIG9mIFZ1ZSwgYCArXG4gICAgICAgICAgICBgd2hpY2ggZXhwZWN0cyB0aGVzZSBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyB0byBiZSBnbG9iYWxseSBpbmplY3RlZCBgICtcbiAgICAgICAgICAgIGB2aWEgdGhlIGJ1bmRsZXIgY29uZmlnIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgdHJlZS1zaGFraW5nIGluIHRoZSBgICtcbiAgICAgICAgICAgIGBwcm9kdWN0aW9uIGJ1bmRsZS5cXG5cXG5gICtcbiAgICAgICAgICAgIGBGb3IgbW9yZSBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9saW5rLnZ1ZWpzLm9yZy9mZWF0dXJlLWZsYWdzLmApO1xuICAgIH1cbn1cblxuY29uc3QgcXVldWVQb3N0UmVuZGVyRWZmZWN0ID0gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2VcbiAgICA7XG4vKipcbiAqIFRoZSBjcmVhdGVSZW5kZXJlciBmdW5jdGlvbiBhY2NlcHRzIHR3byBnZW5lcmljIGFyZ3VtZW50czpcbiAqIEhvc3ROb2RlIGFuZCBIb3N0RWxlbWVudCwgY29ycmVzcG9uZGluZyB0byBOb2RlIGFuZCBFbGVtZW50IHR5cGVzIGluIHRoZVxuICogaG9zdCBlbnZpcm9ubWVudC4gRm9yIGV4YW1wbGUsIGZvciBydW50aW1lLWRvbSwgSG9zdE5vZGUgd291bGQgYmUgdGhlIERPTVxuICogYE5vZGVgIGludGVyZmFjZSBhbmQgSG9zdEVsZW1lbnQgd291bGQgYmUgdGhlIERPTSBgRWxlbWVudGAgaW50ZXJmYWNlLlxuICpcbiAqIEN1c3RvbSByZW5kZXJlcnMgY2FuIHBhc3MgaW4gdGhlIHBsYXRmb3JtIHNwZWNpZmljIHR5cGVzIGxpa2UgdGhpczpcbiAqXG4gKiBgYGAganNcbiAqIGNvbnN0IHsgcmVuZGVyLCBjcmVhdGVBcHAgfSA9IGNyZWF0ZVJlbmRlcmVyPE5vZGUsIEVsZW1lbnQ+KHtcbiAqICAgcGF0Y2hQcm9wLFxuICogICAuLi5ub2RlT3BzXG4gKiB9KVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpO1xufVxuLy8gU2VwYXJhdGUgQVBJIGZvciBjcmVhdGluZyBoeWRyYXRpb24tZW5hYmxlZCByZW5kZXJlci5cbi8vIEh5ZHJhdGlvbiBsb2dpYyBpcyBvbmx5IHVzZWQgd2hlbiBjYWxsaW5nIHRoaXMgZnVuY3Rpb24sIG1ha2luZyBpdFxuLy8gdHJlZS1zaGFrYWJsZS5cbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyk7XG59XG4vLyBpbXBsZW1lbnRhdGlvblxuZnVuY3Rpb24gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICAgIC8vIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIGNoZWNrXG4gICAge1xuICAgICAgICBpbml0RmVhdHVyZUZsYWdzKCk7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IGdldEdsb2JhbFRoaXMoKTtcbiAgICB0YXJnZXQuX19WVUVfXyA9IHRydWU7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgc2V0RGV2dG9vbHNIb29rKHRhcmdldC5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fLCB0YXJnZXQpO1xuICAgIH1cbiAgICBjb25zdCB7IGluc2VydDogaG9zdEluc2VydCwgcmVtb3ZlOiBob3N0UmVtb3ZlLCBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LCBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsIHNldFRleHQ6IGhvc3RTZXRUZXh0LCBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LCBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSwgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZywgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLCBpbnNlcnRTdGF0aWNDb250ZW50OiBob3N0SW5zZXJ0U3RhdGljQ29udGVudCB9ID0gb3B0aW9ucztcbiAgICAvLyBOb3RlOiBmdW5jdGlvbnMgaW5zaWRlIHRoaXMgY2xvc3VyZSBzaG91bGQgdXNlIGBjb25zdCB4eHggPSAoKSA9PiB7fWBcbiAgICAvLyBzdHlsZSBpbiBvcmRlciB0byBwcmV2ZW50IGJlaW5nIGlubGluZWQgYnkgbWluaWZpZXJzLlxuICAgIGNvbnN0IHBhdGNoID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IgPSBudWxsLCBwYXJlbnRDb21wb25lbnQgPSBudWxsLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwsIGlzU1ZHID0gZmFsc2UsIHNsb3RTY29wZUlkcyA9IG51bGwsIG9wdGltaXplZCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nID8gZmFsc2UgOiAhIW4yLmR5bmFtaWNDaGlsZHJlbikgPT4ge1xuICAgICAgICBpZiAobjEgPT09IG4yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGF0Y2hpbmcgJiBub3Qgc2FtZSB0eXBlLCB1bm1vdW50IG9sZCB0cmVlXG4gICAgICAgIGlmIChuMSAmJiAhaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XG4gICAgICAgICAgICB1bm1vdW50KG4xLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICAgIG4xID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobjIucGF0Y2hGbGFnID09PSAtMiAvKiBQYXRjaEZsYWdzLkJBSUwgKi8pIHtcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgbjIuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFRleHQ6XG4gICAgICAgICAgICAgICAgcHJvY2Vzc1RleHQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgICAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgICAgICAgICBwcm9jZXNzRnJhZ21lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUucHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUucHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJ0ludmFsaWQgVk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgcmVmXG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG4xICYmIG4xLnJlZiwgcGFyZW50U3VzcGVuc2UsIG4yIHx8IG4xLCAhbjIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwcm9jZXNzVGV4dCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVUZXh0KG4yLmNoaWxkcmVuKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gKG4yLmVsID0gbjEuZWwpO1xuICAgICAgICAgICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NDb21tZW50Tm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8ICcnKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gc3VwcG9ydCBmb3IgZHluYW1pYyBjb21tZW50c1xuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbW91bnRTdGF0aWNOb2RlID0gKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpID0+IHtcbiAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgbjIuZWwsIG4yLmFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXYgLyBITVIgb25seVxuICAgICAqL1xuICAgIGNvbnN0IHBhdGNoU3RhdGljTm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgaXNTVkcpID0+IHtcbiAgICAgICAgLy8gc3RhdGljIG5vZGVzIGFyZSBvbmx5IHBhdGNoZWQgZHVyaW5nIGRldiBmb3IgSE1SXG4gICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGhvc3ROZXh0U2libGluZyhuMS5hbmNob3IpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcbiAgICAgICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgICAgIG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0sIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpID0+IHtcbiAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICAgICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgZWwgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0pID0+IHtcbiAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICAgICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgICAgICAgZWwgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IG4yLnR5cGUgPT09ICdzdmcnO1xuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgbW91bnRFbGVtZW50KG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhdGNoRWxlbWVudChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1vdW50RWxlbWVudCA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBsZXQgZWw7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHNoYXBlRmxhZywgdHJhbnNpdGlvbiwgZGlycyB9ID0gdm5vZGU7XG4gICAgICAgIGVsID0gdm5vZGUuZWwgPSBob3N0Q3JlYXRlRWxlbWVudCh2bm9kZS50eXBlLCBpc1NWRywgcHJvcHMgJiYgcHJvcHMuaXMsIHByb3BzKTtcbiAgICAgICAgLy8gbW91bnQgY2hpbGRyZW4gZmlyc3QsIHNpbmNlIHNvbWUgcHJvcHMgbWF5IHJlbHkgb24gY2hpbGQgY29udGVudFxuICAgICAgICAvLyBiZWluZyBhbHJlYWR5IHJlbmRlcmVkLCBlLmcuIGA8c2VsZWN0IHZhbHVlPmBcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICBtb3VudENoaWxkcmVuKHZub2RlLmNoaWxkcmVuLCBlbCwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcgJiYgdHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2NyZWF0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcm9wc1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ3ZhbHVlJyAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNwZWNpYWwgY2FzZSBmb3Igc2V0dGluZyB2YWx1ZSBvbiBET00gZWxlbWVudHM6XG4gICAgICAgICAgICAgKiAtIGl0IGNhbiBiZSBvcmRlci1zZW5zaXRpdmUgKGUuZy4gc2hvdWxkIGJlIHNldCAqYWZ0ZXIqIG1pbi9tYXgsICMyMzI1LCAjNDAyNClcbiAgICAgICAgICAgICAqIC0gaXQgbmVlZHMgdG8gYmUgZm9yY2VkICgjMTQ3MSlcbiAgICAgICAgICAgICAqICMyMzUzIHByb3Bvc2VzIGFkZGluZyBhbm90aGVyIHJlbmRlcmVyIG9wdGlvbiB0byBjb25maWd1cmUgdGhpcywgYnV0XG4gICAgICAgICAgICAgKiB0aGUgcHJvcGVydGllcyBhZmZlY3RzIGFyZSBzbyBmaW5pdGUgaXQgaXMgd29ydGggc3BlY2lhbCBjYXNpbmcgaXRcbiAgICAgICAgICAgICAqIGhlcmUgdG8gcmVkdWNlIHRoZSBjb21wbGV4aXR5LiAoU3BlY2lhbCBjYXNpbmcgaXQgYWxzbyBzaG91bGQgbm90XG4gICAgICAgICAgICAgKiBhZmZlY3Qgbm9uLURPTSByZW5kZXJlcnMpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3ZhbHVlJywgbnVsbCwgcHJvcHMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NvcGVJZFxuICAgICAgICBzZXRTY29wZUlkKGVsLCB2bm9kZSwgdm5vZGUuc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192bm9kZScsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdm5vZGUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192dWVQYXJlbnRDb21wb25lbnQnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIzE1ODMgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIG5vdCByZXNvbHZlZCBjYXNlLCBlbnRlciBob29rIHNob3VsZCBjYWxsIHdoZW4gc3VzcGVuc2UgcmVzb2x2ZWRcbiAgICAgICAgLy8gIzE2ODkgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIHJlc29sdmVkIGNhc2UsIGp1c3QgY2FsbCBpdFxuICAgICAgICBjb25zdCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9ICghcGFyZW50U3VzcGVuc2UgfHwgKHBhcmVudFN1c3BlbnNlICYmICFwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSkgJiZcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcbiAgICAgICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgfVxuICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8XG4gICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fFxuICAgICAgICAgICAgZGlycykge1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgJiYgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdtb3VudGVkJyk7XG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICAgICAgICBpZiAoc2NvcGVJZCkge1xuICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNjb3BlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzbG90U2NvcGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xvdFNjb3BlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xuICAgICAgICAgICAgbGV0IHN1YlRyZWUgPSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiZcbiAgICAgICAgICAgICAgICBzdWJUcmVlLnBhdGNoRmxhZyAmIDIwNDggLyogUGF0Y2hGbGFncy5ERVZfUk9PVF9GUkFHTUVOVCAqLykge1xuICAgICAgICAgICAgICAgIHN1YlRyZWUgPVxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJTaW5nbGVSb290KHN1YlRyZWUuY2hpbGRyZW4pIHx8IHN1YlRyZWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodm5vZGUgPT09IHN1YlRyZWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRWTm9kZSA9IHBhcmVudENvbXBvbmVudC52bm9kZTtcbiAgICAgICAgICAgICAgICBzZXRTY29wZUlkKGVsLCBwYXJlbnRWTm9kZSwgcGFyZW50Vk5vZGUuc2NvcGVJZCwgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQucGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgc3RhcnQgPSAwKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IChjaGlsZHJlbltpXSA9IG9wdGltaXplZFxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoY2hpbGRyZW5baV0pXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgICAgICAgcGF0Y2gobnVsbCwgY2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBkaXJzIH0gPSBuMjtcbiAgICAgICAgLy8gIzE0MjYgdGFrZSB0aGUgb2xkIHZub2RlJ3MgcGF0Y2ggZmxhZyBpbnRvIGFjY291bnQgc2luY2UgdXNlciBtYXkgY2xvbmUgYVxuICAgICAgICAvLyBjb21waWxlci1nZW5lcmF0ZWQgdm5vZGUsIHdoaWNoIGRlLW9wdHMgdG8gRlVMTF9QUk9QU1xuICAgICAgICBwYXRjaEZsYWcgfD0gbjEucGF0Y2hGbGFnICYgMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovO1xuICAgICAgICBjb25zdCBvbGRQcm9wcyA9IG4xLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgICAgICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIC8vIGRpc2FibGUgcmVjdXJzZSBpbiBiZWZvcmVVcGRhdGUgaG9va3NcbiAgICAgICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCBmYWxzZSk7XG4gICAgICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkpIHtcbiAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlycykge1xuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZVVwZGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudENvbXBvbmVudCAmJiB0b2dnbGVSZWN1cnNlKHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxuICAgICAgICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcmVDaGlsZHJlblNWRyA9IGlzU1ZHICYmIG4yLnR5cGUgIT09ICdmb3JlaWduT2JqZWN0JztcbiAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBlbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcsIHNsb3RTY29wZUlkcyk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudHlwZS5fX2htcklkKSB7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgICAgICAgIC8vIGZ1bGwgZGlmZlxuICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGVsLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBhcmVDaGlsZHJlblNWRywgc2xvdFNjb3BlSWRzLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcbiAgICAgICAgICAgIC8vIHRoZSBwcmVzZW5jZSBvZiBhIHBhdGNoRmxhZyBtZWFucyB0aGlzIGVsZW1lbnQncyByZW5kZXIgY29kZSB3YXNcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIgYW5kIGNhbiB0YWtlIHRoZSBmYXN0IHBhdGguXG4gICAgICAgICAgICAvLyBpbiB0aGlzIHBhdGggb2xkIG5vZGUgYW5kIG5ldyBub2RlIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgdGhlIHNhbWUgc2hhcGVcbiAgICAgICAgICAgIC8vIChpLmUuIGF0IHRoZSBleGFjdCBzYW1lIHBvc2l0aW9uIGluIHRoZSBzb3VyY2UgdGVtcGxhdGUpXG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudCBwcm9wcyBjb250YWluIGR5bmFtaWMga2V5cywgZnVsbCBkaWZmIG5lZWRlZFxuICAgICAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNsYXNzXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBjbGFzcyBiaW5kaW5ncy5cbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMiAvKiBQYXRjaEZsYWdzLkNMQVNTICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRQcm9wcy5jbGFzcyAhPT0gbmV3UHJvcHMuY2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdjbGFzcycsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3R5bGVcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIHN0eWxlIGJpbmRpbmdzXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDQgLyogUGF0Y2hGbGFncy5TVFlMRSAqLykge1xuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCAnc3R5bGUnLCBvbGRQcm9wcy5zdHlsZSwgbmV3UHJvcHMuc3R5bGUsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIHByb3AvYXR0ciBiaW5kaW5nc1xuICAgICAgICAgICAgICAgIC8vIG90aGVyIHRoYW4gY2xhc3MgYW5kIHN0eWxlLiBUaGUga2V5cyBvZiBkeW5hbWljIHByb3AvYXR0cnMgYXJlIHNhdmVkIGZvclxuICAgICAgICAgICAgICAgIC8vIGZhc3RlciBpdGVyYXRpb24uXG4gICAgICAgICAgICAgICAgLy8gTm90ZSBkeW5hbWljIGtleXMgbGlrZSA6W2Zvb109XCJiYXJcIiB3aWxsIGNhdXNlIHRoaXMgb3B0aW1pemF0aW9uIHRvXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBvdXQgYW5kIGdvIHRocm91Z2ggYSBmdWxsIGRpZmYgYmVjYXVzZSB3ZSBuZWVkIHRvIHVuc2V0IHRoZSBvbGQga2V5XG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDggLyogUGF0Y2hGbGFncy5QUk9QUyAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmxhZyBpcyBwcmVzZW50IHRoZW4gZHluYW1pY1Byb3BzIG11c3QgYmUgbm9uLW51bGxcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IG4yLmR5bmFtaWNQcm9wcztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICMxNDcxIGZvcmNlIHBhdGNoIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fCBrZXkgPT09ICd2YWx1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIGlzU1ZHLCBuMS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRleHRcbiAgICAgICAgICAgIC8vIFRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIG9ubHkgZHluYW1pYyB0ZXh0IGNoaWxkcmVuLlxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEgLyogUGF0Y2hGbGFncy5URVhUICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCAmJiBkeW5hbWljQ2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gdW5vcHRpbWl6ZWQsIGZ1bGwgZGlmZlxuICAgICAgICAgICAgcGF0Y2hQcm9wcyhlbCwgbjIsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZVVwZGF0ZWQpIHx8IGRpcnMpIHtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsICd1cGRhdGVkJyk7XG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFRoZSBmYXN0IHBhdGggZm9yIGJsb2Nrcy5cbiAgICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcykgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY29uc3QgbmV3Vk5vZGUgPSBuZXdDaGlsZHJlbltpXTtcbiAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgY29udGFpbmVyIChwYXJlbnQgZWxlbWVudCkgZm9yIHRoZSBwYXRjaC5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IFxuICAgICAgICAgICAgLy8gb2xkVk5vZGUgbWF5IGJlIGFuIGVycm9yZWQgYXN5bmMgc2V0dXAoKSBjb21wb25lbnQgaW5zaWRlIFN1c3BlbnNlXG4gICAgICAgICAgICAvLyB3aGljaCB3aWxsIG5vdCBoYXZlIGEgbW91bnRlZCBlbGVtZW50XG4gICAgICAgICAgICBvbGRWTm9kZS5lbCAmJlxuICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XG4gICAgICAgICAgICAgICAgLy8gb2YgdGhlIEZyYWdtZW50IGl0c2VsZiBzbyBpdCBjYW4gbW92ZSBpdHMgY2hpbGRyZW4uXG4gICAgICAgICAgICAgICAgKG9sZFZOb2RlLnR5cGUgPT09IEZyYWdtZW50IHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGFsc28gcmVxdWlyZXMgdGhlIGNvcnJlY3QgcGFyZW50IGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAhaXNTYW1lVk5vZGVUeXBlKG9sZFZOb2RlLCBuZXdWTm9kZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cbiAgICAgICAgICAgICAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgKDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8gfCA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSlcbiAgICAgICAgICAgICAgICA/IGhvc3RQYXJlbnROb2RlKG9sZFZOb2RlLmVsKVxuICAgICAgICAgICAgICAgIDogLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIGp1c3QgcGFzcyB0aGUgYmxvY2sgZWxlbWVudCBoZXJlIHRvIGF2b2lkIGEgRE9NIHBhcmVudE5vZGUgY2FsbC5cbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tDb250YWluZXI7XG4gICAgICAgICAgICBwYXRjaChvbGRWTm9kZSwgbmV3Vk5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIHZub2RlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKSA9PiB7XG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2xkUHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmICEoa2V5IGluIG5ld1Byb3BzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBvbGRQcm9wc1trZXldLCBudWxsLCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xuICAgICAgICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyBpcyBub3QgdmFsaWQgcHJvcFxuICAgICAgICAgICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICAvLyBkZWZlciBwYXRjaGluZyB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBwcmV2ICYmIGtleSAhPT0gJ3ZhbHVlJykge1xuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXdQcm9wcykge1xuICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICd2YWx1ZScsIG9sZFByb3BzLnZhbHVlLCBuZXdQcm9wcy52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IChuMi5lbCA9IG4xID8gbjEuZWwgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xuICAgICAgICBjb25zdCBmcmFnbWVudEVuZEFuY2hvciA9IChuMi5hbmNob3IgPSBuMSA/IG4xLmFuY2hvciA6IGhvc3RDcmVhdGVUZXh0KCcnKSk7XG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSBuMjtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgLy8gIzU1MjMgZGV2IHJvb3QgZnJhZ21lbnQgbWF5IGluaGVyaXQgZGlyZWN0aXZlc1xuICAgICAgICAgICAgKGlzSG1yVXBkYXRpbmcgfHwgcGF0Y2hGbGFnICYgMjA0OCAvKiBQYXRjaEZsYWdzLkRFVl9ST09UX0ZSQUdNRU5UICovKSkge1xuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQgLyBEZXYgcm9vdCBmcmFnbWVudCAody8gY29tbWVudHMpLCBmb3JjZSBmdWxsIGRpZmZcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIHNsb3QgZnJhZ21lbnQgd2l0aCA6c2xvdHRlZCBzY29wZSBpZHNcbiAgICAgICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICAgICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHNcbiAgICAgICAgICAgICAgICA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpXG4gICAgICAgICAgICAgICAgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcbiAgICAgICAgfVxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgaG9zdEluc2VydChmcmFnbWVudFN0YXJ0QW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KGZyYWdtZW50RW5kQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICAvLyBhIGZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYXJyYXkgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgYXJlIGVpdGhlciBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyLCBvciBpbXBsaWNpdGx5IGNyZWF0ZWRcbiAgICAgICAgICAgIC8vIGZyb20gYXJyYXlzLlxuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihuMi5jaGlsZHJlbiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgPiAwICYmXG4gICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi8gJiZcbiAgICAgICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gJiZcbiAgICAgICAgICAgICAgICAvLyAjMjcxNSB0aGUgcHJldmlvdXMgZnJhZ21lbnQgY291bGQndmUgYmVlbiBhIEJBSUxlZCBvbmUgYXMgYSByZXN1bHRcbiAgICAgICAgICAgICAgICAvLyBvZiByZW5kZXJTbG90KCkgd2l0aCBubyB2YWxpZCBjaGlsZHJlblxuICAgICAgICAgICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIC8vIGEgc3RhYmxlIGZyYWdtZW50ICh0ZW1wbGF0ZSByb290IG9yIDx0ZW1wbGF0ZSB2LWZvcj4pIGRvZXNuJ3QgbmVlZCB0b1xuICAgICAgICAgICAgICAgIC8vIHBhdGNoIGNoaWxkcmVuIG9yZGVyLCBidXQgaXQgbWF5IGNvbnRhaW4gZHluYW1pY0NoaWxkcmVuLlxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudHlwZS5fX2htcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgLy8gIzIwODAgaWYgdGhlIHN0YWJsZSBmcmFnbWVudCBoYXMgYSBrZXksIGl0J3MgYSA8dGVtcGxhdGUgdi1mb3I+IHRoYXQgbWF5XG4gICAgICAgICAgICAgICAgLy8gIGdldCBtb3ZlZCBhcm91bmQuIE1ha2Ugc3VyZSBhbGwgcm9vdCBsZXZlbCB2bm9kZXMgaW5oZXJpdCBlbC5cbiAgICAgICAgICAgICAgICAvLyAjMjEzNCBvciBpZiBpdCdzIGEgY29tcG9uZW50IHJvb3QsIGl0IG1heSBhbHNvIGdldCBtb3ZlZCBhcm91bmRcbiAgICAgICAgICAgICAgICAvLyBhcyB0aGUgY29tcG9uZW50IGlzIGJlaW5nIG1vdmVkLlxuICAgICAgICAgICAgICAgIG4yLmtleSAhPSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgIChwYXJlbnRDb21wb25lbnQgJiYgbjIgPT09IHBhcmVudENvbXBvbmVudC5zdWJUcmVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSAvKiBzaGFsbG93ICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBrZXllZCAvIHVua2V5ZWQsIG9yIG1hbnVhbCBmcmFnbWVudHMuXG4gICAgICAgICAgICAgICAgLy8gZm9yIGtleWVkICYgdW5rZXllZCwgc2luY2UgdGhleSBhcmUgY29tcGlsZXIgZ2VuZXJhdGVkIGZyb20gdi1mb3IsXG4gICAgICAgICAgICAgICAgLy8gZWFjaCBjaGlsZCBpcyBndWFyYW50ZWVkIHRvIGJlIGEgYmxvY2sgc28gdGhlIGZyYWdtZW50IHdpbGwgbmV2ZXJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGR5bmFtaWNDaGlsZHJlbi5cbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcHJvY2Vzc0NvbXBvbmVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgbjIuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9LRVBUX0FMSVZFICovKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5hY3RpdmF0ZShuMiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbW91bnRDb21wb25lbnQobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1vdW50Q29tcG9uZW50ID0gKGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgLy8gMi54IGNvbXBhdCBtYXkgcHJlLWNyZWF0ZSB0aGUgY29tcG9uZW50IGluc3RhbmNlIGJlZm9yZSBhY3R1YWxseVxuICAgICAgICAvLyBtb3VudGluZ1xuICAgICAgICBjb25zdCBjb21wYXRNb3VudEluc3RhbmNlID0gaW5pdGlhbFZOb2RlLmlzQ29tcGF0Um9vdCAmJiBpbml0aWFsVk5vZGUuY29tcG9uZW50O1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGNvbXBhdE1vdW50SW5zdGFuY2UgfHxcbiAgICAgICAgICAgIChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoaW5pdGlhbFZOb2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XG4gICAgICAgICAgICByZWdpc3RlckhNUihpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluamVjdCByZW5kZXJlciBpbnRlcm5hbHMgZm9yIGtlZXBBbGl2ZVxuICAgICAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xuICAgICAgICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc29sdmUgcHJvcHMgYW5kIHNsb3RzIGZvciBzZXR1cCBjb250ZXh0XG4gICAgICAgIGlmICghKGNvbXBhdE1vdW50SW5zdGFuY2UpKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0dXBDb21wb25lbnQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0dXAoKSBpcyBhc3luYy4gVGhpcyBjb21wb25lbnQgcmVsaWVzIG9uIGFzeW5jIGxvZ2ljIHRvIGJlIHJlc29sdmVkXG4gICAgICAgIC8vIGJlZm9yZSBwcm9jZWVkaW5nXG4gICAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCkge1xuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KTtcbiAgICAgICAgICAgIC8vIEdpdmUgaXQgYSBwbGFjZWhvbGRlciBpZiB0aGlzIGlzIG5vdCBoeWRyYXRpb25cbiAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIHNlbGYtZGVmaW5lZCBmYWxsYmFja1xuICAgICAgICAgICAgaWYgKCFpbml0aWFsVk5vZGUuZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChpbnN0YW5jZS5zdWJUcmVlID0gY3JlYXRlVk5vZGUoQ29tbWVudCkpO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShudWxsLCBwbGFjZWhvbGRlciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gKG4xLCBuMiwgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudCk7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpKSB7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXAgJiZcbiAgICAgICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIC8vIGFzeW5jICYgc3RpbGwgcGVuZGluZyAtIGp1c3QgdXBkYXRlIHByb3BzIGFuZCBzbG90c1xuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBjb21wb25lbnQncyByZWFjdGl2ZSBlZmZlY3QgZm9yIHJlbmRlciBpc24ndCBzZXQtdXAgeWV0XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobjIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsIHVwZGF0ZVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLm5leHQgPSBuMjtcbiAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSBjaGlsZCBjb21wb25lbnQgaXMgYWxzbyBxdWV1ZWQsIHJlbW92ZSBpdCB0byBhdm9pZFxuICAgICAgICAgICAgICAgIC8vIGRvdWJsZSB1cGRhdGluZyB0aGUgc2FtZSBjaGlsZCBjb21wb25lbnQgaW4gdGhlIHNhbWUgZmx1c2guXG4gICAgICAgICAgICAgICAgaW52YWxpZGF0ZUpvYihpbnN0YW5jZS51cGRhdGUpO1xuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLnVwZGF0ZSBpcyB0aGUgcmVhY3RpdmUgZWZmZWN0LlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gdXBkYXRlIG5lZWRlZC4ganVzdCBjb3B5IG92ZXIgcHJvcGVydGllc1xuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgICAgIGluc3RhbmNlLnZub2RlID0gbjI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldHVwUmVuZGVyRWZmZWN0ID0gKGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBjb25zdCBjb21wb25lbnRVcGRhdGVGbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYm0sIG0sIHBhcmVudCB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNBc3luY1dyYXBwZXJWTm9kZSA9IGlzQXN5bmNXcmFwcGVyKGluaXRpYWxWTm9kZSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIC8vIGJlZm9yZU1vdW50IGhvb2tcbiAgICAgICAgICAgICAgICBpZiAoYm0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvblZub2RlQmVmb3JlTW91bnRcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZW1pdCgnaG9vazpiZWZvcmVNb3VudCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoZWwgJiYgaHlkcmF0ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgaGFzIGFkb3B0ZWQgaG9zdCBub2RlIC0gcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudC5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHlkcmF0ZVN1YlRyZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVOb2RlKGVsLCBpbnN0YW5jZS5zdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlclZOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUudHlwZS5fX2FzeW5jTG9hZGVyKCkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGU6IHdlIGFyZSBtb3ZpbmcgdGhlIHJlbmRlciBjYWxsIGludG8gYW4gYXN5bmMgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBtZWFucyBpdCB3b24ndCB0cmFjayBkZXBlbmRlbmNpZXMgLSBidXQgaXQncyBvayBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhIHNlcnZlci1yZW5kZXJlZCBhc3luYyB3cmFwcGVyIGlzIGFscmVhZHkgaW4gcmVzb2x2ZWQgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBpdCB3aWxsIG5ldmVyIG5lZWQgdG8gY2hhbmdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gIWluc3RhbmNlLmlzVW5tb3VudGVkICYmIGh5ZHJhdGVTdWJUcmVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IChpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBzdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZS5lbCA9IHN1YlRyZWUuZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG1vdW50ZWQgaG9va1xuICAgICAgICAgICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVNb3VudGVkXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcGVkSW5pdGlhbFZOb2RlID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBzY29wZWRJbml0aWFsVk5vZGUpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW5zdGFuY2UuZW1pdCgnaG9vazptb3VudGVkJyksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYWN0aXZhdGVkIGhvb2sgZm9yIGtlZXAtYWxpdmUgcm9vdHMuXG4gICAgICAgICAgICAgICAgLy8gIzE3NDIgYWN0aXZhdGVkIGhvb2sgbXVzdCBiZSBhY2Nlc3NlZCBhZnRlciBmaXJzdCByZW5kZXJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgaG9vayBtYXkgYmUgaW5qZWN0ZWQgYnkgYSBjaGlsZCBrZWVwLWFsaXZlXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgKHBhcmVudCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBc3luY1dyYXBwZXIocGFyZW50LnZub2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnZub2RlLnNoYXBlRmxhZyAmIDI1NiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoaW5zdGFuY2UuYSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiBpbnN0YW5jZS5lbWl0KCdob29rOmFjdGl2YXRlZCcpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gIzI0NTg6IGRlZmVyZW5jZSBtb3VudC1vbmx5IG9iamVjdCBwYXJhbWV0ZXJzIHRvIHByZXZlbnQgbWVtbGVha3NcbiAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUgPSBjb250YWluZXIgPSBhbmNob3IgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0cmlnZ2VyZWQgYnkgbXV0YXRpb24gb2YgY29tcG9uZW50J3Mgb3duIHN0YXRlIChuZXh0OiBudWxsKVxuICAgICAgICAgICAgICAgIC8vIE9SIHBhcmVudCBjYWxsaW5nIHByb2Nlc3NDb21wb25lbnQgKG5leHQ6IFZOb2RlKVxuICAgICAgICAgICAgICAgIGxldCB7IG5leHQsIGJ1LCB1LCBwYXJlbnQsIHZub2RlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XG4gICAgICAgICAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuZXh0IHx8IGluc3RhbmNlLnZub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRGlzYWxsb3cgY29tcG9uZW50IGVmZmVjdCByZWN1cnNpb24gZHVyaW5nIHByZS1saWZlY3ljbGUgaG9va3MuXG4gICAgICAgICAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHZub2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBiZWZvcmVVcGRhdGUgaG9va1xuICAgICAgICAgICAgICAgIGlmIChidSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVCZWZvcmVVcGRhdGVcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmVtaXQoJ2hvb2s6YmVmb3JlVXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIHJlbmRlclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gbmV4dFRyZWU7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXRjaChwcmV2VHJlZSwgbmV4dFRyZWUsIFxuICAgICAgICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnROb2RlKHByZXZUcmVlLmVsKSwgXG4gICAgICAgICAgICAgICAgLy8gYW5jaG9yIG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dC5lbCA9IG5leHRUcmVlLmVsO1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5OZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGYtdHJpZ2dlcmVkIHVwZGF0ZS4gSW4gY2FzZSBvZiBIT0MsIHVwZGF0ZSBwYXJlbnQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIGVsLiBIT0MgaXMgaW5kaWNhdGVkIGJ5IHBhcmVudCBpbnN0YW5jZSdzIHN1YlRyZWUgcG9pbnRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gY2hpbGQgY29tcG9uZW50J3Mgdm5vZGVcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZWQgaG9va1xuICAgICAgICAgICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVVcGRhdGVkXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZVVwZGF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGluc3RhbmNlLmVtaXQoJ2hvb2s6dXBkYXRlZCcpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGNyZWF0ZSByZWFjdGl2ZSBlZmZlY3QgZm9yIHJlbmRlcmluZ1xuICAgICAgICBjb25zdCBlZmZlY3QgPSAoaW5zdGFuY2UuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGNvbXBvbmVudFVwZGF0ZUZuLCAoKSA9PiBxdWV1ZUpvYih1cGRhdGUpLCBpbnN0YW5jZS5zY29wZSAvLyB0cmFjayBpdCBpbiBjb21wb25lbnQncyBlZmZlY3Qgc2NvcGVcbiAgICAgICAgKSk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZSA9IChpbnN0YW5jZS51cGRhdGUgPSAoKSA9PiBlZmZlY3QucnVuKCkpO1xuICAgICAgICB1cGRhdGUuaWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgICAgIC8vIGFsbG93UmVjdXJzZVxuICAgICAgICAvLyAjMTgwMSwgIzIwNDMgY29tcG9uZW50IHJlbmRlciBlZmZlY3RzIHNob3VsZCBhbGxvdyByZWN1cnNpdmUgdXBkYXRlc1xuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgZWZmZWN0Lm9uVHJhY2sgPSBpbnN0YW5jZS5ydGNcbiAgICAgICAgICAgICAgICA/IGUgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRjLCBlKVxuICAgICAgICAgICAgICAgIDogdm9pZCAwO1xuICAgICAgICAgICAgZWZmZWN0Lm9uVHJpZ2dlciA9IGluc3RhbmNlLnJ0Z1xuICAgICAgICAgICAgICAgID8gZSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGcsIGUpXG4gICAgICAgICAgICAgICAgOiB2b2lkIDA7XG4gICAgICAgICAgICB1cGRhdGUub3duZXJJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyID0gKGluc3RhbmNlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHByZXZQcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xuICAgICAgICBpbnN0YW5jZS52bm9kZSA9IG5leHRWTm9kZTtcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XG4gICAgICAgIHVwZGF0ZVByb3BzKGluc3RhbmNlLCBuZXh0Vk5vZGUucHJvcHMsIHByZXZQcm9wcywgb3B0aW1pemVkKTtcbiAgICAgICAgdXBkYXRlU2xvdHMoaW5zdGFuY2UsIG5leHRWTm9kZS5jaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICAvLyBwcm9wcyB1cGRhdGUgbWF5IGhhdmUgdHJpZ2dlcmVkIHByZS1mbHVzaCB3YXRjaGVycy5cbiAgICAgICAgLy8gZmx1c2ggdGhlbSBiZWZvcmUgdGhlIHJlbmRlciB1cGRhdGUuXG4gICAgICAgIGZsdXNoUHJlRmx1c2hDYnMoKTtcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgIH07XG4gICAgY29uc3QgcGF0Y2hDaGlsZHJlbiA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgICAgICBjb25zdCBjMSA9IG4xICYmIG4xLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBwcmV2U2hhcGVGbGFnID0gbjEgPyBuMS5zaGFwZUZsYWcgOiAwO1xuICAgICAgICBjb25zdCBjMiA9IG4yLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCB7IHBhdGNoRmxhZywgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICAgICAgLy8gZmFzdCBwYXRoXG4gICAgICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTI4IC8qIFBhdGNoRmxhZ3MuS0VZRURfRlJBR01FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGJlIGVpdGhlciBmdWxseS1rZXllZCBvciBtaXhlZCAoc29tZSBrZXllZCBzb21lIG5vdClcbiAgICAgICAgICAgICAgICAvLyBwcmVzZW5jZSBvZiBwYXRjaEZsYWcgbWVhbnMgY2hpbGRyZW4gYXJlIGd1YXJhbnRlZWQgdG8gYmUgYXJyYXlzXG4gICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgMjU2IC8qIFBhdGNoRmxhZ3MuVU5LRVlFRF9GUkFHTUVOVCAqLykge1xuICAgICAgICAgICAgICAgIC8vIHVua2V5ZWRcbiAgICAgICAgICAgICAgICBwYXRjaFVua2V5ZWRDaGlsZHJlbihjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjaGlsZHJlbiBoYXMgMyBwb3NzaWJpbGl0aWVzOiB0ZXh0LCBhcnJheSBvciBubyBjaGlsZHJlbi5cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAvLyB0ZXh0IGNoaWxkcmVuIGZhc3QgcGF0aFxuICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjMiAhPT0gYzEpIHtcbiAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBjMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBwcmV2IGNoaWxkcmVuIHdhcyBhcnJheVxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHR3byBhcnJheXMsIGNhbm5vdCBhc3N1bWUgYW55dGhpbmcsIGRvIGZ1bGwgZGlmZlxuICAgICAgICAgICAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIG5ldyBjaGlsZHJlbiwganVzdCB1bm1vdW50IG9sZFxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHByZXYgY2hpbGRyZW4gd2FzIHRleHQgT1IgbnVsbFxuICAgICAgICAgICAgICAgIC8vIG5ldyBjaGlsZHJlbiBpcyBhcnJheSBPUiBudWxsXG4gICAgICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiA4IC8qIFNoYXBlRmxhZ3MuVEVYVF9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG1vdW50IG5ldyBpZiBhcnJheVxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGF0Y2hVbmtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xuICAgICAgICBjMiA9IGMyIHx8IEVNUFRZX0FSUjtcbiAgICAgICAgY29uc3Qgb2xkTGVuZ3RoID0gYzEubGVuZ3RoO1xuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNvbW1vbkxlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCwgbmV3TGVuZ3RoKTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gKGMyW2ldID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XG4gICAgICAgICAgICBwYXRjaChjMVtpXSwgbmV4dENoaWxkLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZFxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlLCBmYWxzZSwgY29tbW9uTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG1vdW50IG5ld1xuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgY29tbW9uTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gY2FuIGJlIGFsbC1rZXllZCBvciBtaXhlZFxuICAgIGNvbnN0IHBhdGNoS2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcbiAgICAgICAgbGV0IGUxID0gYzEubGVuZ3RoIC0gMTsgLy8gcHJldiBlbmRpbmcgaW5kZXhcbiAgICAgICAgbGV0IGUyID0gbDIgLSAxOyAvLyBuZXh0IGVuZGluZyBpbmRleFxuICAgICAgICAvLyAxLiBzeW5jIGZyb20gc3RhcnRcbiAgICAgICAgLy8gKGEgYikgY1xuICAgICAgICAvLyAoYSBiKSBkIGVcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgICAgICAgY29uc3QgbjEgPSBjMVtpXTtcbiAgICAgICAgICAgIGNvbnN0IG4yID0gKGMyW2ldID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XG4gICAgICAgICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIDIuIHN5bmMgZnJvbSBlbmRcbiAgICAgICAgLy8gYSAoYiBjKVxuICAgICAgICAvLyBkIGUgKGIgYylcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgICAgICAgY29uc3QgbjEgPSBjMVtlMV07XG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltlMl0gPSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2UyXSlcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2UyXSkpO1xuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgICAgICAgICAgcGF0Y2gobjEsIG4yLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUxLS07XG4gICAgICAgICAgICBlMi0tO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuIGNvbW1vbiBzZXF1ZW5jZSArIG1vdW50XG4gICAgICAgIC8vIChhIGIpXG4gICAgICAgIC8vIChhIGIpIGNcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMSwgZTIgPSAyXG4gICAgICAgIC8vIChhIGIpXG4gICAgICAgIC8vIGMgKGEgYilcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gLTEsIGUyID0gMFxuICAgICAgICBpZiAoaSA+IGUxKSB7XG4gICAgICAgICAgICBpZiAoaSA8PSBlMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dFBvcyA8IGwyID8gYzJbbmV4dFBvc10uZWwgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPD0gZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgKGMyW2ldID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA0LiBjb21tb24gc2VxdWVuY2UgKyB1bm1vdW50XG4gICAgICAgIC8vIChhIGIpIGNcbiAgICAgICAgLy8gKGEgYilcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMiwgZTIgPSAxXG4gICAgICAgIC8vIGEgKGIgYylcbiAgICAgICAgLy8gKGIgYylcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gMCwgZTIgPSAtMVxuICAgICAgICBlbHNlIGlmIChpID4gZTIpIHtcbiAgICAgICAgICAgIHdoaWxlIChpIDw9IGUxKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChjMVtpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDUuIHVua25vd24gc2VxdWVuY2VcbiAgICAgICAgLy8gW2kgLi4uIGUxICsgMV06IGEgYiBbYyBkIGVdIGYgZ1xuICAgICAgICAvLyBbaSAuLi4gZTIgKyAxXTogYSBiIFtlIGQgYyBoXSBmIGdcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gNCwgZTIgPSA1XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgczEgPSBpOyAvLyBwcmV2IHN0YXJ0aW5nIGluZGV4XG4gICAgICAgICAgICBjb25zdCBzMiA9IGk7IC8vIG5leHQgc3RhcnRpbmcgaW5kZXhcbiAgICAgICAgICAgIC8vIDUuMSBidWlsZCBrZXk6aW5kZXggbWFwIGZvciBuZXdDaGlsZHJlblxuICAgICAgICAgICAgY29uc3Qga2V5VG9OZXdJbmRleE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IHMyOyBpIDw9IGUyOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcbiAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXlUb05ld0luZGV4TWFwLmhhcyhuZXh0Q2hpbGQua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBEdXBsaWNhdGUga2V5cyBmb3VuZCBkdXJpbmcgdXBkYXRlOmAsIEpTT04uc3RyaW5naWZ5KG5leHRDaGlsZC5rZXkpLCBgTWFrZSBzdXJlIGtleXMgYXJlIHVuaXF1ZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBrZXlUb05ld0luZGV4TWFwLnNldChuZXh0Q2hpbGQua2V5LCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA1LjIgbG9vcCB0aHJvdWdoIG9sZCBjaGlsZHJlbiBsZWZ0IHRvIGJlIHBhdGNoZWQgYW5kIHRyeSB0byBwYXRjaFxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgbm9kZXMgJiByZW1vdmUgbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHByZXNlbnRcbiAgICAgICAgICAgIGxldCBqO1xuICAgICAgICAgICAgbGV0IHBhdGNoZWQgPSAwO1xuICAgICAgICAgICAgY29uc3QgdG9CZVBhdGNoZWQgPSBlMiAtIHMyICsgMTtcbiAgICAgICAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gdXNlZCB0byB0cmFjayB3aGV0aGVyIGFueSBub2RlIGhhcyBtb3ZlZFxuICAgICAgICAgICAgbGV0IG1heE5ld0luZGV4U29GYXIgPSAwO1xuICAgICAgICAgICAgLy8gd29ya3MgYXMgTWFwPG5ld0luZGV4LCBvbGRJbmRleD5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBvbGRJbmRleCBpcyBvZmZzZXQgYnkgKzFcbiAgICAgICAgICAgIC8vIGFuZCBvbGRJbmRleCA9IDAgaXMgYSBzcGVjaWFsIHZhbHVlIGluZGljYXRpbmcgdGhlIG5ldyBub2RlIGhhc1xuICAgICAgICAgICAgLy8gbm8gY29ycmVzcG9uZGluZyBvbGQgbm9kZS5cbiAgICAgICAgICAgIC8vIHVzZWQgZm9yIGRldGVybWluaW5nIGxvbmdlc3Qgc3RhYmxlIHN1YnNlcXVlbmNlXG4gICAgICAgICAgICBjb25zdCBuZXdJbmRleFRvT2xkSW5kZXhNYXAgPSBuZXcgQXJyYXkodG9CZVBhdGNoZWQpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRvQmVQYXRjaGVkOyBpKyspXG4gICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IHMxOyBpIDw9IGUxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2Q2hpbGQgPSBjMVtpXTtcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA+PSB0b0JlUGF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgbmV3IGNoaWxkcmVuIGhhdmUgYmVlbiBwYXRjaGVkIHNvIHRoaXMgY2FuIG9ubHkgYmUgYSByZW1vdmFsXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBuZXdJbmRleDtcbiAgICAgICAgICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0ga2V5VG9OZXdJbmRleE1hcC5nZXQocHJldkNoaWxkLmtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBrZXktbGVzcyBub2RlLCB0cnkgdG8gbG9jYXRlIGEga2V5LWxlc3Mgbm9kZSBvZiB0aGUgc2FtZSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IHMyOyBqIDw9IGUyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaiAtIHMyXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2FtZVZOb2RlVHlwZShwcmV2Q2hpbGQsIGMyW2pdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbbmV3SW5kZXggLSBzMl0gPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IG1heE5ld0luZGV4U29GYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heE5ld0luZGV4U29GYXIgPSBuZXdJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXRjaChwcmV2Q2hpbGQsIGMyW25ld0luZGV4XSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNS4zIG1vdmUgYW5kIG1vdW50XG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSBsb25nZXN0IHN0YWJsZSBzdWJzZXF1ZW5jZSBvbmx5IHdoZW4gbm9kZXMgaGF2ZSBtb3ZlZFxuICAgICAgICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZFxuICAgICAgICAgICAgICAgID8gZ2V0U2VxdWVuY2UobmV3SW5kZXhUb09sZEluZGV4TWFwKVxuICAgICAgICAgICAgICAgIDogRU1QVFlfQVJSO1xuICAgICAgICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAvLyBsb29waW5nIGJhY2t3YXJkcyBzbyB0aGF0IHdlIGNhbiB1c2UgbGFzdCBwYXRjaGVkIG5vZGUgYXMgYW5jaG9yXG4gICAgICAgICAgICBmb3IgKGkgPSB0b0JlUGF0Y2hlZCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW25leHRJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dEluZGV4ICsgMSA8IGwyID8gYzJbbmV4dEluZGV4ICsgMV0uZWwgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtb3VudCBuZXdcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpZjpcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gc3RhYmxlIHN1YnNlcXVlbmNlIChlLmcuIGEgcmV2ZXJzZSlcbiAgICAgICAgICAgICAgICAgICAgLy8gT1IgY3VycmVudCBub2RlIGlzIG5vdCBhbW9uZyB0aGUgc3RhYmxlIHNlcXVlbmNlXG4gICAgICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZVtqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyIC8qIE1vdmVUeXBlLlJFT1JERVIgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtb3ZlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUsIHBhcmVudFN1c3BlbnNlID0gbnVsbCkgPT4ge1xuICAgICAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgIG1vdmUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICB2bm9kZS5zdXNwZW5zZS5tb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pIHtcbiAgICAgICAgICAgIHR5cGUubW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGludGVybmFscyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhvc3RJbnNlcnQodm5vZGUuYW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgICAgICAgbW92ZVN0YXRpY05vZGUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBzaW5nbGUgbm9kZXNcbiAgICAgICAgY29uc3QgbmVlZFRyYW5zaXRpb24gPSBtb3ZlVHlwZSAhPT0gMiAvKiBNb3ZlVHlwZS5SRU9SREVSICovICYmXG4gICAgICAgICAgICBzaGFwZUZsYWcgJiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyAmJlxuICAgICAgICAgICAgdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKG5lZWRUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogTW92ZVR5cGUuRU5URVIgKi8pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZSA9ICgpID0+IGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdW5tb3VudCA9ICh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcmVmLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBzaGFwZUZsYWcsIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XG4gICAgICAgIC8vIHVuc2V0IHJlZlxuICAgICAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDI1NiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykge1xuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5kZWFjdGl2YXRlKHZub2RlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaG91bGRJbnZva2VEaXJzID0gc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gJiYgZGlycztcbiAgICAgICAgY29uc3Qgc2hvdWxkSW52b2tlVm5vZGVIb29rID0gIWlzQXN5bmNXcmFwcGVyKHZub2RlKTtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgaWYgKHNob3VsZEludm9rZVZub2RlSG9vayAmJlxuICAgICAgICAgICAgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVVbm1vdW50KSkge1xuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgIHVubW91bnRDb21wb25lbnQodm5vZGUuY29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UudW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVW5tb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pIHtcbiAgICAgICAgICAgICAgICB2bm9kZS50eXBlLnJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkLCBpbnRlcm5hbHMsIGRvUmVtb3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGR5bmFtaWNDaGlsZHJlbiAmJlxuICAgICAgICAgICAgICAgIC8vICMxMTUzOiBmYXN0IHBhdGggc2hvdWxkIG5vdCBiZSB0YWtlbiBmb3Igbm9uLXN0YWJsZSAodi1mb3IpIGZyYWdtZW50c1xuICAgICAgICAgICAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fFxuICAgICAgICAgICAgICAgICAgICAocGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCAvKiBQYXRjaEZsYWdzLlNUQUJMRV9GUkFHTUVOVCAqLykpKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFzdCBwYXRoIGZvciBibG9jayBub2Rlczogb25seSBuZWVkIHRvIHVubW91bnQgZHluYW1pYyBjaGlsZHJlbi5cbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oZHluYW1pY0NoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgodHlwZSA9PT0gRnJhZ21lbnQgJiZcbiAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJlxuICAgICAgICAgICAgICAgICAgICAoMTI4IC8qIFBhdGNoRmxhZ3MuS0VZRURfRlJBR01FTlQgKi8gfCAyNTYgLyogUGF0Y2hGbGFncy5VTktFWUVEX0ZSQUdNRU5UICovKSkgfHxcbiAgICAgICAgICAgICAgICAoIW9wdGltaXplZCAmJiBzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSkge1xuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgICByZW1vdmUodm5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmXG4gICAgICAgICAgICAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZVVubW91bnRlZCkpIHx8XG4gICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmXG4gICAgICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ3VubW91bnRlZCcpO1xuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmUgPSB2bm9kZSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyA+IDAgJiZcbiAgICAgICAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgJiAyMDQ4IC8qIFBhdGNoRmxhZ3MuREVWX1JPT1RfRlJBR01FTlQgKi8gJiZcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uICYmXG4gICAgICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC50eXBlID09PSBDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UmVtb3ZlKGNoaWxkLmVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcbiAgICAgICAgICAgIHJlbW92ZVN0YXRpY05vZGUodm5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBlcmZvcm1SZW1vdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmFmdGVyTGVhdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovICYmXG4gICAgICAgICAgICB0cmFuc2l0aW9uICYmXG4gICAgICAgICAgICAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICAgICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiBsZWF2ZShlbCwgcGVyZm9ybVJlbW92ZSk7XG4gICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xuICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBlcmZvcm1SZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlRnJhZ21lbnQgPSAoY3VyLCBlbmQpID0+IHtcbiAgICAgICAgLy8gRm9yIGZyYWdtZW50cywgZGlyZWN0bHkgcmVtb3ZlIGFsbCBjb250YWluZWQgRE9NIG5vZGVzLlxuICAgICAgICAvLyAoZnJhZ21lbnQgY2hpbGQgbm9kZXMgY2Fubm90IGhhdmUgdHJhbnNpdGlvbilcbiAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgIHdoaWxlIChjdXIgIT09IGVuZCkge1xuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xuICAgICAgICAgICAgaG9zdFJlbW92ZShjdXIpO1xuICAgICAgICAgICAgY3VyID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBob3N0UmVtb3ZlKGVuZCk7XG4gICAgfTtcbiAgICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYnVtLCBzY29wZSwgdXBkYXRlLCBzdWJUcmVlLCB1bSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIC8vIGJlZm9yZVVubW91bnQgaG9va1xuICAgICAgICBpZiAoYnVtKSB7XG4gICAgICAgICAgICBpbnZva2VBcnJheUZucyhidW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgaW5zdGFuY2UuZW1pdCgnaG9vazpiZWZvcmVEZXN0cm95Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RvcCBlZmZlY3RzIGluIGNvbXBvbmVudCBzY29wZVxuICAgICAgICBzY29wZS5zdG9wKCk7XG4gICAgICAgIC8vIHVwZGF0ZSBtYXkgYmUgbnVsbCBpZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgYmVmb3JlIGl0cyBhc3luY1xuICAgICAgICAvLyBzZXR1cCBoYXMgcmVzb2x2ZWQuXG4gICAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgc2NoZWR1bGVyIHdpbGwgbm8gbG9uZ2VyIGludm9rZSBpdFxuICAgICAgICAgICAgdXBkYXRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1bm1vdW50ZWQgaG9va1xuICAgICAgICBpZiAodW0pIHtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1bSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGluc3RhbmNlLmVtaXQoJ2hvb2s6ZGVzdHJveWVkJyksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgaW5zdGFuY2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIC8vIEEgY29tcG9uZW50IHdpdGggYXN5bmMgZGVwIGluc2lkZSBhIHBlbmRpbmcgc3VzcGVuc2UgaXMgdW5tb3VudGVkIGJlZm9yZVxuICAgICAgICAvLyBpdHMgYXN5bmMgZGVwIHJlc29sdmVzLiBUaGlzIHNob3VsZCByZW1vdmUgdGhlIGRlcCBmcm9tIHRoZSBzdXNwZW5zZSwgYW5kXG4gICAgICAgIC8vIGNhdXNlIHRoZSBzdXNwZW5zZSB0byByZXNvbHZlIGltbWVkaWF0ZWx5IGlmIHRoYXQgd2FzIHRoZSBsYXN0IGRlcC5cbiAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmXG4gICAgICAgICAgICAhcGFyZW50U3VzcGVuc2UuaXNVbm1vdW50ZWQgJiZcbiAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jRGVwICYmXG4gICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCAmJlxuICAgICAgICAgICAgaW5zdGFuY2Uuc3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzLS07XG4gICAgICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdW5tb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSwgc3RhcnQgPSAwKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gdm5vZGUgPT4ge1xuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGdldE5leHRIb3N0Tm9kZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob3N0TmV4dFNpYmxpbmcoKHZub2RlLmFuY2hvciB8fCB2bm9kZS5lbCkpO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVyID0gKHZub2RlLCBjb250YWluZXIsIGlzU1ZHKSA9PiB7XG4gICAgICAgIGlmICh2bm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xuICAgICAgICAgICAgICAgIHVubW91bnQoY29udGFpbmVyLl92bm9kZSwgbnVsbCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRjaChjb250YWluZXIuX3Zub2RlIHx8IG51bGwsIHZub2RlLCBjb250YWluZXIsIG51bGwsIG51bGwsIG51bGwsIGlzU1ZHKTtcbiAgICAgICAgfVxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKCk7XG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICB9O1xuICAgIGNvbnN0IGludGVybmFscyA9IHtcbiAgICAgICAgcDogcGF0Y2gsXG4gICAgICAgIHVtOiB1bm1vdW50LFxuICAgICAgICBtOiBtb3ZlLFxuICAgICAgICByOiByZW1vdmUsXG4gICAgICAgIG10OiBtb3VudENvbXBvbmVudCxcbiAgICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXG4gICAgICAgIHBjOiBwYXRjaENoaWxkcmVuLFxuICAgICAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICAgICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxuICAgICAgICBvOiBvcHRpb25zXG4gICAgfTtcbiAgICBsZXQgaHlkcmF0ZTtcbiAgICBsZXQgaHlkcmF0ZU5vZGU7XG4gICAgaWYgKGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICAgICAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKGludGVybmFscyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgaHlkcmF0ZSxcbiAgICAgICAgY3JlYXRlQXBwOiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKVxuICAgIH07XG59XG5mdW5jdGlvbiB0b2dnbGVSZWN1cnNlKHsgZWZmZWN0LCB1cGRhdGUgfSwgYWxsb3dlZCkge1xuICAgIGVmZmVjdC5hbGxvd1JlY3Vyc2UgPSB1cGRhdGUuYWxsb3dSZWN1cnNlID0gYWxsb3dlZDtcbn1cbi8qKlxuICogIzExNTZcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgSE1SLWVuYWJsZWQsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHN0YXRpYyBub2Rlc1xuICogaW5zaWRlIGEgYmxvY2sgYWxzbyBpbmhlcml0IHRoZSBET00gZWxlbWVudCBmcm9tIHRoZSBwcmV2aW91cyB0cmVlIHNvIHRoYXRcbiAqIEhNUiB1cGRhdGVzICh3aGljaCBhcmUgZnVsbCB1cGRhdGVzKSBjYW4gcmV0cmlldmUgdGhlIGVsZW1lbnQgZm9yIHBhdGNoaW5nLlxuICpcbiAqICMyMDgwXG4gKiBJbnNpZGUga2V5ZWQgYHRlbXBsYXRlYCBmcmFnbWVudCBzdGF0aWMgY2hpbGRyZW4sIGlmIGEgZnJhZ21lbnQgaXMgbW92ZWQsXG4gKiB0aGUgY2hpbGRyZW4gd2lsbCBhbHdheXMgYmUgbW92ZWQuIFRoZXJlZm9yZSwgaW4gb3JkZXIgdG8gZW5zdXJlIGNvcnJlY3QgbW92ZVxuICogcG9zaXRpb24sIGVsIHNob3VsZCBiZSBpbmhlcml0ZWQgZnJvbSBwcmV2aW91cyBub2Rlcy5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHNoYWxsb3cgPSBmYWxzZSkge1xuICAgIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNoMiA9IG4yLmNoaWxkcmVuO1xuICAgIGlmIChpc0FycmF5KGNoMSkgJiYgaXNBcnJheShjaDIpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9ubHkgY2FsbGVkIGluIHRoZSBvcHRpbWl6ZWQgcGF0aCBzbyBhcnJheSBjaGlsZHJlbiBhcmVcbiAgICAgICAgICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgdm5vZGVzXG4gICAgICAgICAgICBjb25zdCBjMSA9IGNoMVtpXTtcbiAgICAgICAgICAgIGxldCBjMiA9IGNoMltpXTtcbiAgICAgICAgICAgIGlmIChjMi5zaGFwZUZsYWcgJiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyAmJiAhYzIuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGMyLnBhdGNoRmxhZyA8PSAwIHx8IGMyLnBhdGNoRmxhZyA9PT0gMzIgLyogUGF0Y2hGbGFncy5IWURSQVRFX0VWRU5UUyAqLykge1xuICAgICAgICAgICAgICAgICAgICBjMiA9IGNoMltpXSA9IGNsb25lSWZNb3VudGVkKGNoMltpXSk7XG4gICAgICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc2hhbGxvdylcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gIzY4NTIgYWxzbyBpbmhlcml0IGZvciB0ZXh0IG5vZGVzXG4gICAgICAgICAgICBpZiAoYzIudHlwZSA9PT0gVGV4dCkge1xuICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhbHNvIGluaGVyaXQgZm9yIGNvbW1lbnQgbm9kZXMsIGJ1dCBub3QgcGxhY2Vob2xkZXJzIChlLmcuIHYtaWYgd2hpY2hcbiAgICAgICAgICAgIC8vIHdvdWxkIGhhdmUgcmVjZWl2ZWQgLmVsIGR1cmluZyBibG9jayBwYXRjaClcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYzIudHlwZSA9PT0gQ29tbWVudCAmJiAhYzIuZWwpIHtcbiAgICAgICAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9uZ2VzdF9pbmNyZWFzaW5nX3N1YnNlcXVlbmNlXG5mdW5jdGlvbiBnZXRTZXF1ZW5jZShhcnIpIHtcbiAgICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gWzBdO1xuICAgIGxldCBpLCBqLCB1LCB2LCBjO1xuICAgIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFyckkgPSBhcnJbaV07XG4gICAgICAgIGlmIChhcnJJICE9PSAwKSB7XG4gICAgICAgICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChhcnJbal0gPCBhcnJJKSB7XG4gICAgICAgICAgICAgICAgcFtpXSA9IGo7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1ID0gMDtcbiAgICAgICAgICAgIHYgPSByZXN1bHQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICh1IDwgdikge1xuICAgICAgICAgICAgICAgIGMgPSAodSArIHYpID4+IDE7XG4gICAgICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xuICAgICAgICAgICAgICAgICAgICB1ID0gYyArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2ID0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XG4gICAgICAgICAgICAgICAgaWYgKHUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRbdV0gPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHUgPSByZXN1bHQubGVuZ3RoO1xuICAgIHYgPSByZXN1bHRbdSAtIDFdO1xuICAgIHdoaWxlICh1LS0gPiAwKSB7XG4gICAgICAgIHJlc3VsdFt1XSA9IHY7XG4gICAgICAgIHYgPSBwW3ZdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5jb25zdCBpc1RlbGVwb3J0ID0gKHR5cGUpID0+IHR5cGUuX19pc1RlbGVwb3J0O1xuY29uc3QgaXNUZWxlcG9ydERpc2FibGVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMuZGlzYWJsZWQgPT09ICcnKTtcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKHByb3BzLCBzZWxlY3QpID0+IHtcbiAgICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IHByb3BzICYmIHByb3BzLnRvO1xuICAgIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcbiAgICAgICAgaWYgKCFzZWxlY3QpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm4kMShgQ3VycmVudCByZW5kZXJlciBkb2VzIG5vdCBzdXBwb3J0IHN0cmluZyB0YXJnZXQgZm9yIFRlbGVwb3J0cy4gYCArXG4gICAgICAgICAgICAgICAgICAgIGAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gc2VsZWN0KHRhcmdldFNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYE5vdGUgdGhlIHRhcmdldCBlbGVtZW50IG11c3QgZXhpc3QgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCAtIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGkuZS4gdGhlIHRhcmdldCBjYW5ub3QgYmUgcmVuZGVyZWQgYnkgdGhlIGNvbXBvbmVudCBpdHNlbGYsIGFuZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdGFyZ2V0U2VsZWN0b3IgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQ6ICR7dGFyZ2V0U2VsZWN0b3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldFNlbGVjdG9yO1xuICAgIH1cbn07XG5jb25zdCBUZWxlcG9ydEltcGwgPSB7XG4gICAgX19pc1RlbGVwb3J0OiB0cnVlLFxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpIHtcbiAgICAgICAgY29uc3QgeyBtYzogbW91bnRDaGlsZHJlbiwgcGM6IHBhdGNoQ2hpbGRyZW4sIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLCBvOiB7IGluc2VydCwgcXVlcnlTZWxlY3RvciwgY3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudCB9IH0gPSBpbnRlcm5hbHM7XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcbiAgICAgICAgbGV0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuIH0gPSBuMjtcbiAgICAgICAgLy8gIzMzMDJcbiAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaW5zZXJ0IGFuY2hvcnMgaW4gdGhlIG1haW4gdmlld1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAobjIuZWwgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgICAgICA/IGNyZWF0ZUNvbW1lbnQoJ3RlbGVwb3J0IHN0YXJ0JylcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcbiAgICAgICAgICAgIGNvbnN0IG1haW5BbmNob3IgPSAobjIuYW5jaG9yID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVDb21tZW50KCd0ZWxlcG9ydCBlbmQnKVxuICAgICAgICAgICAgICAgIDogY3JlYXRlVGV4dCgnJykpO1xuICAgICAgICAgICAgaW5zZXJ0KHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICBpbnNlcnQobWFpbkFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IChuMi50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KCcnKSk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAvLyAjMjY1MiB3ZSBjb3VsZCBiZSB0ZWxlcG9ydGluZyBmcm9tIGEgbm9uLVNWRyB0cmVlIGludG8gYW4gU1ZHIHRyZWVcbiAgICAgICAgICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKCdJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vdW50ID0gKGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVGVsZXBvcnQgKmFsd2F5cyogaGFzIEFycmF5IGNoaWxkcmVuLiBUaGlzIGlzIGVuZm9yY2VkIGluIGJvdGggdGhlXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZXIgYW5kIHZub2RlIGNoaWxkcmVuIG5vcm1hbGl6YXRpb24uXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIG1vdW50KGNvbnRhaW5lciwgbWFpbkFuY2hvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBtb3VudCh0YXJnZXQsIHRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgY29udGVudFxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgICAgIGNvbnN0IG1haW5BbmNob3IgPSAobjIuYW5jaG9yID0gbjEuYW5jaG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IChuMi50YXJnZXQgPSBuMS50YXJnZXQpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICBjb25zdCB3YXNEaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMS5wcm9wcyk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29udGFpbmVyID0gd2FzRGlzYWJsZWQgPyBjb250YWluZXIgOiB0YXJnZXQ7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gd2FzRGlzYWJsZWQgPyBtYWluQW5jaG9yIDogdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBpc1RhcmdldFNWRyh0YXJnZXQpO1xuICAgICAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCB3aGVuIHRoZSB0ZWxlcG9ydCBoYXBwZW5zIHRvIGJlIGEgYmxvY2sgcm9vdFxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgY3VycmVudENvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XG4gICAgICAgICAgICAgICAgLy8gZXZlbiBpbiBibG9jayB0cmVlIG1vZGUgd2UgbmVlZCB0byBtYWtlIHN1cmUgYWxsIHJvb3QtbGV2ZWwgbm9kZXNcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgdGVsZXBvcnQgaW5oZXJpdCBwcmV2aW91cyBET00gcmVmZXJlbmNlcyBzbyB0aGF0IHRoZXkgY2FuXG4gICAgICAgICAgICAgICAgLy8gYmUgbW92ZWQgaW4gZnV0dXJlIHBhdGNoZXMuXG4gICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4objEsIG4yLCBjdXJyZW50Q29udGFpbmVyLCBjdXJyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVuYWJsZWQgLT4gZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpbnRvIG1haW4gY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVUZWxlcG9ydChuMiwgY29udGFpbmVyLCBtYWluQW5jaG9yLCBpbnRlcm5hbHMsIDEgLyogVGVsZXBvcnRNb3ZlVHlwZXMuVE9HR0xFICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgY2hhbmdlZFxuICAgICAgICAgICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUYXJnZXQgPSAobjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChuMi5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCBuZXh0VGFyZ2V0LCBudWxsLCBpbnRlcm5hbHMsIDAgLyogVGVsZXBvcnRNb3ZlVHlwZXMuVEFSR0VUX0NIQU5HRSAqLyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIHVwZGF0ZTonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlZCAtPiBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaW50byB0ZWxlcG9ydCB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCB0YXJnZXQsIHRhcmdldEFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRlbGVwb3J0TW92ZVR5cGVzLlRPR0dMRSAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNzc1ZhcnMobjIpO1xuICAgIH0sXG4gICAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQsIHsgdW06IHVubW91bnQsIG86IHsgcmVtb3ZlOiBob3N0UmVtb3ZlIH0gfSwgZG9SZW1vdmUpIHtcbiAgICAgICAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBhbmNob3IsIHRhcmdldEFuY2hvciwgdGFyZ2V0LCBwcm9wcyB9ID0gdm5vZGU7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbiB1bm1vdW50ZWQgdGVsZXBvcnQgc2hvdWxkIGFsd2F5cyByZW1vdmUgaXRzIGNoaWxkcmVuIGlmIG5vdCBkaXNhYmxlZFxuICAgICAgICBpZiAoZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KGNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlLCAhIWNoaWxkLmR5bmFtaWNDaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVRlbGVwb3J0XG59O1xuZnVuY3Rpb24gbW92ZVRlbGVwb3J0KHZub2RlLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgeyBvOiB7IGluc2VydCB9LCBtOiBtb3ZlIH0sIG1vdmVUeXBlID0gMiAvKiBUZWxlcG9ydE1vdmVUeXBlcy5SRU9SREVSICovKSB7XG4gICAgLy8gbW92ZSB0YXJnZXQgYW5jaG9yIGlmIHRoaXMgaXMgYSB0YXJnZXQgY2hhbmdlLlxuICAgIGlmIChtb3ZlVHlwZSA9PT0gMCAvKiBUZWxlcG9ydE1vdmVUeXBlcy5UQVJHRVRfQ0hBTkdFICovKSB7XG4gICAgICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgICB9XG4gICAgY29uc3QgeyBlbCwgYW5jaG9yLCBzaGFwZUZsYWcsIGNoaWxkcmVuLCBwcm9wcyB9ID0gdm5vZGU7XG4gICAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDIgLyogVGVsZXBvcnRNb3ZlVHlwZXMuUkVPUkRFUiAqLztcbiAgICAvLyBtb3ZlIG1haW4gdmlldyBhbmNob3IgaWYgdGhpcyBpcyBhIHJlLW9yZGVyLlxuICAgIGlmIChpc1Jlb3JkZXIpIHtcbiAgICAgICAgaW5zZXJ0KGVsLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gICAgfVxuICAgIC8vIGlmIHRoaXMgaXMgYSByZS1vcmRlciBhbmQgdGVsZXBvcnQgaXMgZW5hYmxlZCAoY29udGVudCBpcyBpbiB0YXJnZXQpXG4gICAgLy8gZG8gbm90IG1vdmUgY2hpbGRyZW4uIFNvIHRoZSBvcHBvc2l0ZSBpczogb25seSBtb3ZlIGNoaWxkcmVuIGlmIHRoaXNcbiAgICAvLyBpcyBub3QgYSByZW9yZGVyLCBvciB0aGUgdGVsZXBvcnQgaXMgZGlzYWJsZWRcbiAgICBpZiAoIWlzUmVvcmRlciB8fCBpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICAgIC8vIFRlbGVwb3J0IGhhcyBlaXRoZXIgQXJyYXkgY2hpbGRyZW4gb3Igbm8gY2hpbGRyZW4uXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIDIgLyogTW92ZVR5cGUuUkVPUkRFUiAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cbiAgICBpZiAoaXNSZW9yZGVyKSB7XG4gICAgICAgIGluc2VydChhbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBoeWRyYXRlVGVsZXBvcnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IG86IHsgbmV4dFNpYmxpbmcsIHBhcmVudE5vZGUsIHF1ZXJ5U2VsZWN0b3IgfSB9LCBoeWRyYXRlQ2hpbGRyZW4pIHtcbiAgICBjb25zdCB0YXJnZXQgPSAodm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldCh2bm9kZS5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgLy8gaWYgbXVsdGlwbGUgdGVsZXBvcnRzIHJlbmRlcmVkIHRvIHRoZSBzYW1lIHRhcmdldCBlbGVtZW50LCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIHBpY2sgdXAgZnJvbSB3aGVyZSB0aGUgbGFzdCB0ZWxlcG9ydCBmaW5pc2hlZCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBub2RlXG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuX2xwYSB8fCB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgIGlmIChpc1RlbGVwb3J0RGlzYWJsZWQodm5vZGUucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgcGFyZW50Tm9kZShub2RlKSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgICAgICAvLyBsb29rYWhlYWQgdW50aWwgd2UgZmluZCB0aGUgdGFyZ2V0IGFuY2hvclxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbm5vdCByZWx5IG9uIHJldHVybiB2YWx1ZSBvZiBoeWRyYXRlQ2hpbGRyZW4oKSBiZWNhdXNlIHRoZXJlXG4gICAgICAgICAgICAgICAgLy8gY291bGQgYmUgbmVzdGVkIHRlbGVwb3J0c1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0YXJnZXRBbmNob3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QW5jaG9yID0gbmV4dFNpYmxpbmcodGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEFuY2hvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QW5jaG9yLm5vZGVUeXBlID09PSA4ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRBbmNob3IuZGF0YSA9PT0gJ3RlbGVwb3J0IGFuY2hvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldEFuY2hvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5fbHBhID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUudGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGh5ZHJhdGVDaGlsZHJlbih0YXJnZXROb2RlLCB2bm9kZSwgdGFyZ2V0LCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlQ3NzVmFycyh2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZS5hbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yKTtcbn1cbi8vIEZvcmNlLWNhc3RlZCBwdWJsaWMgdHlwaW5nIGZvciBoIGFuZCBUU1ggcHJvcHMgaW5mZXJlbmNlXG5jb25zdCBUZWxlcG9ydCA9IFRlbGVwb3J0SW1wbDtcbmZ1bmN0aW9uIHVwZGF0ZUNzc1ZhcnModm5vZGUpIHtcbiAgICAvLyBwcmVzZW5jZSBvZiAudXQgbWV0aG9kIGluZGljYXRlcyBvd25lciBjb21wb25lbnQgdXNlcyBjc3MgdmFycy5cbiAgICAvLyBjb2RlIHBhdGggaGVyZSBjYW4gYXNzdW1lIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgY29uc3QgY3R4ID0gdm5vZGUuY3R4O1xuICAgIGlmIChjdHggJiYgY3R4LnV0KSB7XG4gICAgICAgIGxldCBub2RlID0gdm5vZGUuY2hpbGRyZW5bMF0uZWw7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSB2bm9kZS50YXJnZXRBbmNob3IpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKVxuICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLXYtb3duZXInLCBjdHgudWlkKTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGN0eC51dCgpO1xuICAgIH1cbn1cblxuY29uc3Qgbm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gY29udmVydExlZ2FjeUFzeW5jQ29tcG9uZW50KGNvbXApIHtcbiAgICBpZiAobm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwLmhhcyhjb21wKSkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwLmdldChjb21wKTtcbiAgICB9XG4gICAgLy8gd2UgaGF2ZSB0byBjYWxsIHRoZSBmdW5jdGlvbiBoZXJlIGR1ZSB0byBob3cgdjIncyBBUEkgd29uJ3QgZXhwb3NlIHRoZVxuICAgIC8vIG9wdGlvbnMgdW50aWwgd2UgY2FsbCBpdFxuICAgIGxldCByZXNvbHZlO1xuICAgIGxldCByZWplY3Q7XG4gICAgY29uc3QgZmFsbGJhY2tQcm9taXNlID0gbmV3IFByb21pc2UoKHIsIHJqKSA9PiB7XG4gICAgICAgIChyZXNvbHZlID0gciksIChyZWplY3QgPSByaik7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzID0gY29tcChyZXNvbHZlLCByZWplY3QpO1xuICAgIGxldCBjb252ZXJ0ZWQ7XG4gICAgaWYgKGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICAgIGNvbnZlcnRlZCA9IGRlZmluZUFzeW5jQ29tcG9uZW50KCgpID0+IHJlcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHJlcykgJiYgIWlzVk5vZGUocmVzKSAmJiAhaXNBcnJheShyZXMpKSB7XG4gICAgICAgIGNvbnZlcnRlZCA9IGRlZmluZUFzeW5jQ29tcG9uZW50KHtcbiAgICAgICAgICAgIGxvYWRlcjogKCkgPT4gcmVzLmNvbXBvbmVudCxcbiAgICAgICAgICAgIGxvYWRpbmdDb21wb25lbnQ6IHJlcy5sb2FkaW5nLFxuICAgICAgICAgICAgZXJyb3JDb21wb25lbnQ6IHJlcy5lcnJvcixcbiAgICAgICAgICAgIGRlbGF5OiByZXMuZGVsYXksXG4gICAgICAgICAgICB0aW1lb3V0OiByZXMudGltZW91dFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzID09IG51bGwpIHtcbiAgICAgICAgY29udmVydGVkID0gZGVmaW5lQXN5bmNDb21wb25lbnQoKCkgPT4gZmFsbGJhY2tQcm9taXNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnZlcnRlZCA9IGNvbXA7IC8vIHByb2JhYmx5IGEgdjMgZnVuY3Rpb25hbCBjb21wXG4gICAgfVxuICAgIG5vcm1hbGl6ZWRBc3luY0NvbXBvbmVudE1hcC5zZXQoY29tcCwgY29udmVydGVkKTtcbiAgICByZXR1cm4gY29udmVydGVkO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5Q29tcG9uZW50KGNvbXAsIGluc3RhbmNlKSB7XG4gICAgaWYgKGNvbXAuX19pc0J1aWx0SW4pIHtcbiAgICAgICAgcmV0dXJuIGNvbXA7XG4gICAgfVxuICAgIC8vIDIueCBjb25zdHJ1Y3RvclxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbXApICYmIGNvbXAuY2lkKSB7XG4gICAgICAgIGNvbXAgPSBjb21wLm9wdGlvbnM7XG4gICAgfVxuICAgIC8vIDIueCBhc3luYyBjb21wb25lbnRcbiAgICBpZiAoaXNGdW5jdGlvbihjb21wKSAmJlxuICAgICAgICBjaGVja0NvbXBhdEVuYWJsZWQoXCJDT01QT05FTlRfQVNZTkNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9BU1lOQyAqLywgaW5zdGFuY2UsIGNvbXApKSB7XG4gICAgICAgIC8vIHNpbmNlIGFmdGVyIGRpc2FibGluZyB0aGlzLCBwbGFpbiBmdW5jdGlvbnMgYXJlIHN0aWxsIHZhbGlkIHVzYWdlLCBkbyBub3RcbiAgICAgICAgLy8gdXNlIHNvZnRBc3NlcnQgaGVyZS5cbiAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lBc3luY0NvbXBvbmVudChjb21wKTtcbiAgICB9XG4gICAgLy8gMi54IGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApICYmXG4gICAgICAgIGNvbXAuZnVuY3Rpb25hbCAmJlxuICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIkNPTVBPTkVOVF9GVU5DVElPTkFMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfRlVOQ1RJT05BTCAqLywgaW5zdGFuY2UsIGNvbXApKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0TGVnYWN5RnVuY3Rpb25hbENvbXBvbmVudChjb21wKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXA7XG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdGcmFnbWVudCcgOiB1bmRlZmluZWQpO1xuY29uc3QgVGV4dCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnVGV4dCcgOiB1bmRlZmluZWQpO1xuY29uc3QgQ29tbWVudCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnQ29tbWVudCcgOiB1bmRlZmluZWQpO1xuY29uc3QgU3RhdGljID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdTdGF0aWMnIDogdW5kZWZpbmVkKTtcbi8vIFNpbmNlIHYtaWYgYW5kIHYtZm9yIGFyZSB0aGUgdHdvIHBvc3NpYmxlIHdheXMgbm9kZSBzdHJ1Y3R1cmUgY2FuIGR5bmFtaWNhbGx5XG4vLyBjaGFuZ2UsIG9uY2Ugd2UgY29uc2lkZXIgdi1pZiBicmFuY2hlcyBhbmQgZWFjaCB2LWZvciBmcmFnbWVudCBhIGJsb2NrLCB3ZVxuLy8gY2FuIGRpdmlkZSBhIHRlbXBsYXRlIGludG8gbmVzdGVkIGJsb2NrcywgYW5kIHdpdGhpbiBlYWNoIGJsb2NrIHRoZSBub2RlXG4vLyBzdHJ1Y3R1cmUgd291bGQgYmUgc3RhYmxlLiBUaGlzIGFsbG93cyB1cyB0byBza2lwIG1vc3QgY2hpbGRyZW4gZGlmZmluZ1xuLy8gYW5kIG9ubHkgd29ycnkgYWJvdXQgdGhlIGR5bmFtaWMgbm9kZXMgKGluZGljYXRlZCBieSBwYXRjaCBmbGFncykuXG5jb25zdCBibG9ja1N0YWNrID0gW107XG5sZXQgY3VycmVudEJsb2NrID0gbnVsbDtcbi8qKlxuICogT3BlbiBhIGJsb2NrLlxuICogVGhpcyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgYGNyZWF0ZUJsb2NrYC4gSXQgY2Fubm90IGJlIHBhcnQgb2YgYGNyZWF0ZUJsb2NrYFxuICogYmVjYXVzZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGJsb2NrIGFyZSBldmFsdWF0ZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AgaXRzZWxmXG4gKiBpcyBjYWxsZWQuIFRoZSBnZW5lcmF0ZWQgY29kZSB0eXBpY2FsbHkgbG9va3MgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gKiAgIHJldHVybiAob3BlbkJsb2NrKCksY3JlYXRlQmxvY2soJ2RpdicsIG51bGwsIFsuLi5dKSlcbiAqIH1cbiAqIGBgYFxuICogZGlzYWJsZVRyYWNraW5nIGlzIHRydWUgd2hlbiBjcmVhdGluZyBhIHYtZm9yIGZyYWdtZW50IGJsb2NrLCBzaW5jZSBhIHYtZm9yXG4gKiBmcmFnbWVudCBhbHdheXMgZGlmZnMgaXRzIGNoaWxkcmVuLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG9wZW5CbG9jayhkaXNhYmxlVHJhY2tpbmcgPSBmYWxzZSkge1xuICAgIGJsb2NrU3RhY2sucHVzaCgoY3VycmVudEJsb2NrID0gZGlzYWJsZVRyYWNraW5nID8gbnVsbCA6IFtdKSk7XG59XG5mdW5jdGlvbiBjbG9zZUJsb2NrKCkge1xuICAgIGJsb2NrU3RhY2sucG9wKCk7XG4gICAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG4vLyBXaGV0aGVyIHdlIHNob3VsZCBiZSB0cmFja2luZyBkeW5hbWljIGNoaWxkIG5vZGVzIGluc2lkZSBhIGJsb2NrLlxuLy8gT25seSB0cmFja3Mgd2hlbiB0aGlzIHZhbHVlIGlzID4gMFxuLy8gV2UgYXJlIG5vdCB1c2luZyBhIHNpbXBsZSBib29sZWFuIGJlY2F1c2UgdGhpcyB2YWx1ZSBtYXkgbmVlZCB0byBiZVxuLy8gaW5jcmVtZW50ZWQvZGVjcmVtZW50ZWQgYnkgbmVzdGVkIHVzYWdlIG9mIHYtb25jZSAoc2VlIGJlbG93KVxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XG4vKipcbiAqIEJsb2NrIHRyYWNraW5nIHNvbWV0aW1lcyBuZWVkcyB0byBiZSBkaXNhYmxlZCwgZm9yIGV4YW1wbGUgZHVyaW5nIHRoZVxuICogY3JlYXRpb24gb2YgYSB0cmVlIHRoYXQgbmVlZHMgdG8gYmUgY2FjaGVkIGJ5IHYtb25jZS4gVGhlIGNvbXBpbGVyIGdlbmVyYXRlc1xuICogY29kZSBsaWtlIHRoaXM6XG4gKlxuICogYGBgIGpzXG4gKiBfY2FjaGVbMV0gfHwgKFxuICogICBzZXRCbG9ja1RyYWNraW5nKC0xKSxcbiAqICAgX2NhY2hlWzFdID0gY3JlYXRlVk5vZGUoLi4uKSxcbiAqICAgc2V0QmxvY2tUcmFja2luZygxKSxcbiAqICAgX2NhY2hlWzFdXG4gKiApXG4gKiBgYGBcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXRCbG9ja1RyYWNraW5nKHZhbHVlKSB7XG4gICAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0dXBCbG9jayh2bm9kZSkge1xuICAgIC8vIHNhdmUgY3VycmVudCBibG9jayBjaGlsZHJlbiBvbiB0aGUgYmxvY2sgdm5vZGVcbiAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPVxuICAgICAgICBpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwID8gY3VycmVudEJsb2NrIHx8IEVNUFRZX0FSUiA6IG51bGw7XG4gICAgLy8gY2xvc2UgYmxvY2tcbiAgICBjbG9zZUJsb2NrKCk7XG4gICAgLy8gYSBibG9jayBpcyBhbHdheXMgZ29pbmcgdG8gYmUgcGF0Y2hlZCwgc28gdHJhY2sgaXQgYXMgYSBjaGlsZCBvZiBpdHNcbiAgICAvLyBwYXJlbnQgYmxvY2tcbiAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzLCBzaGFwZUZsYWcpIHtcbiAgICByZXR1cm4gc2V0dXBCbG9jayhjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgc2hhcGVGbGFnLCB0cnVlIC8qIGlzQmxvY2sgKi8pKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgYmxvY2sgcm9vdCB2bm9kZS4gVGFrZXMgdGhlIHNhbWUgZXhhY3QgYXJndW1lbnRzIGFzIGBjcmVhdGVWTm9kZWAuXG4gKiBBIGJsb2NrIHJvb3Qga2VlcHMgdHJhY2sgb2YgZHluYW1pYyBub2RlcyB3aXRoaW4gdGhlIGJsb2NrIGluIHRoZVxuICogYGR5bmFtaWNDaGlsZHJlbmAgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcykge1xuICAgIHJldHVybiBzZXR1cEJsb2NrKGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHRydWUgLyogaXNCbG9jazogcHJldmVudCBhIGJsb2NrIGZyb20gdHJhY2tpbmcgaXRzZWxmICovKSk7XG59XG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gdmFsdWUuX192X2lzVk5vZGUgPT09IHRydWUgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgIG4yLnNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8gJiZcbiAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmhhcyhuMi50eXBlKSkge1xuICAgICAgICAvLyAjNzA0MiwgZW5zdXJlIHRoZSB2bm9kZSBiZWluZyB1bm1vdW50ZWQgZHVyaW5nIEhNUlxuICAgICAgICAvLyBiaXR3aXNlIG9wZXJhdGlvbnMgdG8gcmVtb3ZlIGtlZXAgYWxpdmUgZmxhZ3NcbiAgICAgICAgbjEuc2hhcGVGbGFnICY9IH4yNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi87XG4gICAgICAgIG4yLnNoYXBlRmxhZyAmPSB+NTEyIC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XG4gICAgICAgIC8vIEhNUiBvbmx5OiBpZiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIGhvdC11cGRhdGVkLCBmb3JjZSBhIHJlbG9hZC5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbjEudHlwZSA9PT0gbjIudHlwZSAmJiBuMS5rZXkgPT09IG4yLmtleTtcbn1cbmxldCB2bm9kZUFyZ3NUcmFuc2Zvcm1lcjtcbi8qKlxuICogSW50ZXJuYWwgQVBJIGZvciByZWdpc3RlcmluZyBhbiBhcmd1bWVudHMgdHJhbnNmb3JtIGZvciBjcmVhdGVWTm9kZVxuICogdXNlZCBmb3IgY3JlYXRpbmcgc3R1YnMgaW4gdGhlIHRlc3QtdXRpbHNcbiAqIEl0IGlzICppbnRlcm5hbCogYnV0IG5lZWRzIHRvIGJlIGV4cG9zZWQgZm9yIHRlc3QtdXRpbHMgdG8gcGljayB1cCBwcm9wZXJcbiAqIHR5cGluZ3NcbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtVk5vZGVBcmdzKHRyYW5zZm9ybWVyKSB7XG4gICAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gPSAoLi4uYXJncykgPT4ge1xuICAgIHJldHVybiBfY3JlYXRlVk5vZGUoLi4uKHZub2RlQXJnc1RyYW5zZm9ybWVyXG4gICAgICAgID8gdm5vZGVBcmdzVHJhbnNmb3JtZXIoYXJncywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKVxuICAgICAgICA6IGFyZ3MpKTtcbn07XG5jb25zdCBJbnRlcm5hbE9iamVjdEtleSA9IGBfX3ZJbnRlcm5hbGA7XG5jb25zdCBub3JtYWxpemVLZXkgPSAoeyBrZXkgfSkgPT4ga2V5ICE9IG51bGwgPyBrZXkgOiBudWxsO1xuY29uc3Qgbm9ybWFsaXplUmVmID0gKHsgcmVmLCByZWZfa2V5LCByZWZfZm9yIH0pID0+IHtcbiAgICByZXR1cm4gKHJlZiAhPSBudWxsXG4gICAgICAgID8gaXNTdHJpbmcocmVmKSB8fCBpc1JlZihyZWYpIHx8IGlzRnVuY3Rpb24ocmVmKVxuICAgICAgICAgICAgPyB7IGk6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgcjogcmVmLCBrOiByZWZfa2V5LCBmOiAhIXJlZl9mb3IgfVxuICAgICAgICAgICAgOiByZWZcbiAgICAgICAgOiBudWxsKTtcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIHNoYXBlRmxhZyA9IHR5cGUgPT09IEZyYWdtZW50ID8gMCA6IDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovLCBpc0Jsb2NrTm9kZSA9IGZhbHNlLCBuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgdm5vZGUgPSB7XG4gICAgICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgICAgICBfX3Zfc2tpcDogdHJ1ZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIGtleTogcHJvcHMgJiYgbm9ybWFsaXplS2V5KHByb3BzKSxcbiAgICAgICAgcmVmOiBwcm9wcyAmJiBub3JtYWxpemVSZWYocHJvcHMpLFxuICAgICAgICBzY29wZUlkOiBjdXJyZW50U2NvcGVJZCxcbiAgICAgICAgc2xvdFNjb3BlSWRzOiBudWxsLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgY29tcG9uZW50OiBudWxsLFxuICAgICAgICBzdXNwZW5zZTogbnVsbCxcbiAgICAgICAgc3NDb250ZW50OiBudWxsLFxuICAgICAgICBzc0ZhbGxiYWNrOiBudWxsLFxuICAgICAgICBkaXJzOiBudWxsLFxuICAgICAgICB0cmFuc2l0aW9uOiBudWxsLFxuICAgICAgICBlbDogbnVsbCxcbiAgICAgICAgYW5jaG9yOiBudWxsLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIHRhcmdldEFuY2hvcjogbnVsbCxcbiAgICAgICAgc3RhdGljQ291bnQ6IDAsXG4gICAgICAgIHNoYXBlRmxhZyxcbiAgICAgICAgcGF0Y2hGbGFnLFxuICAgICAgICBkeW5hbWljUHJvcHMsXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbjogbnVsbCxcbiAgICAgICAgYXBwQ29udGV4dDogbnVsbCxcbiAgICAgICAgY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VcbiAgICB9O1xuICAgIGlmIChuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbikge1xuICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pO1xuICAgICAgICAvLyBub3JtYWxpemUgc3VzcGVuc2UgY2hpbGRyZW5cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgLy8gY29tcGlsZWQgZWxlbWVudCB2bm9kZSAtIGlmIGNoaWxkcmVuIGlzIHBhc3NlZCwgb25seSBwb3NzaWJsZSB0eXBlcyBhcmVcbiAgICAgICAgLy8gc3RyaW5nIG9yIEFycmF5LlxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gaXNTdHJpbmcoY2hpbGRyZW4pXG4gICAgICAgICAgICA/IDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovXG4gICAgICAgICAgICA6IDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi87XG4gICAgfVxuICAgIC8vIHZhbGlkYXRlIGtleVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcbiAgICAgICAgd2FybiQxKGBWTm9kZSBjcmVhdGVkIHdpdGggaW52YWxpZCBrZXkgKE5hTikuIFZOb2RlIHR5cGU6YCwgdm5vZGUudHlwZSk7XG4gICAgfVxuICAgIC8vIHRyYWNrIHZub2RlIGZvciBibG9jayB0cmVlXG4gICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiZcbiAgICAgICAgLy8gYXZvaWQgYSBibG9jayBub2RlIGZyb20gdHJhY2tpbmcgaXRzZWxmXG4gICAgICAgICFpc0Jsb2NrTm9kZSAmJlxuICAgICAgICAvLyBoYXMgY3VycmVudCBwYXJlbnQgYmxvY2tcbiAgICAgICAgY3VycmVudEJsb2NrICYmXG4gICAgICAgIC8vIHByZXNlbmNlIG9mIGEgcGF0Y2ggZmxhZyBpbmRpY2F0ZXMgdGhpcyBub2RlIG5lZWRzIHBhdGNoaW5nIG9uIHVwZGF0ZXMuXG4gICAgICAgIC8vIGNvbXBvbmVudCBub2RlcyBhbHNvIHNob3VsZCBhbHdheXMgYmUgcGF0Y2hlZCwgYmVjYXVzZSBldmVuIGlmIHRoZVxuICAgICAgICAvLyBjb21wb25lbnQgZG9lc24ndCBuZWVkIHRvIHVwZGF0ZSwgaXQgbmVlZHMgdG8gcGVyc2lzdCB0aGUgaW5zdGFuY2Ugb24gdG9cbiAgICAgICAgLy8gdGhlIG5leHQgdm5vZGUgc28gdGhhdCBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkIGxhdGVyLlxuICAgICAgICAodm5vZGUucGF0Y2hGbGFnID4gMCB8fCBzaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSAmJlxuICAgICAgICAvLyB0aGUgRVZFTlRTIGZsYWcgaXMgb25seSBmb3IgaHlkcmF0aW9uIGFuZCBpZiBpdCBpcyB0aGUgb25seSBmbGFnLCB0aGVcbiAgICAgICAgLy8gdm5vZGUgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGR5bmFtaWMgZHVlIHRvIGhhbmRsZXIgY2FjaGluZy5cbiAgICAgICAgdm5vZGUucGF0Y2hGbGFnICE9PSAzMiAvKiBQYXRjaEZsYWdzLkhZRFJBVEVfRVZFTlRTICovKSB7XG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcbiAgICB9XG4gICAge1xuICAgICAgICBjb252ZXJ0TGVnYWN5Vk1vZGVsUHJvcHModm5vZGUpO1xuICAgICAgICBkZWZpbmVMZWdhY3lWTm9kZVByb3BlcnRpZXModm5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59XG5jb25zdCBjcmVhdGVWTm9kZSA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtIDogX2NyZWF0ZVZOb2RlKTtcbmZ1bmN0aW9uIF9jcmVhdGVWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgaXNCbG9ja05vZGUgPSBmYWxzZSkge1xuICAgIGlmICghdHlwZSB8fCB0eXBlID09PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXR5cGUpIHtcbiAgICAgICAgICAgIHdhcm4kMShgSW52YWxpZCB2bm9kZSB0eXBlIHdoZW4gY3JlYXRpbmcgdm5vZGU6ICR7dHlwZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZSA9IENvbW1lbnQ7XG4gICAgfVxuICAgIGlmIChpc1ZOb2RlKHR5cGUpKSB7XG4gICAgICAgIC8vIGNyZWF0ZVZOb2RlIHJlY2VpdmluZyBhbiBleGlzdGluZyB2bm9kZS4gVGhpcyBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgICAgLy8gPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiLz5cbiAgICAgICAgLy8gIzIwNzggbWFrZSBzdXJlIHRvIG1lcmdlIHJlZnMgZHVyaW5nIHRoZSBjbG9uZSBpbnN0ZWFkIG9mIG92ZXJ3cml0aW5nIGl0XG4gICAgICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodHlwZSwgcHJvcHMsIHRydWUgLyogbWVyZ2VSZWY6IHRydWUgKi8pO1xuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKGNsb25lZCwgY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmICFpc0Jsb2NrTm9kZSAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgICAgICAgIGlmIChjbG9uZWQuc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9ja1tjdXJyZW50QmxvY2suaW5kZXhPZih0eXBlKV0gPSBjbG9uZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2sucHVzaChjbG9uZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsb25lZC5wYXRjaEZsYWcgfD0gLTIgLyogUGF0Y2hGbGFncy5CQUlMICovO1xuICAgICAgICByZXR1cm4gY2xvbmVkO1xuICAgIH1cbiAgICAvLyBjbGFzcyBjb21wb25lbnQgbm9ybWFsaXphdGlvbi5cbiAgICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xuICAgICAgICB0eXBlID0gdHlwZS5fX3ZjY09wdHM7XG4gICAgfVxuICAgIC8vIDIueCBhc3luYy9mdW5jdGlvbmFsIGNvbXBvbmVudCBjb21wYXRcbiAgICB7XG4gICAgICAgIHR5cGUgPSBjb252ZXJ0TGVnYWN5Q29tcG9uZW50KHR5cGUsIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSk7XG4gICAgfVxuICAgIC8vIGNsYXNzICYgc3R5bGUgbm9ybWFsaXphdGlvbi5cbiAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgLy8gZm9yIHJlYWN0aXZlIG9yIHByb3h5IG9iamVjdHMsIHdlIG5lZWQgdG8gY2xvbmUgaXQgdG8gZW5hYmxlIG11dGF0aW9uLlxuICAgICAgICBwcm9wcyA9IGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcyk7XG4gICAgICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgICAgICBpZiAoa2xhc3MgJiYgIWlzU3RyaW5nKGtsYXNzKSkge1xuICAgICAgICAgICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xuICAgICAgICAgICAgLy8gcmVhY3RpdmUgc3RhdGUgb2JqZWN0cyBuZWVkIHRvIGJlIGNsb25lZCBzaW5jZSB0aGV5IGFyZSBsaWtlbHkgdG8gYmVcbiAgICAgICAgICAgIC8vIG11dGF0ZWRcbiAgICAgICAgICAgIGlmIChpc1Byb3h5KHN0eWxlKSAmJiAhaXNBcnJheShzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZW5jb2RlIHRoZSB2bm9kZSB0eXBlIGluZm9ybWF0aW9uIGludG8gYSBiaXRtYXBcbiAgICBjb25zdCBzaGFwZUZsYWcgPSBpc1N0cmluZyh0eXBlKVxuICAgICAgICA/IDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovXG4gICAgICAgIDogaXNTdXNwZW5zZSh0eXBlKVxuICAgICAgICAgICAgPyAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqL1xuICAgICAgICAgICAgOiBpc1RlbGVwb3J0KHR5cGUpXG4gICAgICAgICAgICAgICAgPyA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovXG4gICAgICAgICAgICAgICAgOiBpc09iamVjdCh0eXBlKVxuICAgICAgICAgICAgICAgICAgICA/IDQgLyogU2hhcGVGbGFncy5TVEFURUZVTF9DT01QT05FTlQgKi9cbiAgICAgICAgICAgICAgICAgICAgOiBpc0Z1bmN0aW9uKHR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDIgLyogU2hhcGVGbGFncy5GVU5DVElPTkFMX0NPTVBPTkVOVCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLyAmJiBpc1Byb3h5KHR5cGUpKSB7XG4gICAgICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcbiAgICAgICAgd2FybiQxKGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgd2hpY2ggd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGAgK1xuICAgICAgICAgICAgYGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsIGFuZCBzaG91bGQgYmUgYXZvaWRlZCBieSBgICtcbiAgICAgICAgICAgIGBtYXJraW5nIHRoZSBjb21wb25lbnQgd2l0aCBcXGBtYXJrUmF3XFxgIG9yIHVzaW5nIFxcYHNoYWxsb3dSZWZcXGAgYCArXG4gICAgICAgICAgICBgaW5zdGVhZCBvZiBcXGByZWZcXGAuYCwgYFxcbkNvbXBvbmVudCB0aGF0IHdhcyBtYWRlIHJlYWN0aXZlOiBgLCB0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUJhc2VWTm9kZSh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzLCBzaGFwZUZsYWcsIGlzQmxvY2tOb2RlLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcykge1xuICAgIGlmICghcHJvcHMpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiBpc1Byb3h5KHByb3BzKSB8fCBJbnRlcm5hbE9iamVjdEtleSBpbiBwcm9wc1xuICAgICAgICA/IGV4dGVuZCh7fSwgcHJvcHMpXG4gICAgICAgIDogcHJvcHM7XG59XG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlKSB7XG4gICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IE5PVCB1c2luZyBzcHJlYWQgb3IgZXh0ZW5kIHRvIGF2b2lkIHRoZSBydW50aW1lXG4gICAgLy8ga2V5IGVudW1lcmF0aW9uIGNvc3QuXG4gICAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcbiAgICBjb25zdCBtZXJnZWRQcm9wcyA9IGV4dHJhUHJvcHMgPyBtZXJnZVByb3BzKHByb3BzIHx8IHt9LCBleHRyYVByb3BzKSA6IHByb3BzO1xuICAgIGNvbnN0IGNsb25lZCA9IHtcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgICAgIF9fdl9za2lwOiB0cnVlLFxuICAgICAgICB0eXBlOiB2bm9kZS50eXBlLFxuICAgICAgICBwcm9wczogbWVyZ2VkUHJvcHMsXG4gICAgICAgIGtleTogbWVyZ2VkUHJvcHMgJiYgbm9ybWFsaXplS2V5KG1lcmdlZFByb3BzKSxcbiAgICAgICAgcmVmOiBleHRyYVByb3BzICYmIGV4dHJhUHJvcHMucmVmXG4gICAgICAgICAgICA/IC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdm5vZGUgaXRzZWxmIGFscmVhZHkgaGFzIGEgcmVmLCBjbG9uZVZOb2RlIHdpbGwgbmVlZCB0byBtZXJnZVxuICAgICAgICAgICAgICAgIC8vIHRoZSByZWZzIHNvIHRoZSBzaW5nbGUgdm5vZGUgY2FuIGJlIHNldCBvbiBtdWx0aXBsZSByZWZzXG4gICAgICAgICAgICAgICAgbWVyZ2VSZWYgJiYgcmVmXG4gICAgICAgICAgICAgICAgICAgID8gaXNBcnJheShyZWYpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbcmVmLCBub3JtYWxpemVSZWYoZXh0cmFQcm9wcyldXG4gICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXG4gICAgICAgICAgICA6IHJlZixcbiAgICAgICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcbiAgICAgICAgc2xvdFNjb3BlSWRzOiB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgIGNoaWxkcmVuOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGF0Y2hGbGFnID09PSAtMSAvKiBQYXRjaEZsYWdzLkhPSVNURUQgKi8gJiYgaXNBcnJheShjaGlsZHJlbilcbiAgICAgICAgICAgID8gY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKVxuICAgICAgICAgICAgOiBjaGlsZHJlbixcbiAgICAgICAgdGFyZ2V0OiB2bm9kZS50YXJnZXQsXG4gICAgICAgIHRhcmdldEFuY2hvcjogdm5vZGUudGFyZ2V0QW5jaG9yLFxuICAgICAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXG4gICAgICAgIHNoYXBlRmxhZzogdm5vZGUuc2hhcGVGbGFnLFxuICAgICAgICAvLyBpZiB0aGUgdm5vZGUgaXMgY2xvbmVkIHdpdGggZXh0cmEgcHJvcHMsIHdlIGNhbiBubyBsb25nZXIgYXNzdW1lIGl0c1xuICAgICAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxuICAgICAgICAvLyBub3RlOiBwcmVzZXJ2ZSBmbGFnIGZvciBmcmFnbWVudHMgc2luY2UgdGhleSB1c2UgdGhlIGZsYWcgZm9yIGNoaWxkcmVuXG4gICAgICAgIC8vIGZhc3QgcGF0aHMgb25seS5cbiAgICAgICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50XG4gICAgICAgICAgICA/IHBhdGNoRmxhZyA9PT0gLTEgLy8gaG9pc3RlZCBub2RlXG4gICAgICAgICAgICAgICAgPyAxNiAvKiBQYXRjaEZsYWdzLkZVTExfUFJPUFMgKi9cbiAgICAgICAgICAgICAgICA6IHBhdGNoRmxhZyB8IDE2IC8qIFBhdGNoRmxhZ3MuRlVMTF9QUk9QUyAqL1xuICAgICAgICAgICAgOiBwYXRjaEZsYWcsXG4gICAgICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxuICAgICAgICBkeW5hbWljQ2hpbGRyZW46IHZub2RlLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcbiAgICAgICAgZGlyczogdm5vZGUuZGlycyxcbiAgICAgICAgdHJhbnNpdGlvbjogdm5vZGUudHJhbnNpdGlvbixcbiAgICAgICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXG4gICAgICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxuICAgICAgICAvLyB0aGVtIHNpbmNlIHRoZW0gYmVpbmcgbm9uLW51bGwgZHVyaW5nIGEgbW91bnQgZG9lc24ndCBhZmZlY3QgdGhlIGxvZ2ljIGFzXG4gICAgICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXG4gICAgICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZTogdm5vZGUuc3VzcGVuc2UsXG4gICAgICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcbiAgICAgICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxuICAgICAgICBlbDogdm5vZGUuZWwsXG4gICAgICAgIGFuY2hvcjogdm5vZGUuYW5jaG9yLFxuICAgICAgICBjdHg6IHZub2RlLmN0eFxuICAgIH07XG4gICAge1xuICAgICAgICBkZWZpbmVMZWdhY3lWTm9kZVByb3BlcnRpZXMoY2xvbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lZDtcbn1cbi8qKlxuICogRGV2IG9ubHksIGZvciBITVIgb2YgaG9pc3RlZCB2bm9kZXMgcmV1c2VkIGluIHYtZm9yXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUvaXNzdWVzLzIwMjJcbiAqL1xuZnVuY3Rpb24gZGVlcENsb25lVk5vZGUodm5vZGUpIHtcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICBpZiAoaXNBcnJheSh2bm9kZS5jaGlsZHJlbikpIHtcbiAgICAgICAgY2xvbmVkLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lZDtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQgPSAnICcsIGZsYWcgPSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIHRleHQsIGZsYWcpO1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNWTm9kZShjb250ZW50LCBudW1iZXJPZk5vZGVzKSB7XG4gICAgLy8gQSBzdGF0aWMgdm5vZGUgY2FuIGNvbnRhaW4gbXVsdGlwbGUgc3RyaW5naWZpZWQgZWxlbWVudHMsIGFuZCB0aGUgbnVtYmVyXG4gICAgLy8gb2YgZWxlbWVudHMgaXMgbmVjZXNzYXJ5IGZvciBoeWRyYXRpb24uXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xuICAgIHZub2RlLnN0YXRpY0NvdW50ID0gbnVtYmVyT2ZOb2RlcztcbiAgICByZXR1cm4gdm5vZGU7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gJycsIFxuLy8gd2hlbiB1c2VkIGFzIHRoZSB2LWVsc2UgYnJhbmNoLCB0aGUgY29tbWVudCBub2RlIG11c3QgYmUgY3JlYXRlZCBhcyBhXG4vLyBibG9jayB0byBlbnN1cmUgY29ycmVjdCB1cGRhdGVzLlxuYXNCbG9jayA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIGFzQmxvY2tcbiAgICAgICAgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKENvbW1lbnQsIG51bGwsIHRleHQpKVxuICAgICAgICA6IGNyZWF0ZVZOb2RlKENvbW1lbnQsIG51bGwsIHRleHQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplVk5vZGUoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09ICdib29sZWFuJykge1xuICAgICAgICAvLyBlbXB0eSBwbGFjZWhvbGRlclxuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXkoY2hpbGQpKSB7XG4gICAgICAgIC8vIGZyYWdtZW50XG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShGcmFnbWVudCwgbnVsbCwgXG4gICAgICAgIC8vICMzNjY2LCBhdm9pZCByZWZlcmVuY2UgcG9sbHV0aW9uIHdoZW4gcmV1c2luZyB2bm9kZVxuICAgICAgICBjaGlsZC5zbGljZSgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBhbHJlYWR5IHZub2RlLCB0aGlzIHNob3VsZCBiZSB0aGUgbW9zdCBjb21tb24gc2luY2UgY29tcGlsZWQgdGVtcGxhdGVzXG4gICAgICAgIC8vIGFsd2F5cyBwcm9kdWNlIGFsbC12bm9kZSBjaGlsZHJlbiBhcnJheXNcbiAgICAgICAgcmV0dXJuIGNsb25lSWZNb3VudGVkKGNoaWxkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHN0cmluZ3MgYW5kIG51bWJlcnNcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIFN0cmluZyhjaGlsZCkpO1xuICAgIH1cbn1cbi8vIG9wdGltaXplZCBub3JtYWxpemF0aW9uIGZvciB0ZW1wbGF0ZS1jb21waWxlZCByZW5kZXIgZm5zXG5mdW5jdGlvbiBjbG9uZUlmTW91bnRlZChjaGlsZCkge1xuICAgIHJldHVybiAoY2hpbGQuZWwgPT09IG51bGwgJiYgY2hpbGQucGF0Y2hGbGFnICE9PSAtMSAvKiBQYXRjaEZsYWdzLkhPSVNURUQgKi8pIHx8XG4gICAgICAgIGNoaWxkLm1lbW9cbiAgICAgICAgPyBjaGlsZFxuICAgICAgICA6IGNsb25lVk5vZGUoY2hpbGQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XG4gICAgbGV0IHR5cGUgPSAwO1xuICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgIHR5cGUgPSAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAoMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gfCA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSkge1xuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHNsb3QgdG8gcGxhaW4gY2hpbGRyZW4gZm9yIHBsYWluIGVsZW1lbnQgYW5kIFRlbGVwb3J0XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gY2hpbGRyZW4uZGVmYXVsdDtcbiAgICAgICAgICAgIGlmIChzbG90KSB7XG4gICAgICAgICAgICAgICAgLy8gX2MgbWFya2VyIGlzIGFkZGVkIGJ5IHdpdGhDdHgoKSBpbmRpY2F0aW5nIHRoaXMgaXMgYSBjb21waWxlZCBzbG90XG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgc2xvdCgpKTtcbiAgICAgICAgICAgICAgICBzbG90Ll9jICYmIChzbG90Ll9kID0gdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0eXBlID0gMzIgLyogU2hhcGVGbGFncy5TTE9UU19DSElMRFJFTiAqLztcbiAgICAgICAgICAgIGNvbnN0IHNsb3RGbGFnID0gY2hpbGRyZW4uXztcbiAgICAgICAgICAgIGlmICghc2xvdEZsYWcgJiYgIShJbnRlcm5hbE9iamVjdEtleSBpbiBjaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2xvdEZsYWcgPT09IDMgLyogU2xvdEZsYWdzLkZPUldBUkRFRCAqLyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBhIGNoaWxkIGNvbXBvbmVudCByZWNlaXZlcyBmb3J3YXJkZWQgc2xvdHMgZnJvbSB0aGUgcGFyZW50LlxuICAgICAgICAgICAgICAgIC8vIGl0cyBzbG90IHR5cGUgaXMgZGV0ZXJtaW5lZCBieSBpdHMgcGFyZW50J3Mgc2xvdCB0eXBlLlxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSAvKiBTbG90RmxhZ3MuU1RBQkxFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLl8gPSAxIC8qIFNsb3RGbGFncy5TVEFCTEUgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMiAvKiBTbG90RmxhZ3MuRFlOQU1JQyAqLztcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUucGF0Y2hGbGFnIHw9IDEwMjQgLyogUGF0Y2hGbGFncy5EWU5BTUlDX1NMT1RTICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGNoaWxkcmVuKSkge1xuICAgICAgICBjaGlsZHJlbiA9IHsgZGVmYXVsdDogY2hpbGRyZW4sIF9jdHg6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB9O1xuICAgICAgICB0eXBlID0gMzIgLyogU2hhcGVGbGFncy5TTE9UU19DSElMRFJFTiAqLztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgLy8gZm9yY2UgdGVsZXBvcnQgY2hpbGRyZW4gdG8gYXJyYXkgc28gaXQgY2FuIGJlIG1vdmVkIGFyb3VuZFxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogU2hhcGVGbGFncy5URUxFUE9SVCAqLykge1xuICAgICAgICAgICAgdHlwZSA9IDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi87XG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHR5cGUgPSA4IC8qIFNoYXBlRmxhZ3MuVEVYVF9DSElMRFJFTiAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2bm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHZub2RlLnNoYXBlRmxhZyB8PSB0eXBlO1xufVxuZnVuY3Rpb24gbWVyZ2VQcm9wcyguLi5hcmdzKSB7XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRvTWVyZ2UgPSBhcmdzW2ldO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0b01lcmdlKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJldC5jbGFzcyAhPT0gdG9NZXJnZS5jbGFzcykge1xuICAgICAgICAgICAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICAgICAgcmV0LnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW3JldC5zdHlsZSwgdG9NZXJnZS5zdHlsZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZXRba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmNvbWluZyA9IHRvTWVyZ2Vba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoaW5jb21pbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcgIT09IGluY29taW5nICYmXG4gICAgICAgICAgICAgICAgICAgICEoaXNBcnJheShleGlzdGluZykgJiYgZXhpc3RpbmcuaW5jbHVkZXMoaW5jb21pbmcpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXRba2V5XSA9IGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGluY29taW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXRba2V5XSA9IHRvTWVyZ2Vba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA3IC8qIEVycm9yQ29kZXMuVk5PREVfSE9PSyAqLywgW1xuICAgICAgICB2bm9kZSxcbiAgICAgICAgcHJldlZOb2RlXG4gICAgXSk7XG59XG5cbmNvbnN0IGVtcHR5QXBwQ29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcbmxldCB1aWQkMSA9IDA7XG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xuICAgIGNvbnN0IHR5cGUgPSB2bm9kZS50eXBlO1xuICAgIC8vIGluaGVyaXQgcGFyZW50IGFwcCBjb250ZXh0IC0gb3IgLSBpZiByb290LCBhZG9wdCBmcm9tIHJvb3Qgdm5vZGVcbiAgICBjb25zdCBhcHBDb250ZXh0ID0gKHBhcmVudCA/IHBhcmVudC5hcHBDb250ZXh0IDogdm5vZGUuYXBwQ29udGV4dCkgfHwgZW1wdHlBcHBDb250ZXh0O1xuICAgIGNvbnN0IGluc3RhbmNlID0ge1xuICAgICAgICB1aWQ6IHVpZCQxKyssXG4gICAgICAgIHZub2RlLFxuICAgICAgICB0eXBlLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIGFwcENvbnRleHQsXG4gICAgICAgIHJvb3Q6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgIHN1YlRyZWU6IG51bGwsXG4gICAgICAgIGVmZmVjdDogbnVsbCxcbiAgICAgICAgdXBkYXRlOiBudWxsLFxuICAgICAgICBzY29wZTogbmV3IEVmZmVjdFNjb3BlKHRydWUgLyogZGV0YWNoZWQgKi8pLFxuICAgICAgICByZW5kZXI6IG51bGwsXG4gICAgICAgIHByb3h5OiBudWxsLFxuICAgICAgICBleHBvc2VkOiBudWxsLFxuICAgICAgICBleHBvc2VQcm94eTogbnVsbCxcbiAgICAgICAgd2l0aFByb3h5OiBudWxsLFxuICAgICAgICBwcm92aWRlczogcGFyZW50ID8gcGFyZW50LnByb3ZpZGVzIDogT2JqZWN0LmNyZWF0ZShhcHBDb250ZXh0LnByb3ZpZGVzKSxcbiAgICAgICAgYWNjZXNzQ2FjaGU6IG51bGwsXG4gICAgICAgIHJlbmRlckNhY2hlOiBbXSxcbiAgICAgICAgLy8gbG9jYWwgcmVzb2x2ZWQgYXNzZXRzXG4gICAgICAgIGNvbXBvbmVudHM6IG51bGwsXG4gICAgICAgIGRpcmVjdGl2ZXM6IG51bGwsXG4gICAgICAgIC8vIHJlc29sdmVkIHByb3BzIGFuZCBlbWl0cyBvcHRpb25zXG4gICAgICAgIHByb3BzT3B0aW9uczogbm9ybWFsaXplUHJvcHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxuICAgICAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICAgICAgLy8gZW1pdFxuICAgICAgICBlbWl0OiBudWxsLFxuICAgICAgICBlbWl0dGVkOiBudWxsLFxuICAgICAgICAvLyBwcm9wcyBkZWZhdWx0IHZhbHVlXG4gICAgICAgIHByb3BzRGVmYXVsdHM6IEVNUFRZX09CSixcbiAgICAgICAgLy8gaW5oZXJpdEF0dHJzXG4gICAgICAgIGluaGVyaXRBdHRyczogdHlwZS5pbmhlcml0QXR0cnMsXG4gICAgICAgIC8vIHN0YXRlXG4gICAgICAgIGN0eDogRU1QVFlfT0JKLFxuICAgICAgICBkYXRhOiBFTVBUWV9PQkosXG4gICAgICAgIHByb3BzOiBFTVBUWV9PQkosXG4gICAgICAgIGF0dHJzOiBFTVBUWV9PQkosXG4gICAgICAgIHNsb3RzOiBFTVBUWV9PQkosXG4gICAgICAgIHJlZnM6IEVNUFRZX09CSixcbiAgICAgICAgc2V0dXBTdGF0ZTogRU1QVFlfT0JKLFxuICAgICAgICBzZXR1cENvbnRleHQ6IG51bGwsXG4gICAgICAgIC8vIHN1c3BlbnNlIHJlbGF0ZWRcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIHN1c3BlbnNlSWQ6IHN1c3BlbnNlID8gc3VzcGVuc2UucGVuZGluZ0lkIDogMCxcbiAgICAgICAgYXN5bmNEZXA6IG51bGwsXG4gICAgICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxuICAgICAgICAvLyBsaWZlY3ljbGUgaG9va3NcbiAgICAgICAgLy8gbm90IHVzaW5nIGVudW1zIGhlcmUgYmVjYXVzZSBpdCByZXN1bHRzIGluIGNvbXB1dGVkIHByb3BlcnRpZXNcbiAgICAgICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxuICAgICAgICBpc0RlYWN0aXZhdGVkOiBmYWxzZSxcbiAgICAgICAgYmM6IG51bGwsXG4gICAgICAgIGM6IG51bGwsXG4gICAgICAgIGJtOiBudWxsLFxuICAgICAgICBtOiBudWxsLFxuICAgICAgICBidTogbnVsbCxcbiAgICAgICAgdTogbnVsbCxcbiAgICAgICAgdW06IG51bGwsXG4gICAgICAgIGJ1bTogbnVsbCxcbiAgICAgICAgZGE6IG51bGwsXG4gICAgICAgIGE6IG51bGwsXG4gICAgICAgIHJ0ZzogbnVsbCxcbiAgICAgICAgcnRjOiBudWxsLFxuICAgICAgICBlYzogbnVsbCxcbiAgICAgICAgc3A6IG51bGxcbiAgICB9O1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5jdHggPSB7IF86IGluc3RhbmNlIH07XG4gICAgfVxuICAgIGluc3RhbmNlLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCA6IGluc3RhbmNlO1xuICAgIGluc3RhbmNlLmVtaXQgPSBlbWl0JDIuYmluZChudWxsLCBpbnN0YW5jZSk7XG4gICAgLy8gYXBwbHkgY3VzdG9tIGVsZW1lbnQgc3BlY2lhbCBoYW5kbGluZ1xuICAgIGlmICh2bm9kZS5jZSkge1xuICAgICAgICB2bm9kZS5jZShpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xuY29uc3QgZ2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbmNvbnN0IHNldEN1cnJlbnRJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xuICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIGluc3RhbmNlLnNjb3BlLm9uKCk7XG59O1xuY29uc3QgdW5zZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiB7XG4gICAgY3VycmVudEluc3RhbmNlICYmIGN1cnJlbnRJbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xufTtcbmNvbnN0IGlzQnVpbHRJblRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnc2xvdCxjb21wb25lbnQnKTtcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb25maWcpIHtcbiAgICBjb25zdCBhcHBJc05hdGl2ZVRhZyA9IGNvbmZpZy5pc05hdGl2ZVRhZyB8fCBOTztcbiAgICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGFwcElzTmF0aXZlVGFnKG5hbWUpKSB7XG4gICAgICAgIHdhcm4kMSgnRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogJyArIG5hbWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLztcbn1cbmxldCBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlKSB7XG4gICAgaXNJblNTUkNvbXBvbmVudFNldHVwID0gaXNTU1I7XG4gICAgY29uc3QgeyBwcm9wcywgY2hpbGRyZW4gfSA9IGluc3RhbmNlLnZub2RlO1xuICAgIGNvbnN0IGlzU3RhdGVmdWwgPSBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XG4gICAgaW5pdFNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBpc1N0YXRlZnVsXG4gICAgICAgID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xuICAgIHJldHVybiBzZXR1cFJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShDb21wb25lbnQubmFtZSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuY29tcG9uZW50cyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5kaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcGlsZXJPcHRpb25zICYmIGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgICAgICAgd2FybiQxKGBcImNvbXBpbGVyT3B0aW9uc1wiIGlzIG9ubHkgc3VwcG9ydGVkIHdoZW4gdXNpbmcgYSBidWlsZCBvZiBWdWUgdGhhdCBgICtcbiAgICAgICAgICAgICAgICBgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIuIFNpbmNlIHlvdSBhcmUgdXNpbmcgYSBydW50aW1lLW9ubHkgYCArXG4gICAgICAgICAgICAgICAgYGJ1aWxkLCB0aGUgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB5b3VyIGJ1aWxkIHRvb2wgY29uZmlnIGluc3RlYWQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gMC4gY3JlYXRlIHJlbmRlciBwcm94eSBwcm9wZXJ0eSBhY2Nlc3MgY2FjaGVcbiAgICBpbnN0YW5jZS5hY2Nlc3NDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgLy8gMS4gY3JlYXRlIHB1YmxpYyBpbnN0YW5jZSAvIHJlbmRlciBwcm94eVxuICAgIC8vIGFsc28gbWFyayBpdCByYXcgc28gaXQncyBuZXZlciBvYnNlcnZlZFxuICAgIGluc3RhbmNlLnByb3h5ID0gbWFya1JhdyhuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgICB9XG4gICAgLy8gMi4gY2FsbCBzZXR1cCgpXG4gICAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xuICAgIGlmIChzZXR1cCkge1xuICAgICAgICBjb25zdCBzZXR1cENvbnRleHQgPSAoaW5zdGFuY2Uuc2V0dXBDb250ZXh0ID1cbiAgICAgICAgICAgIHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbCk7XG4gICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoc2V0dXAsIGluc3RhbmNlLCAwIC8qIEVycm9yQ29kZXMuU0VUVVBfRlVOQ1RJT04gKi8sIFsocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2UucHJvcHMpIDogaW5zdGFuY2UucHJvcHMsIHNldHVwQ29udGV4dF0pO1xuICAgICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICAgIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGlmIChpc1Byb21pc2Uoc2V0dXBSZXN1bHQpKSB7XG4gICAgICAgICAgICBzZXR1cFJlc3VsdC50aGVuKHVuc2V0Q3VycmVudEluc3RhbmNlLCB1bnNldEN1cnJlbnRJbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAoaXNTU1IpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHByb21pc2Ugc28gc2VydmVyLXJlbmRlcmVyIGNhbiB3YWl0IG9uIGl0XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwUmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNvbHZlZFJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQsIGlzU1NSKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGluc3RhbmNlLCAwIC8qIEVycm9yQ29kZXMuU0VUVVBfRlVOQ1RJT04gKi8pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgc2V0dXAgcmV0dXJuZWQgUHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLyBiYWlsIGhlcmUgYW5kIHdhaXQgZm9yIHJlLWVudHJ5LlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jRGVwID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaW5zdGFuY2Uuc3VzcGVuc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IChfYSA9IENvbXBvbmVudC5uYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnQW5vbnltb3VzJztcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgPCR7bmFtZX0+OiBzZXR1cCBmdW5jdGlvbiByZXR1cm5lZCBhIHByb21pc2UsIGJ1dCBubyBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGA8U3VzcGVuc2U+IGJvdW5kYXJ5IHdhcyBmb3VuZCBpbiB0aGUgcGFyZW50IGNvbXBvbmVudCB0cmVlLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBBIGNvbXBvbmVudCB3aXRoIGFzeW5jIHNldHVwKCkgbXVzdCBiZSBuZXN0ZWQgaW4gYSA8U3VzcGVuc2U+IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGluIG9yZGVyIHRvIGJlIHJlbmRlcmVkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihzZXR1cFJlc3VsdCkpIHtcbiAgICAgICAgLy8gc2V0dXAgcmV0dXJuZWQgYW4gaW5saW5lIHJlbmRlciBmdW5jdGlvblxuICAgICAgICBpZiAoaW5zdGFuY2UudHlwZS5fX3NzcklubGluZVJlbmRlcikge1xuICAgICAgICAgICAgLy8gd2hlbiB0aGUgZnVuY3Rpb24ncyBuYW1lIGlzIGBzc3JSZW5kZXJgIChjb21waWxlZCBieSBTRkMgaW5saW5lIG1vZGUpLFxuICAgICAgICAgICAgLy8gc2V0IGl0IGFzIHNzclJlbmRlciBpbnN0ZWFkLlxuICAgICAgICAgICAgaW5zdGFuY2Uuc3NyUmVuZGVyID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChzZXR1cFJlc3VsdCkpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1ZOb2RlKHNldHVwUmVzdWx0KSkge1xuICAgICAgICAgICAgd2FybiQxKGBzZXR1cCgpIHNob3VsZCBub3QgcmV0dXJuIFZOb2RlcyBkaXJlY3RseSAtIGAgK1xuICAgICAgICAgICAgICAgIGByZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXR1cCByZXR1cm5lZCBiaW5kaW5ncy5cbiAgICAgICAgLy8gYXNzdW1pbmcgYSByZW5kZXIgZnVuY3Rpb24gY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBpcyBwcmVzZW50LlxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgaW5zdGFuY2UuZGV2dG9vbHNSYXdTZXR1cFN0YXRlID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXR1cFJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHdhcm4kMShgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygc2V0dXBSZXN1bHR9YCk7XG4gICAgfVxuICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG59XG5sZXQgY29tcGlsZTtcbmxldCBpbnN0YWxsV2l0aFByb3h5O1xuLyoqXG4gKiBGb3IgcnVudGltZS1kb20gdG8gcmVnaXN0ZXIgdGhlIGNvbXBpbGVyLlxuICogTm90ZSB0aGUgZXhwb3J0ZWQgbWV0aG9kIHVzZXMgYW55IHRvIGF2b2lkIGQudHMgcmVseWluZyBvbiB0aGUgY29tcGlsZXIgdHlwZXMuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XG4gICAgY29tcGlsZSA9IF9jb21waWxlO1xuICAgIGluc3RhbGxXaXRoUHJveHkgPSBpID0+IHtcbiAgICAgICAgaWYgKGkucmVuZGVyLl9yYykge1xuICAgICAgICAgICAgaS53aXRoUHJveHkgPSBuZXcgUHJveHkoaS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLy8gZGV2IG9ubHlcbmNvbnN0IGlzUnVudGltZU9ubHkgPSAoKSA9PiAhY29tcGlsZTtcbmZ1bmN0aW9uIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUiwgc2tpcE9wdGlvbnMpIHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICAgIHtcbiAgICAgICAgY29udmVydExlZ2FjeVJlbmRlckZuKGluc3RhbmNlKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBDb21wb25lbnQuY29tcGF0Q29uZmlnKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUNvbXBhdENvbmZpZyhDb21wb25lbnQuY29tcGF0Q29uZmlnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyB0ZW1wbGF0ZSAvIHJlbmRlciBmdW5jdGlvbiBub3JtYWxpemF0aW9uXG4gICAgLy8gY291bGQgYmUgYWxyZWFkeSBzZXQgd2hlbiByZXR1cm5lZCBmcm9tIHNldHVwKClcbiAgICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xuICAgICAgICAvLyBvbmx5IGRvIG9uLXRoZS1mbHkgY29tcGlsZSBpZiBub3QgaW4gU1NSIC0gU1NSIG9uLXRoZS1mbHkgY29tcGlsYXRpb25cbiAgICAgICAgLy8gaXMgZG9uZSBieSBzZXJ2ZXItcmVuZGVyZXJcbiAgICAgICAgaWYgKCFpc1NTUiAmJiBjb21waWxlICYmICFDb21wb25lbnQucmVuZGVyKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IChpbnN0YW5jZS52bm9kZS5wcm9wcyAmJlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnZub2RlLnByb3BzWydpbmxpbmUtdGVtcGxhdGUnXSkgfHxcbiAgICAgICAgICAgICAgICBDb21wb25lbnQudGVtcGxhdGUgfHxcbiAgICAgICAgICAgICAgICByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkudGVtcGxhdGU7XG4gICAgICAgICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpc0N1c3RvbUVsZW1lbnQsIGNvbXBpbGVyT3B0aW9ucyB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkZWxpbWl0ZXJzLCBjb21waWxlck9wdGlvbnM6IGNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyB9ID0gQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsQ29tcGlsZXJPcHRpb25zID0gZXh0ZW5kKGV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZGVsaW1pdGVyc1xuICAgICAgICAgICAgICAgIH0sIGNvbXBpbGVyT3B0aW9ucyksIGNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHJ1bnRpbWUgY29tcGF0IGNvbmZpZyBpbnRvIHRoZSBjb21waWxlclxuICAgICAgICAgICAgICAgICAgICBmaW5hbENvbXBpbGVyT3B0aW9ucy5jb21wYXRDb25maWcgPSBPYmplY3QuY3JlYXRlKGdsb2JhbENvbXBhdENvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChDb21wb25lbnQuY29tcGF0Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGVzIGFyZSBub3QgY29tcGF0aWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKGZpbmFsQ29tcGlsZXJPcHRpb25zLmNvbXBhdENvbmZpZywgQ29tcG9uZW50LmNvbXBhdENvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LnJlbmRlciA9IGNvbXBpbGUodGVtcGxhdGUsIGZpbmFsQ29tcGlsZXJPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLnJlbmRlciA9IChDb21wb25lbnQucmVuZGVyIHx8IE5PT1ApO1xuICAgICAgICAvLyBmb3IgcnVudGltZS1jb21waWxlZCByZW5kZXIgZnVuY3Rpb25zIHVzaW5nIGB3aXRoYCBibG9ja3MsIHRoZSByZW5kZXJcbiAgICAgICAgLy8gcHJveHkgdXNlZCBuZWVkcyBhIGRpZmZlcmVudCBgaGFzYCBoYW5kbGVyIHdoaWNoIGlzIG1vcmUgcGVyZm9ybWFudCBhbmRcbiAgICAgICAgLy8gYWxzbyBvbmx5IGFsbG93cyBhIHdoaXRlbGlzdCBvZiBnbG9iYWxzIHRvIGZhbGx0aHJvdWdoLlxuICAgICAgICBpZiAoaW5zdGFsbFdpdGhQcm94eSkge1xuICAgICAgICAgICAgaW5zdGFsbFdpdGhQcm94eShpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc3VwcG9ydCBmb3IgMi54IG9wdGlvbnNcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhKHNraXBPcHRpb25zKSkge1xuICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICB9XG4gICAgLy8gd2FybiBtaXNzaW5nIHRlbXBsYXRlL3JlbmRlclxuICAgIC8vIHRoZSBydW50aW1lIGNvbXBpbGF0aW9uIG9mIHRlbXBsYXRlIGluIFNTUiBpcyBkb25lIGJ5IHNlcnZlci1yZW5kZXJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCAmJiAhaXNTU1IpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghY29tcGlsZSAmJiBDb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IHByb3ZpZGVkIHRlbXBsYXRlIG9wdGlvbiBidXQgYCArXG4gICAgICAgICAgICAgICAgYHJ1bnRpbWUgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkIG9mIFZ1ZS5gICtcbiAgICAgICAgICAgICAgICAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gXG4gICAgICAgICAgICAgICAgICAgICkgLyogc2hvdWxkIG5vdCBoYXBwZW4gKi8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24uYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVBdHRyc1Byb3h5KGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgID8ge1xuICAgICAgICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCAnJGF0dHJzJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlUHJvcGVydHkoKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywgJyRhdHRycycpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBleHBvc2UgPSBleHBvc2VkID0+IHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICAgICAgICB3YXJuJDEoYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSBleHBvc2VkIHx8IHt9O1xuICAgIH07XG4gICAgbGV0IGF0dHJzO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgLy8gV2UgdXNlIGdldHRlcnMgaW4gZGV2IGluIGNhc2UgbGlicyBsaWtlIHRlc3QtdXRpbHMgb3ZlcndyaXRlIGluc3RhbmNlXG4gICAgICAgIC8vIHByb3BlcnRpZXMgKG92ZXJ3cml0ZXMgc2hvdWxkIG5vdCBiZSBkb25lIGluIHByb2QpXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMgfHwgKGF0dHJzID0gY3JlYXRlQXR0cnNQcm94eShpbnN0YW5jZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBzbG90cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnNsb3RzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgZW1pdCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiBpbnN0YW5jZS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHBvc2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdHRycyB8fCAoYXR0cnMgPSBjcmVhdGVBdHRyc1Byb3h5KGluc3RhbmNlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvdHM6IGluc3RhbmNlLnNsb3RzLFxuICAgICAgICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdCxcbiAgICAgICAgICAgIGV4cG9zZVxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEV4cG9zZVByb3h5KGluc3RhbmNlKSB7XG4gICAgaWYgKGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIChpbnN0YW5jZS5leHBvc2VQcm94eSB8fFxuICAgICAgICAgICAgKGluc3RhbmNlLmV4cG9zZVByb3h5ID0gbmV3IFByb3h5KHByb3h5UmVmcyhtYXJrUmF3KGluc3RhbmNlLmV4cG9zZWQpKSwge1xuICAgICAgICAgICAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgaW4gdGFyZ2V0IHx8IGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKSk7XG4gICAgfVxufVxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZztcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgYyA9PiBjLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1stX10vZywgJycpO1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQsIGluY2x1ZGVJbmZlcnJlZCA9IHRydWUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihDb21wb25lbnQpXG4gICAgICAgID8gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lXG4gICAgICAgIDogQ29tcG9uZW50Lm5hbWUgfHwgKGluY2x1ZGVJbmZlcnJlZCAmJiBDb21wb25lbnQuX19uYW1lKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBDb21wb25lbnQsIGlzUm9vdCA9IGZhbHNlKSB7XG4gICAgbGV0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCk7XG4gICAgaWYgKCFuYW1lICYmIENvbXBvbmVudC5fX2ZpbGUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgbmFtZSA9IG1hdGNoWzFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICAgICAgLy8gdHJ5IHRvIGluZmVyIHRoZSBuYW1lIGJhc2VkIG9uIHJldmVyc2UgcmVzb2x1dGlvblxuICAgICAgICBjb25zdCBpbmZlckZyb21SZWdpc3RyeSA9IChyZWdpc3RyeSkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cnlba2V5XSA9PT0gQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBuYW1lID1cbiAgICAgICAgICAgIGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmNvbXBvbmVudHMgfHxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQudHlwZS5jb21wb25lbnRzKSB8fCBpbmZlckZyb21SZWdpc3RyeShpbnN0YW5jZS5hcHBDb250ZXh0LmNvbXBvbmVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgJiYgJ19fdmNjT3B0cycgaW4gdmFsdWU7XG59XG5cbmNvbnN0IGNvbXB1dGVkJDEgPSAoKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zKSA9PiB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNJblNTUkNvbXBvbmVudFNldHVwKTtcbn0pO1xuXG4vLyBkZXYgb25seVxuY29uc3Qgd2FyblJ1bnRpbWVVc2FnZSA9IChtZXRob2QpID0+IHdhcm4kMShgJHttZXRob2R9KCkgaXMgYSBjb21waWxlci1oaW50IGhlbHBlciB0aGF0IGlzIG9ubHkgdXNhYmxlIGluc2lkZSBgICtcbiAgICBgPHNjcmlwdCBzZXR1cD4gb2YgYSBzaW5nbGUgZmlsZSBjb21wb25lbnQuIEl0cyBhcmd1bWVudHMgc2hvdWxkIGJlIGAgK1xuICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcbi8vIGltcGxlbWVudGF0aW9uXG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZVByb3BzYCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8gaW1wbGVtZW50YXRpb25cbmZ1bmN0aW9uIGRlZmluZUVtaXRzKCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRW1pdHNgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFZ1ZSBgPHNjcmlwdCBzZXR1cD5gIGNvbXBpbGVyIG1hY3JvIGZvciBkZWNsYXJpbmcgYSBjb21wb25lbnQncyBleHBvc2VkXG4gKiBpbnN0YW5jZSBwcm9wZXJ0aWVzIHdoZW4gaXQgaXMgYWNjZXNzZWQgYnkgYSBwYXJlbnQgY29tcG9uZW50IHZpYSB0ZW1wbGF0ZVxuICogcmVmcy5cbiAqXG4gKiBgPHNjcmlwdCBzZXR1cD5gIGNvbXBvbmVudHMgYXJlIGNsb3NlZCBieSBkZWZhdWx0IC0gaS5lLiB2YXJpYWJsZXMgaW5zaWRlXG4gKiB0aGUgYDxzY3JpcHQgc2V0dXA+YCBzY29wZSBpcyBub3QgZXhwb3NlZCB0byBwYXJlbnQgdW5sZXNzIGV4cGxpY2l0bHkgZXhwb3NlZFxuICogdmlhIGBkZWZpbmVFeHBvc2VgLlxuICpcbiAqIFRoaXMgaXMgb25seSB1c2FibGUgaW5zaWRlIGA8c2NyaXB0IHNldHVwPmAsIGlzIGNvbXBpbGVkIGF3YXkgaW4gdGhlXG4gKiBvdXRwdXQgYW5kIHNob3VsZCAqKm5vdCoqIGJlIGFjdHVhbGx5IGNhbGxlZCBhdCBydW50aW1lLlxuICovXG5mdW5jdGlvbiBkZWZpbmVFeHBvc2UoZXhwb3NlZCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRXhwb3NlYCk7XG4gICAgfVxufVxuLyoqXG4gKiBWdWUgYDxzY3JpcHQgc2V0dXA+YCBjb21waWxlciBtYWNybyBmb3IgcHJvdmlkaW5nIHByb3BzIGRlZmF1bHQgdmFsdWVzIHdoZW5cbiAqIHVzaW5nIHR5cGUtYmFzZWQgYGRlZmluZVByb3BzYCBkZWNsYXJhdGlvbi5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogYGBgdHNcbiAqIHdpdGhEZWZhdWx0cyhkZWZpbmVQcm9wczx7XG4gKiAgIHNpemU/OiBudW1iZXJcbiAqICAgbGFiZWxzPzogc3RyaW5nW11cbiAqIH0+KCksIHtcbiAqICAgc2l6ZTogMyxcbiAqICAgbGFiZWxzOiAoKSA9PiBbJ2RlZmF1bHQgbGFiZWwnXVxuICogfSlcbiAqIGBgYFxuICpcbiAqIFRoaXMgaXMgb25seSB1c2FibGUgaW5zaWRlIGA8c2NyaXB0IHNldHVwPmAsIGlzIGNvbXBpbGVkIGF3YXkgaW4gdGhlIG91dHB1dFxuICogYW5kIHNob3VsZCAqKm5vdCoqIGJlIGFjdHVhbGx5IGNhbGxlZCBhdCBydW50aW1lLlxuICovXG5mdW5jdGlvbiB3aXRoRGVmYXVsdHMocHJvcHMsIGRlZmF1bHRzKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuUnVudGltZVVzYWdlKGB3aXRoRGVmYXVsdHNgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiB1c2VTbG90cygpIHtcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLnNsb3RzO1xufVxuZnVuY3Rpb24gdXNlQXR0cnMoKSB7XG4gICAgcmV0dXJuIGdldENvbnRleHQoKS5hdHRycztcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQoKSB7XG4gICAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWkpIHtcbiAgICAgICAgd2FybiQxKGB1c2VDb250ZXh0KCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xuICAgIH1cbiAgICByZXR1cm4gaS5zZXR1cENvbnRleHQgfHwgKGkuc2V0dXBDb250ZXh0ID0gY3JlYXRlU2V0dXBDb250ZXh0KGkpKTtcbn1cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIG1lcmdpbmcgZGVmYXVsdCBkZWNsYXJhdGlvbnMuIEltcG9ydGVkIGJ5IGNvbXBpbGVkIGNvZGVcbiAqIG9ubHkuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gbWVyZ2VEZWZhdWx0cyhyYXcsIGRlZmF1bHRzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBpc0FycmF5KHJhdylcbiAgICAgICAgPyByYXcucmVkdWNlKChub3JtYWxpemVkLCBwKSA9PiAoKG5vcm1hbGl6ZWRbcF0gPSB7fSksIG5vcm1hbGl6ZWQpLCB7fSlcbiAgICAgICAgOiByYXc7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgY29uc3Qgb3B0ID0gcHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG9wdCkge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkpIHtcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldID0geyB0eXBlOiBvcHQsIGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdC5kZWZhdWx0ID0gZGVmYXVsdHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB7IGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgcHJvcHMgZGVmYXVsdCBrZXkgXCIke2tleX1cIiBoYXMgbm8gY29ycmVzcG9uZGluZyBkZWNsYXJhdGlvbi5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcHM7XG59XG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGEgcHJveHkgZm9yIHRoZSByZXN0IGVsZW1lbnQgd2hlbiBkZXN0cnVjdHVyaW5nIHByb3BzIHdpdGhcbiAqIGRlZmluZVByb3BzKCkuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUHJvcHNSZXN0UHJveHkocHJvcHMsIGV4Y2x1ZGVkS2V5cykge1xuICAgIGNvbnN0IHJldCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmICghZXhjbHVkZWRLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXQsIGtleSwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBwcm9wc1trZXldXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuLyoqXG4gKiBgPHNjcmlwdCBzZXR1cD5gIGhlbHBlciBmb3IgcGVyc2lzdGluZyB0aGUgY3VycmVudCBpbnN0YW5jZSBjb250ZXh0IG92ZXJcbiAqIGFzeW5jL2F3YWl0IGZsb3dzLlxuICpcbiAqIGBAdnVlL2NvbXBpbGVyLXNmY2AgY29udmVydHMgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiBgYGB0c1xuICogY29uc3QgeCA9IGF3YWl0IGZvbygpXG4gKiBgYGBcbiAqXG4gKiBpbnRvOlxuICpcbiAqIGBgYHRzXG4gKiBsZXQgX190ZW1wLCBfX3Jlc3RvcmVcbiAqIGNvbnN0IHggPSAoKFtfX3RlbXAsIF9fcmVzdG9yZV0gPSB3aXRoQXN5bmNDb250ZXh0KCgpID0+IGZvbygpKSksX190ZW1wPWF3YWl0IF9fdGVtcCxfX3Jlc3RvcmUoKSxfX3RlbXApXG4gKiBgYGBcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB3aXRoQXN5bmNDb250ZXh0KGdldEF3YWl0YWJsZSkge1xuICAgIGNvbnN0IGN0eCA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWN0eCkge1xuICAgICAgICB3YXJuJDEoYHdpdGhBc3luY0NvbnRleHQgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGN1cnJlbnQgaW5zdGFuY2UuIGAgK1xuICAgICAgICAgICAgYFRoaXMgaXMgbGlrZWx5IGEgYnVnLmApO1xuICAgIH1cbiAgICBsZXQgYXdhaXRhYmxlID0gZ2V0QXdhaXRhYmxlKCk7XG4gICAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaXNQcm9taXNlKGF3YWl0YWJsZSkpIHtcbiAgICAgICAgYXdhaXRhYmxlID0gYXdhaXRhYmxlLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGN0eCk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFthd2FpdGFibGUsICgpID0+IHNldEN1cnJlbnRJbnN0YW5jZShjdHgpXTtcbn1cblxuLy8gQWN0dWFsIGltcGxlbWVudGF0aW9uXG5mdW5jdGlvbiBoKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pIHtcbiAgICBjb25zdCBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAobCA9PT0gMikge1xuICAgICAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAvLyBzaW5nbGUgdm5vZGUgd2l0aG91dCBwcm9wc1xuICAgICAgICAgICAgaWYgKGlzVk5vZGUocHJvcHNPckNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwcm9wcyB3aXRob3V0IGNoaWxkcmVuXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG9taXQgcHJvcHNcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBwcm9wc09yQ2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAobCA+IDMpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pO1xuICAgIH1cbn1cblxuY29uc3Qgc3NyQ29udGV4dEtleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgc3NyQ29udGV4dGAgOiBgYCk7XG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xuICAgIHtcbiAgICAgICAgY29uc3QgY3R4ID0gaW5qZWN0KHNzckNvbnRleHRLZXkpO1xuICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybiQxKGBTZXJ2ZXIgcmVuZGVyaW5nIGNvbnRleHQgbm90IHByb3ZpZGVkLiBNYWtlIHN1cmUgdG8gb25seSBjYWxsIGAgK1xuICAgICAgICAgICAgICAgICAgICBgdXNlU1NSQ29udGV4dCgpIGNvbmRpdGlvbmFsbHkgaW4gdGhlIHNlcnZlciBidWlsZC5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3R4O1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGluaXRDdXN0b21Gb3JtYXR0ZXIoKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG4gICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2dWVTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojM2JhNzc2JyB9O1xuICAgIGNvbnN0IG51bWJlclN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMwYjFiYzknIH07XG4gICAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6I2I2MmUyNCcgfTtcbiAgICBjb25zdCBrZXl3b3JkU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6IzlkMjg4YycgfTtcbiAgICAvLyBjdXN0b20gZm9ybWF0dGVyIGZvciBDaHJvbWVcbiAgICAvLyBodHRwczovL3d3dy5tYXR0emV1bmVydC5jb20vMjAxNi8wMi8xOS9jdXN0b20tY2hyb21lLWRldnRvb2xzLW9iamVjdC1mb3JtYXR0ZXJzLmh0bWxcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSB7XG4gICAgICAgIGhlYWRlcihvYmopIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYWxzbyBmb3JtYXQgQ29tcG9uZW50UHVibGljSW5zdGFuY2UgJiBjdHguc2xvdHMvYXR0cnMgaW4gc2V0dXBcbiAgICAgICAgICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsnZGl2JywgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWYob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXG4gICAgICAgICAgICAgICAgICAgICc8JyxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUob2JqLnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgYD5gXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gJ1NoYWxsb3dSZWFjdGl2ZScgOiAnUmVhY3RpdmUnXSxcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxuICAgICAgICAgICAgICAgICAgICBgPiR7aXNSZWFkb25seShvYmopID8gYCAocmVhZG9ubHkpYCA6IGBgfWBcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWFkb25seShvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCB2dWVTdHlsZSwgaXNTaGFsbG93KG9iaikgPyAnU2hhbGxvd1JlYWRvbmx5JyA6ICdSZWFkb25seSddLFxuICAgICAgICAgICAgICAgICAgICAnPCcsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgICAgICAgICAgICc+J1xuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzQm9keShvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGJvZHkob2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRJbnN0YW5jZShvYmouJClcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBibG9ja3MgPSBbXTtcbiAgICAgICAgaWYgKGluc3RhbmNlLnR5cGUucHJvcHMgJiYgaW5zdGFuY2UucHJvcHMpIHtcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ3Byb3BzJywgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3RhbmNlLnNldHVwU3RhdGUgIT09IEVNUFRZX09CSikge1xuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnc2V0dXAnLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3RhbmNlLmRhdGEgIT09IEVNUFRZX09CSikge1xuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnZGF0YScsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgJ2NvbXB1dGVkJyk7XG4gICAgICAgIGlmIChjb21wdXRlZCkge1xuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnY29tcHV0ZWQnLCBjb21wdXRlZCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluamVjdGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdpbmplY3QnKTtcbiAgICAgICAgaWYgKGluamVjdGVkKSB7XG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdpbmplY3RlZCcsIGluamVjdGVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgYmxvY2tzLnB1c2goW1xuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZToga2V5d29yZFN0eWxlLnN0eWxlICsgJztvcGFjaXR5OjAuNjYnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnJCAoaW50ZXJuYWwpOiAnXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgWydvYmplY3QnLCB7IG9iamVjdDogaW5zdGFuY2UgfV1cbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBibG9ja3M7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IGV4dGVuZCh7fSwgdGFyZ2V0KTtcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyh0YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHt9XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiAnbGluZS1oZWlnaHQ6MS4yNWVtO21hcmdpbi1ib3R0b206MC42ZW0nIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2NvbG9yOiM0NzY1ODInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdwYWRkaW5nLWxlZnQ6MS4yNWVtJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXModGFyZ2V0KS5tYXAoa2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCBrZXl3b3JkU3R5bGUsIGtleSArICc6ICddLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUodGFyZ2V0W2tleV0sIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdXG4gICAgICAgIF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHYsIGFzUmF3ID0gdHJ1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgbnVtYmVyU3R5bGUsIHZdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIGtleXdvcmRTdHlsZSwgdl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ29iamVjdCcsIHsgb2JqZWN0OiBhc1JhdyA/IHRvUmF3KHYpIDogdiB9XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xuICAgICAgICBjb25zdCBDb21wID0gaW5zdGFuY2UudHlwZTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oQ29tcCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UuY3R4KSB7XG4gICAgICAgICAgICBpZiAoaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSkge1xuICAgICAgICAgICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4dHJhY3RlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBDb21wW3R5cGVdO1xuICAgICAgICBpZiAoKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpKSB8fFxuICAgICAgICAgICAgKGlzT2JqZWN0KG9wdHMpICYmIGtleSBpbiBvcHRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbXAuZXh0ZW5kcyAmJiBpc0tleU9mVHlwZShDb21wLmV4dGVuZHMsIGtleSwgdHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb21wLm1peGlucyAmJiBDb21wLm1peGlucy5zb21lKG0gPT4gaXNLZXlPZlR5cGUobSwga2V5LCB0eXBlKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdlblJlZkZsYWcodikge1xuICAgICAgICBpZiAoaXNTaGFsbG93KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2LmVmZmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGBSZWZgO1xuICAgIH1cbiAgICBpZiAod2luZG93LmRldnRvb2xzRm9ybWF0dGVycykge1xuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMgPSBbZm9ybWF0dGVyXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdpdGhNZW1vKG1lbW8sIHJlbmRlciwgY2FjaGUsIGluZGV4KSB7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGVbaW5kZXhdO1xuICAgIGlmIChjYWNoZWQgJiYgaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJldCA9IHJlbmRlcigpO1xuICAgIC8vIHNoYWxsb3cgY2xvbmVcbiAgICByZXQubWVtbyA9IG1lbW8uc2xpY2UoKTtcbiAgICByZXR1cm4gKGNhY2hlW2luZGV4XSA9IHJldCk7XG59XG5mdW5jdGlvbiBpc01lbW9TYW1lKGNhY2hlZCwgbWVtbykge1xuICAgIGNvbnN0IHByZXYgPSBjYWNoZWQubWVtbztcbiAgICBpZiAocHJldi5sZW5ndGggIT0gbWVtby5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQocHJldltpXSwgbWVtb1tpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgdG8gbGV0IHBhcmVudCBibG9jayB0cmFjayBpdCB3aGVuIHJldHVybmluZyBjYWNoZWRcbiAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2goY2FjaGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIENvcmUgQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgdmVyc2lvbiA9IFwiMy4yLjQ1XCI7XG5jb25zdCBfc3NyVXRpbHMgPSB7XG4gICAgY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UsXG4gICAgc2V0dXBDb21wb25lbnQsXG4gICAgcmVuZGVyQ29tcG9uZW50Um9vdCxcbiAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsXG4gICAgaXNWTm9kZSxcbiAgICBub3JtYWxpemVWTm9kZVxufTtcbi8qKlxuICogU1NSIHV0aWxzIGZvciBcXEB2dWUvc2VydmVyLXJlbmRlcmVyLiBPbmx5IGV4cG9zZWQgaW4gc3NyLXBvc3NpYmxlIGJ1aWxkcy5cbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBzc3JVdGlscyA9IChfc3NyVXRpbHMgKTtcbi8qKlxuICogQGludGVybmFsIG9ubHkgZXhwb3NlZCBpbiBjb21wYXQgYnVpbGRzXG4gKi9cbmNvbnN0IHJlc29sdmVGaWx0ZXIkMSA9IHJlc29sdmVGaWx0ZXIgO1xuY29uc3QgX2NvbXBhdFV0aWxzID0ge1xuICAgIHdhcm5EZXByZWNhdGlvbixcbiAgICBjcmVhdGVDb21wYXRWdWUsXG4gICAgaXNDb21wYXRFbmFibGVkLFxuICAgIGNoZWNrQ29tcGF0RW5hYmxlZCxcbiAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZFxufTtcbi8qKlxuICogQGludGVybmFsIG9ubHkgZXhwb3NlZCBpbiBjb21wYXQgYnVpbGRzLlxuICovXG5jb25zdCBjb21wYXRVdGlscyA9IChfY29tcGF0VXRpbHMgKTtcblxuY29uc3Qgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3QgZG9jID0gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IG51bGwpO1xuY29uc3QgdGVtcGxhdGVDb250YWluZXIgPSBkb2MgJiYgLyojX19QVVJFX18qLyBkb2MuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbmNvbnN0IG5vZGVPcHMgPSB7XG4gICAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGFuY2hvciB8fCBudWxsKTtcbiAgICB9LFxuICAgIHJlbW92ZTogY2hpbGQgPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGVFbGVtZW50OiAodGFnLCBpc1NWRywgaXMsIHByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gaXNTVkdcbiAgICAgICAgICAgID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgdGFnKVxuICAgICAgICAgICAgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWcsIGlzID8geyBpcyB9IDogdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKHRhZyA9PT0gJ3NlbGVjdCcgJiYgcHJvcHMgJiYgcHJvcHMubXVsdGlwbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdtdWx0aXBsZScsIHByb3BzLm11bHRpcGxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfSxcbiAgICBjcmVhdGVUZXh0OiB0ZXh0ID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcbiAgICBjcmVhdGVDb21tZW50OiB0ZXh0ID0+IGRvYy5jcmVhdGVDb21tZW50KHRleHQpLFxuICAgIHNldFRleHQ6IChub2RlLCB0ZXh0KSA9PiB7XG4gICAgICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcbiAgICB9LFxuICAgIHNldEVsZW1lbnRUZXh0OiAoZWwsIHRleHQpID0+IHtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH0sXG4gICAgcGFyZW50Tm9kZTogbm9kZSA9PiBub2RlLnBhcmVudE5vZGUsXG4gICAgbmV4dFNpYmxpbmc6IG5vZGUgPT4gbm9kZS5uZXh0U2libGluZyxcbiAgICBxdWVyeVNlbGVjdG9yOiBzZWxlY3RvciA9PiBkb2MucXVlcnlTZWxlY3RvcihzZWxlY3RvciksXG4gICAgc2V0U2NvcGVJZChlbCwgaWQpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGlkLCAnJyk7XG4gICAgfSxcbiAgICAvLyBfX1VOU0FGRV9fXG4gICAgLy8gUmVhc29uOiBpbm5lckhUTUwuXG4gICAgLy8gU3RhdGljIGNvbnRlbnQgaGVyZSBjYW4gb25seSBjb21lIGZyb20gY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXG4gICAgaW5zZXJ0U3RhdGljQ29udGVudChjb250ZW50LCBwYXJlbnQsIGFuY2hvciwgaXNTVkcsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgLy8gPHBhcmVudD4gYmVmb3JlIHwgZmlyc3QgLi4uIGxhc3QgfCBhbmNob3IgPC9wYXJlbnQ+XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkO1xuICAgICAgICAvLyAjNTMwOCBjYW4gb25seSB0YWtlIGNhY2hlZCBwYXRoIGlmOlxuICAgICAgICAvLyAtIGhhcyBhIHNpbmdsZSByb290IG5vZGVcbiAgICAgICAgLy8gLSBuZXh0U2libGluZyBpbmZvIGlzIHN0aWxsIGF2YWlsYWJsZVxuICAgICAgICBpZiAoc3RhcnQgJiYgKHN0YXJ0ID09PSBlbmQgfHwgc3RhcnQubmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAvLyBjYWNoZWRcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShzdGFydC5jbG9uZU5vZGUodHJ1ZSksIGFuY2hvcik7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSBlbmQgfHwgIShzdGFydCA9IHN0YXJ0Lm5leHRTaWJsaW5nKSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBmcmVzaCBpbnNlcnRcbiAgICAgICAgICAgIHRlbXBsYXRlQ29udGFpbmVyLmlubmVySFRNTCA9IGlzU1ZHID8gYDxzdmc+JHtjb250ZW50fTwvc3ZnPmAgOiBjb250ZW50O1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNvbnRhaW5lci5jb250ZW50O1xuICAgICAgICAgICAgaWYgKGlzU1ZHKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG91dGVyIHN2ZyB3cmFwcGVyXG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRlbXBsYXRlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHdyYXBwZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5hcHBlbmRDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5yZW1vdmVDaGlsZCh3cmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGVtcGxhdGUsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC8vIGZpcnN0XG4gICAgICAgICAgICBiZWZvcmUgPyBiZWZvcmUubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgICAgIC8vIGxhc3RcbiAgICAgICAgICAgIGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkXG4gICAgICAgIF07XG4gICAgfVxufTtcblxuLy8gY29tcGlsZXIgc2hvdWxkIG5vcm1hbGl6ZSBjbGFzcyArIDpjbGFzcyBiaW5kaW5ncyBvbiB0aGUgc2FtZSBlbGVtZW50XG4vLyBpbnRvIGEgc2luZ2xlIGJpbmRpbmcgWydzdGF0aWNDbGFzcycsIGR5bmFtaWNdXG5mdW5jdGlvbiBwYXRjaENsYXNzKGVsLCB2YWx1ZSwgaXNTVkcpIHtcbiAgICAvLyBkaXJlY3RseSBzZXR0aW5nIGNsYXNzTmFtZSBzaG91bGQgYmUgZmFzdGVyIHRoYW4gc2V0QXR0cmlidXRlIGluIHRoZW9yeVxuICAgIC8vIGlmIHRoaXMgaXMgYW4gZWxlbWVudCBkdXJpbmcgYSB0cmFuc2l0aW9uLCB0YWtlIHRoZSB0ZW1wb3JhcnkgdHJhbnNpdGlvblxuICAgIC8vIGNsYXNzZXMgaW50byBhY2NvdW50LlxuICAgIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWwuX3Z0YztcbiAgICBpZiAodHJhbnNpdGlvbkNsYXNzZXMpIHtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXSA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NWRykge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwYXRjaFN0eWxlKGVsLCBwcmV2LCBuZXh0KSB7XG4gICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgICBjb25zdCBpc0Nzc1N0cmluZyA9IGlzU3RyaW5nKG5leHQpO1xuICAgIGlmIChuZXh0ICYmICFpc0Nzc1N0cmluZykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2ICYmICFpc1N0cmluZyhwcmV2KSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBjdXJyZW50RGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7XG4gICAgICAgIGlmIChpc0Nzc1N0cmluZykge1xuICAgICAgICAgICAgaWYgKHByZXYgIT09IG5leHQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS5jc3NUZXh0ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2KSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5kaWNhdGVzIHRoYXQgdGhlIGBkaXNwbGF5YCBvZiB0aGUgZWxlbWVudCBpcyBjb250cm9sbGVkIGJ5IGB2LXNob3dgLFxuICAgICAgICAvLyBzbyB3ZSBhbHdheXMga2VlcCB0aGUgY3VycmVudCBgZGlzcGxheWAgdmFsdWUgcmVnYXJkbGVzcyBvZiB0aGUgYHN0eWxlYFxuICAgICAgICAvLyB2YWx1ZSwgdGh1cyBoYW5kaW5nIG92ZXIgY29udHJvbCB0byBgdi1zaG93YC5cbiAgICAgICAgaWYgKCdfdm9kJyBpbiBlbCkge1xuICAgICAgICAgICAgc3R5bGUuZGlzcGxheSA9IGN1cnJlbnREaXNwbGF5O1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3Qgc2VtaWNvbG9uUkUgPSAvW15cXFxcXTtcXHMqJC87XG5jb25zdCBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHZhbCkge1xuICAgIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgICAgdmFsLmZvckVhY2godiA9PiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHZhbCA9PSBudWxsKVxuICAgICAgICAgICAgdmFsID0gJyc7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGlmIChzZW1pY29sb25SRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYFVuZXhwZWN0ZWQgc2VtaWNvbG9uIGF0IHRoZSBlbmQgb2YgJyR7bmFtZX0nIHN0eWxlIHZhbHVlOiAnJHt2YWx9J2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJy0tJykpIHtcbiAgICAgICAgICAgIC8vIGN1c3RvbSBwcm9wZXJ0eSBkZWZpbml0aW9uXG4gICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ZWQgPSBhdXRvUHJlZml4KHN0eWxlLCBuYW1lKTtcbiAgICAgICAgICAgIGlmIChpbXBvcnRhbnRSRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgICAgICAgICAvLyAhaW1wb3J0YW50XG4gICAgICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoaHlwaGVuYXRlKHByZWZpeGVkKSwgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsICcnKSwgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3R5bGVbcHJlZml4ZWRdID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnXTtcbmNvbnN0IHByZWZpeENhY2hlID0ge307XG5mdW5jdGlvbiBhdXRvUHJlZml4KHN0eWxlLCByYXdOYW1lKSB7XG4gICAgY29uc3QgY2FjaGVkID0gcHJlZml4Q2FjaGVbcmF3TmFtZV07XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgIH1cbiAgICBsZXQgbmFtZSA9IGNhbWVsaXplKHJhd05hbWUpO1xuICAgIGlmIChuYW1lICE9PSAnZmlsdGVyJyAmJiBuYW1lIGluIHN0eWxlKSB7XG4gICAgICAgIHJldHVybiAocHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBuYW1lKTtcbiAgICB9XG4gICAgbmFtZSA9IGNhcGl0YWxpemUobmFtZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgbmFtZTtcbiAgICAgICAgaWYgKHByZWZpeGVkIGluIHN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYXdOYW1lO1xufVxuXG5jb25zdCB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuZnVuY3Rpb24gcGF0Y2hBdHRyKGVsLCBrZXksIHZhbHVlLCBpc1NWRywgaW5zdGFuY2UpIHtcbiAgICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoJ3hsaW5rOicpKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXkuc2xpY2UoNiwga2V5Lmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChjb21wYXRDb2VyY2VBdHRyKGVsLCBrZXksIHZhbHVlLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3RlIHdlIGFyZSBvbmx5IGNoZWNraW5nIGJvb2xlYW4gYXR0cmlidXRlcyB0aGF0IGRvbid0IGhhdmUgYVxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIGRvbSBwcm9wIG9mIHRoZSBzYW1lIG5hbWUgaGVyZS5cbiAgICAgICAgY29uc3QgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KTtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgKGlzQm9vbGVhbiAmJiAhaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgaXNCb29sZWFuID8gJycgOiB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyAyLnggY29tcGF0XG5jb25zdCBpc0VudW1lcmF0ZWRBdHRyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdjb250ZW50ZWRpdGFibGUsZHJhZ2dhYmxlLHNwZWxsY2hlY2snKVxuICAgIDtcbmZ1bmN0aW9uIGNvbXBhdENvZXJjZUF0dHIoZWwsIGtleSwgdmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xuICAgIGlmIChpc0VudW1lcmF0ZWRBdHRyKGtleSkpIHtcbiAgICAgICAgY29uc3QgdjJDb2VyY2VkVmFsdWUgPSB2YWx1ZSA9PT0gbnVsbFxuICAgICAgICAgICAgPyAnZmFsc2UnXG4gICAgICAgICAgICA6IHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nICYmIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/ICd0cnVlJ1xuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKHYyQ29lcmNlZFZhbHVlICYmXG4gICAgICAgICAgICBjb21wYXRVdGlscy5zb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIkFUVFJfRU5VTUVSQVRFRF9DT0VSQ0lPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovLCBpbnN0YW5jZSwga2V5LCB2YWx1ZSwgdjJDb2VyY2VkVmFsdWUpKSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2MkNvZXJjZWRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UgJiZcbiAgICAgICAgIWlzU3BlY2lhbEJvb2xlYW5BdHRyKGtleSkgJiZcbiAgICAgICAgY29tcGF0VXRpbHMuc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJBVFRSX0ZBTFNFX1ZBTFVFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0ZBTFNFX1ZBTFVFICovLCBpbnN0YW5jZSwga2V5KSkge1xuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gX19VTlNBRkVfX1xuLy8gZnVuY3Rpb25zLiBUaGUgdXNlciBpcyByZXNwb25zaWJsZSBmb3IgdXNpbmcgdGhlbSB3aXRoIG9ubHkgdHJ1c3RlZCBjb250ZW50LlxuZnVuY3Rpb24gcGF0Y2hET01Qcm9wKGVsLCBrZXksIHZhbHVlLCBcbi8vIHRoZSBmb2xsb3dpbmcgYXJncyBhcmUgcGFzc2VkIG9ubHkgZHVlIHRvIHBvdGVudGlhbCBpbm5lckhUTUwvdGV4dENvbnRlbnRcbi8vIG92ZXJyaWRpbmcgZXhpc3RpbmcgVk5vZGVzLCBpbiB3aGljaCBjYXNlIHRoZSBvbGQgdHJlZSBtdXN0IGJlIHByb3Blcmx5XG4vLyB1bm1vdW50ZWQuXG5wcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikge1xuICAgIGlmIChrZXkgPT09ICdpbm5lckhUTUwnIHx8IGtleSA9PT0gJ3RleHRDb250ZW50Jykge1xuICAgICAgICBpZiAocHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtrZXldID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ3ZhbHVlJyAmJlxuICAgICAgICBlbC50YWdOYW1lICE9PSAnUFJPR1JFU1MnICYmXG4gICAgICAgIC8vIGN1c3RvbSBlbGVtZW50cyBtYXkgdXNlIF92YWx1ZSBpbnRlcm5hbGx5XG4gICAgICAgICFlbC50YWdOYW1lLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgX3ZhbHVlIGFzIHdlbGwgc2luY2VcbiAgICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZC5cbiAgICAgICAgZWwuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUgfHxcbiAgICAgICAgICAgIC8vICM0OTU2OiBhbHdheXMgc2V0IGZvciBPUFRJT04gZWxlbWVudHMgYmVjYXVzZSBpdHMgdmFsdWUgZmFsbHMgYmFjayB0b1xuICAgICAgICAgICAgLy8gdGV4dENvbnRlbnQgaWYgbm8gdmFsdWUgYXR0cmlidXRlIGlzIHByZXNlbnQuIEFuZCBzZXR0aW5nIC52YWx1ZSBmb3JcbiAgICAgICAgICAgIC8vIE9QVElPTiBoYXMgbm8gc2lkZSBlZmZlY3RcbiAgICAgICAgICAgIGVsLnRhZ05hbWUgPT09ICdPUFRJT04nKSB7XG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBuZWVkUmVtb3ZlID0gZmFsc2U7XG4gICAgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZWxba2V5XTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgLy8gZS5nLiA8c2VsZWN0IG11bHRpcGxlPiBjb21waWxlcyB0byB7IG11bHRpcGxlOiAnJyB9XG4gICAgICAgICAgICB2YWx1ZSA9IGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gbnVsbCAmJiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gZS5nLiA8ZGl2IDppZD1cIm51bGxcIj5cbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gZS5nLiA8aW1nIDp3aWR0aD1cIm51bGxcIj5cbiAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAodmFsdWUgPT09IGZhbHNlICYmXG4gICAgICAgICAgICBjb21wYXRVdGlscy5pc0NvbXBhdEVuYWJsZWQoXCJBVFRSX0ZBTFNFX1ZBTFVFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0ZBTFNFX1ZBTFVFICovLCBwYXJlbnRDb21wb25lbnQpKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIGVsW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgY29tcGF0VXRpbHMud2FybkRlcHJlY2F0aW9uKFwiQVRUUl9GQUxTRV9WQUxVRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9GQUxTRV9WQUxVRSAqLywgcGFyZW50Q29tcG9uZW50LCBrZXkpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdHlwZSA9PT0gJ251bWJlcicgPyAwIDogJyc7XG4gICAgICAgICAgICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc29tZSBwcm9wZXJ0aWVzIHBlcmZvcm0gdmFsdWUgdmFsaWRhdGlvbiBhbmQgdGhyb3csXG4gICAgLy8gc29tZSBwcm9wZXJ0aWVzIGhhcyBnZXR0ZXIsIG5vIHNldHRlciwgd2lsbCBlcnJvciBpbiAndXNlIHN0cmljdCdcbiAgICAvLyBlZy4gPHNlbGVjdCA6dHlwZT1cIm51bGxcIj48L3NlbGVjdD4gPHNlbGVjdCA6d2lsbFZhbGlkYXRlPVwibnVsbFwiPjwvc2VsZWN0PlxuICAgIHRyeSB7XG4gICAgICAgIGVsW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZG8gbm90IHdhcm4gaWYgdmFsdWUgaXMgYXV0by1jb2VyY2VkIGZyb20gbnVsbGlzaCB2YWx1ZXNcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhbmVlZFJlbW92ZSkge1xuICAgICAgICAgICAgd2FybiQxKGBGYWlsZWQgc2V0dGluZyBwcm9wIFwiJHtrZXl9XCIgb24gPCR7ZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpfT46IGAgK1xuICAgICAgICAgICAgICAgIGB2YWx1ZSAke3ZhbHVlfSBpcyBpbnZhbGlkLmAsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5lZWRSZW1vdmUgJiYgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcGF0Y2hFdmVudChlbCwgcmF3TmFtZSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xuICAgIC8vIHZlaSA9IHZ1ZSBldmVudCBpbnZva2Vyc1xuICAgIGNvbnN0IGludm9rZXJzID0gZWwuX3ZlaSB8fCAoZWwuX3ZlaSA9IHt9KTtcbiAgICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcbiAgICBpZiAobmV4dFZhbHVlICYmIGV4aXN0aW5nSW52b2tlcikge1xuICAgICAgICAvLyBwYXRjaFxuICAgICAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBbbmFtZSwgb3B0aW9uc10gPSBwYXJzZU5hbWUocmF3TmFtZSk7XG4gICAgICAgIGlmIChuZXh0VmFsdWUpIHtcbiAgICAgICAgICAgIC8vIGFkZFxuICAgICAgICAgICAgY29uc3QgaW52b2tlciA9IChpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIobmV4dFZhbHVlLCBpbnN0YW5jZSkpO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgaW52b2tlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXhpc3RpbmdJbnZva2VyKSB7XG4gICAgICAgICAgICAvLyByZW1vdmVcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGV4aXN0aW5nSW52b2tlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpbnZva2Vyc1tyYXdOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IG9wdGlvbnNNb2RpZmllclJFID0gLyg/Ok9uY2V8UGFzc2l2ZXxDYXB0dXJlKSQvO1xuZnVuY3Rpb24gcGFyc2VOYW1lKG5hbWUpIHtcbiAgICBsZXQgb3B0aW9ucztcbiAgICBpZiAob3B0aW9uc01vZGlmaWVyUkUudGVzdChuYW1lKSkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIGxldCBtO1xuICAgICAgICB3aGlsZSAoKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIG5hbWUubGVuZ3RoIC0gbVswXS5sZW5ndGgpO1xuICAgICAgICAgICAgb3B0aW9uc1ttWzBdLnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBldmVudCA9IG5hbWVbMl0gPT09ICc6JyA/IG5hbWUuc2xpY2UoMykgOiBoeXBoZW5hdGUobmFtZS5zbGljZSgyKSk7XG4gICAgcmV0dXJuIFtldmVudCwgb3B0aW9uc107XG59XG4vLyBUbyBhdm9pZCB0aGUgb3ZlcmhlYWQgb2YgcmVwZWF0ZWRseSBjYWxsaW5nIERhdGUubm93KCksIHdlIGNhY2hlXG4vLyBhbmQgdXNlIHRoZSBzYW1lIHRpbWVzdGFtcCBmb3IgYWxsIGV2ZW50IGxpc3RlbmVycyBhdHRhY2hlZCBpbiB0aGUgc2FtZSB0aWNrLlxubGV0IGNhY2hlZE5vdyA9IDA7XG5jb25zdCBwID0gLyojX19QVVJFX18qLyBQcm9taXNlLnJlc29sdmUoKTtcbmNvbnN0IGdldE5vdyA9ICgpID0+IGNhY2hlZE5vdyB8fCAocC50aGVuKCgpID0+IChjYWNoZWROb3cgPSAwKSksIChjYWNoZWROb3cgPSBEYXRlLm5vdygpKSk7XG5mdW5jdGlvbiBjcmVhdGVJbnZva2VyKGluaXRpYWxWYWx1ZSwgaW5zdGFuY2UpIHtcbiAgICBjb25zdCBpbnZva2VyID0gKGUpID0+IHtcbiAgICAgICAgLy8gYXN5bmMgZWRnZSBjYXNlIHZ1ZWpzL3Z1ZSM2NTY2XG4gICAgICAgIC8vIGlubmVyIGNsaWNrIGV2ZW50IHRyaWdnZXJzIHBhdGNoLCBldmVudCBoYW5kbGVyXG4gICAgICAgIC8vIGF0dGFjaGVkIHRvIG91dGVyIGVsZW1lbnQgZHVyaW5nIHBhdGNoLCBhbmQgdHJpZ2dlcmVkIGFnYWluLiBUaGlzXG4gICAgICAgIC8vIGhhcHBlbnMgYmVjYXVzZSBicm93c2VycyBmaXJlIG1pY3JvdGFzayB0aWNrcyBiZXR3ZWVuIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAgICAvLyB0aGlzIG5vIGxvbmdlciBoYXBwZW5zIGZvciB0ZW1wbGF0ZXMgaW4gVnVlIDMsIGJ1dCBjb3VsZCBzdGlsbCBiZVxuICAgICAgICAvLyB0aGVvcmV0aWNhbGx5IHBvc3NpYmxlIGZvciBoYW5kLXdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9ucy5cbiAgICAgICAgLy8gdGhlIHNvbHV0aW9uOiB3ZSBzYXZlIHRoZSB0aW1lc3RhbXAgd2hlbiBhIGhhbmRsZXIgaXMgYXR0YWNoZWQsXG4gICAgICAgIC8vIGFuZCBhbHNvIGF0dGFjaCB0aGUgdGltZXN0YW1wIHRvIGFueSBldmVudCB0aGF0IHdhcyBoYW5kbGVkIGJ5IHZ1ZVxuICAgICAgICAvLyBmb3IgdGhlIGZpcnN0IHRpbWUgKHRvIGF2b2lkIGluY29uc2lzdGVudCBldmVudCB0aW1lc3RhbXAgaW1wbGVtZW50YXRpb25zXG4gICAgICAgIC8vIG9yIGV2ZW50cyBmaXJlZCBmcm9tIGlmcmFtZXMsIGUuZy4gIzI1MTMpXG4gICAgICAgIC8vIFRoZSBoYW5kbGVyIHdvdWxkIG9ubHkgZmlyZSBpZiB0aGUgZXZlbnQgcGFzc2VkIHRvIGl0IHdhcyBmaXJlZFxuICAgICAgICAvLyBBRlRFUiBpdCB3YXMgYXR0YWNoZWQuXG4gICAgICAgIGlmICghZS5fdnRzKSB7XG4gICAgICAgICAgICBlLl92dHMgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUuX3Z0cyA8PSBpbnZva2VyLmF0dGFjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcocGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgaW52b2tlci52YWx1ZSksIGluc3RhbmNlLCA1IC8qIEVycm9yQ29kZXMuTkFUSVZFX0VWRU5UX0hBTkRMRVIgKi8sIFtlXSk7XG4gICAgfTtcbiAgICBpbnZva2VyLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIGludm9rZXIuYXR0YWNoZWQgPSBnZXROb3coKTtcbiAgICByZXR1cm4gaW52b2tlcjtcbn1cbmZ1bmN0aW9uIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIHZhbHVlKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIG9yaWdpbmFsU3RvcC5jYWxsKGUpO1xuICAgICAgICAgICAgZS5fc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB2YWx1ZS5tYXAoZm4gPT4gKGUpID0+ICFlLl9zdG9wcGVkICYmIGZuICYmIGZuKGUpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbmNvbnN0IG5hdGl2ZU9uUkUgPSAvXm9uW2Etel0vO1xuY29uc3QgcGF0Y2hQcm9wID0gKGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpc1NWRyA9IGZhbHNlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikgPT4ge1xuICAgIGlmIChrZXkgPT09ICdjbGFzcycpIHtcbiAgICAgICAgcGF0Y2hDbGFzcyhlbCwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICBwYXRjaFN0eWxlKGVsLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICAvLyBpZ25vcmUgdi1tb2RlbCBsaXN0ZW5lcnNcbiAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChrZXlbMF0gPT09ICcuJ1xuICAgICAgICA/ICgoa2V5ID0ga2V5LnNsaWNlKDEpKSwgdHJ1ZSlcbiAgICAgICAgOiBrZXlbMF0gPT09ICdeJ1xuICAgICAgICAgICAgPyAoKGtleSA9IGtleS5zbGljZSgxKSksIGZhbHNlKVxuICAgICAgICAgICAgOiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRykpIHtcbiAgICAgICAgcGF0Y2hET01Qcm9wKGVsLCBrZXksIG5leHRWYWx1ZSwgcHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciA8aW5wdXQgdi1tb2RlbCB0eXBlPVwiY2hlY2tib3hcIj4gd2l0aFxuICAgICAgICAvLyA6dHJ1ZS12YWx1ZSAmIDpmYWxzZS12YWx1ZVxuICAgICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBkb20gcHJvcGVydGllcyBzaW5jZSBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlXG4gICAgICAgIC8vIHN0cmluZ2lmaWVkLlxuICAgICAgICBpZiAoa2V5ID09PSAndHJ1ZS12YWx1ZScpIHtcbiAgICAgICAgICAgIGVsLl90cnVlVmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnZmFsc2UtdmFsdWUnKSB7XG4gICAgICAgICAgICBlbC5fZmFsc2VWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRywgcGFyZW50Q29tcG9uZW50KTtcbiAgICB9XG59O1xuZnVuY3Rpb24gc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIHZhbHVlLCBpc1NWRykge1xuICAgIGlmIChpc1NWRykge1xuICAgICAgICAvLyBtb3N0IGtleXMgbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlIG9uIHN2ZyBlbGVtZW50cyB0byB3b3JrXG4gICAgICAgIC8vIC4uLmV4Y2VwdCBpbm5lckhUTUwgJiB0ZXh0Q29udGVudFxuICAgICAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJyB8fCBrZXkgPT09ICd0ZXh0Q29udGVudCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9yIG5hdGl2ZSBvbmNsaWNrIHdpdGggZnVuY3Rpb24gdmFsdWVzXG4gICAgICAgIGlmIChrZXkgaW4gZWwgJiYgbmF0aXZlT25SRS50ZXN0KGtleSkgJiYgaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gdGhlc2UgYXJlIGVudW1lcmF0ZWQgYXR0cnMsIGhvd2V2ZXIgdGhlaXIgY29ycmVzcG9uZGluZyBET00gcHJvcGVydGllc1xuICAgIC8vIGFyZSBhY3R1YWxseSBib29sZWFucyAtIHRoaXMgbGVhZHMgdG8gc2V0dGluZyBpdCB3aXRoIGEgc3RyaW5nIFwiZmFsc2VcIlxuICAgIC8vIHZhbHVlIGxlYWRpbmcgaXQgdG8gYmUgY29lcmNlZCB0byBgdHJ1ZWAsIHNvIHdlIG5lZWQgdG8gYWx3YXlzIHRyZWF0XG4gICAgLy8gdGhlbSBhcyBhdHRyaWJ1dGVzLlxuICAgIC8vIE5vdGUgdGhhdCBgY29udGVudEVkaXRhYmxlYCBkb2Vzbid0IGhhdmUgdGhpcyBwcm9ibGVtOiBpdHMgRE9NXG4gICAgLy8gcHJvcGVydHkgaXMgYWxzbyBlbnVtZXJhdGVkIHN0cmluZyB2YWx1ZXMuXG4gICAgaWYgKGtleSA9PT0gJ3NwZWxsY2hlY2snIHx8IGtleSA9PT0gJ2RyYWdnYWJsZScgfHwga2V5ID09PSAndHJhbnNsYXRlJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vICMxNzg3LCAjMjg0MCBmb3JtIHByb3BlcnR5IG9uIGZvcm0gZWxlbWVudHMgaXMgcmVhZG9ubHkgYW5kIG11c3QgYmUgc2V0IGFzXG4gICAgLy8gYXR0cmlidXRlLlxuICAgIGlmIChrZXkgPT09ICdmb3JtJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vICMxNTI2IDxpbnB1dCBsaXN0PiBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcbiAgICBpZiAoa2V5ID09PSAnbGlzdCcgJiYgZWwudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vICMyNzY2IDx0ZXh0YXJlYSB0eXBlPiBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcbiAgICBpZiAoa2V5ID09PSAndHlwZScgJiYgZWwudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIG5hdGl2ZSBvbmNsaWNrIHdpdGggc3RyaW5nIHZhbHVlLCBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcbiAgICBpZiAobmF0aXZlT25SRS50ZXN0KGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGtleSBpbiBlbDtcbn1cblxuZnVuY3Rpb24gZGVmaW5lQ3VzdG9tRWxlbWVudChvcHRpb25zLCBoeWRyYXRlKSB7XG4gICAgY29uc3QgQ29tcCA9IGRlZmluZUNvbXBvbmVudChvcHRpb25zKTtcbiAgICBjbGFzcyBWdWVDdXN0b21FbGVtZW50IGV4dGVuZHMgVnVlRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGluaXRpYWxQcm9wcykge1xuICAgICAgICAgICAgc3VwZXIoQ29tcCwgaW5pdGlhbFByb3BzLCBoeWRyYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBWdWVDdXN0b21FbGVtZW50LmRlZiA9IENvbXA7XG4gICAgcmV0dXJuIFZ1ZUN1c3RvbUVsZW1lbnQ7XG59XG5jb25zdCBkZWZpbmVTU1JDdXN0b21FbGVtZW50ID0gKChvcHRpb25zKSA9PiB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBkZWZpbmVDdXN0b21FbGVtZW50KG9wdGlvbnMsIGh5ZHJhdGUpO1xufSk7XG5jb25zdCBCYXNlQ2xhc3MgPSAodHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJyA/IEhUTUxFbGVtZW50IDogY2xhc3Mge1xufSk7XG5jbGFzcyBWdWVFbGVtZW50IGV4dGVuZHMgQmFzZUNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihfZGVmLCBfcHJvcHMgPSB7fSwgaHlkcmF0ZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9kZWYgPSBfZGVmO1xuICAgICAgICB0aGlzLl9wcm9wcyA9IF9wcm9wcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290ICYmIGh5ZHJhdGUpIHtcbiAgICAgICAgICAgIGh5ZHJhdGUodGhpcy5fY3JlYXRlVk5vZGUoKSwgdGhpcy5zaGFkb3dSb290KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBDdXN0b20gZWxlbWVudCBoYXMgcHJlLXJlbmRlcmVkIGRlY2xhcmF0aXZlIHNoYWRvdyByb290IGJ1dCBpcyBub3QgYCArXG4gICAgICAgICAgICAgICAgICAgIGBkZWZpbmVkIGFzIGh5ZHJhdGFibGUuIFVzZSBcXGBkZWZpbmVTU1JDdXN0b21FbGVtZW50XFxgLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RlZi5fX2FzeW5jTG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIHN5bmMgY29tcG9uZW50IGRlZnMgd2UgY2FuIGltbWVkaWF0ZWx5IHJlc29sdmUgcHJvcHNcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlUHJvcHModGhpcy5fZGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlRGVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcihudWxsLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlc29sdmUgaW5uZXIgY29tcG9uZW50IGRlZmluaXRpb24gKGhhbmRsZSBwb3NzaWJsZSBhc3luYyBjb21wb25lbnQpXG4gICAgICovXG4gICAgX3Jlc29sdmVEZWYoKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgLy8gc2V0IGluaXRpYWwgYXR0cnNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEF0dHIodGhpcy5hdHRyaWJ1dGVzW2ldLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdhdGNoIGZ1dHVyZSBhdHRyIGNoYW5nZXNcbiAgICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbSBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyKG0uYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLm9ic2VydmUodGhpcywgeyBhdHRyaWJ1dGVzOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHByb3BzLCBzdHlsZXMgfSA9IGRlZjtcbiAgICAgICAgICAgIC8vIGNhc3QgTnVtYmVyLXR5cGUgcHJvcHMgc2V0IGJlZm9yZSByZXNvbHZlXG4gICAgICAgICAgICBsZXQgbnVtYmVyUHJvcHM7XG4gICAgICAgICAgICBpZiAocHJvcHMgJiYgIWlzQXJyYXkocHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0ID0gcHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdCA9PT0gTnVtYmVyIHx8IChvcHQgJiYgb3B0LnR5cGUgPT09IE51bWJlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gdGhpcy5fcHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9wc1trZXldID0gdG9OdW1iZXIodGhpcy5fcHJvcHNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAobnVtYmVyUHJvcHMgfHwgKG51bWJlclByb3BzID0gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NhbWVsaXplKGtleSldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX251bWJlclByb3BzID0gbnVtYmVyUHJvcHM7XG4gICAgICAgICAgICBpZiAoaXNBc3luYykge1xuICAgICAgICAgICAgICAgIC8vIGRlZmluaW5nIGdldHRlci9zZXR0ZXJzIG9uIHByb3RvdHlwZVxuICAgICAgICAgICAgICAgIC8vIGZvciBzeW5jIGRlZnMsIHRoaXMgYWxyZWFkeSBoYXBwZW5lZCBpbiB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlUHJvcHMoZGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFwcGx5IENTU1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXMoc3R5bGVzKTtcbiAgICAgICAgICAgIC8vIGluaXRpYWwgcmVuZGVyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYXN5bmNEZWYgPSB0aGlzLl9kZWYuX19hc3luY0xvYWRlcjtcbiAgICAgICAgaWYgKGFzeW5jRGVmKSB7XG4gICAgICAgICAgICBhc3luY0RlZigpLnRoZW4oZGVmID0+IHJlc29sdmUoZGVmLCB0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMuX2RlZik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3Jlc29sdmVQcm9wcyhkZWYpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wcyB9ID0gZGVmO1xuICAgICAgICBjb25zdCBkZWNsYXJlZFByb3BLZXlzID0gaXNBcnJheShwcm9wcykgPyBwcm9wcyA6IE9iamVjdC5rZXlzKHByb3BzIHx8IHt9KTtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIHByb3BzIHNldCBwcmUtdXBncmFkZSBvciBjb25uZWN0XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMpKSB7XG4gICAgICAgICAgICBpZiAoa2V5WzBdICE9PSAnXycgJiYgZGVjbGFyZWRQcm9wS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0UHJvcChrZXksIHRoaXNba2V5XSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGRlZmluaW5nIGdldHRlci9zZXR0ZXJzIG9uIHByb3RvdHlwZVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBkZWNsYXJlZFByb3BLZXlzLm1hcChjYW1lbGl6ZSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFByb3Aoa2V5LCB2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zZXRBdHRyKGtleSkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgICAgICBjb25zdCBjYW1lbEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgIGlmICh0aGlzLl9udW1iZXJQcm9wcyAmJiB0aGlzLl9udW1iZXJQcm9wc1tjYW1lbEtleV0pIHtcbiAgICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldFByb3AoY2FtZWxLZXksIHZhbHVlLCBmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9nZXRQcm9wKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcHNba2V5XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3NldFByb3Aoa2V5LCB2YWwsIHNob3VsZFJlZmxlY3QgPSB0cnVlLCBzaG91bGRVcGRhdGUgPSB0cnVlKSB7XG4gICAgICAgIGlmICh2YWwgIT09IHRoaXMuX3Byb3BzW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB2YWw7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlICYmIHRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZWZsZWN0XG4gICAgICAgICAgICBpZiAoc2hvdWxkUmVmbGVjdCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoaHlwaGVuYXRlKGtleSksICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoaHlwaGVuYXRlKGtleSksIHZhbCArICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF91cGRhdGUoKSB7XG4gICAgICAgIHJlbmRlcih0aGlzLl9jcmVhdGVWTm9kZSgpLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICAgIH1cbiAgICBfY3JlYXRlVk5vZGUoKSB7XG4gICAgICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUodGhpcy5fZGVmLCBleHRlbmQoe30sIHRoaXMuX3Byb3BzKSk7XG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHZub2RlLmNlID0gaW5zdGFuY2UgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNDRSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gSE1SXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jZVJlbG9hZCA9IG5ld1N0eWxlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbHdheXMgcmVzZXQgc3R5bGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmZvckVhY2gocyA9PiB0aGlzLnNoYWRvd1Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXMobmV3U3R5bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkaXNwYXRjaCA9IChldmVudCwgYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGFyZ3NcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gaW50ZXJjZXB0IGVtaXRcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5lbWl0ID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGJvdGggdGhlIHJhdyBhbmQgaHlwaGVuYXRlZCB2ZXJzaW9ucyBvZiBhbiBldmVudFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBtYXRjaCBWdWUgYmVoYXZpb3JcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHlwaGVuYXRlKGV2ZW50KSAhPT0gZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGh5cGhlbmF0ZShldmVudCksIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBsb2NhdGUgbmVhcmVzdCBWdWUgY3VzdG9tIGVsZW1lbnQgcGFyZW50IGZvciBwcm92aWRlL2luamVjdFxuICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHdoaWxlICgocGFyZW50ID1cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ICYmIChwYXJlbnQucGFyZW50Tm9kZSB8fCBwYXJlbnQuaG9zdCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBWdWVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQgPSBwYXJlbnQuX2luc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UucHJvdmlkZXMgPSBwYXJlbnQuX2luc3RhbmNlLnByb3ZpZGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2bm9kZTtcbiAgICB9XG4gICAgX2FwcGx5U3R5bGVzKHN0eWxlcykge1xuICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgICBzdHlsZXMuZm9yRWFjaChjc3MgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIHMudGV4dENvbnRlbnQgPSBjc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHMpO1xuICAgICAgICAgICAgICAgIC8vIHJlY29yZCBmb3IgSE1SXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAodGhpcy5fc3R5bGVzIHx8ICh0aGlzLl9zdHlsZXMgPSBbXSkpLnB1c2gocyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVzZUNzc01vZHVsZShuYW1lID0gJyRzdHlsZScpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgdXNlQ3NzTW9kdWxlIG11c3QgYmUgY2FsbGVkIGluc2lkZSBzZXR1cCgpYCk7XG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZHVsZXMgPSBpbnN0YW5jZS50eXBlLl9fY3NzTW9kdWxlcztcbiAgICAgICAgaWYgKCFtb2R1bGVzKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZCA9IG1vZHVsZXNbbmFtZV07XG4gICAgICAgIGlmICghbW9kKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlIG5hbWVkIFwiJHtuYW1lfVwiLmApO1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9kO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgU0ZDJ3MgQ1NTIHZhcmlhYmxlIGluamVjdGlvbiBmZWF0dXJlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdXNlQ3NzVmFycyhnZXR0ZXIpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIHdhcm4kMShgdXNlQ3NzVmFycyBpcyBjYWxsZWQgd2l0aG91dCBjdXJyZW50IGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlVGVsZXBvcnRzID0gKGluc3RhbmNlLnV0ID0gKHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UucHJveHkpKSA9PiB7XG4gICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtdi1vd25lcj1cIiR7aW5zdGFuY2UudWlkfVwiXWApKS5mb3JFYWNoKG5vZGUgPT4gc2V0VmFyc09uTm9kZShub2RlLCB2YXJzKSk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2V0VmFycyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSk7XG4gICAgICAgIHNldFZhcnNPblZOb2RlKGluc3RhbmNlLnN1YlRyZWUsIHZhcnMpO1xuICAgICAgICB1cGRhdGVUZWxlcG9ydHModmFycyk7XG4gICAgfTtcbiAgICB3YXRjaFBvc3RFZmZlY3Qoc2V0VmFycyk7XG4gICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihzZXRWYXJzKTtcbiAgICAgICAgb2Iub2JzZXJ2ZShpbnN0YW5jZS5zdWJUcmVlLmVsLnBhcmVudE5vZGUsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgICAgICBvblVubW91bnRlZCgoKSA9PiBvYi5kaXNjb25uZWN0KCkpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0VmFyc09uVk5vZGUodm5vZGUsIHZhcnMpIHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZTtcbiAgICAgICAgdm5vZGUgPSBzdXNwZW5zZS5hY3RpdmVCcmFuY2g7XG4gICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRWYXJzT25WTm9kZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHZhcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZHJpbGwgZG93biBIT0NzIHVudGlsIGl0J3MgYSBub24tY29tcG9uZW50IHZub2RlXG4gICAgd2hpbGUgKHZub2RlLmNvbXBvbmVudCkge1xuICAgICAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudC5zdWJUcmVlO1xuICAgIH1cbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gJiYgdm5vZGUuZWwpIHtcbiAgICAgICAgc2V0VmFyc09uTm9kZSh2bm9kZS5lbCwgdmFycyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goYyA9PiBzZXRWYXJzT25WTm9kZShjLCB2YXJzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IFN0YXRpYykge1xuICAgICAgICBsZXQgeyBlbCwgYW5jaG9yIH0gPSB2bm9kZTtcbiAgICAgICAgd2hpbGUgKGVsKSB7XG4gICAgICAgICAgICBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKTtcbiAgICAgICAgICAgIGlmIChlbCA9PT0gYW5jaG9yKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZWwgPSBlbC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNldFZhcnNPbk5vZGUoZWwsIHZhcnMpIHtcbiAgICBpZiAoZWwubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFycykge1xuICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoYC0tJHtrZXl9YCwgdmFyc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcbmNvbnN0IEFOSU1BVElPTiA9ICdhbmltYXRpb24nO1xuLy8gRE9NIFRyYW5zaXRpb24gaXMgYSBoaWdoZXItb3JkZXItY29tcG9uZW50IGJhc2VkIG9uIHRoZSBwbGF0Zm9ybS1hZ25vc3RpY1xuLy8gYmFzZSBUcmFuc2l0aW9uIGNvbXBvbmVudCwgd2l0aCBET00tc3BlY2lmaWMgbG9naWMuXG5jb25zdCBUcmFuc2l0aW9uID0gKHByb3BzLCB7IHNsb3RzIH0pID0+IGgoQmFzZVRyYW5zaXRpb24sIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocHJvcHMpLCBzbG90cyk7XG5UcmFuc2l0aW9uLmRpc3BsYXlOYW1lID0gJ1RyYW5zaXRpb24nO1xue1xuICAgIFRyYW5zaXRpb24uX19pc0J1aWx0SW4gPSB0cnVlO1xufVxuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNzczoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBkdXJhdGlvbjogW1N0cmluZywgTnVtYmVyLCBPYmplY3RdLFxuICAgIGVudGVyRnJvbUNsYXNzOiBTdHJpbmcsXG4gICAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxuICAgIGVudGVyVG9DbGFzczogU3RyaW5nLFxuICAgIGFwcGVhckZyb21DbGFzczogU3RyaW5nLFxuICAgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gICAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxuICAgIGxlYXZlRnJvbUNsYXNzOiBTdHJpbmcsXG4gICAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxuICAgIGxlYXZlVG9DbGFzczogU3RyaW5nXG59O1xuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IChUcmFuc2l0aW9uLnByb3BzID1cbiAgICAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgQmFzZVRyYW5zaXRpb24ucHJvcHMsIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMpKTtcbi8qKlxuICogIzMyMjcgSW5jb21pbmcgaG9va3MgbWF5IGJlIG1lcmdlZCBpbnRvIGFycmF5cyB3aGVuIHdyYXBwaW5nIFRyYW5zaXRpb25cbiAqIHdpdGggY3VzdG9tIEhPQ3MuXG4gKi9cbmNvbnN0IGNhbGxIb29rJDEgPSAoaG9vaywgYXJncyA9IFtdKSA9PiB7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgICAgaG9vay5mb3JFYWNoKGggPT4gaCguLi5hcmdzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhvb2spIHtcbiAgICAgICAgaG9vayguLi5hcmdzKTtcbiAgICB9XG59O1xuLyoqXG4gKiBDaGVjayBpZiBhIGhvb2sgZXhwZWN0cyBhIGNhbGxiYWNrICgybmQgYXJnKSwgd2hpY2ggbWVhbnMgdGhlIHVzZXJcbiAqIGludGVuZHMgdG8gZXhwbGljaXRseSBjb250cm9sIHRoZSBlbmQgb2YgdGhlIHRyYW5zaXRpb24uXG4gKi9cbmNvbnN0IGhhc0V4cGxpY2l0Q2FsbGJhY2sgPSAoaG9vaykgPT4ge1xuICAgIHJldHVybiBob29rXG4gICAgICAgID8gaXNBcnJheShob29rKVxuICAgICAgICAgICAgPyBob29rLnNvbWUoaCA9PiBoLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICA6IGhvb2subGVuZ3RoID4gMVxuICAgICAgICA6IGZhbHNlO1xufTtcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcbiAgICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xuICAgICAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcbiAgICAgICAgICAgIGJhc2VQcm9wc1trZXldID0gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmF3UHJvcHMuY3NzID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gYmFzZVByb3BzO1xuICAgIH1cbiAgICBjb25zdCB7IG5hbWUgPSAndicsIHR5cGUsIGR1cmF0aW9uLCBlbnRlckZyb21DbGFzcyA9IGAke25hbWV9LWVudGVyLWZyb21gLCBlbnRlckFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tZW50ZXItYWN0aXZlYCwgZW50ZXJUb0NsYXNzID0gYCR7bmFtZX0tZW50ZXItdG9gLCBhcHBlYXJGcm9tQ2xhc3MgPSBlbnRlckZyb21DbGFzcywgYXBwZWFyQWN0aXZlQ2xhc3MgPSBlbnRlckFjdGl2ZUNsYXNzLCBhcHBlYXJUb0NsYXNzID0gZW50ZXJUb0NsYXNzLCBsZWF2ZUZyb21DbGFzcyA9IGAke25hbWV9LWxlYXZlLWZyb21gLCBsZWF2ZUFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtYWN0aXZlYCwgbGVhdmVUb0NsYXNzID0gYCR7bmFtZX0tbGVhdmUtdG9gIH0gPSByYXdQcm9wcztcbiAgICAvLyBsZWdhY3kgdHJhbnNpdGlvbiBjbGFzcyBjb21wYXRcbiAgICBjb25zdCBsZWdhY3lDbGFzc0VuYWJsZWQgPSBjb21wYXRVdGlscy5pc0NvbXBhdEVuYWJsZWQoXCJUUkFOU0lUSU9OX0NMQVNTRVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlRSQU5TSVRJT05fQ0xBU1NFUyAqLywgbnVsbCk7XG4gICAgbGV0IGxlZ2FjeUVudGVyRnJvbUNsYXNzO1xuICAgIGxldCBsZWdhY3lBcHBlYXJGcm9tQ2xhc3M7XG4gICAgbGV0IGxlZ2FjeUxlYXZlRnJvbUNsYXNzO1xuICAgIGlmIChsZWdhY3lDbGFzc0VuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgdG9MZWdhY3lDbGFzcyA9IChjbHMpID0+IGNscy5yZXBsYWNlKC8tZnJvbSQvLCAnJyk7XG4gICAgICAgIGlmICghcmF3UHJvcHMuZW50ZXJGcm9tQ2xhc3MpIHtcbiAgICAgICAgICAgIGxlZ2FjeUVudGVyRnJvbUNsYXNzID0gdG9MZWdhY3lDbGFzcyhlbnRlckZyb21DbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyYXdQcm9wcy5hcHBlYXJGcm9tQ2xhc3MpIHtcbiAgICAgICAgICAgIGxlZ2FjeUFwcGVhckZyb21DbGFzcyA9IHRvTGVnYWN5Q2xhc3MoYXBwZWFyRnJvbUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJhd1Byb3BzLmxlYXZlRnJvbUNsYXNzKSB7XG4gICAgICAgICAgICBsZWdhY3lMZWF2ZUZyb21DbGFzcyA9IHRvTGVnYWN5Q2xhc3MobGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGR1cmF0aW9ucyA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKTtcbiAgICBjb25zdCBlbnRlckR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1swXTtcbiAgICBjb25zdCBsZWF2ZUR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1sxXTtcbiAgICBjb25zdCB7IG9uQmVmb3JlRW50ZXIsIG9uRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uTGVhdmUsIG9uTGVhdmVDYW5jZWxsZWQsIG9uQmVmb3JlQXBwZWFyID0gb25CZWZvcmVFbnRlciwgb25BcHBlYXIgPSBvbkVudGVyLCBvbkFwcGVhckNhbmNlbGxlZCA9IG9uRW50ZXJDYW5jZWxsZWQgfSA9IGJhc2VQcm9wcztcbiAgICBjb25zdCBmaW5pc2hFbnRlciA9IChlbCwgaXNBcHBlYXIsIGRvbmUpID0+IHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICAgICAgZG9uZSAmJiBkb25lKCk7XG4gICAgfTtcbiAgICBjb25zdCBmaW5pc2hMZWF2ZSA9IChlbCwgZG9uZSkgPT4ge1xuICAgICAgICBlbC5faXNMZWF2aW5nID0gZmFsc2U7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICAgIGRvbmUgJiYgZG9uZSgpO1xuICAgIH07XG4gICAgY29uc3QgbWFrZUVudGVySG9vayA9IChpc0FwcGVhcikgPT4ge1xuICAgICAgICByZXR1cm4gKGVsLCBkb25lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBob29rID0gaXNBcHBlYXIgPyBvbkFwcGVhciA6IG9uRW50ZXI7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoRW50ZXIoZWwsIGlzQXBwZWFyLCBkb25lKTtcbiAgICAgICAgICAgIGNhbGxIb29rJDEoaG9vaywgW2VsLCByZXNvbHZlXSk7XG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJGcm9tQ2xhc3MgOiBlbnRlckZyb21DbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKGxlZ2FjeUNsYXNzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gbGVnYWN5QXBwZWFyRnJvbUNsYXNzIDogbGVnYWN5RW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKGhvb2spKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgZW50ZXJEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xuICAgICAgICBvbkJlZm9yZUVudGVyKGVsKSB7XG4gICAgICAgICAgICBjYWxsSG9vayQxKG9uQmVmb3JlRW50ZXIsIFtlbF0pO1xuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckZyb21DbGFzcyk7XG4gICAgICAgICAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWdhY3lFbnRlckZyb21DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyQWN0aXZlQ2xhc3MpO1xuICAgICAgICB9LFxuICAgICAgICBvbkJlZm9yZUFwcGVhcihlbCkge1xuICAgICAgICAgICAgY2FsbEhvb2skMShvbkJlZm9yZUFwcGVhciwgW2VsXSk7XG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckZyb21DbGFzcyk7XG4gICAgICAgICAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWdhY3lBcHBlYXJGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJBY3RpdmVDbGFzcyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRW50ZXI6IG1ha2VFbnRlckhvb2soZmFsc2UpLFxuICAgICAgICBvbkFwcGVhcjogbWFrZUVudGVySG9vayh0cnVlKSxcbiAgICAgICAgb25MZWF2ZShlbCwgZG9uZSkge1xuICAgICAgICAgICAgZWwuX2lzTGVhdmluZyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoTGVhdmUoZWwsIGRvbmUpO1xuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgICAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWdhY3lMZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3JjZSByZWZsb3cgc28gKi1sZWF2ZS1mcm9tIGNsYXNzZXMgaW1tZWRpYXRlbHkgdGFrZSBlZmZlY3QgKCMyNTkzKVxuICAgICAgICAgICAgZm9yY2VSZWZsb3coKTtcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZWwuX2lzTGVhdmluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYW5jZWxsZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVnYWN5TGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgbGVhdmVEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYWxsSG9vayQxKG9uTGVhdmUsIFtlbCwgcmVzb2x2ZV0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkVudGVyQ2FuY2VsbGVkKGVsKSB7XG4gICAgICAgICAgICBmaW5pc2hFbnRlcihlbCwgZmFsc2UpO1xuICAgICAgICAgICAgY2FsbEhvb2skMShvbkVudGVyQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgICAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlKTtcbiAgICAgICAgICAgIGNhbGxIb29rJDEob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkKGVsKSB7XG4gICAgICAgICAgICBmaW5pc2hMZWF2ZShlbCk7XG4gICAgICAgICAgICBjYWxsSG9vayQxKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbikge1xuICAgIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChkdXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBuID0gTnVtYmVyT2YoZHVyYXRpb24pO1xuICAgICAgICByZXR1cm4gW24sIG5dO1xuICAgIH1cbn1cbmZ1bmN0aW9uIE51bWJlck9mKHZhbCkge1xuICAgIGNvbnN0IHJlcyA9IHRvTnVtYmVyKHZhbCk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcbiAgICAgICAgdmFsaWRhdGVEdXJhdGlvbihyZXMpO1xuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUR1cmF0aW9uKHZhbCkge1xuICAgIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJykge1xuICAgICAgICB3YXJuJDEoYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBgICtcbiAgICAgICAgICAgIGBnb3QgJHtKU09OLnN0cmluZ2lmeSh2YWwpfS5gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOYU4odmFsKSkge1xuICAgICAgICB3YXJuJDEoYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBOYU4gLSBgICtcbiAgICAgICAgICAgICd0aGUgZHVyYXRpb24gZXhwcmVzc2lvbiBtaWdodCBiZSBpbmNvcnJlY3QuJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgICAoZWwuX3Z0YyB8fFxuICAgICAgICAoZWwuX3Z0YyA9IG5ldyBTZXQoKSkpLmFkZChjbHMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcbiAgICBjb25zdCB7IF92dGMgfSA9IGVsO1xuICAgIGlmIChfdnRjKSB7XG4gICAgICAgIF92dGMuZGVsZXRlKGNscyk7XG4gICAgICAgIGlmICghX3Z0Yy5zaXplKSB7XG4gICAgICAgICAgICBlbC5fdnRjID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICB9KTtcbn1cbmxldCBlbmRJZCA9IDA7XG5mdW5jdGlvbiB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIGV4cGVjdGVkVHlwZSwgZXhwbGljaXRUaW1lb3V0LCByZXNvbHZlKSB7XG4gICAgY29uc3QgaWQgPSAoZWwuX2VuZElkID0gKytlbmRJZCk7XG4gICAgY29uc3QgcmVzb2x2ZUlmTm90U3RhbGUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmIChleHBsaWNpdFRpbWVvdXQpIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZUlmTm90U3RhbGUsIGV4cGxpY2l0VGltZW91dCk7XG4gICAgfVxuICAgIGNvbnN0IHsgdHlwZSwgdGltZW91dCwgcHJvcENvdW50IH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKTtcbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICB9XG4gICAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgJ2VuZCc7XG4gICAgbGV0IGVuZGVkID0gMDtcbiAgICBjb25zdCBlbmQgPSAoKSA9PiB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbiAgICAgICAgcmVzb2x2ZUlmTm90U3RhbGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uRW5kID0gKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xuICAgICAgICAgICAgZW5kKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcbiAgICAgICAgICAgIGVuZCgpO1xuICAgICAgICB9XG4gICAgfSwgdGltZW91dCArIDEpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpIHtcbiAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gICAgLy8gSlNET00gbWF5IHJldHVybiB1bmRlZmluZWQgZm9yIHRyYW5zaXRpb24gcHJvcGVydGllc1xuICAgIGNvbnN0IGdldFN0eWxlUHJvcGVydGllcyA9IChrZXkpID0+IChzdHlsZXNba2V5XSB8fCAnJykuc3BsaXQoJywgJyk7XG4gICAgY29uc3QgdHJhbnNpdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfURlbGF5YCk7XG4gICAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfUR1cmF0aW9uYCk7XG4gICAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICAgIGNvbnN0IGFuaW1hdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RGVsYXlgKTtcbiAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfUR1cmF0aW9uYCk7XG4gICAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuICAgIGxldCB0eXBlID0gbnVsbDtcbiAgICBsZXQgdGltZW91dCA9IDA7XG4gICAgbGV0IHByb3BDb3VudCA9IDA7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xuICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgICAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICAgICAgdHlwZSA9XG4gICAgICAgICAgICB0aW1lb3V0ID4gMFxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0XG4gICAgICAgICAgICAgICAgICAgID8gVFJBTlNJVElPTlxuICAgICAgICAgICAgICAgICAgICA6IEFOSU1BVElPTlxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgcHJvcENvdW50ID0gdHlwZVxuICAgICAgICAgICAgPyB0eXBlID09PSBUUkFOU0lUSU9OXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgOiAwO1xuICAgIH1cbiAgICBjb25zdCBoYXNUcmFuc2Zvcm0gPSB0eXBlID09PSBUUkFOU0lUSU9OICYmXG4gICAgICAgIC9cXGIodHJhbnNmb3JtfGFsbCkoLHwkKS8udGVzdChnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1Qcm9wZXJ0eWApLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRpbWVvdXQsXG4gICAgICAgIHByb3BDb3VudCxcbiAgICAgICAgaGFzVHJhbnNmb3JtXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFRpbWVvdXQoZGVsYXlzLCBkdXJhdGlvbnMpIHtcbiAgICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xufVxuLy8gT2xkIHZlcnNpb25zIG9mIENocm9taXVtIChiZWxvdyA2MS4wLjMxNjMuMTAwKSBmb3JtYXRzIGZsb2F0aW5nIHBvaW50ZXJcbi8vIG51bWJlcnMgaW4gYSBsb2NhbGUtZGVwZW5kZW50IHdheSwgdXNpbmcgYSBjb21tYSBpbnN0ZWFkIG9mIGEgZG90LlxuLy8gSWYgY29tbWEgaXMgbm90IHJlcGxhY2VkIHdpdGggYSBkb3QsIHRoZSBpbnB1dCB3aWxsIGJlIHJvdW5kZWQgZG93blxuLy8gKGkuZS4gYWN0aW5nIGFzIGEgZmxvb3IgZnVuY3Rpb24pIGNhdXNpbmcgdW5leHBlY3RlZCBiZWhhdmlvcnNcbmZ1bmN0aW9uIHRvTXMocykge1xuICAgIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZSgnLCcsICcuJykpICogMTAwMDtcbn1cbi8vIHN5bmNocm9ub3VzbHkgZm9yY2UgbGF5b3V0IHRvIHB1dCBlbGVtZW50cyBpbnRvIGEgY2VydGFpbiBzdGF0ZVxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0O1xufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBuZXdQb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBUcmFuc2l0aW9uR3JvdXBJbXBsID0ge1xuICAgIG5hbWU6ICdUcmFuc2l0aW9uR3JvdXAnLFxuICAgIHByb3BzOiAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywge1xuICAgICAgICB0YWc6IFN0cmluZyxcbiAgICAgICAgbW92ZUNsYXNzOiBTdHJpbmdcbiAgICB9KSxcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgICAgIGxldCBwcmV2Q2hpbGRyZW47XG4gICAgICAgIGxldCBjaGlsZHJlbjtcbiAgICAgICAgb25VcGRhdGVkKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoaWxkcmVuIGlzIGd1YXJhbnRlZWQgdG8gZXhpc3QgYWZ0ZXIgaW5pdGlhbCByZW5kZXJcbiAgICAgICAgICAgIGlmICghcHJldkNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vdmVDbGFzcyA9IHByb3BzLm1vdmVDbGFzcyB8fCBgJHtwcm9wcy5uYW1lIHx8ICd2J30tbW92ZWA7XG4gICAgICAgICAgICBpZiAoIWhhc0NTU1RyYW5zZm9ybShwcmV2Q2hpbGRyZW5bMF0uZWwsIGluc3RhbmNlLnZub2RlLmVsLCBtb3ZlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgZGl2aWRlIHRoZSB3b3JrIGludG8gdGhyZWUgbG9vcHMgdG8gYXZvaWQgbWl4aW5nIERPTSByZWFkcyBhbmQgd3JpdGVzXG4gICAgICAgICAgICAvLyBpbiBlYWNoIGl0ZXJhdGlvbiAtIHdoaWNoIGhlbHBzIHByZXZlbnQgbGF5b3V0IHRocmFzaGluZy5cbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVkQ2hpbGRyZW4gPSBwcmV2Q2hpbGRyZW4uZmlsdGVyKGFwcGx5VHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uXG4gICAgICAgICAgICBmb3JjZVJlZmxvdygpO1xuICAgICAgICAgICAgbW92ZWRDaGlsZHJlbi5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gYy5lbDtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBzdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBjYiA9IChlbC5fbW92ZUNiID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlIHx8IC90cmFuc2Zvcm0kLy50ZXN0KGUucHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9tb3ZlQ2IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XG4gICAgICAgICAgICBsZXQgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xuICAgICAgICAgICAgaWYgKCFyYXdQcm9wcy50YWcgJiZcbiAgICAgICAgICAgICAgICBjb21wYXRVdGlscy5jaGVja0NvbXBhdEVuYWJsZWQoXCJUUkFOU0lUSU9OX0dST1VQX1JPT1RcIiAvKiBEZXByZWNhdGlvblR5cGVzLlRSQU5TSVRJT05fR1JPVVBfUk9PVCAqLywgaW5zdGFuY2UucGFyZW50KSkge1xuICAgICAgICAgICAgICAgIHRhZyA9ICdzcGFuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZDaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ID8gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSkgOiBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoY2hpbGQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYDxUcmFuc2l0aW9uR3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gcHJldkNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoY2hpbGQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKSk7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChjaGlsZCwgY2hpbGQuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0YWcsIG51bGwsIGNoaWxkcmVuKTtcbiAgICAgICAgfTtcbiAgICB9XG59O1xue1xuICAgIFRyYW5zaXRpb25Hcm91cEltcGwuX19pc0J1aWx0SW4gPSB0cnVlO1xufVxuY29uc3QgVHJhbnNpdGlvbkdyb3VwID0gVHJhbnNpdGlvbkdyb3VwSW1wbDtcbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzKGMpIHtcbiAgICBjb25zdCBlbCA9IGMuZWw7XG4gICAgaWYgKGVsLl9tb3ZlQ2IpIHtcbiAgICAgICAgZWwuX21vdmVDYigpO1xuICAgIH1cbiAgICBpZiAoZWwuX2VudGVyQ2IpIHtcbiAgICAgICAgZWwuX2VudGVyQ2IoKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbihjKSB7XG4gICAgbmV3UG9zaXRpb25NYXAuc2V0KGMsIGMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xufVxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbihjKSB7XG4gICAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xuICAgIGNvbnN0IG5ld1BvcyA9IG5ld1Bvc2l0aW9uTWFwLmdldChjKTtcbiAgICBjb25zdCBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gICAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcbiAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XG4gICAgICAgIHMudHJhbnNmb3JtID0gcy53ZWJraXRUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7ZHh9cHgsJHtkeX1weClgO1xuICAgICAgICBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcwcyc7XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XG4gICAgLy8gRGV0ZWN0IHdoZXRoZXIgYW4gZWxlbWVudCB3aXRoIHRoZSBtb3ZlIGNsYXNzIGFwcGxpZWQgaGFzXG4gICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nXG4gICAgLy8gdHJhbnNpdGlvbiBhdCB0aGlzIHZlcnkgbW9tZW50LCB3ZSBtYWtlIGEgY2xvbmUgb2YgaXQgYW5kIHJlbW92ZVxuICAgIC8vIGFsbCBvdGhlciB0cmFuc2l0aW9uIGNsYXNzZXMgYXBwbGllZCB0byBlbnN1cmUgb25seSB0aGUgbW92ZSBjbGFzc1xuICAgIC8vIGlzIGFwcGxpZWQuXG4gICAgY29uc3QgY2xvbmUgPSBlbC5jbG9uZU5vZGUoKTtcbiAgICBpZiAoZWwuX3Z0Yykge1xuICAgICAgICBlbC5fdnRjLmZvckVhY2goY2xzID0+IHtcbiAgICAgICAgICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbW92ZUNsYXNzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XG4gICAgY2xvbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBjb25zdCBjb250YWluZXIgPSAocm9vdC5ub2RlVHlwZSA9PT0gMSA/IHJvb3QgOiByb290LnBhcmVudE5vZGUpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgY29uc3QgeyBoYXNUcmFuc2Zvcm0gfSA9IGdldFRyYW5zaXRpb25JbmZvKGNsb25lKTtcbiAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2xvbmUpO1xuICAgIHJldHVybiBoYXNUcmFuc2Zvcm07XG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcbiAgICBjb25zdCBmbiA9IHZub2RlLnByb3BzWydvblVwZGF0ZTptb2RlbFZhbHVlJ10gfHxcbiAgICAgICAgKHZub2RlLnByb3BzWydvbk1vZGVsQ29tcGF0OmlucHV0J10pO1xuICAgIHJldHVybiBpc0FycmF5KGZuKSA/IHZhbHVlID0+IGludm9rZUFycmF5Rm5zKGZuLCB2YWx1ZSkgOiBmbjtcbn07XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xuICAgIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICBpZiAodGFyZ2V0LmNvbXBvc2luZykge1xuICAgICAgICB0YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XG4gICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7XG4gICAgfVxufVxuLy8gV2UgYXJlIGV4cG9ydGluZyB0aGUgdi1tb2RlbCBydW50aW1lIGRpcmVjdGx5IGFzIHZub2RlIGhvb2tzIHNvIHRoYXQgaXQgY2FuXG4vLyBiZSB0cmVlLXNoYWtlbiBpbiBjYXNlIHYtbW9kZWwgaXMgbmV2ZXIgdXNlZC5cbmNvbnN0IHZNb2RlbFRleHQgPSB7XG4gICAgY3JlYXRlZChlbCwgeyBtb2RpZmllcnM6IHsgbGF6eSwgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgICAgICBjb25zdCBjYXN0VG9OdW1iZXIgPSBudW1iZXIgfHwgKHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGUgPT09ICdudW1iZXInKTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbGF6eSA/ICdjaGFuZ2UnIDogJ2lucHV0JywgZSA9PiB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY29tcG9zaW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBkb21WYWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYXN0VG9OdW1iZXIpIHtcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IHRvTnVtYmVyKGRvbVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZG9tVmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZWwudmFsdWUgPSBlbC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxhenkpIHtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbmVuZCcsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICAgICAgLy8gU2FmYXJpIDwgMTAuMiAmIFVJV2ViVmlldyBkb2Vzbid0IGZpcmUgY29tcG9zaXRpb25lbmQgd2hlblxuICAgICAgICAgICAgLy8gc3dpdGNoaW5nIGZvY3VzIGJlZm9yZSBjb25maXJtaW5nIGNvbXBvc2l0aW9uIGNob2ljZVxuICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGZpeGVzIHRoZSBpc3N1ZSB3aGVyZSBzb21lIGJyb3dzZXJzIGUuZy4gaU9TIENocm9tZVxuICAgICAgICAgICAgLy8gZmlyZXMgXCJjaGFuZ2VcIiBpbnN0ZWFkIG9mIFwiaW5wdXRcIiBvbiBhdXRvY29tcGxldGUuXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIHNldCB2YWx1ZSBvbiBtb3VudGVkIHNvIGl0J3MgYWZ0ZXIgbWluL21heCBmb3IgdHlwZT1cInJhbmdlXCJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICAgICAgZWwudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICB9LFxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICAgICAgLy8gYXZvaWQgY2xlYXJpbmcgdW5yZXNvbHZlZCB0ZXh0LiAjMjMwMlxuICAgICAgICBpZiAoZWwuY29tcG9zaW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgZWwudHlwZSAhPT0gJ3JhbmdlJykge1xuICAgICAgICAgICAgaWYgKGxhenkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHJpbSAmJiBlbC52YWx1ZS50cmltKCkgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChudW1iZXIgfHwgZWwudHlwZSA9PT0gJ251bWJlcicpICYmIHRvTnVtYmVyKGVsLnZhbHVlKSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcbiAgICAvLyAjNDA5NiBhcnJheSBjaGVja2JveGVzIG5lZWQgdG8gYmUgZGVlcCB0cmF2ZXJzZWRcbiAgICBkZWVwOiB0cnVlLFxuICAgIGNyZWF0ZWQoZWwsIF8sIHZub2RlKSB7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsVmFsdWUgPSBlbC5fbW9kZWxWYWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgICAgICAgY29uc3QgYXNzaWduID0gZWwuX2Fzc2lnbjtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsb29zZUluZGV4T2YobW9kZWxWYWx1ZSwgZWxlbWVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IGluZGV4ICE9PSAtMTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKG1vZGVsVmFsdWUuY29uY2F0KGVsZW1lbnRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2hlY2tlZCAmJiBmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKGZpbHRlcmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1NldChtb2RlbFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZCA9IG5ldyBTZXQobW9kZWxWYWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmFkZChlbGVtZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3NpZ24oY2xvbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFzc2lnbihnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXG4gICAgbW91bnRlZDogc2V0Q2hlY2tlZCxcbiAgICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICAgICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBzZXRDaGVja2VkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xuICAgIGVsLl9tb2RlbFZhbHVlID0gdmFsdWU7XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgZWwuY2hlY2tlZCA9IHZhbHVlLmhhcyh2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xuICAgIH1cbn1cbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xuICAgIGNyZWF0ZWQoZWwsIHsgdmFsdWUgfSwgdm5vZGUpIHtcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgZWwuX2Fzc2lnbihnZXRWYWx1ZShlbCkpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgICAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHZNb2RlbFNlbGVjdCA9IHtcbiAgICAvLyA8c2VsZWN0IG11bHRpcGxlPiB2YWx1ZSBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gICAgZGVlcDogdHJ1ZSxcbiAgICBjcmVhdGVkKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICAgICAgY29uc3QgaXNTZXRNb2RlbCA9IGlzU2V0KHZhbHVlKTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVmFsID0gQXJyYXkucHJvdG90eXBlLmZpbHRlclxuICAgICAgICAgICAgICAgIC5jYWxsKGVsLm9wdGlvbnMsIChvKSA9PiBvLnNlbGVjdGVkKVxuICAgICAgICAgICAgICAgIC5tYXAoKG8pID0+IG51bWJlciA/IHRvTnVtYmVyKGdldFZhbHVlKG8pKSA6IGdldFZhbHVlKG8pKTtcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZWwubXVsdGlwbGVcbiAgICAgICAgICAgICAgICA/IGlzU2V0TW9kZWxcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKVxuICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkVmFsXG4gICAgICAgICAgICAgICAgOiBzZWxlY3RlZFZhbFswXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgfSxcbiAgICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXG4gICAgLy8gPG9wdGlvbj5zLlxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgICAgICBzZXRTZWxlY3RlZChlbCwgdmFsdWUpO1xuICAgIH0sXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIH0sXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSkge1xuICAgIGNvbnN0IGlzTXVsdGlwbGUgPSBlbC5tdWx0aXBsZTtcbiAgICBpZiAoaXNNdWx0aXBsZSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgIWlzU2V0KHZhbHVlKSkge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIHdhcm4kMShgPHNlbGVjdCBtdWx0aXBsZSB2LW1vZGVsPiBleHBlY3RzIGFuIEFycmF5IG9yIFNldCB2YWx1ZSBmb3IgaXRzIGJpbmRpbmcsIGAgK1xuICAgICAgICAgICAgICAgIGBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uVmFsdWUgPSBnZXRWYWx1ZShvcHRpb24pO1xuICAgICAgICBpZiAoaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLmhhcyhvcHRpb25WYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSlcbiAgICAgICAgICAgICAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgfVxufVxuLy8gcmV0cmlldmUgcmF3IHZhbHVlIHNldCB2aWEgOnZhbHVlIGJpbmRpbmdzXG5mdW5jdGlvbiBnZXRWYWx1ZShlbCkge1xuICAgIHJldHVybiAnX3ZhbHVlJyBpbiBlbCA/IGVsLl92YWx1ZSA6IGVsLnZhbHVlO1xufVxuLy8gcmV0cmlldmUgcmF3IHZhbHVlIGZvciB0cnVlLXZhbHVlIGFuZCBmYWxzZS12YWx1ZSBzZXQgdmlhIDp0cnVlLXZhbHVlIG9yIDpmYWxzZS12YWx1ZSBiaW5kaW5nc1xuZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkge1xuICAgIGNvbnN0IGtleSA9IGNoZWNrZWQgPyAnX3RydWVWYWx1ZScgOiAnX2ZhbHNlVmFsdWUnO1xuICAgIHJldHVybiBrZXkgaW4gZWwgPyBlbFtrZXldIDogY2hlY2tlZDtcbn1cbmNvbnN0IHZNb2RlbER5bmFtaWMgPSB7XG4gICAgY3JlYXRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsICdjcmVhdGVkJyk7XG4gICAgfSxcbiAgICBtb3VudGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgJ21vdW50ZWQnKTtcbiAgICB9LFxuICAgIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCAnYmVmb3JlVXBkYXRlJyk7XG4gICAgfSxcbiAgICB1cGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsICd1cGRhdGVkJyk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljTW9kZWwodGFnTmFtZSwgdHlwZSkge1xuICAgIHN3aXRjaCAodGFnTmFtZSkge1xuICAgICAgICBjYXNlICdTRUxFQ1QnOlxuICAgICAgICAgICAgcmV0dXJuIHZNb2RlbFNlbGVjdDtcbiAgICAgICAgY2FzZSAnVEVYVEFSRUEnOlxuICAgICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2TW9kZWxDaGVja2JveDtcbiAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2TW9kZWxSYWRpbztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdk1vZGVsVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBob29rKSB7XG4gICAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoZWwudGFnTmFtZSwgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZSk7XG4gICAgY29uc3QgZm4gPSBtb2RlbFRvVXNlW2hvb2tdO1xuICAgIGZuICYmIGZuKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKTtcbn1cbi8vIFNTUiB2bm9kZSB0cmFuc2Zvcm1zLCBvbmx5IHVzZWQgd2hlbiB1c2VyIGluY2x1ZGVzIGNsaWVudC1vcmllbnRlZCByZW5kZXJcbi8vIGZ1bmN0aW9uIGluIFNTUlxuZnVuY3Rpb24gaW5pdFZNb2RlbEZvclNTUigpIHtcbiAgICB2TW9kZWxUZXh0LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSkgPT4gKHsgdmFsdWUgfSk7XG4gICAgdk1vZGVsUmFkaW8uZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgICAgICBpZiAodm5vZGUucHJvcHMgJiYgbG9vc2VFcXVhbCh2bm9kZS5wcm9wcy52YWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZNb2RlbENoZWNrYm94LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSwgdm5vZGUpID0+IHtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodm5vZGUucHJvcHMgJiYgbG9vc2VJbmRleE9mKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSkgPiAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2bm9kZS5wcm9wcyAmJiB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZNb2RlbER5bmFtaWMuZ2V0U1NSUHJvcHMgPSAoYmluZGluZywgdm5vZGUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2bm9kZS50eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVsVG9Vc2UgPSByZXNvbHZlRHluYW1pY01vZGVsKFxuICAgICAgICAvLyByZXNvbHZlRHluYW1pY01vZGVsIGV4cGVjdHMgYW4gdXBwZXJjYXNlIHRhZyBuYW1lLCBidXQgdm5vZGUudHlwZSBpcyBsb3dlcmNhc2VcbiAgICAgICAgdm5vZGUudHlwZS50b1VwcGVyQ2FzZSgpLCB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlKTtcbiAgICAgICAgaWYgKG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbFRvVXNlLmdldFNTUlByb3BzKGJpbmRpbmcsIHZub2RlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFsnY3RybCcsICdzaGlmdCcsICdhbHQnLCAnbWV0YSddO1xuY29uc3QgbW9kaWZpZXJHdWFyZHMgPSB7XG4gICAgc3RvcDogZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLFxuICAgIHByZXZlbnQ6IGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICAgIHNlbGY6IGUgPT4gZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCxcbiAgICBjdHJsOiBlID0+ICFlLmN0cmxLZXksXG4gICAgc2hpZnQ6IGUgPT4gIWUuc2hpZnRLZXksXG4gICAgYWx0OiBlID0+ICFlLmFsdEtleSxcbiAgICBtZXRhOiBlID0+ICFlLm1ldGFLZXksXG4gICAgbGVmdDogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAwLFxuICAgIG1pZGRsZTogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxuICAgIHJpZ2h0OiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDIsXG4gICAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKG0gPT4gZVtgJHttfUtleWBdICYmICFtb2RpZmllcnMuaW5jbHVkZXMobSkpXG59O1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBndWFyZCA9IG1vZGlmaWVyR3VhcmRzW21vZGlmaWVyc1tpXV07XG4gICAgICAgICAgICBpZiAoZ3VhcmQgJiYgZ3VhcmQoZXZlbnQsIG1vZGlmaWVycykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbihldmVudCwgLi4uYXJncyk7XG4gICAgfTtcbn07XG4vLyBLZXB0IGZvciAyLnggY29tcGF0LlxuLy8gTm90ZTogSUUxMSBjb21wYXQgZm9yIGBzcGFjZWJhcmAgYW5kIGBkZWxgIGlzIHJlbW92ZWQgZm9yIG5vdy5cbmNvbnN0IGtleU5hbWVzID0ge1xuICAgIGVzYzogJ2VzY2FwZScsXG4gICAgc3BhY2U6ICcgJyxcbiAgICB1cDogJ2Fycm93LXVwJyxcbiAgICBsZWZ0OiAnYXJyb3ctbGVmdCcsXG4gICAgcmlnaHQ6ICdhcnJvdy1yaWdodCcsXG4gICAgZG93bjogJ2Fycm93LWRvd24nLFxuICAgIGRlbGV0ZTogJ2JhY2tzcGFjZSdcbn07XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHdpdGhLZXlzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgICBsZXQgZ2xvYmFsS2V5Q29kZXM7XG4gICAgbGV0IGluc3RhbmNlID0gbnVsbDtcbiAgICB7XG4gICAgICAgIGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGlmIChjb21wYXRVdGlscy5pc0NvbXBhdEVuYWJsZWQoXCJDT05GSUdfS0VZX0NPREVTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfS0VZX0NPREVTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGdsb2JhbEtleUNvZGVzID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcua2V5Q29kZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtb2RpZmllcnMuc29tZShtID0+IC9eXFxkKyQvLnRlc3QobSkpKSB7XG4gICAgICAgICAgICBjb21wYXRVdGlscy53YXJuRGVwcmVjYXRpb24oXCJWX09OX0tFWUNPREVfTU9ESUZJRVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLlZfT05fS0VZQ09ERV9NT0RJRklFUiAqLywgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCEoJ2tleScgaW4gZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXZlbnRLZXkgPSBoeXBoZW5hdGUoZXZlbnQua2V5KTtcbiAgICAgICAgaWYgKG1vZGlmaWVycy5zb21lKGsgPT4gayA9PT0gZXZlbnRLZXkgfHwga2V5TmFtZXNba10gPT09IGV2ZW50S2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZuKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBrZXlDb2RlID0gU3RyaW5nKGV2ZW50LmtleUNvZGUpO1xuICAgICAgICAgICAgaWYgKGNvbXBhdFV0aWxzLmlzQ29tcGF0RW5hYmxlZChcIlZfT05fS0VZQ09ERV9NT0RJRklFUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuVl9PTl9LRVlDT0RFX01PRElGSUVSICovLCBpbnN0YW5jZSkgJiZcbiAgICAgICAgICAgICAgICBtb2RpZmllcnMuc29tZShtb2QgPT4gbW9kID09IGtleUNvZGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnbG9iYWxLZXlDb2Rlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbW9kIG9mIG1vZGlmaWVycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlcyA9IGdsb2JhbEtleUNvZGVzW21vZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGlzQXJyYXkoY29kZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjb2Rlcy5zb21lKGNvZGUgPT4gU3RyaW5nKGNvZGUpID09PSBrZXlDb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGNvZGVzKSA9PT0ga2V5Q29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5jb25zdCB2U2hvdyA9IHtcbiAgICBiZWZvcmVNb3VudChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgICAgICBlbC5fdm9kID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xuICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGVkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgICAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24ubGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBiZWZvcmVVbm1vdW50KGVsLCB7IHZhbHVlIH0pIHtcbiAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBzZXREaXNwbGF5KGVsLCB2YWx1ZSkge1xuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsLl92b2QgOiAnbm9uZSc7XG59XG4vLyBTU1Igdm5vZGUgdHJhbnNmb3Jtcywgb25seSB1c2VkIHdoZW4gdXNlciBpbmNsdWRlcyBjbGllbnQtb3JpZW50ZWQgcmVuZGVyXG4vLyBmdW5jdGlvbiBpbiBTU1JcbmZ1bmN0aW9uIGluaXRWU2hvd0ZvclNTUigpIHtcbiAgICB2U2hvdy5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0gfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IHJlbmRlcmVyT3B0aW9ucyA9IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHsgcGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xuLy8gbGF6eSBjcmVhdGUgdGhlIHJlbmRlcmVyIC0gdGhpcyBtYWtlcyBjb3JlIHJlbmRlcmVyIGxvZ2ljIHRyZWUtc2hha2FibGVcbi8vIGluIGNhc2UgdGhlIHVzZXIgb25seSBpbXBvcnRzIHJlYWN0aXZpdHkgdXRpbGl0aWVzIGZyb20gVnVlLlxubGV0IHJlbmRlcmVyO1xubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xuICAgIHJldHVybiAocmVuZGVyZXIgfHxcbiAgICAgICAgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSkpO1xufVxuZnVuY3Rpb24gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKSB7XG4gICAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uXG4gICAgICAgID8gcmVuZGVyZXJcbiAgICAgICAgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xuICAgIGVuYWJsZWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHJldHVybiByZW5kZXJlcjtcbn1cbi8vIHVzZSBleHBsaWNpdCB0eXBlIGNhc3RzIGhlcmUgdG8gYXZvaWQgaW1wb3J0KCkgY2FsbHMgaW4gcm9sbGVkLXVwIGQudHNcbmNvbnN0IHJlbmRlciA9ICgoLi4uYXJncykgPT4ge1xuICAgIGVuc3VyZVJlbmRlcmVyKCkucmVuZGVyKC4uLmFyZ3MpO1xufSk7XG5jb25zdCBoeWRyYXRlID0gKCguLi5hcmdzKSA9PiB7XG4gICAgZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5oeWRyYXRlKC4uLmFyZ3MpO1xufSk7XG5jb25zdCBjcmVhdGVBcHAgPSAoKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBhcHAgPSBlbnN1cmVSZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gICAgfVxuICAgIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcbiAgICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XG4gICAgICAgIGlmICghY29udGFpbmVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBhcHAuX2NvbXBvbmVudDtcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgLy8gX19VTlNBRkVfX1xuICAgICAgICAgICAgLy8gUmVhc29uOiBwb3RlbnRpYWwgZXhlY3V0aW9uIG9mIEpTIGV4cHJlc3Npb25zIGluIGluLURPTSB0ZW1wbGF0ZS5cbiAgICAgICAgICAgIC8vIFRoZSB1c2VyIG11c3QgbWFrZSBzdXJlIHRoZSBpbi1ET00gdGVtcGxhdGUgaXMgdHJ1c3RlZC4gSWYgaXQnc1xuICAgICAgICAgICAgLy8gcmVuZGVyZWQgYnkgdGhlIHNlcnZlciwgdGhlIHRlbXBsYXRlIHNob3VsZCBub3QgY29udGFpbiBhbnkgdXNlciBkYXRhLlxuICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcbiAgICAgICAgICAgIC8vIDIueCBjb21wYXQgY2hlY2tcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lci5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBjb250YWluZXIuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHIubmFtZSAhPT0gJ3YtY2xvYWsnICYmIC9eKHYtfDp8QCkvLnRlc3QoYXR0ci5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGF0VXRpbHMud2FybkRlcHJlY2F0aW9uKFwiR0xPQkFMX01PVU5UX0NPTlRBSU5FUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX01PVU5UX0NPTlRBSU5FUiAqLywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjbGVhciBjb250ZW50IGJlZm9yZSBtb3VudGluZ1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyLCBmYWxzZSwgY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudCk7XG4gICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCd2LWNsb2FrJyk7XG4gICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXYtYXBwJywgJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm94eTtcbiAgICB9O1xuICAgIHJldHVybiBhcHA7XG59KTtcbmNvbnN0IGNyZWF0ZVNTUkFwcCA9ICgoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGFwcCA9IGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcbiAgICAgICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgICB9XG4gICAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICAgIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuIG1vdW50KGNvbnRhaW5lciwgdHJ1ZSwgY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBhcHA7XG59KTtcbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xuICAgIC8vIEluamVjdCBgaXNOYXRpdmVUYWdgXG4gICAgLy8gdGhpcyBpcyB1c2VkIGZvciBjb21wb25lbnQgbmFtZSB2YWxpZGF0aW9uIChkZXYgb25seSlcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2lzTmF0aXZlVGFnJywge1xuICAgICAgICB2YWx1ZTogKHRhZykgPT4gaXNIVE1MVGFnKHRhZykgfHwgaXNTVkdUYWcodGFnKSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG59XG4vLyBkZXYgb25seVxuZnVuY3Rpb24gaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKSB7XG4gICAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBhcHAuY29uZmlnLmlzQ3VzdG9tRWxlbWVudDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsICdpc0N1c3RvbUVsZW1lbnQnLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzQ3VzdG9tRWxlbWVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBUaGUgXFxgaXNDdXN0b21FbGVtZW50XFxgIGNvbmZpZyBvcHRpb24gaXMgZGVwcmVjYXRlZC4gVXNlIGAgK1xuICAgICAgICAgICAgICAgICAgICBgXFxgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudFxcYCBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gYXBwLmNvbmZpZy5jb21waWxlck9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1zZyA9IGBUaGUgXFxgY29tcGlsZXJPcHRpb25zXFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyBgICtcbiAgICAgICAgICAgIGBhIGJ1aWxkIG9mIFZ1ZS5qcyB0aGF0IGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyIChha2EgXCJmdWxsIGJ1aWxkXCIpLiBgICtcbiAgICAgICAgICAgIGBTaW5jZSB5b3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQsIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBgICtcbiAgICAgICAgICAgIGBtdXN0IGJlIHBhc3NlZCB0byBcXGBAdnVlL2NvbXBpbGVyLWRvbVxcYCBpbiB0aGUgYnVpbGQgc2V0dXAgaW5zdGVhZC5cXG5gICtcbiAgICAgICAgICAgIGAtIEZvciB2dWUtbG9hZGVyOiBwYXNzIGl0IHZpYSB2dWUtbG9hZGVyJ3MgXFxgY29tcGlsZXJPcHRpb25zXFxgIGxvYWRlciBvcHRpb24uXFxuYCArXG4gICAgICAgICAgICBgLSBGb3IgdnVlLWNsaTogc2VlIGh0dHBzOi8vY2xpLnZ1ZWpzLm9yZy9ndWlkZS93ZWJwYWNrLmh0bWwjbW9kaWZ5aW5nLW9wdGlvbnMtb2YtYS1sb2FkZXJcXG5gICtcbiAgICAgICAgICAgIGAtIEZvciB2aXRlOiBwYXNzIGl0IHZpYSBAdml0ZWpzL3BsdWdpbi12dWUgb3B0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS90cmVlL21haW4vcGFja2FnZXMvcGx1Z2luLXZ1ZSNleGFtcGxlLWZvci1wYXNzaW5nLW9wdGlvbnMtdG8tdnVlY29tcGlsZXItZG9tYDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsICdjb21waWxlck9wdGlvbnMnLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKG1zZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVyT3B0aW9ucztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKG1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICBpZiAoaXNTdHJpbmcoY29udGFpbmVyKSkge1xuICAgICAgICBjb25zdCByZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXJlcykge1xuICAgICAgICAgICAgd2FybiQxKGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgXCIke2NvbnRhaW5lcn1cIiByZXR1cm5lZCBudWxsLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgd2luZG93LlNoYWRvd1Jvb3QgJiZcbiAgICAgICAgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiZcbiAgICAgICAgY29udGFpbmVyLm1vZGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgIHdhcm4kMShgbW91bnRpbmcgb24gYSBTaGFkb3dSb290IHdpdGggXFxge21vZGU6IFwiY2xvc2VkXCJ9XFxgIG1heSBsZWFkIHRvIHVucHJlZGljdGFibGUgYnVnc2ApO1xuICAgIH1cbiAgICByZXR1cm4gY29udGFpbmVyO1xufVxubGV0IHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gZmFsc2U7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBpbml0RGlyZWN0aXZlc0ZvclNTUiA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFzc3JEaXJlY3RpdmVJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaW5pdFZNb2RlbEZvclNTUigpO1xuICAgICAgICAgICAgaW5pdFZTaG93Rm9yU1NSKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgO1xuXG52YXIgcnVudGltZURvbSA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICByZW5kZXI6IHJlbmRlcixcbiAgaHlkcmF0ZTogaHlkcmF0ZSxcbiAgY3JlYXRlQXBwOiBjcmVhdGVBcHAsXG4gIGNyZWF0ZVNTUkFwcDogY3JlYXRlU1NSQXBwLFxuICBpbml0RGlyZWN0aXZlc0ZvclNTUjogaW5pdERpcmVjdGl2ZXNGb3JTU1IsXG4gIGRlZmluZUN1c3RvbUVsZW1lbnQ6IGRlZmluZUN1c3RvbUVsZW1lbnQsXG4gIGRlZmluZVNTUkN1c3RvbUVsZW1lbnQ6IGRlZmluZVNTUkN1c3RvbUVsZW1lbnQsXG4gIFZ1ZUVsZW1lbnQ6IFZ1ZUVsZW1lbnQsXG4gIHVzZUNzc01vZHVsZTogdXNlQ3NzTW9kdWxlLFxuICB1c2VDc3NWYXJzOiB1c2VDc3NWYXJzLFxuICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxuICBUcmFuc2l0aW9uR3JvdXA6IFRyYW5zaXRpb25Hcm91cCxcbiAgdk1vZGVsVGV4dDogdk1vZGVsVGV4dCxcbiAgdk1vZGVsQ2hlY2tib3g6IHZNb2RlbENoZWNrYm94LFxuICB2TW9kZWxSYWRpbzogdk1vZGVsUmFkaW8sXG4gIHZNb2RlbFNlbGVjdDogdk1vZGVsU2VsZWN0LFxuICB2TW9kZWxEeW5hbWljOiB2TW9kZWxEeW5hbWljLFxuICB3aXRoTW9kaWZpZXJzOiB3aXRoTW9kaWZpZXJzLFxuICB3aXRoS2V5czogd2l0aEtleXMsXG4gIHZTaG93OiB2U2hvdyxcbiAgcmVhY3RpdmU6IHJlYWN0aXZlLFxuICByZWY6IHJlZixcbiAgcmVhZG9ubHk6IHJlYWRvbmx5LFxuICB1bnJlZjogdW5yZWYsXG4gIHByb3h5UmVmczogcHJveHlSZWZzLFxuICBpc1JlZjogaXNSZWYsXG4gIHRvUmVmOiB0b1JlZixcbiAgdG9SZWZzOiB0b1JlZnMsXG4gIGlzUHJveHk6IGlzUHJveHksXG4gIGlzUmVhY3RpdmU6IGlzUmVhY3RpdmUsXG4gIGlzUmVhZG9ubHk6IGlzUmVhZG9ubHksXG4gIGlzU2hhbGxvdzogaXNTaGFsbG93LFxuICBjdXN0b21SZWY6IGN1c3RvbVJlZixcbiAgdHJpZ2dlclJlZjogdHJpZ2dlclJlZixcbiAgc2hhbGxvd1JlZjogc2hhbGxvd1JlZixcbiAgc2hhbGxvd1JlYWN0aXZlOiBzaGFsbG93UmVhY3RpdmUsXG4gIHNoYWxsb3dSZWFkb25seTogc2hhbGxvd1JlYWRvbmx5LFxuICBtYXJrUmF3OiBtYXJrUmF3LFxuICB0b1JhdzogdG9SYXcsXG4gIGVmZmVjdDogZWZmZWN0LFxuICBzdG9wOiBzdG9wLFxuICBSZWFjdGl2ZUVmZmVjdDogUmVhY3RpdmVFZmZlY3QsXG4gIGVmZmVjdFNjb3BlOiBlZmZlY3RTY29wZSxcbiAgRWZmZWN0U2NvcGU6IEVmZmVjdFNjb3BlLFxuICBnZXRDdXJyZW50U2NvcGU6IGdldEN1cnJlbnRTY29wZSxcbiAgb25TY29wZURpc3Bvc2U6IG9uU2NvcGVEaXNwb3NlLFxuICBjb21wdXRlZDogY29tcHV0ZWQkMSxcbiAgd2F0Y2g6IHdhdGNoLFxuICB3YXRjaEVmZmVjdDogd2F0Y2hFZmZlY3QsXG4gIHdhdGNoUG9zdEVmZmVjdDogd2F0Y2hQb3N0RWZmZWN0LFxuICB3YXRjaFN5bmNFZmZlY3Q6IHdhdGNoU3luY0VmZmVjdCxcbiAgb25CZWZvcmVNb3VudDogb25CZWZvcmVNb3VudCxcbiAgb25Nb3VudGVkOiBvbk1vdW50ZWQsXG4gIG9uQmVmb3JlVXBkYXRlOiBvbkJlZm9yZVVwZGF0ZSxcbiAgb25VcGRhdGVkOiBvblVwZGF0ZWQsXG4gIG9uQmVmb3JlVW5tb3VudDogb25CZWZvcmVVbm1vdW50LFxuICBvblVubW91bnRlZDogb25Vbm1vdW50ZWQsXG4gIG9uQWN0aXZhdGVkOiBvbkFjdGl2YXRlZCxcbiAgb25EZWFjdGl2YXRlZDogb25EZWFjdGl2YXRlZCxcbiAgb25SZW5kZXJUcmFja2VkOiBvblJlbmRlclRyYWNrZWQsXG4gIG9uUmVuZGVyVHJpZ2dlcmVkOiBvblJlbmRlclRyaWdnZXJlZCxcbiAgb25FcnJvckNhcHR1cmVkOiBvbkVycm9yQ2FwdHVyZWQsXG4gIG9uU2VydmVyUHJlZmV0Y2g6IG9uU2VydmVyUHJlZmV0Y2gsXG4gIHByb3ZpZGU6IHByb3ZpZGUsXG4gIGluamVjdDogaW5qZWN0LFxuICBuZXh0VGljazogbmV4dFRpY2ssXG4gIGRlZmluZUNvbXBvbmVudDogZGVmaW5lQ29tcG9uZW50LFxuICBkZWZpbmVBc3luY0NvbXBvbmVudDogZGVmaW5lQXN5bmNDb21wb25lbnQsXG4gIHVzZUF0dHJzOiB1c2VBdHRycyxcbiAgdXNlU2xvdHM6IHVzZVNsb3RzLFxuICBkZWZpbmVQcm9wczogZGVmaW5lUHJvcHMsXG4gIGRlZmluZUVtaXRzOiBkZWZpbmVFbWl0cyxcbiAgZGVmaW5lRXhwb3NlOiBkZWZpbmVFeHBvc2UsXG4gIHdpdGhEZWZhdWx0czogd2l0aERlZmF1bHRzLFxuICBtZXJnZURlZmF1bHRzOiBtZXJnZURlZmF1bHRzLFxuICBjcmVhdGVQcm9wc1Jlc3RQcm94eTogY3JlYXRlUHJvcHNSZXN0UHJveHksXG4gIHdpdGhBc3luY0NvbnRleHQ6IHdpdGhBc3luY0NvbnRleHQsXG4gIGdldEN1cnJlbnRJbnN0YW5jZTogZ2V0Q3VycmVudEluc3RhbmNlLFxuICBoOiBoLFxuICBjcmVhdGVWTm9kZTogY3JlYXRlVk5vZGUsXG4gIGNsb25lVk5vZGU6IGNsb25lVk5vZGUsXG4gIG1lcmdlUHJvcHM6IG1lcmdlUHJvcHMsXG4gIGlzVk5vZGU6IGlzVk5vZGUsXG4gIEZyYWdtZW50OiBGcmFnbWVudCxcbiAgVGV4dDogVGV4dCxcbiAgQ29tbWVudDogQ29tbWVudCxcbiAgU3RhdGljOiBTdGF0aWMsXG4gIFRlbGVwb3J0OiBUZWxlcG9ydCxcbiAgU3VzcGVuc2U6IFN1c3BlbnNlLFxuICBLZWVwQWxpdmU6IEtlZXBBbGl2ZSxcbiAgQmFzZVRyYW5zaXRpb246IEJhc2VUcmFuc2l0aW9uLFxuICB3aXRoRGlyZWN0aXZlczogd2l0aERpcmVjdGl2ZXMsXG4gIHVzZVNTUkNvbnRleHQ6IHVzZVNTUkNvbnRleHQsXG4gIHNzckNvbnRleHRLZXk6IHNzckNvbnRleHRLZXksXG4gIGNyZWF0ZVJlbmRlcmVyOiBjcmVhdGVSZW5kZXJlcixcbiAgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXI6IGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLFxuICBxdWV1ZVBvc3RGbHVzaENiOiBxdWV1ZVBvc3RGbHVzaENiLFxuICB3YXJuOiB3YXJuJDEsXG4gIGhhbmRsZUVycm9yOiBoYW5kbGVFcnJvcixcbiAgY2FsbFdpdGhFcnJvckhhbmRsaW5nOiBjYWxsV2l0aEVycm9ySGFuZGxpbmcsXG4gIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nOiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyxcbiAgcmVzb2x2ZUNvbXBvbmVudDogcmVzb2x2ZUNvbXBvbmVudCxcbiAgcmVzb2x2ZURpcmVjdGl2ZTogcmVzb2x2ZURpcmVjdGl2ZSxcbiAgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQ6IHJlc29sdmVEeW5hbWljQ29tcG9uZW50LFxuICByZWdpc3RlclJ1bnRpbWVDb21waWxlcjogcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsXG4gIGlzUnVudGltZU9ubHk6IGlzUnVudGltZU9ubHksXG4gIHVzZVRyYW5zaXRpb25TdGF0ZTogdXNlVHJhbnNpdGlvblN0YXRlLFxuICByZXNvbHZlVHJhbnNpdGlvbkhvb2tzOiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLFxuICBzZXRUcmFuc2l0aW9uSG9va3M6IHNldFRyYW5zaXRpb25Ib29rcyxcbiAgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuOiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sXG4gIGluaXRDdXN0b21Gb3JtYXR0ZXI6IGluaXRDdXN0b21Gb3JtYXR0ZXIsXG4gIGdldCBkZXZ0b29scyAoKSB7IHJldHVybiBkZXZ0b29sczsgfSxcbiAgc2V0RGV2dG9vbHNIb29rOiBzZXREZXZ0b29sc0hvb2ssXG4gIHdpdGhDdHg6IHdpdGhDdHgsXG4gIHB1c2hTY29wZUlkOiBwdXNoU2NvcGVJZCxcbiAgcG9wU2NvcGVJZDogcG9wU2NvcGVJZCxcbiAgd2l0aFNjb3BlSWQ6IHdpdGhTY29wZUlkLFxuICByZW5kZXJMaXN0OiByZW5kZXJMaXN0LFxuICB0b0hhbmRsZXJzOiB0b0hhbmRsZXJzLFxuICByZW5kZXJTbG90OiByZW5kZXJTbG90LFxuICBjcmVhdGVTbG90czogY3JlYXRlU2xvdHMsXG4gIHdpdGhNZW1vOiB3aXRoTWVtbyxcbiAgaXNNZW1vU2FtZTogaXNNZW1vU2FtZSxcbiAgb3BlbkJsb2NrOiBvcGVuQmxvY2ssXG4gIGNyZWF0ZUJsb2NrOiBjcmVhdGVCbG9jayxcbiAgc2V0QmxvY2tUcmFja2luZzogc2V0QmxvY2tUcmFja2luZyxcbiAgY3JlYXRlVGV4dFZOb2RlOiBjcmVhdGVUZXh0Vk5vZGUsXG4gIGNyZWF0ZUNvbW1lbnRWTm9kZTogY3JlYXRlQ29tbWVudFZOb2RlLFxuICBjcmVhdGVTdGF0aWNWTm9kZTogY3JlYXRlU3RhdGljVk5vZGUsXG4gIGNyZWF0ZUVsZW1lbnRWTm9kZTogY3JlYXRlQmFzZVZOb2RlLFxuICBjcmVhdGVFbGVtZW50QmxvY2s6IGNyZWF0ZUVsZW1lbnRCbG9jayxcbiAgZ3VhcmRSZWFjdGl2ZVByb3BzOiBndWFyZFJlYWN0aXZlUHJvcHMsXG4gIHRvRGlzcGxheVN0cmluZzogdG9EaXNwbGF5U3RyaW5nLFxuICBjYW1lbGl6ZTogY2FtZWxpemUsXG4gIGNhcGl0YWxpemU6IGNhcGl0YWxpemUsXG4gIHRvSGFuZGxlcktleTogdG9IYW5kbGVyS2V5LFxuICBub3JtYWxpemVQcm9wczogbm9ybWFsaXplUHJvcHMsXG4gIG5vcm1hbGl6ZUNsYXNzOiBub3JtYWxpemVDbGFzcyxcbiAgbm9ybWFsaXplU3R5bGU6IG5vcm1hbGl6ZVN0eWxlLFxuICB0cmFuc2Zvcm1WTm9kZUFyZ3M6IHRyYW5zZm9ybVZOb2RlQXJncyxcbiAgdmVyc2lvbjogdmVyc2lvbixcbiAgc3NyVXRpbHM6IHNzclV0aWxzLFxuICByZXNvbHZlRmlsdGVyOiByZXNvbHZlRmlsdGVyJDEsXG4gIGNvbXBhdFV0aWxzOiBjb21wYXRVdGlsc1xufSk7XG5cbmZ1bmN0aW9uIGluaXREZXYoKSB7XG4gICAge1xuICAgICAgICBpbml0Q3VzdG9tRm9ybWF0dGVyKCk7XG4gICAgfVxufVxuXG4vLyBUaGlzIGVudHJ5IGV4cG9ydHMgdGhlIHJ1bnRpbWUgb25seSwgYW5kIGlzIGJ1aWx0IGFzXG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgaW5pdERldigpO1xufVxuZnVuY3Rpb24gd3JhcHBlZENyZWF0ZUFwcCguLi5hcmdzKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgICBpZiAoY29tcGF0VXRpbHMuaXNDb21wYXRFbmFibGVkKFwiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi8sIG51bGwpKSB7XG4gICAgICAgIC8vIHJlZ2lzdGVyIGJ1aWx0LWluIGNvbXBvbmVudHMgc28gdGhhdCB0aGV5IGNhbiBiZSByZXNvbHZlZCB2aWEgc3RyaW5nc1xuICAgICAgICAvLyBpbiB0aGUgbGVnYWN5IGgoKSBjYWxsLiBUaGUgX19jb21wYXRfXyBwcmVmaXggaXMgdG8gZW5zdXJlIHRoYXQgdjMgaCgpXG4gICAgICAgIC8vIGRvZXNuJ3QgZ2V0IGFmZmVjdGVkLlxuICAgICAgICBhcHAuY29tcG9uZW50KCdfX2NvbXBhdF9fdHJhbnNpdGlvbicsIFRyYW5zaXRpb24pO1xuICAgICAgICBhcHAuY29tcG9uZW50KCdfX2NvbXBhdF9fdHJhbnNpdGlvbi1ncm91cCcsIFRyYW5zaXRpb25Hcm91cCk7XG4gICAgICAgIGFwcC5jb21wb25lbnQoJ19fY29tcGF0X19rZWVwLWFsaXZlJywgS2VlcEFsaXZlKTtcbiAgICAgICAgLy8gYnVpbHQtaW4gZGlyZWN0aXZlcy4gTm8gbmVlZCBmb3IgcHJlZml4IHNpbmNlIHRoZXJlJ3Mgbm8gcmVuZGVyIGZuIEFQSVxuICAgICAgICAvLyBmb3IgcmVzb2x2aW5nIGRpcmVjdGl2ZXMgdmlhIHN0cmluZyBpbiB2My5cbiAgICAgICAgYXBwLl9jb250ZXh0LmRpcmVjdGl2ZXMuc2hvdyA9IHZTaG93O1xuICAgICAgICBhcHAuX2NvbnRleHQuZGlyZWN0aXZlcy5tb2RlbCA9IHZNb2RlbER5bmFtaWM7XG4gICAgfVxuICAgIHJldHVybiBhcHA7XG59XG5mdW5jdGlvbiBjcmVhdGVDb21wYXRWdWUkMSgpIHtcbiAgICBjb25zdCBWdWUgPSBjb21wYXRVdGlscy5jcmVhdGVDb21wYXRWdWUoY3JlYXRlQXBwLCB3cmFwcGVkQ3JlYXRlQXBwKTtcbiAgICBleHRlbmQoVnVlLCBydW50aW1lRG9tKTtcbiAgICByZXR1cm4gVnVlO1xufVxuXG4vLyBUaGlzIGVudHJ5IGV4cG9ydHMgdGhlIHJ1bnRpbWUgb25seSwgYW5kIGlzIGJ1aWx0IGFzXG5jb25zdCBWdWUgPSBjcmVhdGVDb21wYXRWdWUkMSgpO1xuVnVlLmNvbXBpbGUgPSAoKCkgPT4ge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybiQxKGBSdW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXG4gICAgICAgICAgICAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJAdnVlL2NvbXBhdC9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmBcbiAgICAgICAgICAgICAgICApIC8qIHNob3VsZCBub3QgaGFwcGVuICovKTtcbiAgICB9XG59KTtcblxuY29uc3QgeyBjb25maWd1cmVDb21wYXQ6IGNvbmZpZ3VyZUNvbXBhdCQxIH0gPSBWdWU7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZTtcbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBDb21tZW50LCBFZmZlY3RTY29wZSwgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgUmVhY3RpdmVFZmZlY3QsIFN0YXRpYywgU3VzcGVuc2UsIFRlbGVwb3J0LCBUZXh0LCBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIFZ1ZUVsZW1lbnQsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBjYWxsV2l0aEVycm9ySGFuZGxpbmcsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBjbG9uZVZOb2RlLCBjb21wYXRVdGlscywgY29tcHV0ZWQkMSBhcyBjb21wdXRlZCwgY29uZmlndXJlQ29tcGF0JDEgYXMgY29uZmlndXJlQ29tcGF0LCBjcmVhdGVBcHAsIGNyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQmFzZVZOb2RlIGFzIGNyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIsIGNyZWF0ZVByb3BzUmVzdFByb3h5LCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlU1NSQXBwLCBjcmVhdGVTbG90cywgY3JlYXRlU3RhdGljVk5vZGUsIGNyZWF0ZVRleHRWTm9kZSwgY3JlYXRlVk5vZGUsIGN1c3RvbVJlZiwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVmaW5lQ3VzdG9tRWxlbWVudCwgZGVmaW5lRW1pdHMsIGRlZmluZUV4cG9zZSwgZGVmaW5lUHJvcHMsIGRlZmluZVNTUkN1c3RvbUVsZW1lbnQsIGRldnRvb2xzLCBlZmZlY3QsIGVmZmVjdFNjb3BlLCBnZXRDdXJyZW50SW5zdGFuY2UsIGdldEN1cnJlbnRTY29wZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBndWFyZFJlYWN0aXZlUHJvcHMsIGgsIGhhbmRsZUVycm9yLCBoeWRyYXRlLCBpbml0Q3VzdG9tRm9ybWF0dGVyLCBpbml0RGlyZWN0aXZlc0ZvclNTUiwgaW5qZWN0LCBpc01lbW9TYW1lLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNSdW50aW1lT25seSwgaXNTaGFsbG93LCBpc1ZOb2RlLCBtYXJrUmF3LCBtZXJnZURlZmF1bHRzLCBtZXJnZVByb3BzLCBuZXh0VGljaywgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgb25BY3RpdmF0ZWQsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25CZWZvcmVVcGRhdGUsIG9uRGVhY3RpdmF0ZWQsIG9uRXJyb3JDYXB0dXJlZCwgb25Nb3VudGVkLCBvblJlbmRlclRyYWNrZWQsIG9uUmVuZGVyVHJpZ2dlcmVkLCBvblNjb3BlRGlzcG9zZSwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwcm94eVJlZnMsIHB1c2hTY29wZUlkLCBxdWV1ZVBvc3RGbHVzaENiLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlciwgcmVuZGVyTGlzdCwgcmVuZGVyU2xvdCwgcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIHJlc29sdmVGaWx0ZXIkMSBhcyByZXNvbHZlRmlsdGVyLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHNzckNvbnRleHRLZXksIHNzclV0aWxzLCBzdG9wLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSwgdG9IYW5kbGVycywgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdHJpZ2dlclJlZiwgdW5yZWYsIHVzZUF0dHJzLCB1c2VDc3NNb2R1bGUsIHVzZUNzc1ZhcnMsIHVzZVNTUkNvbnRleHQsIHVzZVNsb3RzLCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZNb2RlbENoZWNrYm94LCB2TW9kZWxEeW5hbWljLCB2TW9kZWxSYWRpbywgdk1vZGVsU2VsZWN0LCB2TW9kZWxUZXh0LCB2U2hvdywgdmVyc2lvbiwgd2FybiQxIGFzIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2F0Y2hQb3N0RWZmZWN0LCB3YXRjaFN5bmNFZmZlY3QsIHdpdGhBc3luY0NvbnRleHQsIHdpdGhDdHgsIHdpdGhEZWZhdWx0cywgd2l0aERpcmVjdGl2ZXMsIHdpdGhLZXlzLCB3aXRoTWVtbywgd2l0aE1vZGlmaWVycywgd2l0aFNjb3BlSWQgfTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiLCBbXCJtb2R1bGVcIl0sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZmFjdG9yeShtb2R1bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBtb2QgPSB7XG4gICAgICBleHBvcnRzOiB7fVxuICAgIH07XG4gICAgZmFjdG9yeShtb2QpO1xuICAgIGdsb2JhbC5icm93c2VyID0gbW9kLmV4cG9ydHM7XG4gIH1cbn0pKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgLyogd2ViZXh0ZW5zaW9uLXBvbHlmaWxsIC0gdjAuMTAuMCAtIEZyaSBBdWcgMTIgMjAyMiAxOTo0Mjo0NCAqL1xuXG4gIC8qIC0qLSBNb2RlOiBpbmRlbnQtdGFicy1tb2RlOiBuaWw7IGpzLWluZGVudC1sZXZlbDogMiAtKi0gKi9cblxuICAvKiB2aW06IHNldCBzdHM9MiBzdz0yIGV0IHR3PTgwOiAqL1xuXG4gIC8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAgICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICAgKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBpZiAoIWdsb2JhbFRoaXMuY2hyb21lPy5ydW50aW1lPy5pZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgc2NyaXB0IHNob3VsZCBvbmx5IGJlIGxvYWRlZCBpbiBhIGJyb3dzZXIgZXh0ZW5zaW9uLlwiKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcy5icm93c2VyID09PSBcInVuZGVmaW5lZFwiIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWxUaGlzLmJyb3dzZXIpICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgY29uc3QgQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFID0gXCJUaGUgbWVzc2FnZSBwb3J0IGNsb3NlZCBiZWZvcmUgYSByZXNwb25zZSB3YXMgcmVjZWl2ZWQuXCI7IC8vIFdyYXBwaW5nIHRoZSBidWxrIG9mIHRoaXMgcG9seWZpbGwgaW4gYSBvbmUtdGltZS11c2UgZnVuY3Rpb24gaXMgYSBtaW5vclxuICAgIC8vIG9wdGltaXphdGlvbiBmb3IgRmlyZWZveC4gU2luY2UgU3BpZGVybW9ua2V5IGRvZXMgbm90IGZ1bGx5IHBhcnNlIHRoZVxuICAgIC8vIGNvbnRlbnRzIG9mIGEgZnVuY3Rpb24gdW50aWwgdGhlIGZpcnN0IHRpbWUgaXQncyBjYWxsZWQsIGFuZCBzaW5jZSBpdCB3aWxsXG4gICAgLy8gbmV2ZXIgYWN0dWFsbHkgbmVlZCB0byBiZSBjYWxsZWQsIHRoaXMgYWxsb3dzIHRoZSBwb2x5ZmlsbCB0byBiZSBpbmNsdWRlZFxuICAgIC8vIGluIEZpcmVmb3ggbmVhcmx5IGZvciBmcmVlLlxuXG4gICAgY29uc3Qgd3JhcEFQSXMgPSBleHRlbnNpb25BUElzID0+IHtcbiAgICAgIC8vIE5PVEU6IGFwaU1ldGFkYXRhIGlzIGFzc29jaWF0ZWQgdG8gdGhlIGNvbnRlbnQgb2YgdGhlIGFwaS1tZXRhZGF0YS5qc29uIGZpbGVcbiAgICAgIC8vIGF0IGJ1aWxkIHRpbWUgYnkgcmVwbGFjaW5nIHRoZSBmb2xsb3dpbmcgXCJpbmNsdWRlXCIgd2l0aCB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgIC8vIEpTT04gZmlsZS5cbiAgICAgIGNvbnN0IGFwaU1ldGFkYXRhID0ge1xuICAgICAgICBcImFsYXJtc1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNsZWFyQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYm9va21hcmtzXCI6IHtcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldENoaWxkcmVuXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0U3ViVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJyb3dzZXJBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZGlzYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVuYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5Qb3B1cFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJicm93c2luZ0RhdGFcIjoge1xuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlQ2FjaGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDb29raWVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRG93bmxvYWRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRm9ybURhdGFcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVIaXN0b3J5XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlTG9jYWxTdG9yYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGFzc3dvcmRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGx1Z2luRGF0YVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldHRpbmdzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29tbWFuZHNcIjoge1xuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29udGV4dE1lbnVzXCI6IHtcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvb2tpZXNcIjoge1xuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsQ29va2llU3RvcmVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGV2dG9vbHNcIjoge1xuICAgICAgICAgIFwiaW5zcGVjdGVkV2luZG93XCI6IHtcbiAgICAgICAgICAgIFwiZXZhbFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMixcbiAgICAgICAgICAgICAgXCJzaW5nbGVDYWxsYmFja0FyZ1wiOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJwYW5lbHNcIjoge1xuICAgICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMyxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDMsXG4gICAgICAgICAgICAgIFwic2luZ2xlQ2FsbGJhY2tBcmdcIjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZWxlbWVudHNcIjoge1xuICAgICAgICAgICAgICBcImNyZWF0ZVNpZGViYXJQYW5lXCI6IHtcbiAgICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImRvd25sb2Fkc1wiOiB7XG4gICAgICAgICAgXCJjYW5jZWxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkb3dubG9hZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVyYXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0RmlsZUljb25cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJvcGVuXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicGF1c2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVGaWxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVzdW1lXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VhcmNoXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2hvd1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImV4dGVuc2lvblwiOiB7XG4gICAgICAgICAgXCJpc0FsbG93ZWRGaWxlU2NoZW1lQWNjZXNzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiaXNBbGxvd2VkSW5jb2duaXRvQWNjZXNzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaGlzdG9yeVwiOiB7XG4gICAgICAgICAgXCJhZGRVcmxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVSYW5nZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRlbGV0ZVVybFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFZpc2l0c1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImkxOG5cIjoge1xuICAgICAgICAgIFwiZGV0ZWN0TGFuZ3VhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBY2NlcHRMYW5ndWFnZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZGVudGl0eVwiOiB7XG4gICAgICAgICAgXCJsYXVuY2hXZWJBdXRoRmxvd1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImlkbGVcIjoge1xuICAgICAgICAgIFwicXVlcnlTdGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm1hbmFnZW1lbnRcIjoge1xuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0U2VsZlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEVuYWJsZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1bmluc3RhbGxTZWxmXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibm90aWZpY2F0aW9uc1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBlcm1pc3Npb25MZXZlbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInBhZ2VBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImhpZGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwZXJtaXNzaW9uc1wiOiB7XG4gICAgICAgICAgXCJjb250YWluc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlcXVlc3RcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJydW50aW1lXCI6IHtcbiAgICAgICAgICBcImdldEJhY2tncm91bmRQYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UGxhdGZvcm1JbmZvXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3Blbk9wdGlvbnNQYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVxdWVzdFVwZGF0ZUNoZWNrXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VuZE1lc3NhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogM1xuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZW5kTmF0aXZlTWVzc2FnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFVuaW5zdGFsbFVSTFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInNlc3Npb25zXCI6IHtcbiAgICAgICAgICBcImdldERldmljZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRSZWNlbnRseUNsb3NlZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlc3RvcmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzdG9yYWdlXCI6IHtcbiAgICAgICAgICBcImxvY2FsXCI6IHtcbiAgICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwibWFuYWdlZFwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzeW5jXCI6IHtcbiAgICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwidGFic1wiOiB7XG4gICAgICAgICAgXCJjYXB0dXJlVmlzaWJsZVRhYlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGlzY2FyZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImR1cGxpY2F0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImV4ZWN1dGVTY3JpcHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDdXJyZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Wm9vbVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdvQmFja1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdvRm9yd2FyZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImhpZ2hsaWdodFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImluc2VydENTU1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJxdWVyeVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbG9hZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUNTU1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0Wm9vbVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRvcFNpdGVzXCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIndlYk5hdmlnYXRpb25cIjoge1xuICAgICAgICAgIFwiZ2V0QWxsRnJhbWVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0RnJhbWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWJSZXF1ZXN0XCI6IHtcbiAgICAgICAgICBcImhhbmRsZXJCZWhhdmlvckNoYW5nZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3aW5kb3dzXCI6IHtcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEN1cnJlbnRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRMYXN0Rm9jdXNlZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoYXBpTWV0YWRhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhcGktbWV0YWRhdGEuanNvbiBoYXMgbm90IGJlZW4gaW5jbHVkZWQgaW4gYnJvd3Nlci1wb2x5ZmlsbFwiKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogQSBXZWFrTWFwIHN1YmNsYXNzIHdoaWNoIGNyZWF0ZXMgYW5kIHN0b3JlcyBhIHZhbHVlIGZvciBhbnkga2V5IHdoaWNoIGRvZXNcbiAgICAgICAqIG5vdCBleGlzdCB3aGVuIGFjY2Vzc2VkLCBidXQgYmVoYXZlcyBleGFjdGx5IGFzIGFuIG9yZGluYXJ5IFdlYWtNYXBcbiAgICAgICAqIG90aGVyd2lzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGVJdGVtXG4gICAgICAgKiAgICAgICAgQSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBpbiBvcmRlciB0byBjcmVhdGUgdGhlIHZhbHVlIGZvciBhbnlcbiAgICAgICAqICAgICAgICBrZXkgd2hpY2ggZG9lcyBub3QgZXhpc3QsIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGFjY2Vzc2VkLiBUaGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiByZWNlaXZlcywgYXMgaXRzIG9ubHkgYXJndW1lbnQsIHRoZSBrZXkgYmVpbmcgY3JlYXRlZC5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNsYXNzIERlZmF1bHRXZWFrTWFwIGV4dGVuZHMgV2Vha01hcCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNyZWF0ZUl0ZW0sIGl0ZW1zID0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc3VwZXIoaXRlbXMpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlSXRlbSA9IGNyZWF0ZUl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnNldChrZXksIHRoaXMuY3JlYXRlSXRlbShrZXkpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KGtleSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBhbiBvYmplY3Qgd2l0aCBhIGB0aGVuYCBtZXRob2QsIGFuZCBjYW5cbiAgICAgICAqIHRoZXJlZm9yZSBiZSBhc3N1bWVkIHRvIGJlaGF2ZSBhcyBhIFByb21pc2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB0aGVuYWJsZS5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IGlzVGhlbmFibGUgPSB2YWx1ZSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHdpbGwgcmVzb2x2ZSBvciByZWplY3RcbiAgICAgICAqIHRoZSBnaXZlbiBwcm9taXNlIGJhc2VkIG9uIGhvdyBpdCBpcyBjYWxsZWQ6XG4gICAgICAgKlxuICAgICAgICogLSBJZiwgd2hlbiBjYWxsZWQsIGBjaHJvbWUucnVudGltZS5sYXN0RXJyb3JgIGNvbnRhaW5zIGEgbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICogICB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIHRoYXQgdmFsdWUuXG4gICAgICAgKiAtIElmIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBleGFjdGx5IG9uZSBhcmd1bWVudCwgdGhlIHByb21pc2UgaXNcbiAgICAgICAqICAgcmVzb2x2ZWQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgICAqIC0gT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB0byBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGVcbiAgICAgICAqICAgZnVuY3Rpb24ncyBhcmd1bWVudHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHByb21pc2VcbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmVzb2x1dGlvbiBhbmQgcmVqZWN0aW9uIGZ1bmN0aW9ucyBvZiBhXG4gICAgICAgKiAgICAgICAgcHJvbWlzZS5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVzb2x2ZVxuICAgICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVqZWN0XG4gICAgICAgKiAgICAgICAgVGhlIHByb21pc2UncyByZWplY3Rpb24gZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgICAqICAgICAgICBNZXRhZGF0YSBhYm91dCB0aGUgd3JhcHBlZCBtZXRob2Qgd2hpY2ggaGFzIGNyZWF0ZWQgdGhlIGNhbGxiYWNrLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZ1xuICAgICAgICogICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggb25seSB0aGUgZmlyc3RcbiAgICAgICAqICAgICAgICBhcmd1bWVudCBvZiB0aGUgY2FsbGJhY2ssIGFsdGVybmF0aXZlbHkgYW4gYXJyYXkgb2YgYWxsIHRoZVxuICAgICAgICogICAgICAgIGNhbGxiYWNrIGFyZ3VtZW50cyBpcyByZXNvbHZlZC4gQnkgZGVmYXVsdCwgaWYgdGhlIGNhbGxiYWNrXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIG9ubHkgYSBzaW5nbGUgYXJndW1lbnQsIHRoYXQgd2lsbCBiZVxuICAgICAgICogICAgICAgIHJlc29sdmVkIHRvIHRoZSBwcm9taXNlLCB3aGlsZSBhbGwgYXJndW1lbnRzIHdpbGwgYmUgcmVzb2x2ZWQgYXNcbiAgICAgICAqICAgICAgICBhbiBhcnJheSBpZiBtdWx0aXBsZSBhcmUgZ2l2ZW4uXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9ufVxuICAgICAgICogICAgICAgIFRoZSBnZW5lcmF0ZWQgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCBtYWtlQ2FsbGJhY2sgPSAocHJvbWlzZSwgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuICguLi5jYWxsYmFja0FyZ3MpID0+IHtcbiAgICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgcHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmcgfHwgY2FsbGJhY2tBcmdzLmxlbmd0aCA8PSAxICYmIG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrQXJnc1swXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBsdXJhbGl6ZUFyZ3VtZW50cyA9IG51bUFyZ3MgPT4gbnVtQXJncyA9PSAxID8gXCJhcmd1bWVudFwiIDogXCJhcmd1bWVudHNcIjtcbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhIHdyYXBwZXIgZnVuY3Rpb24gZm9yIGEgbWV0aG9kIHdpdGggdGhlIGdpdmVuIG5hbWUgYW5kIG1ldGFkYXRhLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICAgKiAgICAgICAgVGhlIG5hbWUgb2YgdGhlIG1ldGhvZCB3aGljaCBpcyBiZWluZyB3cmFwcGVkLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhXG4gICAgICAgKiAgICAgICAgTWV0YWRhdGEgYWJvdXQgdGhlIG1ldGhvZCBiZWluZyB3cmFwcGVkLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5taW5BcmdzXG4gICAgICAgKiAgICAgICAgVGhlIG1pbmltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB3aGljaCBtdXN0IGJlIHBhc3NlZCB0byB0aGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbi4gSWYgY2FsbGVkIHdpdGggZmV3ZXIgdGhhbiB0aGlzIG51bWJlciBvZiBhcmd1bWVudHMsIHRoZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgd2lsbCByYWlzZSBhbiBleGNlcHRpb24uXG4gICAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IG1ldGFkYXRhLm1heEFyZ3NcbiAgICAgICAqICAgICAgICBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24uIElmIGNhbGxlZCB3aXRoIG1vcmUgdGhhbiB0aGlzIG51bWJlciBvZiBhcmd1bWVudHMsIHRoZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgd2lsbCByYWlzZSBhbiBleGNlcHRpb24uXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnXG4gICAgICAgKiAgICAgICAgV2hldGhlciBvciBub3QgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCBvbmx5IHRoZSBmaXJzdFxuICAgICAgICogICAgICAgIGFyZ3VtZW50IG9mIHRoZSBjYWxsYmFjaywgYWx0ZXJuYXRpdmVseSBhbiBhcnJheSBvZiBhbGwgdGhlXG4gICAgICAgKiAgICAgICAgY2FsbGJhY2sgYXJndW1lbnRzIGlzIHJlc29sdmVkLiBCeSBkZWZhdWx0LCBpZiB0aGUgY2FsbGJhY2tcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggb25seSBhIHNpbmdsZSBhcmd1bWVudCwgdGhhdCB3aWxsIGJlXG4gICAgICAgKiAgICAgICAgcmVzb2x2ZWQgdG8gdGhlIHByb21pc2UsIHdoaWxlIGFsbCBhcmd1bWVudHMgd2lsbCBiZSByZXNvbHZlZCBhc1xuICAgICAgICogICAgICAgIGFuIGFycmF5IGlmIG11bHRpcGxlIGFyZSBnaXZlbi5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24ob2JqZWN0LCAuLi4qKX1cbiAgICAgICAqICAgICAgIFRoZSBnZW5lcmF0ZWQgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBBc3luY0Z1bmN0aW9uID0gKG5hbWUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBhc3luY0Z1bmN0aW9uV3JhcHBlcih0YXJnZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgQVBJIG1ldGhvZCBoYXMgY3VycmVudGx5IG5vIGNhbGxiYWNrIG9uIENocm9tZSwgYnV0IGl0IHJldHVybiBhIHByb21pc2Ugb24gRmlyZWZveCxcbiAgICAgICAgICAgICAgLy8gYW5kIHNvIHRoZSBwb2x5ZmlsbCB3aWxsIHRyeSB0byBjYWxsIGl0IHdpdGggYSBjYWxsYmFjayBmaXJzdCwgYW5kIGl0IHdpbGwgZmFsbGJhY2tcbiAgICAgICAgICAgICAgLy8gdG8gbm90IHBhc3NpbmcgdGhlIGNhbGxiYWNrIGlmIHRoZSBmaXJzdCBjYWxsIGZhaWxzLlxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgIH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGNiRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7bmFtZX0gQVBJIG1ldGhvZCBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCB0aGUgY2FsbGJhY2sgcGFyYW1ldGVyLCBgICsgXCJmYWxsaW5nIGJhY2sgdG8gY2FsbCBpdCB3aXRob3V0IGEgY2FsbGJhY2s6IFwiLCBjYkVycm9yKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7IC8vIFVwZGF0ZSB0aGUgQVBJIG1ldGhvZCBtZXRhZGF0YSwgc28gdGhhdCB0aGUgbmV4dCBBUEkgY2FsbHMgd2lsbCBub3QgdHJ5IHRvXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSB1bnN1cHBvcnRlZCBjYWxsYmFjayBhbnltb3JlLlxuXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEuZmFsbGJhY2tUb05vQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5ub0NhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWV0YWRhdGEubm9DYWxsYmFjaykge1xuICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgIH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBleGlzdGluZyBtZXRob2Qgb2YgdGhlIHRhcmdldCBvYmplY3QsIHNvIHRoYXQgY2FsbHMgdG8gaXQgYXJlXG4gICAgICAgKiBpbnRlcmNlcHRlZCBieSB0aGUgZ2l2ZW4gd3JhcHBlciBmdW5jdGlvbi4gVGhlIHdyYXBwZXIgZnVuY3Rpb24gcmVjZWl2ZXMsXG4gICAgICAgKiBhcyBpdHMgZmlyc3QgYXJndW1lbnQsIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YCBvYmplY3QsIGZvbGxvd2VkIGJ5IGVhY2ggb2ZcbiAgICAgICAqIHRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBvcmlnaW5hbCBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAgICogICAgICAgIFRoZSBvcmlnaW5hbCB0YXJnZXQgb2JqZWN0IHRoYXQgdGhlIHdyYXBwZWQgbWV0aG9kIGJlbG9uZ3MgdG8uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZXRob2RcbiAgICAgICAqICAgICAgICBUaGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuIFRoaXMgaXMgdXNlZCBhcyB0aGUgdGFyZ2V0IG9mIHRoZSBQcm94eVxuICAgICAgICogICAgICAgIG9iamVjdCB3aGljaCBpcyBjcmVhdGVkIHRvIHdyYXAgdGhlIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHdyYXBwZXJcbiAgICAgICAqICAgICAgICBUaGUgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgYSBkaXJlY3QgaW52b2NhdGlvblxuICAgICAgICogICAgICAgIG9mIHRoZSB3cmFwcGVkIG1ldGhvZC5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8ZnVuY3Rpb24+fVxuICAgICAgICogICAgICAgIEEgUHJveHkgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gbWV0aG9kLCB3aGljaCBpbnZva2VzIHRoZSBnaXZlbiB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgbWV0aG9kIGluIGl0cyBwbGFjZS5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBNZXRob2QgPSAodGFyZ2V0LCBtZXRob2QsIHdyYXBwZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShtZXRob2QsIHtcbiAgICAgICAgICBhcHBseSh0YXJnZXRNZXRob2QsIHRoaXNPYmosIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLmNhbGwodGhpc09iaiwgdGFyZ2V0LCAuLi5hcmdzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBsZXQgaGFzT3duUHJvcGVydHkgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG4gICAgICAvKipcbiAgICAgICAqIFdyYXBzIGFuIG9iamVjdCBpbiBhIFByb3h5IHdoaWNoIGludGVyY2VwdHMgYW5kIHdyYXBzIGNlcnRhaW4gbWV0aG9kc1xuICAgICAgICogYmFzZWQgb24gdGhlIGdpdmVuIGB3cmFwcGVyc2AgYW5kIGBtZXRhZGF0YWAgb2JqZWN0cy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0XG4gICAgICAgKiAgICAgICAgVGhlIHRhcmdldCBvYmplY3QgdG8gd3JhcC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gW3dyYXBwZXJzID0ge31dXG4gICAgICAgKiAgICAgICAgQW4gb2JqZWN0IHRyZWUgY29udGFpbmluZyB3cmFwcGVyIGZ1bmN0aW9ucyBmb3Igc3BlY2lhbCBjYXNlcy4gQW55XG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gcHJlc2VudCBpbiB0aGlzIG9iamVjdCB0cmVlIGlzIGNhbGxlZCBpbiBwbGFjZSBvZiB0aGVcbiAgICAgICAqICAgICAgICBtZXRob2QgaW4gdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIGB0YXJnZXRgIG9iamVjdCB0cmVlLiBUaGVzZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgbWV0aG9kcyBhcmUgaW52b2tlZCBhcyBkZXNjcmliZWQgaW4ge0BzZWUgd3JhcE1ldGhvZH0uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IFttZXRhZGF0YSA9IHt9XVxuICAgICAgICogICAgICAgIEFuIG9iamVjdCB0cmVlIGNvbnRhaW5pbmcgbWV0YWRhdGEgdXNlZCB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlXG4gICAgICAgKiAgICAgICAgUHJvbWlzZS1iYXNlZCB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYXN5bmNocm9ub3VzLiBBbnkgZnVuY3Rpb24gaW5cbiAgICAgICAqICAgICAgICB0aGUgYHRhcmdldGAgb2JqZWN0IHRyZWUgd2hpY2ggaGFzIGEgY29ycmVzcG9uZGluZyBtZXRhZGF0YSBvYmplY3RcbiAgICAgICAqICAgICAgICBpbiB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgYG1ldGFkYXRhYCB0cmVlIGlzIHJlcGxhY2VkIHdpdGggYW5cbiAgICAgICAqICAgICAgICBhdXRvbWF0aWNhbGx5LWdlbmVyYXRlZCB3cmFwcGVyIGZ1bmN0aW9uLCBhcyBkZXNjcmliZWQgaW5cbiAgICAgICAqICAgICAgICB7QHNlZSB3cmFwQXN5bmNGdW5jdGlvbn1cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8b2JqZWN0Pn1cbiAgICAgICAqL1xuXG4gICAgICBjb25zdCB3cmFwT2JqZWN0ID0gKHRhcmdldCwgd3JhcHBlcnMgPSB7fSwgbWV0YWRhdGEgPSB7fSkgPT4ge1xuICAgICAgICBsZXQgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB7XG4gICAgICAgICAgaGFzKHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcCBpbiB0YXJnZXQgfHwgcHJvcCBpbiBjYWNoZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZ2V0KHByb3h5VGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShwcm9wIGluIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCBvbiB0aGUgdW5kZXJseWluZyBvYmplY3QuIENoZWNrIGlmIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgICAgLy8gYW55IHdyYXBwaW5nLlxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHdyYXBwZXJzW3Byb3BdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgc3BlY2lhbC1jYXNlIHdyYXBwZXIgZm9yIHRoaXMgbWV0aG9kLlxuICAgICAgICAgICAgICAgIHZhbHVlID0gd3JhcE1ldGhvZCh0YXJnZXQsIHRhcmdldFtwcm9wXSwgd3JhcHBlcnNbcHJvcF0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXN5bmMgbWV0aG9kIHRoYXQgd2UgaGF2ZSBtZXRhZGF0YSBmb3IuIENyZWF0ZSBhXG4gICAgICAgICAgICAgICAgLy8gUHJvbWlzZSB3cmFwcGVyIGZvciBpdC5cbiAgICAgICAgICAgICAgICBsZXQgd3JhcHBlciA9IHdyYXBBc3luY0Z1bmN0aW9uKHByb3AsIG1ldGFkYXRhW3Byb3BdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBNZXRob2QodGFyZ2V0LCB0YXJnZXRbcHJvcF0sIHdyYXBwZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBtZXRob2QgdGhhdCB3ZSBkb24ndCBrbm93IG9yIGNhcmUgYWJvdXQuIFJldHVybiB0aGVcbiAgICAgICAgICAgICAgICAvLyBvcmlnaW5hbCBtZXRob2QsIGJvdW5kIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmJpbmQodGFyZ2V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgKGhhc093blByb3BlcnR5KHdyYXBwZXJzLCBwcm9wKSB8fCBoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgcHJvcCkpKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gb2JqZWN0IHRoYXQgd2UgbmVlZCB0byBkbyBzb21lIHdyYXBwaW5nIGZvciB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgICAgLy8gb2YuIENyZWF0ZSBhIHN1Yi1vYmplY3Qgd3JhcHBlciBmb3IgaXQgd2l0aCB0aGUgYXBwcm9wcmlhdGUgY2hpbGRcbiAgICAgICAgICAgICAgLy8gbWV0YWRhdGEuXG4gICAgICAgICAgICAgIHZhbHVlID0gd3JhcE9iamVjdCh2YWx1ZSwgd3JhcHBlcnNbcHJvcF0sIG1ldGFkYXRhW3Byb3BdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIFwiKlwiKSkge1xuICAgICAgICAgICAgICAvLyBXcmFwIGFsbCBwcm9wZXJ0aWVzIGluICogbmFtZXNwYWNlLlxuICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBPYmplY3QodmFsdWUsIHdyYXBwZXJzW3Byb3BdLCBtZXRhZGF0YVtcIipcIl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBkbyBhbnkgd3JhcHBpbmcgZm9yIHRoaXMgcHJvcGVydHksXG4gICAgICAgICAgICAgIC8vIHNvIGp1c3QgZm9yd2FyZCBhbGwgYWNjZXNzIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBzZXQocHJveHlUYXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgY2FjaGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3AsIGRlc2MpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCBkZXNjKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVsZXRlUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGNhY2hlLCBwcm9wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfTsgLy8gUGVyIGNvbnRyYWN0IG9mIHRoZSBQcm94eSBBUEksIHRoZSBcImdldFwiIHByb3h5IGhhbmRsZXIgbXVzdCByZXR1cm4gdGhlXG4gICAgICAgIC8vIG9yaWdpbmFsIHZhbHVlIG9mIHRoZSB0YXJnZXQgaWYgdGhhdCB2YWx1ZSBpcyBkZWNsYXJlZCByZWFkLW9ubHkgYW5kXG4gICAgICAgIC8vIG5vbi1jb25maWd1cmFibGUuIEZvciB0aGlzIHJlYXNvbiwgd2UgY3JlYXRlIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAgICAvLyBwcm90b3R5cGUgc2V0IHRvIGB0YXJnZXRgIGluc3RlYWQgb2YgdXNpbmcgYHRhcmdldGAgZGlyZWN0bHkuXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBjYW5ub3QgcmV0dXJuIGEgY3VzdG9tIG9iamVjdCBmb3IgQVBJcyB0aGF0XG4gICAgICAgIC8vIGFyZSBkZWNsYXJlZCByZWFkLW9ubHkgYW5kIG5vbi1jb25maWd1cmFibGUsIHN1Y2ggYXMgYGNocm9tZS5kZXZ0b29sc2AuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBwcm94eSBoYW5kbGVycyB0aGVtc2VsdmVzIHdpbGwgc3RpbGwgdXNlIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YFxuICAgICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBgcHJveHlUYXJnZXRgLCBzbyB0aGF0IHRoZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFyZVxuICAgICAgICAvLyBkZXJlZmVyZW5jZWQgdmlhIHRoZSBvcmlnaW5hbCB0YXJnZXRzLlxuXG4gICAgICAgIGxldCBwcm94eVRhcmdldCA9IE9iamVjdC5jcmVhdGUodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShwcm94eVRhcmdldCwgaGFuZGxlcnMpO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhIHNldCBvZiB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgb2JqZWN0LCB3aGljaCBoYW5kbGVzXG4gICAgICAgKiB3cmFwcGluZyBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdGhhdCB0aG9zZSBtZXNzYWdlcyBhcmUgcGFzc2VkLlxuICAgICAgICpcbiAgICAgICAqIEEgc2luZ2xlIHdyYXBwZXIgaXMgY3JlYXRlZCBmb3IgZWFjaCBsaXN0ZW5lciBmdW5jdGlvbiwgYW5kIHN0b3JlZCBpbiBhXG4gICAgICAgKiBtYXAuIFN1YnNlcXVlbnQgY2FsbHMgdG8gYGFkZExpc3RlbmVyYCwgYGhhc0xpc3RlbmVyYCwgb3IgYHJlbW92ZUxpc3RlbmVyYFxuICAgICAgICogcmV0cmlldmUgdGhlIG9yaWdpbmFsIHdyYXBwZXIsIHNvIHRoYXQgIGF0dGVtcHRzIHRvIHJlbW92ZSBhXG4gICAgICAgKiBwcmV2aW91c2x5LWFkZGVkIGxpc3RlbmVyIHdvcmsgYXMgZXhwZWN0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtEZWZhdWx0V2Vha01hcDxmdW5jdGlvbiwgZnVuY3Rpb24+fSB3cmFwcGVyTWFwXG4gICAgICAgKiAgICAgICAgQSBEZWZhdWx0V2Vha01hcCBvYmplY3Qgd2hpY2ggd2lsbCBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHdyYXBwZXJcbiAgICAgICAqICAgICAgICBmb3IgYSBnaXZlbiBsaXN0ZW5lciBmdW5jdGlvbiB3aGVuIG9uZSBkb2VzIG5vdCBleGlzdCwgYW5kIHJldHJpZXZlXG4gICAgICAgKiAgICAgICAgYW4gZXhpc3Rpbmcgb25lIHdoZW4gaXQgZG9lcy5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAgICovXG5cblxuICAgICAgY29uc3Qgd3JhcEV2ZW50ID0gd3JhcHBlck1hcCA9PiAoe1xuICAgICAgICBhZGRMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyLCAuLi5hcmdzKSB7XG4gICAgICAgICAgdGFyZ2V0LmFkZExpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSwgLi4uYXJncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFzTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lcikge1xuICAgICAgICAgIHJldHVybiB0YXJnZXQuaGFzTGlzdGVuZXIod3JhcHBlck1hcC5nZXQobGlzdGVuZXIpKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSk7XG4gICAgICAgIH1cblxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMgPSBuZXcgRGVmYXVsdFdlYWtNYXAobGlzdGVuZXIgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBzIGFuIG9uUmVxdWVzdEZpbmlzaGVkIGxpc3RlbmVyIGZ1bmN0aW9uIHNvIHRoYXQgaXQgd2lsbCByZXR1cm4gYVxuICAgICAgICAgKiBgZ2V0Q29udGVudCgpYCBwcm9wZXJ0eSB3aGljaCByZXR1cm5zIGEgYFByb21pc2VgIHJhdGhlciB0aGFuIHVzaW5nIGFcbiAgICAgICAgICogY2FsbGJhY2sgQVBJLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAgICAgICAqICAgICAgICBUaGUgSEFSIGVudHJ5IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIG5ldHdvcmsgcmVxdWVzdC5cbiAgICAgICAgICovXG5cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gb25SZXF1ZXN0RmluaXNoZWQocmVxKSB7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlZFJlcSA9IHdyYXBPYmplY3QocmVxLCB7fVxuICAgICAgICAgIC8qIHdyYXBwZXJzICovXG4gICAgICAgICAgLCB7XG4gICAgICAgICAgICBnZXRDb250ZW50OiB7XG4gICAgICAgICAgICAgIG1pbkFyZ3M6IDAsXG4gICAgICAgICAgICAgIG1heEFyZ3M6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsaXN0ZW5lcih3cmFwcGVkUmVxKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgb25NZXNzYWdlV3JhcHBlcnMgPSBuZXcgRGVmYXVsdFdlYWtNYXAobGlzdGVuZXIgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBzIGEgbWVzc2FnZSBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IG1heSBzZW5kIHJlc3BvbnNlcyBiYXNlZCBvblxuICAgICAgICAgKiBpdHMgcmV0dXJuIHZhbHVlLCByYXRoZXIgdGhhbiBieSByZXR1cm5pbmcgYSBzZW50aW5lbCB2YWx1ZSBhbmQgY2FsbGluZyBhXG4gICAgICAgICAqIGNhbGxiYWNrLiBJZiB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UsIHRoZSByZXNwb25zZSBpc1xuICAgICAgICAgKiBzZW50IHdoZW4gdGhlIHByb21pc2UgZWl0aGVyIHJlc29sdmVzIG9yIHJlamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gbWVzc2FnZVxuICAgICAgICAgKiAgICAgICAgVGhlIG1lc3NhZ2Ugc2VudCBieSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBjaGFubmVsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gc2VuZGVyXG4gICAgICAgICAqICAgICAgICBEZXRhaWxzIGFib3V0IHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKil9IHNlbmRSZXNwb25zZVxuICAgICAgICAgKiAgICAgICAgQSBjYWxsYmFjayB3aGljaCwgd2hlbiBjYWxsZWQgd2l0aCBhbiBhcmJpdHJhcnkgYXJndW1lbnQsIHNlbmRzXG4gICAgICAgICAqICAgICAgICB0aGF0IHZhbHVlIGFzIGEgcmVzcG9uc2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKiAgICAgICAgVHJ1ZSBpZiB0aGUgd3JhcHBlZCBsaXN0ZW5lciByZXR1cm5lZCBhIFByb21pc2UsIHdoaWNoIHdpbGwgbGF0ZXJcbiAgICAgICAgICogICAgICAgIHlpZWxkIGEgcmVzcG9uc2UuIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICovXG5cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gb25NZXNzYWdlKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG4gICAgICAgICAgbGV0IGRpZENhbGxTZW5kUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgICAgICBsZXQgd3JhcHBlZFNlbmRSZXNwb25zZTtcbiAgICAgICAgICBsZXQgc2VuZFJlc3BvbnNlUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgd3JhcHBlZFNlbmRSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBkaWRDYWxsU2VuZFJlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbGlzdGVuZXIobWVzc2FnZSwgc2VuZGVyLCB3cmFwcGVkU2VuZFJlc3BvbnNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNSZXN1bHRUaGVuYWJsZSA9IHJlc3VsdCAhPT0gdHJ1ZSAmJiBpc1RoZW5hYmxlKHJlc3VsdCk7IC8vIElmIHRoZSBsaXN0ZW5lciBkaWRuJ3QgcmV0dXJuZWQgdHJ1ZSBvciBhIFByb21pc2UsIG9yIGNhbGxlZFxuICAgICAgICAgIC8vIHdyYXBwZWRTZW5kUmVzcG9uc2Ugc3luY2hyb25vdXNseSwgd2UgY2FuIGV4aXQgZWFybGllclxuICAgICAgICAgIC8vIGJlY2F1c2UgdGhlcmUgd2lsbCBiZSBubyByZXNwb25zZSBzZW50IGZyb20gdGhpcyBsaXN0ZW5lci5cblxuICAgICAgICAgIGlmIChyZXN1bHQgIT09IHRydWUgJiYgIWlzUmVzdWx0VGhlbmFibGUgJiYgIWRpZENhbGxTZW5kUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IC8vIEEgc21hbGwgaGVscGVyIHRvIHNlbmQgdGhlIG1lc3NhZ2UgaWYgdGhlIHByb21pc2UgcmVzb2x2ZXNcbiAgICAgICAgICAvLyBhbmQgYW4gZXJyb3IgaWYgdGhlIHByb21pc2UgcmVqZWN0cyAoYSB3cmFwcGVkIHNlbmRNZXNzYWdlIGhhc1xuICAgICAgICAgIC8vIHRvIHRyYW5zbGF0ZSB0aGUgbWVzc2FnZSBpbnRvIGEgcmVzb2x2ZWQgcHJvbWlzZSBvciBhIHJlamVjdGVkXG4gICAgICAgICAgLy8gcHJvbWlzZSkuXG5cblxuICAgICAgICAgIGNvbnN0IHNlbmRQcm9taXNlZFJlc3VsdCA9IHByb21pc2UgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKG1zZyA9PiB7XG4gICAgICAgICAgICAgIC8vIHNlbmQgdGhlIG1lc3NhZ2UgdmFsdWUuXG4gICAgICAgICAgICAgIHNlbmRSZXNwb25zZShtc2cpO1xuICAgICAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAvLyBTZW5kIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3IgaWYgdGhlIHJlamVjdGVkIHZhbHVlXG4gICAgICAgICAgICAgIC8vIGlzIGFuIGluc3RhbmNlIG9mIGVycm9yLCBvciB0aGUgb2JqZWN0IGl0c2VsZiBvdGhlcndpc2UuXG4gICAgICAgICAgICAgIGxldCBtZXNzYWdlO1xuXG4gICAgICAgICAgICAgIGlmIChlcnJvciAmJiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciB8fCB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCI7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIF9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgLy8gUHJpbnQgYW4gZXJyb3Igb24gdGhlIGNvbnNvbGUgaWYgdW5hYmxlIHRvIHNlbmQgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNlbmQgb25NZXNzYWdlIHJlamVjdGVkIHJlcGx5XCIsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9OyAvLyBJZiB0aGUgbGlzdGVuZXIgcmV0dXJuZWQgYSBQcm9taXNlLCBzZW5kIHRoZSByZXNvbHZlZCB2YWx1ZSBhcyBhXG4gICAgICAgICAgLy8gcmVzdWx0LCBvdGhlcndpc2Ugd2FpdCB0aGUgcHJvbWlzZSByZWxhdGVkIHRvIHRoZSB3cmFwcGVkU2VuZFJlc3BvbnNlXG4gICAgICAgICAgLy8gY2FsbGJhY2sgdG8gcmVzb2x2ZSBhbmQgc2VuZCBpdCBhcyBhIHJlc3BvbnNlLlxuXG5cbiAgICAgICAgICBpZiAoaXNSZXN1bHRUaGVuYWJsZSkge1xuICAgICAgICAgICAgc2VuZFByb21pc2VkUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChzZW5kUmVzcG9uc2VQcm9taXNlKTtcbiAgICAgICAgICB9IC8vIExldCBDaHJvbWUga25vdyB0aGF0IHRoZSBsaXN0ZW5lciBpcyByZXBseWluZy5cblxuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2sgPSAoe1xuICAgICAgICByZWplY3QsXG4gICAgICAgIHJlc29sdmVcbiAgICAgIH0sIHJlcGx5KSA9PiB7XG4gICAgICAgIGlmIChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgICAgLy8gRGV0ZWN0IHdoZW4gbm9uZSBvZiB0aGUgbGlzdGVuZXJzIHJlcGxpZWQgdG8gdGhlIHNlbmRNZXNzYWdlIGNhbGwgYW5kIHJlc29sdmVcbiAgICAgICAgICAvLyB0aGUgcHJvbWlzZSB0byB1bmRlZmluZWQgYXMgaW4gRmlyZWZveC5cbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvd2ViZXh0ZW5zaW9uLXBvbHlmaWxsL2lzc3Vlcy8xMzBcbiAgICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvci5tZXNzYWdlID09PSBDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UpIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVwbHkgJiYgcmVwbHkuX19tb3pXZWJFeHRlbnNpb25Qb2x5ZmlsbFJlamVjdF9fKSB7XG4gICAgICAgICAgLy8gQ29udmVydCBiYWNrIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvciBpbnRvXG4gICAgICAgICAgLy8gYW4gRXJyb3IgaW5zdGFuY2UuXG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihyZXBseS5tZXNzYWdlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXBseSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZSA9IChuYW1lLCBtZXRhZGF0YSwgYXBpTmFtZXNwYWNlT2JqLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IG1ldGFkYXRhLm1pbkFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gbWV0YWRhdGEubWF4QXJncykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlZENiID0gd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2suYmluZChudWxsLCB7XG4gICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXJncy5wdXNoKHdyYXBwZWRDYik7XG4gICAgICAgICAgYXBpTmFtZXNwYWNlT2JqLnNlbmRNZXNzYWdlKC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN0YXRpY1dyYXBwZXJzID0ge1xuICAgICAgICBkZXZ0b29sczoge1xuICAgICAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgICAgIG9uUmVxdWVzdEZpbmlzaGVkOiB3cmFwRXZlbnQob25SZXF1ZXN0RmluaXNoZWRXcmFwcGVycylcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bnRpbWU6IHtcbiAgICAgICAgICBvbk1lc3NhZ2U6IHdyYXBFdmVudChvbk1lc3NhZ2VXcmFwcGVycyksXG4gICAgICAgICAgb25NZXNzYWdlRXh0ZXJuYWw6IHdyYXBFdmVudChvbk1lc3NhZ2VXcmFwcGVycyksXG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IHdyYXBwZWRTZW5kTWVzc2FnZS5iaW5kKG51bGwsIFwic2VuZE1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICAgIG1heEFyZ3M6IDNcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICB0YWJzOiB7XG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IHdyYXBwZWRTZW5kTWVzc2FnZS5iaW5kKG51bGwsIFwic2VuZE1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgbWluQXJnczogMixcbiAgICAgICAgICAgIG1heEFyZ3M6IDNcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3Qgc2V0dGluZ01ldGFkYXRhID0ge1xuICAgICAgICBjbGVhcjoge1xuICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgbWF4QXJnczogMVxuICAgICAgICB9LFxuICAgICAgICBnZXQ6IHtcbiAgICAgICAgICBtaW5BcmdzOiAxLFxuICAgICAgICAgIG1heEFyZ3M6IDFcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICBtYXhBcmdzOiAxXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBhcGlNZXRhZGF0YS5wcml2YWN5ID0ge1xuICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgXCIqXCI6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9LFxuICAgICAgICBzZXJ2aWNlczoge1xuICAgICAgICAgIFwiKlwiOiBzZXR0aW5nTWV0YWRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgd2Vic2l0ZXM6IHtcbiAgICAgICAgICBcIipcIjogc2V0dGluZ01ldGFkYXRhXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gd3JhcE9iamVjdChleHRlbnNpb25BUElzLCBzdGF0aWNXcmFwcGVycywgYXBpTWV0YWRhdGEpO1xuICAgIH07IC8vIFRoZSBidWlsZCBwcm9jZXNzIGFkZHMgYSBVTUQgd3JhcHBlciBhcm91bmQgdGhpcyBmaWxlLCB3aGljaCBtYWtlcyB0aGVcbiAgICAvLyBgbW9kdWxlYCB2YXJpYWJsZSBhdmFpbGFibGUuXG5cblxuICAgIG1vZHVsZS5leHBvcnRzID0gd3JhcEFQSXMoY2hyb21lKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFRoaXMuYnJvd3NlcjtcbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLXBvbHlmaWxsLmpzLm1hcFxuIiwiZXhwb3J0IHR5cGUgU2l0ZUNvbmZpZ01ldGhvZCA9IFwiRXhhY3RcIiB8IFwiUHJlZml4XCIgfCBcIlJlZ2V4XCI7XG5leHBvcnQgdHlwZSBTaXRlQ29uZmlnVGFyZ2V0ID0gXCJEb21haW5cIiB8IFwiSG9zdFwiIHwgXCJQYWdlXCI7XG5leHBvcnQgdHlwZSBTaXRlQ29uZmlnTm9kZVR5cGUgPSBcIk1pZ3JhdGlvblwiIHwgXCJVc2VyXCIgfCBcIkRlZmF1bHRcIiB8IFwiQXV0b1wiO1xuXG5leHBvcnQgY2xhc3MgRm9ybU1hdGNoQ29uZmlnIHtcbiAgICBmb3JtPzoge1xuICAgICAgICBuYW1lcz86IHN0cmluZ1tdO1xuICAgICAgICBpZHM/OiBzdHJpbmdbXTtcbiAgICB9O1xuICAgIGZpZWxkcz86IHtcbiAgICAgICAgbmFtZXM/OiBzdHJpbmdbXTtcbiAgICAgICAgaWRzPzogc3RyaW5nW107XG4gICAgfTtcbiAgICBxdWVyeVNlbGVjdG9ycz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgU2l0ZUNvbmZpZyB7XG4gICAgd2hpdGVMaXN0PzogRm9ybU1hdGNoQ29uZmlnO1xuICAgIGJsYWNrTGlzdD86IEZvcm1NYXRjaENvbmZpZztcbiAgICBwcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbj86IGJvb2xlYW47XG4gICAgbGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZT86IGJvb2xlYW47XG4gICAgcHJlZmVycmVkRW50cnlVdWlkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgU2l0ZUNvbmZpZ05vZGUge1xuICAgIGNvbmZpZzogU2l0ZUNvbmZpZztcbiAgICBtYXRjaFdlaWdodDogbnVtYmVyOyAvLyBoZWxwIHRvIGRlY2lkZSB3aGljaCBjb25maWcgdG8gdXNlIHdoZW4gbW9yZSB0aGFuIG9uZSBtYXRjaGVzIGN1cnJlbnQgVVJMXG4gICAgc291cmNlOiBTaXRlQ29uZmlnTm9kZVR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBTaXRlQ29uZmlnTG9va3VwIHtcbiAgICBba2V5OiBzdHJpbmddOiBTaXRlQ29uZmlnTm9kZTtcbn1cblxuZXhwb3J0IGNsYXNzIFNpdGVDb25maWdJbmRleCB7XG4gICAgZG9tYWluUmVnZXg/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIGRvbWFpbkV4YWN0PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBkb21haW5QcmVmaXg/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIGhvc3RSZWdleD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgaG9zdEV4YWN0PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBob3N0UHJlZml4PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBwYWdlUmVnZXg/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIHBhZ2VFeGFjdD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgcGFnZVByZWZpeDogU2l0ZUNvbmZpZ0xvb2t1cDtcbn1cblxuZXhwb3J0IGNsYXNzIENvbmZpZyB7XG4gICAgYXV0b0ZpbGxEaWFsb2dzOiBib29sZWFuO1xuICAgIGF1dG9GaWxsRm9ybXM6IGJvb2xlYW47XG4gICAgYXV0b0ZpbGxGb3Jtc1dpdGhNdWx0aXBsZU1hdGNoZXM6IGJvb2xlYW47XG4gICAgYXV0b1N1Ym1pdEZvcm1zOiBib29sZWFuO1xuICAgIGF1dG9TdWJtaXREaWFsb2dzOiBib29sZWFuO1xuICAgIGF1dG9TdWJtaXRNYXRjaGVkRm9ybXM6IGJvb2xlYW47XG4gICAgY29ublNMQ2xpZW50OiBudW1iZXI7XG4gICAgY29ublNMU2VydmVyTWluOiBudW1iZXI7XG4gICAga2VlUGFzc0RCVG9PcGVuOiBzdHJpbmc7XG4gICAga2VlUGFzc01SVURCOiBzdHJpbmc7XG4gICAgS2VlUGFzc1JQQ1dlYlNvY2tldFBvcnQ6IG51bWJlcjtcbiAgICBLUFJQQ1VzZXJuYW1lOiBzdHJpbmc7XG4gICAgS1BSUENTdG9yZWRLZXlzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAgIGxhc3RDb25uZWN0ZWRUb0tlZVBhc3M6IHN0cmluZztcbiAgICBsaXN0QWxsT3BlbkRCczogYm9vbGVhbjtcbiAgICBsb2dMZXZlbDogbnVtYmVyO1xuICAgIGxvZ01ldGhvZENvbnNvbGU6IGJvb2xlYW47XG4gICAgbG9nTWV0aG9kRmlsZTogYm9vbGVhbjtcbiAgICBsb2dTZW5zaXRpdmVEYXRhOiBib29sZWFuO1xuICAgIG1ldHJpY3NVc2FnZURpc2FibGVkOiBib29sZWFuO1xuICAgIG1ldHJpY3NVc2VySWQ6IHN0cmluZztcbiAgICBtcnVHcm91cDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICBub3RpZnlXaGVuRW50cnlVcGRhdGVkOiBib29sZWFuO1xuICAgIG5vdGlmeVdoZW5MYXRlRGlzY292ZXJ5OiBib29sZWFuO1xuICAgIG5vdGlmeVdoZW5Mb2dnZWRPdXQ6IGJvb2xlYW47XG4gICAgb3ZlcldyaXRlRmllbGRzQXV0b21hdGljYWxseTogYm9vbGVhbjsgLy8gZGVwcmVjYXRlZFxuICAgIHJlbWVtYmVyTVJVREI6IGJvb2xlYW47XG4gICAgcmVtZW1iZXJNUlVHcm91cDogYm9vbGVhbjtcbiAgICBzYXZlRmF2aWNvbnM6IGJvb2xlYW47XG4gICAgc2VhcmNoQWxsT3BlbkRCczogYm9vbGVhbjtcbiAgICBzaXRlQ29uZmlnOiBTaXRlQ29uZmlnSW5kZXg7XG4gICAgY29uZmlnOiB7IHVybDogc3RyaW5nOyBjb25maWc6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IH1bXTtcbiAgICB0dXRvcmlhbFByb2dyZXNzOiBzdHJpbmc7XG4gICAgdmVyc2lvbjogbnVtYmVyOyAvLyBkZWZhdWx0IGlzIGluY3JlbWVudGVkIHdoZW4gY2hhbmdlcyBhcmUgaW50cm9kdWNlZCB0aGF0IHJlcXVpcmUgZGF0YSBtaWdyYXRpb25cbiAgICB0cmlnZ2VyQ2hhbmdlSW5wdXRFdmVudEFmdGVyRmlsbDogYm9vbGVhbjtcbiAgICBhdXRvU3VibWl0TmV0d29ya0F1dGhXaXRoU2luZ2xlTWF0Y2g6IGJvb2xlYW47XG4gICAgc2VhcmNoTmV0d29ya0F1dGg6IGJvb2xlYW47XG4gICAgcG9ydENvbm5lY3Rpb25EZWxheTogbnVtYmVyOyAvLyBkZXByZWNhdGVkXG4gICAgbm90aWZpY2F0aW9uQ291bnRHZW5lcmljOiBudW1iZXI7XG4gICAgbm90aWZpY2F0aW9uQ291bnRTYXZlUGFzc3dvcmQ6IG51bWJlcjtcbiAgICBjdXJyZW50U2VhcmNoVGVybVRpbWVvdXQ6IG51bWJlcjtcbiAgICBub3RpZnlQYXNzd29yZEF2YWlsYWJsZUZvclBhc3RlOiBib29sZWFuO1xuICAgIGFuaW1hdGVXaGVuT2ZmZXJpbmdTYXZlOiBib29sZWFuO1xuICAgIGtlZVZhdWx0TGF1bmNoTWVzc2FnZURpc21pc3NlZDogYm9vbGVhbjtcbiAgICBrZWVWYXVsdExhdW5jaFN0YXJ0OiBudW1iZXI7XG4gICAga2VlVmF1bHRMYXVuY2hFbmQ6IG51bWJlcjtcbiAgICBtYW51YWxTdWJtaXRPdmVycmlkZVByb2hpYml0ZWQ6IGJvb2xlYW47XG4gICAgdGhlbWU6IHN0cmluZztcbiAgICBoaWRlQ29uZmlybWF0aW9uQWZ0ZXJTYXZlOiBib29sZWFuO1xuICAgIG11c3RTaG93UmVsZWFzZU5vdGVzQXRTdGFydHVwOiBib29sZWFuO1xuICAgIGF1dG9GaWxsRmllbGRzV2l0aEV4aXN0aW5nVmFsdWU6IGJvb2xlYW47XG59XG4iLCJpbXBvcnQgeyBTaXRlQ29uZmlnSW5kZXgsIFNpdGVDb25maWdMb29rdXAgfSBmcm9tIFwiLi9jb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTaXRlQ29uZmlnID0gbmV3IFNpdGVDb25maWdJbmRleCgpO1xuZGVmYXVsdFNpdGVDb25maWcucGFnZVJlZ2V4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcblxuZGVmYXVsdFNpdGVDb25maWcucGFnZVJlZ2V4W1wiXi4qJFwiXSA9IHtcbiAgICBjb25maWc6IHtcbiAgICAgICAgLyogVE9ETzo0OiA/IEluIGZ1dHVyZSB3ZSBjYW4gZ2l2ZSBmaW5lciBjb250cm9sIG9mIGZvcm0gcmVzY2FubmluZyBiZWhhdmlvdXIgZnJvbSBoZXJlXG4gICAgICAgICAgICByZXNjYW5ET01ldmVudHM6XG4gICAgICAgICAgICBbe1xuXG4gICAgICAgICAgICAgICAgLy8gL2h0bWwvYm9keS9kaXZbM10vZGl2L2gxL3NtYWxsXG5cbiAgICAgICAgICAgICAgICB0eXBlOiBcImNsaWNrXCIgfCBcIm11dGF0aW9uXCIgfCBcImhvdmVyXCIgfCBldGMsXG4gICAgICAgICAgICAgICAgeHBhdGg6IFwiL2h0bWwvYm9keS9kaXZbM10vZGl2L2gxL3NtYWxsXCIsIC8vIHdlIHNob3VsZCBkbyBhIHNhbml0eSBjaGVjayBvbiByZXR1cm5lZCBpdGVtcyBhbmQgbGltaXQgdG8gbWF4IG9mIH5hIGh1bmRyZWQgRE9NIG5vZGVzXG4gICAgICAgICAgICAgICAgaWQ6IFwic29tZUlEXCIsXG4gICAgICAgICAgICAgICAgLy9zb21ldGhpbmcgZWxzZSB0byBsaW1pdCBtdXRhdGlvbiBldmVudHMgdG8gY3JlYXRlIG9uZSAoZS5nLiBjcmVhdGlvbiBvZiBuZXcgY2hpbGQgaXRlbSBtYXRjaGluZyBjZXJ0YWluIHhwYXRoPyBldGMuKVxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAqL1xuXG4gICAgICAgIHByZXZlbnRTYXZlTm90aWZpY2F0aW9uOiBmYWxzZSxcbiAgICAgICAgbGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZTogZmFsc2UsXG5cbiAgICAgICAgLypcbiAgICAgICAgICAgICAgICBGb3JtcyB3aWxsIGJlIHNjYW5uZWQgaWZmIHRoZXkgaGF2ZSBhIHBhc3N3b3JkICh0eXBlKSBmaWVsZFxuICAgICAgICAgICAgICAgIFVOTEVTUyBvbmUgb2YgdGhlIGludGVyZXN0aW5nRm9ybXMgYXJyYXlzIG1hdGNoZXMgdGhlIGZvcm0gaW4gcXVlc3Rpb24uXG4gICAgICAgICAgICAgICAgQWxsICh3KWhpdGVsaXN0cyB3aWxsIGZvcmNlIHRoZSBmb3JtIHRvIGJlIHNjYW5uZWQgZm9yIG1hdGNoaW5nIHBhc3N3b3Jkcy5cbiAgICAgICAgICAgICAgICAoYilsYWNrbGlzdHMgd2lsbCBwcmV2ZW50IHRoZSBmb3JtIGJlaW5nIHNjYW5uZWQuXG4gICAgICAgICAgICAgICAgKGIpbGFja2xpc3RzIGhhdmUgcHJpb3JpdHkgb3ZlciB3aGl0ZWxpc3RzIG9mIHRoZSBzYW1lIHR5cGUgYnV0IHRoZSBwcmlvcml0aWVzXG4gICAgICAgICAgICAgICAgb2YgZGlmZmVyZW50IHR5cGVzIG9mIGNoZWNrIGFyZSB1bmRlZmluZWQgaGVyZSAtIHlvdSdsbCBoYXZlIHRvIGxvb2sgYXQgdGhlXG4gICAgICAgICAgICAgICAgYmVoYXZpb3VyIG9mIHRoZSBmb3JtIG1hdGNoaW5nIGNvZGUgd2hpY2ggaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgYmxhY2tMaXN0OiB7XG4gICAgICAgICAgICBmb3JtOiB7IG5hbWVzOiBbXCJzZWFyY2hcIl0sIGlkczogW1wic2VhcmNoXCJdIH0sXG4gICAgICAgICAgICBmaWVsZHM6IHsgbmFtZXM6IFtcInNlYXJjaFwiLCBcInFcIiwgXCJxdWVyeVwiXSwgaWRzOiBbXCJzZWFyY2hcIiwgXCJxXCJdIH1cbiAgICAgICAgfSxcbiAgICAgICAgd2hpdGVMaXN0OiB7XG4gICAgICAgICAgICBmb3JtOiB7IG5hbWVzOiBbXCJsb2dpblwiXSwgaWRzOiBbXCJsb2dpblwiXSB9LFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgbmFtZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImpfdXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyX25hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlci1uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2Yl9sb2dpbl91c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyIG5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyIGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlci1pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJpZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImVtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZS1tYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtX2xvZ2lubmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIndwbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbmlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW4gaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbl9uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib3BlbmlkX2lkZW50aWZpZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoZW50aWNhdGlvbl9lbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcIm9wZW5pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhfZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoX2lkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aGVudGljYXRpb25faWRlbnRpZmllclwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhlbnRpY2F0aW9uX2lkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VzdG9tZXJfbnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VzdG9tZXJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvbmxpbmVpZFwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBpZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImpfdXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyX25hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlci1uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2Yl9sb2dpbl91c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyLWlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcmlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJlLW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm1fbG9naW5uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwid3BuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbl9uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib3BlbmlkX2lkZW50aWZpZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoZW50aWNhdGlvbl9lbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcIm9wZW5pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhfZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoX2lkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aGVudGljYXRpb25faWRlbnRpZmllclwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhlbnRpY2F0aW9uX2lkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VzdG9tZXJfbnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VzdG9tZXJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvbmxpbmVpZFwiXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwcmVmZXJyZWRFbnRyeVV1aWQ6IG51bGxcbiAgICB9LFxuICAgIG1hdGNoV2VpZ2h0OiAwLFxuICAgIHNvdXJjZTogXCJEZWZhdWx0XCJcbn07XG4iLCJpbXBvcnQgeyBTaXRlQ29uZmlnLCBDb25maWcsIFNpdGVDb25maWdMb29rdXAsIFNpdGVDb25maWdJbmRleCB9IGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IHsgZGVmYXVsdFNpdGVDb25maWcgfSBmcm9tIFwiLi9EZWZhdWx0U2l0ZUNvbmZpZ1wiO1xuXG5leHBvcnQgY2xhc3MgQ29uZmlnTWlncmF0aW9ucyB7XG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb244KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICAvLyBUaGlzIGlzbid0IHJlbGlhYmxlIGR1ZSB0byBzeW5jIHNvIHdlJ3ZlIGRlcHJlY2F0ZWQgdGhlIHNldHRpbmdcbiAgICAgICAgLy8gYW5kIGNyZWF0ZWQgYSBuZXcgb25lIHRoYXQgcmVxdWlyZXMgbm8gbWlncmF0aW9uXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudCwge1xuICAgICAgICAgICAgb3ZlcldyaXRlRmllbGRzQXV0b21hdGljYWxseTogZmFsc2UsXG4gICAgICAgICAgICB2ZXJzaW9uOiA4XG4gICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWlncmF0ZVRvVmVyc2lvbjcoY3VycmVudDogQ29uZmlnKSB7XG4gICAgICAgIGlmIChjdXJyZW50Lm5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkID4gNikge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7XG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uQ291bnRTYXZlUGFzc3dvcmQ6IDYsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogN1xuICAgICAgICAgICAgfSBhcyBQYXJ0aWFsPENvbmZpZz4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7IHZlcnNpb246IDcgfSBhcyBQYXJ0aWFsPENvbmZpZz4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb242KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIGFuaW1hdGVXaGVuT2ZmZXJpbmdTYXZlOiB0cnVlLFxuICAgICAgICAgICAgdmVyc2lvbjogNlxuICAgICAgICB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb241KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIG5vdGlmeVBhc3N3b3JkQXZhaWxhYmxlRm9yUGFzdGU6IHRydWUsXG4gICAgICAgICAgICB2ZXJzaW9uOiA1XG4gICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWlncmF0ZVRvVmVyc2lvbjQoY3VycmVudDogQ29uZmlnKSB7XG4gICAgICAgIGxldCBuZXdMb2dMZXZlbCA9IDI7XG4gICAgICAgIGlmIChjdXJyZW50LmxvZ0xldmVsID09PSAxKSB7XG4gICAgICAgICAgICBuZXdMb2dMZXZlbCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHsgbG9nTGV2ZWw6IG5ld0xvZ0xldmVsLCB2ZXJzaW9uOiA0IH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWlncmF0ZVRvVmVyc2lvbjMoY3VycmVudDogQ29uZmlnKSB7XG4gICAgICAgIGlmIChjdXJyZW50Lm5vdGlmaWNhdGlvbkNvdW50R2VuZXJpYyA9PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50Lm5vdGlmaWNhdGlvbkNvdW50R2VuZXJpYyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnQubm90aWZpY2F0aW9uQ291bnRTYXZlUGFzc3dvcmQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudC5ub3RpZmljYXRpb25Db3VudFNhdmVQYXNzd29yZCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIGN1cnJlbnRTZWFyY2hUZXJtVGltZW91dDogMzAsXG4gICAgICAgICAgICB2ZXJzaW9uOiAzXG4gICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWlncmF0ZVRvVmVyc2lvbjIoY3VycmVudDogQ29uZmlnKSB7XG4gICAgICAgIGxldCBuZXdTaXRlQ29uZmlnID0gbmV3IFNpdGVDb25maWdJbmRleCgpO1xuXG4gICAgICAgIGlmICghY3VycmVudC5jb25maWcgfHwgY3VycmVudC5jb25maWcubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIG5ld1NpdGVDb25maWcgPSBkZWZhdWx0U2l0ZUNvbmZpZztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuZXdTaXRlQ29uZmlnLnBhZ2VSZWdleCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgIG5ld1NpdGVDb25maWcuaG9zdEV4YWN0ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgbmV3U2l0ZUNvbmZpZy5wYWdlUHJlZml4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcblxuICAgICAgICBuZXdTaXRlQ29uZmlnLnBhZ2VSZWdleFtcIl4uKiRcIl0gPSB7XG4gICAgICAgICAgICBtYXRjaFdlaWdodDogMCxcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5taWdyYXRlSW5kaXZpZHVhbFNpdGVDb25maWdTZXR0aW5nc1RvVjIoY3VycmVudC5jb25maWdbMF0uY29uZmlnKSxcbiAgICAgICAgICAgIHNvdXJjZTogXCJNaWdyYXRpb25cIlxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgICAgICBpIDwgY3VycmVudC5jb25maWcubGVuZ3RoO1xuICAgICAgICAgICAgaSsrIC8vIHNraXAgZmlyc3Qgd2hpY2ggaXMgYWx3YXlzIFwiKlwiXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gY3VycmVudC5jb25maWdbaV0udXJsO1xuICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKFwiOi8vXCIpID09IC0xKSBjb250aW51ZTsgLy8gaW52YWxpZCBkYXRhIGZyb20gb2xkIGNvbmZpZ1xuICAgICAgICAgICAgY29uc3Qgd2l0aG91dFByb3RvY29sID0gdXJsLnN1YnN0cih1cmwuaW5kZXhPZihcIjovL1wiKSArIDMpO1xuICAgICAgICAgICAgaWYgKHdpdGhvdXRQcm90b2NvbC5sZW5ndGggPD0gMSkgY29udGludWU7IC8vIGludmFsaWQgZGF0YSBmcm9tIG9sZCBjb25maWdcblxuICAgICAgICAgICAgY29uc3QgbmV3Q29uZmlnID0gdGhpcy5taWdyYXRlSW5kaXZpZHVhbFNpdGVDb25maWdTZXR0aW5nc1RvVjIoXG4gICAgICAgICAgICAgICAgY3VycmVudC5jb25maWdbaV0uY29uZmlnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoSW5kZXggPSB3aXRob3V0UHJvdG9jb2wuaW5kZXhPZihcIi9cIik7XG5cbiAgICAgICAgICAgIGlmIChwYXRoSW5kZXggPiAtMSB8fCBwYXRoSW5kZXggPT0gd2l0aG91dFByb3RvY29sLmxhc3RJbmRleE9mKFwiL1wiKSkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92aW5nIHRyYWlsaW5nIHNsYXNoIGlmIHdlIGhhdmUgb25seSBhIGhvc3QgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IGhvc3QgPVxuICAgICAgICAgICAgICAgICAgICBwYXRoSW5kZXggPiAtMSA/IHdpdGhvdXRQcm90b2NvbC5zdWJzdHIoMCwgcGF0aEluZGV4KSA6IHdpdGhvdXRQcm90b2NvbDtcblxuICAgICAgICAgICAgICAgIC8vIFVzZXIgbWF5IGhhdmUgY29uZmlndXJlZCBhIHByZWZpeCBtYXRjaCBpbiBLZWVGb3ggMS54IGJ1dCBpdCdzIG5vdCBhbiBlc3BlY2lhbGx5IHVzZWZ1bFxuICAgICAgICAgICAgICAgIC8vIGJlaGF2aW91ciBhbmQgaGFzIHBvdGVudGlhbCB0byBiZSB1bnNhZmUgaW4gZnV0dXJlIHNvIHdlIGNvbnZlcnQgYWxsIHRvIGV4YWN0IG1hdGNoZXMgbm93XG4gICAgICAgICAgICAgICAgbmV3U2l0ZUNvbmZpZy5ob3N0RXhhY3RbaG9zdF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzogbmV3Q29uZmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFdlaWdodDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFwiTWlncmF0aW9uXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBrZWVwIGluY3JlYXNpbmcgd2VpZ2h0IHVudGlsIHdlIGZpbmQgbm8gb3RoZXIgc2hvcnRlciBleGlzdGluZyBlbnRyaWVzLiBUaGlzIGFzc3VtZXMgb3JkZXJpbmcgYnkgbGVuZ3RoXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIG9yaWdpbmFsIGRhdGEgc28gdGhhdCBpdCBjYW4gYmUgdHJhbnNmZXJyZWQgdG8gdGhlIG5ldyBjb25maWcgaW4gc2FtZSBvcmRlclxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIGlzbid0IGNvbXBsZXRlbHkgc2FmZSBidXQgb25seSBiZWNhdXNlIG9mIGJ1Z3MgaW4gS2VlRm94IDEueCB3aGljaCBtYXkgaGF2ZSBhZmZlY3RlZCBkYXRhIGludGVncml0eVxuICAgICAgICAgICAgICAgIC8vIGluIG9uZSBvciB0d28gcmFyZSBjYXNlcyBhbmQgd2hpY2ggd2UgY2FuIG5vIGxvbmdlciBmaXggcmVsaWFibHkgYW55d2F5LlxuICAgICAgICAgICAgICAgIGxldCB3ZWlnaHQgPSAyMDA7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWdlUHJlZml4IGluIG5ld1NpdGVDb25maWcucGFnZVByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2l0aG91dFByb3RvY29sLnN0YXJ0c1dpdGgocGFnZVByZWZpeCkpIHdlaWdodCsrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5ld1NpdGVDb25maWcucGFnZVByZWZpeFt3aXRob3V0UHJvdG9jb2xdID0ge1xuICAgICAgICAgICAgICAgICAgICBjb25maWc6IG5ld0NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hXZWlnaHQ6IHdlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBcIk1pZ3JhdGlvblwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudCwge1xuICAgICAgICAgICAgc2l0ZUNvbmZpZzogbmV3U2l0ZUNvbmZpZyxcbiAgICAgICAgICAgIGNvbmZpZzogbnVsbCxcbiAgICAgICAgICAgIHZlcnNpb246IDJcbiAgICAgICAgfSBhcyBQYXJ0aWFsPENvbmZpZz4pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWlncmF0ZUluZGl2aWR1YWxTaXRlQ29uZmlnU2V0dGluZ3NUb1YyKG9sZENvbmZpZzogYW55KTogU2l0ZUNvbmZpZyB7XG4gICAgICAgIGNvbnN0IHNjID0gbmV3IFNpdGVDb25maWcoKTtcbiAgICAgICAgaWYgKG9sZENvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICBzYy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbiA9IG9sZENvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMpIHtcbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5uYW1lX3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLndoaXRlTGlzdCkgc2Mud2hpdGVMaXN0ID0geyBmb3JtOiB7IG5hbWVzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5mb3JtKSBzYy53aGl0ZUxpc3QuZm9ybSA9IHsgbmFtZXM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5mb3JtLm5hbWVzKSBzYy53aGl0ZUxpc3QuZm9ybS5uYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLndoaXRlTGlzdC5mb3JtLm5hbWVzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMubmFtZV93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmlkX3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLndoaXRlTGlzdCkgc2Mud2hpdGVMaXN0ID0geyBmb3JtOiB7IGlkczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZm9ybSkgc2Mud2hpdGVMaXN0LmZvcm0gPSB7IGlkczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2Mud2hpdGVMaXN0LmZvcm0uaWRzKSBzYy53aGl0ZUxpc3QuZm9ybS5pZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy53aGl0ZUxpc3QuZm9ybS5pZHMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5pZF93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLm5hbWVfYikge1xuICAgICAgICAgICAgICAgIGlmICghc2MuYmxhY2tMaXN0KSBzYy5ibGFja0xpc3QgPSB7IGZvcm06IHsgbmFtZXM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZvcm0pIHNjLmJsYWNrTGlzdC5mb3JtID0geyBuYW1lczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZvcm0ubmFtZXMpIHNjLmJsYWNrTGlzdC5mb3JtLm5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgc2MuYmxhY2tMaXN0LmZvcm0ubmFtZXMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5uYW1lX2I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuaWRfYikge1xuICAgICAgICAgICAgICAgIGlmICghc2MuYmxhY2tMaXN0KSBzYy5ibGFja0xpc3QgPSB7IGZvcm06IHsgaWRzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5mb3JtKSBzYy5ibGFja0xpc3QuZm9ybSA9IHsgaWRzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZm9ybS5pZHMpIHNjLmJsYWNrTGlzdC5mb3JtLmlkcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLmJsYWNrTGlzdC5mb3JtLmlkcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmlkX2I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuZl9uYW1lX3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLndoaXRlTGlzdCkgc2Mud2hpdGVMaXN0ID0geyBmaWVsZHM6IHsgbmFtZXM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2Mud2hpdGVMaXN0LmZpZWxkcykgc2Mud2hpdGVMaXN0LmZpZWxkcyA9IHsgbmFtZXM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5maWVsZHMubmFtZXMpIHNjLndoaXRlTGlzdC5maWVsZHMubmFtZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuZl9uYW1lX3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuZl9pZF93KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy53aGl0ZUxpc3QpIHNjLndoaXRlTGlzdCA9IHsgZmllbGRzOiB7IGlkczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZmllbGRzKSBzYy53aGl0ZUxpc3QuZmllbGRzID0geyBpZHM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5maWVsZHMuaWRzKSBzYy53aGl0ZUxpc3QuZmllbGRzLmlkcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLndoaXRlTGlzdC5maWVsZHMuaWRzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuZl9pZF93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfbmFtZV9iKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy5ibGFja0xpc3QpIHNjLmJsYWNrTGlzdCA9IHsgZmllbGRzOiB7IG5hbWVzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5maWVsZHMpIHNjLmJsYWNrTGlzdC5maWVsZHMgPSB7IG5hbWVzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZmllbGRzLm5hbWVzKSBzYy5ibGFja0xpc3QuZmllbGRzLm5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgc2MuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfbmFtZV9iO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfaWRfYikge1xuICAgICAgICAgICAgICAgIGlmICghc2MuYmxhY2tMaXN0KSBzYy5ibGFja0xpc3QgPSB7IGZpZWxkczogeyBpZHM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZpZWxkcykgc2MuYmxhY2tMaXN0LmZpZWxkcyA9IHsgaWRzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZmllbGRzLmlkcykgc2MuYmxhY2tMaXN0LmZpZWxkcy5pZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy5ibGFja0xpc3QuZmllbGRzLmlkcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfaWRfYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2M7XG4gICAgfVxufVxuIiwiZGVjbGFyZSBjb25zdCBwdWJsaWNTdWZmaXhMaXN0O1xuZGVjbGFyZSBjb25zdCBwdW55Y29kZTtcbmRlY2xhcmUgY29uc3QgcHNsRGF0YTtcblxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcbiAgICBwcml2YXRlIHBzbEluaXRpYWxpc2VkID0gZmFsc2U7XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8gR2VuZXJhbCB1dGlsaXR5IGZ1bmN0aW9uc1xuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgdmVyc2lvbkFzSW50KHZlcnNpb25BcnJheSkge1xuICAgICAgICBsZXQgdmFsdWUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnNpb25BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIDI1NiArIHZlcnNpb25BcnJheVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICB2ZXJzaW9uQXNBcnJheSh2ZXJzaW9uSW50KSB7XG4gICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IFswLCAwLCAwXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gYnl0ZUFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBieXRlID0gdmVyc2lvbkludCAmIDB4ZmY7XG4gICAgICAgICAgICBieXRlQXJyYXlbaV0gPSBieXRlO1xuICAgICAgICAgICAgdmVyc2lvbkludCA9ICh2ZXJzaW9uSW50IC0gYnl0ZSkgLyAyNTY7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xuICAgIH1cblxuICAgIHZlcnNpb25Bc1N0cmluZyh2ZXJzaW9uSW50KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IFwiXCI7XG4gICAgICAgIGNvbnN0IHZlcnNpb25BcnJheSA9IHRoaXMudmVyc2lvbkFzQXJyYXkodmVyc2lvbkludCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVyc2lvbkFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHZhbHVlICs9IFwiLlwiO1xuICAgICAgICAgICAgdmFsdWUgKz0gdmVyc2lvbkFycmF5W2ldLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIHRoZSB0d28tZGlnaXQgaGV4YWRlY2ltYWwgY29kZSBmb3IgYSBieXRlXG4gICAgdG9IZXhTdHJpbmcoY2hhckNvZGUpIHtcbiAgICAgICAgcmV0dXJuIChcIjBcIiArIGNoYXJDb2RlLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgIH1cblxuICAgIEJpZ0ludEZyb21SYW5kb20oYnl0ZUNvdW50KSB7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZUNvdW50KTtcbiAgICAgICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYnl0ZXMpO1xuICAgICAgICBjb25zdCBoZXggPSBBcnJheS5mcm9tKGJ5dGVzKS5tYXAodGhpcy50b0hleFN0cmluZykuam9pbihcIlwiKTtcbiAgICAgICAgcmV0dXJuIEJpZ0ludChgMHgke2hleH1gKTtcbiAgICB9XG5cbiAgICAvLyBpbnB1dCBjYW4gYmUgZWl0aGVyIFVURjggZm9ybWF0dGVkIHN0cmluZyBvciBhIGJ5dGUgYXJyYXlcbiAgICBoYXNoPFQgZXh0ZW5kcyBzdHJpbmcgfCBVaW50OEFycmF5PihkYXRhOiBULCBvdXRGb3JtYXQgPSBcImhleFwiLCBhbGdvcml0aG0gPSBcIlNIQS0yNTZcIikge1xuICAgICAgICBsZXQgaW5CdWZmZXI6IGFueTtcblxuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT0gXCJzdHJpbmdcIikgaW5CdWZmZXIgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoZGF0YSk7XG4gICAgICAgIGVsc2UgaW5CdWZmZXIgPSBkYXRhO1xuXG4gICAgICAgIHJldHVybiBjcnlwdG8uc3VidGxlLmRpZ2VzdCh7IG5hbWU6IGFsZ29yaXRobSB9LCBpbkJ1ZmZlcikudGhlbihvdXRCdWZmZXIgPT4ge1xuICAgICAgICAgICAgaWYgKG91dEZvcm1hdCA9PSBcImJhc2U2NFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLmJ5dGVBcnJheVRvQmFzZTY0KG91dEJ1ZmZlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KG91dEJ1ZmZlcikpLm1hcCh0aGlzLnRvSGV4U3RyaW5nKS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbnRUb0J5dGVBcnJheShpbnQpIHtcbiAgICAgICAgY29uc3QgYnl0ZUFycmF5ID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gYnl0ZUFycmF5Lmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUgPSBpbnQgJiAweGZmO1xuICAgICAgICAgICAgYnl0ZUFycmF5W2luZGV4XSA9IGJ5dGU7XG4gICAgICAgICAgICBpbnQgPSAoaW50IC0gYnl0ZSkgLyAyNTY7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xuICAgIH1cblxuICAgIGludEFycmF5VG9CeXRlQXJyYXkoaW50QXJyYXkpIHtcbiAgICAgICAgY29uc3QgYnl0ZUFycmF5ID0gbmV3IEFycmF5KGludEFycmF5Lmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpbnRBcnJheS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGxldCBpbnQgPSBpbnRBcnJheVtpbmRleF07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMzsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBieXRlID0gaW50ICYgMHhmZjtcbiAgICAgICAgICAgICAgICBieXRlQXJyYXlbaW5kZXggKiA0ICsgal0gPSBieXRlO1xuICAgICAgICAgICAgICAgIGludCA9IChpbnQgLSBieXRlKSAvIDI1NjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBieXRlQXJyYXk7XG4gICAgfVxuXG4gICAgc3RyaW5nVG9CeXRlQXJyYXkoc3RyKSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICAgICAgcmV0dXJuIGUuZW5jb2RlKHN0cik7XG4gICAgfVxuXG4gICAgLy8gQSB2YXJpYXRpb24gb2YgYmFzZTY0dG9CeXRlQXJyYXkgd2hpY2ggYWxsb3dzIHVzIHRvIGNhbGN1bGF0ZSBhIEhNQUMgZmFyXG4gICAgLy8gbW9yZSBlZmZpY2llbnRseSB0aGFuIHdpdGggc2VwZXJhdGUgbWVtb3J5IGJ1ZmZlcnNcbiAgICBiYXNlNjR0b0J5dGVBcnJheUZvckhNQUMoaW5wdXQsIGV4dHJhTGVuZ3RoLCB2aWV3ID0gbnVsbCkge1xuICAgICAgICBjb25zdCBiaW5hcnkgPSBhdG9iKGlucHV0KTtcbiAgICAgICAgY29uc3QgbGVuID0gYmluYXJ5Lmxlbmd0aDtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGlmICghdmlldykge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGxlbiArIGV4dHJhTGVuZ3RoKTtcbiAgICAgICAgICAgIHZpZXcgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gMjA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmlld1tpICsgb2Zmc2V0XSA9IGJpbmFyeS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cblxuICAgIGJhc2U2NHRvQnl0ZUFycmF5KGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGJpbmFyeSA9IGF0b2IoaW5wdXQpO1xuICAgICAgICBjb25zdCBsZW4gPSBiaW5hcnkubGVuZ3RoO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobGVuKTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZpZXdbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG5cbiAgICBieXRlQXJyYXlUb0Jhc2U2NChhcnJheUJ1ZmZlcik6IHN0cmluZyB7XG4gICAgICAgIGxldCBiYXNlNjQgPSBcIlwiO1xuICAgICAgICBjb25zdCBlbmNvZGluZ3MgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcbiAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBieXRlcy5ieXRlTGVuZ3RoO1xuICAgICAgICBjb25zdCBieXRlUmVtYWluZGVyID0gYnl0ZUxlbmd0aCAlIDM7XG4gICAgICAgIGNvbnN0IG1haW5MZW5ndGggPSBieXRlTGVuZ3RoIC0gYnl0ZVJlbWFpbmRlcjtcbiAgICAgICAgbGV0IGE7XG4gICAgICAgIGxldCBiO1xuICAgICAgICBsZXQgYztcbiAgICAgICAgbGV0IGQ7XG4gICAgICAgIGxldCBjaHVuaztcblxuICAgICAgICAvLyBNYWluIGxvb3AgZGVhbHMgd2l0aCBieXRlcyBpbiBjaHVua3Mgb2YgM1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1haW5MZW5ndGg7IGkgPSBpICsgMykge1xuICAgICAgICAgICAgLy8gQ29tYmluZSBpbnRvIGEgc2luZ2xlIGludGVnZXJcbiAgICAgICAgICAgIGNodW5rID0gKGJ5dGVzW2ldIDw8IDE2KSB8IChieXRlc1tpICsgMV0gPDwgOCkgfCBieXRlc1tpICsgMl07XG5cbiAgICAgICAgICAgIC8vIFVzZSBiaXRtYXNrcyB0byBleHRyYWN0IDYtYml0IHNlZ21lbnRzIGZyb20gdGhlIHRyaXBsZXRcbiAgICAgICAgICAgIGEgPSAoY2h1bmsgJiAxNjUxNTA3MikgPj4gMTg7IC8vIDE2NTE1MDcyID0gKDJeNiAtIDEpIDw8IDE4XG4gICAgICAgICAgICBiID0gKGNodW5rICYgMjU4MDQ4KSA+PiAxMjsgLy8gMjU4MDQ4ID0gKDJeNiAtIDEpIDw8IDEyXG4gICAgICAgICAgICBjID0gKGNodW5rICYgNDAzMikgPj4gNjsgLy8gNDAzMiA9ICgyXjYgLSAxKSA8PCA2XG4gICAgICAgICAgICBkID0gY2h1bmsgJiA2MzsgLy8gNjMgPSAyXjYgLSAxXG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHJhdyBiaW5hcnkgc2VnbWVudHMgdG8gdGhlIGFwcHJvcHJpYXRlIEFTQ0lJIGVuY29kaW5nXG4gICAgICAgICAgICBiYXNlNjQgKz0gZW5jb2RpbmdzW2FdICsgZW5jb2RpbmdzW2JdICsgZW5jb2RpbmdzW2NdICsgZW5jb2RpbmdzW2RdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVhbCB3aXRoIHRoZSByZW1haW5pbmcgYnl0ZXMgYW5kIHBhZGRpbmdcbiAgICAgICAgaWYgKGJ5dGVSZW1haW5kZXIgPT0gMSkge1xuICAgICAgICAgICAgY2h1bmsgPSBieXRlc1ttYWluTGVuZ3RoXTtcblxuICAgICAgICAgICAgYSA9IChjaHVuayAmIDI1MikgPj4gMjsgLy8gMjUyID0gKDJeNiAtIDEpIDw8IDJcblxuICAgICAgICAgICAgLy8gU2V0IHRoZSA0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgdG8gemVyb1xuICAgICAgICAgICAgYiA9IChjaHVuayAmIDMpIDw8IDQ7IC8vIDMgPSAyXjIgLSAxXG5cbiAgICAgICAgICAgIGJhc2U2NCArPSBlbmNvZGluZ3NbYV0gKyBlbmNvZGluZ3NbYl0gKyBcIj09XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoYnl0ZVJlbWFpbmRlciA9PSAyKSB7XG4gICAgICAgICAgICBjaHVuayA9IChieXRlc1ttYWluTGVuZ3RoXSA8PCA4KSB8IGJ5dGVzW21haW5MZW5ndGggKyAxXTtcblxuICAgICAgICAgICAgYSA9IChjaHVuayAmIDY0NTEyKSA+PiAxMDsgLy8gNjQ1MTIgPSAoMl42IC0gMSkgPDwgMTBcbiAgICAgICAgICAgIGIgPSAoY2h1bmsgJiAxMDA4KSA+PiA0OyAvLyAxMDA4ICA9ICgyXjYgLSAxKSA8PCA0XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIHRvIHplcm9cbiAgICAgICAgICAgIGMgPSAoY2h1bmsgJiAxNSkgPDwgMjsgLy8gMTUgPSAyXjQgLSAxXG5cbiAgICAgICAgICAgIGJhc2U2NCArPSBlbmNvZGluZ3NbYV0gKyBlbmNvZGluZ3NbYl0gKyBlbmNvZGluZ3NbY10gKyBcIj1cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlNjQ7XG4gICAgfVxuXG4gICAgaGV4U3RyaW5nVG9CeXRlQXJyYXkoaGV4U3RyaW5nLCBieXRlQXJyYXkgPSBudWxsKSB7XG4gICAgICAgIGlmIChoZXhTdHJpbmcubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJNdXN0IGhhdmUgYW4gZXZlbiBudW1iZXIgb2YgaGV4IGRpZ2l0cyB0byBjb252ZXJ0IHRvIGJ5dGVzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG51bUJ5dGVzID0gaGV4U3RyaW5nLmxlbmd0aCAvIDI7XG4gICAgICAgIGlmICghYnl0ZUFycmF5KSBieXRlQXJyYXkgPSBuZXcgVWludDhBcnJheShudW1CeXRlcyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykge1xuICAgICAgICAgICAgYnl0ZUFycmF5W2ldID0gcGFyc2VJbnQoaGV4U3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xuICAgIH1cblxuICAgIG5ld0dVSUQoKSB7XG4gICAgICAgIGNvbnN0IGx1dCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICAgICAgICBsdXRbaV0gPSAoaSA8IDE2ID8gXCIwXCIgOiBcIlwiKSArIGkudG9TdHJpbmcoMTYpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHZhbHMgPSBuZXcgVWludDMyQXJyYXkoNCk7XG4gICAgICAgIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGR2YWxzKTtcbiAgICAgICAgY29uc3QgZDAgPSBkdmFsc1swXTtcbiAgICAgICAgY29uc3QgZDEgPSBkdmFsc1sxXTtcbiAgICAgICAgY29uc3QgZDIgPSBkdmFsc1syXTtcbiAgICAgICAgY29uc3QgZDMgPSBkdmFsc1szXTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGx1dFtkMCAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDAgPj4gOCkgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbKGQwID4+IDE2KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDAgPj4gMjQpICYgMHhmZl0gK1xuICAgICAgICAgICAgXCItXCIgK1xuICAgICAgICAgICAgbHV0W2QxICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMSA+PiA4KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIFwiLVwiICtcbiAgICAgICAgICAgIGx1dFsoKGQxID4+IDE2KSAmIDB4MGYpIHwgMHg0MF0gK1xuICAgICAgICAgICAgbHV0WyhkMSA+PiAyNCkgJiAweGZmXSArXG4gICAgICAgICAgICBcIi1cIiArXG4gICAgICAgICAgICBsdXRbKGQyICYgMHgzZikgfCAweDgwXSArXG4gICAgICAgICAgICBsdXRbKGQyID4+IDgpICYgMHhmZl0gK1xuICAgICAgICAgICAgXCItXCIgK1xuICAgICAgICAgICAgbHV0WyhkMiA+PiAxNikgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbKGQyID4+IDI0KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFtkMyAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDMgPj4gOCkgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbKGQzID4+IDE2KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDMgPj4gMjQpICYgMHhmZl1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBiYXNlNjR1cmxEZWNvZGUoaW5wdXQ6IHN0cmluZykge1xuICAgICAgICAvLyBJIGRvbid0IHNlZSB3aHkgd2UgZG8gYW55IHJlcGxhY2VtZW50cyBoZXJlLiBTZWVtcyBhIHBvaW50bGVzcyB3YXN0ZSBvZiBjeWNsZXMuIE5lZWRzIHRlc3RpbmcgYW5kIHJlbW92YWwgaWYgSSdtIHJpZ2h0LlxuICAgICAgICByZXR1cm4gYXRvYihpbnB1dC5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKSk7XG4gICAgfVxuXG4gICAgYmluYXJ5VG9CeXRlQXJyYXkoYmluYXJ5OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgICAgICAgY29uc3QgbGVuID0gYmluYXJ5Lmxlbmd0aDtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGxlbik7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2aWV3W2ldID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuXG4gICAgYmFzZTY0dXJsdG9CeXRlQXJyYXkoaW5wdXQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBiaW5hcnkgPSB0aGlzLmJhc2U2NHVybERlY29kZShpbnB1dCk7XG4gICAgICAgIHJldHVybiB0aGlzLmJpbmFyeVRvQnl0ZUFycmF5KGJpbmFyeSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwc2woKSB7XG4gICAgICAgIGlmICghcHVibGljU3VmZml4TGlzdCkgdGhyb3cgbmV3IEVycm9yKFwicHVibGljU3VmZml4TGlzdCBsaWJyYXJ5IG5vdCBwcmVzZW50XCIpO1xuICAgICAgICBpZiAoIXRoaXMucHNsSW5pdGlhbGlzZWQpIHtcbiAgICAgICAgICAgIHB1YmxpY1N1ZmZpeExpc3QucGFyc2UocHNsRGF0YS50ZXh0LCBwdW55Y29kZS50b0FTQ0lJKTtcbiAgICAgICAgICAgIHRoaXMucHNsSW5pdGlhbGlzZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwdWJsaWNTdWZmaXhMaXN0O1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHV0aWxzID0gbmV3IFV0aWxzKCk7XG4iLCIvKlxuICBUaGVyZSBhcmUgZm91ciBjdW11bGF0aXZlIGxvZyBsZXZlbHMuXG5cbiAgRXJyb3IgPSAxXG4gIFdhcm4gPSAyXG4gIEluZm8gPSAzXG4gIERlYnVnID0gNFxuXG4gIFRoZSBkZWZhdWx0IGxldmVsIChXYXJuKSB3aWxsIGJlIHNldCBhcyBwYXJ0IG9mIHRoZSBpbnN0YWxsYXRpb24gcHJvY2Vzcy5cblxuICBJZiBEZWJ1ZyBsZXZlbCBpcyBzZWxlY3RlZCwgYSBQZXJzaXN0ZW50TG9nZ2VyIG9iamVjdCBpbiB0aGUgYmFja2dyb3VuZFxuICBwcm9jZXNzIHdpbGwgc3RvcmUgdGhlIGxvZyBlbnRyaWVzIGluIGxvY2FsU3RvcmFnZSBvbiBhIHJlZ3VsYXIgYmFzaXMuIEJ1dFxuICBvbmx5IGlmIHlvdSBlZGl0IHRoZSBjb2RlIHRvIGVuYWJsZSB0aGlzIGZlYXR1cmUgYmVjYXVzZSBpdCBpcyB2ZXJ5IHJlc291cmNlLWh1bmdyeVxuXG4qL1xuXG5leHBvcnQgY2xhc3MgS2VlTG9nZ2VyIHtcbiAgICBwdWJsaWMgZGVmYXVsdExldmVsID0gNDtcbiAgICBwcml2YXRlIG91dHB1dFN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBwcml2YXRlIGNvbmZpZyA9IHsgbG9nTGV2ZWw6IHRoaXMuZGVmYXVsdExldmVsIH07XG5cbiAgICBhdHRhY2hDb25maWcoY29uZmlnOiB7IGxvZ0xldmVsOiBudW1iZXIgfSkge1xuICAgICAgICB0aGlzLmRlYnVnKFwiTG9nZ2luZyBzeXN0ZW0gY29uZmlnIHVwZGF0ZWQgYXQgXCIgKyBEYXRlKCkpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHJldHVybiBcIlwiO1xuXG4gICAgICAgIGlmICghdGhpcy5vdXRwdXRTdGFydGVkKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gXCIqIFwiICsgbWVzc2FnZTtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxvZ0xldmVsID49IDQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLmZvcm1hdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCg0LCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluZm8obWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSAzKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCgzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdhcm4obWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSAyKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCgyLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcubG9nTGV2ZWwgPj0gMSkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRoaXMuZm9ybWF0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvZ0xldmVsID49IDQgJiYgdGhpcy5zZW5kKDEsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIHNlbmQobG9nTGV2ZWw6IDEgfCAyIHwgMyB8IDQsIG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICAvLyBGb3IgYWR2YW5jZWQgZGVidWdnaW5nLCBlc3BlY2lhbGx5IGFjcm9zcyBicm93c2VyIHJlc3RhcnRzLFxuICAgICAgICAvLyBlbmFibGUgdGhlIGNvZGUgYmVsb3cgYW5kIHRoZSByZWxldmFudCBQZXJzaXN0ZW50TG9nZ2VyIGxpbmVzXG4gICAgICAgIC8vIGluIGJhY2tncm91bmQudHNcbiAgICAgICAgLy8gY29uc3QgbG9nRW50cnkgPSB7bG9nTGV2ZWwsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbWVzc2FnZX07XG4gICAgICAgIC8vIGlmICh3aW5kb3cuS2VlUGVyc2lzdGVudExvZ2dlcikge1xuICAgICAgICAvLyAgICAgLy8gV2lsbCBvbmx5IGJlIHRydWUgaW4gdGhlIGJhY2tncm91bmQgcHJvY2Vzc1xuICAgICAgICAvLyAgICAgd2luZG93LktlZVBlcnNpc3RlbnRMb2dnZXIuZW1pdChsb2dFbnRyeSk7XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2UobG9nRW50cnkpO1xuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgc3RhY2tUcmFjZSgpIHtcbiAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZChcIiVjIFN0YWNrIFRyYWNlXCIsIFwiY29sb3I6Y3JlYW07IGZvbnQtc3R5bGU6IG5vcm1hbDtcIik7XG4gICAgICAgIGNvbnNvbGUuZGVidWcobmV3IEVycm9yKCkuc3RhY2spO1xuICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgS2VlTG9nID0gbmV3IEtlZUxvZ2dlcigpO1xuIiwiaW1wb3J0IHtcbiAgICBDb25maWcsXG4gICAgU2l0ZUNvbmZpZyxcbiAgICBTaXRlQ29uZmlnTG9va3VwLFxuICAgIFNpdGVDb25maWdNZXRob2QsXG4gICAgU2l0ZUNvbmZpZ05vZGUsXG4gICAgU2l0ZUNvbmZpZ05vZGVUeXBlLFxuICAgIFNpdGVDb25maWdUYXJnZXRcbn0gZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgeyBDb25maWdNaWdyYXRpb25zIH0gZnJvbSBcIi4vQ29uZmlnTWlncmF0aW9uc1wiO1xuaW1wb3J0IHsgZGVmYXVsdFNpdGVDb25maWcgfSBmcm9tIFwiLi9EZWZhdWx0U2l0ZUNvbmZpZ1wiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi9tb2RlbC9GaWVsZFwiO1xuaW1wb3J0IHsgS2VlTG9nIH0gZnJvbSBcIi4vTG9nZ2VyXCI7XG5cbnR5cGUgU2l0ZUNvbmZpZ05vZGVBbmRJbmRleCA9IHtcbiAgICBub2RlOiBTaXRlQ29uZmlnTm9kZTtcbiAgICB0YXJnZXQ6IFNpdGVDb25maWdUYXJnZXQ7XG4gICAgbWV0aG9kOiBTaXRlQ29uZmlnTWV0aG9kO1xuICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG59O1xuXG4vKlxuICBFbnRyeS1zcGVjaWZpYyBjb25maWd1cmF0aW9uIGlzIHN0b3JlZCBpbiBLZWVQYXNzIGJ1dCBpbiBmdXR1cmUgbWF5YmVcbiAgd2UnbGwgc3RpbGwgbWFrZSBpdCBhdmFpbGFibGUgZnJvbSB0aGlzIGludGVyZmFjZS5cbiovXG5cbi8vIFByZXRlbmQgYnJvd3NlciAoV2ViRXh0ZW5zaW9ucykgaXMgY2hyb21lICh3ZSBpbmNsdWRlIGFcbi8vIHBvbHlmaWxsIGZyb20gTW96aWxsYSBidXQgaXQgZG9lc24ndCB3b3JrIGluIHNvbWUgY2FzZXMpXG5kZWNsYXJlIGNvbnN0IGNocm9tZTtcblxuLy8gaW5jcmVtZW50IHdoZW4gY2hhbmdlcyBhcmUgaW50cm9kdWNlZCB0aGF0IHJlcXVpcmUgZGF0YSBtaWdyYXRpb25cbmV4cG9ydCBjb25zdCBMQVRFU1RfVkVSU0lPTiA9IDg7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29uZmlnID0gbmV3IENvbmZpZygpO1xuZGVmYXVsdENvbmZpZy5hdXRvRmlsbERpYWxvZ3MgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcuYXV0b0ZpbGxGb3JtcyA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLmF1dG9GaWxsRm9ybXNXaXRoTXVsdGlwbGVNYXRjaGVzID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmF1dG9TdWJtaXRGb3JtcyA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5hdXRvU3VibWl0RGlhbG9ncyA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5hdXRvU3VibWl0TWF0Y2hlZEZvcm1zID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmNvbm5TTENsaWVudCA9IDI7XG5kZWZhdWx0Q29uZmlnLmNvbm5TTFNlcnZlck1pbiA9IDI7XG5kZWZhdWx0Q29uZmlnLmtlZVBhc3NEQlRvT3BlbiA9IFwiXCI7XG5kZWZhdWx0Q29uZmlnLmtlZVBhc3NNUlVEQiA9IFwiXCI7XG5kZWZhdWx0Q29uZmlnLktlZVBhc3NSUENXZWJTb2NrZXRQb3J0ID0gMTI1NDY7XG5kZWZhdWx0Q29uZmlnLktQUlBDVXNlcm5hbWUgPSBcIlwiO1xuZGVmYXVsdENvbmZpZy5LUFJQQ1N0b3JlZEtleXMgPSB7fTtcbmRlZmF1bHRDb25maWcubGFzdENvbm5lY3RlZFRvS2VlUGFzcyA9IFwiXCI7XG5kZWZhdWx0Q29uZmlnLmxpc3RBbGxPcGVuREJzID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcubG9nTGV2ZWwgPSBLZWVMb2cuZGVmYXVsdExldmVsO1xuZGVmYXVsdENvbmZpZy5sb2dNZXRob2RDb25zb2xlID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmxvZ01ldGhvZEZpbGUgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcubG9nU2Vuc2l0aXZlRGF0YSA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5tZXRyaWNzVXNhZ2VEaXNhYmxlZCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5tZXRyaWNzVXNlcklkID0gXCJcIjtcbmRlZmF1bHRDb25maWcubm90aWZ5V2hlbkVudHJ5VXBkYXRlZCA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLm5vdGlmeVdoZW5MYXRlRGlzY292ZXJ5ID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLm5vdGlmeVdoZW5Mb2dnZWRPdXQgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcub3ZlcldyaXRlRmllbGRzQXV0b21hdGljYWxseSA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5yZW1lbWJlck1SVURCID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcucmVtZW1iZXJNUlVHcm91cCA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLnNhdmVGYXZpY29ucyA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLnNlYXJjaEFsbE9wZW5EQnMgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5jb25maWcgPSBudWxsO1xuZGVmYXVsdENvbmZpZy5zaXRlQ29uZmlnID0gZGVmYXVsdFNpdGVDb25maWc7XG5kZWZhdWx0Q29uZmlnLnR1dG9yaWFsUHJvZ3Jlc3MgPSBcIlwiO1xuZGVmYXVsdENvbmZpZy52ZXJzaW9uID0gTEFURVNUX1ZFUlNJT047XG5kZWZhdWx0Q29uZmlnLnRyaWdnZXJDaGFuZ2VJbnB1dEV2ZW50QWZ0ZXJGaWxsID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmF1dG9TdWJtaXROZXR3b3JrQXV0aFdpdGhTaW5nbGVNYXRjaCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5zZWFyY2hOZXR3b3JrQXV0aCA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLm5vdGlmaWNhdGlvbkNvdW50R2VuZXJpYyA9IDA7XG5kZWZhdWx0Q29uZmlnLm5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkID0gMDtcbmRlZmF1bHRDb25maWcuY3VycmVudFNlYXJjaFRlcm1UaW1lb3V0ID0gMzA7XG5kZWZhdWx0Q29uZmlnLm5vdGlmeVBhc3N3b3JkQXZhaWxhYmxlRm9yUGFzdGUgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5hbmltYXRlV2hlbk9mZmVyaW5nU2F2ZSA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLmtlZVZhdWx0TGF1bmNoTWVzc2FnZURpc21pc3NlZCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5rZWVWYXVsdExhdW5jaFN0YXJ0ID0gODY0MDAwMDAwMDAwMDAwMDtcbmRlZmF1bHRDb25maWcua2VlVmF1bHRMYXVuY2hFbmQgPSA4NjQwMDAwMDAwMDAwMDAwO1xuZGVmYXVsdENvbmZpZy5tYW51YWxTdWJtaXRPdmVycmlkZVByb2hpYml0ZWQgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcudGhlbWUgPSBudWxsO1xuZGVmYXVsdENvbmZpZy5oaWRlQ29uZmlybWF0aW9uQWZ0ZXJTYXZlID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLm11c3RTaG93UmVsZWFzZU5vdGVzQXRTdGFydHVwID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmF1dG9GaWxsRmllbGRzV2l0aEV4aXN0aW5nVmFsdWUgPSBmYWxzZTtcblxuZXhwb3J0IGNsYXNzIENvbmZpZ01hbmFnZXIge1xuICAgIHB1YmxpYyBjdXJyZW50OiBDb25maWc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXhDaGFyc1BlclBhZ2U6IG51bWJlciA9IDEwMDAwO1xuICAgIHByaXZhdGUgX2xpc3RlbmVycyA9IFtdO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBkZWZhdWx0Q29uZmlnO1xuICAgICAgICBicm93c2VyLnN0b3JhZ2Uub25DaGFuZ2VkLmFkZExpc3RlbmVyKChhLCBiKSA9PiB0aGlzLnJlbG9hZE9uU3RvcmFnZUNoYW5nZShhLCBiKSk7XG4gICAgfVxuXG4gICAgLy8gU29tZSBwcm9jZXNzZXMgbWF5IHdhbnQgdG8gdGFrZSBhY3Rpb24gd2hlbiBzZXR0aW5ncyBhcmUgY2hhbmdlZCAoZS5nLiB0aGUgYmFja2dyb3VuZFxuICAgIC8vIHByb2Nlc3MgdG8gbm90aWZ5IHRoZSBLUFJQQyBzZXJ2ZXIpLiBVc2luZyB0aGlzIHJhdGhlciB0aGFuIGJyb3dzZXIuc3RvcmFnZS5vbkNoYW5nZWQuYWRkTGlzdGVuZXJcbiAgICAvLyBlbnN1cmVzIHRoYXQgb3VyIGNvbmZpZ01hbmFnZXIgZGF0YSBpcyBjb25zaXN0ZW50IHdpdGggdGhlIHVuZGVybHlpbmcgc3RvcmFnZVxuICAgIHB1YmxpYyBhZGRDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWxvYWRPblN0b3JhZ2VDaGFuZ2UoY2hhbmdlczogYnJvd3Nlci5zdG9yYWdlLlN0b3JhZ2VDaGFuZ2UsIGFyZWE6IHN0cmluZykge1xuICAgICAgICAvLyBXZSBhc3N1bWUgZXZlcnkgY2hhbmdlIHJlcXVpcmVzIGEgcmVsb2FkIG9mIHRoZSBjb25maWcgZGF0YS4gU2luY2Ugd2UgYmF0Y2ggYW5kXG4gICAgICAgIC8vIHBhZ2UgdGhlIGRhdGEgdG8gZW5hYmxlIGVub3VnaCBzdG9yYWdlIHNwYWNlIHRoaXMgaXMgbGlrbGV5IHNhZmUgZm9yIHRoZVxuICAgICAgICAvLyBsb25nLXRlcm0gYnV0IHBlcmhhcHMgcGVyZm9ybWFuY2UgZ2FpbnMgY291bGQgYmUgZm91bmQgYXJvdW5kIGhlcmUgb25lIGRheS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgYWxzbyByZWxvYWQgYWZ0ZXIgZXZlcnkgc2F2ZSB3aGljaCBpcyBob3JyaWJseSBpbmVmZmljaWVudCBidXQgdGhlIGFsdGVybmF0aXZlXG4gICAgICAgIC8vIGlzIGZpbmRpbmcgYSByZWxpYWJsZSBjcm9zcy1wcm9jZXNzIGxvY2tpbmcgbWVjaGFuaXNtIHRvIGVuc3VyZSB3ZSBvbmx5IGRpc2FibGVcbiAgICAgICAgLy8gcmVsb2FkaW5nIGR1cmluZyBhbiBhc3luYyBzYXZlIG9wZXJhdGlvbiBhbmQgbm90IGZvciBhIG1vbWVudCBsb25nZXIuIFRoYXQncyBqdXN0XG4gICAgICAgIC8vIG5vdCB3b3J0aCB0aGUgcmlzayBvZiBtaXNzaW5nIGEgY2hhbmdlIGZyb20gYW5vdGhlciBwcm9jZXNzLlxuXG4gICAgICAgIGNvbmZpZ01hbmFnZXIucmVsb2FkKCgpID0+IHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGNoYW5nZXMsIGFyZWEpKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHNldEFTQVAodmFsdWVzOiBQYXJ0aWFsPENvbmZpZz4pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmN1cnJlbnQsIHZhbHVlcyk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcGxpdFN0cmluZ1RvUGFnZXMoc3RyOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbnVtUGFnZXMgPSBNYXRoLmNlaWwoc3RyLmxlbmd0aCAvIHRoaXMubWF4Q2hhcnNQZXJQYWdlKTtcbiAgICAgICAgY29uc3QgcGFnZXMgPSBuZXcgQXJyYXkobnVtUGFnZXMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBvID0gMDsgaSA8IG51bVBhZ2VzOyArK2ksIG8gKz0gdGhpcy5tYXhDaGFyc1BlclBhZ2UpIHtcbiAgICAgICAgICAgIHBhZ2VzW2ldID0gc3RyLnN1YnN0cihvLCB0aGlzLm1heENoYXJzUGVyUGFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhZ2VzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBzYXZlKCkge1xuICAgICAgICBjb25zdCBjb25maWdTdHJpbmcgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmN1cnJlbnQpO1xuICAgICAgICBjb25zdCBwYWdlcyA9IHRoaXMuc3BsaXRTdHJpbmdUb1BhZ2VzKGNvbmZpZ1N0cmluZyk7XG4gICAgICAgIGNvbnN0IGNvbmZpZ1ZhbHVlczogYW55ID0ge307XG5cbiAgICAgICAgY29uZmlnVmFsdWVzLmtlZUNvbmZpZ1BhZ2VDb3VudCA9IHBhZ2VzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25maWdWYWx1ZXNbXCJrZWVDb25maWdQYWdlXCIgKyBpXSA9IHBhZ2VzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoY29uZmlnVmFsdWVzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZChvbkxvYWRlZCkge1xuICAgICAgICAvLyBXZSBjb21wbGV0ZWx5IHJlcGxhY2UgY3VycmVudCBjb25maWcgd2l0aCB3aGF0IHdlIGxvYWQgYmVjYXVzZSB3ZVxuICAgICAgICAvLyBkb24ndCBrbm93IHRoYXQgYXBwbHlpbmcgb250byB0aGUgZGVmYXVsdHMgd2lsbCByZXN1bHQgaW4gYSBzYWZlXG4gICAgICAgIC8vIG1pZ3JhdGlvbiBmcm9tIGFueSBvbGQgdmVyc2lvbiB0aGF0IHdlIGxvYWQuIEl0IHdvdWxkIHByb2JhYmx5IGJlXG4gICAgICAgIC8vIGZpbmUgYnV0IG1pZ2h0IHJlcXVpcmUgdmVyc2lvbiBjb21wYXJpc29ucy4uLiBpbiB3aGljaCBjYXNlIHdlIG1pZ2h0XG4gICAgICAgIC8vIGFzIHdlbGwganVzdCBpbmNyZW1lbnQgdGhlIHZlcnNpb24gbnVtYmVyIGFuZCBydW4gYSBtaWdyYXRpb24gb25jZVxuICAgICAgICAvLyByYXRoZXIgdGhhbiBpbmN1ciBpbmNyZWFzZWQgb25nb2luZyBsb2FkIGNvc3RzLlxuICAgICAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KCkudGhlbihjb25maWcgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFnZUNvdW50ID0gY29uZmlnW1wia2VlQ29uZmlnUGFnZUNvdW50XCJdO1xuXG4gICAgICAgICAgICBpZiAocGFnZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbmZpZ1N0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UGFnZSA9IGNvbmZpZ1tcImtlZUNvbmZpZ1BhZ2VcIiArIGldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFBhZ2UpIGNvbmZpZ1N0cmluZyArPSBuZXh0UGFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ1N0cmluZykgdGhpcy5jdXJyZW50ID0gSlNPTi5wYXJzZShjb25maWdTdHJpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRQYWdlQ291bnQgPSBjb25maWdbXCJrZWVmb3hDb25maWdQYWdlQ291bnRcIl07XG5cbiAgICAgICAgICAgICAgICBpZiAob2xkUGFnZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25maWdTdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZFBhZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UGFnZSA9IGNvbmZpZ1tcImtlZWZveENvbmZpZ1BhZ2VcIiArIGldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRQYWdlKSBjb25maWdTdHJpbmcgKz0gbmV4dFBhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZ1N0cmluZykgdGhpcy5jdXJyZW50ID0gSlNPTi5wYXJzZShjb25maWdTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAvL1RPRE86NDogRGVsZXRlIHRoZSBvbGQga2VlZm94IHByZWZpeGVkIGRhdGEgdG8gc2F2ZSBzcGFjZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZml4SW52YWxpZENvbmZpZ0RhdGEoKTtcbiAgICAgICAgICAgIHRoaXMubWlncmF0ZVRvTGF0ZXN0VmVyc2lvbigpO1xuICAgICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyB0eXBpY2FsbHkgaW52YWxpZCBkdWUgdG8gdGhlIHByZXZpb3VzIGV4ZWN1dGlvbiBvZiBhbHBoYSBhbmQgYmV0YSBjb2RlXG4gICAgLy8gb24gdGhlIHVzZXIncyBzeXN0ZW0gYnV0IHdoYXRldmVyIHRoZSByZWFzb24sIHRoZSBpdGVtcyBoZXJlIGFyZSBlc3BlY2lhbGx5IGhhcmRcbiAgICAvLyB0byBmaXggdGhyb3VnaCB0aGUgVUkgYW5kIGNyaXRpY2FsIHRvIEtlZSBmdW5jdGlvbmFsaXR5IHNvIHdlIHRha2Ugbm8gY2hhbmNlc1xuICAgIHByaXZhdGUgZml4SW52YWxpZENvbmZpZ0RhdGEoKSB7XG4gICAgICAgIGxldCBzYXZlTmVlZGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQuS1BSUENTdG9yZWRLZXlzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5LUFJQQ1N0b3JlZEtleXMgPSB7fTtcbiAgICAgICAgICAgIHNhdmVOZWVkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYXZlTmVlZGVkKSB0aGlzLnNhdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1pZ3JhdGVUb0xhdGVzdFZlcnNpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQudmVyc2lvbiA+PSBMQVRFU1RfVkVSU0lPTikgcmV0dXJuO1xuICAgICAgICBjb25zdCBtaWdyYXRpb25zID0gbmV3IENvbmZpZ01pZ3JhdGlvbnMoKTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tZmFsbHRocm91Z2ggKi9cbiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnQudmVyc2lvbikge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjIodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb24zKHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uNCh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjUodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb242KHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uNyh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjgodGhpcy5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWZhbGx0aHJvdWdoICovXG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtaWdyYXRlRnJvbVJlbW90ZVRvTGF0ZXN0VmVyc2lvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudC52ZXJzaW9uID49IExBVEVTVF9WRVJTSU9OKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG1pZ3JhdGlvbnMgPSBuZXcgQ29uZmlnTWlncmF0aW9ucygpO1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1mYWxsdGhyb3VnaCAqL1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudC52ZXJzaW9uKSB7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uNih0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjcodGhpcy5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWZhbGx0aHJvdWdoICovXG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVsb2FkKG9uTG9hZGVkPykge1xuICAgICAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KCkudGhlbihjb25maWcgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFnZUNvdW50ID0gY29uZmlnW1wia2VlQ29uZmlnUGFnZUNvdW50XCJdO1xuXG4gICAgICAgICAgICBpZiAocGFnZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbmZpZ1N0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UGFnZSA9IGNvbmZpZ1tcImtlZUNvbmZpZ1BhZ2VcIiArIGldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFBhZ2UpIGNvbmZpZ1N0cmluZyArPSBuZXh0UGFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ1N0cmluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHRoaXMuY3VycmVudCwgSlNPTi5wYXJzZShjb25maWdTdHJpbmcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25Mb2FkZWQpIG9uTG9hZGVkKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaXRlQ29uZmlnTG9va3VwRm9yKHRhcmdldDogU2l0ZUNvbmZpZ1RhcmdldCwgbWV0aG9kOiBTaXRlQ29uZmlnTWV0aG9kKSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT0gXCJEb21haW5cIikge1xuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIkV4YWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIlByZWZpeFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5QcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblByZWZpeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJSZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgPT0gXCJIb3N0XCIpIHtcbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJFeGFjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0RXhhY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdEV4YWN0ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJQcmVmaXhcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RQcmVmaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiUmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RSZWdleCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ID09IFwiUGFnZVwiKSB7XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiRXhhY3RcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZUV4YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlRXhhY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiUHJlZml4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUHJlZml4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIlJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUmVnZXggPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaXRlQ29uZmlnRm9yKHVybDogc3RyaW5nKTogU2l0ZUNvbmZpZyB7XG4gICAgICAgIGNvbnN0IG1hdGNoZWRDb25maWdOb2RlcyA9IHRoaXMuZmluZEFsbENvbmZpZ3NGb3IodXJsKTtcbiAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnNvcnQoKG5vZGUxLCBub2RlMikgPT4gbm9kZTIubWF0Y2hXZWlnaHQgLSBub2RlMS5tYXRjaFdlaWdodCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlcml2ZUNvbmZpZ0Zyb21NYXRjaGVzKG1hdGNoZWRDb25maWdOb2Rlcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kQWxsQ29uZmlnc0Zvcih1cmxTdHJpbmc6IHN0cmluZykge1xuICAgICAgICBjb25zdCBtYXRjaGVkQ29uZmlnTm9kZXM6IFNpdGVDb25maWdOb2RlW10gPSBbXTtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh1cmxTdHJpbmcpO1xuICAgICAgICBjb25zdCBob3N0ID0gdXJsLmhvc3Q7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBob3N0ICsgdXJsLnBhdGhuYW1lO1xuICAgICAgICBjb25zdCBkb21haW4gPSB1dGlscy5wc2wuZ2V0RG9tYWluKGhvc3QpO1xuXG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluRXhhY3RbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBob3N0KSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdEV4YWN0W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcGFnZSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4KSB7XG4gICAgICAgICAgICBpZiAoZG9tYWluLnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4KSB7XG4gICAgICAgICAgICBpZiAoaG9zdC5zdGFydHNXaXRoKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RQcmVmaXhbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXgpIHtcbiAgICAgICAgICAgIGlmIChwYWdlLnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUmVnZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHZhbHVlKS50ZXN0KGRvbWFpbikpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4KSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCh2YWx1ZSkudGVzdChob3N0KSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RSZWdleFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4KSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCh2YWx1ZSkudGVzdChwYWdlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGNoZWRDb25maWdOb2RlcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbmRBbGxDb25maWdzQW5kSW5kZXhGb3IodXJsU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlczogU2l0ZUNvbmZpZ05vZGVBbmRJbmRleFtdID0gW107XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcbiAgICAgICAgY29uc3QgaG9zdCA9IHVybC5ob3N0O1xuICAgICAgICBjb25zdCBwYWdlID0gaG9zdCArIHVybC5wYXRobmFtZTtcbiAgICAgICAgY29uc3QgZG9tYWluID0gdXRpbHMucHNsLmdldERvbWFpbihob3N0KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0KSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IGRvbWFpbikge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkRvbWFpblwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiRXhhY3RcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0RXhhY3QpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gaG9zdCkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJIb3N0XCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJFeGFjdFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBwYWdlKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZUV4YWN0W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIlBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkV4YWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4KSB7XG4gICAgICAgICAgICBpZiAoZG9tYWluLnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkRvbWFpblwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUHJlZml4XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFByZWZpeCkge1xuICAgICAgICAgICAgaWYgKGhvc3Quc3RhcnRzV2l0aCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkhvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlByZWZpeFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXgpIHtcbiAgICAgICAgICAgIGlmIChwYWdlLnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJQYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQcmVmaXhcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleCkge1xuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAodmFsdWUpLnRlc3QoZG9tYWluKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblJlZ2V4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkRvbWFpblwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UmVnZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHZhbHVlKS50ZXN0KGhvc3QpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkhvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4KSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCh2YWx1ZSkudGVzdChwYWdlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJQYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJSZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVyaXZlQ29uZmlnRnJvbU1hdGNoZXMobWF0Y2hlZENvbmZpZ05vZGVzOiBTaXRlQ29uZmlnTm9kZVtdKSB7XG4gICAgICAgIGNvbnN0IGRlcml2ZWRDb25maWc6IFNpdGVDb25maWcgPSB7fTtcbiAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbm9kZS5jb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb24gPT0gbnVsbFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbiA9IG5vZGUuY29uZmlnLnByZXZlbnRTYXZlTm90aWZpY2F0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5vZGUuY29uZmlnLmxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcubGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZSA9PSBudWxsXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmUgPSBub2RlLmNvbmZpZy5saXN0TWF0Y2hpbmdDYXNlU2Vuc2l0aXZlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdCA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0LmZvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5mb3JtID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLmJsYWNrTGlzdC5mb3JtLmlkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybS5pZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZvcm0uaWRzID0gbm9kZS5jb25maWcuYmxhY2tMaXN0LmZvcm0uaWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy5ibGFja0xpc3QuZm9ybS5uYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybS5uYW1lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybS5uYW1lcyA9IG5vZGUuY29uZmlnLmJsYWNrTGlzdC5mb3JtLm5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy5ibGFja0xpc3QuZmllbGRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZpZWxkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5maWVsZHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0LmZpZWxkcy5pZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZpZWxkcy5pZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZpZWxkcy5pZHMgPSBub2RlLmNvbmZpZy5ibGFja0xpc3QuZmllbGRzLmlkcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZmllbGRzLm5hbWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5maWVsZHMubmFtZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNvbmZpZy5ibGFja0xpc3QuZmllbGRzLm5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdCA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0LmZvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5mb3JtID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLndoaXRlTGlzdC5mb3JtLmlkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybS5pZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZvcm0uaWRzID0gbm9kZS5jb25maWcud2hpdGVMaXN0LmZvcm0uaWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy53aGl0ZUxpc3QuZm9ybS5uYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybS5uYW1lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybS5uYW1lcyA9IG5vZGUuY29uZmlnLndoaXRlTGlzdC5mb3JtLm5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy53aGl0ZUxpc3QuZmllbGRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZpZWxkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5maWVsZHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0LmZpZWxkcy5pZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZpZWxkcy5pZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZpZWxkcy5pZHMgPSBub2RlLmNvbmZpZy53aGl0ZUxpc3QuZmllbGRzLmlkcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0LmZpZWxkcy5uYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5maWVsZHMubmFtZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNvbmZpZy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbm9kZS5jb25maWcucHJlZmVycmVkRW50cnlVdWlkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9PSBudWxsXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9IG5vZGUuY29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZXJpdmVkQ29uZmlnO1xuICAgIH1cblxuICAgIHByaXZhdGUgbm9ybWFsaXplRm9ybVByb3BlcnR5KGlucHV0OiB1bmtub3duLCBpYzogYm9vbGVhbikge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGljID8gaW5wdXQudG9Mb3dlckNhc2UoKSA6IGlucHV0O1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0Zvcm1JbnRlcmVzdGluZyhmb3JtOiBIVE1MRm9ybUVsZW1lbnQsIGNvbmY6IFNpdGVDb25maWcsIG90aGVyRmllbGRzOiBGaWVsZFtdKSB7XG4gICAgICAgIGNvbnN0IGljID0gY29uZi5saXN0TWF0Y2hpbmdDYXNlU2Vuc2l0aXZlICE9PSB0cnVlO1xuICAgICAgICBjb25zdCBmaWVsZElkcyA9IG90aGVyRmllbGRzXG4gICAgICAgICAgICAubWFwKGZpZWxkID0+IChpYyA/IGZpZWxkLmxvY2F0b3JzWzBdPy5pZC50b0xvd2VyQ2FzZSgpIDogZmllbGQubG9jYXRvcnNbMF0/LmlkKSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZXMgPSBvdGhlckZpZWxkc1xuICAgICAgICAgICAgLm1hcChmaWVsZCA9PiAoaWMgPyBmaWVsZC5sb2NhdG9yc1swXT8ubmFtZS50b0xvd2VyQ2FzZSgpIDogZmllbGQubG9jYXRvcnNbMF0/Lm5hbWUpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgZm9ybUlkID0gdGhpcy5ub3JtYWxpemVGb3JtUHJvcGVydHkoZm9ybS5pZCwgaWMpO1xuICAgICAgICBjb25zdCBmb3JtTmFtZSA9IHRoaXMubm9ybWFsaXplRm9ybVByb3BlcnR5KGZvcm0ubmFtZSwgaWMpO1xuICAgICAgICBjb25zdCBleGNsdWRlRm9ybUlkcyA9IChjb25mPy5ibGFja0xpc3Q/LmZvcm0/LmlkcyB8fCBbXSlcbiAgICAgICAgICAgIC5tYXAoeCA9PiAoaWMgPyB4Py50b0xvd2VyQ2FzZSgpIDogeCkpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBleGNsdWRlRm9ybU5hbWVzID0gKGNvbmY/LmJsYWNrTGlzdD8uZm9ybT8ubmFtZXMgfHwgW10pXG4gICAgICAgICAgICAubWFwKHggPT4gKGljID8geD8udG9Mb3dlckNhc2UoKSA6IHgpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgZXhjbHVkZUZpZWxkSWRzID0gKGNvbmY/LmJsYWNrTGlzdD8uZmllbGRzPy5pZHMgfHwgW10pXG4gICAgICAgICAgICAubWFwKHggPT4gKGljID8geD8udG9Mb3dlckNhc2UoKSA6IHgpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgZXhjbHVkZUZpZWxkTmFtZXMgPSAoY29uZj8uYmxhY2tMaXN0Py5maWVsZHM/Lm5hbWVzIHx8IFtdKVxuICAgICAgICAgICAgLm1hcCh4ID0+IChpYyA/IHg/LnRvTG93ZXJDYXNlKCkgOiB4KSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICAgICAgY29uc3QgZXhjbHVkZWQgPVxuICAgICAgICAgICAgZXhjbHVkZUZvcm1JZHMuaW5kZXhPZihmb3JtSWQpID49IDAgfHxcbiAgICAgICAgICAgIGV4Y2x1ZGVGb3JtTmFtZXMuaW5kZXhPZihmb3JtTmFtZSkgPj0gMCB8fFxuICAgICAgICAgICAgZXhjbHVkZUZpZWxkSWRzLnNvbWUoaWQgPT4gZmllbGRJZHMuZmluZChpID0+IGlkID09PSBpKSAhPT0gdW5kZWZpbmVkKSB8fFxuICAgICAgICAgICAgZXhjbHVkZUZpZWxkTmFtZXMuc29tZShuYW1lID0+IGZpZWxkTmFtZXMuZmluZChuID0+IG5hbWUgPT09IG4pICE9PSB1bmRlZmluZWQpO1xuXG4gICAgICAgIGlmIChleGNsdWRlZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGluY2x1ZGVGb3JtSWRzID0gY29uZj8ud2hpdGVMaXN0Py5mb3JtPy5pZHMgfHwgW107XG4gICAgICAgIGNvbnN0IGluY2x1ZGVGb3JtTmFtZXMgPSBjb25mPy53aGl0ZUxpc3Q/LmZvcm0/Lm5hbWVzIHx8IFtdO1xuICAgICAgICBjb25zdCBpbmNsdWRlRmllbGRJZHMgPSBjb25mPy53aGl0ZUxpc3Q/LmZpZWxkcz8uaWRzIHx8IFtdO1xuICAgICAgICBjb25zdCBpbmNsdWRlRmllbGROYW1lcyA9IGNvbmY/LndoaXRlTGlzdD8uZmllbGRzPy5uYW1lcyB8fCBbXTtcblxuICAgICAgICBjb25zdCBpbmNsdWRlZCA9XG4gICAgICAgICAgICBpbmNsdWRlRm9ybUlkcy5pbmRleE9mKGZvcm1JZCkgPj0gMCB8fFxuICAgICAgICAgICAgaW5jbHVkZUZvcm1OYW1lcy5pbmRleE9mKGZvcm1OYW1lKSA+PSAwIHx8XG4gICAgICAgICAgICBpbmNsdWRlRmllbGRJZHMuc29tZShpZCA9PiBmaWVsZElkcy5maW5kKGkgPT4gaWQgPT09IGkpICE9PSB1bmRlZmluZWQpIHx8XG4gICAgICAgICAgICBpbmNsdWRlRmllbGROYW1lcy5zb21lKG5hbWUgPT4gZmllbGROYW1lcy5maW5kKG4gPT4gbmFtZSA9PT0gbikgIT09IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgaWYgKGluY2x1ZGVkKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGFjdGl2ZVRoZW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQudGhlbWUgfHxcbiAgICAgICAgICAgICh3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcyA/IFwiZGFya1wiIDogXCJsaWdodFwiKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b2dnbGVQcmVmZXJyZWRFbnRyeVV1aWQodXVpZDogc3RyaW5nLCB1cmxTdHJpbmc6IHN0cmluZykge1xuICAgICAgICBsZXQgdXJsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdXJsID0gbmV3IFVSTCh1cmxTdHJpbmcpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBLZWVMb2cuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJJbnZhbGlkIFVSTCBzdXBwbGllZCB0byB0b2dnbGVQcmVmZXJyZWRFbnRyeVV1aWQuIFByZWZlcnJlZCBlbnRyeSB3aWxsIG5vdCBiZSBhbHRlcmVkLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbmZpZ3VyZWRUYXJnZXQ6IFNpdGVDb25maWdUYXJnZXQgPSBcIkRvbWFpblwiO1xuICAgICAgICBjb25zdCBhbGxDb25maWdOb2Rlc0FuZExvb2t1cHMgPSB0aGlzLmZpbmRBbGxDb25maWdzQW5kSW5kZXhGb3IodXJsU3RyaW5nKTtcbiAgICAgICAgY29uc3QgZGVyaXZlZENvbmZpZyA9IHRoaXMuc2l0ZUNvbmZpZ0Zvcih1cmxTdHJpbmcpO1xuICAgICAgICBjb25zdCBjdXJyZW50UHJlZmVycmVkVXVpZCA9IGRlcml2ZWRDb25maWcucHJlZmVycmVkRW50cnlVdWlkO1xuXG4gICAgICAgIGlmIChjdXJyZW50UHJlZmVycmVkVXVpZCA9PT0gdXVpZCkge1xuICAgICAgICAgICAgYWxsQ29uZmlnTm9kZXNBbmRMb29rdXBzLmZvckVhY2goY25sID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY25sLm5vZGUuY29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9PT0gdXVpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVByZWZlcnJlZEVudHJ5VXVpZChjbmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxsQ29uZmlnTm9kZXNBbmRMb29rdXBzLmZvckVhY2goY25sID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNubC5ub2RlLmNvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQgPT09IGN1cnJlbnRQcmVmZXJyZWRVdWlkICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVhc3RTcGVjaWZpY1RhcmdldChjb25maWd1cmVkVGFyZ2V0LCBjbmwudGFyZ2V0KSA9PT0gY29uZmlndXJlZFRhcmdldFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVByZWZlcnJlZEVudHJ5VXVpZChjbmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFNpdGVDb25maWdQYXJhbWV0ZXJzKFxuICAgICAgICAgICAgICAgIHsgcHJlZmVycmVkRW50cnlVdWlkOiB1dWlkIH0gYXMgU2l0ZUNvbmZpZyxcbiAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgY29uZmlndXJlZFRhcmdldCxcbiAgICAgICAgICAgICAgICBcIkV4YWN0XCIsXG4gICAgICAgICAgICAgICAgXCJBdXRvXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVQcmVmZXJyZWRFbnRyeVV1aWQoY25sOiBTaXRlQ29uZmlnTm9kZUFuZEluZGV4KSB7XG4gICAgICAgIGNubC5ub2RlLmNvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQgPSBudWxsO1xuXG4gICAgICAgIC8vIFVubGVzcyB0aGUgdXNlciBoYXMgbWFudWFsbHkgbW9kaWZpZWQgdGhlIHBlci1zaXRlIGNvbmZpZyBmb3IgdGhpcyBzaXRlXG4gICAgICAgIC8vIHdlIGNhbiB0aWR5IHVwIHRoaXMgdW5uZWNlc3NhcnkgZGF0YVxuICAgICAgICBpZiAoY25sLm5vZGUuc291cmNlID09PSBcIkF1dG9cIiAmJiB0aGlzLmVxdWFsc0RlZmF1bHRTaXRlQ29uZmlnKGNubC5ub2RlLmNvbmZpZykpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvb2t1cCA9IHRoaXMuc2l0ZUNvbmZpZ0xvb2t1cEZvcihjbmwudGFyZ2V0LCBjbmwubWV0aG9kKTtcbiAgICAgICAgICAgIGRlbGV0ZSBsb29rdXBbY25sLmxvb2t1cFZhbHVlXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXF1YWxzRGVmYXVsdFNpdGVDb25maWcoY29uZmlnOiBTaXRlQ29uZmlnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9PT0gXCJib29sZWFuXCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb24gPT09IFwiYm9vbGVhblwiKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmUgPT09IFwiYm9vbGVhblwiKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb25maWcud2hpdGVMaXN0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb25maWcuYmxhY2tMaXN0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGVhc3RTcGVjaWZpY1RhcmdldCh0MTogU2l0ZUNvbmZpZ1RhcmdldCwgdDI6IFNpdGVDb25maWdUYXJnZXQpOiBTaXRlQ29uZmlnVGFyZ2V0IHtcbiAgICAgICAgaWYgKHQxID09PSBcIkRvbWFpblwiIHx8IHQyID09PSBcIkRvbWFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJEb21haW5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodDEgPT09IFwiSG9zdFwiIHx8IHQyID09PSBcIkhvc3RcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiSG9zdFwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlBhZ2VcIjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdmFsdWVGcm9tVXJsKHVybDogVVJMLCB0YXJnZXQ6IFNpdGVDb25maWdUYXJnZXQpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBob3N0ID0gdXJsLmhvc3Q7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IFwiSG9zdFwiKSByZXR1cm4gaG9zdDtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gXCJQYWdlXCIpIHJldHVybiBob3N0ICsgdXJsLnBhdGhuYW1lO1xuICAgICAgICBpZiAodGFyZ2V0ID09PSBcIkRvbWFpblwiKSByZXR1cm4gdXRpbHMucHNsLmdldERvbWFpbihob3N0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkU2l0ZUNvbmZpZ1BhcmFtZXRlcnMoXG4gICAgICAgIHBhcnRpYWxDb25maWc6IFBhcnRpYWw8U2l0ZUNvbmZpZz4sXG4gICAgICAgIHVybDogVVJMLFxuICAgICAgICB0YXJnZXQ6IFNpdGVDb25maWdUYXJnZXQsXG4gICAgICAgIG1ldGhvZDogU2l0ZUNvbmZpZ01ldGhvZCxcbiAgICAgICAgc291cmNlOiBTaXRlQ29uZmlnTm9kZVR5cGVcbiAgICApIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlRnJvbVVybCh1cmwsIHRhcmdldCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xvb2t1cCA9IGNvbmZpZ01hbmFnZXIuc2l0ZUNvbmZpZ0xvb2t1cEZvcih0YXJnZXQsIG1ldGhvZCk7XG4gICAgICAgIGlmICghY29uZmlnTG9va3VwW3ZhbHVlXSkge1xuICAgICAgICAgICAgY29uZmlnTG9va3VwW3ZhbHVlXSA9IHsgY29uZmlnOiBuZXcgU2l0ZUNvbmZpZygpLCBzb3VyY2UsIG1hdGNoV2VpZ2h0OiAxMDAgfTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZ0xvb2t1cFt2YWx1ZV0uY29uZmlnLCBwYXJ0aWFsQ29uZmlnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBjb25maWdNYW5hZ2VyID0gbmV3IENvbmZpZ01hbmFnZXIoKTtcbiIsImltcG9ydCB7IGNvbmZpZ01hbmFnZXIgfSBmcm9tIFwiLi4vY29tbW9uL0NvbmZpZ01hbmFnZXJcIjtcblxuZXhwb3J0IGNsYXNzIFBhbmVsU3R1Yk9wdGlvbnMge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXV0b0Nsb3NlVGltZTogbnVtYmVyO1xuICAgIGxlZ2FjeTogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBzdGF0aWMgTWF0Y2hlZExvZ2luczogUGFuZWxTdHViT3B0aW9ucyA9IHtcbiAgICAgICAgaWQ6IFwiS2VlQWRkb25QYW5lbE1hdGNoZWRMb2dpbnNcIixcbiAgICAgICAgaGVpZ2h0OiAzMDAsXG4gICAgICAgIHdpZHRoOiA0MDAsXG4gICAgICAgIG5hbWU6IFwibWF0Y2hlZExvZ2luc0xlZ2FjeVwiLFxuICAgICAgICBhdXRvQ2xvc2VUaW1lOiAwLFxuICAgICAgICBsZWdhY3k6IHRydWVcbiAgICB9O1xuXG4gICAgcHVibGljIHN0YXRpYyBHZW5lcmF0ZVBhc3N3b3JkTGVnYWN5OiBQYW5lbFN0dWJPcHRpb25zID0ge1xuICAgICAgICBpZDogXCJLZWVBZGRvblBhbmVsR2VuZXJhdGVQYXNzd29yZFwiLFxuICAgICAgICBoZWlnaHQ6IDMwMCxcbiAgICAgICAgd2lkdGg6IDQwMCxcbiAgICAgICAgbmFtZTogXCJnZW5lcmF0ZVBhc3N3b3JkTGVnYWN5XCIsXG4gICAgICAgIGF1dG9DbG9zZVRpbWU6IDAsXG4gICAgICAgIGxlZ2FjeTogdHJ1ZVxuICAgIH07XG5cbiAgICBwdWJsaWMgc3RhdGljIEdlbmVyYXRlUGFzc3dvcmQ6IFBhbmVsU3R1Yk9wdGlvbnMgPSB7XG4gICAgICAgIGlkOiBcIktlZUFkZG9uUGFuZWxHZW5lcmF0ZVBhc3N3b3JkXCIsXG4gICAgICAgIGhlaWdodDogNTAwLFxuICAgICAgICB3aWR0aDogNDUwLFxuICAgICAgICBuYW1lOiBcImdlbmVyYXRlUGFzc3dvcmRcIixcbiAgICAgICAgYXV0b0Nsb3NlVGltZTogMCxcbiAgICAgICAgbGVnYWN5OiBmYWxzZVxuICAgIH07XG59XG5cbmV4cG9ydCBjbGFzcyBQYW5lbFN0dWIge1xuICAgIHByaXZhdGUgdGFyZ2V0OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSB0YXJnZXRSZWxhdGl2ZVJlY3Q6IENsaWVudFJlY3Q7XG4gICAgcHJpdmF0ZSBvcHRpb25zOiBQYW5lbFN0dWJPcHRpb25zO1xuICAgIHByaXZhdGUgcGFyZW50RnJhbWVJZDogbnVtYmVyO1xuICAgIHByaXZhdGUgZWxlbWVudFRvUmVmb2N1czogRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBhbmVsU3R1Yk9wdGlvbnMsIHRhcmdldDogSFRNTEVsZW1lbnQsIHBhcmVudEZyYW1lSWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5wYXJlbnRGcmFtZUlkID0gcGFyZW50RnJhbWVJZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlUGFuZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmFtZSA9PSBcImdlbmVyYXRlUGFzc3dvcmRcIikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50VG9SZWZvY3VzID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuY29udGFpbmVyLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwiY2xvc2VkXCIgfSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlkID0gdGhpcy5vcHRpb25zLmlkO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgOmhvc3QoZGl2KSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ3ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1gO1xuICAgICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QgPSB0aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25QYW5lbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJ3aWR0aFwiLCB0aGlzLm9wdGlvbnMud2lkdGggKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgdGhpcy5vcHRpb25zLmhlaWdodCArIFwicHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBcInRvcFwiLFxuICAgICAgICAgICAgICAgICh3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLm9wdGlvbnMuaGVpZ2h0KSAvIDIgKyB3aW5kb3cuc2Nyb2xsWSArIFwicHhcIixcbiAgICAgICAgICAgICAgICBcImltcG9ydGFudFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgXCJsZWZ0XCIsXG4gICAgICAgICAgICAgICAgKHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy5vcHRpb25zLndpZHRoKSAvIDIgKyB3aW5kb3cuc2Nyb2xsWCArIFwicHhcIixcbiAgICAgICAgICAgICAgICBcImltcG9ydGFudFwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcInNhbmRib3hcIiwgXCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luXCIpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiYWxsb3dcIiwgXCJcIik7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcIndpZHRoXCIsIFwiMTAwJVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwiaGVpZ2h0XCIsIFwiMTAwJVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIiwgXCJibG9ja1wiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwicG9zaXRpb25cIiwgXCJyZWxhdGl2ZVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXG4gICAgICAgICAgICBjb25maWdNYW5hZ2VyLmFjdGl2ZVRoZW1lID09PSBcImRhcmtcIiA/IFwiIzFlMWUxZVwiIDogXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcImltcG9ydGFudFwiXG4gICAgICAgICk7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzY3JvbGxpbmdcIiwgXCJub1wiKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sZWdhY3kpIHtcbiAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcImJvcmRlclwiLCBcIm5vbmVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXCJib3JkZXJcIiwgXCIycHggc29saWQgIzFhNDY2YlwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcImJvcmRlci1yYWRpdXNcIiwgXCI4cHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBicm93c2VyLmV4dGVuc2lvbi5nZXRVUkwoXG4gICAgICAgICAgICBgcGFuZWxzL3BhbmVscyR7dGhpcy5vcHRpb25zLmxlZ2FjeSA/IFwiTGVnYWN5XCIgOiBcIlwifS5odG1sYFxuICAgICAgICApO1xuICAgICAgICBpZnJhbWUuc3JjID0gYCR7dGVtcGxhdGV9P3BhcmVudEZyYW1lSWQ9JHt0aGlzLnBhcmVudEZyYW1lSWR9JmF1dG9DbG9zZVRpbWU9JHt0aGlzLm9wdGlvbnMuYXV0b0Nsb3NlVGltZX0mcGFuZWw9JHt0aGlzLm9wdGlvbnMubmFtZX0mdGhlbWU9JHtjb25maWdNYW5hZ2VyLmFjdGl2ZVRoZW1lfWA7XG5cbiAgICAgICAgY29uc3QgYm9keUVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpO1xuICAgICAgICBpZiAoYm9keUVsZW1lbnRzICYmIGJvZHlFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBib2R5RWxlbWVudHNbMF0uYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZnJhbWVzZXRFbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZnJhbWVzZXRcIik7XG4gICAgICAgICAgICBpZiAoZnJhbWVzZXRFbGVtZW50cyAmJiBmcmFtZXNldEVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmcmFtZXNldEVsZW1lbnRzWzBdLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVCb3VuZGluZ0NsaWVudFJlY3QoKSB7XG4gICAgICAgIGNvbnN0IG9sZFJlY3QgPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdDtcbiAgICAgICAgdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QgPSB0aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBvbGRSZWN0LnRvcCAhPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC50b3AgfHxcbiAgICAgICAgICAgIG9sZFJlY3QuYm90dG9tICE9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmJvdHRvbSB8fFxuICAgICAgICAgICAgb2xkUmVjdC5sZWZ0ICE9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmxlZnQgfHxcbiAgICAgICAgICAgIG9sZFJlY3QucmlnaHQgIT0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QucmlnaHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uUGFuZWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcG9zaXRpb25QYW5lbCgpIHtcbiAgICAgICAgY29uc3QgcHJlZmVycmVkQ29udGFpbmVySGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodDtcbiAgICAgICAgbGV0IGNvbnRhaW5lckhlaWdodCA9IHByZWZlcnJlZENvbnRhaW5lckhlaWdodDtcbiAgICAgICAgY29uc3QgY29udGFpbmVyV2lkdGggPSB0aGlzLm9wdGlvbnMud2lkdGg7XG4gICAgICAgIGxldCBwb3NpdGlvbkFib3ZlID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0VG9wID0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QudG9wICsgd2luZG93LnNjcm9sbFk7XG4gICAgICAgIGNvbnN0IHRhcmdldEJvdHRvbSA9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmJvdHRvbSArIHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICBjb25zdCBwcmVmZXJyZWRBcnJvd1hDb29yZCA9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LnJpZ2h0IC0gMTI7XG5cbiAgICAgICAgY29uc3QgcHJlZmVycmVkQm90dG9tID0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QuYm90dG9tICsgcHJlZmVycmVkQ29udGFpbmVySGVpZ2h0O1xuICAgICAgICBpZiAocHJlZmVycmVkQm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmZXJyZWRUb3AgPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC50b3AgLSBwcmVmZXJyZWRDb250YWluZXJIZWlnaHQ7XG4gICAgICAgICAgICBpZiAocHJlZmVycmVkVG9wID49IDApIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkFib3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3dCb3R0b20gPSBwcmVmZXJyZWRCb3R0b20gLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3dUb3AgPSAtcHJlZmVycmVkVG9wO1xuICAgICAgICAgICAgICAgIGlmIChvdmVyZmxvd0JvdHRvbSA+IG92ZXJmbG93VG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQWJvdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBwcmVmZXJyZWRDb250YWluZXJIZWlnaHQgLSBvdmVyZmxvd1RvcDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBwcmVmZXJyZWRDb250YWluZXJIZWlnaHQgLSBvdmVyZmxvd0JvdHRvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZlIGFzIGZhciBsZWZ0IGFzIHBvc3NpYmxlIHdoaWxlIGtlZXBpbmcgdGhlIEtlZSBpY29uIGFib3ZlIHRoZSBjb250YWluZXIgYW5kIG5vdFxuICAgICAgICAvLyBnb2luZyBiZXlvbmQgdGhlIGxlZnQgZWRnZSBvZiB0aGUgdGFyZ2V0LiBXZSBhc3N1bWUgdGhlIEtlZSBpY29uIGlzIGFsd2F5cyB2aXNpYmxlIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIHVzZXIgaGFzIGhhZCB0byBpbnRlcmFjdCB3aXRoIHRoZSBidXR0b24gaW5pdGlhbGx5LiBUaGF0IGFzc3VtcHRpb24gd29uJ3QgYWx3YXlzIGhvbGRcbiAgICAgICAgLy8gLSBlLmcuIGluIHZlcnkgbmFycm93IHNjcmVlbnMgd2l0aCBrZXlib2FyZCBhY3RpdmF0aW9uIG9yIHNvbWUgbGF0ZXIgd2luZG93IG9yIERPTSBhZGp1c3RtZW50cyBidXQgdGhpcyBzaG91bGRcbiAgICAgICAgLy8gYmUgYW4gZWRnZSBjYXNlIHRoYXQgdXNlcnMgY2FuIHdvcmsgYXJvdW5kIHVudGlsIHdlIGhhdmUgbW9yZSB0aW1lIHRvIGV4dGVuZCBzdXBwb3J0IHRvIHRob3NlIHNjZW5hcmlvcy5cbiAgICAgICAgY29uc3QgdGFyZ2V0V2lkdGggPSBwcmVmZXJyZWRBcnJvd1hDb29yZCAtIHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmxlZnQ7XG4gICAgICAgIGxldCByZWxhdGl2ZUxlZnQ6IG51bWJlcjtcbiAgICAgICAgaWYgKHRhcmdldFdpZHRoIDwgY29udGFpbmVyV2lkdGgpIHtcbiAgICAgICAgICAgIHJlbGF0aXZlTGVmdCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGggLSBjb250YWluZXJXaWR0aFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbGF0aXZlTGVmdCA9IHByZWZlcnJlZEFycm93WENvb3JkIC0gY29udGFpbmVyV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b3AgPSBwb3NpdGlvbkFib3ZlID8gdGFyZ2V0VG9wIC0gY29udGFpbmVySGVpZ2h0IDogdGFyZ2V0Qm90dG9tO1xuICAgICAgICBjb25zdCBsZWZ0ID0gcmVsYXRpdmVMZWZ0ICsgd2luZG93LnNjcm9sbFg7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFwid2lkdGhcIiwgY29udGFpbmVyV2lkdGggKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcImhlaWdodFwiLCBjb250YWluZXJIZWlnaHQgKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcInRvcFwiLCB0b3AgKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcImxlZnRcIiwgbGVmdCArIFwicHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlUGFuZWwoKSB7XG4gICAgICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRpb25zLmlkKTtcbiAgICAgICAgaWYgKHBhbmVsKSBwYW5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBhbmVsKTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudFRvUmVmb2N1cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAodGhpcy5lbGVtZW50VG9SZWZvY3VzIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gRXhwZWN0ZWQgaWYgYWN0aXZlRWxlbWVudCB3YXMgbm90IGFjdHVhbGx5IGFuIEhUTUxFbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZW51bSBBY3Rpb24ge1xuICAgIENsb3NlQWxsUGFuZWxzID0gXCJjbG9zZUFsbFBhbmVsc1wiLFxuICAgIERldGVjdEZvcm1zID0gXCJkZXRlY3RGb3Jtc1wiLFxuICAgIFJlc2V0Rm9ybXMgPSBcInJlc2V0Rm9ybXNcIixcbiAgICBHZXRQYXNzd29yZFByb2ZpbGVzID0gXCJnZXRQYXNzd29yZFByb2ZpbGVzXCIsXG4gICAgR2VuZXJhdGVQYXNzd29yZCA9IFwiZ2VuZXJhdGVQYXNzd29yZFwiLFxuICAgIE1hbnVhbEZpbGwgPSBcIm1hbnVhbEZpbGxcIixcbiAgICBQcmltYXJ5ID0gXCJwcmltYXJ5XCIsXG4gICAgU2hvd01hdGNoZWRMb2dpbnNQYW5lbCA9IFwic2hvd01hdGNoZWRMb2dpbnNQYW5lbFwiLFxuICAgIFBhZ2VIaWRlID0gXCJwYWdlSGlkZVwiLFxuICAgIE9wZW5LZWVQYXNzID0gXCJvcGVua2VlcGFzc1wiLFxuICAgIENyZWF0ZUVudHJ5ID0gXCJjcmVhdGVFbnRyeVwiLFxuICAgIFVwZGF0ZUVudHJ5ID0gXCJ1cGRhdGVFbnRyeVwiXG59XG4iLCJpbXBvcnQgeyBGb3JtVXRpbHMgfSBmcm9tIFwiLi9mb3Jtc1V0aWxzXCI7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tIFwiLi4vY29tbW9uL0FjdGlvblwiO1xuaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4uL2NvbW1vbi9BZGRvbk1lc3NhZ2VcIjtcbmltcG9ydCB7IE1hdGNoZWRGaWVsZCB9IGZyb20gXCIuL01hdGNoZWRGaWVsZFwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5XCI7XG5cbmV4cG9ydCBjbGFzcyBLZWVGaWVsZEljb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG15UG9ydDogYnJvd3Nlci5ydW50aW1lLlBvcnQsXG4gICAgICAgIHByaXZhdGUgcGFyZW50RnJhbWVJZDogbnVtYmVyLFxuICAgICAgICBwcml2YXRlIGZvcm1VdGlsczogRm9ybVV0aWxzLFxuICAgICAgICBwcml2YXRlIGNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbE5lYXJOb2RlOiAoZTogSFRNTEVsZW1lbnQpID0+IHZvaWRcbiAgICApIHt9XG5cbiAgICBwcml2YXRlIGZpZWxkc1dpdGhJY29uczogTWF0Y2hlZEZpZWxkW10gPSBbXTtcbiAgICBwcml2YXRlIHBhc3N3b3JkRmllbGRzOiBNYXRjaGVkRmllbGRbXTtcbiAgICBwcml2YXRlIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXTtcblxuICAgIHB1YmxpYyByZW1vdmVLZWVJY29uRnJvbUFsbEZpZWxkcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiB0aGlzLmZpZWxkc1dpdGhJY29ucykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudDogSFRNTEVsZW1lbnQgPSBmaWVsZC5ET01lbGVtZW50O1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSBjb250aW51ZTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJcIik7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1yZXBlYXRcIiwgXCJcIik7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCIsIFwiXCIpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtc2l6ZVwiLCBcIlwiKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmllbGRzV2l0aEljb25zID0gW107XG4gICAgICAgIHRoaXMucGFzc3dvcmRGaWVsZHMgPSBudWxsO1xuICAgICAgICB0aGlzLm90aGVyRmllbGRzID0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkS2VlSWNvblRvRmllbGRzKFxuICAgICAgICBwYXNzd29yZEZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgZW50cmllczogRW50cnlbXVxuICAgICkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkRmllbGRzID0gcGFzc3dvcmRGaWVsZHM7XG4gICAgICAgIHRoaXMub3RoZXJGaWVsZHMgPSBvdGhlckZpZWxkcztcblxuICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmdldExhYmVsbGVkSWNvbihlbnRyaWVzLmxlbmd0aC50b1N0cmluZygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJJbWFnZUxvYWRlZCh0aGlzLktFRUZPWF9JQ09OXzE2KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2tpcEZpZWxkKGZpZWxkOiBNYXRjaGVkRmllbGQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIXRoaXMuZm9ybVV0aWxzLmlzQVRleHRGb3JtRmllbGRUeXBlKGZpZWxkLmZpZWxkLnR5cGUpICYmXG4gICAgICAgICAgICBmaWVsZC5maWVsZC50eXBlICE9IFwicGFzc3dvcmRcIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFmaWVsZC5ET01lbGVtZW50IHx8XG4gICAgICAgICAgICBmaWVsZC5ET01lbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQgfHxcbiAgICAgICAgICAgICFmaWVsZC5ET01lbGVtZW50LmlzQ29ubmVjdGVkXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLkRPTWVsZW1lbnQubWF4TGVuZ3RoID4gMCAmJiBmaWVsZC5ET01lbGVtZW50Lm1heExlbmd0aCA8PSAzKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGZpZWxkLkRPTWVsZW1lbnQub2Zmc2V0V2lkdGggPCA1MCkgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZEljb24oZmllbGQ6IE1hdGNoZWRGaWVsZCwgaW1hZ2U6IHN0cmluZykge1xuICAgICAgICB0aGlzLmZpZWxkc1dpdGhJY29ucy5wdXNoKGZpZWxkKTtcblxuICAgICAgICBjb25zdCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IGZpZWxkLkRPTWVsZW1lbnQ7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcyk7XG5cbiAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJ1cmwoJ1wiICsgaW1hZ2UgKyBcIicpXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1yZXBlYXRcIiwgXCJuby1yZXBlYXRcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLWF0dGFjaG1lbnRcIiwgXCJzY3JvbGxcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLXNpemVcIiwgXCIxNnB4IDE2cHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsIFwiY2FsYygxMDAlIC0gNHB4KSA1MCVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJjdXJzb3JcIiwgXCJhdXRvXCIpO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25Db25maWcgPSB3aW5kb3dcbiAgICAgICAgICAgIC5nZXRDb21wdXRlZFN0eWxlKGZpZWxkLkRPTWVsZW1lbnQpXG4gICAgICAgICAgICAuZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zaXRpb24tcHJvcGVydHlcIik7XG4gICAgICAgIGlmIChbXCJhbGxcIiwgXCJiYWNrZ3JvdW5kXCJdLnNvbWUodmFsID0+IHRyYW5zaXRpb25Db25maWcuaW5jbHVkZXModmFsKSkpIHtcbiAgICAgICAgICAgIGZpZWxkLkRPTWVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJ0cmFuc2l0aW9uXCIsIFwibm9uZVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3ZlcnJpZGVCb3hTaGFkb3dzKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBoYW5kbGVFdmVudChlOiBFdmVudCkge1xuICAgICAgICBpZiAoZS50eXBlID09PSBcImNsaWNrXCIpIHRoaXMuc2hvd01hdGNoZWRMb2dpbnNQYW5lbChlKTtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJtb3VzZW1vdmVcIikgdGhpcy5ob3Zlck92ZXJJbnB1dChlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxpbWl0RmllbGRzKGZpZWxkczogTWF0Y2hlZEZpZWxkW10pIHtcbiAgICAgICAgY29uc3Qgb3JkZXJlZEZpZWxkcyA9IGZpZWxkc1xuICAgICAgICAgICAgLmZpbHRlcihmID0+ICF0aGlzLnNraXBGaWVsZChmKSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGEuaGlnaGVzdFNjb3JlID09PSBiLmhpZ2hlc3RTY29yZSkgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuaGlnaGVzdFNjb3JlIDwgYi5oaWdoZXN0U2NvcmUgPyAxIDogLTE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9yZGVyZWRGaWVsZHMuc2xpY2UoMCwgMik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZnRlckltYWdlTG9hZGVkKGltYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgLy8gUHV0IGljb25zIGluIG9ubHkgdGhlIHRvcCAyIG1hdGNoaW5nIHBhc3N3b3JkIGFuZCB0ZXh0IGZpZWxkc1xuICAgICAgICBjb25zdCBmaWVsZFNldDEgPSB0aGlzLmxpbWl0RmllbGRzKHRoaXMucGFzc3dvcmRGaWVsZHMpO1xuICAgICAgICBjb25zdCBmaWVsZFNldDIgPSB0aGlzLmxpbWl0RmllbGRzKHRoaXMub3RoZXJGaWVsZHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkU2V0MS5jb25jYXQoZmllbGRTZXQyKSkge1xuICAgICAgICAgICAgdGhpcy5hZGRJY29uKGZpZWxkLCBpbWFnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG92ZXJyaWRlQm94U2hhZG93cyhlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjdXJyZW50U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgICAgaWYgKGN1cnJlbnRTdHlsZSkge1xuICAgICAgICAgICAgY29uc3Qgc2hhZG93cyA9IFtdO1xuICAgICAgICAgICAgc2hhZG93cy5wdXNoKGN1cnJlbnRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiYm94LXNoYWRvd1wiKSk7XG4gICAgICAgICAgICBzaGFkb3dzLnB1c2goY3VycmVudFN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCItd2Via2l0LWJveC1zaGFkb3dcIikpO1xuICAgICAgICAgICAgc2hhZG93cy5wdXNoKGN1cnJlbnRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiLW1vei1ib3gtc2hhZG93XCIpKTtcbiAgICAgICAgICAgIGlmIChzaGFkb3dzLnNvbWUocyA9PiBzLmluZGV4T2YoXCJpbnNldFwiKSkpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYm94LXNoYWRvd1wiLCBcImluaXRpYWxcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi13ZWJraXQtYm94LXNoYWRvd1wiLCBcImluaXRpYWxcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi1tb3otYm94LXNoYWRvd1wiLCBcImluaXRpYWxcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3dNYXRjaGVkTG9naW5zUGFuZWwoZSkge1xuICAgICAgICBjb25zdCBiY3JlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVmdExpbWl0ID0gYmNyZWN0LmxlZnQgKyBiY3JlY3Qud2lkdGggLSAyMjtcbiAgICAgICAgaWYgKGUuY2xpZW50WCA+IGxlZnRMaW1pdCAmJiBiY3JlY3QudG9wIDw9IGUuY2xpZW50WSAmJiBlLmNsaWVudFkgPD0gYmNyZWN0LmJvdHRvbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50RnJhbWVJZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubXlQb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBBY3Rpb24uU2hvd01hdGNoZWRMb2dpbnNQYW5lbFxuICAgICAgICAgICAgICAgIH0gYXMgQWRkb25NZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVNYXRjaGVkTG9naW5zUGFuZWxOZWFyTm9kZShlLnRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhvdmVyT3ZlcklucHV0KGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmRpc2FibGVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJjcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBsZWZ0TGltaXQgPSBiY3JlY3QubGVmdCArIGJjcmVjdC53aWR0aCAtIDIyO1xuICAgICAgICBpZiAoZS5jbGllbnRYID4gbGVmdExpbWl0KSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShcImN1cnNvclwiLCBcInBvaW50ZXJcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZS50YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkoXCJjdXJzb3JcIiwgXCJhdXRvXCIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TGFiZWxsZWRJY29uKHRleHQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMTY7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDYsIDgsIDEwLCA4KTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJyZWRcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IFwiOHB4IEFyaWFsXCI7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRleHQsIDcsIDE1KTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJJbWFnZUxvYWRlZChjYW52YXMudG9EYXRhVVJMKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgaW1nLnNyYyA9IHRoaXMuS0VFRk9YX0lDT05fMTY7XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgS0VFRk9YX0lDT05fMTYgPVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBWUFBQUFmOC85aEFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBQTdBQUFBT3dCZVNoeHZRQUFBQmwwUlZoMFUyOW1kSGRoY21VQWQzZDNMbWx1YTNOallYQmxMbTl5WjV2dVBCb0FBQUFPZEVWWWRGUnBkR3hsQUV0bFpTQnNiMmR2TjU5QjlBQUFBQkIwUlZoMFFYVjBhRzl5QUV0bFpTQldZWFZzZEdYd3k1VUFBQUg4U1VSQlZEaU5oWkRmUzFOaEdNYy96M3ZPRUhlYTBsZ1hya2lzdkFyV1RVU2xGOVhGSUtqL3dhdWd0UCtoZXkvTTV2cEZOMEVnNFVWQjBXQVJTZ2xDMElYMkF3d3R6ZHl3cHBZc3o4NjI4NzVkekxtRGJmVGN2ZC9uOC8wK1gxNkpYNzRTeGd0OUFIclltWWhWZlRiWjg4WjYvU2VXVkVDL3N6RjFickd2VkRUMkpScXpWTExVQ1RsMjhYcmJ0cThMd0w3Nkp0VTFheExoTFRtLzJBL0ExSkZwNXR4T001UlBTQ0JnTTJ5cExyV1FTWGtJRCt0cWQ4amxqTE1wanZnTVJGY1kyUCtOc1BJNTdXeElkOGdOK0htd2tFbDVOb0JVdVdVc3JnSXFabnU3eExYb2w2Q0JtRjFtdWRJT1VEVTJhUUFGc1BvcS9Sa2pHWUI1TDRLbkZYdkgwNHA1endIQXdOUDhpL1R5YmdBQVlrWUJpdHBpZUwwWFAyRDJnZUgxWG9yYXJxRzZ4Z0lFUDBYaXljSDN3SEdBVSswYjNENDRoNnN0aHZJSlp0M09Pdll1bHgwN1dUY0Z1eG9qamVTbFNxM3UxM0tZVDZWSUF3b3dld093dHRvZUlSU0Myc3gybElxcFk1S1BkaHg0M0RMZys4eUlLM0EvcUoxMTFnbUpydG1OdnZOeDRrYTVaUUNBMHBJR0tobzBRRVQ1QUFZb1ZVWGYrNGZmSzZ5OEhNc0JFeVZ0dVFDL2RRZ2ZNUmpHMTdKM2YvdzNBRUFyYzdPbzdmRDRyME9NRkk2aWpTaFJhclFaSzgxRWdIaHljQnJvMjNsTzVyTHBDODI0cGcwQXhFampvdEQwT29EZGFyRmFpVDA1M0xiMlZoQi91ZVBuODFiY1greFh1N3Jlc2w5UkFBQUFBRWxGVGtTdVFtQ0NcIjtcbn1cbiIsImltcG9ydCB7IEZpbGxlZEZpZWxkIH0gZnJvbSBcIi4vRmlsbGVkRmllbGRcIjtcbmltcG9ydCB7IEVudHJ5IH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9FbnRyeVwiO1xuaW1wb3J0IHsgTWF0Y2hlZEZpZWxkIH0gZnJvbSBcIi4vTWF0Y2hlZEZpZWxkXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXRjaFJlc3VsdCB7XG4gICAgZW50cmllczogRW50cnlbXVtdO1xuICAgIHN1Ym1pdFRhcmdldHM6IEhUTUxFbGVtZW50W107XG4gICAgdXNlcm5hbWVJbmRleEFycmF5OiBudW1iZXJbXTtcbiAgICBwYXNzd29yZEZpZWxkc0FycmF5OiBNYXRjaGVkRmllbGRbXVtdO1xuICAgIG90aGVyRmllbGRzQXJyYXk6IE1hdGNoZWRGaWVsZFtdW107XG4gICAgY3VycmVudFBhZ2U6IG51bWJlcjtcbiAgICBhbGxNYXRjaGluZ0xvZ2luczogYW55W107XG4gICAgZm9ybVJlbGV2YW5jZVNjb3JlczogbnVtYmVyW107XG4gICAgVVVJRDogc3RyaW5nO1xuICAgIG11c3RBdXRvRmlsbEZvcm06IGJvb2xlYW47XG4gICAgY2Fubm90QXV0b0ZpbGxGb3JtOiBib29sZWFuO1xuICAgIG11c3RBdXRvU3VibWl0Rm9ybTogYm9vbGVhbjtcbiAgICBjYW5ub3RBdXRvU3VibWl0Rm9ybTogYm9vbGVhbjtcbiAgICBkYkZpbGVOYW1lOiBzdHJpbmc7XG4gICAgZG9jOiBEb2N1bWVudDtcbiAgICBmb3JtczogSFRNTEZvcm1FbGVtZW50W107XG4gICAgZm9ybVJlYWR5Rm9yU3VibWl0OiBib29sZWFuO1xuICAgIGF1dG9maWxsT25TdWNjZXNzOiBib29sZWFuO1xuICAgIGF1dG9zdWJtaXRPblN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgbm90aWZ5VXNlck9uU3VjY2VzczogYm9vbGVhbjtcbiAgICB3cmFwcGVyczogYW55W107XG4gICAgcmVxdWVzdENvdW50OiBudW1iZXI7XG4gICAgcmVzcG9uc2VDb3VudDogbnVtYmVyO1xuICAgIHJlcXVlc3RJZHM6IGFueVtdO1xuICAgIG1vc3RSZWxldmFudEZvcm1JbmRleD86IG51bWJlcjtcbiAgICBsYXN0RmlsbGVkT3RoZXI6IEZpbGxlZEZpZWxkW107XG4gICAgbGFzdEZpbGxlZFBhc3N3b3JkczogRmlsbGVkRmllbGRbXTtcbn1cbiIsImV4cG9ydCBlbnVtIFNlc3Npb25UeXBlIHtcbiAgICBFdmVudCA9IFwiZXZlbnRcIixcbiAgICBXZWJzb2NrZXQgPSBcIndlYnNvY2tldFwiXG59XG4iLCJpbXBvcnQgeyBFbnRyeSB9IGZyb20gXCIuL0VudHJ5XCI7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSBcIi4vSWNvblwiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IEVudHJ5U3VtbWFyeUR0byB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuXG5leHBvcnQgY2xhc3MgRW50cnlTdW1tYXJ5IHtcbiAgICBpY29uOiBJY29uO1xuICAgIHVzZXJuYW1lVmFsdWU6IHN0cmluZztcbiAgICB1c2VybmFtZU5hbWU6IHN0cmluZztcbiAgICBwYXRoOiBzdHJpbmc7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICB1UkxzOiBzdHJpbmdbXTtcbiAgICB1cmw6IHN0cmluZztcbiAgICB1dWlkOiBzdHJpbmc7XG4gICAgZGJGaWxlTmFtZTogc3RyaW5nO1xuICAgIHJlbGV2YW5jZVNjb3JlOiBudW1iZXI7XG4gICAgZnVsbERldGFpbHM/OiBFbnRyeTsgLy9UT0RPOjQ6IHJlbW92ZSBjaXJjdWxhciByZWZlcmVuY2UgYnkgbWFpbnRhaW5pbmcgaW5kZXBlbmRlbnQgRW50cnkgbG9va3VwIGJ5IHV1aWQ/XG4gICAgaXNQcmVmZXJyZWRNYXRjaD86IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihlOiBQYXJ0aWFsPEVudHJ5U3VtbWFyeT4pIHtcbiAgICAgICAgdGhpcy5pY29uID0gZS5pY29uIHx8IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogXCJcIiB9O1xuICAgICAgICB0aGlzLnVzZXJuYW1lVmFsdWUgPSBlLnVzZXJuYW1lVmFsdWUgfHwgXCI8bm8gdXNlcm5hbWU+XCI7XG4gICAgICAgIHRoaXMudXNlcm5hbWVOYW1lID0gZS51c2VybmFtZU5hbWUgfHwgXCI8bm8gdXNlcm5hbWU+XCI7XG4gICAgICAgIHRoaXMucGF0aCA9IGUucGF0aCB8fCBcIlVOS05PV04gUEFUSFwiO1xuICAgICAgICB0aGlzLnRpdGxlID0gZS50aXRsZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnVSTHMgPSBlLnVSTHMgfHwgW107XG4gICAgICAgIHRoaXMudXJsID0gZT8udXJsIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudXVpZCA9IGUudXVpZCB8fCB1dGlscy5uZXdHVUlEKCk7XG4gICAgICAgIHRoaXMuZGJGaWxlTmFtZSA9IGUuZGJGaWxlTmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnJlbGV2YW5jZVNjb3JlID0gZS5yZWxldmFuY2VTY29yZTtcbiAgICAgICAgdGhpcy5mdWxsRGV0YWlscyA9IGUuZnVsbERldGFpbHM7XG4gICAgICAgIHRoaXMuaXNQcmVmZXJyZWRNYXRjaCA9IGUuaXNQcmVmZXJyZWRNYXRjaDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21FbnRyeShlbnRyeTogRW50cnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbnRyeVN1bW1hcnkoe1xuICAgICAgICAgICAgaWNvbjogZW50cnkuaWNvbixcbiAgICAgICAgICAgIHVzZXJuYW1lVmFsdWU6IEVudHJ5LmdldFVzZXJuYW1lRmllbGQoZW50cnkpPy52YWx1ZSxcbiAgICAgICAgICAgIHVzZXJuYW1lTmFtZTogRW50cnkuZ2V0VXNlcm5hbWVGaWVsZChlbnRyeSk/Lm5hbWUsXG4gICAgICAgICAgICB0aXRsZTogZW50cnkudGl0bGUsXG4gICAgICAgICAgICB1UkxzOiBlbnRyeS5VUkxzLFxuICAgICAgICAgICAgdXJsOiBlbnRyeT8uVVJMc1swXSxcbiAgICAgICAgICAgIHV1aWQ6IGVudHJ5LnV1aWQsXG4gICAgICAgICAgICBkYkZpbGVOYW1lOiBlbnRyeS5kYXRhYmFzZS5maWxlTmFtZSxcbiAgICAgICAgICAgIGZ1bGxEZXRhaWxzOiBlbnRyeSxcbiAgICAgICAgICAgIGlzUHJlZmVycmVkTWF0Y2g6IGVudHJ5LmlzUHJlZmVycmVkTWF0Y2hcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmcm9tS1BSUENFbnRyeVN1bW1hcnlEVE8oXG4gICAgICAgIGVudHJ5U3VtbWFyeUR0bzogRW50cnlTdW1tYXJ5RHRvLFxuICAgICAgICBwYXRoOiBzdHJpbmcsXG4gICAgICAgIGRiRmlsZU5hbWU6IHN0cmluZ1xuICAgICkge1xuICAgICAgICByZXR1cm4gbmV3IEVudHJ5U3VtbWFyeSh7XG4gICAgICAgICAgICBpY29uOiB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IGVudHJ5U3VtbWFyeUR0by5pY29uSW1hZ2VEYXRhIH0sXG4gICAgICAgICAgICB1c2VybmFtZVZhbHVlOiBlbnRyeVN1bW1hcnlEdG8udXNlcm5hbWVWYWx1ZSxcbiAgICAgICAgICAgIHVzZXJuYW1lTmFtZTogZW50cnlTdW1tYXJ5RHRvLnVzZXJuYW1lTmFtZSxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICB0aXRsZTogZW50cnlTdW1tYXJ5RHRvLnRpdGxlLFxuICAgICAgICAgICAgdVJMczogZW50cnlTdW1tYXJ5RHRvLnVSTHMsXG4gICAgICAgICAgICB1cmw6IGVudHJ5U3VtbWFyeUR0bz8udVJMc1swXSxcbiAgICAgICAgICAgIHV1aWQ6IGVudHJ5U3VtbWFyeUR0by51bmlxdWVJRCxcbiAgICAgICAgICAgIGRiRmlsZU5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRW50cnlTdW1tYXJ5IH0gZnJvbSBcIi4vRW50cnlTdW1tYXJ5XCI7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSBcIi4vSWNvblwiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IEdyb3VwRHRvIH0gZnJvbSBcIi4vS1BSUENEVE9zXCI7XG5cbmV4cG9ydCBjbGFzcyBHcm91cCB7XG4gICAgcmVhZG9ubHkgdGl0bGU6IHN0cmluZztcbiAgICByZWFkb25seSB1dWlkOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgaWNvbjogSWNvbjtcbiAgICByZWFkb25seSBwYXRoOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgZW50cnlTdW1tYXJpZXM6IEVudHJ5U3VtbWFyeVtdO1xuICAgIHJlYWRvbmx5IGdyb3VwczogR3JvdXBbXTtcbiAgICAvL2NoaWxkRW50cmllczogRW50cnlbXSAtIHRoaXMgaXMgb25seSBuZWVkZWQgaWYgd2UgZXZlciByZXF1ZXN0IEdldEFsbERhdGFiYXNlcyh0cnVlKSBidXQgS2VlIGN1cnJlbnRseSBoYXMgbm8gbmVlZCBmb3IgdGhpcyBLUFJQQyBmZWF0dXJlXG5cbiAgICBjb25zdHJ1Y3RvcihnOiBQYXJ0aWFsPEdyb3VwPikge1xuICAgICAgICB0aGlzLnRpdGxlID0gZy50aXRsZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnV1aWQgPSBnLnV1aWQgfHwgdXRpbHMubmV3R1VJRCgpO1xuICAgICAgICB0aGlzLmljb24gPSBnLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMucGF0aCA9IGcucGF0aCB8fCBcIlVOS05PV04gUEFUSFwiO1xuICAgICAgICB0aGlzLmVudHJ5U3VtbWFyaWVzID0gZy5lbnRyeVN1bW1hcmllcyB8fCBbXTtcbiAgICAgICAgdGhpcy5ncm91cHMgPSBnLmdyb3VwcyB8fCBbXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21LUFJQQ0dyb3VwRFRPKGdyb3VwRHRvOiBHcm91cER0bywgZGJGaWxlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JvdXAoe1xuICAgICAgICAgICAgdGl0bGU6IGdyb3VwRHRvLnRpdGxlLFxuICAgICAgICAgICAgdXVpZDogZ3JvdXBEdG8udW5pcXVlSUQsXG4gICAgICAgICAgICBpY29uOiB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IGdyb3VwRHRvLmljb25JbWFnZURhdGEgfSxcbiAgICAgICAgICAgIHBhdGg6IGdyb3VwRHRvLnBhdGgsXG4gICAgICAgICAgICBlbnRyeVN1bW1hcmllczogZ3JvdXBEdG8uY2hpbGRMaWdodEVudHJpZXMubWFwKGNoaWxkTGlnaHRFbnRyeSA9PlxuICAgICAgICAgICAgICAgIEVudHJ5U3VtbWFyeS5mcm9tS1BSUENFbnRyeVN1bW1hcnlEVE8oY2hpbGRMaWdodEVudHJ5LCBncm91cER0by5wYXRoLCBkYkZpbGVOYW1lKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGdyb3VwczogZ3JvdXBEdG8uY2hpbGRHcm91cHMubWFwKGNoaWxkR3JvdXAgPT5cbiAgICAgICAgICAgICAgICB0aGlzLmZyb21LUFJQQ0dyb3VwRFRPKGNoaWxkR3JvdXAsIGRiRmlsZU5hbWUpXG4gICAgICAgICAgICApXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgY29udGFpbnNJZChncm91cDogR3JvdXAsIGlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGdyb3VwLnV1aWQgPT09IGlkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGdyb3VwLmdyb3VwcyAmJiBncm91cC5ncm91cHMuc29tZShnID0+IEdyb3VwLmNvbnRhaW5zSWQoZywgaWQpKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTZXNzaW9uVHlwZSB9IGZyb20gXCIuL1Nlc3Npb25UeXBlXCI7XG5pbXBvcnQgeyBEYXRhYmFzZUR0byB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gXCIuL0ljb25cIjtcbmltcG9ydCB7IEdyb3VwIH0gZnJvbSBcIi4vR3JvdXBcIjtcblxuZXhwb3J0IGNsYXNzIERhdGFiYXNlIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZmlsZU5hbWU6IHN0cmluZztcbiAgICBpY29uOiBJY29uO1xuICAgIHJvb3Q6IEdyb3VwO1xuICAgIGFjdGl2ZTogYm9vbGVhbjtcbiAgICBzZXNzaW9uVHlwZTogU2Vzc2lvblR5cGU7XG4gICAgc2Vzc2lvbkZlYXR1cmVzOiBzdHJpbmdbXTtcblxuICAgIGNvbnN0cnVjdG9yKGRiOiBQYXJ0aWFsPERhdGFiYXNlPikge1xuICAgICAgICB0aGlzLm5hbWUgPSBkYi5uYW1lIHx8IFwiXCI7XG4gICAgICAgIHRoaXMuZmlsZU5hbWUgPSBkYi5maWxlTmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLmljb24gPSBkYi5pY29uIHx8IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogXCJcIiB9O1xuICAgICAgICB0aGlzLnJvb3QgPSBkYi5yb290IHx8IG5ldyBHcm91cCh7fSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZGIuYWN0aXZlIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLnNlc3Npb25UeXBlID0gZGIuc2Vzc2lvblR5cGUgfHwgU2Vzc2lvblR5cGUuRXZlbnQ7XG4gICAgICAgIHRoaXMuc2Vzc2lvbkZlYXR1cmVzID0gZGIuc2Vzc2lvbkZlYXR1cmVzIHx8IFtcIlwiXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21LUFJQQ0RhdGFiYXNlRFRPKFxuICAgICAgICBkdG86IERhdGFiYXNlRHRvLFxuICAgICAgICBzZXNzaW9uVHlwZTogU2Vzc2lvblR5cGUsXG4gICAgICAgIHNlc3Npb25GZWF0dXJlczogc3RyaW5nW11cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhYmFzZSh7XG4gICAgICAgICAgICBuYW1lOiBkdG8ubmFtZSxcbiAgICAgICAgICAgIGZpbGVOYW1lOiBkdG8uZmlsZU5hbWUsXG4gICAgICAgICAgICBpY29uOiB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IGR0by5pY29uSW1hZ2VEYXRhIH0sXG4gICAgICAgICAgICByb290OiBHcm91cC5mcm9tS1BSUENHcm91cERUTyhkdG8ucm9vdCwgZHRvLmZpbGVOYW1lKSxcbiAgICAgICAgICAgIGFjdGl2ZTogZHRvLmFjdGl2ZSxcbiAgICAgICAgICAgIHNlc3Npb25UeXBlLFxuICAgICAgICAgICAgc2Vzc2lvbkZlYXR1cmVzXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiAkKHNlbGVjdG9yOiBhbnksIGVsPzogRG9jdW1lbnQpIHtcbiAgICBpZiAoIWVsKSBlbCA9IGRvY3VtZW50O1xuICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiAkJChzZWxlY3RvcjogYW55LCBlbD86IERvY3VtZW50KSB7XG4gICAgaWYgKCFlbCkgZWwgPSBkb2N1bWVudDtcbiAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gJFNUUihzdHI6IHN0cmluZykge1xuICAgIGNvbnN0IG1zZyA9IGJyb3dzZXIuaTE4bi5nZXRNZXNzYWdlKHN0cik7XG4gICAgcmV0dXJuIG1zZyB8fCBzdHI7XG59XG5leHBvcnQgZnVuY3Rpb24gJFNUUkYoc3RyOiBzdHJpbmcsIHN1YnM6IGFueSkge1xuICAgIGNvbnN0IG1zZyA9IGJyb3dzZXIuaTE4bi5nZXRNZXNzYWdlKHN0ciwgc3Vicyk7XG4gICAgcmV0dXJuIG1zZyB8fCBzdHI7XG59XG4iLCJleHBvcnQgY2xhc3MgTG9jYXRvciB7XG4gICAgLy8gSFRNTCBpZCBhdHRyaWJ1dGVcbiAgICBpZDogc3RyaW5nO1xuXG4gICAgLy8gSFRNTCBuYW1lIGF0dHJpYnV0ZVxuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8vIEhUTUwgaW5wdXQgdHlwZVxuICAgIHR5cGU6IHN0cmluZztcblxuICAgIC8vIEhUTUwgRE9NIHNlbGVjdCBxdWVyeVxuICAgIHF1ZXJ5Pzogc3RyaW5nO1xuXG4gICAgLy8gVmlzaWJsZSBhbmQgYWNjZXNzaWJpbGl0eSBsYWJlbHNcbiAgICBsYWJlbHM/OiBzdHJpbmdbXTtcblxuICAgIC8vIEFueSBhdXRvY29tcGxldGUgdmFsdWVzIHdlIGZvdW5kLCBvciByZXF1aXJlLCBpbiB0aGUgRE9NXG4gICAgYXV0b2NvbXBsZXRlVmFsdWVzPzogc3RyaW5nW107XG5cbiAgICBjb25zdHJ1Y3Rvcihsb2NhdG9yOiBQYXJ0aWFsPExvY2F0b3I+KSB7XG4gICAgICAgIHRoaXMuaWQgPSBsb2NhdG9yLmlkIHx8IFwiXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IGxvY2F0b3IubmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnR5cGUgPSBsb2NhdG9yLnR5cGUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5xdWVyeSA9IGxvY2F0b3IucXVlcnk7XG4gICAgICAgIHRoaXMubGFiZWxzID0gbG9jYXRvci5sYWJlbHM7XG4gICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlVmFsdWVzID0gbG9jYXRvci5hdXRvY29tcGxldGVWYWx1ZXM7XG4gICAgfVxuXG4gICAgLy9UT0RPOjQ6IFRoaW5ncyBsaWtlIE1heExlbmd0aCB0aGF0IGNhbiBiZSB1c2VkIHRvIGJvdGggaGVscCBpZGVudGlmeSB0aGUgZmllbGQgYW5kIGdlbmVyYXRlIG5ldyB2YWx1ZXMvcGFzc3dvcmRzXG59XG4iLCJpbXBvcnQgeyBTZXNzaW9uVHlwZSB9IGZyb20gXCIuL1Nlc3Npb25UeXBlXCI7XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZFByb2ZpbGVEdG8ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBzZXNzaW9uVHlwZTogU2Vzc2lvblR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUR0byB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGZpbGVOYW1lPzogc3RyaW5nO1xuICAgIGljb25JbWFnZURhdGE6IHN0cmluZztcbiAgICByb290OiBHcm91cER0bztcbiAgICBhY3RpdmU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2VTdW1tYXJ5RHRvIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZmlsZU5hbWU/OiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHJvb3Q6IEdyb3VwU3VtbWFyeUR0bztcbiAgICBhY3RpdmU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgR3JvdXBTdW1tYXJ5RHRvIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVuaXF1ZUlEOiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHBhdGg6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEdyb3VwRHRvIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVuaXF1ZUlEOiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHBhdGg6IHN0cmluZztcbiAgICBjaGlsZExpZ2h0RW50cmllczogRW50cnlTdW1tYXJ5RHRvW107XG4gICAgY2hpbGRHcm91cHM6IEdyb3VwRHRvW107XG4gICAgLy9jaGlsZEVudHJpZXM6IEVudHJ5RHRvW10gLSB0aGlzIGlzIG9ubHkgbmVlZGVkIGlmIHdlIGV2ZXIgcmVxdWVzdCBHZXRBbGxEYXRhYmFzZXModHJ1ZSkgYnV0IEtlZSBjdXJyZW50bHkgaGFzIG5vIG5lZWQgZm9yIHRoaXMgS1BSUEMgZmVhdHVyZVxufVxuXG5leHBvcnQgZW51bSBQbGFjZWhvbGRlckhhbmRsaW5nIHtcbiAgICBEZWZhdWx0ID0gXCJEZWZhdWx0XCIsXG4gICAgRW5hYmxlZCA9IFwiRW5hYmxlZFwiLFxuICAgIERpc2FibGVkID0gXCJEaXNhYmxlZFwiXG59XG5cbmV4cG9ydCBlbnVtIE1hdGNoQWNjdXJhY3lFbnVtIHtcbiAgICAvLyBCZXN0ID0gTm9uLVVSTCBtYXRjaCAoaS5lLiB3ZSBtYXRjaGVkIGJ5IFVVSUQgaW5zdGVhZClcbiAgICAvLyBCZXN0ID0gUmVnZXggbWF0Y2ggKGl0IGlzIGltcG9zc2libGUgZm9yIHVzIHRvIGluZmVyIGhvd1xuICAgIC8vIGFjY3VyYXRlIGEgcmVnZXggbWF0Y2ggaXMgaW4gY29tcGFyaXNvbiB3aXRoIG90aGVyIGNsYXNzZXNcbiAgICAvLyBvZiBtYXRjaCBzbyB3ZSBhbHdheXMgdHJlYXQgaXQgYXMgdGhlIGJlc3QgcG9zc2libGUgbWF0Y2hcbiAgICAvLyBldmVuIGlmIHRoZSByZWdleCBpdHNlbGYgaXMgdmVyeSBsb29zZSlcbiAgICAvLyBCZXN0ID0gU2FtZSBVUkwgaW5jbHVkaW5nIHF1ZXJ5IHN0cmluZ1xuXG4gICAgLy8gQ2xvc2UgPSBTYW1lIFVSTCBleGNsdWRpbmcgcXVlcnkgc3RyaW5nXG5cbiAgICAvLyBIb3N0bmFtZUFuZFBvcnQgPSBTYW1lIGhvc3RuYW1lIGFuZCBwb3J0XG5cbiAgICAvLyBIb3N0bmFtZSA9IFNhbWUgaG9zdG5hbWUgKGRvbWFpbiArIHN1YmRvbWFpbnMpXG5cbiAgICAvLyBEb21haW4gPSBTYW1lIGRvbWFpblxuXG4gICAgLy8gTm9uZSA9IE5vIG1hdGNoIChlLmcuIHdoZW4gd2UgYXJlIGJlaW5nIGFza2VkIHRvIHJldHVybiBhbGwgZW50cmllcylcblxuICAgIEJlc3QgPSA1MCxcbiAgICBDbG9zZSA9IDQwLFxuICAgIEhvc3RuYW1lQW5kUG9ydCA9IDMwLFxuICAgIEhvc3RuYW1lID0gMjAsXG4gICAgRG9tYWluID0gMTAsXG4gICAgTm9uZSA9IDBcbn1cblxuZXhwb3J0IGNsYXNzIEVudHJ5RHRvIHtcbiAgICBkYjogRGF0YWJhc2VEdG87XG4gICAgcGFyZW50OiBHcm91cFN1bW1hcnlEdG87XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIGFsd2F5c0F1dG9GaWxsOiBib29sZWFuO1xuICAgIGFsd2F5c0F1dG9TdWJtaXQ6IGJvb2xlYW47XG4gICAgbmV2ZXJBdXRvRmlsbDogYm9vbGVhbjtcbiAgICBuZXZlckF1dG9TdWJtaXQ6IGJvb2xlYW47XG4gICAgcHJpb3JpdHk6IG51bWJlcjtcbiAgICB1UkxzOiBzdHJpbmdbXTtcbiAgICBtYXRjaEFjY3VyYWN5OiBudW1iZXI7XG4gICAgaFRUUFJlYWxtOiBzdHJpbmc7XG4gICAgdW5pcXVlSUQ6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGZvcm1GaWVsZExpc3Q6IEZpZWxkRHRvW107XG59XG5cbmV4cG9ydCBjbGFzcyBFbnRyeVN1bW1hcnlEdG8ge1xuICAgIGljb25JbWFnZURhdGE6IHN0cmluZztcbiAgICB1UkxzOiBzdHJpbmdbXTtcbiAgICB1bmlxdWVJRDogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdXNlcm5hbWVWYWx1ZTogc3RyaW5nO1xuICAgIHVzZXJuYW1lTmFtZTogc3RyaW5nO1xufVxuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y2xhc3MtbmFtZVxuZXhwb3J0IGNsYXNzIEZpZWxkRHRvIHtcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuXG4gICAgLy8gXCJuYW1lXCIgYXR0cmlidXRlIG9uIHRoZSBIVE1MIGZvcm0gZWxlbWVudFxuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8vIFwidmFsdWVcIiBhdHRyaWJ1dGUgb24gdGhlIEhUTUwgZm9ybSBlbGVtZW50XG4gICAgdmFsdWU6IHN0cmluZztcblxuICAgIC8vIFwiaWRcIiBhdHRyaWJ1dGUgb24gdGhlIEhUTUwgZm9ybSBlbGVtZW50XG4gICAgaWQ6IHN0cmluZztcblxuICAgIC8vIFwidHlwZVwiIGF0dHJpYnV0ZSBvbiB0aGUgSFRNTCBmb3JtIGVsZW1lbnRcbiAgICB0eXBlOiBGb3JtRmllbGRUeXBlRFRPO1xuXG4gICAgcGFnZTogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBGb3JtRmllbGRUeXBlRFRPIHtcbiAgICByYWRpbyA9IFwiRkZUcmFkaW9cIixcbiAgICB1c2VybmFtZSA9IFwiRkZUdXNlcm5hbWVcIixcbiAgICB0ZXh0ID0gXCJGRlR0ZXh0XCIsXG4gICAgcGFzc3dvcmQgPSBcIkZGVHBhc3N3b3JkXCIsXG4gICAgc2VsZWN0ID0gXCJGRlRzZWxlY3RcIixcbiAgICBjaGVja2JveCA9IFwiRkZUY2hlY2tib3hcIlxufVxuIiwiaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IExvY2F0b3IgfSBmcm9tIFwiLi9Mb2NhdG9yXCI7XG5pbXBvcnQgeyBGaWVsZER0bywgRm9ybUZpZWxkVHlwZURUTyB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuXG5leHBvcnQgdHlwZSBGaWVsZFR5cGUgPSBcInBhc3N3b3JkXCIgfCBcInRleHRcIiB8IFwiZXhpc3RpbmdcIiB8IFwiYm9vbGVhblwiIHwgXCJvdHBcIiB8IFwic29tZS1jaGFyc1wiO1xuXG5leHBvcnQgY2xhc3MgRmllbGQge1xuICAgIC8vIFVuaXF1ZSBJRCB0aGF0IHdlIGNhbiB1c2UgdG8gaGVscCBVSSBvcGVyYXRpb25zIGFuZCBpZGVudGlmaWNhdGlvbiB3aGVuIHRoZXJlIGlzIG5vIGtub3duIG5hbWUgZm9yIHRoaXMgZmllbGQuXG4gICAgLy8gQWxzbyBtYXkgYmUgdXNlZnVsIGluIGZ1dHVyZSBmb3IgbXVsdGlwbGUtcGFnZSByZWNvbmZpZ3VyYXRpb24gb3IgcGVyLWJyb3dzZXIgZmllbGQgY29uZmlndXJhdGlvbiBvdmVycmlkZXM/XG4gICAgcmVhZG9ubHkgdXVpZDogc3RyaW5nO1xuXG4gICAgLy8gdmlzdWFsIGlkZW50aWZpZXIgZm9yIHRoZSBmaWVsZC4gTWF5IGJlIHNwZWNpZmllZCBieSB0aGUgdXNlciBvciBpbmZlcnJlZCBmcm9tXG4gICAgLy8gZWl0aGVyIGRlZmF1bHQgRW50cnkgZGF0YSAodXNlcm5hbWUvcGFzc3dvcmQvT1RQKSBvciBmb3JtIGZpZWxkIGxhYmVsIG9yIG5hbWUgYXR0cmlidXRlXG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gICAgLy8gVGhlIHZhbHVlIHdlJ2xsIGZpbGwgaW50byB0aGUgZm9ybS5cbiAgICAvLyBGb3IgZXhpc3RpbmcgZGV0ZXJtaW5lcyB3aGljaCBvcHRpb24gdG8gYWN0aXZhdGUuXG4gICAgLy8gRm9yIGJvb2xlYW4gZGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGFjdGl2YXRlIG9yIGRlYWN0aXZhdGUgKHRvIGlnbm9yZSwgZGVsZXRlIHRoZSBmaWVsZCByZWNvcmQpXG4gICAgLy8gRm9yIE9UUCwgbmVlZCB0byB3b3JrIG91dCB3aGV0aGVyIHdlIHdpbGwgaGF2ZSB0byB0cmFuc2ZlciB0aGUgc2VjcmV0cyBhbmQgcmVjYWxjdWxhdGUgaW4gdGhlIGJyb3dzZXIgb3IganVzdCB0cmVhdCBhcyBzdGFuZGFyZCB2YWx1ZVxuICAgIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmc7XG5cbiAgICAvLyB0eXBlIG9mIGRhdGEgdGhpcyBmaWVsZCByZXByZXNlbnRzLiBUaGVyZSdzIG5vIDEwMCUgd2F5IHRvIG1hdGNoIHRoaXMgdG8gdGhlIHR5cGUgb2YgSFRNTCBmb3JtIGVsZW1lbnQgYnV0IGl0J3Mgb2Z0ZW4gbG9naWNhbC5cbiAgICAvLyBFLmcuIHBhc3N3b3JkIGdvZXMgaW50byBwYXNzd29yZCBmaWVsZHMgdW5sZXNzIHVzZXIgZXhwbGljaXRseSByZS1jb25maWd1cmVzIHRoYXQ7IGV4aXN0aW5nIHdvdWxkIHR5cGljYWxseSBtYXRjaCBzb21ldGhpbmdcbiAgICAvLyBsaWtlIGEgcmFkaW8gYnV0dG9uIG9yIHNlbGVjdCBvcHRpb24gYWxyZWFkeSBwcmVzZW50IG9uIHRoZSBIVE1MIGZvcm07IGJvb2xlYW4gd291bGQgbWF0Y2ggYSBjaGVja2JveC5cbiAgICByZWFkb25seSB0eXBlOiBGaWVsZFR5cGU7XG5cbiAgICAvLyBIb3cgd2UgY2FuIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0IGluIHRoZSBIVE1MLlxuICAgIHJlYWRvbmx5IGxvY2F0b3JzOiBMb2NhdG9yW107XG5cbiAgICAvLyB0cmFja3MgdGhlIG1vc3QgcmVjZW50IHZhbHVlIHdlIHdhbnQgdG8gcmVzZXQgdG8gaW4gY2FzZXMgd2hlcmUgdGhlIHVzZXIgaGFzIHRoYXQgcG9zc2liaWxpdHlcbiAgICByZWFkb25seSByZXNldFZhbHVlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihmaWVsZDogUGFydGlhbDxGaWVsZD4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gZmllbGQubmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnZhbHVlID0gZmllbGQudmFsdWUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5yZXNldFZhbHVlID0gZmllbGQucmVzZXRWYWx1ZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnV1aWQgPSBmaWVsZC51dWlkIHx8IHV0aWxzLm5ld0dVSUQoKTtcbiAgICAgICAgdGhpcy50eXBlID0gZmllbGQudHlwZSB8fCBcInRleHRcIjtcbiAgICAgICAgdGhpcy5sb2NhdG9ycyA9IGZpZWxkLmxvY2F0b3JzIHx8IFtdO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldERpc3BsYXlWYWx1ZUludGVybmFsKFxuICAgICAgICBmaWVsZDogRmllbGQsXG4gICAgICAgIHJldmVhbFBhc3N3b3JkczogYm9vbGVhbixcbiAgICAgICAgcmVwbGFjZW1lbnRJZlByb3RlY3RlZDogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIGlmIChmaWVsZC50eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnZhbHVlID09PSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfVFJVRVwiID8gJFNUUihcImVuYWJsZWRcIikgOiAkU1RSKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQudHlwZSA9PT0gXCJwYXNzd29yZFwiICYmICFyZXZlYWxQYXNzd29yZHNcbiAgICAgICAgICAgICAgICA/IHJlcGxhY2VtZW50SWZQcm90ZWN0ZWRcbiAgICAgICAgICAgICAgICA6IGZpZWxkLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3BsYXlWYWx1ZShmaWVsZDogRmllbGQsIHJldmVhbFBhc3N3b3JkczogYm9vbGVhbikge1xuICAgICAgICByZXR1cm4gRmllbGQuZ2V0RGlzcGxheVZhbHVlSW50ZXJuYWwoXG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIHJldmVhbFBhc3N3b3JkcyxcbiAgICAgICAgICAgIFwiKlwiLnJlcGVhdChmaWVsZC52YWx1ZS5sZW5ndGgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3BsYXlOYW1lKGZpZWxkOiBGaWVsZCkge1xuICAgICAgICBpZiAoZmllbGQubmFtZSA9PT0gXCJLZWVQYXNzIHVzZXJuYW1lXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAkU1RSKFwidXNlcm5hbWVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQubmFtZSA9PT0gXCJLZWVQYXNzIHBhc3N3b3JkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAkU1RSKFwicGFzc3dvcmRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQubmFtZSA/IGZpZWxkLm5hbWUgOiBcIlsgXCIgKyAkU1RSKFwibm9fbmFtZVwiKSArIFwiIF1cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXNwbGF5VG9vbHRpcChmaWVsZDogRmllbGQsIHJldmVhbFBhc3N3b3JkczogYm9vbGVhbikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgRmllbGQuZ2V0RGlzcGxheU5hbWUoZmllbGQpICtcbiAgICAgICAgICAgIFwiOiBcIiArXG4gICAgICAgICAgICBGaWVsZC5nZXREaXNwbGF5VmFsdWVJbnRlcm5hbChmaWVsZCwgcmV2ZWFsUGFzc3dvcmRzLCAkU1RSKFwiY2xpY2tfdG9fcmV2ZWFsX2hpZGVcIikpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RhdGljIHR5cGVGcm9tRE9NdHlwZShkb21UeXBlOiBzdHJpbmcpOiBGaWVsZFR5cGUge1xuICAgICAgICAvLyBXZSBjYW4ndCBrbm93IGV2ZXJ5IHR5cGUgdGhhdCBtYXkgZXhpc3QgaW4gZnV0dXJlIHNvIGFzc3VtZTpcbiAgICAgICAgLy8gMS4gdW5rbm93biB0eXBlcyBtdXN0IGJlIHRleHRcbiAgICAgICAgLy8gMi4gd2Ugd29uJ3QgYmUgYXNrZWQgdG8gaGFuZGxlIHR5cGVzIGZvciBpcnJlbGV2YW50IGVsZW1lbnRzIHN1Y2ggYXMgYnV0dG9uc1xuICAgICAgICBzd2l0Y2ggKGRvbVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcInBhc3N3b3JkXCI7XG4gICAgICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgY2FzZSBcInNlbGVjdC1vbmVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXh0XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCeSBjb252ZW50aW9uIHRoZSBmaXJzdCBub24tcGFzc3dvcmQgaXRlbSB3aWxsIGJlIHRoZSB1c2VybmFtZSBhbmQgdGhlIHBhc3N3b3JkIHdpbGwgYmUgZWl0aGVyIDFzdCBvciAybmQgaW4gdGhlIGxpc3RcbiAgICBzdGF0aWMgY29tYmluZURvbUZpZWxkTGlzdHModXNlcm5hbWVJbmRleDogbnVtYmVyLCBvdGhlckZpZWxkczogRmllbGRbXSwgcGFzc3dvcmRzOiBGaWVsZFtdKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkczogRmllbGRbXSA9IFtdO1xuICAgICAgICBpZiAodXNlcm5hbWVJbmRleCA+PSAwICYmIG90aGVyRmllbGRzW3VzZXJuYW1lSW5kZXhdKSB7XG4gICAgICAgICAgICBmaWVsZHMucHVzaChvdGhlckZpZWxkc1t1c2VybmFtZUluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFzc3dvcmRzLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICBmaWVsZHMucHVzaChmKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG90aGVyRmllbGRzLmZvckVhY2goKGYsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHVzZXJuYW1lSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBmaWVsZHMucHVzaChmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21ET00oZWxlbWVudDogYW55LCBkb21UeXBlOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gY29sbGVjdExhYmVscyhlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZCh7XG4gICAgICAgICAgICB1dWlkOiB1dGlscy5uZXdHVUlEKCksXG4gICAgICAgICAgICBuYW1lOiBsYWJlbHMgJiYgbGFiZWxzLmxlbmd0aCA/IGxhYmVsc1swXSA6IGVsZW1lbnQubmFtZSxcbiAgICAgICAgICAgIGxvY2F0b3JzOiBbXG4gICAgICAgICAgICAgICAgbmV3IExvY2F0b3Ioe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBlbGVtZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBkb21UeXBlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbHMsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZVZhbHVlczogY29sbGVjdEF1dG9jb21wbGV0ZVZhbHVlcyhlbGVtZW50KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB0eXBlOiBGaWVsZC50eXBlRnJvbURPTXR5cGUoZG9tVHlwZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21LUFJQQ0ZpZWxkRFRPKGY6IEZpZWxkRHRvKSB7XG4gICAgICAgIGxldCB0eXBlOiBGaWVsZFR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgbGV0IGxvY2F0b3JUeXBlID0gXCJ0ZXh0XCI7XG5cbiAgICAgICAgc3dpdGNoIChmLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy5wYXNzd29yZDpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJwYXNzd29yZFwiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJwYXNzd29yZFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlRFRPLnJhZGlvOlxuICAgICAgICAgICAgICAgIHR5cGUgPSBcImV4aXN0aW5nXCI7XG4gICAgICAgICAgICAgICAgbG9jYXRvclR5cGUgPSBcInJhZGlvXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZvcm1GaWVsZFR5cGVEVE8uY2hlY2tib3g6XG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlRFRPLnNlbGVjdDpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJzZWxlY3RcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy51c2VybmFtZTpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgICAgICAgICAgbG9jYXRvclR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy50ZXh0OlxuICAgICAgICAgICAgICAgIHR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICAgICAgICBsb2NhdG9yVHlwZSA9IFwidGV4dFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZCh7XG4gICAgICAgICAgICBuYW1lOiBmLmRpc3BsYXlOYW1lIHx8IGYubmFtZSxcbiAgICAgICAgICAgIHV1aWQ6IHV0aWxzLm5ld0dVSUQoKSxcbiAgICAgICAgICAgIHZhbHVlOiBmLnZhbHVlLFxuICAgICAgICAgICAgcmVzZXRWYWx1ZTogZi52YWx1ZSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBsb2NhdG9yczogW1xuICAgICAgICAgICAgICAgIG5ldyBMb2NhdG9yKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGYuaWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGYubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbG9jYXRvclR5cGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdG9LUFJQQ0ZpZWxkRFRPKGY6IEZpZWxkLCBpc1VzZXJuYW1lOiBib29sZWFuKSB7XG4gICAgICAgIGxldCBmZnQ6IEZvcm1GaWVsZFR5cGVEVE87XG5cbiAgICAgICAgc3dpdGNoIChmLmxvY2F0b3JzWzBdLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxuICAgICAgICAgICAgICAgIGZmdCA9IEZvcm1GaWVsZFR5cGVEVE8ucGFzc3dvcmQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICAgICAgICBmZnQgPSBGb3JtRmllbGRUeXBlRFRPLnJhZGlvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgICAgICAgZmZ0ID0gRm9ybUZpZWxkVHlwZURUTy5jaGVja2JveDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzZWxlY3Qtb25lXCI6XG4gICAgICAgICAgICAgICAgZmZ0ID0gRm9ybUZpZWxkVHlwZURUTy5zZWxlY3Q7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZmdCA9IGlzVXNlcm5hbWUgPyBGb3JtRmllbGRUeXBlRFRPLnVzZXJuYW1lIDogRm9ybUZpZWxkVHlwZURUTy50ZXh0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBmLm5hbWUsXG4gICAgICAgICAgICBpZDogZi5sb2NhdG9yc1swXS5pZCxcbiAgICAgICAgICAgIG5hbWU6IGYubG9jYXRvcnNbMF0ubmFtZSxcbiAgICAgICAgICAgIHR5cGU6IGZmdCxcbiAgICAgICAgICAgIHZhbHVlOiBmLnZhbHVlLFxuICAgICAgICAgICAgcGFnZTogLTFcbiAgICAgICAgfSBhcyBGaWVsZER0bztcbiAgICB9XG59XG5cbi8vIE1pZ2h0IGJlIG90aGVyIGVsZW1lbnQgdHlwZXMgYnV0IG1haW4gdGhpbmcgaXMgdGhleSBoYXZlIHRoZSBsYWJlbHMgcHJvcGVydHlcbmZ1bmN0aW9uIGNvbGxlY3RMYWJlbHMoZWxlbWVudDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50KSB7XG4gICAgY29uc3QgbGFiZWxzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGxhYmVsc0NvdW50ID0gZWxlbWVudC5sYWJlbHM/Lmxlbmd0aCB8fCAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFiZWxzQ291bnQ7IGkrKykge1xuICAgICAgICBjb25zdCBsYWJlbCA9IGVsZW1lbnQubGFiZWxzW2ldO1xuICAgICAgICBpZiAobGFiZWw/LmlubmVyVGV4dCkgbGFiZWxzLnB1c2gobGFiZWwuaW5uZXJUZXh0KTtcbiAgICB9XG4gICAgY29uc3QgYXJpYUxhYmVsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpPy50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChhcmlhTGFiZWwpIGxhYmVscy5wdXNoKGFyaWFMYWJlbCk7XG4gICAgY29uc3QgYXJpYUxhYmVsSWRzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGVsZW1lbnRcbiAgICAgICAgLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiKVxuICAgICAgICA/LnRyaW0oKVxuICAgICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAgIC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgIGlmIChpZCkgYXJpYUxhYmVsSWRzLnB1c2goaWQpO1xuICAgICAgICB9KTtcbiAgICBlbGVtZW50XG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpXG4gICAgICAgID8udHJpbSgpXG4gICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgaWYgKGlkKSBhcmlhTGFiZWxJZHMucHVzaChpZCk7XG4gICAgICAgIH0pO1xuICAgIGFyaWFMYWJlbElkcy5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAobGFiZWxFbGVtZW50Py5pbm5lclRleHQpIGxhYmVscy5wdXNoKGxhYmVsRWxlbWVudC5pbm5lclRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiBsYWJlbHMubGVuZ3RoID8gbGFiZWxzIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0QXV0b2NvbXBsZXRlVmFsdWVzKGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudCkge1xuICAgIGNvbnN0IHZhbHVlczogc3RyaW5nW10gPSBbXTtcbiAgICBlbGVtZW50LmF0dHJpYnV0ZXNbXCJhdXRvY29tcGxldGVcIl0/LnZhbHVlXG4gICAgICAgID8udHJpbSgpXG4gICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgLmZvckVhY2godiA9PiB7XG4gICAgICAgICAgICBpZiAodikgdmFsdWVzLnB1c2godi50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcy5sZW5ndGggPyB2YWx1ZXMgOiB1bmRlZmluZWQ7XG59XG4iLCJpbXBvcnQgeyBJY29uIH0gZnJvbSBcIi4vSWNvblwiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IEdyb3VwU3VtbWFyeUR0byB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuaW1wb3J0IHsgR3JvdXAgfSBmcm9tIFwiLi9Hcm91cFwiO1xuXG5leHBvcnQgY2xhc3MgR3JvdXBTdW1tYXJ5IHtcbiAgICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHV1aWQ6IHN0cmluZztcbiAgICByZWFkb25seSBpY29uOiBJY29uO1xuICAgIHJlYWRvbmx5IHBhdGg6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGc6IFBhcnRpYWw8R3JvdXBTdW1tYXJ5Pikge1xuICAgICAgICB0aGlzLnRpdGxlID0gZy50aXRsZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnV1aWQgPSBnLnV1aWQgfHwgdXRpbHMubmV3R1VJRCgpO1xuICAgICAgICB0aGlzLmljb24gPSBnLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMucGF0aCA9IGcucGF0aCB8fCBcIlVOS05PV04gUEFUSFwiO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUtQUlBDR3JvdXBTdW1tYXJ5RFRPKGdyb3VwU3VtbWFyeUR0bzogR3JvdXBTdW1tYXJ5RHRvKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JvdXBTdW1tYXJ5KHtcbiAgICAgICAgICAgIHRpdGxlOiBncm91cFN1bW1hcnlEdG8udGl0bGUsXG4gICAgICAgICAgICB1dWlkOiBncm91cFN1bW1hcnlEdG8udW5pcXVlSUQsXG4gICAgICAgICAgICBpY29uOiB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IGdyb3VwU3VtbWFyeUR0by5pY29uSW1hZ2VEYXRhIH0sXG4gICAgICAgICAgICBwYXRoOiBncm91cFN1bW1hcnlEdG8ucGF0aFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21Hcm91cChncm91cDogR3JvdXApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcm91cFN1bW1hcnkoe1xuICAgICAgICAgICAgdGl0bGU6IGdyb3VwLnRpdGxlLFxuICAgICAgICAgICAgdXVpZDogZ3JvdXAudXVpZCxcbiAgICAgICAgICAgIGljb246IGdyb3VwLmljb24sXG4gICAgICAgICAgICBwYXRoOiBncm91cC5wYXRoXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFRlbXBvcmFyeUlEU3RyaW5nID1cbiAgICBcIlRFTVBPUkFSWSBJRCBUTyBJREVOVElGWSBUSElTIEFTIEEgRElSVFkgRU5UUlkgVEhBVCBET0VTTidUIEVYSVNUIElOIFNPVVJDRSBEQVRBQkFTRSBZRVRcIjtcbiIsImltcG9ydCB7IEljb24gfSBmcm9tIFwiLi9JY29uXCI7XG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gXCIuL0RhdGFiYXNlXCI7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi9GaWVsZFwiO1xuaW1wb3J0IHsgRW50cnlEdG8sIEZvcm1GaWVsZFR5cGVEVE8gfSBmcm9tIFwiLi9LUFJQQ0RUT3NcIjtcbmltcG9ydCB7IERhdGFiYXNlU3VtbWFyeSB9IGZyb20gXCIuL0RhdGFiYXNlU3VtbWFyeVwiO1xuaW1wb3J0IHsgR3JvdXBTdW1tYXJ5IH0gZnJvbSBcIi4vR3JvdXBTdW1tYXJ5XCI7XG5cbi8vIEFsdGhvdWdoIHdlIHVzZSB1dWlkcyBmb3IgRmllbGRzIGFuZCBwb3NzaWJseSBMb2NhdG9ycywgd2UgZG9uJ3QgYWxsb3cgdGhlbSB0byBleGlzdCBvdXRzaWRlIG9mIHRoZWlyIHBhcmVudCBlbnRyeS5cblxuZXhwb3J0IGNsYXNzIEVudHJ5IHtcbiAgICAvLyBhcnJheSBvZiBVUkwgc3RyaW5ncyAobm9ybWFsbHkganVzdCBvbmUgaXMgbmVlZGVkXG4gICAgLy8gYnV0IGEgZ2l2ZW4gZW50cnkgY2FuIGJlIGFzc29jaWF0ZWQgd2l0aCBtb3JlIHRoYW4gb25lIHNpdGVcbiAgICAvLyBvciB3aXRoIG11bHRpcGxlIHBhZ2VzIG9uIHRoYXQgc2l0ZSlcbiAgICByZWFkb25seSBVUkxzOiBzdHJpbmdbXTtcblxuICAgIC8vIEhvdyBhY2N1cmF0ZSBpcyB0aGUgYmVzdCBVUkwgbWF0Y2ggZm9yIHRoaXMgZW50cnkgKG9ubHkgc2V0IGlmIGVudHJ5XG4gICAgLy8gd2FzIHN1cHBsaWVkIGluIHJlc3BvbnNlIHRvIGNlcnRhaW4gc2VhcmNoIHJlcXVlc3RzKS4gSGlnaGVyID0gY2xvc2VyIG1hdGNoXG4gICAgcmVhZG9ubHkgbWF0Y2hBY2N1cmFjeTogbnVtYmVyO1xuXG4gICAgLy8gVGhlIHJlYWxtIG9mIGEgSFRUUCBhdXRoZW50aWNhdGlvbiByZXF1ZXN0XG4gICAgcmVhZG9ubHkgaHR0cFJlYWxtOiBzdHJpbmc7XG5cbiAgICAvLyBUaGUgaW5kZXggb2YgdGhlIG90aGVyRmllbGQgd2hpY2ggd2Ugd2lsbCB0cmVhdCBhcyB0aGUgdXNlcm5hbWUgaW4gS2VlUGFzc1xuICAgIC8vIHJlYWRvbmx5IHVzZXJuYW1lSW5kZXg6IG51bWJlcjtcblxuICAgIHJlYWRvbmx5IGZpZWxkczogRmllbGRbXTtcblxuICAgIC8vIFRoZSBLZWVQYXNzIGVudHJ5J3MgdW5pcXVlSUQgKGlmIGtub3duKVxuICAgIHJlYWRvbmx5IHV1aWQ6IHN0cmluZztcblxuICAgIC8vIFRoZSB0aXRsZSBvZiB0aGUgS2VlUGFzcyBlbnRyeSAoYXV0by1nZW5lcmF0ZWQgZnJvbSB0aGUgcGFnZSB0aXRsZSBieSBkZWZhdWx0LFxuICAgIC8vIG9yIHRoZSBwYWdlIFVSTCdzIGhvc3RuYW1lIGlmIG5vIHRpdGxlIGlzIHNldClcbiAgICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xuXG4gICAgcmVhZG9ubHkgaWNvbjogSWNvbjtcblxuICAgIHJlYWRvbmx5IHBhcmVudEdyb3VwOiBHcm91cFN1bW1hcnk7XG5cbiAgICByZWFkb25seSBhbHdheXNBdXRvRmlsbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBhbHdheXNBdXRvU3VibWl0OiBib29sZWFuO1xuICAgIHJlYWRvbmx5IG5ldmVyQXV0b0ZpbGw6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgbmV2ZXJBdXRvU3VibWl0OiBib29sZWFuO1xuXG4gICAgcmVhZG9ubHkgZGF0YWJhc2U6IERhdGFiYXNlU3VtbWFyeTtcblxuICAgIC8vIEhvdyByZWxldmFudCB0aGlzIGVudHJ5IGlzIHRvIHRoZSBjdXJyZW50IGZvcm0gaW5cbiAgICAvLyB0aGUgYnJvd3NlciAtIHRyYW5zaWVudCAobm90IHN0b3JlZCBpbiBLZWVQYXNzKVxuICAgIC8vVE9ETzo0IHB1dCBhbGwgbWF0Y2ggZGF0YSBpbnRvIGEgbmV3IG9iamVjdD9cbiAgICByZWxldmFuY2VTY29yZTogbnVtYmVyO1xuICAgIGxvd0ZpZWxkTWF0Y2hSYXRpbzogYW55O1xuICAgIGZvcm1JbmRleDogbnVtYmVyO1xuICAgIGVudHJ5SW5kZXg6IG51bWJlcjtcbiAgICBpc1ByZWZlcnJlZE1hdGNoPzogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGU6IFBhcnRpYWw8RW50cnk+KSB7XG4gICAgICAgIHRoaXMuYWx3YXlzQXV0b0ZpbGwgPSBlLmFsd2F5c0F1dG9GaWxsIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLmFsd2F5c0F1dG9TdWJtaXQgPSBlLmFsd2F5c0F1dG9TdWJtaXQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMubmV2ZXJBdXRvRmlsbCA9IGUubmV2ZXJBdXRvRmlsbCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5uZXZlckF1dG9TdWJtaXQgPSBlLm5ldmVyQXV0b1N1Ym1pdCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5VUkxzID0gZS5VUkxzIHx8IFtdO1xuICAgICAgICB0aGlzLmZpZWxkcyA9IGUuZmllbGRzIHx8IFtdO1xuICAgICAgICB0aGlzLmh0dHBSZWFsbSA9IGUuaHR0cFJlYWxtIHx8IFwiXCI7XG4gICAgICAgIHRoaXMucGFyZW50R3JvdXAgPSBlLnBhcmVudEdyb3VwIHx8IG51bGw7XG4gICAgICAgIHRoaXMudXVpZCA9IGUudXVpZCB8fCB1dGlscy5uZXdHVUlEKCk7XG4gICAgICAgIHRoaXMudGl0bGUgPSBlLnRpdGxlIHx8IFwiXCI7XG4gICAgICAgIHRoaXMubWF0Y2hBY2N1cmFjeSA9IGUubWF0Y2hBY2N1cmFjeSB8fCAwO1xuICAgICAgICB0aGlzLmljb24gPSBlLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMuZGF0YWJhc2UgPSBlLmRhdGFiYXNlIHx8IG5ldyBEYXRhYmFzZSh7fSk7XG4gICAgICAgIHRoaXMucmVsZXZhbmNlU2NvcmUgPSBlLnJlbGV2YW5jZVNjb3JlO1xuICAgICAgICB0aGlzLmxvd0ZpZWxkTWF0Y2hSYXRpbyA9IGUubG93RmllbGRNYXRjaFJhdGlvO1xuICAgICAgICB0aGlzLmZvcm1JbmRleCA9IGUuZm9ybUluZGV4O1xuICAgICAgICB0aGlzLmVudHJ5SW5kZXggPSBlLmVudHJ5SW5kZXg7XG4gICAgICAgIHRoaXMuaXNQcmVmZXJyZWRNYXRjaCA9IGUuaXNQcmVmZXJyZWRNYXRjaDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldFVzZXJuYW1lRmllbGQoZW50cnk6IEVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5maWVsZHMuZmluZChmID0+IGYudHlwZSA9PT0gXCJ0ZXh0XCIpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIGdldFBhc3N3b3JkRmllbGQoZW50cnk6IEVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5maWVsZHMuZmluZChmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21LUFJQQ0VudHJ5RFRPKGVudHJ5RHRvOiBFbnRyeUR0bywgZGI6IERhdGFiYXNlU3VtbWFyeSkge1xuICAgICAgICBjb25zdCBzb3J0ZWRGaWVsZHM6IEZpZWxkW10gPSBbXTtcbiAgICAgICAgbGV0IG1heGltdW1QYWdlID0gMTtcbiAgICAgICAgY29uc3QgdXNlcm5hbWVJbmRleCA9IGVudHJ5RHRvLmZvcm1GaWVsZExpc3QuZmluZEluZGV4KFxuICAgICAgICAgICAgZiA9PiBmLnR5cGUgPT09IEZvcm1GaWVsZFR5cGVEVE8udXNlcm5hbWVcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB1bnNvcnRlZEZpZWxkcyA9IGVudHJ5RHRvLmZvcm1GaWVsZExpc3QubWFwKGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYucGFnZSA+IG1heGltdW1QYWdlKSBtYXhpbXVtUGFnZSA9IGYucGFnZTtcblxuICAgICAgICAgICAgcmV0dXJuIEZpZWxkLmZyb21LUFJQQ0ZpZWxkRFRPKGYpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZmlyc3RQYXNzd29yZEluZGV4ID0gdW5zb3J0ZWRGaWVsZHMuZmluZEluZGV4KGYgPT4gZi50eXBlID09PSBcInBhc3N3b3JkXCIpO1xuXG4gICAgICAgIGlmICh1c2VybmFtZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHNvcnRlZEZpZWxkcy5wdXNoKHVuc29ydGVkRmllbGRzW3VzZXJuYW1lSW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RQYXNzd29yZEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHNvcnRlZEZpZWxkcy5wdXNoKHVuc29ydGVkRmllbGRzW2ZpcnN0UGFzc3dvcmRJbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHVuc29ydGVkRmllbGRzLmZvckVhY2goKGYsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChpICE9PSB1c2VybmFtZUluZGV4ICYmIGkgIT09IGZpcnN0UGFzc3dvcmRJbmRleCkge1xuICAgICAgICAgICAgICAgIHNvcnRlZEZpZWxkcy5wdXNoKGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBlbnRyeSA9IG5ldyBFbnRyeSh7XG4gICAgICAgICAgICBVUkxzOiBlbnRyeUR0by51UkxzLFxuICAgICAgICAgICAgbmV2ZXJBdXRvRmlsbDogZW50cnlEdG8ubmV2ZXJBdXRvRmlsbCxcbiAgICAgICAgICAgIGFsd2F5c0F1dG9GaWxsOiBlbnRyeUR0by5hbHdheXNBdXRvRmlsbCxcbiAgICAgICAgICAgIG5ldmVyQXV0b1N1Ym1pdDogZW50cnlEdG8ubmV2ZXJBdXRvU3VibWl0LFxuICAgICAgICAgICAgYWx3YXlzQXV0b1N1Ym1pdDogZW50cnlEdG8uYWx3YXlzQXV0b1N1Ym1pdCxcbiAgICAgICAgICAgIGljb246IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogZW50cnlEdG8uaWNvbkltYWdlRGF0YSB9LFxuICAgICAgICAgICAgcGFyZW50R3JvdXA6IEdyb3VwU3VtbWFyeS5mcm9tS1BSUENHcm91cFN1bW1hcnlEVE8oZW50cnlEdG8ucGFyZW50KSxcbiAgICAgICAgICAgIGRhdGFiYXNlOiBkYixcbiAgICAgICAgICAgIG1hdGNoQWNjdXJhY3k6IGVudHJ5RHRvLm1hdGNoQWNjdXJhY3ksXG4gICAgICAgICAgICBodHRwUmVhbG06IGVudHJ5RHRvLmhUVFBSZWFsbSxcbiAgICAgICAgICAgIHV1aWQ6IGVudHJ5RHRvLnVuaXF1ZUlELFxuICAgICAgICAgICAgdGl0bGU6IGVudHJ5RHRvLnRpdGxlLFxuICAgICAgICAgICAgZmllbGRzOiBzb3J0ZWRGaWVsZHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdG9LUFJQQ0VudHJ5RFRPKGVudHJ5OiBFbnRyeSkge1xuICAgICAgICBjb25zdCBlbnRyeUR0byA9IG5ldyBFbnRyeUR0bygpO1xuICAgICAgICBlbnRyeUR0by5hbHdheXNBdXRvRmlsbCA9IGVudHJ5LmFsd2F5c0F1dG9GaWxsO1xuICAgICAgICBlbnRyeUR0by5hbHdheXNBdXRvU3VibWl0ID0gZW50cnkuYWx3YXlzQXV0b1N1Ym1pdDtcbiAgICAgICAgZW50cnlEdG8uZm9ybUZpZWxkTGlzdCA9IGVudHJ5LmZpZWxkcy5tYXAoKGYsIGkpID0+IEZpZWxkLnRvS1BSUENGaWVsZERUTyhmLCBpID09PSAwKSk7XG4gICAgICAgIGVudHJ5RHRvLmhUVFBSZWFsbSA9IGVudHJ5Lmh0dHBSZWFsbTtcbiAgICAgICAgZW50cnlEdG8uaWNvbkltYWdlRGF0YSA9IGVudHJ5Lmljb24uaWNvbkltYWdlRGF0YTtcbiAgICAgICAgZW50cnlEdG8ubmV2ZXJBdXRvRmlsbCA9IGVudHJ5Lm5ldmVyQXV0b0ZpbGw7XG4gICAgICAgIGVudHJ5RHRvLm5ldmVyQXV0b1N1Ym1pdCA9IGVudHJ5Lm5ldmVyQXV0b1N1Ym1pdDtcbiAgICAgICAgZW50cnlEdG8udGl0bGUgPSBlbnRyeS50aXRsZTtcbiAgICAgICAgZW50cnlEdG8udVJMcyA9IGVudHJ5LlVSTHM7XG4gICAgICAgIHJldHVybiBlbnRyeUR0bztcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBWdWUgZnJvbSAndnVlJ1xuXG52YXIgaXNWdWUyID0gZmFsc2VcbnZhciBpc1Z1ZTMgPSB0cnVlXG52YXIgVnVlMiA9IHVuZGVmaW5lZFxuXG5mdW5jdGlvbiBpbnN0YWxsKCkge31cblxuZXhwb3J0IGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgdmFsKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICB0YXJnZXQubGVuZ3RoID0gTWF0aC5tYXgodGFyZ2V0Lmxlbmd0aCwga2V5KVxuICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxLCB2YWwpXG4gICAgcmV0dXJuIHZhbFxuICB9XG4gIHRhcmdldFtrZXldID0gdmFsXG4gIHJldHVybiB2YWxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbCh0YXJnZXQsIGtleSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgdGFyZ2V0LnNwbGljZShrZXksIDEpXG4gICAgcmV0dXJuXG4gIH1cbiAgZGVsZXRlIHRhcmdldFtrZXldXG59XG5cbmV4cG9ydCAqIGZyb20gJ3Z1ZSdcbmV4cG9ydCB7XG4gIFZ1ZSxcbiAgVnVlMixcbiAgaXNWdWUyLFxuICBpc1Z1ZTMsXG4gIGluc3RhbGwsXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0RGV2dG9vbHNHbG9iYWxIb29rKCkge1xuICAgIHJldHVybiBnZXRUYXJnZXQoKS5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgPyB3aW5kb3dcbiAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgIDoge307XG59XG5leHBvcnQgY29uc3QgaXNQcm94eUF2YWlsYWJsZSA9IHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJztcbiIsImV4cG9ydCBjb25zdCBIT09LX1NFVFVQID0gJ2RldnRvb2xzLXBsdWdpbjpzZXR1cCc7XG5leHBvcnQgY29uc3QgSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUID0gJ3BsdWdpbjpzZXR0aW5nczpzZXQnO1xuIiwibGV0IHN1cHBvcnRlZDtcbmxldCBwZXJmO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGVyZm9ybWFuY2VTdXBwb3J0ZWQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChzdXBwb3J0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3VwcG9ydGVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmICgoX2EgPSBnbG9iYWwucGVyZl9ob29rcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBlcmZvcm1hbmNlKSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBwZXJmID0gZ2xvYmFsLnBlcmZfaG9va3MucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIGlzUGVyZm9ybWFuY2VTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpO1xufVxuIiwiaW1wb3J0IHsgSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUIH0gZnJvbSAnLi9jb25zdC5qcyc7XG5pbXBvcnQgeyBub3cgfSBmcm9tICcuL3RpbWUuanMnO1xuZXhwb3J0IGNsYXNzIEFwaVByb3h5IHtcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW4sIGhvb2spIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldFF1ZXVlID0gW107XG4gICAgICAgIHRoaXMub25RdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5ob29rID0gaG9vaztcbiAgICAgICAgY29uc3QgZGVmYXVsdFNldHRpbmdzID0ge307XG4gICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gcGx1Z2luLnNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHBsdWdpbi5zZXR0aW5nc1tpZF07XG4gICAgICAgICAgICAgICAgZGVmYXVsdFNldHRpbmdzW2lkXSA9IGl0ZW0uZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2FsU2V0dGluZ3NTYXZlSWQgPSBgX192dWUtZGV2dG9vbHMtcGx1Z2luLXNldHRpbmdzX18ke3BsdWdpbi5pZH1gO1xuICAgICAgICBsZXQgY3VycmVudFNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFNldHRpbmdzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU2V0dGluZ3NTYXZlSWQpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmF3KTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudFNldHRpbmdzLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm9vcFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmFsbGJhY2tzID0ge1xuICAgICAgICAgICAgZ2V0U2V0dGluZ3MoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZXR0aW5ncztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRTZXR0aW5ncyh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU2V0dGluZ3NTYXZlSWQsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm93KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3coKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChob29rKSB7XG4gICAgICAgICAgICBob29rLm9uKEhPT0tfUExVR0lOX1NFVFRJTkdTX1NFVCwgKHBsdWdpbklkLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW5JZCA9PT0gdGhpcy5wbHVnaW4uaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWxsYmFja3Muc2V0U2V0dGluZ3ModmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJveGllZE9uID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgICAgICBnZXQ6IChfdGFyZ2V0LCBwcm9wKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5vbltwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJveGllZFRhcmdldCA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICAgICAgZ2V0OiAoX3RhcmdldCwgcHJvcCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJveGllZE9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChPYmplY3Qua2V5cyh0aGlzLmZhbGxiYWNrcykuaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6ICgpID0+IHsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFsbGJhY2tzW3Byb3BdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNldFJlYWxUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5vblF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5vbltpdGVtLm1ldGhvZF0oLi4uaXRlbS5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy50YXJnZXRRdWV1ZSkge1xuICAgICAgICAgICAgaXRlbS5yZXNvbHZlKGF3YWl0IHRoaXMudGFyZ2V0W2l0ZW0ubWV0aG9kXSguLi5pdGVtLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFRhcmdldCwgZ2V0RGV2dG9vbHNHbG9iYWxIb29rLCBpc1Byb3h5QXZhaWxhYmxlIH0gZnJvbSAnLi9lbnYuanMnO1xuaW1wb3J0IHsgSE9PS19TRVRVUCB9IGZyb20gJy4vY29uc3QuanMnO1xuaW1wb3J0IHsgQXBpUHJveHkgfSBmcm9tICcuL3Byb3h5LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYXBpL2luZGV4LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcGx1Z2luLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdGltZS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBEZXZ0b29sc1BsdWdpbihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSB7XG4gICAgY29uc3QgZGVzY3JpcHRvciA9IHBsdWdpbkRlc2NyaXB0b3I7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0VGFyZ2V0KCk7XG4gICAgY29uc3QgaG9vayA9IGdldERldnRvb2xzR2xvYmFsSG9vaygpO1xuICAgIGNvbnN0IGVuYWJsZVByb3h5ID0gaXNQcm94eUF2YWlsYWJsZSAmJiBkZXNjcmlwdG9yLmVuYWJsZUVhcmx5UHJveHk7XG4gICAgaWYgKGhvb2sgJiYgKHRhcmdldC5fX1ZVRV9ERVZUT09MU19QTFVHSU5fQVBJX0FWQUlMQUJMRV9fIHx8ICFlbmFibGVQcm94eSkpIHtcbiAgICAgICAgaG9vay5lbWl0KEhPT0tfU0VUVVAsIHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcHJveHkgPSBlbmFibGVQcm94eSA/IG5ldyBBcGlQcm94eShkZXNjcmlwdG9yLCBob29rKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX1BMVUdJTlNfXyB8fCBbXTtcbiAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgIHBsdWdpbkRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgICAgICAgICBzZXR1cEZuLFxuICAgICAgICAgICAgcHJveHksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJveHkpXG4gICAgICAgICAgICBzZXR1cEZuKHByb3h5LnByb3hpZWRUYXJnZXQpO1xuICAgIH1cbn1cbiIsIi8qIVxuICAqIHBpbmlhIHYyLjAuMjlcbiAgKiAoYykgMjAyMyBFZHVhcmRvIFNhbiBNYXJ0aW4gTW9yb3RlXG4gICogQGxpY2Vuc2UgTUlUXG4gICovXG5pbXBvcnQgeyBnZXRDdXJyZW50SW5zdGFuY2UsIGluamVjdCwgdG9SYXcsIHdhdGNoLCB1bnJlZiwgbWFya1JhdywgZWZmZWN0U2NvcGUsIHJlZiwgaXNWdWUyLCBpc1JlZiwgaXNSZWFjdGl2ZSwgc2V0LCBnZXRDdXJyZW50U2NvcGUsIG9uU2NvcGVEaXNwb3NlLCByZWFjdGl2ZSwgdG9SZWYsIGRlbCwgbmV4dFRpY2ssIGNvbXB1dGVkLCB0b1JlZnMgfSBmcm9tICd2dWUtZGVtaSc7XG5pbXBvcnQgeyBzZXR1cERldnRvb2xzUGx1Z2luIH0gZnJvbSAnQHZ1ZS9kZXZ0b29scy1hcGknO1xuXG4vKipcclxuICogc2V0QWN0aXZlUGluaWEgbXVzdCBiZSBjYWxsZWQgdG8gaGFuZGxlIFNTUiBhdCB0aGUgdG9wIG9mIGZ1bmN0aW9ucyBsaWtlXHJcbiAqIGBmZXRjaGAsIGBzZXR1cGAsIGBzZXJ2ZXJQcmVmZXRjaGAgYW5kIG90aGVyc1xyXG4gKi9cclxubGV0IGFjdGl2ZVBpbmlhO1xyXG4vKipcclxuICogU2V0cyBvciB1bnNldHMgdGhlIGFjdGl2ZSBwaW5pYS4gVXNlZCBpbiBTU1IgYW5kIGludGVybmFsbHkgd2hlbiBjYWxsaW5nXHJcbiAqIGFjdGlvbnMgYW5kIGdldHRlcnNcclxuICpcclxuICogQHBhcmFtIHBpbmlhIC0gUGluaWEgaW5zdGFuY2VcclxuICovXHJcbmNvbnN0IHNldEFjdGl2ZVBpbmlhID0gKHBpbmlhKSA9PiAoYWN0aXZlUGluaWEgPSBwaW5pYSk7XHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgcGluaWEgaWYgdGhlcmUgaXMgYW55LlxyXG4gKi9cclxuY29uc3QgZ2V0QWN0aXZlUGluaWEgPSAoKSA9PiAoZ2V0Q3VycmVudEluc3RhbmNlKCkgJiYgaW5qZWN0KHBpbmlhU3ltYm9sKSkgfHwgYWN0aXZlUGluaWE7XHJcbmNvbnN0IHBpbmlhU3ltYm9sID0gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IFN5bWJvbCgncGluaWEnKSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFN5bWJvbCgpKTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxubykge1xyXG4gICAgcmV0dXJuIChvICYmXHJcbiAgICAgICAgdHlwZW9mIG8gPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSAnW29iamVjdCBPYmplY3RdJyAmJlxyXG4gICAgICAgIHR5cGVvZiBvLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyk7XHJcbn1cclxuLy8gdHlwZSBEZWVwUmVhZG9ubHk8VD4gPSB7IHJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBEZWVwUmVhZG9ubHk8VFtQXT4gfVxyXG4vLyBUT0RPOiBjYW4gd2UgY2hhbmdlIHRoZXNlIHRvIG51bWJlcnM/XHJcbi8qKlxyXG4gKiBQb3NzaWJsZSB0eXBlcyBmb3IgU3Vic2NyaXB0aW9uQ2FsbGJhY2tcclxuICovXHJcbnZhciBNdXRhdGlvblR5cGU7XHJcbihmdW5jdGlvbiAoTXV0YXRpb25UeXBlKSB7XHJcbiAgICAvKipcclxuICAgICAqIERpcmVjdCBtdXRhdGlvbiBvZiB0aGUgc3RhdGU6XHJcbiAgICAgKlxyXG4gICAgICogLSBgc3RvcmUubmFtZSA9ICduZXcgbmFtZSdgXHJcbiAgICAgKiAtIGBzdG9yZS4kc3RhdGUubmFtZSA9ICduZXcgbmFtZSdgXHJcbiAgICAgKiAtIGBzdG9yZS5saXN0LnB1c2goJ25ldyBpdGVtJylgXHJcbiAgICAgKi9cclxuICAgIE11dGF0aW9uVHlwZVtcImRpcmVjdFwiXSA9IFwiZGlyZWN0XCI7XHJcbiAgICAvKipcclxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGFuIG9iamVjdFxyXG4gICAgICpcclxuICAgICAqIC0gYHN0b3JlLiRwYXRjaCh7IG5hbWU6ICduZXdOYW1lJyB9KWBcclxuICAgICAqL1xyXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hPYmplY3RcIl0gPSBcInBhdGNoIG9iamVjdFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNdXRhdGVkIHRoZSBzdGF0ZSB3aXRoIGAkcGF0Y2hgIGFuZCBhIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogLSBgc3RvcmUuJHBhdGNoKHN0YXRlID0+IHN0YXRlLm5hbWUgPSAnbmV3TmFtZScpYFxyXG4gICAgICovXHJcbiAgICBNdXRhdGlvblR5cGVbXCJwYXRjaEZ1bmN0aW9uXCJdID0gXCJwYXRjaCBmdW5jdGlvblwiO1xyXG4gICAgLy8gbWF5YmUgcmVzZXQ/IGZvciAkc3RhdGUgPSB7fSBhbmQgJHJlc2V0XHJcbn0pKE11dGF0aW9uVHlwZSB8fCAoTXV0YXRpb25UeXBlID0ge30pKTtcblxuY29uc3QgSVNfQ0xJRU5UID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XHJcbi8qKlxyXG4gKiBTaG91bGQgd2UgYWRkIHRoZSBkZXZ0b29scyBwbHVnaW5zLlxyXG4gKiAtIG9ubHkgaWYgZGV2IG1vZGUgb3IgZm9yY2VkIHRocm91Z2ggdGhlIHByb2QgZGV2dG9vbHMgZmxhZ1xyXG4gKiAtIG5vdCBpbiB0ZXN0XHJcbiAqIC0gb25seSBpZiB3aW5kb3cgZXhpc3RzIChjb3VsZCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZSlcclxuICovXHJcbmNvbnN0IFVTRV9ERVZUT09MUyA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykgJiYgSVNfQ0xJRU5UO1xuXG4vKlxyXG4gKiBGaWxlU2F2ZXIuanMgQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXHJcbiAqXHJcbiAqIE9yaWdpbmFsbHkgYnkgRWxpIEdyZXksIGFkYXB0ZWQgYXMgYW4gRVNNIG1vZHVsZSBieSBFZHVhcmRvIFNhbiBNYXJ0aW5cclxuICogTW9yb3RlLlxyXG4gKlxyXG4gKiBMaWNlbnNlIDogTUlUXHJcbiAqL1xyXG4vLyBUaGUgb25lIGFuZCBvbmx5IHdheSBvZiBnZXR0aW5nIGdsb2JhbCBzY29wZSBpbiBhbGwgZW52aXJvbm1lbnRzXHJcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8zMjc3MTgyLzEwMDg5OTlcclxuY29uc3QgX2dsb2JhbCA9IC8qI19fUFVSRV9fKi8gKCgpID0+IHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy53aW5kb3cgPT09IHdpbmRvd1xyXG4gICAgPyB3aW5kb3dcclxuICAgIDogdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZlxyXG4gICAgICAgID8gc2VsZlxyXG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsXHJcbiAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnXHJcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcclxuICAgICAgICAgICAgICAgIDogeyBIVE1MRWxlbWVudDogbnVsbCB9KSgpO1xyXG5mdW5jdGlvbiBib20oYmxvYiwgeyBhdXRvQm9tID0gZmFsc2UgfSA9IHt9KSB7XHJcbiAgICAvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxyXG4gICAgLy8gbm90ZTogeW91ciBicm93c2VyIHdpbGwgYXV0b21hdGljYWxseSBjb252ZXJ0IFVURi0xNiBVK0ZFRkYgdG8gRUYgQkIgQkZcclxuICAgIGlmIChhdXRvQm9tICYmXHJcbiAgICAgICAgL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSgweGZlZmYpLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYmxvYjtcclxufVxyXG5mdW5jdGlvbiBkb3dubG9hZCh1cmwsIG5hbWUsIG9wdHMpIHtcclxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XHJcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xyXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzYXZlQXMoeGhyLnJlc3BvbnNlLCBuYW1lLCBvcHRzKTtcclxuICAgIH07XHJcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdjb3VsZCBub3QgZG93bmxvYWQgZmlsZScpO1xyXG4gICAgfTtcclxuICAgIHhoci5zZW5kKCk7XHJcbn1cclxuZnVuY3Rpb24gY29yc0VuYWJsZWQodXJsKSB7XHJcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIC8vIHVzZSBzeW5jIHRvIGF2b2lkIHBvcHVwIGJsb2NrZXJcclxuICAgIHhoci5vcGVuKCdIRUFEJywgdXJsLCBmYWxzZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICByZXR1cm4geGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8PSAyOTk7XHJcbn1cclxuLy8gYGEuY2xpY2soKWAgZG9lc24ndCB3b3JrIGZvciBhbGwgYnJvd3NlcnMgKCM0NjUpXHJcbmZ1bmN0aW9uIGNsaWNrKG5vZGUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc3QgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XHJcbiAgICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KCdjbGljaycsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgODAsIDIwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XHJcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgX25hdmlnYXRvciA9IFxyXG4gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogJycgfTtcclxuLy8gRGV0ZWN0IFdlYlZpZXcgaW5zaWRlIGEgbmF0aXZlIG1hY09TIGFwcCBieSBydWxpbmcgb3V0IGFsbCBicm93c2Vyc1xyXG4vLyBXZSBqdXN0IG5lZWQgdG8gY2hlY2sgZm9yICdTYWZhcmknIGJlY2F1c2UgYWxsIG90aGVyIGJyb3dzZXJzIChiZXNpZGVzIEZpcmVmb3gpIGluY2x1ZGUgdGhhdCB0b29cclxuLy8gaHR0cHM6Ly93d3cud2hhdGlzbXlicm93c2VyLmNvbS9ndWlkZXMvdGhlLWxhdGVzdC11c2VyLWFnZW50L21hY29zXHJcbmNvbnN0IGlzTWFjT1NXZWJWaWV3ID0gLyojX19QVVJFX18qLyAoKCkgPT4gL01hY2ludG9zaC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcclxuICAgIC9BcHBsZVdlYktpdC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcclxuICAgICEvU2FmYXJpLy50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSkoKTtcclxuY29uc3Qgc2F2ZUFzID0gIUlTX0NMSUVOVFxyXG4gICAgPyAoKSA9PiB7IH0gLy8gbm9vcFxyXG4gICAgOiAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSkgdW5sZXNzIHRoaXMgaXMgYSBtYWNPUyBXZWJWaWV3IG9yIG1pbmkgcHJvZ3JhbVxyXG4gICAgICAgIHR5cGVvZiBIVE1MQW5jaG9yRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAgICAgJ2Rvd25sb2FkJyBpbiBIVE1MQW5jaG9yRWxlbWVudC5wcm90b3R5cGUgJiZcclxuICAgICAgICAgICAgIWlzTWFjT1NXZWJWaWV3XHJcbiAgICAgICAgICAgID8gZG93bmxvYWRTYXZlQXNcclxuICAgICAgICAgICAgOiAvLyBVc2UgbXNTYXZlT3JPcGVuQmxvYiBhcyBhIHNlY29uZCBhcHByb2FjaFxyXG4gICAgICAgICAgICAgICAgJ21zU2F2ZU9yT3BlbkJsb2InIGluIF9uYXZpZ2F0b3JcclxuICAgICAgICAgICAgICAgICAgICA/IG1zU2F2ZUFzXHJcbiAgICAgICAgICAgICAgICAgICAgOiAvLyBGYWxsYmFjayB0byB1c2luZyBGaWxlUmVhZGVyIGFuZCBhIHBvcHVwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTYXZlclNhdmVBcztcclxuZnVuY3Rpb24gZG93bmxvYWRTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcclxuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBhLmRvd25sb2FkID0gbmFtZTtcclxuICAgIGEucmVsID0gJ25vb3BlbmVyJzsgLy8gdGFibmFiYmluZ1xyXG4gICAgLy8gVE9ETzogZGV0ZWN0IGNocm9tZSBleHRlbnNpb25zICYgcGFja2FnZWQgYXBwc1xyXG4gICAgLy8gYS50YXJnZXQgPSAnX2JsYW5rJ1xyXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vIFN1cHBvcnQgcmVndWxhciBsaW5rc1xyXG4gICAgICAgIGEuaHJlZiA9IGJsb2I7XHJcbiAgICAgICAgaWYgKGEub3JpZ2luICE9PSBsb2NhdGlvbi5vcmlnaW4pIHtcclxuICAgICAgICAgICAgaWYgKGNvcnNFbmFibGVkKGEuaHJlZikpIHtcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcclxuICAgICAgICAgICAgICAgIGNsaWNrKGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjbGljayhhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBTdXBwb3J0IGJsb2JzXHJcbiAgICAgICAgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpO1xyXG4gICAgICAgIH0sIDRlNCk7IC8vIDQwc1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGljayhhKTtcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBtc1NhdmVBcyhibG9iLCBuYW1lID0gJ2Rvd25sb2FkJywgb3B0cykge1xyXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xyXG4gICAgICAgICAgICBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGEuaHJlZiA9IGJsb2I7XHJcbiAgICAgICAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2xpY2soYSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IHdvcmtzIG9uIHdpbmRvd3NcclxuICAgICAgICBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihib20oYmxvYiwgb3B0cyksIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZpbGVTYXZlclNhdmVBcyhibG9iLCBuYW1lLCBvcHRzLCBwb3B1cCkge1xyXG4gICAgLy8gT3BlbiBhIHBvcHVwIGltbWVkaWF0ZWx5IGRvIGdvIGFyb3VuZCBwb3B1cCBibG9ja2VyXHJcbiAgICAvLyBNb3N0bHkgb25seSBhdmFpbGFibGUgb24gdXNlciBpbnRlcmFjdGlvbiBhbmQgdGhlIGZpbGVSZWFkZXIgaXMgYXN5bmMgc28uLi5cclxuICAgIHBvcHVwID0gcG9wdXAgfHwgb3BlbignJywgJ19ibGFuaycpO1xyXG4gICAgaWYgKHBvcHVwKSB7XHJcbiAgICAgICAgcG9wdXAuZG9jdW1lbnQudGl0bGUgPSBwb3B1cC5kb2N1bWVudC5ib2R5LmlubmVyVGV4dCA9ICdkb3dubG9hZGluZy4uLic7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKVxyXG4gICAgICAgIHJldHVybiBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcclxuICAgIGNvbnN0IGZvcmNlID0gYmxvYi50eXBlID09PSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcclxuICAgIGNvbnN0IGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChTdHJpbmcoX2dsb2JhbC5IVE1MRWxlbWVudCkpIHx8ICdzYWZhcmknIGluIF9nbG9iYWw7XHJcbiAgICBjb25zdCBpc0Nocm9tZUlPUyA9IC9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIGlmICgoaXNDaHJvbWVJT1MgfHwgKGZvcmNlICYmIGlzU2FmYXJpKSB8fCBpc01hY09TV2ViVmlldykgJiZcclxuICAgICAgICB0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIFVSTHNcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSByZWFkZXIucmVzdWx0O1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHBvcHVwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgcmVhZGVyLnJlc3VsdCB0eXBlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXJsID0gaXNDaHJvbWVJT1NcclxuICAgICAgICAgICAgICAgID8gdXJsXHJcbiAgICAgICAgICAgICAgICA6IHVybC5yZXBsYWNlKC9eZGF0YTpbXjtdKjsvLCAnZGF0YTphdHRhY2htZW50L2ZpbGU7Jyk7XHJcbiAgICAgICAgICAgIGlmIChwb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgcG9wdXAubG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvcHVwID0gbnVsbDsgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBpZiAocG9wdXApXHJcbiAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICBwb3B1cCA9IG51bGw7IC8vIHJldmVyc2UtdGFibmFiYmluZyAjNDYwXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcclxuICAgIH1cclxufVxuXG4vKipcclxuICogU2hvd3MgYSB0b2FzdCBvciBjb25zb2xlLmxvZ1xyXG4gKlxyXG4gKiBAcGFyYW0gbWVzc2FnZSAtIG1lc3NhZ2UgdG8gbG9nXHJcbiAqIEBwYXJhbSB0eXBlIC0gZGlmZmVyZW50IGNvbG9yIG9mIHRoZSB0b29sdGlwXHJcbiAqL1xyXG5mdW5jdGlvbiB0b2FzdE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xyXG4gICAgY29uc3QgcGluaWFNZXNzYWdlID0gJ/CfjY0gJyArIG1lc3NhZ2U7XHJcbiAgICBpZiAodHlwZW9mIF9fVlVFX0RFVlRPT0xTX1RPQVNUX18gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBfX1ZVRV9ERVZUT09MU19UT0FTVF9fKHBpbmlhTWVzc2FnZSwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihwaW5pYU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3dhcm4nKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKHBpbmlhTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhwaW5pYU1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzUGluaWEobykge1xyXG4gICAgcmV0dXJuICdfYScgaW4gbyAmJiAnaW5zdGFsbCcgaW4gbztcclxufVxuXG5mdW5jdGlvbiBjaGVja0NsaXBib2FyZEFjY2VzcygpIHtcclxuICAgIGlmICghKCdjbGlwYm9hcmQnIGluIG5hdmlnYXRvcikpIHtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoYFlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdGhlIENsaXBib2FyZCBBUElgLCAnZXJyb3InKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcclxuICAgICAgICBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2RvY3VtZW50IGlzIG5vdCBmb2N1c2VkJykpIHtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoJ1lvdSBuZWVkIHRvIGFjdGl2YXRlIHRoZSBcIkVtdWxhdGUgYSBmb2N1c2VkIHBhZ2VcIiBzZXR0aW5nIGluIHRoZSBcIlJlbmRlcmluZ1wiIHBhbmVsIG9mIGRldnRvb2xzLicsICd3YXJuJyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsQ29weVN0YXRlKHBpbmlhKSB7XHJcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KEpTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKSk7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgY29waWVkIHRvIGNsaXBib2FyZC4nKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBzZXJpYWxpemUgdGhlIHN0YXRlLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpIHtcclxuICAgIGlmIChjaGVja0NsaXBib2FyZEFjY2VzcygpKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWUgPSBKU09OLnBhcnNlKGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKSk7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgcGFzdGVkIGZyb20gY2xpcGJvYXJkLicpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGNoZWNrTm90Rm9jdXNlZEVycm9yKGVycm9yKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGRlc2VyaWFsaXplIHRoZSBzdGF0ZSBmcm9tIGNsaXBib2FyZC4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxyXG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxTYXZlU3RhdGUocGluaWEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgc2F2ZUFzKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShwaW5pYS5zdGF0ZS52YWx1ZSldLCB7XHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnLFxyXG4gICAgICAgIH0pLCAncGluaWEtc3RhdGUuanNvbicpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gZXhwb3J0IHRoZSBzdGF0ZSBhcyBKU09OLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbmxldCBmaWxlSW5wdXQ7XHJcbmZ1bmN0aW9uIGdldEZpbGVPcGVuZXIoKSB7XHJcbiAgICBpZiAoIWZpbGVJbnB1dCkge1xyXG4gICAgICAgIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XHJcbiAgICAgICAgZmlsZUlucHV0LmFjY2VwdCA9ICcuanNvbic7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvcGVuRmlsZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGZpbGVJbnB1dC5maWxlcztcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZXMuaXRlbSgwKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdGV4dDogYXdhaXQgZmlsZS50ZXh0KCksIGZpbGUgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IFRPRE86IGNoYW5nZWQgZnJvbSA0LjMgdG8gNC40XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmNhbmNlbCA9ICgpID0+IHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBvcGVuRmlsZTtcclxufVxyXG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG9wZW4gPSBhd2FpdCBnZXRGaWxlT3BlbmVyKCk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlbigpO1xyXG4gICAgICAgIGlmICghcmVzdWx0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgeyB0ZXh0LCBmaWxlIH0gPSByZXN1bHQ7XHJcbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWUgPSBKU09OLnBhcnNlKHRleHQpO1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgR2xvYmFsIHN0YXRlIGltcG9ydGVkIGZyb20gXCIke2ZpbGUubmFtZX1cIi5gKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGV4cG9ydCB0aGUgc3RhdGUgYXMgSlNPTi4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5KGRpc3BsYXkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX2N1c3RvbToge1xyXG4gICAgICAgICAgICBkaXNwbGF5LFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IFBJTklBX1JPT1RfTEFCRUwgPSAn8J+NjSBQaW5pYSAocm9vdCknO1xyXG5jb25zdCBQSU5JQV9ST09UX0lEID0gJ19yb290JztcclxuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKHN0b3JlKSB7XHJcbiAgICByZXR1cm4gaXNQaW5pYShzdG9yZSlcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgaWQ6IFBJTklBX1JPT1RfSUQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBQSU5JQV9ST09UX0xBQkVMLFxyXG4gICAgICAgIH1cclxuICAgICAgICA6IHtcclxuICAgICAgICAgICAgaWQ6IHN0b3JlLiRpZCxcclxuICAgICAgICAgICAgbGFiZWw6IHN0b3JlLiRpZCxcclxuICAgICAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoc3RvcmUpIHtcclxuICAgIGlmIChpc1BpbmlhKHN0b3JlKSkge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlTmFtZXMgPSBBcnJheS5mcm9tKHN0b3JlLl9zLmtleXMoKSk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVNYXAgPSBzdG9yZS5fcztcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgc3RhdGU6IHN0b3JlTmFtZXMubWFwKChzdG9yZUlkKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBrZXk6IHN0b3JlSWQsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuc3RhdGUudmFsdWVbc3RvcmVJZF0sXHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgZ2V0dGVyczogc3RvcmVOYW1lc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoaWQpID0+IHN0b3JlTWFwLmdldChpZCkuX2dldHRlcnMpXHJcbiAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBzdG9yZU1hcC5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBpZCxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuX2dldHRlcnMucmVkdWNlKChnZXR0ZXJzLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwge30pLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICBzdGF0ZTogT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5tYXAoKGtleSkgPT4gKHtcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlLiRzdGF0ZVtrZXldLFxyXG4gICAgICAgIH0pKSxcclxuICAgIH07XHJcbiAgICAvLyBhdm9pZCBhZGRpbmcgZW1wdHkgZ2V0dGVyc1xyXG4gICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgIHN0YXRlLmdldHRlcnMgPSBzdG9yZS5fZ2V0dGVycy5tYXAoKGdldHRlck5hbWUpID0+ICh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAga2V5OiBnZXR0ZXJOYW1lLFxyXG4gICAgICAgICAgICB2YWx1ZTogc3RvcmVbZ2V0dGVyTmFtZV0sXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLnNpemUpIHtcclxuICAgICAgICBzdGF0ZS5jdXN0b21Qcm9wZXJ0aWVzID0gQXJyYXkuZnJvbShzdG9yZS5fY3VzdG9tUHJvcGVydGllcykubWFwKChrZXkpID0+ICh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtrZXldLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGF0ZTtcclxufVxyXG5mdW5jdGlvbiBmb3JtYXRFdmVudERhdGEoZXZlbnRzKSB7XHJcbiAgICBpZiAoIWV2ZW50cylcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudHMpKSB7XHJcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGFkZCBhbmQgZGVsZXRlIGZvciBhcnJheXMgYW5kIG9iamVjdHNcclxuICAgICAgICByZXR1cm4gZXZlbnRzLnJlZHVjZSgoZGF0YSwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZGF0YS5rZXlzLnB1c2goZXZlbnQua2V5KTtcclxuICAgICAgICAgICAgZGF0YS5vcGVyYXRpb25zLnB1c2goZXZlbnQudHlwZSk7XHJcbiAgICAgICAgICAgIGRhdGEub2xkVmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm9sZFZhbHVlO1xyXG4gICAgICAgICAgICBkYXRhLm5ld1ZhbHVlW2V2ZW50LmtleV0gPSBldmVudC5uZXdWYWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBvbGRWYWx1ZToge30sXHJcbiAgICAgICAgICAgIGtleXM6IFtdLFxyXG4gICAgICAgICAgICBvcGVyYXRpb25zOiBbXSxcclxuICAgICAgICAgICAgbmV3VmFsdWU6IHt9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgb3BlcmF0aW9uOiBmb3JtYXREaXNwbGF5KGV2ZW50cy50eXBlKSxcclxuICAgICAgICAgICAga2V5OiBmb3JtYXREaXNwbGF5KGV2ZW50cy5rZXkpLFxyXG4gICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnRzLm9sZFZhbHVlLFxyXG4gICAgICAgICAgICBuZXdWYWx1ZTogZXZlbnRzLm5ld1ZhbHVlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0TXV0YXRpb25UeXBlKHR5cGUpIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLmRpcmVjdDpcclxuICAgICAgICAgICAgcmV0dXJuICdtdXRhdGlvbic7XHJcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbjpcclxuICAgICAgICAgICAgcmV0dXJuICckcGF0Y2gnO1xyXG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0OlxyXG4gICAgICAgICAgICByZXR1cm4gJyRwYXRjaCc7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJztcclxuICAgIH1cclxufVxuXG4vLyB0aW1lbGluZSBjYW4gYmUgcGF1c2VkIHdoZW4gZGlyZWN0bHkgY2hhbmdpbmcgdGhlIHN0YXRlXHJcbmxldCBpc1RpbWVsaW5lQWN0aXZlID0gdHJ1ZTtcclxuY29uc3QgY29tcG9uZW50U3RhdGVUeXBlcyA9IFtdO1xyXG5jb25zdCBNVVRBVElPTlNfTEFZRVJfSUQgPSAncGluaWE6bXV0YXRpb25zJztcclxuY29uc3QgSU5TUEVDVE9SX0lEID0gJ3BpbmlhJztcclxuLyoqXHJcbiAqIEdldHMgdGhlIGRpc3BsYXllZCBuYW1lIG9mIGEgc3RvcmUgaW4gZGV2dG9vbHNcclxuICpcclxuICogQHBhcmFtIGlkIC0gaWQgb2YgdGhlIHN0b3JlXHJcbiAqIEByZXR1cm5zIGEgZm9ybWF0dGVkIHN0cmluZ1xyXG4gKi9cclxuY29uc3QgZ2V0U3RvcmVUeXBlID0gKGlkKSA9PiAn8J+NjSAnICsgaWQ7XHJcbi8qKlxyXG4gKiBBZGQgdGhlIHBpbmlhIHBsdWdpbiB3aXRob3V0IGFueSBzdG9yZS4gQWxsb3dzIGRpc3BsYXlpbmcgYSBQaW5pYSBwbHVnaW4gdGFiXHJcbiAqIGFzIHNvb24gYXMgaXQgaXMgYWRkZWQgdG8gdGhlIGFwcGxpY2F0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gVnVlIGFwcGxpY2F0aW9uXHJcbiAqIEBwYXJhbSBwaW5pYSAtIHBpbmlhIGluc3RhbmNlXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclBpbmlhRGV2dG9vbHMoYXBwLCBwaW5pYSkge1xyXG4gICAgc2V0dXBEZXZ0b29sc1BsdWdpbih7XHJcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcclxuICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxyXG4gICAgICAgIGxvZ286ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9sb2dvLnN2ZycsXHJcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXHJcbiAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZycsXHJcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcyxcclxuICAgICAgICBhcHAsXHJcbiAgICB9LCAoYXBpKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcGkubm93ICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XHJcbiAgICAgICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBgUGluaWEg8J+NjWAsXHJcbiAgICAgICAgICAgIGNvbG9yOiAweGU1ZGY4OCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcclxuICAgICAgICAgICAgaWQ6IElOU1BFQ1RPUl9JRCxcclxuICAgICAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcclxuICAgICAgICAgICAgaWNvbjogJ3N0b3JhZ2UnLFxyXG4gICAgICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdTZWFyY2ggc3RvcmVzJyxcclxuICAgICAgICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdjb250ZW50X2NvcHknLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NlcmlhbGl6ZSBhbmQgY29weSB0aGUgc3RhdGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9wYXN0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1JlcGxhY2UgdGhlIHN0YXRlIHdpdGggdGhlIGNvbnRlbnQgb2YgeW91ciBjbGlwYm9hcmQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnc2F2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkdsb2JhbFNhdmVTdGF0ZShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2F2ZSB0aGUgc3RhdGUgYXMgYSBKU09OIGZpbGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZm9sZGVyX29wZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdJbXBvcnQgdGhlIHN0YXRlIGZyb20gYSBKU09OIGZpbGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgbm9kZUFjdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAncmVzdG9yZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1Jlc2V0IHRoZSBzdGF0ZSAob3B0aW9uIHN0b3JlIG9ubHkpJyxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IChub2RlSWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQobm9kZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IHdhc24ndCBmb3VuZC5gLCAnd2FybicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzdG9yZS5faXNPcHRpb25zQVBJKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYENhbm5vdCByZXNldCBcIiR7bm9kZUlkfVwiIHN0b3JlIGJlY2F1c2UgaXQncyBhIHNldHVwIHN0b3JlLmAsICd3YXJuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS4kcmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgU3RvcmUgXCIke25vZGVJZH1cIiByZXNldC5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwaS5vbi5pbnNwZWN0Q29tcG9uZW50KChwYXlsb2FkLCBjdHgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJveHkgPSAocGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZS5wcm94eSk7XHJcbiAgICAgICAgICAgIGlmIChwcm94eSAmJiBwcm94eS5fcFN0b3Jlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWFTdG9yZXMgPSBwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlLnByb3h5Ll9wU3RvcmVzO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhwaW5pYVN0b3JlcykuZm9yRWFjaCgoc3RvcmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3N0YXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5faXNPcHRpb25zQVBJXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b1JhdyhzdG9yZS4kc3RhdGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3Jlc3RvcmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdSZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBzdG9yZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiBzdG9yZS4kcmVzZXQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogLy8gTk9URTogd29ya2Fyb3VuZCB0byB1bndyYXAgdHJhbnNmZXJyZWQgcmVmc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0b3JlLiRzdGF0ZSkucmVkdWNlKChzdGF0ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBzdG9yZS4kc3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmUuX2dldHRlcnMgJiYgc3RvcmUuX2dldHRlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdnZXR0ZXJzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcnNba2V5XSA9IHN0b3JlW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBqdXN0IHdhbnQgdG8gc2hvdyBpdCBpbiBkZXZ0b29sc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmVzID0gW3BpbmlhXTtcclxuICAgICAgICAgICAgICAgIHN0b3JlcyA9IHN0b3Jlcy5jb25jYXQoQXJyYXkuZnJvbShwaW5pYS5fcy52YWx1ZXMoKSkpO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5yb290Tm9kZXMgPSAocGF5bG9hZC5maWx0ZXJcclxuICAgICAgICAgICAgICAgICAgICA/IHN0b3Jlcy5maWx0ZXIoKHN0b3JlKSA9PiAnJGlkJyBpbiBzdG9yZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0b3JlLiRpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBJTklBX1JPT1RfTEFCRUwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSlcclxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlcykubWFwKGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXHJcbiAgICAgICAgICAgICAgICAgICAgPyBwaW5pYVxyXG4gICAgICAgICAgICAgICAgICAgIDogcGluaWEuX3MuZ2V0KHBheWxvYWQubm9kZUlkKTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGJlIHRoZSBzZWxlY3RlZCBzdG9yZSByZXN0b3JlZCBmb3IgYSBkaWZmZXJlbnQgcHJvamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIGl0J3MgYmV0dGVyIG5vdCB0byBzYXkgYW55dGhpbmcgaGVyZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpbnNwZWN0ZWRTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuc3RhdGUgPSBmb3JtYXRTdG9yZUZvckluc3BlY3RvclN0YXRlKGluc3BlY3RlZFN0b3JlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQsIGN0eCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluc3BlY3RlZFN0b3JlID0gcGF5bG9hZC5ub2RlSWQgPT09IFBJTklBX1JPT1RfSURcclxuICAgICAgICAgICAgICAgICAgICA/IHBpbmlhXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnNwZWN0ZWRTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtwYXlsb2FkLm5vZGVJZH1cIiBub3QgZm91bmRgLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gcGF5bG9hZDtcclxuICAgICAgICAgICAgICAgIGlmICghaXNQaW5pYShpbnNwZWN0ZWRTdG9yZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3Mgb25seSB0aGUgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggIT09IDEgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWluc3BlY3RlZFN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmhhcyhwYXRoWzBdKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoWzBdIGluIGluc3BlY3RlZFN0b3JlLiRzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoJyRzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJvb3QgYWNjZXNzLCB3ZSBjYW4gb21pdCB0aGUgYC52YWx1ZWAgYmVjYXVzZSB0aGUgZGV2dG9vbHMgQVBJIGRvZXMgaXQgZm9yIHVzXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KCdzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoaW5zcGVjdGVkU3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZWRpdENvbXBvbmVudFN0YXRlKChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLnR5cGUuc3RhcnRzV2l0aCgn8J+NjScpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUlkID0gcGF5bG9hZC50eXBlLnJlcGxhY2UoL17wn42NXFxzKi8sICcnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KHN0b3JlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtzdG9yZUlkfVwiIG5vdCBmb3VuZGAsICdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBwYXlsb2FkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbMF0gIT09ICdzdGF0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBJbnZhbGlkIHBhdGggZm9yIHN0b3JlIFwiJHtzdG9yZUlkfVwiOlxcbiR7cGF0aH1cXG5Pbmx5IHN0YXRlIGNhbiBiZSBtb2RpZmllZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJld3JpdGUgdGhlIGZpcnN0IGVudHJ5IHRvIGJlIGFibGUgdG8gZGlyZWN0bHkgc2V0IHRoZSBzdGF0ZSBhc1xyXG4gICAgICAgICAgICAgICAgLy8gd2VsbCBhcyBhbnkgb3RoZXIgcGF0aFxyXG4gICAgICAgICAgICAgICAgcGF0aFswXSA9ICckc3RhdGUnO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoc3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGFkZFN0b3JlVG9EZXZ0b29scyhhcHAsIHN0b3JlKSB7XHJcbiAgICBpZiAoIWNvbXBvbmVudFN0YXRlVHlwZXMuaW5jbHVkZXMoZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCkpKSB7XHJcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcy5wdXNoKGdldFN0b3JlVHlwZShzdG9yZS4kaWQpKTtcclxuICAgIH1cclxuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xyXG4gICAgICAgIGlkOiAnZGV2LmVzbS5waW5pYScsXHJcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcclxuICAgICAgICBsb2dvOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvbG9nby5zdmcnLFxyXG4gICAgICAgIHBhY2thZ2VOYW1lOiAncGluaWEnLFxyXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxyXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMsXHJcbiAgICAgICAgYXBwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGxvZ1N0b3JlQ2hhbmdlczoge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOb3RpZnkgYWJvdXQgbmV3L2RlbGV0ZWQgc3RvcmVzJyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gdXNlRW1vamlzOiB7XHJcbiAgICAgICAgICAgIC8vICAgbGFiZWw6ICdVc2UgZW1vamlzIGluIG1lc3NhZ2VzIOKaoe+4jycsXHJcbiAgICAgICAgICAgIC8vICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICAgICAgICAvLyAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICB9LFxyXG4gICAgfSwgKGFwaSkgPT4ge1xyXG4gICAgICAgIC8vIGdyYWNlZnVsbHkgaGFuZGxlIGVycm9yc1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHR5cGVvZiBhcGkubm93ID09PSAnZnVuY3Rpb24nID8gYXBpLm5vdy5iaW5kKGFwaSkgOiBEYXRlLm5vdztcclxuICAgICAgICBzdG9yZS4kb25BY3Rpb24oKHsgYWZ0ZXIsIG9uRXJyb3IsIG5hbWUsIGFyZ3MgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBncm91cElkID0gcnVubmluZ0FjdGlvbklkKys7XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5urICcgKyBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhZnRlcigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfm6wgJyArIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgb25FcnJvcigoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+SpSAnICsgbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICB3YXRjaCgoKSA9PiB1bnJlZihzdG9yZVtuYW1lXSksIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1RpbWVsaW5lQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hhbmdlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGl2ZUFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN0b3JlLiRzdWJzY3JpYmUoKHsgZXZlbnRzLCB0eXBlIH0sIHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGltZWxpbmVBY3RpdmUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIHJvb3RTdG9yZS5zdGF0ZVtzdG9yZS5pZF0gPSBzdGF0ZVxyXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRFdmVudERhdGEoZXZlbnRzKSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBncm91cElkOiBhY3RpdmVBY3Rpb24sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IGZvciB0aGUgbmV4dCBtdXRhdGlvblxyXG4gICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gJ+Kkte+4jyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSAn8J+nqSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnRzICYmICFBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9IGV2ZW50cy50eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5kYXRhWydyYXdFdmVudChzKSddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0RlYnVnZ2VyRXZlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ3JhdyBEZWJ1Z2dlckV2ZW50W10nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudERhdGEsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIHsgZGV0YWNoZWQ6IHRydWUsIGZsdXNoOiAnc3luYycgfSk7XHJcbiAgICAgICAgY29uc3QgaG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcclxuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcclxuICAgICAgICAgICAgaG90VXBkYXRlKG5ld1N0b3JlKTtcclxuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CflKUgJyArIHN0b3JlLiRpZCxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0hNUiB1cGRhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogZm9ybWF0RGlzcGxheShgSE1SIHVwZGF0ZWApLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkZXZ0b29scyB0b29cclxuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHsgJGRpc3Bvc2UgfSA9IHN0b3JlO1xyXG4gICAgICAgIHN0b3JlLiRkaXNwb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAkZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgICAgIGFwaS5nZXRTZXR0aW5ncygpLmxvZ1N0b3JlQ2hhbmdlcyAmJlxyXG4gICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBEaXNwb3NlZCBcIiR7c3RvcmUuJGlkfVwiIHN0b3JlIPCfl5FgKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHRyaWdnZXIgYW4gdXBkYXRlIHNvIGl0IGNhbiBkaXNwbGF5IG5ldyByZWdpc3RlcmVkIHN0b3Jlc1xyXG4gICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgYXBpLmdldFNldHRpbmdzKCkubG9nU3RvcmVDaGFuZ2VzICYmXHJcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgXCIke3N0b3JlLiRpZH1cIiBzdG9yZSBpbnN0YWxsZWQg8J+GlWApO1xyXG4gICAgfSk7XHJcbn1cclxubGV0IHJ1bm5pbmdBY3Rpb25JZCA9IDA7XHJcbmxldCBhY3RpdmVBY3Rpb247XHJcbi8qKlxyXG4gKiBQYXRjaGVzIGEgc3RvcmUgdG8gZW5hYmxlIGFjdGlvbiBncm91cGluZyBpbiBkZXZ0b29scyBieSB3cmFwcGluZyB0aGUgc3RvcmUgd2l0aCBhIFByb3h5IHRoYXQgaXMgcGFzc2VkIGFzIHRoZVxyXG4gKiBjb250ZXh0IG9mIGFsbCBhY3Rpb25zLCBhbGxvd2luZyB1cyB0byBzZXQgYHJ1bm5pbmdBY3Rpb25gIG9uIGVhY2ggYWNjZXNzIGFuZCBlZmZlY3RpdmVseSBhc3NvY2lhdGluZyBhbnkgc3RhdGVcclxuICogbXV0YXRpb24gdG8gdGhlIGFjdGlvbi5cclxuICpcclxuICogQHBhcmFtIHN0b3JlIC0gc3RvcmUgdG8gcGF0Y2hcclxuICogQHBhcmFtIGFjdGlvbk5hbWVzIC0gbGlzdCBvZiBhY3Rpb25zdCB0byBwYXRjaFxyXG4gKi9cclxuZnVuY3Rpb24gcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgYWN0aW9uTmFtZXMpIHtcclxuICAgIC8vIG9yaWdpbmFsIGFjdGlvbnMgb2YgdGhlIHN0b3JlIGFzIHRoZXkgYXJlIGdpdmVuIGJ5IHBpbmlhLiBXZSBhcmUgZ29pbmcgdG8gb3ZlcnJpZGUgdGhlbVxyXG4gICAgY29uc3QgYWN0aW9ucyA9IGFjdGlvbk5hbWVzLnJlZHVjZSgoc3RvcmVBY3Rpb25zLCBhY3Rpb25OYW1lKSA9PiB7XHJcbiAgICAgICAgLy8gdXNlIHRvUmF3IHRvIGF2b2lkIHRyYWNraW5nICM1NDFcclxuICAgICAgICBzdG9yZUFjdGlvbnNbYWN0aW9uTmFtZV0gPSB0b1JhdyhzdG9yZSlbYWN0aW9uTmFtZV07XHJcbiAgICAgICAgcmV0dXJuIHN0b3JlQWN0aW9ucztcclxuICAgIH0sIHt9KTtcclxuICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBhY3Rpb25zKSB7XHJcbiAgICAgICAgc3RvcmVbYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHNldEFjdGl2ZVBpbmlhKHN0b3JlLl9wKVxyXG4gICAgICAgICAgICAvLyB0aGUgcnVubmluZyBhY3Rpb24gaWQgaXMgaW5jcmVtZW50ZWQgaW4gYSBiZWZvcmUgYWN0aW9uIGhvb2tcclxuICAgICAgICAgICAgY29uc3QgX2FjdGlvbklkID0gcnVubmluZ0FjdGlvbklkO1xyXG4gICAgICAgICAgICBjb25zdCB0cmFja2VkU3RvcmUgPSBuZXcgUHJveHkoc3RvcmUsIHtcclxuICAgICAgICAgICAgICAgIGdldCguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCguLi5hcmdzKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQoLi4uYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnNbYWN0aW9uTmFtZV0uYXBwbHkodHJhY2tlZFN0b3JlLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbilcclxuICovXHJcbmZ1bmN0aW9uIGRldnRvb2xzUGx1Z2luKHsgYXBwLCBzdG9yZSwgb3B0aW9ucyB9KSB7XHJcbiAgICAvLyBITVIgbW9kdWxlXHJcbiAgICBpZiAoc3RvcmUuJGlkLnN0YXJ0c1dpdGgoJ19faG90OicpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gZGV0ZWN0IG9wdGlvbiBhcGkgdnMgc2V0dXAgYXBpXHJcbiAgICBpZiAob3B0aW9ucy5zdGF0ZSkge1xyXG4gICAgICAgIHN0b3JlLl9pc09wdGlvbnNBUEkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gb25seSB3cmFwIGFjdGlvbnMgaW4gb3B0aW9uLWRlZmluZWQgc3RvcmVzIGFzIHRoaXMgdGVjaG5pcXVlIHJlbGllcyBvblxyXG4gICAgLy8gd3JhcHBpbmcgdGhlIGNvbnRleHQgb2YgdGhlIGFjdGlvbiB3aXRoIGEgcHJveHlcclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zdGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoXHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogY2FuIGNhc3QgdGhlIHN0b3JlLi4uXHJcbiAgICAgICAgc3RvcmUsIE9iamVjdC5rZXlzKG9wdGlvbnMuYWN0aW9ucykpO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcclxuICAgICAgICAvLyBVcGdyYWRlIHRoZSBITVIgdG8gYWxzbyB1cGRhdGUgdGhlIG5ldyBhY3Rpb25zXHJcbiAgICAgICAgdG9SYXcoc3RvcmUpLl9ob3RVcGRhdGUgPSBmdW5jdGlvbiAobmV3U3RvcmUpIHtcclxuICAgICAgICAgICAgb3JpZ2luYWxIb3RVcGRhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgT2JqZWN0LmtleXMobmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBhZGRTdG9yZVRvRGV2dG9vbHMoYXBwLCBcclxuICAgIC8vIEZJWE1FOiBpcyB0aGVyZSBhIHdheSB0byBhbGxvdyB0aGUgYXNzaWdubWVudCBmcm9tIFN0b3JlPElkLCBTLCBHLCBBPiB0byBTdG9yZUdlbmVyaWM/XHJcbiAgICBzdG9yZSk7XHJcbn1cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBQaW5pYSBpbnN0YW5jZSB0byBiZSB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUGluaWEoKSB7XHJcbiAgICBjb25zdCBzY29wZSA9IGVmZmVjdFNjb3BlKHRydWUpO1xyXG4gICAgLy8gTk9URTogaGVyZSB3ZSBjb3VsZCBjaGVjayB0aGUgd2luZG93IG9iamVjdCBmb3IgYSBzdGF0ZSBhbmQgZGlyZWN0bHkgc2V0IGl0XHJcbiAgICAvLyBpZiB0aGVyZSBpcyBhbnl0aGluZyBsaWtlIGl0IHdpdGggVnVlIDMgU1NSXHJcbiAgICBjb25zdCBzdGF0ZSA9IHNjb3BlLnJ1bigoKSA9PiByZWYoe30pKTtcclxuICAgIGxldCBfcCA9IFtdO1xyXG4gICAgLy8gcGx1Z2lucyBhZGRlZCBiZWZvcmUgY2FsbGluZyBhcHAudXNlKHBpbmlhKVxyXG4gICAgbGV0IHRvQmVJbnN0YWxsZWQgPSBbXTtcclxuICAgIGNvbnN0IHBpbmlhID0gbWFya1Jhdyh7XHJcbiAgICAgICAgaW5zdGFsbChhcHApIHtcclxuICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgY2FsbGluZyB1c2VTdG9yZSgpIG91dHNpZGUgb2YgYSBjb21wb25lbnQgc2V0dXAgYWZ0ZXJcclxuICAgICAgICAgICAgLy8gaW5zdGFsbGluZyBwaW5pYSdzIHBsdWdpblxyXG4gICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgIGlmICghaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBwaW5pYS5fYSA9IGFwcDtcclxuICAgICAgICAgICAgICAgIGFwcC5wcm92aWRlKHBpbmlhU3ltYm9sLCBwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHBpbmlhID0gcGluaWE7XHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKFVTRV9ERVZUT09MUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGluaWFEZXZ0b29scyhhcHAsIHBpbmlhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRvQmVJbnN0YWxsZWQuZm9yRWFjaCgocGx1Z2luKSA9PiBfcC5wdXNoKHBsdWdpbikpO1xyXG4gICAgICAgICAgICAgICAgdG9CZUluc3RhbGxlZCA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1c2UocGx1Z2luKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fYSAmJiAhaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkLnB1c2gocGx1Z2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9wLnB1c2gocGx1Z2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9wLFxyXG4gICAgICAgIC8vIGl0J3MgYWN0dWFsbHkgdW5kZWZpbmVkIGhlcmVcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgX2E6IG51bGwsXHJcbiAgICAgICAgX2U6IHNjb3BlLFxyXG4gICAgICAgIF9zOiBuZXcgTWFwKCksXHJcbiAgICAgICAgc3RhdGUsXHJcbiAgICB9KTtcclxuICAgIC8vIHBpbmlhIGRldnRvb2xzIHJlbHkgb24gZGV2IG9ubHkgZmVhdHVyZXMgc28gdGhleSBjYW5ub3QgYmUgZm9yY2VkIHVubGVzc1xyXG4gICAgLy8gdGhlIGRldiBidWlsZCBvZiBWdWUgaXMgdXNlZC4gQXZvaWQgb2xkIGJyb3dzZXJzIGxpa2UgSUUxMS5cclxuICAgIGlmIChVU0VfREVWVE9PTFMgJiYgdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGluaWE7XHJcbn1cblxuLyoqXHJcbiAqIENoZWNrcyBpZiBhIGZ1bmN0aW9uIGlzIGEgYFN0b3JlRGVmaW5pdGlvbmAuXHJcbiAqXHJcbiAqIEBwYXJhbSBmbiAtIG9iamVjdCB0byB0ZXN0XHJcbiAqIEByZXR1cm5zIHRydWUgaWYgYGZuYCBpcyBhIFN0b3JlRGVmaW5pdGlvblxyXG4gKi9cclxuY29uc3QgaXNVc2VTdG9yZSA9IChmbikgPT4ge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZm4uJGlkID09PSAnc3RyaW5nJztcclxufTtcclxuLyoqXHJcbiAqIE11dGF0ZXMgaW4gcGxhY2UgYG5ld1N0YXRlYCB3aXRoIGBvbGRTdGF0ZWAgdG8gX2hvdCB1cGRhdGVfIGl0LiBJdCB3aWxsXHJcbiAqIHJlbW92ZSBhbnkga2V5IG5vdCBleGlzdGluZyBpbiBgbmV3U3RhdGVgIGFuZCByZWN1cnNpdmVseSBtZXJnZSBwbGFpblxyXG4gKiBvYmplY3RzLlxyXG4gKlxyXG4gKiBAcGFyYW0gbmV3U3RhdGUgLSBuZXcgc3RhdGUgb2JqZWN0IHRvIGJlIHBhdGNoZWRcclxuICogQHBhcmFtIG9sZFN0YXRlIC0gb2xkIHN0YXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcGF0Y2ggbmV3U3RhdGVcclxuICogQHJldHVybnMgLSBuZXdTdGF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcGF0Y2hPYmplY3QobmV3U3RhdGUsIG9sZFN0YXRlKSB7XHJcbiAgICAvLyBubyBuZWVkIHRvIGdvIHRocm91Z2ggc3ltYm9scyBiZWNhdXNlIHRoZXkgY2Fubm90IGJlIHNlcmlhbGl6ZWQgYW55d2F5XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTdGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gb2xkU3RhdGVba2V5XTtcclxuICAgICAgICAvLyBza2lwIHRoZSB3aG9sZSBzdWIgdHJlZVxyXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdTdGF0ZSkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gbmV3U3RhdGVba2V5XTtcclxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcclxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxyXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcclxuICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHBhdGNoT2JqZWN0KHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBvYmplY3RzIGFyZSBlaXRoZXIgYSBiaXQgbW9yZSBjb21wbGV4IChlLmcuIHJlZnMpIG9yIHByaW1pdGl2ZXMsIHNvIHdlXHJcbiAgICAgICAgICAgIC8vIGp1c3Qgc2V0IHRoZSB3aG9sZSB0aGluZ1xyXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBzZXQobmV3U3RhdGUsIGtleSwgc3ViUGF0Y2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHN1YlBhdGNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1N0YXRlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGFuIF9hY2NlcHRfIGZ1bmN0aW9uIHRvIHBhc3MgdG8gYGltcG9ydC5tZXRhLmhvdGAgaW4gVml0ZSBhcHBsaWNhdGlvbnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IHVzZVVzZXIgPSBkZWZpbmVTdG9yZSguLi4pXHJcbiAqIGlmIChpbXBvcnQubWV0YS5ob3QpIHtcclxuICogICBpbXBvcnQubWV0YS5ob3QuYWNjZXB0KGFjY2VwdEhNUlVwZGF0ZSh1c2VVc2VyLCBpbXBvcnQubWV0YS5ob3QpKVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0gaW5pdGlhbFVzZVN0b3JlIC0gcmV0dXJuIG9mIHRoZSBkZWZpbmVTdG9yZSB0byBob3QgdXBkYXRlXHJcbiAqIEBwYXJhbSBob3QgLSBgaW1wb3J0Lm1ldGEuaG90YFxyXG4gKi9cclxuZnVuY3Rpb24gYWNjZXB0SE1SVXBkYXRlKGluaXRpYWxVc2VTdG9yZSwgaG90KSB7XHJcbiAgICAvLyBzdHJpcCBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gaWlmZS5wcm9kXHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKG5ld01vZHVsZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBpbmlhID0gaG90LmRhdGEucGluaWEgfHwgaW5pdGlhbFVzZVN0b3JlLl9waW5pYTtcclxuICAgICAgICBpZiAoIXBpbmlhKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgc3RvcmUgaXMgc3RpbGwgbm90IHVzZWRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgcGluaWEgaW5zdGFuY2UgYWNyb3NzIGxvYWRzXHJcbiAgICAgICAgaG90LmRhdGEucGluaWEgPSBwaW5pYTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ290IGRhdGEnLCBuZXdTdG9yZSlcclxuICAgICAgICBmb3IgKGNvbnN0IGV4cG9ydE5hbWUgaW4gbmV3TW9kdWxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZVN0b3JlID0gbmV3TW9kdWxlW2V4cG9ydE5hbWVdO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hlY2tpbmcgZm9yJywgZXhwb3J0TmFtZSlcclxuICAgICAgICAgICAgaWYgKGlzVXNlU3RvcmUodXNlU3RvcmUpICYmIHBpbmlhLl9zLmhhcyh1c2VTdG9yZS4kaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQWNjZXB0aW5nIHVwZGF0ZSBmb3InLCB1c2VTdG9yZS4kaWQpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHVzZVN0b3JlLiRpZDtcclxuICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gaW5pdGlhbFVzZVN0b3JlLiRpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhlIGlkIG9mIHRoZSBzdG9yZSBjaGFuZ2VkIGZyb20gXCIke2luaXRpYWxVc2VTdG9yZS4kaWR9XCIgdG8gXCIke2lkfVwiLiBSZWxvYWRpbmcuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGltcG9ydC5tZXRhLmhvdC5pbnZhbGlkYXRlKClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG90LmludmFsaWRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1N0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtQaW5pYV06IHNraXBwaW5nIGhtciBiZWNhdXNlIHN0b3JlIGRvZXNuJ3QgZXhpc3QgeWV0YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXNlU3RvcmUocGluaWEsIGV4aXN0aW5nU3RvcmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG5jb25zdCBub29wID0gKCkgPT4geyB9O1xyXG5mdW5jdGlvbiBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9ucywgY2FsbGJhY2ssIGRldGFjaGVkLCBvbkNsZWFudXAgPSBub29wKSB7XHJcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goY2FsbGJhY2spO1xyXG4gICAgY29uc3QgcmVtb3ZlU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoIWRldGFjaGVkICYmIGdldEN1cnJlbnRTY29wZSgpKSB7XHJcbiAgICAgICAgb25TY29wZURpc3Bvc2UocmVtb3ZlU3Vic2NyaXB0aW9uKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlclN1YnNjcmlwdGlvbnMoc3Vic2NyaXB0aW9ucywgLi4uYXJncykge1xyXG4gICAgc3Vic2NyaXB0aW9ucy5zbGljZSgpLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBtZXJnZVJlYWN0aXZlT2JqZWN0cyh0YXJnZXQsIHBhdGNoVG9BcHBseSkge1xyXG4gICAgLy8gSGFuZGxlIE1hcCBpbnN0YW5jZXNcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBNYXAgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgTWFwKSB7XHJcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHRhcmdldC5zZXQoa2V5LCB2YWx1ZSkpO1xyXG4gICAgfVxyXG4gICAgLy8gSGFuZGxlIFNldCBpbnN0YW5jZXNcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBTZXQgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgU2V0KSB7XHJcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2godGFyZ2V0LmFkZCwgdGFyZ2V0KTtcclxuICAgIH1cclxuICAgIC8vIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCBzeW1ib2xzIGJlY2F1c2UgdGhleSBjYW5ub3QgYmUgc2VyaWFsaXplZCBhbnl3YXlcclxuICAgIGZvciAoY29uc3Qga2V5IGluIHBhdGNoVG9BcHBseSkge1xyXG4gICAgICAgIGlmICghcGF0Y2hUb0FwcGx5Lmhhc093blByb3BlcnR5KGtleSkpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gcGF0Y2hUb0FwcGx5W2tleV07XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcclxuICAgICAgICAgICAgdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkgJiZcclxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxyXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcclxuICAgICAgICAgICAgLy8gTk9URTogaGVyZSBJIHdhbnRlZCB0byB3YXJuIGFib3V0IGluY29uc2lzdGVudCB0eXBlcyBidXQgaXQncyBub3QgcG9zc2libGUgYmVjYXVzZSBpbiBzZXR1cCBzdG9yZXMgb25lIG1pZ2h0XHJcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGFzIGEgY2VydGFpbiB0eXBlIGUuZy4gYSBNYXAsIGFuZCB0aGVuIGZvciBzb21lIHJlYXNvbiwgZHVyaW5nIFNTUiwgY2hhbmdlIHRoYXRcclxuICAgICAgICAgICAgLy8gdG8gYHVuZGVmaW5lZGAuIFdoZW4gdHJ5aW5nIHRvIGh5ZHJhdGUsIHdlIHdhbnQgdG8gb3ZlcnJpZGUgdGhlIE1hcCB3aXRoIGB1bmRlZmluZWRgLlxyXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBzdWJQYXRjaCBpcyBhIHZhbGlkIHZhbHVlXHJcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc3ViUGF0Y2g7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5jb25zdCBza2lwSHlkcmF0ZVN5bWJvbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgPyBTeW1ib2woJ3BpbmlhOnNraXBIeWRyYXRpb24nKVxyXG4gICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBTeW1ib2woKTtcclxuY29uc3Qgc2tpcEh5ZHJhdGVNYXAgPSAvKiNfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XHJcbi8qKlxyXG4gKiBUZWxscyBQaW5pYSB0byBza2lwIHRoZSBoeWRyYXRpb24gcHJvY2VzcyBvZiBhIGdpdmVuIG9iamVjdC4gVGhpcyBpcyB1c2VmdWwgaW4gc2V0dXAgc3RvcmVzIChvbmx5KSB3aGVuIHlvdSByZXR1cm4gYVxyXG4gKiBzdGF0ZWZ1bCBvYmplY3QgaW4gdGhlIHN0b3JlIGJ1dCBpdCBpc24ndCByZWFsbHkgc3RhdGUuIGUuZy4gcmV0dXJuaW5nIGEgcm91dGVyIGluc3RhbmNlIGluIGEgc2V0dXAgc3RvcmUuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmogLSB0YXJnZXQgb2JqZWN0XHJcbiAqIEByZXR1cm5zIG9ialxyXG4gKi9cclxuZnVuY3Rpb24gc2tpcEh5ZHJhdGUob2JqKSB7XHJcbiAgICByZXR1cm4gaXNWdWUyXHJcbiAgICAgICAgPyAvLyBpbiBAdnVlL2NvbXBvc2l0aW9uLWFwaSwgdGhlIHJlZnMgYXJlIHNlYWxlZCBzbyBkZWZpbmVQcm9wZXJ0eSBkb2Vzbid0IHdvcmsuLi5cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gc2tpcEh5ZHJhdGVNYXAuc2V0KG9iaiwgMSkgJiYgb2JqXHJcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBza2lwSHlkcmF0ZVN5bWJvbCwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBzaG91bGQgYmUgaHlkcmF0ZWRcclxuICpcclxuICogQHBhcmFtIG9iaiAtIHRhcmdldCB2YXJpYWJsZVxyXG4gKiBAcmV0dXJucyB0cnVlIGlmIGBvYmpgIHNob3VsZCBiZSBoeWRyYXRlZFxyXG4gKi9cclxuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZShvYmopIHtcclxuICAgIHJldHVybiBpc1Z1ZTJcclxuICAgICAgICA/IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovICFza2lwSHlkcmF0ZU1hcC5oYXMob2JqKVxyXG4gICAgICAgIDogIWlzUGxhaW5PYmplY3Qob2JqKSB8fCAhb2JqLmhhc093blByb3BlcnR5KHNraXBIeWRyYXRlU3ltYm9sKTtcclxufVxyXG5jb25zdCB7IGFzc2lnbiB9ID0gT2JqZWN0O1xyXG5mdW5jdGlvbiBpc0NvbXB1dGVkKG8pIHtcclxuICAgIHJldHVybiAhIShpc1JlZihvKSAmJiBvLmVmZmVjdCk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSwgaG90KSB7XHJcbiAgICBjb25zdCB7IHN0YXRlLCBhY3Rpb25zLCBnZXR0ZXJzIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVbaWRdO1xyXG4gICAgbGV0IHN0b3JlO1xyXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICAgICAgaWYgKCFpbml0aWFsU3RhdGUgJiYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIWhvdCkpIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcclxuICAgICAgICAgICAgICAgIHNldChwaW5pYS5zdGF0ZS52YWx1ZSwgaWQsIHN0YXRlID8gc3RhdGUoKSA6IHt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlW2lkXSA9IHN0YXRlID8gc3RhdGUoKSA6IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGF2b2lkIGNyZWF0aW5nIGEgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWVcclxuICAgICAgICBjb25zdCBsb2NhbFN0YXRlID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdFxyXG4gICAgICAgICAgICA/IC8vIHVzZSByZWYoKSB0byB1bndyYXAgcmVmcyBpbnNpZGUgc3RhdGUgVE9ETzogY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCBuZWNlc3NhcnlcclxuICAgICAgICAgICAgICAgIHRvUmVmcyhyZWYoc3RhdGUgPyBzdGF0ZSgpIDoge30pLnZhbHVlKVxyXG4gICAgICAgICAgICA6IHRvUmVmcyhwaW5pYS5zdGF0ZS52YWx1ZVtpZF0pO1xyXG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxTdGF0ZSwgYWN0aW9ucywgT2JqZWN0LmtleXMoZ2V0dGVycyB8fCB7fSkucmVkdWNlKChjb21wdXRlZEdldHRlcnMsIG5hbWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuYW1lIGluIGxvY2FsU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBBIGdldHRlciBjYW5ub3QgaGF2ZSB0aGUgc2FtZSBuYW1lIGFzIGFub3RoZXIgc3RhdGUgcHJvcGVydHkuIFJlbmFtZSBvbmUgb2YgdGhlbS4gRm91bmQgd2l0aCBcIiR7bmFtZX1cIiBpbiBzdG9yZSBcIiR7aWR9XCIuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcHV0ZWRHZXR0ZXJzW25hbWVdID0gbWFya1Jhdyhjb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY3JlYXRlZCBqdXN0IGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgY3Jvc3MgdXNpbmcgc3RvcmVzXHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVnVlMiAmJiAhc3RvcmUuX3IpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGdldHRlcnMhW25hbWVdLmNhbGwoY29udGV4dCwgY29udGV4dClcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGF2b2lkIHJlYWRpbmcgdGhlIGdldHRlciB3aGlsZSBhc3NpZ25pbmcgd2l0aCBhIGdsb2JhbCB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnNbbmFtZV0uY2FsbChzdG9yZSwgc3RvcmUpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZEdldHRlcnM7XHJcbiAgICAgICAgfSwge30pKTtcclxuICAgIH1cclxuICAgIHN0b3JlID0gY3JlYXRlU2V0dXBTdG9yZShpZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhLCBob3QsIHRydWUpO1xyXG4gICAgc3RvcmUuJHJlc2V0ID0gZnVuY3Rpb24gJHJlc2V0KCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGUgPyBzdGF0ZSgpIDoge307XHJcbiAgICAgICAgLy8gd2UgdXNlIGEgcGF0Y2ggdG8gZ3JvdXAgYWxsIGNoYW5nZXMgaW50byBvbmUgc2luZ2xlIHN1YnNjcmlwdGlvblxyXG4gICAgICAgIHRoaXMuJHBhdGNoKCgkc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgYXNzaWduKCRzdGF0ZSwgbmV3U3RhdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBzdG9yZTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVTZXR1cFN0b3JlKCRpZCwgc2V0dXAsIG9wdGlvbnMgPSB7fSwgcGluaWEsIGhvdCwgaXNPcHRpb25zU3RvcmUpIHtcclxuICAgIGxldCBzY29wZTtcclxuICAgIGNvbnN0IG9wdGlvbnNGb3JQbHVnaW4gPSBhc3NpZ24oeyBhY3Rpb25zOiB7fSB9LCBvcHRpb25zKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogYWN0aXZlIGlzIGFuIGludGVybmFsIHByb3BlcnR5XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFwaW5pYS5fZS5hY3RpdmUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BpbmlhIGRlc3Ryb3llZCcpO1xyXG4gICAgfVxyXG4gICAgLy8gd2F0Y2hlciBvcHRpb25zIGZvciAkc3Vic2NyaWJlXHJcbiAgICBjb25zdCAkc3Vic2NyaWJlT3B0aW9ucyA9IHtcclxuICAgICAgICBkZWVwOiB0cnVlLFxyXG4gICAgICAgIC8vIGZsdXNoOiAncG9zdCcsXHJcbiAgICB9O1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVnVlMikge1xyXG4gICAgICAgICRzdWJzY3JpYmVPcHRpb25zLm9uVHJpZ2dlciA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAoaXNMaXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgICAgIGRlYnVnZ2VyRXZlbnRzID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0cmlnZ2VyaW5nIHRoaXMgd2hpbGUgdGhlIHN0b3JlIGlzIGJlaW5nIGJ1aWx0IGFuZCB0aGUgc3RhdGUgaXMgYmVpbmcgc2V0IGluIHBpbmlhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNMaXN0ZW5pbmcgPT0gZmFsc2UgJiYgIXN0b3JlLl9ob3RVcGRhdGluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHBhdGNoIHNlbmQgYWxsIHRoZSBldmVudHMgdG9nZXRoZXIgbGF0ZXJcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkZWJ1Z2dlckV2ZW50cykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfjY0gZGVidWdnZXJFdmVudHMgc2hvdWxkIGJlIGFuIGFycmF5LiBUaGlzIGlzIG1vc3QgbGlrZWx5IGFuIGludGVybmFsIFBpbmlhIGJ1Zy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBpbnRlcm5hbCBzdGF0ZVxyXG4gICAgbGV0IGlzTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXHJcbiAgICBsZXQgaXNTeW5jTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXHJcbiAgICBsZXQgc3Vic2NyaXB0aW9ucyA9IG1hcmtSYXcoW10pO1xyXG4gICAgbGV0IGFjdGlvblN1YnNjcmlwdGlvbnMgPSBtYXJrUmF3KFtdKTtcclxuICAgIGxldCBkZWJ1Z2dlckV2ZW50cztcclxuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF07XHJcbiAgICAvLyBhdm9pZCBzZXR0aW5nIHRoZSBzdGF0ZSBmb3Igb3B0aW9uIHN0b3JlcyBpZiBpdCBpcyBzZXRcclxuICAgIC8vIGJ5IHRoZSBzZXR1cFxyXG4gICAgaWYgKCFpc09wdGlvbnNTdG9yZSAmJiAhaW5pdGlhbFN0YXRlICYmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICFob3QpKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWUsICRpZCwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGhvdFN0YXRlID0gcmVmKHt9KTtcclxuICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgdG9vIG1hbnkgbGlzdGVuZXJzXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcGluaWEvaXNzdWVzLzExMjlcclxuICAgIGxldCBhY3RpdmVMaXN0ZW5lcjtcclxuICAgIGZ1bmN0aW9uICRwYXRjaChwYXJ0aWFsU3RhdGVPck11dGF0b3IpIHtcclxuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uTXV0YXRpb247XHJcbiAgICAgICAgaXNMaXN0ZW5pbmcgPSBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAvLyByZXNldCB0aGUgZGVidWdnZXIgZXZlbnRzIHNpbmNlIHBhdGNoZXMgYXJlIHN5bmNcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsU3RhdGVPck11dGF0b3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcGFydGlhbFN0YXRlT3JNdXRhdG9yKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pO1xyXG4gICAgICAgICAgICBzdWJzY3JpcHRpb25NdXRhdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5wYXRjaEZ1bmN0aW9uLFxyXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1lcmdlUmVhY3RpdmVPYmplY3RzKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIHBhcnRpYWxTdGF0ZU9yTXV0YXRvcik7XHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk11dGF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcGFydGlhbFN0YXRlT3JNdXRhdG9yLFxyXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbXlMaXN0ZW5lcklkID0gKGFjdGl2ZUxpc3RlbmVyID0gU3ltYm9sKCkpO1xyXG4gICAgICAgIG5leHRUaWNrKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVMaXN0ZW5lciA9PT0gbXlMaXN0ZW5lcklkKSB7XHJcbiAgICAgICAgICAgICAgICBpc0xpc3RlbmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgcGF1c2VkIHRoZSB3YXRjaGVyLCB3ZSBuZWVkIHRvIG1hbnVhbGx5IGNhbGwgdGhlIHN1YnNjcmlwdGlvbnNcclxuICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCBzdWJzY3JpcHRpb25NdXRhdGlvbiwgcGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgY29uc3QgJHJlc2V0ID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg8J+NjTogU3RvcmUgXCIkeyRpZH1cIiBpcyBidWlsdCB1c2luZyB0aGUgc2V0dXAgc3ludGF4IGFuZCBkb2VzIG5vdCBpbXBsZW1lbnQgJHJlc2V0KCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDogbm9vcDtcclxuICAgIGZ1bmN0aW9uICRkaXNwb3NlKCkge1xyXG4gICAgICAgIHNjb3BlLnN0b3AoKTtcclxuICAgICAgICBzdWJzY3JpcHRpb25zID0gW107XHJcbiAgICAgICAgYWN0aW9uU3Vic2NyaXB0aW9ucyA9IFtdO1xyXG4gICAgICAgIHBpbmlhLl9zLmRlbGV0ZSgkaWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXcmFwcyBhbiBhY3Rpb24gdG8gaGFuZGxlIHN1YnNjcmlwdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIHRoZSBhY3Rpb25cclxuICAgICAqIEBwYXJhbSBhY3Rpb24gLSBhY3Rpb24gdG8gd3JhcFxyXG4gICAgICogQHJldHVybnMgYSB3cmFwcGVkIGFjdGlvbiB0byBoYW5kbGUgc3Vic2NyaXB0aW9uc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB3cmFwQWN0aW9uKG5hbWUsIGFjdGlvbikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcclxuICAgICAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgY29uc3QgYWZ0ZXJDYWxsYmFja0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgY29uc3Qgb25FcnJvckNhbGxiYWNrTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZnRlcihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJDYWxsYmFja0xpc3QucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvcihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvckNhbGxiYWNrTGlzdC5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFjdGlvblN1YnNjcmlwdGlvbnMsIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgc3RvcmUsXHJcbiAgICAgICAgICAgICAgICBhZnRlcixcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXQgcmV0O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0ID0gYWN0aW9uLmFwcGx5KHRoaXMgJiYgdGhpcy4kaWQgPT09ICRpZCA/IHRoaXMgOiBzdG9yZSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc3luYyBlcnJvcnNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKG9uRXJyb3JDYWxsYmFja0xpc3QsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0XHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhvbkVycm9yQ2FsbGJhY2tMaXN0LCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsbG93IHRoZSBhZnRlckNhbGxiYWNrIHRvIG92ZXJyaWRlIHRoZSByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHJldCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IF9obXJQYXlsb2FkID0gLyojX19QVVJFX18qLyBtYXJrUmF3KHtcclxuICAgICAgICBhY3Rpb25zOiB7fSxcclxuICAgICAgICBnZXR0ZXJzOiB7fSxcclxuICAgICAgICBzdGF0ZTogW10sXHJcbiAgICAgICAgaG90U3RhdGUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHBhcnRpYWxTdG9yZSA9IHtcclxuICAgICAgICBfcDogcGluaWEsXHJcbiAgICAgICAgLy8gX3M6IHNjb3BlLFxyXG4gICAgICAgICRpZCxcclxuICAgICAgICAkb25BY3Rpb246IGFkZFN1YnNjcmlwdGlvbi5iaW5kKG51bGwsIGFjdGlvblN1YnNjcmlwdGlvbnMpLFxyXG4gICAgICAgICRwYXRjaCxcclxuICAgICAgICAkcmVzZXQsXHJcbiAgICAgICAgJHN1YnNjcmliZShjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZVN1YnNjcmlwdGlvbiA9IGFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25zLCBjYWxsYmFjaywgb3B0aW9ucy5kZXRhY2hlZCwgKCkgPT4gc3RvcFdhdGNoZXIoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3BXYXRjaGVyID0gc2NvcGUucnVuKCgpID0+IHdhdGNoKCgpID0+IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIChzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmx1c2ggPT09ICdzeW5jJyA/IGlzU3luY0xpc3RlbmluZyA6IGlzTGlzdGVuaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5kaXJlY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBhc3NpZ24oe30sICRzdWJzY3JpYmVPcHRpb25zLCBvcHRpb25zKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlU3Vic2NyaXB0aW9uO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJGRpc3Bvc2UsXHJcbiAgICB9O1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgLy8gc3RhcnQgYXMgbm9uIHJlYWR5XHJcbiAgICAgICAgcGFydGlhbFN0b3JlLl9yID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdG9yZSA9IHJlYWN0aXZlKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBVU0VfREVWVE9PTFNcclxuICAgICAgICA/IGFzc2lnbih7XHJcbiAgICAgICAgICAgIF9obXJQYXlsb2FkLFxyXG4gICAgICAgICAgICBfY3VzdG9tUHJvcGVydGllczogbWFya1JhdyhuZXcgU2V0KCkpLCAvLyBkZXZ0b29scyBjdXN0b20gcHJvcGVydGllc1xyXG4gICAgICAgIH0sIHBhcnRpYWxTdG9yZVxyXG4gICAgICAgIC8vIG11c3QgYmUgYWRkZWQgbGF0ZXJcclxuICAgICAgICAvLyBzZXR1cFN0b3JlXHJcbiAgICAgICAgKVxyXG4gICAgICAgIDogcGFydGlhbFN0b3JlKTtcclxuICAgIC8vIHN0b3JlIHRoZSBwYXJ0aWFsIHN0b3JlIG5vdyBzbyB0aGUgc2V0dXAgb2Ygc3RvcmVzIGNhbiBpbnN0YW50aWF0ZSBlYWNoIG90aGVyIGJlZm9yZSB0aGV5IGFyZSBmaW5pc2hlZCB3aXRob3V0XHJcbiAgICAvLyBjcmVhdGluZyBpbmZpbml0ZSBsb29wcy5cclxuICAgIHBpbmlhLl9zLnNldCgkaWQsIHN0b3JlKTtcclxuICAgIC8vIFRPRE86IGlkZWEgY3JlYXRlIHNraXBTZXJpYWxpemUgdGhhdCBtYXJrcyBwcm9wZXJ0aWVzIGFzIG5vbiBzZXJpYWxpemFibGUgYW5kIHRoZXkgYXJlIHNraXBwZWRcclxuICAgIGNvbnN0IHNldHVwU3RvcmUgPSBwaW5pYS5fZS5ydW4oKCkgPT4ge1xyXG4gICAgICAgIHNjb3BlID0gZWZmZWN0U2NvcGUoKTtcclxuICAgICAgICByZXR1cm4gc2NvcGUucnVuKCgpID0+IHNldHVwKCkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBvdmVyd3JpdGUgZXhpc3RpbmcgYWN0aW9ucyB0byBzdXBwb3J0ICRvbkFjdGlvblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2V0dXBTdG9yZSkge1xyXG4gICAgICAgIGNvbnN0IHByb3AgPSBzZXR1cFN0b3JlW2tleV07XHJcbiAgICAgICAgaWYgKChpc1JlZihwcm9wKSAmJiAhaXNDb21wdXRlZChwcm9wKSkgfHwgaXNSZWFjdGl2ZShwcm9wKSkge1xyXG4gICAgICAgICAgICAvLyBtYXJrIGl0IGFzIGEgcGllY2Ugb2Ygc3RhdGUgdG8gYmUgc2VyaWFsaXplZFxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xyXG4gICAgICAgICAgICAgICAgc2V0KGhvdFN0YXRlLnZhbHVlLCBrZXksIHRvUmVmKHNldHVwU3RvcmUsIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlT3B0aW9uU3RvcmUgZGlyZWN0bHkgc2V0cyB0aGUgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWUgc28gd2VcclxuICAgICAgICAgICAgICAgIC8vIGNhbiBqdXN0IHNraXAgdGhhdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc09wdGlvbnNTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gc2V0dXAgc3RvcmVzIHdlIG11c3QgaHlkcmF0ZSB0aGUgc3RhdGUgYW5kIHN5bmMgcGluaWEgc3RhdGUgdHJlZSB3aXRoIHRoZSByZWZzIHRoZSB1c2VyIGp1c3QgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSAmJiBzaG91bGRIeWRyYXRlKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVmKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AudmFsdWUgPSBpbml0aWFsU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgcmVhY3RpdmUgb2JqZWN0LCBsZXRzIHJlY3Vyc2l2ZWx5IGFzc2lnblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBwcm9wIGlzIHVua25vd25cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VSZWFjdGl2ZU9iamVjdHMocHJvcCwgaW5pdGlhbFN0YXRlW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRoZSByZWYgdG8gdGhlIHBpbmlhIHN0YXRlIHRvIGtlZXAgZXZlcnl0aGluZyBpbiBzeW5jXHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWVbJGlkXSwga2V5LCBwcm9wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlWyRpZF1ba2V5XSA9IHByb3A7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuc3RhdGUucHVzaChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFjdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBhcmUgb3ZlcnJpZGluZyB0aGUgZnVuY3Rpb24gd2UgYXZvaWQgd3JhcHBpbmcgaWZcclxuICAgICAgICAgICAgY29uc3QgYWN0aW9uVmFsdWUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90ID8gcHJvcCA6IHdyYXBBY3Rpb24oa2V5LCBwcm9wKTtcclxuICAgICAgICAgICAgLy8gdGhpcyBhIGhvdCBtb2R1bGUgcmVwbGFjZW1lbnQgc3RvcmUgYmVjYXVzZSB0aGUgaG90VXBkYXRlIG1ldGhvZCBuZWVkc1xyXG4gICAgICAgICAgICAvLyB0byBkbyBpdCB3aXRoIHRoZSByaWdodCBjb250ZXh0XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBzZXQoc2V0dXBTdG9yZSwga2V5LCBhY3Rpb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICBzZXR1cFN0b3JlW2tleV0gPSBhY3Rpb25WYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBfaG1yUGF5bG9hZC5hY3Rpb25zW2tleV0gPSBwcm9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGxpc3QgYWN0aW9ucyBzbyB0aGV5IGNhbiBiZSB1c2VkIGluIHBsdWdpbnNcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICBvcHRpb25zRm9yUGx1Z2luLmFjdGlvbnNba2V5XSA9IHByb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAvLyBhZGQgZ2V0dGVycyBmb3IgZGV2dG9vbHNcclxuICAgICAgICAgICAgaWYgKGlzQ29tcHV0ZWQocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLmdldHRlcnNba2V5XSA9IGlzT3B0aW9uc1N0b3JlXHJcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZ2V0dGVyc1trZXldXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm9wO1xyXG4gICAgICAgICAgICAgICAgaWYgKElTX0NMSUVOVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlcnMgPSBzZXR1cFN0b3JlLl9nZXR0ZXJzIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHNhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNldHVwU3RvcmUuX2dldHRlcnMgPSBtYXJrUmF3KFtdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0dGVycy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBhZGQgdGhlIHN0YXRlLCBnZXR0ZXJzLCBhbmQgYWN0aW9uIHByb3BlcnRpZXNcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHNldHVwU3RvcmUpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBzZXQoc3RvcmUsIGtleSwgc2V0dXBTdG9yZVtrZXldKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFzc2lnbihzdG9yZSwgc2V0dXBTdG9yZSk7XHJcbiAgICAgICAgLy8gYWxsb3dzIHJldHJpZXZpbmcgcmVhY3RpdmUgb2JqZWN0cyB3aXRoIGBzdG9yZVRvUmVmcygpYC4gTXVzdCBiZSBjYWxsZWQgYWZ0ZXIgYXNzaWduaW5nIHRvIHRoZSByZWFjdGl2ZSBvYmplY3QuXHJcbiAgICAgICAgLy8gTWFrZSBgc3RvcmVUb1JlZnMoKWAgd29yayB3aXRoIGByZWFjdGl2ZSgpYCAjNzk5XHJcbiAgICAgICAgYXNzaWduKHRvUmF3KHN0b3JlKSwgc2V0dXBTdG9yZSk7XHJcbiAgICB9XHJcbiAgICAvLyB1c2UgdGhpcyBpbnN0ZWFkIG9mIGEgY29tcHV0ZWQgd2l0aCBzZXR0ZXIgdG8gYmUgYWJsZSB0byBjcmVhdGUgaXQgYW55d2hlcmVcclxuICAgIC8vIHdpdGhvdXQgbGlua2luZyB0aGUgY29tcHV0ZWQgbGlmZXNwYW4gdG8gd2hlcmV2ZXIgdGhlIHN0b3JlIGlzIGZpcnN0XHJcbiAgICAvLyBjcmVhdGVkLlxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JlLCAnJHN0YXRlJywge1xyXG4gICAgICAgIGdldDogKCkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QgPyBob3RTdGF0ZS52YWx1ZSA6IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pLFxyXG4gICAgICAgIHNldDogKHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3Qgc2V0IGhvdFN0YXRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHBhdGNoKCgkc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGFzc2lnbigkc3RhdGUsIHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgLy8gYWRkIHRoZSBob3RVcGRhdGUgYmVmb3JlIHBsdWdpbnMgdG8gYWxsb3cgdGhlbSB0byBvdmVycmlkZSBpdFxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcclxuICAgICAgICAgICAgc3RvcmUuX2hvdFVwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgbmV3U3RvcmUuX2htclBheWxvYWQuc3RhdGUuZm9yRWFjaCgoc3RhdGVLZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUtleSBpbiBzdG9yZS4kc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZVRhcmdldCA9IG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkU3RhdGVTb3VyY2UgPSBzdG9yZS4kc3RhdGVbc3RhdGVLZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3U3RhdGVUYXJnZXQgPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3QobmV3U3RhdGVUYXJnZXQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3Qob2xkU3RhdGVTb3VyY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoT2JqZWN0KG5ld1N0YXRlVGFyZ2V0LCBvbGRTdGF0ZVNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2ZlciB0aGUgcmVmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV0gPSBvbGRTdGF0ZVNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBkaXJlY3QgYWNjZXNzIHByb3BlcnRpZXMgdG8gYWxsb3cgc3RvcmUuc3RhdGVQcm9wZXJ0eSB0byB3b3JrIGFzXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZS4kc3RhdGUuc3RhdGVQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBzdGF0ZUtleSwgdG9SZWYobmV3U3RvcmUuJHN0YXRlLCBzdGF0ZUtleSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGRlbGV0ZWQgc3RhdGUgcHJvcGVydGllc1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZUtleSBpbiBuZXdTdG9yZS4kc3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsKHN0b3JlLCBzdGF0ZUtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBhdm9pZCBkZXZ0b29scyBsb2dnaW5nIHRoaXMgYXMgYSBtdXRhdGlvblxyXG4gICAgICAgICAgICBpc0xpc3RlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHRvUmVmKG5ld1N0b3JlLl9obXJQYXlsb2FkLCAnaG90U3RhdGUnKTtcclxuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgbmV4dFRpY2soKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlzTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBuZXdTdG9yZVthY3Rpb25OYW1lXTtcclxuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgYWN0aW9uTmFtZSwgd3JhcEFjdGlvbihhY3Rpb25OYW1lLCBhY3Rpb24pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUT0RPOiBkb2VzIHRoaXMgd29yayBpbiBib3RoIHNldHVwIGFuZCBvcHRpb24gc3RvcmU/XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2V0dGVyTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXIgPSBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzW2dldHRlck5hbWVdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVyVmFsdWUgPSBpc09wdGlvbnNTdG9yZVxyXG4gICAgICAgICAgICAgICAgICAgID8gLy8gc3BlY2lhbCBoYW5kbGluZyBvZiBvcHRpb25zIGFwaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwoc3RvcmUsIHN0b3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICA6IGdldHRlcjtcclxuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgZ2V0dGVyTmFtZSwgZ2V0dGVyVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBkZWxldGVkIGdldHRlcnNcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkIGFjdGlvbnNcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHZhbHVlcyB1c2VkIGluIGRldnRvb2xzIGFuZCB0byBhbGxvdyBkZWxldGluZyBuZXcgcHJvcGVydGllcyBsYXRlciBvblxyXG4gICAgICAgICAgICBzdG9yZS5faG1yUGF5bG9hZCA9IG5ld1N0b3JlLl9obXJQYXlsb2FkO1xyXG4gICAgICAgICAgICBzdG9yZS5fZ2V0dGVycyA9IG5ld1N0b3JlLl9nZXR0ZXJzO1xyXG4gICAgICAgICAgICBzdG9yZS5faG90VXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChVU0VfREVWVE9PTFMpIHtcclxuICAgICAgICBjb25zdCBub25FbnVtZXJhYmxlID0ge1xyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBhdm9pZCB3YXJuaW5nIG9uIGRldnRvb2xzIHRyeWluZyB0byBkaXNwbGF5IHRoaXMgcHJvcGVydHlcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBbJ19wJywgJ19obXJQYXlsb2FkJywgJ19nZXR0ZXJzJywgJ19jdXN0b21Qcm9wZXJ0aWVzJ10uZm9yRWFjaCgocCkgPT4ge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RvcmUsIHAsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtwXSxcclxuICAgICAgICAgICAgICAgIC4uLm5vbkVudW1lcmFibGUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgLy8gbWFyayB0aGUgc3RvcmUgYXMgcmVhZHkgYmVmb3JlIHBsdWdpbnNcclxuICAgICAgICBzdG9yZS5fciA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyBhcHBseSBhbGwgcGx1Z2luc1xyXG4gICAgcGluaWEuX3AuZm9yRWFjaCgoZXh0ZW5kZXIpID0+IHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmIChVU0VfREVWVE9PTFMpIHtcclxuICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XHJcbiAgICAgICAgICAgICAgICBzdG9yZSxcclxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXHJcbiAgICAgICAgICAgICAgICBwaW5pYSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXh0ZW5zaW9ucyB8fCB7fSkuZm9yRWFjaCgoa2V5KSA9PiBzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5hZGQoa2V5KSk7XHJcbiAgICAgICAgICAgIGFzc2lnbihzdG9yZSwgZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhc3NpZ24oc3RvcmUsIHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XHJcbiAgICAgICAgICAgICAgICBzdG9yZSxcclxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXHJcbiAgICAgICAgICAgICAgICBwaW5pYSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgc3RvcmUuJHN0YXRlICYmXHJcbiAgICAgICAgdHlwZW9mIHN0b3JlLiRzdGF0ZSA9PT0gJ29iamVjdCcgJiZcclxuICAgICAgICB0eXBlb2Ygc3RvcmUuJHN0YXRlLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgIXN0b3JlLiRzdGF0ZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluY2x1ZGVzKCdbbmF0aXZlIGNvZGVdJykpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFvwn42NXTogVGhlIFwic3RhdGVcIiBtdXN0IGJlIGEgcGxhaW4gb2JqZWN0LiBJdCBjYW5ub3QgYmVcXG5gICtcclxuICAgICAgICAgICAgYFxcdHN0YXRlOiAoKSA9PiBuZXcgTXlDbGFzcygpXFxuYCArXHJcbiAgICAgICAgICAgIGBGb3VuZCBpbiBzdG9yZSBcIiR7c3RvcmUuJGlkfVwiLmApO1xyXG4gICAgfVxyXG4gICAgLy8gb25seSBhcHBseSBoeWRyYXRlIHRvIG9wdGlvbiBzdG9yZXMgd2l0aCBhbiBpbml0aWFsIHN0YXRlIGluIHBpbmlhXHJcbiAgICBpZiAoaW5pdGlhbFN0YXRlICYmXHJcbiAgICAgICAgaXNPcHRpb25zU3RvcmUgJiZcclxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUpIHtcclxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUoc3RvcmUuJHN0YXRlLCBpbml0aWFsU3RhdGUpO1xyXG4gICAgfVxyXG4gICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgIHJldHVybiBzdG9yZTtcclxufVxyXG5mdW5jdGlvbiBkZWZpbmVTdG9yZShcclxuLy8gVE9ETzogYWRkIHByb3BlciB0eXBlcyBmcm9tIGFib3ZlXHJcbmlkT3JPcHRpb25zLCBzZXR1cCwgc2V0dXBPcHRpb25zKSB7XHJcbiAgICBsZXQgaWQ7XHJcbiAgICBsZXQgb3B0aW9ucztcclxuICAgIGNvbnN0IGlzU2V0dXBTdG9yZSA9IHR5cGVvZiBzZXR1cCA9PT0gJ2Z1bmN0aW9uJztcclxuICAgIGlmICh0eXBlb2YgaWRPck9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWQgPSBpZE9yT3B0aW9ucztcclxuICAgICAgICAvLyB0aGUgb3B0aW9uIHN0b3JlIHNldHVwIHdpbGwgY29udGFpbiB0aGUgYWN0dWFsIG9wdGlvbnMgaW4gdGhpcyBjYXNlXHJcbiAgICAgICAgb3B0aW9ucyA9IGlzU2V0dXBTdG9yZSA/IHNldHVwT3B0aW9ucyA6IHNldHVwO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGlkT3JPcHRpb25zO1xyXG4gICAgICAgIGlkID0gaWRPck9wdGlvbnMuaWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB1c2VTdG9yZShwaW5pYSwgaG90KSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgcGluaWEgPVxyXG4gICAgICAgICAgICAvLyBpbiB0ZXN0IG1vZGUsIGlnbm9yZSB0aGUgYXJndW1lbnQgcHJvdmlkZWQgYXMgd2UgY2FuIGFsd2F5cyByZXRyaWV2ZSBhXHJcbiAgICAgICAgICAgIC8vIHBpbmlhIGluc3RhbmNlIHdpdGggZ2V0QWN0aXZlUGluaWEoKVxyXG4gICAgICAgICAgICAoKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpICYmIGFjdGl2ZVBpbmlhICYmIGFjdGl2ZVBpbmlhLl90ZXN0aW5nID8gbnVsbCA6IHBpbmlhKSB8fFxyXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRJbnN0YW5jZSAmJiBpbmplY3QocGluaWFTeW1ib2wsIG51bGwpKTtcclxuICAgICAgICBpZiAocGluaWEpXHJcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY3RpdmVQaW5pYSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvwn42NXTogZ2V0QWN0aXZlUGluaWEgd2FzIGNhbGxlZCB3aXRoIG5vIGFjdGl2ZSBQaW5pYS4gRGlkIHlvdSBmb3JnZXQgdG8gaW5zdGFsbCBwaW5pYT9cXG5gICtcclxuICAgICAgICAgICAgICAgIGBcXHRjb25zdCBwaW5pYSA9IGNyZWF0ZVBpbmlhKClcXG5gICtcclxuICAgICAgICAgICAgICAgIGBcXHRhcHAudXNlKHBpbmlhKVxcbmAgK1xyXG4gICAgICAgICAgICAgICAgYFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBpbmlhID0gYWN0aXZlUGluaWE7XHJcbiAgICAgICAgaWYgKCFwaW5pYS5fcy5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0aW5nIHRoZSBzdG9yZSByZWdpc3RlcnMgaXQgaW4gYHBpbmlhLl9zYFxyXG4gICAgICAgICAgICBpZiAoaXNTZXR1cFN0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVTZXR1cFN0b3JlKGlkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogbm90IHRoZSByaWdodCBpbmZlcnJlZCB0eXBlXHJcbiAgICAgICAgICAgICAgICB1c2VTdG9yZS5fcGluaWEgPSBwaW5pYTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcclxuICAgICAgICAgICAgY29uc3QgaG90SWQgPSAnX19ob3Q6JyArIGlkO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTdG9yZSA9IGlzU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVTZXR1cFN0b3JlKGhvdElkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEsIHRydWUpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZU9wdGlvbnNTdG9yZShob3RJZCwgYXNzaWduKHt9LCBvcHRpb25zKSwgcGluaWEsIHRydWUpO1xyXG4gICAgICAgICAgICBob3QuX2hvdFVwZGF0ZShuZXdTdG9yZSk7XHJcbiAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIHN0YXRlIHByb3BlcnRpZXMgYW5kIHRoZSBzdG9yZSBmcm9tIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICBkZWxldGUgcGluaWEuc3RhdGUudmFsdWVbaG90SWRdO1xyXG4gICAgICAgICAgICBwaW5pYS5fcy5kZWxldGUoaG90SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzYXZlIHN0b3JlcyBpbiBpbnN0YW5jZXMgdG8gYWNjZXNzIHRoZW0gZGV2dG9vbHNcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIElTX0NMSUVOVCAmJlxyXG4gICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UgJiZcclxuICAgICAgICAgICAgY3VycmVudEluc3RhbmNlLnByb3h5ICYmXHJcbiAgICAgICAgICAgIC8vIGF2b2lkIGFkZGluZyBzdG9yZXMgdGhhdCBhcmUganVzdCBidWlsdCBmb3IgaG90IG1vZHVsZSByZXBsYWNlbWVudFxyXG4gICAgICAgICAgICAhaG90KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZtID0gY3VycmVudEluc3RhbmNlLnByb3h5O1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9ICdfcFN0b3JlcycgaW4gdm0gPyB2bS5fcFN0b3JlcyA6ICh2bS5fcFN0b3JlcyA9IHt9KTtcclxuICAgICAgICAgICAgY2FjaGVbaWRdID0gc3RvcmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0b3JlR2VuZXJpYyBjYW5ub3QgYmUgY2FzdGVkIHRvd2FyZHMgU3RvcmVcclxuICAgICAgICByZXR1cm4gc3RvcmU7XHJcbiAgICB9XHJcbiAgICB1c2VTdG9yZS4kaWQgPSBpZDtcclxuICAgIHJldHVybiB1c2VTdG9yZTtcclxufVxuXG5sZXQgbWFwU3RvcmVTdWZmaXggPSAnU3RvcmUnO1xyXG4vKipcclxuICogQ2hhbmdlcyB0aGUgc3VmZml4IGFkZGVkIGJ5IGBtYXBTdG9yZXMoKWAuIENhbiBiZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLlxyXG4gKiBEZWZhdWx0cyB0byBgXCJTdG9yZVwiYC4gTWFrZSBzdXJlIHRvIGV4dGVuZCB0aGUgTWFwU3RvcmVzQ3VzdG9taXphdGlvblxyXG4gKiBpbnRlcmZhY2UgaWYgeW91IGFyZSB1c2luZyBUeXBlU2NyaXB0LlxyXG4gKlxyXG4gKiBAcGFyYW0gc3VmZml4IC0gbmV3IHN1ZmZpeFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0TWFwU3RvcmVTdWZmaXgoc3VmZml4IC8vIGNvdWxkIGJlICdTdG9yZScgYnV0IHRoYXQgd291bGQgYmUgYW5ub3lpbmcgZm9yIEpTXHJcbikge1xyXG4gICAgbWFwU3RvcmVTdWZmaXggPSBzdWZmaXg7XHJcbn1cclxuLyoqXHJcbiAqIEFsbG93cyB1c2luZyBzdG9yZXMgd2l0aG91dCB0aGUgY29tcG9zaXRpb24gQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW5cclxuICogb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZCBvZiBhIGNvbXBvbmVudC4gSXQgYWNjZXB0cyBhIGxpc3RcclxuICogb2Ygc3RvcmUgZGVmaW5pdGlvbnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGV4cG9ydCBkZWZhdWx0IHtcclxuICogICBjb21wdXRlZDoge1xyXG4gKiAgICAgLy8gb3RoZXIgY29tcHV0ZWQgcHJvcGVydGllc1xyXG4gKiAgICAgLi4ubWFwU3RvcmVzKHVzZVVzZXJTdG9yZSwgdXNlQ2FydFN0b3JlKVxyXG4gKiAgIH0sXHJcbiAqXHJcbiAqICAgY3JlYXRlZCgpIHtcclxuICogICAgIHRoaXMudXNlclN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJ1c2VyXCJcclxuICogICAgIHRoaXMuY2FydFN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJjYXJ0XCJcclxuICogICB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSBzdG9yZXMgLSBsaXN0IG9mIHN0b3JlcyB0byBtYXAgdG8gYW4gb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXBTdG9yZXMoLi4uc3RvcmVzKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIEFycmF5LmlzQXJyYXkoc3RvcmVzWzBdKSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBEaXJlY3RseSBwYXNzIGFsbCBzdG9yZXMgdG8gXCJtYXBTdG9yZXMoKVwiIHdpdGhvdXQgcHV0dGluZyB0aGVtIGluIGFuIGFycmF5OlxcbmAgK1xyXG4gICAgICAgICAgICBgUmVwbGFjZVxcbmAgK1xyXG4gICAgICAgICAgICBgXFx0bWFwU3RvcmVzKFt1c2VBdXRoU3RvcmUsIHVzZUNhcnRTdG9yZV0pXFxuYCArXHJcbiAgICAgICAgICAgIGB3aXRoXFxuYCArXHJcbiAgICAgICAgICAgIGBcXHRtYXBTdG9yZXModXNlQXV0aFN0b3JlLCB1c2VDYXJ0U3RvcmUpXFxuYCArXHJcbiAgICAgICAgICAgIGBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcclxuICAgICAgICBzdG9yZXMgPSBzdG9yZXNbMF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RvcmVzLnJlZHVjZSgocmVkdWNlZCwgdXNlU3RvcmUpID0+IHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiAkaWQgaXMgYWRkZWQgYnkgZGVmaW5lU3RvcmVcclxuICAgICAgICByZWR1Y2VkW3VzZVN0b3JlLiRpZCArIG1hcFN0b3JlU3VmZml4XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgfSwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBBbGxvd3MgdXNpbmcgc3RhdGUgYW5kIGdldHRlcnMgZnJvbSBvbmUgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cclxuICogQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW4gb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZFxyXG4gKiBvZiBhIGNvbXBvbmVudC5cclxuICpcclxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cclxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gbWFwU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxyXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pXHJcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh0aGlzLiRwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUtleSA9IGtleXNPck1hcHBlcltrZXldO1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIHNvbWUgcmVhc29uIFRTIGlzIHVuYWJsZSB0byBpbmZlciB0aGUgdHlwZSBvZiBzdG9yZUtleSB0byBiZSBhXHJcbiAgICAgICAgICAgICAgICAvLyBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBzdG9yZUtleSA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVLZXkuY2FsbCh0aGlzLCBzdG9yZSlcclxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlW3N0b3JlS2V5XTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3IgYG1hcFN0YXRlKClgLiBZb3Ugc2hvdWxkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cclxuICogQGRlcHJlY2F0ZWQgdXNlIGBtYXBTdGF0ZSgpYCBpbnN0ZWFkLlxyXG4gKi9cclxuY29uc3QgbWFwR2V0dGVycyA9IG1hcFN0YXRlO1xyXG4vKipcclxuICogQWxsb3dzIGRpcmVjdGx5IHVzaW5nIGFjdGlvbnMgZnJvbSB5b3VyIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXHJcbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBtZXRob2RzYCBmaWVsZFxyXG4gKiBvZiBhIGNvbXBvbmVudC5cclxuICpcclxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cclxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gbWFwQWN0aW9ucyh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzT3JNYXBwZXIpXHJcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldKC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcclxuICAgICAgICB9LCB7fSlcclxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXlzT3JNYXBwZXJba2V5XV0oLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgICAgIH0sIHt9KTtcclxufVxyXG4vKipcclxuICogQWxsb3dzIHVzaW5nIHN0YXRlIGFuZCBnZXR0ZXJzIGZyb20gb25lIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXHJcbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGRcclxuICogb2YgYSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXHJcbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG1hcFdyaXRhYmxlU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxyXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0ge1xyXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGVhc2llciB0byB0eXBlIGl0IGhlcmUgYXMgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XSA9IHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgICAgIH0sIHt9KVxyXG4gICAgICAgIDogT2JqZWN0LmtleXMoa2V5c09yTWFwcGVyKS5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IHtcclxuICAgICAgICAgICAgICAgIGdldCgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGVhc2llciB0byB0eXBlIGl0IGhlcmUgYXMgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dID0gdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pO1xyXG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBvZiByZWZlcmVuY2VzIHdpdGggYWxsIHRoZSBzdGF0ZSwgZ2V0dGVycywgYW5kIHBsdWdpbi1hZGRlZFxyXG4gKiBzdGF0ZSBwcm9wZXJ0aWVzIG9mIHRoZSBzdG9yZS4gU2ltaWxhciB0byBgdG9SZWZzKClgIGJ1dCBzcGVjaWZpY2FsbHlcclxuICogZGVzaWduZWQgZm9yIFBpbmlhIHN0b3JlcyBzbyBtZXRob2RzIGFuZCBub24gcmVhY3RpdmUgcHJvcGVydGllcyBhcmVcclxuICogY29tcGxldGVseSBpZ25vcmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBleHRyYWN0IHRoZSByZWZzIGZyb21cclxuICovXHJcbmZ1bmN0aW9uIHN0b3JlVG9SZWZzKHN0b3JlKSB7XHJcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy84NTJcclxuICAgIC8vIEl0J3MgZWFzaWVyIHRvIGp1c3QgdXNlIHRvUmVmcygpIGV2ZW4gaWYgaXQgaW5jbHVkZXMgbW9yZSBzdHVmZlxyXG4gICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRvUmVmcyBpbmNsdWRlIG1ldGhvZHMgYW5kIG90aGVyc1xyXG4gICAgICAgIHJldHVybiB0b1JlZnMoc3RvcmUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc3RvcmUgPSB0b1JhdyhzdG9yZSk7XHJcbiAgICAgICAgY29uc3QgcmVmcyA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHN0b3JlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3RvcmVba2V5XTtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKHZhbHVlKSB8fCBpc1JlYWN0aXZlKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIGtleSBpcyBzdGF0ZSBvciBnZXR0ZXJcclxuICAgICAgICAgICAgICAgIHJlZnNba2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLS0tXHJcbiAgICAgICAgICAgICAgICAgICAgdG9SZWYoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlZnM7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFZ1ZSAyIFBsdWdpbiB0aGF0IG11c3QgYmUgaW5zdGFsbGVkIGZvciBwaW5pYSB0byB3b3JrLiBOb3RlICoqeW91IGRvbid0IG5lZWRcclxuICogdGhpcyBwbHVnaW4gaWYgeW91IGFyZSB1c2luZyBOdXh0LmpzKiouIFVzZSB0aGUgYGJ1aWxkTW9kdWxlYCBpbnN0ZWFkOlxyXG4gKiBodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9zc3IvbnV4dC5odG1sLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcclxuICogaW1wb3J0IHsgUGluaWFWdWVQbHVnaW4sIGNyZWF0ZVBpbmlhIH0gZnJvbSAncGluaWEnXHJcbiAqXHJcbiAqIFZ1ZS51c2UoUGluaWFWdWVQbHVnaW4pXHJcbiAqIGNvbnN0IHBpbmlhID0gY3JlYXRlUGluaWEoKVxyXG4gKlxyXG4gKiBuZXcgVnVlKHtcclxuICogICBlbDogJyNhcHAnLFxyXG4gKiAgIC8vIC4uLlxyXG4gKiAgIHBpbmlhLFxyXG4gKiB9KVxyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIF9WdWUgLSBgVnVlYCBpbXBvcnRlZCBmcm9tICd2dWUnLlxyXG4gKi9cclxuY29uc3QgUGluaWFWdWVQbHVnaW4gPSBmdW5jdGlvbiAoX1Z1ZSkge1xyXG4gICAgLy8gRXF1aXZhbGVudCBvZlxyXG4gICAgLy8gYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRwaW5pYSA9IHBpbmlhXHJcbiAgICBfVnVlLm1peGluKHtcclxuICAgICAgICBiZWZvcmVDcmVhdGUoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5waW5pYSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWEgPSBvcHRpb25zLnBpbmlhO1xyXG4gICAgICAgICAgICAgICAgLy8gSEFDSzogdGFrZW4gZnJvbSBwcm92aWRlKCk6IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb21wb3NpdGlvbi1hcGkvYmxvYi9tYWluL3NyYy9hcGlzL2luamVjdC50cyNMMzFcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3Byb3ZpZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZUNhY2hlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfcHJvdmlkZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcHJvdmlkZUNhY2hlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICh2KSA9PiBPYmplY3QuYXNzaWduKHByb3ZpZGVDYWNoZSwgdiksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm92aWRlZFtwaW5pYVN5bWJvbF0gPSBwaW5pYTtcclxuICAgICAgICAgICAgICAgIC8vIHByb3BhZ2F0ZSB0aGUgcGluaWEgaW5zdGFuY2UgaW4gYW4gU1NSIGZyaWVuZGx5IHdheVxyXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgYWRkaW5nIGl0IHRvIG51eHQgdHdpY2VcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJHBpbmlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGluaWEgPSBwaW5pYTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBpbmlhLl9hID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGlmIChJU19DTElFTlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyBjYWxsaW5nIHVzZVN0b3JlKCkgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCBzZXR1cCBhZnRlclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RhbGxpbmcgcGluaWEncyBwbHVnaW5cclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoVVNFX0RFVlRPT0xTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKHBpbmlhLl9hLCBwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuJHBpbmlhICYmIG9wdGlvbnMucGFyZW50ICYmIG9wdGlvbnMucGFyZW50LiRwaW5pYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcGluaWEgPSBvcHRpb25zLnBhcmVudC4kcGluaWE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlc3Ryb3llZCgpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BTdG9yZXM7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59O1xuXG5leHBvcnQgeyBNdXRhdGlvblR5cGUsIFBpbmlhVnVlUGx1Z2luLCBhY2NlcHRITVJVcGRhdGUsIGNyZWF0ZVBpbmlhLCBkZWZpbmVTdG9yZSwgZ2V0QWN0aXZlUGluaWEsIG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlLCBtYXBTdG9yZXMsIG1hcFdyaXRhYmxlU3RhdGUsIHNldEFjdGl2ZVBpbmlhLCBzZXRNYXBTdG9yZVN1ZmZpeCwgc2tpcEh5ZHJhdGUsIHN0b3JlVG9SZWZzIH07XG4iLCJpbXBvcnQgeyBTdWJtaXR0ZWREYXRhIH0gZnJvbSBcIi4vU3VibWl0dGVkRGF0YVwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi9tb2RlbC9FbnRyeVwiO1xuXG5leHBvcnQgY2xhc3MgU2F2ZVN0YXRlIHtcbiAgICBvcmlnaW5hbEVudHJ5PzogRW50cnk7XG4gICAgbmV3RW50cnk6IEVudHJ5ID0gbmV3IEVudHJ5KHt9KTtcbiAgICB0aXRsZVJlc2V0VmFsdWU6IHN0cmluZztcbiAgICBzdWJtaXR0ZWREYXRhPzogU3VibWl0dGVkRGF0YTtcbiAgICBsYXN0QWN0aXZlQXQ/OiBEYXRlO1xuICAgIHNob3dVUkxNaXNtYXRjaFdhcm5pbmc6IGJvb2xlYW47XG4gICAgZmF2aWNvbj86IHN0cmluZztcbn1cbiIsImltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9EYXRhYmFzZVwiO1xuaW1wb3J0IHsgUGFzc3dvcmRQcm9maWxlIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9QYXNzd29yZFByb2ZpbGVcIjtcbmltcG9ydCB7IEtlZU5vdGlmaWNhdGlvbiB9IGZyb20gXCIuLi9jb21tb24vS2VlTm90aWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBFbnRyeVN1bW1hcnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5U3VtbWFyeVwiO1xuaW1wb3J0IHsgU2F2ZVN0YXRlIH0gZnJvbSBcIi4uL2NvbW1vbi9TYXZlU3RhdGVcIjtcbmltcG9ydCB7IFNhdmVFbnRyeVJlc3VsdCB9IGZyb20gXCIuLi9jb21tb24vU2F2ZUVudHJ5UmVzdWx0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2VlU3RhdGUge1xuICAgIGxhdGVzdENvbm5lY3Rpb25FcnJvcjogc3RyaW5nO1xuICAgIGxhc3RLZWVQYXNzUlBDUmVmcmVzaDogbnVtYmVyO1xuICAgIEFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4OiBudW1iZXI7XG4gICAgS2VlUGFzc0RhdGFiYXNlczogRGF0YWJhc2VbXTtcbiAgICBQYXNzd29yZFByb2ZpbGVzOiBQYXNzd29yZFByb2ZpbGVbXTtcbiAgICBub3RpZmljYXRpb25zOiBLZWVOb3RpZmljYXRpb25bXTtcbiAgICBjb25uZWN0ZWQ6IGJvb2xlYW47XG4gICAgY29ubmVjdGVkV2Vic29ja2V0OiBib29sZWFuO1xuICAgIGN1cnJlbnRTZWFyY2hUZXJtOiBzdHJpbmc7XG4gICAgbG9naW5zRm91bmQ6IGJvb2xlYW47XG4gICAgc2VhcmNoUmVzdWx0czogRW50cnlTdW1tYXJ5W107XG4gICAgc2F2ZVN0YXRlOiBTYXZlU3RhdGU7XG4gICAgZ2VuZXJhdGVkUGFzc3dvcmQ6IHN0cmluZztcbiAgICBzYXZlRW50cnlSZXN1bHQ6IFNhdmVFbnRyeVJlc3VsdDtcbiAgICBlbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgbGF0ZXN0Q29ubmVjdGlvbkVycm9yOiBcIlwiLFxuICAgIGxhc3RLZWVQYXNzUlBDUmVmcmVzaDogMCxcbiAgICBBY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleDogLTEsXG4gICAgS2VlUGFzc0RhdGFiYXNlczogW10sXG4gICAgUGFzc3dvcmRQcm9maWxlczogW10sXG4gICAgbm90aWZpY2F0aW9uczogW10sXG4gICAgY29ubmVjdGVkOiBmYWxzZSxcbiAgICBjb25uZWN0ZWRXZWJzb2NrZXQ6IGZhbHNlLFxuICAgIGN1cnJlbnRTZWFyY2hUZXJtOiBudWxsLFxuICAgIGxvZ2luc0ZvdW5kOiBmYWxzZSxcbiAgICBzZWFyY2hSZXN1bHRzOiBudWxsLFxuICAgIHNhdmVTdGF0ZTogbmV3IFNhdmVTdGF0ZSgpLFxuICAgIGdlbmVyYXRlZFBhc3N3b3JkOiBcIlwiLFxuICAgIHNhdmVFbnRyeVJlc3VsdDoge1xuICAgICAgICByZXN1bHQ6IG51bGwsXG4gICAgICAgIHJlY2VpdmVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGZpbGVOYW1lOiBudWxsLFxuICAgICAgICB1dWlkOiBudWxsXG4gICAgfSxcbiAgICBlbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcDogMFxufTtcbiIsImV4cG9ydCBlbnVtIFNlc3Npb25UeXBlIHtcbiAgICBFdmVudCA9IFwiZXZlbnRcIixcbiAgICBXZWJzb2NrZXQgPSBcIndlYnNvY2tldFwiXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVQaW5pYSwgZGVmaW5lU3RvcmUsIERlZmluZVN0b3JlT3B0aW9ucywgUGluaWEsIFN0YXRlVHJlZSwgU3RvcmVEZWZpbml0aW9uLCBfR2V0dGVyc1RyZWUgfSBmcm9tIFwicGluaWFcIjtcblxuaW1wb3J0IHsgS2VlU3RhdGUsIGRlZmF1bHRzIH0gZnJvbSBcIi4vS2VlU3RhdGVcIjtcbmltcG9ydCB7IFNhdmVTdGF0ZSB9IGZyb20gXCIuLi9jb21tb24vU2F2ZVN0YXRlXCI7XG5pbXBvcnQgeyBTZXNzaW9uVHlwZSB9IGZyb20gXCIuLi9jb21tb24vU2Vzc2lvblR5cGVcIjtcbmltcG9ydCB7IEZpZWxkIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9GaWVsZFwiO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSBcInZ1ZVwiO1xuXG4vKipcbiAqIEEgcmVwbGFjZW1lbnQgZm9yIGBkZWZpbmVTdG9yZWAgd2hpY2ggbWFrZXMgYWxsIHN0YXRlIHByb3BlcnRpZXMgcmVhZG9ubHlcbiAqIHRvIHByZXZlbnQgbXV0YXRpb25zIG91dHNpZGUgb2YgYWN0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZGVmaW5lSW1tdXRhYmxlU3RvcmU8SWQgZXh0ZW5kcyBzdHJpbmcsIFMgZXh0ZW5kcyBTdGF0ZVRyZWUgPSBhbnksIEcgZXh0ZW5kcyBfR2V0dGVyc1RyZWU8Uz4gPSBhbnksIEEgPSBhbnk+KFxuICAgIGlkOiBJZCxcbiAgICBvcHRpb25zOiBPbWl0PERlZmluZVN0b3JlT3B0aW9uczxJZCwgUywgRywgQT4sIFwiaWRcIj5cbiAgKTogU3RvcmVEZWZpbml0aW9uPElkLCBSZWFkb25seTxTPiwgRywgQT4ge1xuICAgIHJldHVybiBkZWZpbmVTdG9yZShpZCwgb3B0aW9ucyk7XG4gIH1cblxuY29uc3QgdXNlU3RvcmUgPSBkZWZpbmVJbW11dGFibGVTdG9yZShcImtlZVwiLCB7XG4gICAgc3RhdGU6ICgpOiBLZWVTdGF0ZSA9PiAoZGVmYXVsdHMpLFxuICAgIGdldHRlcnM6IHtcbiAgICAgICAgc2hvd0dlbmVyYXRlUGFzc3dvcmRMaW5rOiAoc3RhdGU6IEtlZVN0YXRlKSA9PiBzdGF0ZS5jb25uZWN0ZWQsXG4gICAgICAgIHNob3dNYXRjaGVkTG9naW5zOiAoc3RhdGU6IEtlZVN0YXRlKSA9PiAhIXN0YXRlLmxvZ2luc0ZvdW5kLFxuICAgICAgICBzaG93Tm90aWZpY2F0aW9uczogKHN0YXRlOiBLZWVTdGF0ZSkgPT5cbiAgICAgICAgICAgIHN0YXRlLm5vdGlmaWNhdGlvbnMgJiYgISFzdGF0ZS5ub3RpZmljYXRpb25zLmxlbmd0aCxcbiAgICAgICAgZGF0YWJhc2VJc09wZW46IChzdGF0ZTogS2VlU3RhdGUpID0+XG4gICAgICAgICAgICBzdGF0ZS5jb25uZWN0ZWQgJiYgISFzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aCxcblxuICAgICAgICBkYXRhYmFzZU5hbWU6IChzdGF0ZTogS2VlU3RhdGUpID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzICYmXG4gICAgICAgICAgICAgICAgc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBzdGF0ZS5BY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleCA+PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IHN0YXRlLktlZVBhc3NEYXRhYmFzZXNbc3RhdGUuQWN0aXZlS2VlUGFzc0RhdGFiYXNlSW5kZXhdO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYi5uYW1lID8gZGIubmFtZSA6IGRiLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcL10vLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9LFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzKHN0YXRlOiBLZWVTdGF0ZSk6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJFNUUkYoXCJtdWx0aXBsZVBhc3N3b3JkU291cmNlc0VuYWJsZWRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGgudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YWJhc2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkU1RSKFwibm90aWZ5QmFyTG9naW5Ub0tlZVBhc3NCdXR0b25fdGlwXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRTVFIoXCJub3RpZnlCYXJMYXVuY2hLZWVQYXNzQnV0dG9uX3RpcFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1c0RldGFpbChzdGF0ZTogS2VlU3RhdGUpOiBzdHJpbmcge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRTVFJGKFwibG9nZ2VkSW5NdWx0aXBsZV90aXBcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YWJhc2VOYW1lXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJFNUUkYoXCJsb2dnZWRJbl90aXBcIiwgdGhpcy5kYXRhYmFzZU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkU1RSKFwibm90aWZ5QmFyTGF1bmNoS2VlUGFzc19sYWJlbFwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2hvd09wZW5LZWVQYXNzQnV0dG9uOiAoc3RhdGU6IEtlZVN0YXRlKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuY29ubmVjdGVkV2Vic29ja2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzV2Vic29ja2V0REJzID0gc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5zb21lKFxuICAgICAgICAgICAgICAgICAgICBkYiA9PiBkYi5zZXNzaW9uVHlwZSA9PT0gU2Vzc2lvblR5cGUuV2Vic29ja2V0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdXBwb3J0c1dlYnNvY2tldEZvY3VzID0gc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5zb21lKFxuICAgICAgICAgICAgICAgICAgICBkYiA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgZGIuc2Vzc2lvblR5cGUgPT09IFNlc3Npb25UeXBlLldlYnNvY2tldCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZGIuc2Vzc2lvbkZlYXR1cmVzLmluZGV4T2YoXCJLUFJQQ19PUEVOX0FORF9GT0NVU19EQVRBQkFTRVwiKSA+PSAwXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1dlYnNvY2tldERCcyB8fCBzdXBwb3J0c1dlYnNvY2tldEZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWN0aW9uczoge1xuICAgICAgICB1cGRhdGVBY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7QWN0aXZlS2VlUGFzc0RhdGFiYXNlSW5kZXg6IHBheWxvYWR9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVDb25uZWN0ZWQocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy4kcGF0Y2goe2Nvbm5lY3RlZDogcGF5bG9hZH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUNvbm5lY3RlZFdlYnNvY2tldChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7Y29ubmVjdGVkV2Vic29ja2V0OiBwYXlsb2FkfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlQ3VycmVudFNlYXJjaFRlcm0ocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy4kcGF0Y2goe2N1cnJlbnRTZWFyY2hUZXJtOiBwYXlsb2FkfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlS2VlUGFzc0RhdGFiYXNlcyhwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7S2VlUGFzc0RhdGFiYXNlczogcGF5bG9hZH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUxhc3RLZWVQYXNzUlBDUmVmcmVzaChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7bGFzdEtlZVBhc3NSUENSZWZyZXNoOiBwYXlsb2FkfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlTGF0ZXN0Q29ubmVjdGlvbkVycm9yKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKHtsYXRlc3RDb25uZWN0aW9uRXJyb3I6IHBheWxvYWR9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVMb2dpbnNGb3VuZChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7bG9naW5zRm91bmQ6IHBheWxvYWQgfHwgZmFsc2V9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVOb3RpZmljYXRpb25zKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKHtub3RpZmljYXRpb25zOiBwYXlsb2FkfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlUGFzc3dvcmRQcm9maWxlcyhwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7UGFzc3dvcmRQcm9maWxlczogcGF5bG9hZH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUdlbmVyYXRlZFBhc3N3b3JkKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKHtnZW5lcmF0ZWRQYXNzd29yZDogcGF5bG9hZH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVN1Ym1pdHRlZERhdGEocGF5bG9hZCkge1xuICAgICAgICAgICAgY29uc3QgcGF0Y2ggPSB0aGlzLnNhdmVTdGF0ZSA/IHt9IDogbmV3IFNhdmVTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy4kcGF0Y2goe3NhdmVTdGF0ZToge1xuICAgICAgICAgICAgICAgIHN1Ym1pdHRlZERhdGE6IHBheWxvYWQgfHwgbnVsbFxuICAgICAgICAgICAgfX0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVNhdmVTdGF0ZShwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7c2F2ZVN0YXRlOiBwYXlsb2FkIHx8IG51bGx9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVTZWFyY2hSZXN1bHRzKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKHtzZWFyY2hSZXN1bHRzOiBwYXlsb2FkIHx8IG51bGx9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVTZWFyY2hSZXN1bHRXaXRoRnVsbERldGFpbHMocGF5bG9hZCkge1xuICAgICAgICAgICAgLy9UT0RPOiBuZWVkcyAkcGF0Y2ggd3JpdHRlblxuICAgICAgICAgICAgY29uc3QgaWQgPSBwYXlsb2FkLnV1aWQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgdGhpcy5zZWFyY2hSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMudXVpZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5mdWxsRGV0YWlscyA9IHBheWxvYWQgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZE5vdGlmaWNhdGlvbihwYXlsb2FkKSB7XG4gICAgICAgICAgICAvL1RPRE86IG5lZWRzICRwYXRjaD9cbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKHBheWxvYWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVNhdmVFbnRyeVJlc3VsdChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLiRwYXRjaCh7c2F2ZUVudHJ5UmVzdWx0OiBwYXlsb2FkIHx8IG51bGx9KTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVGaWVsZEZyb21BY3RpdmVFbnRyeShwYXlsb2FkKSB7XG5cbiAgICAgICAgICAgIC8vVE9ETzogbmVlZHMgJHBhdGNoIHdyaXR0ZW5cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGV4dEZpZWxkSW5kZXggPSB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgIGYgPT4gZi50eXBlID09PSBcInRleHRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFzc3dvcmRGaWVsZEluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICBmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxGaWVsZEluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICBmID0+IGYudXVpZCA9PT0gKHBheWxvYWQgfHwgbnVsbClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuc3BsaWNlKG9yaWdpbmFsRmllbGRJbmRleCwgMSk7XG5cbiAgICAgICAgICAgIGlmIChvcmlnaW5hbEZpZWxkSW5kZXggPT09IGZpcnN0VGV4dEZpZWxkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZUluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgZiA9PiBmLnR5cGUgPT09IFwidGV4dFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VXNlcm5hbWVJbmRleCA8IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZSA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5zcGxpY2UobmV3VXNlcm5hbWVJbmRleCwgMSlbMF07XG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxGaWVsZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoeyAuLi5uZXdVc2VybmFtZSwgbmFtZTogXCJLZWVQYXNzIHVzZXJuYW1lXCIgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbEZpZWxkSW5kZXggPT09IGZpcnN0UGFzc3dvcmRGaWVsZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UGFzc3dvcmRJbmRleCA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgIGYgPT4gZi50eXBlID09PSBcInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChuZXdQYXNzd29yZEluZGV4IDwgMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLnNwbGljZShuZXdQYXNzd29yZEluZGV4LCAxKVswXTtcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuc3BsaWNlKFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEZpZWxkSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZCh7IC4uLm5ld1Bhc3N3b3JkLCBuYW1lOiBcIktlZVBhc3MgcGFzc3dvcmRcIiB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlRW50cnlVcGRhdGVTdGFydGVkQXRUaW1lc3RhbXAocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy4kcGF0Y2goe2VudHJ5VXBkYXRlU3RhcnRlZEF0VGltZXN0YW1wOiBwYXlsb2FkIHx8IG51bGx9KTtcbiAgICAgICAgfVxuXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVN0b3JlO1xuXG5leHBvcnQgdHlwZSBLZWVTdG9yZSA9IE9taXQ8XG4gICAgUmV0dXJuVHlwZTx0eXBlb2YgdXNlU3RvcmU+LFxuICAgIGtleW9mIFJldHVyblR5cGU8dHlwZW9mIGRlZmluZVN0b3JlPlxuPjtcblxuXG4vL1RPRE86IERvZXMgdGhpcyBjcmVhdGUgYSBzdWl0YWJsZSBzdHViIFZ1ZSBpbnN0YW5jZSBmb3IgUGluaWEgdG8gd29yayB3aXRoIE1WMj9cbmxldCBzdHViVnVlQXBwOiBBcHA8RWxlbWVudD47XG5sZXQgc3R1YlBpbmlhOiBQaW5pYTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VTdHViU3RvcmUoKSB7XG4gICAgaWYgKCFzdHViUGluaWEpIHtcbiAgICAgICAgc3R1YlBpbmlhID0gY3JlYXRlUGluaWEoKTtcbiAgICB9XG4gICAgaWYgKCFzdHViVnVlQXBwKSB7XG4gICAgICAgIHN0dWJWdWVBcHAgPSBjcmVhdGVBcHAoZGVmaW5lQ29tcG9uZW50KTtcbiAgICAgICAgc3R1YlZ1ZUFwcC51c2Uoc3R1YlBpbmlhKTtcbiAgICB9XG4gICAgcmV0dXJuIHVzZVN0b3JlKCk7XG59XG4iLCJpbXBvcnQgeyBGaWxsZWRGaWVsZCB9IGZyb20gXCIuL0ZpbGxlZEZpZWxkXCI7XG5pbXBvcnQgeyBQYW5lbFN0dWIsIFBhbmVsU3R1Yk9wdGlvbnMgfSBmcm9tIFwiLi9QYW5lbFN0dWJcIjtcbmltcG9ydCB7IEZvcm1VdGlscyB9IGZyb20gXCIuL2Zvcm1zVXRpbHNcIjtcbmltcG9ydCB7IEZvcm1TYXZpbmcgfSBmcm9tIFwiLi9mb3JtU2F2aW5nXCI7XG5pbXBvcnQgeyBLZWVGaWVsZEljb24gfSBmcm9tIFwiLi9rZWVGaWVsZEljb25cIjtcbmltcG9ydCB7IE1hdGNoUmVzdWx0IH0gZnJvbSBcIi4vTWF0Y2hSZXN1bHRcIjtcbmltcG9ydCB7IEZpbmRNYXRjaGVzQmVoYXZpb3VyIH0gZnJvbSBcIi4vZmluZE1hdGNoZXNCZWhhdmlvdXJcIjtcbmltcG9ydCB7IEtlZUxvZ2dlciwgS2VlTG9nIH0gZnJvbSBcIi4uL2NvbW1vbi9Mb2dnZXJcIjtcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gXCIuLi9jb21tb24vY29uZmlnXCI7XG5pbXBvcnQgeyBjb25maWdNYW5hZ2VyIH0gZnJvbSBcIi4uL2NvbW1vbi9Db25maWdNYW5hZ2VyXCI7XG5pbXBvcnQgeyBNYXRjaGVkRmllbGQgfSBmcm9tIFwiLi9NYXRjaGVkRmllbGRcIjtcbmltcG9ydCB7IEZpZWxkIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9GaWVsZFwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5XCI7XG5pbXBvcnQgdXNlU3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5cbmNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTtcblxuaW50ZXJmYWNlIFNjb3JlTWF0cml4IHtcbiAgICBzY29yZTogbnVtYmVyO1xuICAgIGZvcm1GaWVsZEluZGV4OiBudW1iZXI7XG4gICAgZGF0YUZpZWxkSW5kZXg6IG51bWJlcjtcbn1cblxuZGVjbGFyZSBjb25zdCBwdW55Y29kZTtcblxuY2xhc3MgRmlsbEFuZFN1Ym1pdEFjdGlvbiB7XG4gICAgZmlsbDogYm9vbGVhbjtcbiAgICBzdWJtaXQ6IGJvb2xlYW47XG59XG5cbmNsYXNzIFN1Ym1pdENhbmRpZGF0ZSB7XG4gICAgZGlzdGFuY2U6IG51bWJlcjtcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBzY29yZTogbnVtYmVyO1xufVxuXG5jbGFzcyBGaWVsZE1hdGNoU2NvcmVDb25maWcge1xuICAgIHB1bmlzaFdyb25nSURBbmROYW1lOiBib29sZWFuO1xufVxuXG5jbGFzcyBWaXNpYmxlRmllbGRDYWNoZSB7XG4gICAgcGFzc3dvcmQ6IGJvb2xlYW5bXTtcbiAgICBvdGhlcjogYm9vbGVhbltdO1xufVxuXG5leHBvcnQgY2xhc3MgRm9ybUZpbGxpbmcge1xuICAgIHByaXZhdGUgZmluZExvZ2luT3A6IGFueSA9IHt9O1xuICAgIHByaXZhdGUgbWF0Y2hSZXN1bHQ6IE1hdGNoUmVzdWx0ID0gbmV3IE1hdGNoUmVzdWx0KCk7XG4gICAgcHJpdmF0ZSBrZWVGaWVsZEljb246IEtlZUZpZWxkSWNvbjtcblxuICAgIHB1YmxpYyBtYXRjaGVkTG9naW5zUGFuZWxTdHViOiBQYW5lbFN0dWI7XG4gICAgcHJpdmF0ZSBtYXRjaGVkTG9naW5zUGFuZWxTdHViUmFmOiBudW1iZXI7XG5cbiAgICAvLyBTaG91bGQgcmVhbGx5IG1ha2UgdGhpcyBwcml2YXRlIGFuZCBjYWxsIGluZGlyZWN0bHkgYnV0IEknbSB3YXJ5IG9mIGFsbCBwZXJmb3JtYW5jZSBvdmVyaGVhZHMgd3J0IERPTSBtdXRhdGlvbiBvYnNlcnZlcnNcbiAgICBwdWJsaWMgZm9ybUZpbmRlclRpbWVyOiBudW1iZXIgPSBudWxsO1xuXG4gICAgcHJpdmF0ZSBzZW1hbnRpY1doaXRlbGlzdENhY2hlO1xuICAgIHByaXZhdGUgc2VtYW50aWNCbGFja2xpc3RDYWNoZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG15UG9ydDogYnJvd3Nlci5ydW50aW1lLlBvcnQsXG4gICAgICAgIHByaXZhdGUgcGFyZW50RnJhbWVJZDogbnVtYmVyLFxuICAgICAgICBwcml2YXRlIGZvcm1VdGlsczogRm9ybVV0aWxzLFxuICAgICAgICBwcml2YXRlIGZvcm1TYXZpbmc6IEZvcm1TYXZpbmcsXG4gICAgICAgIHByaXZhdGUgTG9nZ2VyOiBLZWVMb2dnZXIsXG4gICAgICAgIHByaXZhdGUgY29uZmlnOiBDb25maWcsXG4gICAgICAgIHByaXZhdGUgbWF0Y2hGaW5kZXI6IHsgKHVyaTogc3RyaW5nKTogdm9pZCB9XG4gICAgKSB7XG4gICAgICAgIHRoaXMua2VlRmllbGRJY29uID0gbmV3IEtlZUZpZWxkSWNvbihcbiAgICAgICAgICAgIG15UG9ydCxcbiAgICAgICAgICAgIHBhcmVudEZyYW1lSWQsXG4gICAgICAgICAgICBmb3JtVXRpbHMsXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbE5lYXJOb2RlLmJpbmQodGhpcylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZXhlY3V0ZVByaW1hcnlBY3Rpb24oKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZW50cmllcyAmJlxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID49IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzW3RoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsbEFuZFN1Ym1pdChmYWxzZSwgdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXgsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNYXRjaGVkTG9naW5zUGFuZWwoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzW3RoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGggPiAxXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTWF0Y2hlZExvZ2luc1BhbmVsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViID0gbmV3IFBhbmVsU3R1YihcbiAgICAgICAgICAgICAgICAgICAgUGFuZWxTdHViT3B0aW9ucy5NYXRjaGVkTG9naW5zLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEZyYW1lSWRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1Yi5jcmVhdGVQYW5lbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbEluQ2VudGVyKHNwZWNpZmljRnJhbWVJZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY2xvc2VNYXRjaGVkTG9naW5zUGFuZWwoKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViID0gbmV3IFBhbmVsU3R1YihcbiAgICAgICAgICAgIFBhbmVsU3R1Yk9wdGlvbnMuTWF0Y2hlZExvZ2lucyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzcGVjaWZpY0ZyYW1lSWRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbE5lYXJOb2RlKHRhcmdldDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKFxuICAgICAgICAgICAgUGFuZWxTdHViT3B0aW9ucy5NYXRjaGVkTG9naW5zLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgdGhpcy5wYXJlbnRGcmFtZUlkXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1Yi5jcmVhdGVQYW5lbCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWJSYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWF0Y2hlZExvZ2luc1BhbmVsUG9zaXRpb24oKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpIHtcbiAgICAgICAgaWYgKHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1YikgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLmNsb3NlUGFuZWwoKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViID0gbnVsbDtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViUmFmKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlTWF0Y2hlZExvZ2luc1BhbmVsUG9zaXRpb24oKSB7XG4gICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1Yi51cGRhdGVCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViUmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hdGNoZWRMb2dpbnNQYW5lbFBvc2l0aW9uKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZXF1aXJlcyBLZWVQYXNzUlBDICMxMDFcbiAgICAvLyBwcml2YXRlIGNhbGN1bGF0ZUxhYmVsTWF0Y2hTY29yZShtYXRjaGVkRmllbGQ6IE1hdGNoZWRGaWVsZCwgZGF0YUZpZWxkOiBGaWVsZCkge1xuICAgIC8vICAgICBpZiAoIW1hdGNoZWRGaWVsZC5maWVsZC5uYW1lIHx8ICFkYXRhRmllbGQubmFtZSkgcmV0dXJuIDA7XG5cbiAgICAvLyAgICAgLy8gV2Ugb25seSBwZXJzaXN0IGEgc2luZ2xlIFwibGFiZWxcIiB2YWx1ZSwgaW1wbGljaXRseSB2aWEgdGhlIGRpc3BsYXkgbmFtZVxuICAgIC8vICAgICAvLyBmaWVsZC4gQ291bGQgY2hhbmdlIHRoaXMgaW4gZnV0dXJlIHdpdGggYWRkaXRpb25hbCBmZWF0dXJlcyBhZGRlZCB0byB0aGVcbiAgICAvLyAgICAgLy8gS2VlUGFzc1JQQyBsaWJyYXJpZXMuXG4gICAgLy8gICAgIGlmIChcbiAgICAvLyAgICAgICAgIG1hdGNoZWRGaWVsZC5maWVsZC5sb2NhdG9yc1swXS5sYWJlbHMuc29tZShcbiAgICAvLyAgICAgICAgICAgICBtYXRjaGVkRmllbGRMYWJlbCA9PlxuICAgIC8vICAgICAgICAgICAgICAgICBtYXRjaGVkRmllbGRMYWJlbC50b0xvd2VyQ2FzZSgpID09PSBkYXRhRmllbGQubmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgLy8gICAgICAgICApXG4gICAgLy8gICAgICkge1xuICAgIC8vICAgICAgICAgcmV0dXJuIDEwMDtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGNvbnN0IHdlYWtNYXRjaExhYmVscyA9IFtkYXRhRmllbGQubmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAvLyAgICAgaWYgKGRhdGFGaWVsZC5uYW1lICE9PSBkYXRhRmllbGQubG9jYXRvcnNbMF0ubmFtZSkge1xuICAgIC8vICAgICAgICAgd2Vha01hdGNoTGFiZWxzLnB1c2goZGF0YUZpZWxkLmxvY2F0b3JzWzBdLm5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgLy8gICAgIH1cblxuICAgIC8vICAgICBpZiAoXG4gICAgLy8gICAgICAgICBtYXRjaGVkRmllbGQuZmllbGQubG9jYXRvcnNbMF0ubGFiZWxzLnNvbWUobWF0Y2hlZEZpZWxkTGFiZWwgPT4ge1xuICAgIC8vICAgICAgICAgICAgIHdlYWtNYXRjaExhYmVscy5zb21lKFxuICAgIC8vICAgICAgICAgICAgICAgICBkYXRhTGFiZWwgPT4gbWF0Y2hlZEZpZWxkTGFiZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGRhdGFMYWJlbCkgPj0gMFxuICAgIC8vICAgICAgICAgICAgICk7XG4gICAgLy8gICAgICAgICB9KVxuICAgIC8vICAgICApIHtcbiAgICAvLyAgICAgICAgIHJldHVybiAzMDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gMDtcbiAgICAvLyB9XG5cbiAgICBwcml2YXRlIGNhbGN1bGF0ZUZpZWxkTWF0Y2hTY29yZShcbiAgICAgICAgbWF0Y2hlZEZpZWxkOiBNYXRjaGVkRmllbGQsXG4gICAgICAgIGRhdGFGaWVsZDogRmllbGQsXG4gICAgICAgIF9jdXJyZW50UGFnZSwgLy9UT0RPOjQ6IHJlbW92ZSBwYXJhbVxuICAgICAgICBjb25maWc6IEZpZWxkTWF0Y2hTY29yZUNvbmZpZyxcbiAgICAgICAgaXNWaXNpYmxlPzogYm9vbGVhblxuICAgICkge1xuICAgICAgICBjb25zdCBmb3JtRmllbGQgPSBtYXRjaGVkRmllbGQuZmllbGQ7XG4gICAgICAgIC8vIERlZmF1bHQgc2NvcmUgaXMgMSBzbyB0aGF0IGJhZCBtYXRjaGVzIHdoaWNoIGFyZSBhdCBsZWFzdCB0aGUgY29ycmVjdCB0eXBlXG4gICAgICAgIC8vIGhhdmUgYSBjaGFuY2Ugb2YgYmVpbmcgc2VsZWN0ZWQgaWYgbm8gZ29vZCBtYXRjaGVzIGFyZSBmb3VuZFxuICAgICAgICBsZXQgc2NvcmUgPSAxO1xuXG4gICAgICAgIC8vIERvIG5vdCBhbGxvdyBhbnkgbWF0Y2ggaWYgZmllbGQgdHlwZXMgYXJlIHNpZ25pZmljYW50bHkgbWlzbWF0Y2hlZCAoZS5nLiBjaGVja2JveCB2cyB0ZXh0IGZpZWxkKVxuICAgICAgICBpZiAoZm9ybUZpZWxkLnR5cGUgIT09IGRhdGFGaWVsZC50eXBlKSByZXR1cm4gMDtcblxuICAgICAgICAvLyBzY29yZSArPSB0aGlzLmNhbGN1bGF0ZUxhYmVsTWF0Y2hTY29yZShtYXRjaGVkRmllbGQsIGRhdGFGaWVsZCk7XG5cbiAgICAgICAgLy8gSWYgZmllbGQgSURzIG1hdGNoICsrKysrXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5pZCAhPSBudWxsICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0uaWQgIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0uaWQgIT0gXCJcIiAmJlxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLmlkID09IGRhdGFGaWVsZC5sb2NhdG9yc1swXS5pZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHNjb3JlICs9IDUwO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wdW5pc2hXcm9uZ0lEQW5kTmFtZSAmJiBkYXRhRmllbGQubG9jYXRvcnNbMF0uaWQpIHtcbiAgICAgICAgICAgIHNjb3JlIC09IDU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBmaWVsZCBuYW1lcyBtYXRjaCArKysrXG4gICAgICAgIC8vIChXZSBkbyBub3QgdHJlYXQgSUQgYW5kIE5BTUUgYXMgbXV0dWFsbHkgZXhjbHVzaXZlIGJlY2F1c2Ugc29tZSBiYWRseSB3cml0dGVuXG4gICAgICAgIC8vIHdlYnNpdGVzIG1pZ2h0IGhhdmUgZHVwbGljYXRlIElEcyBidXQgZGlmZmVyZW50IG5hbWVzIHNvIHRoaXMgY29tYmluZWQgYXBwcm9hY2hcbiAgICAgICAgLy8gbWlnaHQgYWxsb3cgdGhlbSB0byB3b3JrIGNvcnJlY3RseSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLm5hbWUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLm5hbWUgIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0ubmFtZSAhPSBcIlwiICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0ubmFtZSA9PSBkYXRhRmllbGQubG9jYXRvcnNbMF0ubmFtZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHNjb3JlICs9IDQwO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wdW5pc2hXcm9uZ0lEQW5kTmFtZSAmJiBkYXRhRmllbGQubG9jYXRvcnNbMF0ubmFtZSkge1xuICAgICAgICAgICAgc2NvcmUgLT0gNTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJhZGlvIGJ1dHRvbnMgaGF2ZSB0aGVpciB2YWx1ZXMgc2V0IGJ5IHRoZSB3ZWJzaXRlIGFuZCBoZW5jZSBjYW4gcHJvdmlkZVxuICAgICAgICAvLyBhIHVzZWZ1bCBjdWUgd2hlbiBib3RoIGlkIGFuZCBuYW1lIG1hdGNoaW5nIGZhaWxzXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS50eXBlID09PSBcInJhZGlvXCIgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC52YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgICBmb3JtRmllbGQudmFsdWUgIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBmb3JtRmllbGQudmFsdWUgIT0gXCJcIiAmJlxuICAgICAgICAgICAgZm9ybUZpZWxkLnZhbHVlID09IGRhdGFGaWVsZC52YWx1ZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHNjb3JlICs9IDMwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgaXNWaXNpYmxlID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMuZm9ybVV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUobWF0Y2hlZEZpZWxkLkRPTWVsZW1lbnQpXG4gICAgICAgICkge1xuICAgICAgICAgICAgaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3JlICs9IGlzVmlzaWJsZSA/IDM1IDogMDtcblxuICAgICAgICByZXR1cm4gc2NvcmU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWxsTWF0Y2hlZEZpZWxkcyhcbiAgICAgICAgZmllbGRTY29yZU1hdHJpeDogU2NvcmVNYXRyaXhbXSxcbiAgICAgICAgZGF0YUZpZWxkczogRmllbGRbXSxcbiAgICAgICAgZm9ybUZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIGF1dG9tYXRlZDogYm9vbGVhblxuICAgICkge1xuICAgICAgICAvLyBXZSB3YW50IHRvIG1ha2Ugc3VyZSBlYWNoIGRhdGEgZmllbGQgaXMgbWF0Y2hlZCB0byBvbmx5IG9uZSBmb3JtIGZpZWxkIGJ1dCB3ZVxuICAgICAgICAvLyBkb24ndCBrbm93IHdoaWNoIGZpZWxkIHdpbGwgYmUgdGhlIGJlc3QgbWF0Y2ggYW5kIHdlIGRvbid0IHdhbnQgdG8gaWdub3JlXG4gICAgICAgIC8vIGxlc3MgYWNjdXJhdGUgbWF0Y2hlcyBqdXN0IGJlY2F1c2UgdGhleSBoYXBwZW4gdG8gYXBwZWFyIGxhdGVyLlxuXG4gICAgICAgIC8vIFdlIGhhdmUgYSBtYXRyaXggb2Ygb2JqZWN0cyByZXByZXNlbnRpbmcgZWFjaCBwb3NzaWJsZSBjb21iaW5hdGlvbiBvZiBkYXRhIGZpZWxkXG4gICAgICAgIC8vIGFuZCBmb3JtIGZpZWxkIGFuZCB0aGUgc2NvcmUgZm9yIHRoYXQgbWF0Y2guXG4gICAgICAgIC8vIFdlIGNob29zZSB3aGF0IHRvIGZpbGwgYnkgc29ydGluZyB0aGF0IGxpc3QgYnkgc2NvcmUuXG4gICAgICAgIC8vIEFmdGVyIGZpbGxpbmcgYSBmaWVsZCB3ZSByZW1vdmUgYWxsIG9iamVjdHMgZnJvbSB0aGUgbGlzdCB3aGljaCBhcmUgZm9yIHRoZVxuICAgICAgICAvLyBkYXRhIGZpZWxkIHdlIGp1c3QgZmlsbGVkIGluIGFuZCB0aGUgZm9ybSBmaWVsZCB3ZSBmaWxsZWQgaW4uXG5cbiAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBhbHdheXMgZmlsbCBlYWNoIGZvcm0gZmllbGQgb25seSBvbmNlLCB3aXRoIHRoZSBiZXN0IG1hdGNoXG4gICAgICAgIC8vIHNlbGVjdGVkIGZyb20gYWxsIGRhdGEgZmllbGRzIHRoYXQgaGF2ZW4ndCBhbHJlYWR5IGJlZW4gc2VsZWN0ZWQgZm9yIGFub3RoZXIgZm9ybSBmaWVsZFxuXG4gICAgICAgIC8vIFRoZSBhYm92ZSBhbGdvcml0aG0gY291bGQgbWF5YmUgYmUgdHdlYWtlZCBzbGlnaHRseSBpbiBvcmRlciB0byBhdXRvLWZpbGxcbiAgICAgICAgLy8gYSBcImNoYW5nZSBwYXNzd29yZFwiIGZvcm0gaWYgd2UgZXZlciBtYW5hZ2UgdG8gbWFrZSB0aGF0IGF1dG9tYXRlZFxuXG4gICAgICAgIC8vIChzY29yZSBpcyByZWR1Y2VkIGJ5IG9uZSBmb3IgZWFjaCBwb3NpdGlvbiB3ZSBmaW5kIGluIHRoZSBmb3JtIC0gdGhpcyBnaXZlc1xuICAgICAgICAvLyBhIHNsaWdodCBwcmlvcml0eSB0byBmaWVsZHMgYXQgdGhlIHRvcCBvZiBhIGZvcm0gd2hpY2ggY2FuIGJlIHVzZWZ1bCBvY2Nhc2lvbmFsbHkpXG5cbiAgICAgICAgZmllbGRTY29yZU1hdHJpeC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5zY29yZSAtIGEuc2NvcmU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlbWVtYmVyIHdoYXQgd2UndmUgZmlsbGVkIGluIHNvIHdlIGNhbiBtYWtlIG1vcmUgYWNjdXJhdGUgZGVjaXNpb25zIHdoZW5cbiAgICAgICAgLy8gdGhlIGZvcm0gaXMgc3VibWl0dGVkIGxhdGVyLiBXZSByZXNpc3QgdGhlIHVyZ2UgdGhlIGluZGV4IGJ5IGVsZW1lbnQgSUQgb3JcbiAgICAgICAgLy8gdGhlIERPTWVsZW1lbnQgaXRzZWxmIGJlY2F1c2Ugc29tZSB3ZWJzaXRlcyBkbyBub3Qgc3BlY2lmeSBhbiBJRCBhbmQgc29tZVxuICAgICAgICAvLyBtYXkgcmVtb3ZlIHRoZSBET01lbGVtZW50IGJlZm9yZSB3ZSBzdWJtaXQgdGhlIGZvcm0gKHNvbWV0aW1lcyB1bmRlciB1c2VyXG4gICAgICAgIC8vIGRpcmVjdGlvbiBidXQgb2NjYXNpb25hbGx5IGF1dG9tYXRpY2FsbHkgdG9vKVxuICAgICAgICBjb25zdCBmaWxsZWRGaWVsZHM6IEZpbGxlZEZpZWxkW10gPSBbXTtcblxuICAgICAgICAvLyBLZWVwIGZpbGxpbmcgaW4gZmllbGRzIHVudGlsIHdlIGZpbmQgbm8gbW9yZSB3aXRoIGEgcG9zaXRpdmUgc2NvcmVcbiAgICAgICAgd2hpbGUgKGZpZWxkU2NvcmVNYXRyaXgubGVuZ3RoID4gMCAmJiBmaWVsZFNjb3JlTWF0cml4WzBdLnNjb3JlID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZmZpID0gZmllbGRTY29yZU1hdHJpeFswXS5mb3JtRmllbGRJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGRmaSA9IGZpZWxkU2NvcmVNYXRyaXhbMF0uZGF0YUZpZWxkSW5kZXg7XG4gICAgICAgICAgICBjb25zdCBmb3JtRmllbGQgPSBmb3JtRmllbGRzW2ZmaV07XG4gICAgICAgICAgICBjb25zdCBkYXRhRmllbGQgPSBkYXRhRmllbGRzW2RmaV07XG4gICAgICAgICAgICBjb25zdCBkb21FbGVtZW50ID0gZm9ybUZpZWxkLkRPTWVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0Rm9ybUZpZWxkQ3VycmVudFZhbHVlKFxuICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLnR5cGVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBhdXRvbWF0ZWQgJiZcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgJiZcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgIT09IChkb21FbGVtZW50IGFzIGFueSkua2VlSW5pdGlhbERldGVjdGVkVmFsdWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgIFwiTm90IGZpbGxpbmcgZmllbGQgYmVjYXVzZSBpdCdzIG5vdCBlbXB0eSBhbmQgd2FzIGVkaXRlZCBieSB1c2VyIHNpbmNlIGxhc3QgbG9hZC9maWxsXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBhdXRvbWF0ZWQgJiZcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgJiZcbiAgICAgICAgICAgICAgICAhY29uZmlnTWFuYWdlci5jdXJyZW50LmF1dG9GaWxsRmllbGRzV2l0aEV4aXN0aW5nVmFsdWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgIFwiTm90IGZpbGxpbmcgZmllbGQgYmVjYXVzZSBpdCdzIG5vdCBlbXB0eSBhbmQgdXNlciBwcmVmZXJlbmNlIGlzIHRvIHByZXZlbnQgYXV0b21hdGljIGZpbGxcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgIFwiV2Ugd2lsbCBwb3B1bGF0ZSBmaWVsZCBcIiArIGZmaSArIFwiIChpZDpcIiArIGZvcm1GaWVsZC5maWVsZC5sb2NhdG9yc1swXS5pZCArIFwiKVwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxBU2luZ2xlRmllbGQoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZC5maWVsZC5sb2NhdG9yc1swXS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhRmllbGQudmFsdWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWxsZWRGaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IGZvcm1GaWVsZC5maWVsZC5sb2NhdG9yc1swXS5pZCxcbiAgICAgICAgICAgICAgICBET01lbGVtZW50OiBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IGZvcm1GaWVsZC5maWVsZC5sb2NhdG9yc1swXS5uYW1lLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkYXRhRmllbGQudmFsdWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmaWVsZFNjb3JlTWF0cml4ID0gZmllbGRTY29yZU1hdHJpeC5maWx0ZXIoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5kYXRhRmllbGRJbmRleCAhPSBkZmkgJiYgZWxlbWVudC5mb3JtRmllbGRJbmRleCAhPSBmZmk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZmllbGRTY29yZU1hdHJpeC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGIuc2NvcmUgLSBhLnNjb3JlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbGxlZEZpZWxkcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEZvcm1GaWVsZEN1cnJlbnRWYWx1ZShcbiAgICAgICAgZG9tRWxlbWVudDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50LFxuICAgICAgICBmaWVsZFR5cGU6IHN0cmluZ1xuICAgICkge1xuICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gZG9tRWxlbWVudC52YWx1ZTtcbiAgICAgICAgaWYgKGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGZpZWxkVHlwZSA9PT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICBpZiAoZG9tRWxlbWVudC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlID0gXCJLRUVGT1hfQ0hFQ0tFRF9GTEFHX1RSVUVcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlID0gXCJLRUVGT1hfQ0hFQ0tFRF9GTEFHX0ZBTFNFXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbGxBU2luZ2xlRmllbGQoXG4gICAgICAgIGRvbUVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudCxcbiAgICAgICAgZmllbGRUeXBlOiBzdHJpbmcsXG4gICAgICAgIHZhbHVlOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgaWYgKGZpZWxkVHlwZSA9PSBcInNlbGVjdC1vbmVcIikge1xuICAgICAgICAgICAgZG9tRWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGZpZWxkVHlwZSA9PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfVFJVRVwiKSBkb21FbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBkb21FbGVtZW50LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChkb21FbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiBmaWVsZFR5cGUgPT0gXCJyYWRpb1wiKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9tRWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9UT0RPOjQ6IEludmVzdGlnYXRlIGFuZCBkb2N1bWVudCB3aHkgd2UncmUgbm90IHVzaW5nIGRhdGEgYXR0cmlidXRlcyB0byBzdG9yZSB0aGlzIHN0cmluZyBpbiB0aGUgRE9NXG4gICAgICAgIChkb21FbGVtZW50IGFzIGFueSkua2VlSW5pdGlhbERldGVjdGVkVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBkb21FbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgVUlFdmVudChcImlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICB2aWV3OiB3aW5kb3csXG4gICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBkb21FbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgVUlFdmVudChcImNoYW5nZVwiLCB7XG4gICAgICAgICAgICAgICAgdmlldzogd2luZG93LFxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbGxNYW55Rm9ybUZpZWxkcyhcbiAgICAgICAgZm9ybUZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIGRhdGFGaWVsZHM6IEZpZWxkW10sXG4gICAgICAgIGN1cnJlbnRQYWdlLFxuICAgICAgICBzY29yZUNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICBhdXRvbWF0ZWQ6IGJvb2xlYW5cbiAgICApIHtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJfZmlsbE1hbnlGb3JtRmllbGRzIHN0YXJ0ZWRcIik7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZm9ybUZpZWxkcyA9PSBudWxsIHx8XG4gICAgICAgICAgICBmb3JtRmllbGRzID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgZGF0YUZpZWxkcyA9PSBudWxsIHx8XG4gICAgICAgICAgICBkYXRhRmllbGRzID09IHVuZGVmaW5lZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiV2UndmUgcmVjZWl2ZWQgdGhlIGRhdGEgd2UgbmVlZFwiKTtcblxuICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiRmlsbGluZyBmb3JtIGZpZWxkcyBmb3IgcGFnZSBcIiArIGN1cnJlbnRQYWdlKTtcblxuICAgICAgICAvLyB3ZSB0cnkgdG8gZmlsbCBldmVyeSBmb3JtIGZpZWxkLiBXZSB0cnkgdG8gbWF0Y2ggYnkgaWQgZmlyc3QgYW5kIHRoZW4gbmFtZSBiZWZvcmUganVzdCBndWVzc2luZy5cbiAgICAgICAgLy8gR2VuZXJhbGx5IHdlJ2xsIG9ubHkgZmlsbCBpZiB0aGUgbWF0Y2hlZCBmaWVsZCBpcyBvZiB0aGUgc2FtZSB0eXBlIGFzIHRoZSBmb3JtIGZpZWxkIGJ1dFxuICAgICAgICAvLyB3ZSBhcmUgZmxleGlibGUgUkUgdGV4dCBhbmQgdXNlcm5hbWUgZmllbGRzIGJlY2F1c2UgdGhhdCdzIGFuIGFydGlmaWNpYWwgZGlmZmVyZW5jZVxuICAgICAgICAvLyBmb3IgdGhlIHNha2Ugb2YgdGhlIEtlZSBwYXNzd29yZCBtYW5hZ2VtZW50IHNvZnR3YXJlLiBIb3dldmVyLCB1c2VybmFtZXMgd2lsbCBiZSBjaG9zZW4gYWJvdmVcbiAgICAgICAgLy8gdGV4dCBmaWVsZHMgaWYgYWxsIGVsc2UgaXMgZXF1YWxcbiAgICAgICAgY29uc3QgZmllbGRTY29yZU1hdHJpeCA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybUZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkYXRhRmllbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSB0aGlzLmNhbGN1bGF0ZUZpZWxkTWF0Y2hTY29yZShcbiAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUZpZWxkc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlQ29uZmlnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJTdWl0YWJpbGl0eSBvZiBwdXR0aW5nIGRhdGEgZmllbGQgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgaiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBpbnRvIGZvcm0gZmllbGQgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgaSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiAoaWQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZHNbaV0uZmllbGQubG9jYXRvcnNbMF0uaWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIpIGlzIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmaWVsZFNjb3JlTWF0cml4LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBzY29yZTogc2NvcmUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFGaWVsZEluZGV4OiBqLFxuICAgICAgICAgICAgICAgICAgICBmb3JtRmllbGRJbmRleDogaVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsbE1hdGNoZWRGaWVsZHMoZmllbGRTY29yZU1hdHJpeCwgZGF0YUZpZWxkcywgZm9ybUZpZWxkcywgYXV0b21hdGVkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRNYXRjaFJlc3VsdChiZWhhdmlvdXI6IEZpbmRNYXRjaGVzQmVoYXZpb3VyKSB7XG4gICAgICAgIC8vVE9ETzo0OiAjNiBjcmVhdGUgbmV3IG9iamVjdCBtaWdodCBjYXVzZSBpc3N1ZXMgd2l0aCBtdWx0aS1wYWdlIG9yIHN1Ym1pdCBiZWhhdmlvdXI/IGlmIG5vdCwgdGhpcyB3b3VsZCBiZSBuZWF0ZXI6XG4gICAgICAgIC8vIG1hdGNoUmVzdWx0ID0gbmV3IE1hdGNoUmVzdWx0KCk7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuVVVJRCA9IFwiXCI7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZW50cmllcyA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tdXN0QXV0b0ZpbGxGb3JtID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuY2Fubm90QXV0b0ZpbGxGb3JtID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubXVzdEF1dG9TdWJtaXRGb3JtID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuY2Fubm90QXV0b1N1Ym1pdEZvcm0gPSBmYWxzZTtcblxuICAgICAgICBpZiAoYmVoYXZpb3VyLlVVSUQgIT0gdW5kZWZpbmVkICYmIGJlaGF2aW91ci5VVUlEICE9IG51bGwgJiYgYmVoYXZpb3VyLlVVSUQgIT0gXCJcIikge1xuICAgICAgICAgICAgLy8gS2VlcCBhIHJlY29yZCBvZiB0aGUgc3BlY2lmaWMgZW50cnkgd2UgYXJlIGdvaW5nIHRvIHNlYXJjaCBmb3IgKHdlIGRlbGV0ZVxuICAgICAgICAgICAgLy8gdGhlIHRhYnN0YXRlIGJlbG93IGFuZCByZS1jcmVhdGUgaXQgZHVyaW5nIGZvcm0gZmlsbClcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuVVVJRCA9IGJlaGF2aW91ci5VVUlEO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5kYkZpbGVOYW1lID0gYmVoYXZpb3VyLmRiRmlsZU5hbWU7XG5cbiAgICAgICAgICAgIC8vIHdlIHdhbnQgdG8gZmlsbCB0aGUgZm9ybSB3aXRoIHRoaXMgZGF0YVxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tdXN0QXV0b0ZpbGxGb3JtID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5tdXN0QXV0b1N1Ym1pdEZvcm0pIHRoaXMubWF0Y2hSZXN1bHQubXVzdEF1dG9TdWJtaXRGb3JtID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZG9jID0gd2luZG93LmRvY3VtZW50O1xuXG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZm9ybVJlYWR5Rm9yU3VibWl0ID0gZmFsc2U7IC8vIHRyYWNrcyB3aGV0aGVyIHdlIGFjdHVhbGx5IGF1dG8tZmlsbCBvbiB0aGlzIHBhZ2VcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5hdXRvZmlsbE9uU3VjY2VzcyA9IGJlaGF2aW91ci5hdXRvZmlsbE9uU3VjY2VzcztcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5hdXRvc3VibWl0T25TdWNjZXNzID0gYmVoYXZpb3VyLmF1dG9zdWJtaXRPblN1Y2Nlc3M7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubm90aWZ5VXNlck9uU3VjY2VzcyA9IGJlaGF2aW91ci5ub3RpZnlVc2VyT25TdWNjZXNzO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LndyYXBwZXJzID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuYWxsTWF0Y2hpbmdMb2dpbnMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuc3VibWl0VGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnVzZXJuYW1lSW5kZXhBcnJheSA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5vdGhlckZpZWxkc0FycmF5ID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQucmVxdWVzdENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5yZXNwb25zZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5yZXF1ZXN0SWRzID0gW107IC8vIHRoZSBKU09OUlBDIHJlcXVlc3QgSWRzIHRoYXQgcmVmZXJlbmNlIHRoaXMgbWF0Y2hSZXN1bHQgb2JqZWN0ICh0byBhbGxvdyBkZWxldGlvbiBhZnRlciBhc3luYyBjYWxsYmFjayBwcm9jZXNzaW5nKVxuICAgIH1cblxuICAgIC8qIEV4cGVjdHMgdGhpcyBkYXRhIG9iamVjdDpcbiAgICB7XG4gICAgICAgIGF1dG9maWxsT25TdWNjZXNzOiB0cnVlLCAvLyBUaGlzIHdvbid0IG92ZXJyaWRlIG90aGVyIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBpZiB0cnVlIGJ1dCBpZiBmYWxzZSBpdCB3aWxsLlxuICAgICAgICBhdXRvc3VibWl0T25TdWNjZXNzOiB0cnVlLCAvLyBUaGlzIHdvbid0IG92ZXJyaWRlIG90aGVyIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBpZiB0cnVlIGJ1dCBpZiBmYWxzZSBpdCB3aWxsLlxuICAgICAgICBub3RpZnlVc2VyT25TdWNjZXNzOiB0cnVlLCAvLyBlLmcuIHVzZWQgd2hlbiBwZXJpb2RpYyBmb3JtIHBvbGxpbmcgZmluZHMgYSBmb3JtIGFmdGVyIHRoZSBwYWdlIGhhcyBsb2FkZWQuXG4gICAgICAgIC4uLiBvdGhlcnNcbiAgICB9XG4gICAgKi9cbiAgICBwdWJsaWMgZmluZE1hdGNoZXNJblRoaXNGcmFtZShiZWhhdmlvdXI6IEZpbmRNYXRjaGVzQmVoYXZpb3VyID0ge30pIHtcbiAgICAgICAgdGhpcy5zZW1hbnRpY1doaXRlbGlzdENhY2hlID0ge307XG4gICAgICAgIHRoaXMuc2VtYW50aWNCbGFja2xpc3RDYWNoZSA9IHt9O1xuXG4gICAgICAgIC8vIFdoZXRoZXIgb3Igbm90IHRoaXMgd2FzIGludm9rZWQgYXMgYSByZXN1bHQgb2YgYSBET00gbXV0YXRpb24sIHdlIHdvbid0IG5lZWQgdGhlIHRpbWVyIHRvIGZpcmUgYW55bW9yZVxuICAgICAgICBpZiAodGhpcy5mb3JtRmluZGVyVGltZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZvcm1GaW5kZXJUaW1lcik7XG4gICAgICAgICAgICB0aGlzLmZvcm1GaW5kZXJUaW1lciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2luZG93LmRvY3VtZW50LmZvcm1zLmxlbmd0aCA+IDUwKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICBcIlRvbyBtYW55IGZvcm1zIG9uIHRoaXMgcGFnZS4gQXNzdW1pbmcgaXQgaXMgbm90IGEgbG9naW4gcGFnZVwiICtcbiAgICAgICAgICAgICAgICAgICAgXCIgYW5kIGF2b2lkaW5nIGxvb2tpbmcgZm9yIGxvZ2luIGZvcm1zIGluIG9yZGVyIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGltcGFjdC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbid0IGFwcGVuZCB0byBhIEhUTUxDb2xsZWN0aW9uIGJ1dCBhbGwgd2UgcmVhbGx5IHVzZSBpdCBmb3IgaXMgaXRlcmF0aW9uXG4gICAgICAgIC8vIGFuZCBsZW5ndGggc28gY29udmVydGluZyB0byBhbiBhcnJheSBzb21ldGltZXMgd2lsbCBjYXVzZSBubyBpc3N1ZXNcbiAgICAgICAgbGV0IGZvcm1zID0gbmV3IEFycmF5PEhUTUxGb3JtRWxlbWVudD4oKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aW5kb3cuZG9jdW1lbnQuZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvcm1zLnB1c2god2luZG93LmRvY3VtZW50LmZvcm1zLml0ZW0oaSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yY2luZyBhIHNjYW4gZm9yIG9ycGhhbmVkIGZpZWxkcyBvbiBhbGwgcGFnZXMuIE1heSBuZWVkIHRvIGNoYW5nZVxuICAgICAgICAvLyB0aGlzIGlmIHJlYWwgd29ybGQgcGVyZm9ybWFuY2UgaXMgdG9vIHNsb3cuXG4gICAgICAgIGNvbnN0IHBzZXVkb0Zvcm0gPSB0aGlzLnNjYW5Gb3JPcnBoYW5lZEZpZWxkcyh3aW5kb3cuZG9jdW1lbnQpO1xuICAgICAgICBpZiAocHNldWRvRm9ybSkge1xuICAgICAgICAgICAgZm9ybXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmb3Jtcyk7XG4gICAgICAgICAgICBmb3Jtcy5wdXNoKHBzZXVkb0Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3JtcyB8fCBmb3Jtcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIk5vIGZvcm1zIGZvdW5kIG9uIHRoaXMgcGFnZS5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5kb2N1bWVudC5VUkwpO1xuICAgICAgICB1cmwuaG9zdG5hbWUgPSBwdW55Y29kZS50b1VuaWNvZGUodXJsLmhvc3RuYW1lKTtcblxuICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFxuICAgICAgICAgICAgXCJGaW5kaW5nIG1hdGNoZXMgaW4gYSBkb2N1bWVudC4gcmVhZHlTdGF0ZTogXCIgKyB3aW5kb3cuZG9jdW1lbnQucmVhZHlTdGF0ZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaW5pdE1hdGNoUmVzdWx0KGJlaGF2aW91cik7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuZm9ybXMgPSBmb3JtcztcblxuICAgICAgICBjb25zdCBjb25mID0gY29uZmlnTWFuYWdlci5zaXRlQ29uZmlnRm9yKHVybC5ocmVmKTtcblxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImZpbmRNYXRjaGVzIHByb2Nlc3NpbmcgXCIgKyBmb3Jtcy5sZW5ndGggKyBcIiBmb3Jtc1wiKTtcblxuICAgICAgICBsZXQgc2VhcmNoU2VudFRvS2VlUGFzcyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEZvciBldmVyeSBmb3JtLCBpbmNsdWRpbmcgYW55IHBzZXVkbyBmb3JtcyB3ZSBjcmVhdGVkIGVhcmxpZXJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZm9ybSA9IGZvcm1zW2ldO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzW2ldID0gW107XG5cbiAgICAgICAgICAgIC8vIHRoZSBvdmVyYWxsIHJlbGV2YW5jZSBvZiB0aGlzIGZvcm0gaXMgdGhlIG1heGltdW0gb2YgaXQnc1xuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgZW50cmllcyAoc28gd2UgZmlsbCB0aGUgbW9zdCByZWxldmFudCBmb3JtKVxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzW2ldID0gMDtcblxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJhYm91dCB0byBnZXQgZm9ybSBmaWVsZHNcIik7XG4gICAgICAgICAgICBsZXQgc2NhblJlc3VsdDoge1xuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXTtcbiAgICAgICAgICAgICAgICBhY3R1YWxVc2VybmFtZUluZGV4PzogbnVtYmVyO1xuICAgICAgICAgICAgICAgIHB3RmllbGRzPzogTWF0Y2hlZEZpZWxkW107XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzY2FuUmVzdWx0ID0gdGhpcy5mb3JtVXRpbHMuZ2V0Rm9ybUZpZWxkcyhmb3JtLCBmYWxzZSwgNTApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTG9zdCBpbnRlcmVzdCBpbiB0aGlzIGZvcm0gYWZ0ZXIgZmluZGluZyB0b28gbWFueSBmaWVsZHNcIiArIGUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcm5hbWVJbmRleCA9IHNjYW5SZXN1bHQuYWN0dWFsVXNlcm5hbWVJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkRmllbGRzID0gc2NhblJlc3VsdC5wd0ZpZWxkcztcbiAgICAgICAgICAgIGNvbnN0IG90aGVyRmllbGRzID0gc2NhblJlc3VsdC5vdGhlckZpZWxkcztcblxuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBmaWxsIGluIHRoaXMgZm9ybSBpZiB3ZSBmaW5kIGEgcGFzc3dvcmQgZmllbGQgYnV0IGZpcnN0XG4gICAgICAgICAgICAvLyB3ZSBjaGVjayB3aGV0aGVyIGFueSB3aGl0ZWxpc3Qgb3IgYmxhY2tsaXN0IGVudHJpZXMgbXVzdCBvdmVycmlkZSB0aGF0IGJlaGF2aW91clxuICAgICAgICAgICAgbGV0IGludGVyZXN0aW5nRm9ybTogYm9vbGVhbiA9IG51bGw7XG5cbiAgICAgICAgICAgIGludGVyZXN0aW5nRm9ybSA9IGNvbmZpZ01hbmFnZXIuaXNGb3JtSW50ZXJlc3RpbmcoXG4gICAgICAgICAgICAgICAgZm9ybSxcbiAgICAgICAgICAgICAgICBjb25mLFxuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzLm1hcChmID0+IGYuZmllbGQpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoaW50ZXJlc3RpbmdGb3JtID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIkxvc3QgaW50ZXJlc3QgaW4gdGhpcyBmb3JtIGFmdGVyIGluc3BlY3RpbmcgZmllbGQgbmFtZXMgYW5kIElEc1wiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgbm9QYXNzd29yZEZpZWxkID1cbiAgICAgICAgICAgICAgICBwYXNzd29yZEZpZWxkcyA9PSBudWxsIHx8IHBhc3N3b3JkRmllbGRzLmxlbmd0aCA8PSAwIHx8IHBhc3N3b3JkRmllbGRzWzBdID09IG51bGw7XG4gICAgICAgICAgICBjb25zdCBub090aGVyRmllbGQgPVxuICAgICAgICAgICAgICAgIHVzZXJuYW1lSW5kZXggPCAwIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHMgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzLmxlbmd0aCA8PSAwIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHNbdXNlcm5hbWVJbmRleF0gPT0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKG5vUGFzc3dvcmRGaWVsZCAmJiAobm9PdGhlckZpZWxkIHx8IGludGVyZXN0aW5nRm9ybSAhPT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJObyBwYXNzd29yZCBmaWVsZCBmb3VuZCBpbiB0aGlzIGZvcm0gYW5kIGVpdGhlciB0aGVyZSBhcmUgbm8gb3RoZXJcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBmaWVsZHMgb3Igbm8gd2hpdGVsaXN0ZWQgdGV4dCBmaWVsZCBvciBmb3JtIGVsZW1lbnRcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzdWJtaXRUYXJnZXROZWlnaGJvdXI6IEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKG5vUGFzc3dvcmRGaWVsZCkge1xuICAgICAgICAgICAgICAgIHN1Ym1pdFRhcmdldE5laWdoYm91ciA9IG90aGVyRmllbGRzW3VzZXJuYW1lSW5kZXhdLkRPTWVsZW1lbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1Ym1pdFRhcmdldE5laWdoYm91ciA9IHBhc3N3b3JkRmllbGRzWzBdLkRPTWVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYXR0YWNoU3VibWl0SGFuZGxlcnMoZm9ybSwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyLCBpKTtcblxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC51c2VybmFtZUluZGV4QXJyYXlbaV0gPSB1c2VybmFtZUluZGV4O1xuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5wYXNzd29yZEZpZWxkc0FycmF5W2ldID0gcGFzc3dvcmRGaWVsZHM7XG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXlbaV0gPSBvdGhlckZpZWxkcztcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQuc3VibWl0VGFyZ2V0c1tpXSA9IHN1Ym1pdFRhcmdldE5laWdoYm91cjtcblxuICAgICAgICAgICAgLy8gVGhlIGVudHJpZXMgcmV0dXJuZWQgZnJvbSBLZWVQYXNzIGZvciBldmVyeSBmb3JtIHdpbGwgYmUgaWRlbnRpY2FsIChiYXNlZCBvbiB0YWIvZnJhbWUgVVJMKVxuICAgICAgICAgICAgaWYgKCFzZWFyY2hTZW50VG9LZWVQYXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kTG9naW5PcC5mb3JtcyA9IGZvcm1zO1xuICAgICAgICAgICAgICAgIHRoaXMuZmluZExvZ2luT3AuZm9ybUluZGV4ZXMgPSBbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kTG9naW5PcC53cmFwcGVkQnkgPSB0aGlzLm1hdGNoUmVzdWx0O1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQud3JhcHBlcnNbaV0gPSB0aGlzLmZpbmRMb2dpbk9wO1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQucmVxdWVzdENvdW50Kys7XG5cbiAgICAgICAgICAgICAgICAvLyBTZWFyY2ggZm9yIG1hdGNoaW5nIGVudHJpZXMgZm9yIHRoZSByZWxldmFudCBVUkwuIFRoaXMgcmVxdWVzdCBpcyBhc3luY2hyb25vdXMuXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaEZpbmRlcih1cmwuaHJlZik7XG4gICAgICAgICAgICAgICAgc2VhcmNoU2VudFRvS2VlUGFzcyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZm9ybVtcIiArIGkgKyBcIl06IHJldXNpbmcgZW50cmllcyBmcm9tIGxhc3QgZm9ybS5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kTG9naW5PcC5mb3JtSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IC8vIGVuZCBvZiBmb3JtIGZvciBsb29wXG4gICAgfVxuXG4gICAgLy8gSXQncyBPSyBmb3IgdGhpcyB0byB0YWtlIGEgZmV3IHNlY29uZHMgLSBodW1hbnMgY2FuJ3QgdHlwZSB0aGF0IGZhc3QuXG4gICAgLy8gQnkgbWFraW5nIHRoaXMgYXN5bmMgd2UgYWxsb3cgdGhlIHNlYXJjaCBmb3IgZW50cmllcyB0byBiZWdpbiBlYXJsaWVyXG4gICAgLy8gYW5kIHJlZHVjZSBwZXJjZWl2ZWQgaW1wYWN0IG9uIHBhZ2UgbG9hZCB0aW1lXG4gICAgcHJpdmF0ZSBhc3luYyBhdHRhY2hTdWJtaXRIYW5kbGVycyhcbiAgICAgICAgZm9ybTogSFRNTEZvcm1FbGVtZW50LFxuICAgICAgICBzdWJtaXRUYXJnZXROZWlnaGJvdXI6IEhUTUxFbGVtZW50LFxuICAgICAgICBmb3JtTnVtYmVyOiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHN1Ym1pdFRhcmdldCA9IHRoaXMuZmluZFN1Ym1pdEJ1dHRvbihmb3JtLCBzdWJtaXRUYXJnZXROZWlnaGJvdXIpO1xuICAgICAgICAgICAgdGhpcy5mb3JtU2F2aW5nLmFkZFN1Ym1pdEhhbmRsZXIoc3VibWl0VGFyZ2V0LCBmb3JtKTtcbiAgICAgICAgICAgIEtlZUxvZy5pbmZvKFxuICAgICAgICAgICAgICAgIFwiU3VibWl0IGhhbmRsZXJzIGF0dGFjaGVkIGFzeW5jaHJvbm91c2x5IHRvIGZvcm0gXCIgK1xuICAgICAgICAgICAgICAgICAgICBmb3JtTnVtYmVyICtcbiAgICAgICAgICAgICAgICAgICAgXCIgaW4gXCIgK1xuICAgICAgICAgICAgICAgICAgICAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkgK1xuICAgICAgICAgICAgICAgICAgICBcIm1zXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIEtlZUxvZy53YXJuKFwiRXhjZXB0aW9uIHdoaWxlIGFkZGluZyBzdWJtaXQgaGFuZGxlci4gTWVzc2FnZTogXCIgKyBlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzY2FuRm9yT3JwaGFuZWRGaWVsZHMoZG9jKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgY29uc3Qgb3JwaGFuZWRGaWVsZHMgPSBbXTtcbiAgICAgICAgbGV0IHBzZXVkb0Zvcm0gPSBudWxsO1xuXG4gICAgICAgIC8vIG11Y2ggZmFzdGVyIHRoYW4gcXVlcnlTZWxlY3RvckFsbFxuICAgICAgICBjb25zdCBpdGVtcyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiBpdGVtcykge1xuICAgICAgICAgICAgaWYgKCF0YWcuZm9ybSkgb3JwaGFuZWRGaWVsZHMucHVzaCh0YWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9ycGhhbmVkRmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHBzZXVkb0Zvcm0gPSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHM6IG9ycGhhbmVkRmllbGRzLFxuICAgICAgICAgICAgICAgIGlkOiBcIktlZS1wc2V1ZG8tZm9ybVwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiS2VlLXBzZXVkby1mb3JtXCIsXG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudDogZG9jLFxuICAgICAgICAgICAgICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzO1xuICAgICAgICAgICAgICAgIH0sIC8vIE9ubHkgdXNlIGlzIGZvciBsaXN0aW5nIGlucHV0IGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfSwgLy8gT25seSB1c2UgaXMgZm9yIGxpc3RpbmcgYnV0dG9uIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9LCAvLyBOb3QgcG9zc2libGUgdG8gc3VibWl0IGEgcHNldWRvIGZvcm0gdW5sZXNzIGEgYnV0dG9uIHdpdGggY3VzdG9tIEpTIGhhcyBhbHJlYWR5IGJlZW4gZm91bmRcbiAgICAgICAgICAgICAgICBvZmZzZXRQYXJlbnQ6IHRydWUsIC8vIFRoaXMgdHJpY2tzIGVsZW1lbnQgdmlzaWJpbGl0eSBjaGVja3MgaW50byB0cmVhdGluZyB0aGlzIGFzIHZpc2libGUgdG8gdGhlIHVzZXJcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9LCAvL1RPRE86NDogaG9vayB1cCB0byB0aGUgc3VibWl0IGZ1bmN0aW9uIHRvIHNpbXVsYXRlIHJlYWwgZm9ybSBzdWJtaXNzaW9uXG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRuID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwic2NhbkZvck9ycGhhbmVkRmllbGRzIHRvb2s6IFwiICsgKHRuIC0gdCkpO1xuXG4gICAgICAgIHJldHVybiBwc2V1ZG9Gb3JtO1xuICAgIH1cblxuICAgIHB1YmxpYyBmaW5kTG9naW5zUmVzdWx0SGFuZGxlcihlbnRyaWVzOiBFbnRyeVtdKSB7XG4gICAgICAgIGlmICghZW50cmllcykgcmV0dXJuO1xuICAgICAgICBjb25zdCB2YWxpZEVudHJpZXMgPSBlbnRyaWVzLmZpbHRlcihcbiAgICAgICAgICAgIGUgPT4gRW50cnkuZ2V0VXNlcm5hbWVGaWVsZChlKSB8fCBFbnRyeS5nZXRQYXNzd29yZEZpZWxkKGUpXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdCA9IHRoaXMuZ2V0UmVsZXZhbmNlT2ZMb2dpbk1hdGNoZXNBZ2FpbnN0QWxsRm9ybXMoXG4gICAgICAgICAgICB2YWxpZEVudHJpZXMsXG4gICAgICAgICAgICB0aGlzLmZpbmRMb2dpbk9wLFxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuZmlsbEFuZFN1Ym1pdCh0cnVlKTtcbiAgICB9XG5cbiAgICBnZXRSZWxldmFuY2VPZkxvZ2luTWF0Y2hlc0FnYWluc3RBbGxGb3JtcyhcbiAgICAgICAgZW50cmllczogRW50cnlbXSxcbiAgICAgICAgZmluZExvZ2luT3AsXG4gICAgICAgIG1hdGNoUmVzdWx0OiBNYXRjaFJlc3VsdFxuICAgICkge1xuICAgICAgICBjb25zdCBjclN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGVudHJpZXMpO1xuICAgICAgICBsZXQgZmlyc3RNYXRjaFByb2Nlc3NlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmluZExvZ2luT3AuZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFNraXAgYW55IGZvcm0gdGhhdCB3ZSBkb24ndCB3YW50IHRvIG1hdGNoIGFnYWluc3QgdGhpcyBzZXQgb2YgZW50cmllc1xuICAgICAgICAgICAgaWYgKGZpbmRMb2dpbk9wLmZvcm1JbmRleGVzLmluZGV4T2YoaSkgPT0gLTEpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIGZvcm0sIHdlIGhhdmUgdG8gd29yayB3aXRoIGNsb25lcyBvZiB0aGUgZW50cnkgc29cbiAgICAgICAgICAgIC8vIHRoYXQgd2UgY2FuIG1hbmlwdWxhdGUgdGhlIHJlbGV2YW5jeSBzY29yZXMsIGV0Yy4gaW5kZXBlbmRlbnRseSBmb3IgZWFjaFxuICAgICAgICAgICAgLy8gZm9ybSBhbmQgZW50cnkgY29tYmluYXRpb24uIFdlIGNvdWxkIGJlIG1vcmUgZWZmaWNpZW50IGZvciB0aGUgY29tbW9uIGNhc2Ugb2YgMSBmb3JtXG4gICAgICAgICAgICAvLyBieSBhdm9pZGluZyB0aGUgY2xvbmUgdGhlbiBidXQga2VlcGluZyB0aGUgc2FtZSBiZWhhdmlvdXIgZ2l2ZXMgdXMgYSBoaWdoZXIgY2hhbmNlXG4gICAgICAgICAgICAvLyBvZiBub3RpY2luZyBidWdzLlxuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXSA9IEpTT04ucGFyc2UoY3JTdHJpbmcpOyAvL1RPRE86NDogZmFzdGVyIGNsb25lPyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9BUEkvRE9NL1RoZV9zdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSA/XG5cbiAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaWYgd2UgaGF2ZSBubyBtYXRjaGluZyBlbnRyaWVzIGF2YWlsYWJsZS5cbiAgICAgICAgICAgIGlmIChtYXRjaFJlc3VsdC5lbnRyaWVzW2ldLmxlbmd0aCA9PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIm1hdGNoIGZvdW5kIVwiKTtcblxuICAgICAgICAgICAgY29uc3QgZm9ybVZpc2libGUgPSB0aGlzLmZvcm1VdGlscy5pc0RPTUVsZW1lbnRWaXNpYmxlKG1hdGNoUmVzdWx0LnN1Ym1pdFRhcmdldHNbaV0pO1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJmb3JtVmlzaWJsZTogXCIgKyBmb3JtVmlzaWJsZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHZpc2libGVGaWVsZENhY2hlID0ge1xuICAgICAgICAgICAgICAgIG90aGVyOiBtYXRjaFJlc3VsdC5vdGhlckZpZWxkc0FycmF5W2ldLm1hcChmID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUoZi5ET01lbGVtZW50KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IG1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXlbaV0ubWFwKGYgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtVXRpbHMuaXNET01FbGVtZW50VmlzaWJsZShmLkRPTWVsZW1lbnQpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSByZWxldmFuY2Ugb2YgZWFjaCBlbnRyeSB0byB0aGlzIGZvcm1cbiAgICAgICAgICAgIC8vIHdlIGNvdWxkIHNraXAgdGhpcyB3aGVuIGF1dG9maWxsaW5nIGJhc2VkIG9uIHV1aWQgYnV0IHdlIHdvdWxkIGhhdmUgdG8gY2hlY2sgZm9yXG4gICAgICAgICAgICAvLyBtYXRjaGVzIGZpcnN0IG9yIGVsc2Ugd2UgcmlzayBubyBtYXRjaCBhbmQgbm8gYWx0ZXJuYXRpdmUgbWF0Y2hpbmcgZW50cmllcyBvbiB0aGUgbWFpblVJXG4gICAgICAgICAgICAvLyBhbmQgd2UgYWxzbyBub3cgY29uc2lkZXIgdGhlIHRvdGFsaXR5IG9mIHBvc3NpYmxlIG1hdGNoZXMgYWdhaW5zdCBhIGZpZWxkIGluIG9yZGVyXG4gICAgICAgICAgICAvLyB0byBsaW1pdCB3aGljaCBmaWVsZHMgd2Ugc2hvdmUgYSBLZWUgaWNvbiBpbnRvLlxuICAgICAgICAgICAgZm9yIChsZXQgdiA9IDA7IHYgPCBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldLmxlbmd0aDsgdisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBzdG9yZS5LZWVQYXNzRGF0YWJhc2VzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgIGRiID0+IGRiLmZpbGVOYW1lID09PSBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLmRhdGFiYXNlLmZpbGVOYW1lXG4gICAgICAgICAgICAgICAgKS5zZXNzaW9uRmVhdHVyZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRNYXRjaFNjb3JlQ29uZmlnOiBGaWVsZE1hdGNoU2NvcmVDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIHB1bmlzaFdyb25nSURBbmROYW1lOlxuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMuaW5kZXhPZihcIktQUlBDX0ZJRUxEX0RFRkFVTFRfTkFNRV9BTkRfSURfRU1QVFlcIikgPj0gMFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY29yZSwgbG93RmllbGRNYXRjaFJhdGlvIH0gPSB0aGlzLmNhbGN1bGF0ZVJlbGV2YW5jZVNjb3JlKFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5wYXNzd29yZEZpZWxkc0FycmF5W2ldLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5vdGhlckZpZWxkc0FycmF5W2ldLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgZm9ybVZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkTWF0Y2hTY29yZUNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUZpZWxkQ2FjaGVcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hvb3NpbmcgYmVzdCBmb3JtIHNob3VsZCBub3QgYmUgYWZmZWN0ZWQgYnkgbG93RmllbGRNYXRjaFJhdGlvIGVudHJ5IHNjb3JlXG4gICAgICAgICAgICAgICAgLy8gYnV0IHdoZW4gd2UgY29tZSB0byBmaWxsIHRoZSBmb3JtIHdlIGNhbiBmb3JjZSBvdXJzZWx2ZXMgaW50byBhIG5vLWF1dG8tZmlsbCBiZWhhdmlvdXIuXG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5yZWxldmFuY2VTY29yZSA9IHNjb3JlO1xuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0ubG93RmllbGRNYXRjaFJhdGlvID0gbG93RmllbGRNYXRjaFJhdGlvO1xuXG4gICAgICAgICAgICAgICAgLy8gYWxzbyBzZXQgdGhlIGZvcm0gaW5kZXggYW5kIGVudHJ5IGluZGV4IG9uIHRoZSBpbnRlcm5hbCBlbnRyeSBvYmplY3Qgc29cbiAgICAgICAgICAgICAgICAvLyBpdCB3aWxsIHBlcnNpc3Qgd2hlbiBsYXRlciBwYXNzZWQgdG8gdGhlIFVJIGFuZCB3ZSBjYW4gdWx0aW1hdGVseVxuICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIHNhbWUgZW50cnkgb2JqZWN0IHdoZW4gcHJvY2Vzc2luZyBhIG1hdGNoZWQgZW50cnlcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLmZvcm1JbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5lbnRyeUluZGV4ID0gdjtcblxuICAgICAgICAgICAgICAgIC8vIFJlbWVtYmVyIHRoZSBiZXN0IGZvcm0gZm9yIGVhY2ggZW50cnlcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICFmaXJzdE1hdGNoUHJvY2Vzc2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0ucmVsZXZhbmNlU2NvcmUgPlxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuYWxsTWF0Y2hpbmdMb2dpbnNbdl0ucmVsZXZhbmNlU2NvcmVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkhpZ2hlciByZWxldmFuY2Ugc2NvcmUgZm91bmQgZm9yIGVudHJ5IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiB3aXRoIGZvcm1JbmRleCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5mb3JtSW5kZXggK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIChcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZExvZ2luT3AuZm9ybXNbaV0uaWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKVwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmFsbE1hdGNoaW5nTG9naW5zW3ZdID0gbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaXJzdE1hdGNoUHJvY2Vzc2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gRmluZCB0aGUgYmVzdCBlbnRyeSBmb3IgdGhpcyBmb3JtXG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYy5yZWxldmFuY2VTY29yZSA+IG1hdGNoUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZm9ybVJlbGV2YW5jZVNjb3Jlc1tpXSA9IGMucmVsZXZhbmNlU2NvcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgIFwiUmVsZXZhbmNlIG9mIGZvcm0gXCIgK1xuICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgXCIgKFwiICtcbiAgICAgICAgICAgICAgICAgICAgZmluZExvZ2luT3AuZm9ybXNbaV0uaWQgK1xuICAgICAgICAgICAgICAgICAgICBcIikgaXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzW2ldXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaFJlc3VsdDtcbiAgICB9XG5cbiAgICBnZXRNb3N0UmVsZXZhbnRGb3JtKGZvcm1JbmRleD86IG51bWJlcikge1xuICAgICAgICBjb25zdCBmaW5kTWF0Y2hlc1Jlc3VsdCA9IHRoaXMubWF0Y2hSZXN1bHQ7XG5cbiAgICAgICAgLy8gVGhlcmUgbWF5IGJlIG5vIHJlc3VsdHMgZm9yIHRoaXMgZnJhbWUgKGUuZy4gbm8gZm9ybXMgZm91bmQsIHNlYXJjaCBmYWlsZWQsIGV0Yy4pXG4gICAgICAgIGlmICghZmluZE1hdGNoZXNSZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYmVzdEZvcm1JbmRleDogMCxcbiAgICAgICAgICAgICAgICBiZXN0UmVsZXZhbmNlU2NvcmU6IDAsXG4gICAgICAgICAgICAgICAgYmVzdEZpbmRNYXRjaGVzUmVzdWx0OiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gMDtcblxuICAgICAgICBpZiAoZm9ybUluZGV4ID49IDApIG1vc3RSZWxldmFudEZvcm1JbmRleCA9IGZvcm1JbmRleDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaW5kTWF0Y2hlc1Jlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzLmZvckVhY2goKGMsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJSZWxldmFuY2Ugb2YgZm9ybSBpcyBcIiArIGMpO1xuICAgICAgICAgICAgICAgIGlmIChjID4gZmluZE1hdGNoZXNSZXN1bHQuZm9ybVJlbGV2YW5jZVNjb3Jlc1ttb3N0UmVsZXZhbnRGb3JtSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vc3RSZWxldmFudEZvcm1JbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJUaGUgbW9zdCByZWxldmFudCBmb3JtIGlzICNcIiArIG1vc3RSZWxldmFudEZvcm1JbmRleCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiZXN0Rm9ybUluZGV4OiBtb3N0UmVsZXZhbnRGb3JtSW5kZXgsXG4gICAgICAgICAgICBiZXN0UmVsZXZhbmNlU2NvcmU6IGZpbmRNYXRjaGVzUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXNbbW9zdFJlbGV2YW50Rm9ybUluZGV4XSxcbiAgICAgICAgICAgIGJlc3RGaW5kTWF0Y2hlc1Jlc3VsdDogZmluZE1hdGNoZXNSZXN1bHRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBhdXRvbWF0ZWQgY291bGQgYmUgb24gcGFnZSBsb2FkIG9yIHJlc3VsdGluZyBmcm9tIG90aGVyIG5vbi11c2VyLWludGVyYWN0aW9uLlxuICAgIC8vIEl0J3MgcG9zc2libGUgdG8gZmlsbCBhbmQgc3VibWl0IGEgZW50cnkgd2l0aCBhIHNwZWNpZmljIHV1aWQgYnV0XG4gICAgLy8gdGhhdCBwcm9jZXNzIGlzIG5vdyBjZW50ZXJlZCBvbiB0aGUgZmluZE1hdGNoZXMgZnVuY3Rpb24uIFRoaXMgZnVuY3Rpb24ganVzdFxuICAgIC8vIHRha2VzIHRoZSByZXN1bHRzIG9mIHRoYXQgKHdoaWNoIG1heSBpbmNsdWRlIGEgc3BlY2lmaWMgZW50cnkgdG8gZmlsbCBhbmQgc3VibWl0IHRvIGEgc3BlY2lmaWMgZm9ybSlcbiAgICBmaWxsQW5kU3VibWl0KGF1dG9tYXRlZDogYm9vbGVhbiwgZm9ybUluZGV4PzogbnVtYmVyLCBlbnRyeUluZGV4PzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgXCJmaWxsQW5kU3VibWl0IHN0YXJ0ZWQuIGF1dG9tYXRlZDogXCIgK1xuICAgICAgICAgICAgICAgIGF1dG9tYXRlZCArXG4gICAgICAgICAgICAgICAgXCIsIGZvcm1JbmRleDogXCIgK1xuICAgICAgICAgICAgICAgIGZvcm1JbmRleCArXG4gICAgICAgICAgICAgICAgXCIsIGVudHJ5SW5kZXg6IFwiICtcbiAgICAgICAgICAgICAgICBlbnRyeUluZGV4XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgbWF0Y2hSZXN1bHQgPSB0aGlzLm1hdGNoUmVzdWx0O1xuICAgICAgICBsZXQgc3VibWl0VGFyZ2V0TmVpZ2hib3VyO1xuXG4gICAgICAgIC8vIEdpdmUgdXAgaWYgd2UgaGF2ZSBubyByZXN1bHRzIGZvciB0aGlzIGZyYW1lIChpLmUuIHRoZXJlIHdlcmUgbm8gZm9ybXMgdG8gZmlsbClcbiAgICAgICAgaWYgKCFtYXRjaFJlc3VsdCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFdlIGRvIHNvbWUgdGhpbmdzIGRpZmZlcmVudGx5IGlmIHdlJ3JlIGJlaW5nIG1hbnVhbGx5IGFza2VkIHRvIGZpbGwgYW5kXG4gICAgICAgIC8vIHN1Ym1pdCBhIHNwZWNpZmljIG1hdGNoZWQgZW50cnlcbiAgICAgICAgY29uc3QgaXNNYXRjaGVkTG9naW5SZXF1ZXN0ID1cbiAgICAgICAgICAgICFhdXRvbWF0ZWQgJiZcbiAgICAgICAgICAgICgobWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID49IDApIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIGZvcm1JbmRleCAhPSBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgdHlwZW9mIGVudHJ5SW5kZXggIT0gXCJ1bmRlZmluZWRcIjtcblxuICAgICAgICBpZiAoIWlzTWF0Y2hlZExvZ2luUmVxdWVzdCkge1xuICAgICAgICAgICAgbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gdGhpcy5nZXRNb3N0UmVsZXZhbnRGb3JtKCkuYmVzdEZvcm1JbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN1cHBsaWVkIGZvcm1JRCBvdmVycmlkZXMgYW55IHRoYXQgd2UganVzdCBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgYWJvdmVcbiAgICAgICAgaWYgKGZvcm1JbmRleCAhPT0gbnVsbCAmJiBmb3JtSW5kZXggPj0gMCkgbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gZm9ybUluZGV4O1xuXG4gICAgICAgIC8vIGZyb20gbm93IG9uIHdlIGNvbmNlbnRyYXRlIG9uIGp1c3QgdGhlIG1vc3QgcmVsZXZhbnQgZm9ybSBhbmQgdGhlIGZpZWxkcyB3ZSBmb3VuZCBlYXJsaWVyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBtYXRjaFJlc3VsdC5mb3Jtc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdO1xuICAgICAgICBjb25zdCBwYXNzd29yZEZpZWxkcyA9IG1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXlbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XTtcbiAgICAgICAgY29uc3Qgb3RoZXJGaWVsZHMgPSBtYXRjaFJlc3VsdC5vdGhlckZpZWxkc0FycmF5W21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF07XG5cbiAgICAgICAgY29uc3Qgb3JkZXJlZEVudHJpZXMgPSB0aGlzLnNvcnRNYXRjaGVkRW50cmllcyhcbiAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBvcmRlcmVkRW50cmllc1dpdGhQcmVmZXJlbmNlID0gdGhpcy5mbGFnVXNlclByZWZlcnJlZEVudHJ5KG9yZGVyZWRFbnRyaWVzKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNNYXRjaGVkTG9naW5SZXF1ZXN0ICYmXG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF0ubGVuZ3RoID4gMFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMubXlQb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBlbnRyaWVzOiBvcmRlcmVkRW50cmllc1dpdGhQcmVmZXJlbmNlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gR2l2ZSB0aGUgdXNlciBhIHdheSB0byBjaG9vc2UgYW4gZW50cnkgaW50ZXJhY3RpdmVseVxuICAgICAgICAgICAgdGhpcy5rZWVGaWVsZEljb24uYWRkS2VlSWNvblRvRmllbGRzKFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzLFxuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzLFxuICAgICAgICAgICAgICAgIG9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2VcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzIHJlY29yZHMgdGhlIGVudHJ5IHRoYXQgd2UgZXZlbnR1YWxseSBjaG9vc2UgYXMgdGhlIG9uZSB0byBmaWxsIHRoZSBjaG9zZW4gZm9ybSB3aXRoXG4gICAgICAgIGxldCBtYXRjaGluZ0xvZ2luOiBFbnRyeSA9IG51bGw7XG4gICAgICAgIGxldCBhY3Rpb246IEZpbGxBbmRTdWJtaXRBY3Rpb24gPSB7IGZpbGw6IGZhbHNlLCBzdWJtaXQ6IGZhbHNlIH07XG4gICAgICAgIGxldCBtdWx0aXBsZU1hdGNoZXMgPSBmYWxzZTtcblxuICAgICAgICAvLyBJZiB3ZSBzdGFydGVkIHRoaXMgZmlsbC9zdWJtaXQgYXR0ZW1wdCBmcm9tIGNlcnRhaW4gY29udGV4dHMsIHdlIHdpbGwgaGF2ZVxuICAgICAgICAvLyBiZWVuIHRvbGQgdG8gZW5zdXJlIHdlIGRvIG5vdCBwZXJmb3JtIGF1dG8tZmlsbCBvciBzdWJtaXQgYW5kIHdlJ2xsIGluc3RlYWRcbiAgICAgICAgLy8ganVzdCB0ZWxsIHRoZSBVSSB0byBub3RpZnkgdGhlIHVzZXIgYWJvdXQgYW55IG1hdGNoZXMgd2UgZm91bmQuIEFsdGhvdWdoXG4gICAgICAgIC8vIHdlIGlnbm9yZSB0aGlzIHJ1bGUgaWYgdGhlIHVzZXIgaW5pdGlhdGVkIHRoZSBmaWxsL3N1Ym1pdC5cbiAgICAgICAgbWF0Y2hSZXN1bHQuY2Fubm90QXV0b0ZpbGxGb3JtID0gZmFsc2U7XG4gICAgICAgIG1hdGNoUmVzdWx0LmNhbm5vdEF1dG9TdWJtaXRGb3JtID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGF1dG9tYXRlZCAmJiBtYXRjaFJlc3VsdC5hdXRvZmlsbE9uU3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG1hdGNoUmVzdWx0LmNhbm5vdEF1dG9GaWxsRm9ybSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dG9tYXRlZCAmJiBtYXRjaFJlc3VsdC5hdXRvc3VibWl0T25TdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuY2Fubm90QXV0b1N1Ym1pdEZvcm0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm8gcG9pbnQgbG9va2luZyBhdCBlbnRyeSBzcGVjaWZpYyBwcmVmZXJlbmNlcyBpZiB3ZSBhcmUgbm90IGFsbG93ZWQgdG8gYXV0by1maWxsXG4gICAgICAgIGlmICghbWF0Y2hSZXN1bHQuY2Fubm90QXV0b0ZpbGxGb3JtKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIldlIGFyZSBhbGxvd2VkIHRvIGF1dG8tZmlsbCB0aGlzIGZvcm0uXCIpO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBiZWVuIGluc3RydWN0ZWQgdG8gZmlsbCBhIHNwZWNpZmljIGVudHJ5LCB3ZSBuZWVkIHRvIHNlbGVjdCB0aGF0XG4gICAgICAgICAgICAvLyBlbnRyeSBhbmQgY2xlYXIgYW55IHByZXZpb3VzbHkgc2V0IGluZm9ybWF0aW9uIGFib3V0IGFuIGF1dG8tZmlsbGVkIGVudHJ5XG4gICAgICAgICAgICAvLyBzbyBpdCBjYW4gYmUgc2V0IGNvcnJlY3RseSBsYXRlclxuICAgICAgICAgICAgaWYgKGVudHJ5SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4gPSBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF1bZW50cnlJbmRleF07XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuVVVJRCA9IG51bGw7XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZGJGaWxlTmFtZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjaGVja01hdGNoaW5nTG9naW5SZWxldmFuY2VUaHJlc2hvbGQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF0ubGVuZ3RoID09IDFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4gPSBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF1bMF07XG4gICAgICAgICAgICAgICAgY2hlY2tNYXRjaGluZ0xvZ2luUmVsZXZhbmNlVGhyZXNob2xkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuVVVJRCAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEICE9IFwiXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdGhlIHJlbGV2YW5jZSB0ZXN0cyBpZiB3ZSBoYXZlIGJlZW4gdG9sZCB0byB1c2UgYSBzcGVjaWZpYyBVVUlEXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgIFwiV2UndmUgYmVlbiB0b2xkIHRvIHVzZSBhbiBlbnRyeSB3aXRoIHRoaXMgVVVJRDogXCIgKyBtYXRjaFJlc3VsdC5VVUlEXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb3VudCA8IG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50KytcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdW2NvdW50XS51dWlkID09XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdW2NvdW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQ291bGQgbm90IGZpbmQgdGhlIHJlcXVpcmVkIEtlZVBhc3MgZW50cnkuIE1heWJlIHRoZSB3ZWJzaXRlIHJlZGlyZWN0ZWQgeW91IHRvIGEgZGlmZmVyZW50IGRvbWFpbiBvciBob3N0bmFtZT9cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgKCFtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF0gfHxcbiAgICAgICAgICAgICAgICAgICAgIW1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGgpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk5vIGVudHJpZXMgZm9yIGZvcm0uXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaGluZ0xvZ2luID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJNdWx0aXBsZSBlbnRyaWVzIGZvciBmb3JtLCBzbyB1c2luZyBwcmVmZXJyZWQgb3IgbW9zdCByZWxldmFudC5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2UuZmluZChlID0+IGUuaXNQcmVmZXJyZWRNYXRjaCkgfHxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJlZEVudHJpZXNXaXRoUHJlZmVyZW5jZVswXTtcbiAgICAgICAgICAgICAgICBtdWx0aXBsZU1hdGNoZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNoZWNrTWF0Y2hpbmdMb2dpblJlbGV2YW5jZVRocmVzaG9sZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdXRvbWF0ZWQgJiYgY2hlY2tNYXRjaGluZ0xvZ2luUmVsZXZhbmNlVGhyZXNob2xkICYmIG1hdGNoaW5nTG9naW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLnJlbGV2YW5jZVNjb3JlIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJPdXIgc2VsZWN0ZWQgZW50cnkgaXMgbm90IHJlbGV2YW50IGVub3VnaCB0byBleGNlZWQgb3VyIHRocmVzaG9sZCBzbyB3aWxsIG5vdCBiZSBhdXRvLWZpbGxlZC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoaW5nTG9naW4ubG93RmllbGRNYXRjaFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk91ciBzZWxlY3RlZCBlbnRyeSBoYXMgYSBsb3cgZmllbGQgbWF0Y2ggcmF0aW8gc28gd2lsbCBub3QgYmUgYXV0by1maWxsZWQuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdMb2dpbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9UT0RPOjQ6ICM2IG11bHRpLXBhZ2VcbiAgICAgICAgICAgICAgICAvLyAvLyByZWNvcmQgLyB1cGRhdGUgdGhlIGluZm8gYXR0YWNoZWQgdG8gdGhpcyB0YWIgcmVnYXJkaW5nXG4gICAgICAgICAgICAgICAgLy8gLy8gdGhlIG51bWJlciBvZiBwYWdlcyBvZiBmb3JtcyB3ZSB3YW50IHRvIGZpbGwgaW5cbiAgICAgICAgICAgICAgICAvLyAvLyBOQjogd2UgZG8gdGhpcyBldmVuIGlmIHdlIGtub3cgdGhpcyBpcyBhIHNpbmdsZSBmb3JtXG4gICAgICAgICAgICAgICAgLy8gLy8gc3VibWlzc2lvbiBiZWNhdWFzZSB0aGVuIGlmIHRoZSB1c2VyIGdldHMgZHVtcGVkXG4gICAgICAgICAgICAgICAgLy8gLy8gYmFjayB0byB0aGUgZm9ybSAocGFzc3dvcmQgZXJyb3I/KSB0aGVuIHdlIGtub3cgbm90XG4gICAgICAgICAgICAgICAgLy8gLy8gdG8gYXV0by1zdWJtaXQgYWdhaW4gKHRvIGF2b2lkIGdldHRpbmcgc3R1Y2sgaW4gYSBsb29wKVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRhYlN0YXRlLmN1cnJlbnRQYWdlID4gdGFiU3RhdGUubWF4aW11bVBhZ2UpXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyBJIGRvbid0IHRoaW5rIHRoaXMgc2hvdWxkIGV2ZXIgaGFwcGVuIGJlY2F1c2UgaXQncyByZXNldCBvbkZvcm1TdWJtaXRcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gYmVmb3JlIHRoaXMgcGFnZSBoYXMgbG9hZGVkLlxuXG4gICAgICAgICAgICAgICAgLy8gICAgIHRhYlN0YXRlLmN1cnJlbnRQYWdlID0gMDtcbiAgICAgICAgICAgICAgICAvLyAgICAgdGFiU3RhdGUubWF4aW11bVBhZ2UgPSAwO1xuICAgICAgICAgICAgICAgIC8vICAgICB0YWJTdGF0ZS5mb3JjZUF1dG9TdWJtaXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vICAgICBtYXRjaFJlc3VsdC5jYW5ub3RBdXRvU3VibWl0Rm9ybSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJFeGNlZWRlZCBleHBlY3RlZCBudW1iZXIgb2YgcGFnZXMgZHVyaW5nIHRoaXMgZm9ybS1maWxsaW5nIHNlc3Npb24uIE5vdCBhdXRvLXN1Ym1pdGluZyB0aGlzIGZvcm0uXCIpO1xuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIC8vIC8vIElmIHRoZSB1c2VyIG1hbnVhbGx5IHJlcXVlc3RlZCB0aGlzIHRvIGJlIGZpbGxlZCBpbiBvciB0aGUgY3VycmVudCBwYWdlIGlzIHVua25vd25cbiAgICAgICAgICAgICAgICAvLyBpZiAoIWF1dG9tYXRlZCkvL1RPRE86NDogIzYgbXVsdGktcGFnZSB8fCB0YWJTdGF0ZS5jdXJyZW50UGFnZSA8PSAwKVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgbGV0IG1heGltdW1QYWdlQ291bnQgPSAxO1xuICAgICAgICAgICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoaW5nTG9naW4ucGFzc3dvcmRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjb25zdCBwYXNzRmllbGQgPSBtYXRjaGluZ0xvZ2luLnBhc3N3b3Jkc1tpXTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChwYXNzRmllbGQuZm9ybUZpZWxkUGFnZSA+IG1heGltdW1QYWdlQ291bnQpXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWF4aW11bVBhZ2VDb3VudCA9IHBhc3NGaWVsZC5mb3JtRmllbGRQYWdlO1xuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hpbmdMb2dpbi5vdGhlckZpZWxkcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAvLyAgICAge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29uc3Qgb3RoZXJGaWVsZCA9IG1hdGNoaW5nTG9naW4ub3RoZXJGaWVsZHNbaV07XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAob3RoZXJGaWVsZC5mb3JtRmllbGRQYWdlID4gbWF4aW11bVBhZ2VDb3VudClcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtYXhpbXVtUGFnZUNvdW50ID0gb3RoZXJGaWVsZC5mb3JtRmllbGRQYWdlO1xuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vVE9ETzo0OiAjNjogbXVsdGktcGFnZVxuICAgICAgICAgICAgICAgIC8vICAgICAvLyAvLyBhbHdheXMgYXNzdW1lIHBhZ2UgMSAodmVyeSByYXJlIGNhc2VzIHdpbGwgZ28gd3JvbmcgLSBzZWUgZ2l0aHViIEtlZUZveCAjNDExIGZvciByZWxldmFudCBlbmhhbmNlbWVudCByZXF1ZXN0KVxuICAgICAgICAgICAgICAgIC8vICAgICAvLyAvLyBQb3NzaWJsZSByZWdyZXNzaW9uIHNpbmNlIHYxLjQ6IFdlIHVzZWQgdG8gaWdub3JlIGN1cnJlbnRQYWdlIGVudGlyZWx5IGZvciB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gLy8gcGFnZSBvZiBhIHN1Ym1pc3Npb24sIG5vdyB3ZSBtaWdodCB0cnkgdG8gZ2l2ZSBwcmVmZXJlbmNlIHRvIHBhZ2UgMSBmaWVsZHMgKHRob3VnaCB0b3RhbFxuICAgICAgICAgICAgICAgIC8vICAgICAvLyAvLyByZWxldmFuY2Ugc2NvcmUgc2hvdWxkbid0IGJlIHNoaWZ0ZWQgYnkgZW5vdWdoIHRvIGFmZmVjdCBvdGhlcndpc2Ugd2VsbC1tYXRjaGVkIGZpZWxkcylcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gdGFiU3RhdGUuY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyB0YWJTdGF0ZS5tYXhpbXVtUGFnZSA9IG1heGltdW1QYWdlQ291bnQ7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiY3VycmVudFBhZ2UgaXM6IFwiICsgdGFiU3RhdGUuY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIm1heGltdW1QYWdlIGlzOiBcIiArIHRhYlN0YXRlLm1heGltdW1QYWdlKTtcbiAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IGF1dG8tZmlsbCBiZWhhdmlvdXIgZGVwZW5kcyB1cG9uIHdoZXRoZXIgdGhpcyBpcyBhdXRvbWF0aWMgb3JcbiAgICAgICAgICAgICAgICAvLyBtYW51YWwsIHRoZSBjb3JyZXNwb25kaW5nIHVzZXIgXCJhdXRvbWF0aWNcIiBvcHRpb24sIGlmIHRoZXJlIGFyZSBvbmUgb3IgbWFueSBtYXRjaGVzXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoZSB1c2VyIG9wdGlvbiB0byBwcmV2ZW50IGF1dG9tYXRpYyBmaWxsIGR1ZSB0byBtdWx0aXBsZSBtYXRjaGVzXG4gICAgICAgICAgICAgICAgY29uc3QgYXV0b0ZpbGxFbmFibGVkID1cbiAgICAgICAgICAgICAgICAgICAgaXNNYXRjaGVkTG9naW5SZXF1ZXN0IHx8XG4gICAgICAgICAgICAgICAgICAgIChhdXRvbWF0ZWQgJiYgbXVsdGlwbGVNYXRjaGVzICYmICF0aGlzLmNvbmZpZy5hdXRvRmlsbEZvcm1zV2l0aE11bHRpcGxlTWF0Y2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNvbmZpZy5hdXRvRmlsbEZvcm1zKTtcblxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgYXV0by1zdWJtaXQgYmVoYXZpb3VyIGRlcGVuZHMgdXBvbiB3aGV0aGVyIHRoaXMgaXMgYXV0b21hdGljIG9yIG1hbnVhbCBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgdXNlciBvcHRpb25cbiAgICAgICAgICAgICAgICBjb25zdCBhdXRvU3VibWl0RW5hYmxlZCA9IGlzTWF0Y2hlZExvZ2luUmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuY29uZmlnLmF1dG9TdWJtaXRNYXRjaGVkRm9ybXNcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNvbmZpZy5hdXRvU3VibWl0Rm9ybXM7XG5cbiAgICAgICAgICAgICAgICBhY3Rpb24gPSB7IGZpbGw6IGF1dG9GaWxsRW5hYmxlZCwgc3VibWl0OiBhdXRvU3VibWl0RW5hYmxlZCB9O1xuXG4gICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgZmlsbCBwcmVmZXJlbmNlcyBmcm9tIHBlci1lbnRyeSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAvLyB1bmxlc3MgdXNlciBleHBsaWNpdHkgc2VsZWN0ZWQgdGhlIG1hdGNoZWQgZW50cnlcbiAgICAgICAgICAgICAgICBpZiAoIWlzTWF0Y2hlZExvZ2luUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdMb2dpbi5hbHdheXNBdXRvRmlsbCkgYWN0aW9uLmZpbGwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdMb2dpbi5uZXZlckF1dG9GaWxsKSBhY3Rpb24uZmlsbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE92ZXJyaWRlIHN1Ym1pdCBwcmVmZXJlbmNlcyBmcm9tIHBlci1lbnRyeSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAoIWlzTWF0Y2hlZExvZ2luUmVxdWVzdCB8fCAhdGhpcy5jb25maWcubWFudWFsU3VibWl0T3ZlcnJpZGVQcm9oaWJpdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLmFsd2F5c0F1dG9TdWJtaXQpIGFjdGlvbi5zdWJtaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdMb2dpbi5uZXZlckF1dG9TdWJtaXQpIGFjdGlvbi5zdWJtaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmZpbGwgfHwgbWF0Y2hSZXN1bHQubXVzdEF1dG9GaWxsRm9ybSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkdvaW5nIHRvIGF1dG8tZmlsbCBhIGZvcm1cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBzdG9yZS5LZWVQYXNzRGF0YWJhc2VzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBkYiA9PiBkYi5maWxlTmFtZSA9PT0gbWF0Y2hpbmdMb2dpbi5kYXRhYmFzZS5maWxlTmFtZVxuICAgICAgICAgICAgICAgICAgICApLnNlc3Npb25GZWF0dXJlcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVDb25maWc6IEZpZWxkTWF0Y2hTY29yZUNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1bmlzaFdyb25nSURBbmROYW1lOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLmluZGV4T2YoXCJLUFJQQ19GSUVMRF9ERUZBVUxUX05BTUVfQU5EX0lEX0VNUFRZXCIpID49IDBcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEZpbGxlZE90aGVyID0gdGhpcy5maWxsTWFueUZvcm1GaWVsZHMoXG4gICAgICAgICAgICAgICAgICAgICAgICBvdGhlckZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4uZmllbGRzLmZpbHRlcihmID0+IGYudHlwZSAhPT0gXCJwYXNzd29yZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVDb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEZpbGxlZFBhc3N3b3JkcyA9IHRoaXMuZmlsbE1hbnlGb3JtRmllbGRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRGaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luLmZpZWxkcy5maWx0ZXIoZiA9PiBmLnR5cGUgPT09IFwicGFzc3dvcmRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b21hdGVkXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmZvcm1SZWFkeUZvclN1Ym1pdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0Lmxhc3RGaWxsZWRQYXNzd29yZHMgPSBsYXN0RmlsbGVkUGFzc3dvcmRzO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5sYXN0RmlsbGVkT3RoZXIgPSBsYXN0RmlsbGVkT3RoZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0RmlsbGVkUGFzc3dvcmRzICYmIGxhc3RGaWxsZWRQYXNzd29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0VGFyZ2V0TmVpZ2hib3VyID0gbGFzdEZpbGxlZFBhc3N3b3Jkc1swXS5ET01lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RGaWxsZWRPdGhlciAmJiBsYXN0RmlsbGVkT3RoZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0VGFyZ2V0TmVpZ2hib3VyID0gbGFzdEZpbGxlZE90aGVyWzBdLkRPTWVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtU2F2aW5nLnVwZGF0ZU1hdGNoUmVzdWx0KG1hdGNoUmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBvbmx5IGRvIHRoaXMgaWYgYW55IGZvcm1zIHdlcmUgYXV0by1maWxsZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICAgIGlmIChtYXRjaFJlc3VsdC5mb3JtUmVhZHlGb3JTdWJtaXQpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGRpZG4ndCBhbHJlYWR5IGRlZmluZSBhIHV1aWQsIHdlIHNldCBpdCB1cCBub3dcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEID09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgPT0gXCJcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTeW5jaW5nIFVVSUQgdG86IFwiICsgbWF0Y2hpbmdMb2dpbi51dWlkKTtcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEID0gbWF0Y2hpbmdMb2dpbi51dWlkO1xuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmRiRmlsZU5hbWUgPSBtYXRjaGluZ0xvZ2luLmRhdGFiYXNlLmZpbGVOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhpcyBmb3JtIGZpbGwgaXMgdGhlIG5vbi1maW5hbCBwYWdlIG9mIGEgbXVsdGktcGFnZSBsb2dpbiBwcm9jZXNzIHdlIHJlY29yZCB0aGVcbiAgICAgICAgLy8gVVVJRCBhbmQgZGJGaWxlbmFtZS4gV2UgYWxzbyBlbmFibGUgYXV0by1zdWJtaXQgaW4gc29tZSBjaXJjdW1zdGFuY2VzXG4gICAgICAgIC8vVE9ETzo0OiAjNjogbXVsdGktcGFnZVxuICAgICAgICAvLyBpZiAobWF0Y2hSZXN1bHQuVVVJRCAhPSB1bmRlZmluZWQgJiYgbWF0Y2hSZXN1bHQuVVVJRCAhPSBudWxsICYmIG1hdGNoUmVzdWx0LlVVSUQgIT0gXCJcIilcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgaWYgKHRhYlN0YXRlLmN1cnJlbnRQYWdlID4gMCAmJiB0YWJTdGF0ZS5jdXJyZW50UGFnZSA8IHRhYlN0YXRlLm1heGltdW1QYWdlKVxuICAgICAgICAvLyAgICAge1xuICAgICAgICAvLyAgICAgICAgIGlmIChtYXRjaFJlc3VsdC5VVUlEKVxuICAgICAgICAvLyAgICAgICAgIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTZXR0aW5nIFVVSUQgdG86IFwiICsgbWF0Y2hSZXN1bHQuVVVJRCk7XG4gICAgICAgIC8vICAgICAgICAgICAgIHRhYlN0YXRlLlVVSUQgPSBtYXRjaFJlc3VsdC5VVUlEO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICBpZiAobWF0Y2hSZXN1bHQuZGJGaWxlTmFtZSlcbiAgICAgICAgLy8gICAgICAgICB7XG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBkYkZpbGVOYW1lIHRvOiBcIiArIG1hdGNoUmVzdWx0LmRiRmlsZU5hbWUpO1xuICAgICAgICAvLyAgICAgICAgICAgICB0YWJTdGF0ZS5kYkZpbGVOYW1lID0gbWF0Y2hSZXN1bHQuZGJGaWxlTmFtZTtcbiAgICAgICAgLy8gICAgICAgICB9XG5cbiAgICAgICAgLy8gICAgICAgICAvLyBXZSBmb3JjZSBhdXRvIHN1Ym1pdCBmb3IgYWxsIG11bHRpLXBhZ2UgZW50cmllcyB0aGF0IGhhdmUgYmVlbiB0cmlnZ2VyZWRcbiAgICAgICAgLy8gICAgICAgICAvLyBieSBhIG9uZS1jbGljayBvciBtYXRjaGVkIGxvZ2luIHVzZXIgc2VsZWN0aW9uLCBwcm92aWRlZCB0aGF0IG9wZXJhdGlvblxuICAgICAgICAvLyAgICAgICAgIC8vIGhhcyBub3QgYWxyZWFkeSBiZWVuIG1hcmtlZCBjb21wbGV0ZSBieSB0aGUgb25Gb3JtU3VibWl0SGFuZGxlciBpbiBmb3Jtc1NhdmVUYWIuanNcbiAgICAgICAgLy8gICAgICAgICBpZiAodGFiU3RhdGUudXNlclJlY2VudGx5RGVtYW5kZWRBdXRvU3VibWl0KVxuICAgICAgICAvLyAgICAgICAgIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGFiU3RhdGUuZm9yY2VBdXRvU3VibWl0ID0gdHJ1ZTtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTZXQgZm9yY2VBdXRvU3VibWl0IHRvOiB0cnVlXCIpO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFtYXRjaFJlc3VsdC5jYW5ub3RBdXRvU3VibWl0Rm9ybSAmJlxuICAgICAgICAgICAgKGFjdGlvbi5zdWJtaXQgfHwgbWF0Y2hSZXN1bHQubXVzdEF1dG9TdWJtaXRGb3JtKSAmJlxuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZm9ybVJlYWR5Rm9yU3VibWl0XG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIkF1dG8tc3VibWl0dGluZyBmb3JtLi4uXCIpO1xuICAgICAgICAgICAgdGhpcy5zdWJtaXRGb3JtKGZvcm0sIHN1Ym1pdFRhcmdldE5laWdoYm91cik7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaGVkTG9naW5SZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk1hdGNoZWQgZW50cnkgcmVxdWVzdCBpcyBub3QgYmVpbmcgYXV0by1zdWJtaXR0ZWQuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMubWF0Y2hSZXN1bHQuYWxsTWF0Y2hpbmdMb2dpbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChhdXRvbWF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJBdXRvbWF0aWMgZm9ybSBmaWxsIGNvbXBsZXRlLlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk1hbnVhbCBmb3JtIGZpbGwgY29tcGxldGUuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIk5vdGhpbmcgdG8gZmlsbC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzb3J0TWF0Y2hlZEVudHJpZXMoZW50cmllczogRW50cnlbXSk6IEVudHJ5W10ge1xuICAgICAgICByZXR1cm4gZW50cmllc1xuICAgICAgICAgICAgLm1hcChlID0+IG5ldyBFbnRyeSh7IC4uLmUgfSkpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5yZWxldmFuY2VTY29yZSAtIGEucmVsZXZhbmNlU2NvcmUpO1xuICAgIH1cblxuICAgIGZsYWdVc2VyUHJlZmVycmVkRW50cnkob3JkZXJlZEVudHJpZXM6IEVudHJ5W10pOiBFbnRyeVtdIHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cuZG9jdW1lbnQuVVJMKTtcbiAgICAgICAgdXJsLmhvc3RuYW1lID0gcHVueWNvZGUudG9Vbmljb2RlKHVybC5ob3N0bmFtZSk7XG4gICAgICAgIGNvbnN0IGNvbmYgPSBjb25maWdNYW5hZ2VyLnNpdGVDb25maWdGb3IodXJsLmhyZWYpO1xuICAgICAgICByZXR1cm4gb3JkZXJlZEVudHJpZXMubWFwKFxuICAgICAgICAgICAgZSA9PlxuICAgICAgICAgICAgICAgIG5ldyBFbnRyeSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgICAgICAgICAgIGlzUHJlZmVycmVkTWF0Y2g6IGNvbmYucHJlZmVycmVkRW50cnlVdWlkID09PSBlLnV1aWQgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmluZFN1Ym1pdEJ1dHRvbihmb3JtOiBIVE1MRm9ybUVsZW1lbnQsIHN1Ym1pdFRhcmdldE5laWdoYm91cjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlczogU3VibWl0Q2FuZGlkYXRlW10gPSBbXTtcbiAgICAgICAgY29uc3QgRElTVEFOQ0VfTUFYX1NDT1JFID0gMTAwO1xuICAgICAgICBjb25zdCBESVNUQU5DRV9ESUZGRVJFTkNFX0ZBQ1RPUiA9IDIwO1xuICAgICAgICBjb25zdCBWSVNJQkxFX1NDT1JFID0gNjA7XG4gICAgICAgIGNvbnN0IENBVF9CVVRUT05JTkZPUk1fU0NPUkUgPSA2MDtcbiAgICAgICAgY29uc3QgQ0FUX1NVQk1JVElOUFVUSU5GT1JNX1NDT1JFID0gNTA7XG4gICAgICAgIGNvbnN0IENBVF9CVVRUT05PVVRTSURFRk9STV9TQ09SRSA9IDQwO1xuICAgICAgICBjb25zdCBDQVRfSU1BR0VJTlBVVElORk9STV9TQ09SRSA9IDQwO1xuICAgICAgICBjb25zdCBDQVRfQlVUVE9OSU5QVVRJTkZPUk1fU0NPUkUgPSAzMDtcbiAgICAgICAgY29uc3QgQ0FUX0JVVFRPTlJPTEVJTkZPUk1fU0NPUkUgPSAyMDtcbiAgICAgICAgY29uc3QgQ0FUX0JVVFRPTlJPTEVPVVRTSURFRk9STV9TQ09SRSA9IDEwO1xuICAgICAgICBsZXQgbWluU2NvcmVUb1dpbiA9IDA7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlQ2FsYyA9ICh2LCB0KSA9PiB0aGlzLmNvbW1vbkFuY2VzdG9yRGlzdGFuY2UodiwgdCwgZGlzdGFuY2VNYXApO1xuICAgICAgICBjb25zdCBkaXN0YW5jZU1hcCA9IG5ldyBNYXA8Tm9kZSwgbnVtYmVyPigpO1xuICAgICAgICBjb25zdCBmVXRpbHMgPSB0aGlzLmZvcm1VdGlscztcblxuICAgICAgICBmdW5jdGlvbiB2ZXJpZnlQb3RlbnRpYWxDYW5kaWRhdGUodmFsdWU6IEhUTUxFbGVtZW50LCBzY29yZTogbnVtYmVyKSB7XG4gICAgICAgICAgICAvLyBhYm9ydCBlYXJseSBpZiB3ZSBjYW4ndCB3aW4gZXZlbiB3aXRoIGEgcGVyZmVjdCB2aXNpYmlsaXR5IGFuZCBkaXN0YW5jZSBzY29yZVxuICAgICAgICAgICAgaWYgKG1pblNjb3JlVG9XaW4gPiBzY29yZSArIFZJU0lCTEVfU0NPUkUgKyBESVNUQU5DRV9NQVhfU0NPUkUpIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgaXNWaXNpYmxlID0gZlV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUodmFsdWUpO1xuXG4gICAgICAgICAgICAvLyBTb21lIGZvcm1zIGFyZSBoaWRkZW4gKGUuZy4gVHdpdHRlcikgYW5kIHNpbXBseSByZXZlYWxlZCB0byB0aGUgdXNlciBhdCBhIGxhdGVyIHRpbWVcbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3ZSBzaG91bGQgb25seSBwdW5pc2ggYmFzZWQgb24gdmlzaWJpbGl0eSBpZiB0aGUgZm9ybSBzdWJtaXRUYXJnZXROZWlnaGJvdXIgaXMgdmlzaWJsZS5cbiAgICAgICAgICAgIGlmIChpc1Zpc2libGUgfHwgIWZVdGlscy5pc0RPTUVsZW1lbnRWaXNpYmxlKHN1Ym1pdFRhcmdldE5laWdoYm91cikpIHtcbiAgICAgICAgICAgICAgICBzY29yZSArPSBWSVNJQkxFX1NDT1JFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhYm9ydCBlYXJseSBpZiB3ZSBjYW4ndCB3aW4gZXZlbiB3aXRoIGEgcGVyZmVjdCB2aXNpYmlsaXR5IGFuZCBkaXN0YW5jZSBzY29yZVxuICAgICAgICAgICAgaWYgKG1pblNjb3JlVG9XaW4gPiBzY29yZSArIERJU1RBTkNFX01BWF9TQ09SRSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZUNhbGModmFsdWUsIHN1Ym1pdFRhcmdldE5laWdoYm91ciksXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdmFsdWUsXG4gICAgICAgICAgICAgICAgc2NvcmU6IHNjb3JlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbWluU2NvcmVUb1dpbiA9IHNjb3JlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUFyaWFMYWJlbFZhbHVlcyhlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxzID0gW107XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxzLnB1c2goZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIilcbiAgICAgICAgICAgICAgICA/LnRyaW0oKVxuICAgICAgICAgICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZm9ybS5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbEVsZW1lbnQgJiYgbGFiZWxFbGVtZW50LmlubmVyVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVscy5wdXNoKGxhYmVsRWxlbWVudC5pbm5lclRleHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGxhYmVscztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICAgICBJbiBGaXJlZm94IEFycmF5LmZyb20uLi5mb3JlYWNoIGlzIGFib3V0IDUwJSBmYXN0ZXIgdGhhbiB0aGUgYWx0ZXJuYXRpdmUgaW4gdGhpcyBjb21tZW50IGJlbG93Li4uIGJ1dCAyMCUgc2xvd2VyIGluIENocm9tZS5cbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBmb3JtLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJidXR0b25cIik7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8YnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYnV0dG9uc1tpXTtcbiAgICAgICAgICAgICAgICAuLi5cbiAgICAgICAgICAgICovXG4gICAgICAgIEFycmF5LmZyb20oZm9ybS5vd25lckRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYnV0dG9uXCIpKS5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmICghdmFsdWUuaXNDb25uZWN0ZWQpIHJldHVybjtcbiAgICAgICAgICAgIGlmICghdmFsdWUudHlwZSB8fCB2YWx1ZS50eXBlICE9IFwicmVzZXRcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbWFudGljVmFsdWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5uYW1lKSBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLm5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnRleHRDb250ZW50KSBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZSkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS52YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcy5wdXNoKC4uLnJlc29sdmVBcmlhTGFiZWxWYWx1ZXModmFsdWUpKTtcblxuICAgICAgICAgICAgICAgIGxldCBzY29yZSA9IHRoaXMuc2NvcmVBZGp1c3RtZW50Rm9yTWFnaWNXb3JkcyhcbiAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgIDUwLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljV2hpdGVsaXN0Q2FjaGUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNCbGFja2xpc3RDYWNoZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgc2NvcmUgKz1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuZm9ybSAmJiB2YWx1ZS5mb3JtID09IGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgID8gQ0FUX0JVVFRPTklORk9STV9TQ09SRVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBDQVRfQlVUVE9OT1VUU0lERUZPUk1fU0NPUkU7XG5cbiAgICAgICAgICAgICAgICB2ZXJpZnlQb3RlbnRpYWxDYW5kaWRhdGUodmFsdWUsIHNjb3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgQXJyYXkuZnJvbShmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIikpLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZS5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBzZW1hbnRpY1Njb3JlID0gMDtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09IFwic3VibWl0XCIgfHwgdmFsdWUudHlwZSA9PSBcImJ1dHRvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1Njb3JlICs9IHRoaXMuc2NvcmVBZGp1c3RtZW50Rm9yTWFnaWNXb3JkcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljV2hpdGVsaXN0Q2FjaGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTmFtZXMgYXJlIG1vcmUgaW1wb3J0YW50IGJ1dCBzb21ldGltZXMgdGhleSBkb24ndCBleGlzdCBvciBhcmUgcmFuZG9tXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIGNoZWNrIHdoYXQgaXMgYWN0dWFsbHkgZGlzcGxheWVkIHRvIHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbWFudGljVmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS52YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcy5wdXNoKC4uLnJlc29sdmVBcmlhTGFiZWxWYWx1ZXModmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbWFudGljVmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljU2NvcmUgKz0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljU2NvcmUgKz0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZS5pZC50b0xvd2VyQ2FzZSgpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljV2hpdGVsaXN0Q2FjaGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT0gXCJzdWJtaXRcIiB8fCB2YWx1ZS50eXBlID09IFwiYnV0dG9uXCIgfHwgdmFsdWUudHlwZSA9PSBcImltYWdlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gc2VtYW50aWNTY29yZTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcmUgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnR5cGUgPT0gXCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gQ0FUX0JVVFRPTklOUFVUSU5GT1JNX1NDT1JFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB2YWx1ZS50eXBlID09IFwiaW1hZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gQ0FUX0lNQUdFSU5QVVRJTkZPUk1fU0NPUkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENBVF9TVUJNSVRJTlBVVElORk9STV9TQ09SRTtcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UG90ZW50aWFsQ2FuZGlkYXRlKHZhbHVlLCBzY29yZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBBcnJheS5mcm9tKGZvcm0ub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW3JvbGU9YnV0dG9uXTpub3QoYnV0dG9uKVwiKSkuZm9yRWFjaChcbiAgICAgICAgICAgICh2YWx1ZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZS5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbWFudGljVmFsdWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgLy8gdGVjaG5pY2FsXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLm5hbWUpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaWQpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUuaWQudG9Mb3dlckNhc2UoKSk7XG5cbiAgICAgICAgICAgICAgICAvLyB1c2VyIHZpc2libGVcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudGl0bGUpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUudGl0bGUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmlubmVyVGV4dCkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS5pbm5lclRleHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmRhdGFTZXQgJiYgdmFsdWUuZGF0YVNldC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5kYXRhU2V0LnRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUuZGF0YVNldC50b29sdGlwLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLnB1c2goLi4ucmVzb2x2ZUFyaWFMYWJlbFZhbHVlcyh2YWx1ZSkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgNTAsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzY29yZSArPVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5mb3JtICYmIHZhbHVlLmZvcm0gPT0gZm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBDQVRfQlVUVE9OUk9MRUlORk9STV9TQ09SRVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBDQVRfQlVUVE9OUk9MRU9VVFNJREVGT1JNX1NDT1JFO1xuICAgICAgICAgICAgICAgIHZlcmlmeVBvdGVudGlhbENhbmRpZGF0ZSh2YWx1ZSwgc2NvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA8PSAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gY2FuZGlkYXRlc1swXS5lbGVtZW50O1xuXG4gICAgICAgIGNvbnN0IHN1Ym1pdEVsZW1lbnRzID0gY2FuZGlkYXRlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYS5kaXN0YW5jZSA+IGIuZGlzdGFuY2UpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhLmRpc3RhbmNlIDwgYi5kaXN0YW5jZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbWF4RGlzdGFuY2VEaWZmZXJlbmNlID1cbiAgICAgICAgICAgIHN1Ym1pdEVsZW1lbnRzWzBdLmRpc3RhbmNlIC0gc3VibWl0RWxlbWVudHNbc3VibWl0RWxlbWVudHMubGVuZ3RoIC0gMV0uZGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlU2NvcmUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIERJU1RBTkNFX01BWF9TQ09SRSxcbiAgICAgICAgICAgIERJU1RBTkNFX0RJRkZFUkVOQ0VfRkFDVE9SICogbWF4RGlzdGFuY2VEaWZmZXJlbmNlXG4gICAgICAgICk7XG4gICAgICAgIGxldCBkaXN0YW5jZUZhY3RvciA9IDEgLyBzdWJtaXRFbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIGxldCBsYXN0RGlzdGFuY2UgPSBzdWJtaXRFbGVtZW50c1swXS5kaXN0YW5jZTtcbiAgICAgICAgc3VibWl0RWxlbWVudHMuZm9yRWFjaCgoY2FuZGlkYXRlLCBpbmRleCwgZWxlbWVudHMpID0+IHtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuZGlzdGFuY2UgPCBsYXN0RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZUZhY3RvciA9IChpbmRleCArIDEpIC8gZWxlbWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxhc3REaXN0YW5jZSA9IGNhbmRpZGF0ZS5kaXN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbmRpZGF0ZS5zY29yZSArPSBkaXN0YW5jZUZhY3RvciAqIGRpc3RhbmNlU2NvcmU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vVE9ETzo0OiBtb3JlIGFjY3VyYXRlIHNlYXJjaGluZyBvZiBzdWJtaXQgYnV0dG9ucywgZXRjLiB0byBhdm9pZCBwYXNzd29yZCByZXNldHMgaWYgcG9zc2libGVcbiAgICAgICAgLy8gbWF5YmUgc3BlY2lhbCBjYXNlcyBmb3IgY29tbW9uIEhUTUwgb3V0cHV0IHBhdHRlcm5zIChlLmcuIGphdmFzY3JpcHQtb25seSBBU1AuTkVUIGZvcm1zKVxuXG4gICAgICAgIGxldCBtYXhTY29yZSA9IHN1Ym1pdEVsZW1lbnRzWzBdLnNjb3JlO1xuICAgICAgICBsZXQgbWF4U2NvcmVFbGVtZW50ID0gc3VibWl0RWxlbWVudHNbMF0uZWxlbWVudDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzdWJtaXRFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHN1Ym1pdEVsZW1lbnRzW2ldLnNjb3JlID4gbWF4U2NvcmUpIHtcbiAgICAgICAgICAgICAgICBtYXhTY29yZSA9IHN1Ym1pdEVsZW1lbnRzW2ldLnNjb3JlO1xuICAgICAgICAgICAgICAgIG1heFNjb3JlRWxlbWVudCA9IHN1Ym1pdEVsZW1lbnRzW2ldLmVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heFNjb3JlRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNjb3JlQWRqdXN0bWVudEZvck1hZ2ljV29yZHMoXG4gICAgICAgIHNlbWFudGljVmFsdWVzOiBzdHJpbmdbXSxcbiAgICAgICAgZmFjdG9yOiBudW1iZXIsXG4gICAgICAgIHNlbWFudGljV2hpdGVsaXN0Q2FjaGUsXG4gICAgICAgIHNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICApIHtcbiAgICAgICAgLy9UT0RPOjQ6IG90aGVyIGxhbmd1YWdlc1xuICAgICAgICBjb25zdCBnb29kV29yZHMgPSBbXG4gICAgICAgICAgICBcInN1Ym1pdFwiLFxuICAgICAgICAgICAgXCJsb2dpblwiLFxuICAgICAgICAgICAgXCJlbnRlclwiLFxuICAgICAgICAgICAgXCJsb2cgaW5cIixcbiAgICAgICAgICAgIFwic2lnbmluXCIsXG4gICAgICAgICAgICBcInNpZ24gaW5cIixcbiAgICAgICAgICAgIFwibmV4dFwiLFxuICAgICAgICAgICAgXCJjb250aW51ZVwiXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGJhZFdvcmRzID0gW1xuICAgICAgICAgICAgXCJyZXNldFwiLFxuICAgICAgICAgICAgXCJjYW5jZWxcIixcbiAgICAgICAgICAgIFwiYmFja1wiLFxuICAgICAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICAgICAgXCJ1bmRvXCIsXG4gICAgICAgICAgICBcImV4aXRcIixcbiAgICAgICAgICAgIFwiZW1wdHlcIixcbiAgICAgICAgICAgIFwiY2xlYXJcIixcbiAgICAgICAgICAgIFwiY2FwdGNoYVwiLFxuICAgICAgICAgICAgXCJ0b3RwXCIsXG4gICAgICAgICAgICBcImZvcmdvdFwiLFxuICAgICAgICAgICAgXCJkaXNtaXNzXCIsXG4gICAgICAgICAgICBcImRlbGV0ZVwiLFxuICAgICAgICAgICAgXCJzaG93XCIsXG4gICAgICAgICAgICBcInJldmVhbFwiXG4gICAgICAgIF07XG4gICAgICAgIGxldCBnb29kU2NvcmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IGJhZFNjb3JlID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZW1hbnRpY1ZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGdvb2RTY29yZSkgYnJlYWs7XG4gICAgICAgICAgICBpZiAoIXNlbWFudGljVmFsdWVzW2ldKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHNlbWFudGljVmFsdWUgPSBzZW1hbnRpY1ZhbHVlc1tpXS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIXNlbWFudGljVmFsdWUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoc2VtYW50aWNXaGl0ZWxpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGdvb2RTY29yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VtYW50aWNXaGl0ZWxpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ29vZFdvcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbWFudGljVmFsdWUuaW5kZXhPZihnb29kV29yZHNbal0pID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZFNjb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNXaGl0ZWxpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljV2hpdGVsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZW1hbnRpY1ZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGJhZFNjb3JlKSBicmVhaztcbiAgICAgICAgICAgIGlmICghc2VtYW50aWNWYWx1ZXNbaV0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZSA9IHNlbWFudGljVmFsdWVzW2ldLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghc2VtYW50aWNWYWx1ZSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChzZW1hbnRpY0JsYWNrbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYmFkU2NvcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbWFudGljQmxhY2tsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJhZFdvcmRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbWFudGljVmFsdWUuaW5kZXhPZihiYWRXb3Jkc1tqXSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiYWRTY29yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljQmxhY2tsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY0JsYWNrbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdvb2RTY29yZSAmJiBiYWRTY29yZSkgcmV0dXJuIDA7XG4gICAgICAgIGlmIChiYWRTY29yZSkgcmV0dXJuIC0xICogZmFjdG9yO1xuICAgICAgICBpZiAoZ29vZFNjb3JlKSByZXR1cm4gZmFjdG9yO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbW1vbkFuY2VzdG9yRGlzdGFuY2Uobm9kZUE6IE5vZGUsIG5vZGVCOiBOb2RlLCBkaXN0YW5jZU1hcDogTWFwPE5vZGUsIG51bWJlcj4pIHtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gMTtcbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBlbmRpbmdNYXA6IEFycmF5PE5vZGU+ID0gW107XG4gICAgICAgIGxldCBwZW5kaW5nTWFwU3RhcnREaXN0YW5jZSA9IDA7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmQtYXNzaWduXG4gICAgICAgIHdoaWxlICgobm9kZUEgPSBub2RlQS5wYXJlbnRFbGVtZW50KSkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVkTm9kZURpc3RhbmNlID0gZGlzdGFuY2VNYXAuZ2V0KG5vZGVBKTtcblxuICAgICAgICAgICAgLy8gSWYgd2UgYWxyZWFkeSBrbm93IGhvdyBmYXIgdGhlIHBhcmVudCBpcyB3ZSBjYW4gcmV0dXJuIGVhcmx5IGJ1dCB3ZSBtYXkgaGF2ZSBsZWFybnQgYWJvdXQgbW9yZSBub2RlcyBvbiBvdXIgd2F5XG4gICAgICAgICAgICBpZiAoY2FjaGVkTm9kZURpc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSArPSBjYWNoZWROb2RlRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgcGVuZGluZ01hcFN0YXJ0RGlzdGFuY2UgPSBjYWNoZWROb2RlRGlzdGFuY2UgKyAxO1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gd2Uga25vdyB3ZSBkb24ndCBrbm93IGhvdyBmYXIgdGhpcyBub2RlIGlzIHNvIGxldHMgaW1wbGljaXRseSBzdG9yZSBob3cgZmFyIHdlIGhhdmUgZ290IHNvIGZhclxuICAgICAgICAgICAgcGVuZGluZ01hcC5wdXNoKG5vZGVBKTtcblxuICAgICAgICAgICAgaWYgKG5vZGVBLmNvbnRhaW5zKG5vZGVCKSkge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3RhbmNlKys7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIC8vIGVhY2ggbm9kZSB0aGF0IHdlIGNhbWUgYWNyb3NzIG9uIG91ciBqb3VybmV5IGNhbiBiZSBhc3NpZ25lZCBhIHZhbHVlIG9mIGhvdyBmYXIgaXQgaXMgZnJvbSB0aGUgY29tbW9uIHBhcmVudFxuICAgICAgICAgICAgaWYgKHBlbmRpbmdNYXAubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwZW5kaW5nTWFwU3RhcnREaXN0YW5jZTsgaSA8IGRpc3RhbmNlICYmIHBlbmRpbmdNYXAubGVuZ3RoID4gMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBwZW5kaW5nTWFwLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZU1hcC5zZXQobm9kZSwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRpc3RhbmNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGlzY29ubmVjdGVkIG5vZGUgKEkgZ3Vlc3MgLSBwcm9iYWJseSB3b24ndCBldmVyIGhhcHBlbilcbiAgICAgICAgICAgIHJldHVybiA5MDA3MTk5MjU0NzQwOTkxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3VibWl0IGEgZm9ybVxuICAgIHByaXZhdGUgc3VibWl0Rm9ybShmb3JtOiBIVE1MRm9ybUVsZW1lbnQsIHN1Ym1pdFRhcmdldE5laWdoYm91cjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc3VibWl0RWxlbWVudCA9IHRoaXMuZmluZFN1Ym1pdEJ1dHRvbihmb3JtLCBzdWJtaXRUYXJnZXROZWlnaGJvdXIpO1xuXG4gICAgICAgIC8vIEF2b2lkIHNlYXJjaGluZyBmb3IgbWF0Y2hpbmcgcGFzc3dvcmRzIHVwb24gYXV0by1zdWJtaXNzaW9uXG4gICAgICAgIHRoaXMuZm9ybVNhdmluZy5yZW1vdmVBbGxTdWJtaXRIYW5kbGVycygpO1xuXG4gICAgICAgIC8vIElmIHdlJ3ZlIGZvdW5kIGEgYnV0dG9uIHRvIGNsaWNrLCB1c2UgdGhhdDsgaWYgbm90LCBqdXN0IHN1Ym1pdCB0aGUgZm9ybS5cbiAgICAgICAgaWYgKHN1Ym1pdEVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgXCJTdWJtaXRpbmcgdXNpbmcgZWxlbWVudDogXCIgKyAoc3VibWl0RWxlbWVudCBhcyBhbnkpLm5hbWUgKyBcIjogXCIgKyBzdWJtaXRFbGVtZW50LmlkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc3VibWl0RWxlbWVudC5jbGljaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTdWJtaXRpbmcgdXNpbmcgZm9ybVwiKTtcbiAgICAgICAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL1RPRE86NDogbWF5YmUgc29tZXRoaW5nIGxpa2UgdGhpcyBtaWdodCBiZSB1c2VmdWw/IER1bm5vIHdoeSBhIGNsaWNrKClcbiAgICAgICAgLy8gYWJvdmUgd291bGRuJ3QgYmUgc3VmZmljaWVudCBidXQgbWF5YmUgc29tZSBjdXN0b20gZXZlbnQgcmFpc2luZyBtaWdodCBiZSBoYW5keS4uLlxuICAgICAgICAvKlxuICAgICAgICBmdW5jdGlvbiBzaW11bGF0ZUNsaWNrKCkge1xuICAgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtcbiAgICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwgdHJ1ZSwgdHJ1ZSwgd2luZG93LFxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgICB2YXIgY2IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoZWNrYm94XCIpO1xuICAgICAgICB2YXIgY2FuY2VsZWQgPSAhY2IuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgICBpZihjYW5jZWxlZCkge1xuICAgICAgICAgICAgLy8gQSBoYW5kbGVyIGNhbGxlZCBwcmV2ZW50RGVmYXVsdFxuICAgICAgICAgICAgYWxlcnQoXCJjYW5jZWxlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vbmUgb2YgdGhlIGhhbmRsZXJzIGNhbGxlZCBwcmV2ZW50RGVmYXVsdFxuICAgICAgICAgICAgYWxlcnQoXCJub3QgY2FuY2VsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmVsZXZhbmNlU2NvcmUoXG4gICAgICAgIGVudHJ5OiBFbnRyeSxcbiAgICAgICAgcGFzc3dvcmRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdLFxuICAgICAgICBvdGhlckZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIGN1cnJlbnRQYWdlOiBudW1iZXIsXG4gICAgICAgIGZvcm1WaXNpYmxlOiBib29sZWFuLFxuICAgICAgICBzY29yZUNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICB2aXNpYmxlRmllbGRDYWNoZTogVmlzaWJsZUZpZWxkQ2FjaGVcbiAgICApIHtcbiAgICAgICAgbGV0IHNjb3JlID0gMDtcbiAgICAgICAgbGV0IGxvd0ZpZWxkTWF0Y2hSYXRpbyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEtlZSAzLjQrIG5vIGxvbmdlciBjb25zaWRlcnMgcHJpb3JpdHkgb3ZlcnJpZGVzIGJlY2F1c2UgdGhleSB3ZXJlXG4gICAgICAgIC8vIGNvbXBsaWNhdGVkIGFuZCB1bnJlbGlhYmxlIGV2ZW4gd2hlbiBmdWxseSB1bmRlcnN0b29kLlxuXG4gICAgICAgIC8vIEtlZSAxLjUrIG5vIGxvbmdlciBjb25zaWRlcnMgYWN0aW9uIFVSTHMgaW4gcmVsZXZhbmNlIHdlaWdodGluZy4gU2luY2UgdGhlIG9ubHlcbiAgICAgICAgLy8gZW50cnkgZW50cmllcyBvZiBpbnRlcmVzdCBhcmUgYWxyZWFkeSBwcmUtbWF0Y2hlZCBieSBLZWVQYXNzLCB0aGlzIHNob3VsZCBoYXZlIGJlZW5cbiAgICAgICAgLy8gYWRkaW5nIG5lZ2xpZ2FibGUgYWNjdXJhY3kgdG8gdGhlIGZvcm0gbWF0Y2hpbmcuXG5cbiAgICAgICAgc2NvcmUgKz0gZW50cnkubWF0Y2hBY2N1cmFjeTtcblxuICAgICAgICAvLyBQdW5pc2ggYnV0IGRvbid0IGVudGlyZWx5IGV4Y2x1ZGUgbWF0Y2hlcyBhZ2FpbnN0IGludmlzaWJsZSBmb3Jtc1xuICAgICAgICAvLyBUaGlzIGlzIGluIGFkZGl0aW9uIHRvIHRoZSBtYXhpbXVtIHNjb3JlIG9mIGludmlzaWJsZSBmaWVsZHMgYmVpbmcgbGltaXRlZFxuICAgICAgICAvLyBzbyB0aGF0IGZvcm1zIHdpdGggc29tZSB2aXNpYmxlIGZpZWxkcyBidXQgaW52aXNpYmxlIHVzZXJuYW1lL3Bhc3N3b3JkXG4gICAgICAgIC8vIGZpZWxkcyAob3Igb3VyIGJlc3QgZ3Vlc3MgYXQgdGhlbSBhbnl3YXkpIGFyZSBjb25zaWRlcmVkIGEgbGVzcyBsaWtlbHkgbWF0Y2hcbiAgICAgICAgaWYgKCFmb3JtVmlzaWJsZSkgc2NvcmUgLT0gMjA7XG5cbiAgICAgICAgLy8gVGhpcyBpcyBzaW1pbGFyIHRvIF9maWxsTWFueUZvcm1GaWVsZHMgc28gbWlnaHQgYmUgYWJsZSB0byByZXVzZSB0aGUgcmVzdWx0cyBpbiBmdXR1cmVcbiAgICAgICAgLy8gKGJ1dCBuZWVkIHRvIHdhdGNoIGZvciBjaGFuZ2VzIHRoYXQgaW52YWxpZGF0ZSB0aGUgZWFybGllciBjYWxjdWxhdGlvbnMpLlxuXG4gICAgICAgIC8vIFJlcXVpcmUgYXQgbGVhc3QgYSB0eXBlIG1hdGNoIGZvciAyLWZpZWxkIGZvcm1zIChlLmcuIHVzZXIvcGFzcyk7IDEgbWlzc2luZ1xuICAgICAgICAvLyBtYXRjaCBmb3IgMyBvciA0IGZpZWxkIGZvcm1zOyBldGMuXG4gICAgICAgIGNvbnN0IG1pbk1hdGNoZWRGaWVsZENvdW50UmF0aW8gPSAwLjUwMTtcblxuICAgICAgICBjb25zdCBbb3RoZXJSZWxldmFuY2VTY29yZSwgb3RoZXJGaWVsZE1hdGNoU3VjY2Vzc2VzXSA9IHRoaXMuZGV0ZXJtaW5lUmVsZXZhbmNlU2NvcmVzKFxuICAgICAgICAgICAgXCJvdGhlclwiLFxuICAgICAgICAgICAgb3RoZXJGaWVsZHMsXG4gICAgICAgICAgICBlbnRyeS5maWVsZHMuZmlsdGVyKGYgPT4gZi50eXBlICE9PSBcInBhc3N3b3JkXCIpLFxuICAgICAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgICAgICBzY29yZUNvbmZpZyxcbiAgICAgICAgICAgIHZpc2libGVGaWVsZENhY2hlLm90aGVyXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IFtwYXNzd29yZFJlbGV2YW5jZVNjb3JlLCBwYXNzd29yZEZpZWxkTWF0Y2hTdWNjZXNzZXNdID0gdGhpcy5kZXRlcm1pbmVSZWxldmFuY2VTY29yZXMoXG4gICAgICAgICAgICBcInBhc3N3b3JkXCIsXG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkcyxcbiAgICAgICAgICAgIGVudHJ5LmZpZWxkcy5maWx0ZXIoZiA9PiBmLnR5cGUgPT09IFwicGFzc3dvcmRcIiksXG4gICAgICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgIHNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgdmlzaWJsZUZpZWxkQ2FjaGUucGFzc3dvcmRcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB0b3RhbFJlbGV2YW5jZVNjb3JlID0gb3RoZXJSZWxldmFuY2VTY29yZSArIHBhc3N3b3JkUmVsZXZhbmNlU2NvcmU7XG5cbiAgICAgICAgLy8gT25seSBjb25zaWRlciBmaWVsZHMgdGhhdCBjYW4gZXZlciBtYXRjaCBhYm92ZSB0aGUgbWluaW11bSAoZXNzZW50aWFsbHlcbiAgICAgICAgLy8gaWdub3JlIGVtcHR5IGZvcm0gb3IgZW50cnkgZmllbGRzKS4gV2lsbCB1bmRlcmVzdGltYXRlIG51bWJlciBvZiBmb3JtXG4gICAgICAgIC8vIGZpZWxkcywgcmVzdWx0aW5nIGluIGluY3JlYXNlZCBtYXRjaCByYXRpbyBhbmQgbGVzcyBhY2N1cmF0ZSByZWxldmFuY3lcbiAgICAgICAgLy8gc2NvcmVzIGZvciBmb3JtcyB0aGF0IGNvbnRhaW4gYSB1c2VybmFtZS9wYXNzd29yZCBmaWVsZCB3aXRoIG5vIG5hbWVcbiAgICAgICAgLy8gb3IgaWQgYXR0cmlidXRlcy4gTm8gaWRlYSBpZiB0aGlzIHdpbGwgY2F1c2UgYSBwcm9ibGVtLiBTZWVtcyB0by5cbiAgICAgICAgLy8gTWl0aWdhdGluZyBieSBhZGp1c3RpbmcgbWluIHJlbGV2YW5jeSB2YWx1ZXMsIGV0Yy4gc28gY2FuIHJlbW92ZVxuICAgICAgICAvLyB0aGlzIGNvbW1lbnQgaW4gYSBmZXcgdmVyc2lvbnMgaWYgYWxsIGlzIGdvb2QuXG4gICAgICAgIC8vIHYzLjUgc3RpbGwgbm90IGdvb2QuIEhhdmUgZml4ZWQgYSB2aXNpYmlsaXR5IGJ1Zywgd2hpY2ggZXhhY2VyYmF0ZXNcbiAgICAgICAgLy8gc29tZSBvdGhlciBidWdzLiBXaWxsIHRyeSBpZ25vcmluZyBub24tdGV4dC9wYXNzd29yZCBmaWVsZHMgaW4gcmF0aW9cbiAgICAgICAgLy8gY2FsY3VsYXRpb24gZm9yIGF1dG9maWxsIChjYW4gZXh0ZW5kIHRvIGZvcm0gc2VsZWN0aW9uIGNhbGN1bGF0aW9uIGxhdGVyIGlmIGdvb2QpXG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZENvdW50ID0gcGFzc3dvcmRGaWVsZHNcbiAgICAgICAgICAgIC5jb25jYXQob3RoZXJGaWVsZHMpXG4gICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5maWVsZC5sb2NhdG9yc1swXS5pZCB8fCBmLmZpZWxkLmxvY2F0b3JzWzBdLm5hbWUgfHwgZi5maWVsZC52YWx1ZSlcbiAgICAgICAgICAgIC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxvZ2luRmllbGRDb3VudCA9IGVudHJ5LmZpZWxkcy5maWx0ZXIoXG4gICAgICAgICAgICBmID0+IGYubG9jYXRvcnNbMF0uaWQgfHwgZi5sb2NhdG9yc1swXS5uYW1lIHx8IGYudmFsdWVcbiAgICAgICAgKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGwgPSBwYXNzd29yZEZpZWxkc1xuICAgICAgICAgICAgLmNvbmNhdChvdGhlckZpZWxkcylcbiAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgZiA9PlxuICAgICAgICAgICAgICAgICAgICAoZi5maWVsZC50eXBlID09PSBcInBhc3N3b3JkXCIgfHwgZi5maWVsZC50eXBlID09PSBcInRleHRcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgKGYuZmllbGQubG9jYXRvcnNbMF0uaWQgfHwgZi5maWVsZC5sb2NhdG9yc1swXS5uYW1lKVxuICAgICAgICAgICAgKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxvZ2luRmllbGRDb3VudEZvckF1dG9maWxsID0gZW50cnkuZmllbGRzLmZpbHRlcihcbiAgICAgICAgICAgIGYgPT5cbiAgICAgICAgICAgICAgICAoZi50eXBlID09PSBcInBhc3N3b3JkXCIgfHwgZi50eXBlID09PSBcInRleHRcIikgJiZcbiAgICAgICAgICAgICAgICAoZi5sb2NhdG9yc1swXS5pZCB8fCBmLmxvY2F0b3JzWzBdLm5hbWUgfHwgZi52YWx1ZSlcbiAgICAgICAgKS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgZm9ybU1hdGNoZWRGaWVsZENvdW50Rm9yQXV0b2ZpbGwgPVxuICAgICAgICAgICAgb3RoZXJGaWVsZE1hdGNoU3VjY2Vzc2VzLmZpbHRlcihzID0+IHMgPT09IHRydWUpLmxlbmd0aCArXG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkTWF0Y2hTdWNjZXNzZXMuZmlsdGVyKHMgPT4gcyA9PT0gdHJ1ZSkubGVuZ3RoO1xuXG4gICAgICAgIGNvbnN0IG51bWJlck9mTmV3UGFzc3dvcmRGaWVsZHMgPSBwYXNzd29yZEZpZWxkcy5maWx0ZXIoZiA9PlxuICAgICAgICAgICAgZi5maWVsZC5sb2NhdG9yc1swXS5hdXRvY29tcGxldGVWYWx1ZXM/LnNvbWUodiA9PiB2ID09PSBcIm5ldy1wYXNzd29yZFwiKVxuICAgICAgICApLmxlbmd0aDtcblxuICAgICAgICAvLyBMaW1pdGluZyB0byBudW1iZXIgb2YgZW50cnkgZmllbGRzIHdpbGwgcmVkdWNlIGZhbHNlIHBvc2l0aXZlcyBidXRcbiAgICAgICAgLy9pbmNyZWFzZSBjaGFuY2Ugb2YgYSB2YWxpZCBmb3JtIGJlaW5nIG1pc3NlZC5cbiAgICAgICAgLy8gVG8gaGVscCB3aXRoIHBhc3N3b3JkIGNoYW5naW5nLCB3ZSB0cmVhdCBhbnkga25vd24gXCJuZXcgcGFzc3dvcmRcIiBmaWVsZHMgYXMgYW4gYXV0b21hdGljIG1hdGNoXG4gICAgICAgIGNvbnN0IGZpZWxkTWF0Y2hSYXRpb0ZvckF1dG9maWxsID1cbiAgICAgICAgICAgIE1hdGgubWluKFxuICAgICAgICAgICAgICAgIGxvZ2luRmllbGRDb3VudEZvckF1dG9maWxsICsgbnVtYmVyT2ZOZXdQYXNzd29yZEZpZWxkcyxcbiAgICAgICAgICAgICAgICBmb3JtTWF0Y2hlZEZpZWxkQ291bnRGb3JBdXRvZmlsbFxuICAgICAgICAgICAgKSAvIE1hdGgubWF4KDEsIGZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGwpO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgXCJmb3JtRmllbGRDb3VudDogXCIgK1xuICAgICAgICAgICAgICAgIGZvcm1GaWVsZENvdW50ICtcbiAgICAgICAgICAgICAgICBcIiwgbG9naW5GaWVsZENvdW50OiBcIiArXG4gICAgICAgICAgICAgICAgbG9naW5GaWVsZENvdW50ICtcbiAgICAgICAgICAgICAgICBcIiwgbG9naW5GaWVsZENvdW50Rm9yQXV0b2ZpbGw6IFwiICtcbiAgICAgICAgICAgICAgICBsb2dpbkZpZWxkQ291bnRGb3JBdXRvZmlsbCArXG4gICAgICAgICAgICAgICAgXCIsIGZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGw6IFwiICtcbiAgICAgICAgICAgICAgICBmb3JtRmllbGRDb3VudEZvckF1dG9maWxsICtcbiAgICAgICAgICAgICAgICBcIiwgZm9ybU1hdGNoZWRGaWVsZENvdW50Rm9yQXV0b2ZpbGw6IFwiICtcbiAgICAgICAgICAgICAgICBmb3JtTWF0Y2hlZEZpZWxkQ291bnRGb3JBdXRvZmlsbCArXG4gICAgICAgICAgICAgICAgXCIsIG51bWJlck9mTmV3UGFzc3dvcmRGaWVsZHM6IFwiICtcbiAgICAgICAgICAgICAgICBudW1iZXJPZk5ld1Bhc3N3b3JkRmllbGRzICtcbiAgICAgICAgICAgICAgICBcIiwgZmllbGRNYXRjaFJhdGlvOiBcIiArXG4gICAgICAgICAgICAgICAgZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGwgPCBtaW5NYXRjaGVkRmllbGRDb3VudFJhdGlvKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFxuICAgICAgICAgICAgICAgIGVudHJ5LnV1aWQgK1xuICAgICAgICAgICAgICAgICAgICBcIiB3aWxsIGJlIGZvcmNlZCB0byBub3QgYXV0by1maWxsIGJlY2F1c2UgdGhlIGZvcm0gZmllbGQgbWF0Y2ggcmF0aW8gKFwiICtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGwgK1xuICAgICAgICAgICAgICAgICAgICBcIikgaXMgbm90IGhpZ2ggZW5vdWdoLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG93RmllbGRNYXRjaFJhdGlvID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VGaWVsZFJlbGV2YW5jZSA9XG4gICAgICAgICAgICB0b3RhbFJlbGV2YW5jZVNjb3JlIC8gTWF0aC5tYXgoZm9ybUZpZWxkQ291bnQsIGxvZ2luRmllbGRDb3VudCk7XG4gICAgICAgIGNvbnN0IGFkanVzdGVkUmVsZXZhbmNlID1cbiAgICAgICAgICAgIGF2ZXJhZ2VGaWVsZFJlbGV2YW5jZSAvIChNYXRoLmFicyhmb3JtRmllbGRDb3VudCAtIGxvZ2luRmllbGRDb3VudCkgKyAxKTtcblxuICAgICAgICBzY29yZSArPSBhZGp1c3RlZFJlbGV2YW5jZTtcblxuICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiUmVsZXZhbmNlIGZvciBcIiArIGVudHJ5LnV1aWQgKyBcIiBpczogXCIgKyBzY29yZSk7XG4gICAgICAgIHJldHVybiB7IHNjb3JlOiBzY29yZSwgbG93RmllbGRNYXRjaFJhdGlvOiBsb3dGaWVsZE1hdGNoUmF0aW8gfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRldGVybWluZVJlbGV2YW5jZVNjb3JlcyhcbiAgICAgICAgZGVidWdOYW1lOiBzdHJpbmcsXG4gICAgICAgIG1hdGNoZWRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdLFxuICAgICAgICBlbnRyeUZpZWxkczogRmllbGRbXSxcbiAgICAgICAgY3VycmVudFBhZ2U6IG51bWJlcixcbiAgICAgICAgc2NvcmVDb25maWc6IEZpZWxkTWF0Y2hTY29yZUNvbmZpZyxcbiAgICAgICAgdmlzaWJsZUZpZWxkTWFwOiBib29sZWFuW11cbiAgICApOiBbbnVtYmVyLCBib29sZWFuW11dIHtcbiAgICAgICAgbGV0IHRvdGFsUmVsZXZhbmNlU2NvcmUgPSAwO1xuICAgICAgICBjb25zdCBtaW5GaWVsZFJlbGV2YW5jZSA9IDE7XG4gICAgICAgIGNvbnN0IGZpZWxkTWF0Y2hTdWNjZXNzZXM6IGJvb2xlYW5bXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hlZEZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG1vc3RSZWxldmFudFNjb3JlID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1GaWVsZCA9IG1hdGNoZWRGaWVsZHNbaV0uZmllbGQ7XG5cbiAgICAgICAgICAgIGlmIChmb3JtRmllbGQubG9jYXRvcnNbMF0uYXV0b2NvbXBsZXRlVmFsdWVzPy5zb21lKHYgPT4gdiA9PT0gXCJuZXctcGFzc3dvcmRcIikpIHtcbiAgICAgICAgICAgICAgICAvLyBSZWNvcmQgYXMgYSBzdWNjZXNzZnVsIG1hdGNoIGZvciB0aGUgcHVycG9zZXMgb2YgbWF0Y2ggcmF0aW8gY2FsY3VsYXRpb25zXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIG5ldyBwYXNzd29yZCBmaWVsZCBhcyBwYXJ0IG9mIGEgY2hhbmdlIHBhc3N3b3JkIGZvcm0uIFNvIHdlXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWZmZWN0IHRoZSBzZWxlY3Rpb24gb2YgdGhlIGZvcm0gb3IgZW50cnkgdG8gZmlsbCBidXQgd2hlbiBhbGxcbiAgICAgICAgICAgICAgICAvLyBlbHNlIGlzIGVxdWFsLCB3ZSB3aWxsIGhhdmUgYSBoaWdoZXIgY2hhbmNlIG9mIGF1dG8tZmlsbGluZyB0aGUgZXhpc3RpbmdcbiAgICAgICAgICAgICAgICAvLyB1c2VyIG5hbWUgYW5kIHBhc3N3b3JkIGZpZWxkcy5cbiAgICAgICAgICAgICAgICBmaWVsZE1hdGNoU3VjY2Vzc2VzW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbnRyeUZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZtU2NvcmUgPSB0aGlzLmNhbGN1bGF0ZUZpZWxkTWF0Y2hTY29yZShcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEZpZWxkc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgZW50cnlGaWVsZHNbal0sXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgICAgICAgICBzY29yZUNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUZpZWxkTWFwW2ldXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJTdWl0YWJpbGl0eSBvZiBwdXR0aW5nIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBmaWVsZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBqICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGludG8gZm9ybSBmaWVsZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIChpZDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLmlkICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiKSBpcyBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBmbVNjb3JlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoZm1TY29yZSA+IG1vc3RSZWxldmFudFNjb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vc3RSZWxldmFudFNjb3JlID0gZm1TY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZm1TY29yZUZvclJhdGlvID0gZm1TY29yZSAtICh2aXNpYmxlRmllbGRNYXBbaV0gPyAwIDogMTApO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKGZvcm1GaWVsZC50eXBlID09PSBcInRleHRcIiB8fCBmb3JtRmllbGQudHlwZSA9PT0gXCJwYXNzd29yZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICBmbVNjb3JlRm9yUmF0aW8gPj0gbWluRmllbGRSZWxldmFuY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgZW50cnlGaWVsZHNbal0udmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgIWZpZWxkTWF0Y2hTdWNjZXNzZXNbaV1cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRNYXRjaFN1Y2Nlc3Nlc1tpXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEZpZWxkc1tpXS5oaWdoZXN0U2NvcmUgPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICBmbVNjb3JlID4gbWF0Y2hlZEZpZWxkc1tpXS5oaWdoZXN0U2NvcmVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZEZpZWxkc1tpXS5oaWdoZXN0U2NvcmUgPSBmbVNjb3JlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdGFsUmVsZXZhbmNlU2NvcmUgKz0gbW9zdFJlbGV2YW50U2NvcmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b3RhbFJlbGV2YW5jZVNjb3JlLCBmaWVsZE1hdGNoU3VjY2Vzc2VzXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMua2VlRmllbGRJY29uLnJlbW92ZUtlZUljb25Gcm9tQWxsRmllbGRzKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0ZpZWxkXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXRjaGVkRmllbGQge1xuICAgIGZpZWxkOiBGaWVsZDtcbiAgICBET01lbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgaGlnaGVzdFNjb3JlOiBudW1iZXI7XG59XG4iLCJpbXBvcnQgeyBLZWVMb2dnZXIgfSBmcm9tIFwiLi4vY29tbW9uL0xvZ2dlclwiO1xuaW1wb3J0IHsgTWF0Y2hlZEZpZWxkIH0gZnJvbSBcIi4vTWF0Y2hlZEZpZWxkXCI7XG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRmllbGRcIjtcblxuLypcbiAgVGhpcyBjb250YWlucyBjb2RlIHJlbGF0ZWQgdG8gdGhlIG1hbmFnZW1lbnQgYW5kIG1hbmlwdWxhdGlvbiBvZiBmb3JtcyBhbmQgZm9ybSBmaWVsZHMuXG4qL1xuXG5leHBvcnQgY2xhc3MgRm9ybVV0aWxzIHtcbiAgICBmaW5kTG9naW5PcHMgPSBbXTtcbiAgICBtYXRjaFJlc3VsdHMgPSBbXTtcbiAgICBMb2dnZXI6IEtlZUxvZ2dlcjtcblxuICAgIGNvbnN0cnVjdG9yKGxvZ2dlcjogS2VlTG9nZ2VyKSB7XG4gICAgICAgIHRoaXMuTG9nZ2VyID0gbG9nZ2VyO1xuICAgIH1cblxuICAgIGNvdW50QWxsRG9jdW1lbnRzKGZyYW1lOiBXaW5kb3cpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVXJpV2VDYW5GaWxsKGZyYW1lLmxvY2F0aW9uKSkgcmV0dXJuIDA7XG5cbiAgICAgICAgbGV0IGxvY2FsRG9jQ291bnQgPSAxO1xuXG4gICAgICAgIGlmIChmcmFtZS5mcmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZnJhbWVzID0gZnJhbWUuZnJhbWVzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsb2NhbERvY0NvdW50ICs9IHRoaXMuY291bnRBbGxEb2N1bWVudHMoZnJhbWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxEb2NDb3VudDtcbiAgICB9XG5cbiAgICBpc1VyaVdlQ2FuRmlsbCh1cmkpIHtcbiAgICAgICAgaWYgKHVyaS5wcm90b2NvbCA9PSBcImh0dHA6XCIgfHwgdXJpLnByb3RvY29sID09IFwiaHR0cHM6XCIgfHwgdXJpLnByb3RvY29sID09IFwiZmlsZTpcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzQVRleHRGb3JtRmllbGRUeXBlKHR5cGUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZSA9PSBcImNoZWNrYm94XCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJzZWxlY3Qtb25lXCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJyYWRpb1wiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwicGFzc3dvcmRcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcImhpZGRlblwiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwic3VibWl0XCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJidXR0b25cIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcImZpbGVcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcImltYWdlXCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJyZXNldFwiXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0FLbm93blVzZXJuYW1lU3RyaW5nKGZpZWxkTmFtZUluKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGZpZWxkTmFtZUluLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInVzZXJuYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImpfdXNlcm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlcl9uYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInVzZXJcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlci1uYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImxvZ2luXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInZiX2xvZ2luX3VzZXJuYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlciBuYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInVzZXIgaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlci1pZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiZW1haWxcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiZS1tYWlsXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImlkXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImZvcm1fbG9naW5uYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIndwbmFtZVwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJtYWlsXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImxvZ2luaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibG9naW4gaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibG9naW5fbmFtZVwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJvcGVuaWRfaWRlbnRpZmllclwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJhdXRoZW50aWNhdGlvbl9lbWFpbFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJvcGVuaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiYXV0aF9lbWFpbFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJhdXRoX2lkXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImF1dGhlbnRpY2F0aW9uX2lkZW50aWZpZXJcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiYXV0aGVudGljYXRpb25faWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiY3VzdG9tZXJfbnVtYmVyXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImN1c3RvbWVybnVtYmVyXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm9ubGluZWlkXCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBldGMuIGV0Yy5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIGdldEZvcm1GaWVsZHNcbiAgICAgKlxuICAgICAqIFJldHVybnMgdGhlIHVzZXJuYW1lSW5kZXggYW5kIHBhc3N3b3JkIGZpZWxkcyBmb3VuZCBpbiB0aGUgZm9ybS5cbiAgICAgKiBDYW4gaGFuZGxlIGNvbXBsZXggZm9ybXMgYnkgdHJ5aW5nIHRvIGZpZ3VyZSBvdXQgd2hhdCB0aGVcbiAgICAgKiByZWxldmFudCBmaWVsZHMgYXJlLlxuICAgICAqXG4gICAgICogUmV0dXJuczogW3VzZXJuYW1lSW5kZXgsIHBhc3N3b3JkcywgLi4uXVxuICAgICAqIGFsbCBhcnJheXMgYXJlIHN0YW5kYXJkIGphdmFzY3JpcHQgYXJyYXlzXG4gICAgICogdXNlcm5hbWVGaWVsZCBtYXkgYmUgbnVsbC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Rm9ybUZpZWxkcyhmb3JtLCBpc1N1Ym1pc3Npb246IGJvb2xlYW4sIG1heGltdW1GaWVsZENvdW50OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcHdGaWVsZHM6IE1hdGNoZWRGaWVsZFtdID0gW107XG4gICAgICAgIGNvbnN0IG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXSA9IFtdO1xuICAgICAgICBjb25zdCBhbGxGaWVsZHM6IHtcbiAgICAgICAgICAgIGluZGV4OiBudW1iZXI7XG4gICAgICAgICAgICBlbGVtZW50OiBNYXRjaGVkRmllbGQ7XG4gICAgICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgICAgIH1bXSA9IFtdO1xuICAgICAgICBsZXQgZmlyc3RQYXNzd29yZEluZGV4ID0gLTE7XG4gICAgICAgIGxldCBmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCA9IC0xO1xuICAgICAgICBsZXQgdXNlcm5hbWVJbmRleCA9IC0xO1xuXG4gICAgICAgIC8vIHNlYXJjaCB0aGUgRE9NIGZvciBhbnkgZm9ybSBmaWVsZHMgd2UgbWlnaHQgYmUgaW50ZXJlc3RlZCBpblxuICAgICAgICBjb25zdCB0b3RhbEVsZW1lbnRzID0gZm9ybS5lbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRMaW1pdCA9IHRvdGFsRWxlbWVudHMgPCAyMDAwID8gdG90YWxFbGVtZW50cyA6IDIwMDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudExpbWl0OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhbGxGaWVsZHMubGVuZ3RoID4gbWF4aW11bUZpZWxkQ291bnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbWFueSBmaWVsZHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZm9ybS5lbGVtZW50c1tpXS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSA9PSBcIm9iamVjdFwiIHx8XG4gICAgICAgICAgICAgICAgZm9ybS5lbGVtZW50c1tpXS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImtleWdlblwiIHx8XG4gICAgICAgICAgICAgICAgZm9ybS5lbGVtZW50c1tpXS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSA9PSBcIm91dHB1dFwiIHx8XG4gICAgICAgICAgICAgICAgKGZvcm0uZWxlbWVudHNbaV0ubG9jYWxOYW1lLnRvTG93ZXJDYXNlKCkgIT0gXCJpbnB1dFwiICYmXG4gICAgICAgICAgICAgICAgICAgIChmb3JtLmVsZW1lbnRzW2ldLnR5cGUgPT0gdW5kZWZpbmVkIHx8IGZvcm0uZWxlbWVudHNbaV0udHlwZSA9PSBudWxsKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBtYXliZSBpdCdzIHNvbWV0aGluZyB1bi1pbnRlcmVzdGluZ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkb21UeXBlOiBzdHJpbmcgPSBmb3JtLmVsZW1lbnRzW2ldLnR5cGUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJmaWVsZHNldFwiKSBjb250aW51ZTsgLy8gbm90IGludGVyZXN0ZWQgaW4gZmllbGRzZXRzXG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBkb21UeXBlICE9IFwicGFzc3dvcmRcIiAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmlzQVRleHRGb3JtRmllbGRUeXBlKGRvbVR5cGUpICYmXG4gICAgICAgICAgICAgICAgZG9tVHlwZSAhPSBcImNoZWNrYm94XCIgJiZcbiAgICAgICAgICAgICAgICBkb21UeXBlICE9IFwicmFkaW9cIiAmJlxuICAgICAgICAgICAgICAgIGRvbVR5cGUgIT0gXCJzZWxlY3Qtb25lXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBpZ25vcmluZyBvdGhlciBmb3JtIHR5cGVzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkb21UeXBlID09IFwicmFkaW9cIiAmJiBpc1N1Ym1pc3Npb24gJiYgZm9ybS5lbGVtZW50c1tpXS5jaGVja2VkID09IGZhbHNlKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChkb21UeXBlID09IFwicGFzc3dvcmRcIiAmJiBpc1N1Ym1pc3Npb24gJiYgIWZvcm0uZWxlbWVudHNbaV0udmFsdWUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJzZWxlY3Qtb25lXCIgJiYgaXNTdWJtaXNzaW9uICYmICFmb3JtLmVsZW1lbnRzW2ldLnZhbHVlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoYHByb2Nlc3NpbmcgZmllbGQgd2l0aCBkb210eXBlICR7ZG9tVHlwZX0uLi5gKTtcbiAgICAgICAgICAgIGFsbEZpZWxkc1thbGxGaWVsZHMubGVuZ3RoXSA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBuZXcgTWF0Y2hlZEZpZWxkKCksXG4gICAgICAgICAgICAgICAgdHlwZTogZG9tVHlwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBmaWVsZFZhbHVlID0gZm9ybS5lbGVtZW50c1tpXS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChkb21UeXBlID09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgICAgIGlmIChmb3JtLmVsZW1lbnRzW2ldLmNoZWNrZWQpIGZpZWxkVmFsdWUgPSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfVFJVRVwiO1xuICAgICAgICAgICAgICAgIGVsc2UgZmllbGRWYWx1ZSA9IFwiS0VFRk9YX0NIRUNLRURfRkxBR19GQUxTRVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBGaWVsZC5mcm9tRE9NKGZvcm0uZWxlbWVudHNbaV0sIGRvbVR5cGUsIGZpZWxkVmFsdWUpO1xuICAgICAgICAgICAgYWxsRmllbGRzW2FsbEZpZWxkcy5sZW5ndGggLSAxXS5lbGVtZW50LmZpZWxkID0gZmllbGQ7XG4gICAgICAgICAgICBhbGxGaWVsZHNbYWxsRmllbGRzLmxlbmd0aCAtIDFdLmVsZW1lbnQuRE9NZWxlbWVudCA9IGZvcm0uZWxlbWVudHNbaV07XG5cbiAgICAgICAgICAgIGlmIChkb21UeXBlID09IFwicGFzc3dvcmRcIiAmJiBmaXJzdFBhc3N3b3JkSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBmaXJzdFBhc3N3b3JkSW5kZXggPSBhbGxGaWVsZHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuaXNBVGV4dEZvcm1GaWVsZFR5cGUoZG9tVHlwZSkgJiZcbiAgICAgICAgICAgICAgICBmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCA9PSAtMSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLmlzQUtub3duVXNlcm5hbWVTdHJpbmcoZm9ybS5lbGVtZW50c1tpXS5uYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5sb2NhdG9yc1swXS5sYWJlbHM/LnNvbWUobGFiZWwgPT4gdGhpcy5pc0FLbm93blVzZXJuYW1lU3RyaW5nKGxhYmVsKSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCA9IGFsbEZpZWxkcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZm9ybS5lbGVtZW50c1tpXS5rZWVJbml0aWFsRGV0ZWN0ZWRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9ybS5lbGVtZW50c1tpXS5rZWVJbml0aWFsRGV0ZWN0ZWRWYWx1ZSA9IGZpZWxkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXb3JrIG91dCB3aGljaCBET00gZm9ybSBlbGVtZW50IGlzIG1vc3QgbGlrZWx5IHRvIGJlIHRoZSB1c2VybmFtZSBmaWVsZC5cbiAgICAgICAgLy8gVGhpcyBpbmZvcm1hdGlvbiBpcyBvbmx5IHVzZWQgdG8gZGlzcGxheSB0aGUgdXNlcm5hbWUgdG8gdGhlIHVzZXIgc28gYW4gaW5hY2N1cmF0ZVxuICAgICAgICAvLyBjaG9pY2Ugd29uJ3QgaW1wYWN0IHRoZSBmb3JtIGRldGVjdGlvbiBvciBmaWxsaW5nIGJlaGF2aW91ci5cbiAgICAgICAgLy9UT0RPOjQ6IEV4dGVuZCB0aGlzIHRvIGluc3BlY3QgbW9yZSB0aGFuIGp1c3QgdGhlIG5hbWUgb2YgdGhlIGZpZWxkLiBFLmcuIG1heCBsZW5ndGg/XG4gICAgICAgIC8vVE9ETzo0OiBGb3IgZm9ybSBmaWxsaW5nIChub3Qgc3VibWl0dGluZykgd2UgbWlnaHQgd2FudCB0byBzZWxlY3QgYmFzZWQgdXBvbiBmb3VuZCBkYXRhIGluIEtlZVBhc3M/XG4gICAgICAgIGlmIChmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCAhPSAtMSkgdXNlcm5hbWVJbmRleCA9IGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4O1xuICAgICAgICBlbHNlIGlmIChmaXJzdFBhc3N3b3JkSW5kZXggPiAwKSB1c2VybmFtZUluZGV4ID0gZmlyc3RQYXNzd29yZEluZGV4IC0gMTtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ1c2VybmFtZUluZGV4OiBcIiArIHVzZXJuYW1lSW5kZXgpO1xuXG4gICAgICAgIGxldCBvdGhlckNvdW50ID0gMDtcbiAgICAgICAgbGV0IGFjdHVhbFVzZXJuYW1lSW5kZXggPSAwO1xuXG4gICAgICAgIC8vIHNlcGFyYXRlIHRoZSBmaWVsZCBkYXRhIGludG8gYXBwcm9wcmlhdGUgdmFyaWFibGVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsRmllbGRzW2ldLnR5cGUgPT0gXCJwYXNzd29yZFwiKSBwd0ZpZWxkc1twd0ZpZWxkcy5sZW5ndGhdID0gYWxsRmllbGRzW2ldLmVsZW1lbnQ7XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLmlzQVRleHRGb3JtRmllbGRUeXBlKGFsbEZpZWxkc1tpXS50eXBlKSB8fFxuICAgICAgICAgICAgICAgIGFsbEZpZWxkc1tpXS50eXBlID09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgICAgIGFsbEZpZWxkc1tpXS50eXBlID09IFwicmFkaW9cIiB8fFxuICAgICAgICAgICAgICAgIGFsbEZpZWxkc1tpXS50eXBlID09IFwic2VsZWN0LW9uZVwiXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBvdGhlckZpZWxkc1tvdGhlckZpZWxkcy5sZW5ndGhdID0gYWxsRmllbGRzW2ldLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gdXNlcm5hbWVJbmRleCkgYWN0dWFsVXNlcm5hbWVJbmRleCA9IG90aGVyQ291bnQ7XG4gICAgICAgICAgICAgICAgZWxzZSBvdGhlckNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImFjdHVhbFVzZXJuYW1lSW5kZXg6IFwiICsgYWN0dWFsVXNlcm5hbWVJbmRleCk7XG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwib3RoZXJGaWVsZHMubGVuZ3RoOlwiICsgb3RoZXJGaWVsZHMubGVuZ3RoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0dWFsVXNlcm5hbWVJbmRleCxcbiAgICAgICAgICAgIHB3RmllbGRzLFxuICAgICAgICAgICAgb3RoZXJGaWVsZHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBBIGJhc2ljLCBzbGlnaHRseSBmbGF3ZWQgYnV0IGZhc3QgdmlzaWJpbGl0eSB0ZXN0XG4gICAgcHVibGljIGlzRE9NRWxlbWVudFZpc2libGUoZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Lm9mZnNldFBhcmVudCAmJiBlbGVtZW50Lm9mZnNldEhlaWdodCA9PT0gMCAmJiBlbGVtZW50Lm9mZnNldFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gLy8gdXNlZCBmb3IgbXVsdGlwYWdlIHN0dWZmIHRoYXQgd2UgbWlnaHQgbm90IGJlIGFibGUgdG8gc3VwcG9ydCB5ZXQgaW4gd2ViZXh0ZW5zaW9uc1xuICAgIC8vIHJlc2V0Rm9ybUZpbGxTZXNzaW9uICgpIHtcbiAgICAvLyAgICAgaWYgKHJlc2V0Rm9ybUZpbGxUaW1lciAhPSBudWxsKSB7XG4gICAgLy8gICAgICAgICBjbGVhclRpbWVvdXQocmVzZXRGb3JtRmlsbFRpbWVyKTtcbiAgICAvLyAgICAgICAgIHJlc2V0Rm9ybUZpbGxUaW1lciA9IG51bGw7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgdGFiU3RhdGUuY3VycmVudFBhZ2UgPSAwO1xuICAgIC8vICAgICB0YWJTdGF0ZS5tYXhpbXVtUGFnZSA9IDA7XG4gICAgLy8gICAgIHRhYlN0YXRlLmZvcmNlQXV0b1N1Ym1pdCA9IG51bGw7XG4gICAgLy8gICAgIHRhYlN0YXRlLnVzZXJSZWNlbnRseURlbWFuZGVkQXV0b1N1Ym1pdCA9IGZhbHNlO1xuICAgIC8vICAgICBMb2dnZXIuZGVidWcoXCJSZXNldCBmb3JtLWZpbGxpbmcgc2Vzc2lvbiAocGFnZSA9IDAgYW5kIGNhbmNlbGxlZCBhbnkgZm9yY2VkIGF1dG9zdWJtaXQpLlwiKTtcbiAgICAvLyB9O1xuICAgIC8vdmFyIHJlc2V0Rm9ybUZpbGxUaW1lciA9IG51bGw7XG59XG4iLCJpbXBvcnQgeyBGb3JtVXRpbHMgfSBmcm9tIFwiLi9mb3Jtc1V0aWxzXCI7XG5pbXBvcnQgeyBNYXRjaFJlc3VsdCB9IGZyb20gXCIuL01hdGNoUmVzdWx0XCI7XG5pbXBvcnQgeyBGaWxsZWRGaWVsZCB9IGZyb20gXCIuL0ZpbGxlZEZpZWxkXCI7XG5pbXBvcnQgeyBLZWVMb2dnZXIgfSBmcm9tIFwiLi4vY29tbW9uL0xvZ2dlclwiO1xuaW1wb3J0IHsgY29uZmlnTWFuYWdlciB9IGZyb20gXCIuLi9jb21tb24vQ29uZmlnTWFuYWdlclwiO1xuaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4uL2NvbW1vbi9BZGRvbk1lc3NhZ2VcIjtcbmltcG9ydCB7IE1hdGNoZWRGaWVsZCB9IGZyb20gXCIuL01hdGNoZWRGaWVsZFwiO1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0ZpZWxkXCI7XG5cbmRlY2xhcmUgY29uc3QgcHVueWNvZGU7XG5cbmludGVyZmFjZSBTdWJtaXRIYW5kbGVyQXR0YWNobWVudCB7XG4gICAgdGFyZ2V0OiBIVE1MRWxlbWVudDtcbiAgICBoYW5kbGVyOiAoZTogRXZlbnQpID0+IHZvaWQ7XG4gICAgZm9ybTogSFRNTEZvcm1FbGVtZW50O1xufVxuXG5leHBvcnQgY2xhc3MgRm9ybVNhdmluZyB7XG4gICAgcHJpdmF0ZSBMb2dnZXI6IEtlZUxvZ2dlcjtcbiAgICBwcml2YXRlIGZvcm1VdGlsczogRm9ybVV0aWxzO1xuICAgIHByaXZhdGUgU3VibWl0SGFuZGxlckF0dGFjaG1lbnRzOiBTdWJtaXRIYW5kbGVyQXR0YWNobWVudFtdID0gW107XG4gICAgcHJpdmF0ZSBtYXRjaFJlc3VsdDogTWF0Y2hSZXN1bHQ7IC8vVE9ETzo0OiBNYXkgYmUgb3ZlcmtpbGwgdG8gaGF2ZSBhbGwgdGhpcyBkYXRhIGF2YWlsYWJsZSBmb3Igc2F2aW5nXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15UG9ydDogYnJvd3Nlci5ydW50aW1lLlBvcnQsIGxvZ2dlcjogS2VlTG9nZ2VyLCBmb3JtVXRpbHM6IEZvcm1VdGlscykge1xuICAgICAgICB0aGlzLkxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5mb3JtVXRpbHMgPSBmb3JtVXRpbHM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFN1Ym1pdEhhbmRsZXIodGFyZ2V0OiBIVE1MRWxlbWVudCwgZm9ybVRvU3VibWl0OiBIVE1MRm9ybUVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gdGhpcy5zdWJtaXRIYW5kbGVyKGUsIGZvcm1Ub1N1Ym1pdCk7XG4gICAgICAgIHRoaXMuU3VibWl0SGFuZGxlckF0dGFjaG1lbnRzLnB1c2goe1xuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICBmb3JtOiBmb3JtVG9TdWJtaXQsXG4gICAgICAgICAgICBoYW5kbGVyOiBoYW5kbGVyXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGFyZ2V0KSB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZXIpO1xuICAgICAgICBmb3JtVG9TdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlQWxsU3VibWl0SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuU3VibWl0SGFuZGxlckF0dGFjaG1lbnRzLmZvckVhY2goYXR0YWNobWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoYXR0YWNobWVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXR0YWNobWVudC5oYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dGFjaG1lbnQuZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGF0dGFjaG1lbnQuaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLlN1Ym1pdEhhbmRsZXJBdHRhY2htZW50cyA9IFtdO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVNYXRjaFJlc3VsdChtYXRjaFJlc3VsdDogTWF0Y2hSZXN1bHQpIHtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdCA9IG1hdGNoUmVzdWx0O1xuICAgIH1cblxuICAgIC8vIFRoaXMgd29uJ3QgYWx3YXlzIGJlIGNhbGxlZCBiZWZvcmUgYWxsIGV2ZW50IGhhbmRsZXJzIG9uIHRoZSB3ZWIgcGFnZSBzbyBvblxuICAgIC8vIHNvbWUgc2l0ZXMgd2Ugd2lsbCBzdG9yZSBpbnZhbGlkIGRhdGEgKGluIGNhc2VzIHdoZXJlIHRoZSBsb2dpbiBzY3JpcHRzXG4gICAgLy8gbWFuZ2xlIHRoZSBjb250ZW50cyBvZiB0aGUgZmllbGRzIGJlZm9yZSBzdWJtaXR0aW5nIHRoZW0pLlxuICAgIC8vVE9ETzo0OiBQb3NzaWJseSBjb3VsZCBzbGlnaHRseSByZWR1Y2UgaW5jaWRlbmNlIG9mIHRoaXMgcHJvYmxlbSBieSBsaXN0ZW5pbmdcbiAgICAvLyB0byBldmVyeSBjbGljayBvbiB0aGUgZG9jdW1lbnQgYm9keSBvciB0cmFja2luZyBhbGwgaW5wdXQgZXZlbnRzIGJ1dCBwZXJmb3JtYW5jZT9cbiAgICBwcml2YXRlIHN1Ym1pdEhhbmRsZXIoX2U6IEV2ZW50LCBmb3JtOiBIVE1MRm9ybUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzdWJtaXRIYW5kbGVyIGNhbGxlZFwiKTtcblxuICAgICAgICAvLyBVbnRpbCB0aGUgbmV4dCB0aW1lIHdlIGhhdmUgc2VhcmNoZWQgZm9yIGZvcm1zIGluIHRoaXMgcGFnZSxcbiAgICAgICAgLy8gZG9uJ3QgcmVzcG9uZCB0byBhbnkgZm9ybSBzdWJtaXNzaW9uIHJlbGF0ZWQgZXZlbnRzXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsU3VibWl0SGFuZGxlcnMoKTtcblxuICAgICAgICBjb25zdCBkb2MgPSBmb3JtLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZG9jLlVSTCk7XG4gICAgICAgIHVybC5ob3N0bmFtZSA9IHB1bnljb2RlLnRvVW5pY29kZSh1cmwuaG9zdG5hbWUpO1xuXG4gICAgICAgIGNvbnN0IGNvbmYgPSBjb25maWdNYW5hZ2VyLnNpdGVDb25maWdGb3IodXJsLmhyZWYpO1xuICAgICAgICBpZiAoY29uZi5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbikgcmV0dXJuO1xuXG4gICAgICAgIGxldCBpc1Bhc3N3b3JkQ2hhbmdlRm9ybSA9IGZhbHNlO1xuICAgICAgICBsZXQgaXNSZWdpc3RyYXRpb25Gb3JtID0gZmFsc2U7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBhcHByb3ByaWF0ZSBmaWVsZHMgZnJvbSB0aGUgZm9ybS5cbiAgICAgICAgY29uc3QgcGFzc3dvcmRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdID0gW107XG4gICAgICAgIGxldCBzY2FuUmVzdWx0OiB7XG4gICAgICAgICAgICBvdGhlckZpZWxkczogTWF0Y2hlZEZpZWxkW107XG4gICAgICAgICAgICBhY3R1YWxVc2VybmFtZUluZGV4PzogbnVtYmVyO1xuICAgICAgICAgICAgcHdGaWVsZHM/OiBNYXRjaGVkRmllbGRbXTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNjYW5SZXN1bHQgPSB0aGlzLmZvcm1VdGlscy5nZXRGb3JtRmllbGRzKGZvcm0sIHRydWUsIDUwKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJMb3N0IGludGVyZXN0IGluIHRoaXMgZm9ybSBhZnRlciBmaW5kaW5nIHRvbyBtYW55IGZpZWxkc1wiICsgZXgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXJuYW1lSW5kZXggPSBzY2FuUmVzdWx0LmFjdHVhbFVzZXJuYW1lSW5kZXg7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkcyA9IHNjYW5SZXN1bHQucHdGaWVsZHM7XG4gICAgICAgIGNvbnN0IG90aGVyRmllbGRzID0gc2NhblJlc3VsdC5vdGhlckZpZWxkcztcblxuICAgICAgICBpZiAocGFzc3dvcmRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGNvdWxkIGJlIHBhc3N3b3JkIGNoYW5nZSBmb3JtIG9yIG11bHRpLXBhc3N3b3JkIGxvZ2luIGZvcm0gb3Igc2lnbiB1cCBmb3JtXG4gICAgICAgICAgICAvLyBuYWl2ZSBkdXBsaWNhdGUgZmluZGVyIC0gbW9yZSB0aGFuIHN1ZmZpY2llbnQgZm9yIHRoZSBudW1iZXIgb2YgcGFzc3dvcmRzIHBlciBkb21haW5cbiAgICAgICAgICAgIGxldCB0d29QYXNzd29yZHNNYXRjaEluZGV4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3N3b3Jkcy5sZW5ndGggJiYgdHdvUGFzc3dvcmRzTWF0Y2hJbmRleCA9PSAtMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgcGFzc3dvcmRzLmxlbmd0aCAmJiB0d29QYXNzd29yZHNNYXRjaEluZGV4ID09IC0xOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3N3b3Jkc1tqXS5maWVsZC52YWx1ZSA9PSBwYXNzd29yZHNbaV0uZmllbGQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR3b1Bhc3N3b3Jkc01hdGNoSW5kZXggPSBqO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHdvUGFzc3dvcmRzTWF0Y2hJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGVpdGhlciBtaXMtdHlwZWQgcGFzc3dvcmQgY2hhbmdlIGZvcm0sIHNpbmdsZSBwYXNzd29yZCBjaGFuZ2UgYm94IGZvcm0gb3IgbXVsdGktcGFzc3dvcmQgbG9naW4vc2lnbnVwLCBhc3N1bWluZyBsYXR0ZXIuXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJtdWx0aXBsZSBwYXNzd29yZHMgZm91bmQgKHdpdGggbm8gaWRlbnRpY2FsIHZhbHVlcylcIik7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3N3b3Jkcy5sZW5ndGg7IGkrKykgcGFzc3dvcmRGaWVsZHMucHVzaChwYXNzd29yZHNbaV0pO1xuXG4gICAgICAgICAgICAgICAgLy9UT0RPOjQ6IHRyeSB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIG11bHRpLXBhc3N3b3JkIGxvZ2luL3NpZ251cCBhbmQgdHlwby4gbWF5YmU6IGlmIHVzZXJuYW1lIGV4aXN0cyBhbmQgbWF0Y2hlcyBleGlzdGluZyBwYXNzd29yZCBpdCBpcyBhIHR5cG8sIGVsc2UgbXVsdGktcGFzc3dvcmRcbiAgICAgICAgICAgICAgICAvL3JldHVybjtcbiAgICAgICAgICAgIH0gLy8gaXQncyBwcm9iYWJseSBhIHBhc3N3b3JkIGNoYW5nZSBmb3JtLCBidXQgbWF5IGJlIGEgc2lnbi11cCBmb3JtXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGlnbm9yZSBhbnkgZmllbGRzIHRoYXQgd2VyZSBwcmVzZW50ZWQgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gdXNlciBhcyBlaXRoZXIgXCJvbGQgcGFzc3dvcmRcIiBvciBcInJldHlwZSBuZXcgcGFzc3dvcmRcIlxuXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgIFwiTG9va3MgbGlrZSBhIHBhc3N3b3JkIGNoYW5nZSBmb3JtIG9yIG5ldyByZWdpc3RyYXRpb24gZm9ybSBoYXMgYmVlbiBzdWJtaXR0ZWRcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgbWF5IGJlIG1vcmUgdGhhbiBvbmUgcGFpciBvZiBtYXRjaGVzIC0gdGhvdWdoLCB3ZSdyZSBwbHVja2luZyBmb3IgdGhlIGZpcnN0IG9uZVxuICAgICAgICAgICAgICAgIC8vIHdlIGtub3cgdGhlIGluZGV4IG9mIG9uZSBtYXRjaGluZyBwYXNzd29yZFxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG9ubHkgdHdvIHBhc3N3b3JkcyB3ZSBhbHJlYWR5IGtub3cgdGhhdCB0aGV5IG1hdGNoXG4gICAgICAgICAgICAgICAgaWYgKHBhc3N3b3Jkcy5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZEZpZWxkcy5wdXNoKHBhc3N3b3Jkc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vVE9ETzo0OiBpdCBpcyBhbHNvIHJlYXNvbmFibHkgbGlrZWx5IHRoYXQgdGhpcyBpbmRpY2F0ZXMgYVxuICAgICAgICAgICAgICAgICAgICAvLyBzaWduLXVwIGZvcm0gcmF0aGVyIHRoYW4gYSBwYXNzd29yZCBjaGFuZ2UgZm9ybS4gZGVjaWRlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGhlcmUgYW5kIGZsYWcgd2hpY2ggb25lIGl0IGlzLiBmb3Igbm93LCB3ZSBqdXN0IGFzc3VtZVxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGEgc2lnbi11cCBmb3JtIGJlY3Vhc2UgdGhhdCBpcyBtb3JlIHVzZWZ1bCBmb3IgdGhlIHVzZXIgaW4gbWFueSBjYXNlc1xuICAgICAgICAgICAgICAgICAgICBpc1Bhc3N3b3JkQ2hhbmdlRm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc1JlZ2lzdHJhdGlvbkZvcm0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhlcmUgd2UgYXNzdW1lIHRoYXQgYW55IGZvcm0gd2l0aCAzIHBhc3N3b3JkcyBvbiBpdFxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBtdWNoIG1vcmUgbGlrZWx5IHRvIGJlIGEgY2hhbmdlIHBhc3N3b3JkIGZvcm0gdGhhblxuICAgICAgICAgICAgICAgICAgICAvLyBhIHNpZ24tdXAgZm9ybSAob2J2aW91c2x5IHRoZXJlIHdpbGwgYmUgZXhjZXB0aW9ucyBidXRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgYmVzdCB3ZSBjYW4gZG8gZm9yIG5vdylcbiAgICAgICAgICAgICAgICAgICAgLy8gQlVUOiBoYXZlIG5vdCB5ZXQgaW1wbGVtZW50ZWQgcmVsaWFibGUgcGFzc3dvcmQgY2hhbmdlIGZlYXR1cmUuLi5cbiAgICAgICAgICAgICAgICAgICAgaXNQYXNzd29yZENoYW5nZUZvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaXNSZWdpc3RyYXRpb25Gb3JtID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRGaWVsZHMucHVzaChwYXNzd29yZHNbdHdvUGFzc3dvcmRzTWF0Y2hJbmRleF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwYXNzd29yZHMgIT0gbnVsbCAmJiBwYXNzd29yZHNbMF0gIT0gbnVsbCAmJiBwYXNzd29yZHNbMF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkcy5wdXNoKHBhc3N3b3Jkc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCwgYXQgbGVhc3Qgb25lIHBhc3N3b3JkRmllbGQgaGFzIGJlZW4gY2hvc2VuIGFuZCBhblxuICAgICAgICAvLyBvbGRQYXNzd29yZEZpZWxkIGhhcyBiZWVuIGNob3NlbiBpZiBhcHBsaWNhYmxlLlxuICAgICAgICAvLyB3ZSBoYXZlIGFsc28gZGV0ZXJtaW5lZCB3aGV0aGVyIHRoaXMgZm9ybSBmaWxsIGlzIGxpa2VseSB0b1xuICAgICAgICAvLyBiZSBhIG5ldyByZWdpc3RyYXRpb24gZm9ybSBvciBwYXNzd29yZCBjaGFuZ2UgZm9ybVxuXG4gICAgICAgIGNvbnN0IG5vbkVtcHR5UGFzc3dvcmRGaWVsZHMgPSB0aGlzLnJlbW92ZUVtcHR5RmllbGRzKHBhc3N3b3JkRmllbGRzKTtcbiAgICAgICAgY29uc3Qgbm9uRW1wdHlPdGhlckZpZWxkcyA9IHRoaXMucmVtb3ZlRW1wdHlGaWVsZHMob3RoZXJGaWVsZHMpO1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGZpbGxlZCBwYXNzd29yZCB0aGF0IGlzIG5vdCBiZWluZyBzdWJtaXR0ZWQgb3IgaGFzIGEgY2hhbmdlZCB2YWx1ZVxuICAgICAgICBjb25zdCBkaWZmZXJlbnRQYXNzd29yZCA9XG4gICAgICAgICAgICAhdGhpcy5tYXRjaFJlc3VsdCB8fFxuICAgICAgICAgICAgIXRoaXMubWF0Y2hSZXN1bHQubGFzdEZpbGxlZFBhc3N3b3JkcyB8fFxuICAgICAgICAgICAgdGhpcy5oYXNGaWVsZEJlZW5Nb2RpZmllZChub25FbXB0eVBhc3N3b3JkRmllbGRzLCB0aGlzLm1hdGNoUmVzdWx0Lmxhc3RGaWxsZWRQYXNzd29yZHMpO1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGZpbGxlZCBvdGhlciBmaWVsZCB0aGF0IGlzIG5vdCBiZWluZyBzdWJtaXR0ZWQgb3IgaGFzIGEgY2hhbmdlZCB2YWx1ZVxuICAgICAgICBjb25zdCBkaWZmZXJlbnRPdGhlciA9XG4gICAgICAgICAgICAhdGhpcy5tYXRjaFJlc3VsdCB8fFxuICAgICAgICAgICAgIXRoaXMubWF0Y2hSZXN1bHQubGFzdEZpbGxlZE90aGVyIHx8XG4gICAgICAgICAgICB0aGlzLmhhc0ZpZWxkQmVlbk1vZGlmaWVkKG5vbkVtcHR5T3RoZXJGaWVsZHMsIHRoaXMubWF0Y2hSZXN1bHQubGFzdEZpbGxlZE90aGVyKTtcblxuICAgICAgICBpZiAoZGlmZmVyZW50UGFzc3dvcmQgfHwgZGlmZmVyZW50T3RoZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1Ym1pdHRlZERhdGEgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiB1cmwuaHJlZixcbiAgICAgICAgICAgICAgICBmaWVsZHM6IEZpZWxkLmNvbWJpbmVEb21GaWVsZExpc3RzKFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBub25FbXB0eU90aGVyRmllbGRzLm1hcChmID0+IGYuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBub25FbXB0eVBhc3N3b3JkRmllbGRzLm1hcChmID0+IGYuZmllbGQpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogZG9jLnRpdGxlIHx8IHVybC5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICBpc1Bhc3N3b3JkQ2hhbmdlRm9ybSxcbiAgICAgICAgICAgICAgICBpc1JlZ2lzdHJhdGlvbkZvcm1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMubXlQb3J0LnBvc3RNZXNzYWdlKHsgc3VibWl0dGVkRGF0YSB9IGFzIEFkZG9uTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZUVtcHR5RmllbGRzKGZpZWxkczogTWF0Y2hlZEZpZWxkW10pIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkcy5maWx0ZXIoZiA9PiBmLmZpZWxkLnZhbHVlIHx8IGYuZmllbGQudHlwZSA9PT0gXCJib29sZWFuXCIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFzRmllbGRCZWVuTW9kaWZpZWQoXG4gICAgICAgIG5ld2x5U3VibWl0dGVkRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgcHJldmlvdXNseUZpbGxlZEZpZWxkczogRmlsbGVkRmllbGRbXVxuICAgICkge1xuICAgICAgICByZXR1cm4gISFwcmV2aW91c2x5RmlsbGVkRmllbGRzLmZpbmQoZmlsbGVkRmllbGQgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3VibWl0dGVkRmllbGQgPSBuZXdseVN1Ym1pdHRlZEZpZWxkcy5maW5kKFxuICAgICAgICAgICAgICAgIGYgPT4gZmlsbGVkRmllbGQuRE9NZWxlbWVudCA9PSBmLkRPTWVsZW1lbnRcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmVuJ3Qgc3VibWl0dGVkIHRoZSBzYW1lIERPTSBlbGVtZW50IHdlIGZpbGxlZCBpblxuICAgICAgICAgICAgaWYgKCFzdWJtaXR0ZWRGaWVsZCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIGlmIChzdWJtaXR0ZWRGaWVsZC5maWVsZC52YWx1ZSAhPSBmaWxsZWRGaWVsZC52YWx1ZSkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGFuZWxTdHViLCBQYW5lbFN0dWJPcHRpb25zIH0gZnJvbSBcIi4vUGFuZWxTdHViXCI7XG5cbi8vY29uc3QgcGFuZWxPcHRpb25zID0gUGFuZWxTdHViT3B0aW9ucy5HZW5lcmF0ZVBhc3N3b3JkTGVnYWN5O1xuY29uc3QgcGFuZWxPcHRpb25zID0gUGFuZWxTdHViT3B0aW9ucy5HZW5lcmF0ZVBhc3N3b3JkO1xuXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRHZW5lcmF0b3Ige1xuICAgIHB1YmxpYyBnZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViOiBQYW5lbFN0dWI7XG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViUmFmOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmVudEZyYW1lSWQ6IG51bWJlcikge31cblxuICAgIHB1YmxpYyBjcmVhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViID0gbmV3IFBhbmVsU3R1YihwYW5lbE9wdGlvbnMsIG51bGwsIHRoaXMucGFyZW50RnJhbWVJZCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1Yi5jcmVhdGVQYW5lbCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWxOZWFyTm9kZSh0YXJnZXQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2xvc2VHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViID0gbmV3IFBhbmVsU3R1YihwYW5lbE9wdGlvbnMsIHRhcmdldCwgdGhpcy5wYXJlbnRGcmFtZUlkKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1YlJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PlxuICAgICAgICAgICAgdGhpcy51cGRhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWxQb3NpdGlvbigpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlR2VuZXJhdGVQYXNzd29yZFBhbmVsKCkge1xuICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViKSB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIuY2xvc2VQYW5lbCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIgPSBudWxsO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWJSYWYpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWxQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViLnVwZGF0ZUJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWJSYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlR2VuZXJhdGVQYXNzd29yZFBhbmVsUG9zaXRpb24oKVxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE11dGF0aW9uVHlwZSB9IGZyb20gXCJwaW5pYVwiO1xuaW1wb3J0IHsgS2VlU3RvcmUgfSBmcm9tIFwiLlwiO1xuaW1wb3J0IHsgS2VlU3RhdGUgfSBmcm9tIFwiLi9LZWVTdGF0ZVwiO1xuaW1wb3J0IHsgTXV0YXRpb25QYXlsb2FkIH0gZnJvbSBcIi4vc3luY0JhY2tncm91bmRcIjtcblxuZXhwb3J0IGNsYXNzIFN5bmNDb250ZW50IHtcbiAgICBwcml2YXRlIHN0b3JlOiBLZWVTdG9yZTtcbiAgICBpbml0aWFsaXplZDogYm9vbGVhbjtcbiAgICByZWNlaXZlZE11dGF0aW9uczogTXV0YXRpb25QYXlsb2FkW107XG4gICAgcGVuZGluZ011dGF0aW9uczogTXV0YXRpb25QYXlsb2FkW107XG4gICAgcHJpdmF0ZSBzZW5kTXV0YXRpb246IChtdXRhdGlvbjogTXV0YXRpb25QYXlsb2FkKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVjZWl2ZWRNdXRhdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmdNdXRhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICBpbml0KHN0b3JlOiBLZWVTdG9yZSwgaW5pdGlhbFN0YXRlOiBLZWVTdGF0ZSwgc2VuZE11dGF0aW9uLCB2dWVNb3VudD8pIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLnN0b3JlLiRzdWJzY3JpYmUobXV0YXRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT0gTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob29rTXV0YXRpb24obXV0YXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBpbmlhIGdlbmVyYXRlZCBhIG5vbi1vYmplY3QgbXV0YXRpb24uIFdlIGRvbid0IHRoaW5rIHdlIGNhbiBzdXBwb3J0IHRoaXMgYW5kIG5lZWQgdG8ga25vdyB0aGF0IGl0IGlzIHBvc3NpYmxlIGZvciBpdCB0byBoYXBwZW4hIFRlbGwgdXMgbm93IG9yIHdlaXJkIHRoaW5ncyB3aWxsIGhhcHBlbi5cIik7XG4gICAgICAgICAgICAgICAgfSAvLyAnZGlyZWN0JyB8ICdwYXRjaCBvYmplY3QnIHwgJ3BhdGNoIGZ1bmN0aW9uJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kTXV0YXRpb24gPSBzZW5kTXV0YXRpb247XG5cbiAgICAgICAgdGhpcy5zdG9yZS4kcGF0Y2goaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdNdXRhdGlvbnMoKTtcblxuICAgICAgICBpZiAodnVlTW91bnQpIHZ1ZU1vdW50KCk7XG4gICAgICAgIC8vIG1vdmUgc3RvcmUgc3Vic2NyaXB0aW9uIGFuZCBpbml0aWFsIHN0YXRlIHBhdGNoIHRvIGhlcmUsIGFmdGVyIGNyZWF0aW5nIGl0IGFuZCByZXR1cm5pbmcgZnJvbSB2dWV3SW5pdCgpXG4gICAgICAgIC8vIHdpbGwgbWVhbiBzbG93ZXIgaW5pdGlhbCBzdXBwb3J0IGZvciByZWNlaXZpbmcgbXV0YXRpb25zLi4uIHdoaWNoIGlzIGZ1Y2tlZD8gY29zIHdlIG1heSB3aWxsIGRlY2lkZSB0byBzZW5kIHRoZW0gYmVmb3JlIGJhY2tncm91bmQgaGFzIHJlc3BvbmRlZCB3aXRoIHRoZSBzdG9yZSBpbml0aWFsIHN0YXRlLlxuICAgICAgICAvLyBTb21lIHdheSB0byB1c2UgYSB0ZW1wb3Jhcnkgc3RvcmUgb24gYSB0ZW1wb3JhcnkgcGluaWEgaW5zdGFuY2Ugb24gYSB0ZW1wb3JhcnkgdnVlIGluc3RhbmNlP1xuICAgICAgICAvLyBDYW4gYWRkIHRvIHBlbmRpbmdNdXRhdGlvbnMgbm8gbWF0dGVyIHdoaWNoIHN0b3JlIGl0IGlzIGZyb21cbiAgICAgICAgLy8gY291bGQgZ2V0IHJlbW90ZW11dGF0aW9ucyBiZWZvcmUgd2UgYXJlIHJlYWR5IGJ1dCBtYXliZSBPSyB0byBqdXN0IGlnbm9yZSB0aGVtIGxpa2Ugd2UgZG8gY3VycmVudGx5LlxuICAgICAgICAvLyBTbywgdGhlcmVmb3JlIHdlIGhhdmUgdG8gaW5pdGlhbGlzZSB2dWUgYmVmb3JlIHdlIGhhdmUgaGVhcmQgYmFjayB3aGF0IHRoZSBpbml0aWFsIHN0b3JlIHN0YXRlIHNob3VsZCBiZS4gbWlnaHQganVzdCB3b3JrIGJ1dCBtYXliZSBuZWVkIHRvIGFkZCBhIFwibG9hZGluZ1wiIHN0YXR1cyB0byBWdWVcbiAgICAgICAgLy9pbnRpYWlsbHksIG9yIG1heWJlIHdlIGNhbiBnZXQgYXdheSB3aXRob3V0IGNhbGxpbmcgbW91bnQoKSB1bnRpbCBhZnRlciB0aGUgc3RhdGUgaGFzIGJlZW4gcmVjZWl2ZWQuXG4gICAgICAgIC8vIENvdWxkIHdvcmsuLi4gc28gdGhlbiB3ZSBkb24ndCBuZWVkIHRvIHN1cHBseSB0aGUgc3RvcmUgb3Igc3RhdGUgYmVmb3JlIHRoZSBzdG9yZSBjYW4gYmUgaW5pdGlhbGlhc2VkIHVzaW5nIHRoZSBuZXcgdnVlIGluc3RhbmNlLlxuICAgIH1cblxuICAgIHJlc2V0KG5ld1N0YXRlOiBLZWVTdGF0ZSkge1xuICAgICAgICB0aGlzLnN0b3JlLiRwYXRjaChuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uUmVtb3RlTXV0YXRpb24obXV0YXRpb246IE11dGF0aW9uUGF5bG9hZCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVjZWl2ZWRNdXRhdGlvbnMucHVzaChtdXRhdGlvbik7XG4gICAgICAgIHRoaXMuc3RvcmUuJHBhdGNoKG11dGF0aW9uLnBheWxvYWQpO1xuICAgIH1cblxuICAgIGhvb2tNdXRhdGlvbihtdXRhdGlvbjogTXV0YXRpb25QYXlsb2FkKSB7XG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGVuZGluZ011dGF0aW9ucy5wdXNoKG11dGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5yZWNlaXZlZE11dGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmRNdXRhdGlvbihtdXRhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBpdCdzIHJlY2VpdmVkIG11dGF0aW9uLCBpZiBpdCdzIGp1c3QgaWdub3JlIGl0LCBpZiBub3Qgc2VuZCB0byBiYWNrZ3JvdW5kXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnJlY2VpdmVkTXV0YXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlZE11dGF0aW9uc1tpXSA9PSBtdXRhdGlvbi5wYXlsb2FkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVkTXV0YXRpb25zLnNwbGljZShpLCAxKTtcblxuICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIG11dGF0aW9ucyBjYW4gYmUgaW4gdGhlIHJlY2VpdmVkIHF1ZXVlIHNvIHdlIGhhdmUgdG8gYnJlYWssXG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGR1cGxpY2F0ZSByZWNlaXZlZCBtdXRhdGlvbnMgd2lsbCByZXN1bHQgaW4gc29tZSBiZWluZyBzZW50XG4gICAgICAgICAgICAgICAgLy8gdG8gdGhlIGJhY2tncm91bmQgdGhyZWFkLCBsZWFkaW5nIHRvIGFuIGluZmluaXRlIGxvb3AuXG4gICAgICAgICAgICAgICAgLy8gVGhlIGV4YWN0IG1lY2hhbmlzbSBieSB3aGljaCB0aGlzIGNhbiBoYXBwZW4gaXMgdW5jbGVhciBhbmQgaXRcbiAgICAgICAgICAgICAgICAvLyBtYXkgYmUgYSBidWcgb3IgbXV0YWJsZSBpbXBsZW1lbnRhdGlvbiBkZXRhaWwgb2YgVnVlWC4gSSBoeXBvdGhlc2lzZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgbXVsdGlwbGUgbXV0YXRpb25zIGFycml2aW5nIGluIGEgc2hvcnQgcGVyaW9kIG9mIHRpbWUgY2FuIGdldFxuICAgICAgICAgICAgICAgIC8vIGJhdGNoZWQgdG9nZXRoZXIgaW4gYSB3YXkgdGhhdCBhbGxvd3MgbXVsdGlwbGUgaG9va3MgdG8gcXVldWUgdXBcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmUgYmVpbmcgaW52b2tlZC4gVGh1cyB0aGUgZmlyc3QgdGltZSB0aGF0IHRoaXMgbG9vcCBpcyBjcmVhdGVkXG4gICAgICAgICAgICAgICAgLy8gaXQgc2V0cyB1cCBhIGhpZ2hlciBjaGFuY2UgdGhhdCB0aGUgbG9vcCB3aWxsIHJlcGVhdCBhZ2FpbiwgdW50aWxcbiAgICAgICAgICAgICAgICAvLyBzdWNoIHRpbWUgYXMgdGhlIGJhdGNoaW5nIGJlaGF2aW91ciBpcyBhbGwgYnV0IGd1YXJhbnRlZWQgYW5kIHRoZVxuICAgICAgICAgICAgICAgIC8vIGxvb3AgY2FuIG5ldmVyIGVuZC5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTXV0YXRpb24obXV0YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvY2Vzc1BlbmRpbmdNdXRhdGlvbnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5wZW5kaW5nTXV0YXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBlbmRpbmdNdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIE11c3QgYmUgYSBsb2NhbGx5IGNvbW1pdHRlZCBtdXRhdGlvblxuICAgICAgICAgICAgdGhpcy5zZW5kTXV0YXRpb24odGhpcy5wZW5kaW5nTXV0YXRpb25zW2ldKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ011dGF0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBZGRvbk1lc3NhZ2UgfSBmcm9tIFwiLi9BZGRvbk1lc3NhZ2VcIjtcbmltcG9ydCB7IFZhdWx0TWVzc2FnZSB9IGZyb20gXCIuL1ZhdWx0TWVzc2FnZVwiO1xuXG5jbGFzcyBDb250ZW50UG9ydE1hbmFnZXIge1xuICAgIHByaXZhdGUgcG9ydDogYnJvd3Nlci5ydW50aW1lLlBvcnQ7XG5cbiAgICBwdWJsaWMgbWl4aW4gPSB7XG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgIHBvc3RNZXNzYWdlOiBtc2cgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHB1YmxpYyBwb3N0TWVzc2FnZShtc2c6IEFkZG9uTWVzc2FnZSB8IFZhdWx0TWVzc2FnZSkge1xuICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UobXNnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnR1cChuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5wb3J0ID0gYnJvd3Nlci5ydW50aW1lLmNvbm5lY3QoeyBuYW1lIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHJhdygpOiBicm93c2VyLnJ1bnRpbWUuUG9ydCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcnQ7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUG9ydCA9IG5ldyBDb250ZW50UG9ydE1hbmFnZXIoKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWlubmVyLWRlY2xhcmF0aW9ucyAqL1xuaW1wb3J0IHsgRm9ybUZpbGxpbmcgfSBmcm9tIFwiLi9mb3JtRmlsbGluZ1wiO1xuaW1wb3J0IHsgRm9ybVV0aWxzIH0gZnJvbSBcIi4vZm9ybXNVdGlsc1wiO1xuaW1wb3J0IHsgRm9ybVNhdmluZyB9IGZyb20gXCIuL2Zvcm1TYXZpbmdcIjtcbmltcG9ydCB7IFBhc3N3b3JkR2VuZXJhdG9yIH0gZnJvbSBcIi4vUGFzc3dvcmRHZW5lcmF0b3JcIjtcbmltcG9ydCB7IEtlZUxvZyB9IGZyb20gXCIuLi9jb21tb24vTG9nZ2VyXCI7XG5pbXBvcnQgeyBjb25maWdNYW5hZ2VyIH0gZnJvbSBcIi4uL2NvbW1vbi9Db25maWdNYW5hZ2VyXCI7XG5pbXBvcnQgeyBBZGRvbk1lc3NhZ2UgfSBmcm9tIFwiLi4vY29tbW9uL0FkZG9uTWVzc2FnZVwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSBcIi4uL2NvbW1vbi9BY3Rpb25cIjtcbmltcG9ydCB1c2VTdG9yZSBmcm9tIFwiLi4vc3RvcmVcIjtcbmltcG9ydCB7IFN5bmNDb250ZW50IH0gZnJvbSBcIi4uL3N0b3JlL3N5bmNDb250ZW50XCI7XG5pbXBvcnQgeyBQb3J0IH0gZnJvbSBcIi4uL2NvbW1vbi9wb3J0XCI7XG5pbXBvcnQgeyBjcmVhdGVQaW5pYSB9IGZyb20gXCJwaW5pYVwiO1xuaW1wb3J0IHsgTXV0YXRpb25QYXlsb2FkIH0gZnJvbSBcIi4uL3N0b3JlL3N5bmNCYWNrZ3JvdW5kXCI7XG5cbi8qIFRoaXMgb3JjaGVzdHJhdGVzIHRoZSBtYWluIGZ1bmN0aW9ucyBvZiB0aGUgYWRkLW9uXG5vbiBhbGwgd2Vic2l0ZSBwYWdlcyBleGNlcHQgdGhvc2UgY29udGFpbmluZyBhIEtQUlBDIHNlcnZlciAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG52YXIga2VlRHVwbGljYXRpb25Db3VudDtcblxuaWYgKGtlZUR1cGxpY2F0aW9uQ291bnQpIHtcbiAgICBpZiAoS2VlTG9nICYmIEtlZUxvZy5lcnJvcikge1xuICAgICAgICBLZWVMb2cuZXJyb3IoXG4gICAgICAgICAgICBcIkR1cGxpY2F0ZSBLZWUgY29udGVudCBzY3JpcHQgaW5zdGFuY2UgZGV0ZWN0ZWQhIEZvdW5kIHRoaXMgbWFueSBvdGhlciBpbnN0YW5jZXM6IFwiICtcbiAgICAgICAgICAgICAgICBrZWVEdXBsaWNhdGlvbkNvdW50XG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRHVwbGljYXRlIEtlZSBjb250ZW50IHNjcmlwdCBpbnN0YW5jZSBkZXRlY3RlZCEgRm91bmQgdGhpcyBtYW55IG90aGVyIGluc3RhbmNlczogXCIgK1xuICAgICAgICAgICAgICAgIGtlZUR1cGxpY2F0aW9uQ291bnRcbiAgICAgICAgKTtcbiAgICB9XG59IGVsc2Uge1xuICAgIGtlZUR1cGxpY2F0aW9uQ291bnQgPSAwO1xufVxua2VlRHVwbGljYXRpb25Db3VudCArPSAxO1xuXG5sZXQgZm9ybVV0aWxzOiBGb3JtVXRpbHM7XG5sZXQgZm9ybUZpbGxpbmc6IEZvcm1GaWxsaW5nO1xubGV0IGZvcm1TYXZpbmc6IEZvcm1TYXZpbmc7XG5sZXQgcGFzc3dvcmRHZW5lcmF0b3I6IFBhc3N3b3JkR2VuZXJhdG9yO1xubGV0IGZyYW1lSWQ6IG51bWJlcjtcbmxldCBzeW5jQ29udGVudDogU3luY0NvbnRlbnQ7XG5sZXQgY29ubmVjdGVkID0gZmFsc2U7XG5sZXQgbWVzc2FnaW5nUG9ydENvbm5lY3Rpb25SZXRyeVRpbWVyOiBudW1iZXI7XG5sZXQgcGFnZVNob3dGaXJlZCA9IGZhbHNlO1xubGV0IGNvbmZpZ1JlYWR5ID0gZmFsc2U7XG5sZXQgbWlzc2luZ1BhZ2VTaG93VGltZXI6IG51bWJlcjtcblxubGV0IGlucHV0c09ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyO1xuY29uc3QgYXBwID0gY3JlYXRlQXBwKGRlZmluZUNvbXBvbmVudCk7XG5hcHAudXNlKGNyZWF0ZVBpbmlhKCkpO1xuY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpO1xuXG4vLyBDb250ZW50IHNjcmlwdHMgYXJlIGluamVjdGVkIGludG8gbm9uLUhUTUwgZG9jdW1lbnRzIHN1Y2ggYXMgU1ZHcy5cbi8vIFdlIGhhdmUgbm8gaW50ZXJlc3QgaW4gdGhpcyBkb2N1bWVudCBpZiBpdCBoYXMgbm8gYm9keSBOb2RlXG5pZiAoZG9jdW1lbnQuYm9keSkge1xuICAgIGlucHV0c09ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbHJlYWR5IHNjaGVkdWxlZCBhIHJlc2NhbiByZWNlbnRseSwgbm8gZnVydGhlciBhY3Rpb24gcmVxdWlyZWRcbiAgICAgICAgaWYgKGZvcm1GaWxsaW5nLmZvcm1GaW5kZXJUaW1lciAhPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIE9ubHkgcHJvY2VlZCBpZiB3ZSBoYXZlIGEgREIgdG8gc2VhcmNoXG4gICAgICAgIGlmICghc3RvcmUuY29ubmVjdGVkIHx8IHN0b3JlLkFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4IDwgMCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCByZXNjYW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgaW50ZXJlc3RpbmdOb2RlcyA9IFtcImZvcm1cIiwgXCJpbnB1dFwiLCBcInNlbGVjdFwiXTtcbiAgICAgICAgbXV0YXRpb25zLmZvckVhY2gobXV0YXRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKHJlc2NhbikgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09IFwiY2hpbGRMaXN0XCIgJiYgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2NhbikgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW50ZXJlc3RpbmdOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IgJiYgZWxlbWVudC5xdWVyeVNlbGVjdG9yKGludGVyZXN0aW5nTm9kZXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzY2FuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2NoZWR1bGUgYSByZXNjYW4gc29vbi4gTm90IGltbWVkaWF0ZWx5LCBpbiBjYXNlIGEgYmF0Y2ggb2YgbXV0YXRpb25zIGFyZSBhYm91dCB0byBiZSB0cmlnZ2VyZWQuXG4gICAgICAgIGlmIChyZXNjYW4pIHtcbiAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZvcm1GaW5kZXJUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbmRNYXRjaGVzSW5UaGlzRnJhbWUuYmluZChmb3JtRmlsbGluZyksXG4gICAgICAgICAgICAgICAgNTAwXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBtYXRjaEZpbmRlcih1cmk6IHN0cmluZykge1xuICAgICAgICBQb3J0LnBvc3RNZXNzYWdlKHsgZmluZE1hdGNoZXM6IHsgdXJpIH0gfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHV0b3JpYWxJbnRlZ3JhdGlvbigpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aChcInR1dG9yaWFsLWFkZG9uLmtlZS5wbVwiKSkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIktlZUZveEFkZG9uU3RhdGVUcmFuc2ZlckVsZW1lbnRcIik7XG4gICAgICAgICAgICB0cmFuc2ZlckVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIFwic3RhdGVcIixcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RlZDogc3RvcmUuY29ubmVjdGVkLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBicm93c2VyLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS52ZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBkYkxvYWRlZDogc3RvcmUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggPiAwLFxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uTmFtZXM6IHN0b3JlLktlZVBhc3NEYXRhYmFzZXMubWFwKGRiID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5zZXNzaW9uVHlwZS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICkuZmlsdGVyKCh2LCBpLCBhKSA9PiBhLmluZGV4T2YodikgPT09IGkpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodHJhbnNmZXJFbGVtZW50KTtcblxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoXCJLZWVGb3hBZGRvblN0YXRlVHJhbnNmZXJFdmVudFwiLCB7XG4gICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFuc2ZlckVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkZpcnN0Q29ubmVjdChteUZyYW1lSWQ6IG51bWJlcikge1xuICAgICAgICBmcmFtZUlkID0gbXlGcmFtZUlkO1xuXG4gICAgICAgIEtlZUxvZy5hdHRhY2hDb25maWcoY29uZmlnTWFuYWdlci5jdXJyZW50KTtcbiAgICAgICAgZm9ybVV0aWxzID0gbmV3IEZvcm1VdGlscyhLZWVMb2cpO1xuICAgICAgICBmb3JtU2F2aW5nID0gbmV3IEZvcm1TYXZpbmcoUG9ydC5yYXcsIEtlZUxvZywgZm9ybVV0aWxzKTtcbiAgICAgICAgZm9ybUZpbGxpbmcgPSBuZXcgRm9ybUZpbGxpbmcoXG4gICAgICAgICAgICBQb3J0LnJhdyxcbiAgICAgICAgICAgIGZyYW1lSWQsXG4gICAgICAgICAgICBmb3JtVXRpbHMsXG4gICAgICAgICAgICBmb3JtU2F2aW5nLFxuICAgICAgICAgICAgS2VlTG9nLFxuICAgICAgICAgICAgY29uZmlnTWFuYWdlci5jdXJyZW50LFxuICAgICAgICAgICAgbWF0Y2hGaW5kZXJcbiAgICAgICAgKTtcbiAgICAgICAgcGFzc3dvcmRHZW5lcmF0b3IgPSBuZXcgUGFzc3dvcmRHZW5lcmF0b3IoZnJhbWVJZCk7XG5cbiAgICAgICAgaW5wdXRzT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcblxuICAgICAgICB0dXRvcmlhbEludGVncmF0aW9uKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgICAgICAgS2VlTG9nLmRlYnVnKFwiY29udGVudCBwYWdlIHN0YXJ0aW5nXCIpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25uZWN0VG9NZXNzYWdpbmdQb3J0KCk7XG4gICAgICAgICAgICBpZiAoUG9ydC5yYXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEtlZUxvZy53YXJuKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gbWVzc2FnaW5nIHBvcnQuIFdlJ2xsIHRyeSBhZ2FpbiBsYXRlci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBLZWVMb2cud2FybihcbiAgICAgICAgICAgICAgICBcIkZhaWxlZCB0byBjb25uZWN0IHRvIG1lc3NhZ2luZyBwb3J0LiBXZSdsbCB0cnkgYWdhaW4gbGF0ZXIuIEV4Y2VwdGlvbiBtZXNzYWdlOiBcIiArXG4gICAgICAgICAgICAgICAgICAgIGV4Lm1lc3NhZ2VcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNzYWdpbmdQb3J0Q29ubmVjdGlvblJldHJ5VGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKFBvcnQucmF3ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBLZWVMb2cuaW5mbyhcIk1lc3NhZ2luZyBwb3J0IHdhcyBub3QgZXN0YWJsaXNoZWQgYXQgcGFnZSBzdGFydHVwLiBSZXRyeWluZyBub3cuLi5cIik7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdFRvTWVzc2FnaW5nUG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoUG9ydC5yYXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgS2VlTG9nLndhcm4oXCJGYWlsZWQgdG8gY29ubmVjdCB0byBtZXNzYWdpbmcgcG9ydC4gV2UnbGwgdHJ5IGFnYWluIGxhdGVyLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIEtlZUxvZy53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJGYWlsZWQgdG8gY29ubmVjdCB0byBtZXNzYWdpbmcgcG9ydC4gV2UnbGwgdHJ5IGFnYWluIGxhdGVyLiBFeGNlcHRpb24gbWVzc2FnZTogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Lm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobWVzc2FnaW5nUG9ydENvbm5lY3Rpb25SZXRyeVRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG5cbiAgICAgICAgS2VlTG9nLmRlYnVnKFwiY29udGVudCBwYWdlIHJlYWR5XCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbm5lY3RUb01lc3NhZ2luZ1BvcnQoKSB7XG4gICAgICAgIGlmIChQb3J0LnJhdykge1xuICAgICAgICAgICAgS2VlTG9nLndhcm4oXG4gICAgICAgICAgICAgICAgXCJwb3J0IGFscmVhZHkgc2V0IHRvICdcIiArXG4gICAgICAgICAgICAgICAgICAgIFBvcnQucmF3Lm5hbWUgK1xuICAgICAgICAgICAgICAgICAgICBcIicuIFNraXBwaW5nIHN0YXJ0dXAgYmVjYXVzZSBpdCBzaG91bGQgYWxyZWFkeSBiZSB1bmRlcndheSBidXQgaXMgdGFraW5nIGEgbG9uZyB0aW1lLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN5bmNDb250ZW50ID0gbmV3IFN5bmNDb250ZW50KHN0b3JlKTtcbiAgICAgICAgUG9ydC5zdGFydHVwKFwicGFnZVwiKTtcblxuICAgICAgICBQb3J0LnJhdy5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKG06IEFkZG9uTWVzc2FnZSkge1xuICAgICAgICAgICAgS2VlTG9nLmRlYnVnKFwiSW4gYnJvd3NlciBjb250ZW50IHBhZ2Ugc2NyaXB0LCByZWNlaXZlZCBtZXNzYWdlIGZyb20gYmFja2dyb3VuZCBzY3JpcHRcIik7XG5cbiAgICAgICAgICAgIGlmIChtLmluaXRpYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHN5bmNDb250ZW50LmluaXQobS5pbml0aWFsU3RhdGUsIChtdXRhdGlvbjogTXV0YXRpb25QYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIFBvcnQucG9zdE1lc3NhZ2UoeyBtdXRhdGlvbiB9IGFzIEFkZG9uTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobS5tdXRhdGlvbikge1xuICAgICAgICAgICAgICAgIHN5bmNDb250ZW50Lm9uUmVtb3RlTXV0YXRpb24obS5tdXRhdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIG9uRmlyc3RDb25uZWN0KG0uZnJhbWVJZCk7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuZmluZE1hdGNoZXNJblRoaXNGcmFtZSgpO1xuICAgICAgICAgICAgICAgIGNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5EZXRlY3RGb3Jtcykge1xuICAgICAgICAgICAgICAgIGlmIChtLnJlc2V0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29tZXRpbWVzIHRoZSBwYWdlJ3MgVnVleCBzdGF0ZSBjYW4gYmUgb3V0IG9mIHN5bmMgd2l0aCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZCAtIGUuZy4gd2hlbiB0aGUgdGFiIGhhcyBiZWVuIGluYWN0aXZlIGZvciBzb21lXG4gICAgICAgICAgICAgICAgICAgIC8vIHRpbWUuIEluIHRoZXNlIGNhc2VzLCB3ZSBtdXN0IHN1cHBseSB0aGUgZnVsbCBzdGF0ZSBhZ2FpblxuICAgICAgICAgICAgICAgICAgICAvLyBiZWZvcmUgbG9va2luZyBmb3IgbWF0Y2hpbmcgZW50cmllcy5cbiAgICAgICAgICAgICAgICAgICAgc3luY0NvbnRlbnQucmVzZXQobS5yZXNldFN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcucmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKTtcbiAgICAgICAgICAgICAgICBmb3JtU2F2aW5nLnJlbW92ZUFsbFN1Ym1pdEhhbmRsZXJzKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RvcmUuZW50cnlVcGRhdGVTdGFydGVkQXRUaW1lc3RhbXAgPj0gRGF0ZS5ub3coKSAtIDIwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbmRNYXRjaGVzSW5UaGlzRnJhbWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2ZpbGxPblN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b3N1Ym1pdE9uU3VjY2VzczogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuZmluZE1hdGNoZXNJblRoaXNGcmFtZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uZmluZE1hdGNoZXNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5maW5kTG9naW5zUmVzdWx0SGFuZGxlcihtLmZpbmRNYXRjaGVzUmVzdWx0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5NYW51YWxGaWxsICYmIG0uc2VsZWN0ZWRFbnRyeUluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbGxBbmRTdWJtaXQoZmFsc2UsIG51bGwsIG0uc2VsZWN0ZWRFbnRyeUluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5SZXNldEZvcm1zKSB7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcucmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKTtcbiAgICAgICAgICAgICAgICBmb3JtU2F2aW5nLnJlbW92ZUFsbFN1Ym1pdEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtLmFjdGlvbiA9PSBBY3Rpb24uUHJpbWFyeSkge1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmV4ZWN1dGVQcmltYXJ5QWN0aW9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtLmFjdGlvbiA9PSBBY3Rpb24uR2VuZXJhdGVQYXNzd29yZCkge1xuICAgICAgICAgICAgICAgIHBhc3N3b3JkR2VuZXJhdG9yLmNyZWF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobS5hY3Rpb24gPT0gQWN0aW9uLkNsb3NlQWxsUGFuZWxzKSB7XG4gICAgICAgICAgICAgICAgcGFzc3dvcmRHZW5lcmF0b3IuY2xvc2VHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKTtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobS5hY3Rpb24gPT0gQWN0aW9uLlNob3dNYXRjaGVkTG9naW5zUGFuZWwpIHtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5jcmVhdGVNYXRjaGVkTG9naW5zUGFuZWxJbkNlbnRlcihtLmZyYW1lSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsICgpID0+IHtcbiAgICAgICAgcGFnZVNob3dGaXJlZCA9IHRydWU7XG4gICAgICAgIGNsZWFyVGltZW91dChtaXNzaW5nUGFnZVNob3dUaW1lcik7XG4gICAgICAgIGlmIChjb25maWdSZWFkeSkge1xuICAgICAgICAgICAgc3RhcnR1cCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCAoKSA9PiB7XG4gICAgICAgIGlucHV0c09ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKFBvcnQucmF3KSBQb3J0LnBvc3RNZXNzYWdlKHsgYWN0aW9uOiBBY3Rpb24uUGFnZUhpZGUgfSk7XG4gICAgICAgIGZvcm1GaWxsaW5nLnJlbW92ZUtlZUljb25Gcm9tQWxsRmllbGRzKCk7XG4gICAgICAgIFBvcnQuc2h1dGRvd24oKTtcbiAgICAgICAgY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIGZyYW1lSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvcm1VdGlscyA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9ybVNhdmluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9ybUZpbGxpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHBhc3N3b3JkR2VuZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgLy8gTG9hZCBvdXIgY29uZmlnXG4gICAgY29uZmlnTWFuYWdlci5sb2FkKCgpID0+IHtcbiAgICAgICAgY29uZmlnUmVhZHkgPSB0cnVlO1xuICAgICAgICBpZiAocGFnZVNob3dGaXJlZCkge1xuICAgICAgICAgICAgc3RhcnR1cCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUGFnZSBzaG93IGRvZXMgbm90IGFsd2F5cyBmaXJlIChlLmcuIG9uIGZpcnN0IGluc3RhbGwgb2YgdGhlIGV4dGVuc2lvbilcbiAgICAgICAgICAgIC8vIHNvIHdlIHdvbid0IHdhaXQgYXJvdW5kIGZvcmV2ZXIsIGF0IHRoZSBjb3N0IG9mIG9jY2FzaW9uYWwgZHVwbGljYXRlXG4gICAgICAgICAgICAvLyBzdGFydHVwIGNvZGUgLSBicm9hZGx5IGxpbWl0ZWQgdG8gZGlzY292ZXJpbmcgdGhhdCB0aGUgbWVzc2FnZSBwb3J0XG4gICAgICAgICAgICAvLyBpcyBhbHJlYWR5IGVzdGFibGlzaGVkLlxuICAgICAgICAgICAgbWlzc2luZ1BhZ2VTaG93VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChzdGFydHVwLCAxNTAwKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbIm1ha2VNYXAiLCJzdHIiLCJleHBlY3RzTG93ZXJDYXNlIiwibWFwIiwibGlzdCIsInZhbCIsImlzR2xvYmFsbHlXaGl0ZWxpc3RlZCIsIm5vcm1hbGl6ZVN0eWxlIiwidmFsdWUiLCJpc0FycmF5IiwicmVzIiwiaSIsIml0ZW0iLCJub3JtYWxpemVkIiwiaXNTdHJpbmciLCJwYXJzZVN0cmluZ1N0eWxlIiwia2V5IiwiaXNPYmplY3QiLCJsaXN0RGVsaW1pdGVyUkUiLCJwcm9wZXJ0eURlbGltaXRlclJFIiwic3R5bGVDb21tZW50UkUiLCJjc3NUZXh0IiwicmV0IiwidG1wIiwibm9ybWFsaXplQ2xhc3MiLCJuYW1lIiwibm9ybWFsaXplUHJvcHMiLCJwcm9wcyIsImtsYXNzIiwic3R5bGUiLCJIVE1MX1RBR1MiLCJTVkdfVEFHUyIsImlzSFRNTFRhZyIsImlzU1ZHVGFnIiwiaXNTcGVjaWFsQm9vbGVhbkF0dHIiLCJpbmNsdWRlQm9vbGVhbkF0dHIiLCJsb29zZUNvbXBhcmVBcnJheXMiLCJhIiwiYiIsImVxdWFsIiwibG9vc2VFcXVhbCIsImFWYWxpZFR5cGUiLCJpc0RhdGUiLCJiVmFsaWRUeXBlIiwiaXNTeW1ib2wiLCJhS2V5c0NvdW50IiwiYktleXNDb3VudCIsImFIYXNLZXkiLCJiSGFzS2V5IiwibG9vc2VJbmRleE9mIiwiYXJyIiwidG9EaXNwbGF5U3RyaW5nIiwib2JqZWN0VG9TdHJpbmciLCJpc0Z1bmN0aW9uIiwicmVwbGFjZXIiLCJfa2V5IiwiaXNNYXAiLCJlbnRyaWVzIiwiaXNTZXQiLCJpc1BsYWluT2JqZWN0IiwiRU1QVFlfT0JKIiwiRU1QVFlfQVJSIiwiTk9PUCIsIk5PIiwib25SRSIsImlzT24iLCJpc01vZGVsTGlzdGVuZXIiLCJleHRlbmQiLCJyZW1vdmUiLCJlbCIsImhhc093blByb3BlcnR5IiwiaGFzT3duIiwidG9UeXBlU3RyaW5nIiwiaXNQcm9taXNlIiwidG9SYXdUeXBlIiwiaXNJbnRlZ2VyS2V5IiwiaXNSZXNlcnZlZFByb3AiLCJpc0J1aWx0SW5EaXJlY3RpdmUiLCJjYWNoZVN0cmluZ0Z1bmN0aW9uIiwiZm4iLCJjYWNoZSIsImNhbWVsaXplUkUiLCJjYW1lbGl6ZSIsIl8iLCJjIiwiaHlwaGVuYXRlUkUiLCJoeXBoZW5hdGUiLCJjYXBpdGFsaXplIiwidG9IYW5kbGVyS2V5IiwiaGFzQ2hhbmdlZCIsIm9sZFZhbHVlIiwiaW52b2tlQXJyYXlGbnMiLCJmbnMiLCJhcmciLCJkZWYiLCJvYmoiLCJ0b051bWJlciIsIm4iLCJfZ2xvYmFsVGhpcyIsImdldEdsb2JhbFRoaXMiLCJ3YXJuIiwibXNnIiwiYXJncyIsImFjdGl2ZUVmZmVjdFNjb3BlIiwiRWZmZWN0U2NvcGUiLCJkZXRhY2hlZCIsImN1cnJlbnRFZmZlY3RTY29wZSIsImZyb21QYXJlbnQiLCJsIiwibGFzdCIsImVmZmVjdFNjb3BlIiwicmVjb3JkRWZmZWN0U2NvcGUiLCJlZmZlY3QiLCJzY29wZSIsImdldEN1cnJlbnRTY29wZSIsIm9uU2NvcGVEaXNwb3NlIiwiY3JlYXRlRGVwIiwiZWZmZWN0cyIsImRlcCIsIndhc1RyYWNrZWQiLCJ0cmFja09wQml0IiwibmV3VHJhY2tlZCIsImluaXREZXBNYXJrZXJzIiwiZGVwcyIsImZpbmFsaXplRGVwTWFya2VycyIsInB0ciIsInRhcmdldE1hcCIsImVmZmVjdFRyYWNrRGVwdGgiLCJtYXhNYXJrZXJCaXRzIiwiYWN0aXZlRWZmZWN0IiwiSVRFUkFURV9LRVkiLCJNQVBfS0VZX0lURVJBVEVfS0VZIiwiUmVhY3RpdmVFZmZlY3QiLCJzY2hlZHVsZXIiLCJwYXJlbnQiLCJsYXN0U2hvdWxkVHJhY2siLCJzaG91bGRUcmFjayIsImNsZWFudXBFZmZlY3QiLCJvcHRpb25zIiwiX2VmZmVjdCIsInJ1bm5lciIsInN0b3AiLCJ0cmFja1N0YWNrIiwicGF1c2VUcmFja2luZyIsInJlc2V0VHJhY2tpbmciLCJ0cmFjayIsInRhcmdldCIsInR5cGUiLCJkZXBzTWFwIiwidHJhY2tFZmZlY3RzIiwiZGVidWdnZXJFdmVudEV4dHJhSW5mbyIsInRyaWdnZXIiLCJuZXdWYWx1ZSIsIm9sZFRhcmdldCIsIm5ld0xlbmd0aCIsImV2ZW50SW5mbyIsInRyaWdnZXJFZmZlY3RzIiwidHJpZ2dlckVmZmVjdCIsImlzTm9uVHJhY2thYmxlS2V5cyIsImJ1aWx0SW5TeW1ib2xzIiwiZ2V0IiwiY3JlYXRlR2V0dGVyIiwic2hhbGxvd0dldCIsInJlYWRvbmx5R2V0Iiwic2hhbGxvd1JlYWRvbmx5R2V0IiwiYXJyYXlJbnN0cnVtZW50YXRpb25zIiwiY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zIiwiaW5zdHJ1bWVudGF0aW9ucyIsInRvUmF3IiwiaXNSZWFkb25seSIsInNoYWxsb3ciLCJyZWNlaXZlciIsInNoYWxsb3dSZWFkb25seU1hcCIsInJlYWRvbmx5TWFwIiwic2hhbGxvd1JlYWN0aXZlTWFwIiwicmVhY3RpdmVNYXAiLCJ0YXJnZXRJc0FycmF5IiwiaXNSZWYiLCJyZWFkb25seSIsInJlYWN0aXZlIiwic2V0IiwiY3JlYXRlU2V0dGVyIiwic2hhbGxvd1NldCIsImlzU2hhbGxvdyIsImhhZEtleSIsInJlc3VsdCIsImRlbGV0ZVByb3BlcnR5IiwiaGFzIiwib3duS2V5cyIsIm11dGFibGVIYW5kbGVycyIsInJlYWRvbmx5SGFuZGxlcnMiLCJzaGFsbG93UmVhY3RpdmVIYW5kbGVycyIsInNoYWxsb3dSZWFkb25seUhhbmRsZXJzIiwidG9TaGFsbG93IiwiZ2V0UHJvdG8iLCJ2IiwiZ2V0JDEiLCJyYXdUYXJnZXQiLCJyYXdLZXkiLCJ3cmFwIiwidG9SZWFkb25seSIsInRvUmVhY3RpdmUiLCJoYXMkMSIsInNpemUiLCJhZGQiLCJzZXQkMSIsImNoZWNrSWRlbnRpdHlLZXlzIiwiZGVsZXRlRW50cnkiLCJjbGVhciIsImhhZEl0ZW1zIiwiY3JlYXRlRm9yRWFjaCIsImNhbGxiYWNrIiwidGhpc0FyZyIsIm9ic2VydmVkIiwiY3JlYXRlSXRlcmFibGVNZXRob2QiLCJtZXRob2QiLCJ0YXJnZXRJc01hcCIsImlzUGFpciIsImlzS2V5T25seSIsImlubmVySXRlcmF0b3IiLCJkb25lIiwiY3JlYXRlUmVhZG9ubHlNZXRob2QiLCJjcmVhdGVJbnN0cnVtZW50YXRpb25zIiwibXV0YWJsZUluc3RydW1lbnRhdGlvbnMiLCJzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyIsInJlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyIsInNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMiLCJjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIiLCJtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzIiwic2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyIsInJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwic2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwidGFyZ2V0VHlwZU1hcCIsInJhd1R5cGUiLCJnZXRUYXJnZXRUeXBlIiwiY3JlYXRlUmVhY3RpdmVPYmplY3QiLCJzaGFsbG93UmVhY3RpdmUiLCJzaGFsbG93UmVhZG9ubHkiLCJiYXNlSGFuZGxlcnMiLCJjb2xsZWN0aW9uSGFuZGxlcnMiLCJwcm94eU1hcCIsImV4aXN0aW5nUHJveHkiLCJ0YXJnZXRUeXBlIiwicHJveHkiLCJpc1JlYWN0aXZlIiwiaXNQcm94eSIsInJhdyIsIm1hcmtSYXciLCJ0cmFja1JlZlZhbHVlIiwicmVmIiwidHJpZ2dlclJlZlZhbHVlIiwibmV3VmFsIiwiciIsImNyZWF0ZVJlZiIsInNoYWxsb3dSZWYiLCJyYXdWYWx1ZSIsIlJlZkltcGwiLCJfX3ZfaXNTaGFsbG93IiwidXNlRGlyZWN0VmFsdWUiLCJ0cmlnZ2VyUmVmIiwidW5yZWYiLCJzaGFsbG93VW53cmFwSGFuZGxlcnMiLCJwcm94eVJlZnMiLCJvYmplY3RXaXRoUmVmcyIsIkN1c3RvbVJlZkltcGwiLCJmYWN0b3J5IiwiY3VzdG9tUmVmIiwidG9SZWZzIiwib2JqZWN0IiwidG9SZWYiLCJPYmplY3RSZWZJbXBsIiwiX29iamVjdCIsIl9kZWZhdWx0VmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJfYSIsIkNvbXB1dGVkUmVmSW1wbCIsImdldHRlciIsIl9zZXR0ZXIiLCJpc1NTUiIsInNlbGYiLCJjb21wdXRlZCIsImdldHRlck9yT3B0aW9ucyIsImRlYnVnT3B0aW9ucyIsInNldHRlciIsIm9ubHlHZXR0ZXIiLCJjUmVmIiwic3RhY2siLCJwdXNoV2FybmluZ0NvbnRleHQiLCJ2bm9kZSIsInBvcFdhcm5pbmdDb250ZXh0Iiwid2FybiQxIiwiaW5zdGFuY2UiLCJhcHBXYXJuSGFuZGxlciIsInRyYWNlIiwiZ2V0Q29tcG9uZW50VHJhY2UiLCJjYWxsV2l0aEVycm9ySGFuZGxpbmciLCJmb3JtYXRDb21wb25lbnROYW1lIiwid2FybkFyZ3MiLCJmb3JtYXRUcmFjZSIsImN1cnJlbnRWTm9kZSIsIm5vcm1hbGl6ZWRTdGFjayIsInBhcmVudEluc3RhbmNlIiwibG9ncyIsImVudHJ5IiwiZm9ybWF0VHJhY2VFbnRyeSIsInJlY3Vyc2VDb3VudCIsInBvc3RmaXgiLCJpc1Jvb3QiLCJvcGVuIiwiY2xvc2UiLCJmb3JtYXRQcm9wcyIsImtleXMiLCJmb3JtYXRQcm9wIiwiRXJyb3JUeXBlU3RyaW5ncyIsImVyciIsImhhbmRsZUVycm9yIiwiY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmciLCJ2YWx1ZXMiLCJ0aHJvd0luRGV2IiwiY29udGV4dFZOb2RlIiwiY3VyIiwiZXhwb3NlZEluc3RhbmNlIiwiZXJyb3JJbmZvIiwiZXJyb3JDYXB0dXJlZEhvb2tzIiwiYXBwRXJyb3JIYW5kbGVyIiwibG9nRXJyb3IiLCJpbmZvIiwiaXNGbHVzaGluZyIsImlzRmx1c2hQZW5kaW5nIiwicXVldWUiLCJmbHVzaEluZGV4IiwicGVuZGluZ1Bvc3RGbHVzaENicyIsImFjdGl2ZVBvc3RGbHVzaENicyIsInBvc3RGbHVzaEluZGV4IiwicmVzb2x2ZWRQcm9taXNlIiwiY3VycmVudEZsdXNoUHJvbWlzZSIsIlJFQ1VSU0lPTl9MSU1JVCIsIm5leHRUaWNrIiwicCIsImZpbmRJbnNlcnRpb25JbmRleCIsImlkIiwic3RhcnQiLCJlbmQiLCJtaWRkbGUiLCJnZXRJZCIsInF1ZXVlSm9iIiwiam9iIiwicXVldWVGbHVzaCIsImZsdXNoSm9icyIsImludmFsaWRhdGVKb2IiLCJxdWV1ZVBvc3RGbHVzaENiIiwiY2IiLCJmbHVzaFByZUZsdXNoQ2JzIiwic2VlbiIsImNoZWNrUmVjdXJzaXZlVXBkYXRlcyIsImZsdXNoUG9zdEZsdXNoQ2JzIiwiZGVkdXBlZCIsImNvbXBhcmF0b3IiLCJkaWZmIiwiY2hlY2siLCJjb3VudCIsImNvbXBvbmVudE5hbWUiLCJnZXRDb21wb25lbnROYW1lIiwiaXNIbXJVcGRhdGluZyIsImhtckRpcnR5Q29tcG9uZW50cyIsInRyeVdyYXAiLCJjcmVhdGVSZWNvcmQiLCJyZXJlbmRlciIsInJlbG9hZCIsInJlZ2lzdGVySE1SIiwicmVjb3JkIiwidW5yZWdpc3RlckhNUiIsImluaXRpYWxEZWYiLCJub3JtYWxpemVDbGFzc0NvbXBvbmVudCIsImNvbXBvbmVudCIsImlzQ2xhc3NDb21wb25lbnQiLCJuZXdSZW5kZXIiLCJuZXdDb21wIiwidXBkYXRlQ29tcG9uZW50RGVmIiwiaW5zdGFuY2VzIiwib2xkQ29tcCIsImUiLCJkZXZ0b29scyIsImJ1ZmZlciIsImRldnRvb2xzTm90SW5zdGFsbGVkIiwiZW1pdCIsImV2ZW50Iiwic2V0RGV2dG9vbHNIb29rIiwiaG9vayIsIl9iIiwibmV3SG9vayIsImRldnRvb2xzSW5pdEFwcCIsImFwcCIsInZlcnNpb24iLCJGcmFnbWVudCIsIlRleHQiLCJDb21tZW50IiwiU3RhdGljIiwiZGV2dG9vbHNVbm1vdW50QXBwIiwiZGV2dG9vbHNDb21wb25lbnRBZGRlZCIsImNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayIsImRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCIsIl9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQiLCJkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQiLCJkZXZ0b29sc1BlcmZTdGFydCIsImNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rIiwiZGV2dG9vbHNQZXJmRW5kIiwidGltZSIsImRldnRvb2xzQ29tcG9uZW50RW1pdCIsInBhcmFtcyIsImRlcHJlY2F0aW9uRGF0YSIsImlzUnVudGltZU9ubHkiLCJsZWdhY3lIb29rIiwiY29lcmNlZCIsImNvbXAiLCJjb25maWdNc2ciLCJpbnN0YW5jZVdhcm5lZCIsIndhcm5Db3VudCIsIndhcm5EZXByZWNhdGlvbiIsImdldEN1cnJlbnRJbnN0YW5jZSIsImdldENvbXBhdENvbmZpZ0ZvcktleSIsImR1cEtleSIsImNvbXBJZCIsImNvbXBvbmVudER1cEtleSIsIm1lc3NhZ2UiLCJsaW5rIiwiaXNDb21wYXRFbmFibGVkIiwiZ2xvYmFsQ29tcGF0Q29uZmlnIiwiY29uZmlndXJlQ29tcGF0IiwiY29uZmlnIiwidmFsaWRhdGVDb21wYXRDb25maWciLCJzZWVuQ29uZmlnT2JqZWN0cyIsIndhcm5lZEludmFsaWRLZXlzIiwiaW5zdGFuY2VDb25maWciLCJlbmFibGVGb3JCdWlsdEluIiwicmF3TW9kZSIsImFzc2VydENvbXBhdEVuYWJsZWQiLCJzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZCIsImNoZWNrQ29tcGF0RW5hYmxlZCIsImVuYWJsZWQiLCJldmVudFJlZ2lzdHJ5TWFwIiwiZ2V0UmVnaXN0cnkiLCJldmVudHMiLCJvbiIsIm9uY2UiLCJ3cmFwcGVkIiwib2ZmIiwidm0iLCJjYnMiLCJlbWl0JDEiLCJjb21wYXRNb2RlbEV2ZW50UHJlZml4Iiwid2FybmVkVHlwZXMiLCJjb252ZXJ0TGVnYWN5Vk1vZGVsUHJvcHMiLCJzaGFwZUZsYWciLCJkeW5hbWljUHJvcHMiLCJtb2RlbCIsImFwcGx5TW9kZWxGcm9tTWl4aW5zIiwicHJvcCIsIm1peGlucyIsIm0iLCJjb21wYXRNb2RlbEVtaXQiLCJtb2RlbEhhbmRsZXIiLCJlbWl0JDIiLCJyYXdBcmdzIiwiZW1pdHNPcHRpb25zIiwicHJvcHNPcHRpb25zIiwidmFsaWRhdG9yIiwibW9kZWxBcmciLCJtb2RpZmllcnNLZXkiLCJudW1iZXIiLCJ0cmltIiwibG93ZXJDYXNlRXZlbnQiLCJoYW5kbGVyTmFtZSIsImhhbmRsZXIiLCJvbmNlSGFuZGxlciIsIm5vcm1hbGl6ZUVtaXRzT3B0aW9ucyIsImFwcENvbnRleHQiLCJhc01peGluIiwiY2FjaGVkIiwiaGFzRXh0ZW5kcyIsImV4dGVuZEVtaXRzIiwibm9ybWFsaXplZEZyb21FeHRlbmQiLCJpc0VtaXRMaXN0ZW5lciIsImN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsImN1cnJlbnRTY29wZUlkIiwic2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlIiwicHJldiIsInB1c2hTY29wZUlkIiwicG9wU2NvcGVJZCIsIndpdGhTY29wZUlkIiwiX2lkIiwid2l0aEN0eCIsImN0eCIsImlzTm9uU2NvcGVkU2xvdCIsInJlbmRlckZuV2l0aENvbnRleHQiLCJzZXRCbG9ja1RyYWNraW5nIiwicHJldkluc3RhbmNlIiwiYWNjZXNzZWRBdHRycyIsIm1hcmtBdHRyc0FjY2Vzc2VkIiwicmVuZGVyQ29tcG9uZW50Um9vdCIsIkNvbXBvbmVudCIsIndpdGhQcm94eSIsInNsb3RzIiwiYXR0cnMiLCJyZW5kZXIiLCJyZW5kZXJDYWNoZSIsImRhdGEiLCJzZXR1cFN0YXRlIiwiaW5oZXJpdEF0dHJzIiwiZmFsbHRocm91Z2hBdHRycyIsInByb3h5VG9Vc2UiLCJub3JtYWxpemVWTm9kZSIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsImJsb2NrU3RhY2siLCJjcmVhdGVWTm9kZSIsInJvb3QiLCJzZXRSb290IiwiZ2V0Q2hpbGRSb290IiwiZmlsdGVyTW9kZWxMaXN0ZW5lcnMiLCJjbG9uZVZOb2RlIiwiYWxsQXR0cnMiLCJldmVudEF0dHJzIiwiZXh0cmFBdHRycyIsImNscyIsImlzRWxlbWVudFJvb3QiLCJyYXdDaGlsZHJlbiIsImR5bmFtaWNDaGlsZHJlbiIsImNoaWxkUm9vdCIsImZpbHRlclNpbmdsZVJvb3QiLCJpbmRleCIsImR5bmFtaWNJbmRleCIsInVwZGF0ZWRSb290IiwiY2hpbGRyZW4iLCJzaW5nbGVSb290IiwiY2hpbGQiLCJpc1ZOb2RlIiwic2hvdWxkVXBkYXRlQ29tcG9uZW50IiwicHJldlZOb2RlIiwibmV4dFZOb2RlIiwib3B0aW1pemVkIiwicHJldlByb3BzIiwicHJldkNoaWxkcmVuIiwibmV4dFByb3BzIiwibmV4dENoaWxkcmVuIiwicGF0Y2hGbGFnIiwiZW1pdHMiLCJoYXNQcm9wc0NoYW5nZWQiLCJuZXh0S2V5cyIsInVwZGF0ZUhPQ0hvc3RFbCIsImlzU3VzcGVuc2UiLCJTdXNwZW5zZSIsIm4xIiwibjIiLCJjb250YWluZXIiLCJhbmNob3IiLCJwYXJlbnRDb21wb25lbnQiLCJwYXJlbnRTdXNwZW5zZSIsImlzU1ZHIiwic2xvdFNjb3BlSWRzIiwicmVuZGVyZXJJbnRlcm5hbHMiLCJtb3VudFN1c3BlbnNlIiwicGF0Y2hTdXNwZW5zZSIsImh5ZHJhdGVTdXNwZW5zZSIsImNyZWF0ZVN1c3BlbnNlQm91bmRhcnkiLCJub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuIiwidHJpZ2dlckV2ZW50IiwiZXZlbnRMaXN0ZW5lciIsInBhdGNoIiwiY3JlYXRlRWxlbWVudCIsImhpZGRlbkNvbnRhaW5lciIsInN1c3BlbnNlIiwic2V0QWN0aXZlQnJhbmNoIiwidW5tb3VudCIsIm5ld0JyYW5jaCIsIm5ld0ZhbGxiYWNrIiwiYWN0aXZlQnJhbmNoIiwicGVuZGluZ0JyYW5jaCIsImlzSW5GYWxsYmFjayIsImlzSHlkcmF0aW5nIiwiaXNTYW1lVk5vZGVUeXBlIiwidGltZW91dCIsInBlbmRpbmdJZCIsImhhc1dhcm5lZCIsIm1vdmUiLCJuZXh0IiwicGFyZW50Tm9kZSIsInJlc3VtZSIsImRlbGF5RW50ZXIiLCJoYXNVbnJlc29sdmVkQW5jZXN0b3IiLCJmYWxsYmFja1ZOb2RlIiwibW91bnRGYWxsYmFjayIsInNldHVwUmVuZGVyRWZmZWN0IiwiaXNJblBlbmRpbmdTdXNwZW5zZSIsImh5ZHJhdGVkRWwiLCJhc3luY1NldHVwUmVzdWx0IiwiaGFuZGxlU2V0dXBSZXN1bHQiLCJwbGFjZWhvbGRlciIsImRvUmVtb3ZlIiwibm9kZSIsImh5ZHJhdGVOb2RlIiwiaXNTbG90Q2hpbGRyZW4iLCJub3JtYWxpemVTdXNwZW5zZVNsb3QiLCJzIiwiYmxvY2siLCJ0cmFja0Jsb2NrIiwiaXNCbG9ja1RyZWVFbmFibGVkIiwib3BlbkJsb2NrIiwiY3VycmVudEJsb2NrIiwiY2xvc2VCbG9jayIsInNpbmdsZUNoaWxkIiwicXVldWVFZmZlY3RXaXRoU3VzcGVuc2UiLCJicmFuY2giLCJwcm92aWRlIiwiY3VycmVudEluc3RhbmNlIiwicHJvdmlkZXMiLCJwYXJlbnRQcm92aWRlcyIsImluamVjdCIsInRyZWF0RGVmYXVsdEFzRmFjdG9yeSIsIndhdGNoRWZmZWN0IiwiZG9XYXRjaCIsIndhdGNoUG9zdEVmZmVjdCIsIndhdGNoU3luY0VmZmVjdCIsIklOSVRJQUxfV0FUQ0hFUl9WQUxVRSIsIndhdGNoIiwic291cmNlIiwiaW1tZWRpYXRlIiwiZGVlcCIsImZsdXNoIiwib25UcmFjayIsIm9uVHJpZ2dlciIsIndhcm5JbnZhbGlkU291cmNlIiwiZm9yY2VUcmlnZ2VyIiwiaXNNdWx0aVNvdXJjZSIsInRyYXZlcnNlIiwiY2xlYW51cCIsIm9uQ2xlYW51cCIsImJhc2VHZXR0ZXIiLCJzc3JDbGVhbnVwIiwiaXNJblNTUkNvbXBvbmVudFNldHVwIiwidXNlU1NSQ29udGV4dCIsInF1ZXVlUG9zdFJlbmRlckVmZmVjdCIsInVud2F0Y2giLCJpbnN0YW5jZVdhdGNoIiwicHVibGljVGhpcyIsImNyZWF0ZVBhdGhHZXR0ZXIiLCJzZXRDdXJyZW50SW5zdGFuY2UiLCJ1bnNldEN1cnJlbnRJbnN0YW5jZSIsInBhdGgiLCJzZWdtZW50cyIsInVzZVRyYW5zaXRpb25TdGF0ZSIsInN0YXRlIiwib25Nb3VudGVkIiwib25CZWZvcmVVbm1vdW50IiwiVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IiLCJCYXNlVHJhbnNpdGlvbkltcGwiLCJwcmV2VHJhbnNpdGlvbktleSIsImdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiIsImhhc0ZvdW5kIiwicmF3UHJvcHMiLCJtb2RlIiwiZW1wdHlQbGFjZWhvbGRlciIsImlubmVyQ2hpbGQiLCJnZXRLZWVwQWxpdmVDaGlsZCIsImVudGVySG9va3MiLCJyZXNvbHZlVHJhbnNpdGlvbkhvb2tzIiwic2V0VHJhbnNpdGlvbkhvb2tzIiwib2xkQ2hpbGQiLCJvbGRJbm5lckNoaWxkIiwidHJhbnNpdGlvbktleUNoYW5nZWQiLCJnZXRUcmFuc2l0aW9uS2V5IiwibGVhdmluZ0hvb2tzIiwiZWFybHlSZW1vdmUiLCJkZWxheWVkTGVhdmUiLCJsZWF2aW5nVk5vZGVzQ2FjaGUiLCJnZXRMZWF2aW5nTm9kZXNGb3JUeXBlIiwiQmFzZVRyYW5zaXRpb24iLCJsZWF2aW5nVk5vZGVzIiwiYXBwZWFyIiwicGVyc2lzdGVkIiwib25CZWZvcmVFbnRlciIsIm9uRW50ZXIiLCJvbkFmdGVyRW50ZXIiLCJvbkVudGVyQ2FuY2VsbGVkIiwib25CZWZvcmVMZWF2ZSIsIm9uTGVhdmUiLCJvbkFmdGVyTGVhdmUiLCJvbkxlYXZlQ2FuY2VsbGVkIiwib25CZWZvcmVBcHBlYXIiLCJvbkFwcGVhciIsIm9uQWZ0ZXJBcHBlYXIiLCJvbkFwcGVhckNhbmNlbGxlZCIsImNhbGxIb29rIiwiY2FsbEFzeW5jSG9vayIsImhvb2tzIiwibGVhdmluZ1ZOb2RlIiwiYWZ0ZXJIb29rIiwiY2FuY2VsSG9vayIsImNhbGxlZCIsImNhbmNlbGxlZCIsImlzS2VlcEFsaXZlIiwia2VlcENvbW1lbnQiLCJwYXJlbnRLZXkiLCJrZXllZEZyYWdtZW50Q291bnQiLCJkZWZpbmVDb21wb25lbnQiLCJpc0FzeW5jV3JhcHBlciIsImRlZmluZUFzeW5jQ29tcG9uZW50IiwibG9hZGVyIiwibG9hZGluZ0NvbXBvbmVudCIsImVycm9yQ29tcG9uZW50IiwiZGVsYXkiLCJzdXNwZW5zaWJsZSIsInVzZXJPbkVycm9yIiwicGVuZGluZ1JlcXVlc3QiLCJyZXNvbHZlZENvbXAiLCJyZXRyaWVzIiwicmV0cnkiLCJsb2FkIiwidGhpc1JlcXVlc3QiLCJyZXNvbHZlIiwicmVqZWN0IiwiY3JlYXRlSW5uZXJDb21wIiwib25FcnJvciIsImxvYWRlZCIsImVycm9yIiwiZGVsYXllZCIsImNlIiwiS2VlcEFsaXZlSW1wbCIsInNoYXJlZENvbnRleHQiLCJjdXJyZW50IiwiX3VubW91bnQiLCJzdG9yYWdlQ29udGFpbmVyIiwidm5vZGVIb29rIiwiaW52b2tlVk5vZGVIb29rIiwicmVzZXRTaGFwZUZsYWciLCJwcnVuZUNhY2hlIiwiZmlsdGVyIiwicHJ1bmVDYWNoZUVudHJ5IiwiaW5jbHVkZSIsImV4Y2x1ZGUiLCJtYXRjaGVzIiwicGVuZGluZ0NhY2hlS2V5IiwiY2FjaGVTdWJ0cmVlIiwiZ2V0SW5uZXJDaGlsZCIsIm9uVXBkYXRlZCIsInN1YlRyZWUiLCJkYSIsInJhd1ZOb2RlIiwibWF4IiwiY2FjaGVkVk5vZGUiLCJLZWVwQWxpdmUiLCJwYXR0ZXJuIiwib25BY3RpdmF0ZWQiLCJyZWdpc3RlcktlZXBBbGl2ZUhvb2siLCJvbkRlYWN0aXZhdGVkIiwid3JhcHBlZEhvb2siLCJpbmplY3RIb29rIiwiaW5qZWN0VG9LZWVwQWxpdmVSb290Iiwia2VlcEFsaXZlUm9vdCIsImluamVjdGVkIiwib25Vbm1vdW50ZWQiLCJwcmVwZW5kIiwiYXBpTmFtZSIsImNyZWF0ZUhvb2siLCJsaWZlY3ljbGUiLCJvbkJlZm9yZU1vdW50Iiwib25CZWZvcmVVcGRhdGUiLCJvblNlcnZlclByZWZldGNoIiwib25SZW5kZXJUcmlnZ2VyZWQiLCJvblJlbmRlclRyYWNrZWQiLCJvbkVycm9yQ2FwdHVyZWQiLCJnZXRDb21wYXRDaGlsZHJlbiIsIndhbGsiLCJ2bm9kZXMiLCJnZXRDb21wYXRMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJsZWdhY3lEaXJlY3RpdmVIb29rTWFwIiwibWFwQ29tcGF0RGlyZWN0aXZlSG9vayIsImRpciIsIm1hcHBlZE5hbWUiLCJtYXBwZWQiLCJtYXBwZWRIb29rIiwidmFsaWRhdGVEaXJlY3RpdmVOYW1lIiwid2l0aERpcmVjdGl2ZXMiLCJkaXJlY3RpdmVzIiwiaW50ZXJuYWxJbnN0YW5jZSIsImdldEV4cG9zZVByb3h5IiwiYmluZGluZ3MiLCJtb2RpZmllcnMiLCJpbnZva2VEaXJlY3RpdmVIb29rIiwib2xkQmluZGluZ3MiLCJiaW5kaW5nIiwiQ09NUE9ORU5UUyIsIkRJUkVDVElWRVMiLCJGSUxURVJTIiwicmVzb2x2ZUNvbXBvbmVudCIsIm1heWJlU2VsZlJlZmVyZW5jZSIsInJlc29sdmVBc3NldCIsIk5VTExfRFlOQU1JQ19DT01QT05FTlQiLCJyZXNvbHZlRHluYW1pY0NvbXBvbmVudCIsInJlc29sdmVEaXJlY3RpdmUiLCJyZXNvbHZlRmlsdGVyIiwid2Fybk1pc3NpbmciLCJzZWxmTmFtZSIsImV4dHJhIiwicmVnaXN0cnkiLCJjb252ZXJ0TGVnYWN5UmVuZGVyRm4iLCJjb21wYXRIIiwicHJvcHNPckNoaWxkcmVuIiwidCIsImlzMm5kQXJnQXJyYXlDaGlsZHJlbiIsImNvbnZlcnRMZWdhY3lTbG90cyIsImNvbnZlcnRMZWdhY3lEaXJlY3RpdmVzIiwiY29udmVydExlZ2FjeVByb3BzIiwic2tpcExlZ2FjeVJvb3RMZXZlbFByb3BzIiwibGVnYWN5UHJvcHMiLCJjb252ZXJ0ZWQiLCJoYW5kbGVyS2V5IiwiY29udmVydExlZ2FjeUV2ZW50S2V5IiwiZXhpc3RpbmciLCJpbmNvbWluZyIsInNsb3ROYW1lIiwic2xvdCIsInNsb3RDaGlsZHJlbiIsInNjb3BlZFNsb3RzIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJkZWZpbmVMZWdhY3lWTm9kZVByb3BlcnRpZXMiLCJjb250ZXh0IiwiZ2V0SW5zdGFuY2UiLCJjb21wb25lbnRPcHRpb25zIiwibm9ybWFsaXplZEZ1bmN0aW9uYWxDb21wb25lbnRNYXAiLCJsZWdhY3lTbG90UHJveHlIYW5kbGVycyIsImNvbnZlcnRMZWdhY3lGdW5jdGlvbmFsQ29tcG9uZW50IiwibGVnYWN5Rm4iLCJGdW5jIiwibGVnYWN5Q3R4IiwiaW5qZWN0aW9ucyIsInJlc29sdmVJbmplY3Rpb25zIiwicmVuZGVyTGlzdCIsInJlbmRlckl0ZW0iLCJjcmVhdGVTbG90cyIsImR5bmFtaWNTbG90cyIsImoiLCJyZW5kZXJTbG90IiwiZmFsbGJhY2siLCJub1Nsb3R0ZWQiLCJ2YWxpZFNsb3RDb250ZW50IiwiZW5zdXJlVmFsaWRWTm9kZSIsInJlbmRlcmVkIiwiY3JlYXRlQmxvY2siLCJ0b0hhbmRsZXJzIiwicHJlc2VydmVDYXNlSWZOZWNlc3NhcnkiLCJ0b09iamVjdCIsImxlZ2FjeUJpbmRPYmplY3RQcm9wcyIsIl90YWciLCJfYXNQcm9wIiwiaXNTeW5jIiwiY2FtZWxpemVkS2V5IiwiaHlwaGVuYXRlZEtleSIsIiRldmVudCIsImxlZ2FjeUJpbmRPYmplY3RMaXN0ZW5lcnMiLCJtZXJnZVByb3BzIiwibGVnYWN5UmVuZGVyU2xvdCIsImJpbmRPYmplY3QiLCJsZWdhY3lyZXNvbHZlU2NvcGVkU2xvdHMiLCJoYXNEeW5hbWljS2V5cyIsIm1hcEtleVRvTmFtZSIsInN0YXRpY0NhY2hlTWFwIiwibGVnYWN5UmVuZGVyU3RhdGljIiwibGVnYWN5Q2hlY2tLZXlDb2RlcyIsImV2ZW50S2V5Q29kZSIsImJ1aWx0SW5LZXlDb2RlIiwiZXZlbnRLZXlOYW1lIiwiYnVpbHRJbktleU5hbWUiLCJjb25maWdLZXlDb2RlcyIsIm1hcHBlZEtleUNvZGUiLCJpc0tleU5vdE1hdGNoIiwiZXhwZWN0IiwiYWN0dWFsIiwibGVnYWN5TWFya09uY2UiLCJ0cmVlIiwibGVnYWN5QmluZER5bmFtaWNLZXlzIiwibGVnYWN5UHJlcGVuZE1vZGlmaWVyIiwic3ltYm9sIiwiaW5zdGFsbENvbXBhdEluc3RhbmNlUHJvcGVydGllcyIsImRlbCIsInJlc29sdmVNZXJnZWRPcHRpb25zIiwiY3JlYXRlVGV4dFZOb2RlIiwiY3JlYXRlQ29tbWVudFZOb2RlIiwiZ2V0UHVibGljSW5zdGFuY2UiLCJpc1N0YXRlZnVsQ29tcG9uZW50IiwicHVibGljUHJvcGVydGllc01hcCIsImlzUmVzZXJ2ZWRQcmVmaXgiLCJoYXNTZXR1cEJpbmRpbmciLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJhY2Nlc3NDYWNoZSIsIm5vcm1hbGl6ZWRQcm9wcyIsInNob3VsZENhY2hlQWNjZXNzIiwicHVibGljR2V0dGVyIiwiY3NzTW9kdWxlIiwiZ2xvYmFsUHJvcGVydGllcyIsImRlc2MiLCJkZXNjcmlwdG9yIiwiUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzIiwiY3JlYXRlRGV2UmVuZGVyQ29udGV4dCIsImV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0IiwiZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dCIsImRlZXBNZXJnZURhdGEiLCJ0byIsImZyb20iLCJ0b1ZhbCIsImZyb21WYWwiLCJjcmVhdGVEdXBsaWNhdGVDaGVja2VyIiwiYXBwbHlPcHRpb25zIiwiZGF0YU9wdGlvbnMiLCJjb21wdXRlZE9wdGlvbnMiLCJtZXRob2RzIiwid2F0Y2hPcHRpb25zIiwicHJvdmlkZU9wdGlvbnMiLCJpbmplY3RPcHRpb25zIiwiY3JlYXRlZCIsImJlZm9yZU1vdW50IiwibW91bnRlZCIsImJlZm9yZVVwZGF0ZSIsInVwZGF0ZWQiLCJhY3RpdmF0ZWQiLCJkZWFjdGl2YXRlZCIsImJlZm9yZURlc3Ryb3kiLCJiZWZvcmVVbm1vdW50IiwiZGVzdHJveWVkIiwidW5tb3VudGVkIiwicmVuZGVyVHJhY2tlZCIsInJlbmRlclRyaWdnZXJlZCIsImVycm9yQ2FwdHVyZWQiLCJzZXJ2ZXJQcmVmZXRjaCIsImV4cG9zZSIsImNvbXBvbmVudHMiLCJmaWx0ZXJzIiwiY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzIiwibWV0aG9kSGFuZGxlciIsIm9wdCIsImNvbXB1dGVkJDEiLCJjcmVhdGVXYXRjaGVyIiwicmVnaXN0ZXJMaWZlY3ljbGVIb29rIiwicmVnaXN0ZXIiLCJfaG9vayIsImV4cG9zZWQiLCJ1bndyYXBSZWYiLCJub3JtYWxpemVJbmplY3QiLCJoIiwiYmFzZSIsImV4dGVuZHNPcHRpb25zIiwiZ2xvYmFsTWl4aW5zIiwib3B0aW9uTWVyZ2VTdHJhdGVnaWVzIiwicmVzb2x2ZWQiLCJtZXJnZU9wdGlvbnMiLCJzdHJhdHMiLCJzdHJhdCIsImludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMiLCJtZXJnZURhdGFGbiIsIm1lcmdlT2JqZWN0T3B0aW9ucyIsIm1lcmdlQXNBcnJheSIsIm1lcmdlV2F0Y2hPcHRpb25zIiwibWVyZ2VJbmplY3QiLCJtZXJnZWQiLCJjcmVhdGVQcm9wc0RlZmF1bHRUaGlzIiwicHJvcEtleSIsInNob3VsZFNraXBBdHRyIiwiaW5pdFByb3BzIiwiaXNTdGF0ZWZ1bCIsIkludGVybmFsT2JqZWN0S2V5Iiwic2V0RnVsbFByb3BzIiwidmFsaWRhdGVQcm9wcyIsImlzSW5IbXJDb250ZXh0IiwidXBkYXRlUHJvcHMiLCJyYXdQcmV2UHJvcHMiLCJyYXdDdXJyZW50UHJvcHMiLCJoYXNBdHRyc0NoYW5nZWQiLCJwcm9wc1RvVXBkYXRlIiwicmVzb2x2ZVByb3BWYWx1ZSIsImtlYmFiS2V5IiwibmVlZENhc3RLZXlzIiwicmF3Q2FzdFZhbHVlcyIsImNhbWVsS2V5IiwiY2FzdFZhbHVlcyIsImlzQWJzZW50IiwiaGFzRGVmYXVsdCIsInByb3BzRGVmYXVsdHMiLCJub3JtYWxpemVQcm9wc09wdGlvbnMiLCJleHRlbmRQcm9wcyIsIm5vcm1hbGl6ZWRLZXkiLCJ2YWxpZGF0ZVByb3BOYW1lIiwiYm9vbGVhbkluZGV4IiwiZ2V0VHlwZUluZGV4Iiwic3RyaW5nSW5kZXgiLCJnZXRUeXBlIiwiY3RvciIsIm1hdGNoIiwiaXNTYW1lVHlwZSIsImV4cGVjdGVkVHlwZXMiLCJyZXNvbHZlZFZhbHVlcyIsInZhbGlkYXRlUHJvcCIsInJlcXVpcmVkIiwiaXNWYWxpZCIsInR5cGVzIiwidmFsaWQiLCJleHBlY3RlZFR5cGUiLCJhc3NlcnRUeXBlIiwiZ2V0SW52YWxpZFR5cGVNZXNzYWdlIiwiaXNTaW1wbGVUeXBlIiwicmVjZWl2ZWRUeXBlIiwiZXhwZWN0ZWRWYWx1ZSIsInN0eWxlVmFsdWUiLCJyZWNlaXZlZFZhbHVlIiwiaXNFeHBsaWNhYmxlIiwiaXNCb29sZWFuIiwiZWxlbSIsImlzSW50ZXJuYWxLZXkiLCJub3JtYWxpemVTbG90VmFsdWUiLCJub3JtYWxpemVTbG90IiwicmF3U2xvdCIsIm5vcm1hbGl6ZU9iamVjdFNsb3RzIiwicmF3U2xvdHMiLCJub3JtYWxpemVWTm9kZVNsb3RzIiwiaW5pdFNsb3RzIiwidXBkYXRlU2xvdHMiLCJuZWVkRGVsZXRpb25DaGVjayIsImRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCIsImluc3RhbGxMZWdhY3lDb25maWdXYXJuaW5ncyIsImxlZ2FjeUNvbmZpZ09wdGlvbnMiLCJpc0NvcHlpbmdDb25maWciLCJpbnN0YWxsTGVnYWN5T3B0aW9uTWVyZ2VTdHJhdHMiLCJzaW5nbGV0b25BcHAiLCJzaW5nbGV0b25DdG9yIiwiY3JlYXRlQ29tcGF0VnVlIiwiY3JlYXRlQXBwIiwiY3JlYXRlU2luZ2xldG9uQXBwIiwiVnVlIiwiY3JlYXRlQ29tcGF0QXBwIiwiQ3RvciIsImFwcGx5U2luZ2xldG9uUHJvdG90eXBlIiwiY2lkIiwiZXh0ZW5kQ2FjaGUiLCJleHRlbmRDdG9yIiwiZXh0ZW5kT3B0aW9ucyIsIlN1cGVyIiwiU3ViVnVlIiwiaW5saW5lT3B0aW9ucyIsIm1lcmdlQmFzZSIsInN1cGVyVmFsdWUiLCJ1dGlsIiwiZGVmaW5lUmVhY3RpdmUiLCJpbnN0YWxsQXBwQ29tcGF0UHJvcGVydGllcyIsImluc3RhbGxGaWx0ZXJNZXRob2QiLCJpbnN0YWxsQ29tcGF0TW91bnQiLCJpbnN0YWxsTGVnYWN5QVBJcyIsImFwcGx5U2luZ2xldG9uQXBwTXV0YXRpb25zIiwidGFnIiwiaGFzUHJvdG90eXBlQXVnbWVudGF0aW9ucyIsImRlc2NyaXB0b3JzIiwiaXNNb3VudGVkIiwiaGFzTm9SZW5kZXIiLCJlbXB0eVJlbmRlciIsImNyZWF0ZUNvbXBvbmVudEluc3RhbmNlIiwic2V0dXBDb21wb25lbnQiLCJzZWxlY3Rvck9yRWwiLCJjbG9uZWQiLCJhdHRyIiwiZmluaXNoQ29tcG9uZW50U2V0dXAiLCJidW0iLCJ1bSIsIm1ldGhvZHNUb1BhdGNoIiwicGF0Y2hlZCIsInJlYWN0aXZlVmFsIiwiZGVmaW5lUmVhY3RpdmVTaW1wbGUiLCJjcmVhdGVBcHBDb250ZXh0IiwidWlkIiwiY3JlYXRlQXBwQVBJIiwiaHlkcmF0ZSIsInJvb3RDb21wb25lbnQiLCJyb290UHJvcHMiLCJpbnN0YWxsZWRQbHVnaW5zIiwicGx1Z2luIiwibWl4aW4iLCJ2YWxpZGF0ZUNvbXBvbmVudE5hbWUiLCJkaXJlY3RpdmUiLCJyb290Q29udGFpbmVyIiwiaXNIeWRyYXRlIiwic2V0UmVmIiwicmF3UmVmIiwib2xkUmF3UmVmIiwiaXNVbm1vdW50IiwicmVmVmFsdWUiLCJvd25lciIsIm9sZFJlZiIsInJlZnMiLCJfaXNTdHJpbmciLCJfaXNSZWYiLCJkb1NldCIsImhhc01pc21hdGNoIiwiaXNTVkdDb250YWluZXIiLCJpc0NvbW1lbnQiLCJjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMiLCJtb3VudENvbXBvbmVudCIsInBhdGNoUHJvcCIsImNyZWF0ZVRleHQiLCJuZXh0U2libGluZyIsImluc2VydCIsImNyZWF0ZUNvbW1lbnQiLCJpc0ZyYWdtZW50U3RhcnQiLCJvbk1pc21hdGNoIiwiaGFuZGxlTWlzbWF0Y2giLCJkb21UeXBlIiwibmV4dE5vZGUiLCJuZWVkVG9BZG9wdENvbnRlbnQiLCJoeWRyYXRlRnJhZ21lbnQiLCJoeWRyYXRlRWxlbWVudCIsImxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvciIsImh5ZHJhdGVDaGlsZHJlbiIsImRpcnMiLCJmb3JjZVBhdGNoVmFsdWUiLCJ2bm9kZUhvb2tzIiwicGFyZW50Vk5vZGUiLCJmcmFnbWVudFNsb3RTY29wZUlkcyIsImlzRnJhZ21lbnQiLCJzdXBwb3J0ZWQiLCJwZXJmIiwic3RhcnRNZWFzdXJlIiwiaXNTdXBwb3J0ZWQiLCJlbmRNZWFzdXJlIiwic3RhcnRUYWciLCJlbmRUYWciLCJpbml0RmVhdHVyZUZsYWdzIiwibmVlZFdhcm4iLCJtdWx0aSIsImNyZWF0ZVJlbmRlcmVyIiwiYmFzZUNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIiLCJjcmVhdGVIeWRyYXRpb25GbnMiLCJob3N0SW5zZXJ0IiwiaG9zdFJlbW92ZSIsImhvc3RQYXRjaFByb3AiLCJob3N0Q3JlYXRlRWxlbWVudCIsImhvc3RDcmVhdGVUZXh0IiwiaG9zdENyZWF0ZUNvbW1lbnQiLCJob3N0U2V0VGV4dCIsImhvc3RTZXRFbGVtZW50VGV4dCIsImhvc3RQYXJlbnROb2RlIiwiaG9zdE5leHRTaWJsaW5nIiwiaG9zdFNldFNjb3BlSWQiLCJob3N0SW5zZXJ0U3RhdGljQ29udGVudCIsImdldE5leHRIb3N0Tm9kZSIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0NvbW1lbnROb2RlIiwibW91bnRTdGF0aWNOb2RlIiwicGF0Y2hTdGF0aWNOb2RlIiwicHJvY2Vzc0ZyYWdtZW50IiwicHJvY2Vzc0VsZW1lbnQiLCJwcm9jZXNzQ29tcG9uZW50IiwiaW50ZXJuYWxzIiwicmVtb3ZlU3RhdGljTm9kZSIsIm1vdmVTdGF0aWNOb2RlIiwibW91bnRFbGVtZW50IiwicGF0Y2hFbGVtZW50IiwidHJhbnNpdGlvbiIsIm1vdW50Q2hpbGRyZW4iLCJ1bm1vdW50Q2hpbGRyZW4iLCJzZXRTY29wZUlkIiwibmVlZENhbGxUcmFuc2l0aW9uSG9va3MiLCJzY29wZUlkIiwiY2xvbmVJZk1vdW50ZWQiLCJvbGRQcm9wcyIsIm5ld1Byb3BzIiwidG9nZ2xlUmVjdXJzZSIsImFyZUNoaWxkcmVuU1ZHIiwicGF0Y2hCbG9ja0NoaWxkcmVuIiwidHJhdmVyc2VTdGF0aWNDaGlsZHJlbiIsInBhdGNoQ2hpbGRyZW4iLCJwYXRjaFByb3BzIiwib2xkQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImZhbGxiYWNrQ29udGFpbmVyIiwib2xkVk5vZGUiLCJuZXdWTm9kZSIsImZyYWdtZW50U3RhcnRBbmNob3IiLCJmcmFnbWVudEVuZEFuY2hvciIsInVwZGF0ZUNvbXBvbmVudCIsImluaXRpYWxWTm9kZSIsImNvbXBhdE1vdW50SW5zdGFuY2UiLCJ1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIiLCJjb21wb25lbnRVcGRhdGVGbiIsImJ1IiwidSIsIm9yaWdpbk5leHQiLCJuZXh0VHJlZSIsInByZXZUcmVlIiwiYm0iLCJpc0FzeW5jV3JhcHBlclZOb2RlIiwiaHlkcmF0ZVN1YlRyZWUiLCJzY29wZWRJbml0aWFsVk5vZGUiLCJ1cGRhdGUiLCJjMSIsInByZXZTaGFwZUZsYWciLCJjMiIsInBhdGNoS2V5ZWRDaGlsZHJlbiIsInBhdGNoVW5rZXllZENoaWxkcmVuIiwib2xkTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwicGFyZW50QW5jaG9yIiwibDIiLCJlMSIsImUyIiwibmV4dFBvcyIsInMxIiwiczIiLCJrZXlUb05ld0luZGV4TWFwIiwidG9CZVBhdGNoZWQiLCJtb3ZlZCIsIm1heE5ld0luZGV4U29GYXIiLCJuZXdJbmRleFRvT2xkSW5kZXhNYXAiLCJwcmV2Q2hpbGQiLCJuZXdJbmRleCIsImluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlIiwiZ2V0U2VxdWVuY2UiLCJuZXh0SW5kZXgiLCJtb3ZlVHlwZSIsImxlYXZlIiwiZGVsYXlMZWF2ZSIsImFmdGVyTGVhdmUiLCJwZXJmb3JtTGVhdmUiLCJzaG91bGRJbnZva2VEaXJzIiwic2hvdWxkSW52b2tlVm5vZGVIb29rIiwidW5tb3VudENvbXBvbmVudCIsInJlbW92ZUZyYWdtZW50IiwicGVyZm9ybVJlbW92ZSIsImFsbG93ZWQiLCJjaDEiLCJjaDIiLCJsZW4iLCJhcnJJIiwiaXNUZWxlcG9ydCIsImlzVGVsZXBvcnREaXNhYmxlZCIsImlzVGFyZ2V0U1ZHIiwicmVzb2x2ZVRhcmdldCIsInNlbGVjdCIsInRhcmdldFNlbGVjdG9yIiwiVGVsZXBvcnRJbXBsIiwicXVlcnlTZWxlY3RvciIsImRpc2FibGVkIiwibWFpbkFuY2hvciIsInRhcmdldEFuY2hvciIsIm1vdW50Iiwid2FzRGlzYWJsZWQiLCJjdXJyZW50Q29udGFpbmVyIiwiY3VycmVudEFuY2hvciIsIm1vdmVUZWxlcG9ydCIsIm5leHRUYXJnZXQiLCJ1cGRhdGVDc3NWYXJzIiwiaHlkcmF0ZVRlbGVwb3J0IiwiaXNSZW9yZGVyIiwidGFyZ2V0Tm9kZSIsIlRlbGVwb3J0Iiwibm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwIiwiY29udmVydExlZ2FjeUFzeW5jQ29tcG9uZW50IiwiZmFsbGJhY2tQcm9taXNlIiwicmoiLCJjb252ZXJ0TGVnYWN5Q29tcG9uZW50IiwiZGlzYWJsZVRyYWNraW5nIiwic2V0dXBCbG9jayIsImNyZWF0ZUVsZW1lbnRCbG9jayIsImNyZWF0ZUJhc2VWTm9kZSIsInZub2RlQXJnc1RyYW5zZm9ybWVyIiwidHJhbnNmb3JtVk5vZGVBcmdzIiwidHJhbnNmb3JtZXIiLCJjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtIiwiX2NyZWF0ZVZOb2RlIiwibm9ybWFsaXplS2V5Iiwibm9ybWFsaXplUmVmIiwicmVmX2tleSIsInJlZl9mb3IiLCJpc0Jsb2NrTm9kZSIsIm5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uIiwiZ3VhcmRSZWFjdGl2ZVByb3BzIiwiZXh0cmFQcm9wcyIsIm1lcmdlUmVmIiwibWVyZ2VkUHJvcHMiLCJkZWVwQ2xvbmVWTm9kZSIsInRleHQiLCJmbGFnIiwiY3JlYXRlU3RhdGljVk5vZGUiLCJjb250ZW50IiwibnVtYmVyT2ZOb2RlcyIsImFzQmxvY2siLCJzbG90RmxhZyIsInRvTWVyZ2UiLCJlbXB0eUFwcENvbnRleHQiLCJ1aWQkMSIsImlzQnVpbHRJblRhZyIsImFwcElzTmF0aXZlVGFnIiwic2V0dXBSZXN1bHQiLCJzZXR1cFN0YXRlZnVsQ29tcG9uZW50IiwibmFtZXMiLCJzZXR1cCIsInNldHVwQ29udGV4dCIsImNyZWF0ZVNldHVwQ29udGV4dCIsInJlc29sdmVkUmVzdWx0IiwiY29tcGlsZSIsImluc3RhbGxXaXRoUHJveHkiLCJyZWdpc3RlclJ1bnRpbWVDb21waWxlciIsIl9jb21waWxlIiwic2tpcE9wdGlvbnMiLCJ0ZW1wbGF0ZSIsImlzQ3VzdG9tRWxlbWVudCIsImNvbXBpbGVyT3B0aW9ucyIsImRlbGltaXRlcnMiLCJjb21wb25lbnRDb21waWxlck9wdGlvbnMiLCJmaW5hbENvbXBpbGVyT3B0aW9ucyIsImNyZWF0ZUF0dHJzUHJveHkiLCJjbGFzc2lmeVJFIiwiY2xhc3NpZnkiLCJpbmNsdWRlSW5mZXJyZWQiLCJpbmZlckZyb21SZWdpc3RyeSIsIndhcm5SdW50aW1lVXNhZ2UiLCJkZWZpbmVQcm9wcyIsImRlZmluZUVtaXRzIiwiZGVmaW5lRXhwb3NlIiwid2l0aERlZmF1bHRzIiwiZGVmYXVsdHMiLCJ1c2VTbG90cyIsImdldENvbnRleHQiLCJ1c2VBdHRycyIsIm1lcmdlRGVmYXVsdHMiLCJjcmVhdGVQcm9wc1Jlc3RQcm94eSIsImV4Y2x1ZGVkS2V5cyIsIndpdGhBc3luY0NvbnRleHQiLCJnZXRBd2FpdGFibGUiLCJhd2FpdGFibGUiLCJzc3JDb250ZXh0S2V5IiwiaW5pdEN1c3RvbUZvcm1hdHRlciIsInZ1ZVN0eWxlIiwibnVtYmVyU3R5bGUiLCJzdHJpbmdTdHlsZSIsImtleXdvcmRTdHlsZSIsImZvcm1hdHRlciIsImdlblJlZkZsYWciLCJmb3JtYXRWYWx1ZSIsImZvcm1hdEluc3RhbmNlIiwiYmxvY2tzIiwiY3JlYXRlSW5zdGFuY2VCbG9jayIsImV4dHJhY3RLZXlzIiwiYXNSYXciLCJDb21wIiwiZXh0cmFjdGVkIiwiaXNLZXlPZlR5cGUiLCJvcHRzIiwid2l0aE1lbW8iLCJtZW1vIiwiaXNNZW1vU2FtZSIsInNzclV0aWxzIiwicmVzb2x2ZUZpbHRlciQxIiwiY29tcGF0VXRpbHMiLCJzdmdOUyIsImRvYyIsInRlbXBsYXRlQ29udGFpbmVyIiwibm9kZU9wcyIsImlzIiwic2VsZWN0b3IiLCJiZWZvcmUiLCJ3cmFwcGVyIiwicGF0Y2hDbGFzcyIsInRyYW5zaXRpb25DbGFzc2VzIiwicGF0Y2hTdHlsZSIsImlzQ3NzU3RyaW5nIiwic2V0U3R5bGUiLCJjdXJyZW50RGlzcGxheSIsInNlbWljb2xvblJFIiwiaW1wb3J0YW50UkUiLCJwcmVmaXhlZCIsImF1dG9QcmVmaXgiLCJwcmVmaXhlcyIsInByZWZpeENhY2hlIiwicmF3TmFtZSIsInhsaW5rTlMiLCJwYXRjaEF0dHIiLCJjb21wYXRDb2VyY2VBdHRyIiwiaXNFbnVtZXJhdGVkQXR0ciIsInYyQ29lcmNlZFZhbHVlIiwicGF0Y2hET01Qcm9wIiwibmVlZFJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicGF0Y2hFdmVudCIsInByZXZWYWx1ZSIsIm5leHRWYWx1ZSIsImludm9rZXJzIiwiZXhpc3RpbmdJbnZva2VyIiwicGFyc2VOYW1lIiwiaW52b2tlciIsImNyZWF0ZUludm9rZXIiLCJvcHRpb25zTW9kaWZpZXJSRSIsImNhY2hlZE5vdyIsImdldE5vdyIsImluaXRpYWxWYWx1ZSIsInBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwib3JpZ2luYWxTdG9wIiwibmF0aXZlT25SRSIsInNob3VsZFNldEFzUHJvcCIsImRlZmluZUN1c3RvbUVsZW1lbnQiLCJWdWVDdXN0b21FbGVtZW50IiwiVnVlRWxlbWVudCIsImluaXRpYWxQcm9wcyIsImRlZmluZVNTUkN1c3RvbUVsZW1lbnQiLCJCYXNlQ2xhc3MiLCJfZGVmIiwiX3Byb3BzIiwibXV0YXRpb25zIiwiaXNBc3luYyIsInN0eWxlcyIsIm51bWJlclByb3BzIiwiYXN5bmNEZWYiLCJkZWNsYXJlZFByb3BLZXlzIiwic2hvdWxkUmVmbGVjdCIsInNob3VsZFVwZGF0ZSIsIm5ld1N0eWxlcyIsImRpc3BhdGNoIiwiY3NzIiwidXNlQ3NzTW9kdWxlIiwibW9kdWxlcyIsIm1vZCIsInVzZUNzc1ZhcnMiLCJ1cGRhdGVUZWxlcG9ydHMiLCJ2YXJzIiwic2V0VmFyc09uTm9kZSIsInNldFZhcnMiLCJzZXRWYXJzT25WTm9kZSIsIm9iIiwiVFJBTlNJVElPTiIsIkFOSU1BVElPTiIsIlRyYW5zaXRpb24iLCJyZXNvbHZlVHJhbnNpdGlvblByb3BzIiwiRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyIsIlRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJjYWxsSG9vayQxIiwiaGFzRXhwbGljaXRDYWxsYmFjayIsImJhc2VQcm9wcyIsImR1cmF0aW9uIiwiZW50ZXJGcm9tQ2xhc3MiLCJlbnRlckFjdGl2ZUNsYXNzIiwiZW50ZXJUb0NsYXNzIiwiYXBwZWFyRnJvbUNsYXNzIiwiYXBwZWFyQWN0aXZlQ2xhc3MiLCJhcHBlYXJUb0NsYXNzIiwibGVhdmVGcm9tQ2xhc3MiLCJsZWF2ZUFjdGl2ZUNsYXNzIiwibGVhdmVUb0NsYXNzIiwibGVnYWN5Q2xhc3NFbmFibGVkIiwibGVnYWN5RW50ZXJGcm9tQ2xhc3MiLCJsZWdhY3lBcHBlYXJGcm9tQ2xhc3MiLCJsZWdhY3lMZWF2ZUZyb21DbGFzcyIsInRvTGVnYWN5Q2xhc3MiLCJkdXJhdGlvbnMiLCJub3JtYWxpemVEdXJhdGlvbiIsImVudGVyRHVyYXRpb24iLCJsZWF2ZUR1cmF0aW9uIiwiZmluaXNoRW50ZXIiLCJpc0FwcGVhciIsInJlbW92ZVRyYW5zaXRpb25DbGFzcyIsImZpbmlzaExlYXZlIiwibWFrZUVudGVySG9vayIsIm5leHRGcmFtZSIsImFkZFRyYW5zaXRpb25DbGFzcyIsIndoZW5UcmFuc2l0aW9uRW5kcyIsImZvcmNlUmVmbG93IiwiTnVtYmVyT2YiLCJ2YWxpZGF0ZUR1cmF0aW9uIiwiX3Z0YyIsImVuZElkIiwiZXhwbGljaXRUaW1lb3V0IiwicmVzb2x2ZUlmTm90U3RhbGUiLCJwcm9wQ291bnQiLCJnZXRUcmFuc2l0aW9uSW5mbyIsImVuZEV2ZW50IiwiZW5kZWQiLCJvbkVuZCIsImdldFN0eWxlUHJvcGVydGllcyIsInRyYW5zaXRpb25EZWxheXMiLCJ0cmFuc2l0aW9uRHVyYXRpb25zIiwidHJhbnNpdGlvblRpbWVvdXQiLCJnZXRUaW1lb3V0IiwiYW5pbWF0aW9uRGVsYXlzIiwiYW5pbWF0aW9uRHVyYXRpb25zIiwiYW5pbWF0aW9uVGltZW91dCIsImhhc1RyYW5zZm9ybSIsImRlbGF5cyIsImQiLCJ0b01zIiwicG9zaXRpb25NYXAiLCJuZXdQb3NpdGlvbk1hcCIsIlRyYW5zaXRpb25Hcm91cEltcGwiLCJtb3ZlQ2xhc3MiLCJoYXNDU1NUcmFuc2Zvcm0iLCJjYWxsUGVuZGluZ0NicyIsInJlY29yZFBvc2l0aW9uIiwibW92ZWRDaGlsZHJlbiIsImFwcGx5VHJhbnNsYXRpb24iLCJjc3NUcmFuc2l0aW9uUHJvcHMiLCJUcmFuc2l0aW9uR3JvdXAiLCJvbGRQb3MiLCJuZXdQb3MiLCJkeCIsImR5IiwiY2xvbmUiLCJnZXRNb2RlbEFzc2lnbmVyIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvbkVuZCIsInZNb2RlbFRleHQiLCJsYXp5IiwiY2FzdFRvTnVtYmVyIiwiZG9tVmFsdWUiLCJ2TW9kZWxDaGVja2JveCIsIm1vZGVsVmFsdWUiLCJlbGVtZW50VmFsdWUiLCJnZXRWYWx1ZSIsImNoZWNrZWQiLCJhc3NpZ24iLCJmb3VuZCIsImZpbHRlcmVkIiwiZ2V0Q2hlY2tib3hWYWx1ZSIsInNldENoZWNrZWQiLCJ2TW9kZWxSYWRpbyIsInZNb2RlbFNlbGVjdCIsImlzU2V0TW9kZWwiLCJzZWxlY3RlZFZhbCIsInNldFNlbGVjdGVkIiwiX2JpbmRpbmciLCJpc011bHRpcGxlIiwib3B0aW9uIiwib3B0aW9uVmFsdWUiLCJ2TW9kZWxEeW5hbWljIiwiY2FsbE1vZGVsSG9vayIsInJlc29sdmVEeW5hbWljTW9kZWwiLCJ0YWdOYW1lIiwiaW5pdFZNb2RlbEZvclNTUiIsIm1vZGVsVG9Vc2UiLCJzeXN0ZW1Nb2RpZmllcnMiLCJtb2RpZmllckd1YXJkcyIsIndpdGhNb2RpZmllcnMiLCJndWFyZCIsImtleU5hbWVzIiwid2l0aEtleXMiLCJnbG9iYWxLZXlDb2RlcyIsImV2ZW50S2V5IiwiayIsImtleUNvZGUiLCJjb2RlcyIsImNvZGUiLCJ2U2hvdyIsInNldERpc3BsYXkiLCJpbml0VlNob3dGb3JTU1IiLCJyZW5kZXJlck9wdGlvbnMiLCJyZW5kZXJlciIsImVuYWJsZWRIeWRyYXRpb24iLCJlbnN1cmVSZW5kZXJlciIsImVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyIiwiaW5qZWN0TmF0aXZlVGFnQ2hlY2siLCJpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayIsImNvbnRhaW5lck9yU2VsZWN0b3IiLCJub3JtYWxpemVDb250YWluZXIiLCJjcmVhdGVTU1JBcHAiLCJzc3JEaXJlY3RpdmVJbml0aWFsaXplZCIsInJ1bnRpbWVEb20iLCJpbml0RGV2Iiwid3JhcHBlZENyZWF0ZUFwcCIsImNyZWF0ZUNvbXBhdFZ1ZSQxIiwiZ2xvYmFsIiwibW9kdWxlIiwidGhpcyIsIkNIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSIsIndyYXBBUElzIiwiZXh0ZW5zaW9uQVBJcyIsImFwaU1ldGFkYXRhIiwiRGVmYXVsdFdlYWtNYXAiLCJjcmVhdGVJdGVtIiwiaXRlbXMiLCJpc1RoZW5hYmxlIiwibWFrZUNhbGxiYWNrIiwicHJvbWlzZSIsIm1ldGFkYXRhIiwiY2FsbGJhY2tBcmdzIiwicGx1cmFsaXplQXJndW1lbnRzIiwibnVtQXJncyIsIndyYXBBc3luY0Z1bmN0aW9uIiwiY2JFcnJvciIsIndyYXBNZXRob2QiLCJ0YXJnZXRNZXRob2QiLCJ0aGlzT2JqIiwid3JhcE9iamVjdCIsIndyYXBwZXJzIiwiaGFuZGxlcnMiLCJwcm94eVRhcmdldCIsIndyYXBFdmVudCIsIndyYXBwZXJNYXAiLCJsaXN0ZW5lciIsIm9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMiLCJyZXEiLCJ3cmFwcGVkUmVxIiwib25NZXNzYWdlV3JhcHBlcnMiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJkaWRDYWxsU2VuZFJlc3BvbnNlIiwid3JhcHBlZFNlbmRSZXNwb25zZSIsInNlbmRSZXNwb25zZVByb21pc2UiLCJyZXNwb25zZSIsImlzUmVzdWx0VGhlbmFibGUiLCJzZW5kUHJvbWlzZWRSZXN1bHQiLCJ3cmFwcGVkU2VuZE1lc3NhZ2VDYWxsYmFjayIsInJlcGx5Iiwid3JhcHBlZFNlbmRNZXNzYWdlIiwiYXBpTmFtZXNwYWNlT2JqIiwid3JhcHBlZENiIiwic3RhdGljV3JhcHBlcnMiLCJzZXR0aW5nTWV0YWRhdGEiLCJTaXRlQ29uZmlnIiwiU2l0ZUNvbmZpZ0xvb2t1cCIsIlNpdGVDb25maWdJbmRleCIsIkNvbmZpZyIsImRlZmF1bHRTaXRlQ29uZmlnIiwiQ29uZmlnTWlncmF0aW9ucyIsIm5ld0xvZ0xldmVsIiwibmV3U2l0ZUNvbmZpZyIsInVybCIsIndpdGhvdXRQcm90b2NvbCIsIm5ld0NvbmZpZyIsInBhdGhJbmRleCIsImhvc3QiLCJ3ZWlnaHQiLCJwYWdlUHJlZml4Iiwib2xkQ29uZmlnIiwic2MiLCJVdGlscyIsInZlcnNpb25BcnJheSIsInZlcnNpb25JbnQiLCJieXRlQXJyYXkiLCJieXRlIiwiY2hhckNvZGUiLCJieXRlQ291bnQiLCJieXRlcyIsImhleCIsIm91dEZvcm1hdCIsImFsZ29yaXRobSIsImluQnVmZmVyIiwib3V0QnVmZmVyIiwidXRpbHMiLCJpbnQiLCJpbnRBcnJheSIsImlucHV0IiwiZXh0cmFMZW5ndGgiLCJ2aWV3IiwiYmluYXJ5Iiwib2Zmc2V0IiwiYXJyYXlCdWZmZXIiLCJiYXNlNjQiLCJlbmNvZGluZ3MiLCJieXRlTGVuZ3RoIiwiYnl0ZVJlbWFpbmRlciIsIm1haW5MZW5ndGgiLCJjaHVuayIsImhleFN0cmluZyIsIm51bUJ5dGVzIiwibHV0IiwiZHZhbHMiLCJkMCIsImQxIiwiZDIiLCJkMyIsIktlZUxvZ2dlciIsImxvZ0xldmVsIiwiS2VlTG9nIiwiTEFURVNUX1ZFUlNJT04iLCJkZWZhdWx0Q29uZmlnIiwiQ29uZmlnTWFuYWdlciIsImJyb3dzZXIuc3RvcmFnZSIsImNoYW5nZXMiLCJhcmVhIiwiY29uZmlnTWFuYWdlciIsIm51bVBhZ2VzIiwicGFnZXMiLCJvIiwiY29uZmlnU3RyaW5nIiwiY29uZmlnVmFsdWVzIiwib25Mb2FkZWQiLCJwYWdlQ291bnQiLCJuZXh0UGFnZSIsIm9sZFBhZ2VDb3VudCIsInNhdmVOZWVkZWQiLCJtaWdyYXRpb25zIiwibWF0Y2hlZENvbmZpZ05vZGVzIiwibm9kZTEiLCJub2RlMiIsInVybFN0cmluZyIsInBhZ2UiLCJkb21haW4iLCJtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzIiwiZGVyaXZlZENvbmZpZyIsImljIiwiZm9ybSIsImNvbmYiLCJvdGhlckZpZWxkcyIsImZpZWxkSWRzIiwiZmllbGQiLCJmaWVsZE5hbWVzIiwiZm9ybUlkIiwiZm9ybU5hbWUiLCJleGNsdWRlRm9ybUlkcyIsIngiLCJleGNsdWRlRm9ybU5hbWVzIiwiX2QiLCJfYyIsImV4Y2x1ZGVGaWVsZElkcyIsIl9mIiwiX2UiLCJleGNsdWRlRmllbGROYW1lcyIsIl9oIiwiX2ciLCJpbmNsdWRlRm9ybUlkcyIsIl9qIiwiX2kiLCJpbmNsdWRlRm9ybU5hbWVzIiwiX2wiLCJfayIsImluY2x1ZGVGaWVsZElkcyIsIl9uIiwiX20iLCJpbmNsdWRlRmllbGROYW1lcyIsIl9wIiwiX28iLCJ1dWlkIiwiY29uZmlndXJlZFRhcmdldCIsImFsbENvbmZpZ05vZGVzQW5kTG9va3VwcyIsImN1cnJlbnRQcmVmZXJyZWRVdWlkIiwiY25sIiwibG9va3VwIiwidDEiLCJ0MiIsInBhcnRpYWxDb25maWciLCJjb25maWdMb29rdXAiLCJQYW5lbFN0dWJPcHRpb25zIiwiUGFuZWxTdHViIiwicGFyZW50RnJhbWVJZCIsInNoYWRvdyIsImlmcmFtZSIsImJyb3dzZXIuZXh0ZW5zaW9uIiwiYm9keUVsZW1lbnRzIiwiZnJhbWVzZXRFbGVtZW50cyIsIm9sZFJlY3QiLCJwcmVmZXJyZWRDb250YWluZXJIZWlnaHQiLCJjb250YWluZXJIZWlnaHQiLCJjb250YWluZXJXaWR0aCIsInBvc2l0aW9uQWJvdmUiLCJ0YXJnZXRUb3AiLCJ0YXJnZXRCb3R0b20iLCJwcmVmZXJyZWRBcnJvd1hDb29yZCIsInByZWZlcnJlZEJvdHRvbSIsInByZWZlcnJlZFRvcCIsIm92ZXJmbG93Qm90dG9tIiwib3ZlcmZsb3dUb3AiLCJ0YXJnZXRXaWR0aCIsInJlbGF0aXZlTGVmdCIsInRvcCIsImxlZnQiLCJwYW5lbCIsIkFjdGlvbiIsIktlZUZpZWxkSWNvbiIsIm15UG9ydCIsImZvcm1VdGlscyIsImNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbE5lYXJOb2RlIiwiZWxlbWVudCIsInBhc3N3b3JkRmllbGRzIiwiaW1hZ2UiLCJ0cmFuc2l0aW9uQ29uZmlnIiwiZmllbGRzIiwiZiIsImZpZWxkU2V0MSIsImZpZWxkU2V0MiIsImN1cnJlbnRTdHlsZSIsInNoYWRvd3MiLCJiY3JlY3QiLCJsZWZ0TGltaXQiLCJjYW52YXMiLCJpbWciLCJNYXRjaFJlc3VsdCIsIlNlc3Npb25UeXBlIiwiRW50cnlTdW1tYXJ5IiwiRW50cnkiLCJlbnRyeVN1bW1hcnlEdG8iLCJkYkZpbGVOYW1lIiwiR3JvdXAiLCJnIiwiZ3JvdXBEdG8iLCJjaGlsZExpZ2h0RW50cnkiLCJjaGlsZEdyb3VwIiwiZ3JvdXAiLCJEYXRhYmFzZSIsImRiIiwiZHRvIiwic2Vzc2lvblR5cGUiLCJzZXNzaW9uRmVhdHVyZXMiLCIkU1RSIiwiYnJvd3Nlci5pMThuIiwiJFNUUkYiLCJzdWJzIiwiTG9jYXRvciIsImxvY2F0b3IiLCJFbnRyeUR0byIsIkZvcm1GaWVsZFR5cGVEVE8iLCJGaWVsZCIsInJldmVhbFBhc3N3b3JkcyIsInJlcGxhY2VtZW50SWZQcm90ZWN0ZWQiLCJ1c2VybmFtZUluZGV4IiwicGFzc3dvcmRzIiwibGFiZWxzIiwiY29sbGVjdExhYmVscyIsImNvbGxlY3RBdXRvY29tcGxldGVWYWx1ZXMiLCJsb2NhdG9yVHlwZSIsImlzVXNlcm5hbWUiLCJmZnQiLCJsYWJlbHNDb3VudCIsImxhYmVsIiwiYXJpYUxhYmVsIiwiYXJpYUxhYmVsSWRzIiwibGFiZWxFbGVtZW50IiwiR3JvdXBTdW1tYXJ5IiwiZ3JvdXBTdW1tYXJ5RHRvIiwiZW50cnlEdG8iLCJzb3J0ZWRGaWVsZHMiLCJtYXhpbXVtUGFnZSIsInVuc29ydGVkRmllbGRzIiwiZmlyc3RQYXNzd29yZEluZGV4IiwiaXNWdWUyIiwiZ2V0RGV2dG9vbHNHbG9iYWxIb29rIiwiZ2V0VGFyZ2V0IiwiaXNQcm94eUF2YWlsYWJsZSIsIkhPT0tfU0VUVVAiLCJIT09LX1BMVUdJTl9TRVRUSU5HU19TRVQiLCJpc1BlcmZvcm1hbmNlU3VwcG9ydGVkIiwibm93IiwiQXBpUHJveHkiLCJkZWZhdWx0U2V0dGluZ3MiLCJsb2NhbFNldHRpbmdzU2F2ZUlkIiwiY3VycmVudFNldHRpbmdzIiwicGx1Z2luSWQiLCJfdGFyZ2V0Iiwic2V0dXBEZXZ0b29sc1BsdWdpbiIsInBsdWdpbkRlc2NyaXB0b3IiLCJzZXR1cEZuIiwiZW5hYmxlUHJveHkiLCJhY3RpdmVQaW5pYSIsInNldEFjdGl2ZVBpbmlhIiwicGluaWEiLCJwaW5pYVN5bWJvbCIsIk11dGF0aW9uVHlwZSIsIklTX0NMSUVOVCIsIlVTRV9ERVZUT09MUyIsIl9nbG9iYWwiLCJib20iLCJibG9iIiwiYXV0b0JvbSIsImRvd25sb2FkIiwieGhyIiwic2F2ZUFzIiwiY29yc0VuYWJsZWQiLCJjbGljayIsImV2dCIsIl9uYXZpZ2F0b3IiLCJpc01hY09TV2ViVmlldyIsImRvd25sb2FkU2F2ZUFzIiwibXNTYXZlQXMiLCJmaWxlU2F2ZXJTYXZlQXMiLCJwb3B1cCIsImZvcmNlIiwiaXNTYWZhcmkiLCJpc0Nocm9tZUlPUyIsInJlYWRlciIsInRvYXN0TWVzc2FnZSIsInBpbmlhTWVzc2FnZSIsImlzUGluaWEiLCJjaGVja0NsaXBib2FyZEFjY2VzcyIsImNoZWNrTm90Rm9jdXNlZEVycm9yIiwiYWN0aW9uR2xvYmFsQ29weVN0YXRlIiwiYWN0aW9uR2xvYmFsUGFzdGVTdGF0ZSIsImFjdGlvbkdsb2JhbFNhdmVTdGF0ZSIsImZpbGVJbnB1dCIsImdldEZpbGVPcGVuZXIiLCJvcGVuRmlsZSIsImZpbGVzIiwiZmlsZSIsImFjdGlvbkdsb2JhbE9wZW5TdGF0ZUZpbGUiLCJmb3JtYXREaXNwbGF5IiwiZGlzcGxheSIsIlBJTklBX1JPT1RfTEFCRUwiLCJQSU5JQV9ST09UX0lEIiwiZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlIiwic3RvcmUiLCJmb3JtYXRTdG9yZUZvckluc3BlY3RvclN0YXRlIiwic3RvcmVOYW1lcyIsInN0b3JlTWFwIiwic3RvcmVJZCIsImdldHRlcnMiLCJnZXR0ZXJOYW1lIiwiZm9ybWF0RXZlbnREYXRhIiwiZm9ybWF0TXV0YXRpb25UeXBlIiwiaXNUaW1lbGluZUFjdGl2ZSIsImNvbXBvbmVudFN0YXRlVHlwZXMiLCJNVVRBVElPTlNfTEFZRVJfSUQiLCJJTlNQRUNUT1JfSUQiLCJnZXRTdG9yZVR5cGUiLCJyZWdpc3RlclBpbmlhRGV2dG9vbHMiLCJhcGkiLCJub2RlSWQiLCJwYXlsb2FkIiwicGluaWFTdG9yZXMiLCJzdG9yZXMiLCJpbnNwZWN0ZWRTdG9yZSIsImFkZFN0b3JlVG9EZXZ0b29scyIsImFmdGVyIiwiZ3JvdXBJZCIsInJ1bm5pbmdBY3Rpb25JZCIsImFjdGl2ZUFjdGlvbiIsImV2ZW50RGF0YSIsImhvdFVwZGF0ZSIsIm5ld1N0b3JlIiwiJGRpc3Bvc2UiLCJwYXRjaEFjdGlvbkZvckdyb3VwaW5nIiwiYWN0aW9uTmFtZXMiLCJhY3Rpb25zIiwic3RvcmVBY3Rpb25zIiwiYWN0aW9uTmFtZSIsIl9hY3Rpb25JZCIsInRyYWNrZWRTdG9yZSIsImRldnRvb2xzUGx1Z2luIiwib3JpZ2luYWxIb3RVcGRhdGUiLCJjcmVhdGVQaW5pYSIsInRvQmVJbnN0YWxsZWQiLCJwYXRjaE9iamVjdCIsIm5ld1N0YXRlIiwib2xkU3RhdGUiLCJzdWJQYXRjaCIsInRhcmdldFZhbHVlIiwibm9vcCIsImFkZFN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbnMiLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJpZHgiLCJ0cmlnZ2VyU3Vic2NyaXB0aW9ucyIsIm1lcmdlUmVhY3RpdmVPYmplY3RzIiwicGF0Y2hUb0FwcGx5Iiwic2tpcEh5ZHJhdGVTeW1ib2wiLCJzaG91bGRIeWRyYXRlIiwiaXNDb21wdXRlZCIsImNyZWF0ZU9wdGlvbnNTdG9yZSIsImhvdCIsImluaXRpYWxTdGF0ZSIsImxvY2FsU3RhdGUiLCJjb21wdXRlZEdldHRlcnMiLCJjcmVhdGVTZXR1cFN0b3JlIiwiJHN0YXRlIiwiJGlkIiwiaXNPcHRpb25zU3RvcmUiLCJvcHRpb25zRm9yUGx1Z2luIiwiJHN1YnNjcmliZU9wdGlvbnMiLCJpc0xpc3RlbmluZyIsImRlYnVnZ2VyRXZlbnRzIiwiaXNTeW5jTGlzdGVuaW5nIiwiYWN0aW9uU3Vic2NyaXB0aW9ucyIsImhvdFN0YXRlIiwiYWN0aXZlTGlzdGVuZXIiLCIkcGF0Y2giLCJwYXJ0aWFsU3RhdGVPck11dGF0b3IiLCJzdWJzY3JpcHRpb25NdXRhdGlvbiIsIm15TGlzdGVuZXJJZCIsIiRyZXNldCIsIndyYXBBY3Rpb24iLCJhY3Rpb24iLCJhZnRlckNhbGxiYWNrTGlzdCIsIm9uRXJyb3JDYWxsYmFja0xpc3QiLCJfaG1yUGF5bG9hZCIsInBhcnRpYWxTdG9yZSIsInN0b3BXYXRjaGVyIiwic2V0dXBTdG9yZSIsImFjdGlvblZhbHVlIiwic3RhdGVLZXkiLCJuZXdTdGF0ZVRhcmdldCIsIm9sZFN0YXRlU291cmNlIiwiZ2V0dGVyVmFsdWUiLCJub25FbnVtZXJhYmxlIiwiZXh0ZW5kZXIiLCJleHRlbnNpb25zIiwiZGVmaW5lU3RvcmUiLCJpZE9yT3B0aW9ucyIsInNldHVwT3B0aW9ucyIsImlzU2V0dXBTdG9yZSIsInVzZVN0b3JlIiwiaG90SWQiLCJTYXZlU3RhdGUiLCJkZWZpbmVJbW11dGFibGVTdG9yZSIsImhhc1dlYnNvY2tldERCcyIsInN1cHBvcnRzV2Vic29ja2V0Rm9jdXMiLCJmaXJzdFRleHRGaWVsZEluZGV4IiwiZmlyc3RQYXNzd29yZEZpZWxkSW5kZXgiLCJvcmlnaW5hbEZpZWxkSW5kZXgiLCJuZXdVc2VybmFtZUluZGV4IiwibmV3VXNlcm5hbWUiLCJuZXdQYXNzd29yZEluZGV4IiwibmV3UGFzc3dvcmQiLCJGb3JtRmlsbGluZyIsImZvcm1TYXZpbmciLCJMb2dnZXIiLCJtYXRjaEZpbmRlciIsInNwZWNpZmljRnJhbWVJZCIsIm1hdGNoZWRGaWVsZCIsImRhdGFGaWVsZCIsIl9jdXJyZW50UGFnZSIsImlzVmlzaWJsZSIsImZvcm1GaWVsZCIsInNjb3JlIiwiZmllbGRTY29yZU1hdHJpeCIsImRhdGFGaWVsZHMiLCJmb3JtRmllbGRzIiwiYXV0b21hdGVkIiwiZmlsbGVkRmllbGRzIiwiZmZpIiwiZGZpIiwiZG9tRWxlbWVudCIsImN1cnJlbnRWYWx1ZSIsImZpZWxkVHlwZSIsImN1cnJlbnRQYWdlIiwic2NvcmVDb25maWciLCJiZWhhdmlvdXIiLCJmb3JtcyIsInBzZXVkb0Zvcm0iLCJzZWFyY2hTZW50VG9LZWVQYXNzIiwic2NhblJlc3VsdCIsImludGVyZXN0aW5nRm9ybSIsIm5vUGFzc3dvcmRGaWVsZCIsIm5vT3RoZXJGaWVsZCIsInN1Ym1pdFRhcmdldE5laWdoYm91ciIsImZvcm1OdW1iZXIiLCJzdWJtaXRUYXJnZXQiLCJvcnBoYW5lZEZpZWxkcyIsInRuIiwidmFsaWRFbnRyaWVzIiwiZmluZExvZ2luT3AiLCJtYXRjaFJlc3VsdCIsImNyU3RyaW5nIiwiZmlyc3RNYXRjaFByb2Nlc3NlZCIsImZvcm1WaXNpYmxlIiwidmlzaWJsZUZpZWxkQ2FjaGUiLCJmaWVsZE1hdGNoU2NvcmVDb25maWciLCJsb3dGaWVsZE1hdGNoUmF0aW8iLCJmb3JtSW5kZXgiLCJmaW5kTWF0Y2hlc1Jlc3VsdCIsIm1vc3RSZWxldmFudEZvcm1JbmRleCIsImVudHJ5SW5kZXgiLCJpc01hdGNoZWRMb2dpblJlcXVlc3QiLCJvcmRlcmVkRW50cmllcyIsIm9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2UiLCJtYXRjaGluZ0xvZ2luIiwibXVsdGlwbGVNYXRjaGVzIiwiY2hlY2tNYXRjaGluZ0xvZ2luUmVsZXZhbmNlVGhyZXNob2xkIiwiYXV0b0ZpbGxFbmFibGVkIiwiYXV0b1N1Ym1pdEVuYWJsZWQiLCJsYXN0RmlsbGVkT3RoZXIiLCJsYXN0RmlsbGVkUGFzc3dvcmRzIiwiY2FuZGlkYXRlcyIsIm1pblNjb3JlVG9XaW4iLCJkaXN0YW5jZUNhbGMiLCJkaXN0YW5jZU1hcCIsImZVdGlscyIsInZlcmlmeVBvdGVudGlhbENhbmRpZGF0ZSIsInJlc29sdmVBcmlhTGFiZWxWYWx1ZXMiLCJzZW1hbnRpY1ZhbHVlcyIsInNlbWFudGljU2NvcmUiLCJzdWJtaXRFbGVtZW50cyIsIm1heERpc3RhbmNlRGlmZmVyZW5jZSIsImRpc3RhbmNlU2NvcmUiLCJkaXN0YW5jZUZhY3RvciIsImxhc3REaXN0YW5jZSIsImNhbmRpZGF0ZSIsImVsZW1lbnRzIiwibWF4U2NvcmUiLCJtYXhTY29yZUVsZW1lbnQiLCJmYWN0b3IiLCJzZW1hbnRpY1doaXRlbGlzdENhY2hlIiwic2VtYW50aWNCbGFja2xpc3RDYWNoZSIsImdvb2RXb3JkcyIsImJhZFdvcmRzIiwiZ29vZFNjb3JlIiwiYmFkU2NvcmUiLCJzZW1hbnRpY1ZhbHVlIiwibm9kZUEiLCJub2RlQiIsImRpc3RhbmNlIiwicGVuZGluZ01hcCIsInBlbmRpbmdNYXBTdGFydERpc3RhbmNlIiwiY2FjaGVkTm9kZURpc3RhbmNlIiwic3VibWl0RWxlbWVudCIsIm1pbk1hdGNoZWRGaWVsZENvdW50UmF0aW8iLCJvdGhlclJlbGV2YW5jZVNjb3JlIiwib3RoZXJGaWVsZE1hdGNoU3VjY2Vzc2VzIiwicGFzc3dvcmRSZWxldmFuY2VTY29yZSIsInBhc3N3b3JkRmllbGRNYXRjaFN1Y2Nlc3NlcyIsInRvdGFsUmVsZXZhbmNlU2NvcmUiLCJmb3JtRmllbGRDb3VudCIsImxvZ2luRmllbGRDb3VudCIsImZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGwiLCJsb2dpbkZpZWxkQ291bnRGb3JBdXRvZmlsbCIsImZvcm1NYXRjaGVkRmllbGRDb3VudEZvckF1dG9maWxsIiwibnVtYmVyT2ZOZXdQYXNzd29yZEZpZWxkcyIsImZpZWxkTWF0Y2hSYXRpb0ZvckF1dG9maWxsIiwiYWRqdXN0ZWRSZWxldmFuY2UiLCJkZWJ1Z05hbWUiLCJtYXRjaGVkRmllbGRzIiwiZW50cnlGaWVsZHMiLCJ2aXNpYmxlRmllbGRNYXAiLCJtaW5GaWVsZFJlbGV2YW5jZSIsImZpZWxkTWF0Y2hTdWNjZXNzZXMiLCJtb3N0UmVsZXZhbnRTY29yZSIsImZtU2NvcmUiLCJmbVNjb3JlRm9yUmF0aW8iLCJNYXRjaGVkRmllbGQiLCJGb3JtVXRpbHMiLCJsb2dnZXIiLCJmcmFtZSIsImxvY2FsRG9jQ291bnQiLCJmcmFtZXMiLCJ1cmkiLCJmaWVsZE5hbWVJbiIsImZpZWxkTmFtZSIsImlzU3VibWlzc2lvbiIsIm1heGltdW1GaWVsZENvdW50IiwicHdGaWVsZHMiLCJhbGxGaWVsZHMiLCJmaXJzdFBvc3NpYmxlVXNlcm5hbWVJbmRleCIsInRvdGFsRWxlbWVudHMiLCJlbGVtZW50TGltaXQiLCJmaWVsZFZhbHVlIiwib3RoZXJDb3VudCIsImFjdHVhbFVzZXJuYW1lSW5kZXgiLCJGb3JtU2F2aW5nIiwiZm9ybVRvU3VibWl0IiwiYXR0YWNobWVudCIsImlzUGFzc3dvcmRDaGFuZ2VGb3JtIiwiaXNSZWdpc3RyYXRpb25Gb3JtIiwiZXgiLCJ0d29QYXNzd29yZHNNYXRjaEluZGV4Iiwibm9uRW1wdHlQYXNzd29yZEZpZWxkcyIsIm5vbkVtcHR5T3RoZXJGaWVsZHMiLCJkaWZmZXJlbnRQYXNzd29yZCIsImRpZmZlcmVudE90aGVyIiwic3VibWl0dGVkRGF0YSIsIm5ld2x5U3VibWl0dGVkRmllbGRzIiwicHJldmlvdXNseUZpbGxlZEZpZWxkcyIsImZpbGxlZEZpZWxkIiwic3VibWl0dGVkRmllbGQiLCJwYW5lbE9wdGlvbnMiLCJQYXNzd29yZEdlbmVyYXRvciIsIlN5bmNDb250ZW50Iiwic2VuZE11dGF0aW9uIiwidnVlTW91bnQiLCJtdXRhdGlvbiIsIkNvbnRlbnRQb3J0TWFuYWdlciIsImJyb3dzZXIucnVudGltZSIsIlBvcnQiLCJrZWVEdXBsaWNhdGlvbkNvdW50IiwiZm9ybUZpbGxpbmciLCJwYXNzd29yZEdlbmVyYXRvciIsImZyYW1lSWQiLCJzeW5jQ29udGVudCIsImNvbm5lY3RlZCIsIm1lc3NhZ2luZ1BvcnRDb25uZWN0aW9uUmV0cnlUaW1lciIsInBhZ2VTaG93RmlyZWQiLCJjb25maWdSZWFkeSIsIm1pc3NpbmdQYWdlU2hvd1RpbWVyIiwiaW5wdXRzT2JzZXJ2ZXIiLCJ0dXRvcmlhbEludGVncmF0aW9uIiwidHJhbnNmZXJFbGVtZW50Iiwib25GaXJzdENvbm5lY3QiLCJteUZyYW1lSWQiLCJzdGFydHVwIiwiY29ubmVjdFRvTWVzc2FnaW5nUG9ydCIsInJlc2NhbiIsImludGVyZXN0aW5nTm9kZXMiXSwibWFwcGluZ3MiOiJ5QkFPQSxTQUFTQSxHQUFRQyxFQUFLQyxFQUFrQixDQUNwQyxNQUFNQyxFQUFNLE9BQU8sT0FBTyxJQUFJLEVBQ3hCQyxFQUFPSCxFQUFJLE1BQU0sR0FBRyxFQUMxQixRQUFTLEVBQUksRUFBRyxFQUFJRyxFQUFLLE9BQVEsSUFDN0JELEVBQUlDLEVBQUssQ0FBQyxDQUFDLEVBQUksR0FFbkIsT0FBT0YsRUFBbUJHLEdBQU8sQ0FBQyxDQUFDRixFQUFJRSxFQUFJLFlBQWEsQ0FBQSxFQUFJQSxHQUFPLENBQUMsQ0FBQ0YsRUFBSUUsQ0FBRyxDQUNoRixDQUtBLE1BQU1DLEdBQXNDTixHQUhmLGtNQUcyQyxFQUV4RSxTQUFTTyxHQUFlQyxFQUFPLENBQzNC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
