(function(){"use strict";function Ze(e,t){const n=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Eu=Ze("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function On(e){if(V(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=ce(s)?Pu(s):On(s);if(i)for(const r in i)t[r]=i[r]}return t}else{if(ce(e))return e;if(ee(e))return e}}const xu=/;(?![^(]*\))/g,Su=/:([^]+)/,Tu=/\/\*.*?\*\//gs;function Pu(e){const t={};return e.replace(Tu,"").split(xu).forEach(n=>{if(n){const s=n.split(Su);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function It(e){let t="";if(ce(e))t=e;else if(V(e))for(let n=0;n<e.length;n++){const s=It(e[n]);s&&(t+=s+" ")}else if(ee(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ou(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ce(t)&&(e.class=It(t)),n&&(e.style=On(n)),e}const Ru="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Fu="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Iu=Ze(Ru),Lu=Ze(Fu),Mo=Ze("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function ko(e){return!!e||e===""}function Nu(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=_t(e[s],t[s]);return n}function _t(e,t){if(e===t)return!0;let n=Vo(e),s=Vo(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=zn(e),s=zn(t),n||s)return e===t;if(n=V(e),s=V(t),n||s)return n&&s?Nu(e,t):!1;if(n=ee(e),s=ee(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!_t(e[o],t[o]))return!1}}return String(e)===String(t)}function Xn(e,t){return e.findIndex(n=>_t(n,t))}const Do=e=>ce(e)?e:e==null?"":V(e)||ee(e)&&(e.toString===jo||!G(e.toString))?JSON.stringify(e,Uo,2):String(e),Uo=(e,t)=>t&&t.__v_isRef?Uo(e,t.value):nn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:sn(t)?{[`Set(${t.size})`]:[...t.values()]}:ee(t)&&!V(t)&&!Us(t)?String(t):t,oe=Object.freeze({}),Rn=Object.freeze([]),Ee=()=>{},$o=()=>!1,Mu=/^on[^a-z]/,lt=e=>Mu.test(e),Ds=e=>e.startsWith("onUpdate:"),ne=Object.assign,qi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ku=Object.prototype.hasOwnProperty,se=(e,t)=>ku.call(e,t),V=Array.isArray,nn=e=>Zn(e)==="[object Map]",sn=e=>Zn(e)==="[object Set]",Vo=e=>Zn(e)==="[object Date]",G=e=>typeof e=="function",ce=e=>typeof e=="string",zn=e=>typeof e=="symbol",ee=e=>e!==null&&typeof e=="object",Qn=e=>ee(e)&&G(e.then)&&G(e.catch),jo=Object.prototype.toString,Zn=e=>jo.call(e),Yi=e=>Zn(e).slice(8,-1),Us=e=>Zn(e)==="[object Object]",Ji=e=>ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fn=Ze(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Du=Ze("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),$s=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Uu=/-(\w)/g,Te=$s(e=>e.replace(Uu,(t,n)=>n?n.toUpperCase():"")),$u=/\B([A-Z])/g,Ae=$s(e=>e.replace($u,"-$1").toLowerCase()),Lt=$s(e=>e.charAt(0).toUpperCase()+e.slice(1)),ct=$s(e=>e?`on${Lt(e)}`:""),In=(e,t)=>!Object.is(e,t),ut=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Vs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ft=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Bo;const Ho=()=>Bo||(Bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function js(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let Be;class Xi{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Be,!t&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Be;try{return Be=this,t()}finally{Be=n}}else js("cannot run an inactive effect scope.")}on(){Be=this}off(){Be=this.parent}stop(t){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function zi(e){return new Xi(e)}function Ko(e,t=Be){t&&t.active&&t.effects.push(e)}function Wo(){return Be}function Go(e){Be?Be.cleanups.push(e):js("onScopeDispose() is called when there is no active effect scope to be associated with.")}const Qi=e=>{const t=new Set(e);return t.w=0,t.n=0,t},qo=e=>(e.w&Nt)>0,Yo=e=>(e.n&Nt)>0,Vu=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Nt},ju=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const i=t[s];qo(i)&&!Yo(i)?i.delete(e):t[n++]=i,i.w&=~Nt,i.n&=~Nt}t.length=n}},Zi=new WeakMap;let es=0,Nt=1;const er=30;let Pe;const rn=Symbol("iterate"),tr=Symbol("Map key iterate");class ts{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ko(this,s)}run(){if(!this.active)return this.fn();let t=Pe,n=Mt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Pe,Pe=this,Mt=!0,Nt=1<<++es,es<=er?Vu(this):Jo(this),this.fn()}finally{es<=er&&ju(this),Nt=1<<--es,Pe=this.parent,Mt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pe===this?this.deferStop=!0:this.active&&(Jo(this),this.onStop&&this.onStop(),this.active=!1)}}function Jo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function Bu(e,t){e.effect&&(e=e.effect.fn);const n=new ts(e);t&&(ne(n,t),t.scope&&Ko(n,t.scope)),(!t||!t.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function Hu(e){e.effect.stop()}let Mt=!0;const Xo=[];function on(){Xo.push(Mt),Mt=!1}function an(){const e=Xo.pop();Mt=e===void 0?!0:e}function Ie(e,t,n){if(Mt&&Pe){let s=Zi.get(e);s||Zi.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=Qi()),zo(i,{effect:Pe,target:e,type:t,key:n})}}function zo(e,t){let n=!1;es<=er?Yo(e)||(e.n|=Nt,n=!qo(e)):n=!e.has(Pe),n&&(e.add(Pe),Pe.deps.push(e),Pe.onTrack&&Pe.onTrack(Object.assign({effect:Pe},t)))}function dt(e,t,n,s,i,r){const o=Zi.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&V(e)){const c=ft(s);o.forEach((f,u)=>{(u==="length"||u>=c)&&a.push(f)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":V(e)?Ji(n)&&a.push(o.get("length")):(a.push(o.get(rn)),nn(e)&&a.push(o.get(tr)));break;case"delete":V(e)||(a.push(o.get(rn)),nn(e)&&a.push(o.get(tr)));break;case"set":nn(e)&&a.push(o.get(rn));break}const l={target:e,type:t,key:n,newValue:s,oldValue:i,oldTarget:r};if(a.length===1)a[0]&&nr(a[0],l);else{const c=[];for(const f of a)f&&c.push(...f);nr(Qi(c),l)}}function nr(e,t){const n=V(e)?e:[...e];for(const s of n)s.computed&&Qo(s,t);for(const s of n)s.computed||Qo(s,t)}function Qo(e,t){(e!==Pe||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(ne({effect:e},t)),e.scheduler?e.scheduler():e.run())}const Ku=Ze("__proto__,__v_isRef,__isVue"),Zo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(zn)),Wu=Bs(),Gu=Bs(!1,!0),qu=Bs(!0),Yu=Bs(!0,!0),ea=Ju();function Ju(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Z(this);for(let r=0,o=this.length;r<o;r++)Ie(s,"get",r+"");const i=s[t](...n);return i===-1||i===!1?s[t](...n.map(Z)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){on();const s=Z(this)[t].apply(this,n);return an(),s}}),e}function Bs(e=!1,t=!1){return function(s,i,r){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&r===(e?t?da:fa:t?ua:ca).get(s))return s;const o=V(s);if(!e&&o&&se(ea,i))return Reflect.get(ea,i,r);const a=Reflect.get(s,i,r);return(zn(i)?Zo.has(i):Ku(i))||(e||Ie(s,"get",i),t)?a:de(a)?o&&Ji(i)?a:a.value:ee(a)?e?ir(a):vt(a):a}}const Xu=ta(),zu=ta(!0);function ta(e=!1){return function(n,s,i,r){let o=n[s];if(At(o)&&de(o)&&!de(i))return!1;if(!e&&(!Ut(i)&&!At(i)&&(o=Z(o),i=Z(i)),!V(n)&&de(o)&&!de(i)))return o.value=i,!0;const a=V(n)&&Ji(s)?Number(s)<n.length:se(n,s),l=Reflect.set(n,s,i,r);return n===Z(r)&&(a?In(i,o)&&dt(n,"set",s,i,o):dt(n,"add",s,i)),l}}function Qu(e,t){const n=se(e,t),s=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&dt(e,"delete",t,void 0,s),i}function Zu(e,t){const n=Reflect.has(e,t);return(!zn(t)||!Zo.has(t))&&Ie(e,"has",t),n}function ef(e){return Ie(e,"iterate",V(e)?"length":rn),Reflect.ownKeys(e)}const na={get:Wu,set:Xu,deleteProperty:Qu,has:Zu,ownKeys:ef},sa={get:qu,set(e,t){return js(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return js(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},tf=ne({},na,{get:Gu,set:zu}),nf=ne({},sa,{get:Yu}),sr=e=>e,Hs=e=>Reflect.getPrototypeOf(e);function Ks(e,t,n=!1,s=!1){e=e.__v_raw;const i=Z(e),r=Z(t);n||(t!==r&&Ie(i,"get",t),Ie(i,"get",r));const{has:o}=Hs(i),a=s?sr:n?rr:ss;if(o.call(i,t))return a(e.get(t));if(o.call(i,r))return a(e.get(r));e!==i&&e.get(t)}function Ws(e,t=!1){const n=this.__v_raw,s=Z(n),i=Z(e);return t||(e!==i&&Ie(s,"has",e),Ie(s,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Gs(e,t=!1){return e=e.__v_raw,!t&&Ie(Z(e),"iterate",rn),Reflect.get(e,"size",e)}function ia(e){e=Z(e);const t=Z(this);return Hs(t).has.call(t,e)||(t.add(e),dt(t,"add",e,e)),this}function ra(e,t){t=Z(t);const n=Z(this),{has:s,get:i}=Hs(n);let r=s.call(n,e);r?la(n,s,e):(e=Z(e),r=s.call(n,e));const o=i.call(n,e);return n.set(e,t),r?In(t,o)&&dt(n,"set",e,t,o):dt(n,"add",e,t),this}function oa(e){const t=Z(this),{has:n,get:s}=Hs(t);let i=n.call(t,e);i?la(t,n,e):(e=Z(e),i=n.call(t,e));const r=s?s.call(t,e):void 0,o=t.delete(e);return i&&dt(t,"delete",e,void 0,r),o}function aa(){const e=Z(this),t=e.size!==0,n=nn(e)?new Map(e):new Set(e),s=e.clear();return t&&dt(e,"clear",void 0,void 0,n),s}function qs(e,t){return function(s,i){const r=this,o=r.__v_raw,a=Z(o),l=t?sr:e?rr:ss;return!e&&Ie(a,"iterate",rn),o.forEach((c,f)=>s.call(i,l(c),l(f),r))}}function Ys(e,t,n){return function(...s){const i=this.__v_raw,r=Z(i),o=nn(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...s),f=n?sr:t?rr:ss;return!t&&Ie(r,"iterate",l?tr:rn),{next(){const{value:u,done:d}=c.next();return d?{value:u,done:d}:{value:a?[f(u[0]),f(u[1])]:f(u),done:d}},[Symbol.iterator](){return this}}}}function kt(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${Lt(e)} operation ${n}failed: target is readonly.`,Z(this))}return e==="delete"?!1:this}}function sf(){const e={get(r){return Ks(this,r)},get size(){return Gs(this)},has:Ws,add:ia,set:ra,delete:oa,clear:aa,forEach:qs(!1,!1)},t={get(r){return Ks(this,r,!1,!0)},get size(){return Gs(this)},has:Ws,add:ia,set:ra,delete:oa,clear:aa,forEach:qs(!1,!0)},n={get(r){return Ks(this,r,!0)},get size(){return Gs(this,!0)},has(r){return Ws.call(this,r,!0)},add:kt("add"),set:kt("set"),delete:kt("delete"),clear:kt("clear"),forEach:qs(!0,!1)},s={get(r){return Ks(this,r,!0,!0)},get size(){return Gs(this,!0)},has(r){return Ws.call(this,r,!0)},add:kt("add"),set:kt("set"),delete:kt("delete"),clear:kt("clear"),forEach:qs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Ys(r,!1,!1),n[r]=Ys(r,!0,!1),t[r]=Ys(r,!1,!0),s[r]=Ys(r,!0,!0)}),[e,n,t,s]}const[rf,of,af,lf]=sf();function Js(e,t){const n=t?e?lf:af:e?of:rf;return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(se(n,i)&&i in s?n:s,i,r)}const cf={get:Js(!1,!1)},uf={get:Js(!1,!0)},ff={get:Js(!0,!1)},df={get:Js(!0,!0)};function la(e,t,n){const s=Z(n);if(s!==n&&t.call(e,s)){const i=Yi(e);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ca=new WeakMap,ua=new WeakMap,fa=new WeakMap,da=new WeakMap;function hf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gf(e){return e.__v_skip||!Object.isExtensible(e)?0:hf(Yi(e))}function vt(e){return At(e)?e:Xs(e,!1,na,cf,ca)}function ha(e){return Xs(e,!1,tf,uf,ua)}function ir(e){return Xs(e,!0,sa,ff,fa)}function Dt(e){return Xs(e,!0,nf,df,da)}function Xs(e,t,n,s,i){if(!ee(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=gf(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return i.set(e,a),a}function He(e){return At(e)?He(e.__v_raw):!!(e&&e.__v_isReactive)}function At(e){return!!(e&&e.__v_isReadonly)}function Ut(e){return!!(e&&e.__v_isShallow)}function ns(e){return He(e)||At(e)}function Z(e){const t=e&&e.__v_raw;return t?Z(t):e}function qe(e){return Vs(e,"__v_skip",!0),e}const ss=e=>ee(e)?vt(e):e,rr=e=>ee(e)?ir(e):e;function or(e){Mt&&Pe&&(e=Z(e),zo(e.dep||(e.dep=Qi()),{target:e,type:"get",key:"value"}))}function zs(e,t){e=Z(e),e.dep&&nr(e.dep,{target:e,type:"set",key:"value",newValue:t})}function de(e){return!!(e&&e.__v_isRef===!0)}function ln(e){return ga(e,!1)}function mf(e){return ga(e,!0)}function ga(e,t){return de(e)?e:new pf(e,t)}class pf{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Z(t),this._value=n?t:ss(t)}get value(){return or(this),this._value}set value(t){const n=this.__v_isShallow||Ut(t)||At(t);t=n?t:Z(t),In(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ss(t),zs(this,t))}}function bf(e){zs(e,e.value)}function ar(e){return de(e)?e.value:e}const yf={get:(e,t,n)=>ar(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return de(i)&&!de(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function lr(e){return He(e)?e:new Proxy(e,yf)}class wf{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>or(this),()=>zs(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function _f(e){return new wf(e)}function cr(e){ns(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=V(e)?new Array(e.length):{};for(const n in e)t[n]=is(e,n);return t}class vf{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function is(e,t,n){const s=e[t];return de(s)?s:new vf(e,t,n)}var ma;class Af{constructor(t,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[ma]=!1,this._dirty=!0,this.effect=new ts(t,()=>{this._dirty||(this._dirty=!0,zs(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=Z(this);return or(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}ma="__v_isReadonly";function Cf(e,t,n=!1){let s,i;const r=G(e);r?(s=e,i=()=>{console.warn("Write operation failed: computed value is readonly")}):(s=e.get,i=e.set);const o=new Af(s,i,r||!i,n);return t&&!n&&(o.effect.onTrack=t.onTrack,o.effect.onTrigger=t.onTrigger),o}const cn=[];function Ln(e){cn.push(e)}function Nn(){cn.pop()}function S(e,...t){on();const n=cn.length?cn[cn.length-1].component:null,s=n&&n.appContext.config.warnHandler,i=Ef();if(s)et(s,n,11,[e+t.join(""),n&&n.proxy,i.map(({vnode:r})=>`at <${Ss(n,r.type)}>`).join(`
`),i]);else{const r=[`[Vue warn]: ${e}`,...t];i.length&&r.push(`
`,...xf(i)),console.warn(...r)}an()}function Ef(){let e=cn[cn.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function xf(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...Sf(n))}),t}function Sf({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,i=` at <${Ss(e.component,e.type,s)}`,r=">"+n;return e.props?[i,...Tf(e.props),r]:[i+r]}function Tf(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...pa(s,e[s]))}),n.length>3&&t.push(" ..."),t}function pa(e,t,n){return ce(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:de(t)?(t=pa(e,Z(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):G(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Z(t),n?t:[`${e}=`,t])}const ur={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function et(e,t,n,s){let i;try{i=s?e(...s):e()}catch(r){un(r,t,n)}return i}function Le(e,t,n,s){if(G(e)){const r=et(e,t,n,s);return r&&Qn(r)&&r.catch(o=>{un(o,t,n)}),r}const i=[];for(let r=0;r<e.length;r++)i.push(Le(e[r],t,n,s));return i}function un(e,t,n,s=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=ur[n];for(;r;){const c=r.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){et(l,null,10,[e,o,a]);return}}Pf(e,n,i,s)}function Pf(e,t,n,s=!0){{const i=ur[t];if(n&&Ln(n),S(`Unhandled error${i?` during execution of ${i}`:""}`),n&&Nn(),s)throw e;console.error(e)}}let rs=!1,fr=!1;const xe=[];let ht=0;const Mn=[];let gt=null,$t=0;const ba=Promise.resolve();let dr=null;const Of=100;function fn(e){const t=dr||ba;return e?t.then(this?e.bind(this):e):t}function Rf(e){let t=ht+1,n=xe.length;for(;t<n;){const s=t+n>>>1;as(xe[s])<e?t=s+1:n=s}return t}function os(e){(!xe.length||!xe.includes(e,rs&&e.allowRecurse?ht+1:ht))&&(e.id==null?xe.push(e):xe.splice(Rf(e.id),0,e),ya())}function ya(){!rs&&!fr&&(fr=!0,dr=ba.then(_a))}function Ff(e){const t=xe.indexOf(e);t>ht&&xe.splice(t,1)}function Qs(e){V(e)?Mn.push(...e):(!gt||!gt.includes(e,e.allowRecurse?$t+1:$t))&&Mn.push(e),ya()}function wa(e,t=rs?ht+1:0){for(e=e||new Map;t<xe.length;t++){const n=xe[t];if(n&&n.pre){if(hr(e,n))continue;xe.splice(t,1),t--,n()}}}function Zs(e){if(Mn.length){const t=[...new Set(Mn)];if(Mn.length=0,gt){gt.push(...t);return}for(gt=t,e=e||new Map,gt.sort((n,s)=>as(n)-as(s)),$t=0;$t<gt.length;$t++)hr(e,gt[$t])||gt[$t]();gt=null,$t=0}}const as=e=>e.id==null?1/0:e.id,If=(e,t)=>{const n=as(e)-as(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function _a(e){fr=!1,rs=!0,e=e||new Map,xe.sort(If);const t=n=>hr(e,n);try{for(ht=0;ht<xe.length;ht++){const n=xe[ht];if(n&&n.active!==!1){if(t(n))continue;et(n,null,14)}}}finally{ht=0,xe.length=0,Zs(e),rs=!1,dr=null,(xe.length||Mn.length)&&_a(e)}}function hr(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>Of){const s=t.ownerInstance,i=s&&Qt(s.type);return S(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let Vt=!1;const kn=new Set;Ho().__VUE_HMR_RUNTIME__={createRecord:gr(va),rerender:gr(Mf),reload:gr(kf)};const dn=new Map;function Lf(e){const t=e.type.__hmrId;let n=dn.get(t);n||(va(t,e.type),n=dn.get(t)),n.instances.add(e)}function Nf(e){dn.get(e.type.__hmrId).instances.delete(e)}function va(e,t){return dn.has(e)?!1:(dn.set(e,{initialDef:ls(t),instances:new Set}),!0)}function ls(e){return sc(e)?e.__vccOpts:e}function Mf(e,t){const n=dn.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,ls(s.type).render=t),s.renderCache=[],Vt=!0,s.update(),Vt=!1}))}function kf(e,t){const n=dn.get(e);if(!n)return;t=ls(t),Aa(n.initialDef,t);const s=[...n.instances];for(const i of s){const r=ls(i.type);kn.has(r)||(r!==n.initialDef&&Aa(r,t),kn.add(r)),i.appContext.optionsCache.delete(i.type),i.ceReload?(kn.add(r),i.ceReload(t.styles),kn.delete(r)):i.parent?os(i.parent.update):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Qs(()=>{for(const i of s)kn.delete(ls(i.type))})}function Aa(e,t){ne(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function gr(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let tt,cs=[],mr=!1;function us(e,...t){tt?tt.emit(e,...t):mr||cs.push({event:e,args:t})}function pr(e,t){var n,s;tt=e,tt?(tt.enabled=!0,cs.forEach(({event:i,args:r})=>tt.emit(i,...r)),cs=[]):typeof window<"u"&&window.HTMLElement&&!(!((s=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||s===void 0)&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{pr(r,t)}),setTimeout(()=>{tt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,mr=!0,cs=[])},3e3)):(mr=!0,cs=[])}function Ca(e,t){us("app:init",e,t,{Fragment:we,Text:qt,Comment:ge,Static:Yt})}function Ea(e){us("app:unmount",e)}const br=yr("component:added"),xa=yr("component:updated"),Df=yr("component:removed"),Uf=e=>{tt&&typeof tt.cleanupBuffer=="function"&&!tt.cleanupBuffer(e)&&Df(e)};function yr(e){return t=>{us(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const $f=Sa("perf:start"),Vf=Sa("perf:end");function Sa(e){return(t,n,s)=>{us(e,t.appContext.app,t.uid,t,n,s)}}function jf(e,t,n){us("component:emit",e.appContext.app,e,t,n)}const Ta={GLOBAL_MOUNT:{message:'The global app bootstrapping API has changed: vm.$mount() and the "el" option have been removed. Use createApp(RootComponent).mount() instead.',link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#mounting-app-instance"},GLOBAL_MOUNT_CONTAINER:{message:"Vue detected directives on the mount container. In Vue 3, the container is no longer considered part of the template and will not be processed/replaced.",link:"https://v3-migration.vuejs.org/breaking-changes/mount-changes.html"},GLOBAL_EXTEND:{message:"Vue.extend() has been removed in Vue 3. Use defineComponent() instead.",link:"https://vuejs.org/api/general.html#definecomponent"},GLOBAL_PROTOTYPE:{message:"Vue.prototype is no longer available in Vue 3. Use app.config.globalProperties instead.",link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#vue-prototype-replaced-by-config-globalproperties"},GLOBAL_SET:{message:"Vue.set() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},GLOBAL_DELETE:{message:"Vue.delete() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},GLOBAL_OBSERVABLE:{message:'Vue.observable() has been removed. Use `import { reactive } from "vue"` from Composition API instead.',link:"https://vuejs.org/api/reactivity-core.html#reactive"},GLOBAL_PRIVATE_UTIL:{message:"Vue.util has been removed. Please refactor to avoid its usage since it was an internal API even in Vue 2."},CONFIG_SILENT:{message:"config.silent has been removed because it is not good practice to intentionally suppress warnings. You can use your browser console's filter features to focus on relevant messages."},CONFIG_DEVTOOLS:{message:"config.devtools has been removed. To enable devtools for production, configure the false compile-time flag.",link:"https://github.com/vuejs/core/tree/main/packages/vue#bundler-build-feature-flags"},CONFIG_KEY_CODES:{message:"config.keyCodes has been removed. In Vue 3, you can directly use the kebab-case key names as v-on modifiers.",link:"https://v3-migration.vuejs.org/breaking-changes/keycode-modifiers.html"},CONFIG_PRODUCTION_TIP:{message:"config.productionTip has been removed.",link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-productiontip-removed"},CONFIG_IGNORED_ELEMENTS:{message:()=>{let e="config.ignoredElements has been removed.";return vn()?e+=' Pass the "isCustomElement" option to @vue/compiler-dom instead.':e+=" Use config.isCustomElement instead.",e},link:"https://v3-migration.vuejs.org/breaking-changes/global-api.html#config-ignoredelements-is-now-config-iscustomelement"},CONFIG_WHITESPACE:{message:'Vue 3 compiler\'s whitespace option will default to "condense" instead of "preserve". To suppress this warning, provide an explicit value for `config.compilerOptions.whitespace`.'},CONFIG_OPTION_MERGE_STRATS:{message:"config.optionMergeStrategies no longer exposes internal strategies. Use custom merge functions instead."},INSTANCE_SET:{message:"vm.$set() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},INSTANCE_DELETE:{message:"vm.$delete() has been removed as it is no longer needed in Vue 3. Simply use native JavaScript mutations."},INSTANCE_DESTROY:{message:"vm.$destroy() has been removed. Use app.unmount() instead.",link:"https://vuejs.org/api/application.html#app-unmount"},INSTANCE_EVENT_EMITTER:{message:"vm.$on/$once/$off() have been removed. Use an external event emitter library instead.",link:"https://v3-migration.vuejs.org/breaking-changes/events-api.html"},INSTANCE_EVENT_HOOKS:{message:e=>`"${e}" lifecycle events are no longer supported. From templates, use the "vue:" prefix instead of "hook:". For example, @${e} should be changed to @vue:${e.slice(5)}. From JavaScript, use Composition API to dynamically register lifecycle hooks.`,link:"https://v3-migration.vuejs.org/breaking-changes/vnode-lifecycle-events.html"},INSTANCE_CHILDREN:{message:"vm.$children has been removed. Consider refactoring your logic to avoid relying on direct access to child components.",link:"https://v3-migration.vuejs.org/breaking-changes/children.html"},INSTANCE_LISTENERS:{message:'vm.$listeners has been removed. In Vue 3, parent v-on listeners are included in vm.$attrs and it is no longer necessary to separately use v-on="$listeners" if you are already using v-bind="$attrs". (Note: the Vue 3 behavior only applies if this compat config is disabled)',link:"https://v3-migration.vuejs.org/breaking-changes/listeners-removed.html"},INSTANCE_SCOPED_SLOTS:{message:"vm.$scopedSlots has been removed. Use vm.$slots instead.",link:"https://v3-migration.vuejs.org/breaking-changes/slots-unification.html"},INSTANCE_ATTRS_CLASS_STYLE:{message:e=>`Component <${e||"Anonymous"}> has \`inheritAttrs: false\` but is relying on class/style fallthrough from parent. In Vue 3, class/style are now included in $attrs and will no longer fallthrough when inheritAttrs is false. If you are already using v-bind="$attrs" on component root it should render the same end result. If you are binding $attrs to a non-root element and expecting class/style to fallthrough on root, you will need to now manually bind them on root via :class="$attrs.class".`,link:"https://v3-migration.vuejs.org/breaking-changes/attrs-includes-class-style.html"},OPTIONS_DATA_FN:{message:'The "data" option can no longer be a plain object. Always use a function.',link:"https://v3-migration.vuejs.org/breaking-changes/data-option.html"},OPTIONS_DATA_MERGE:{message:e=>`Detected conflicting key "${e}" when merging data option values. In Vue 3, data keys are merged shallowly and will override one another.`,link:"https://v3-migration.vuejs.org/breaking-changes/data-option.html#mixin-merge-behavior-change"},OPTIONS_BEFORE_DESTROY:{message:"`beforeDestroy` has been renamed to `beforeUnmount`."},OPTIONS_DESTROYED:{message:"`destroyed` has been renamed to `unmounted`."},WATCH_ARRAY:{message:`"watch" option or vm.$watch on an array value will no longer trigger on array mutation unless the "deep" option is specified. If current usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ WATCH_ARRAY: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/watch.html"},PROPS_DEFAULT_THIS:{message:e=>`props default value function no longer has access to "this". The compat build only offers access to this.$options.(found in prop "${e}")`,link:"https://v3-migration.vuejs.org/breaking-changes/props-default-this.html"},CUSTOM_DIR:{message:(e,t)=>`Custom directive hook "${e}" has been removed. Use "${t}" instead.`,link:"https://v3-migration.vuejs.org/breaking-changes/custom-directives.html"},V_ON_KEYCODE_MODIFIER:{message:"Using keyCode as v-on modifier is no longer supported. Use kebab-case key name modifiers instead.",link:"https://v3-migration.vuejs.org/breaking-changes/keycode-modifiers.html"},ATTR_FALSE_VALUE:{message:e=>`Attribute "${e}" with v-bind value \`false\` will render ${e}="false" instead of removing it in Vue 3. To remove the attribute, use \`null\` or \`undefined\` instead. If the usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ ATTR_FALSE_VALUE: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/attribute-coercion.html"},ATTR_ENUMERATED_COERCION:{message:(e,t,n)=>`Enumerated attribute "${e}" with v-bind value \`${t}\` will ${t===null?"be removed":"render the value as-is"} instead of coercing the value to "${n}" in Vue 3. Always use explicit "true" or "false" values for enumerated attributes. If the usage is intended, you can disable the compat behavior and suppress this warning with:

  configureCompat({ ATTR_ENUMERATED_COERCION: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/attribute-coercion.html"},TRANSITION_CLASSES:{message:""},TRANSITION_GROUP_ROOT:{message:`<TransitionGroup> no longer renders a root <span> element by default if no "tag" prop is specified. If you do not rely on the span for styling, you can disable the compat behavior and suppress this warning with:

  configureCompat({ TRANSITION_GROUP_ROOT: false })
`,link:"https://v3-migration.vuejs.org/breaking-changes/transition-group.html"},COMPONENT_ASYNC:{message:e=>{const t=Qt(e);return`Async component${t?` <${t}>`:"s"} should be explicitly created via \`defineAsyncComponent()\` in Vue 3. Plain functions will be treated as functional components in non-compat build. If you have already migrated all async component usage and intend to use plain functions for functional components, you can disable the compat behavior and suppress this warning with:

  configureCompat({ COMPONENT_ASYNC: false })
`},link:"https://v3-migration.vuejs.org/breaking-changes/async-components.html"},COMPONENT_FUNCTIONAL:{message:e=>{const t=Qt(e);return`Functional component${t?` <${t}>`:"s"} should be defined as a plain function in Vue 3. The "functional" option has been removed. NOTE: Before migrating to use plain functions for functional components, first make sure that all async components usage have been migrated and its compat behavior has been disabled.`},link:"https://v3-migration.vuejs.org/breaking-changes/functional-components.html"},COMPONENT_V_MODEL:{message:e=>{const t="opt-in to Vue 3 behavior on a per-component basis with `compatConfig: { COMPONENT_V_MODEL: false }`.";return e.props&&(V(e.props)?e.props.includes("modelValue"):se(e.props,"modelValue"))?`Component declares "modelValue" prop, which is Vue 3 usage, but is running under Vue 2 compat v-model behavior. You can ${t}`:`v-model usage on component has changed in Vue 3. Component that expects to work with v-model should now use the "modelValue" prop and emit the "update:modelValue" event. You can update the usage and then ${t}`},link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},RENDER_FUNCTION:{message:`Vue 3's render function API has changed. You can opt-in to the new API with:

  configureCompat({ RENDER_FUNCTION: false })

  (This can also be done per-component via the "compatConfig" option.)`,link:"https://v3-migration.vuejs.org/breaking-changes/render-function-api.html"},FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"},PRIVATE_APIS:{message:e=>`"${e}" is a Vue 2 private API that no longer exists in Vue 3. If you are seeing this warning only due to a dependency, you can suppress this warning via { PRIVATE_APIS: 'suppress-warning' }.`}},Pa=Object.create(null),wr=Object.create(null);function Ye(e,t,...n){if(t=t||Xe(),vr(e,t)==="suppress-warning")return;const i=e+n.join("");let r=t&&Ss(t,t.type);r==="Anonymous"&&t&&(r=t.uid);const o=i+r;if(o in Pa)return;if(Pa[o]=!0,i in wr){S(`(deprecation ${e}) (${++wr[i]+1})`);return}wr[i]=0;const{message:a,link:l}=Ta[e];S(`(deprecation ${e}) ${typeof a=="function"?a(...n):a}${l?`
  Details: ${l}`:""}`),re(e,t,!0)||console.error("^ The above deprecation's compat behavior is disabled and will likely lead to runtime errors.")}const _r={MODE:2};function Bf(e){Fa(e),ne(_r,e)}const Oa=new WeakSet,Ra={};function Fa(e,t){if(!Oa.has(e)){Oa.add(e);for(const n of Object.keys(e))n!=="MODE"&&!(n in Ta)&&!(n in Ra)&&(n.startsWith("COMPILER_")?vn()&&S(`Deprecation config "${n}" is compiler-specific and you are running a runtime-only build of Vue. This deprecation should be configured via compiler options in your build setup instead.
Details: https://v3-migration.vuejs.org/breaking-changes/migration-build.html`):S(`Invalid deprecation config "${n}".`),Ra[n]=!0);t&&e.OPTIONS_DATA_MERGE!=null&&S('Deprecation config "OPTIONS_DATA_MERGE" can only be configured globally.')}}function vr(e,t){const n=t&&t.type.compatConfig;return n&&e in n?n[e]:_r[e]}function re(e,t,n=!1){if(!n&&t&&t.type.__isBuiltIn)return!1;const s=vr("MODE",t)||2,i=vr(e,t);return(G(s)?s(t&&t.type):s)===2?i!==!1:i===!0||i==="suppress-warning"}function Ce(e,t,...n){if(re(e,t))Ye(e,t,...n);else throw new Error(`${e} compat has been disabled.`)}function Ct(e,t,...n){return Ye(e,t,...n),re(e,t)}function ei(e,t,...n){const s=re(e,t);return s&&Ye(e,t,...n),s}const Ar=new WeakMap;function Cr(e){let t=Ar.get(e);return t||Ar.set(e,t=Object.create(null)),t}function Er(e,t,n){if(V(t))t.forEach(s=>Er(e,s,n));else{t.startsWith("hook:")?Ce("INSTANCE_EVENT_HOOKS",e,t):Ce("INSTANCE_EVENT_EMITTER",e);const s=Cr(e);(s[t]||(s[t]=[])).push(n)}return e.proxy}function Hf(e,t,n){const s=(...i)=>{xr(e,t,s),n.call(e.proxy,...i)};return s.fn=n,Er(e,t,s),e.proxy}function xr(e,t,n){Ce("INSTANCE_EVENT_EMITTER",e);const s=e.proxy;if(!t)return Ar.set(e,Object.create(null)),s;if(V(t))return t.forEach(o=>xr(e,o,n)),s;const i=Cr(e),r=i[t];return r?n?(i[t]=r.filter(o=>!(o===n||o.fn===n)),s):(i[t]=void 0,s):s}function Kf(e,t,n){const s=Cr(e)[t];return s&&Le(s.map(i=>i.bind(e.proxy)),e,6,n),e.proxy}const fs="onModelCompat:",Ia=new WeakSet;function Wf(e){const{type:t,shapeFlag:n,props:s,dynamicProps:i}=e,r=t;if(n&6&&s&&"modelValue"in s){if(!re("COMPONENT_V_MODEL",{type:t}))return;Ia.has(r)||(Ln(e),Ye("COMPONENT_V_MODEL",{type:t},r),Nn(),Ia.add(r));const o=r.model||{};La(o,r.mixins);const{prop:a="value",event:l="input"}=o;a!=="modelValue"&&(s[a]=s.modelValue,delete s.modelValue),i&&(i[i.indexOf("modelValue")]=a),s[fs+l]=s["onUpdate:modelValue"],delete s["onUpdate:modelValue"]}}function La(e,t){t&&t.forEach(n=>{n.model&&ne(e,n.model),n.mixins&&La(e,n.mixins)})}function Gf(e,t,n){if(!re("COMPONENT_V_MODEL",e))return;const s=e.vnode.props,i=s&&s[fs+t];i&&et(i,e,6,n)}function qf(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||oe;{const{emitsOptions:f,propsOptions:[u]}=e;if(f)if(!(t in f)&&!(t.startsWith("hook:")||t.startsWith(fs)))(!u||!(ct(t)in u))&&S(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${ct(t)}" prop.`);else{const d=f[t];G(d)&&(d(...n)||S(`Invalid event arguments: event validation failed for event "${t}".`))}}let i=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:d}=s[f]||oe;d&&(i=n.map(y=>ce(y)?y.trim():y)),u&&(i=n.map(ft))}jf(e,t,i);{const f=t.toLowerCase();f!==t&&s[ct(f)]&&S(`Event "${f}" is emitted in component ${Ss(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Ae(t)}" instead of "${t}".`)}let a,l=s[a=ct(t)]||s[a=ct(Te(t))];!l&&r&&(l=s[a=ct(Ae(t))]),l&&Le(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Le(c,e,6,i)}return Gf(e,t,i),Kf(e,t,i)}function Na(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!G(e)){const l=c=>{const f=Na(c,t,!0);f&&(a=!0,ne(o,f))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(ee(e)&&s.set(e,null),null):(V(r)?r.forEach(l=>o[l]=null):ne(o,r),ee(e)&&s.set(e,o),o)}function ti(e,t){return!e||!lt(t)?!1:t.startsWith(fs)?!0:(t=t.slice(2).replace(/Once$/,""),se(e,t[0].toLowerCase()+t.slice(1))||se(e,Ae(t))||se(e,t))}let he=null,Dn=null;function ds(e){const t=he;return he=e,Dn=e&&e.type.__scopeId||null,Dn||(Dn=e&&e.type._scopeId||null),t}function Yf(e){Dn=e}function Jf(){Dn=null}const Xf=e=>Sr;function Sr(e,t=he,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&Xr(-1);const r=ds(t);let o;try{o=e(...i)}finally{ds(r),s._d&&Xr(1)}return xa(t),o};return s._n=!0,s._c=!0,s._d=!0,n&&(s._ns=!0),s}let Tr=!1;function ni(){Tr=!0}function si(e){const{type:t,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:f,renderCache:u,data:d,setupState:y,ctx:A,inheritAttrs:C}=e;let F,v;const g=ds(e);Tr=!1;try{if(n.shapeFlag&4){const R=i||s;F=Ue(f.call(R,R,u,r,y,d,A)),v=l}else{const R=t;l===r&&ni(),F=Ue(R.length>1?R(r,{get attrs(){return ni(),l},slots:a,emit:c}):R(r,null)),v=t.props?l:Qf(l)}}catch(R){Es.length=0,un(R,e,1),F=le(ge)}let E=F,x;if(F.patchFlag>0&&F.patchFlag&2048&&([E,x]=zf(F)),v&&C!==!1){const R=Object.keys(v),{shapeFlag:D}=E;if(R.length){if(D&7)o&&R.some(Ds)&&(v=Zf(v,o)),E=De(E,v);else if(!Tr&&E.type!==ge){const P=Object.keys(l),w=[],m=[];for(let _=0,b=P.length;_<b;_++){const N=P[_];lt(N)?Ds(N)||w.push(N[2].toLowerCase()+N.slice(3)):m.push(N)}m.length&&S(`Extraneous non-props attributes (${m.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),w.length&&S(`Extraneous non-emits event listeners (${w.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}if(re("INSTANCE_ATTRS_CLASS_STYLE",e)&&n.shapeFlag&4&&E.shapeFlag&7){const{class:R,style:D}=n.props||{};(R||D)&&(C===!1&&Ye("INSTANCE_ATTRS_CLASS_STYLE",e,Qt(e.type)),E=De(E,{class:R,style:D}))}return n.dirs&&(Ma(E)||S("Runtime directive used on component with non-element root node. The directives will not function as intended."),E=De(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(Ma(E)||S("Component inside <Transition> renders non-element root node that cannot be animated."),E.transition=n.transition),x?x(E):F=E,ds(g),F}const zf=e=>{const t=e.children,n=e.dynamicChildren,s=Pr(t);if(!s)return[e,void 0];const i=t.indexOf(s),r=n?n.indexOf(s):-1,o=a=>{t[i]=a,n&&(r>-1?n[r]=a:a.patchFlag>0&&(e.dynamicChildren=[...n,a]))};return[Ue(s),o]};function Pr(e){let t;for(let n=0;n<e.length;n++){const s=e[n];if(ke(s)){if(s.type!==ge||s.children==="v-if"){if(t)return;t=s}}else return}return t}const Qf=e=>{let t;for(const n in e)(n==="class"||n==="style"||lt(n))&&((t||(t={}))[n]=e[n]);return t},Zf=(e,t)=>{const n={};for(const s in e)(!Ds(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n},Ma=e=>e.shapeFlag&7||e.type===ge;function ed(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if((i||a)&&Vt||t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?ka(s,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const d=f[u];if(o[d]!==s[d]&&!ti(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?ka(s,o,c):!0:!!o;return!1}function ka(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!ti(n,r))return!0}return!1}function Or({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Da=e=>e.__isSuspense,td={name:"Suspense",__isSuspense:!0,process(e,t,n,s,i,r,o,a,l,c){e==null?nd(t,n,s,i,r,o,a,l,c):sd(e,t,n,s,i,o,a,l,c)},hydrate:id,create:Rr,normalize:rd};function hs(e,t){const n=e.props&&e.props[t];G(n)&&n()}function nd(e,t,n,s,i,r,o,a,l){const{p:c,o:{createElement:f}}=l,u=f("div"),d=e.suspense=Rr(e,i,s,t,u,n,r,o,a,l);c(null,d.pendingBranch=e.ssContent,u,null,s,d,r,o),d.deps>0?(hs(e,"onPending"),hs(e,"onFallback"),c(null,e.ssFallback,t,n,s,null,r,o),Un(d,e.ssFallback)):d.resolve()}function sd(e,t,n,s,i,r,o,a,{p:l,um:c,o:{createElement:f}}){const u=t.suspense=e.suspense;u.vnode=t,t.el=e.el;const d=t.ssContent,y=t.ssFallback,{activeBranch:A,pendingBranch:C,isInFallback:F,isHydrating:v}=u;if(C)u.pendingBranch=d,pt(d,C)?(l(C,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0?u.resolve():F&&(l(A,y,n,s,i,null,r,o,a),Un(u,y))):(u.pendingId++,v?(u.isHydrating=!1,u.activeBranch=C):c(C,i,u),u.deps=0,u.effects.length=0,u.hiddenContainer=f("div"),F?(l(null,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0?u.resolve():(l(A,y,n,s,i,null,r,o,a),Un(u,y))):A&&pt(d,A)?(l(A,d,n,s,i,u,r,o,a),u.resolve(!0)):(l(null,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0&&u.resolve()));else if(A&&pt(d,A))l(A,d,n,s,i,u,r,o,a),Un(u,d);else if(hs(t,"onPending"),u.pendingBranch=d,u.pendingId++,l(null,d,u.hiddenContainer,null,i,u,r,o,a),u.deps<=0)u.resolve();else{const{timeout:g,pendingId:E}=u;g>0?setTimeout(()=>{u.pendingId===E&&u.fallback(y)},g):g===0&&u.fallback(y)}}let Ua=!1;function Rr(e,t,n,s,i,r,o,a,l,c,f=!1){Ua||(Ua=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:u,m:d,um:y,n:A,o:{parentNode:C,remove:F}}=c,v=ft(e.props&&e.props.timeout),g={vnode:e,parent:t,parentComponent:n,isSVG:o,container:s,hiddenContainer:i,anchor:r,deps:0,pendingId:0,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(E=!1){{if(!E&&!g.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(g.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:x,activeBranch:R,pendingBranch:D,pendingId:P,effects:w,parentComponent:m,container:_}=g;if(g.isHydrating)g.isHydrating=!1;else if(!E){const K=R&&D.transition&&D.transition.mode==="out-in";K&&(R.transition.afterLeave=()=>{P===g.pendingId&&d(D,_,B,0)});let{anchor:B}=g;R&&(B=A(R),y(R,m,g,!0)),K||d(D,_,B,0)}Un(g,D),g.pendingBranch=null,g.isInFallback=!1;let b=g.parent,N=!1;for(;b;){if(b.pendingBranch){b.effects.push(...w),N=!0;break}b=b.parent}N||Qs(w),g.effects=[],hs(x,"onResolve")},fallback(E){if(!g.pendingBranch)return;const{vnode:x,activeBranch:R,parentComponent:D,container:P,isSVG:w}=g;hs(x,"onFallback");const m=A(R),_=()=>{g.isInFallback&&(u(null,E,P,m,D,null,w,a,l),Un(g,E))},b=E.transition&&E.transition.mode==="out-in";b&&(R.transition.afterLeave=_),g.isInFallback=!0,y(R,D,null,!0),b||_()},move(E,x,R){g.activeBranch&&d(g.activeBranch,E,x,R),g.container=E},next(){return g.activeBranch&&A(g.activeBranch)},registerDep(E,x){const R=!!g.pendingBranch;R&&g.deps++;const D=E.vnode.el;E.asyncDep.catch(P=>{un(P,E,0)}).then(P=>{if(E.isUnmounted||g.isUnmounted||g.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:w}=E;Ln(w),so(E,P,!1),D&&(w.el=D);const m=!D&&E.subTree.el;x(E,w,C(D||E.subTree.el),D?null:A(E.subTree),g,o,l),m&&F(m),Or(E,w.el),Nn(),R&&--g.deps===0&&g.resolve()})},unmount(E,x){g.isUnmounted=!0,g.activeBranch&&y(g.activeBranch,n,E,x),g.pendingBranch&&y(g.pendingBranch,n,E,x)}};return g}function id(e,t,n,s,i,r,o,a,l){const c=t.suspense=Rr(t,s,n,e.parentNode,document.createElement("div"),null,i,r,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,n,c,r,o);return c.deps===0&&c.resolve(),f}function rd(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=$a(s?n.default:n),e.ssFallback=s?$a(n.fallback):le(ge)}function $a(e){let t;if(G(e)){const n=_n&&e._c;n&&(e._d=!1,yi()),e=e(),n&&(e._d=!0,t=Me,Jl())}if(V(e)){const n=Pr(e);n||S("<Suspense> slots expect a single root node."),e=n}return e=Ue(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Va(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):Qs(e)}function Un(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e,i=n.el=t.el;s&&s.subTree===n&&(s.vnode.el=i,Or(s,i))}function ja(e,t){if(!pe)S("provide() can only be used inside setup().");else{let n=pe.provides;const s=pe.parent&&pe.parent.provides;s===n&&(n=pe.provides=Object.create(s)),n[e]=t}}function jt(e,t,n=!1){const s=pe||he;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&G(t)?t.call(s.proxy):t;S(`injection "${String(e)}" not found.`)}else S("inject() can only be used inside setup() or functional components.")}function od(e,t){return gs(e,null,t)}function Ba(e,t){return gs(e,null,Object.assign(Object.assign({},t),{flush:"post"}))}function ad(e,t){return gs(e,null,Object.assign(Object.assign({},t),{flush:"sync"}))}const ii={};function hn(e,t,n){return G(t)||S("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),gs(e,t,n)}function gs(e,t,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=oe){t||(n!==void 0&&S('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&S('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const a=x=>{S("Invalid watch source: ",x,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},l=pe;let c,f=!1,u=!1;if(de(e)?(c=()=>e.value,f=Ut(e)):He(e)?(c=()=>e,s=!0):V(e)?(u=!0,f=e.some(x=>He(x)||Ut(x)),c=()=>e.map(x=>{if(de(x))return x.value;if(He(x))return Bt(x);if(G(x))return et(x,l,2);a(x)})):G(e)?t?c=()=>et(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),Le(e,l,3,[y])}:(c=Ee,a(e)),t&&!s){const x=c;c=()=>{const R=x();return V(R)&&ei("WATCH_ARRAY",l)&&Bt(R),R}}if(t&&s){const x=c;c=()=>Bt(x())}let d,y=x=>{d=g.onStop=()=>{et(x,l,4)}},A;if(Bn)if(y=Ee,t?n&&Le(t,l,3,[c(),u?[]:void 0,y]):c(),i==="sync"){const x=ac();A=x.__watcherHandles||(x.__watcherHandles=[])}else return Ee;let C=u?new Array(e.length).fill(ii):ii;const F=()=>{if(g.active)if(t){const x=g.run();(s||f||(u?x.some((R,D)=>In(R,C[D])):In(x,C))||V(x)&&re("WATCH_ARRAY",l))&&(d&&d(),Le(t,l,3,[x,C===ii?void 0:u&&C[0]===ii?[]:C,y]),C=x)}else g.run()};F.allowRecurse=!!t;let v;i==="sync"?v=F:i==="post"?v=()=>me(F,l&&l.suspense):(F.pre=!0,l&&(F.id=l.uid),v=()=>os(F));const g=new ts(c,v);g.onTrack=r,g.onTrigger=o,t?n?F():C=g.run():i==="post"?me(g.run.bind(g),l&&l.suspense):g.run();const E=()=>{g.stop(),l&&l.scope&&qi(l.scope.effects,g)};return A&&A.push(E),E}function ld(e,t,n){const s=this.proxy,i=ce(e)?e.includes(".")?Ha(s,e):()=>s[e]:e.bind(s,s);let r;G(t)?r=t:(r=t.handler,n=t);const o=pe;Xt(this);const a=gs(i,r.bind(s),n);return o?Xt(o):zt(),a}function Ha(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Bt(e,t){if(!ee(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),de(e))Bt(e.value,t);else if(V(e))for(let n=0;n<e.length;n++)Bt(e[n],t);else if(sn(e)||nn(e))e.forEach(n=>{Bt(n,t)});else if(Us(e))for(const n in e)Bt(e[n],t);return e}function Fr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ps(()=>{e.isMounted=!0}),bs(()=>{e.isUnmounting=!0}),e}const Je=[Function,Array],Ka={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Je,onEnter:Je,onAfterEnter:Je,onEnterCancelled:Je,onBeforeLeave:Je,onLeave:Je,onAfterLeave:Je,onLeaveCancelled:Je,onBeforeAppear:Je,onAppear:Je,onAfterAppear:Je,onAppearCancelled:Je},setup(e,{slots:t}){const n=Xe(),s=Fr();let i;return()=>{const r=t.default&&ri(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let C=!1;for(const F of r)if(F.type!==ge){if(C){S("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}o=F,C=!0}}const a=Z(e),{mode:l}=a;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&S(`invalid <transition> mode: ${l}`),s.isLeaving)return Lr(o);const c=Ga(o);if(!c)return Lr(o);const f=$n(c,a,s,n);gn(c,f);const u=n.subTree,d=u&&Ga(u);let y=!1;const{getTransitionKey:A}=c.type;if(A){const C=A();i===void 0?i=C:C!==i&&(i=C,y=!0)}if(d&&d.type!==ge&&(!pt(c,d)||y)){const C=$n(d,a,s,n);if(gn(d,C),l==="out-in")return s.isLeaving=!0,C.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},Lr(o);l==="in-out"&&c.type!==ge&&(C.delayLeave=(F,v,g)=>{const E=Wa(s,d);E[String(d.key)]=d,F._leaveCb=()=>{v(),F._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=g})}return o}}};Ka.__isBuiltIn=!0;const Ir=Ka;function Wa(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function $n(e,t,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:u,onLeave:d,onAfterLeave:y,onLeaveCancelled:A,onBeforeAppear:C,onAppear:F,onAfterAppear:v,onAppearCancelled:g}=t,E=String(e.key),x=Wa(n,e),R=(w,m)=>{w&&Le(w,s,9,m)},D=(w,m)=>{const _=m[1];R(w,m),V(w)?w.every(b=>b.length<=1)&&_():w.length<=1&&_()},P={mode:r,persisted:o,beforeEnter(w){let m=a;if(!n.isMounted)if(i)m=C||a;else return;w._leaveCb&&w._leaveCb(!0);const _=x[E];_&&pt(e,_)&&_.el._leaveCb&&_.el._leaveCb(),R(m,[w])},enter(w){let m=l,_=c,b=f;if(!n.isMounted)if(i)m=F||l,_=v||c,b=g||f;else return;let N=!1;const K=w._enterCb=B=>{N||(N=!0,B?R(b,[w]):R(_,[w]),P.delayedLeave&&P.delayedLeave(),w._enterCb=void 0)};m?D(m,[w,K]):K()},leave(w,m){const _=String(e.key);if(w._enterCb&&w._enterCb(!0),n.isUnmounting)return m();R(u,[w]);let b=!1;const N=w._leaveCb=K=>{b||(b=!0,m(),K?R(A,[w]):R(y,[w]),w._leaveCb=void 0,x[_]===e&&delete x[_])};x[_]=e,d?D(d,[w,N]):N()},clone(w){return $n(w,t,n,s)}};return P}function Lr(e){if(Vn(e))return e=De(e),e.children=null,e}function Ga(e){return Vn(e)?e.children?e.children[0]:void 0:e}function gn(e,t){e.shapeFlag&6&&e.component?gn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ri(e,t=!1,n){let s=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===we?(o.patchFlag&128&&i++,s=s.concat(ri(o.children,t,a))):(t||o.type!==ge)&&s.push(a!=null?De(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function oi(e){return G(e)?{setup:e,name:e.name}:e}const mn=e=>!!e.type.__asyncLoader;function ai(e){G(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:i=200,timeout:r,suspensible:o=!0,onError:a}=e;let l=null,c,f=0;const u=()=>(f++,l=null,d()),d=()=>{let y;return l||(y=l=t().catch(A=>{if(A=A instanceof Error?A:new Error(String(A)),a)return new Promise((C,F)=>{a(A,()=>C(u()),()=>F(A),f+1)});throw A}).then(A=>{if(y!==l&&l)return l;if(A||S("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),A&&(A.__esModule||A[Symbol.toStringTag]==="Module")&&(A=A.default),A&&!ee(A)&&!G(A))throw new Error(`Invalid async component load result: ${A}`);return c=A,A}))};return oi({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const y=pe;if(c)return()=>Nr(c,y);const A=g=>{l=null,un(g,y,13,!s)};if(o&&y.suspense||Bn)return d().then(g=>()=>Nr(g,y)).catch(g=>(A(g),()=>s?le(s,{error:g}):null));const C=ln(!1),F=ln(),v=ln(!!i);return i&&setTimeout(()=>{v.value=!1},i),r!=null&&setTimeout(()=>{if(!C.value&&!F.value){const g=new Error(`Async component timed out after ${r}ms.`);A(g),F.value=g}},r),d().then(()=>{C.value=!0,y.parent&&Vn(y.parent.vnode)&&os(y.parent.update)}).catch(g=>{A(g),F.value=g}),()=>{if(C.value&&c)return Nr(c,y);if(F.value&&s)return le(s,{error:F.value});if(n&&!v.value)return le(n)}}})}function Nr(e,t){const{ref:n,props:s,children:i,ce:r}=t.vnode,o=le(e,s,i);return o.ref=n,o.ce=r,delete t.vnode.ce,o}const Vn=e=>e.type.__isKeepAlive,qa={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Xe(),s=n.ctx;if(!s.renderer)return()=>{const g=t.default&&t.default();return g&&g.length===1?g[0]:g};const i=new Map,r=new Set;let o=null;n.__v_cache=i;const a=n.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:u}}}=s,d=u("div");s.activate=(g,E,x,R,D)=>{const P=g.component;c(g,E,x,0,a),l(P.vnode,g,E,x,P,a,R,g.slotScopeIds,D),me(()=>{P.isDeactivated=!1,P.a&&ut(P.a);const w=g.props&&g.props.onVnodeMounted;w&&$e(w,P.parent,g)},a),br(P)},s.deactivate=g=>{const E=g.component;c(g,d,null,1,a),me(()=>{E.da&&ut(E.da);const x=g.props&&g.props.onVnodeUnmounted;x&&$e(x,E.parent,g),E.isDeactivated=!0},a),br(E)};function y(g){Mr(g),f(g,n,a,!0)}function A(g){i.forEach((E,x)=>{const R=Qt(E.type);R&&(!g||!g(R))&&C(x)})}function C(g){const E=i.get(g);!o||E.type!==o.type?y(E):o&&Mr(o),i.delete(g),r.delete(g)}hn(()=>[e.include,e.exclude],([g,E])=>{g&&A(x=>ms(g,x)),E&&A(x=>!ms(E,x))},{flush:"post",deep:!0});let F=null;const v=()=>{F!=null&&i.set(F,kr(n.subTree))};return ps(v),ci(v),bs(()=>{i.forEach(g=>{const{subTree:E,suspense:x}=n,R=kr(E);if(g.type===R.type){Mr(R);const D=R.component.da;D&&me(D,x);return}y(g)})}),()=>{if(F=null,!t.default)return null;const g=t.default(),E=g[0];if(g.length>1)return S("KeepAlive should contain exactly one component child."),o=null,g;if(!ke(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let x=kr(E);const R=x.type,D=Qt(mn(x)?x.type.__asyncResolved||{}:R),{include:P,exclude:w,max:m}=e;if(P&&(!D||!ms(P,D))||w&&D&&ms(w,D))return o=x,E;const _=x.key==null?R:x.key,b=i.get(_);return x.el&&(x=De(x),E.shapeFlag&128&&(E.ssContent=x)),F=_,b?(x.el=b.el,x.component=b.component,x.transition&&gn(x,x.transition),x.shapeFlag|=512,r.delete(_),r.add(_)):(r.add(_),m&&r.size>parseInt(m,10)&&C(r.values().next().value)),x.shapeFlag|=256,o=x,Da(E.type)?E:x}}};qa.__isBuildIn=!0;const Ya=qa;function ms(e,t){return V(e)?e.some(n=>ms(n,t)):ce(e)?e.split(",").includes(t):e.test?e.test(t):!1}function Ja(e,t){za(e,"a",t)}function Xa(e,t){za(e,"da",t)}function za(e,t,n=pe){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(li(t,s,n),n){let i=n.parent;for(;i&&i.parent;)Vn(i.parent.vnode)&&cd(s,t,n,i),i=i.parent}}function cd(e,t,n,s){const i=li(t,e,s,!0);ys(()=>{qi(s[t],i)},n)}function Mr(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function kr(e){return e.shapeFlag&128?e.ssContent:e}function li(e,t,n=pe,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;on(),Xt(n);const a=Le(t,n,e,o);return zt(),an(),a});return s?i.unshift(r):i.push(r),r}else{const i=ct(ur[e].replace(/ hook$/,""));S(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Et=e=>(t,n=pe)=>(!Bn||e==="sp")&&li(e,(...s)=>t(...s),n),Qa=Et("bm"),ps=Et("m"),Za=Et("bu"),ci=Et("u"),bs=Et("bum"),ys=Et("um"),el=Et("sp"),tl=Et("rtg"),nl=Et("rtc");function sl(e,t=pe){li("ec",e,t)}function ud(e){Ce("INSTANCE_CHILDREN",e);const t=e.subTree,n=[];return t&&il(t,n),n}function il(e,t){if(e.component)t.push(e.component.proxy);else if(e.shapeFlag&16){const n=e.children;for(let s=0;s<n.length;s++)il(n[s],t)}}function rl(e){Ce("INSTANCE_LISTENERS",e);const t={},n=e.vnode.props;if(!n)return t;for(const s in n)lt(s)&&(t[s[2].toLowerCase()+s.slice(3)]=n[s]);return t}const fd={beforeMount:"bind",mounted:"inserted",updated:["update","componentUpdated"],unmounted:"unbind"};function dd(e,t,n){const s=fd[e];if(s)if(V(s)){const i=[];return s.forEach(r=>{const o=t[r];o&&(Ct("CUSTOM_DIR",n,r,e),i.push(o))}),i.length?i:void 0}else return t[s]&&Ct("CUSTOM_DIR",n,s,e),t[s]}function ol(e){Du(e)&&S("Do not use built-in directive ids as custom directive id: "+e)}function al(e,t){const n=he;if(n===null)return S("withDirectives can only be used inside render functions."),e;const s=Ei(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=oe]=t[r];o&&(G(o)&&(o={mounted:o,updated:o}),o.deep&&Bt(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function mt(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l||(l=dd(s,a.dir,n)),l&&(on(),Le(l,n,8,[e.el,a,e,t]),an())}}const ui="components",hd="directives",gd="filters";function md(e,t){return fi(ui,e,!0,t)||e}const ll=Symbol();function cl(e){return ce(e)?fi(ui,e,!1)||e:e||ll}function ul(e){return fi(hd,e)}function fl(e){return fi(gd,e)}function fi(e,t,n=!0,s=!1){const i=he||pe;if(i){const r=i.type;if(e===ui){const a=Qt(r,!1);if(a&&(a===t||a===Te(t)||a===Lt(Te(t))))return r}const o=dl(i[e]||r[e],t)||dl(i.appContext[e],t);if(!o&&s)return r;if(n&&!o){const a=e===ui?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";S(`Failed to resolve ${e.slice(0,-1)}: ${t}${a}`)}return o}else S(`resolve${Lt(e.slice(0,-1))} can only be used in render() or setup().`)}function dl(e,t){return e&&(e[t]||e[Te(t)]||e[Lt(Te(t))])}function pd(e){const t=e.type,n=t.render;if(!(!n||n._rc||n._compatChecked||n._compatWrapped)){if(n.length>=2){n._compatChecked=!0;return}if(ei("RENDER_FUNCTION",e)){const s=t.render=function(){return n.call(this,di)};s._compatWrapped=!0}}}function di(e,t,n){if(e||(e=ge),typeof e=="string"){const r=Ae(e);(r==="transition"||r==="transition-group"||r==="keep-alive")&&(e=`__compat__${r}`),e=cl(e)}const s=arguments.length,i=V(t);return s===2||i?ee(t)&&!i?ke(t)?hi(le(e,null,[t])):hi(gl(le(e,hl(t,e)),t)):hi(le(e,null,t)):(ke(n)&&(n=[n]),hi(gl(le(e,hl(t,e),n),t)))}const bd=Ze("staticStyle,staticClass,directives,model,hook");function hl(e,t){if(!e)return null;const n={};for(const s in e)if(s==="attrs"||s==="domProps"||s==="props")ne(n,e[s]);else if(s==="on"||s==="nativeOn"){const i=e[s];for(const r in i){let o=yd(r);s==="nativeOn"&&(o+="Native");const a=n[o],l=i[r];a!==l&&(a?n[o]=[].concat(a,l):n[o]=l)}}else bd(s)||(n[s]=e[s]);if(e.staticClass&&(n.class=It([e.staticClass,n.class])),e.staticStyle&&(n.style=On([e.staticStyle,n.style])),e.model&&ee(t)){const{prop:s="value",event:i="input"}=t.model||{};n[s]=e.model.value,n[fs+i]=e.model.callback}return n}function yd(e){return e[0]==="&"&&(e=e.slice(1)+"Passive"),e[0]==="~"&&(e=e.slice(1)+"Once"),e[0]==="!"&&(e=e.slice(1)+"Capture"),ct(e)}function gl(e,t){return t&&t.directives?al(e,t.directives.map(({name:n,value:s,arg:i,modifiers:r})=>[ul(n),s,i,r])):e}function hi(e){const{props:t,children:n}=e;let s;if(e.shapeFlag&6&&V(n)){s={};for(let r=0;r<n.length;r++){const o=n[r],a=ke(o)&&o.props&&o.props.slot||"default",l=s[a]||(s[a]=[]);ke(o)&&o.type==="template"?l.push(o.children):l.push(o)}if(s)for(const r in s){const o=s[r];s[r]=()=>o,s[r]._ns=!0}}const i=t&&t.scopedSlots;return i&&(delete t.scopedSlots,s?ne(s,i):s=i),s&&Ai(e,s),e}function ml(e){if(re("RENDER_FUNCTION",he,!0)&&re("PRIVATE_APIS",he,!0)){const t=he,n=()=>e.component&&e.component.proxy;let s;Object.defineProperties(e,{tag:{get:()=>e.type},data:{get:()=>e.props||{},set:i=>e.props=i},elm:{get:()=>e.el},componentInstance:{get:n},child:{get:n},text:{get:()=>ce(e.children)?e.children:null},context:{get:()=>t&&t.proxy},componentOptions:{get:()=>{if(e.shapeFlag&4)return s||(s={Ctor:e.type,propsData:e.props,children:e.children})}}})}}const Dr=new Map,pl={get(e,t){const n=e[t];return n&&n()}};function wd(e){if(Dr.has(e))return Dr.get(e);const t=e.render,n=(s,i)=>{const r=Xe(),o={props:s,children:r.vnode.children||[],data:r.vnode.props||{},scopedSlots:i.slots,parent:r.parent&&r.parent.proxy,slots(){return new Proxy(i.slots,pl)},get listeners(){return rl(r)},get injections(){if(e.inject){const a={};return Sl(e.inject,a),a}return{}}};return t(di,o)};return n.props=e.props,n.displayName=e.name,n.compatConfig=e.compatConfig,n.inheritAttrs=!1,Dr.set(e,n),n}function bl(e,t,n,s){let i;const r=n&&n[s];if(V(e)||ce(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){Number.isInteger(e)||S(`The v-for range expect an integer value but got ${e}.`),i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,r&&r[o])}else if(ee(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=t(e[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}function yl(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(V(s))for(let i=0;i<s.length;i++)e[s[i].name]=s[i].fn;else s&&(e[s.name]=s.key?(...i)=>{const r=s.fn(...i);return r&&(r.key=s.key),r}:s.fn)}return e}function wl(e,t,n={},s,i){if(he.isCE||he.parent&&mn(he.parent)&&he.parent.isCE)return t!=="default"&&(n.name=t),le("slot",n,s&&s());let r=e[t];r&&r.length>1&&(S("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),r=()=>[]),r&&r._c&&(r._d=!1),yi();const o=r&&_l(r(n)),a=zr(we,{key:n.key||o&&o.key||`_${t}`},o||(s?s():[]),o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function _l(e){return e.some(t=>ke(t)?!(t.type===ge||t.type===we&&!_l(t.children)):!0)?e:null}function vl(e,t){const n={};if(!ee(e))return S("v-on with no argument expects an object value."),n;for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:ct(s)]=e[s];return n}function _d(e){const t={};for(let n=0;n<e.length;n++)e[n]&&ne(t,e[n]);return t}function vd(e,t,n,s,i){if(n&&ee(n)){V(n)&&(n=_d(n));for(const r in n)if(Fn(r))e[r]=n[r];else if(r==="class")e.class=It([e.class,n.class]);else if(r==="style")e.style=It([e.style,n.style]);else{const o=e.attrs||(e.attrs={}),a=Te(r),l=Ae(r);if(!(a in o)&&!(l in o)&&(o[r]=n[r],i)){const c=e.on||(e.on={});c[`update:${r}`]=function(f){n[r]=f}}}}return e}function Ad(e,t){return Ci(e,vl(t))}function Cd(e,t,n,s,i){return i&&(s=Ci(s,i)),wl(e.slots,t,s,n&&(()=>n))}function Ed(e,t,n){return yl(t||{$stable:!n},Al(e))}function Al(e){for(let t=0;t<e.length;t++){const n=e[t];n&&(V(n)?Al(n):n.name=n.key||"default")}return e}const Cl=new WeakMap;function xd(e,t){let n=Cl.get(e);if(n||Cl.set(e,n=[]),n[t])return n[t];const s=e.type.staticRenderFns[t],i=e.proxy;return n[t]=s.call(i,null,i)}function Sd(e,t,n,s,i,r){const a=e.appContext.config.keyCodes||{},l=a[n]||s;if(r&&i&&!a[n])return El(r,i);if(l)return El(l,t);if(i)return Ae(i)!==n}function El(e,t){return V(e)?!e.includes(t):e!==t}function Td(e){return e}function Pd(e,t){for(let n=0;n<t.length;n+=2){const s=t[n];typeof s=="string"&&s&&(e[t[n]]=t[n+1])}return e}function Od(e,t){return typeof e=="string"?t+e:e}function Rd(e){const t=(s,i,r)=>{s[i]=r},n=(s,i)=>{delete s[i]};ne(e,{$set:s=>(Ce("INSTANCE_SET",s),t),$delete:s=>(Ce("INSTANCE_DELETE",s),n),$mount:s=>(Ce("GLOBAL_MOUNT",null),s.ctx._compat_mount||Ee),$destroy:s=>(Ce("INSTANCE_DESTROY",s),s.ctx._compat_destroy||Ee),$slots:s=>re("RENDER_FUNCTION",s)&&s.render&&s.render._compatWrapped?new Proxy(s.slots,pl):Dt(s.slots),$scopedSlots:s=>{Ce("INSTANCE_SCOPED_SLOTS",s);const i={};for(const r in s.slots){const o=s.slots[r];o._ns||(i[r]=o)}return i},$on:s=>Er.bind(null,s),$once:s=>Hf.bind(null,s),$off:s=>xr.bind(null,s),$children:ud,$listeners:rl}),re("PRIVATE_APIS",null)&&ne(e,{$vnode:s=>s.vnode,$options:s=>{const i=ne({},_s(s));return i.parent=s.proxy.$parent,i.propsData=s.vnode.props,i},_self:s=>s.proxy,_uid:s=>s.uid,_data:s=>s.data,_isMounted:s=>s.isMounted,_isDestroyed:s=>s.isUnmounted,$createElement:()=>di,_c:()=>di,_o:()=>Td,_n:()=>ft,_s:()=>Do,_l:()=>bl,_t:s=>Cd.bind(null,s),_q:()=>_t,_i:()=>Xn,_m:s=>xd.bind(null,s),_f:()=>fl,_k:s=>Sd.bind(null,s),_b:()=>vd,_v:()=>vi,_e:()=>ec,_u:()=>Ed,_g:()=>Ad,_d:()=>Pd,_p:()=>Od})}const Ur=e=>e?tc(e)?Ei(e)||e.proxy:Ur(e.parent):null,Ht=ne(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>Dt(e.props),$attrs:e=>Dt(e.attrs),$slots:e=>Dt(e.slots),$refs:e=>Dt(e.refs),$parent:e=>Ur(e.parent),$root:e=>Ur(e.root),$emit:e=>e.emit,$options:e=>_s(e),$forceUpdate:e=>e.f||(e.f=()=>os(e.update)),$nextTick:e=>e.n||(e.n=fn.bind(e.proxy)),$watch:e=>ld.bind(e)});Rd(Ht);const $r=e=>e==="_"||e==="$",Vr=(e,t)=>e!==oe&&!e.__isScriptSetup&&se(e,t),ws={get({_:e},t){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;if(t==="__isVue")return!0;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(Vr(s,t))return o[t]=1,s[t];if(i!==oe&&se(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&se(c,t))return o[t]=3,r[t];if(n!==oe&&se(n,t))return o[t]=4,n[t];jr&&(o[t]=0)}}const f=Ht[t];let u,d;if(f)return t==="$attrs"&&(Ie(e,"get",t),ni()),f(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==oe&&se(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,se(d,t)){const y=Object.getOwnPropertyDescriptor(d,t);if(y.get)return y.get.call(e.proxy);{const A=d[t];return G(A)?Object.assign(A.bind(e.proxy),A):A}}else he&&(!ce(t)||t.indexOf("__v")!==0)&&(i!==oe&&$r(t[0])&&se(i,t)?S(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===he&&S(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return Vr(i,t)?(i[t]=n,!0):i.__isScriptSetup&&se(i,t)?(S(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==oe&&se(s,t)?(s[t]=n,!0):se(e.props,t)?(S(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(S(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||e!==oe&&se(e,o)||Vr(t,o)||(a=r[0])&&se(a,o)||se(s,o)||se(Ht,o)||se(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:se(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};ws.ownKeys=e=>(S("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));const Fd=ne({},ws,{get(e,t){if(t!==Symbol.unscopables)return ws.get(e,t,e)},has(e,t){const n=t[0]!=="_"&&!Eu(t);return!n&&ws.has(e,t)&&S(`Property ${JSON.stringify(t)} should not start with _ which is a reserved prefix for Vue internals.`),n}});function Id(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Ht).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Ht[n](e),set:Ee})}),t}function Ld(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(s=>{Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>e.props[s],set:Ee})})}function Nd(e){const{ctx:t,setupState:n}=e;Object.keys(Z(n)).forEach(s=>{if(!n.__isScriptSetup){if($r(s[0])){S(`setup() return property ${JSON.stringify(s)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n[s],set:Ee})}})}function xl(e,t){for(const n in t){const s=e[n],i=t[n];n in e&&Us(s)&&Us(i)?(Ye("OPTIONS_DATA_MERGE",null,n),xl(s,i)):e[n]=i}return e}function Md(){const e=Object.create(null);return(t,n)=>{e[n]?S(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let jr=!0;function kd(e){const t=_s(e),n=e.proxy,s=e.ctx;jr=!1,t.beforeCreate&&Tl(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:u,mounted:d,beforeUpdate:y,updated:A,activated:C,deactivated:F,beforeDestroy:v,beforeUnmount:g,destroyed:E,unmounted:x,render:R,renderTracked:D,renderTriggered:P,errorCaptured:w,serverPrefetch:m,expose:_,inheritAttrs:b,components:N,directives:K,filters:B}=t,W=Md();{const[$]=e.propsOptions;if($)for(const z in $)W("Props",z)}if(c&&Sl(c,s,W,e.appContext.config.unwrapInjectedRef),o)for(const $ in o){const z=o[$];G(z)?(Object.defineProperty(s,$,{value:z.bind(n),configurable:!0,enumerable:!0,writable:!0}),W("Methods",$)):S(`Method "${$}" has type "${typeof z}" in the component definition. Did you reference the function correctly?`)}if(i){G(i)||S("The data option must be a function. Plain object usage is no longer supported.");const $=i.call(n,n);if(Qn($)&&S("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!ee($))S("data() should return an object.");else{e.data=vt($);for(const z in $)W("Data",z),$r(z[0])||Object.defineProperty(s,z,{configurable:!0,enumerable:!0,get:()=>$[z],set:Ee})}}if(jr=!0,r)for(const $ in r){const z=r[$],X=G(z)?z.bind(n,n):G(z.get)?z.get.bind(n,n):Ee;X===Ee&&S(`Computed property "${$}" has no getter.`);const ae=!G(z)&&G(z.set)?z.set.bind(n):()=>{S(`Write operation failed: computed property "${$}" is readonly.`)},Re=xi({get:X,set:ae});Object.defineProperty(s,$,{enumerable:!0,configurable:!0,get:()=>Re.value,set:qn=>Re.value=qn}),W("Computed",$)}if(a)for(const $ in a)Pl(a[$],s,n,$);if(l){const $=G(l)?l.call(n):l;Reflect.ownKeys($).forEach(z=>{ja(z,$[z])})}f&&Tl(f,e,"c");function I($,z){V(z)?z.forEach(X=>$(X.bind(n))):z&&$(z.bind(n))}if(I(Qa,u),I(ps,d),I(Za,y),I(ci,A),I(Ja,C),I(Xa,F),I(sl,w),I(nl,D),I(tl,P),I(bs,g),I(ys,x),I(el,m),v&&Ct("OPTIONS_BEFORE_DESTROY",e)&&I(bs,v),E&&Ct("OPTIONS_DESTROYED",e)&&I(ys,E),V(_))if(_.length){const $=e.exposed||(e.exposed={});_.forEach(z=>{Object.defineProperty($,z,{get:()=>n[z],set:X=>n[z]=X})})}else e.exposed||(e.exposed={});R&&e.render===Ee&&(e.render=R),b!=null&&(e.inheritAttrs=b),N&&(e.components=N),K&&(e.directives=K),B&&re("FILTERS",e)&&(e.filters=B)}function Sl(e,t,n=Ee,s=!1){V(e)&&(e=Br(e));for(const i in e){const r=e[i];let o;ee(r)?"default"in r?o=jt(r.from||i,r.default,!0):o=jt(r.from||i):o=jt(r),de(o)?s?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):(S(`injected property "${i}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),t[i]=o):t[i]=o,n("Inject",i)}}function Tl(e,t,n){Le(V(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Pl(e,t,n,s){const i=s.includes(".")?Ha(n,s):()=>n[s];if(ce(e)){const r=t[e];G(r)?hn(i,r):S(`Invalid watch handler specified by key "${e}"`,r)}else if(G(e))hn(i,e.bind(n));else if(ee(e))if(V(e))e.forEach(r=>Pl(r,t,n,s));else{const r=G(e.handler)?e.handler.bind(n):t[e.handler];G(r)?hn(i,r,e):S(`Invalid watch handler specified by key "${e.handler}"`,r)}else S(`Invalid watch option: "${s}"`,e)}function _s(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?re("PRIVATE_APIS",e)?(l=ne({},t),l.parent=e.parent&&e.parent.proxy,l.propsData=e.vnode.props):l=t:(l={},i.length&&i.forEach(c=>pn(l,c,o,!0)),pn(l,t,o)),ee(t)&&r.set(t,l),l}function pn(e,t,n,s=!1){G(t)&&(t=t.options);const{mixins:i,extends:r}=t;r&&pn(e,r,n,!0),i&&i.forEach(o=>pn(e,o,n,!0));for(const o in t)if(s&&o==="expose")S('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=bn[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const bn={data:Ol,props:Kt,emits:Kt,methods:Kt,computed:Kt,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Kt,directives:Kt,watch:Ud,provide:Ol,inject:Dd};bn.filters=Kt;function Ol(e,t){return t?e?function(){return(re("OPTIONS_DATA_MERGE",null)?xl:ne)(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function Dd(e,t){return Kt(Br(e),Br(t))}function Br(e){if(V(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Oe(e,t){return e?[...new Set([].concat(e,t))]:t}function Kt(e,t){return e?ne(ne(Object.create(null),e),t):t}function Ud(e,t){if(!e)return t;if(!t)return e;const n=ne(Object.create(null),e);for(const s in t)n[s]=Oe(e[s],t[s]);return n}function $d(e,t,n){return new Proxy({},{get(s,i){if(Ye("PROPS_DEFAULT_THIS",null,n),i==="$options")return _s(e);if(i in t)return t[i];const r=e.type.inject;if(r){if(V(r)){if(r.includes(i))return jt(i)}else if(i in r)return jt(i)}}})}function Rl(e,t){return!!(e==="is"||(e==="class"||e==="style")&&re("INSTANCE_ATTRS_CLASS_STYLE",t)||lt(e)&&re("INSTANCE_LISTENERS",t)||e.startsWith("routerView")||e==="registerRouteInstance")}function Vd(e,t,n,s=!1){const i={},r={};Vs(r,wi,1),e.propsDefaults=Object.create(null),Fl(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);kl(t||{},i,e),n?e.props=s?i:ha(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function jd(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function Bd(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=Z(i),[l]=e.propsOptions;let c=!1;if(!jd(e)&&(s||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let d=f[u];if(ti(e.emitsOptions,d))continue;const y=t[d];if(l)if(se(r,d))y!==r[d]&&(r[d]=y,c=!0);else{const A=Te(d);i[A]=Hr(l,a,A,y,e,!1)}else{if(lt(d)&&d.endsWith("Native"))d=d.slice(0,-6);else if(Rl(d,e))continue;y!==r[d]&&(r[d]=y,c=!0)}}}}else{Fl(e,t,i,r)&&(c=!0);let f;for(const u in a)(!t||!se(t,u)&&((f=Ae(u))===u||!se(t,f)))&&(l?n&&(n[u]!==void 0||n[f]!==void 0)&&(i[u]=Hr(l,a,u,void 0,e,!0)):delete i[u]);if(r!==a)for(const u in r)(!t||!se(t,u)&&!se(t,u+"Native"))&&(delete r[u],c=!0)}c&&dt(e,"set","$attrs"),kl(t||{},i,e)}function Fl(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Fn(l)||(l.startsWith("onHook:")&&Ct("INSTANCE_EVENT_HOOKS",e,l.slice(2).toLowerCase()),l==="inline-template"))continue;const c=t[l];let f;if(i&&se(i,f=Te(l)))!r||!r.includes(f)?n[f]=c:(a||(a={}))[f]=c;else if(!ti(e.emitsOptions,l)){if(lt(l)&&l.endsWith("Native"))l=l.slice(0,-6);else if(Rl(l,e))continue;(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}}if(r){const l=Z(n),c=a||oe;for(let f=0;f<r.length;f++){const u=r[f];n[u]=Hr(i,l,u,c[u],e,!se(c,u))}}return o}function Hr(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&G(l)){const{propsDefaults:c}=i;n in c?s=c[n]:(Xt(i),s=c[n]=l.call(re("PROPS_DEFAULT_THIS",i)?$d(i,t,n):null,t),zt())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Ae(n))&&(s=!0))}return s}function Il(e,t,n=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!G(e)){const f=u=>{G(u)&&(u=u.options),l=!0;const[d,y]=Il(u,t,!0);ne(o,d),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!l)return ee(e)&&s.set(e,Rn),Rn;if(V(r))for(let f=0;f<r.length;f++){ce(r[f])||S("props must be strings when using array syntax.",r[f]);const u=Te(r[f]);Ll(u)&&(o[u]=oe)}else if(r){ee(r)||S("invalid props options",r);for(const f in r){const u=Te(f);if(Ll(u)){const d=r[f],y=o[u]=V(d)||G(d)?{type:d}:Object.assign({},d);if(y){const A=Ml(Boolean,y.type),C=Ml(String,y.type);y[0]=A>-1,y[1]=C<0||A<C,(A>-1||se(y,"default"))&&a.push(u)}}}}const c=[o,a];return ee(e)&&s.set(e,c),c}function Ll(e){return e[0]!=="$"?!0:(S(`Invalid prop name: "${e}" is a reserved property.`),!1)}function Kr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Nl(e,t){return Kr(e)===Kr(t)}function Ml(e,t){return V(t)?t.findIndex(n=>Nl(n,e)):G(t)&&Nl(t,e)?0:-1}function kl(e,t,n){const s=Z(t),i=n.propsOptions[0];for(const r in i){let o=i[r];o!=null&&Hd(r,s[r],o,!se(e,r)&&!se(e,Ae(r)))}}function Hd(e,t,n,s){const{type:i,required:r,validator:o}=n;if(r&&s){S('Missing required prop: "'+e+'"');return}if(!(t==null&&!n.required)){if(i!=null&&i!==!0){let a=!1;const l=V(i)?i:[i],c=[];for(let f=0;f<l.length&&!a;f++){const{valid:u,expectedType:d}=Wd(t,l[f]);c.push(d||""),a=u}if(!a){S(Gd(e,t,c));return}}o&&!o(t)&&S('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Kd=Ze("String,Number,Boolean,Function,Symbol,BigInt");function Wd(e,t){let n;const s=Kr(t);if(Kd(s)){const i=typeof e;n=i===s.toLowerCase(),!n&&i==="object"&&(n=e instanceof t)}else s==="Object"?n=ee(e):s==="Array"?n=V(e):s==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:s}}function Gd(e,t,n){let s=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(Lt).join(" | ")}`;const i=n[0],r=Yi(t),o=Dl(t,i),a=Dl(t,r);return n.length===1&&Ul(i)&&!qd(i,r)&&(s+=` with value ${o}`),s+=`, got ${r} `,Ul(r)&&(s+=`with value ${a}.`),s}function Dl(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function Ul(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function qd(...e){return e.some(t=>t.toLowerCase()==="boolean")}const $l=e=>e[0]==="_"||e==="$stable",Wr=e=>V(e)?e.map(Ue):[Ue(e)],Yd=(e,t,n)=>{if(t._n)return t;const s=Sr((...i)=>(pe&&S(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Wr(t(...i))),n);return s._c=!1,s},Vl=(e,t,n)=>{const s=e._ctx;for(const i in e){if($l(i))continue;const r=e[i];if(G(r))t[i]=Yd(i,r,s);else if(r!=null){re("RENDER_FUNCTION",n)||S(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const o=Wr(r);t[i]=()=>o}}},jl=(e,t)=>{!Vn(e.vnode)&&!re("RENDER_FUNCTION",e)&&S("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Wr(t);e.slots.default=()=>n},Jd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Z(t),Vs(t,"_",n)):Vl(t,e.slots={},e)}else e.slots={},t&&jl(e,t);Vs(e.slots,wi,1)},Xd=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=oe;if(s.shapeFlag&32){const a=t._;a?Vt?ne(i,t):n&&a===1?r=!1:(ne(i,t),!n&&a===1&&delete i._):(r=!t.$stable,Vl(t,i,e)),o=t}else t&&(jl(e,t),o={default:1});if(r)for(const a in i)!$l(a)&&!(a in o)&&delete i[a]};function zd(e){const t={silent:"CONFIG_SILENT",devtools:"CONFIG_DEVTOOLS",ignoredElements:"CONFIG_IGNORED_ELEMENTS",keyCodes:"CONFIG_KEY_CODES",productionTip:"CONFIG_PRODUCTION_TIP"};Object.keys(t).forEach(n=>{let s=e[n];Object.defineProperty(e,n,{enumerable:!0,get(){return s},set(i){Gr||Ye(t[n],null),s=i}})})}function Qd(e){e.optionMergeStrategies=new Proxy({},{get(t,n){if(n in t)return t[n];if(n in bn&&Ct("CONFIG_OPTION_MERGE_STRATS",null))return bn[n]}})}let Gr=!1,Ne,yn;function Zd(e,t){Ne=t({});const n=yn=function l(c={}){return s(c,l)};function s(l={},c){Ce("GLOBAL_MOUNT",null);const{data:f}=l;f&&!G(f)&&Ct("OPTIONS_DATA_FN",null)&&(l.data=()=>f);const u=e(l);c!==n&&Bl(u,c);const d=u._createRoot(l);return l.el?d.$mount(l.el):d}n.version="2.6.14-compat:3.2.45",n.config=Ne.config,n.use=(l,...c)=>(l&&G(l.install)?l.install(n,...c):G(l)&&l(n,...c),n),n.mixin=l=>(Ne.mixin(l),n),n.component=(l,c)=>c?(Ne.component(l,c),n):Ne.component(l),n.directive=(l,c)=>c?(Ne.directive(l,c),n):Ne.directive(l),n.options={_base:n};let i=1;n.cid=i,n.nextTick=fn;const r=new WeakMap;function o(l={}){if(Ce("GLOBAL_EXTEND",null),G(l)&&(l=l.options),r.has(l))return r.get(l);const c=this;function f(d){return s(d?pn(ne({},f.options),d,bn):f.options,f)}f.super=c,f.prototype=Object.create(n.prototype),f.prototype.constructor=f;const u={};for(const d in c.options){const y=c.options[d];u[d]=V(y)?y.slice():ee(y)?ne(Object.create(null),y):y}return f.options=pn(u,l,bn),f.options._base=f,f.extend=o.bind(f),f.mixin=c.mixin,f.use=c.use,f.cid=++i,r.set(l,f),f}n.extend=o.bind(n),n.set=(l,c,f)=>{Ce("GLOBAL_SET",null),l[c]=f},n.delete=(l,c)=>{Ce("GLOBAL_DELETE",null),delete l[c]},n.observable=l=>(Ce("GLOBAL_OBSERVABLE",null),vt(l)),n.filter=(l,c)=>c?(Ne.filter(l,c),n):Ne.filter(l);const a={warn:S,extend:ne,mergeOptions:(l,c,f)=>pn(l,c,f?void 0:bn),defineReactive:ah};return Object.defineProperty(n,"util",{get(){return Ce("GLOBAL_PRIVATE_UTIL",null),a}}),n.configureCompat=Bf,n}function eh(e,t,n){th(e,t),Qd(e.config),Ne&&(ih(e,t,n),nh(e),sh(e),zd(e.config))}function th(e,t){t.filters={},e.filter=(n,s)=>(Ce("FILTERS",null),s?(t.filters[n]&&S(`Filter "${n}" has already been registered.`),t.filters[n]=s,e):t.filters[n])}function nh(e){Object.defineProperties(e,{prototype:{get(){return Ye("GLOBAL_PROTOTYPE",null),e.config.globalProperties}},nextTick:{value:fn},extend:{value:yn.extend},set:{value:yn.set},delete:{value:yn.delete},observable:{value:yn.observable},util:{get(){return yn.util}}})}function sh(e){e._context.mixins=[...Ne._context.mixins],["components","directives","filters"].forEach(t=>{e._context[t]=Object.create(Ne._context[t])}),Gr=!0;for(const t in Ne.config){if(t==="isNativeTag"||vn()&&(t==="isCustomElement"||t==="compilerOptions"))continue;const n=Ne.config[t];e.config[t]=ee(n)?Object.create(n):n,t==="ignoredElements"&&re("CONFIG_IGNORED_ELEMENTS",null)&&!vn()&&V(n)&&(e.config.compilerOptions.isCustomElement=s=>n.some(i=>ce(i)?i===s:i.test(s)))}Gr=!1,Bl(e,yn)}function Bl(e,t){const n=re("GLOBAL_PROTOTYPE",null);n&&(e.config.globalProperties=Object.create(t.prototype));let s=!1;const i=Object.getOwnPropertyDescriptors(t.prototype);for(const r in i)r!=="constructor"&&(s=!0,n&&Object.defineProperty(e.config.globalProperties,r,i[r]));s&&Ye("GLOBAL_PROTOTYPE",null)}function ih(e,t,n){let s=!1;e._createRoot=i=>{const r=e._component,o=le(r,i.propsData||null);o.appContext=t;const a=!G(r)&&!r.render&&!r.template,l=()=>{},c=eo(o,null,null);return a&&(c.render=l),no(c),o.component=c,o.isCompatRoot=!0,c.ctx._compat_mount=f=>{if(s){S("Root instance is already mounted.");return}let u;if(typeof f=="string"){const y=document.querySelector(f);if(!y){S(`Failed to mount root instance: selector "${f}" returned null.`);return}u=y}else u=f||document.createElement("div");const d=u instanceof SVGElement;if(t.reload=()=>{const y=De(o);y.component=null,n(y,u,d)},a&&c.render===l){for(let y=0;y<u.attributes.length;y++){const A=u.attributes[y];if(A.name!=="v-cloak"&&/^(v-|:|@)/.test(A.name)){Ye("GLOBAL_MOUNT_CONTAINER",null);break}}c.render=null,r.template=u.innerHTML,ro(c,!1,!0)}return u.innerHTML="",n(o,u,d),u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),s=!0,e._container=u,u.__vue_app__=e,Ca(e,Ti),c.proxy},c.ctx._compat_destroy=()=>{if(s)n(null,e._container),Ea(e),delete e._container.__vue_app__;else{const{bum:f,scope:u,um:d}=c;f&&ut(f),re("INSTANCE_EVENT_HOOKS",c)&&c.emit("hook:beforeDestroy"),u&&u.stop(),d&&ut(d),re("INSTANCE_EVENT_HOOKS",c)&&c.emit("hook:destroyed")}},c.proxy}}const rh=["push","pop","shift","unshift","splice","sort","reverse"],oh=new WeakSet;function ah(e,t,n){if(ee(n)&&!He(n)&&!oh.has(n)){const i=vt(n);V(n)?rh.forEach(r=>{n[r]=(...o)=>{Array.prototype[r].call(i,...o)}}):Object.keys(n).forEach(r=>{try{qr(n,r,n[r])}catch{}})}const s=e.$;s&&e===s.proxy?(qr(s.ctx,t,n),s.accessCache=Object.create(null)):He(e)?e[t]=n:qr(e,t,n)}function qr(e,t,n){n=ee(n)?vt(n):n,Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get(){return Ie(e,"get",t),n},set(s){n=ee(s)?vt(s):s,dt(e,"set",t,s)}})}function Hl(){return{app:null,config:{isNativeTag:$o,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lh=0;function ch(e,t){return function(s,i=null){G(s)||(s=Object.assign({},s)),i!=null&&!ee(i)&&(S("root props passed to app.mount() must be an object."),i=null);const r=Hl(),o=new Set;let a=!1;const l=r.app={_uid:lh++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Ti,get config(){return r.config},set config(c){S("app.config cannot be replaced. Modify individual options instead.")},use(c,...f){return o.has(c)?S("Plugin has already been applied to target app."):c&&G(c.install)?(o.add(c),c.install(l,...f)):G(c)?(o.add(c),c(l,...f)):S('A plugin must either be a function or an object with an "install" function.'),l},mixin(c){return r.mixins.includes(c)?S("Mixin has already been applied to target app"+(c.name?`: ${c.name}`:"")):r.mixins.push(c),l},component(c,f){return to(c,r.config),f?(r.components[c]&&S(`Component "${c}" has already been registered in target app.`),r.components[c]=f,l):r.components[c]},directive(c,f){return ol(c),f?(r.directives[c]&&S(`Directive "${c}" has already been registered in target app.`),r.directives[c]=f,l):r.directives[c]},mount(c,f,u){if(a)S("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{c.__vue_app__&&S("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=le(s,i);return d.appContext=r,r.reload=()=>{e(De(d),c,u)},f&&t?t(d,c):e(d,c,u),a=!0,l._container=c,c.__vue_app__=l,l._instance=d.component,Ca(l,Ti),Ei(d.component)||d.component.proxy}},unmount(){a?(e(null,l._container),l._instance=null,Ea(l),delete l._container.__vue_app__):S("Cannot unmount an app that is not mounted.")},provide(c,f){return c in r.provides&&S(`App already provides property with key "${String(c)}". It will be overwritten with the new value.`),r.provides[c]=f,l}};return eh(l,r,e),l}}function gi(e,t,n,s,i=!1){if(V(e)){e.forEach((d,y)=>gi(d,t&&(V(t)?t[y]:t),n,s,i));return}if(mn(s)&&!i)return;const r=s.shapeFlag&4?Ei(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=e;if(!a){S("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=t&&t.r,f=a.refs===oe?a.refs={}:a.refs,u=a.setupState;if(c!=null&&c!==l&&(ce(c)?(f[c]=null,se(u,c)&&(u[c]=null)):de(c)&&(c.value=null)),G(l))et(l,a,12,[o,f]);else{const d=ce(l),y=de(l);if(d||y){const A=()=>{if(e.f){const C=d?se(u,l)?u[l]:f[l]:l.value;i?V(C)&&qi(C,r):V(C)?C.includes(r)||C.push(r):d?(f[l]=[r],se(u,l)&&(u[l]=f[l])):(l.value=[r],e.k&&(f[e.k]=l.value))}else d?(f[l]=o,se(u,l)&&(u[l]=o)):y?(l.value=o,e.k&&(f[e.k]=o)):S("Invalid template ref type:",l,`(${typeof l})`)};o?(A.id=-1,me(A,n)):A()}else S("Invalid template ref type:",l,`(${typeof l})`)}}let Wt=!1;const mi=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",vs=e=>e.nodeType===8;function uh(e){const{mt:t,p:n,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(v,g)=>{if(!g.hasChildNodes()){S("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,v,g),Zs(),g._vnode=v;return}Wt=!1,u(g.firstChild,v,null,null,null),Zs(),g._vnode=v,Wt&&console.error("Hydration completed but contains mismatches.")},u=(v,g,E,x,R,D=!1)=>{const P=vs(v)&&v.data==="[",w=()=>C(v,g,E,x,R,P),{type:m,ref:_,shapeFlag:b,patchFlag:N}=g;let K=v.nodeType;g.el=v,N===-2&&(D=!1,g.dynamicChildren=null);let B=null;switch(m){case qt:K!==3?g.children===""?(l(g.el=i(""),o(v),v),B=v):B=w():(v.data!==g.children&&(Wt=!0,S(`Hydration text mismatch:
- Client: ${JSON.stringify(v.data)}
- Server: ${JSON.stringify(g.children)}`),v.data=g.children),B=r(v));break;case ge:K!==8||P?B=w():B=r(v);break;case Yt:if(P&&(v=r(v),K=v.nodeType),K===1||K===3){B=v;const W=!g.children.length;for(let I=0;I<g.staticCount;I++)W&&(g.children+=B.nodeType===1?B.outerHTML:B.data),I===g.staticCount-1&&(g.anchor=B),B=r(B);return P?r(B):B}else w();break;case we:P?B=A(v,g,E,x,R,D):B=w();break;default:if(b&1)K!==1||g.type.toLowerCase()!==v.tagName.toLowerCase()?B=w():B=d(v,g,E,x,R,D);else if(b&6){g.slotScopeIds=R;const W=o(v);if(t(g,W,null,E,x,mi(W),D),B=P?F(v):r(v),B&&vs(B)&&B.data==="teleport end"&&(B=r(B)),mn(g)){let I;P?(I=le(we),I.anchor=B?B.previousSibling:W.lastChild):I=v.nodeType===3?vi(""):le("div"),I.el=v,g.component.subTree=I}}else b&64?K!==8?B=w():B=g.type.hydrate(v,g,E,x,R,D,e,y):b&128?B=g.type.hydrate(v,g,E,x,mi(o(v)),R,D,e,u):S("Invalid HostVNode type:",m,`(${typeof m})`)}return _!=null&&gi(_,null,x,g),B},d=(v,g,E,x,R,D)=>{D=D||!!g.dynamicChildren;const{type:P,props:w,patchFlag:m,shapeFlag:_,dirs:b}=g,N=P==="input"&&b||P==="option";{if(b&&mt(g,null,E,"created"),w)if(N||!D||m&48)for(const B in w)(N&&B.endsWith("value")||lt(B)&&!Fn(B))&&s(v,B,null,w[B],!1,void 0,E);else w.onClick&&s(v,"onClick",null,w.onClick,!1,void 0,E);let K;if((K=w&&w.onVnodeBeforeMount)&&$e(K,E,g),b&&mt(g,null,E,"beforeMount"),((K=w&&w.onVnodeMounted)||b)&&Va(()=>{K&&$e(K,E,g),b&&mt(g,null,E,"mounted")},x),_&16&&!(w&&(w.innerHTML||w.textContent))){let B=y(v.firstChild,g,v,E,x,R,D),W=!1;for(;B;){Wt=!0,W||(S(`Hydration children mismatch in <${g.type}>: server rendered element contains more child nodes than client vdom.`),W=!0);const I=B;B=B.nextSibling,a(I)}}else _&8&&v.textContent!==g.children&&(Wt=!0,S(`Hydration text content mismatch in <${g.type}>:
- Client: ${v.textContent}
- Server: ${g.children}`),v.textContent=g.children)}return v.nextSibling},y=(v,g,E,x,R,D,P)=>{P=P||!!g.dynamicChildren;const w=g.children,m=w.length;let _=!1;for(let b=0;b<m;b++){const N=P?w[b]:w[b]=Ue(w[b]);if(v)v=u(v,N,x,R,D,P);else{if(N.type===qt&&!N.children)continue;Wt=!0,_||(S(`Hydration children mismatch in <${E.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`),_=!0),n(null,N,E,null,x,R,mi(E),D)}}return v},A=(v,g,E,x,R,D)=>{const{slotScopeIds:P}=g;P&&(R=R?R.concat(P):P);const w=o(v),m=y(r(v),g,w,E,x,R,D);return m&&vs(m)&&m.data==="]"?r(g.anchor=m):(Wt=!0,l(g.anchor=c("]"),w,m),m)},C=(v,g,E,x,R,D)=>{if(Wt=!0,S(`Hydration node mismatch:
- Client vnode:`,g.type,`
- Server rendered DOM:`,v,v.nodeType===3?"(text)":vs(v)&&v.data==="["?"(start of fragment)":""),g.el=null,D){const m=F(v);for(;;){const _=r(v);if(_&&_!==m)a(_);else break}}const P=r(v),w=o(v);return a(v),n(null,g,w,P,E,x,mi(w),R),P},F=v=>{let g=0;for(;v;)if(v=r(v),v&&vs(v)&&(v.data==="["&&g++,v.data==="]")){if(g===0)return r(v);g--}return v};return[f,u]}let As,Gt;function xt(e,t){e.appContext.config.performance&&pi()&&Gt.mark(`vue-${t}-${e.uid}`),$f(e,t,pi()?Gt.now():Date.now())}function St(e,t){if(e.appContext.config.performance&&pi()){const n=`vue-${t}-${e.uid}`,s=n+":end";Gt.mark(s),Gt.measure(`<${Ss(e,e.type)}> ${t}`,n,s),Gt.clearMarks(n),Gt.clearMarks(s)}Vf(e,t,pi()?Gt.now():Date.now())}function pi(){return As!==void 0||(typeof window<"u"&&window.performance?(As=!0,Gt=window.performance):As=!1),As}function fh(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const me=Va;function Kl(e){return Gl(e)}function Wl(e){return Gl(e,uh)}function Gl(e,t){fh();const n=Ho();n.__VUE__=!0,pr(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:u,nextSibling:d,setScopeId:y=Ee,insertStaticContent:A}=e,C=(h,p,T,L=null,O=null,U=null,H=!1,j=null,k=Vt?!1:!!p.dynamicChildren)=>{if(h===p)return;h&&!pt(h,p)&&(L=Gi(h),tn(h,O,U,!0),h=null),p.patchFlag===-2&&(k=!1,p.dynamicChildren=null);const{type:M,ref:Y,shapeFlag:q}=p;switch(M){case qt:F(h,p,T,L);break;case ge:v(h,p,T,L);break;case Yt:h==null?g(p,T,L,H):E(h,p,T,H);break;case we:K(h,p,T,L,O,U,H,j,k);break;default:q&1?D(h,p,T,L,O,U,H,j,k):q&6?B(h,p,T,L,O,U,H,j,k):q&64||q&128?M.process(h,p,T,L,O,U,H,j,k,Yn):S("Invalid VNode type:",M,`(${typeof M})`)}Y!=null&&O&&gi(Y,h&&h.ref,U,p||h,!p)},F=(h,p,T,L)=>{if(h==null)s(p.el=a(p.children),T,L);else{const O=p.el=h.el;p.children!==h.children&&c(O,p.children)}},v=(h,p,T,L)=>{h==null?s(p.el=l(p.children||""),T,L):p.el=h.el},g=(h,p,T,L)=>{[h.el,h.anchor]=A(h.children,p,T,L,h.el,h.anchor)},E=(h,p,T,L)=>{if(p.children!==h.children){const O=d(h.anchor);R(h),[p.el,p.anchor]=A(p.children,T,O,L)}else p.el=h.el,p.anchor=h.anchor},x=({el:h,anchor:p},T,L)=>{let O;for(;h&&h!==p;)O=d(h),s(h,T,L),h=O;s(p,T,L)},R=({el:h,anchor:p})=>{let T;for(;h&&h!==p;)T=d(h),i(h),h=T;i(p)},D=(h,p,T,L,O,U,H,j,k)=>{H=H||p.type==="svg",h==null?P(p,T,L,O,U,H,j,k):_(h,p,O,U,H,j,k)},P=(h,p,T,L,O,U,H,j)=>{let k,M;const{type:Y,props:q,shapeFlag:J,transition:te,dirs:ie}=h;if(k=h.el=o(h.type,U,q&&q.is,q),J&8?f(k,h.children):J&16&&m(h.children,k,null,L,O,U&&Y!=="foreignObject",H,j),ie&&mt(h,null,L,"created"),q){for(const ue in q)ue!=="value"&&!Fn(ue)&&r(k,ue,null,q[ue],U,h.children,L,O,Ft);"value"in q&&r(k,"value",null,q.value),(M=q.onVnodeBeforeMount)&&$e(M,L,h)}w(k,h,h.scopeId,H,L),Object.defineProperty(k,"__vnode",{value:h,enumerable:!1}),Object.defineProperty(k,"__vueParentComponent",{value:L,enumerable:!1}),ie&&mt(h,null,L,"beforeMount");const fe=(!O||O&&!O.pendingBranch)&&te&&!te.persisted;fe&&te.beforeEnter(k),s(k,p,T),((M=q&&q.onVnodeMounted)||fe||ie)&&me(()=>{M&&$e(M,L,h),fe&&te.enter(k),ie&&mt(h,null,L,"mounted")},O)},w=(h,p,T,L,O)=>{if(T&&y(h,T),L)for(let U=0;U<L.length;U++)y(h,L[U]);if(O){let U=O.subTree;if(U.patchFlag>0&&U.patchFlag&2048&&(U=Pr(U.children)||U),p===U){const H=O.vnode;w(h,H,H.scopeId,H.slotScopeIds,O.parent)}}},m=(h,p,T,L,O,U,H,j,k=0)=>{for(let M=k;M<h.length;M++){const Y=h[M]=j?Jt(h[M]):Ue(h[M]);C(null,Y,p,T,L,O,U,H,j)}},_=(h,p,T,L,O,U,H)=>{const j=p.el=h.el;let{patchFlag:k,dynamicChildren:M,dirs:Y}=p;k|=h.patchFlag&16;const q=h.props||oe,J=p.props||oe;let te;T&&wn(T,!1),(te=J.onVnodeBeforeUpdate)&&$e(te,T,p,h),Y&&mt(p,h,T,"beforeUpdate"),T&&wn(T,!0),Vt&&(k=0,H=!1,M=null);const ie=O&&p.type!=="foreignObject";if(M?(b(h.dynamicChildren,M,j,T,L,ie,U),T&&T.type.__hmrId&&Cs(h,p)):H||X(h,p,j,null,T,L,ie,U,!1),k>0){if(k&16)N(j,p,q,J,T,L,O);else if(k&2&&q.class!==J.class&&r(j,"class",null,J.class,O),k&4&&r(j,"style",q.style,J.style,O),k&8){const fe=p.dynamicProps;for(let ue=0;ue<fe.length;ue++){const be=fe[ue],at=q[be],Jn=J[be];(Jn!==at||be==="value")&&r(j,be,at,Jn,O,h.children,T,L,Ft)}}k&1&&h.children!==p.children&&f(j,p.children)}else!H&&M==null&&N(j,p,q,J,T,L,O);((te=J.onVnodeUpdated)||Y)&&me(()=>{te&&$e(te,T,p,h),Y&&mt(p,h,T,"updated")},L)},b=(h,p,T,L,O,U,H)=>{for(let j=0;j<p.length;j++){const k=h[j],M=p[j],Y=k.el&&(k.type===we||!pt(k,M)||k.shapeFlag&70)?u(k.el):T;C(k,M,Y,null,L,O,U,H,!0)}},N=(h,p,T,L,O,U,H)=>{if(T!==L){if(T!==oe)for(const j in T)!Fn(j)&&!(j in L)&&r(h,j,T[j],null,H,p.children,O,U,Ft);for(const j in L){if(Fn(j))continue;const k=L[j],M=T[j];k!==M&&j!=="value"&&r(h,j,M,k,H,p.children,O,U,Ft)}"value"in L&&r(h,"value",T.value,L.value)}},K=(h,p,T,L,O,U,H,j,k)=>{const M=p.el=h?h.el:a(""),Y=p.anchor=h?h.anchor:a("");let{patchFlag:q,dynamicChildren:J,slotScopeIds:te}=p;(Vt||q&2048)&&(q=0,k=!1,J=null),te&&(j=j?j.concat(te):te),h==null?(s(M,T,L),s(Y,T,L),m(p.children,T,Y,O,U,H,j,k)):q>0&&q&64&&J&&h.dynamicChildren?(b(h.dynamicChildren,J,T,O,U,H,j),O&&O.type.__hmrId?Cs(h,p):(p.key!=null||O&&p===O.subTree)&&Cs(h,p,!0)):X(h,p,T,Y,O,U,H,j,k)},B=(h,p,T,L,O,U,H,j,k)=>{p.slotScopeIds=j,h==null?p.shapeFlag&512?O.ctx.activate(p,T,L,H,k):W(p,T,L,O,U,H,k):I(h,p,k)},W=(h,p,T,L,O,U,H)=>{const j=h.isCompatRoot&&h.component,k=j||(h.component=eo(h,L,O));if(k.type.__hmrId&&Lf(k),Ln(h),xt(k,"mount"),Vn(h)&&(k.ctx.renderer=Yn),j||(xt(k,"init"),no(k),St(k,"init")),k.asyncDep){if(O&&O.registerDep(k,$),!h.el){const M=k.subTree=le(ge);v(null,M,p,T)}return}$(k,h,p,T,O,U,H),Nn(),St(k,"mount")},I=(h,p,T)=>{const L=p.component=h.component;if(ed(h,p,T))if(L.asyncDep&&!L.asyncResolved){Ln(p),z(L,p,T),Nn();return}else L.next=p,Ff(L.update),L.update();else p.el=h.el,L.vnode=p},$=(h,p,T,L,O,U,H)=>{const j=()=>{if(h.isMounted){let{next:Y,bu:q,u:J,parent:te,vnode:ie}=h,fe=Y,ue;Ln(Y||h.vnode),wn(h,!1),Y?(Y.el=ie.el,z(h,Y,H)):Y=ie,q&&ut(q),(ue=Y.props&&Y.props.onVnodeBeforeUpdate)&&$e(ue,te,Y,ie),re("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeUpdate"),wn(h,!0),xt(h,"render");const be=si(h);St(h,"render");const at=h.subTree;h.subTree=be,xt(h,"patch"),C(at,be,u(at.el),Gi(at),h,O,U),St(h,"patch"),Y.el=be.el,fe===null&&Or(h,be.el),J&&me(J,O),(ue=Y.props&&Y.props.onVnodeUpdated)&&me(()=>$e(ue,te,Y,ie),O),re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:updated"),O),xa(h),Nn()}else{let Y;const{el:q,props:J}=p,{bm:te,m:ie,parent:fe}=h,ue=mn(p);if(wn(h,!1),te&&ut(te),!ue&&(Y=J&&J.onVnodeBeforeMount)&&$e(Y,fe,p),re("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeMount"),wn(h,!0),q&&No){const be=()=>{xt(h,"render"),h.subTree=si(h),St(h,"render"),xt(h,"hydrate"),No(q,h.subTree,h,O,null),St(h,"hydrate")};ue?p.type.__asyncLoader().then(()=>!h.isUnmounted&&be()):be()}else{xt(h,"render");const be=h.subTree=si(h);St(h,"render"),xt(h,"patch"),C(null,be,T,L,h,O,U),St(h,"patch"),p.el=be.el}if(ie&&me(ie,O),!ue&&(Y=J&&J.onVnodeMounted)){const be=p;me(()=>$e(Y,fe,be),O)}re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:mounted"),O),(p.shapeFlag&256||fe&&mn(fe.vnode)&&fe.vnode.shapeFlag&256)&&(h.a&&me(h.a,O),re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:activated"),O)),h.isMounted=!0,br(h),p=T=L=null}},k=h.effect=new ts(j,()=>os(M),h.scope),M=h.update=()=>k.run();M.id=h.uid,wn(h,!0),k.onTrack=h.rtc?Y=>ut(h.rtc,Y):void 0,k.onTrigger=h.rtg?Y=>ut(h.rtg,Y):void 0,M.ownerInstance=h,M()},z=(h,p,T)=>{p.component=h;const L=h.vnode.props;h.vnode=p,h.next=null,Bd(h,p.props,L,T),Xd(h,p.children,T),on(),wa(),an()},X=(h,p,T,L,O,U,H,j,k=!1)=>{const M=h&&h.children,Y=h?h.shapeFlag:0,q=p.children,{patchFlag:J,shapeFlag:te}=p;if(J>0){if(J&128){Re(M,q,T,L,O,U,H,j,k);return}else if(J&256){ae(M,q,T,L,O,U,H,j,k);return}}te&8?(Y&16&&Ft(M,O,U),q!==M&&f(T,q)):Y&16?te&16?Re(M,q,T,L,O,U,H,j,k):Ft(M,O,U,!0):(Y&8&&f(T,""),te&16&&m(q,T,L,O,U,H,j,k))},ae=(h,p,T,L,O,U,H,j,k)=>{h=h||Rn,p=p||Rn;const M=h.length,Y=p.length,q=Math.min(M,Y);let J;for(J=0;J<q;J++){const te=p[J]=k?Jt(p[J]):Ue(p[J]);C(h[J],te,T,null,O,U,H,j,k)}M>Y?Ft(h,O,U,!0,!1,q):m(p,T,L,O,U,H,j,k,q)},Re=(h,p,T,L,O,U,H,j,k)=>{let M=0;const Y=p.length;let q=h.length-1,J=Y-1;for(;M<=q&&M<=J;){const te=h[M],ie=p[M]=k?Jt(p[M]):Ue(p[M]);if(pt(te,ie))C(te,ie,T,null,O,U,H,j,k);else break;M++}for(;M<=q&&M<=J;){const te=h[q],ie=p[J]=k?Jt(p[J]):Ue(p[J]);if(pt(te,ie))C(te,ie,T,null,O,U,H,j,k);else break;q--,J--}if(M>q){if(M<=J){const te=J+1,ie=te<Y?p[te].el:L;for(;M<=J;)C(null,p[M]=k?Jt(p[M]):Ue(p[M]),T,ie,O,U,H,j,k),M++}}else if(M>J)for(;M<=q;)tn(h[M],O,U,!0),M++;else{const te=M,ie=M,fe=new Map;for(M=ie;M<=J;M++){const Fe=p[M]=k?Jt(p[M]):Ue(p[M]);Fe.key!=null&&(fe.has(Fe.key)&&S("Duplicate keys found during update:",JSON.stringify(Fe.key),"Make sure keys are unique."),fe.set(Fe.key,M))}let ue,be=0;const at=J-ie+1;let Jn=!1,vu=0;const ks=new Array(at);for(M=0;M<at;M++)ks[M]=0;for(M=te;M<=q;M++){const Fe=h[M];if(be>=at){tn(Fe,O,U,!0);continue}let wt;if(Fe.key!=null)wt=fe.get(Fe.key);else for(ue=ie;ue<=J;ue++)if(ks[ue-ie]===0&&pt(Fe,p[ue])){wt=ue;break}wt===void 0?tn(Fe,O,U,!0):(ks[wt-ie]=M+1,wt>=vu?vu=wt:Jn=!0,C(Fe,p[wt],T,null,O,U,H,j,k),be++)}const Au=Jn?dh(ks):Rn;for(ue=Au.length-1,M=at-1;M>=0;M--){const Fe=ie+M,wt=p[Fe],Cu=Fe+1<Y?p[Fe+1].el:L;ks[M]===0?C(null,wt,T,Cu,O,U,H,j,k):Jn&&(ue<0||M!==Au[ue]?qn(wt,T,Cu,2):ue--)}}},qn=(h,p,T,L,O=null)=>{const{el:U,type:H,transition:j,children:k,shapeFlag:M}=h;if(M&6){qn(h.component.subTree,p,T,L);return}if(M&128){h.suspense.move(p,T,L);return}if(M&64){H.move(h,p,T,Yn);return}if(H===we){s(U,p,T);for(let q=0;q<k.length;q++)qn(k[q],p,T,L);s(h.anchor,p,T);return}if(H===Yt){x(h,p,T);return}if(L!==2&&M&1&&j)if(L===0)j.beforeEnter(U),s(U,p,T),me(()=>j.enter(U),O);else{const{leave:q,delayLeave:J,afterLeave:te}=j,ie=()=>s(U,p,T),fe=()=>{q(U,()=>{ie(),te&&te()})};J?J(U,ie,fe):fe()}else s(U,p,T)},tn=(h,p,T,L=!1,O=!1)=>{const{type:U,props:H,ref:j,children:k,dynamicChildren:M,shapeFlag:Y,patchFlag:q,dirs:J}=h;if(j!=null&&gi(j,null,T,h,!0),Y&256){p.ctx.deactivate(h);return}const te=Y&1&&J,ie=!mn(h);let fe;if(ie&&(fe=H&&H.onVnodeBeforeUnmount)&&$e(fe,p,h),Y&6)Rm(h.component,T,L);else{if(Y&128){h.suspense.unmount(T,L);return}te&&mt(h,null,p,"beforeUnmount"),Y&64?h.type.remove(h,p,T,O,Yn,L):M&&(U!==we||q>0&&q&64)?Ft(M,p,T,!1,!0):(U===we&&q&384||!O&&Y&16)&&Ft(k,p,T),L&&Io(h)}(ie&&(fe=H&&H.onVnodeUnmounted)||te)&&me(()=>{fe&&$e(fe,p,h),te&&mt(h,null,p,"unmounted")},T)},Io=h=>{const{type:p,el:T,anchor:L,transition:O}=h;if(p===we){h.patchFlag>0&&h.patchFlag&2048&&O&&!O.persisted?h.children.forEach(H=>{H.type===ge?i(H.el):Io(H)}):Om(T,L);return}if(p===Yt){R(h);return}const U=()=>{i(T),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(h.shapeFlag&1&&O&&!O.persisted){const{leave:H,delayLeave:j}=O,k=()=>H(T,U);j?j(h.el,U,k):k()}else U()},Om=(h,p)=>{let T;for(;h!==p;)T=d(h),i(h),h=T;i(p)},Rm=(h,p,T)=>{h.type.__hmrId&&Nf(h);const{bum:L,scope:O,update:U,subTree:H,um:j}=h;L&&ut(L),re("INSTANCE_EVENT_HOOKS",h)&&h.emit("hook:beforeDestroy"),O.stop(),U&&(U.active=!1,tn(H,h,p,T)),j&&me(j,p),re("INSTANCE_EVENT_HOOKS",h)&&me(()=>h.emit("hook:destroyed"),p),me(()=>{h.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve()),Uf(h)},Ft=(h,p,T,L=!1,O=!1,U=0)=>{for(let H=U;H<h.length;H++)tn(h[H],p,T,L,O)},Gi=h=>h.shapeFlag&6?Gi(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el),_u=(h,p,T)=>{h==null?p._vnode&&tn(p._vnode,null,null,!0):C(p._vnode||null,h,p,null,null,null,T),wa(),Zs(),p._vnode=h},Yn={p:C,um:tn,m:qn,r:Io,mt:W,mc:m,pc:X,pbc:b,n:Gi,o:e};let Lo,No;return t&&([Lo,No]=t(Yn)),{render:_u,hydrate:Lo,createApp:ch(_u,Lo)}}function wn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Cs(e,t,n=!1){const s=e.children,i=t.children;if(V(s)&&V(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Jt(i[r]),a.el=o.el),n||Cs(o,a)),a.type===qt&&(a.el=o.el),a.type===ge&&!a.el&&(a.el=o.el)}}function dh(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const hh=e=>e.__isTeleport,jn=e=>e&&(e.disabled||e.disabled===""),ql=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Yr=(e,t)=>{const n=e&&e.to;if(ce(n))if(t){const s=t(n);return s||S(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),s}else return S("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!jn(e)&&S(`Invalid Teleport target: ${n}`),n},gh={__isTeleport:!0,process(e,t,n,s,i,r,o,a,l,c){const{mc:f,pc:u,pbc:d,o:{insert:y,querySelector:A,createText:C,createComment:F}}=c,v=jn(t.props);let{shapeFlag:g,children:E,dynamicChildren:x}=t;if(Vt&&(l=!1,x=null),e==null){const R=t.el=F("teleport start"),D=t.anchor=F("teleport end");y(R,n,s),y(D,n,s);const P=t.target=Yr(t.props,A),w=t.targetAnchor=C("");P?(y(w,P),o=o||ql(P)):v||S("Invalid Teleport target on mount:",P,`(${typeof P})`);const m=(_,b)=>{g&16&&f(E,_,b,i,r,o,a,l)};v?m(n,D):P&&m(P,w)}else{t.el=e.el;const R=t.anchor=e.anchor,D=t.target=e.target,P=t.targetAnchor=e.targetAnchor,w=jn(e.props),m=w?n:D,_=w?R:P;if(o=o||ql(D),x?(d(e.dynamicChildren,x,m,i,r,o,a),Cs(e,t,!0)):l||u(e,t,m,_,i,r,o,a,!1),v)w||bi(t,n,R,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const b=t.target=Yr(t.props,A);b?bi(t,b,null,c,0):S("Invalid Teleport target on update:",D,`(${typeof D})`)}else w&&bi(t,D,P,c,1)}Yl(t)},remove(e,t,n,s,{um:i,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:f,target:u,props:d}=e;if(u&&r(f),(o||!jn(d))&&(r(c),a&16))for(let y=0;y<l.length;y++){const A=l[y];i(A,t,n,!0,!!A.dynamicChildren)}},move:bi,hydrate:mh};function bi(e,t,n,{o:{insert:s},m:i},r=2){r===0&&s(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,u=r===2;if(u&&s(o,t,n),(!u||jn(f))&&l&16)for(let d=0;d<c.length;d++)i(c[d],t,n,2);u&&s(a,t,n)}function mh(e,t,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const f=t.target=Yr(t.props,l);if(f){const u=f._lpa||f.firstChild;if(t.shapeFlag&16)if(jn(t.props))t.anchor=c(o(e),t,a(e),n,s,i,r),t.targetAnchor=u;else{t.anchor=o(e);let d=u;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(u,t,f,n,s,i,r)}Yl(t)}return t.anchor&&o(t.anchor)}const ph=gh;function Yl(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Jr=new Map;function bh(e){if(Jr.has(e))return Jr.get(e);let t,n;const s=new Promise((o,a)=>{t=o,n=a}),i=e(t,n);let r;return Qn(i)?r=ai(()=>i):ee(i)&&!ke(i)&&!V(i)?r=ai({loader:()=>i.component,loadingComponent:i.loading,errorComponent:i.error,delay:i.delay,timeout:i.timeout}):i==null?r=ai(()=>s):r=e,Jr.set(e,r),r}function yh(e,t){return e.__isBuiltIn?e:(G(e)&&e.cid&&(e=e.options),G(e)&&ei("COMPONENT_ASYNC",t,e)?bh(e):ee(e)&&e.functional&&Ct("COMPONENT_FUNCTIONAL",t,e)?wd(e):e)}const we=Symbol("Fragment"),qt=Symbol("Text"),ge=Symbol("Comment"),Yt=Symbol("Static"),Es=[];let Me=null;function yi(e=!1){Es.push(Me=e?null:[])}function Jl(){Es.pop(),Me=Es[Es.length-1]||null}let _n=1;function Xr(e){_n+=e}function Xl(e){return e.dynamicChildren=_n>0?Me||Rn:null,Jl(),_n>0&&Me&&Me.push(e),e}function wh(e,t,n,s,i,r){return Xl(Zr(e,t,n,s,i,r,!0))}function zr(e,t,n,s,i){return Xl(le(e,t,n,s,i,!0))}function ke(e){return e?e.__v_isVNode===!0:!1}function pt(e,t){return t.shapeFlag&6&&kn.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}let Qr;function _h(e){Qr=e}const vh=(...e)=>Ah(...Qr?Qr(e,he):e),wi="__vInternal",zl=({key:e})=>e??null,_i=({ref:e,ref_key:t,ref_for:n})=>e!=null?ce(e)||de(e)||G(e)?{i:he,r:e,k:t,f:!!n}:e:null;function Zr(e,t=null,n=null,s=0,i=null,r=e===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&zl(t),ref:t&&_i(t),scopeId:Dn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:he};return a?(Ai(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=ce(n)?8:16),l.key!==l.key&&S("VNode created with invalid key (NaN). VNode type:",l.type),_n>0&&!o&&Me&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Me.push(l),Wf(l),ml(l),l}const le=vh;function Ah(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===ll)&&(e||S(`Invalid vnode type when creating vnode: ${e}.`),e=ge),ke(e)){const a=De(e,t,!0);return n&&Ai(a,n),_n>0&&!r&&Me&&(a.shapeFlag&6?Me[Me.indexOf(e)]=a:Me.push(a)),a.patchFlag|=-2,a}if(sc(e)&&(e=e.__vccOpts),e=yh(e,he),t){t=Ql(t);let{class:a,style:l}=t;a&&!ce(a)&&(t.class=It(a)),ee(l)&&(ns(l)&&!V(l)&&(l=ne({},l)),t.style=On(l))}const o=ce(e)?1:Da(e)?128:hh(e)?64:ee(e)?4:G(e)?2:0;return o&4&&ns(e)&&(e=Z(e),S("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),Zr(e,t,n,s,i,o,r,!0)}function Ql(e){return e?ns(e)||wi in e?ne({},e):e:null}function De(e,t,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=e,a=t?Ci(s||{},t):s,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&zl(a),ref:t&&t.ref?n&&i?V(i)?i.concat(_i(t)):[i,_i(t)]:_i(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r===-1&&V(o)?o.map(Zl):o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&De(e.ssContent),ssFallback:e.ssFallback&&De(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx};return ml(l),l}function Zl(e){const t=De(e);return V(e.children)&&(t.children=e.children.map(Zl)),t}function vi(e=" ",t=0){return le(qt,null,e,t)}function Ch(e,t){const n=le(Yt,null,e);return n.staticCount=t,n}function ec(e="",t=!1){return t?(yi(),zr(ge,null,e)):le(ge,null,e)}function Ue(e){return e==null||typeof e=="boolean"?le(ge):V(e)?le(we,null,e.slice()):typeof e=="object"?Jt(e):le(qt,null,String(e))}function Jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:De(e)}function Ai(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(V(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Ai(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(wi in t)?t._ctx=he:i===3&&he&&(he.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:he},n=32):(t=String(t),s&64?(n=16,t=[vi(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ci(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=It([t.class,s.class]));else if(i==="style")t.style=On([t.style,s.style]);else if(lt(i)){const r=t[i],o=s[i];o&&r!==o&&!(V(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function $e(e,t,n,s=null){Le(e,t,7,[n,s])}const Eh=Hl();let xh=0;function eo(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||Eh,r={uid:xh++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Il(s,i),emitsOptions:Na(s,i),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:s.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx=Id(r),r.root=t?t.root:r,r.emit=qf.bind(null,r),e.ce&&e.ce(r),r}let pe=null;const Xe=()=>pe||he,Xt=e=>{pe=e,e.scope.on()},zt=()=>{pe&&pe.scope.off(),pe=null},Sh=Ze("slot,component");function to(e,t){const n=t.isNativeTag||$o;(Sh(e)||n(e))&&S("Do not use built-in or reserved HTML elements as component id: "+e)}function tc(e){return e.vnode.shapeFlag&4}let Bn=!1;function no(e,t=!1){Bn=t;const{props:n,children:s}=e.vnode,i=tc(e);Vd(e,n,i,t),Jd(e,s);const r=i?Th(e,t):void 0;return Bn=!1,r}function Th(e,t){var n;const s=e.type;{if(s.name&&to(s.name,e.appContext.config),s.components){const r=Object.keys(s.components);for(let o=0;o<r.length;o++)to(r[o],e.appContext.config)}if(s.directives){const r=Object.keys(s.directives);for(let o=0;o<r.length;o++)ol(r[o])}s.compilerOptions&&vn()&&S('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=qe(new Proxy(e.ctx,ws)),Ld(e);const{setup:i}=s;if(i){const r=e.setupContext=i.length>1?nc(e):null;Xt(e),on();const o=et(i,e,0,[Dt(e.props),r]);if(an(),zt(),Qn(o)){if(o.then(zt,zt),t)return o.then(a=>{so(e,a,t)}).catch(a=>{un(a,e,0)});if(e.asyncDep=o,!e.suspense){const a=(n=s.name)!==null&&n!==void 0?n:"Anonymous";S(`Component <${a}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else so(e,o,t)}else ro(e,t)}function so(e,t,n){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ee(t)?(ke(t)&&S("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=lr(t),Nd(e)):t!==void 0&&S(`setup() should return an object. Received: ${t===null?"null":typeof t}`),ro(e,n)}let xs,io;function Ph(e){xs=e,io=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Fd))}}const vn=()=>!xs;function ro(e,t,n){const s=e.type;if(pd(e),s.compatConfig&&Fa(s.compatConfig),!e.render){if(!t&&xs&&!s.render){const i=e.vnode.props&&e.vnode.props["inline-template"]||s.template||_s(e).template;if(i){xt(e,"compile");const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=ne(ne({isCustomElement:r,delimiters:a},o),l);c.compatConfig=Object.create(_r),s.compatConfig&&ne(c.compatConfig,s.compatConfig),s.render=xs(i,c),St(e,"compile")}}e.render=s.render||Ee,io&&io(e)}n||(Xt(e),on(),kd(e),an(),zt()),!s.render&&e.render===Ee&&!t&&(!xs&&s.template?S('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):S("Component is missing template or render function."))}function Oh(e){return new Proxy(e.attrs,{get(t,n){return ni(),Ie(e,"get","$attrs"),t[n]},set(){return S("setupContext.attrs is readonly."),!1},deleteProperty(){return S("setupContext.attrs is readonly."),!1}})}function nc(e){const t=s=>{e.exposed&&S("expose() should be called only once per setup()."),e.exposed=s||{}};let n;return Object.freeze({get attrs(){return n||(n=Oh(e))},get slots(){return Dt(e.slots)},get emit(){return(s,...i)=>e.emit(s,...i)},expose:t})}function Ei(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(lr(qe(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ht)return Ht[n](e)},has(t,n){return n in t||n in Ht}}))}const Rh=/(?:^|[-_])(\w)/g,Fh=e=>e.replace(Rh,t=>t.toUpperCase()).replace(/[-_]/g,"");function Qt(e,t=!0){return G(e)?e.displayName||e.name:e.name||t&&e.__name}function Ss(e,t,n=!1){let s=Qt(t);if(!s&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(s=i[1])}if(!s&&e&&e.parent){const i=r=>{for(const o in r)if(r[o]===t)return o};s=i(e.components||e.parent.type.components)||i(e.appContext.components)}return s?Fh(s):n?"App":"Anonymous"}function sc(e){return G(e)&&"__vccOpts"in e}const xi=(e,t)=>Cf(e,t,Bn),Si=e=>S(`${e}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`);function Ih(){return Si("defineProps"),null}function Lh(){return Si("defineEmits"),null}function Nh(e){Si("defineExpose")}function Mh(e,t){return Si("withDefaults"),null}function kh(){return ic().slots}function Dh(){return ic().attrs}function ic(){const e=Xe();return e||S("useContext() called without active instance."),e.setupContext||(e.setupContext=nc(e))}function Uh(e,t){const n=V(e)?e.reduce((s,i)=>(s[i]={},s),{}):e;for(const s in t){const i=n[s];i?V(i)||G(i)?n[s]={type:i,default:t[s]}:i.default=t[s]:i===null?n[s]={default:t[s]}:S(`props default key "${s}" has no corresponding declaration.`)}return n}function $h(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function Vh(e){const t=Xe();t||S("withAsyncContext called without active current instance. This is likely a bug.");let n=e();return zt(),Qn(n)&&(n=n.catch(s=>{throw Xt(t),s})),[n,()=>Xt(t)]}function rc(e,t,n){const s=arguments.length;return s===2?ee(t)&&!V(t)?ke(t)?le(e,null,[t]):le(e,t):le(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ke(n)&&(n=[n]),le(e,t,n))}const oc=Symbol("ssrContext"),ac=()=>{{const e=jt(oc);return e||S("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function lc(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},n={style:"color:#b62e24"},s={style:"color:#9d288c"},i={header(u){return ee(u)?u.__isVue?["div",e,"VueInstance"]:de(u)?["div",{},["span",e,f(u)],"<",a(u.value),">"]:He(u)?["div",{},["span",e,Ut(u)?"ShallowReactive":"Reactive"],"<",a(u),`>${At(u)?" (readonly)":""}`]:At(u)?["div",{},["span",e,Ut(u)?"ShallowReadonly":"Readonly"],"<",a(u),">"]:null:null},hasBody(u){return u&&u.__isVue},body(u){if(u&&u.__isVue)return["div",{},...r(u.$)]}};function r(u){const d=[];u.type.props&&u.props&&d.push(o("props",Z(u.props))),u.setupState!==oe&&d.push(o("setup",u.setupState)),u.data!==oe&&d.push(o("data",Z(u.data)));const y=l(u,"computed");y&&d.push(o("computed",y));const A=l(u,"inject");return A&&d.push(o("injected",A)),d.push(["div",{},["span",{style:s.style+";opacity:0.66"},"$ (internal): "],["object",{object:u}]]),d}function o(u,d){return d=ne({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},u],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(y=>["div",{},["span",s,y+": "],a(d[y],!1)])]]:["span",{}]}function a(u,d=!0){return typeof u=="number"?["span",t,u]:typeof u=="string"?["span",n,JSON.stringify(u)]:typeof u=="boolean"?["span",s,u]:ee(u)?["object",{object:d?Z(u):u}]:["span",n,String(u)]}function l(u,d){const y=u.type;if(G(y))return;const A={};for(const C in u.ctx)c(y,C,d)&&(A[C]=u.ctx[C]);return A}function c(u,d,y){const A=u[y];if(V(A)&&A.includes(d)||ee(A)&&d in A||u.extends&&c(u.extends,d,y)||u.mixins&&u.mixins.some(C=>c(C,d,y)))return!0}function f(u){return Ut(u)?"ShallowRef":u.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}function jh(e,t,n,s){const i=n[s];if(i&&cc(i,e))return i;const r=t();return r.memo=e.slice(),n[s]=r}function cc(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(In(n[s],t[s]))return!1;return _n>0&&Me&&Me.push(e),!0}const Ti="3.2.45",Bh={createComponentInstance:eo,setupComponent:no,renderComponentRoot:si,setCurrentRenderingInstance:ds,isVNode:ke,normalizeVNode:Ue},Hh=fl,Ke={warnDeprecation:Ye,createCompatVue:Zd,isCompatEnabled:re,checkCompatEnabled:ei,softAssertCompatEnabled:Ct},Kh="http://www.w3.org/2000/svg",An=typeof document<"u"?document:null,uc=An&&An.createElement("template"),Wh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t?An.createElementNS(Kh,e):An.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>An.createTextNode(e),createComment:e=>An.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>An.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{uc.innerHTML=s?`<svg>${e}</svg>`:e;const a=uc.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Gh(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function qh(e,t,n){const s=e.style,i=ce(n);if(n&&!i){for(const r in n)oo(s,r,n[r]);if(t&&!ce(t))for(const r in t)n[r]==null&&oo(s,r,"")}else{const r=s.display;i?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=r)}}const Yh=/[^\\];\s*$/,fc=/\s*!important$/;function oo(e,t,n){if(V(n))n.forEach(s=>oo(e,t,s));else if(n==null&&(n=""),Yh.test(n)&&S(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const s=Jh(e,t);fc.test(n)?e.setProperty(Ae(s),n.replace(fc,""),"important"):e[s]=n}}const dc=["Webkit","Moz","ms"],ao={};function Jh(e,t){const n=ao[t];if(n)return n;let s=Te(t);if(s!=="filter"&&s in e)return ao[t]=s;s=Lt(s);for(let i=0;i<dc.length;i++){const r=dc[i]+s;if(r in e)return ao[t]=r}return t}const hc="http://www.w3.org/1999/xlink";function Xh(e,t,n,s,i){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(hc,t.slice(6,t.length)):e.setAttributeNS(hc,t,n);else{if(Qh(e,t,n,i))return;const r=Mo(t);n==null||r&&!ko(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}const zh=Ze("contenteditable,draggable,spellcheck");function Qh(e,t,n,s=null){if(zh(t)){const i=n===null?"false":typeof n!="boolean"&&n!==void 0?"true":null;if(i&&Ke.softAssertCompatEnabled("ATTR_ENUMERATED_COERCION",s,t,n,i))return e.setAttribute(t,i),!0}else if(n===!1&&!Mo(t)&&Ke.softAssertCompatEnabled("ATTR_FALSE_VALUE",s,t))return e.removeAttribute(t),!0;return!1}function Zh(e,t,n,s,i,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,i,r),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=ko(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}else if(n===!1&&Ke.isCompatEnabled("ATTR_FALSE_VALUE",i)){const l=typeof e[t];(l==="string"||l==="number")&&(Ke.warnDeprecation("ATTR_FALSE_VALUE",i,t),n=l==="number"?0:"",a=!0)}try{e[t]=n}catch(l){a||S(`Failed setting prop "${t}" on <${e.tagName.toLowerCase()}>: value ${n} is invalid.`,l)}a&&e.removeAttribute(t)}function Tt(e,t,n,s){e.addEventListener(t,n,s)}function eg(e,t,n,s){e.removeEventListener(t,n,s)}function tg(e,t,n,s,i=null){const r=e._vei||(e._vei={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=ng(t);if(s){const c=r[t]=rg(s,i);Tt(e,a,c,l)}else o&&(eg(e,a,o,l),r[t]=void 0)}}const gc=/(?:Once|Passive|Capture)$/;function ng(e){let t;if(gc.test(e)){t={};let s;for(;s=e.match(gc);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ae(e.slice(2)),t]}let lo=0;const sg=Promise.resolve(),ig=()=>lo||(sg.then(()=>lo=0),lo=Date.now());function rg(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Le(og(s,n.value),t,5,[s])};return n.value=e,n.attached=ig(),n}function og(e,t){if(V(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const mc=/^on[a-z]/,ag=(e,t,n,s,i=!1,r,o,a,l)=>{t==="class"?Gh(e,s,i):t==="style"?qh(e,n,s):lt(t)?Ds(t)||tg(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lg(e,t,s,i))?Zh(e,t,s,r,o,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Xh(e,t,s,i,o))};function lg(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&mc.test(t)&&G(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||mc.test(t)&&ce(n)?!1:t in e}function pc(e,t){const n=oi(e);class s extends Pi{constructor(r){super(n,r,t)}}return s.def=n,s}const cg=e=>pc(e,Vc),ug=typeof HTMLElement<"u"?HTMLElement:class{};class Pi extends ug{constructor(t,n={},s){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.shadowRoot&&S("Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use `defineSSRCustomElement`."),this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,fn(()=>{this._connected||(bo(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const i of s)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(s,i=!1)=>{const{props:r,styles:o}=s;let a;if(r&&!V(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=ft(this._props[l])),(a||(a=Object.create(null)))[Te(l)]=!0)}this._numberProps=a,i&&this._resolveProps(s),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=V(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of s.map(Te))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(r){this._setProp(i,r)}})}_setAttr(t){let n=this.getAttribute(t);const s=Te(t);this._numberProps&&this._numberProps[s]&&(n=ft(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Ae(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ae(t),n+""):n||this.removeAttribute(Ae(t))))}_update(){bo(this._createVNode(),this.shadowRoot)}_createVNode(){const t=le(this._def,ne({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.ceReload=r=>{this._styles&&(this._styles.forEach(o=>this.shadowRoot.removeChild(o)),this._styles.length=0),this._applyStyles(r),this._instance=null,this._update()};const s=(r,o)=>{this.dispatchEvent(new CustomEvent(r,{detail:o}))};n.emit=(r,...o)=>{s(r,o),Ae(r)!==r&&s(Ae(r),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Pi){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s),(this._styles||(this._styles=[])).push(s)})}}function fg(e="$style"){{const t=Xe();if(!t)return S("useCssModule must be called inside setup()"),oe;const n=t.type.__cssModules;if(!n)return S("Current instance does not have CSS modules injected."),oe;const s=n[e];return s||(S(`Current instance does not have CSS module named "${e}".`),oe)}}function dg(e){const t=Xe();if(!t){S("useCssVars is called without current active component instance.");return}const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>uo(r,i))},s=()=>{const i=e(t.proxy);co(t.subTree,i),n(i)};Ba(s),ps(()=>{const i=new MutationObserver(s);i.observe(t.subTree.el.parentNode,{childList:!0}),ys(()=>i.disconnect())})}function co(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{co(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)uo(e.el,t);else if(e.type===we)e.children.forEach(n=>co(n,t));else if(e.type===Yt){let{el:n,anchor:s}=e;for(;n&&(uo(n,t),n!==s);)n=n.nextSibling}}function uo(e,t){if(e.nodeType===1){const n=e.style;for(const s in t)n.setProperty(`--${s}`,t[s])}}const Zt="transition",Ts="animation",Ps=(e,{slots:t})=>rc(Ir,wc(e),t);Ps.displayName="Transition",Ps.__isBuiltIn=!0;const bc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hg=Ps.props=ne({},Ir.props,bc),Cn=(e,t=[])=>{V(e)?e.forEach(n=>n(...t)):e&&e(...t)},yc=e=>e?V(e)?e.some(t=>t.length>1):e.length>1:!1;function wc(e){const t={};for(const I in e)I in bc||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,A=Ke.isCompatEnabled("TRANSITION_CLASSES",null);let C,F,v;if(A){const I=$=>$.replace(/-from$/,"");e.enterFromClass||(C=I(r)),e.appearFromClass||(F=I(l)),e.leaveFromClass||(v=I(u))}const g=gg(i),E=g&&g[0],x=g&&g[1],{onBeforeEnter:R,onEnter:D,onEnterCancelled:P,onLeave:w,onLeaveCancelled:m,onBeforeAppear:_=R,onAppear:b=D,onAppearCancelled:N=P}=t,K=(I,$,z)=>{bt(I,$?f:a),bt(I,$?c:o),z&&z()},B=(I,$)=>{I._isLeaving=!1,bt(I,u),bt(I,y),bt(I,d),$&&$()},W=I=>($,z)=>{const X=I?b:D,ae=()=>K($,I,z);Cn(X,[$,ae]),_c(()=>{bt($,I?l:r),A&&bt($,I?F:C),ze($,I?f:a),yc(X)||vc($,s,E,ae)})};return ne(t,{onBeforeEnter(I){Cn(R,[I]),ze(I,r),A&&ze(I,C),ze(I,o)},onBeforeAppear(I){Cn(_,[I]),ze(I,l),A&&ze(I,F),ze(I,c)},onEnter:W(!1),onAppear:W(!0),onLeave(I,$){I._isLeaving=!0;const z=()=>B(I,$);ze(I,u),A&&ze(I,v),xc(),ze(I,d),_c(()=>{I._isLeaving&&(bt(I,u),A&&bt(I,v),ze(I,y),yc(w)||vc(I,s,x,z))}),Cn(w,[I,z])},onEnterCancelled(I){K(I,!1),Cn(P,[I])},onAppearCancelled(I){K(I,!0),Cn(N,[I])},onLeaveCancelled(I){B(I),Cn(m,[I])}})}function gg(e){if(e==null)return null;if(ee(e))return[fo(e.enter),fo(e.leave)];{const t=fo(e);return[t,t]}}function fo(e){const t=ft(e);return mg(t),t}function mg(e){typeof e!="number"?S(`<transition> explicit duration is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&S("<transition> explicit duration is NaN - the duration expression might be incorrect.")}function ze(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function bt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function _c(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let pg=0;function vc(e,t,n,s){const i=e._endId=++pg,r=()=>{i===e._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=Ac(e,t);if(!o)return s();const c=o+"end";let f=0;const u=()=>{e.removeEventListener(c,d),r()},d=y=>{y.target===e&&++f>=l&&u()};setTimeout(()=>{f<l&&u()},a+1),e.addEventListener(c,d)}function Ac(e,t){const n=window.getComputedStyle(e),s=A=>(n[A]||"").split(", "),i=s(`${Zt}Delay`),r=s(`${Zt}Duration`),o=Cc(i,r),a=s(`${Ts}Delay`),l=s(`${Ts}Duration`),c=Cc(a,l);let f=null,u=0,d=0;t===Zt?o>0&&(f=Zt,u=o,d=r.length):t===Ts?c>0&&(f=Ts,u=c,d=l.length):(u=Math.max(o,c),f=u>0?o>c?Zt:Ts:null,d=f?f===Zt?r.length:l.length:0);const y=f===Zt&&/\b(transform|all)(,|$)/.test(s(`${Zt}Property`).toString());return{type:f,timeout:u,propCount:d,hasTransform:y}}function Cc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Ec(n)+Ec(e[s])))}function Ec(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function xc(){return document.body.offsetHeight}const Sc=new WeakMap,Tc=new WeakMap,Pc={name:"TransitionGroup",props:ne({},hg,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Xe(),s=Fr();let i,r;return ci(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!_g(i[0].el,n.vnode.el,o))return;i.forEach(bg),i.forEach(yg);const a=i.filter(wg);xc(),a.forEach(l=>{const c=l.el,f=c.style;ze(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const u=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",u),c._moveCb=null,bt(c,o))};c.addEventListener("transitionend",u)})}),()=>{const o=Z(e),a=wc(o);let l=o.tag||we;!o.tag&&Ke.checkCompatEnabled("TRANSITION_GROUP_ROOT",n.parent)&&(l="span"),i=r,r=t.default?ri(t.default()):[];for(let c=0;c<r.length;c++){const f=r[c];f.key!=null?gn(f,$n(f,a,s,n)):S("<TransitionGroup> children must be keyed.")}if(i)for(let c=0;c<i.length;c++){const f=i[c];gn(f,$n(f,a,s,n)),Sc.set(f,f.el.getBoundingClientRect())}return le(l,null,r)}}};Pc.__isBuiltIn=!0;const Oc=Pc;function bg(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function yg(e){Tc.set(e,e.el.getBoundingClientRect())}function wg(e){const t=Sc.get(e),n=Tc.get(e),s=t.left-n.left,i=t.top-n.top;if(s||i){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",e}}function _g(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:r}=Ac(s);return i.removeChild(s),r}const en=e=>{const t=e.props["onUpdate:modelValue"]||e.props["onModelCompat:input"];return V(t)?n=>ut(t,n):t};function vg(e){e.target.composing=!0}function Rc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Oi={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e._assign=en(i);const r=s||i.props&&i.props.type==="number";Tt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=ft(a)),e._assign(a)}),n&&Tt(e,"change",()=>{e.value=e.value.trim()}),t||(Tt(e,"compositionstart",vg),Tt(e,"compositionend",Rc),Tt(e,"change",Rc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:i}},r){if(e._assign=en(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(i||e.type==="number")&&ft(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},ho={deep:!0,created(e,t,n){e._assign=en(n),Tt(e,"change",()=>{const s=e._modelValue,i=Hn(e),r=e.checked,o=e._assign;if(V(s)){const a=Xn(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(sn(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(Nc(e,r))})},mounted:Fc,beforeUpdate(e,t,n){e._assign=en(n),Fc(e,t,n)}};function Fc(e,{value:t,oldValue:n},s){e._modelValue=t,V(t)?e.checked=Xn(t,s.props.value)>-1:sn(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=_t(t,Nc(e,!0)))}const go={created(e,{value:t},n){e.checked=_t(t,n.props.value),e._assign=en(n),Tt(e,"change",()=>{e._assign(Hn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=en(s),t!==n&&(e.checked=_t(t,s.props.value))}},Ic={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=sn(t);Tt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?ft(Hn(o)):Hn(o));e._assign(e.multiple?i?new Set(r):r:r[0])}),e._assign=en(s)},mounted(e,{value:t}){Lc(e,t)},beforeUpdate(e,t,n){e._assign=en(n)},updated(e,{value:t}){Lc(e,t)}};function Lc(e,t){const n=e.multiple;if(n&&!V(t)&&!sn(t)){S(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let s=0,i=e.options.length;s<i;s++){const r=e.options[s],o=Hn(r);if(n)V(t)?r.selected=Xn(t,o)>-1:r.selected=t.has(o);else if(_t(Hn(r),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function Hn(e){return"_value"in e?e._value:e.value}function Nc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const mo={created(e,t,n){Ri(e,t,n,null,"created")},mounted(e,t,n){Ri(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){Ri(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){Ri(e,t,n,s,"updated")}};function Mc(e,t){switch(e){case"SELECT":return Ic;case"TEXTAREA":return Oi;default:switch(t){case"checkbox":return ho;case"radio":return go;default:return Oi}}}function Ri(e,t,n,s,i){const o=Mc(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,s)}function Ag(){Oi.getSSRProps=({value:e})=>({value:e}),go.getSSRProps=({value:e},t)=>{if(t.props&&_t(t.props.value,e))return{checked:!0}},ho.getSSRProps=({value:e},t)=>{if(V(e)){if(t.props&&Xn(e,t.props.value)>-1)return{checked:!0}}else if(sn(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},mo.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Mc(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const Cg=["ctrl","shift","alt","meta"],Eg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Cg.some(n=>e[`${n}Key`]&&!t.includes(n))},xg=(e,t)=>(n,...s)=>{for(let i=0;i<t.length;i++){const r=Eg[t[i]];if(r&&r(n,t))return}return e(n,...s)},Sg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tg=(e,t)=>{let n,s=null;return s=Xe(),Ke.isCompatEnabled("CONFIG_KEY_CODES",s)&&s&&(n=s.appContext.config.keyCodes),t.some(i=>/^\d+$/.test(i))&&Ke.warnDeprecation("V_ON_KEYCODE_MODIFIER",s),i=>{if(!("key"in i))return;const r=Ae(i.key);if(t.some(o=>o===r||Sg[o]===r))return e(i);{const o=String(i.keyCode);if(Ke.isCompatEnabled("V_ON_KEYCODE_MODIFIER",s)&&t.some(a=>a==o))return e(i);if(n)for(const a of t){const l=n[a];if(l&&(V(l)?l.some(f=>String(f)===o):String(l)===o))return e(i)}}}},po={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Os(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Os(e,!0),s.enter(e)):s.leave(e,()=>{Os(e,!1)}):Os(e,t))},beforeUnmount(e,{value:t}){Os(e,t)}};function Os(e,t){e.style.display=t?e._vod:"none"}function Pg(){po.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const kc=ne({patchProp:ag},Wh);let Rs,Dc=!1;function Uc(){return Rs||(Rs=Kl(kc))}function $c(){return Rs=Dc?Rs:Wl(kc),Dc=!0,Rs}const bo=(...e)=>{Uc().render(...e)},Vc=(...e)=>{$c().hydrate(...e)},Fi=(...e)=>{const t=Uc().createApp(...e);jc(t),Bc(t);const{mount:n}=t;return t.mount=s=>{const i=Hc(s);if(!i)return;const r=t._component;if(!G(r)&&!r.render&&!r.template){r.template=i.innerHTML;for(let a=0;a<i.attributes.length;a++){const l=i.attributes[a];if(l.name!=="v-cloak"&&/^(v-|:|@)/.test(l.name)){Ke.warnDeprecation("GLOBAL_MOUNT_CONTAINER",null);break}}}i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},Og=(...e)=>{const t=$c().createApp(...e);jc(t),Bc(t);const{mount:n}=t;return t.mount=s=>{const i=Hc(s);if(i)return n(i,!0,i instanceof SVGElement)},t};function jc(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>Iu(t)||Lu(t),writable:!1})}function Bc(e){if(vn()){const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){S("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,s='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(e.config,"compilerOptions",{get(){return S(s),n},set(){S(s)}})}}function Hc(e){if(ce(e)){const t=document.querySelector(e);return t||S(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&S('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}let Kc=!1;var Rg=Object.freeze({__proto__:null,render:bo,hydrate:Vc,createApp:Fi,createSSRApp:Og,initDirectivesForSSR:()=>{Kc||(Kc=!0,Ag(),Pg())},defineCustomElement:pc,defineSSRCustomElement:cg,VueElement:Pi,useCssModule:fg,useCssVars:dg,Transition:Ps,TransitionGroup:Oc,vModelText:Oi,vModelCheckbox:ho,vModelRadio:go,vModelSelect:Ic,vModelDynamic:mo,withModifiers:xg,withKeys:Tg,vShow:po,reactive:vt,ref:ln,readonly:ir,unref:ar,proxyRefs:lr,isRef:de,toRef:is,toRefs:cr,isProxy:ns,isReactive:He,isReadonly:At,isShallow:Ut,customRef:_f,triggerRef:bf,shallowRef:mf,shallowReactive:ha,shallowReadonly:Dt,markRaw:qe,toRaw:Z,effect:Bu,stop:Hu,ReactiveEffect:ts,effectScope:zi,EffectScope:Xi,getCurrentScope:Wo,onScopeDispose:Go,computed:xi,watch:hn,watchEffect:od,watchPostEffect:Ba,watchSyncEffect:ad,onBeforeMount:Qa,onMounted:ps,onBeforeUpdate:Za,onUpdated:ci,onBeforeUnmount:bs,onUnmounted:ys,onActivated:Ja,onDeactivated:Xa,onRenderTracked:nl,onRenderTriggered:tl,onErrorCaptured:sl,onServerPrefetch:el,provide:ja,inject:jt,nextTick:fn,defineComponent:oi,defineAsyncComponent:ai,useAttrs:Dh,useSlots:kh,defineProps:Ih,defineEmits:Lh,defineExpose:Nh,withDefaults:Mh,mergeDefaults:Uh,createPropsRestProxy:$h,withAsyncContext:Vh,getCurrentInstance:Xe,h:rc,createVNode:le,cloneVNode:De,mergeProps:Ci,isVNode:ke,Fragment:we,Text:qt,Comment:ge,Static:Yt,Teleport:ph,Suspense:td,KeepAlive:Ya,BaseTransition:Ir,withDirectives:al,useSSRContext:ac,ssrContextKey:oc,createRenderer:Kl,createHydrationRenderer:Wl,queuePostFlushCb:Qs,warn:S,handleError:un,callWithErrorHandling:et,callWithAsyncErrorHandling:Le,resolveComponent:md,resolveDirective:ul,resolveDynamicComponent:cl,registerRuntimeCompiler:Ph,isRuntimeOnly:vn,useTransitionState:Fr,resolveTransitionHooks:$n,setTransitionHooks:gn,getTransitionRawChildren:ri,initCustomFormatter:lc,get devtools(){return tt},setDevtoolsHook:pr,withCtx:Sr,pushScopeId:Yf,popScopeId:Jf,withScopeId:Xf,renderList:bl,toHandlers:vl,renderSlot:wl,createSlots:yl,withMemo:jh,isMemoSame:cc,openBlock:yi,createBlock:zr,setBlockTracking:Xr,createTextVNode:vi,createCommentVNode:ec,createStaticVNode:Ch,createElementVNode:Zr,createElementBlock:wh,guardReactiveProps:Ql,toDisplayString:Do,camelize:Te,capitalize:Lt,toHandlerKey:ct,normalizeProps:Ou,normalizeClass:It,normalizeStyle:On,transformVNodeArgs:_h,version:Ti,ssrUtils:Bh,resolveFilter:Hh,compatUtils:Ke});function Fg(){lc()}Fg();function Ig(...e){const t=Fi(...e);return Ke.isCompatEnabled("RENDER_FUNCTION",null)&&(t.component("__compat__transition",Ps),t.component("__compat__transition-group",Oc),t.component("__compat__keep-alive",Ya),t._context.directives.show=po,t._context.directives.model=mo),t}function Lg(){const e=Ke.createCompatVue(Fi,Ig);return ne(e,Rg),e}const Ng=Lg();Ng.compile=()=>{S('Runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "@vue/compat/dist/vue.esm-bundler.js".')};var Mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nt={},kg={get exports(){return nt},set exports(e){nt=e}};(function(e,t){(function(n,s){s(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Mg,function(n){var s,i;if(!((i=(s=globalThis.chrome)==null?void 0:s.runtime)!=null&&i.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const r="The message port closed before a response was received.",o=a=>{const l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class c extends WeakMap{constructor(m,_=void 0){super(_),this.createItem=m}get(m){return this.has(m)||this.set(m,this.createItem(m)),super.get(m)}}const f=w=>w&&typeof w=="object"&&typeof w.then=="function",u=(w,m)=>(..._)=>{a.runtime.lastError?w.reject(new Error(a.runtime.lastError.message)):m.singleCallbackArg||_.length<=1&&m.singleCallbackArg!==!1?w.resolve(_[0]):w.resolve(_)},d=w=>w==1?"argument":"arguments",y=(w,m)=>function(b,...N){if(N.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${d(m.minArgs)} for ${w}(), got ${N.length}`);if(N.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${d(m.maxArgs)} for ${w}(), got ${N.length}`);return new Promise((K,B)=>{if(m.fallbackToNoCallback)try{b[w](...N,u({resolve:K,reject:B},m))}catch(W){console.warn(`${w} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,W),b[w](...N),m.fallbackToNoCallback=!1,m.noCallback=!0,K()}else m.noCallback?(b[w](...N),K()):b[w](...N,u({resolve:K,reject:B},m))})},A=(w,m,_)=>new Proxy(m,{apply(b,N,K){return _.call(N,w,...K)}});let C=Function.call.bind(Object.prototype.hasOwnProperty);const F=(w,m={},_={})=>{let b=Object.create(null),N={has(B,W){return W in w||W in b},get(B,W,I){if(W in b)return b[W];if(!(W in w))return;let $=w[W];if(typeof $=="function")if(typeof m[W]=="function")$=A(w,w[W],m[W]);else if(C(_,W)){let z=y(W,_[W]);$=A(w,w[W],z)}else $=$.bind(w);else if(typeof $=="object"&&$!==null&&(C(m,W)||C(_,W)))$=F($,m[W],_[W]);else if(C(_,"*"))$=F($,m[W],_["*"]);else return Object.defineProperty(b,W,{configurable:!0,enumerable:!0,get(){return w[W]},set(z){w[W]=z}}),$;return b[W]=$,$},set(B,W,I,$){return W in b?b[W]=I:w[W]=I,!0},defineProperty(B,W,I){return Reflect.defineProperty(b,W,I)},deleteProperty(B,W){return Reflect.deleteProperty(b,W)}},K=Object.create(w);return new Proxy(K,N)},v=w=>({addListener(m,_,...b){m.addListener(w.get(_),...b)},hasListener(m,_){return m.hasListener(w.get(_))},removeListener(m,_){m.removeListener(w.get(_))}}),g=new c(w=>typeof w!="function"?w:function(_){const b=F(_,{},{getContent:{minArgs:0,maxArgs:0}});w(b)}),E=new c(w=>typeof w!="function"?w:function(_,b,N){let K=!1,B,W=new Promise(X=>{B=function(ae){K=!0,X(ae)}}),I;try{I=w(_,b,B)}catch(X){I=Promise.reject(X)}const $=I!==!0&&f(I);if(I!==!0&&!$&&!K)return!1;const z=X=>{X.then(ae=>{N(ae)},ae=>{let Re;ae&&(ae instanceof Error||typeof ae.message=="string")?Re=ae.message:Re="An unexpected error occurred",N({__mozWebExtensionPolyfillReject__:!0,message:Re})}).catch(ae=>{console.error("Failed to send onMessage rejected reply",ae)})};return z($?I:W),!0}),x=({reject:w,resolve:m},_)=>{a.runtime.lastError?a.runtime.lastError.message===r?m():w(new Error(a.runtime.lastError.message)):_&&_.__mozWebExtensionPolyfillReject__?w(new Error(_.message)):m(_)},R=(w,m,_,...b)=>{if(b.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${d(m.minArgs)} for ${w}(), got ${b.length}`);if(b.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${d(m.maxArgs)} for ${w}(), got ${b.length}`);return new Promise((N,K)=>{const B=x.bind(null,{resolve:N,reject:K});b.push(B),_.sendMessage(...b)})},D={devtools:{network:{onRequestFinished:v(g)}},runtime:{onMessage:v(E),onMessageExternal:v(E),sendMessage:R.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:R.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},P={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":P},services:{"*":P},websites:{"*":P}},F(a,D,l)};n.exports=o(chrome)}else n.exports=globalThis.browser})})(kg);class Wc{}class We{}class Gc{}class Dg{}const Ii=new Gc;Ii.pageRegex=new We,Ii.pageRegex["^.*$"]={config:{preventSaveNotification:!1,listMatchingCaseSensitive:!1,blackList:{form:{names:["search"],ids:["search"]},fields:{names:["search","q","query"],ids:["search","q"]}},whiteList:{form:{names:["login"],ids:["login"]},fields:{names:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user name","user id","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login id","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"],ids:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"]}},preferredEntryUuid:null},matchWeight:0,source:"Default"};class qc{migrateToVersion8(t){Object.assign(t,{overWriteFieldsAutomatically:!1,version:8})}migrateToVersion7(t){t.notificationCountSavePassword>6?Object.assign(t,{notificationCountSavePassword:6,version:7}):Object.assign(t,{version:7})}migrateToVersion6(t){Object.assign(t,{animateWhenOfferingSave:!0,version:6})}migrateToVersion5(t){Object.assign(t,{notifyPasswordAvailableForPaste:!0,version:5})}migrateToVersion4(t){let n=2;t.logLevel===1&&(n=1),Object.assign(t,{logLevel:n,version:4})}migrateToVersion3(t){t.notificationCountGeneric==null&&(t.notificationCountGeneric=0),t.notificationCountSavePassword==null&&(t.notificationCountSavePassword=0),Object.assign(t,{currentSearchTermTimeout:30,version:3})}migrateToVersion2(t){let n=new Gc;if(!t.config||t.config.length==0){n=Ii;return}n.pageRegex=new We,n.hostExact=new We,n.pagePrefix=new We,n.pageRegex["^.*$"]={matchWeight:0,config:this.migrateIndividualSiteConfigSettingsToV2(t.config[0].config),source:"Migration"};for(let s=1;s<t.config.length;s++){const i=t.config[s].url;if(i.indexOf("://")==-1)continue;const r=i.substr(i.indexOf("://")+3);if(r.length<=1)continue;const o=this.migrateIndividualSiteConfigSettingsToV2(t.config[s].config),a=r.indexOf("/");if(a>-1||a==r.lastIndexOf("/")){const l=a>-1?r.substr(0,a):r;n.hostExact[l]={config:o,matchWeight:100,source:"Migration"}}else{let l=200;for(const c in n.pagePrefix)r.startsWith(c)&&l++;n.pagePrefix[r]={config:o,matchWeight:l,source:"Migration"}}}Object.assign(t,{siteConfig:n,config:null,version:2})}migrateIndividualSiteConfigSettingsToV2(t){const n=new Wc;return t.preventSaveNotification==null&&(n.preventSaveNotification=t.preventSaveNotification),t.interestingForms&&(t.interestingForms.name_w&&(n.whiteList?n.whiteList.form?n.whiteList.form.names||(n.whiteList.form.names=[]):n.whiteList.form={names:[]}:n.whiteList={form:{names:[]}},n.whiteList.form.names=t.interestingForms.name_w),t.interestingForms.id_w&&(n.whiteList?n.whiteList.form?n.whiteList.form.ids||(n.whiteList.form.ids=[]):n.whiteList.form={ids:[]}:n.whiteList={form:{ids:[]}},n.whiteList.form.ids=t.interestingForms.id_w),t.interestingForms.name_b&&(n.blackList?n.blackList.form?n.blackList.form.names||(n.blackList.form.names=[]):n.blackList.form={names:[]}:n.blackList={form:{names:[]}},n.blackList.form.names=t.interestingForms.name_b),t.interestingForms.id_b&&(n.blackList?n.blackList.form?n.blackList.form.ids||(n.blackList.form.ids=[]):n.blackList.form={ids:[]}:n.blackList={form:{ids:[]}},n.blackList.form.ids=t.interestingForms.id_b),t.interestingForms.f_name_w&&(n.whiteList?n.whiteList.fields?n.whiteList.fields.names||(n.whiteList.fields.names=[]):n.whiteList.fields={names:[]}:n.whiteList={fields:{names:[]}},n.whiteList.fields.names=t.interestingForms.f_name_w),t.interestingForms.f_id_w&&(n.whiteList?n.whiteList.fields?n.whiteList.fields.ids||(n.whiteList.fields.ids=[]):n.whiteList.fields={ids:[]}:n.whiteList={fields:{ids:[]}},n.whiteList.fields.ids=t.interestingForms.f_id_w),t.interestingForms.f_name_b&&(n.blackList?n.blackList.fields?n.blackList.fields.names||(n.blackList.fields.names=[]):n.blackList.fields={names:[]}:n.blackList={fields:{names:[]}},n.blackList.fields.names=t.interestingForms.f_name_b),t.interestingForms.f_id_b&&(n.blackList?n.blackList.fields?n.blackList.fields.ids||(n.blackList.fields.ids=[]):n.blackList.fields={ids:[]}:n.blackList={fields:{ids:[]}},n.blackList.fields.ids=t.interestingForms.f_id_b)),n}}class Ug{constructor(){this.pslInitialised=!1}versionAsInt(t){let n=0;for(let s=0;s<t.length;s++)n=n*256+t[s];return n}versionAsArray(t){const n=[0,0,0];for(let s=n.length-1;s>=0;s--){const i=t&255;n[s]=i,t=(t-i)/256}return n}versionAsString(t){let n="";const s=this.versionAsArray(t);for(let i=0;i<s.length;i++)i>0&&(n+="."),n+=s[i].toString();return n}toHexString(t){return("0"+t.toString(16)).slice(-2)}BigIntFromRandom(t){const n=new Uint8Array(t);window.crypto.getRandomValues(n);const s=Array.from(n).map(this.toHexString).join("");return BigInteger.parse(s,16)}hash(t,n="hex",s="SHA-256"){let i;return typeof t=="string"?i=new TextEncoder().encode(t):i=t,crypto.subtle.digest({name:s},i).then(r=>n=="base64"?st.byteArrayToBase64(r):Array.from(new Uint8Array(r)).map(this.toHexString).join(""))}intToByteArray(t){const n=[0,0,0,0];for(let s=n.length-1;s>=0;s--){const i=t&255;n[s]=i,t=(t-i)/256}return n}intArrayToByteArray(t){const n=new Array(t.length*4);for(let s=0;s<t.length;s++){let i=t[s];for(let r=3;r>=0;r--){const o=i&255;n[s*4+r]=o,i=(i-o)/256}}return n}stringToByteArray(t){return new TextEncoder().encode(t)}base64toByteArrayForHMAC(t,n,s=null){const i=atob(t),r=i.length;let o=0;if(!s){const a=new ArrayBuffer(r+n);s=new Uint8Array(a),o=20}for(let a=0;a<r;a++)s[a+o]=i.charCodeAt(a);return s}base64toByteArray(t){const n=atob(t),s=n.length,i=new ArrayBuffer(s),r=new Uint8Array(i);for(let o=0;o<s;o++)r[o]=n.charCodeAt(o);return r}byteArrayToBase64(t){let n="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(t),r=i.byteLength,o=r%3,a=r-o;let l,c,f,u,d;for(let y=0;y<a;y=y+3)d=i[y]<<16|i[y+1]<<8|i[y+2],l=(d&16515072)>>18,c=(d&258048)>>12,f=(d&4032)>>6,u=d&63,n+=s[l]+s[c]+s[f]+s[u];return o==1?(d=i[a],l=(d&252)>>2,c=(d&3)<<4,n+=s[l]+s[c]+"=="):o==2&&(d=i[a]<<8|i[a+1],l=(d&64512)>>10,c=(d&1008)>>4,f=(d&15)<<2,n+=s[l]+s[c]+s[f]+"="),n}hexStringToByteArray(t,n=null){if(t.length%2!==0)throw Error("Must have an even number of hex digits to convert to bytes");const s=t.length/2;n||(n=new Uint8Array(s));for(let i=0;i<s;i++)n[i]=parseInt(t.substr(i*2,2),16);return n}newGUID(){const t=[];for(let a=0;a<256;a++)t[a]=(a<16?"0":"")+a.toString(16);const n=new Uint32Array(4);window.crypto.getRandomValues(n);const s=n[0],i=n[1],r=n[2],o=n[3];return t[s&255]+t[s>>8&255]+t[s>>16&255]+t[s>>24&255]+"-"+t[i&255]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[r&63|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[o&255]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]}base64urlDecode(t){return atob(t.replace(/-/g,"+").replace(/_/g,"/"))}binaryToByteArray(t){const n=t.length,s=new ArrayBuffer(n),i=new Uint8Array(s);for(let r=0;r<n;r++)i[r]=t.charCodeAt(r);return i}base64urltoByteArray(t){const n=this.base64urlDecode(t);return this.binaryToByteArray(n)}get psl(){if(!publicSuffixList)throw new Error("publicSuffixList library not present");return this.pslInitialised||(publicSuffixList.parse(pslData.text,punycode.toASCII),this.pslInitialised=!0),publicSuffixList}}const st=new Ug;class $g{constructor(){this.outputStarted=!1,this.config={logLevel:2}}attachConfig(t){this.debug("Logging system config updated at "+Date()),this.config=t}formatMessage(t){return t?(this.outputStarted||(t="* "+t,this.outputStarted=!0),t):""}debug(t){this.config.logLevel>=4&&(t=this.formatMessage(t),t.length>0&&(console.debug(t),this.config.logLevel>=4&&this.send(4,t)))}info(t){this.config.logLevel>=3&&(t=this.formatMessage(t),t.length>0&&(console.info(t),this.config.logLevel>=4&&this.send(3,t)))}warn(t){this.config.logLevel>=2&&(t=this.formatMessage(t),t.length>0&&(console.warn(t),this.config.logLevel>=4&&this.send(2,t)))}error(t){this.config.logLevel>=1&&(t=this.formatMessage(t),t.length>0&&(console.error(t),this.config.logLevel>=4&&this.send(1,t)))}send(t,n){}stackTrace(){console.groupCollapsed("%c Stack Trace","color:cream; font-style: normal;"),console.debug(new Error().stack),console.groupEnd()}}const ye=new $g,yo=8,Q=new Dg;Q.autoFillDialogs=!1,Q.autoFillForms=!0,Q.autoFillFormsWithMultipleMatches=!1,Q.autoSubmitForms=!1,Q.autoSubmitDialogs=!1,Q.autoSubmitMatchedForms=!1,Q.connSLClient=2,Q.connSLServerMin=2,Q.keePassDBToOpen="",Q.keePassMRUDB="",Q.KeePassRPCWebSocketPort=12546,Q.KPRPCUsername="",Q.KPRPCStoredKeys={},Q.lastConnectedToKeePass="",Q.listAllOpenDBs=!0,Q.logLevel=2,Q.logMethodConsole=!1,Q.logMethodFile=!1,Q.logSensitiveData=!1,Q.metricsUsageDisabled=!1,Q.metricsUserId="",Q.notifyWhenEntryUpdated=!0,Q.notifyWhenLateDiscovery=!1,Q.notifyWhenLoggedOut=!1,Q.overWriteFieldsAutomatically=!1,Q.rememberMRUDB=!0,Q.rememberMRUGroup=!0,Q.saveFavicons=!0,Q.searchAllOpenDBs=!0,Q.config=null,Q.siteConfig=Ii,Q.tutorialProgress="",Q.version=yo,Q.triggerChangeInputEventAfterFill=!1,Q.autoSubmitNetworkAuthWithSingleMatch=!1,Q.searchNetworkAuth=!0,Q.notificationCountGeneric=0,Q.notificationCountSavePassword=0,Q.currentSearchTermTimeout=30,Q.notifyPasswordAvailableForPaste=!0,Q.animateWhenOfferingSave=!0,Q.keeVaultLaunchMessageDismissed=!1,Q.keeVaultLaunchStart=864e13,Q.keeVaultLaunchEnd=864e13,Q.manualSubmitOverrideProhibited=!1,Q.theme=null,Q.hideConfirmationAfterSave=!1,Q.mustShowReleaseNotesAtStartup=!1,Q.autoFillFieldsWithExistingValue=!1;class Vg{constructor(){this.maxCharsPerPage=1e4,this._listeners=[],this.current=Q,nt.storage.onChanged.addListener((t,n)=>this.reloadOnStorageChange(t,n))}addChangeListener(t){this._listeners.push(t)}reloadOnStorageChange(t,n){Qe.reload(()=>this._listeners.forEach(s=>s(t,n)))}async setASAP(t){Object.assign(this.current,t),await this.save()}splitStringToPages(t){const n=Math.ceil(t.length/this.maxCharsPerPage),s=new Array(n);for(let i=0,r=0;i<n;++i,r+=this.maxCharsPerPage)s[i]=t.substr(r,this.maxCharsPerPage);return s}async save(){const t=JSON.stringify(this.current),n=this.splitStringToPages(t),s={};s.keeConfigPageCount=n.length;for(let i=0;i<n.length;i++)s["keeConfigPage"+i]=n[i];await nt.storage.local.set(s)}load(t){nt.storage.local.get().then(n=>{const s=n.keeConfigPageCount;if(s){let i="";for(let r=0;r<s;r++){const o=n["keeConfigPage"+r];o&&(i+=o)}i&&(this.current=JSON.parse(i))}else{const i=n.keefoxConfigPageCount;if(i){let r="";for(let o=0;o<i;o++){const a=n["keefoxConfigPage"+o];a&&(r+=a)}r&&(this.current=JSON.parse(r))}}this.fixInvalidConfigData(),this.migrateToLatestVersion(),t()})}fixInvalidConfigData(){let t=!1;this.current.KPRPCStoredKeys==null&&(this.current.KPRPCStoredKeys={},t=!0),t&&this.save()}migrateToLatestVersion(){if(this.current.version>=yo)return;const t=new qc;switch(this.current.version){case 1:t.migrateToVersion2(this.current);case 2:t.migrateToVersion3(this.current);case 3:t.migrateToVersion4(this.current);case 4:t.migrateToVersion5(this.current);case 5:t.migrateToVersion6(this.current);case 6:t.migrateToVersion7(this.current);case 7:t.migrateToVersion8(this.current)}this.save()}migrateFromRemoteToLatestVersion(){if(this.current.version>=yo)return;const t=new qc;switch(this.current.version){case 5:t.migrateToVersion6(this.current);case 6:t.migrateToVersion7(this.current)}this.save()}reload(t){nt.storage.local.get().then(n=>{const s=n.keeConfigPageCount;if(s){let i="";for(let r=0;r<s;r++){const o=n["keeConfigPage"+r];o&&(i+=o)}i&&(this.current=Object.assign(this.current,JSON.parse(i)))}t&&t()})}siteConfigLookupFor(t,n){if(t=="Domain"){if(n=="Exact")return this.current.siteConfig.domainExact||(this.current.siteConfig.domainExact=new We),this.current.siteConfig.domainExact;if(n=="Prefix")return this.current.siteConfig.domainPrefix||(this.current.siteConfig.domainPrefix=new We),this.current.siteConfig.domainPrefix;if(n=="Regex")return this.current.siteConfig.domainRegex||(this.current.siteConfig.domainRegex=new We),this.current.siteConfig.domainRegex}else if(t=="Host"){if(n=="Exact")return this.current.siteConfig.hostExact||(this.current.siteConfig.hostExact=new We),this.current.siteConfig.hostExact;if(n=="Prefix")return this.current.siteConfig.hostPrefix||(this.current.siteConfig.hostPrefix=new We),this.current.siteConfig.hostPrefix;if(n=="Regex")return this.current.siteConfig.hostRegex||(this.current.siteConfig.hostRegex=new We),this.current.siteConfig.hostRegex}else if(t=="Page"){if(n=="Exact")return this.current.siteConfig.pageExact||(this.current.siteConfig.pageExact=new We),this.current.siteConfig.pageExact;if(n=="Prefix")return this.current.siteConfig.pagePrefix||(this.current.siteConfig.pagePrefix=new We),this.current.siteConfig.pagePrefix;if(n=="Regex")return this.current.siteConfig.pageRegex||(this.current.siteConfig.pageRegex=new We),this.current.siteConfig.pageRegex}return null}siteConfigFor(t){const n=this.findAllConfigsFor(t);return n.sort((s,i)=>i.matchWeight-s.matchWeight),this.deriveConfigFromMatches(n)}findAllConfigsFor(t){const n=[],s=new URL(t),i=s.host,r=i+s.pathname,o=st.psl.getDomain(i);for(const a in this.current.siteConfig.domainExact)a===o&&n.push(this.current.siteConfig.domainExact[a]);for(const a in this.current.siteConfig.hostExact)a===i&&n.push(this.current.siteConfig.hostExact[a]);for(const a in this.current.siteConfig.pageExact)a===r&&n.push(this.current.siteConfig.pageExact[a]);for(const a in this.current.siteConfig.domainPrefix)o.startsWith(a)&&n.push(this.current.siteConfig.domainPrefix[a]);for(const a in this.current.siteConfig.hostPrefix)i.startsWith(a)&&n.push(this.current.siteConfig.hostPrefix[a]);for(const a in this.current.siteConfig.pagePrefix)r.startsWith(a)&&n.push(this.current.siteConfig.pagePrefix[a]);for(const a in this.current.siteConfig.domainRegex)new RegExp(a).test(o)&&n.push(this.current.siteConfig.domainRegex[a]);for(const a in this.current.siteConfig.hostRegex)new RegExp(a).test(i)&&n.push(this.current.siteConfig.hostRegex[a]);for(const a in this.current.siteConfig.pageRegex)new RegExp(a).test(r)&&n.push(this.current.siteConfig.pageRegex[a]);return n}findAllConfigsAndIndexFor(t){const n=[],s=new URL(t),i=s.host,r=i+s.pathname,o=st.psl.getDomain(i);for(const a in this.current.siteConfig.domainExact)a===o&&n.push({node:this.current.siteConfig.domainExact[a],target:"Domain",method:"Exact",lookupValue:a});for(const a in this.current.siteConfig.hostExact)a===i&&n.push({node:this.current.siteConfig.hostExact[a],target:"Host",method:"Exact",lookupValue:a});for(const a in this.current.siteConfig.pageExact)a===r&&n.push({node:this.current.siteConfig.pageExact[a],target:"Page",method:"Exact",lookupValue:a});for(const a in this.current.siteConfig.domainPrefix)o.startsWith(a)&&n.push({node:this.current.siteConfig.domainPrefix[a],target:"Domain",method:"Prefix",lookupValue:a});for(const a in this.current.siteConfig.hostPrefix)i.startsWith(a)&&n.push({node:this.current.siteConfig.hostPrefix[a],target:"Host",method:"Prefix",lookupValue:a});for(const a in this.current.siteConfig.pagePrefix)r.startsWith(a)&&n.push({node:this.current.siteConfig.pagePrefix[a],target:"Page",method:"Prefix",lookupValue:a});for(const a in this.current.siteConfig.domainRegex)new RegExp(a).test(o)&&n.push({node:this.current.siteConfig.domainRegex[a],target:"Domain",method:"Regex",lookupValue:a});for(const a in this.current.siteConfig.hostRegex)new RegExp(a).test(i)&&n.push({node:this.current.siteConfig.hostRegex[a],target:"Host",method:"Regex",lookupValue:a});for(const a in this.current.siteConfig.pageRegex)new RegExp(a).test(r)&&n.push({node:this.current.siteConfig.pageRegex[a],target:"Page",method:"Regex",lookupValue:a});return n}deriveConfigFromMatches(t){const n={};return t.forEach(s=>{s.config.preventSaveNotification!==void 0&&n.preventSaveNotification==null&&(n.preventSaveNotification=s.config.preventSaveNotification),s.config.listMatchingCaseSensitive!==void 0&&n.listMatchingCaseSensitive==null&&(n.listMatchingCaseSensitive=s.config.listMatchingCaseSensitive),s.config.blackList!==void 0&&(n.blackList===void 0&&(n.blackList={}),s.config.blackList.form!==void 0&&(n.blackList.form===void 0&&(n.blackList.form={}),s.config.blackList.form.ids!==void 0&&n.blackList.form.ids===void 0&&(n.blackList.form.ids=s.config.blackList.form.ids),s.config.blackList.form.names!==void 0&&n.blackList.form.names===void 0&&(n.blackList.form.names=s.config.blackList.form.names)),s.config.blackList.fields!==void 0&&(n.blackList.fields===void 0&&(n.blackList.fields={}),s.config.blackList.fields.ids!==void 0&&n.blackList.fields.ids===void 0&&(n.blackList.fields.ids=s.config.blackList.fields.ids),s.config.blackList.fields.names!==void 0&&n.blackList.fields.names===void 0&&(n.blackList.fields.names=s.config.blackList.fields.names))),s.config.whiteList!==void 0&&(n.whiteList===void 0&&(n.whiteList={}),s.config.whiteList.form!==void 0&&(n.whiteList.form===void 0&&(n.whiteList.form={}),s.config.whiteList.form.ids!==void 0&&n.whiteList.form.ids===void 0&&(n.whiteList.form.ids=s.config.whiteList.form.ids),s.config.whiteList.form.names!==void 0&&n.whiteList.form.names===void 0&&(n.whiteList.form.names=s.config.whiteList.form.names)),s.config.whiteList.fields!==void 0&&(n.whiteList.fields===void 0&&(n.whiteList.fields={}),s.config.whiteList.fields.ids!==void 0&&n.whiteList.fields.ids===void 0&&(n.whiteList.fields.ids=s.config.whiteList.fields.ids),s.config.whiteList.fields.names!==void 0&&n.whiteList.fields.names===void 0&&(n.whiteList.fields.names=s.config.whiteList.fields.names))),s.config.preferredEntryUuid!==void 0&&n.preferredEntryUuid==null&&(n.preferredEntryUuid=s.config.preferredEntryUuid)}),n}normalizeFormProperty(t,n){return typeof t!="string"?null:n?t.toLowerCase():t}isFormInteresting(t,n,s){var E,x,R,D,P,w,m,_,b,N,K,B,W,I,$,z;const i=n.listMatchingCaseSensitive!==!0,r=s.map(X=>{var ae,Re;return i?(ae=X.locators[0])==null?void 0:ae.id.toLowerCase():(Re=X.locators[0])==null?void 0:Re.id}).filter(Boolean),o=s.map(X=>{var ae,Re;return i?(ae=X.locators[0])==null?void 0:ae.name.toLowerCase():(Re=X.locators[0])==null?void 0:Re.name}).filter(Boolean),a=this.normalizeFormProperty(t.id,i),l=this.normalizeFormProperty(t.name,i),c=(((x=(E=n==null?void 0:n.blackList)==null?void 0:E.form)==null?void 0:x.ids)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean),f=(((D=(R=n==null?void 0:n.blackList)==null?void 0:R.form)==null?void 0:D.names)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean),u=(((w=(P=n==null?void 0:n.blackList)==null?void 0:P.fields)==null?void 0:w.ids)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean),d=(((_=(m=n==null?void 0:n.blackList)==null?void 0:m.fields)==null?void 0:_.names)||[]).map(X=>i?X==null?void 0:X.toLowerCase():X).filter(Boolean);if(c.indexOf(a)>=0||f.indexOf(l)>=0||u.some(X=>r.find(ae=>X===ae)!==void 0)||d.some(X=>o.find(ae=>X===ae)!==void 0))return!1;const A=((N=(b=n==null?void 0:n.whiteList)==null?void 0:b.form)==null?void 0:N.ids)||[],C=((B=(K=n==null?void 0:n.whiteList)==null?void 0:K.form)==null?void 0:B.names)||[],F=((I=(W=n==null?void 0:n.whiteList)==null?void 0:W.fields)==null?void 0:I.ids)||[],v=((z=($=n==null?void 0:n.whiteList)==null?void 0:$.fields)==null?void 0:z.names)||[];return A.indexOf(a)>=0||C.indexOf(l)>=0||F.some(X=>r.find(ae=>X===ae)!==void 0)||v.some(X=>o.find(ae=>X===ae)!==void 0)?!0:null}get activeTheme(){return this.current.theme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}togglePreferredEntryUuid(t,n){let s;try{s=new URL(n)}catch{ye.error("Invalid URL supplied to togglePreferredEntryUuid. Preferred entry will not be altered.");return}const i="Domain",r=this.findAllConfigsAndIndexFor(n),a=this.siteConfigFor(n).preferredEntryUuid;a===t?r.forEach(l=>{l.node.config.preferredEntryUuid===t&&this.removePreferredEntryUuid(l)}):(r.forEach(l=>{l.node.config.preferredEntryUuid===a&&this.leastSpecificTarget(i,l.target)===i&&this.removePreferredEntryUuid(l)}),this.addSiteConfigParameters({preferredEntryUuid:t},s,i,"Exact","Auto")),this.save()}removePreferredEntryUuid(t){if(t.node.config.preferredEntryUuid=null,t.node.source==="Auto"&&this.equalsDefaultSiteConfig(t.node.config)){const n=this.siteConfigLookupFor(t.target,t.method);delete n[t.lookupValue]}}equalsDefaultSiteConfig(t){return!(typeof t.preferredEntryUuid=="boolean"||typeof t.preventSaveNotification=="boolean"||typeof t.listMatchingCaseSensitive=="boolean"||t.whiteList||t.blackList)}leastSpecificTarget(t,n){return t==="Domain"||n==="Domain"?"Domain":t==="Host"||n==="Host"?"Host":"Page"}valueFromUrl(t,n){const s=t.host;if(n==="Host")return s;if(n==="Page")return s+t.pathname;if(n==="Domain")return st.psl.getDomain(s)}addSiteConfigParameters(t,n,s,i,r){const o=this.valueFromUrl(n,s),a=Qe.siteConfigLookupFor(s,i);a[o]||(a[o]={config:new Wc,source:r,matchWeight:100}),Object.assign(a[o].config,t)}}const Qe=new Vg;class En{}En.MatchedLogins={id:"KeeAddonPanelMatchedLogins",height:300,width:400,name:"matchedLoginsLegacy",autoCloseTime:0,legacy:!0},En.GeneratePasswordLegacy={id:"KeeAddonPanelGeneratePassword",height:300,width:400,name:"generatePasswordLegacy",autoCloseTime:0,legacy:!0},En.GeneratePassword={id:"KeeAddonPanelGeneratePassword",height:500,width:450,name:"generatePassword",autoCloseTime:0,legacy:!1};class Fs{constructor(t,n,s){this.target=n,this.options=t,this.parentFrameId=s}createPanel(){this.options.name=="generatePassword"&&(this.elementToRefocus=document.activeElement),this.container=document.createElement("div");const t=this.container.attachShadow({mode:"closed"});this.container.id=this.options.id;const n=document.createElement("style");n.textContent=`:host(div) {
            display: block !important;
            position: absolute !important;
            z-index: 2147483647 !important;
        }`,t.appendChild(n),this.target?(this.targetRelativeRect=this.target.getBoundingClientRect(),this.positionPanel()):(this.container.style.setProperty("width",this.options.width+"px","important"),this.container.style.setProperty("height",this.options.height+"px","important"),this.container.style.setProperty("top",(window.innerHeight-this.options.height)/2+window.scrollY+"px","important"),this.container.style.setProperty("left",(window.innerWidth-this.options.width)/2+window.scrollX+"px","important"));const s=document.createElement("iframe");s.setAttribute("sandbox","allow-scripts allow-same-origin"),s.setAttribute("allow",""),s.style.setProperty("width","100%","important"),s.style.setProperty("height","100%","important"),s.style.setProperty("visibility","visible","important"),s.style.setProperty("display","block","important"),s.style.setProperty("position","relative","important"),s.style.setProperty("background-color",Qe.activeTheme==="dark"?"#1e1e1e":"#ffffff","important"),s.setAttribute("scrolling","no"),this.options.legacy?s.style.setProperty("border","none","important"):(s.style.setProperty("border","2px solid #1a466b","important"),s.style.setProperty("border-radius","8px","important")),t.appendChild(s);const i=nt.extension.getURL(`panels/panels${this.options.legacy?"Legacy":""}.html`);s.src=`${i}?parentFrameId=${this.parentFrameId}&autoCloseTime=${this.options.autoCloseTime}&panel=${this.options.name}&theme=${Qe.activeTheme}`;const r=document.getElementsByTagName("body");if(r&&r.length>0)r[0].appendChild(this.container);else{const o=document.getElementsByTagName("frameset");o&&o.length>0&&o[0].insertAdjacentElement("afterend",this.container)}}updateBoundingClientRect(){const t=this.targetRelativeRect;this.targetRelativeRect=this.target.getBoundingClientRect(),(t.top!=this.targetRelativeRect.top||t.bottom!=this.targetRelativeRect.bottom||t.left!=this.targetRelativeRect.left||t.right!=this.targetRelativeRect.right)&&this.positionPanel()}positionPanel(){const t=this.options.height;let n=t;const s=this.options.width;let i=!1;const r=this.targetRelativeRect.top+window.scrollY,o=this.targetRelativeRect.bottom+window.scrollY,a=this.targetRelativeRect.right-12,l=this.targetRelativeRect.bottom+t;if(l>window.innerHeight){const y=this.targetRelativeRect.top-t;if(y>=0)i=!0;else{const A=l-window.innerHeight,C=-y;A>C?(i=!0,n=t-C):n=t-A}}const c=a-this.targetRelativeRect.left;let f;c<s?f=Math.min(this.targetRelativeRect.left,window.innerWidth-s):f=a-s;const u=i?r-n:o,d=f+window.scrollX;this.container.style.setProperty("width",s+"px","important"),this.container.style.setProperty("height",n+"px","important"),this.container.style.setProperty("top",u+"px","important"),this.container.style.setProperty("left",d+"px","important")}closePanel(){const t=document.getElementById(this.options.id);if(t&&t.parentNode.removeChild(t),this.elementToRefocus)try{this.elementToRefocus.focus()}catch{}}}var yt=(e=>(e.CloseAllPanels="closeAllPanels",e.DetectForms="detectForms",e.ResetForms="resetForms",e.GetPasswordProfiles="getPasswordProfiles",e.GeneratePassword="generatePassword",e.ManualFill="manualFill",e.Primary="primary",e.ShowMatchedLoginsPanel="showMatchedLoginsPanel",e.PageHide="pageHide",e.OpenKeePass="openkeepass",e.CreateEntry="createEntry",e.UpdateEntry="updateEntry",e))(yt||{});class jg{constructor(t,n,s,i){this.myPort=t,this.parentFrameId=n,this.formUtils=s,this.createMatchedLoginsPanelNearNode=i,this.fieldsWithIcons=[],this.KEEFOX_ICON_16="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAOdEVYdFRpdGxlAEtlZSBsb2dvN59B9AAAABB0RVh0QXV0aG9yAEtlZSBWYXVsdGXwy5UAAAH8SURBVDiNhZDfS1NhGMc/z3vOEHea0lgXrkisvArWTUSlF9XFIKj/waugtP+hey/M5vpFN0Eg4UVB0WARSglC0IX2AwwtzdywppYsz862875dzLmDbfTcvd/n8/0+X16JX74Sxgt9AHrYmYhVfTbZ88Z6/SeWVEC/szF1brGvVDT2JRqzVLLUCTl28Xrbtq8LwL76JtU1axLhLTm/2A/A1JFp5txOM5RPSCBgM2ypLrWQSXkID+tqd8jljLMpjvgMRFcY2P+NsPI57WxId8gN+HmwkEl5NoBUuWUsrgIqZnu7xLXol6CBmF1mudIOUDU2aQAFsPoq/RkjGYB5L4KnFXvH04p5zwHAwNP8i/TybgAAYkYBitpieL0XP2D2geH1XorarqG6xgIEP0XiycH3wHGAU+0b3D44h6sthvIJZt3OOvYulx07WTcFuxojjeSlSq3u13KYT6VIAwowewOwttoeIRSC2sx2lIqpY5KPdhx43DLg+8yIK3A/qJ111gmJrtmNvvNx4ka5ZQCA0pIGKho0QET5AAYoVUXf+4ffK6y8HMsBEyVtuQC/dQgfMRjG17J3f/w3AEArc7Oo7fD4r0OMFI6ijShRarQZK81EgHhycBro23lO5rLpC824pg0AxEjjotD0OoDdarFaiT053Lb2VhB/uePn81bcX+xXu7resl9RAAAAAElFTkSuQmCC"}removeKeeIconFromAllFields(){for(const t of this.fieldsWithIcons){const n=t.DOMelement;n&&(n.removeEventListener("click",this),n.removeEventListener("mousemove",this),n.style.setProperty("background-image",""),n.style.setProperty("background-repeat",""),n.style.setProperty("background-attachment",""),n.style.setProperty("background-size",""),n.style.setProperty("background-position",""))}this.fieldsWithIcons=[],this.passwordFields=null,this.otherFields=null}addKeeIconToFields(t,n,s){this.passwordFields=t,this.otherFields=n,s.length>1?this.getLabelledIcon(s.length.toString()):this.afterImageLoaded(this.KEEFOX_ICON_16)}skipField(t){return!this.formUtils.isATextFormFieldType(t.field.type)&&t.field.type!="password"||!t.DOMelement||t.DOMelement instanceof HTMLSelectElement||!t.DOMelement.isConnected||t.DOMelement.maxLength>0&&t.DOMelement.maxLength<=3||t.DOMelement.offsetWidth<50}addIcon(t,n){this.fieldsWithIcons.push(t);const s=t.DOMelement;s.addEventListener("click",this),s.addEventListener("mousemove",this),s.style.setProperty("background-image","url('"+n+"')","important"),s.style.setProperty("background-repeat","no-repeat","important"),s.style.setProperty("background-attachment","scroll","important"),s.style.setProperty("background-size","16px 16px","important"),s.style.setProperty("background-position","calc(100% - 4px) 50%","important"),s.style.setProperty("cursor","auto");const i=window.getComputedStyle(t.DOMelement).getPropertyValue("transition-property");["all","background"].some(r=>i.includes(r))&&t.DOMelement.style.setProperty("transition","none","important"),this.overrideBoxShadows(s)}handleEvent(t){t.type==="click"&&this.showMatchedLoginsPanel(t),t.type==="mousemove"&&this.hoverOverInput(t)}limitFields(t){return t.filter(s=>!this.skipField(s)).sort((s,i)=>s.highestScore===i.highestScore?0:s.highestScore<i.highestScore?1:-1).slice(0,2)}afterImageLoaded(t){const n=this.limitFields(this.passwordFields),s=this.limitFields(this.otherFields);for(const i of n.concat(s))this.addIcon(i,t)}overrideBoxShadows(t){const n=window.getComputedStyle(t);if(n){const s=[];s.push(n.getPropertyValue("box-shadow")),s.push(n.getPropertyValue("-webkit-box-shadow")),s.push(n.getPropertyValue("-moz-box-shadow")),s.some(i=>i.indexOf("inset"))&&(t.style.setProperty("box-shadow","initial","important"),t.style.setProperty("-webkit-box-shadow","initial","important"),t.style.setProperty("-moz-box-shadow","initial","important"))}}showMatchedLoginsPanel(t){const n=t.target.getBoundingClientRect(),s=n.left+n.width-22;t.clientX>s&&n.top<=t.clientY&&t.clientY<=n.bottom&&(this.parentFrameId!==0?this.myPort.postMessage({action:yt.ShowMatchedLoginsPanel}):this.createMatchedLoginsPanelNearNode(t.target))}hoverOverInput(t){if(t.target.disabled)return;const n=t.target.getBoundingClientRect(),s=n.left+n.width-22;if(t.clientX>s){t.target.style.setProperty("cursor","pointer","important");return}t.target.style.setProperty("cursor","auto")}getLabelledIcon(t){const n=document.createElement("canvas");n.height=16,n.width=16;const s=document.createElement("img");s.addEventListener("load",()=>{const i=n.getContext("2d");i.drawImage(s,0,0),i.fillStyle="white",i.fillRect(6,8,10,8),i.fillStyle="red",i.font="8px Arial",i.fillText(t,7,15),this.afterImageLoaded(n.toDataURL())}),s.src=this.KEEFOX_ICON_16}}class Bg{}var Yc=(e=>(e.Event="event",e.Websocket="websocket",e))(Yc||{});class Li{constructor(t){this.icon=t.icon||{version:1,iconImageData:""},this.usernameValue=t.usernameValue||"<no username>",this.usernameName=t.usernameName||"<no username>",this.path=t.path||"UNKNOWN PATH",this.title=t.title||"",this.uRLs=t.uRLs||[],this.url=(t==null?void 0:t.url)||"",this.uuid=t.uuid||st.newGUID(),this.dbFileName=t.dbFileName||"",this.relevanceScore=t.relevanceScore,this.fullDetails=t.fullDetails,this.isPreferredMatch=t.isPreferredMatch}static fromEntry(t){var n,s;return new Li({icon:t.icon,usernameValue:(n=Ot.getUsernameField(t))==null?void 0:n.value,usernameName:(s=Ot.getUsernameField(t))==null?void 0:s.name,title:t.title,uRLs:t.URLs,url:t==null?void 0:t.URLs[0],uuid:t.uuid,dbFileName:t.database.fileName,fullDetails:t,isPreferredMatch:t.isPreferredMatch})}static fromKPRPCEntrySummaryDTO(t,n,s){return new Li({icon:{version:1,iconImageData:t.iconImageData},usernameValue:t.usernameValue,usernameName:t.usernameName,path:n,title:t.title,uRLs:t.uRLs,url:t==null?void 0:t.uRLs[0],uuid:t.uniqueID,dbFileName:s})}}class Is{constructor(t){this.title=t.title||"",this.uuid=t.uuid||st.newGUID(),this.icon=t.icon||{version:1,iconImageData:""},this.path=t.path||"UNKNOWN PATH",this.entrySummaries=t.entrySummaries||[],this.groups=t.groups||[]}static fromKPRPCGroupDTO(t,n){return new Is({title:t.title,uuid:t.uniqueID,icon:{version:1,iconImageData:t.iconImageData},path:t.path,entrySummaries:t.childLightEntries.map(s=>Li.fromKPRPCEntrySummaryDTO(s,t.path,n)),groups:t.childGroups.map(s=>this.fromKPRPCGroupDTO(s,n))})}static containsId(t,n){return!!(t.uuid===n||t.groups&&t.groups.some(s=>Is.containsId(s,n)))}}class wo{constructor(t){this.name=t.name||"",this.fileName=t.fileName||"",this.icon=t.icon||{version:1,iconImageData:""},this.root=t.root||new Is({}),this.active=t.active||!1,this.sessionType=t.sessionType||Yc.Event,this.sessionFeatures=t.sessionFeatures||[""]}static fromKPRPCDatabaseDTO(t,n,s){return new wo({name:t.name,fileName:t.fileName,icon:{version:1,iconImageData:t.iconImageData},root:Is.fromKPRPCGroupDTO(t.root,t.fileName),active:t.active,sessionType:n,sessionFeatures:s})}}function Pt(e){return nt.i18n.getMessage(e)||e}function _o(e,t){return nt.i18n.getMessage(e,t)||e}class Jc{constructor(t){this.id=t.id||"",this.name=t.name||"",this.type=t.type||"",this.query=t.query,this.labels=t.labels,this.autocompleteValues=t.autocompleteValues}}class Hg{}var Ve=(e=>(e.radio="FFTradio",e.username="FFTusername",e.text="FFTtext",e.password="FFTpassword",e.select="FFTselect",e.checkbox="FFTcheckbox",e))(Ve||{});class Ge{constructor(t){this.name=t.name||"",this.value=t.value||"",this.resetValue=t.resetValue||"",this.uuid=t.uuid||st.newGUID(),this.type=t.type||"text",this.locators=t.locators||[]}static getDisplayValueInternal(t,n,s){return t.type==="boolean"?t.value==="KEEFOX_CHECKED_FLAG_TRUE"?Pt("enabled"):Pt("disabled"):t.type==="password"&&!n?s:t.value}static getDisplayValue(t,n){return Ge.getDisplayValueInternal(t,n,"*".repeat(t.value.length))}static getDisplayName(t){return t.name==="KeePass username"?Pt("username"):t.name==="KeePass password"?Pt("password"):t.name?t.name:"[ "+Pt("no_name")+" ]"}static getDisplayTooltip(t,n){return Ge.getDisplayName(t)+": "+Ge.getDisplayValueInternal(t,n,Pt("click_to_reveal_hide"))}static typeFromDOMtype(t){switch(t){case"password":return"password";case"radio":return"existing";case"checkbox":return"boolean";case"select-one":return"existing";default:return"text"}}static combineDomFieldLists(t,n,s){const i=[];return t>=0&&n[t]&&i.push(n[t]),s.forEach(r=>{i.push(r)}),n.forEach((r,o)=>{o!==t&&i.push(r)}),i}static fromDOM(t,n,s){const i=Kg(t);return new Ge({uuid:st.newGUID(),name:i&&i.length?i[0]:t.name,locators:[new Jc({name:t.name,id:t.id,type:n,labels:i,autocompleteValues:Wg(t)})],value:s,type:Ge.typeFromDOMtype(n)})}static fromKPRPCFieldDTO(t){let n="text",s="text";switch(t.type){case Ve.password:n="password",s="password";break;case Ve.radio:n="existing",s="radio";break;case Ve.checkbox:n="boolean",s="checkbox";break;case Ve.select:n="existing",s="select";break;case Ve.username:n="text",s="text";break;case Ve.text:n="text",s="text";break}return new Ge({name:t.displayName||t.name,uuid:st.newGUID(),value:t.value,resetValue:t.value,type:n,locators:[new Jc({id:t.id,name:t.name,type:s})]})}static toKPRPCFieldDTO(t,n){let s;switch(t.locators[0].type){case"password":s=Ve.password;break;case"radio":s=Ve.radio;break;case"checkbox":s=Ve.checkbox;break;case"select-one":s=Ve.select;break;default:s=n?Ve.username:Ve.text;break}return{displayName:t.name,id:t.locators[0].id,name:t.locators[0].name,type:s,value:t.value,page:-1}}}function Kg(e){var r,o,a,l;const t=[],n=((r=e.labels)==null?void 0:r.length)||0;for(let c=0;c<n;c++){const f=e.labels[c];f!=null&&f.innerText&&t.push(f.innerText)}const s=(o=e.getAttribute("aria-label"))==null?void 0:o.toLowerCase();s&&t.push(s);const i=[];return(a=e.getAttribute("aria-labelledby"))==null||a.trim().split(" ").forEach(c=>{c&&i.push(c)}),(l=e.getAttribute("aria-describedby"))==null||l.trim().split(" ").forEach(c=>{c&&i.push(c)}),i.forEach(c=>{const f=document.getElementById(c);f!=null&&f.innerText&&t.push(f.innerText)}),t.length?t:void 0}function Wg(e){var n,s;const t=[];return(s=(n=e.attributes.autocomplete)==null?void 0:n.value)==null||s.trim().split(" ").forEach(i=>{i&&t.push(i.toLowerCase())}),t.length?t:void 0}class Ni{constructor(t){this.title=t.title||"",this.uuid=t.uuid||st.newGUID(),this.icon=t.icon||{version:1,iconImageData:""},this.path=t.path||"UNKNOWN PATH"}static fromKPRPCGroupSummaryDTO(t){return new Ni({title:t.title,uuid:t.uniqueID,icon:{version:1,iconImageData:t.iconImageData},path:t.path})}static fromGroup(t){return new Ni({title:t.title,uuid:t.uuid,icon:t.icon,path:t.path})}}class Ot{constructor(t){this.alwaysAutoFill=t.alwaysAutoFill||!1,this.alwaysAutoSubmit=t.alwaysAutoSubmit||!1,this.neverAutoFill=t.neverAutoFill||!1,this.neverAutoSubmit=t.neverAutoSubmit||!1,this.URLs=t.URLs||[],this.fields=t.fields||[],this.httpRealm=t.httpRealm||"",this.parentGroup=t.parentGroup||null,this.uuid=t.uuid||st.newGUID(),this.title=t.title||"",this.matchAccuracy=t.matchAccuracy||0,this.icon=t.icon||{version:1,iconImageData:""},this.database=t.database||new wo({}),this.relevanceScore=t.relevanceScore,this.lowFieldMatchRatio=t.lowFieldMatchRatio,this.formIndex=t.formIndex,this.entryIndex=t.entryIndex,this.isPreferredMatch=t.isPreferredMatch}static getUsernameField(t){return t.fields.find(n=>n.type==="text")}static getPasswordField(t){return t.fields.find(n=>n.type==="password")}static fromKPRPCEntryDTO(t,n){const s=[];let i=1;const r=t.formFieldList.findIndex(c=>c.type===Ve.username),o=t.formFieldList.map(c=>(c.page>i&&(i=c.page),Ge.fromKPRPCFieldDTO(c))),a=o.findIndex(c=>c.type==="password");return r>-1&&s.push(o[r]),a>-1&&s.push(o[a]),o.forEach((c,f)=>{f!==r&&f!==a&&s.push(c)}),new Ot({URLs:t.uRLs,neverAutoFill:t.neverAutoFill,alwaysAutoFill:t.alwaysAutoFill,neverAutoSubmit:t.neverAutoSubmit,alwaysAutoSubmit:t.alwaysAutoSubmit,icon:{version:1,iconImageData:t.iconImageData},parentGroup:Ni.fromKPRPCGroupSummaryDTO(t.parent),database:n,matchAccuracy:t.matchAccuracy,httpRealm:t.hTTPRealm,uuid:t.uniqueID,title:t.title,fields:s})}static toKPRPCEntryDTO(t){const n=new Hg;return n.alwaysAutoFill=t.alwaysAutoFill,n.alwaysAutoSubmit=t.alwaysAutoSubmit,n.formFieldList=t.fields.map((s,i)=>Ge.toKPRPCFieldDTO(s,i===0)),n.hTTPRealm=t.httpRealm,n.iconImageData=t.icon.iconImageData,n.neverAutoFill=t.neverAutoFill,n.neverAutoSubmit=t.neverAutoSubmit,n.title=t.title,n.uRLs=t.URLs,n}}var Gg=!1;function Mi(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function vo(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function qg(){return Xc().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Xc(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Yg=typeof Proxy=="function",Jg="devtools-plugin:setup",Xg="plugin:settings:set";let Kn,Ao;function zg(){var e;return Kn!==void 0||(typeof window<"u"&&window.performance?(Kn=!0,Ao=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Kn=!0,Ao=global.perf_hooks.performance):Kn=!1),Kn}function Qg(){return zg()?Ao.now():Date.now()}class Zg{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const s={};if(t.settings)for(const o in t.settings){const a=t.settings[o];s[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},s);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(r,a)}catch{}this.fallbacks={getSettings(){return r},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}r=o},now(){return Qg()}},n&&n.on(Xg,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function zc(e,t){const n=e,s=Xc(),i=qg(),r=Yg&&n.enableEarlyProxy;if(i&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))i.emit(Jg,e,t);else{const o=r?new Zg(n,i):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * pinia v2.0.29
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Co;const Ls=e=>Co=e,Qc=Symbol("pinia");function xn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var it;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(it||(it={}));const ki=typeof window<"u",Di=ki,Zc=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function em(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function Eo(e,t,n){const s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){nu(s.response,t,n)},s.onerror=function(){console.error("could not download file")},s.send()}function eu(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ui(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const $i=typeof navigator=="object"?navigator:{userAgent:""},tu=(()=>/Macintosh/.test($i.userAgent)&&/AppleWebKit/.test($i.userAgent)&&!/Safari/.test($i.userAgent))(),nu=ki?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!tu?tm:"msSaveOrOpenBlob"in $i?nm:sm:()=>{};function tm(e,t="download",n){const s=document.createElement("a");s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?eu(s.href)?Eo(e,t,n):(s.target="_blank",Ui(s)):Ui(s)):(s.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(s.href)},4e4),setTimeout(function(){Ui(s)},0))}function nm(e,t="download",n){if(typeof e=="string")if(eu(e))Eo(e,t,n);else{const s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Ui(s)})}else navigator.msSaveOrOpenBlob(em(e,n),t)}function sm(e,t,n,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return Eo(e,t,n);const i=e.type==="application/octet-stream",r=/constructor/i.test(String(Zc.HTMLElement))||"safari"in Zc,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&r||tu)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw s=null,new Error("Wrong reader.result type");l=o?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=l:location.assign(l),s=null},a.readAsDataURL(e)}else{const a=URL.createObjectURL(e);s?s.location.assign(a):location.href=a,s=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function _e(e,t){const n="🍍 "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,t):t==="error"?console.error(n):t==="warn"?console.warn(n):console.log(n)}function xo(e){return"_a"in e&&"install"in e}function su(){if(!("clipboard"in navigator))return _e("Your browser doesn't support the Clipboard API","error"),!0}function iu(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(_e('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function im(e){if(!su())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),_e("Global state copied to clipboard.")}catch(t){if(iu(t))return;_e("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function rm(e){if(!su())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),_e("Global state pasted from clipboard.")}catch(t){if(iu(t))return;_e("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function om(e){try{nu(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){_e("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let Rt;function am(){Rt||(Rt=document.createElement("input"),Rt.type="file",Rt.accept=".json");function e(){return new Promise((t,n)=>{Rt.onchange=async()=>{const s=Rt.files;if(!s)return t(null);const i=s.item(0);return t(i?{text:await i.text(),file:i}:null)},Rt.oncancel=()=>t(null),Rt.onerror=n,Rt.click()})}return e}async function lm(e){try{const n=await(await am())();if(!n)return;const{text:s,file:i}=n;e.state.value=JSON.parse(s),_e(`Global state imported from "${i.name}".`)}catch(t){_e("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function rt(e){return{_custom:{display:e}}}const ru="🍍 Pinia (root)",So="_root";function cm(e){return xo(e)?{id:So,label:ru}:{id:e.$id,label:e.$id}}function um(e){if(xo(e)){const n=Array.from(e._s.keys()),s=e._s;return{state:n.map(r=>({editable:!0,key:r,value:e.state.value[r]})),getters:n.filter(r=>s.get(r)._getters).map(r=>{const o=s.get(r);return{editable:!1,key:r,value:o._getters.reduce((a,l)=>(a[l]=o[l],a),{})}})}}const t={state:Object.keys(e.$state).map(n=>({editable:!0,key:n,value:e.$state[n]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(n=>({editable:!1,key:n,value:e[n]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(n=>({editable:!0,key:n,value:e[n]}))),t}function fm(e){return e?Array.isArray(e)?e.reduce((t,n)=>(t.keys.push(n.key),t.operations.push(n.type),t.oldValue[n.key]=n.oldValue,t.newValue[n.key]=n.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:rt(e.type),key:rt(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function dm(e){switch(e){case it.direct:return"mutation";case it.patchFunction:return"$patch";case it.patchObject:return"$patch";default:return"unknown"}}let Wn=!0;const Vi=[],Sn="pinia:mutations",Se="pinia",ji=e=>"🍍 "+e;function hm(e,t){zc({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Vi,app:e},n=>{typeof n.now!="function"&&_e("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Sn,label:"Pinia 🍍",color:15064968}),n.addInspector({id:Se,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{im(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await rm(t),n.sendInspectorTree(Se),n.sendInspectorState(Se)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{om(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await lm(t),n.sendInspectorTree(Se),n.sendInspectorState(Se)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:s=>{const i=t._s.get(s);i?i._isOptionsAPI?(i.$reset(),_e(`Store "${s}" reset.`)):_e(`Cannot reset "${s}" store because it's a setup store.`,"warn"):_e(`Cannot reset "${s}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((s,i)=>{const r=s.componentInstance&&s.componentInstance.proxy;if(r&&r._pStores){const o=s.componentInstance.proxy._pStores;Object.values(o).forEach(a=>{s.instanceData.state.push({type:ji(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:Z(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((l,c)=>(l[c]=a.$state[c],l),{})}),a._getters&&a._getters.length&&s.instanceData.state.push({type:ji(a.$id),key:"getters",editable:!1,value:a._getters.reduce((l,c)=>{try{l[c]=a[c]}catch(f){l[c]=f}return l},{})})})}}),n.on.getInspectorTree(s=>{if(s.app===e&&s.inspectorId===Se){let i=[t];i=i.concat(Array.from(t._s.values())),s.rootNodes=(s.filter?i.filter(r=>"$id"in r?r.$id.toLowerCase().includes(s.filter.toLowerCase()):ru.toLowerCase().includes(s.filter.toLowerCase())):i).map(cm)}}),n.on.getInspectorState(s=>{if(s.app===e&&s.inspectorId===Se){const i=s.nodeId===So?t:t._s.get(s.nodeId);if(!i)return;i&&(s.state=um(i))}}),n.on.editInspectorState((s,i)=>{if(s.app===e&&s.inspectorId===Se){const r=s.nodeId===So?t:t._s.get(s.nodeId);if(!r)return _e(`store "${s.nodeId}" not found`,"error");const{path:o}=s;xo(r)?o.unshift("state"):(o.length!==1||!r._customProperties.has(o[0])||o[0]in r.$state)&&o.unshift("$state"),Wn=!1,s.set(r,o,s.state.value),Wn=!0}}),n.on.editComponentState(s=>{if(s.type.startsWith("🍍")){const i=s.type.replace(/^🍍\s*/,""),r=t._s.get(i);if(!r)return _e(`store "${i}" not found`,"error");const{path:o}=s;if(o[0]!=="state")return _e(`Invalid path for store "${i}":
${o}
Only state can be modified.`);o[0]="$state",Wn=!1,s.set(r,o,s.state.value),Wn=!0}})})}function gm(e,t){Vi.includes(ji(t.$id))||Vi.push(ji(t.$id)),zc({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Vi,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const s=typeof n.now=="function"?n.now.bind(n):Date.now;t.$onAction(({after:o,onError:a,name:l,args:c})=>{const f=ou++;n.addTimelineEvent({layerId:Sn,event:{time:s(),title:"🛫 "+l,subtitle:"start",data:{store:rt(t.$id),action:rt(l),args:c},groupId:f}}),o(u=>{Tn=void 0,n.addTimelineEvent({layerId:Sn,event:{time:s(),title:"🛬 "+l,subtitle:"end",data:{store:rt(t.$id),action:rt(l),args:c,result:u},groupId:f}})}),a(u=>{Tn=void 0,n.addTimelineEvent({layerId:Sn,event:{time:s(),logType:"error",title:"💥 "+l,subtitle:"end",data:{store:rt(t.$id),action:rt(l),args:c,error:u},groupId:f}})})},!0),t._customProperties.forEach(o=>{hn(()=>ar(t[o]),(a,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(Se),Wn&&n.addTimelineEvent({layerId:Sn,event:{time:s(),title:"Change",subtitle:o,data:{newValue:a,oldValue:l},groupId:Tn}})},{deep:!0})}),t.$subscribe(({events:o,type:a},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Se),!Wn)return;const c={time:s(),title:dm(a),data:{store:rt(t.$id),...fm(o)},groupId:Tn};Tn=void 0,a===it.patchFunction?c.subtitle="⤵️":a===it.patchObject?c.subtitle="🧩":o&&!Array.isArray(o)&&(c.subtitle=o.type),o&&(c.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),n.addTimelineEvent({layerId:Sn,event:c})},{detached:!0,flush:"sync"});const i=t._hotUpdate;t._hotUpdate=qe(o=>{i(o),n.addTimelineEvent({layerId:Sn,event:{time:s(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:rt(t.$id),info:rt("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Se),n.sendInspectorState(Se)});const{$dispose:r}=t;t.$dispose=()=>{r(),n.notifyComponentUpdate(),n.sendInspectorTree(Se),n.sendInspectorState(Se),n.getSettings().logStoreChanges&&_e(`Disposed "${t.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(Se),n.sendInspectorState(Se),n.getSettings().logStoreChanges&&_e(`"${t.$id}" store installed 🆕`)})}let ou=0,Tn;function au(e,t){const n=t.reduce((s,i)=>(s[i]=Z(e)[i],s),{});for(const s in n)e[s]=function(){const i=ou,r=new Proxy(e,{get(...o){return Tn=i,Reflect.get(...o)},set(...o){return Tn=i,Reflect.set(...o)}});return n[s].apply(r,arguments)}}function mm({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),typeof n.state=="function"){au(t,Object.keys(n.actions));const s=t._hotUpdate;Z(t)._hotUpdate=function(i){s.apply(this,arguments),au(t,Object.keys(i._hmrPayload.actions))}}gm(e,t)}}function pm(){const e=zi(!0),t=e.run(()=>ln({}));let n=[],s=[];const i=qe({install(r){Ls(i),i._a=r,r.provide(Qc,i),r.config.globalProperties.$pinia=i,Di&&hm(r,i),s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!Gg?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return Di&&typeof Proxy<"u"&&i.use(mm),i}function lu(e,t){for(const n in t){const s=t[n];if(!(n in e))continue;const i=e[n];xn(i)&&xn(s)&&!de(s)&&!He(s)?e[n]=lu(i,s):e[n]=s}return e}const bm=()=>{};function cu(e,t,n,s=bm){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&Wo()&&Go(i),i}function Gn(e,...t){e.slice().forEach(n=>{n(...t)})}function To(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];xn(i)&&xn(s)&&e.hasOwnProperty(n)&&!de(s)&&!He(s)?e[n]=To(i,s):e[n]=s}return e}const ym=Symbol("pinia:skipHydration");function wm(e){return!xn(e)||!e.hasOwnProperty(ym)}const{assign:ot}=Object;function uu(e){return!!(de(e)&&e.effect)}function fu(e,t,n,s){const{state:i,actions:r,getters:o}=t,a=n.state.value[e];let l;function c(){!a&&!s&&(n.state.value[e]=i?i():{});const f=cr(s?ln(i?i():{}).value:n.state.value[e]);return ot(f,r,Object.keys(o||{}).reduce((u,d)=>(d in f&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${d}" in store "${e}".`),u[d]=qe(xi(()=>{Ls(n);const y=n._s.get(e);return o[d].call(y,y)})),u),{}))}return l=Po(e,c,t,n,s,!0),l.$reset=function(){const u=i?i():{};this.$patch(d=>{ot(d,u)})},l}function Po(e,t,n={},s,i,r){let o;const a=ot({actions:{}},n);if(!s._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=m=>{c?y=m:c==!1&&!P._hotUpdating&&(Array.isArray(y)?y.push(m):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let c,f,u=qe([]),d=qe([]),y;const A=s.state.value[e];!r&&!A&&!i&&(s.state.value[e]={});const C=ln({});let F;function v(m){let _;c=f=!1,y=[],typeof m=="function"?(m(s.state.value[e]),_={type:it.patchFunction,storeId:e,events:y}):(To(s.state.value[e],m),_={type:it.patchObject,payload:m,storeId:e,events:y});const b=F=Symbol();fn().then(()=>{F===b&&(c=!0)}),f=!0,Gn(u,_,s.state.value[e])}const g=()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function E(){o.stop(),u=[],d=[],s._s.delete(e)}function x(m,_){return function(){Ls(s);const b=Array.from(arguments),N=[],K=[];function B($){N.push($)}function W($){K.push($)}Gn(d,{args:b,name:m,store:P,after:B,onError:W});let I;try{I=_.apply(this&&this.$id===e?this:P,b)}catch($){throw Gn(K,$),$}return I instanceof Promise?I.then($=>(Gn(N,$),$)).catch($=>(Gn(K,$),Promise.reject($))):(Gn(N,I),I)}}const R=qe({actions:{},getters:{},state:[],hotState:C}),D={_p:s,$id:e,$onAction:cu.bind(null,d),$patch:v,$reset:g,$subscribe(m,_={}){const b=cu(u,m,_.detached,()=>N()),N=o.run(()=>hn(()=>s.state.value[e],K=>{(_.flush==="sync"?f:c)&&m({storeId:e,type:it.direct,events:y},K)},ot({},l,_)));return b},$dispose:E},P=vt(ot({_hmrPayload:R,_customProperties:qe(new Set)},D));s._s.set(e,P);const w=s._e.run(()=>(o=zi(),o.run(()=>t())));for(const m in w){const _=w[m];if(de(_)&&!uu(_)||He(_))i?Mi(C.value,m,is(w,m)):r||(A&&wm(_)&&(de(_)?_.value=A[m]:To(_,A[m])),s.state.value[e][m]=_),R.state.push(m);else if(typeof _=="function"){const b=i?_:x(m,_);w[m]=b,R.actions[m]=_,a.actions[m]=_}else uu(_)&&(R.getters[m]=r?n.getters[m]:_,ki&&(w._getters||(w._getters=qe([]))).push(m))}if(ot(P,w),ot(Z(P),w),Object.defineProperty(P,"$state",{get:()=>i?C.value:s.state.value[e],set:m=>{if(i)throw new Error("cannot set hotState");v(_=>{ot(_,m)})}}),P._hotUpdate=qe(m=>{P._hotUpdating=!0,m._hmrPayload.state.forEach(_=>{if(_ in P.$state){const b=m.$state[_],N=P.$state[_];typeof b=="object"&&xn(b)&&xn(N)?lu(b,N):m.$state[_]=N}Mi(P,_,is(m.$state,_))}),Object.keys(P.$state).forEach(_=>{_ in m.$state||vo(P,_)}),c=!1,f=!1,s.state.value[e]=is(m._hmrPayload,"hotState"),f=!0,fn().then(()=>{c=!0});for(const _ in m._hmrPayload.actions){const b=m[_];Mi(P,_,x(_,b))}for(const _ in m._hmrPayload.getters){const b=m._hmrPayload.getters[_],N=r?xi(()=>(Ls(s),b.call(P,P))):b;Mi(P,_,N)}Object.keys(P._hmrPayload.getters).forEach(_=>{_ in m._hmrPayload.getters||vo(P,_)}),Object.keys(P._hmrPayload.actions).forEach(_=>{_ in m._hmrPayload.actions||vo(P,_)}),P._hmrPayload=m._hmrPayload,P._getters=m._getters,P._hotUpdating=!1}),Di){const m={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(_=>{Object.defineProperty(P,_,{value:P[_],...m})})}return s._p.forEach(m=>{if(Di){const _=o.run(()=>m({store:P,app:s._a,pinia:s,options:a}));Object.keys(_||{}).forEach(b=>P._customProperties.add(b)),ot(P,_)}else ot(P,o.run(()=>m({store:P,app:s._a,pinia:s,options:a})))}),P.$state&&typeof P.$state=="object"&&typeof P.$state.constructor=="function"&&!P.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${P.$id}".`),A&&r&&n.hydrate&&n.hydrate(P.$state,A),c=!0,f=!0,P}function _m(e,t,n){let s,i;const r=typeof t=="function";typeof e=="string"?(s=e,i=r?n:t):(i=e,s=e.id);function o(a,l){const c=Xe();if(a=a||c&&jt(Qc,null),a&&Ls(a),!Co)throw new Error(`[🍍]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);a=Co,a._s.has(s)||(r?Po(s,t,i,a):fu(s,i,a),o._pinia=a);const f=a._s.get(s);if(l){const u="__hot:"+s,d=r?Po(u,t,i,a,!0):fu(u,ot({},i),a,!0);l._hotUpdate(d),delete a.state.value[u],a._s.delete(u)}if(ki&&c&&c.proxy&&!l){const u=c.proxy,d="_pStores"in u?u._pStores:u._pStores={};d[s]=f}return f}return o.$id=s,o}class du{constructor(){this.newEntry=new Ot({})}}const vm={latestConnectionError:"",lastKeePassRPCRefresh:0,ActiveKeePassDatabaseIndex:-1,KeePassDatabases:[],PasswordProfiles:[],notifications:[],connected:!1,connectedWebsocket:!1,currentSearchTerm:null,loginsFound:!1,searchResults:null,saveState:new du,generatedPassword:"",saveEntryResult:{result:null,receivedAt:new Date,fileName:null,uuid:null},entryUpdateStartedAtTimestamp:0};var Oo=(e=>(e.Event="event",e.Websocket="websocket",e))(Oo||{});const hu=_m("kee",{state:()=>vm,getters:{showGeneratePasswordLink:e=>e.connected,showMatchedLogins:e=>!!e.loginsFound,showNotifications:e=>e.notifications&&!!e.notifications.length,databaseIsOpen:e=>e.connected&&!!e.KeePassDatabases.length,databaseName:e=>{if(e.KeePassDatabases&&e.KeePassDatabases.length&&e.ActiveKeePassDatabaseIndex>=0){const t=e.KeePassDatabases[e.ActiveKeePassDatabaseIndex];return t.name?t.name:t.fileName.replace(/^.*[\\/]/,"")}return""},connectionStatus(e){return e.connected?e.KeePassDatabases.length>1?_o("multiplePasswordSourcesEnabled",[e.KeePassDatabases.length.toString()]):e.KeePassDatabases.length==1?this.databaseName:Pt("notifyBarLoginToKeePassButton_tip"):Pt("notifyBarLaunchKeePassButton_tip")},connectionStatusDetail(e){if(e.connected){if(e.KeePassDatabases.length>1)return _o("loggedInMultiple_tip",[e.KeePassDatabases.length.toString(),this.databaseName]);if(e.KeePassDatabases.length==1)return _o("loggedIn_tip",this.databaseName)}return Pt("notifyBarLaunchKeePass_label")},showOpenKeePassButton:e=>{if(e.connectedWebsocket){const t=e.KeePassDatabases.some(s=>s.sessionType===Oo.Websocket),n=e.KeePassDatabases.some(s=>s.sessionType===Oo.Websocket&&s.sessionFeatures.indexOf("KPRPC_OPEN_AND_FOCUS_DATABASE")>=0);return!!(!t||n)}else return!1}},actions:{updateActiveKeePassDatabaseIndex(e){this.ActiveKeePassDatabaseIndex=e},updateConnected(e){this.connected=e},updateConnectedWebsocket(e){this.connectedWebsocket=e},updateCurrentSearchTerm(e){this.currentSearchTerm=e},updateKeePassDatabases(e){this.KeePassDatabases=e},updateLastKeePassRPCRefresh(e){this.lastKeePassRPCRefresh=e},updateLatestConnectionError(e){this.latestConnectionError=e},updateLoginsFound(e){this.loginsFound=e||!1},updateNotifications(e){this.notifications=e},updatePasswordProfiles(e){this.PasswordProfiles=e},updateGeneratedPassword(e){this.generatedPassword=e},updateSubmittedData(e){this.saveState||(this.saveState=new du),this.saveState.submittedData=e||null},updateSaveState(e){this.saveState=e||null},updateSearchResults(e){this.searchResults=e||null},updateSearchResultWithFullDetails(e){const t=e.uuid;for(const n of this.searchResults)if(n.uuid===t){n.fullDetails=e||null;break}},addNotification(e){this.notifications.push(e)},updateSaveEntryResult(e){this.saveEntryResult=e||null},removeFieldFromActiveEntry(e){const t=this.saveState.newEntry.fields.findIndex(i=>i.type==="text"),n=this.saveState.newEntry.fields.findIndex(i=>i.type==="password"),s=this.saveState.newEntry.fields.findIndex(i=>i.uuid===(e||null));if(this.saveState.newEntry.fields.splice(s,1),s===t){const i=this.saveState.newEntry.fields.findIndex(o=>o.type==="text");if(i<0)return;const r=this.saveState.newEntry.fields.splice(i,1)[0];this.saveState.newEntry.fields.splice(s,0,new Ge({...r,name:"KeePass username"}))}else if(s===n){const i=this.saveState.newEntry.fields.findIndex(o=>o.type==="password");if(i<0)return;const r=this.saveState.newEntry.fields.splice(i,1)[0];this.saveState.newEntry.fields.splice(s,0,new Ge({...r,name:"KeePass password"}))}},updateEntryUpdateStartedAtTimestamp(e){this.entryUpdateStartedAtTimestamp=e||null}}}),gu=hu();class Am{constructor(t,n,s,i,r,o,a){this.myPort=t,this.parentFrameId=n,this.formUtils=s,this.formSaving=i,this.Logger=r,this.config=o,this.matchFinder=a,this.findLoginOp={},this.matchResult=new Bg,this.formFinderTimer=null,this.keeFieldIcon=new jg(t,n,s,this.createMatchedLoginsPanelNearNode.bind(this))}executePrimaryAction(){this.matchResult.entries&&this.matchResult.entries.length>0&&this.matchResult.mostRelevantFormIndex!=null&&this.matchResult.mostRelevantFormIndex>=0&&(this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length==1?(this.fillAndSubmit(!1,this.matchResult.mostRelevantFormIndex,0),this.closeMatchedLoginsPanel()):this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length>1&&(this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Fs(En.MatchedLogins,null,this.parentFrameId),this.matchedLoginsPanelStub.createPanel()))}createMatchedLoginsPanelInCenter(t){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Fs(En.MatchedLogins,null,t),this.matchedLoginsPanelStub.createPanel()}createMatchedLoginsPanelNearNode(t){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Fs(En.MatchedLogins,t,this.parentFrameId),this.matchedLoginsPanelStub.createPanel(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}closeMatchedLoginsPanel(){this.matchedLoginsPanelStub&&this.matchedLoginsPanelStub.closePanel(),this.matchedLoginsPanelStub=null,cancelAnimationFrame(this.matchedLoginsPanelStubRaf)}updateMatchedLoginsPanelPosition(){this.matchedLoginsPanelStub.updateBoundingClientRect(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}calculateFieldMatchScore(t,n,s,i,r){const o=t.field;let a=1;return o.type!==n.type?0:(o.locators[0].id!=null&&o.locators[0].id!=null&&o.locators[0].id!=""&&o.locators[0].id==n.locators[0].id?a+=50:i.punishWrongIDAndName&&n.locators[0].id&&(a-=5),o.locators[0].name!=null&&o.locators[0].name!=null&&o.locators[0].name!=""&&o.locators[0].name==n.locators[0].name?a+=40:i.punishWrongIDAndName&&n.locators[0].name&&(a-=5),o.locators[0].type==="radio"&&o.value!=null&&o.value!=null&&o.value!=""&&o.value==n.value&&(a+=30),r===void 0&&this.formUtils.isDOMElementVisible(t.DOMelement)&&(r=!0),a+=r?35:0,a)}fillMatchedFields(t,n,s,i){t.sort(function(o,a){return a.score-o.score});const r=[];for(;t.length>0&&t[0].score>0;){const o=t[0].formFieldIndex,a=t[0].dataFieldIndex,l=s[o],c=n[a],f=l.DOMelement,u=this.getFormFieldCurrentValue(f,l.field.locators[0].type);i&&u&&u!==f.keeInitialDetectedValue?this.Logger.info("Not filling field because it's not empty and was edited by user since last load/fill"):i&&u&&!Qe.current.autoFillFieldsWithExistingValue?this.Logger.info("Not filling field because it's not empty and user preference is to prevent automatic fill"):(this.Logger.info("We will populate field "+o+" (id:"+l.field.locators[0].id+")"),this.fillASingleField(f,l.field.locators[0].type,c.value)),r.push({id:l.field.locators[0].id,DOMelement:f,name:l.field.locators[0].name,value:c.value}),t=t.filter(function(d){return d.dataFieldIndex!=a&&d.formFieldIndex!=o}),t.sort(function(d,y){return y.score-d.score})}return r}getFormFieldCurrentValue(t,n){let s=t.value;return t instanceof HTMLInputElement&&n==="checkbox"&&(t.checked?s="KEEFOX_CHECKED_FLAG_TRUE":s="KEEFOX_CHECKED_FLAG_FALSE"),s}fillASingleField(t,n,s){n=="select-one"?t.value=s:t instanceof HTMLInputElement&&n=="checkbox"?s=="KEEFOX_CHECKED_FLAG_TRUE"?t.checked=!0:t.checked=!1:t instanceof HTMLInputElement&&n=="radio"?t.checked=!0:t.value=s,t.keeInitialDetectedValue=s,t.dispatchEvent(new UIEvent("input",{view:window,bubbles:!0,cancelable:!0})),t.dispatchEvent(new UIEvent("change",{view:window,bubbles:!0,cancelable:!0}))}fillManyFormFields(t,n,s,i,r){if(this.Logger.debug("_fillManyFormFields started"),t==null||t==null||n==null||n==null)return;this.Logger.debug("We've received the data we need"),this.Logger.info("Filling form fields for page "+s);const o=[];for(let a=0;a<t.length;a++)for(let l=0;l<n.length;l++){const c=this.calculateFieldMatchScore(t[a],n[l],s,i);this.Logger.debug("Suitability of putting data field "+l+" into form field "+a+" (id: "+t[a].field.locators[0].id+") is "+c),o.push({score:c,dataFieldIndex:l,formFieldIndex:a})}return this.fillMatchedFields(o,n,t,r)}initMatchResult(t){this.matchResult.UUID="",this.matchResult.entries=[],this.matchResult.mostRelevantFormIndex=null,this.matchResult.mustAutoFillForm=!1,this.matchResult.cannotAutoFillForm=!1,this.matchResult.mustAutoSubmitForm=!1,this.matchResult.cannotAutoSubmitForm=!1,t.UUID!=null&&t.UUID!=null&&t.UUID!=""&&(this.matchResult.UUID=t.UUID,this.matchResult.dbFileName=t.dbFileName,this.matchResult.mustAutoFillForm=!0,t.mustAutoSubmitForm&&(this.matchResult.mustAutoSubmitForm=!0)),this.matchResult.doc=window.document,this.matchResult.formReadyForSubmit=!1,this.matchResult.autofillOnSuccess=t.autofillOnSuccess,this.matchResult.autosubmitOnSuccess=t.autosubmitOnSuccess,this.matchResult.notifyUserOnSuccess=t.notifyUserOnSuccess,this.matchResult.wrappers=[],this.matchResult.allMatchingLogins=[],this.matchResult.formRelevanceScores=[],this.matchResult.submitTargets=[],this.matchResult.usernameIndexArray=[],this.matchResult.passwordFieldsArray=[],this.matchResult.otherFieldsArray=[],this.matchResult.requestCount=0,this.matchResult.responseCount=0,this.matchResult.requestIds=[]}findMatchesInThisFrame(t={}){this.semanticWhitelistCache={},this.semanticBlacklistCache={},this.formFinderTimer!==null&&(clearTimeout(this.formFinderTimer),this.formFinderTimer=null),window.document.forms.length>50&&this.Logger.debug("Too many forms on this page. Assuming it is not a login page and avoiding looking for login forms in order to avoid performance impact.");let n=new Array;for(let a=0;a<window.document.forms.length;a++)n.push(window.document.forms.item(a));const s=this.scanForOrphanedFields(window.document);if(s&&(n=Array.prototype.slice.call(n),n.push(s)),!n||n.length==0){this.Logger.info("No forms found on this page.");return}const i=new URL(window.document.URL);i.hostname=punycode.toUnicode(i.hostname),this.Logger.info("Finding matches in a document. readyState: "+window.document.readyState),this.initMatchResult(t),this.matchResult.forms=n;const r=Qe.siteConfigFor(i.href);this.Logger.debug("findMatches processing "+n.length+" forms");let o=!1;for(let a=0;a<n.length;a++){const l=n[a];this.matchResult.entries[a]=[],this.matchResult.formRelevanceScores[a]=0,this.Logger.debug("about to get form fields");let c;try{c=this.formUtils.getFormFields(l,!1,50)}catch(v){this.Logger.debug("Lost interest in this form after finding too many fields"+v);continue}const f=c.actualUsernameIndex,u=c.pwFields,d=c.otherFields;let y=null;if(y=Qe.isFormInteresting(l,r,d.map(v=>v.field)),y===!1){this.Logger.debug("Lost interest in this form after inspecting field names and IDs");continue}const A=u==null||u.length<=0||u[0]==null,C=f<0||d==null||d.length<=0||d[f]==null;if(A&&(C||y!==!0)){this.Logger.debug("No password field found in this form and either there are no other fields or no whitelisted text field or form element");continue}let F;A?F=d[f].DOMelement:F=u[0].DOMelement,this.attachSubmitHandlers(l,F,a),this.matchResult.usernameIndexArray[a]=f,this.matchResult.passwordFieldsArray[a]=u,this.matchResult.otherFieldsArray[a]=d,this.matchResult.submitTargets[a]=F,o?(this.Logger.debug("form["+a+"]: reusing entries from last form."),this.findLoginOp.formIndexes.push(a)):(this.findLoginOp.forms=n,this.findLoginOp.formIndexes=[a],this.findLoginOp.wrappedBy=this.matchResult,this.matchResult.wrappers[a]=this.findLoginOp,this.matchResult.requestCount++,this.matchFinder(i.href),o=!0)}}async attachSubmitHandlers(t,n,s){try{await Promise.resolve();const i=performance.now(),r=this.findSubmitButton(t,n);this.formSaving.addSubmitHandler(r,t),ye.info("Submit handlers attached asynchronously to form "+s+" in "+(performance.now()-i)+"ms")}catch(i){ye.warn("Exception while adding submit handler. Message: "+i.message)}}scanForOrphanedFields(t){const n=new Date().getTime(),s=[];let i=null;const r=t.getElementsByTagName("input");for(const a of r)a.form||s.push(a);s.length>0&&(i={elements:s,id:"Kee-pseudo-form",name:"Kee-pseudo-form",ownerDocument:t,getElementsByTagName:function(){return this.elements},querySelectorAll:function(){return[]},submit:function(){},offsetParent:!0,addEventListener:function(){},removeEventListener:function(){}});const o=new Date().getTime();return this.Logger.debug("scanForOrphanedFields took: "+(o-n)),i}findLoginsResultHandler(t){if(!t)return;const n=t.filter(s=>Ot.getUsernameField(s)||Ot.getPasswordField(s));this.matchResult=this.getRelevanceOfLoginMatchesAgainstAllForms(n,this.findLoginOp,this.matchResult),this.fillAndSubmit(!0)}getRelevanceOfLoginMatchesAgainstAllForms(t,n,s){const i=JSON.stringify(t);let r=!1;for(let o=0;o<n.forms.length;o++){if(n.formIndexes.indexOf(o)==-1||(s.entries[o]=JSON.parse(i),s.entries[o].length==0))continue;this.Logger.info("match found!");const a=this.formUtils.isDOMElementVisible(s.submitTargets[o]);this.Logger.debug("formVisible: "+a);const l={other:s.otherFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement)),password:s.passwordFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement))};for(let c=0;c<s.entries[o].length;c++){const u={punishWrongIDAndName:gu.KeePassDatabases.find(A=>A.fileName===s.entries[o][c].database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},{score:d,lowFieldMatchRatio:y}=this.calculateRelevanceScore(s.entries[o][c],s.passwordFieldsArray[o],s.otherFieldsArray[o],s.currentPage,a,u,l);s.entries[o][c].relevanceScore=d,s.entries[o][c].lowFieldMatchRatio=y,s.entries[o][c].formIndex=o,s.entries[o][c].entryIndex=c,(!r||s.entries[o][c].relevanceScore>s.allMatchingLogins[c].relevanceScore)&&(this.Logger.debug("Higher relevance score found for entry "+c+" with formIndex "+s.entries[o][c].formIndex+" ("+n.forms[o].id+")"),s.allMatchingLogins[c]=s.entries[o][c])}r=!0,s.entries[o].forEach(function(c){c.relevanceScore>s.formRelevanceScores[o]&&(s.formRelevanceScores[o]=c.relevanceScore)}),this.Logger.debug("Relevance of form "+o+" ("+n.forms[o].id+") is "+s.formRelevanceScores[o])}return s}getMostRelevantForm(t){const n=this.matchResult;if(!n)return{bestFormIndex:0,bestRelevanceScore:0,bestFindMatchesResult:void 0};let s=0;return t>=0?s=t:n.formRelevanceScores.forEach((i,r)=>{this.Logger.debug("Relevance of form is "+i),i>n.formRelevanceScores[s]&&(s=r)}),this.Logger.debug("The most relevant form is #"+s),{bestFormIndex:s,bestRelevanceScore:n.formRelevanceScores[s],bestFindMatchesResult:n}}fillAndSubmit(t,n,s){this.Logger.debug("fillAndSubmit started. automated: "+t+", formIndex: "+n+", entryIndex: "+s);const i=this.matchResult;let r;if(!i)return;const o=!t&&(i.mostRelevantFormIndex!==null&&i.mostRelevantFormIndex>=0||typeof n<"u")&&typeof s<"u";o||(i.mostRelevantFormIndex=this.getMostRelevantForm().bestFormIndex),n!==null&&n>=0&&(i.mostRelevantFormIndex=n);const a=i.forms[i.mostRelevantFormIndex],l=i.passwordFieldsArray[i.mostRelevantFormIndex],c=i.otherFieldsArray[i.mostRelevantFormIndex],f=this.sortMatchedEntries(i.entries[i.mostRelevantFormIndex]),u=this.flagUserPreferredEntry(f);!o&&i.entries[i.mostRelevantFormIndex].length>0&&(this.myPort.postMessage({entries:u}),this.keeFieldIcon.addKeeIconToFields(l,c,u));let d=null,y={fill:!1,submit:!1},A=!1;if(i.cannotAutoFillForm=!1,i.cannotAutoSubmitForm=!1,t&&i.autofillOnSuccess===!1&&(i.cannotAutoFillForm=!0),t&&i.autosubmitOnSuccess===!1&&(i.cannotAutoSubmitForm=!0),!i.cannotAutoFillForm){this.Logger.debug("We are allowed to auto-fill this form."),s>=0&&(d=i.entries[i.mostRelevantFormIndex][s],i.UUID=null,i.dbFileName=null);let C=!1;if(d==null&&i.entries[i.mostRelevantFormIndex].length==1)d=i.entries[i.mostRelevantFormIndex][0],C=!0;else if(i.UUID!=null&&i.UUID!=null&&i.UUID!=""){this.Logger.debug("We've been told to use an entry with this UUID: "+i.UUID);for(let F=0;F<i.entries[i.mostRelevantFormIndex].length;F++)if(i.entries[i.mostRelevantFormIndex][F].uuid==i.UUID){d=i.entries[i.mostRelevantFormIndex][F];break}d==null&&this.Logger.warn("Could not find the required KeePass entry. Maybe the website redirected you to a different domain or hostname?")}else d==null&&(!i.entries[i.mostRelevantFormIndex]||!i.entries[i.mostRelevantFormIndex].length)?this.Logger.debug("No entries for form."):d==null&&(this.Logger.debug("Multiple entries for form, so using preferred or most relevant."),d=u.find(F=>F.isPreferredMatch)||u[0],A=!0,C=!0);if(t&&C&&d!=null&&(d.relevanceScore<1?(this.Logger.info("Our selected entry is not relevant enough to exceed our threshold so will not be auto-filled."),d=null):d.lowFieldMatchRatio&&(this.Logger.info("Our selected entry has a low field match ratio so will not be auto-filled."),d=null)),d!=null){const F=o||(t&&A&&!this.config.autoFillFormsWithMultipleMatches?!1:this.config.autoFillForms),v=o?this.config.autoSubmitMatchedForms:this.config.autoSubmitForms;if(y={fill:F,submit:v},o||(d.alwaysAutoFill&&(y.fill=!0),d.neverAutoFill&&(y.fill=!1)),(!o||!this.config.manualSubmitOverrideProhibited)&&(d.alwaysAutoSubmit&&(y.submit=!0),d.neverAutoSubmit&&(y.submit=!1)),y.fill||i.mustAutoFillForm){this.Logger.debug("Going to auto-fill a form");const E={punishWrongIDAndName:gu.KeePassDatabases.find(D=>D.fileName===d.database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},x=this.fillManyFormFields(c,d.fields.filter(D=>D.type!=="password"),-1,E,t),R=this.fillManyFormFields(l,d.fields.filter(D=>D.type==="password"),-1,E,t);i.formReadyForSubmit=!0,i.lastFilledPasswords=R,i.lastFilledOther=x,R&&R.length>0?r=R[0].DOMelement:x&&x.length>0&&(r=x[0].DOMelement),this.formSaving.updateMatchResult(i)}}}i.formReadyForSubmit&&(i.UUID==null||i.UUID==null||i.UUID=="")&&(this.Logger.debug("Syncing UUID to: "+d.uuid),i.UUID=d.uuid,i.dbFileName=d.database.fileName),!i.cannotAutoSubmitForm&&(y.submit||i.mustAutoSubmitForm)&&i.formReadyForSubmit?(this.Logger.info("Auto-submitting form..."),this.submitForm(a,r)):o?this.Logger.debug("Matched entry request is not being auto-submitted."):this.matchResult.allMatchingLogins.length>0?t?this.Logger.debug("Automatic form fill complete."):this.Logger.debug("Manual form fill complete."):this.Logger.info("Nothing to fill.")}sortMatchedEntries(t){return t.map(n=>new Ot({...n})).sort((n,s)=>s.relevanceScore-n.relevanceScore)}flagUserPreferredEntry(t){const n=new URL(window.document.URL);n.hostname=punycode.toUnicode(n.hostname);const s=Qe.siteConfigFor(n.href);return t.map(i=>new Ot({...i,isPreferredMatch:s.preferredEntryUuid===i.uuid}))}findSubmitButton(t,n){const s=[];let A=0;const C=(b,N)=>this.commonAncestorDistance(b,N,F),F=new Map,v=this.formUtils;function g(b,N){A>N+60+100||((v.isDOMElementVisible(b)||!v.isDOMElementVisible(n))&&(N+=60),A>N+100)||(s.push({distance:C(b,n),element:b,score:N}),A=N)}function E(b){var K;const N=[];return b.hasAttribute("aria-label")&&N.push(b.getAttribute("aria-label").toLowerCase()),(K=b.getAttribute("aria-labelledby"))==null||K.trim().split(" ").forEach(B=>{if(B){const W=t.ownerDocument.getElementById(B);W&&W.innerText&&N.push(W.innerText.toLowerCase())}}),N}if(Array.from(t.ownerDocument.getElementsByTagName("button")).forEach(b=>{if(b.isConnected&&(!b.type||b.type!="reset")){const N=[];b.name&&N.push(b.name.toLowerCase()),b.textContent&&N.push(b.textContent.toLowerCase()),b.value&&N.push(b.value.toLowerCase()),N.push(...E(b));let K=this.scoreAdjustmentForMagicWords(N,50,this.semanticWhitelistCache,this.semanticBlacklistCache);K+=b.form&&b.form==t?60:40,g(b,K)}}),Array.from(t.getElementsByTagName("input")).forEach(b=>{if(b.isConnected&&b.type!=null){let N=0;if(b.type=="submit"||b.type=="button"){b.name&&(N+=this.scoreAdjustmentForMagicWords([b.name.toLowerCase()],50,this.semanticWhitelistCache,this.semanticBlacklistCache));const K=[];b.value&&K.push(b.value.toLowerCase()),K.push(...E(b)),K.length>0&&(N+=this.scoreAdjustmentForMagicWords(K,40,this.semanticWhitelistCache,this.semanticBlacklistCache)),b.id&&(N+=this.scoreAdjustmentForMagicWords([b.id.toLowerCase()],20,this.semanticWhitelistCache,this.semanticBlacklistCache))}if(b.type=="submit"||b.type=="button"||b.type=="image"){let K=N;K+=b.type=="button"?30:b.type=="image"?40:50,g(b,K)}}}),Array.from(t.ownerDocument.querySelectorAll("[role=button]:not(button)")).forEach(b=>{if(!b.isConnected)return;const N=[];b.name&&N.push(b.name.toLowerCase()),b.id&&N.push(b.id.toLowerCase()),b.title&&N.push(b.title.toLowerCase()),b.innerText&&N.push(b.innerText.toLowerCase()),b.dataSet&&b.dataSet.length>0&&b.dataSet.tooltip&&N.push(b.dataSet.tooltip.toLowerCase()),N.push(...E(b));let K=this.scoreAdjustmentForMagicWords(N,50,this.semanticWhitelistCache,this.semanticBlacklistCache);K+=b.form&&b.form==t?20:10,g(b,K)}),s.length<=0)return null;if(s.length===1)return s[0].element;const x=s.sort((b,N)=>b.distance>N.distance?-1:b.distance<N.distance?1:0),R=x[0].distance-x[x.length-1].distance,D=Math.min(100,20*R);let P=1/x.length,w=x[0].distance;x.forEach((b,N,K)=>{b.distance<w&&(P=(N+1)/K.length,w=b.distance),b.score+=P*D});let m=x[0].score,_=x[0].element;for(let b=1;b<x.length;b++)x[b].score>m&&(m=x[b].score,_=x[b].element);return _}scoreAdjustmentForMagicWords(t,n,s,i){const r=["submit","login","enter","log in","signin","sign in","next","continue"],o=["reset","cancel","back","abort","undo","exit","empty","clear","captcha","totp","forgot","dismiss","delete","show","reveal"];let a=!1,l=!1;for(let c=0;c<t.length&&!a;c++){if(!t[c])continue;const f=t[c].trim();if(f){if(s[f]===!0){a=!0;break}if(s[f]!==!1)for(let u=0;u<r.length;u++)if(f.indexOf(r[u])>=0){a=!0,s[f]=!0;break}else s[f]=!1}}for(let c=0;c<t.length&&!l;c++){if(!t[c])continue;const f=t[c].trim();if(f){if(i[f]===!0){l=!0;break}if(i[f]!==!1)for(let u=0;u<o.length;u++)if(f.indexOf(o[u])>=0){l=!0,i[f]=!0;break}else i[f]=!1}}return a&&l?0:l?-1*n:a?n:0}commonAncestorDistance(t,n,s){let i=1,r=!1;const o=[];let a=0;for(;t=t.parentElement;){const l=s.get(t);if(l!==void 0){i+=l,a=l+1,r=!0;break}if(o.push(t),t.contains(n)){r=!0;break}i++}if(r){if(o.length>0)for(let l=a;l<i&&o.length>0;l++){const c=o.pop();s.set(c,l)}return i}else return 9007199254740991}submitForm(t,n){const s=this.findSubmitButton(t,n);this.formSaving.removeAllSubmitHandlers(),s!=null?(this.Logger.debug("Submiting using element: "+s.name+": "+s.id),s.click()):(this.Logger.debug("Submiting using form"),t.submit())}calculateRelevanceScore(t,n,s,i,r,o,a){let l=0,c=!1;l+=t.matchAccuracy,r||(l-=20);const f=.501,[u,d]=this.determineRelevanceScores("other",s,t.fields.filter(m=>m.type!=="password"),i,o,a.other),[y,A]=this.determineRelevanceScores("password",n,t.fields.filter(m=>m.type==="password"),i,o,a.password),C=u+y,F=n.concat(s).filter(m=>m.field.locators[0].id||m.field.locators[0].name||m.field.value).length,v=t.fields.filter(m=>m.locators[0].id||m.locators[0].name||m.value).length,g=n.concat(s).filter(m=>(m.field.type==="password"||m.field.type==="text")&&(m.field.locators[0].id||m.field.locators[0].name)).length,E=t.fields.filter(m=>(m.type==="password"||m.type==="text")&&(m.locators[0].id||m.locators[0].name||m.value)).length,x=d.filter(m=>m===!0).length+A.filter(m=>m===!0).length,R=n.filter(m=>{var _;return(_=m.field.locators[0].autocompleteValues)==null?void 0:_.some(b=>b==="new-password")}).length,D=Math.min(E+R,x)/Math.max(1,g);this.Logger.debug("formFieldCount: "+F+", loginFieldCount: "+v+", loginFieldCountForAutofill: "+E+", formFieldCountForAutofill: "+g+", formMatchedFieldCountForAutofill: "+x+", numberOfNewPasswordFields: "+R+", fieldMatchRatio: "+D),D<f&&(this.Logger.info(t.uuid+" will be forced to not auto-fill because the form field match ratio ("+D+") is not high enough."),c=!0);const w=C/Math.max(F,v)/(Math.abs(F-v)+1);return l+=w,this.Logger.info("Relevance for "+t.uuid+" is: "+l),{score:l,lowFieldMatchRatio:c}}determineRelevanceScores(t,n,s,i,r,o){var f;let a=0;const l=1,c=[];for(let u=0;u<n.length;u++){let d=0;const y=n[u].field;(f=y.locators[0].autocompleteValues)!=null&&f.some(A=>A==="new-password")&&(c[u]=!0);for(let A=0;A<s.length;A++){const C=this.calculateFieldMatchScore(n[u],s[A],i,r,o[u]);this.Logger.debug("Suitability of putting "+t+" field "+A+" into form field "+u+" (id: "+y.locators[0].id+") is "+C),C>d&&(d=C);const F=C-(o[u]?0:10);(y.type==="text"||y.type==="password")&&F>=l&&s[A].value&&!c[u]&&(c[u]=!0),(n[u].highestScore==null||C>n[u].highestScore)&&(n[u].highestScore=C)}a+=d}return[a,c]}removeKeeIconFromAllFields(){this.keeFieldIcon.removeKeeIconFromAllFields()}}class Cm{}class Em{constructor(t){this.findLoginOps=[],this.matchResults=[],this.Logger=t}countAllDocuments(t){if(!this.isUriWeCanFill(t.location))return 0;let n=1;if(t.frames.length>0){const s=t.frames;for(let i=0;i<s.length;i++)n+=this.countAllDocuments(s[i])}return n}isUriWeCanFill(t){return t.protocol=="http:"||t.protocol=="https:"||t.protocol=="file:"}isATextFormFieldType(t){return!(t=="checkbox"||t=="select-one"||t=="radio"||t=="password"||t=="hidden"||t=="submit"||t=="button"||t=="file"||t=="image"||t=="reset")}isAKnownUsernameString(t){const n=t.toLowerCase();return n=="username"||n=="j_username"||n=="user_name"||n=="user"||n=="user-name"||n=="login"||n=="vb_login_username"||n=="name"||n=="user name"||n=="user id"||n=="user-id"||n=="userid"||n=="email"||n=="e-mail"||n=="id"||n=="form_loginname"||n=="wpname"||n=="mail"||n=="loginid"||n=="login id"||n=="login_name"||n=="openid_identifier"||n=="authentication_email"||n=="openid"||n=="auth_email"||n=="auth_id"||n=="authentication_identifier"||n=="authentication_id"||n=="customer_number"||n=="customernumber"||n=="onlineid"}getFormFields(t,n,s){var A;const i=[],r=[],o=[];let a=-1,l=-1,c=-1;const f=t.elements.length,u=f<2e3?f:2e3;for(let C=0;C<u;C++){if(o.length>s)throw new Error("Too many fields");if(t.elements[C].localName.toLowerCase()=="object"||t.elements[C].localName.toLowerCase()=="keygen"||t.elements[C].localName.toLowerCase()=="output"||t.elements[C].localName.toLowerCase()!="input"&&(t.elements[C].type==null||t.elements[C].type==null))continue;const F=t.elements[C].type.toLowerCase();if(F=="fieldset"||F!="password"&&!this.isATextFormFieldType(F)&&F!="checkbox"&&F!="radio"&&F!="select-one"||F=="radio"&&n&&t.elements[C].checked==!1||F=="password"&&n&&!t.elements[C].value||F=="select-one"&&n&&!t.elements[C].value)continue;this.Logger.debug(`processing field with domtype ${F}...`),o[o.length]={index:C,element:new Cm,type:F};let v=t.elements[C].value;F=="checkbox"&&(t.elements[C].checked?v="KEEFOX_CHECKED_FLAG_TRUE":v="KEEFOX_CHECKED_FLAG_FALSE");const g=Ge.fromDOM(t.elements[C],F,v);o[o.length-1].element.field=g,o[o.length-1].element.DOMelement=t.elements[C],F=="password"&&a==-1&&(a=o.length-1),this.isATextFormFieldType(F)&&l==-1&&(this.isAKnownUsernameString(t.elements[C].name)||(A=g.locators[0].labels)!=null&&A.some(E=>this.isAKnownUsernameString(E)))&&(l=o.length-1),t.elements[C].keeInitialDetectedValue==null&&(t.elements[C].keeInitialDetectedValue=v)}l!=-1?c=l:a>0&&(c=a-1),this.Logger.debug("usernameIndex: "+c);let d=0,y=0;for(let C=0;C<o.length;C++)o[C].type=="password"?i[i.length]=o[C].element:(this.isATextFormFieldType(o[C].type)||o[C].type=="checkbox"||o[C].type=="radio"||o[C].type=="select-one")&&(r[r.length]=o[C].element,C==c?y=d:d++);return this.Logger.debug("actualUsernameIndex: "+y),this.Logger.debug("otherFields.length:"+r.length),{actualUsernameIndex:y,pwFields:i,otherFields:r}}isDOMElementVisible(t){return!(!t.offsetParent&&t.offsetHeight===0&&t.offsetWidth===0)}}class xm{constructor(t,n,s){this.myPort=t,this.SubmitHandlerAttachments=[],this.Logger=n,this.formUtils=s}addSubmitHandler(t,n){const s=i=>this.submitHandler(i,n);this.SubmitHandlerAttachments.push({target:t,form:n,handler:s}),t&&t.addEventListener("click",s),n.addEventListener("submit",s)}removeAllSubmitHandlers(){this.SubmitHandlerAttachments.forEach(t=>{t.target&&t.target.removeEventListener("click",t.handler),t.form.removeEventListener("submit",t.handler)}),this.SubmitHandlerAttachments=[]}updateMatchResult(t){this.matchResult=t}submitHandler(t,n){this.Logger.debug("submitHandler called"),this.removeAllSubmitHandlers();const s=n.ownerDocument,i=new URL(s.URL);if(i.hostname=punycode.toUnicode(i.hostname),Qe.siteConfigFor(i.href).preventSaveNotification)return;let o=!1,a=!1;const l=[];let c;try{c=this.formUtils.getFormFields(n,!0,50)}catch(v){this.Logger.warn("Lost interest in this form after finding too many fields"+v);return}const f=c.actualUsernameIndex,u=c.pwFields,d=c.otherFields;if(u.length>1){let v=-1;for(let g=0;g<u.length&&v==-1;g++)for(let E=g+1;E<u.length&&v==-1;E++)u[E].field.value==u[g].field.value&&(v=E);if(v==-1){this.Logger.debug("multiple passwords found (with no identical values)");for(let g=0;g<u.length;g++)l.push(u[g])}else this.Logger.debug("Looks like a password change form or new registration form has been submitted"),u.length==2?(l.push(u[0]),o=!1,a=!0):(o=!1,a=!1,l.push(u[v]))}else u!=null&&u[0]!=null&&u[0]!=null&&l.push(u[0]);const y=this.removeEmptyFields(l),A=this.removeEmptyFields(d),C=!this.matchResult||!this.matchResult.lastFilledPasswords||this.hasFieldBeenModified(y,this.matchResult.lastFilledPasswords),F=!this.matchResult||!this.matchResult.lastFilledOther||this.hasFieldBeenModified(A,this.matchResult.lastFilledOther);if(C||F){const v={url:i.href,fields:Ge.combineDomFieldLists(f,A.map(g=>g.field),y.map(g=>g.field)),title:s.title||i.hostname,isPasswordChangeForm:o,isRegistrationForm:a};this.myPort.postMessage({submittedData:v})}}removeEmptyFields(t){return t.filter(n=>n.field.value||n.field.type==="boolean")}hasFieldBeenModified(t,n){return!!n.find(s=>{const i=t.find(r=>s.DOMelement==r.DOMelement);return!i||i.field.value!=s.value})}}const mu=En.GeneratePassword;class Sm{constructor(t){this.parentFrameId=t}createGeneratePasswordPanel(){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Fs(mu,null,this.parentFrameId),this.generatePasswordPanelStub.createPanel()}createGeneratePasswordPanelNearNode(t){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Fs(mu,t,this.parentFrameId),this.generatePasswordPanelStub.createPanel(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}closeGeneratePasswordPanel(){this.generatePasswordPanelStub&&this.generatePasswordPanelStub.closePanel(),this.generatePasswordPanelStub=null,cancelAnimationFrame(this.generatePasswordPanelStubRaf)}updateGeneratePasswordPanelPosition(){this.generatePasswordPanelStub.updateBoundingClientRect(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}}class Tm{constructor(t){this.store=t,this.receivedMutations=[],this.initialized=!1,this.pendingMutations=[],this.store.$subscribe(n=>{if(n.type==it.patchObject)this.hookMutation(n);else throw new Error("Pinia generated a non-object mutation. We don't think we can support this and need to know that it is possible for it to happen! Tell us now or weird things will happen.")})}init(t,n,s){this.sendMutation=n,this.store.$patch(t),this.initialized=!0,this.processPendingMutations(),s&&s()}reset(t){this.store.$patch(t)}onRemoteMutation(t){this.initialized&&(this.receivedMutations.push(t),this.store.$patch(t.payload))}hookMutation(t){if(!this.initialized)return this.pendingMutations.push(t);if(!this.receivedMutations.length)return this.sendMutation(t);for(let n=this.receivedMutations.length-1;n>=0;n--)if(this.receivedMutations[n]==t.payload){this.receivedMutations.splice(n,1);break}else n==0&&this.sendMutation(t)}processPendingMutations(){if(this.pendingMutations.length)for(let t=0;t<this.pendingMutations.length;t++)this.sendMutation(this.pendingMutations[t]),this.pendingMutations.splice(t,1)}}class Pm{constructor(){this.mixin={methods:{postMessage:t=>{this.port.postMessage(t)}}}}postMessage(t){this.port.postMessage(t)}startup(t){this.port=nt.runtime.connect({name:t})}shutdown(){this.port=null}get raw(){return this.port}}const je=new Pm;var Ns;Ns?ye&&ye.error?ye.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ns):console.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ns):Ns=0,Ns+=1;let Bi,ve,Ms,Hi,Ki,Wi,Ro=!1,pu,bu=!1,yu=!1,wu,Fo;Fi(oi).use(pm());const Pn=hu();if(document.body){let e=function(r){je.postMessage({findMatches:{uri:r}})},t=function(){if(window.location.hostname.endsWith("tutorial-addon.kee.pm")){const r=document.createElement("KeeFoxAddonStateTransferElement");r.setAttribute("state",JSON.stringify({connected:Pn.connected,version:nt.runtime.getManifest().version,dbLoaded:Pn.KeePassDatabases.length>0,sessionNames:Pn.KeePassDatabases.map(a=>a.sessionType.toString()).filter((a,l,c)=>c.indexOf(a)===l)})),document.documentElement.appendChild(r);const o=new Event("KeeFoxAddonStateTransferEvent",{bubbles:!0,cancelable:!1});r.dispatchEvent(o)}},n=function(r){Ki=r,ye.attachConfig(Qe.current),Bi=new Em(ye),Ms=new xm(je.raw,ye,Bi),ve=new Am(je.raw,Ki,Bi,Ms,ye,Qe.current,e),Hi=new Sm(Ki),Fo.observe(document.body,{childList:!0,subtree:!0}),t()},s=function(){ye.debug("content page starting");try{i(),je.raw==null&&ye.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){ye.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}pu=window.setInterval(()=>{if(je.raw==null){ye.info("Messaging port was not established at page startup. Retrying now...");try{i(),je.raw==null&&ye.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){ye.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}}else clearInterval(pu)},5e3),ye.debug("content page ready")},i=function(){if(je.raw){ye.warn("port already set to '"+je.raw.name+"'. Skipping startup because it should already be underway but is taking a long time.");return}Wi=new Tm(Pn),je.startup("page"),je.raw.onMessage.addListener(function(r){if(ye.debug("In browser content page script, received message from background script"),r.initialState&&Wi.init(r.initialState,o=>{je.postMessage({mutation:o})}),r.mutation){Wi.onRemoteMutation(r.mutation);return}Ro?r.action==yt.DetectForms&&(r.resetState&&Wi.reset(r.resetState),ve.removeKeeIconFromAllFields(),Ms.removeAllSubmitHandlers(),Pn.entryUpdateStartedAtTimestamp>=Date.now()-2e4?ve.findMatchesInThisFrame({autofillOnSuccess:!1,autosubmitOnSuccess:!1}):ve.findMatchesInThisFrame()):(n(r.frameId),ve.findMatchesInThisFrame(),Ro=!0),r.findMatchesResult&&ve.findLoginsResultHandler(r.findMatchesResult),r.action==yt.ManualFill&&r.selectedEntryIndex!=null&&(ve.closeMatchedLoginsPanel(),ve.fillAndSubmit(!1,null,r.selectedEntryIndex)),r.action==yt.ResetForms&&(ve.removeKeeIconFromAllFields(),Ms.removeAllSubmitHandlers()),r.action==yt.Primary&&ve.executePrimaryAction(),r.action==yt.GeneratePassword&&Hi.createGeneratePasswordPanel(),r.action==yt.CloseAllPanels&&(Hi.closeGeneratePasswordPanel(),ve.closeMatchedLoginsPanel()),r.action==yt.ShowMatchedLoginsPanel&&ve.createMatchedLoginsPanelInCenter(r.frameId)})};Fo=new MutationObserver(r=>{if(ve.formFinderTimer!==null||!Pn.connected||Pn.ActiveKeePassDatabaseIndex<0)return;let o=!1;const a=["form","input","select"];r.forEach(l=>{if(!o&&l.type==="childList"&&l.addedNodes.length>0)for(const c of l.addedNodes){if(o)break;for(let f=0;f<a.length;f++){const u=c;if(u.querySelector&&u.querySelector(a[f])){o=!0;break}}}}),o&&(ve.formFinderTimer=window.setTimeout(ve.findMatchesInThisFrame.bind(ve),500))}),window.addEventListener("pageshow",()=>{bu=!0,clearTimeout(wu),yu&&s()}),window.addEventListener("pagehide",()=>{Fo.disconnect(),je.raw&&je.postMessage({action:yt.PageHide}),ve.removeKeeIconFromAllFields(),je.shutdown(),Ro=!1,Ki=void 0,Bi=void 0,Ms=void 0,ve=void 0,Hi=void 0}),Qe.load(()=>{yu=!0,bu?s():wu=window.setTimeout(s,1500)})}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZ2xvYmFsLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9jb21wYXQvZGlzdC92dWUucnVudGltZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWJleHRlbnNpb24tcG9seWZpbGwvZGlzdC9icm93c2VyLXBvbHlmaWxsLmpzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9jb25maWcudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL0RlZmF1bHRTaXRlQ29uZmlnLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9Db25maWdNaWdyYXRpb25zLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi91dGlscy50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vTG9nZ2VyLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9Db25maWdNYW5hZ2VyLnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvUGFuZWxTdHViLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9BY3Rpb24udHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9rZWVGaWVsZEljb24udHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9NYXRjaFJlc3VsdC50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvU2Vzc2lvblR5cGUudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0VudHJ5U3VtbWFyeS50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvR3JvdXAudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0RhdGFiYXNlLnRzIiwiLi4vLi4vLi4vc3JjL2NvbW1vbi9Eb2xsYXJQb2x5ZmlsbHMudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0xvY2F0b3IudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0tQUlBDRFRPcy50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvRmllbGQudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL21vZGVsL0dyb3VwU3VtbWFyeS50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vbW9kZWwvRW50cnkudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWRlbWkvbGliL2luZGV4Lm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2Vudi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2NvbnN0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vdGltZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL3Byb3h5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcGluaWEvZGlzdC9waW5pYS5tanMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL1NhdmVTdGF0ZS50cyIsIi4uLy4uLy4uL3NyYy9zdG9yZS9LZWVTdGF0ZS50cyIsIi4uLy4uLy4uL3NyYy9jb21tb24vU2Vzc2lvblR5cGUudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvaW5kZXgudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9mb3JtRmlsbGluZy50cyIsIi4uLy4uLy4uL3NyYy9wYWdlL01hdGNoZWRGaWVsZC50cyIsIi4uLy4uLy4uL3NyYy9wYWdlL2Zvcm1zVXRpbHMudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9mb3JtU2F2aW5nLnRzIiwiLi4vLi4vLi4vc3JjL3BhZ2UvUGFzc3dvcmRHZW5lcmF0b3IudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvc3luY0NvbnRlbnQudHMiLCIuLi8uLi8uLi9zcmMvY29tbW9uL3BvcnQudHMiLCIuLi8uLi8uLi9zcmMvcGFnZS9wYWdlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWFrZSBhIG1hcCBhbmQgcmV0dXJuIGEgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGEga2V5XG4gKiBpcyBpbiB0aGF0IG1hcC5cbiAqIElNUE9SVEFOVDogYWxsIGNhbGxzIG9mIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBwcmVmaXhlZCB3aXRoXG4gKiBcXC9cXCojXFxfXFxfUFVSRVxcX1xcX1xcKlxcL1xuICogU28gdGhhdCByb2xsdXAgY2FuIHRyZWUtc2hha2UgdGhlbSBpZiBuZWNlc3NhcnkuXG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyLCBleHBlY3RzTG93ZXJDYXNlKSB7XG4gICAgY29uc3QgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBjb25zdCBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcFtsaXN0W2ldXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RzTG93ZXJDYXNlID8gdmFsID0+ICEhbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXSA6IHZhbCA9PiAhIW1hcFt2YWxdO1xufVxuXG5jb25zdCBHTE9CQUxTX1dISVRFX0xJU1RFRCA9ICdJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLHBhcnNlRmxvYXQscGFyc2VJbnQsZGVjb2RlVVJJLCcgK1xuICAgICdkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCxNYXRoLE51bWJlcixEYXRlLEFycmF5LCcgK1xuICAgICdPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCc7XG5jb25zdCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoR0xPQkFMU19XSElURV9MSVNURUQpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGlzU3RyaW5nKGl0ZW0pXG4gICAgICAgICAgICAgICAgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVTdHlsZShpdGVtKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgICAgICByZXNba2V5XSA9IG5vcm1hbGl6ZWRba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KFteXSspLztcbmNvbnN0IHN0eWxlQ29tbWVudFJFID0gL1xcL1xcKi4qP1xcKlxcLy9ncztcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nU3R5bGUoY3NzVGV4dCkge1xuICAgIGNvbnN0IHJldCA9IHt9O1xuICAgIGNzc1RleHRcbiAgICAgICAgLnJlcGxhY2Uoc3R5bGVDb21tZW50UkUsICcnKVxuICAgICAgICAuc3BsaXQobGlzdERlbGltaXRlclJFKVxuICAgICAgICAuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XG4gICAgICAgICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3ModmFsdWUpIHtcbiAgICBsZXQgcmVzID0gJyc7XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXMgPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNsYXNzKHZhbHVlW2ldKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgcmVzICs9IG5vcm1hbGl6ZWQgKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgcmVzICs9IG5hbWUgKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcy50cmltKCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyhwcm9wcykge1xuICAgIGlmICghcHJvcHMpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9wcztcbn1cblxuLy8gVGhlc2UgdGFnIGNvbmZpZ3MgYXJlIHNoYXJlZCBiZXR3ZWVuIGNvbXBpbGVyLWRvbSBhbmQgcnVudGltZS1kb20sIHNvIHRoZXlcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudFxuY29uc3QgSFRNTF9UQUdTID0gJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsJyArXG4gICAgJ2hlYWRlcixoMSxoMixoMyxoNCxoNSxoNixuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbiwnICtcbiAgICAnZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsJyArXG4gICAgJ2RhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLCcgK1xuICAgICd0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLCcgK1xuICAgICdjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsJyArXG4gICAgJ3RoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCwnICtcbiAgICAnb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSwnICtcbiAgICAnc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCc7XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvRWxlbWVudFxuY29uc3QgU1ZHX1RBR1MgPSAnc3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLCcgK1xuICAgICdkZWZzLGRlc2MsZGlzY2FyZCxlbGxpcHNlLGZlQmxlbmQsZmVDb2xvck1hdHJpeCxmZUNvbXBvbmVudFRyYW5zZmVyLCcgK1xuICAgICdmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLCcgK1xuICAgICdmZURpc3RhbmNlTGlnaHQsZmVEcm9wU2hhZG93LGZlRmxvb2QsZmVGdW5jQSxmZUZ1bmNCLGZlRnVuY0csZmVGdW5jUiwnICtcbiAgICAnZmVHYXVzc2lhbkJsdXIsZmVJbWFnZSxmZU1lcmdlLGZlTWVyZ2VOb2RlLGZlTW9ycGhvbG9neSxmZU9mZnNldCwnICtcbiAgICAnZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlciwnICtcbiAgICAnZm9yZWlnbk9iamVjdCxnLGhhdGNoLGhhdGNocGF0aCxpbWFnZSxsaW5lLGxpbmVhckdyYWRpZW50LG1hcmtlcixtYXNrLCcgK1xuICAgICdtZXNoLG1lc2hncmFkaWVudCxtZXNocGF0Y2gsbWVzaHJvdyxtZXRhZGF0YSxtcGF0aCxwYXRoLHBhdHRlcm4sJyArXG4gICAgJ3BvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsJyArXG4gICAgJ3RleHQsdGV4dFBhdGgsdGl0bGUsdHNwYW4sdW5rbm93bix1c2Usdmlldyc7XG4vKipcbiAqIENvbXBpbGVyIG9ubHkuXG4gKiBEbyBOT1QgdXNlIGluIHJ1bnRpbWUgY29kZSBwYXRocyB1bmxlc3MgYmVoaW5kIGAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylgIGZsYWcuXG4gKi9cbmNvbnN0IGlzSFRNTFRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChIVE1MX1RBR1MpO1xuLyoqXG4gKiBDb21waWxlciBvbmx5LlxuICogRG8gTk9UIHVzZSBpbiBydW50aW1lIGNvZGUgcGF0aHMgdW5sZXNzIGJlaGluZCBgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpYCBmbGFnLlxuICovXG5jb25zdCBpc1NWR1RhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChTVkdfVEFHUyk7XG5cbi8qKlxuICogT24gdGhlIGNsaWVudCB3ZSBvbmx5IG5lZWQgdG8gb2ZmZXIgc3BlY2lhbCBjYXNlcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzIHRoYXRcbiAqIGhhdmUgZGlmZmVyZW50IG5hbWVzIGZyb20gdGhlaXIgY29ycmVzcG9uZGluZyBkb20gcHJvcGVydGllczpcbiAqIC0gaXRlbXNjb3BlIC0+IE4vQVxuICogLSBhbGxvd2Z1bGxzY3JlZW4gLT4gYWxsb3dGdWxsc2NyZWVuXG4gKiAtIGZvcm1ub3ZhbGlkYXRlIC0+IGZvcm1Ob1ZhbGlkYXRlXG4gKiAtIGlzbWFwIC0+IGlzTWFwXG4gKiAtIG5vbW9kdWxlIC0+IG5vTW9kdWxlXG4gKiAtIG5vdmFsaWRhdGUgLT4gbm9WYWxpZGF0ZVxuICogLSByZWFkb25seSAtPiByZWFkT25seVxuICovXG5jb25zdCBzcGVjaWFsQm9vbGVhbkF0dHJzID0gYGl0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seWA7XG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzKTtcbi8qKlxuICogQm9vbGVhbiBhdHRyaWJ1dGVzIHNob3VsZCBiZSBpbmNsdWRlZCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IG9yICcnLlxuICogZS5nLiBgPHNlbGVjdCBtdWx0aXBsZT5gIGNvbXBpbGVzIHRvIGB7IG11bHRpcGxlOiAnJyB9YFxuICovXG5mdW5jdGlvbiBpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSB8fCB2YWx1ZSA9PT0gJyc7XG59XG5cbmZ1bmN0aW9uIGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBlcXVhbCA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGVxdWFsICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVxdWFsID0gbG9vc2VFcXVhbChhW2ldLCBiW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGVxdWFsO1xufVxuZnVuY3Rpb24gbG9vc2VFcXVhbChhLCBiKSB7XG4gICAgaWYgKGEgPT09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGxldCBhVmFsaWRUeXBlID0gaXNEYXRlKGEpO1xuICAgIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKSA6IGZhbHNlO1xuICAgIH1cbiAgICBhVmFsaWRUeXBlID0gaXNTeW1ib2woYSk7XG4gICAgYlZhbGlkVHlwZSA9IGlzU3ltYm9sKGIpO1xuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgfVxuICAgIGFWYWxpZFR5cGUgPSBpc0FycmF5KGEpO1xuICAgIGJWYWxpZFR5cGUgPSBpc0FycmF5KGIpO1xuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xuICAgIH1cbiAgICBhVmFsaWRUeXBlID0gaXNPYmplY3QoYSk7XG4gICAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xuICAgIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmOiB0aGlzIGlmIHdpbGwgcHJvYmFibHkgbmV2ZXIgYmUgY2FsbGVkICovXG4gICAgICAgIGlmICghYVZhbGlkVHlwZSB8fCAhYlZhbGlkVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhiKS5sZW5ndGg7XG4gICAgICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYSkge1xuICAgICAgICAgICAgY29uc3QgYUhhc0tleSA9IGEuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgICAgICAgIGNvbnN0IGJIYXNLZXkgPSBiLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICAgICAgICBpZiAoKGFIYXNLZXkgJiYgIWJIYXNLZXkpIHx8XG4gICAgICAgICAgICAgICAgKCFhSGFzS2V5ICYmIGJIYXNLZXkpIHx8XG4gICAgICAgICAgICAgICAgIWxvb3NlRXF1YWwoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKTtcbn1cbmZ1bmN0aW9uIGxvb3NlSW5kZXhPZihhcnIsIHZhbCkge1xuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGl0ZW0gPT4gbG9vc2VFcXVhbChpdGVtLCB2YWwpKTtcbn1cblxuLyoqXG4gKiBGb3IgY29udmVydGluZyB7eyBpbnRlcnBvbGF0aW9uIH19IHZhbHVlcyB0byBkaXNwbGF5ZWQgc3RyaW5ncy5cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcbiAgICByZXR1cm4gaXNTdHJpbmcodmFsKVxuICAgICAgICA/IHZhbFxuICAgICAgICA6IHZhbCA9PSBudWxsXG4gICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICA6IGlzQXJyYXkodmFsKSB8fFxuICAgICAgICAgICAgICAgIChpc09iamVjdCh2YWwpICYmXG4gICAgICAgICAgICAgICAgICAgICh2YWwudG9TdHJpbmcgPT09IG9iamVjdFRvU3RyaW5nIHx8ICFpc0Z1bmN0aW9uKHZhbC50b1N0cmluZykpKVxuICAgICAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMilcbiAgICAgICAgICAgICAgICA6IFN0cmluZyh2YWwpO1xufTtcbmNvbnN0IHJlcGxhY2VyID0gKF9rZXksIHZhbCkgPT4ge1xuICAgIC8vIGNhbid0IHVzZSBpc1JlZiBoZXJlIHNpbmNlIEB2dWUvc2hhcmVkIGhhcyBubyBkZXBzXG4gICAgaWYgKHZhbCAmJiB2YWwuX192X2lzUmVmKSB7XG4gICAgICAgIHJldHVybiByZXBsYWNlcihfa2V5LCB2YWwudmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc01hcCh2YWwpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbYE1hcCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC5lbnRyaWVzKCldLnJlZHVjZSgoZW50cmllcywgW2tleSwgdmFsXSkgPT4ge1xuICAgICAgICAgICAgICAgIGVudHJpZXNbYCR7a2V5fSA9PmBdID0gdmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgICAgICAgICAgfSwge30pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59O1xuXG5jb25zdCBFTVBUWV9PQkogPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICA/IE9iamVjdC5mcmVlemUoe30pXG4gICAgOiB7fTtcbmNvbnN0IEVNUFRZX0FSUiA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IE9iamVjdC5mcmVlemUoW10pIDogW107XG5jb25zdCBOT09QID0gKCkgPT4geyB9O1xuLyoqXG4gKiBBbHdheXMgcmV0dXJuIGZhbHNlLlxuICovXG5jb25zdCBOTyA9ICgpID0+IGZhbHNlO1xuY29uc3Qgb25SRSA9IC9eb25bXmEtel0vO1xuY29uc3QgaXNPbiA9IChrZXkpID0+IG9uUkUudGVzdChrZXkpO1xuY29uc3QgaXNNb2RlbExpc3RlbmVyID0gKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoJ29uVXBkYXRlOicpO1xuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XG4gICAgY29uc3QgaSA9IGFyci5pbmRleE9mKGVsKTtcbiAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gICAgfVxufTtcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGhhc093biA9ICh2YWwsIGtleSkgPT4gaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGtleSk7XG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE1hcF0nO1xuY29uc3QgaXNTZXQgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgU2V0XSc7XG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xuY29uc3QgaXNTeW1ib2wgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSAnc3ltYm9sJztcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xuY29uc3QgaXNQcm9taXNlID0gKHZhbCkgPT4ge1xuICAgIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcbn07XG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XG4gICAgLy8gZXh0cmFjdCBcIlJhd1R5cGVcIiBmcm9tIHN0cmluZ3MgbGlrZSBcIltvYmplY3QgUmF3VHlwZV1cIlxuICAgIHJldHVybiB0b1R5cGVTdHJpbmcodmFsdWUpLnNsaWNlKDgsIC0xKTtcbn07XG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuY29uc3QgaXNJbnRlZ2VyS2V5ID0gKGtleSkgPT4gaXNTdHJpbmcoa2V5KSAmJlxuICAgIGtleSAhPT0gJ05hTicgJiZcbiAgICBrZXlbMF0gIT09ICctJyAmJlxuICAgICcnICsgcGFyc2VJbnQoa2V5LCAxMCkgPT09IGtleTtcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyojX19QVVJFX18qLyBtYWtlTWFwKFxuLy8gdGhlIGxlYWRpbmcgY29tbWEgaXMgaW50ZW50aW9uYWwgc28gZW1wdHkgc3RyaW5nIFwiXCIgaXMgYWxzbyBpbmNsdWRlZFxuJyxrZXkscmVmLHJlZl9mb3IscmVmX2tleSwnICtcbiAgICAnb25Wbm9kZUJlZm9yZU1vdW50LG9uVm5vZGVNb3VudGVkLCcgK1xuICAgICdvblZub2RlQmVmb3JlVXBkYXRlLG9uVm5vZGVVcGRhdGVkLCcgK1xuICAgICdvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkJyk7XG5jb25zdCBpc0J1aWx0SW5EaXJlY3RpdmUgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ2JpbmQsY2xvYWssZWxzZS1pZixlbHNlLGZvcixodG1sLGlmLG1vZGVsLG9uLG9uY2UscHJlLHNob3csc2xvdCx0ZXh0LG1lbW8nKTtcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcbiAgICBjb25zdCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgcmV0dXJuICgoc3RyKSA9PiB7XG4gICAgICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XG4gICAgICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKTtcbiAgICB9KTtcbn07XG5jb25zdCBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBjYW1lbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4ge1xuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJykpO1xufSk7XG5jb25zdCBoeXBoZW5hdGVSRSA9IC9cXEIoW0EtWl0pL2c7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IGh5cGhlbmF0ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgY2FwaXRhbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpKTtcbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgdG9IYW5kbGVyS2V5ID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIgPyBgb24ke2NhcGl0YWxpemUoc3RyKX1gIDogYGApO1xuLy8gY29tcGFyZSB3aGV0aGVyIGEgdmFsdWUgaGFzIGNoYW5nZWQsIGFjY291bnRpbmcgZm9yIE5hTi5cbmNvbnN0IGhhc0NoYW5nZWQgPSAodmFsdWUsIG9sZFZhbHVlKSA9PiAhT2JqZWN0LmlzKHZhbHVlLCBvbGRWYWx1ZSk7XG5jb25zdCBpbnZva2VBcnJheUZucyA9IChmbnMsIGFyZykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZuc1tpXShhcmcpO1xuICAgIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlXG4gICAgfSk7XG59O1xuY29uc3QgdG9OdW1iZXIgPSAodmFsKSA9PiB7XG4gICAgY29uc3QgbiA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChfZ2xvYmFsVGhpcyB8fFxuICAgICAgICAoX2dsb2JhbFRoaXMgPVxuICAgICAgICAgICAgdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxUaGlzXG4gICAgICAgICAgICAgICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxmXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gd2luZG93XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSk7XG59O1xuXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xuICAgIGNvbnNvbGUud2FybihgW1Z1ZSB3YXJuXSAke21zZ31gLCAuLi5hcmdzKTtcbn1cblxubGV0IGFjdGl2ZUVmZmVjdFNjb3BlO1xuY2xhc3MgRWZmZWN0U2NvcGUge1xuICAgIGNvbnN0cnVjdG9yKGRldGFjaGVkID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5kZXRhY2hlZCA9IGRldGFjaGVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWZmZWN0cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFudXBzID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICAgIGlmICghZGV0YWNoZWQgJiYgYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPVxuICAgICAgICAgICAgICAgIChhY3RpdmVFZmZlY3RTY29wZS5zY29wZXMgfHwgKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyA9IFtdKSkucHVzaCh0aGlzKSAtIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnVuKGZuKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcztcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gY3VycmVudEVmZmVjdFNjb3BlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybihgY2Fubm90IHJ1biBhbiBpbmFjdGl2ZSBlZmZlY3Qgc2NvcGUuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gbm9uLWRldGFjaGVkIHNjb3Blc1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG9uKCkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBvZmYoKSB7XG4gICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcy5wYXJlbnQ7XG4gICAgfVxuICAgIHN0b3AoZnJvbVBhcmVudCkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIGxldCBpLCBsO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVmZmVjdHNbaV0uc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuY2xlYW51cHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwc1tpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuc2NvcGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5zdG9wKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5lc3RlZCBzY29wZSwgZGVyZWZlcmVuY2UgZnJvbSBwYXJlbnQgdG8gYXZvaWQgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGV0YWNoZWQgJiYgdGhpcy5wYXJlbnQgJiYgIWZyb21QYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBvcHRpbWl6ZWQgTygxKSByZW1vdmFsXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucGFyZW50LnNjb3Blcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdCAmJiBsYXN0ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjb3Blc1t0aGlzLmluZGV4XSA9IGxhc3Q7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QuaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGVmZmVjdFNjb3BlKGRldGFjaGVkKSB7XG4gICAgcmV0dXJuIG5ldyBFZmZlY3RTY29wZShkZXRhY2hlZCk7XG59XG5mdW5jdGlvbiByZWNvcmRFZmZlY3RTY29wZShlZmZlY3QsIHNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICBpZiAoc2NvcGUgJiYgc2NvcGUuYWN0aXZlKSB7XG4gICAgICAgIHNjb3BlLmVmZmVjdHMucHVzaChlZmZlY3QpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZSgpIHtcbiAgICByZXR1cm4gYWN0aXZlRWZmZWN0U2NvcGU7XG59XG5mdW5jdGlvbiBvblNjb3BlRGlzcG9zZShmbikge1xuICAgIGlmIChhY3RpdmVFZmZlY3RTY29wZSkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZS5jbGVhbnVwcy5wdXNoKGZuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm4oYG9uU2NvcGVEaXNwb3NlKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGVmZmVjdCBzY29wZWAgK1xuICAgICAgICAgICAgYCB0byBiZSBhc3NvY2lhdGVkIHdpdGguYCk7XG4gICAgfVxufVxuXG5jb25zdCBjcmVhdGVEZXAgPSAoZWZmZWN0cykgPT4ge1xuICAgIGNvbnN0IGRlcCA9IG5ldyBTZXQoZWZmZWN0cyk7XG4gICAgZGVwLncgPSAwO1xuICAgIGRlcC5uID0gMDtcbiAgICByZXR1cm4gZGVwO1xufTtcbmNvbnN0IHdhc1RyYWNrZWQgPSAoZGVwKSA9PiAoZGVwLncgJiB0cmFja09wQml0KSA+IDA7XG5jb25zdCBuZXdUcmFja2VkID0gKGRlcCkgPT4gKGRlcC5uICYgdHJhY2tPcEJpdCkgPiAwO1xuY29uc3QgaW5pdERlcE1hcmtlcnMgPSAoeyBkZXBzIH0pID0+IHtcbiAgICBpZiAoZGVwcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkZXBzW2ldLncgfD0gdHJhY2tPcEJpdDsgLy8gc2V0IHdhcyB0cmFja2VkXG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgZmluYWxpemVEZXBNYXJrZXJzID0gKGVmZmVjdCkgPT4ge1xuICAgIGNvbnN0IHsgZGVwcyB9ID0gZWZmZWN0O1xuICAgIGlmIChkZXBzLmxlbmd0aCkge1xuICAgICAgICBsZXQgcHRyID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkZXAgPSBkZXBzW2ldO1xuICAgICAgICAgICAgaWYgKHdhc1RyYWNrZWQoZGVwKSAmJiAhbmV3VHJhY2tlZChkZXApKSB7XG4gICAgICAgICAgICAgICAgZGVwLmRlbGV0ZShlZmZlY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVwc1twdHIrK10gPSBkZXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjbGVhciBiaXRzXG4gICAgICAgICAgICBkZXAudyAmPSB+dHJhY2tPcEJpdDtcbiAgICAgICAgICAgIGRlcC5uICY9IH50cmFja09wQml0O1xuICAgICAgICB9XG4gICAgICAgIGRlcHMubGVuZ3RoID0gcHRyO1xuICAgIH1cbn07XG5cbmNvbnN0IHRhcmdldE1hcCA9IG5ldyBXZWFrTWFwKCk7XG4vLyBUaGUgbnVtYmVyIG9mIGVmZmVjdHMgY3VycmVudGx5IGJlaW5nIHRyYWNrZWQgcmVjdXJzaXZlbHkuXG5sZXQgZWZmZWN0VHJhY2tEZXB0aCA9IDA7XG5sZXQgdHJhY2tPcEJpdCA9IDE7XG4vKipcbiAqIFRoZSBiaXR3aXNlIHRyYWNrIG1hcmtlcnMgc3VwcG9ydCBhdCBtb3N0IDMwIGxldmVscyBvZiByZWN1cnNpb24uXG4gKiBUaGlzIHZhbHVlIGlzIGNob3NlbiB0byBlbmFibGUgbW9kZXJuIEpTIGVuZ2luZXMgdG8gdXNlIGEgU01JIG9uIGFsbCBwbGF0Zm9ybXMuXG4gKiBXaGVuIHJlY3Vyc2lvbiBkZXB0aCBpcyBncmVhdGVyLCBmYWxsIGJhY2sgdG8gdXNpbmcgYSBmdWxsIGNsZWFudXAuXG4gKi9cbmNvbnN0IG1heE1hcmtlckJpdHMgPSAzMDtcbmxldCBhY3RpdmVFZmZlY3Q7XG5jb25zdCBJVEVSQVRFX0tFWSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnaXRlcmF0ZScgOiAnJyk7XG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdNYXAga2V5IGl0ZXJhdGUnIDogJycpO1xuY2xhc3MgUmVhY3RpdmVFZmZlY3Qge1xuICAgIGNvbnN0cnVjdG9yKGZuLCBzY2hlZHVsZXIgPSBudWxsLCBzY29wZSkge1xuICAgICAgICB0aGlzLmZuID0gZm47XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVwcyA9IFtdO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmVjb3JkRWZmZWN0U2NvcGUodGhpcywgc2NvcGUpO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcmVudCA9IGFjdGl2ZUVmZmVjdDtcbiAgICAgICAgbGV0IGxhc3RTaG91bGRUcmFjayA9IHNob3VsZFRyYWNrO1xuICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICBpZiAocGFyZW50ID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3Q7XG4gICAgICAgICAgICBhY3RpdmVFZmZlY3QgPSB0aGlzO1xuICAgICAgICAgICAgc2hvdWxkVHJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgdHJhY2tPcEJpdCA9IDEgPDwgKytlZmZlY3RUcmFja0RlcHRoO1xuICAgICAgICAgICAgaWYgKGVmZmVjdFRyYWNrRGVwdGggPD0gbWF4TWFya2VyQml0cykge1xuICAgICAgICAgICAgICAgIGluaXREZXBNYXJrZXJzKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0VHJhY2tEZXB0aCA8PSBtYXhNYXJrZXJCaXRzKSB7XG4gICAgICAgICAgICAgICAgZmluYWxpemVEZXBNYXJrZXJzKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2tPcEJpdCA9IDEgPDwgLS1lZmZlY3RUcmFja0RlcHRoO1xuICAgICAgICAgICAgYWN0aXZlRWZmZWN0ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgICAgICBzaG91bGRUcmFjayA9IGxhc3RTaG91bGRUcmFjaztcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVmZXJTdG9wKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgLy8gc3RvcHBlZCB3aGlsZSBydW5uaW5nIGl0c2VsZiAtIGRlZmVyIHRoZSBjbGVhbnVwXG4gICAgICAgIGlmIChhY3RpdmVFZmZlY3QgPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmZXJTdG9wID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uU3RvcCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25TdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYW51cEVmZmVjdChlZmZlY3QpIHtcbiAgICBjb25zdCB7IGRlcHMgfSA9IGVmZmVjdDtcbiAgICBpZiAoZGVwcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkZXBzW2ldLmRlbGV0ZShlZmZlY3QpO1xuICAgICAgICB9XG4gICAgICAgIGRlcHMubGVuZ3RoID0gMDtcbiAgICB9XG59XG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMpIHtcbiAgICBpZiAoZm4uZWZmZWN0KSB7XG4gICAgICAgIGZuID0gZm4uZWZmZWN0LmZuO1xuICAgIH1cbiAgICBjb25zdCBfZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGZuKTtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBleHRlbmQoX2VmZmVjdCwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zLnNjb3BlKVxuICAgICAgICAgICAgcmVjb3JkRWZmZWN0U2NvcGUoX2VmZmVjdCwgb3B0aW9ucy5zY29wZSk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5sYXp5KSB7XG4gICAgICAgIF9lZmZlY3QucnVuKCk7XG4gICAgfVxuICAgIGNvbnN0IHJ1bm5lciA9IF9lZmZlY3QucnVuLmJpbmQoX2VmZmVjdCk7XG4gICAgcnVubmVyLmVmZmVjdCA9IF9lZmZlY3Q7XG4gICAgcmV0dXJuIHJ1bm5lcjtcbn1cbmZ1bmN0aW9uIHN0b3AocnVubmVyKSB7XG4gICAgcnVubmVyLmVmZmVjdC5zdG9wKCk7XG59XG5sZXQgc2hvdWxkVHJhY2sgPSB0cnVlO1xuY29uc3QgdHJhY2tTdGFjayA9IFtdO1xuZnVuY3Rpb24gcGF1c2VUcmFja2luZygpIHtcbiAgICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICAgIHNob3VsZFRyYWNrID0gZmFsc2U7XG59XG5mdW5jdGlvbiByZXNldFRyYWNraW5nKCkge1xuICAgIGNvbnN0IGxhc3QgPSB0cmFja1N0YWNrLnBvcCgpO1xuICAgIHNob3VsZFRyYWNrID0gbGFzdCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGxhc3Q7XG59XG5mdW5jdGlvbiB0cmFjayh0YXJnZXQsIHR5cGUsIGtleSkge1xuICAgIGlmIChzaG91bGRUcmFjayAmJiBhY3RpdmVFZmZlY3QpIHtcbiAgICAgICAgbGV0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XG4gICAgICAgIGlmICghZGVwc01hcCkge1xuICAgICAgICAgICAgdGFyZ2V0TWFwLnNldCh0YXJnZXQsIChkZXBzTWFwID0gbmV3IE1hcCgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlcCA9IGRlcHNNYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghZGVwKSB7XG4gICAgICAgICAgICBkZXBzTWFwLnNldChrZXksIChkZXAgPSBjcmVhdGVEZXAoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV2ZW50SW5mbyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgPyB7IGVmZmVjdDogYWN0aXZlRWZmZWN0LCB0YXJnZXQsIHR5cGUsIGtleSB9XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgdHJhY2tFZmZlY3RzKGRlcCwgZXZlbnRJbmZvKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFja0VmZmVjdHMoZGVwLCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSB7XG4gICAgbGV0IHNob3VsZFRyYWNrID0gZmFsc2U7XG4gICAgaWYgKGVmZmVjdFRyYWNrRGVwdGggPD0gbWF4TWFya2VyQml0cykge1xuICAgICAgICBpZiAoIW5ld1RyYWNrZWQoZGVwKSkge1xuICAgICAgICAgICAgZGVwLm4gfD0gdHJhY2tPcEJpdDsgLy8gc2V0IG5ld2x5IHRyYWNrZWRcbiAgICAgICAgICAgIHNob3VsZFRyYWNrID0gIXdhc1RyYWNrZWQoZGVwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gRnVsbCBjbGVhbnVwIG1vZGUuXG4gICAgICAgIHNob3VsZFRyYWNrID0gIWRlcC5oYXMoYWN0aXZlRWZmZWN0KTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFRyYWNrKSB7XG4gICAgICAgIGRlcC5hZGQoYWN0aXZlRWZmZWN0KTtcbiAgICAgICAgYWN0aXZlRWZmZWN0LmRlcHMucHVzaChkZXApO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGFjdGl2ZUVmZmVjdC5vblRyYWNrKSB7XG4gICAgICAgICAgICBhY3RpdmVFZmZlY3Qub25UcmFjayhPYmplY3QuYXNzaWduKHsgZWZmZWN0OiBhY3RpdmVFZmZlY3QgfSwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcbiAgICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICAgIGlmICghZGVwc01hcCkge1xuICAgICAgICAvLyBuZXZlciBiZWVuIHRyYWNrZWRcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZGVwcyA9IFtdO1xuICAgIGlmICh0eXBlID09PSBcImNsZWFyXCIgLyogVHJpZ2dlck9wVHlwZXMuQ0xFQVIgKi8pIHtcbiAgICAgICAgLy8gY29sbGVjdGlvbiBiZWluZyBjbGVhcmVkXG4gICAgICAgIC8vIHRyaWdnZXIgYWxsIGVmZmVjdHMgZm9yIHRhcmdldFxuICAgICAgICBkZXBzID0gWy4uLmRlcHNNYXAudmFsdWVzKCldO1xuICAgIH1cbiAgICBlbHNlIGlmIChrZXkgPT09ICdsZW5ndGgnICYmIGlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSB0b051bWJlcihuZXdWYWx1ZSk7XG4gICAgICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdsZW5ndGgnIHx8IGtleSA+PSBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBzY2hlZHVsZSBydW5zIGZvciBTRVQgfCBBREQgfCBERUxFVEVcbiAgICAgICAgaWYgKGtleSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoa2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBydW4gZm9yIGl0ZXJhdGlvbiBrZXkgb24gQUREIHwgREVMRVRFIHwgTWFwLlNFVFxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhZGRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5BREQgKi86XG4gICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzSW50ZWdlcktleShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBpbmRleCBhZGRlZCB0byBhcnJheSAtPiBsZW5ndGggY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoJ2xlbmd0aCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovOlxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi86XG4gICAgICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50SW5mbyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICA/IHsgdGFyZ2V0LCB0eXBlLCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSwgb2xkVGFyZ2V0IH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgaWYgKGRlcHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmIChkZXBzWzBdKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckVmZmVjdHMoZGVwc1swXSwgZXZlbnRJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJFZmZlY3RzKGRlcHNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBlZmZlY3RzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZGVwIG9mIGRlcHMpIHtcbiAgICAgICAgICAgIGlmIChkZXApIHtcbiAgICAgICAgICAgICAgICBlZmZlY3RzLnB1c2goLi4uZGVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0cyhjcmVhdGVEZXAoZWZmZWN0cyksIGV2ZW50SW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0cyhjcmVhdGVEZXAoZWZmZWN0cykpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlckVmZmVjdHMoZGVwLCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSB7XG4gICAgLy8gc3ByZWFkIGludG8gYXJyYXkgZm9yIHN0YWJpbGl6YXRpb25cbiAgICBjb25zdCBlZmZlY3RzID0gaXNBcnJheShkZXApID8gZGVwIDogWy4uLmRlcF07XG4gICAgZm9yIChjb25zdCBlZmZlY3Qgb2YgZWZmZWN0cykge1xuICAgICAgICBpZiAoZWZmZWN0LmNvbXB1dGVkKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0KGVmZmVjdCwgZGVidWdnZXJFdmVudEV4dHJhSW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBlZmZlY3Qgb2YgZWZmZWN0cykge1xuICAgICAgICBpZiAoIWVmZmVjdC5jb21wdXRlZCkge1xuICAgICAgICAgICAgdHJpZ2dlckVmZmVjdChlZmZlY3QsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlckVmZmVjdChlZmZlY3QsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pIHtcbiAgICBpZiAoZWZmZWN0ICE9PSBhY3RpdmVFZmZlY3QgfHwgZWZmZWN0LmFsbG93UmVjdXJzZSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGVmZmVjdC5vblRyaWdnZXIpIHtcbiAgICAgICAgICAgIGVmZmVjdC5vblRyaWdnZXIoZXh0ZW5kKHsgZWZmZWN0IH0sIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnNjaGVkdWxlcikge1xuICAgICAgICAgICAgZWZmZWN0LnNjaGVkdWxlcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWZmZWN0LnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBpc05vblRyYWNrYWJsZUtleXMgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoYF9fcHJvdG9fXyxfX3ZfaXNSZWYsX19pc1Z1ZWApO1xuY29uc3QgYnVpbHRJblN5bWJvbHMgPSBuZXcgU2V0KFxuLyojX19QVVJFX18qL1xuT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKVxuICAgIC8vIGlvczEwLnggT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKSBjYW4gZW51bWVyYXRlICdhcmd1bWVudHMnIGFuZCAnY2FsbGVyJ1xuICAgIC8vIGJ1dCBhY2Nlc3NpbmcgdGhlbSBvbiBTeW1ib2wgbGVhZHMgdG8gVHlwZUVycm9yIGJlY2F1c2UgU3ltYm9sIGlzIGEgc3RyaWN0IG1vZGVcbiAgICAvLyBmdW5jdGlvblxuICAgIC5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2FyZ3VtZW50cycgJiYga2V5ICE9PSAnY2FsbGVyJylcbiAgICAubWFwKGtleSA9PiBTeW1ib2xba2V5XSlcbiAgICAuZmlsdGVyKGlzU3ltYm9sKSk7XG5jb25zdCBnZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcigpO1xuY29uc3Qgc2hhbGxvd0dldCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlR2V0dGVyKGZhbHNlLCB0cnVlKTtcbmNvbnN0IHJlYWRvbmx5R2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVHZXR0ZXIodHJ1ZSk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlHZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZUdldHRlcih0cnVlLCB0cnVlKTtcbmNvbnN0IGFycmF5SW5zdHJ1bWVudGF0aW9ucyA9IC8qI19fUFVSRV9fKi8gY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zKCk7XG5mdW5jdGlvbiBjcmVhdGVBcnJheUluc3RydW1lbnRhdGlvbnMoKSB7XG4gICAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IHt9O1xuICAgIFsnaW5jbHVkZXMnLCAnaW5kZXhPZicsICdsYXN0SW5kZXhPZiddLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IHRvUmF3KHRoaXMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIHRyYWNrKGFyciwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCBpICsgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgcnVuIHRoZSBtZXRob2QgdXNpbmcgdGhlIG9yaWdpbmFsIGFyZ3MgZmlyc3QgKHdoaWNoIG1heSBiZSByZWFjdGl2ZSlcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGFycltrZXldKC4uLmFyZ3MpO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gLTEgfHwgcmVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoYXQgZGlkbid0IHdvcmssIHJ1biBpdCBhZ2FpbiB1c2luZyByYXcgdmFsdWVzLlxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJba2V5XSguLi5hcmdzLm1hcCh0b1JhdykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBbJ3B1c2gnLCAncG9wJywgJ3NoaWZ0JywgJ3Vuc2hpZnQnLCAnc3BsaWNlJ10uZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gdG9SYXcodGhpcylba2V5XS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGluc3RydW1lbnRhdGlvbnM7XG59XG5mdW5jdGlvbiBjcmVhdGVHZXR0ZXIoaXNSZWFkb25seSA9IGZhbHNlLCBzaGFsbG93ID0gZmFsc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgICAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFDVElWRSAqLykge1xuICAgICAgICAgICAgcmV0dXJuICFpc1JlYWRvbmx5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBRE9OTFkgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNTaGFsbG93XCIgLyogUmVhY3RpdmVGbGFncy5JU19TSEFMTE9XICovKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhbGxvdztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovICYmXG4gICAgICAgICAgICByZWNlaXZlciA9PT1cbiAgICAgICAgICAgICAgICAoaXNSZWFkb25seVxuICAgICAgICAgICAgICAgICAgICA/IHNoYWxsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2hhbGxvd1JlYWRvbmx5TWFwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlYWRvbmx5TWFwXG4gICAgICAgICAgICAgICAgICAgIDogc2hhbGxvd1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBzaGFsbG93UmVhY3RpdmVNYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVhY3RpdmVNYXApLmdldCh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgICAgIGlmICghaXNSZWFkb25seSAmJiB0YXJnZXRJc0FycmF5ICYmIGhhc093bihhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldChhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcyA9IFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XG4gICAgICAgIGlmIChpc1N5bWJvbChrZXkpID8gYnVpbHRJblN5bWJvbHMuaGFzKGtleSkgOiBpc05vblRyYWNrYWJsZUtleXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUmVhZG9ubHkpIHtcbiAgICAgICAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFsbG93KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlZihyZXMpKSB7XG4gICAgICAgICAgICAvLyByZWYgdW53cmFwcGluZyAtIHNraXAgdW53cmFwIGZvciBBcnJheSArIGludGVnZXIga2V5LlxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyByZXMgOiByZXMudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgcmV0dXJuZWQgdmFsdWUgaW50byBhIHByb3h5IGFzIHdlbGwuIHdlIGRvIHRoZSBpc09iamVjdCBjaGVja1xuICAgICAgICAgICAgLy8gaGVyZSB0byBhdm9pZCBpbnZhbGlkIHZhbHVlIHdhcm5pbmcuIEFsc28gbmVlZCB0byBsYXp5IGFjY2VzcyByZWFkb25seVxuICAgICAgICAgICAgLy8gYW5kIHJlYWN0aXZlIGhlcmUgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRvbmx5ID8gcmVhZG9ubHkocmVzKSA6IHJlYWN0aXZlKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xufVxuY29uc3Qgc2V0ID0gLyojX19QVVJFX18qLyBjcmVhdGVTZXR0ZXIoKTtcbmNvbnN0IHNoYWxsb3dTZXQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZVNldHRlcih0cnVlKTtcbmZ1bmN0aW9uIGNyZWF0ZVNldHRlcihzaGFsbG93ID0gZmFsc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmIChpc1JlYWRvbmx5KG9sZFZhbHVlKSAmJiBpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2hhbGxvdykge1xuICAgICAgICAgICAgaWYgKCFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhZEtleSA9IGlzQXJyYXkodGFyZ2V0KSAmJiBpc0ludGVnZXJLZXkoa2V5KVxuICAgICAgICAgICAgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGhcbiAgICAgICAgICAgIDogaGFzT3duKHRhcmdldCwga2V5KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XG4gICAgICAgIC8vIGRvbid0IHRyaWdnZXIgaWYgdGFyZ2V0IGlzIHNvbWV0aGluZyB1cCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIG9mIG9yaWdpbmFsXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xuICAgICAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5BREQgKi8sIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLCBrZXksIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCBoYWRLZXkgPSBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSk7XG4gICAgaWYgKHJlc3VsdCAmJiBoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaGFzKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcbiAgICAgICAgdHJhY2sodGFyZ2V0LCBcImhhc1wiIC8qIFRyYWNrT3BUeXBlcy5IQVMgKi8sIGtleSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBvd25LZXlzKHRhcmdldCkge1xuICAgIHRyYWNrKHRhcmdldCwgXCJpdGVyYXRlXCIgLyogVHJhY2tPcFR5cGVzLklURVJBVEUgKi8sIGlzQXJyYXkodGFyZ2V0KSA/ICdsZW5ndGgnIDogSVRFUkFURV9LRVkpO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbn1cbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IHtcbiAgICBnZXQsXG4gICAgc2V0LFxuICAgIGRlbGV0ZVByb3BlcnR5LFxuICAgIGhhcyxcbiAgICBvd25LZXlzXG59O1xuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IHtcbiAgICBnZXQ6IHJlYWRvbmx5R2V0LFxuICAgIHNldCh0YXJnZXQsIGtleSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuKGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4oYERlbGV0ZSBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn07XG5jb25zdCBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyA9IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHt9LCBtdXRhYmxlSGFuZGxlcnMsIHtcbiAgICBnZXQ6IHNoYWxsb3dHZXQsXG4gICAgc2V0OiBzaGFsbG93U2V0XG59KTtcbi8vIFByb3BzIGhhbmRsZXJzIGFyZSBzcGVjaWFsIGluIHRoZSBzZW5zZSB0aGF0IGl0IHNob3VsZCBub3QgdW53cmFwIHRvcC1sZXZlbFxuLy8gcmVmcyAoaW4gb3JkZXIgdG8gYWxsb3cgcmVmcyB0byBiZSBleHBsaWNpdGx5IHBhc3NlZCBkb3duKSwgYnV0IHNob3VsZFxuLy8gcmV0YWluIHRoZSByZWFjdGl2aXR5IG9mIHRoZSBub3JtYWwgcmVhZG9ubHkgb2JqZWN0LlxuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgcmVhZG9ubHlIYW5kbGVycywge1xuICAgIGdldDogc2hhbGxvd1JlYWRvbmx5R2V0XG59KTtcblxuY29uc3QgdG9TaGFsbG93ID0gKHZhbHVlKSA9PiB2YWx1ZTtcbmNvbnN0IGdldFByb3RvID0gKHYpID0+IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2Yodik7XG5mdW5jdGlvbiBnZXQkMSh0YXJnZXQsIGtleSwgaXNSZWFkb25seSA9IGZhbHNlLCBpc1NoYWxsb3cgPSBmYWxzZSkge1xuICAgIC8vICMxNzcyOiByZWFkb25seShyZWFjdGl2ZShNYXApKSBzaG91bGQgcmV0dXJuIHJlYWRvbmx5ICsgcmVhY3RpdmUgdmVyc2lvblxuICAgIC8vIG9mIHRoZSB2YWx1ZVxuICAgIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgIGlmICghaXNSZWFkb25seSkge1xuICAgICAgICBpZiAoa2V5ICE9PSByYXdLZXkpIHtcbiAgICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCByYXdLZXkpO1xuICAgIH1cbiAgICBjb25zdCB7IGhhcyB9ID0gZ2V0UHJvdG8ocmF3VGFyZ2V0KTtcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChrZXkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCByYXdLZXkpKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQocmF3S2V5KSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldCAhPT0gcmF3VGFyZ2V0KSB7XG4gICAgICAgIC8vICMzNjAyIHJlYWRvbmx5KHJlYWN0aXZlKE1hcCkpXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBuZXN0ZWQgcmVhY3RpdmUgYE1hcGAgY2FuIGRvIHRyYWNraW5nIGZvciBpdHNlbGZcbiAgICAgICAgdGFyZ2V0LmdldChrZXkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhcyQxKGtleSwgaXNSZWFkb25seSA9IGZhbHNlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgIGlmICghaXNSZWFkb25seSkge1xuICAgICAgICBpZiAoa2V5ICE9PSByYXdLZXkpIHtcbiAgICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBUcmFja09wVHlwZXMuSEFTICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiAvKiBUcmFja09wVHlwZXMuSEFTICovLCByYXdLZXkpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5ID09PSByYXdLZXlcbiAgICAgICAgPyB0YXJnZXQuaGFzKGtleSlcbiAgICAgICAgOiB0YXJnZXQuaGFzKGtleSkgfHwgdGFyZ2V0LmhhcyhyYXdLZXkpO1xufVxuZnVuY3Rpb24gc2l6ZSh0YXJnZXQsIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xuICAgIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgIWlzUmVhZG9ubHkgJiYgdHJhY2sodG9SYXcodGFyZ2V0KSwgXCJpdGVyYXRlXCIgLyogVHJhY2tPcFR5cGVzLklURVJBVEUgKi8sIElURVJBVEVfS0VZKTtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCAnc2l6ZScsIHRhcmdldCk7XG59XG5mdW5jdGlvbiBhZGQodmFsdWUpIHtcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICBjb25zdCBwcm90byA9IGdldFByb3RvKHRhcmdldCk7XG4gICAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XG4gICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLywgdmFsdWUsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBzZXQkMShrZXksIHZhbHVlKSB7XG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgY29uc3QgeyBoYXMsIGdldCB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgIGhhZEtleSA9IGhhcy5jYWxsKHRhcmdldCwga2V5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpO1xuICAgIH1cbiAgICBjb25zdCBvbGRWYWx1ZSA9IGdldC5jYWxsKHRhcmdldCwga2V5KTtcbiAgICB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xuICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLywga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8sIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBkZWxldGVFbnRyeShrZXkpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgIGxldCBoYWRLZXkgPSBoYXMuY2FsbCh0YXJnZXQsIGtleSk7XG4gICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAga2V5ID0gdG9SYXcoa2V5KTtcbiAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMsIGtleSk7XG4gICAgfVxuICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0ID8gZ2V0LmNhbGwodGFyZ2V0LCBrZXkpIDogdW5kZWZpbmVkO1xuICAgIC8vIGZvcndhcmQgdGhlIG9wZXJhdGlvbiBiZWZvcmUgcXVldWVpbmcgcmVhY3Rpb25zXG4gICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xuICAgIGlmIChoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovLCBrZXksIHVuZGVmaW5lZCwgb2xkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcbiAgICBjb25zdCBvbGRUYXJnZXQgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgPyBpc01hcCh0YXJnZXQpXG4gICAgICAgICAgICA/IG5ldyBNYXAodGFyZ2V0KVxuICAgICAgICAgICAgOiBuZXcgU2V0KHRhcmdldClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgLy8gZm9yd2FyZCB0aGUgb3BlcmF0aW9uIGJlZm9yZSBxdWV1ZWluZyByZWFjdGlvbnNcbiAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuY2xlYXIoKTtcbiAgICBpZiAoaGFkSXRlbXMpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiY2xlYXJcIiAvKiBUcmlnZ2VyT3BUeXBlcy5DTEVBUiAqLywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZFRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjcmVhdGVGb3JFYWNoKGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xuICAgIHJldHVybiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dO1xuICAgICAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgICAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiIC8qIFRyYWNrT3BUeXBlcy5JVEVSQVRFICovLCBJVEVSQVRFX0tFWSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gaW1wb3J0YW50OiBtYWtlIHN1cmUgdGhlIGNhbGxiYWNrIGlzXG4gICAgICAgICAgICAvLyAxLiBpbnZva2VkIHdpdGggdGhlIHJlYWN0aXZlIG1hcCBhcyBgdGhpc2AgYW5kIDNyZCBhcmdcbiAgICAgICAgICAgIC8vIDIuIHRoZSB2YWx1ZSByZWNlaXZlZCBzaG91bGQgYmUgYSBjb3JyZXNwb25kaW5nIHJlYWN0aXZlL3JlYWRvbmx5LlxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBpc1JlYWRvbmx5LCBpc1NoYWxsb3cpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICAgIGNvbnN0IHRhcmdldElzTWFwID0gaXNNYXAocmF3VGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaXNQYWlyID0gbWV0aG9kID09PSAnZW50cmllcycgfHwgKG1ldGhvZCA9PT0gU3ltYm9sLml0ZXJhdG9yICYmIHRhcmdldElzTWFwKTtcbiAgICAgICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSAna2V5cycgJiYgdGFyZ2V0SXNNYXA7XG4gICAgICAgIGNvbnN0IGlubmVySXRlcmF0b3IgPSB0YXJnZXRbbWV0aG9kXSguLi5hcmdzKTtcbiAgICAgICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAgICAgIWlzUmVhZG9ubHkgJiZcbiAgICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJpdGVyYXRlXCIgLyogVHJhY2tPcFR5cGVzLklURVJBVEUgKi8sIGlzS2V5T25seSA/IE1BUF9LRVlfSVRFUkFURV9LRVkgOiBJVEVSQVRFX0tFWSk7XG4gICAgICAgIC8vIHJldHVybiBhIHdyYXBwZWQgaXRlcmF0b3Igd2hpY2ggcmV0dXJucyBvYnNlcnZlZCB2ZXJzaW9ucyBvZiB0aGVcbiAgICAgICAgLy8gdmFsdWVzIGVtaXR0ZWQgZnJvbSB0aGUgcmVhbCBpdGVyYXRvclxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcbiAgICAgICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gaW5uZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgPyB7IHZhbHVlLCBkb25lIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBpdGVyYWJsZSBwcm90b2NvbFxuICAgICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWRvbmx5TWV0aG9kKHR5cGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXJnc1swXSA/IGBvbiBrZXkgXCIke2FyZ3NbMF19XCIgYCA6IGBgO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLCB0b1Jhdyh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovID8gZmFsc2UgOiB0aGlzO1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25zKCkge1xuICAgIGNvbnN0IG11dGFibGVJbnN0cnVtZW50YXRpb25zID0ge1xuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNpemUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzOiBoYXMkMSxcbiAgICAgICAgYWRkLFxuICAgICAgICBzZXQ6IHNldCQxLFxuICAgICAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxuICAgICAgICBjbGVhcixcbiAgICAgICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgZmFsc2UpXG4gICAgfTtcbiAgICBjb25zdCBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzaXplKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBoYXM6IGhhcyQxLFxuICAgICAgICBhZGQsXG4gICAgICAgIHNldDogc2V0JDEsXG4gICAgICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXG4gICAgICAgIGNsZWFyLFxuICAgICAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKGZhbHNlLCB0cnVlKVxuICAgIH07XG4gICAgY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNpemUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLyksXG4gICAgICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8pLFxuICAgICAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovKSxcbiAgICAgICAgY2xlYXI6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiY2xlYXJcIiAvKiBUcmlnZ2VyT3BUeXBlcy5DTEVBUiAqLyksXG4gICAgICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgZmFsc2UpXG4gICAgfTtcbiAgICBjb25zdCBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zID0ge1xuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0JDEodGhpcywga2V5LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNpemUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhcyQxLmNhbGwodGhpcywga2V5LCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImFkZFwiIC8qIFRyaWdnZXJPcFR5cGVzLkFERCAqLyksXG4gICAgICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8pLFxuICAgICAgICBkZWxldGU6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiZGVsZXRlXCIgLyogVHJpZ2dlck9wVHlwZXMuREVMRVRFICovKSxcbiAgICAgICAgY2xlYXI6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiY2xlYXJcIiAvKiBUcmlnZ2VyT3BUeXBlcy5DTEVBUiAqLyksXG4gICAgICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2godHJ1ZSwgdHJ1ZSlcbiAgICB9O1xuICAgIGNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFsna2V5cycsICd2YWx1ZXMnLCAnZW50cmllcycsIFN5bWJvbC5pdGVyYXRvcl07XG4gICAgaXRlcmF0b3JNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcbiAgICAgICAgbXV0YWJsZUluc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnNbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIHRydWUsIHRydWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBbXG4gICAgICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zLFxuICAgICAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnMsXG4gICAgICAgIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zLFxuICAgICAgICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXG4gICAgXTtcbn1cbmNvbnN0IFttdXRhYmxlSW5zdHJ1bWVudGF0aW9ucywgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zLCBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucywgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc10gPSAvKiAjX19QVVJFX18qLyBjcmVhdGVJbnN0cnVtZW50YXRpb25zKCk7XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoaXNSZWFkb25seSwgc2hhbGxvdykge1xuICAgIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSBzaGFsbG93XG4gICAgICAgID8gaXNSZWFkb25seVxuICAgICAgICAgICAgPyBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXG4gICAgICAgICAgICA6IHNoYWxsb3dJbnN0cnVtZW50YXRpb25zXG4gICAgICAgIDogaXNSZWFkb25seVxuICAgICAgICAgICAgPyByZWFkb25seUluc3RydW1lbnRhdGlvbnNcbiAgICAgICAgICAgIDogbXV0YWJsZUluc3RydW1lbnRhdGlvbnM7XG4gICAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBQ1RJVkUgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiAhaXNSZWFkb25seTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkb25seTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldChoYXNPd24oaW5zdHJ1bWVudGF0aW9ucywga2V5KSAmJiBrZXkgaW4gdGFyZ2V0XG4gICAgICAgICAgICA/IGluc3RydW1lbnRhdGlvbnNcbiAgICAgICAgICAgIDogdGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcbiAgICB9O1xufVxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgICBnZXQ6IC8qI19fUFVSRV9fKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICAgIGdldDogLyojX19QVVJFX18qLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIHRydWUpXG59O1xuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gICAgZ2V0OiAvKiNfX1BVUkVfXyovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gICAgZ2V0OiAvKiNfX1BVUkVfXyovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxufTtcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpIHtcbiAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgIGlmIChyYXdLZXkgIT09IGtleSAmJiBoYXMuY2FsbCh0YXJnZXQsIHJhd0tleSkpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHRvUmF3VHlwZSh0YXJnZXQpO1xuICAgICAgICBjb25zb2xlLndhcm4oYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSBgICtcbiAgICAgICAgICAgIGB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgYCArXG4gICAgICAgICAgICBgd2hpY2ggY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW5jaWVzLiBgICtcbiAgICAgICAgICAgIGBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBgICtcbiAgICAgICAgICAgIGBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmApO1xuICAgIH1cbn1cblxuY29uc3QgcmVhY3RpdmVNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc2hhbGxvd1JlYWN0aXZlTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlYWRvbmx5TWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHNoYWxsb3dSZWFkb25seU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiB0YXJnZXRUeXBlTWFwKHJhd1R5cGUpIHtcbiAgICBzd2l0Y2ggKHJhd1R5cGUpIHtcbiAgICAgICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgICAgY2FzZSAnQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIDEgLyogVGFyZ2V0VHlwZS5DT01NT04gKi87XG4gICAgICAgIGNhc2UgJ01hcCc6XG4gICAgICAgIGNhc2UgJ1NldCc6XG4gICAgICAgIGNhc2UgJ1dlYWtNYXAnOlxuICAgICAgICBjYXNlICdXZWFrU2V0JzpcbiAgICAgICAgICAgIHJldHVybiAyIC8qIFRhcmdldFR5cGUuQ09MTEVDVElPTiAqLztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAwIC8qIFRhcmdldFR5cGUuSU5WQUxJRCAqLztcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlW1wiX192X3NraXBcIiAvKiBSZWFjdGl2ZUZsYWdzLlNLSVAgKi9dIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKVxuICAgICAgICA/IDAgLyogVGFyZ2V0VHlwZS5JTlZBTElEICovXG4gICAgICAgIDogdGFyZ2V0VHlwZU1hcCh0b1Jhd1R5cGUodmFsdWUpKTtcbn1cbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xuICAgIC8vIGlmIHRyeWluZyB0byBvYnNlcnZlIGEgcmVhZG9ubHkgcHJveHksIHJldHVybiB0aGUgcmVhZG9ubHkgdmVyc2lvbi5cbiAgICBpZiAoaXNSZWFkb25seSh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGZhbHNlLCBtdXRhYmxlSGFuZGxlcnMsIG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMsIHJlYWN0aXZlTWFwKTtcbn1cbi8qKlxuICogUmV0dXJuIGEgc2hhbGxvd2x5LXJlYWN0aXZlIGNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdCwgd2hlcmUgb25seSB0aGUgcm9vdFxuICogbGV2ZWwgcHJvcGVydGllcyBhcmUgcmVhY3RpdmUuIEl0IGFsc28gZG9lcyBub3QgYXV0by11bndyYXAgcmVmcyAoZXZlbiBhdCB0aGVcbiAqIHJvb3QgbGV2ZWwpLlxuICovXG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgZmFsc2UsIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzLCBzaGFsbG93UmVhY3RpdmVNYXApO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgcmVhZG9ubHkgY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LiBOb3RlIHRoZSByZXR1cm5lZCBjb3B5IGlzIG5vdFxuICogbWFkZSByZWFjdGl2ZSwgYnV0IGByZWFkb25seWAgY2FuIGJlIGNhbGxlZCBvbiBhbiBhbHJlYWR5IHJlYWN0aXZlIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gcmVhZG9ubHkodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgdHJ1ZSwgcmVhZG9ubHlIYW5kbGVycywgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsIHJlYWRvbmx5TWFwKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIHJlYWN0aXZlLWNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdCwgd2hlcmUgb25seSB0aGUgcm9vdCBsZXZlbFxuICogcHJvcGVydGllcyBhcmUgcmVhZG9ubHksIGFuZCBkb2VzIE5PVCB1bndyYXAgcmVmcyBub3IgcmVjdXJzaXZlbHkgY29udmVydFxuICogcmV0dXJuZWQgcHJvcGVydGllcy5cbiAqIFRoaXMgaXMgdXNlZCBmb3IgY3JlYXRpbmcgdGhlIHByb3BzIHByb3h5IG9iamVjdCBmb3Igc3RhdGVmdWwgY29tcG9uZW50cy5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd1JlYWRvbmx5KHRhcmdldCkge1xuICAgIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIHRydWUsIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsIHNoYWxsb3dSZWFkb25seU1hcCk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGlzUmVhZG9ubHksIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzLCBwcm94eU1hcCkge1xuICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHZhbHVlIGNhbm5vdCBiZSBtYWRlIHJlYWN0aXZlOiAke1N0cmluZyh0YXJnZXQpfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIC8vIHRhcmdldCBpcyBhbHJlYWR5IGEgUHJveHksIHJldHVybiBpdC5cbiAgICAvLyBleGNlcHRpb246IGNhbGxpbmcgcmVhZG9ubHkoKSBvbiBhIHJlYWN0aXZlIG9iamVjdFxuICAgIGlmICh0YXJnZXRbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dICYmXG4gICAgICAgICEoaXNSZWFkb25seSAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFjdGl2ZVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBQ1RJVkUgKi9dKSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICAvLyB0YXJnZXQgYWxyZWFkeSBoYXMgY29ycmVzcG9uZGluZyBQcm94eVxuICAgIGNvbnN0IGV4aXN0aW5nUHJveHkgPSBwcm94eU1hcC5nZXQodGFyZ2V0KTtcbiAgICBpZiAoZXhpc3RpbmdQcm94eSkge1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcbiAgICB9XG4gICAgLy8gb25seSBzcGVjaWZpYyB2YWx1ZSB0eXBlcyBjYW4gYmUgb2JzZXJ2ZWQuXG4gICAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0VHlwZSA9PT0gMCAvKiBUYXJnZXRUeXBlLklOVkFMSUQgKi8pIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkodGFyZ2V0LCB0YXJnZXRUeXBlID09PSAyIC8qIFRhcmdldFR5cGUuQ09MTEVDVElPTiAqLyA/IGNvbGxlY3Rpb25IYW5kbGVycyA6IGJhc2VIYW5kbGVycyk7XG4gICAgcHJveHlNYXAuc2V0KHRhcmdldCwgcHJveHkpO1xuICAgIHJldHVybiBwcm94eTtcbn1cbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcbiAgICBpZiAoaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWVbXCJfX3ZfcmF3XCIgLyogUmVhY3RpdmVGbGFncy5SQVcgKi9dKTtcbiAgICB9XG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhY3RpdmVcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQUNUSVZFICovXSk7XG59XG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovXSk7XG59XG5mdW5jdGlvbiBpc1NoYWxsb3codmFsdWUpIHtcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNTaGFsbG93XCIgLyogUmVhY3RpdmVGbGFncy5JU19TSEFMTE9XICovXSk7XG59XG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWUpIHx8IGlzUmVhZG9ubHkodmFsdWUpO1xufVxuZnVuY3Rpb24gdG9SYXcob2JzZXJ2ZWQpIHtcbiAgICBjb25zdCByYXcgPSBvYnNlcnZlZCAmJiBvYnNlcnZlZFtcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqL107XG4gICAgcmV0dXJuIHJhdyA/IHRvUmF3KHJhdykgOiBvYnNlcnZlZDtcbn1cbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcbiAgICBkZWYodmFsdWUsIFwiX192X3NraXBcIiAvKiBSZWFjdGl2ZUZsYWdzLlNLSVAgKi8sIHRydWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IHRvUmVhY3RpdmUgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWN0aXZlKHZhbHVlKSA6IHZhbHVlO1xuY29uc3QgdG9SZWFkb25seSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XG5cbmZ1bmN0aW9uIHRyYWNrUmVmVmFsdWUocmVmKSB7XG4gICAgaWYgKHNob3VsZFRyYWNrICYmIGFjdGl2ZUVmZmVjdCkge1xuICAgICAgICByZWYgPSB0b1JhdyhyZWYpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB0cmFja0VmZmVjdHMocmVmLmRlcCB8fCAocmVmLmRlcCA9IGNyZWF0ZURlcCgpKSwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogcmVmLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLyxcbiAgICAgICAgICAgICAgICBrZXk6ICd2YWx1ZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhY2tFZmZlY3RzKHJlZi5kZXAgfHwgKHJlZi5kZXAgPSBjcmVhdGVEZXAoKSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZlZhbHVlKHJlZiwgbmV3VmFsKSB7XG4gICAgcmVmID0gdG9SYXcocmVmKTtcbiAgICBpZiAocmVmLmRlcCkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRWZmZWN0cyhyZWYuZGVwLCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiByZWYsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8sXG4gICAgICAgICAgICAgICAga2V5OiAndmFsdWUnLFxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJpZ2dlckVmZmVjdHMocmVmLmRlcCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc1JlZihyKSB7XG4gICAgcmV0dXJuICEhKHIgJiYgci5fX3ZfaXNSZWYgPT09IHRydWUpO1xufVxuZnVuY3Rpb24gcmVmKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlZih2YWx1ZSkge1xuICAgIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93KSB7XG4gICAgaWYgKGlzUmVmKHJhd1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gcmF3VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVmSW1wbChyYXdWYWx1ZSwgc2hhbGxvdyk7XG59XG5jbGFzcyBSZWZJbXBsIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgX192X2lzU2hhbGxvdykge1xuICAgICAgICB0aGlzLl9fdl9pc1NoYWxsb3cgPSBfX3ZfaXNTaGFsbG93O1xuICAgICAgICB0aGlzLmRlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IF9fdl9pc1NoYWxsb3cgPyB2YWx1ZSA6IHRvUmF3KHZhbHVlKTtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBfX3ZfaXNTaGFsbG93ID8gdmFsdWUgOiB0b1JlYWN0aXZlKHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICB0cmFja1JlZlZhbHVlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgfVxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICAgICAgY29uc3QgdXNlRGlyZWN0VmFsdWUgPSB0aGlzLl9fdl9pc1NoYWxsb3cgfHwgaXNTaGFsbG93KG5ld1ZhbCkgfHwgaXNSZWFkb25seShuZXdWYWwpO1xuICAgICAgICBuZXdWYWwgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbCA6IHRvUmF3KG5ld1ZhbCk7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKG5ld1ZhbCwgdGhpcy5fcmF3VmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9yYXdWYWx1ZSA9IG5ld1ZhbDtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdXNlRGlyZWN0VmFsdWUgPyBuZXdWYWwgOiB0b1JlYWN0aXZlKG5ld1ZhbCk7XG4gICAgICAgICAgICB0cmlnZ2VyUmVmVmFsdWUodGhpcywgbmV3VmFsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJSZWYocmVmKSB7XG4gICAgdHJpZ2dlclJlZlZhbHVlKHJlZiwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gcmVmLnZhbHVlIDogdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIHVucmVmKHJlZikge1xuICAgIHJldHVybiBpc1JlZihyZWYpID8gcmVmLnZhbHVlIDogcmVmO1xufVxuY29uc3Qgc2hhbGxvd1Vud3JhcEhhbmRsZXJzID0ge1xuICAgIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4gdW5yZWYoUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSksXG4gICAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikgPT4ge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgICAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcbiAgICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcylcbiAgICAgICAgPyBvYmplY3RXaXRoUmVmc1xuICAgICAgICA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcbn1cbmNsYXNzIEN1c3RvbVJlZkltcGwge1xuICAgIGNvbnN0cnVjdG9yKGZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5kZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeSgoKSA9PiB0cmFja1JlZlZhbHVlKHRoaXMpLCAoKSA9PiB0cmlnZ2VyUmVmVmFsdWUodGhpcykpO1xuICAgICAgICB0aGlzLl9nZXQgPSBnZXQ7XG4gICAgICAgIHRoaXMuX3NldCA9IHNldDtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0KCk7XG4gICAgfVxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICAgICAgdGhpcy5fc2V0KG5ld1ZhbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbVJlZkltcGwoZmFjdG9yeSk7XG59XG5mdW5jdGlvbiB0b1JlZnMob2JqZWN0KSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XG4gICAgfVxuICAgIGNvbnN0IHJldCA9IGlzQXJyYXkob2JqZWN0KSA/IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKSA6IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICByZXRba2V5XSA9IHRvUmVmKG9iamVjdCwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cbmNsYXNzIE9iamVjdFJlZkltcGwge1xuICAgIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXksIF9kZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0ID0gX29iamVjdDtcbiAgICAgICAgdGhpcy5fa2V5ID0gX2tleTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gX2RlZmF1bHRWYWx1ZTtcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xuICAgICAgICByZXR1cm4gdmFsID09PSB1bmRlZmluZWQgPyB0aGlzLl9kZWZhdWx0VmFsdWUgOiB2YWw7XG4gICAgfVxuICAgIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XG4gICAgfVxufVxuZnVuY3Rpb24gdG9SZWYob2JqZWN0LCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGNvbnN0IHZhbCA9IG9iamVjdFtrZXldO1xuICAgIHJldHVybiBpc1JlZih2YWwpXG4gICAgICAgID8gdmFsXG4gICAgICAgIDogbmV3IE9iamVjdFJlZkltcGwob2JqZWN0LCBrZXksIGRlZmF1bHRWYWx1ZSk7XG59XG5cbnZhciBfYTtcbmNsYXNzIENvbXB1dGVkUmVmSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZ2V0dGVyLCBfc2V0dGVyLCBpc1JlYWRvbmx5LCBpc1NTUikge1xuICAgICAgICB0aGlzLl9zZXR0ZXIgPSBfc2V0dGVyO1xuICAgICAgICB0aGlzLmRlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgICAgICB0aGlzW19hXSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGdldHRlciwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyUmVmVmFsdWUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVmZmVjdC5jb21wdXRlZCA9IHRoaXM7XG4gICAgICAgIHRoaXMuZWZmZWN0LmFjdGl2ZSA9IHRoaXMuX2NhY2hlYWJsZSA9ICFpc1NTUjtcbiAgICAgICAgdGhpc1tcIl9fdl9pc1JlYWRvbmx5XCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFET05MWSAqL10gPSBpc1JlYWRvbmx5O1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIC8vIHRoZSBjb21wdXRlZCByZWYgbWF5IGdldCB3cmFwcGVkIGJ5IG90aGVyIHByb3hpZXMgZS5nLiByZWFkb25seSgpICMzMzc2XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0b1Jhdyh0aGlzKTtcbiAgICAgICAgdHJhY2tSZWZWYWx1ZShzZWxmKTtcbiAgICAgICAgaWYgKHNlbGYuX2RpcnR5IHx8ICFzZWxmLl9jYWNoZWFibGUpIHtcbiAgICAgICAgICAgIHNlbGYuX2RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLl92YWx1ZSA9IHNlbGYuZWZmZWN0LnJ1bigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLl92YWx1ZTtcbiAgICB9XG4gICAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NldHRlcihuZXdWYWx1ZSk7XG4gICAgfVxufVxuX2EgPSBcIl9fdl9pc1JlYWRvbmx5XCIgLyogUmVhY3RpdmVGbGFncy5JU19SRUFET05MWSAqLztcbmZ1bmN0aW9uIGNvbXB1dGVkKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc1NTUiA9IGZhbHNlKSB7XG4gICAgbGV0IGdldHRlcjtcbiAgICBsZXQgc2V0dGVyO1xuICAgIGNvbnN0IG9ubHlHZXR0ZXIgPSBpc0Z1bmN0aW9uKGdldHRlck9yT3B0aW9ucyk7XG4gICAgaWYgKG9ubHlHZXR0ZXIpIHtcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xuICAgICAgICBzZXR0ZXIgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgID8gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgdmFsdWUgaXMgcmVhZG9ubHknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogTk9PUDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XG4gICAgICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XG4gICAgfVxuICAgIGNvbnN0IGNSZWYgPSBuZXcgQ29tcHV0ZWRSZWZJbXBsKGdldHRlciwgc2V0dGVyLCBvbmx5R2V0dGVyIHx8ICFzZXR0ZXIsIGlzU1NSKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGRlYnVnT3B0aW9ucyAmJiAhaXNTU1IpIHtcbiAgICAgICAgY1JlZi5lZmZlY3Qub25UcmFjayA9IGRlYnVnT3B0aW9ucy5vblRyYWNrO1xuICAgICAgICBjUmVmLmVmZmVjdC5vblRyaWdnZXIgPSBkZWJ1Z09wdGlvbnMub25UcmlnZ2VyO1xuICAgIH1cbiAgICByZXR1cm4gY1JlZjtcbn1cblxuY29uc3Qgc3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSkge1xuICAgIHN0YWNrLnB1c2godm5vZGUpO1xufVxuZnVuY3Rpb24gcG9wV2FybmluZ0NvbnRleHQoKSB7XG4gICAgc3RhY2sucG9wKCk7XG59XG5mdW5jdGlvbiB3YXJuJDEobXNnLCAuLi5hcmdzKSB7XG4gICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBhdm9pZCBwcm9wcyBmb3JtYXR0aW5nIG9yIHdhcm4gaGFuZGxlciB0cmFja2luZyBkZXBzIHRoYXQgbWlnaHQgYmUgbXV0YXRlZFxuICAgIC8vIGR1cmluZyBwYXRjaCwgbGVhZGluZyB0byBpbmZpbml0ZSByZWN1cnNpb24uXG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcbiAgICBjb25zdCBhcHBXYXJuSGFuZGxlciA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLndhcm5IYW5kbGVyO1xuICAgIGNvbnN0IHRyYWNlID0gZ2V0Q29tcG9uZW50VHJhY2UoKTtcbiAgICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGFwcFdhcm5IYW5kbGVyLCBpbnN0YW5jZSwgMTEgLyogRXJyb3JDb2Rlcy5BUFBfV0FSTl9IQU5ETEVSICovLCBbXG4gICAgICAgICAgICBtc2cgKyBhcmdzLmpvaW4oJycpLFxuICAgICAgICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHksXG4gICAgICAgICAgICB0cmFjZVxuICAgICAgICAgICAgICAgIC5tYXAoKHsgdm5vZGUgfSkgPT4gYGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIHZub2RlLnR5cGUpfT5gKVxuICAgICAgICAgICAgICAgIC5qb2luKCdcXG4nKSxcbiAgICAgICAgICAgIHRyYWNlXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgd2FybkFyZ3MgPSBbYFtWdWUgd2Fybl06ICR7bXNnfWAsIC4uLmFyZ3NdO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHRyYWNlLmxlbmd0aCAmJlxuICAgICAgICAgICAgLy8gYXZvaWQgc3BhbW1pbmcgY29uc29sZSBkdXJpbmcgdGVzdHNcbiAgICAgICAgICAgICFmYWxzZSkge1xuICAgICAgICAgICAgd2FybkFyZ3MucHVzaChgXFxuYCwgLi4uZm9ybWF0VHJhY2UodHJhY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLndhcm4oLi4ud2FybkFyZ3MpO1xuICAgIH1cbiAgICByZXNldFRyYWNraW5nKCk7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcbiAgICBsZXQgY3VycmVudFZOb2RlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgaWYgKCFjdXJyZW50Vk5vZGUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvLyB3ZSBjYW4ndCBqdXN0IHVzZSB0aGUgc3RhY2sgYmVjYXVzZSBpdCB3aWxsIGJlIGluY29tcGxldGUgZHVyaW5nIHVwZGF0ZXNcbiAgICAvLyB0aGF0IGRpZCBub3Qgc3RhcnQgZnJvbSB0aGUgcm9vdC4gUmUtY29uc3RydWN0IHRoZSBwYXJlbnQgY2hhaW4gdXNpbmdcbiAgICAvLyBpbnN0YW5jZSBwYXJlbnQgcG9pbnRlcnMuXG4gICAgY29uc3Qgbm9ybWFsaXplZFN0YWNrID0gW107XG4gICAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xuICAgICAgICBjb25zdCBsYXN0ID0gbm9ybWFsaXplZFN0YWNrWzBdO1xuICAgICAgICBpZiAobGFzdCAmJiBsYXN0LnZub2RlID09PSBjdXJyZW50Vk5vZGUpIHtcbiAgICAgICAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgdm5vZGU6IGN1cnJlbnRWTm9kZSxcbiAgICAgICAgICAgICAgICByZWN1cnNlQ291bnQ6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEluc3RhbmNlID0gY3VycmVudFZOb2RlLmNvbXBvbmVudCAmJiBjdXJyZW50Vk5vZGUuY29tcG9uZW50LnBhcmVudDtcbiAgICAgICAgY3VycmVudFZOb2RlID0gcGFyZW50SW5zdGFuY2UgJiYgcGFyZW50SW5zdGFuY2Uudm5vZGU7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkU3RhY2s7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gZm9ybWF0VHJhY2UodHJhY2UpIHtcbiAgICBjb25zdCBsb2dzID0gW107XG4gICAgdHJhY2UuZm9yRWFjaCgoZW50cnksIGkpID0+IHtcbiAgICAgICAgbG9ncy5wdXNoKC4uLihpID09PSAwID8gW10gOiBbYFxcbmBdKSwgLi4uZm9ybWF0VHJhY2VFbnRyeShlbnRyeSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBsb2dzO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xuICAgIGNvbnN0IHBvc3RmaXggPSByZWN1cnNlQ291bnQgPiAwID8gYC4uLiAoJHtyZWN1cnNlQ291bnR9IHJlY3Vyc2l2ZSBjYWxscylgIDogYGA7XG4gICAgY29uc3QgaXNSb290ID0gdm5vZGUuY29tcG9uZW50ID8gdm5vZGUuY29tcG9uZW50LnBhcmVudCA9PSBudWxsIDogZmFsc2U7XG4gICAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZSh2bm9kZS5jb21wb25lbnQsIHZub2RlLnR5cGUsIGlzUm9vdCl9YDtcbiAgICBjb25zdCBjbG9zZSA9IGA+YCArIHBvc3RmaXg7XG4gICAgcmV0dXJuIHZub2RlLnByb3BzXG4gICAgICAgID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdXG4gICAgICAgIDogW29wZW4gKyBjbG9zZV07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gZm9ybWF0UHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXMgPSBbXTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuICAgIGtleXMuc2xpY2UoMCwgMykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICByZXMucHVzaCguLi5mb3JtYXRQcm9wKGtleSwgcHJvcHNba2V5XSkpO1xuICAgIH0pO1xuICAgIGlmIChrZXlzLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgcmVzLnB1c2goYCAuLi5gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBmb3JtYXRQcm9wKGtleSwgdmFsdWUsIHJhdykge1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PSR7dmFsdWV9YF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBmb3JtYXRQcm9wKGtleSwgdG9SYXcodmFsdWUudmFsdWUpLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09UmVmPGAsIHZhbHVlLCBgPmBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gW2Ake2tleX09Zm4ke3ZhbHVlLm5hbWUgPyBgPCR7dmFsdWUubmFtZX0+YCA6IGBgfWBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PWAsIHZhbHVlXTtcbiAgICB9XG59XG5cbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MgPSB7XG4gICAgW1wic3BcIiAvKiBMaWZlY3ljbGVIb29rcy5TRVJWRVJfUFJFRkVUQ0ggKi9dOiAnc2VydmVyUHJlZmV0Y2ggaG9vaycsXG4gICAgW1wiYmNcIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfQ1JFQVRFICovXTogJ2JlZm9yZUNyZWF0ZSBob29rJyxcbiAgICBbXCJjXCIgLyogTGlmZWN5Y2xlSG9va3MuQ1JFQVRFRCAqL106ICdjcmVhdGVkIGhvb2snLFxuICAgIFtcImJtXCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX01PVU5UICovXTogJ2JlZm9yZU1vdW50IGhvb2snLFxuICAgIFtcIm1cIiAvKiBMaWZlY3ljbGVIb29rcy5NT1VOVEVEICovXTogJ21vdW50ZWQgaG9vaycsXG4gICAgW1wiYnVcIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfVVBEQVRFICovXTogJ2JlZm9yZVVwZGF0ZSBob29rJyxcbiAgICBbXCJ1XCIgLyogTGlmZWN5Y2xlSG9va3MuVVBEQVRFRCAqL106ICd1cGRhdGVkJyxcbiAgICBbXCJidW1cIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfVU5NT1VOVCAqL106ICdiZWZvcmVVbm1vdW50IGhvb2snLFxuICAgIFtcInVtXCIgLyogTGlmZWN5Y2xlSG9va3MuVU5NT1VOVEVEICovXTogJ3VubW91bnRlZCBob29rJyxcbiAgICBbXCJhXCIgLyogTGlmZWN5Y2xlSG9va3MuQUNUSVZBVEVEICovXTogJ2FjdGl2YXRlZCBob29rJyxcbiAgICBbXCJkYVwiIC8qIExpZmVjeWNsZUhvb2tzLkRFQUNUSVZBVEVEICovXTogJ2RlYWN0aXZhdGVkIGhvb2snLFxuICAgIFtcImVjXCIgLyogTGlmZWN5Y2xlSG9va3MuRVJST1JfQ0FQVFVSRUQgKi9dOiAnZXJyb3JDYXB0dXJlZCBob29rJyxcbiAgICBbXCJydGNcIiAvKiBMaWZlY3ljbGVIb29rcy5SRU5ERVJfVFJBQ0tFRCAqL106ICdyZW5kZXJUcmFja2VkIGhvb2snLFxuICAgIFtcInJ0Z1wiIC8qIExpZmVjeWNsZUhvb2tzLlJFTkRFUl9UUklHR0VSRUQgKi9dOiAncmVuZGVyVHJpZ2dlcmVkIGhvb2snLFxuICAgIFswIC8qIEVycm9yQ29kZXMuU0VUVVBfRlVOQ1RJT04gKi9dOiAnc2V0dXAgZnVuY3Rpb24nLFxuICAgIFsxIC8qIEVycm9yQ29kZXMuUkVOREVSX0ZVTkNUSU9OICovXTogJ3JlbmRlciBmdW5jdGlvbicsXG4gICAgWzIgLyogRXJyb3JDb2Rlcy5XQVRDSF9HRVRURVIgKi9dOiAnd2F0Y2hlciBnZXR0ZXInLFxuICAgIFszIC8qIEVycm9yQ29kZXMuV0FUQ0hfQ0FMTEJBQ0sgKi9dOiAnd2F0Y2hlciBjYWxsYmFjaycsXG4gICAgWzQgLyogRXJyb3JDb2Rlcy5XQVRDSF9DTEVBTlVQICovXTogJ3dhdGNoZXIgY2xlYW51cCBmdW5jdGlvbicsXG4gICAgWzUgLyogRXJyb3JDb2Rlcy5OQVRJVkVfRVZFTlRfSEFORExFUiAqL106ICduYXRpdmUgZXZlbnQgaGFuZGxlcicsXG4gICAgWzYgLyogRXJyb3JDb2Rlcy5DT01QT05FTlRfRVZFTlRfSEFORExFUiAqL106ICdjb21wb25lbnQgZXZlbnQgaGFuZGxlcicsXG4gICAgWzcgLyogRXJyb3JDb2Rlcy5WTk9ERV9IT09LICovXTogJ3Zub2RlIGhvb2snLFxuICAgIFs4IC8qIEVycm9yQ29kZXMuRElSRUNUSVZFX0hPT0sgKi9dOiAnZGlyZWN0aXZlIGhvb2snLFxuICAgIFs5IC8qIEVycm9yQ29kZXMuVFJBTlNJVElPTl9IT09LICovXTogJ3RyYW5zaXRpb24gaG9vaycsXG4gICAgWzEwIC8qIEVycm9yQ29kZXMuQVBQX0VSUk9SX0hBTkRMRVIgKi9dOiAnYXBwIGVycm9ySGFuZGxlcicsXG4gICAgWzExIC8qIEVycm9yQ29kZXMuQVBQX1dBUk5fSEFORExFUiAqL106ICdhcHAgd2FybkhhbmRsZXInLFxuICAgIFsxMiAvKiBFcnJvckNvZGVzLkZVTkNUSU9OX1JFRiAqL106ICdyZWYgZnVuY3Rpb24nLFxuICAgIFsxMyAvKiBFcnJvckNvZGVzLkFTWU5DX0NPTVBPTkVOVF9MT0FERVIgKi9dOiAnYXN5bmMgY29tcG9uZW50IGxvYWRlcicsXG4gICAgWzE0IC8qIEVycm9yQ29kZXMuU0NIRURVTEVSICovXTogJ3NjaGVkdWxlciBmbHVzaC4gVGhpcyBpcyBsaWtlbHkgYSBWdWUgaW50ZXJuYWxzIGJ1Zy4gJyArXG4gICAgICAgICdQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL25ldy1pc3N1ZS52dWVqcy5vcmcvP3JlcG89dnVlanMvY29yZSdcbn07XG5mdW5jdGlvbiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gICAgbGV0IHJlcztcbiAgICB0cnkge1xuICAgICAgICByZXMgPSBhcmdzID8gZm4oLi4uYXJncykgOiBmbigpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICAgICAgICBpZiAocmVzICYmIGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICAgICAgICByZXMuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWVzLnB1c2goY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm5baV0sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59XG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGNvbnRleHRWTm9kZSA9IGluc3RhbmNlID8gaW5zdGFuY2Uudm5vZGUgOiBudWxsO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICBsZXQgY3VyID0gaW5zdGFuY2UucGFyZW50O1xuICAgICAgICAvLyB0aGUgZXhwb3NlZCBpbnN0YW5jZSBpcyB0aGUgcmVuZGVyIHByb3h5IHRvIGtlZXAgaXQgY29uc2lzdGVudCB3aXRoIDIueFxuICAgICAgICBjb25zdCBleHBvc2VkSW5zdGFuY2UgPSBpbnN0YW5jZS5wcm94eTtcbiAgICAgICAgLy8gaW4gcHJvZHVjdGlvbiB0aGUgaG9vayByZWNlaXZlcyBvbmx5IHRoZSBlcnJvciBjb2RlXG4gICAgICAgIGNvbnN0IGVycm9ySW5mbyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IEVycm9yVHlwZVN0cmluZ3NbdHlwZV0gOiB0eXBlO1xuICAgICAgICB3aGlsZSAoY3VyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XG4gICAgICAgICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcnJvckNhcHR1cmVkSG9va3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwLWxldmVsIGhhbmRsaW5nXG4gICAgICAgIGNvbnN0IGFwcEVycm9ySGFuZGxlciA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmVycm9ySGFuZGxlcjtcbiAgICAgICAgaWYgKGFwcEVycm9ySGFuZGxlcikge1xuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGFwcEVycm9ySGFuZGxlciwgbnVsbCwgMTAgLyogRXJyb3JDb2Rlcy5BUFBfRVJST1JfSEFORExFUiAqLywgW2VyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm9dKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldik7XG59XG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSBFcnJvclR5cGVTdHJpbmdzW3R5cGVdO1xuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQoY29udGV4dFZOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB3YXJuJDEoYFVuaGFuZGxlZCBlcnJvciR7aW5mbyA/IGAgZHVyaW5nIGV4ZWN1dGlvbiBvZiAke2luZm99YCA6IGBgfWApO1xuICAgICAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyYXNoIGluIGRldiBieSBkZWZhdWx0IHNvIGl0J3MgbW9yZSBub3RpY2VhYmxlXG4gICAgICAgIGlmICh0aHJvd0luRGV2KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHJlY292ZXIgaW4gcHJvZCB0byByZWR1Y2UgdGhlIGltcGFjdCBvbiBlbmQtdXNlclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxufVxuXG5sZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xubGV0IGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XG5jb25zdCBxdWV1ZSA9IFtdO1xubGV0IGZsdXNoSW5kZXggPSAwO1xuY29uc3QgcGVuZGluZ1Bvc3RGbHVzaENicyA9IFtdO1xubGV0IGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xuY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gLyojX19QVVJFX18qLyBQcm9taXNlLnJlc29sdmUoKTtcbmxldCBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbmNvbnN0IFJFQ1VSU0lPTl9MSU1JVCA9IDEwMDtcbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gICAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xuICAgIHJldHVybiBmbiA/IHAudGhlbih0aGlzID8gZm4uYmluZCh0aGlzKSA6IGZuKSA6IHA7XG59XG4vLyAjMjc2OFxuLy8gVXNlIGJpbmFyeS1zZWFyY2ggdG8gZmluZCBhIHN1aXRhYmxlIHBvc2l0aW9uIGluIHRoZSBxdWV1ZSxcbi8vIHNvIHRoYXQgdGhlIHF1ZXVlIG1haW50YWlucyB0aGUgaW5jcmVhc2luZyBvcmRlciBvZiBqb2IncyBpZCxcbi8vIHdoaWNoIGNhbiBwcmV2ZW50IHRoZSBqb2IgZnJvbSBiZWluZyBza2lwcGVkIGFuZCBhbHNvIGNhbiBhdm9pZCByZXBlYXRlZCBwYXRjaGluZy5cbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChpZCkge1xuICAgIC8vIHRoZSBzdGFydCBpbmRleCBzaG91bGQgYmUgYGZsdXNoSW5kZXggKyAxYFxuICAgIGxldCBzdGFydCA9IGZsdXNoSW5kZXggKyAxO1xuICAgIGxldCBlbmQgPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IChzdGFydCArIGVuZCkgPj4+IDE7XG4gICAgICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQocXVldWVbbWlkZGxlXSk7XG4gICAgICAgIG1pZGRsZUpvYklkIDwgaWQgPyAoc3RhcnQgPSBtaWRkbGUgKyAxKSA6IChlbmQgPSBtaWRkbGUpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnQ7XG59XG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcbiAgICAvLyB0aGUgZGVkdXBlIHNlYXJjaCB1c2VzIHRoZSBzdGFydEluZGV4IGFyZ3VtZW50IG9mIEFycmF5LmluY2x1ZGVzKClcbiAgICAvLyBieSBkZWZhdWx0IHRoZSBzZWFyY2ggaW5kZXggaW5jbHVkZXMgdGhlIGN1cnJlbnQgam9iIHRoYXQgaXMgYmVpbmcgcnVuXG4gICAgLy8gc28gaXQgY2Fubm90IHJlY3Vyc2l2ZWx5IHRyaWdnZXIgaXRzZWxmIGFnYWluLlxuICAgIC8vIGlmIHRoZSBqb2IgaXMgYSB3YXRjaCgpIGNhbGxiYWNrLCB0aGUgc2VhcmNoIHdpbGwgc3RhcnQgd2l0aCBhICsxIGluZGV4IHRvXG4gICAgLy8gYWxsb3cgaXQgcmVjdXJzaXZlbHkgdHJpZ2dlciBpdHNlbGYgLSBpdCBpcyB0aGUgdXNlcidzIHJlc3BvbnNpYmlsaXR5IHRvXG4gICAgLy8gZW5zdXJlIGl0IGRvZXNuJ3QgZW5kIHVwIGluIGFuIGluZmluaXRlIGxvb3AuXG4gICAgaWYgKCFxdWV1ZS5sZW5ndGggfHxcbiAgICAgICAgIXF1ZXVlLmluY2x1ZGVzKGpvYiwgaXNGbHVzaGluZyAmJiBqb2IuYWxsb3dSZWN1cnNlID8gZmx1c2hJbmRleCArIDEgOiBmbHVzaEluZGV4KSkge1xuICAgICAgICBpZiAoam9iLmlkID09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goam9iKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXVlLnNwbGljZShmaW5kSW5zZXJ0aW9uSW5kZXgoam9iLmlkKSwgMCwgam9iKTtcbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUZsdXNoKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcXVldWVGbHVzaCgpIHtcbiAgICBpZiAoIWlzRmx1c2hpbmcgJiYgIWlzRmx1c2hQZW5kaW5nKSB7XG4gICAgICAgIGlzRmx1c2hQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IHJlc29sdmVkUHJvbWlzZS50aGVuKGZsdXNoSm9icyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW52YWxpZGF0ZUpvYihqb2IpIHtcbiAgICBjb25zdCBpID0gcXVldWUuaW5kZXhPZihqb2IpO1xuICAgIGlmIChpID4gZmx1c2hJbmRleCkge1xuICAgICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcXVldWVQb3N0Rmx1c2hDYihjYikge1xuICAgIGlmICghaXNBcnJheShjYikpIHtcbiAgICAgICAgaWYgKCFhY3RpdmVQb3N0Rmx1c2hDYnMgfHxcbiAgICAgICAgICAgICFhY3RpdmVQb3N0Rmx1c2hDYnMuaW5jbHVkZXMoY2IsIGNiLmFsbG93UmVjdXJzZSA/IHBvc3RGbHVzaEluZGV4ICsgMSA6IHBvc3RGbHVzaEluZGV4KSkge1xuICAgICAgICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKGNiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gaWYgY2IgaXMgYW4gYXJyYXksIGl0IGlzIGEgY29tcG9uZW50IGxpZmVjeWNsZSBob29rIHdoaWNoIGNhbiBvbmx5IGJlXG4gICAgICAgIC8vIHRyaWdnZXJlZCBieSBhIGpvYiwgd2hpY2ggaXMgYWxyZWFkeSBkZWR1cGVkIGluIHRoZSBtYWluIHF1ZXVlLCBzb1xuICAgICAgICAvLyB3ZSBjYW4gc2tpcCBkdXBsaWNhdGUgY2hlY2sgaGVyZSB0byBpbXByb3ZlIHBlcmZcbiAgICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKC4uLmNiKTtcbiAgICB9XG4gICAgcXVldWVGbHVzaCgpO1xufVxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhzZWVuLCBcbi8vIGlmIGN1cnJlbnRseSBmbHVzaGluZywgc2tpcCB0aGUgY3VycmVudCBqb2IgaXRzZWxmXG5pID0gaXNGbHVzaGluZyA/IGZsdXNoSW5kZXggKyAxIDogMCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgc2VlbiA9IHNlZW4gfHwgbmV3IE1hcCgpO1xuICAgIH1cbiAgICBmb3IgKDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNiID0gcXVldWVbaV07XG4gICAgICAgIGlmIChjYiAmJiBjYi5wcmUpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGNiKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pIHtcbiAgICBpZiAocGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZGVkdXBlZCA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQb3N0Rmx1c2hDYnMpXTtcbiAgICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGggPSAwO1xuICAgICAgICAvLyAjMTk0NyBhbHJlYWR5IGhhcyBhY3RpdmUgcXVldWUsIG5lc3RlZCBmbHVzaFBvc3RGbHVzaENicyBjYWxsXG4gICAgICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMpIHtcbiAgICAgICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicy5wdXNoKC4uLmRlZHVwZWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHNlZW4gPSBzZWVuIHx8IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMuc29ydCgoYSwgYikgPT4gZ2V0SWQoYSkgLSBnZXRJZChiKSk7XG4gICAgICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0oKTtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xuICAgICAgICBwb3N0Rmx1c2hJbmRleCA9IDA7XG4gICAgfVxufVxuY29uc3QgZ2V0SWQgPSAoam9iKSA9PiBqb2IuaWQgPT0gbnVsbCA/IEluZmluaXR5IDogam9iLmlkO1xuY29uc3QgY29tcGFyYXRvciA9IChhLCBiKSA9PiB7XG4gICAgY29uc3QgZGlmZiA9IGdldElkKGEpIC0gZ2V0SWQoYik7XG4gICAgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgICAgaWYgKGEucHJlICYmICFiLnByZSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGIucHJlICYmICFhLnByZSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZjtcbn07XG5mdW5jdGlvbiBmbHVzaEpvYnMoc2Vlbikge1xuICAgIGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XG4gICAgaXNGbHVzaGluZyA9IHRydWU7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBzZWVuID0gc2VlbiB8fCBuZXcgTWFwKCk7XG4gICAgfVxuICAgIC8vIFNvcnQgcXVldWUgYmVmb3JlIGZsdXNoLlxuICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0OlxuICAgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXNcbiAgICAvLyAgICBjcmVhdGVkIGJlZm9yZSB0aGUgY2hpbGQgc28gaXRzIHJlbmRlciBlZmZlY3Qgd2lsbCBoYXZlIHNtYWxsZXJcbiAgICAvLyAgICBwcmlvcml0eSBudW1iZXIpXG4gICAgLy8gMi4gSWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB1cGRhdGUsXG4gICAgLy8gICAgaXRzIHVwZGF0ZSBjYW4gYmUgc2tpcHBlZC5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmF0b3IpO1xuICAgIC8vIGNvbmRpdGlvbmFsIHVzYWdlIG9mIGNoZWNrUmVjdXJzaXZlVXBkYXRlIG11c3QgYmUgZGV0ZXJtaW5lZCBvdXQgb2ZcbiAgICAvLyB0cnkgLi4uIGNhdGNoIGJsb2NrIHNpbmNlIFJvbGx1cCBieSBkZWZhdWx0IGRlLW9wdGltaXplcyB0cmVlc2hha2luZ1xuICAgIC8vIGluc2lkZSB0cnktY2F0Y2guIFRoaXMgY2FuIGxlYXZlIGFsbCB3YXJuaW5nIGNvZGUgdW5zaGFrZWQuIEFsdGhvdWdoXG4gICAgLy8gdGhleSB3b3VsZCBnZXQgZXZlbnR1YWxseSBzaGFrZW4gYnkgYSBtaW5pZmllciBsaWtlIHRlcnNlciwgc29tZSBtaW5pZmllcnNcbiAgICAvLyB3b3VsZCBmYWlsIHRvIGRvIHRoYXQgKGUuZy4gaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2VzYnVpbGQvaXNzdWVzLzE2MTApXG4gICAgY29uc3QgY2hlY2sgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgPyAoam9iKSA9PiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKVxuICAgICAgICA6IE5PT1A7XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yIChmbHVzaEluZGV4ID0gMDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgICAgICAgIGlmIChqb2IgJiYgam9iLmFjdGl2ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNoZWNrKGpvYikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBydW5uaW5nOmAsIGpvYi5pZClcbiAgICAgICAgICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoam9iLCBudWxsLCAxNCAvKiBFcnJvckNvZGVzLlNDSEVEVUxFUiAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGZsdXNoSW5kZXggPSAwO1xuICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICBmbHVzaFBvc3RGbHVzaENicyhzZWVuKTtcbiAgICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xuICAgICAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbiAgICAgICAgLy8gc29tZSBwb3N0Rmx1c2hDYiBxdWV1ZWQgam9icyFcbiAgICAgICAgLy8ga2VlcCBmbHVzaGluZyB1bnRpbCBpdCBkcmFpbnMuXG4gICAgICAgIGlmIChxdWV1ZS5sZW5ndGggfHwgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZsdXNoSm9icyhzZWVuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBmbikge1xuICAgIGlmICghc2Vlbi5oYXMoZm4pKSB7XG4gICAgICAgIHNlZW4uc2V0KGZuLCAxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pO1xuICAgICAgICBpZiAoY291bnQgPiBSRUNVUlNJT05fTElNSVQpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gZm4ub3duZXJJbnN0YW5jZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xuICAgICAgICAgICAgd2FybiQxKGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkJHtjb21wb25lbnROYW1lID8gYCBpbiBjb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZX0+YCA6IGBgfS4gYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgbWVhbnMgeW91IGhhdmUgYSByZWFjdGl2ZSBlZmZlY3QgdGhhdCBpcyBtdXRhdGluZyBpdHMgb3duIGAgK1xuICAgICAgICAgICAgICAgIGBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgYCArXG4gICAgICAgICAgICAgICAgYGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciBgICtcbiAgICAgICAgICAgICAgICBgd2F0Y2hlciBzb3VyY2UgZnVuY3Rpb24uYCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlZW4uc2V0KGZuLCBjb3VudCArIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSBuZXcgU2V0KCk7XG4vLyBFeHBvc2UgdGhlIEhNUiBydW50aW1lIG9uIHRoZSBnbG9iYWwgb2JqZWN0XG4vLyBUaGlzIG1ha2VzIGl0IGVudGlyZWx5IHRyZWUtc2hha2FibGUgd2l0aG91dCBwb2xsdXRpbmcgdGhlIGV4cG9ydHMgYW5kIG1ha2VzXG4vLyBpdCBlYXNpZXIgdG8gYmUgdXNlZCBpbiB0b29saW5ncyBsaWtlIHZ1ZS1sb2FkZXJcbi8vIE5vdGU6IGZvciBhIGNvbXBvbmVudCB0byBiZSBlbGlnaWJsZSBmb3IgSE1SIGl0IGFsc28gbmVlZHMgdGhlIF9faG1ySWQgb3B0aW9uXG4vLyB0byBiZSBzZXQgc28gdGhhdCBpdHMgaW5zdGFuY2VzIGNhbiBiZSByZWdpc3RlcmVkIC8gcmVtb3ZlZC5cbmlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfSE1SX1JVTlRJTUVfXyA9IHtcbiAgICAgICAgY3JlYXRlUmVjb3JkOiB0cnlXcmFwKGNyZWF0ZVJlY29yZCksXG4gICAgICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcbiAgICAgICAgcmVsb2FkOiB0cnlXcmFwKHJlbG9hZClcbiAgICB9O1xufVxuY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBpZCA9IGluc3RhbmNlLnR5cGUuX19obXJJZDtcbiAgICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcbiAgICAgICAgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gICAgfVxuICAgIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgICBtYXAuZ2V0KGluc3RhbmNlLnR5cGUuX19obXJJZCkuaW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWNvcmQoaWQsIGluaXRpYWxEZWYpIHtcbiAgICBpZiAobWFwLmhhcyhpZCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBtYXAuc2V0KGlkLCB7XG4gICAgICAgIGluaXRpYWxEZWY6IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluaXRpYWxEZWYpLFxuICAgICAgICBpbnN0YW5jZXM6IG5ldyBTZXQoKVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGlzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC5fX3ZjY09wdHMgOiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XG4gICAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgaW5pdGlhbCByZWNvcmQgKGZvciBub3QteWV0LXJlbmRlcmVkIGNvbXBvbmVudClcbiAgICByZWNvcmQuaW5pdGlhbERlZi5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gICAgWy4uLnJlY29yZC5pbnN0YW5jZXNdLmZvckVhY2goaW5zdGFuY2UgPT4ge1xuICAgICAgICBpZiAobmV3UmVuZGVyKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gICAgICAgICAgICBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKS5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcbiAgICAgICAgLy8gdGhpcyBmbGFnIGZvcmNlcyBjaGlsZCBjb21wb25lbnRzIHdpdGggc2xvdCBjb250ZW50IHRvIHVwZGF0ZVxuICAgICAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHJlbG9hZChpZCwgbmV3Q29tcCkge1xuICAgIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICAgIGlmICghcmVjb3JkKVxuICAgICAgICByZXR1cm47XG4gICAgbmV3Q29tcCA9IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KG5ld0NvbXApO1xuICAgIC8vIHVwZGF0ZSBpbml0aWFsIGRlZiAoZm9yIG5vdC15ZXQtcmVuZGVyZWQgY29tcG9uZW50cylcbiAgICB1cGRhdGVDb21wb25lbnREZWYocmVjb3JkLmluaXRpYWxEZWYsIG5ld0NvbXApO1xuICAgIC8vIGNyZWF0ZSBhIHNuYXBzaG90IHdoaWNoIGF2b2lkcyB0aGUgc2V0IGJlaW5nIG11dGF0ZWQgZHVyaW5nIHVwZGF0ZXNcbiAgICBjb25zdCBpbnN0YW5jZXMgPSBbLi4ucmVjb3JkLmluc3RhbmNlc107XG4gICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBpbnN0YW5jZXMpIHtcbiAgICAgICAgY29uc3Qgb2xkQ29tcCA9IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpO1xuICAgICAgICBpZiAoIWhtckRpcnR5Q29tcG9uZW50cy5oYXMob2xkQ29tcCkpIHtcbiAgICAgICAgICAgIC8vIDEuIFVwZGF0ZSBleGlzdGluZyBjb21wIGRlZmluaXRpb24gdG8gbWF0Y2ggbmV3IG9uZVxuICAgICAgICAgICAgaWYgKG9sZENvbXAgIT09IHJlY29yZC5pbml0aWFsRGVmKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMi4gbWFyayBkZWZpbml0aW9uIGRpcnR5LiBUaGlzIGZvcmNlcyB0aGUgcmVuZGVyZXIgdG8gcmVwbGFjZSB0aGVcbiAgICAgICAgICAgIC8vIGNvbXBvbmVudCBvbiBwYXRjaC5cbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5hZGQob2xkQ29tcCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4gaW52YWxpZGF0ZSBvcHRpb25zIHJlc29sdXRpb24gY2FjaGVcbiAgICAgICAgaW5zdGFuY2UuYXBwQ29udGV4dC5vcHRpb25zQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgICAgICAvLyA0LiBhY3R1YWxseSB1cGRhdGVcbiAgICAgICAgaWYgKGluc3RhbmNlLmNlUmVsb2FkKSB7XG4gICAgICAgICAgICAvLyBjdXN0b20gZWxlbWVudFxuICAgICAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmFkZChvbGRDb21wKTtcbiAgICAgICAgICAgIGluc3RhbmNlLmNlUmVsb2FkKG5ld0NvbXAuc3R5bGVzKTtcbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUob2xkQ29tcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICAgICAgICAvLyA0LiBGb3JjZSB0aGUgcGFyZW50IGluc3RhbmNlIHRvIHJlLXJlbmRlci4gVGhpcyB3aWxsIGNhdXNlIGFsbCB1cGRhdGVkXG4gICAgICAgICAgICAvLyBjb21wb25lbnRzIHRvIGJlIHVubW91bnRlZCBhbmQgcmUtbW91bnRlZC4gUXVldWUgdGhlIHVwZGF0ZSBzbyB0aGF0IHdlXG4gICAgICAgICAgICAvLyBkb24ndCBlbmQgdXAgZm9yY2luZyB0aGUgc2FtZSBwYXJlbnQgdG8gcmUtcmVuZGVyIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAgICAgcXVldWVKb2IoaW5zdGFuY2UucGFyZW50LnVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcbiAgICAgICAgICAgIC8vIHJvb3QgaW5zdGFuY2UgbW91bnRlZCB2aWEgY3JlYXRlQXBwKCkgaGFzIGEgcmVsb2FkIG1ldGhvZFxuICAgICAgICAgICAgaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gcm9vdCBpbnN0YW5jZSBpbnNpZGUgdHJlZSBjcmVhdGVkIHZpYSByYXcgcmVuZGVyKCkuIEZvcmNlIHJlbG9hZC5cbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyA1LiBtYWtlIHN1cmUgdG8gY2xlYW51cCBkaXJ0eSBobXIgY29tcG9uZW50cyBhZnRlciB1cGRhdGVcbiAgICBxdWV1ZVBvc3RGbHVzaENiKCgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBpbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUobm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCkge1xuICAgIGV4dGVuZChvbGRDb21wLCBuZXdDb21wKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRDb21wKSB7XG4gICAgICAgIGlmIChrZXkgIT09ICdfX2ZpbGUnICYmICEoa2V5IGluIG5ld0NvbXApKSB7XG4gICAgICAgICAgICBkZWxldGUgb2xkQ29tcFtrZXldO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdHJ5V3JhcChmbikge1xuICAgIHJldHVybiAoaWQsIGFyZykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGZuKGlkLCBhcmcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbSE1SXSBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgVnVlIGNvbXBvbmVudCBob3QtcmVsb2FkLiBgICtcbiAgICAgICAgICAgICAgICBgRnVsbCByZWxvYWQgcmVxdWlyZWQuYCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5sZXQgZGV2dG9vbHM7XG5sZXQgYnVmZmVyID0gW107XG5sZXQgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGVtaXQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICBpZiAoZGV2dG9vbHMpIHtcbiAgICAgICAgZGV2dG9vbHMuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFkZXZ0b29sc05vdEluc3RhbGxlZCkge1xuICAgICAgICBidWZmZXIucHVzaCh7IGV2ZW50LCBhcmdzIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayhob29rLCB0YXJnZXQpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGRldnRvb2xzID0gaG9vaztcbiAgICBpZiAoZGV2dG9vbHMpIHtcbiAgICAgICAgZGV2dG9vbHMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGJ1ZmZlci5mb3JFYWNoKCh7IGV2ZW50LCBhcmdzIH0pID0+IGRldnRvb2xzLmVtaXQoZXZlbnQsIC4uLmFyZ3MpKTtcbiAgICAgICAgYnVmZmVyID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKFxuICAgIC8vIGhhbmRsZSBsYXRlIGRldnRvb2xzIGluamVjdGlvbiAtIG9ubHkgZG8gdGhpcyBpZiB3ZSBhcmUgaW4gYW4gYWN0dWFsXG4gICAgLy8gYnJvd3NlciBlbnZpcm9ubWVudCB0byBhdm9pZCB0aGUgdGltZXIgaGFuZGxlIHN0YWxsaW5nIHRlc3QgcnVubmVyIGV4aXRcbiAgICAvLyAoIzQ4MTUpXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgLy8gc29tZSBlbnZzIG1vY2sgd2luZG93IGJ1dCBub3QgZnVsbHlcbiAgICAgICAgd2luZG93LkhUTUxFbGVtZW50ICYmXG4gICAgICAgIC8vIGFsc28gZXhjbHVkZSBqc2RvbVxuICAgICAgICAhKChfYiA9IChfYSA9IHdpbmRvdy5uYXZpZ2F0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcygnanNkb20nKSkpIHtcbiAgICAgICAgY29uc3QgcmVwbGF5ID0gKHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fID1cbiAgICAgICAgICAgIHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fIHx8IFtdKTtcbiAgICAgICAgcmVwbGF5LnB1c2goKG5ld0hvb2spID0+IHtcbiAgICAgICAgICAgIHNldERldnRvb2xzSG9vayhuZXdIb29rLCB0YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gY2xlYXIgYnVmZmVyIGFmdGVyIDNzIC0gdGhlIHVzZXIgcHJvYmFibHkgZG9lc24ndCBoYXZlIGRldnRvb2xzIGluc3RhbGxlZFxuICAgICAgICAvLyBhdCBhbGwsIGFuZCBrZWVwaW5nIHRoZSBidWZmZXIgd2lsbCBjYXVzZSBtZW1vcnkgbGVha3MgKCM0NzM4KVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICghZGV2dG9vbHMpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IG51bGw7XG4gICAgICAgICAgICAgICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAzMDAwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG5vbi1icm93c2VyIGVudiwgYXNzdW1lIG5vdCBpbnN0YWxsZWRcbiAgICAgICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICBidWZmZXIgPSBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKSB7XG4gICAgZW1pdChcImFwcDppbml0XCIgLyogRGV2dG9vbHNIb29rcy5BUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XG4gICAgICAgIEZyYWdtZW50LFxuICAgICAgICBUZXh0LFxuICAgICAgICBDb21tZW50LFxuICAgICAgICBTdGF0aWNcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzVW5tb3VudEFwcChhcHApIHtcbiAgICBlbWl0KFwiYXBwOnVubW91bnRcIiAvKiBEZXZ0b29sc0hvb2tzLkFQUF9VTk1PVU5UICovLCBhcHApO1xufVxuY29uc3QgZGV2dG9vbHNDb21wb25lbnRBZGRlZCA9IC8qI19fUFVSRV9fKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OmFkZGVkXCIgLyogRGV2dG9vbHNIb29rcy5DT01QT05FTlRfQURERUQgKi8pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkID0gXG4vKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogRGV2dG9vbHNIb29rcy5DT01QT05FTlRfVVBEQVRFRCAqLyk7XG5jb25zdCBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6cmVtb3ZlZFwiIC8qIERldnRvb2xzSG9va3MuQ09NUE9ORU5UX1JFTU9WRUQgKi8pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkID0gKGNvbXBvbmVudCkgPT4ge1xuICAgIGlmIChkZXZ0b29scyAmJlxuICAgICAgICB0eXBlb2YgZGV2dG9vbHMuY2xlYW51cEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAvLyByZW1vdmUgdGhlIGNvbXBvbmVudCBpZiBpdCB3YXNuJ3QgYnVmZmVyZWRcbiAgICAgICAgIWRldnRvb2xzLmNsZWFudXBCdWZmZXIoY29tcG9uZW50KSkge1xuICAgICAgICBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGNvbXBvbmVudCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhob29rKSB7XG4gICAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcbiAgICAgICAgZW1pdChob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHVuZGVmaW5lZCwgY29tcG9uZW50KTtcbiAgICB9O1xufVxuY29uc3QgZGV2dG9vbHNQZXJmU3RhcnQgPSAvKiNfX1BVUkVfXyovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjpzdGFydFwiIC8qIERldnRvb2xzSG9va3MuUEVSRk9STUFOQ0VfU1RBUlQgKi8pO1xuY29uc3QgZGV2dG9vbHNQZXJmRW5kID0gLyojX19QVVJFX18qLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6ZW5kXCIgLyogRGV2dG9vbHNIb29rcy5QRVJGT1JNQU5DRV9FTkQgKi8pO1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soaG9vaykge1xuICAgIHJldHVybiAoY29tcG9uZW50LCB0eXBlLCB0aW1lKSA9PiB7XG4gICAgICAgIGVtaXQoaG9vaywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQudWlkLCBjb21wb25lbnQsIHR5cGUsIHRpbWUpO1xuICAgIH07XG59XG5mdW5jdGlvbiBkZXZ0b29sc0NvbXBvbmVudEVtaXQoY29tcG9uZW50LCBldmVudCwgcGFyYW1zKSB7XG4gICAgZW1pdChcImNvbXBvbmVudDplbWl0XCIgLyogRGV2dG9vbHNIb29rcy5DT01QT05FTlRfRU1JVCAqLywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpO1xufVxuXG5jb25zdCBkZXByZWNhdGlvbkRhdGEgPSB7XG4gICAgW1wiR0xPQkFMX01PVU5UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfTU9VTlQgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBUaGUgZ2xvYmFsIGFwcCBib290c3RyYXBwaW5nIEFQSSBoYXMgY2hhbmdlZDogdm0uJG1vdW50KCkgYW5kIHRoZSBcImVsXCIgYCArXG4gICAgICAgICAgICBgb3B0aW9uIGhhdmUgYmVlbiByZW1vdmVkLiBVc2UgY3JlYXRlQXBwKFJvb3RDb21wb25lbnQpLm1vdW50KCkgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZ2xvYmFsLWFwaS5odG1sI21vdW50aW5nLWFwcC1pbnN0YW5jZWBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9NT1VOVF9DT05UQUlORVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9NT1VOVF9DT05UQUlORVIgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUgZGV0ZWN0ZWQgZGlyZWN0aXZlcyBvbiB0aGUgbW91bnQgY29udGFpbmVyLiBgICtcbiAgICAgICAgICAgIGBJbiBWdWUgMywgdGhlIGNvbnRhaW5lciBpcyBubyBsb25nZXIgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSB0ZW1wbGF0ZSBgICtcbiAgICAgICAgICAgIGBhbmQgd2lsbCBub3QgYmUgcHJvY2Vzc2VkL3JlcGxhY2VkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9tb3VudC1jaGFuZ2VzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJHTE9CQUxfRVhURU5EXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfRVhURU5EICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlLmV4dGVuZCgpIGhhcyBiZWVuIHJlbW92ZWQgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFVzZSBkZWZpbmVDb21wb25lbnQoKSBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3Z1ZWpzLm9yZy9hcGkvZ2VuZXJhbC5odG1sI2RlZmluZWNvbXBvbmVudGBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUk9UT1RZUEUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUucHJvdG90eXBlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFVzZSBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMgaW5zdGVhZC5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZ2xvYmFsLWFwaS5odG1sI3Z1ZS1wcm90b3R5cGUtcmVwbGFjZWQtYnktY29uZmlnLWdsb2JhbHByb3BlcnRpZXNgXG4gICAgfSxcbiAgICBbXCJHTE9CQUxfU0VUXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfU0VUICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlLnNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgU2ltcGx5IHVzZSBuYXRpdmUgSmF2YVNjcmlwdCBtdXRhdGlvbnMuYFxuICAgIH0sXG4gICAgW1wiR0xPQkFMX0RFTEVURVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX0RFTEVURSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5kZWxldGUoKSBoYXMgYmVlbiByZW1vdmVkIGFzIGl0IGlzIG5vIGxvbmdlciBuZWVkZWQgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFNpbXBseSB1c2UgbmF0aXZlIEphdmFTY3JpcHQgbXV0YXRpb25zLmBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9PQlNFUlZBQkxFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfT0JTRVJWQUJMRSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFZ1ZS5vYnNlcnZhYmxlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gYCArXG4gICAgICAgICAgICBgVXNlIFxcYGltcG9ydCB7IHJlYWN0aXZlIH0gZnJvbSBcInZ1ZVwiXFxgIGZyb20gQ29tcG9zaXRpb24gQVBJIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdnVlanMub3JnL2FwaS9yZWFjdGl2aXR5LWNvcmUuaHRtbCNyZWFjdGl2ZWBcbiAgICB9LFxuICAgIFtcIkdMT0JBTF9QUklWQVRFX1VUSUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUklWQVRFX1VUSUwgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBWdWUudXRpbCBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgcmVmYWN0b3IgdG8gYXZvaWQgaXRzIHVzYWdlIGAgK1xuICAgICAgICAgICAgYHNpbmNlIGl0IHdhcyBhbiBpbnRlcm5hbCBBUEkgZXZlbiBpbiBWdWUgMi5gXG4gICAgfSxcbiAgICBbXCJDT05GSUdfU0lMRU5UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfU0lMRU5UICovXToge1xuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLnNpbGVudCBoYXMgYmVlbiByZW1vdmVkIGJlY2F1c2UgaXQgaXMgbm90IGdvb2QgcHJhY3RpY2UgdG8gYCArXG4gICAgICAgICAgICBgaW50ZW50aW9uYWxseSBzdXBwcmVzcyB3YXJuaW5ncy4gWW91IGNhbiB1c2UgeW91ciBicm93c2VyIGNvbnNvbGUncyBgICtcbiAgICAgICAgICAgIGBmaWx0ZXIgZmVhdHVyZXMgdG8gZm9jdXMgb24gcmVsZXZhbnQgbWVzc2FnZXMuYFxuICAgIH0sXG4gICAgW1wiQ09ORklHX0RFVlRPT0xTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfREVWVE9PTFMgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBjb25maWcuZGV2dG9vbHMgaGFzIGJlZW4gcmVtb3ZlZC4gVG8gZW5hYmxlIGRldnRvb2xzIGZvciBgICtcbiAgICAgICAgICAgIGBwcm9kdWN0aW9uLCBjb25maWd1cmUgdGhlIF9fVlVFX1BST0RfREVWVE9PTFNfXyBjb21waWxlLXRpbWUgZmxhZy5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL2NvcmUvdHJlZS9tYWluL3BhY2thZ2VzL3Z1ZSNidW5kbGVyLWJ1aWxkLWZlYXR1cmUtZmxhZ3NgXG4gICAgfSxcbiAgICBbXCJDT05GSUdfS0VZX0NPREVTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfS0VZX0NPREVTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLmtleUNvZGVzIGhhcyBiZWVuIHJlbW92ZWQuIGAgK1xuICAgICAgICAgICAgYEluIFZ1ZSAzLCB5b3UgY2FuIGRpcmVjdGx5IHVzZSB0aGUga2ViYWItY2FzZSBrZXkgbmFtZXMgYXMgdi1vbiBtb2RpZmllcnMuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT05GSUdfUFJPRFVDVElPTl9USVBcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19QUk9EVUNUSU9OX1RJUCAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYGNvbmZpZy5wcm9kdWN0aW9uVGlwIGhhcyBiZWVuIHJlbW92ZWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2dsb2JhbC1hcGkuaHRtbCNjb25maWctcHJvZHVjdGlvbnRpcC1yZW1vdmVkYFxuICAgIH0sXG4gICAgW1wiQ09ORklHX0lHTk9SRURfRUxFTUVOVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19JR05PUkVEX0VMRU1FTlRTICovXToge1xuICAgICAgICBtZXNzYWdlOiAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbXNnID0gYGNvbmZpZy5pZ25vcmVkRWxlbWVudHMgaGFzIGJlZW4gcmVtb3ZlZC5gO1xuICAgICAgICAgICAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgICAgICAgICAgIG1zZyArPSBgIFBhc3MgdGhlIFwiaXNDdXN0b21FbGVtZW50XCIgb3B0aW9uIHRvIEB2dWUvY29tcGlsZXItZG9tIGluc3RlYWQuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1zZyArPSBgIFVzZSBjb25maWcuaXNDdXN0b21FbGVtZW50IGluc3RlYWQuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9nbG9iYWwtYXBpLmh0bWwjY29uZmlnLWlnbm9yZWRlbGVtZW50cy1pcy1ub3ctY29uZmlnLWlzY3VzdG9tZWxlbWVudGBcbiAgICB9LFxuICAgIFtcIkNPTkZJR19XSElURVNQQUNFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfV0hJVEVTUEFDRSAqL106IHtcbiAgICAgICAgLy8gdGhpcyB3YXJuaW5nIGlzIG9ubHkgcmVsZXZhbnQgaW4gdGhlIGZ1bGwgYnVpbGQgd2hlbiB1c2luZyBydW50aW1lXG4gICAgICAgIC8vIGNvbXBpbGF0aW9uLCBzbyBpdCdzIHB1dCBpbiB0aGUgcnVudGltZSBjb21wYXRDb25maWcgbGlzdC5cbiAgICAgICAgbWVzc2FnZTogYFZ1ZSAzIGNvbXBpbGVyJ3Mgd2hpdGVzcGFjZSBvcHRpb24gd2lsbCBkZWZhdWx0IHRvIFwiY29uZGVuc2VcIiBpbnN0ZWFkIG9mIGAgK1xuICAgICAgICAgICAgYFwicHJlc2VydmVcIi4gVG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nLCBwcm92aWRlIGFuIGV4cGxpY2l0IHZhbHVlIGZvciBgICtcbiAgICAgICAgICAgIGBcXGBjb25maWcuY29tcGlsZXJPcHRpb25zLndoaXRlc3BhY2VcXGAuYFxuICAgIH0sXG4gICAgW1wiQ09ORklHX09QVElPTl9NRVJHRV9TVFJBVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19PUFRJT05fTUVSR0VfU1RSQVRTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcyBubyBsb25nZXIgZXhwb3NlcyBpbnRlcm5hbCBzdHJhdGVnaWVzLiBgICtcbiAgICAgICAgICAgIGBVc2UgY3VzdG9tIG1lcmdlIGZ1bmN0aW9ucyBpbnN0ZWFkLmBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX1NFVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfU0VUICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJHNldCgpIGhhcyBiZWVuIHJlbW92ZWQgYXMgaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZCBpbiBWdWUgMy4gYCArXG4gICAgICAgICAgICBgU2ltcGx5IHVzZSBuYXRpdmUgSmF2YVNjcmlwdCBtdXRhdGlvbnMuYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfREVMRVRFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9ERUxFVEUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kZGVsZXRlKCkgaGFzIGJlZW4gcmVtb3ZlZCBhcyBpdCBpcyBubyBsb25nZXIgbmVlZGVkIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBTaW1wbHkgdXNlIG5hdGl2ZSBKYXZhU2NyaXB0IG11dGF0aW9ucy5gXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9ERVNUUk9ZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9ERVNUUk9ZICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJGRlc3Ryb3koKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXBwLnVubW91bnQoKSBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3Z1ZWpzLm9yZy9hcGkvYXBwbGljYXRpb24uaHRtbCNhcHAtdW5tb3VudGBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0VNSVRURVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0VNSVRURVIgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGB2bS4kb24vJG9uY2UvJG9mZigpIGhhdmUgYmVlbiByZW1vdmVkLiBgICtcbiAgICAgICAgICAgIGBVc2UgYW4gZXh0ZXJuYWwgZXZlbnQgZW1pdHRlciBsaWJyYXJ5IGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2V2ZW50cy1hcGkuaHRtbGBcbiAgICB9LFxuICAgIFtcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogZXZlbnQgPT4gYFwiJHtldmVudH1cIiBsaWZlY3ljbGUgZXZlbnRzIGFyZSBubyBsb25nZXIgc3VwcG9ydGVkLiBGcm9tIHRlbXBsYXRlcywgYCArXG4gICAgICAgICAgICBgdXNlIHRoZSBcInZ1ZTpcIiBwcmVmaXggaW5zdGVhZCBvZiBcImhvb2s6XCIuIEZvciBleGFtcGxlLCBAJHtldmVudH0gYCArXG4gICAgICAgICAgICBgc2hvdWxkIGJlIGNoYW5nZWQgdG8gQHZ1ZToke2V2ZW50LnNsaWNlKDUpfS4gYCArXG4gICAgICAgICAgICBgRnJvbSBKYXZhU2NyaXB0LCB1c2UgQ29tcG9zaXRpb24gQVBJIHRvIGR5bmFtaWNhbGx5IHJlZ2lzdGVyIGxpZmVjeWNsZSBgICtcbiAgICAgICAgICAgIGBob29rcy5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvdm5vZGUtbGlmZWN5Y2xlLWV2ZW50cy5odG1sYFxuICAgIH0sXG4gICAgW1wiSU5TVEFOQ0VfQ0hJTERSRU5cIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0NISUxEUkVOICovXToge1xuICAgICAgICBtZXNzYWdlOiBgdm0uJGNoaWxkcmVuIGhhcyBiZWVuIHJlbW92ZWQuIENvbnNpZGVyIHJlZmFjdG9yaW5nIHlvdXIgbG9naWMgYCArXG4gICAgICAgICAgICBgdG8gYXZvaWQgcmVseWluZyBvbiBkaXJlY3QgYWNjZXNzIHRvIGNoaWxkIGNvbXBvbmVudHMuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2NoaWxkcmVuLmh0bWxgXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9MSVNURU5FUlNcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0xJU1RFTkVSUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYHZtLiRsaXN0ZW5lcnMgaGFzIGJlZW4gcmVtb3ZlZC4gSW4gVnVlIDMsIHBhcmVudCB2LW9uIGxpc3RlbmVycyBhcmUgYCArXG4gICAgICAgICAgICBgaW5jbHVkZWQgaW4gdm0uJGF0dHJzIGFuZCBpdCBpcyBubyBsb25nZXIgbmVjZXNzYXJ5IHRvIHNlcGFyYXRlbHkgdXNlIGAgK1xuICAgICAgICAgICAgYHYtb249XCIkbGlzdGVuZXJzXCIgaWYgeW91IGFyZSBhbHJlYWR5IHVzaW5nIHYtYmluZD1cIiRhdHRyc1wiLiBgICtcbiAgICAgICAgICAgIGAoTm90ZTogdGhlIFZ1ZSAzIGJlaGF2aW9yIG9ubHkgYXBwbGllcyBpZiB0aGlzIGNvbXBhdCBjb25maWcgaXMgZGlzYWJsZWQpYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2xpc3RlbmVycy1yZW1vdmVkLmh0bWxgXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9TQ09QRURfU0xPVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX1NDT1BFRF9TTE9UUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYHZtLiRzY29wZWRTbG90cyBoYXMgYmVlbiByZW1vdmVkLiBVc2Ugdm0uJHNsb3RzIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3Nsb3RzLXVuaWZpY2F0aW9uLmh0bWxgXG4gICAgfSxcbiAgICBbXCJJTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGNvbXBvbmVudE5hbWUgPT4gYENvbXBvbmVudCA8JHtjb21wb25lbnROYW1lIHx8ICdBbm9ueW1vdXMnfT4gaGFzIFxcYGluaGVyaXRBdHRyczogZmFsc2VcXGAgYnV0IGlzIGAgK1xuICAgICAgICAgICAgYHJlbHlpbmcgb24gY2xhc3Mvc3R5bGUgZmFsbHRocm91Z2ggZnJvbSBwYXJlbnQuIEluIFZ1ZSAzLCBjbGFzcy9zdHlsZSBgICtcbiAgICAgICAgICAgIGBhcmUgbm93IGluY2x1ZGVkIGluICRhdHRycyBhbmQgd2lsbCBubyBsb25nZXIgZmFsbHRocm91Z2ggd2hlbiBgICtcbiAgICAgICAgICAgIGBpbmhlcml0QXR0cnMgaXMgZmFsc2UuIElmIHlvdSBhcmUgYWxyZWFkeSB1c2luZyB2LWJpbmQ9XCIkYXR0cnNcIiBvbiBgICtcbiAgICAgICAgICAgIGBjb21wb25lbnQgcm9vdCBpdCBzaG91bGQgcmVuZGVyIHRoZSBzYW1lIGVuZCByZXN1bHQuIGAgK1xuICAgICAgICAgICAgYElmIHlvdSBhcmUgYmluZGluZyAkYXR0cnMgdG8gYSBub24tcm9vdCBlbGVtZW50IGFuZCBleHBlY3RpbmcgYCArXG4gICAgICAgICAgICBgY2xhc3Mvc3R5bGUgdG8gZmFsbHRocm91Z2ggb24gcm9vdCwgeW91IHdpbGwgbmVlZCB0byBub3cgbWFudWFsbHkgYmluZCBgICtcbiAgICAgICAgICAgIGB0aGVtIG9uIHJvb3QgdmlhIDpjbGFzcz1cIiRhdHRycy5jbGFzc1wiLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9hdHRycy1pbmNsdWRlcy1jbGFzcy1zdHlsZS5odG1sYFxuICAgIH0sXG4gICAgW1wiT1BUSU9OU19EQVRBX0ZOXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfRk4gKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBUaGUgXCJkYXRhXCIgb3B0aW9uIGNhbiBubyBsb25nZXIgYmUgYSBwbGFpbiBvYmplY3QuIGAgK1xuICAgICAgICAgICAgYEFsd2F5cyB1c2UgYSBmdW5jdGlvbi5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZGF0YS1vcHRpb24uaHRtbGBcbiAgICB9LFxuICAgIFtcIk9QVElPTlNfREFUQV9NRVJHRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuT1BUSU9OU19EQVRBX01FUkdFICovXToge1xuICAgICAgICBtZXNzYWdlOiAoa2V5KSA9PiBgRGV0ZWN0ZWQgY29uZmxpY3Rpbmcga2V5IFwiJHtrZXl9XCIgd2hlbiBtZXJnaW5nIGRhdGEgb3B0aW9uIHZhbHVlcy4gYCArXG4gICAgICAgICAgICBgSW4gVnVlIDMsIGRhdGEga2V5cyBhcmUgbWVyZ2VkIHNoYWxsb3dseSBhbmQgd2lsbCBvdmVycmlkZSBvbmUgYW5vdGhlci5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZGF0YS1vcHRpb24uaHRtbCNtaXhpbi1tZXJnZS1iZWhhdmlvci1jaGFuZ2VgXG4gICAgfSxcbiAgICBbXCJPUFRJT05TX0JFRk9SRV9ERVNUUk9ZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0JFRk9SRV9ERVNUUk9ZICovXToge1xuICAgICAgICBtZXNzYWdlOiBgXFxgYmVmb3JlRGVzdHJveVxcYCBoYXMgYmVlbiByZW5hbWVkIHRvIFxcYGJlZm9yZVVubW91bnRcXGAuYFxuICAgIH0sXG4gICAgW1wiT1BUSU9OU19ERVNUUk9ZRURcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREVTVFJPWUVEICovXToge1xuICAgICAgICBtZXNzYWdlOiBgXFxgZGVzdHJveWVkXFxgIGhhcyBiZWVuIHJlbmFtZWQgdG8gXFxgdW5tb3VudGVkXFxgLmBcbiAgICB9LFxuICAgIFtcIldBVENIX0FSUkFZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5XQVRDSF9BUlJBWSAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYFwid2F0Y2hcIiBvcHRpb24gb3Igdm0uJHdhdGNoIG9uIGFuIGFycmF5IHZhbHVlIHdpbGwgbm8gbG9uZ2VyIGAgK1xuICAgICAgICAgICAgYHRyaWdnZXIgb24gYXJyYXkgbXV0YXRpb24gdW5sZXNzIHRoZSBcImRlZXBcIiBvcHRpb24gaXMgc3BlY2lmaWVkLiBgICtcbiAgICAgICAgICAgIGBJZiBjdXJyZW50IHVzYWdlIGlzIGludGVuZGVkLCB5b3UgY2FuIGRpc2FibGUgdGhlIGNvbXBhdCBiZWhhdmlvciBhbmQgYCArXG4gICAgICAgICAgICBgc3VwcHJlc3MgdGhpcyB3YXJuaW5nIHdpdGg6YCArXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiV0FUQ0hfQVJSQVlcIiAvKiBEZXByZWNhdGlvblR5cGVzLldBVENIX0FSUkFZICovfTogZmFsc2UgfSlcXG5gLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvd2F0Y2guaHRtbGBcbiAgICB9LFxuICAgIFtcIlBST1BTX0RFRkFVTFRfVEhJU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuUFJPUFNfREVGQVVMVF9USElTICovXToge1xuICAgICAgICBtZXNzYWdlOiAoa2V5KSA9PiBgcHJvcHMgZGVmYXVsdCB2YWx1ZSBmdW5jdGlvbiBubyBsb25nZXIgaGFzIGFjY2VzcyB0byBcInRoaXNcIi4gVGhlIGNvbXBhdCBgICtcbiAgICAgICAgICAgIGBidWlsZCBvbmx5IG9mZmVycyBhY2Nlc3MgdG8gdGhpcy4kb3B0aW9ucy5gICtcbiAgICAgICAgICAgIGAoZm91bmQgaW4gcHJvcCBcIiR7a2V5fVwiKWAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9wcm9wcy1kZWZhdWx0LXRoaXMuaHRtbGBcbiAgICB9LFxuICAgIFtcIkNVU1RPTV9ESVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNVU1RPTV9ESVIgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChsZWdhY3lIb29rLCBuZXdIb29rKSA9PiBgQ3VzdG9tIGRpcmVjdGl2ZSBob29rIFwiJHtsZWdhY3lIb29rfVwiIGhhcyBiZWVuIHJlbW92ZWQuIGAgK1xuICAgICAgICAgICAgYFVzZSBcIiR7bmV3SG9va31cIiBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9jdXN0b20tZGlyZWN0aXZlcy5odG1sYFxuICAgIH0sXG4gICAgW1wiVl9PTl9LRVlDT0RFX01PRElGSUVSXCIgLyogRGVwcmVjYXRpb25UeXBlcy5WX09OX0tFWUNPREVfTU9ESUZJRVIgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IGBVc2luZyBrZXlDb2RlIGFzIHYtb24gbW9kaWZpZXIgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gYCArXG4gICAgICAgICAgICBgVXNlIGtlYmFiLWNhc2Uga2V5IG5hbWUgbW9kaWZpZXJzIGluc3RlYWQuYCxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL2tleWNvZGUtbW9kaWZpZXJzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJBVFRSX0ZBTFNFX1ZBTFVFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0ZBTFNFX1ZBTFVFICovXToge1xuICAgICAgICBtZXNzYWdlOiAobmFtZSkgPT4gYEF0dHJpYnV0ZSBcIiR7bmFtZX1cIiB3aXRoIHYtYmluZCB2YWx1ZSBcXGBmYWxzZVxcYCB3aWxsIHJlbmRlciBgICtcbiAgICAgICAgICAgIGAke25hbWV9PVwiZmFsc2VcIiBpbnN0ZWFkIG9mIHJlbW92aW5nIGl0IGluIFZ1ZSAzLiBUbyByZW1vdmUgdGhlIGF0dHJpYnV0ZSwgYCArXG4gICAgICAgICAgICBgdXNlIFxcYG51bGxcXGAgb3IgXFxgdW5kZWZpbmVkXFxgIGluc3RlYWQuIElmIHRoZSB1c2FnZSBpcyBpbnRlbmRlZCwgYCArXG4gICAgICAgICAgICBgeW91IGNhbiBkaXNhYmxlIHRoZSBjb21wYXQgYmVoYXZpb3IgYW5kIHN1cHByZXNzIHRoaXMgd2FybmluZyB3aXRoOmAgK1xuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIkFUVFJfRkFMU0VfVkFMVUVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkFUVFJfRkFMU0VfVkFMVUUgKi99OiBmYWxzZSB9KVxcbmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9hdHRyaWJ1dGUtY29lcmNpb24uaHRtbGBcbiAgICB9LFxuICAgIFtcIkFUVFJfRU5VTUVSQVRFRF9DT0VSQ0lPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovXToge1xuICAgICAgICBtZXNzYWdlOiAobmFtZSwgdmFsdWUsIGNvZXJjZWQpID0+IGBFbnVtZXJhdGVkIGF0dHJpYnV0ZSBcIiR7bmFtZX1cIiB3aXRoIHYtYmluZCB2YWx1ZSBcXGAke3ZhbHVlfVxcYCB3aWxsIGAgK1xuICAgICAgICAgICAgYCR7dmFsdWUgPT09IG51bGwgPyBgYmUgcmVtb3ZlZGAgOiBgcmVuZGVyIHRoZSB2YWx1ZSBhcy1pc2B9IGluc3RlYWQgb2YgY29lcmNpbmcgdGhlIHZhbHVlIHRvIFwiJHtjb2VyY2VkfVwiIGluIFZ1ZSAzLiBgICtcbiAgICAgICAgICAgIGBBbHdheXMgdXNlIGV4cGxpY2l0IFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiB2YWx1ZXMgZm9yIGVudW1lcmF0ZWQgYXR0cmlidXRlcy4gYCArXG4gICAgICAgICAgICBgSWYgdGhlIHVzYWdlIGlzIGludGVuZGVkLCBgICtcbiAgICAgICAgICAgIGB5b3UgY2FuIGRpc2FibGUgdGhlIGNvbXBhdCBiZWhhdmlvciBhbmQgc3VwcHJlc3MgdGhpcyB3YXJuaW5nIHdpdGg6YCArXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0VOVU1FUkFURURfQ09FUkNJT04gKi99OiBmYWxzZSB9KVxcbmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9hdHRyaWJ1dGUtY29lcmNpb24uaHRtbGBcbiAgICB9LFxuICAgIFtcIlRSQU5TSVRJT05fQ0xBU1NFU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuVFJBTlNJVElPTl9DTEFTU0VTICovXToge1xuICAgICAgICBtZXNzYWdlOiBgYCAvLyB0aGlzIGZlYXR1cmUgY2Fubm90IGJlIHJ1bnRpbWUtZGV0ZWN0ZWRcbiAgICB9LFxuICAgIFtcIlRSQU5TSVRJT05fR1JPVVBfUk9PVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuVFJBTlNJVElPTl9HUk9VUF9ST09UICovXToge1xuICAgICAgICBtZXNzYWdlOiBgPFRyYW5zaXRpb25Hcm91cD4gbm8gbG9uZ2VyIHJlbmRlcnMgYSByb290IDxzcGFuPiBlbGVtZW50IGJ5IGAgK1xuICAgICAgICAgICAgYGRlZmF1bHQgaWYgbm8gXCJ0YWdcIiBwcm9wIGlzIHNwZWNpZmllZC4gSWYgeW91IGRvIG5vdCByZWx5IG9uIHRoZSBzcGFuIGAgK1xuICAgICAgICAgICAgYGZvciBzdHlsaW5nLCB5b3UgY2FuIGRpc2FibGUgdGhlIGNvbXBhdCBiZWhhdmlvciBhbmQgc3VwcHJlc3MgdGhpcyBgICtcbiAgICAgICAgICAgIGB3YXJuaW5nIHdpdGg6YCArXG4gICAgICAgICAgICBgXFxuXFxuICBjb25maWd1cmVDb21wYXQoeyAke1wiVFJBTlNJVElPTl9HUk9VUF9ST09UXCIgLyogRGVwcmVjYXRpb25UeXBlcy5UUkFOU0lUSU9OX0dST1VQX1JPT1QgKi99OiBmYWxzZSB9KVxcbmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy90cmFuc2l0aW9uLWdyb3VwLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT01QT05FTlRfQVNZTkNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9BU1lOQyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogKGNvbXApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXApO1xuICAgICAgICAgICAgcmV0dXJuIChgQXN5bmMgY29tcG9uZW50JHtuYW1lID8gYCA8JHtuYW1lfT5gIDogYHNgfSBzaG91bGQgYmUgZXhwbGljaXRseSBjcmVhdGVkIHZpYSBcXGBkZWZpbmVBc3luY0NvbXBvbmVudCgpXFxgIGAgK1xuICAgICAgICAgICAgICAgIGBpbiBWdWUgMy4gUGxhaW4gZnVuY3Rpb25zIHdpbGwgYmUgdHJlYXRlZCBhcyBmdW5jdGlvbmFsIGNvbXBvbmVudHMgaW4gYCArXG4gICAgICAgICAgICAgICAgYG5vbi1jb21wYXQgYnVpbGQuIElmIHlvdSBoYXZlIGFscmVhZHkgbWlncmF0ZWQgYWxsIGFzeW5jIGNvbXBvbmVudCBgICtcbiAgICAgICAgICAgICAgICBgdXNhZ2UgYW5kIGludGVuZCB0byB1c2UgcGxhaW4gZnVuY3Rpb25zIGZvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMsIGAgK1xuICAgICAgICAgICAgICAgIGB5b3UgY2FuIGRpc2FibGUgdGhlIGNvbXBhdCBiZWhhdmlvciBhbmQgc3VwcHJlc3MgdGhpcyBgICtcbiAgICAgICAgICAgICAgICBgd2FybmluZyB3aXRoOmAgK1xuICAgICAgICAgICAgICAgIGBcXG5cXG4gIGNvbmZpZ3VyZUNvbXBhdCh7ICR7XCJDT01QT05FTlRfQVNZTkNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9BU1lOQyAqL306IGZhbHNlIH0pXFxuYCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9hc3luYy1jb21wb25lbnRzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT01QT05FTlRfRlVOQ1RJT05BTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX0ZVTkNUSU9OQUwgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShjb21wKTtcbiAgICAgICAgICAgIHJldHVybiAoYEZ1bmN0aW9uYWwgY29tcG9uZW50JHtuYW1lID8gYCA8JHtuYW1lfT5gIDogYHNgfSBzaG91bGQgYmUgZGVmaW5lZCBhcyBhIHBsYWluIGZ1bmN0aW9uIGluIFZ1ZSAzLiBUaGUgXCJmdW5jdGlvbmFsXCIgYCArXG4gICAgICAgICAgICAgICAgYG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkLiBOT1RFOiBCZWZvcmUgbWlncmF0aW5nIHRvIHVzZSBwbGFpbiBgICtcbiAgICAgICAgICAgICAgICBgZnVuY3Rpb25zIGZvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMsIGZpcnN0IG1ha2Ugc3VyZSB0aGF0IGFsbCBhc3luYyBgICtcbiAgICAgICAgICAgICAgICBgY29tcG9uZW50cyB1c2FnZSBoYXZlIGJlZW4gbWlncmF0ZWQgYW5kIGl0cyBjb21wYXQgYmVoYXZpb3IgaGFzIGAgK1xuICAgICAgICAgICAgICAgIGBiZWVuIGRpc2FibGVkLmApO1xuICAgICAgICB9LFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvZnVuY3Rpb25hbC1jb21wb25lbnRzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX1ZfTU9ERUwgKi9dOiB7XG4gICAgICAgIG1lc3NhZ2U6IChjb21wKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb25maWdNc2cgPSBgb3B0LWluIHRvIGAgK1xuICAgICAgICAgICAgICAgIGBWdWUgMyBiZWhhdmlvciBvbiBhIHBlci1jb21wb25lbnQgYmFzaXMgd2l0aCBcXGBjb21wYXRDb25maWc6IHsgJHtcIkNPTVBPTkVOVF9WX01PREVMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfVl9NT0RFTCAqL306IGZhbHNlIH1cXGAuYDtcbiAgICAgICAgICAgIGlmIChjb21wLnByb3BzICYmXG4gICAgICAgICAgICAgICAgKGlzQXJyYXkoY29tcC5wcm9wcylcbiAgICAgICAgICAgICAgICAgICAgPyBjb21wLnByb3BzLmluY2x1ZGVzKCdtb2RlbFZhbHVlJylcbiAgICAgICAgICAgICAgICAgICAgOiBoYXNPd24oY29tcC5wcm9wcywgJ21vZGVsVmFsdWUnKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGBDb21wb25lbnQgZGVjbGFyZXMgXCJtb2RlbFZhbHVlXCIgcHJvcCwgd2hpY2ggaXMgVnVlIDMgdXNhZ2UsIGJ1dCBgICtcbiAgICAgICAgICAgICAgICAgICAgYGlzIHJ1bm5pbmcgdW5kZXIgVnVlIDIgY29tcGF0IHYtbW9kZWwgYmVoYXZpb3IuIFlvdSBjYW4gJHtjb25maWdNc2d9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKGB2LW1vZGVsIHVzYWdlIG9uIGNvbXBvbmVudCBoYXMgY2hhbmdlZCBpbiBWdWUgMy4gQ29tcG9uZW50IHRoYXQgZXhwZWN0cyBgICtcbiAgICAgICAgICAgICAgICBgdG8gd29yayB3aXRoIHYtbW9kZWwgc2hvdWxkIG5vdyB1c2UgdGhlIFwibW9kZWxWYWx1ZVwiIHByb3AgYW5kIGVtaXQgdGhlIGAgK1xuICAgICAgICAgICAgICAgIGBcInVwZGF0ZTptb2RlbFZhbHVlXCIgZXZlbnQuIFlvdSBjYW4gdXBkYXRlIHRoZSB1c2FnZSBhbmQgdGhlbiAke2NvbmZpZ01zZ31gKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogYGh0dHBzOi8vdjMtbWlncmF0aW9uLnZ1ZWpzLm9yZy9icmVha2luZy1jaGFuZ2VzL3YtbW9kZWwuaHRtbGBcbiAgICB9LFxuICAgIFtcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovXToge1xuICAgICAgICBtZXNzYWdlOiBgVnVlIDMncyByZW5kZXIgZnVuY3Rpb24gQVBJIGhhcyBjaGFuZ2VkLiBgICtcbiAgICAgICAgICAgIGBZb3UgY2FuIG9wdC1pbiB0byB0aGUgbmV3IEFQSSB3aXRoOmAgK1xuICAgICAgICAgICAgYFxcblxcbiAgY29uZmlndXJlQ29tcGF0KHsgJHtcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovfTogZmFsc2UgfSlcXG5gICtcbiAgICAgICAgICAgIGBcXG4gIChUaGlzIGNhbiBhbHNvIGJlIGRvbmUgcGVyLWNvbXBvbmVudCB2aWEgdGhlIFwiY29tcGF0Q29uZmlnXCIgb3B0aW9uLilgLFxuICAgICAgICBsaW5rOiBgaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvcmVuZGVyLWZ1bmN0aW9uLWFwaS5odG1sYFxuICAgIH0sXG4gICAgW1wiRklMVEVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuRklMVEVSUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogYGZpbHRlcnMgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYFRoZSBcInxcIiBzeW1ib2wgd2lsbCBiZSB0cmVhdGVkIGFzIG5hdGl2ZSBKYXZhU2NyaXB0IGJpdHdpc2UgT1Igb3BlcmF0b3IuIGAgK1xuICAgICAgICAgICAgYFVzZSBtZXRob2QgY2FsbHMgb3IgY29tcHV0ZWQgcHJvcGVydGllcyBpbnN0ZWFkLmAsXG4gICAgICAgIGxpbms6IGBodHRwczovL3YzLW1pZ3JhdGlvbi52dWVqcy5vcmcvYnJlYWtpbmctY2hhbmdlcy9maWx0ZXJzLmh0bWxgXG4gICAgfSxcbiAgICBbXCJQUklWQVRFX0FQSVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlBSSVZBVEVfQVBJUyAqL106IHtcbiAgICAgICAgbWVzc2FnZTogbmFtZSA9PiBgXCIke25hbWV9XCIgaXMgYSBWdWUgMiBwcml2YXRlIEFQSSB0aGF0IG5vIGxvbmdlciBleGlzdHMgaW4gVnVlIDMuIGAgK1xuICAgICAgICAgICAgYElmIHlvdSBhcmUgc2VlaW5nIHRoaXMgd2FybmluZyBvbmx5IGR1ZSB0byBhIGRlcGVuZGVuY3ksIHlvdSBjYW4gYCArXG4gICAgICAgICAgICBgc3VwcHJlc3MgdGhpcyB3YXJuaW5nIHZpYSB7IFBSSVZBVEVfQVBJUzogJ3N1cHByZXNzLXdhcm5pbmcnIH0uYFxuICAgIH1cbn07XG5jb25zdCBpbnN0YW5jZVdhcm5lZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCB3YXJuQ291bnQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gd2FybkRlcHJlY2F0aW9uKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpIHtcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGluc3RhbmNlID0gaW5zdGFuY2UgfHwgZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgLy8gY2hlY2sgdXNlciBjb25maWdcbiAgICBjb25zdCBjb25maWcgPSBnZXRDb21wYXRDb25maWdGb3JLZXkoa2V5LCBpbnN0YW5jZSk7XG4gICAgaWYgKGNvbmZpZyA9PT0gJ3N1cHByZXNzLXdhcm5pbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZHVwS2V5ID0ga2V5ICsgYXJncy5qb2luKCcnKTtcbiAgICBsZXQgY29tcElkID0gaW5zdGFuY2UgJiYgZm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSk7XG4gICAgaWYgKGNvbXBJZCA9PT0gJ0Fub255bW91cycgJiYgaW5zdGFuY2UpIHtcbiAgICAgICAgY29tcElkID0gaW5zdGFuY2UudWlkO1xuICAgIH1cbiAgICAvLyBza2lwIGlmIHRoZSBzYW1lIHdhcm5pbmcgaXMgZW1pdHRlZCBmb3IgdGhlIHNhbWUgY29tcG9uZW50IHR5cGVcbiAgICBjb25zdCBjb21wb25lbnREdXBLZXkgPSBkdXBLZXkgKyBjb21wSWQ7XG4gICAgaWYgKGNvbXBvbmVudER1cEtleSBpbiBpbnN0YW5jZVdhcm5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGluc3RhbmNlV2FybmVkW2NvbXBvbmVudER1cEtleV0gPSB0cnVlO1xuICAgIC8vIHNhbWUgd2FybmluZywgYnV0IGRpZmZlcmVudCBjb21wb25lbnQuIHNraXAgdGhlIGxvbmcgbWVzc2FnZSBhbmQganVzdFxuICAgIC8vIGxvZyB0aGUga2V5IGFuZCBjb3VudC5cbiAgICBpZiAoZHVwS2V5IGluIHdhcm5Db3VudCkge1xuICAgICAgICB3YXJuJDEoYChkZXByZWNhdGlvbiAke2tleX0pICgkeysrd2FybkNvdW50W2R1cEtleV0gKyAxfSlgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3YXJuQ291bnRbZHVwS2V5XSA9IDA7XG4gICAgY29uc3QgeyBtZXNzYWdlLCBsaW5rIH0gPSBkZXByZWNhdGlvbkRhdGFba2V5XTtcbiAgICB3YXJuJDEoYChkZXByZWNhdGlvbiAke2tleX0pICR7dHlwZW9mIG1lc3NhZ2UgPT09ICdmdW5jdGlvbicgPyBtZXNzYWdlKC4uLmFyZ3MpIDogbWVzc2FnZX0ke2xpbmsgPyBgXFxuICBEZXRhaWxzOiAke2xpbmt9YCA6IGBgfWApO1xuICAgIGlmICghaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIHRydWUpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYF4gVGhlIGFib3ZlIGRlcHJlY2F0aW9uJ3MgY29tcGF0IGJlaGF2aW9yIGlzIGRpc2FibGVkIGFuZCB3aWxsIGxpa2VseSBgICtcbiAgICAgICAgICAgIGBsZWFkIHRvIHJ1bnRpbWUgZXJyb3JzLmApO1xuICAgIH1cbn1cbmNvbnN0IGdsb2JhbENvbXBhdENvbmZpZyA9IHtcbiAgICBNT0RFOiAyXG59O1xuZnVuY3Rpb24gY29uZmlndXJlQ29tcGF0KGNvbmZpZykge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgdmFsaWRhdGVDb21wYXRDb25maWcoY29uZmlnKTtcbiAgICB9XG4gICAgZXh0ZW5kKGdsb2JhbENvbXBhdENvbmZpZywgY29uZmlnKTtcbn1cbmNvbnN0IHNlZW5Db25maWdPYmplY3RzID0gLyojX19QVVJFX18qLyBuZXcgV2Vha1NldCgpO1xuY29uc3Qgd2FybmVkSW52YWxpZEtleXMgPSB7fTtcbi8vIGRldiBvbmx5XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbXBhdENvbmZpZyhjb25maWcsIGluc3RhbmNlKSB7XG4gICAgaWYgKHNlZW5Db25maWdPYmplY3RzLmhhcyhjb25maWcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VlbkNvbmZpZ09iamVjdHMuYWRkKGNvbmZpZyk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoY29uZmlnKSkge1xuICAgICAgICBpZiAoa2V5ICE9PSAnTU9ERScgJiZcbiAgICAgICAgICAgICEoa2V5IGluIGRlcHJlY2F0aW9uRGF0YSkgJiZcbiAgICAgICAgICAgICEoa2V5IGluIHdhcm5lZEludmFsaWRLZXlzKSkge1xuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdDT01QSUxFUl8nKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBEZXByZWNhdGlvbiBjb25maWcgXCIke2tleX1cIiBpcyBjb21waWxlci1zcGVjaWZpYyBhbmQgeW91IGFyZSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBydW5uaW5nIGEgcnVudGltZS1vbmx5IGJ1aWxkIG9mIFZ1ZS4gVGhpcyBkZXByZWNhdGlvbiBzaG91bGQgYmUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgY29uZmlndXJlZCB2aWEgY29tcGlsZXIgb3B0aW9ucyBpbiB5b3VyIGJ1aWxkIHNldHVwIGluc3RlYWQuXFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgRGV0YWlsczogaHR0cHM6Ly92My1taWdyYXRpb24udnVlanMub3JnL2JyZWFraW5nLWNoYW5nZXMvbWlncmF0aW9uLWJ1aWxkLmh0bWxgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEludmFsaWQgZGVwcmVjYXRpb24gY29uZmlnIFwiJHtrZXl9XCIuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJuZWRJbnZhbGlkS2V5c1trZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UgJiYgY29uZmlnW1wiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfTUVSR0UgKi9dICE9IG51bGwpIHtcbiAgICAgICAgd2FybiQxKGBEZXByZWNhdGlvbiBjb25maWcgXCIke1wiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfTUVSR0UgKi99XCIgY2FuIG9ubHkgYmUgY29uZmlndXJlZCBnbG9iYWxseS5gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDb21wYXRDb25maWdGb3JLZXkoa2V5LCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IGluc3RhbmNlQ29uZmlnID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5jb21wYXRDb25maWc7XG4gICAgaWYgKGluc3RhbmNlQ29uZmlnICYmIGtleSBpbiBpbnN0YW5jZUNvbmZpZykge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2VDb25maWdba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbENvbXBhdENvbmZpZ1trZXldO1xufVxuZnVuY3Rpb24gaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIGVuYWJsZUZvckJ1aWx0SW4gPSBmYWxzZSkge1xuICAgIC8vIHNraXAgY29tcGF0IGZvciBidWlsdC1pbiBjb21wb25lbnRzXG4gICAgaWYgKCFlbmFibGVGb3JCdWlsdEluICYmIGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuX19pc0J1aWx0SW4pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCByYXdNb2RlID0gZ2V0Q29tcGF0Q29uZmlnRm9yS2V5KCdNT0RFJywgaW5zdGFuY2UpIHx8IDI7XG4gICAgY29uc3QgdmFsID0gZ2V0Q29tcGF0Q29uZmlnRm9yS2V5KGtleSwgaW5zdGFuY2UpO1xuICAgIGNvbnN0IG1vZGUgPSBpc0Z1bmN0aW9uKHJhd01vZGUpXG4gICAgICAgID8gcmF3TW9kZShpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlKVxuICAgICAgICA6IHJhd01vZGU7XG4gICAgaWYgKG1vZGUgPT09IDIpIHtcbiAgICAgICAgcmV0dXJuIHZhbCAhPT0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsID09PSB0cnVlIHx8IHZhbCA9PT0gJ3N1cHByZXNzLXdhcm5pbmcnO1xuICAgIH1cbn1cbi8qKlxuICogVXNlIHRoaXMgZm9yIGZlYXR1cmVzIHRoYXQgYXJlIGNvbXBsZXRlbHkgcmVtb3ZlZCBpbiBub24tY29tcGF0IGJ1aWxkLlxuICovXG5mdW5jdGlvbiBhc3NlcnRDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpIHtcbiAgICBpZiAoIWlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7a2V5fSBjb21wYXQgaGFzIGJlZW4gZGlzYWJsZWQuYCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuRGVwcmVjYXRpb24oa2V5LCBpbnN0YW5jZSwgLi4uYXJncyk7XG4gICAgfVxufVxuLyoqXG4gKiBVc2UgdGhpcyBmb3IgZmVhdHVyZXMgd2hlcmUgbGVnYWN5IHVzYWdlIGlzIHN0aWxsIHBvc3NpYmxlLCBidXQgd2lsbCBsaWtlbHlcbiAqIGxlYWQgdG8gcnVudGltZSBlcnJvciBpZiBjb21wYXQgaXMgZGlzYWJsZWQuICh3YXJuIGluIGFsbCBjYXNlcylcbiAqL1xuZnVuY3Rpb24gc29mdEFzc2VydENvbXBhdEVuYWJsZWQoa2V5LCBpbnN0YW5jZSwgLi4uYXJncykge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybkRlcHJlY2F0aW9uKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gaXNDb21wYXRFbmFibGVkKGtleSwgaW5zdGFuY2UpO1xufVxuLyoqXG4gKiBVc2UgdGhpcyBmb3IgZmVhdHVyZXMgd2l0aCB0aGUgc2FtZSBzeW50YXggYnV0IHdpdGggbXV0dWFsbHkgZXhjbHVzaXZlXG4gKiBiZWhhdmlvciBpbiAyIHZzIDMuIE9ubHkgd2FybiBpZiBjb21wYXQgaXMgZW5hYmxlZC5cbiAqIGUuZy4gcmVuZGVyIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGNoZWNrQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZW5hYmxlZCA9IGlzQ29tcGF0RW5hYmxlZChrZXksIGluc3RhbmNlKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGVuYWJsZWQpIHtcbiAgICAgICAgd2FybkRlcHJlY2F0aW9uKGtleSwgaW5zdGFuY2UsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gZW5hYmxlZDtcbn1cblxuY29uc3QgZXZlbnRSZWdpc3RyeU1hcCA9IC8qI19fUFVSRV9fKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGdldFJlZ2lzdHJ5KGluc3RhbmNlKSB7XG4gICAgbGV0IGV2ZW50cyA9IGV2ZW50UmVnaXN0cnlNYXAuZ2V0KGluc3RhbmNlKTtcbiAgICBpZiAoIWV2ZW50cykge1xuICAgICAgICBldmVudFJlZ2lzdHJ5TWFwLnNldChpbnN0YW5jZSwgKGV2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50cztcbn1cbmZ1bmN0aW9uIG9uKGluc3RhbmNlLCBldmVudCwgZm4pIHtcbiAgICBpZiAoaXNBcnJheShldmVudCkpIHtcbiAgICAgICAgZXZlbnQuZm9yRWFjaChlID0+IG9uKGluc3RhbmNlLCBlLCBmbikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGV2ZW50LnN0YXJ0c1dpdGgoJ2hvb2s6JykpIHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUiAqLywgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IGdldFJlZ2lzdHJ5KGluc3RhbmNlKTtcbiAgICAgICAgKGV2ZW50c1tldmVudF0gfHwgKGV2ZW50c1tldmVudF0gPSBbXSkpLnB1c2goZm4pO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG59XG5mdW5jdGlvbiBvbmNlKGluc3RhbmNlLCBldmVudCwgZm4pIHtcbiAgICBjb25zdCB3cmFwcGVkID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgb2ZmKGluc3RhbmNlLCBldmVudCwgd3JhcHBlZCk7XG4gICAgICAgIGZuLmNhbGwoaW5zdGFuY2UucHJveHksIC4uLmFyZ3MpO1xuICAgIH07XG4gICAgd3JhcHBlZC5mbiA9IGZuO1xuICAgIG9uKGluc3RhbmNlLCBldmVudCwgd3JhcHBlZCk7XG4gICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xufVxuZnVuY3Rpb24gb2ZmKGluc3RhbmNlLCBldmVudCwgZm4pIHtcbiAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfRU1JVFRFUiAqLywgaW5zdGFuY2UpO1xuICAgIGNvbnN0IHZtID0gaW5zdGFuY2UucHJveHk7XG4gICAgLy8gYWxsXG4gICAgaWYgKCFldmVudCkge1xuICAgICAgICBldmVudFJlZ2lzdHJ5TWFwLnNldChpbnN0YW5jZSwgT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgIHJldHVybiB2bTtcbiAgICB9XG4gICAgLy8gYXJyYXkgb2YgZXZlbnRzXG4gICAgaWYgKGlzQXJyYXkoZXZlbnQpKSB7XG4gICAgICAgIGV2ZW50LmZvckVhY2goZSA9PiBvZmYoaW5zdGFuY2UsIGUsIGZuKSk7XG4gICAgICAgIHJldHVybiB2bTtcbiAgICB9XG4gICAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgICBjb25zdCBldmVudHMgPSBnZXRSZWdpc3RyeShpbnN0YW5jZSk7XG4gICAgY29uc3QgY2JzID0gZXZlbnRzW2V2ZW50XTtcbiAgICBpZiAoIWNicykge1xuICAgICAgICByZXR1cm4gdm07XG4gICAgfVxuICAgIGlmICghZm4pIHtcbiAgICAgICAgZXZlbnRzW2V2ZW50XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHZtO1xuICAgIH1cbiAgICBldmVudHNbZXZlbnRdID0gY2JzLmZpbHRlcihjYiA9PiAhKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pKTtcbiAgICByZXR1cm4gdm07XG59XG5mdW5jdGlvbiBlbWl0JDEoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKSB7XG4gICAgY29uc3QgY2JzID0gZ2V0UmVnaXN0cnkoaW5zdGFuY2UpW2V2ZW50XTtcbiAgICBpZiAoY2JzKSB7XG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNicy5tYXAoY2IgPT4gY2IuYmluZChpbnN0YW5jZS5wcm94eSkpLCBpbnN0YW5jZSwgNiAvKiBFcnJvckNvZGVzLkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xufVxuXG5jb25zdCBjb21wYXRNb2RlbEV2ZW50UHJlZml4ID0gYG9uTW9kZWxDb21wYXQ6YDtcbmNvbnN0IHdhcm5lZFR5cGVzID0gbmV3IFdlYWtTZXQoKTtcbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lWTW9kZWxQcm9wcyh2bm9kZSkge1xuICAgIGNvbnN0IHsgdHlwZSwgc2hhcGVGbGFnLCBwcm9wcywgZHluYW1pY1Byb3BzIH0gPSB2bm9kZTtcbiAgICBjb25zdCBjb21wID0gdHlwZTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLyAmJiBwcm9wcyAmJiAnbW9kZWxWYWx1ZScgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKCFpc0NvbXBhdEVuYWJsZWQoXCJDT01QT05FTlRfVl9NT0RFTFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09NUE9ORU5UX1ZfTU9ERUwgKi8sIFxuICAgICAgICAvLyB0aGlzIGlzIGEgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIHdhbnQgdG8gdXNlIHRoZSB2bm9kZSBjb21wb25lbnQnc1xuICAgICAgICAvLyBjb21wYXQgY29uZmlnIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcmVuZGVyaW5nIGluc3RhbmNlICh3aGljaCBpcyB0aGVcbiAgICAgICAgLy8gcGFyZW50IG9mIHRoZSBjb21wb25lbnQgdGhhdCBleHBvc2VzIHYtbW9kZWwpXG4gICAgICAgIHsgdHlwZSB9KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXdhcm5lZFR5cGVzLmhhcyhjb21wKSkge1xuICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKTtcbiAgICAgICAgICAgIHdhcm5EZXByZWNhdGlvbihcIkNPTVBPTkVOVF9WX01PREVMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfVl9NT0RFTCAqLywgeyB0eXBlIH0sIGNvbXApO1xuICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgICAgIHdhcm5lZFR5cGVzLmFkZChjb21wKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2MyBjb21waWxlZCBtb2RlbCBjb2RlIC0+IHYyIGNvbXBhdCBwcm9wc1xuICAgICAgICAvLyBtb2RlbFZhbHVlIC0+IHZhbHVlXG4gICAgICAgIC8vIG9uVXBkYXRlOm1vZGVsVmFsdWUgLT4gb25Nb2RlbENvbXBhdDppbnB1dFxuICAgICAgICBjb25zdCBtb2RlbCA9IGNvbXAubW9kZWwgfHwge307XG4gICAgICAgIGFwcGx5TW9kZWxGcm9tTWl4aW5zKG1vZGVsLCBjb21wLm1peGlucyk7XG4gICAgICAgIGNvbnN0IHsgcHJvcCA9ICd2YWx1ZScsIGV2ZW50ID0gJ2lucHV0JyB9ID0gbW9kZWw7XG4gICAgICAgIGlmIChwcm9wICE9PSAnbW9kZWxWYWx1ZScpIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BdID0gcHJvcHMubW9kZWxWYWx1ZTtcbiAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy5tb2RlbFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltcG9ydGFudDogdXBkYXRlIGR5bmFtaWMgcHJvcHNcbiAgICAgICAgaWYgKGR5bmFtaWNQcm9wcykge1xuICAgICAgICAgICAgZHluYW1pY1Byb3BzW2R5bmFtaWNQcm9wcy5pbmRleE9mKCdtb2RlbFZhbHVlJyldID0gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBwcm9wc1tjb21wYXRNb2RlbEV2ZW50UHJlZml4ICsgZXZlbnRdID0gcHJvcHNbJ29uVXBkYXRlOm1vZGVsVmFsdWUnXTtcbiAgICAgICAgZGVsZXRlIHByb3BzWydvblVwZGF0ZTptb2RlbFZhbHVlJ107XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwbHlNb2RlbEZyb21NaXhpbnMobW9kZWwsIG1peGlucykge1xuICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgbWl4aW5zLmZvckVhY2gobSA9PiB7XG4gICAgICAgICAgICBpZiAobS5tb2RlbClcbiAgICAgICAgICAgICAgICBleHRlbmQobW9kZWwsIG0ubW9kZWwpO1xuICAgICAgICAgICAgaWYgKG0ubWl4aW5zKVxuICAgICAgICAgICAgICAgIGFwcGx5TW9kZWxGcm9tTWl4aW5zKG1vZGVsLCBtLm1peGlucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbXBhdE1vZGVsRW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpIHtcbiAgICBpZiAoIWlzQ29tcGF0RW5hYmxlZChcIkNPTVBPTkVOVF9WX01PREVMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfVl9NT0RFTCAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICBjb25zdCBtb2RlbEhhbmRsZXIgPSBwcm9wcyAmJiBwcm9wc1tjb21wYXRNb2RlbEV2ZW50UHJlZml4ICsgZXZlbnRdO1xuICAgIGlmIChtb2RlbEhhbmRsZXIpIHtcbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKG1vZGVsSGFuZGxlciwgaW5zdGFuY2UsIDYgLyogRXJyb3JDb2Rlcy5DT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBlbWl0JDIoaW5zdGFuY2UsIGV2ZW50LCAuLi5yYXdBcmdzKSB7XG4gICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgcHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCB7IGVtaXRzT3B0aW9ucywgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmIChlbWl0c09wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghKGV2ZW50IGluIGVtaXRzT3B0aW9ucykgJiZcbiAgICAgICAgICAgICAgICAhKChldmVudC5zdGFydHNXaXRoKCdob29rOicpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdGFydHNXaXRoKGNvbXBhdE1vZGVsRXZlbnRQcmVmaXgpKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BzT3B0aW9ucyB8fCAhKHRvSGFuZGxlcktleShldmVudCkgaW4gcHJvcHNPcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGV2ZW50KX1cIiBwcm9wLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRvciA9IGVtaXRzT3B0aW9uc1tldmVudF07XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdG9yKC4uLnJhd0FyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgSW52YWxpZCBldmVudCBhcmd1bWVudHM6IGV2ZW50IHZhbGlkYXRpb24gZmFpbGVkIGZvciBldmVudCBcIiR7ZXZlbnR9XCIuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGFyZ3MgPSByYXdBcmdzO1xuICAgIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoJ3VwZGF0ZTonKTtcbiAgICAvLyBmb3Igdi1tb2RlbCB1cGRhdGU6eHh4IGV2ZW50cywgYXBwbHkgbW9kaWZpZXJzIG9uIGFyZ3NcbiAgICBjb25zdCBtb2RlbEFyZyA9IGlzTW9kZWxMaXN0ZW5lciAmJiBldmVudC5zbGljZSg3KTtcbiAgICBpZiAobW9kZWxBcmcgJiYgbW9kZWxBcmcgaW4gcHJvcHMpIHtcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzS2V5ID0gYCR7bW9kZWxBcmcgPT09ICdtb2RlbFZhbHVlJyA/ICdtb2RlbCcgOiBtb2RlbEFyZ31Nb2RpZmllcnNgO1xuICAgICAgICBjb25zdCB7IG51bWJlciwgdHJpbSB9ID0gcHJvcHNbbW9kaWZpZXJzS2V5XSB8fCBFTVBUWV9PQko7XG4gICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAoYSA9PiAoaXNTdHJpbmcoYSkgPyBhLnRyaW0oKSA6IGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtYmVyKSB7XG4gICAgICAgICAgICBhcmdzID0gcmF3QXJncy5tYXAodG9OdW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50RW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IGxvd2VyQ2FzZUV2ZW50ID0gZXZlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGxvd2VyQ2FzZUV2ZW50ICE9PSBldmVudCAmJiBwcm9wc1t0b0hhbmRsZXJLZXkobG93ZXJDYXNlRXZlbnQpXSkge1xuICAgICAgICAgICAgd2FybiQxKGBFdmVudCBcIiR7bG93ZXJDYXNlRXZlbnR9XCIgaXMgZW1pdHRlZCBpbiBjb21wb25lbnQgYCArXG4gICAgICAgICAgICAgICAgYCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9IGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcIiR7ZXZlbnR9XCIuIGAgK1xuICAgICAgICAgICAgICAgIGBOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSBgICtcbiAgICAgICAgICAgICAgICBgdi1vbiB0byBsaXN0ZW4gdG8gY2FtZWxDYXNlIGV2ZW50cyB3aGVuIHVzaW5nIGluLURPTSB0ZW1wbGF0ZXMuIGAgK1xuICAgICAgICAgICAgICAgIGBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiR7aHlwaGVuYXRlKGV2ZW50KX1cIiBpbnN0ZWFkIG9mIFwiJHtldmVudH1cIi5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgaGFuZGxlck5hbWU7XG4gICAgbGV0IGhhbmRsZXIgPSBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoZXZlbnQpKV0gfHxcbiAgICAgICAgLy8gYWxzbyB0cnkgY2FtZWxDYXNlIGV2ZW50IGhhbmRsZXIgKCMyMjQ5KVxuICAgICAgICBwcm9wc1soaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKSldO1xuICAgIC8vIGZvciB2LW1vZGVsIHVwZGF0ZTp4eHggZXZlbnRzLCBhbHNvIHRyaWdnZXIga2ViYWItY2FzZSBlcXVpdmFsZW50XG4gICAgLy8gZm9yIHByb3BzIHBhc3NlZCB2aWEga2ViYWItY2FzZVxuICAgIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcbiAgICAgICAgaGFuZGxlciA9IHByb3BzWyhoYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShoeXBoZW5hdGUoZXZlbnQpKSldO1xuICAgIH1cbiAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhoYW5kbGVyLCBpbnN0YW5jZSwgNiAvKiBFcnJvckNvZGVzLkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSICovLCBhcmdzKTtcbiAgICB9XG4gICAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XG4gICAgaWYgKG9uY2VIYW5kbGVyKSB7XG4gICAgICAgIGlmICghaW5zdGFuY2UuZW1pdHRlZCkge1xuICAgICAgICAgICAgaW5zdGFuY2UuZW1pdHRlZCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0gPSB0cnVlO1xuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhvbmNlSGFuZGxlciwgaW5zdGFuY2UsIDYgLyogRXJyb3JDb2Rlcy5DT01QT05FTlRfRVZFTlRfSEFORExFUiAqLywgYXJncyk7XG4gICAgfVxuICAgIHtcbiAgICAgICAgY29tcGF0TW9kZWxFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XG4gICAgICAgIHJldHVybiBlbWl0JDEoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVFbWl0c09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gICAgY29uc3QgY2FjaGUgPSBhcHBDb250ZXh0LmVtaXRzQ2FjaGU7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGNvbXApO1xuICAgIGlmIChjYWNoZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgIH1cbiAgICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xuICAgIGxldCBub3JtYWxpemVkID0ge307XG4gICAgLy8gYXBwbHkgbWl4aW4vZXh0ZW5kcyBwcm9wc1xuICAgIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kRW1pdHMgPSAocmF3KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcsIGFwcENvbnRleHQsIHRydWUpO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKSB7XG4gICAgICAgICAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXAuZXh0ZW5kcykge1xuICAgICAgICAgICAgZXh0ZW5kRW1pdHMoY29tcC5leHRlbmRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgICAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgICAgICAgY2FjaGUuc2V0KGNvbXAsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICAgIHJhdy5mb3JFYWNoKGtleSA9PiAobm9ybWFsaXplZFtrZXldID0gbnVsbCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHJhdyk7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgICBjYWNoZS5zZXQoY29tcCwgbm9ybWFsaXplZCk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkO1xufVxuLy8gQ2hlY2sgaWYgYW4gaW5jb21pbmcgcHJvcCBrZXkgaXMgYSBkZWNsYXJlZCBlbWl0IGV2ZW50IGxpc3RlbmVyLlxuLy8gZS5nLiBXaXRoIGBlbWl0czogeyBjbGljazogbnVsbCB9YCwgcHJvcHMgbmFtZWQgYG9uQ2xpY2tgIGFuZCBgb25jbGlja2AgYXJlXG4vLyBib3RoIGNvbnNpZGVyZWQgbWF0Y2hlZCBsaXN0ZW5lcnMuXG5mdW5jdGlvbiBpc0VtaXRMaXN0ZW5lcihvcHRpb25zLCBrZXkpIHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChrZXkuc3RhcnRzV2l0aChjb21wYXRNb2RlbEV2ZW50UHJlZml4KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAga2V5ID0ga2V5LnNsaWNlKDIpLnJlcGxhY2UoL09uY2UkLywgJycpO1xuICAgIHJldHVybiAoaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fFxuICAgICAgICBoYXNPd24ob3B0aW9ucywgaHlwaGVuYXRlKGtleSkpIHx8XG4gICAgICAgIGhhc093bihvcHRpb25zLCBrZXkpKTtcbn1cblxuLyoqXG4gKiBtYXJrIHRoZSBjdXJyZW50IHJlbmRlcmluZyBpbnN0YW5jZSBmb3IgYXNzZXQgcmVzb2x1dGlvbiAoZS5nLlxuICogcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSkgZHVyaW5nIHJlbmRlclxuICovXG5sZXQgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcbmxldCBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG4vKipcbiAqIE5vdGU6IHJlbmRlcmluZyBjYWxscyBtYXliZSBuZXN0ZWQuIFRoZSBmdW5jdGlvbiByZXR1cm5zIHRoZSBwYXJlbnQgcmVuZGVyaW5nXG4gKiBpbnN0YW5jZSBpZiBwcmVzZW50LCB3aGljaCBzaG91bGQgYmUgcmVzdG9yZWQgYWZ0ZXIgdGhlIHJlbmRlciBpcyBkb25lOlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGkpXG4gKiAvLyAuLi5yZW5kZXJcbiAqIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGNvbnN0IHByZXYgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgY3VycmVudFNjb3BlSWQgPSAoaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX3Njb3BlSWQpIHx8IG51bGw7XG4gICAgLy8gdjIgcHJlLWNvbXBpbGVkIGNvbXBvbmVudHMgdXNlcyBfc2NvcGVJZCBpbnN0ZWFkIG9mIF9fc2NvcGVJZFxuICAgIGlmICghY3VycmVudFNjb3BlSWQpIHtcbiAgICAgICAgY3VycmVudFNjb3BlSWQgPSAoaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fc2NvcGVJZCkgfHwgbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHByZXY7XG59XG4vKipcbiAqIFNldCBzY29wZSBpZCB3aGVuIGNyZWF0aW5nIGhvaXN0ZWQgdm5vZGVzLlxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXG4gKi9cbmZ1bmN0aW9uIHB1c2hTY29wZUlkKGlkKSB7XG4gICAgY3VycmVudFNjb3BlSWQgPSBpZDtcbn1cbi8qKlxuICogVGVjaG5pY2FsbHkgd2Ugbm8gbG9uZ2VyIG5lZWQgdGhpcyBhZnRlciAzLjAuOCBidXQgd2UgbmVlZCB0byBrZWVwIHRoZSBzYW1lXG4gKiBBUEkgZm9yIGJhY2t3YXJkcyBjb21wYXQgdy8gY29kZSBnZW5lcmF0ZWQgYnkgY29tcGlsZXJzLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcG9wU2NvcGVJZCgpIHtcbiAgICBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG59XG4vKipcbiAqIE9ubHkgZm9yIGJhY2t3YXJkcyBjb21wYXRcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHdpdGhTY29wZUlkID0gKF9pZCkgPT4gd2l0aEN0eDtcbi8qKlxuICogV3JhcCBhIHNsb3QgZnVuY3Rpb24gdG8gbWVtb2l6ZSBjdXJyZW50IHJlbmRlcmluZyBpbnN0YW5jZVxuICogQHByaXZhdGUgY29tcGlsZXIgaGVscGVyXG4gKi9cbmZ1bmN0aW9uIHdpdGhDdHgoZm4sIGN0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgaXNOb25TY29wZWRTbG90IC8vIHRydWUgb25seVxuKSB7XG4gICAgaWYgKCFjdHgpXG4gICAgICAgIHJldHVybiBmbjtcbiAgICAvLyBhbHJlYWR5IG5vcm1hbGl6ZWRcbiAgICBpZiAoZm4uX24pIHtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJGbldpdGhDb250ZXh0ID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgLy8gSWYgYSB1c2VyIGNhbGxzIGEgY29tcGlsZWQgc2xvdCBpbnNpZGUgYSB0ZW1wbGF0ZSBleHByZXNzaW9uICgjMTc0NSksIGl0XG4gICAgICAgIC8vIGNhbiBtZXNzIHVwIGJsb2NrIHRyYWNraW5nLCBzbyBieSBkZWZhdWx0IHdlIGRpc2FibGUgYmxvY2sgdHJhY2tpbmcgYW5kXG4gICAgICAgIC8vIGZvcmNlIGJhaWwgb3V0IHdoZW4gaW52b2tpbmcgYSBjb21waWxlZCBzbG90IChpbmRpY2F0ZWQgYnkgdGhlIC5fZCBmbGFnKS5cbiAgICAgICAgLy8gVGhpcyBpc24ndCBuZWNlc3NhcnkgaWYgcmVuZGVyaW5nIGEgY29tcGlsZWQgYDxzbG90PmAsIHNvIHdlIGZsaXAgdGhlXG4gICAgICAgIC8vIC5fZCBmbGFnIG9mZiB3aGVuIGludm9raW5nIHRoZSB3cmFwcGVkIGZuIGluc2lkZSBgcmVuZGVyU2xvdGAuXG4gICAgICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICAgICAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2SW5zdGFuY2UgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoY3R4KTtcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcyA9IGZuKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXZJbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgICAgICAgICAgIHNldEJsb2NrVHJhY2tpbmcoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChjdHgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICAvLyBtYXJrIG5vcm1hbGl6ZWQgdG8gYXZvaWQgZHVwbGljYXRlZCB3cmFwcGluZ1xuICAgIHJlbmRlckZuV2l0aENvbnRleHQuX24gPSB0cnVlO1xuICAgIC8vIG1hcmsgdGhpcyBhcyBjb21waWxlZCBieSBkZWZhdWx0XG4gICAgLy8gdGhpcyBpcyB1c2VkIGluIHZub2RlLnRzIC0+IG5vcm1hbGl6ZUNoaWxkcmVuKCkgdG8gc2V0IHRoZSBzbG90XG4gICAgLy8gcmVuZGVyaW5nIGZsYWcuXG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fYyA9IHRydWU7XG4gICAgLy8gZGlzYWJsZSBibG9jayB0cmFja2luZyBieSBkZWZhdWx0XG4gICAgcmVuZGVyRm5XaXRoQ29udGV4dC5fZCA9IHRydWU7XG4gICAgLy8gY29tcGF0IGJ1aWxkIG9ubHkgZmxhZyB0byBkaXN0aW5ndWlzaCBzY29wZWQgc2xvdHMgZnJvbSBub24tc2NvcGVkIG9uZXNcbiAgICBpZiAoaXNOb25TY29wZWRTbG90KSB7XG4gICAgICAgIHJlbmRlckZuV2l0aENvbnRleHQuX25zID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlckZuV2l0aENvbnRleHQ7XG59XG5cbi8qKlxuICogZGV2IG9ubHkgZmxhZyB0byB0cmFjayB3aGV0aGVyICRhdHRycyB3YXMgdXNlZCBkdXJpbmcgcmVuZGVyLlxuICogSWYgJGF0dHJzIHdhcyB1c2VkIGR1cmluZyByZW5kZXIgdGhlbiB0aGUgd2FybmluZyBmb3IgZmFpbGVkIGF0dHJzXG4gKiBmYWxsdGhyb3VnaCBjYW4gYmUgc3VwcHJlc3NlZC5cbiAqL1xubGV0IGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcbmZ1bmN0aW9uIG1hcmtBdHRyc0FjY2Vzc2VkKCkge1xuICAgIGFjY2Vzc2VkQXR0cnMgPSB0cnVlO1xufVxuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkge1xuICAgIGNvbnN0IHsgdHlwZTogQ29tcG9uZW50LCB2bm9kZSwgcHJveHksIHdpdGhQcm94eSwgcHJvcHMsIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sIHNsb3RzLCBhdHRycywgZW1pdCwgcmVuZGVyLCByZW5kZXJDYWNoZSwgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4LCBpbmhlcml0QXR0cnMgfSA9IGluc3RhbmNlO1xuICAgIGxldCByZXN1bHQ7XG4gICAgbGV0IGZhbGx0aHJvdWdoQXR0cnM7XG4gICAgY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICAvLyB3aXRoUHJveHkgaXMgYSBwcm94eSB3aXRoIGEgZGlmZmVyZW50IGBoYXNgIHRyYXAgb25seSBmb3JcbiAgICAgICAgICAgIC8vIHJ1bnRpbWUtY29tcGlsZWQgcmVuZGVyIGZ1bmN0aW9ucyB1c2luZyBgd2l0aGAgYmxvY2suXG4gICAgICAgICAgICBjb25zdCBwcm94eVRvVXNlID0gd2l0aFByb3h5IHx8IHByb3h5O1xuICAgICAgICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUocmVuZGVyLmNhbGwocHJveHlUb1VzZSwgcHJveHlUb1VzZSwgcmVuZGVyQ2FjaGUsIHByb3BzLCBzZXR1cFN0YXRlLCBkYXRhLCBjdHgpKTtcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBhdHRycztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWxcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IENvbXBvbmVudDtcbiAgICAgICAgICAgIC8vIGluIGRldiwgbWFyayBhdHRycyBhY2Nlc3NlZCBpZiBvcHRpb25hbCBwcm9wcyAoYXR0cnMgPT09IHByb3BzKVxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUocmVuZGVyLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICAgICA/IHJlbmRlcihwcm9wcywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogeyBhdHRycywgc2xvdHMsIGVtaXQgfSlcbiAgICAgICAgICAgICAgICA6IHJlbmRlcihwcm9wcywgbnVsbCAvKiB3ZSBrbm93IGl0IGRvZXNuJ3QgbmVlZCBpdCAqLykpO1xuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IENvbXBvbmVudC5wcm9wc1xuICAgICAgICAgICAgICAgID8gYXR0cnNcbiAgICAgICAgICAgICAgICA6IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaChhdHRycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEgLyogRXJyb3JDb2Rlcy5SRU5ERVJfRlVOQ1RJT04gKi8pO1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgICB9XG4gICAgLy8gYXR0ciBtZXJnaW5nXG4gICAgLy8gaW4gZGV2IG1vZGUsIGNvbW1lbnRzIGFyZSBwcmVzZXJ2ZWQsIGFuZCBpdCdzIHBvc3NpYmxlIGZvciBhIHRlbXBsYXRlXG4gICAgLy8gdG8gaGF2ZSBjb21tZW50cyBhbG9uZyBzaWRlIHRoZSByb290IGVsZW1lbnQgd2hpY2ggbWFrZXMgaXQgYSBmcmFnbWVudFxuICAgIGxldCByb290ID0gcmVzdWx0O1xuICAgIGxldCBzZXRSb290ID0gdW5kZWZpbmVkO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiZcbiAgICAgICAgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDggLyogUGF0Y2hGbGFncy5ERVZfUk9PVF9GUkFHTUVOVCAqLykge1xuICAgICAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcbiAgICB9XG4gICAgaWYgKGZhbGx0aHJvdWdoQXR0cnMgJiYgaW5oZXJpdEF0dHJzICE9PSBmYWxzZSkge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAoMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gfCA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wc09wdGlvbnMgJiYga2V5cy5zb21lKGlzTW9kZWxMaXN0ZW5lcikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSB2LW1vZGVsIGxpc3RlbmVyIChvblVwZGF0ZTp4eHgpIGhhcyBhIGNvcnJlc3BvbmRpbmcgZGVjbGFyZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvcCwgaXQgaW5kaWNhdGVzIHRoaXMgY29tcG9uZW50IGV4cGVjdHMgdG8gaGFuZGxlIHYtbW9kZWwgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBub3QgZmFsbHRocm91Z2guXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbGF0ZWQ6ICMxNTQzLCAjMTY0MywgIzE5ODlcbiAgICAgICAgICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKGZhbGx0aHJvdWdoQXR0cnMsIHByb3BzT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEF0dHJzID0gT2JqZWN0LmtleXMoYXR0cnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50QXR0cnMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRyYUF0dHJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhbGxBdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYWxsQXR0cnNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB2LW1vZGVsIGhhbmRsZXJzIHdoZW4gdGhleSBmYWlsIHRvIGZhbGx0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGBvbmAsIGxvd2VyY2FzZSBmaXJzdCBsZXR0ZXIgdG8gcmVmbGVjdCBldmVudCBjYXNpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2N1cmF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBdHRycy5wdXNoKGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cnMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChleHRyYUF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZXh0cmFBdHRycy5qb2luKCcsICcpfSkgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEV4dHJhbmVvdXMgbm9uLWVtaXRzIGV2ZW50IGxpc3RlbmVycyAoYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHtldmVudEF0dHJzLmpvaW4oJywgJyl9KSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgcm9vdCBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgdGhlIGxpc3RlbmVyIGlzIGludGVuZGVkIHRvIGJlIGEgY29tcG9uZW50IGN1c3RvbSBldmVudCBsaXN0ZW5lciBvbmx5LCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBkZWNsYXJlIGl0IHVzaW5nIHRoZSBcImVtaXRzXCIgb3B0aW9uLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFICovLCBpbnN0YW5jZSkgJiZcbiAgICAgICAgdm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLyAmJlxuICAgICAgICByb290LnNoYXBlRmxhZyAmICgxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyB8IDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pKSB7XG4gICAgICAgIGNvbnN0IHsgY2xhc3M6IGNscywgc3R5bGUgfSA9IHZub2RlLnByb3BzIHx8IHt9O1xuICAgICAgICBpZiAoY2xzIHx8IHN0eWxlKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGluaGVyaXRBdHRycyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB3YXJuRGVwcmVjYXRpb24oXCJJTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfQVRUUlNfQ0xBU1NfU1RZTEUgKi8sIGluc3RhbmNlLCBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIHtcbiAgICAgICAgICAgICAgICBjbGFzczogY2xzLFxuICAgICAgICAgICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gaW5oZXJpdCBkaXJlY3RpdmVzXG4gICAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgICAgICAgd2FybiQxKGBSdW50aW1lIGRpcmVjdGl2ZSB1c2VkIG9uIGNvbXBvbmVudCB3aXRoIG5vbi1lbGVtZW50IHJvb3Qgbm9kZS4gYCArXG4gICAgICAgICAgICAgICAgYFRoZSBkaXJlY3RpdmVzIHdpbGwgbm90IGZ1bmN0aW9uIGFzIGludGVuZGVkLmApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNsb25lIGJlZm9yZSBtdXRhdGluZyBzaW5jZSB0aGUgcm9vdCBtYXkgYmUgYSBob2lzdGVkIHZub2RlXG4gICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QpO1xuICAgICAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcbiAgICB9XG4gICAgLy8gaW5oZXJpdCB0cmFuc2l0aW9uIGRhdGFcbiAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBpbnNpZGUgPFRyYW5zaXRpb24+IHJlbmRlcnMgbm9uLWVsZW1lbnQgcm9vdCBub2RlIGAgK1xuICAgICAgICAgICAgICAgIGB0aGF0IGNhbm5vdCBiZSBhbmltYXRlZC5gKTtcbiAgICAgICAgfVxuICAgICAgICByb290LnRyYW5zaXRpb24gPSB2bm9kZS50cmFuc2l0aW9uO1xuICAgIH1cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHNldFJvb3QpIHtcbiAgICAgICAgc2V0Um9vdChyb290KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHJvb3Q7XG4gICAgfVxuICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBkZXYgb25seVxuICogSW4gZGV2IG1vZGUsIHRlbXBsYXRlIHJvb3QgbGV2ZWwgY29tbWVudHMgYXJlIHJlbmRlcmVkLCB3aGljaCB0dXJucyB0aGVcbiAqIHRlbXBsYXRlIGludG8gYSBmcmFnbWVudCByb290LCBidXQgd2UgbmVlZCB0byBsb2NhdGUgdGhlIHNpbmdsZSBlbGVtZW50XG4gKiByb290IGZvciBhdHRycyBhbmQgc2NvcGUgaWQgcHJvY2Vzc2luZy5cbiAqL1xuY29uc3QgZ2V0Q2hpbGRSb290ID0gKHZub2RlKSA9PiB7XG4gICAgY29uc3QgcmF3Q2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgICBjb25zdCBkeW5hbWljQ2hpbGRyZW4gPSB2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgY2hpbGRSb290ID0gZmlsdGVyU2luZ2xlUm9vdChyYXdDaGlsZHJlbik7XG4gICAgaWYgKCFjaGlsZFJvb3QpIHtcbiAgICAgICAgcmV0dXJuIFt2bm9kZSwgdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XG4gICAgY29uc3QgZHluYW1pY0luZGV4ID0gZHluYW1pY0NoaWxkcmVuID8gZHluYW1pY0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KSA6IC0xO1xuICAgIGNvbnN0IHNldFJvb3QgPSAodXBkYXRlZFJvb3QpID0+IHtcbiAgICAgICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChkeW5hbWljSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1cGRhdGVkUm9vdC5wYXRjaEZsYWcgPiAwKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gW25vcm1hbGl6ZVZOb2RlKGNoaWxkUm9vdCksIHNldFJvb3RdO1xufTtcbmZ1bmN0aW9uIGZpbHRlclNpbmdsZVJvb3QoY2hpbGRyZW4pIHtcbiAgICBsZXQgc2luZ2xlUm9vdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChpc1ZOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgLy8gaWdub3JlIHVzZXIgY29tbWVudFxuICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgIT09IENvbW1lbnQgfHwgY2hpbGQuY2hpbGRyZW4gPT09ICd2LWlmJykge1xuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhcyBtb3JlIHRoYW4gMSBub24tY29tbWVudCBjaGlsZCwgcmV0dXJuIG5vd1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaW5nbGVSb290ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaW5nbGVSb290O1xufVxuY29uc3QgZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoID0gKGF0dHJzKSA9PiB7XG4gICAgbGV0IHJlcztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ3N0eWxlJyB8fCBpc09uKGtleSkpIHtcbiAgICAgICAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBmaWx0ZXJNb2RlbExpc3RlbmVycyA9IChhdHRycywgcHJvcHMpID0+IHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpIHx8ICEoa2V5LnNsaWNlKDkpIGluIHByb3BzKSkge1xuICAgICAgICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59O1xuY29uc3QgaXNFbGVtZW50Um9vdCA9ICh2bm9kZSkgPT4ge1xuICAgIHJldHVybiAodm5vZGUuc2hhcGVGbGFnICYgKDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8gfCAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLykgfHxcbiAgICAgICAgdm5vZGUudHlwZSA9PT0gQ29tbWVudCAvLyBwb3RlbnRpYWwgdi1pZiBicmFuY2ggc3dpdGNoXG4gICAgKTtcbn07XG5mdW5jdGlvbiBzaG91bGRVcGRhdGVDb21wb25lbnQocHJldlZOb2RlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkge1xuICAgIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XG4gICAgY29uc3QgeyBwcm9wczogbmV4dFByb3BzLCBjaGlsZHJlbjogbmV4dENoaWxkcmVuLCBwYXRjaEZsYWcgfSA9IG5leHRWTm9kZTtcbiAgICBjb25zdCBlbWl0cyA9IGNvbXBvbmVudC5lbWl0c09wdGlvbnM7XG4gICAgLy8gUGFyZW50IGNvbXBvbmVudCdzIHJlbmRlciBmdW5jdGlvbiB3YXMgaG90LXVwZGF0ZWQuIFNpbmNlIHRoaXMgbWF5IGhhdmVcbiAgICAvLyBjYXVzZWQgdGhlIGNoaWxkIGNvbXBvbmVudCdzIHNsb3RzIGNvbnRlbnQgdG8gaGF2ZSBjaGFuZ2VkLCB3ZSBuZWVkIHRvXG4gICAgLy8gZm9yY2UgdGhlIGNoaWxkIHRvIHVwZGF0ZSBhcyB3ZWxsLlxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIGZvcmNlIGNoaWxkIHVwZGF0ZSBmb3IgcnVudGltZSBkaXJlY3RpdmUgb3IgdHJhbnNpdGlvbiBvbiBjb21wb25lbnQgdm5vZGUuXG4gICAgaWYgKG5leHRWTm9kZS5kaXJzIHx8IG5leHRWTm9kZS50cmFuc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAob3B0aW1pemVkICYmIHBhdGNoRmxhZyA+PSAwKSB7XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAxMDI0IC8qIFBhdGNoRmxhZ3MuRFlOQU1JQ19TTE9UUyAqLykge1xuICAgICAgICAgICAgLy8gc2xvdCBjb250ZW50IHRoYXQgcmVmZXJlbmNlcyB2YWx1ZXMgdGhhdCBtaWdodCBoYXZlIGNoYW5nZWQsXG4gICAgICAgICAgICAvLyBlLmcuIGluIGEgdi1mb3JcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAxNiAvKiBQYXRjaEZsYWdzLkZVTExfUFJPUFMgKi8pIHtcbiAgICAgICAgICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJlc2VuY2Ugb2YgdGhpcyBmbGFnIGluZGljYXRlcyBwcm9wcyBhcmUgYWx3YXlzIG5vbi1udWxsXG4gICAgICAgICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgOCAvKiBQYXRjaEZsYWdzLlBST1BTICovKSB7XG4gICAgICAgICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljUHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBkeW5hbWljUHJvcHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJlxuICAgICAgICAgICAgICAgICAgICAhaXNFbWl0TGlzdGVuZXIoZW1pdHMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyB0aGlzIHBhdGggaXMgb25seSB0YWtlbiBieSBtYW51YWxseSB3cml0dGVuIHJlbmRlciBmdW5jdGlvbnNcbiAgICAgICAgLy8gc28gcHJlc2VuY2Ugb2YgYW55IGNoaWxkcmVuIGxlYWRzIHRvIGEgZm9yY2VkIHVwZGF0ZVxuICAgICAgICBpZiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4gfHwgIW5leHRDaGlsZHJlbi4kc3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZQcm9wcyA9PT0gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5leHRQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzT3B0aW9ucykge1xuICAgIGNvbnN0IG5leHRLZXlzID0gT2JqZWN0LmtleXMobmV4dFByb3BzKTtcbiAgICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBuZXh0S2V5c1tpXTtcbiAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJlxuICAgICAgICAgICAgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdXBkYXRlSE9DSG9zdEVsKHsgdm5vZGUsIHBhcmVudCB9LCBlbCAvLyBIb3N0Tm9kZVxuKSB7XG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcbiAgICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbn1cblxuY29uc3QgaXNTdXNwZW5zZSA9ICh0eXBlKSA9PiB0eXBlLl9faXNTdXNwZW5zZTtcbi8vIFN1c3BlbnNlIGV4cG9zZXMgYSBjb21wb25lbnQtbGlrZSBBUEksIGFuZCBpcyB0cmVhdGVkIGxpa2UgYSBjb21wb25lbnRcbi8vIGluIHRoZSBjb21waWxlciwgYnV0IGludGVybmFsbHkgaXQncyBhIHNwZWNpYWwgYnVpbHQtaW4gdHlwZSB0aGF0IGhvb2tzXG4vLyBkaXJlY3RseSBpbnRvIHRoZSByZW5kZXJlci5cbmNvbnN0IFN1c3BlbnNlSW1wbCA9IHtcbiAgICBuYW1lOiAnU3VzcGVuc2UnLFxuICAgIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcbiAgICAvLyBkaXJlY3RseSBpbiB0aGUgcmVuZGVyZXIuIFRoZSByZW5kZXJlciBjaGVja3MgZm9yIHRoZSBfX2lzU3VzcGVuc2UgZmxhZ1xuICAgIC8vIG9uIGEgdm5vZGUncyB0eXBlIGFuZCBjYWxscyB0aGUgYHByb2Nlc3NgIG1ldGhvZCwgcGFzc2luZyBpbiByZW5kZXJlclxuICAgIC8vIGludGVybmFscy5cbiAgICBfX2lzU3VzcGVuc2U6IHRydWUsXG4gICAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIFxuICAgIC8vIHBsYXRmb3JtLXNwZWNpZmljIGltcGwgcGFzc2VkIGZyb20gcmVuZGVyZXJcbiAgICByZW5kZXJlckludGVybmFscykge1xuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgbW91bnRTdXNwZW5zZShuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXG4gICAgY3JlYXRlOiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5LFxuICAgIG5vcm1hbGl6ZTogbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlblxufTtcbi8vIEZvcmNlLWNhc3RlZCBwdWJsaWMgdHlwaW5nIGZvciBoIGFuZCBUU1ggcHJvcHMgaW5mZXJlbmNlXG5jb25zdCBTdXNwZW5zZSA9IChTdXNwZW5zZUltcGxcbiAgICApO1xuZnVuY3Rpb24gdHJpZ2dlckV2ZW50KHZub2RlLCBuYW1lKSB7XG4gICAgY29uc3QgZXZlbnRMaXN0ZW5lciA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzW25hbWVdO1xuICAgIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XG4gICAgICAgIGV2ZW50TGlzdGVuZXIoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xuICAgIGNvbnN0IHsgcDogcGF0Y2gsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0gPSByZW5kZXJlckludGVybmFscztcbiAgICBjb25zdCBoaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpKTtcbiAgICAvLyBzdGFydCBtb3VudGluZyB0aGUgY29udGVudCBzdWJ0cmVlIGluIGFuIG9mZi1kb20gY29udGFpbmVyXG4gICAgcGF0Y2gobnVsbCwgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQpLCBoaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xuICAgIC8vIG5vdyBjaGVjayBpZiB3ZSBoYXZlIGVuY291bnRlcmVkIGFueSBhc3luYyBkZXBzXG4gICAgaWYgKHN1c3BlbnNlLmRlcHMgPiAwKSB7XG4gICAgICAgIC8vIGhhcyBhc3luY1xuICAgICAgICAvLyBpbnZva2UgQGZhbGxiYWNrIGV2ZW50XG4gICAgICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgJ29uUGVuZGluZycpO1xuICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvbkZhbGxiYWNrJyk7XG4gICAgICAgIC8vIG1vdW50IHRoZSBmYWxsYmFjayB0cmVlXG4gICAgICAgIHBhdGNoKG51bGwsIHZub2RlLnNzRmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMpO1xuICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHZub2RlLnNzRmFsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gU3VzcGVuc2UgaGFzIG5vIGFzeW5jIGRlcHMuIEp1c3QgcmVzb2x2ZS5cbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XG4gICAgY29uc3Qgc3VzcGVuc2UgPSAobjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZSk7XG4gICAgc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgICBuMi5lbCA9IG4xLmVsO1xuICAgIGNvbnN0IG5ld0JyYW5jaCA9IG4yLnNzQ29udGVudDtcbiAgICBjb25zdCBuZXdGYWxsYmFjayA9IG4yLnNzRmFsbGJhY2s7XG4gICAgY29uc3QgeyBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIGlzSW5GYWxsYmFjaywgaXNIeWRyYXRpbmcgfSA9IHN1c3BlbnNlO1xuICAgIGlmIChwZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XG4gICAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBwZW5kaW5nQnJhbmNoKSkge1xuICAgICAgICAgICAgLy8gc2FtZSByb290IHR5cGUgYnV0IGNvbnRlbnQgbWF5IGhhdmUgY2hhbmdlZC5cbiAgICAgICAgICAgIHBhdGNoKHBlbmRpbmdCcmFuY2gsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3RmFsbGJhY2ssIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRvZ2dsZWQgYmVmb3JlIHBlbmRpbmcgdHJlZSBpcyByZXNvbHZlZFxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkKys7XG4gICAgICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0b2dnbGVkIGJlZm9yZSBoeWRyYXRpb24gaXMgZmluaXNoZWQsIHRoZSBjdXJyZW50IERPTSB0cmVlIGlzXG4gICAgICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIHZhbGlkLiBzZXQgaXQgYXMgdGhlIGFjdGl2ZSBicmFuY2ggc28gaXQgd2lsbCBiZSB1bm1vdW50ZWRcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggPSBwZW5kaW5nQnJhbmNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChwZW5kaW5nQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGluY3JlbWVudCBwZW5kaW5nIElELiB0aGlzIGlzIHVzZWQgdG8gaW52YWxpZGF0ZSBhc3luYyBjYWxsYmFja3NcbiAgICAgICAgICAgIC8vIHJlc2V0IHN1c3BlbnNlIHN0YXRlXG4gICAgICAgICAgICBzdXNwZW5zZS5kZXBzID0gMDtcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgZWZmZWN0cyBmcm9tIHBlbmRpbmcgYnJhbmNoXG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAvLyBkaXNjYXJkIHByZXZpb3VzIGNvbnRhaW5lclxuICAgICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBpbiBmYWxsYmFjayBzdGF0ZVxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdGYWxsYmFjaywgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbnVsbCwgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcbiAgICAgICAgICAgICAgICAvLyB0b2dnbGVkIFwiYmFja1wiIHRvIGN1cnJlbnQgYWN0aXZlIGJyYW5jaFxuICAgICAgICAgICAgICAgIHBhdGNoKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSByZXNvbHZlXG4gICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHN3aXRjaGVkIHRvIGEgM3JkIGJyYW5jaFxuICAgICAgICAgICAgICAgIHBhdGNoKG51bGwsIG5ld0JyYW5jaCwgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XG4gICAgICAgICAgICAvLyByb290IGRpZCBub3QgY2hhbmdlLCBqdXN0IG5vcm1hbCBwYXRjaFxuICAgICAgICAgICAgcGF0Y2goYWN0aXZlQnJhbmNoLCBuZXdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcm9vdCBub2RlIHRvZ2dsZWRcbiAgICAgICAgICAgIC8vIGludm9rZSBAcGVuZGluZyBldmVudFxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KG4yLCAnb25QZW5kaW5nJyk7XG4gICAgICAgICAgICAvLyBtb3VudCBwZW5kaW5nIGJyYW5jaCBpbiBvZmYtZG9tIGNvbnRhaW5lclxuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICAgICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCsrO1xuICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV3QnJhbmNoLCBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5jb21pbmcgYnJhbmNoIGhhcyBubyBhc3luYyBkZXBzLCByZXNvbHZlIG5vdy5cbiAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRpbWVvdXQsIHBlbmRpbmdJZCB9ID0gc3VzcGVuc2U7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdJZCA9PT0gcGVuZGluZ0lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxubGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50LCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFmYWxzZSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgYGNvbnNvbGUuaW5mb2AgY2Fubm90IGJlIG51bGwgZXJyb3JcbiAgICAgICAgY29uc29sZVtjb25zb2xlLmluZm8gPyAnaW5mbycgOiAnbG9nJ10oYDxTdXNwZW5zZT4gaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgYW5kIGl0cyBBUEkgd2lsbCBsaWtlbHkgY2hhbmdlLmApO1xuICAgIH1cbiAgICBjb25zdCB7IHA6IHBhdGNoLCBtOiBtb3ZlLCB1bTogdW5tb3VudCwgbjogbmV4dCwgbzogeyBwYXJlbnROb2RlLCByZW1vdmUgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gICAgY29uc3QgdGltZW91dCA9IHRvTnVtYmVyKHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnRpbWVvdXQpO1xuICAgIGNvbnN0IHN1c3BlbnNlID0ge1xuICAgICAgICB2bm9kZSxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIGlzU1ZHLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBkZXBzOiAwLFxuICAgICAgICBwZW5kaW5nSWQ6IDAsXG4gICAgICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSAnbnVtYmVyJyA/IHRpbWVvdXQgOiAtMSxcbiAgICAgICAgYWN0aXZlQnJhbmNoOiBudWxsLFxuICAgICAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxuICAgICAgICBpc0luRmFsbGJhY2s6IHRydWUsXG4gICAgICAgIGlzSHlkcmF0aW5nLFxuICAgICAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICByZXNvbHZlKHJlc3VtZSA9IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bWUgJiYgIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIHdpdGhvdXQgYSBwZW5kaW5nIGJyYW5jaC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCBvbiBhbiBhbHJlYWR5IHVubW91bnRlZCBzdXNwZW5zZSBib3VuZGFyeS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHZub2RlLCBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIHBlbmRpbmdJZCwgZWZmZWN0cywgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIgfSA9IHN1c3BlbnNlO1xuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFyZXN1bWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxheUVudGVyID0gYWN0aXZlQnJhbmNoICYmXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24ubW9kZSA9PT0gJ291dC1pbic7XG4gICAgICAgICAgICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIDAgLyogTW92ZVR5cGUuRU5URVIgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGluaXRpYWwgYW5jaG9yIG9uIG1vdW50XG4gICAgICAgICAgICAgICAgbGV0IHsgYW5jaG9yIH0gPSBzdXNwZW5zZTtcbiAgICAgICAgICAgICAgICAvLyB1bm1vdW50IGN1cnJlbnQgYWN0aXZlIHRyZWVcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBmYWxsYmFjayB0cmVlIHdhcyBtb3VudGVkLCBpdCBtYXkgaGF2ZSBiZWVuIG1vdmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHBhcnQgb2YgYSBwYXJlbnQgc3VzcGVuc2UuIGdldCB0aGUgbGF0ZXN0IGFuY2hvciBmb3IgaW5zZXJ0aW9uXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBjb250ZW50IGZyb20gb2ZmLWRvbSBjb250YWluZXIgdG8gYWN0dWFsIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lciwgYW5jaG9yLCAwIC8qIE1vdmVUeXBlLkVOVEVSICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xuICAgICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG51bGw7XG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGZsdXNoIGJ1ZmZlcmVkIGVmZmVjdHNcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBwYXJlbnQgc3VzcGVuc2VcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XG4gICAgICAgICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XG4gICAgICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvdW5kIGEgcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIG1lcmdlIGJ1ZmZlcmVkIHBvc3Qgam9ic1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnRvIHRoYXQgcGFyZW50XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgIGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm8gcGVuZGluZyBwYXJlbnQgc3VzcGVuc2UsIGZsdXNoIGFsbCBqb2JzXG4gICAgICAgICAgICBpZiAoIWhhc1VucmVzb2x2ZWRBbmNlc3Rvcikge1xuICAgICAgICAgICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoZWZmZWN0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzID0gW107XG4gICAgICAgICAgICAvLyBpbnZva2UgQHJlc29sdmUgZXZlbnRcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgJ29uUmVzb2x2ZScpO1xuICAgICAgICB9LFxuICAgICAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XG4gICAgICAgICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHZub2RlLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBpc1NWRyB9ID0gc3VzcGVuc2U7XG4gICAgICAgICAgICAvLyBpbnZva2UgQGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQodm5vZGUsICdvbkZhbGxiYWNrJyk7XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XG4gICAgICAgICAgICBjb25zdCBtb3VudEZhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbW91bnQgdGhlIGZhbGxiYWNrIHRyZWVcbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBmYWxsYmFja1ZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBudWxsLCAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgICAgIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBmYWxsYmFja1ZOb2RlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBkZWxheUVudGVyID0gZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uICYmIGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbi5tb2RlID09PSAnb3V0LWluJztcbiAgICAgICAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgICAgLy8gdW5tb3VudCBjdXJyZW50IGFjdGl2ZSBicmFuY2hcbiAgICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIG51bGwsIC8vIG5vIHN1c3BlbnNlIHNvIHVubW91bnQgaG9va3MgZmlyZSBub3dcbiAgICAgICAgICAgIHRydWUgLy8gc2hvdWxkUmVtb3ZlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgICAgICAgICAgbW91bnRGYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCB0eXBlKSB7XG4gICAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiZcbiAgICAgICAgICAgICAgICBtb3ZlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgY29udGFpbmVyLCBhbmNob3IsIHR5cGUpO1xuICAgICAgICAgICAgc3VzcGVuc2UuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB9LFxuICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBuZXh0KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCkge1xuICAgICAgICAgICAgY29uc3QgaXNJblBlbmRpbmdTdXNwZW5zZSA9ICEhc3VzcGVuc2UucGVuZGluZ0JyYW5jaDtcbiAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlKSB7XG4gICAgICAgICAgICAgICAgc3VzcGVuc2UuZGVwcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAuYXN5bmNEZXAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwIC8qIEVycm9yQ29kZXMuU0VUVVBfRlVOQ1RJT04gKi8pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihhc3luY1NldHVwUmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAvLyByZXRyeSB3aGVuIHRoZSBzZXR1cCgpIHByb21pc2UgcmVzb2x2ZXMuXG4gICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gdW5tb3VudGVkIGJlZm9yZSByZXNvbHZlLlxuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5pc1VubW91bnRlZCB8fFxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCB8fFxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgIT09IGluc3RhbmNlLnN1c3BlbnNlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXRyeSBmcm9tIHRoaXMgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2bm9kZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChoeWRyYXRlZEVsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIG1heSBoYXZlIGJlZW4gcmVwbGFjZWQgaWYgYW4gdXBkYXRlIGhhcHBlbmVkIGJlZm9yZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYXN5bmMgZGVwIGlzIHJlc29sdmVkLlxuICAgICAgICAgICAgICAgICAgICB2bm9kZS5lbCA9IGh5ZHJhdGVkRWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gIWh5ZHJhdGVkRWwgJiYgaW5zdGFuY2Uuc3ViVHJlZS5lbDtcbiAgICAgICAgICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChpbnN0YW5jZSwgdm5vZGUsIFxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgaGF2ZSBiZWVuIG1vdmVkIGJlZm9yZSByZXNvbHZlLlxuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGEgaHlkcmF0aW9uLCBpbnN0YW5jZS5zdWJUcmVlIHdpbGwgYmUgdGhlIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAvLyBwbGFjZWhvbGRlci5cbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlKGh5ZHJhdGVkRWwgfHwgaW5zdGFuY2Uuc3ViVHJlZS5lbCksIFxuICAgICAgICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cbiAgICAgICAgICAgICAgICAvLyBjb25zaWRlciB0aGUgY29tbWVudCBwbGFjZWhvbGRlciBjYXNlLlxuICAgICAgICAgICAgICAgIGh5ZHJhdGVkRWwgPyBudWxsIDogbmV4dChpbnN0YW5jZS5zdWJUcmVlKSwgc3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmUocGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlLmVsKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9ubHkgZGVjcmVhc2UgZGVwcyBjb3VudCBpZiBzdXNwZW5zZSBpcyBub3QgYWxyZWFkeSByZXNvbHZlZFxuICAgICAgICAgICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKSB7XG4gICAgICAgICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBzdXNwZW5zZTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZU5vZGUpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbiAgICBjb25zdCBzdXNwZW5zZSA9ICh2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIG5vZGUucGFyZW50Tm9kZSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIG51bGwsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIHRydWUgLyogaHlkcmF0aW5nICovKSk7XG4gICAgLy8gdGhlcmUgYXJlIHR3byBwb3NzaWJsZSBzY2VuYXJpb3MgZm9yIHNlcnZlci1yZW5kZXJlZCBzdXNwZW5zZTpcbiAgICAvLyAtIHN1Y2Nlc3M6IHNzciBjb250ZW50IHNob3VsZCBiZSBmdWxseSByZXNvbHZlZFxuICAgIC8vIC0gZmFpbHVyZTogc3NyIGNvbnRlbnQgc2hvdWxkIGJlIHRoZSBmYWxsYmFjayBicmFuY2guXG4gICAgLy8gaG93ZXZlciwgb24gdGhlIGNsaWVudCB3ZSBkb24ndCByZWFsbHkga25vdyBpZiBpdCBoYXMgZmFpbGVkIG9yIG5vdFxuICAgIC8vIGF0dGVtcHQgdG8gaHlkcmF0ZSB0aGUgRE9NIGFzc3VtaW5nIGl0IGhhcyBzdWNjZWVkZWQsIGJ1dCB3ZSBzdGlsbFxuICAgIC8vIG5lZWQgdG8gY29uc3RydWN0IGEgc3VzcGVuc2UgYm91bmRhcnkgZmlyc3RcbiAgICBjb25zdCByZXN1bHQgPSBoeWRyYXRlTm9kZShub2RlLCAoc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCksIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW4odm5vZGUpIHtcbiAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICAgIGNvbnN0IGlzU2xvdENoaWxkcmVuID0gc2hhcGVGbGFnICYgMzIgLyogU2hhcGVGbGFncy5TTE9UU19DSElMRFJFTiAqLztcbiAgICB2bm9kZS5zc0NvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoaXNTbG90Q2hpbGRyZW4gPyBjaGlsZHJlbi5kZWZhdWx0IDogY2hpbGRyZW4pO1xuICAgIHZub2RlLnNzRmFsbGJhY2sgPSBpc1Nsb3RDaGlsZHJlblxuICAgICAgICA/IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChjaGlsZHJlbi5mYWxsYmFjaylcbiAgICAgICAgOiBjcmVhdGVWTm9kZShDb21tZW50KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChzKSB7XG4gICAgbGV0IGJsb2NrO1xuICAgIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrQmxvY2sgPSBpc0Jsb2NrVHJlZUVuYWJsZWQgJiYgcy5fYztcbiAgICAgICAgaWYgKHRyYWNrQmxvY2spIHtcbiAgICAgICAgICAgIC8vIGRpc2FibGVUcmFja2luZzogZmFsc2VcbiAgICAgICAgICAgIC8vIGFsbG93IGJsb2NrIHRyYWNraW5nIGZvciBjb21waWxlZCBzbG90c1xuICAgICAgICAgICAgLy8gKHNlZSAuL2NvbXBvbmVudFJlbmRlckNvbnRleHQudHMpXG4gICAgICAgICAgICBzLl9kID0gZmFsc2U7XG4gICAgICAgICAgICBvcGVuQmxvY2soKTtcbiAgICAgICAgfVxuICAgICAgICBzID0gcygpO1xuICAgICAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgICAgICAgcy5fZCA9IHRydWU7XG4gICAgICAgICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcbiAgICAgICAgICAgIGNsb3NlQmxvY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNBcnJheShzKSkge1xuICAgICAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXNpbmdsZUNoaWxkKSB7XG4gICAgICAgICAgICB3YXJuJDEoYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcbiAgICAgICAgfVxuICAgICAgICBzID0gc2luZ2xlQ2hpbGQ7XG4gICAgfVxuICAgIHMgPSBub3JtYWxpemVWTm9kZShzKTtcbiAgICBpZiAoYmxvY2sgJiYgIXMuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHMuZHluYW1pY0NoaWxkcmVuID0gYmxvY2suZmlsdGVyKGMgPT4gYyAhPT0gcyk7XG4gICAgfVxuICAgIHJldHVybiBzO1xufVxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XG4gICAgaWYgKHN1c3BlbnNlICYmIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICAgICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcbiAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggPSBicmFuY2g7XG4gICAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcbiAgICBjb25zdCBlbCA9ICh2bm9kZS5lbCA9IGJyYW5jaC5lbCk7XG4gICAgLy8gaW4gY2FzZSBzdXNwZW5zZSBpcyB0aGUgcm9vdCBub2RlIG9mIGEgY29tcG9uZW50LFxuICAgIC8vIHJlY3Vyc2l2ZWx5IHVwZGF0ZSB0aGUgSE9DIGVsXG4gICAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LnZub2RlLmVsID0gZWw7XG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICAgIGlmICghY3VycmVudEluc3RhbmNlKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgcHJvdmlkZSgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcztcbiAgICAgICAgLy8gYnkgZGVmYXVsdCBhbiBpbnN0YW5jZSBpbmhlcml0cyBpdHMgcGFyZW50J3MgcHJvdmlkZXMgb2JqZWN0XG4gICAgICAgIC8vIGJ1dCB3aGVuIGl0IG5lZWRzIHRvIHByb3ZpZGUgdmFsdWVzIG9mIGl0cyBvd24sIGl0IGNyZWF0ZXMgaXRzXG4gICAgICAgIC8vIG93biBwcm92aWRlcyBvYmplY3QgdXNpbmcgcGFyZW50IHByb3ZpZGVzIG9iamVjdCBhcyBwcm90b3R5cGUuXG4gICAgICAgIC8vIHRoaXMgd2F5IGluIGBpbmplY3RgIHdlIGNhbiBzaW1wbHkgbG9vayB1cCBpbmplY3Rpb25zIGZyb20gZGlyZWN0XG4gICAgICAgIC8vIHBhcmVudCBhbmQgbGV0IHRoZSBwcm90b3R5cGUgY2hhaW4gZG8gdGhlIHdvcmsuXG4gICAgICAgIGNvbnN0IHBhcmVudFByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnBhcmVudCAmJiBjdXJyZW50SW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xuICAgICAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XG4gICAgICAgICAgICBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRTIGRvZXNuJ3QgYWxsb3cgc3ltYm9sIGFzIGluZGV4IHR5cGVcbiAgICAgICAgcHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2UpIHtcbiAgICAvLyBmYWxsYmFjayB0byBgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlYCBzbyB0aGF0IHRoaXMgY2FuIGJlIGNhbGxlZCBpblxuICAgIC8vIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgIC8vICMyNDAwXG4gICAgICAgIC8vIHRvIHN1cHBvcnQgYGFwcC51c2VgIHBsdWdpbnMsXG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIGFwcENvbnRleHQncyBgcHJvdmlkZXNgIGlmIHRoZSBpbnN0YW5jZSBpcyBhdCByb290XG4gICAgICAgIGNvbnN0IHByb3ZpZGVzID0gaW5zdGFuY2UucGFyZW50ID09IG51bGxcbiAgICAgICAgICAgID8gaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dCAmJiBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0LnByb3ZpZGVzXG4gICAgICAgICAgICA6IGluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcbiAgICAgICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xuICAgICAgICAgICAgLy8gVFMgZG9lc24ndCBhbGxvdyBzeW1ib2wgYXMgaW5kZXggdHlwZVxuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZS5wcm94eSlcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgaW5qZWN0aW9uIFwiJHtTdHJpbmcoa2V5KX1cIiBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm4kMShgaW5qZWN0KCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKSBvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMuYCk7XG4gICAgfVxufVxuXG4vLyBTaW1wbGUgZWZmZWN0LlxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHdhdGNoUG9zdEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGZsdXNoOiAncG9zdCcgfSkgOiB7IGZsdXNoOiAncG9zdCcgfSkpO1xufVxuZnVuY3Rpb24gd2F0Y2hTeW5jRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICAgIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgZmx1c2g6ICdzeW5jJyB9KSA6IHsgZmx1c2g6ICdzeW5jJyB9KSk7XG59XG4vLyBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycyB0byB0cmlnZ2VyIG9uIHVuZGVmaW5lZCBpbml0aWFsIHZhbHVlc1xuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XG4vLyBpbXBsZW1lbnRhdGlvblxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzRnVuY3Rpb24oY2IpKSB7XG4gICAgICAgIHdhcm4kMShgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIGAgK1xuICAgICAgICAgICAgYFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IGAgK1xuICAgICAgICAgICAgYHN1cHBvcnRzIFxcYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XG4gICAgfVxuICAgIHJldHVybiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCB7IGltbWVkaWF0ZSwgZGVlcCwgZmx1c2gsIG9uVHJhY2ssIG9uVHJpZ2dlciB9ID0gRU1QVFlfT0JKKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY2IpIHtcbiAgICAgICAgaWYgKGltbWVkaWF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3YXJuJDEoYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgYCArXG4gICAgICAgICAgICAgICAgYHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2FybiQxKGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBgICtcbiAgICAgICAgICAgICAgICBgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3YXJuSW52YWxpZFNvdXJjZSA9IChzKSA9PiB7XG4gICAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBzb3VyY2U6IGAsIHMsIGBBIHdhdGNoIHNvdXJjZSBjYW4gb25seSBiZSBhIGdldHRlci9lZmZlY3QgZnVuY3Rpb24sIGEgcmVmLCBgICtcbiAgICAgICAgICAgIGBhIHJlYWN0aXZlIG9iamVjdCwgb3IgYW4gYXJyYXkgb2YgdGhlc2UgdHlwZXMuYCk7XG4gICAgfTtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICBsZXQgZ2V0dGVyO1xuICAgIGxldCBmb3JjZVRyaWdnZXIgPSBmYWxzZTtcbiAgICBsZXQgaXNNdWx0aVNvdXJjZSA9IGZhbHNlO1xuICAgIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS52YWx1ZTtcbiAgICAgICAgZm9yY2VUcmlnZ2VyID0gaXNTaGFsbG93KHNvdXJjZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2U7XG4gICAgICAgIGRlZXAgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgaXNNdWx0aVNvdXJjZSA9IHRydWU7XG4gICAgICAgIGZvcmNlVHJpZ2dlciA9IHNvdXJjZS5zb21lKHMgPT4gaXNSZWFjdGl2ZShzKSB8fCBpc1NoYWxsb3cocykpO1xuICAgICAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKHMgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUmVmKHMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1JlYWN0aXZlKHMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYXZlcnNlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsV2l0aEVycm9ySGFuZGxpbmcocywgaW5zdGFuY2UsIDIgLyogRXJyb3JDb2Rlcy5XQVRDSF9HRVRURVIgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5JbnZhbGlkU291cmNlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgLy8gZ2V0dGVyIHdpdGggY2JcbiAgICAgICAgICAgIGdldHRlciA9ICgpID0+IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAyIC8qIEVycm9yQ29kZXMuV0FUQ0hfR0VUVEVSICovKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIGNiIC0+IHNpbXBsZSBlZmZlY3RcbiAgICAgICAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAzIC8qIEVycm9yQ29kZXMuV0FUQ0hfQ0FMTEJBQ0sgKi8sIFtvbkNsZWFudXBdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdldHRlciA9IE5PT1A7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzb3VyY2UpO1xuICAgIH1cbiAgICAvLyAyLnggYXJyYXkgbXV0YXRpb24gd2F0Y2ggY29tcGF0XG4gICAgaWYgKGNiICYmICFkZWVwKSB7XG4gICAgICAgIGNvbnN0IGJhc2VHZXR0ZXIgPSBnZXR0ZXI7XG4gICAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IGJhc2VHZXR0ZXIoKTtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHZhbCkgJiZcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBhdEVuYWJsZWQoXCJXQVRDSF9BUlJBWVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuV0FUQ0hfQVJSQVkgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgIHRyYXZlcnNlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoY2IgJiYgZGVlcCkge1xuICAgICAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xuICAgICAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCkpO1xuICAgIH1cbiAgICBsZXQgY2xlYW51cDtcbiAgICBsZXQgb25DbGVhbnVwID0gKGZuKSA9PiB7XG4gICAgICAgIGNsZWFudXAgPSBlZmZlY3Qub25TdG9wID0gKCkgPT4ge1xuICAgICAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgNCAvKiBFcnJvckNvZGVzLldBVENIX0NMRUFOVVAgKi8pO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLy8gaW4gU1NSIHRoZXJlIGlzIG5vIG5lZWQgdG8gc2V0dXAgYW4gYWN0dWFsIGVmZmVjdCwgYW5kIGl0IHNob3VsZCBiZSBub29wXG4gICAgLy8gdW5sZXNzIGl0J3MgZWFnZXIgb3Igc3luYyBmbHVzaFxuICAgIGxldCBzc3JDbGVhbnVwO1xuICAgIGlmIChpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICAgICAgLy8gd2Ugd2lsbCBhbHNvIG5vdCBjYWxsIHRoZSBpbnZhbGlkYXRlIGNhbGxiYWNrICgrIHJ1bm5lciBpcyBub3Qgc2V0IHVwKVxuICAgICAgICBvbkNsZWFudXAgPSBOT09QO1xuICAgICAgICBpZiAoIWNiKSB7XG4gICAgICAgICAgICBnZXR0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBpbnN0YW5jZSwgMyAvKiBFcnJvckNvZGVzLldBVENIX0NBTExCQUNLICovLCBbXG4gICAgICAgICAgICAgICAgZ2V0dGVyKCksXG4gICAgICAgICAgICAgICAgaXNNdWx0aVNvdXJjZSA/IFtdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cFxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsdXNoID09PSAnc3luYycpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHVzZVNTUkNvbnRleHQoKTtcbiAgICAgICAgICAgIHNzckNsZWFudXAgPSBjdHguX193YXRjaGVySGFuZGxlcyB8fCAoY3R4Ll9fd2F0Y2hlckhhbmRsZXMgPSBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTk9PUDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgb2xkVmFsdWUgPSBpc011bHRpU291cmNlXG4gICAgICAgID8gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpLmZpbGwoSU5JVElBTF9XQVRDSEVSX1ZBTFVFKVxuICAgICAgICA6IElOSVRJQUxfV0FUQ0hFUl9WQUxVRTtcbiAgICBjb25zdCBqb2IgPSAoKSA9PiB7XG4gICAgICAgIGlmICghZWZmZWN0LmFjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgLy8gd2F0Y2goc291cmNlLCBjYilcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgICAgICAgICAgaWYgKGRlZXAgfHxcbiAgICAgICAgICAgICAgICBmb3JjZVRyaWdnZXIgfHxcbiAgICAgICAgICAgICAgICAoaXNNdWx0aVNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA/IG5ld1ZhbHVlLnNvbWUoKHYsIGkpID0+IGhhc0NoYW5nZWQodiwgb2xkVmFsdWVbaV0pKVxuICAgICAgICAgICAgICAgICAgICA6IGhhc0NoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlKSkgfHxcbiAgICAgICAgICAgICAgICAoaXNBcnJheShuZXdWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiV0FUQ0hfQVJSQVlcIiAvKiBEZXByZWNhdGlvblR5cGVzLldBVENIX0FSUkFZICovLCBpbnN0YW5jZSkpKSB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW51cCBiZWZvcmUgcnVubmluZyBjYiBhZ2FpblxuICAgICAgICAgICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoY2IsIGluc3RhbmNlLCAzIC8qIEVycm9yQ29kZXMuV0FUQ0hfQ0FMTEJBQ0sgKi8sIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgdW5kZWZpbmVkIGFzIHRoZSBvbGQgdmFsdWUgd2hlbiBpdCdzIGNoYW5nZWQgZm9yIHRoZSBmaXJzdCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChpc011bHRpU291cmNlICYmIG9sZFZhbHVlWzBdID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogb2xkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xlYW51cFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB3YXRjaEVmZmVjdFxuICAgICAgICAgICAgZWZmZWN0LnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBpbXBvcnRhbnQ6IG1hcmsgdGhlIGpvYiBhcyBhIHdhdGNoZXIgY2FsbGJhY2sgc28gdGhhdCBzY2hlZHVsZXIga25vd3NcbiAgICAvLyBpdCBpcyBhbGxvd2VkIHRvIHNlbGYtdHJpZ2dlciAoIzE3MjcpXG4gICAgam9iLmFsbG93UmVjdXJzZSA9ICEhY2I7XG4gICAgbGV0IHNjaGVkdWxlcjtcbiAgICBpZiAoZmx1c2ggPT09ICdzeW5jJykge1xuICAgICAgICBzY2hlZHVsZXIgPSBqb2I7IC8vIHRoZSBzY2hlZHVsZXIgZnVuY3Rpb24gZ2V0cyBjYWxsZWQgZGlyZWN0bHlcbiAgICB9XG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xuICAgICAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBkZWZhdWx0OiAncHJlJ1xuICAgICAgICBqb2IucHJlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGluc3RhbmNlKVxuICAgICAgICAgICAgam9iLmlkID0gaW5zdGFuY2UudWlkO1xuICAgICAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZUpvYihqb2IpO1xuICAgIH1cbiAgICBjb25zdCBlZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZ2V0dGVyLCBzY2hlZHVsZXIpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgZWZmZWN0Lm9uVHJhY2sgPSBvblRyYWNrO1xuICAgICAgICBlZmZlY3Qub25UcmlnZ2VyID0gb25UcmlnZ2VyO1xuICAgIH1cbiAgICAvLyBpbml0aWFsIHJ1blxuICAgIGlmIChjYikge1xuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICBqb2IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9sZFZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGZsdXNoID09PSAncG9zdCcpIHtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGVmZmVjdC5ydW4uYmluZChlZmZlY3QpLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlZmZlY3QucnVuKCk7XG4gICAgfVxuICAgIGNvbnN0IHVud2F0Y2ggPSAoKSA9PiB7XG4gICAgICAgIGVmZmVjdC5zdG9wKCk7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5zY29wZSkge1xuICAgICAgICAgICAgcmVtb3ZlKGluc3RhbmNlLnNjb3BlLmVmZmVjdHMsIGVmZmVjdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmIChzc3JDbGVhbnVwKVxuICAgICAgICBzc3JDbGVhbnVwLnB1c2godW53YXRjaCk7XG4gICAgcmV0dXJuIHVud2F0Y2g7XG59XG4vLyB0aGlzLiR3YXRjaFxuZnVuY3Rpb24gaW5zdGFuY2VXYXRjaChzb3VyY2UsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcHVibGljVGhpcyA9IHRoaXMucHJveHk7XG4gICAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKVxuICAgICAgICA/IHNvdXJjZS5pbmNsdWRlcygnLicpXG4gICAgICAgICAgICA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywgc291cmNlKVxuICAgICAgICAgICAgOiAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV1cbiAgICAgICAgOiBzb3VyY2UuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgICBsZXQgY2I7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIGNiID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYiA9IHZhbHVlLmhhbmRsZXI7XG4gICAgICAgIG9wdGlvbnMgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgY3VyID0gY3VycmVudEluc3RhbmNlO1xuICAgIHNldEN1cnJlbnRJbnN0YW5jZSh0aGlzKTtcbiAgICBjb25zdCByZXMgPSBkb1dhdGNoKGdldHRlciwgY2IuYmluZChwdWJsaWNUaGlzKSwgb3B0aW9ucyk7XG4gICAgaWYgKGN1cikge1xuICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoY3VyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoR2V0dGVyKGN0eCwgcGF0aCkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGxldCBjdXIgPSBjdHg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoICYmIGN1cjsgaSsrKSB7XG4gICAgICAgICAgICBjdXIgPSBjdXJbc2VnbWVudHNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXI7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBzZWVuKSB7XG4gICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgdmFsdWVbXCJfX3Zfc2tpcFwiIC8qIFJlYWN0aXZlRmxhZ3MuU0tJUCAqL10pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBzZWVuID0gc2VlbiB8fCBuZXcgU2V0KCk7XG4gICAgaWYgKHNlZW4uaGFzKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHNlZW4uYWRkKHZhbHVlKTtcbiAgICBpZiAoaXNSZWYodmFsdWUpKSB7XG4gICAgICAgIHRyYXZlcnNlKHZhbHVlLnZhbHVlLCBzZWVuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVbaV0sIHNlZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgdHJhdmVyc2Uodiwgc2Vlbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgc2Vlbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgICAgIGlzTGVhdmluZzogZmFsc2UsXG4gICAgICAgIGlzVW5tb3VudGluZzogZmFsc2UsXG4gICAgICAgIGxlYXZpbmdWTm9kZXM6IG5ldyBNYXAoKVxuICAgIH07XG4gICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgICAgc3RhdGUuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgICAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiBzdGF0ZTtcbn1cbmNvbnN0IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yID0gW0Z1bmN0aW9uLCBBcnJheV07XG5jb25zdCBCYXNlVHJhbnNpdGlvbkltcGwgPSB7XG4gICAgbmFtZTogYEJhc2VUcmFuc2l0aW9uYCxcbiAgICBwcm9wczoge1xuICAgICAgICBtb2RlOiBTdHJpbmcsXG4gICAgICAgIGFwcGVhcjogQm9vbGVhbixcbiAgICAgICAgcGVyc2lzdGVkOiBCb29sZWFuLFxuICAgICAgICAvLyBlbnRlclxuICAgICAgICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uQWZ0ZXJFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICAvLyBsZWF2ZVxuICAgICAgICBvbkJlZm9yZUxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgICAgICAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uTGVhdmVDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICAvLyBhcHBlYXJcbiAgICAgICAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gICAgICAgIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAgICAgICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3JcbiAgICB9LFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICAgICAgbGV0IHByZXZUcmFuc2l0aW9uS2V5O1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCksIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGxldCBoYXNGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIGxvY2F0ZSBmaXJzdCBub24tY29tbWVudCBjaGlsZFxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYyBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYy50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhhc0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FybiBtb3JlIHRoYW4gb25lIG5vbi1jb21tZW50IGNoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKCc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVc2UgPHRyYW5zaXRpb24tZ3JvdXA+IGZvciBsaXN0cy4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBuZWVkIHRvIHRyYWNrIHJlYWN0aXZpdHkgZm9yIHRoZXNlIHByb3BzIHNvIHVzZSB0aGUgcmF3XG4gICAgICAgICAgICAvLyBwcm9wcyBmb3IgYSBiaXQgYmV0dGVyIHBlcmZcbiAgICAgICAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgICAgICAgY29uc3QgeyBtb2RlIH0gPSByYXdQcm9wcztcbiAgICAgICAgICAgIC8vIGNoZWNrIG1vZGVcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICBtb2RlICYmXG4gICAgICAgICAgICAgICAgbW9kZSAhPT0gJ2luLW91dCcgJiZcbiAgICAgICAgICAgICAgICBtb2RlICE9PSAnb3V0LWluJyAmJlxuICAgICAgICAgICAgICAgIG1vZGUgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJHttb2RlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLmlzTGVhdmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGluIHRoZSBjYXNlIG9mIDx0cmFuc2l0aW9uPjxrZWVwLWFsaXZlLz48L3RyYW5zaXRpb24+LCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAvLyBjb21wYXJlIHRoZSB0eXBlIG9mIHRoZSBrZXB0LWFsaXZlIGNoaWxkcmVuLlxuICAgICAgICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldEtlZXBBbGl2ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIGlmICghaW5uZXJDaGlsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVudGVySG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIHJhd1Byb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIGVudGVySG9va3MpO1xuICAgICAgICAgICAgY29uc3Qgb2xkQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICAgICAgICAgICAgY29uc3Qgb2xkSW5uZXJDaGlsZCA9IG9sZENoaWxkICYmIGdldEtlZXBBbGl2ZUNoaWxkKG9sZENoaWxkKTtcbiAgICAgICAgICAgIGxldCB0cmFuc2l0aW9uS2V5Q2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgeyBnZXRUcmFuc2l0aW9uS2V5IH0gPSBpbm5lckNoaWxkLnR5cGU7XG4gICAgICAgICAgICBpZiAoZ2V0VHJhbnNpdGlvbktleSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFRyYW5zaXRpb25LZXkoKTtcbiAgICAgICAgICAgICAgICBpZiAocHJldlRyYW5zaXRpb25LZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VHJhbnNpdGlvbktleSA9IGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ICE9PSBwcmV2VHJhbnNpdGlvbktleSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VHJhbnNpdGlvbktleSA9IGtleTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbktleUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGhhbmRsZSBtb2RlXG4gICAgICAgICAgICBpZiAob2xkSW5uZXJDaGlsZCAmJlxuICAgICAgICAgICAgICAgIG9sZElubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCAmJlxuICAgICAgICAgICAgICAgICghaXNTYW1lVk5vZGVUeXBlKGlubmVyQ2hpbGQsIG9sZElubmVyQ2hpbGQpIHx8IHRyYW5zaXRpb25LZXlDaGFuZ2VkKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgcmF3UHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIG9sZCB0cmVlJ3MgaG9va3MgaW4gY2FzZSBvZiBkeW5hbWljIHRyYW5zaXRpb25cbiAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgbGVhdmluZ0hvb2tzKTtcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hpbmcgYmV0d2VlbiBkaWZmZXJlbnQgdmlld3NcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5hZnRlckxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAjNjgzNVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgYWxzbyBuZWVkcyB0byBiZSB1cGRhdGVkIHdoZW4gYWN0aXZlIGlzIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLnVwZGF0ZS5hY3RpdmUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ2luLW91dCcgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCBvbGRJbm5lckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtTdHJpbmcob2xkSW5uZXJDaGlsZC5rZXkpXSA9IG9sZElubmVyQ2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlYXJseSByZW1vdmFsIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5fbGVhdmVDYiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXJseVJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9sZWF2ZUNiID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9IGRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH07XG4gICAgfVxufTtcbntcbiAgICBCYXNlVHJhbnNpdGlvbkltcGwuX19pc0J1aWx0SW4gPSB0cnVlO1xufVxuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XG5mdW5jdGlvbiBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSkge1xuICAgIGNvbnN0IHsgbGVhdmluZ1ZOb2RlcyB9ID0gc3RhdGU7XG4gICAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xuICAgIGlmICghbGVhdmluZ1ZOb2Rlc0NhY2hlKSB7XG4gICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XG4gICAgfVxuICAgIHJldHVybiBsZWF2aW5nVk5vZGVzQ2FjaGU7XG59XG4vLyBUaGUgdHJhbnNpdGlvbiBob29rcyBhcmUgYXR0YWNoZWQgdG8gdGhlIHZub2RlIGFzIHZub2RlLnRyYW5zaXRpb25cbi8vIGFuZCB3aWxsIGJlIGNhbGxlZCBhdCBhcHByb3ByaWF0ZSB0aW1pbmcgaW4gdGhlIHJlbmRlcmVyLlxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IHsgYXBwZWFyLCBtb2RlLCBwZXJzaXN0ZWQgPSBmYWxzZSwgb25CZWZvcmVFbnRlciwgb25FbnRlciwgb25BZnRlckVudGVyLCBvbkVudGVyQ2FuY2VsbGVkLCBvbkJlZm9yZUxlYXZlLCBvbkxlYXZlLCBvbkFmdGVyTGVhdmUsIG9uTGVhdmVDYW5jZWxsZWQsIG9uQmVmb3JlQXBwZWFyLCBvbkFwcGVhciwgb25BZnRlckFwcGVhciwgb25BcHBlYXJDYW5jZWxsZWQgfSA9IHByb3BzO1xuICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcbiAgICBjb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgICAgIGhvb2sgJiZcbiAgICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA5IC8qIEVycm9yQ29kZXMuVFJBTlNJVElPTl9IT09LICovLCBhcmdzKTtcbiAgICB9O1xuICAgIGNvbnN0IGNhbGxBc3luY0hvb2sgPSAoaG9vaywgYXJncykgPT4ge1xuICAgICAgICBjb25zdCBkb25lID0gYXJnc1sxXTtcbiAgICAgICAgY2FsbEhvb2soaG9vaywgYXJncyk7XG4gICAgICAgIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgICAgICAgICBpZiAoaG9vay5ldmVyeShob29rID0+IGhvb2subGVuZ3RoIDw9IDEpKVxuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhvb2tzID0ge1xuICAgICAgICBtb2RlLFxuICAgICAgICBwZXJzaXN0ZWQsXG4gICAgICAgIGJlZm9yZUVudGVyKGVsKSB7XG4gICAgICAgICAgICBsZXQgaG9vayA9IG9uQmVmb3JlRW50ZXI7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9vayA9IG9uQmVmb3JlQXBwZWFyIHx8IG9uQmVmb3JlRW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZm9yIHNhbWUgZWxlbWVudCAodi1zaG93KVxuICAgICAgICAgICAgaWYgKGVsLl9sZWF2ZUNiKSB7XG4gICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IodHJ1ZSAvKiBjYW5jZWxsZWQgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZm9yIHRvZ2dsZWQgZWxlbWVudCB3aXRoIHNhbWUga2V5ICh2LWlmKVxuICAgICAgICAgICAgY29uc3QgbGVhdmluZ1ZOb2RlID0gbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XG4gICAgICAgICAgICBpZiAobGVhdmluZ1ZOb2RlICYmXG4gICAgICAgICAgICAgICAgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmXG4gICAgICAgICAgICAgICAgbGVhdmluZ1ZOb2RlLmVsLl9sZWF2ZUNiKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgZWFybHkgcmVtb3ZhbCAobm90IGNhbmNlbGxlZClcbiAgICAgICAgICAgICAgICBsZWF2aW5nVk5vZGUuZWwuX2xlYXZlQ2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxIb29rKGhvb2ssIFtlbF0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnRlcihlbCkge1xuICAgICAgICAgICAgbGV0IGhvb2sgPSBvbkVudGVyO1xuICAgICAgICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcbiAgICAgICAgICAgIGxldCBjYW5jZWxIb29rID0gb25FbnRlckNhbmNlbGxlZDtcbiAgICAgICAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgICAgICAgICAgICBob29rID0gb25BcHBlYXIgfHwgb25FbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJIb29rID0gb25BZnRlckFwcGVhciB8fCBvbkFmdGVyRW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGRvbmUgPSAoZWwuX2VudGVyQ2IgPSAoY2FuY2VsbGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChob29rcy5kZWxheWVkTGVhdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsLl9lbnRlckNiID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaG9vaykge1xuICAgICAgICAgICAgICAgIGNhbGxBc3luY0hvb2soaG9vaywgW2VsLCBkb25lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxlYXZlKGVsLCByZW1vdmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICAgICAgICAgICAgaWYgKGVsLl9lbnRlckNiKSB7XG4gICAgICAgICAgICAgICAgZWwuX2VudGVyQ2IodHJ1ZSAvKiBjYW5jZWxsZWQgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLmlzVW5tb3VudGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxIb29rKG9uQmVmb3JlTGVhdmUsIFtlbF0pO1xuICAgICAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZG9uZSA9IChlbC5fbGVhdmVDYiA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWwuX2xlYXZlQ2IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldID09PSB2bm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XSA9IHZub2RlO1xuICAgICAgICAgICAgaWYgKG9uTGVhdmUpIHtcbiAgICAgICAgICAgICAgICBjYWxsQXN5bmNIb29rKG9uTGVhdmUsIFtlbCwgZG9uZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbG9uZSh2bm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVUcmFuc2l0aW9uSG9va3Modm5vZGUsIHByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaG9va3M7XG59XG4vLyB0aGUgcGxhY2Vob2xkZXIgcmVhbGx5IG9ubHkgaGFuZGxlcyBvbmUgc3BlY2lhbCBjYXNlOiBLZWVwQWxpdmVcbi8vIGluIHRoZSBjYXNlIG9mIGEgS2VlcEFsaXZlIGluIGEgbGVhdmUgcGhhc2Ugd2UgbmVlZCB0byByZXR1cm4gYSBLZWVwQWxpdmVcbi8vIHBsYWNlaG9sZGVyIHdpdGggZW1wdHkgY29udGVudCB0byBhdm9pZCB0aGUgS2VlcEFsaXZlIGluc3RhbmNlIGZyb20gYmVpbmdcbi8vIHVubW91bnRlZC5cbmZ1bmN0aW9uIGVtcHR5UGxhY2Vob2xkZXIodm5vZGUpIHtcbiAgICBpZiAoaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZub2RlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEtlZXBBbGl2ZUNoaWxkKHZub2RlKSB7XG4gICAgcmV0dXJuIGlzS2VlcEFsaXZlKHZub2RlKVxuICAgICAgICA/IHZub2RlLmNoaWxkcmVuXG4gICAgICAgICAgICA/IHZub2RlLmNoaWxkcmVuWzBdXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICA6IHZub2RlO1xufVxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGhvb2tzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xuICAgICAgICB2bm9kZS5zc0ZhbGxiYWNrLnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UsIHBhcmVudEtleSkge1xuICAgIGxldCByZXQgPSBbXTtcbiAgICBsZXQga2V5ZWRGcmFnbWVudENvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAvLyAjNTM2MCBpbmhlcml0IHBhcmVudCBrZXkgaW4gY2FzZSBvZiA8dGVtcGxhdGUgdi1mb3I+XG4gICAgICAgIGNvbnN0IGtleSA9IHBhcmVudEtleSA9PSBudWxsXG4gICAgICAgICAgICA/IGNoaWxkLmtleVxuICAgICAgICAgICAgOiBTdHJpbmcocGFyZW50S2V5KSArIFN0cmluZyhjaGlsZC5rZXkgIT0gbnVsbCA/IGNoaWxkLmtleSA6IGkpO1xuICAgICAgICAvLyBoYW5kbGUgZnJhZ21lbnQgY2hpbGRyZW4gY2FzZSwgZS5nLiB2LWZvclxuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXRjaEZsYWcgJiAxMjggLyogUGF0Y2hGbGFncy5LRVlFRF9GUkFHTUVOVCAqLylcbiAgICAgICAgICAgICAgICBrZXllZEZyYWdtZW50Q291bnQrKztcbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQoZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCwga2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tbWVudCBwbGFjZWhvbGRlcnMgc2hvdWxkIGJlIHNraXBwZWQsIGUuZy4gdi1pZlxuICAgICAgICBlbHNlIGlmIChrZWVwQ29tbWVudCB8fCBjaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgICByZXQucHVzaChrZXkgIT0gbnVsbCA/IGNsb25lVk5vZGUoY2hpbGQsIHsga2V5IH0pIDogY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vICMxMTI2IGlmIGEgdHJhbnNpdGlvbiBjaGlsZHJlbiBsaXN0IGNvbnRhaW5zIG11bHRpcGxlIHN1YiBmcmFnbWVudHMsIHRoZXNlXG4gICAgLy8gZnJhZ21lbnRzIHdpbGwgYmUgbWVyZ2VkIGludG8gYSBmbGF0IGNoaWxkcmVuIGFycmF5LiBTaW5jZSBlYWNoIHYtZm9yXG4gICAgLy8gZnJhZ21lbnQgbWF5IGNvbnRhaW4gZGlmZmVyZW50IHN0YXRpYyBiaW5kaW5ncyBpbnNpZGUsIHdlIG5lZWQgdG8gZGUtb3BcbiAgICAvLyB0aGVzZSBjaGlsZHJlbiB0byBmb3JjZSBmdWxsIGRpZmZzIHRvIGVuc3VyZSBjb3JyZWN0IGJlaGF2aW9yLlxuICAgIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXRbaV0ucGF0Y2hGbGFnID0gLTIgLyogUGF0Y2hGbGFncy5CQUlMICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbi8vIGltcGxlbWVudGF0aW9uLCBjbG9zZSB0byBuby1vcFxuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IHsgc2V0dXA6IG9wdGlvbnMsIG5hbWU6IG9wdGlvbnMubmFtZSB9IDogb3B0aW9ucztcbn1cblxuY29uc3QgaXNBc3luY1dyYXBwZXIgPSAoaSkgPT4gISFpLnR5cGUuX19hc3luY0xvYWRlcjtcbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xuICAgIH1cbiAgICBjb25zdCB7IGxvYWRlciwgbG9hZGluZ0NvbXBvbmVudCwgZXJyb3JDb21wb25lbnQsIGRlbGF5ID0gMjAwLCB0aW1lb3V0LCAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcbiAgICBzdXNwZW5zaWJsZSA9IHRydWUsIG9uRXJyb3I6IHVzZXJPbkVycm9yIH0gPSBzb3VyY2U7XG4gICAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICBsZXQgcmVzb2x2ZWRDb21wO1xuICAgIGxldCByZXRyaWVzID0gMDtcbiAgICBjb25zdCByZXRyeSA9ICgpID0+IHtcbiAgICAgICAgcmV0cmllcysrO1xuICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIHJldHVybiBsb2FkKCk7XG4gICAgfTtcbiAgICBjb25zdCBsb2FkID0gKCkgPT4ge1xuICAgICAgICBsZXQgdGhpc1JlcXVlc3Q7XG4gICAgICAgIHJldHVybiAocGVuZGluZ1JlcXVlc3QgfHxcbiAgICAgICAgICAgICh0aGlzUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0ID1cbiAgICAgICAgICAgICAgICBsb2FkZXIoKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodXNlck9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclJldHJ5ID0gKCkgPT4gcmVzb2x2ZShyZXRyeSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyRmFpbCA9ICgpID0+IHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoY29tcCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhY29tcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBBc3luYyBjb21wb25lbnQgbG9hZGVyIHJlc29sdmVkIHRvIHVuZGVmaW5lZC4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYElmIHlvdSBhcmUgdXNpbmcgcmV0cnkoKSwgbWFrZSBzdXJlIHRvIHJldHVybiBpdHMgcmV0dXJuIHZhbHVlLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVyb3AgbW9kdWxlIGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAgPSBjb21wLmRlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogJHtjb21wfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wO1xuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgfTtcbiAgICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcbiAgICAgICAgbmFtZTogJ0FzeW5jQ29tcG9uZW50V3JhcHBlcicsXG4gICAgICAgIF9fYXN5bmNMb2FkZXI6IGxvYWQsXG4gICAgICAgIGdldCBfX2FzeW5jUmVzb2x2ZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRDb21wO1xuICAgICAgICB9LFxuICAgICAgICBzZXR1cCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICAgICAgICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZFxuICAgICAgICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAxMyAvKiBFcnJvckNvZGVzLkFTWU5DX0NPTVBPTkVOVF9MT0FERVIgKi8sICFlcnJvckNvbXBvbmVudCAvKiBkbyBub3QgdGhyb3cgaW4gZGV2IGlmIHVzZXIgcHJvdmlkZWQgZXJyb3IgY29tcG9uZW50ICovKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBzdXNwZW5zZS1jb250cm9sbGVkIG9yIFNTUi5cbiAgICAgICAgICAgIGlmICgoc3VzcGVuc2libGUgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpIHx8XG4gICAgICAgICAgICAgICAgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZCgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGNvbXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKGNvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gZXJyb3JDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XG4gICAgICAgICAgICBjb25zdCBkZWxheWVkID0gcmVmKCEhZGVsYXkpO1xuICAgICAgICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ZWQudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9hZGVkLnZhbHVlICYmICFlcnJvci52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBBc3luYyBjb21wb25lbnQgdGltZWQgb3V0IGFmdGVyICR7dGltZW91dH1tcy5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2FkKClcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9hZGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50ICYmIGlzS2VlcEFsaXZlKGluc3RhbmNlLnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFyZW50IGlzIGtlZXAtYWxpdmUsIGZvcmNlIHVwZGF0ZSBzbyB0aGUgbG9hZGVkIGNvbXBvbmVudCdzXG4gICAgICAgICAgICAgICAgICAgIC8vIG5hbWUgaXMgdGFrZW4gaW50byBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZWQudmFsdWUgJiYgcmVzb2x2ZWRDb21wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVycm9yLnZhbHVlICYmIGVycm9yQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsb2FkaW5nQ29tcG9uZW50ICYmICFkZWxheWVkLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShsb2FkaW5nQ29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJbm5lckNvbXAoY29tcCwgcGFyZW50KSB7XG4gICAgY29uc3QgeyByZWYsIHByb3BzLCBjaGlsZHJlbiwgY2UgfSA9IHBhcmVudC52bm9kZTtcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XG4gICAgLy8gZW5zdXJlIGlubmVyIGNvbXBvbmVudCBpbmhlcml0cyB0aGUgYXN5bmMgd3JhcHBlcidzIHJlZiBvd25lclxuICAgIHZub2RlLnJlZiA9IHJlZjtcbiAgICAvLyBwYXNzIHRoZSBjdXN0b20gZWxlbWVudCBjYWxsYmFjayBvbiB0byB0aGUgaW5uZXIgY29tcFxuICAgIC8vIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgYXN5bmMgd3JhcHBlclxuICAgIHZub2RlLmNlID0gY2U7XG4gICAgZGVsZXRlIHBhcmVudC52bm9kZS5jZTtcbiAgICByZXR1cm4gdm5vZGU7XG59XG5cbmNvbnN0IGlzS2VlcEFsaXZlID0gKHZub2RlKSA9PiB2bm9kZS50eXBlLl9faXNLZWVwQWxpdmU7XG5jb25zdCBLZWVwQWxpdmVJbXBsID0ge1xuICAgIG5hbWU6IGBLZWVwQWxpdmVgLFxuICAgIC8vIE1hcmtlciBmb3Igc3BlY2lhbCBoYW5kbGluZyBpbnNpZGUgdGhlIHJlbmRlcmVyLiBXZSBhcmUgbm90IHVzaW5nIGEgPT09XG4gICAgLy8gY2hlY2sgZGlyZWN0bHkgb24gS2VlcEFsaXZlIGluIHRoZSByZW5kZXJlciwgYmVjYXVzZSBpbXBvcnRpbmcgaXQgZGlyZWN0bHlcbiAgICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXG4gICAgX19pc0tlZXBBbGl2ZTogdHJ1ZSxcbiAgICBwcm9wczoge1xuICAgICAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcbiAgICAgICAgZXhjbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgICAgIG1heDogW1N0cmluZywgTnVtYmVyXVxuICAgIH0sXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICAvLyBLZWVwQWxpdmUgY29tbXVuaWNhdGVzIHdpdGggdGhlIGluc3RhbnRpYXRlZCByZW5kZXJlciB2aWEgdGhlXG4gICAgICAgIC8vIGN0eCB3aGVyZSB0aGUgcmVuZGVyZXIgcGFzc2VzIGluIGl0cyBpbnRlcm5hbHMsXG4gICAgICAgIC8vIGFuZCB0aGUgS2VlcEFsaXZlIGluc3RhbmNlIGV4cG9zZXMgYWN0aXZhdGUvZGVhY3RpdmF0ZSBpbXBsZW1lbnRhdGlvbnMuXG4gICAgICAgIC8vIFRoZSB3aG9sZSBwb2ludCBvZiB0aGlzIGlzIHRvIGF2b2lkIGltcG9ydGluZyBLZWVwQWxpdmUgZGlyZWN0bHkgaW4gdGhlXG4gICAgICAgIC8vIHJlbmRlcmVyIHRvIGZhY2lsaXRhdGUgdHJlZS1zaGFraW5nLlxuICAgICAgICBjb25zdCBzaGFyZWRDb250ZXh0ID0gaW5zdGFuY2UuY3R4O1xuICAgICAgICAvLyBpZiB0aGUgaW50ZXJuYWwgcmVuZGVyZXIgaXMgbm90IHJlZ2lzdGVyZWQsIGl0IGluZGljYXRlcyB0aGF0IHRoaXMgaXMgc2VydmVyLXNpZGUgcmVuZGVyaW5nLFxuICAgICAgICAvLyBmb3IgS2VlcEFsaXZlLCB3ZSBqdXN0IG5lZWQgdG8gcmVuZGVyIGl0cyBjaGlsZHJlblxuICAgICAgICBpZiAoIXNoYXJlZENvbnRleHQucmVuZGVyZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIHNsb3RzLmRlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAxID8gY2hpbGRyZW5bMF0gOiBjaGlsZHJlbjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGxldCBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGluc3RhbmNlLl9fdl9jYWNoZSA9IGNhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudFN1c3BlbnNlID0gaW5zdGFuY2Uuc3VzcGVuc2U7XG4gICAgICAgIGNvbnN0IHsgcmVuZGVyZXI6IHsgcDogcGF0Y2gsIG06IG1vdmUsIHVtOiBfdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSB9ID0gc2hhcmVkQ29udGV4dDtcbiAgICAgICAgY29uc3Qgc3RvcmFnZUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzaGFyZWRDb250ZXh0LmFjdGl2YXRlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICBtb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgMCAvKiBNb3ZlVHlwZS5FTlRFUiAqLywgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgLy8gaW4gY2FzZSBwcm9wcyBoYXZlIGNoYW5nZWRcbiAgICAgICAgICAgIHBhdGNoKGluc3RhbmNlLnZub2RlLCB2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHZub2RlLnNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNEZWFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5hKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlLmEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcbiAgICAgICAgICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNvbXBvbmVudHMgdHJlZVxuICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzaGFyZWRDb250ZXh0LmRlYWN0aXZhdGUgPSAodm5vZGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgICAgICAgbW92ZSh2bm9kZSwgc3RvcmFnZUNvbnRhaW5lciwgbnVsbCwgMSAvKiBNb3ZlVHlwZS5MRUFWRSAqLywgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuZGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UuZGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xuICAgICAgICAgICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UucGFyZW50LCB2bm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmlzRGVhY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29tcG9uZW50cyB0cmVlXG4gICAgICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBzaGFwZUZsYWcgc28gaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZFxuICAgICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcHJ1bmVDYWNoZShmaWx0ZXIpIHtcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goKHZub2RlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh2bm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSAmJiAoIWZpbHRlciB8fCAhZmlsdGVyKG5hbWUpKSkge1xuICAgICAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkoa2V5KSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgICAgIGlmICghY3VycmVudCB8fCBjYWNoZWQudHlwZSAhPT0gY3VycmVudC50eXBlKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChjYWNoZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIGluc3RhbmNlIHNob3VsZCBubyBsb25nZXIgYmUga2VwdC1hbGl2ZS5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCB1bm1vdW50IGl0IG5vdyBidXQgaXQgbWlnaHQgYmUgbGF0ZXIsIHNvIHJlc2V0IGl0cyBmbGFnIG5vdy5cbiAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcnVuZSBjYWNoZSBvbiBpbmNsdWRlL2V4Y2x1ZGUgcHJvcCBjaGFuZ2VcbiAgICAgICAgd2F0Y2goKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLCAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XG4gICAgICAgICAgICBpbmNsdWRlICYmIHBydW5lQ2FjaGUobmFtZSA9PiBtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKTtcbiAgICAgICAgICAgIGV4Y2x1ZGUgJiYgcHJ1bmVDYWNoZShuYW1lID0+ICFtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKTtcbiAgICAgICAgfSwgXG4gICAgICAgIC8vIHBydW5lIHBvc3QtcmVuZGVyIGFmdGVyIGBjdXJyZW50YCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgIHsgZmx1c2g6ICdwb3N0JywgZGVlcDogdHJ1ZSB9KTtcbiAgICAgICAgLy8gY2FjaGUgc3ViIHRyZWUgYWZ0ZXIgcmVuZGVyXG4gICAgICAgIGxldCBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgICAgICBjb25zdCBjYWNoZVN1YnRyZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBmaXggIzE2MjEsIHRoZSBwZW5kaW5nQ2FjaGVLZXkgY291bGQgYmUgMFxuICAgICAgICAgICAgaWYgKHBlbmRpbmdDYWNoZUtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2FjaGUuc2V0KHBlbmRpbmdDYWNoZUtleSwgZ2V0SW5uZXJDaGlsZChpbnN0YW5jZS5zdWJUcmVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG9uTW91bnRlZChjYWNoZVN1YnRyZWUpO1xuICAgICAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICAgICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgICAgICAgIGNhY2hlLmZvckVhY2goY2FjaGVkID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb25zdCB2bm9kZSA9IGdldElubmVyQ2hpbGQoc3ViVHJlZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZC50eXBlID09PSB2bm9kZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaW5zdGFuY2Ugd2lsbCBiZSB1bm1vdW50ZWQgYXMgcGFydCBvZiBrZWVwLWFsaXZlJ3MgdW5tb3VudFxuICAgICAgICAgICAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpbnZva2UgaXRzIGRlYWN0aXZhdGVkIGhvb2sgaGVyZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYSA9IHZub2RlLmNvbXBvbmVudC5kYTtcbiAgICAgICAgICAgICAgICAgICAgZGEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRhLCBzdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdW5tb3VudChjYWNoZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCByYXdWTm9kZSA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzVk5vZGUocmF3Vk5vZGUpIHx8XG4gICAgICAgICAgICAgICAgKCEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLykgJiZcbiAgICAgICAgICAgICAgICAgICAgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XG4gICAgICAgICAgICBjb25zdCBjb21wID0gdm5vZGUudHlwZTtcbiAgICAgICAgICAgIC8vIGZvciBhc3luYyBjb21wb25lbnRzLCBuYW1lIGNoZWNrIHNob3VsZCBiZSBiYXNlZCBpbiBpdHMgbG9hZGVkXG4gICAgICAgICAgICAvLyBpbm5lciBjb21wb25lbnQgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShpc0FzeW5jV3JhcHBlcih2bm9kZSlcbiAgICAgICAgICAgICAgICA/IHZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkIHx8IHt9XG4gICAgICAgICAgICAgICAgOiBjb21wKTtcbiAgICAgICAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgbWF4IH0gPSBwcm9wcztcbiAgICAgICAgICAgIGlmICgoaW5jbHVkZSAmJiAoIW5hbWUgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpKSB8fFxuICAgICAgICAgICAgICAgIChleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qga2V5ID0gdm5vZGUua2V5ID09IG51bGwgPyBjb21wIDogdm5vZGUua2V5O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVkVk5vZGUgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgICAgIC8vIGNsb25lIHZub2RlIGlmIGl0J3MgcmV1c2VkIGJlY2F1c2Ugd2UgYXJlIGdvaW5nIHRvIG11dGF0ZSBpdFxuICAgICAgICAgICAgaWYgKHZub2RlLmVsKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gIzE1MTMgaXQncyBwb3NzaWJsZSBmb3IgdGhlIHJldHVybmVkIHZub2RlIHRvIGJlIGNsb25lZCBkdWUgdG8gYXR0clxuICAgICAgICAgICAgLy8gZmFsbHRocm91Z2ggb3Igc2NvcGVJZCwgc28gdGhlIHZub2RlIGhlcmUgbWF5IG5vdCBiZSB0aGUgZmluYWwgdm5vZGVcbiAgICAgICAgICAgIC8vIHRoYXQgaXMgbW91bnRlZC4gSW5zdGVhZCBvZiBjYWNoaW5nIGl0IGRpcmVjdGx5LCB3ZSBzdG9yZSB0aGUgcGVuZGluZ1xuICAgICAgICAgICAgLy8ga2V5IGFuZCBjYWNoZSBgaW5zdGFuY2Uuc3ViVHJlZWAgKHRoZSBub3JtYWxpemVkIHZub2RlKSBpblxuICAgICAgICAgICAgLy8gYmVmb3JlTW91bnQvYmVmb3JlVXBkYXRlIGhvb2tzLlxuICAgICAgICAgICAgcGVuZGluZ0NhY2hlS2V5ID0ga2V5O1xuICAgICAgICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gY29weSBvdmVyIG1vdW50ZWQgc3RhdGVcbiAgICAgICAgICAgICAgICB2bm9kZS5lbCA9IGNhY2hlZFZOb2RlLmVsO1xuICAgICAgICAgICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyByZWN1cnNpdmVseSB1cGRhdGUgdHJhbnNpdGlvbiBob29rcyBvbiBzdWJUcmVlXG4gICAgICAgICAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgdm5vZGUudHJhbnNpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHZub2RlIGJlaW5nIG1vdW50ZWQgYXMgZnJlc2hcbiAgICAgICAgICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyIC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XG4gICAgICAgICAgICAgICAgLy8gbWFrZSB0aGlzIGtleSB0aGUgZnJlc2hlc3RcbiAgICAgICAgICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgICAgIC8vIHBydW5lIG9sZGVzdCBlbnRyeVxuICAgICAgICAgICAgICAgIGlmIChtYXggJiYga2V5cy5zaXplID4gcGFyc2VJbnQobWF4LCAxMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleXMudmFsdWVzKCkubmV4dCgpLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdm9pZCB2bm9kZSBiZWluZyB1bm1vdW50ZWRcbiAgICAgICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi87XG4gICAgICAgICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICAgICAgICByZXR1cm4gaXNTdXNwZW5zZShyYXdWTm9kZS50eXBlKSA/IHJhd1ZOb2RlIDogdm5vZGU7XG4gICAgICAgIH07XG4gICAgfVxufTtcbntcbiAgICBLZWVwQWxpdmVJbXBsLl9faXNCdWlsZEluID0gdHJ1ZTtcbn1cbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcbmNvbnN0IEtlZXBBbGl2ZSA9IEtlZXBBbGl2ZUltcGw7XG5mdW5jdGlvbiBtYXRjaGVzKHBhdHRlcm4sIG5hbWUpIHtcbiAgICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi5zb21lKChwKSA9PiBtYXRjaGVzKHAsIG5hbWUpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoJywnKS5pbmNsdWRlcyhuYW1lKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGF0dGVybi50ZXN0KSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gb25BY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiIC8qIExpZmVjeWNsZUhvb2tzLkFDVElWQVRFRCAqLywgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIG9uRGVhY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gICAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiAvKiBMaWZlY3ljbGVIb29rcy5ERUFDVElWQVRFRCAqLywgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCB0eXBlLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgICAvLyBjYWNoZSB0aGUgZGVhY3RpdmF0ZSBicmFuY2ggY2hlY2sgd3JhcHBlciBmb3IgaW5qZWN0ZWQgaG9va3Mgc28gdGhlIHNhbWVcbiAgICAvLyBob29rIGNhbiBiZSBwcm9wZXJseSBkZWR1cGVkIGJ5IHRoZSBzY2hlZHVsZXIuIFwiX193ZGNcIiBzdGFuZHMgZm9yIFwid2l0aFxuICAgIC8vIGRlYWN0aXZhdGlvbiBjaGVja1wiLlxuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fFxuICAgICAgICAoaG9vay5fX3dkYyA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIG9ubHkgZmlyZSB0aGUgaG9vayBpZiB0aGUgdGFyZ2V0IGluc3RhbmNlIGlzIE5PVCBpbiBhIGRlYWN0aXZhdGVkIGJyYW5jaC5cbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5pc0RlYWN0aXZhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhvb2soKTtcbiAgICAgICAgfSk7XG4gICAgaW5qZWN0SG9vayh0eXBlLCB3cmFwcGVkSG9vaywgdGFyZ2V0KTtcbiAgICAvLyBJbiBhZGRpdGlvbiB0byByZWdpc3RlcmluZyBpdCBvbiB0aGUgdGFyZ2V0IGluc3RhbmNlLCB3ZSB3YWxrIHVwIHRoZSBwYXJlbnRcbiAgICAvLyBjaGFpbiBhbmQgcmVnaXN0ZXIgaXQgb24gYWxsIGFuY2VzdG9yIGluc3RhbmNlcyB0aGF0IGFyZSBrZWVwLWFsaXZlIHJvb3RzLlxuICAgIC8vIFRoaXMgYXZvaWRzIHRoZSBuZWVkIHRvIHdhbGsgdGhlIGVudGlyZSBjb21wb25lbnQgdHJlZSB3aGVuIGludm9raW5nIHRoZXNlXG4gICAgLy8gaG9va3MsIGFuZCBtb3JlIGltcG9ydGFudGx5LCBhdm9pZHMgdGhlIG5lZWQgdG8gdHJhY2sgY2hpbGQgY29tcG9uZW50cyBpblxuICAgIC8vIGFycmF5cy5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChpc0tlZXBBbGl2ZShjdXJyZW50LnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgICAgICAgICBpbmplY3RUb0tlZXBBbGl2ZVJvb3Qod3JhcHBlZEhvb2ssIHR5cGUsIHRhcmdldCwgY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpbmplY3RUb0tlZXBBbGl2ZVJvb3QoaG9vaywgdHlwZSwgdGFyZ2V0LCBrZWVwQWxpdmVSb290KSB7XG4gICAgLy8gaW5qZWN0SG9vayB3cmFwcyB0aGUgb3JpZ2luYWwgZm9yIGVycm9yIGhhbmRsaW5nLCBzbyBtYWtlIHN1cmUgdG8gcmVtb3ZlXG4gICAgLy8gdGhlIHdyYXBwZWQgdmVyc2lvbi5cbiAgICBjb25zdCBpbmplY3RlZCA9IGluamVjdEhvb2sodHlwZSwgaG9vaywga2VlcEFsaXZlUm9vdCwgdHJ1ZSAvKiBwcmVwZW5kICovKTtcbiAgICBvblVubW91bnRlZCgoKSA9PiB7XG4gICAgICAgIHJlbW92ZShrZWVwQWxpdmVSb290W3R5cGVdLCBpbmplY3RlZCk7XG4gICAgfSwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlc2V0U2hhcGVGbGFnKHZub2RlKSB7XG4gICAgLy8gYml0d2lzZSBvcGVyYXRpb25zIHRvIHJlbW92ZSBrZWVwIGFsaXZlIGZsYWdzXG4gICAgdm5vZGUuc2hhcGVGbGFnICY9IH4yNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi87XG4gICAgdm5vZGUuc2hhcGVGbGFnICY9IH41MTIgLyogU2hhcGVGbGFncy5DT01QT05FTlRfS0VQVF9BTElWRSAqLztcbn1cbmZ1bmN0aW9uIGdldElubmVyQ2hpbGQodm5vZGUpIHtcbiAgICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8gPyB2bm9kZS5zc0NvbnRlbnQgOiB2bm9kZTtcbn1cblxuZnVuY3Rpb24gaW5qZWN0SG9vayh0eXBlLCBob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UsIHByZXBlbmQgPSBmYWxzZSkge1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcbiAgICAgICAgLy8gY2FjaGUgdGhlIGVycm9yIGhhbmRsaW5nIHdyYXBwZXIgZm9yIGluamVjdGVkIGhvb2tzIHNvIHRoZSBzYW1lIGhvb2tcbiAgICAgICAgLy8gY2FuIGJlIHByb3Blcmx5IGRlZHVwZWQgYnkgdGhlIHNjaGVkdWxlci4gXCJfX3dlaFwiIHN0YW5kcyBmb3IgXCJ3aXRoIGVycm9yXG4gICAgICAgIC8vIGhhbmRsaW5nXCIuXG4gICAgICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dlaCB8fFxuICAgICAgICAgICAgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIHRyYWNraW5nIGluc2lkZSBhbGwgbGlmZWN5Y2xlIGhvb2tzXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhleSBjYW4gcG90ZW50aWFsbHkgYmUgY2FsbGVkIGluc2lkZSBlZmZlY3RzLlxuICAgICAgICAgICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgY3VycmVudEluc3RhbmNlIGR1cmluZyBob29rIGludm9jYXRpb24uXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBhc3N1bWVzIHRoZSBob29rIGRvZXMgbm90IHN5bmNocm9ub3VzbHkgdHJpZ2dlciBvdGhlciBob29rcywgd2hpY2hcbiAgICAgICAgICAgICAgICAvLyBjYW4gb25seSBiZSBmYWxzZSB3aGVuIHRoZSB1c2VyIGRvZXMgc29tZXRoaW5nIHJlYWxseSBmdW5reS5cbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCB0YXJnZXQsIHR5cGUsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHByZXBlbmQpIHtcbiAgICAgICAgICAgIGhvb2tzLnVuc2hpZnQod3JhcHBlZEhvb2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyYXBwZWRIb29rO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29uc3QgYXBpTmFtZSA9IHRvSGFuZGxlcktleShFcnJvclR5cGVTdHJpbmdzW3R5cGVdLnJlcGxhY2UoLyBob29rJC8sICcnKSk7XG4gICAgICAgIHdhcm4kMShgJHthcGlOYW1lfSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIGAgK1xuICAgICAgICAgICAgYGFzc29jaWF0ZWQgd2l0aC4gYCArXG4gICAgICAgICAgICBgTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgK1xuICAgICAgICAgICAgKGAgSWYgeW91IGFyZSB1c2luZyBhc3luYyBzZXR1cCgpLCBtYWtlIHN1cmUgdG8gcmVnaXN0ZXIgbGlmZWN5Y2xlIGAgK1xuICAgICAgICAgICAgICAgICAgICBgaG9va3MgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdCBzdGF0ZW1lbnQuYFxuICAgICAgICAgICAgICAgICkpO1xuICAgIH1cbn1cbmNvbnN0IGNyZWF0ZUhvb2sgPSAobGlmZWN5Y2xlKSA9PiAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiBcbi8vIHBvc3QtY3JlYXRlIGxpZmVjeWNsZSByZWdpc3RyYXRpb25zIGFyZSBub29wcyBkdXJpbmcgU1NSIChleGNlcHQgZm9yIHNlcnZlclByZWZldGNoKVxuKCFpc0luU1NSQ29tcG9uZW50U2V0dXAgfHwgbGlmZWN5Y2xlID09PSBcInNwXCIgLyogTGlmZWN5Y2xlSG9va3MuU0VSVkVSX1BSRUZFVENIICovKSAmJlxuICAgIGluamVjdEhvb2sobGlmZWN5Y2xlLCAoLi4uYXJncykgPT4gaG9vayguLi5hcmdzKSwgdGFyZ2V0KTtcbmNvbnN0IG9uQmVmb3JlTW91bnQgPSBjcmVhdGVIb29rKFwiYm1cIiAvKiBMaWZlY3ljbGVIb29rcy5CRUZPUkVfTU9VTlQgKi8pO1xuY29uc3Qgb25Nb3VudGVkID0gY3JlYXRlSG9vayhcIm1cIiAvKiBMaWZlY3ljbGVIb29rcy5NT1VOVEVEICovKTtcbmNvbnN0IG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlSG9vayhcImJ1XCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX1VQREFURSAqLyk7XG5jb25zdCBvblVwZGF0ZWQgPSBjcmVhdGVIb29rKFwidVwiIC8qIExpZmVjeWNsZUhvb2tzLlVQREFURUQgKi8pO1xuY29uc3Qgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlSG9vayhcImJ1bVwiIC8qIExpZmVjeWNsZUhvb2tzLkJFRk9SRV9VTk1PVU5UICovKTtcbmNvbnN0IG9uVW5tb3VudGVkID0gY3JlYXRlSG9vayhcInVtXCIgLyogTGlmZWN5Y2xlSG9va3MuVU5NT1VOVEVEICovKTtcbmNvbnN0IG9uU2VydmVyUHJlZmV0Y2ggPSBjcmVhdGVIb29rKFwic3BcIiAvKiBMaWZlY3ljbGVIb29rcy5TRVJWRVJfUFJFRkVUQ0ggKi8pO1xuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFwicnRnXCIgLyogTGlmZWN5Y2xlSG9va3MuUkVOREVSX1RSSUdHRVJFRCAqLyk7XG5jb25zdCBvblJlbmRlclRyYWNrZWQgPSBjcmVhdGVIb29rKFwicnRjXCIgLyogTGlmZWN5Y2xlSG9va3MuUkVOREVSX1RSQUNLRUQgKi8pO1xuZnVuY3Rpb24gb25FcnJvckNhcHR1cmVkKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xuICAgIGluamVjdEhvb2soXCJlY1wiIC8qIExpZmVjeWNsZUhvb2tzLkVSUk9SX0NBUFRVUkVEICovLCBob29rLCB0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wYXRDaGlsZHJlbihpbnN0YW5jZSkge1xuICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9DSElMRFJFTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfQ0hJTERSRU4gKi8sIGluc3RhbmNlKTtcbiAgICBjb25zdCByb290ID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgIGlmIChyb290KSB7XG4gICAgICAgIHdhbGsocm9vdCwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG59XG5mdW5jdGlvbiB3YWxrKHZub2RlLCBjaGlsZHJlbikge1xuICAgIGlmICh2bm9kZS5jb21wb25lbnQpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaCh2bm9kZS5jb21wb25lbnQucHJveHkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgIGNvbnN0IHZub2RlcyA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgd2Fsayh2bm9kZXNbaV0sIGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29tcGF0TGlzdGVuZXJzKGluc3RhbmNlKSB7XG4gICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0xJU1RFTkVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfTElTVEVORVJTICovLCBpbnN0YW5jZSk7XG4gICAgY29uc3QgbGlzdGVuZXJzID0ge307XG4gICAgY29uc3QgcmF3UHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICBpZiAoIXJhd1Byb3BzKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICAgIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyc1trZXlbMl0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgzKV0gPSByYXdQcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0ZW5lcnM7XG59XG5cbmNvbnN0IGxlZ2FjeURpcmVjdGl2ZUhvb2tNYXAgPSB7XG4gICAgYmVmb3JlTW91bnQ6ICdiaW5kJyxcbiAgICBtb3VudGVkOiAnaW5zZXJ0ZWQnLFxuICAgIHVwZGF0ZWQ6IFsndXBkYXRlJywgJ2NvbXBvbmVudFVwZGF0ZWQnXSxcbiAgICB1bm1vdW50ZWQ6ICd1bmJpbmQnXG59O1xuZnVuY3Rpb24gbWFwQ29tcGF0RGlyZWN0aXZlSG9vayhuYW1lLCBkaXIsIGluc3RhbmNlKSB7XG4gICAgY29uc3QgbWFwcGVkTmFtZSA9IGxlZ2FjeURpcmVjdGl2ZUhvb2tNYXBbbmFtZV07XG4gICAgaWYgKG1hcHBlZE5hbWUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkobWFwcGVkTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBbXTtcbiAgICAgICAgICAgIG1hcHBlZE5hbWUuZm9yRWFjaChtYXBwZWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZEhvb2sgPSBkaXJbbWFwcGVkXTtcbiAgICAgICAgICAgICAgICBpZiAobWFwcGVkSG9vaykge1xuICAgICAgICAgICAgICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIkNVU1RPTV9ESVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNVU1RPTV9ESVIgKi8sIGluc3RhbmNlLCBtYXBwZWQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBob29rLnB1c2gobWFwcGVkSG9vayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaG9vay5sZW5ndGggPyBob29rIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRpclttYXBwZWROYW1lXSkge1xuICAgICAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiQ1VTVE9NX0RJUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ1VTVE9NX0RJUiAqLywgaW5zdGFuY2UsIG1hcHBlZE5hbWUsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRpclttYXBwZWROYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG5SdW50aW1lIGhlbHBlciBmb3IgYXBwbHlpbmcgZGlyZWN0aXZlcyB0byBhIHZub2RlLiBFeGFtcGxlIHVzYWdlOlxuXG5jb25zdCBjb21wID0gcmVzb2x2ZUNvbXBvbmVudCgnY29tcCcpXG5jb25zdCBmb28gPSByZXNvbHZlRGlyZWN0aXZlKCdmb28nKVxuY29uc3QgYmFyID0gcmVzb2x2ZURpcmVjdGl2ZSgnYmFyJylcblxucmV0dXJuIHdpdGhEaXJlY3RpdmVzKGgoY29tcCksIFtcbiAgW2ZvbywgdGhpcy54XSxcbiAgW2JhciwgdGhpcy55XVxuXSlcbiovXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xuICAgIGlmIChpc0J1aWx0SW5EaXJlY3RpdmUobmFtZSkpIHtcbiAgICAgICAgd2FybiQxKCdEbyBub3QgdXNlIGJ1aWx0LWluIGRpcmVjdGl2ZSBpZHMgYXMgY3VzdG9tIGRpcmVjdGl2ZSBpZDogJyArIG5hbWUpO1xuICAgIH1cbn1cbi8qKlxuICogQWRkcyBkaXJlY3RpdmVzIHRvIGEgVk5vZGUuXG4gKi9cbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XG4gICAgY29uc3QgaW50ZXJuYWxJbnN0YW5jZSA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xuICAgICAgICByZXR1cm4gdm5vZGU7XG4gICAgfVxuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0RXhwb3NlUHJveHkoaW50ZXJuYWxJbnN0YW5jZSkgfHxcbiAgICAgICAgaW50ZXJuYWxJbnN0YW5jZS5wcm94eTtcbiAgICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcbiAgICAgICAgaWYgKGRpcikge1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyKSkge1xuICAgICAgICAgICAgICAgIGRpciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbW91bnRlZDogZGlyLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkOiBkaXJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpci5kZWVwKSB7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmluZGluZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgZGlyLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgYXJnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgcHJldlZOb2RlLCBpbnN0YW5jZSwgbmFtZSkge1xuICAgIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycztcbiAgICBjb25zdCBvbGRCaW5kaW5ncyA9IHByZXZWTm9kZSAmJiBwcmV2Vk5vZGUuZGlycztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICAgICAgaWYgKG9sZEJpbmRpbmdzKSB7XG4gICAgICAgICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhvb2sgPSBiaW5kaW5nLmRpcltuYW1lXTtcbiAgICAgICAgaWYgKCFob29rKSB7XG4gICAgICAgICAgICBob29rID0gbWFwQ29tcGF0RGlyZWN0aXZlSG9vayhuYW1lLCBiaW5kaW5nLmRpciwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob29rKSB7XG4gICAgICAgICAgICAvLyBkaXNhYmxlIHRyYWNraW5nIGluc2lkZSBhbGwgbGlmZWN5Y2xlIGhvb2tzXG4gICAgICAgICAgICAvLyBzaW5jZSB0aGV5IGNhbiBwb3RlbnRpYWxseSBiZSBjYWxsZWQgaW5zaWRlIGVmZmVjdHMuXG4gICAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgOCAvKiBFcnJvckNvZGVzLkRJUkVDVElWRV9IT09LICovLCBbXG4gICAgICAgICAgICAgICAgdm5vZGUuZWwsXG4gICAgICAgICAgICAgICAgYmluZGluZyxcbiAgICAgICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgICAgICBwcmV2Vk5vZGVcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBDT01QT05FTlRTID0gJ2NvbXBvbmVudHMnO1xuY29uc3QgRElSRUNUSVZFUyA9ICdkaXJlY3RpdmVzJztcbmNvbnN0IEZJTFRFUlMgPSAnZmlsdGVycyc7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnQobmFtZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBuYW1lLCB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UpIHx8IG5hbWU7XG59XG5jb25zdCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UID0gU3ltYm9sKCk7XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgY29tcG9uZW50LCBmYWxzZSkgfHwgY29tcG9uZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gaW52YWxpZCB0eXBlcyB3aWxsIGZhbGx0aHJvdWdoIHRvIGNyZWF0ZVZOb2RlIGFuZCByYWlzZSB3YXJuaW5nXG4gICAgICAgIHJldHVybiAoY29tcG9uZW50IHx8IE5VTExfRFlOQU1JQ19DT01QT05FTlQpO1xuICAgIH1cbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShuYW1lKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcbn1cbi8qKlxuICogdjIgY29tcGF0IG9ubHlcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiByZXNvbHZlRmlsdGVyKG5hbWUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KEZJTFRFUlMsIG5hbWUpO1xufVxuLy8gaW1wbGVtZW50YXRpb25cbmZ1bmN0aW9uIHJlc29sdmVBc3NldCh0eXBlLCBuYW1lLCB3YXJuTWlzc2luZyA9IHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICAgICAgICAvLyBleHBsaWNpdCBzZWxmIG5hbWUgaGFzIGhpZ2hlc3QgcHJpb3JpdHlcbiAgICAgICAgaWYgKHR5cGUgPT09IENPTVBPTkVOVFMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGZOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQsIGZhbHNlIC8qIGRvIG5vdCBpbmNsdWRlIGluZmVycmVkIG5hbWUgdG8gYXZvaWQgYnJlYWtpbmcgZXhpc3RpbmcgY29kZSAqLyk7XG4gICAgICAgICAgICBpZiAoc2VsZk5hbWUgJiZcbiAgICAgICAgICAgICAgICAoc2VsZk5hbWUgPT09IG5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgc2VsZk5hbWUgPT09IGNhbWVsaXplKG5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIHNlbGZOYW1lID09PSBjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcyA9IFxuICAgICAgICAvLyBsb2NhbCByZWdpc3RyYXRpb25cbiAgICAgICAgLy8gY2hlY2sgaW5zdGFuY2VbdHlwZV0gZmlyc3Qgd2hpY2ggaXMgcmVzb2x2ZWQgZm9yIG9wdGlvbnMgQVBJXG4gICAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fFxuICAgICAgICAgICAgLy8gZ2xvYmFsIHJlZ2lzdHJhdGlvblxuICAgICAgICAgICAgcmVzb2x2ZShpbnN0YW5jZS5hcHBDb250ZXh0W3R5cGVdLCBuYW1lKTtcbiAgICAgICAgaWYgKCFyZXMgJiYgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0byBpbXBsaWNpdCBzZWxmLXJlZmVyZW5jZVxuICAgICAgICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4dHJhID0gdHlwZSA9PT0gQ09NUE9ORU5UU1xuICAgICAgICAgICAgICAgID8gYFxcbklmIHRoaXMgaXMgYSBuYXRpdmUgY3VzdG9tIGVsZW1lbnQsIG1ha2Ugc3VyZSB0byBleGNsdWRlIGl0IGZyb20gYCArXG4gICAgICAgICAgICAgICAgICAgIGBjb21wb25lbnQgcmVzb2x1dGlvbiB2aWEgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudC5gXG4gICAgICAgICAgICAgICAgOiBgYDtcbiAgICAgICAgICAgIHdhcm4kMShgRmFpbGVkIHRvIHJlc29sdmUgJHt0eXBlLnNsaWNlKDAsIC0xKX06ICR7bmFtZX0ke2V4dHJhfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuJDEoYHJlc29sdmUke2NhcGl0YWxpemUodHlwZS5zbGljZSgwLCAtMSkpfSBgICtcbiAgICAgICAgICAgIGBjYW4gb25seSBiZSB1c2VkIGluIHJlbmRlcigpIG9yIHNldHVwKCkuYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZShyZWdpc3RyeSwgbmFtZSkge1xuICAgIHJldHVybiAocmVnaXN0cnkgJiZcbiAgICAgICAgKHJlZ2lzdHJ5W25hbWVdIHx8XG4gICAgICAgICAgICByZWdpc3RyeVtjYW1lbGl6ZShuYW1lKV0gfHxcbiAgICAgICAgICAgIHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSkpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5UmVuZGVyRm4oaW5zdGFuY2UpIHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICAgIGNvbnN0IHJlbmRlciA9IENvbXBvbmVudC5yZW5kZXI7XG4gICAgLy8gdjMgcnVudGltZSBjb21waWxlZCwgb3IgYWxyZWFkeSBjaGVja2VkIC8gd3JhcHBlZFxuICAgIGlmICghcmVuZGVyIHx8IHJlbmRlci5fcmMgfHwgcmVuZGVyLl9jb21wYXRDaGVja2VkIHx8IHJlbmRlci5fY29tcGF0V3JhcHBlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZW5kZXIubGVuZ3RoID49IDIpIHtcbiAgICAgICAgLy8gdjMgcHJlLWNvbXBpbGVkIGZ1bmN0aW9uLCBzaW5jZSB2MiByZW5kZXIgZnVuY3Rpb25zIG5ldmVyIG5lZWQgbW9yZSB0aGFuXG4gICAgICAgIC8vIDIgYXJndW1lbnRzLCBhbmQgdjIgZnVuY3Rpb25hbCByZW5kZXIgZnVuY3Rpb25zIHdvdWxkIGhhdmUgYWxyZWFkeSBiZWVuXG4gICAgICAgIC8vIG5vcm1hbGl6ZWQgaW50byB2MyBmdW5jdGlvbmFsIGNvbXBvbmVudHNcbiAgICAgICAgcmVuZGVyLl9jb21wYXRDaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB2MiByZW5kZXIgZnVuY3Rpb24sIHRyeSB0byBwcm92aWRlIGNvbXBhdFxuICAgIGlmIChjaGVja0NvbXBhdEVuYWJsZWQoXCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWQgPSAoQ29tcG9uZW50LnJlbmRlciA9IGZ1bmN0aW9uIGNvbXBhdFJlbmRlcigpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBjb21wYXRIKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgd3JhcHBlZC5fY29tcGF0V3JhcHBlZCA9IHRydWU7XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGF0SCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIHR5cGUgPSBDb21tZW50O1xuICAgIH1cbiAgICAvLyB0byBzdXBwb3J0IHYyIHN0cmluZyBjb21wb25lbnQgbmFtZSBsb29rIXVwXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCB0ID0gaHlwaGVuYXRlKHR5cGUpO1xuICAgICAgICBpZiAodCA9PT0gJ3RyYW5zaXRpb24nIHx8IHQgPT09ICd0cmFuc2l0aW9uLWdyb3VwJyB8fCB0ID09PSAna2VlcC1hbGl2ZScpIHtcbiAgICAgICAgICAgIC8vIHNpbmNlIHRyYW5zaXRpb24gYW5kIHRyYW5zaXRpb24tZ3JvdXAgYXJlIHJ1bnRpbWUtZG9tLXNwZWNpZmljLFxuICAgICAgICAgICAgLy8gd2UgY2Fubm90IGltcG9ydCB0aGVtIGRpcmVjdGx5IGhlcmUuIEluc3RlYWQgdGhleSBhcmUgcmVnaXN0ZXJlZCB1c2luZ1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBrZXlzIGluIEB2dWUvY29tcGF0IGVudHJ5LlxuICAgICAgICAgICAgdHlwZSA9IGBfX2NvbXBhdF9fJHt0fWA7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZSA9IHJlc29sdmVEeW5hbWljQ29tcG9uZW50KHR5cGUpO1xuICAgIH1cbiAgICBjb25zdCBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBjb25zdCBpczJuZEFyZ0FycmF5Q2hpbGRyZW4gPSBpc0FycmF5KHByb3BzT3JDaGlsZHJlbik7XG4gICAgaWYgKGwgPT09IDIgfHwgaXMybmRBcmdBcnJheUNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpczJuZEFyZ0FycmF5Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSB2bm9kZSB3aXRob3V0IHByb3BzXG4gICAgICAgICAgICBpZiAoaXNWTm9kZShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lTbG90cyhjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJvcHMgd2l0aG91dCBjaGlsZHJlblxuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lTbG90cyhjb252ZXJ0TGVnYWN5RGlyZWN0aXZlcyhjcmVhdGVWTm9kZSh0eXBlLCBjb252ZXJ0TGVnYWN5UHJvcHMocHJvcHNPckNoaWxkcmVuLCB0eXBlKSksIHByb3BzT3JDaGlsZHJlbikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gb21pdCBwcm9wc1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lTbG90cyhjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBwcm9wc09yQ2hpbGRyZW4pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGlzVk5vZGUoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lTbG90cyhjb252ZXJ0TGVnYWN5RGlyZWN0aXZlcyhjcmVhdGVWTm9kZSh0eXBlLCBjb252ZXJ0TGVnYWN5UHJvcHMocHJvcHNPckNoaWxkcmVuLCB0eXBlKSwgY2hpbGRyZW4pLCBwcm9wc09yQ2hpbGRyZW4pKTtcbiAgICB9XG59XG5jb25zdCBza2lwTGVnYWN5Um9vdExldmVsUHJvcHMgPSAvKiNfX1BVUkVfXyovIG1ha2VNYXAoJ3N0YXRpY1N0eWxlLHN0YXRpY0NsYXNzLGRpcmVjdGl2ZXMsbW9kZWwsaG9vaycpO1xuZnVuY3Rpb24gY29udmVydExlZ2FjeVByb3BzKGxlZ2FjeVByb3BzLCB0eXBlKSB7XG4gICAgaWYgKCFsZWdhY3lQcm9wcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY29udmVydGVkID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbGVnYWN5UHJvcHMpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2F0dHJzJyB8fCBrZXkgPT09ICdkb21Qcm9wcycgfHwga2V5ID09PSAncHJvcHMnKSB7XG4gICAgICAgICAgICBleHRlbmQoY29udmVydGVkLCBsZWdhY3lQcm9wc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdvbicgfHwga2V5ID09PSAnbmF0aXZlT24nKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBsZWdhY3lQcm9wc1trZXldO1xuICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGFuZGxlcktleSA9IGNvbnZlcnRMZWdhY3lFdmVudEtleShldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25hdGl2ZU9uJylcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcktleSArPSBgTmF0aXZlYDtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IGNvbnZlcnRlZFtoYW5kbGVyS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmNvbWluZyA9IGxpc3RlbmVyc1tldmVudF07XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nICE9PSBpbmNvbWluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZFtoYW5kbGVyS2V5XSA9IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVkW2hhbmRsZXJLZXldID0gaW5jb21pbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXNraXBMZWdhY3lSb290TGV2ZWxQcm9wcyhrZXkpKSB7XG4gICAgICAgICAgICBjb252ZXJ0ZWRba2V5XSA9IGxlZ2FjeVByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxlZ2FjeVByb3BzLnN0YXRpY0NsYXNzKSB7XG4gICAgICAgIGNvbnZlcnRlZC5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtsZWdhY3lQcm9wcy5zdGF0aWNDbGFzcywgY29udmVydGVkLmNsYXNzXSk7XG4gICAgfVxuICAgIGlmIChsZWdhY3lQcm9wcy5zdGF0aWNTdHlsZSkge1xuICAgICAgICBjb252ZXJ0ZWQuc3R5bGUgPSBub3JtYWxpemVTdHlsZShbbGVnYWN5UHJvcHMuc3RhdGljU3R5bGUsIGNvbnZlcnRlZC5zdHlsZV0pO1xuICAgIH1cbiAgICBpZiAobGVnYWN5UHJvcHMubW9kZWwgJiYgaXNPYmplY3QodHlwZSkpIHtcbiAgICAgICAgLy8gdjIgY29tcGlsZWQgY29tcG9uZW50IHYtbW9kZWxcbiAgICAgICAgY29uc3QgeyBwcm9wID0gJ3ZhbHVlJywgZXZlbnQgPSAnaW5wdXQnIH0gPSB0eXBlLm1vZGVsIHx8IHt9O1xuICAgICAgICBjb252ZXJ0ZWRbcHJvcF0gPSBsZWdhY3lQcm9wcy5tb2RlbC52YWx1ZTtcbiAgICAgICAgY29udmVydGVkW2NvbXBhdE1vZGVsRXZlbnRQcmVmaXggKyBldmVudF0gPSBsZWdhY3lQcm9wcy5tb2RlbC5jYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIGNvbnZlcnRlZDtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRMZWdhY3lFdmVudEtleShldmVudCkge1xuICAgIC8vIG5vcm1hbGl6ZSB2MiBldmVudCBwcmVmaXhlc1xuICAgIGlmIChldmVudFswXSA9PT0gJyYnKSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQuc2xpY2UoMSkgKyAnUGFzc2l2ZSc7XG4gICAgfVxuICAgIGlmIChldmVudFswXSA9PT0gJ34nKSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQuc2xpY2UoMSkgKyAnT25jZSc7XG4gICAgfVxuICAgIGlmIChldmVudFswXSA9PT0gJyEnKSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQuc2xpY2UoMSkgKyAnQ2FwdHVyZSc7XG4gICAgfVxuICAgIHJldHVybiB0b0hhbmRsZXJLZXkoZXZlbnQpO1xufVxuZnVuY3Rpb24gY29udmVydExlZ2FjeURpcmVjdGl2ZXModm5vZGUsIHByb3BzKSB7XG4gICAgaWYgKHByb3BzICYmIHByb3BzLmRpcmVjdGl2ZXMpIHtcbiAgICAgICAgcmV0dXJuIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBwcm9wcy5kaXJlY3RpdmVzLm1hcCgoeyBuYW1lLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICByZXNvbHZlRGlyZWN0aXZlKG5hbWUpLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIGFyZyxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnNcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY29udmVydExlZ2FjeVNsb3RzKHZub2RlKSB7XG4gICAgY29uc3QgeyBwcm9wcywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICAgIGxldCBzbG90cztcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLyAmJiBpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICBzbG90cyA9IHt9O1xuICAgICAgICAvLyBjaGVjayBcInNsb3RcIiBwcm9wZXJ0eSBvbiB2bm9kZXMgYW5kIHR1cm4gdGhlbSBpbnRvIHYzIGZ1bmN0aW9uIHNsb3RzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICBjb25zdCBzbG90TmFtZSA9IChpc1ZOb2RlKGNoaWxkKSAmJiBjaGlsZC5wcm9wcyAmJiBjaGlsZC5wcm9wcy5zbG90KSB8fCAnZGVmYXVsdCc7XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gc2xvdHNbc2xvdE5hbWVdIHx8IChzbG90c1tzbG90TmFtZV0gPSBbXSk7XG4gICAgICAgICAgICBpZiAoaXNWTm9kZShjaGlsZCkgJiYgY2hpbGQudHlwZSA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAgICAgICAgIHNsb3QucHVzaChjaGlsZC5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzbG90LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzbG90cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG90Q2hpbGRyZW4gPSBzbG90c1trZXldO1xuICAgICAgICAgICAgICAgIHNsb3RzW2tleV0gPSAoKSA9PiBzbG90Q2hpbGRyZW47XG4gICAgICAgICAgICAgICAgc2xvdHNba2V5XS5fbnMgPSB0cnVlOyAvKiBub24tc2NvcGVkIHNsb3QgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzY29wZWRTbG90cyA9IHByb3BzICYmIHByb3BzLnNjb3BlZFNsb3RzO1xuICAgIGlmIChzY29wZWRTbG90cykge1xuICAgICAgICBkZWxldGUgcHJvcHMuc2NvcGVkU2xvdHM7XG4gICAgICAgIGlmIChzbG90cykge1xuICAgICAgICAgICAgZXh0ZW5kKHNsb3RzLCBzY29wZWRTbG90cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzbG90cyA9IHNjb3BlZFNsb3RzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzbG90cykge1xuICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgc2xvdHMpO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBkZWZpbmVMZWdhY3lWTm9kZVByb3BlcnRpZXModm5vZGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi8sIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgdHJ1ZSAvKiBlbmFibGUgZm9yIGJ1aWx0LWlucyAqLykgJiZcbiAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiUFJJVkFURV9BUElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUklWQVRFX0FQSVMgKi8sIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgdHJ1ZSAvKiBlbmFibGUgZm9yIGJ1aWx0LWlucyAqLykpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICAgICAgY29uc3QgZ2V0SW5zdGFuY2UgPSAoKSA9PiB2bm9kZS5jb21wb25lbnQgJiYgdm5vZGUuY29tcG9uZW50LnByb3h5O1xuICAgICAgICBsZXQgY29tcG9uZW50T3B0aW9ucztcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModm5vZGUsIHtcbiAgICAgICAgICAgIHRhZzogeyBnZXQ6ICgpID0+IHZub2RlLnR5cGUgfSxcbiAgICAgICAgICAgIGRhdGE6IHsgZ2V0OiAoKSA9PiB2bm9kZS5wcm9wcyB8fCB7fSwgc2V0OiBwID0+ICh2bm9kZS5wcm9wcyA9IHApIH0sXG4gICAgICAgICAgICBlbG06IHsgZ2V0OiAoKSA9PiB2bm9kZS5lbCB9LFxuICAgICAgICAgICAgY29tcG9uZW50SW5zdGFuY2U6IHsgZ2V0OiBnZXRJbnN0YW5jZSB9LFxuICAgICAgICAgICAgY2hpbGQ6IHsgZ2V0OiBnZXRJbnN0YW5jZSB9LFxuICAgICAgICAgICAgdGV4dDogeyBnZXQ6ICgpID0+IChpc1N0cmluZyh2bm9kZS5jaGlsZHJlbikgPyB2bm9kZS5jaGlsZHJlbiA6IG51bGwpIH0sXG4gICAgICAgICAgICBjb250ZXh0OiB7IGdldDogKCkgPT4gY29udGV4dCAmJiBjb250ZXh0LnByb3h5IH0sXG4gICAgICAgICAgICBjb21wb25lbnRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA0IC8qIFNoYXBlRmxhZ3MuU1RBVEVGVUxfQ09NUE9ORU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50T3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRPcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChjb21wb25lbnRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN0b3I6IHZub2RlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNEYXRhOiB2bm9kZS5wcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogdm5vZGUuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNvbnN0IG5vcm1hbGl6ZWRGdW5jdGlvbmFsQ29tcG9uZW50TWFwID0gbmV3IE1hcCgpO1xuY29uc3QgbGVnYWN5U2xvdFByb3h5SGFuZGxlcnMgPSB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgcmV0dXJuIHNsb3QgJiYgc2xvdCgpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5RnVuY3Rpb25hbENvbXBvbmVudChjb21wKSB7XG4gICAgaWYgKG5vcm1hbGl6ZWRGdW5jdGlvbmFsQ29tcG9uZW50TWFwLmhhcyhjb21wKSkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEZ1bmN0aW9uYWxDb21wb25lbnRNYXAuZ2V0KGNvbXApO1xuICAgIH1cbiAgICBjb25zdCBsZWdhY3lGbiA9IGNvbXAucmVuZGVyO1xuICAgIGNvbnN0IEZ1bmMgPSAocHJvcHMsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBjb25zdCBsZWdhY3lDdHggPSB7XG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBpbnN0YW5jZS52bm9kZS5jaGlsZHJlbiB8fCBbXSxcbiAgICAgICAgICAgIGRhdGE6IGluc3RhbmNlLnZub2RlLnByb3BzIHx8IHt9LFxuICAgICAgICAgICAgc2NvcGVkU2xvdHM6IGN0eC5zbG90cyxcbiAgICAgICAgICAgIHBhcmVudDogaW5zdGFuY2UucGFyZW50ICYmIGluc3RhbmNlLnBhcmVudC5wcm94eSxcbiAgICAgICAgICAgIHNsb3RzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkoY3R4LnNsb3RzLCBsZWdhY3lTbG90UHJveHlIYW5kbGVycyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGxpc3RlbmVycygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcGF0TGlzdGVuZXJzKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaW5qZWN0aW9ucygpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcC5pbmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5qZWN0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlSW5qZWN0aW9ucyhjb21wLmluamVjdCwgaW5qZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3Rpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBsZWdhY3lGbihjb21wYXRILCBsZWdhY3lDdHgpO1xuICAgIH07XG4gICAgRnVuYy5wcm9wcyA9IGNvbXAucHJvcHM7XG4gICAgRnVuYy5kaXNwbGF5TmFtZSA9IGNvbXAubmFtZTtcbiAgICBGdW5jLmNvbXBhdENvbmZpZyA9IGNvbXAuY29tcGF0Q29uZmlnO1xuICAgIC8vIHYyIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBkbyBub3QgaW5oZXJpdCBhdHRyc1xuICAgIEZ1bmMuaW5oZXJpdEF0dHJzID0gZmFsc2U7XG4gICAgbm9ybWFsaXplZEZ1bmN0aW9uYWxDb21wb25lbnRNYXAuc2V0KGNvbXAsIEZ1bmMpO1xuICAgIHJldHVybiBGdW5jO1xufVxuXG4vKipcbiAqIEFjdHVhbCBpbXBsZW1lbnRhdGlvblxuICovXG5mdW5jdGlvbiByZW5kZXJMaXN0KHNvdXJjZSwgcmVuZGVySXRlbSwgY2FjaGUsIGluZGV4KSB7XG4gICAgbGV0IHJldDtcbiAgICBjb25zdCBjYWNoZWQgPSAoY2FjaGUgJiYgY2FjaGVbaW5kZXhdKTtcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHNvdXJjZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2ldLCBpLCB1bmRlZmluZWQsIGNhY2hlZCAmJiBjYWNoZWRbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xuICAgICAgICAgICAgd2FybiQxKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlOyBpKyspIHtcbiAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oaSArIDEsIGksIHVuZGVmaW5lZCwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgICBpZiAoc291cmNlW1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgICAgICAgIHJldCA9IEFycmF5LmZyb20oc291cmNlLCAoaXRlbSwgaSkgPT4gcmVuZGVySXRlbShpdGVtLCBpLCB1bmRlZmluZWQsIGNhY2hlZCAmJiBjYWNoZWRbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICAgICAgcmV0ID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2tleV0sIGtleSwgaSwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldCA9IFtdO1xuICAgIH1cbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgY2FjaGVbaW5kZXhdID0gcmV0O1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuXG4vKipcbiAqIENvbXBpbGVyIHJ1bnRpbWUgaGVscGVyIGZvciBjcmVhdGluZyBkeW5hbWljIHNsb3RzIG9iamVjdFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2xvdHMoc2xvdHMsIGR5bmFtaWNTbG90cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XG4gICAgICAgIC8vIGFycmF5IG9mIGR5bmFtaWMgc2xvdCBnZW5lcmF0ZWQgYnkgPHRlbXBsYXRlIHYtZm9yPVwiLi4uXCIgI1suLi5dPlxuICAgICAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgc2xvdHNbc2xvdFtqXS5uYW1lXSA9IHNsb3Rbal0uZm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2xvdCkge1xuICAgICAgICAgICAgLy8gY29uZGl0aW9uYWwgc2luZ2xlIHNsb3QgZ2VuZXJhdGVkIGJ5IDx0ZW1wbGF0ZSB2LWlmPVwiLi4uXCIgI2Zvbz5cbiAgICAgICAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmtleVxuICAgICAgICAgICAgICAgID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gc2xvdC5mbiguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0YWNoIGJyYW5jaCBrZXkgc28gZWFjaCBjb25kaXRpb25hbCBicmFuY2ggaXMgY29uc2lkZXJlZCBhXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBmcmFnbWVudFxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmtleSA9IHNsb3Qua2V5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHNsb3QuZm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNsb3RzO1xufVxuXG4vKipcbiAqIENvbXBpbGVyIHJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgYDxzbG90Lz5gXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZW5kZXJTbG90KHNsb3RzLCBuYW1lLCBwcm9wcyA9IHt9LCBcbi8vIHRoaXMgaXMgbm90IGEgdXNlci1mYWNpbmcgZnVuY3Rpb24sIHNvIHRoZSBmYWxsYmFjayBpcyBhbHdheXMgZ2VuZXJhdGVkIGJ5XG4vLyB0aGUgY29tcGlsZXIgYW5kIGd1YXJhbnRlZWQgdG8gYmUgYSBmdW5jdGlvbiByZXR1cm5pbmcgYW4gYXJyYXlcbmZhbGxiYWNrLCBub1Nsb3R0ZWQpIHtcbiAgICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLmlzQ0UgfHxcbiAgICAgICAgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQgJiZcbiAgICAgICAgICAgIGlzQXN5bmNXcmFwcGVyKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQpICYmXG4gICAgICAgICAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UucGFyZW50LmlzQ0UpKSB7XG4gICAgICAgIGlmIChuYW1lICE9PSAnZGVmYXVsdCcpXG4gICAgICAgICAgICBwcm9wcy5uYW1lID0gbmFtZTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKCdzbG90JywgcHJvcHMsIGZhbGxiYWNrICYmIGZhbGxiYWNrKCkpO1xuICAgIH1cbiAgICBsZXQgc2xvdCA9IHNsb3RzW25hbWVdO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgd2FybiQxKGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgYCArXG4gICAgICAgICAgICBgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgYCArXG4gICAgICAgICAgICBgcGFyZW50IHRlbXBsYXRlLmApO1xuICAgICAgICBzbG90ID0gKCkgPT4gW107XG4gICAgfVxuICAgIC8vIGEgY29tcGlsZWQgc2xvdCBkaXNhYmxlcyBibG9jayB0cmFja2luZyBieSBkZWZhdWx0IHRvIGF2b2lkIG1hbnVhbFxuICAgIC8vIGludm9jYXRpb24gaW50ZXJmZXJpbmcgd2l0aCB0ZW1wbGF0ZS1iYXNlZCBibG9jayB0cmFja2luZywgYnV0IGluXG4gICAgLy8gYHJlbmRlclNsb3RgIHdlIGNhbiBiZSBzdXJlIHRoYXQgaXQncyB0ZW1wbGF0ZS1iYXNlZCBzbyB3ZSBjYW4gZm9yY2VcbiAgICAvLyBlbmFibGUgaXQuXG4gICAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xuICAgICAgICBzbG90Ll9kID0gZmFsc2U7XG4gICAgfVxuICAgIG9wZW5CbG9jaygpO1xuICAgIGNvbnN0IHZhbGlkU2xvdENvbnRlbnQgPSBzbG90ICYmIGVuc3VyZVZhbGlkVk5vZGUoc2xvdChwcm9wcykpO1xuICAgIGNvbnN0IHJlbmRlcmVkID0gY3JlYXRlQmxvY2soRnJhZ21lbnQsIHtcbiAgICAgICAga2V5OiBwcm9wcy5rZXkgfHxcbiAgICAgICAgICAgIC8vIHNsb3QgY29udGVudCBhcnJheSBvZiBhIGR5bmFtaWMgY29uZGl0aW9uYWwgc2xvdCBtYXkgaGF2ZSBhIGJyYW5jaFxuICAgICAgICAgICAgLy8ga2V5IGF0dGFjaGVkIGluIHRoZSBgY3JlYXRlU2xvdHNgIGhlbHBlciwgcmVzcGVjdCB0aGF0XG4gICAgICAgICAgICAodmFsaWRTbG90Q29udGVudCAmJiB2YWxpZFNsb3RDb250ZW50LmtleSkgfHxcbiAgICAgICAgICAgIGBfJHtuYW1lfWBcbiAgICB9LCB2YWxpZFNsb3RDb250ZW50IHx8IChmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBbXSksIHZhbGlkU2xvdENvbnRlbnQgJiYgc2xvdHMuXyA9PT0gMSAvKiBTbG90RmxhZ3MuU1RBQkxFICovXG4gICAgICAgID8gNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi9cbiAgICAgICAgOiAtMiAvKiBQYXRjaEZsYWdzLkJBSUwgKi8pO1xuICAgIGlmICghbm9TbG90dGVkICYmIHJlbmRlcmVkLnNjb3BlSWQpIHtcbiAgICAgICAgcmVuZGVyZWQuc2xvdFNjb3BlSWRzID0gW3JlbmRlcmVkLnNjb3BlSWQgKyAnLXMnXTtcbiAgICB9XG4gICAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xuICAgICAgICBzbG90Ll9kID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVkO1xufVxuZnVuY3Rpb24gZW5zdXJlVmFsaWRWTm9kZSh2bm9kZXMpIHtcbiAgICByZXR1cm4gdm5vZGVzLnNvbWUoY2hpbGQgPT4ge1xuICAgICAgICBpZiAoIWlzVk5vZGUoY2hpbGQpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBDb21tZW50KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQgJiZcbiAgICAgICAgICAgICFlbnN1cmVWYWxpZFZOb2RlKGNoaWxkLmNoaWxkcmVuKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSlcbiAgICAgICAgPyB2bm9kZXNcbiAgICAgICAgOiBudWxsO1xufVxuXG4vKipcbiAqIEZvciBwcmVmaXhpbmcga2V5cyBpbiB2LW9uPVwib2JqXCIgd2l0aCBcIm9uXCJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqLCBwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSkge1xuICAgIGNvbnN0IHJldCA9IHt9O1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgd2FybiQxKGB2LW9uIHdpdGggbm8gYXJndW1lbnQgZXhwZWN0cyBhbiBvYmplY3QgdmFsdWUuYCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICByZXRbcHJlc2VydmVDYXNlSWZOZWNlc3NhcnkgJiYgL1tBLVpdLy50ZXN0KGtleSlcbiAgICAgICAgICAgID8gYG9uOiR7a2V5fWBcbiAgICAgICAgICAgIDogdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KGFycikge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJbaV0pIHtcbiAgICAgICAgICAgIGV4dGVuZChyZXMsIGFycltpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGxlZ2FjeUJpbmRPYmplY3RQcm9wcyhkYXRhLCBfdGFnLCB2YWx1ZSwgX2FzUHJvcCwgaXNTeW5jKSB7XG4gICAgaWYgKHZhbHVlICYmIGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdG9PYmplY3QodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmNsYXNzID0gbm9ybWFsaXplQ2xhc3MoW2RhdGEuY2xhc3MsIHZhbHVlLmNsYXNzXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnN0eWxlID0gbm9ybWFsaXplQ2xhc3MoW2RhdGEuc3R5bGUsIHZhbHVlLnN0eWxlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRycyA9IGRhdGEuYXR0cnMgfHwgKGRhdGEuYXR0cnMgPSB7fSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBoeXBoZW5hdGVkS2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCEoY2FtZWxpemVkS2V5IGluIGF0dHJzKSAmJiAhKGh5cGhlbmF0ZWRLZXkgaW4gYXR0cnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbiA9IGRhdGEub24gfHwgKGRhdGEub24gPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbltgdXBkYXRlOiR7a2V5fWBdID0gZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tleV0gPSAkZXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gbGVnYWN5QmluZE9iamVjdExpc3RlbmVycyhwcm9wcywgbGlzdGVuZXJzKSB7XG4gICAgcmV0dXJuIG1lcmdlUHJvcHMocHJvcHMsIHRvSGFuZGxlcnMobGlzdGVuZXJzKSk7XG59XG5mdW5jdGlvbiBsZWdhY3lSZW5kZXJTbG90KGluc3RhbmNlLCBuYW1lLCBmYWxsYmFjaywgcHJvcHMsIGJpbmRPYmplY3QpIHtcbiAgICBpZiAoYmluZE9iamVjdCkge1xuICAgICAgICBwcm9wcyA9IG1lcmdlUHJvcHMocHJvcHMsIGJpbmRPYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyU2xvdChpbnN0YW5jZS5zbG90cywgbmFtZSwgcHJvcHMsIGZhbGxiYWNrICYmICgoKSA9PiBmYWxsYmFjaykpO1xufVxuZnVuY3Rpb24gbGVnYWN5cmVzb2x2ZVNjb3BlZFNsb3RzKGZucywgcmF3LCBcbi8vIHRoZSBmb2xsb3dpbmcgYXJlIGFkZGVkIGluIDIuNlxuaGFzRHluYW1pY0tleXMpIHtcbiAgICAvLyB2MiBkZWZhdWx0IHNsb3QgZG9lc24ndCBoYXZlIG5hbWVcbiAgICByZXR1cm4gY3JlYXRlU2xvdHMocmF3IHx8IHsgJHN0YWJsZTogIWhhc0R5bmFtaWNLZXlzIH0sIG1hcEtleVRvTmFtZShmbnMpKTtcbn1cbmZ1bmN0aW9uIG1hcEtleVRvTmFtZShzbG90cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xvdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZm4gPSBzbG90c1tpXTtcbiAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShmbikpIHtcbiAgICAgICAgICAgICAgICBtYXBLZXlUb05hbWUoZm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm4ubmFtZSA9IGZuLmtleSB8fCAnZGVmYXVsdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNsb3RzO1xufVxuY29uc3Qgc3RhdGljQ2FjaGVNYXAgPSAvKiNfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBsZWdhY3lSZW5kZXJTdGF0aWMoaW5zdGFuY2UsIGluZGV4KSB7XG4gICAgbGV0IGNhY2hlID0gc3RhdGljQ2FjaGVNYXAuZ2V0KGluc3RhbmNlKTtcbiAgICBpZiAoIWNhY2hlKSB7XG4gICAgICAgIHN0YXRpY0NhY2hlTWFwLnNldChpbnN0YW5jZSwgKGNhY2hlID0gW10pKTtcbiAgICB9XG4gICAgaWYgKGNhY2hlW2luZGV4XSkge1xuICAgICAgICByZXR1cm4gY2FjaGVbaW5kZXhdO1xuICAgIH1cbiAgICBjb25zdCBmbiA9IGluc3RhbmNlLnR5cGUuc3RhdGljUmVuZGVyRm5zW2luZGV4XTtcbiAgICBjb25zdCBjdHggPSBpbnN0YW5jZS5wcm94eTtcbiAgICByZXR1cm4gKGNhY2hlW2luZGV4XSA9IGZuLmNhbGwoY3R4LCBudWxsLCBjdHgpKTtcbn1cbmZ1bmN0aW9uIGxlZ2FjeUNoZWNrS2V5Q29kZXMoaW5zdGFuY2UsIGV2ZW50S2V5Q29kZSwga2V5LCBidWlsdEluS2V5Q29kZSwgZXZlbnRLZXlOYW1lLCBidWlsdEluS2V5TmFtZSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnO1xuICAgIGNvbnN0IGNvbmZpZ0tleUNvZGVzID0gY29uZmlnLmtleUNvZGVzIHx8IHt9O1xuICAgIGNvbnN0IG1hcHBlZEtleUNvZGUgPSBjb25maWdLZXlDb2Rlc1trZXldIHx8IGJ1aWx0SW5LZXlDb2RlO1xuICAgIGlmIChidWlsdEluS2V5TmFtZSAmJiBldmVudEtleU5hbWUgJiYgIWNvbmZpZ0tleUNvZGVzW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2goYnVpbHRJbktleU5hbWUsIGV2ZW50S2V5TmFtZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1hcHBlZEtleUNvZGUpIHtcbiAgICAgICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2gobWFwcGVkS2V5Q29kZSwgZXZlbnRLZXlDb2RlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnRLZXlOYW1lKSB7XG4gICAgICAgIHJldHVybiBoeXBoZW5hdGUoZXZlbnRLZXlOYW1lKSAhPT0ga2V5O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzS2V5Tm90TWF0Y2goZXhwZWN0LCBhY3R1YWwpIHtcbiAgICBpZiAoaXNBcnJheShleHBlY3QpKSB7XG4gICAgICAgIHJldHVybiAhZXhwZWN0LmluY2x1ZGVzKGFjdHVhbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZXhwZWN0ICE9PSBhY3R1YWw7XG4gICAgfVxufVxuZnVuY3Rpb24gbGVnYWN5TWFya09uY2UodHJlZSkge1xuICAgIHJldHVybiB0cmVlO1xufVxuZnVuY3Rpb24gbGVnYWN5QmluZER5bmFtaWNLZXlzKHByb3BzLCB2YWx1ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBrZXkgPSB2YWx1ZXNbaV07XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkpIHtcbiAgICAgICAgICAgIHByb3BzW3ZhbHVlc1tpXV0gPSB2YWx1ZXNbaSArIDFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIGxlZ2FjeVByZXBlbmRNb2RpZmllcih2YWx1ZSwgc3ltYm9sKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBzeW1ib2wgKyB2YWx1ZSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBpbnN0YWxsQ29tcGF0SW5zdGFuY2VQcm9wZXJ0aWVzKG1hcCkge1xuICAgIGNvbnN0IHNldCA9ICh0YXJnZXQsIGtleSwgdmFsKSA9PiB7XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsO1xuICAgIH07XG4gICAgY29uc3QgZGVsID0gKHRhcmdldCwga2V5KSA9PiB7XG4gICAgICAgIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgICB9O1xuICAgIGV4dGVuZChtYXAsIHtcbiAgICAgICAgJHNldDogaSA9PiB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfU0VUXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9TRVQgKi8sIGkpO1xuICAgICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgfSxcbiAgICAgICAgJGRlbGV0ZTogaSA9PiB7XG4gICAgICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfREVMRVRFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9ERUxFVEUgKi8sIGkpO1xuICAgICAgICAgICAgcmV0dXJuIGRlbDtcbiAgICAgICAgfSxcbiAgICAgICAgJG1vdW50OiBpID0+IHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJHTE9CQUxfTU9VTlRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9NT1VOVCAqLywgbnVsbCAvKiB0aGlzIHdhcm5pbmcgaXMgZ2xvYmFsICovKTtcbiAgICAgICAgICAgIC8vIHJvb3QgbW91bnQgb3ZlcnJpZGUgZnJvbSAuL2dsb2JhbC50cyBpbiBpbnN0YWxsQ29tcGF0TW91bnRcbiAgICAgICAgICAgIHJldHVybiBpLmN0eC5fY29tcGF0X21vdW50IHx8IE5PT1A7XG4gICAgICAgIH0sXG4gICAgICAgICRkZXN0cm95OiBpID0+IHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9ERVNUUk9ZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9ERVNUUk9ZICovLCBpKTtcbiAgICAgICAgICAgIC8vIHJvb3QgZGVzdHJveSBvdmVycmlkZSBmcm9tIC4vZ2xvYmFsLnRzIGluIGluc3RhbGxDb21wYXRNb3VudFxuICAgICAgICAgICAgcmV0dXJuIGkuY3R4Ll9jb21wYXRfZGVzdHJveSB8fCBOT09QO1xuICAgICAgICB9LFxuICAgICAgICAvLyBvdmVycmlkZXMgZXhpc3RpbmcgYWNjZXNzb3JcbiAgICAgICAgJHNsb3RzOiBpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJSRU5ERVJfRlVOQ1RJT05cIiAvKiBEZXByZWNhdGlvblR5cGVzLlJFTkRFUl9GVU5DVElPTiAqLywgaSkgJiZcbiAgICAgICAgICAgICAgICBpLnJlbmRlciAmJlxuICAgICAgICAgICAgICAgIGkucmVuZGVyLl9jb21wYXRXcmFwcGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShpLnNsb3RzLCBsZWdhY3lTbG90UHJveHlIYW5kbGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuc2xvdHMpIDogaS5zbG90cztcbiAgICAgICAgfSxcbiAgICAgICAgJHNjb3BlZFNsb3RzOiBpID0+IHtcbiAgICAgICAgICAgIGFzc2VydENvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9TQ09QRURfU0xPVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX1NDT1BFRF9TTE9UUyAqLywgaSk7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGkuc2xvdHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmbiA9IGkuc2xvdHNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoIWZuLl9ucyAvKiBub24tc2NvcGVkIHNsb3QgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzW2tleV0gPSBmbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LFxuICAgICAgICAkb246IGkgPT4gb24uYmluZChudWxsLCBpKSxcbiAgICAgICAgJG9uY2U6IGkgPT4gb25jZS5iaW5kKG51bGwsIGkpLFxuICAgICAgICAkb2ZmOiBpID0+IG9mZi5iaW5kKG51bGwsIGkpLFxuICAgICAgICAkY2hpbGRyZW46IGdldENvbXBhdENoaWxkcmVuLFxuICAgICAgICAkbGlzdGVuZXJzOiBnZXRDb21wYXRMaXN0ZW5lcnNcbiAgICB9KTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiUFJJVkFURV9BUElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUklWQVRFX0FQSVMgKi8sIG51bGwpKSB7XG4gICAgICAgIGV4dGVuZChtYXAsIHtcbiAgICAgICAgICAgIC8vIG5lZWRlZCBieSBtYW55IGxpYnMgLyByZW5kZXIgZm5zXG4gICAgICAgICAgICAkdm5vZGU6IGkgPT4gaS52bm9kZSxcbiAgICAgICAgICAgIC8vIGluamVjdCBhZGRpdGlvbmFsIHByb3BlcnRpZXMgaW50byAkb3B0aW9ucyBmb3IgY29tcGF0XG4gICAgICAgICAgICAvLyBlLmcuIHZ1ZXggbmVlZHMgdGhpcy4kb3B0aW9ucy5wYXJlbnRcbiAgICAgICAgICAgICRvcHRpb25zOiBpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBleHRlbmQoe30sIHJlc29sdmVNZXJnZWRPcHRpb25zKGkpKTtcbiAgICAgICAgICAgICAgICByZXMucGFyZW50ID0gaS5wcm94eS4kcGFyZW50O1xuICAgICAgICAgICAgICAgIHJlcy5wcm9wc0RhdGEgPSBpLnZub2RlLnByb3BzO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gc29tZSBwcml2YXRlIHByb3BlcnRpZXMgdGhhdCBhcmUgbGlrZWx5IGFjY2Vzc2VkLi4uXG4gICAgICAgICAgICBfc2VsZjogaSA9PiBpLnByb3h5LFxuICAgICAgICAgICAgX3VpZDogaSA9PiBpLnVpZCxcbiAgICAgICAgICAgIF9kYXRhOiBpID0+IGkuZGF0YSxcbiAgICAgICAgICAgIF9pc01vdW50ZWQ6IGkgPT4gaS5pc01vdW50ZWQsXG4gICAgICAgICAgICBfaXNEZXN0cm95ZWQ6IGkgPT4gaS5pc1VubW91bnRlZCxcbiAgICAgICAgICAgIC8vIHYyIHJlbmRlciBoZWxwZXJzXG4gICAgICAgICAgICAkY3JlYXRlRWxlbWVudDogKCkgPT4gY29tcGF0SCxcbiAgICAgICAgICAgIF9jOiAoKSA9PiBjb21wYXRILFxuICAgICAgICAgICAgX286ICgpID0+IGxlZ2FjeU1hcmtPbmNlLFxuICAgICAgICAgICAgX246ICgpID0+IHRvTnVtYmVyLFxuICAgICAgICAgICAgX3M6ICgpID0+IHRvRGlzcGxheVN0cmluZyxcbiAgICAgICAgICAgIF9sOiAoKSA9PiByZW5kZXJMaXN0LFxuICAgICAgICAgICAgX3Q6IGkgPT4gbGVnYWN5UmVuZGVyU2xvdC5iaW5kKG51bGwsIGkpLFxuICAgICAgICAgICAgX3E6ICgpID0+IGxvb3NlRXF1YWwsXG4gICAgICAgICAgICBfaTogKCkgPT4gbG9vc2VJbmRleE9mLFxuICAgICAgICAgICAgX206IGkgPT4gbGVnYWN5UmVuZGVyU3RhdGljLmJpbmQobnVsbCwgaSksXG4gICAgICAgICAgICBfZjogKCkgPT4gcmVzb2x2ZUZpbHRlcixcbiAgICAgICAgICAgIF9rOiBpID0+IGxlZ2FjeUNoZWNrS2V5Q29kZXMuYmluZChudWxsLCBpKSxcbiAgICAgICAgICAgIF9iOiAoKSA9PiBsZWdhY3lCaW5kT2JqZWN0UHJvcHMsXG4gICAgICAgICAgICBfdjogKCkgPT4gY3JlYXRlVGV4dFZOb2RlLFxuICAgICAgICAgICAgX2U6ICgpID0+IGNyZWF0ZUNvbW1lbnRWTm9kZSxcbiAgICAgICAgICAgIF91OiAoKSA9PiBsZWdhY3lyZXNvbHZlU2NvcGVkU2xvdHMsXG4gICAgICAgICAgICBfZzogKCkgPT4gbGVnYWN5QmluZE9iamVjdExpc3RlbmVycyxcbiAgICAgICAgICAgIF9kOiAoKSA9PiBsZWdhY3lCaW5kRHluYW1pY0tleXMsXG4gICAgICAgICAgICBfcDogKCkgPT4gbGVnYWN5UHJlcGVuZE1vZGlmaWVyXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLyoqXG4gKiAjMjQzNyBJbiBWdWUgMywgZnVuY3Rpb25hbCBjb21wb25lbnRzIGRvIG5vdCBoYXZlIGEgcHVibGljIGluc3RhbmNlIHByb3h5IGJ1dFxuICogdGhleSBleGlzdCBpbiB0aGUgaW50ZXJuYWwgcGFyZW50IGNoYWluLiBGb3IgY29kZSB0aGF0IHJlbGllcyBvbiB0cmF2ZXJzaW5nXG4gKiBwdWJsaWMgJHBhcmVudCBjaGFpbnMsIHNraXAgZnVuY3Rpb25hbCBvbmVzIGFuZCBnbyB0byB0aGUgcGFyZW50IGluc3RlYWQuXG4gKi9cbmNvbnN0IGdldFB1YmxpY0luc3RhbmNlID0gKGkpID0+IHtcbiAgICBpZiAoIWkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KGkpKVxuICAgICAgICByZXR1cm4gZ2V0RXhwb3NlUHJveHkoaSkgfHwgaS5wcm94eTtcbiAgICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xufTtcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSBcbi8vIE1vdmUgUFVSRSBtYXJrZXIgdG8gbmV3IGxpbmUgdG8gd29ya2Fyb3VuZCBjb21waWxlciBkaXNjYXJkaW5nIGl0XG4vLyBkdWUgdG8gdHlwZSBhbm5vdGF0aW9uXG4vKiNfX1BVUkVfXyovIGV4dGVuZChPYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gICAgJDogaSA9PiBpLFxuICAgICRlbDogaSA9PiBpLnZub2RlLmVsLFxuICAgICRkYXRhOiBpID0+IGkuZGF0YSxcbiAgICAkcHJvcHM6IGkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMpLFxuICAgICRhdHRyczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkuYXR0cnMpIDogaS5hdHRycyksXG4gICAgJHNsb3RzOiBpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaS5zbG90cykgOiBpLnNsb3RzKSxcbiAgICAkcmVmczogaSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMpLFxuICAgICRwYXJlbnQ6IGkgPT4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpLFxuICAgICRyb290OiBpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucm9vdCksXG4gICAgJGVtaXQ6IGkgPT4gaS5lbWl0LFxuICAgICRvcHRpb25zOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaSkgOiBpLnR5cGUpLFxuICAgICRmb3JjZVVwZGF0ZTogaSA9PiBpLmYgfHwgKGkuZiA9ICgpID0+IHF1ZXVlSm9iKGkudXBkYXRlKSksXG4gICAgJG5leHRUaWNrOiBpID0+IGkubiB8fCAoaS5uID0gbmV4dFRpY2suYmluZChpLnByb3h5KSksXG4gICAgJHdhdGNoOiBpID0+IChfX1ZVRV9PUFRJT05TX0FQSV9fID8gaW5zdGFuY2VXYXRjaC5iaW5kKGkpIDogTk9PUClcbn0pO1xue1xuICAgIGluc3RhbGxDb21wYXRJbnN0YW5jZVByb3BlcnRpZXMocHVibGljUHJvcGVydGllc01hcCk7XG59XG5jb25zdCBpc1Jlc2VydmVkUHJlZml4ID0gKGtleSkgPT4ga2V5ID09PSAnXycgfHwga2V5ID09PSAnJCc7XG5jb25zdCBoYXNTZXR1cEJpbmRpbmcgPSAoc3RhdGUsIGtleSkgPT4gc3RhdGUgIT09IEVNUFRZX09CSiAmJiAhc3RhdGUuX19pc1NjcmlwdFNldHVwICYmIGhhc093bihzdGF0ZSwga2V5KTtcbmNvbnN0IFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IHtcbiAgICBnZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXkpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUsIGRhdGEsIHByb3BzLCBhY2Nlc3NDYWNoZSwgdHlwZSwgYXBwQ29udGV4dCB9ID0gaW5zdGFuY2U7XG4gICAgICAgIC8vIGZvciBpbnRlcm5hbCBmb3JtYXR0ZXJzIHRvIGtub3cgdGhhdCB0aGlzIGlzIGEgVnVlIGluc3RhbmNlXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5ID09PSAnX19pc1Z1ZScpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRhdGEgLyBwcm9wcyAvIGN0eFxuICAgICAgICAvLyBUaGlzIGdldHRlciBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgcHJvcGVydHkgYWNjZXNzIG9uIHRoZSByZW5kZXIgY29udGV4dFxuICAgICAgICAvLyBkdXJpbmcgcmVuZGVyIGFuZCBpcyBhIG1ham9yIGhvdHNwb3QuIFRoZSBtb3N0IGV4cGVuc2l2ZSBwYXJ0IG9mIHRoaXNcbiAgICAgICAgLy8gaXMgdGhlIG11bHRpcGxlIGhhc093bigpIGNhbGxzLiBJdCdzIG11Y2ggZmFzdGVyIHRvIGRvIGEgc2ltcGxlIHByb3BlcnR5XG4gICAgICAgIC8vIGFjY2VzcyBvbiBhIHBsYWluIG9iamVjdCwgc28gd2UgdXNlIGFuIGFjY2Vzc0NhY2hlIG9iamVjdCAod2l0aCBudWxsXG4gICAgICAgIC8vIHByb3RvdHlwZSkgdG8gbWVtb2l6ZSB3aGF0IGFjY2VzcyB0eXBlIGEga2V5IGNvcnJlc3BvbmRzIHRvLlxuICAgICAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgICAgICBpZiAoa2V5WzBdICE9PSAnJCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBhY2Nlc3NDYWNoZVtrZXldO1xuICAgICAgICAgICAgaWYgKG4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEgLyogQWNjZXNzVHlwZXMuU0VUVVAgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIgLyogQWNjZXNzVHlwZXMuREFUQSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBBY2Nlc3NUeXBlcy5DT05URVhUICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDMgLyogQWNjZXNzVHlwZXMuUFJPUFMgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdDoganVzdCBmYWxsdGhyb3VnaFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogQWNjZXNzVHlwZXMuU0VUVVAgKi87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAyIC8qIEFjY2Vzc1R5cGVzLkRBVEEgKi87XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgLy8gb25seSBjYWNoZSBvdGhlciBwcm9wZXJ0aWVzIHdoZW4gaW5zdGFuY2UgaGFzIGRlY2xhcmVkICh0aHVzIHN0YWJsZSlcbiAgICAgICAgICAgIC8vIHByb3BzXG4gICAgICAgICAgICAobm9ybWFsaXplZFByb3BzID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSAmJlxuICAgICAgICAgICAgICAgIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMyAvKiBBY2Nlc3NUeXBlcy5QUk9QUyAqLztcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBBY2Nlc3NUeXBlcy5DT05URVhUICovO1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFfX1ZVRV9PUFRJT05TX0FQSV9fIHx8IHNob3VsZENhY2hlQWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogQWNjZXNzVHlwZXMuT1RIRVIgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHVibGljR2V0dGVyID0gcHVibGljUHJvcGVydGllc01hcFtrZXldO1xuICAgICAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xuICAgICAgICAvLyBwdWJsaWMgJHh4eCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmIChwdWJsaWNHZXR0ZXIpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICckYXR0cnMnKSB7XG4gICAgICAgICAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywga2V5KTtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwdWJsaWNHZXR0ZXIoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAvLyBjc3MgbW9kdWxlIChpbmplY3RlZCBieSB2dWUtbG9hZGVyKVxuICAgICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmXG4gICAgICAgICAgICAoY3NzTW9kdWxlID0gY3NzTW9kdWxlW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gY3NzTW9kdWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcbiAgICAgICAgICAgIC8vIHVzZXIgbWF5IHNldCBjdXN0b20gcHJvcGVydGllcyB0byBgdGhpc2AgdGhhdCBzdGFydCB3aXRoIGAkYFxuICAgICAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogQWNjZXNzVHlwZXMuQ09OVEVYVCAqLztcbiAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgLy8gZ2xvYmFsIHByb3BlcnRpZXNcbiAgICAgICAgKChnbG9iYWxQcm9wZXJ0aWVzID0gYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyksXG4gICAgICAgICAgICBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KSkpIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzYy5nZXQuY2FsbChpbnN0YW5jZS5wcm94eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBnbG9iYWxQcm9wZXJ0aWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbih2YWwuYmluZChpbnN0YW5jZS5wcm94eSksIHZhbClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJlxuICAgICAgICAgICAgKCFpc1N0cmluZyhrZXkpIHx8XG4gICAgICAgICAgICAgICAgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcbiAgICAgICAgICAgICAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcbiAgICAgICAgICAgICAgICBrZXkuaW5kZXhPZignX192JykgIT09IDApKSB7XG4gICAgICAgICAgICBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSBtdXN0IGJlIGFjY2Vzc2VkIHZpYSAkZGF0YSBiZWNhdXNlIGl0IHN0YXJ0cyB3aXRoIGEgcmVzZXJ2ZWQgYCArXG4gICAgICAgICAgICAgICAgICAgIGBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSB3YXMgYWNjZXNzZWQgZHVyaW5nIHJlbmRlciBgICtcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCBpcyBub3QgZGVmaW5lZCBvbiBpbnN0YW5jZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0KHsgXzogaW5zdGFuY2UgfSwga2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmIChoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgICAgICAgc2V0dXBTdGF0ZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwICYmXG4gICAgICAgICAgICBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKGBDYW5ub3QgbXV0YXRlIDxzY3JpcHQgc2V0dXA+IGJpbmRpbmcgXCIke2tleX1cIiBmcm9tIE9wdGlvbnMgQVBJLmApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuJDEoYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHByb3AgXCIke2tleX1cIi4gUHJvcHMgYXJlIHJlYWRvbmx5LmApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlbMF0gPT09ICckJyAmJiBrZXkuc2xpY2UoMSkgaW4gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm4kMShgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHVibGljIHByb3BlcnR5IFwiJHtrZXl9XCIuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgUHJvcGVydGllcyBzdGFydGluZyB3aXRoICQgYXJlIHJlc2VydmVkIGFuZCByZWFkb25seS5gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYga2V5IGluIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGhhcyh7IF86IHsgZGF0YSwgc2V0dXBTdGF0ZSwgYWNjZXNzQ2FjaGUsIGN0eCwgYXBwQ29udGV4dCwgcHJvcHNPcHRpb25zIH0gfSwga2V5KSB7XG4gICAgICAgIGxldCBub3JtYWxpemVkUHJvcHM7XG4gICAgICAgIHJldHVybiAoISFhY2Nlc3NDYWNoZVtrZXldIHx8XG4gICAgICAgICAgICAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB8fFxuICAgICAgICAgICAgaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkgfHxcbiAgICAgICAgICAgICgobm9ybWFsaXplZFByb3BzID0gcHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpKSB8fFxuICAgICAgICAgICAgaGFzT3duKGN0eCwga2V5KSB8fFxuICAgICAgICAgICAgaGFzT3duKHB1YmxpY1Byb3BlcnRpZXNNYXAsIGtleSkgfHxcbiAgICAgICAgICAgIGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpKTtcbiAgICB9LFxuICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yLmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpbnZhbGlkYXRlIGtleSBjYWNoZSBvZiBhIGdldHRlciBiYXNlZCBwcm9wZXJ0eSAjNTQxN1xuICAgICAgICAgICAgdGFyZ2V0Ll8uYWNjZXNzQ2FjaGVba2V5XSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzT3duKGRlc2NyaXB0b3IsICd2YWx1ZScpKSB7XG4gICAgICAgICAgICB0aGlzLnNldCh0YXJnZXQsIGtleSwgZGVzY3JpcHRvci52YWx1ZSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbn07XG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFmYWxzZSkge1xuICAgIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xuICAgICAgICB3YXJuJDEoYEF2b2lkIGFwcCBsb2dpYyB0aGF0IHJlbGllcyBvbiBlbnVtZXJhdGluZyBrZXlzIG9uIGEgY29tcG9uZW50IGluc3RhbmNlLiBgICtcbiAgICAgICAgICAgIGBUaGUga2V5cyB3aWxsIGJlIGVtcHR5IGluIHByb2R1Y3Rpb24gbW9kZSB0byBhdm9pZCBwZXJmb3JtYW5jZSBvdmVyaGVhZC5gKTtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICAgIH07XG59XG5jb25zdCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLCB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIC8vIGZhc3QgcGF0aCBmb3IgdW5zY29wYWJsZXMgd2hlbiB1c2luZyBgd2l0aGAgYmxvY2tcbiAgICAgICAgaWYgKGtleSA9PT0gU3ltYm9sLnVuc2NvcGFibGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5nZXQodGFyZ2V0LCBrZXksIHRhcmdldCk7XG4gICAgfSxcbiAgICBoYXMoXywga2V5KSB7XG4gICAgICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gJ18nICYmICFpc0dsb2JhbGx5V2hpdGVsaXN0ZWQoa2V5KTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGFzICYmIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5oYXMoXywga2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBfIHdoaWNoIGlzIGEgcmVzZXJ2ZWQgcHJlZml4IGZvciBWdWUgaW50ZXJuYWxzLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXM7XG4gICAgfVxufSk7XG4vLyBkZXYgb25seVxuLy8gSW4gZGV2IG1vZGUsIHRoZSBwcm94eSB0YXJnZXQgZXhwb3NlcyB0aGUgc2FtZSBwcm9wZXJ0aWVzIGFzIHNlZW4gb24gYHRoaXNgXG4vLyBmb3IgZWFzaWVyIGNvbnNvbGUgaW5zcGVjdGlvbi4gSW4gcHJvZCBtb2RlIGl0IHdpbGwgYmUgYW4gZW1wdHkgb2JqZWN0IHNvXG4vLyB0aGVzZSBwcm9wZXJ0aWVzIGRlZmluaXRpb25zIGNhbiBiZSBza2lwcGVkLlxuZnVuY3Rpb24gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgIC8vIGV4cG9zZSBpbnRlcm5hbCBpbnN0YW5jZSBmb3IgcHJveHkgaGFuZGxlcnNcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgX2AsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZVxuICAgIH0pO1xuICAgIC8vIGV4cG9zZSBwdWJsaWMgcHJvcGVydGllc1xuICAgIE9iamVjdC5rZXlzKHB1YmxpY1Byb3BlcnRpZXNNYXApLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGdldDogKCkgPT4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKSxcbiAgICAgICAgICAgIC8vIGludGVyY2VwdGVkIGJ5IHRoZSBwcm94eSBzbyBubyBuZWVkIGZvciBpbXBsZW1lbnRhdGlvbixcbiAgICAgICAgICAgIC8vIGJ1dCBuZWVkZWQgdG8gcHJldmVudCBzZXQgZXJyb3JzXG4gICAgICAgICAgICBzZXQ6IE5PT1BcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbi8vIGRldiBvbmx5XG5mdW5jdGlvbiBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICAgIGNvbnN0IHsgY3R4LCBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdIH0gPSBpbnN0YW5jZTtcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHByb3BzT3B0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZS5wcm9wc1trZXldLFxuICAgICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIGRldiBvbmx5XG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUgfSA9IGluc3RhbmNlO1xuICAgIE9iamVjdC5rZXlzKHRvUmF3KHNldHVwU3RhdGUpKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGlmICghc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXApIHtcbiAgICAgICAgICAgIGlmIChpc1Jlc2VydmVkUHJlZml4KGtleVswXSkpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYHNldHVwKCkgcmV0dXJuIHByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIFwiJFwiIG9yIFwiX1wiIGAgK1xuICAgICAgICAgICAgICAgICAgICBgd2hpY2ggYXJlIHJlc2VydmVkIHByZWZpeGVzIGZvciBWdWUgaW50ZXJuYWxzLmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gc2V0dXBTdGF0ZVtrZXldLFxuICAgICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGVlcE1lcmdlRGF0YSh0bywgZnJvbSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICAgICAgY29uc3QgdG9WYWwgPSB0b1trZXldO1xuICAgICAgICBjb25zdCBmcm9tVmFsID0gZnJvbVtrZXldO1xuICAgICAgICBpZiAoa2V5IGluIHRvICYmIGlzUGxhaW5PYmplY3QodG9WYWwpICYmIGlzUGxhaW5PYmplY3QoZnJvbVZhbCkpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuRGVwcmVjYXRpb24oXCJPUFRJT05TX0RBVEFfTUVSR0VcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREFUQV9NRVJHRSAqLywgbnVsbCwga2V5KTtcbiAgICAgICAgICAgIGRlZXBNZXJnZURhdGEodG9WYWwsIGZyb21WYWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9ba2V5XSA9IGZyb21WYWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkge1xuICAgIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xuICAgICAgICBpZiAoY2FjaGVba2V5XSkge1xuICAgICAgICAgICAgd2FybiQxKGAke3R5cGV9IHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgYWxyZWFkeSBkZWZpbmVkIGluICR7Y2FjaGVba2V5XX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWNoZVtrZXldID0gdHlwZTtcbiAgICAgICAgfVxuICAgIH07XG59XG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKTtcbiAgICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XG4gICAgY29uc3QgY3R4ID0gaW5zdGFuY2UuY3R4O1xuICAgIC8vIGRvIG5vdCBjYWNoZSBwcm9wZXJ0eSBhY2Nlc3Mgb24gcHVibGljIHByb3h5IGR1cmluZyBzdGF0ZSBpbml0aWFsaXphdGlvblxuICAgIHNob3VsZENhY2hlQWNjZXNzID0gZmFsc2U7XG4gICAgLy8gY2FsbCBiZWZvcmVDcmVhdGUgZmlyc3QgYmVmb3JlIGFjY2Vzc2luZyBvdGhlciBvcHRpb25zIHNpbmNlXG4gICAgLy8gdGhlIGhvb2sgbWF5IG11dGF0ZSByZXNvbHZlZCBvcHRpb25zICgjMjc5MSlcbiAgICBpZiAob3B0aW9ucy5iZWZvcmVDcmVhdGUpIHtcbiAgICAgICAgY2FsbEhvb2sob3B0aW9ucy5iZWZvcmVDcmVhdGUsIGluc3RhbmNlLCBcImJjXCIgLyogTGlmZWN5Y2xlSG9va3MuQkVGT1JFX0NSRUFURSAqLyk7XG4gICAgfVxuICAgIGNvbnN0IHsgXG4gICAgLy8gc3RhdGVcbiAgICBkYXRhOiBkYXRhT3B0aW9ucywgY29tcHV0ZWQ6IGNvbXB1dGVkT3B0aW9ucywgbWV0aG9kcywgd2F0Y2g6IHdhdGNoT3B0aW9ucywgcHJvdmlkZTogcHJvdmlkZU9wdGlvbnMsIGluamVjdDogaW5qZWN0T3B0aW9ucywgXG4gICAgLy8gbGlmZWN5Y2xlXG4gICAgY3JlYXRlZCwgYmVmb3JlTW91bnQsIG1vdW50ZWQsIGJlZm9yZVVwZGF0ZSwgdXBkYXRlZCwgYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCwgYmVmb3JlRGVzdHJveSwgYmVmb3JlVW5tb3VudCwgZGVzdHJveWVkLCB1bm1vdW50ZWQsIHJlbmRlciwgcmVuZGVyVHJhY2tlZCwgcmVuZGVyVHJpZ2dlcmVkLCBlcnJvckNhcHR1cmVkLCBzZXJ2ZXJQcmVmZXRjaCwgXG4gICAgLy8gcHVibGljIEFQSVxuICAgIGV4cG9zZSwgaW5oZXJpdEF0dHJzLCBcbiAgICAvLyBhc3NldHNcbiAgICBjb21wb25lbnRzLCBkaXJlY3RpdmVzLCBmaWx0ZXJzIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSA6IG51bGw7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCBbcHJvcHNPcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHNPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiUHJvcHNcIiAvKiBPcHRpb25UeXBlcy5QUk9QUyAqLywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBvcHRpb25zIGluaXRpYWxpemF0aW9uIG9yZGVyICh0byBiZSBjb25zaXN0ZW50IHdpdGggVnVlIDIpOlxuICAgIC8vIC0gcHJvcHMgKGFscmVhZHkgZG9uZSBvdXRzaWRlIG9mIHRoaXMgZnVuY3Rpb24pXG4gICAgLy8gLSBpbmplY3RcbiAgICAvLyAtIG1ldGhvZHNcbiAgICAvLyAtIGRhdGEgKGRlZmVycmVkIHNpbmNlIGl0IHJlbGllcyBvbiBgdGhpc2AgYWNjZXNzKVxuICAgIC8vIC0gY29tcHV0ZWRcbiAgICAvLyAtIHdhdGNoIChkZWZlcnJlZCBzaW5jZSBpdCByZWxpZXMgb24gYHRoaXNgIGFjY2VzcylcbiAgICBpZiAoaW5qZWN0T3B0aW9ucykge1xuICAgICAgICByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcywgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcudW53cmFwSW5qZWN0ZWRSZWYpO1xuICAgIH1cbiAgICBpZiAobWV0aG9kcykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XG4gICAgICAgICAgICBjb25zdCBtZXRob2RIYW5kbGVyID0gbWV0aG9kc1trZXldO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obWV0aG9kSGFuZGxlcikpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBkZXYgbW9kZSwgd2UgdXNlIHRoZSBgY3JlYXRlUmVuZGVyQ29udGV4dGAgZnVuY3Rpb24gdG8gZGVmaW5lXG4gICAgICAgICAgICAgICAgLy8gbWV0aG9kcyB0byB0aGUgcHJveHkgdGFyZ2V0LCBhbmQgdGhvc2UgYXJlIHJlYWQtb25seSBidXRcbiAgICAgICAgICAgICAgICAvLyByZWNvbmZpZ3VyYWJsZSwgc28gaXQgbmVlZHMgdG8gYmUgcmVkZWZpbmVkIGhlcmVcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eFtrZXldID0gbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIk1ldGhvZHNcIiAvKiBPcHRpb25UeXBlcy5NRVRIT0RTICovLCBrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHdhcm4kMShgTWV0aG9kIFwiJHtrZXl9XCIgaGFzIHR5cGUgXCIke3R5cGVvZiBtZXRob2RIYW5kbGVyfVwiIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkYXRhT3B0aW9ucykge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc0Z1bmN0aW9uKGRhdGFPcHRpb25zKSkge1xuICAgICAgICAgICAgd2FybiQxKGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBgICtcbiAgICAgICAgICAgICAgICBgUGxhaW4gb2JqZWN0IHVzYWdlIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IGRhdGFPcHRpb25zLmNhbGwocHVibGljVGhpcywgcHVibGljVGhpcyk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNQcm9taXNlKGRhdGEpKSB7XG4gICAgICAgICAgICB3YXJuJDEoYGRhdGEoKSByZXR1cm5lZCBhIFByb21pc2UgLSBub3RlIGRhdGEoKSBjYW5ub3QgYmUgYXN5bmM7IElmIHlvdSBgICtcbiAgICAgICAgICAgICAgICBgaW50ZW5kIHRvIHBlcmZvcm0gZGF0YSBmZXRjaGluZyBiZWZvcmUgY29tcG9uZW50IHJlbmRlcnMsIHVzZSBgICtcbiAgICAgICAgICAgICAgICBgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgZGF0YSgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LmApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5zdGFuY2UuZGF0YSA9IHJlYWN0aXZlKGRhdGEpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiRGF0YVwiIC8qIE9wdGlvblR5cGVzLkRBVEEgKi8sIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV4cG9zZSBkYXRhIG9uIGN0eCBkdXJpbmcgZGV2XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGRhdGFba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IE5PT1BcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHN0YXRlIGluaXRpYWxpemF0aW9uIGNvbXBsZXRlIGF0IHRoaXMgcG9pbnQgLSBzdGFydCBjYWNoaW5nIGFjY2Vzc1xuICAgIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbiAgICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgb3B0ID0gY29tcHV0ZWRPcHRpb25zW2tleV07XG4gICAgICAgICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdClcbiAgICAgICAgICAgICAgICA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXG4gICAgICAgICAgICAgICAgOiBpc0Z1bmN0aW9uKG9wdC5nZXQpXG4gICAgICAgICAgICAgICAgICAgID8gb3B0LmdldC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpXG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ2V0ID09PSBOT09QKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBDb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGhhcyBubyBnZXR0ZXIuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldClcbiAgICAgICAgICAgICAgICA/IG9wdC5zZXQuYmluZChwdWJsaWNUaGlzKVxuICAgICAgICAgICAgICAgIDogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgID8gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogTk9PUDtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBjb21wdXRlZCQxKHtcbiAgICAgICAgICAgICAgICBnZXQsXG4gICAgICAgICAgICAgICAgc2V0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gYy52YWx1ZSxcbiAgICAgICAgICAgICAgICBzZXQ6IHYgPT4gKGMudmFsdWUgPSB2KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiQ29tcHV0ZWRcIiAvKiBPcHRpb25UeXBlcy5DT01QVVRFRCAqLywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAod2F0Y2hPcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHdhdGNoT3B0aW9ucykge1xuICAgICAgICAgICAgY3JlYXRlV2F0Y2hlcih3YXRjaE9wdGlvbnNba2V5XSwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwcm92aWRlT3B0aW9ucykge1xuICAgICAgICBjb25zdCBwcm92aWRlcyA9IGlzRnVuY3Rpb24ocHJvdmlkZU9wdGlvbnMpXG4gICAgICAgICAgICA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcylcbiAgICAgICAgICAgIDogcHJvdmlkZU9wdGlvbnM7XG4gICAgICAgIFJlZmxlY3Qub3duS2V5cyhwcm92aWRlcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgcHJvdmlkZShrZXksIHByb3ZpZGVzW2tleV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGNyZWF0ZWQpIHtcbiAgICAgICAgY2FsbEhvb2soY3JlYXRlZCwgaW5zdGFuY2UsIFwiY1wiIC8qIExpZmVjeWNsZUhvb2tzLkNSRUFURUQgKi8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlckxpZmVjeWNsZUhvb2socmVnaXN0ZXIsIGhvb2spIHtcbiAgICAgICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgICAgICAgIGhvb2suZm9yRWFjaChfaG9vayA9PiByZWdpc3RlcihfaG9vay5iaW5kKHB1YmxpY1RoaXMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaG9vaykge1xuICAgICAgICAgICAgcmVnaXN0ZXIoaG9vay5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVNb3VudCwgYmVmb3JlTW91bnQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbk1vdW50ZWQsIG1vdW50ZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVwZGF0ZSwgYmVmb3JlVXBkYXRlKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25VcGRhdGVkLCB1cGRhdGVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25BY3RpdmF0ZWQsIGFjdGl2YXRlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRGVhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25FcnJvckNhcHR1cmVkLCBlcnJvckNhcHR1cmVkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmFja2VkLCByZW5kZXJUcmFja2VkKTtcbiAgICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmlnZ2VyZWQsIHJlbmRlclRyaWdnZXJlZCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlVW5tb3VudCwgYmVmb3JlVW5tb3VudCk7XG4gICAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVW5tb3VudGVkLCB1bm1vdW50ZWQpO1xuICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblNlcnZlclByZWZldGNoLCBzZXJ2ZXJQcmVmZXRjaCk7XG4gICAge1xuICAgICAgICBpZiAoYmVmb3JlRGVzdHJveSAmJlxuICAgICAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJPUFRJT05TX0JFRk9SRV9ERVNUUk9ZXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0JFRk9SRV9ERVNUUk9ZICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVubW91bnQsIGJlZm9yZURlc3Ryb3kpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXN0cm95ZWQgJiZcbiAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiT1BUSU9OU19ERVNUUk9ZRURcIiAvKiBEZXByZWNhdGlvblR5cGVzLk9QVElPTlNfREVTVFJPWUVEICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVubW91bnRlZCwgZGVzdHJveWVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNBcnJheShleHBvc2UpKSB7XG4gICAgICAgIGlmIChleHBvc2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBleHBvc2VkID0gaW5zdGFuY2UuZXhwb3NlZCB8fCAoaW5zdGFuY2UuZXhwb3NlZCA9IHt9KTtcbiAgICAgICAgICAgIGV4cG9zZS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9zZWQsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1RoaXNba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiB2YWwgPT4gKHB1YmxpY1RoaXNba2V5XSA9IHZhbClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5leHBvc2VkID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gb3B0aW9ucyB0aGF0IGFyZSBoYW5kbGVkIHdoZW4gY3JlYXRpbmcgdGhlIGluc3RhbmNlIGJ1dCBhbHNvIG5lZWQgdG8gYmVcbiAgICAvLyBhcHBsaWVkIGZyb20gbWl4aW5zXG4gICAgaWYgKHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcbiAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gcmVuZGVyO1xuICAgIH1cbiAgICBpZiAoaW5oZXJpdEF0dHJzICE9IG51bGwpIHtcbiAgICAgICAgaW5zdGFuY2UuaW5oZXJpdEF0dHJzID0gaW5oZXJpdEF0dHJzO1xuICAgIH1cbiAgICAvLyBhc3NldCBvcHRpb25zLlxuICAgIGlmIChjb21wb25lbnRzKVxuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgICBpZiAoZGlyZWN0aXZlcylcbiAgICAgICAgaW5zdGFuY2UuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG4gICAgaWYgKGZpbHRlcnMgJiZcbiAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiRklMVEVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuRklMVEVSUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgIGluc3RhbmNlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gTk9PUCwgdW53cmFwUmVmID0gZmFsc2UpIHtcbiAgICBpZiAoaXNBcnJheShpbmplY3RPcHRpb25zKSkge1xuICAgICAgICBpbmplY3RPcHRpb25zID0gbm9ybWFsaXplSW5qZWN0KGluamVjdE9wdGlvbnMpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbmplY3RPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG9wdCA9IGluamVjdE9wdGlvbnNba2V5XTtcbiAgICAgICAgbGV0IGluamVjdGVkO1xuICAgICAgICBpZiAoaXNPYmplY3Qob3B0KSkge1xuICAgICAgICAgICAgaWYgKCdkZWZhdWx0JyBpbiBvcHQpIHtcbiAgICAgICAgICAgICAgICBpbmplY3RlZCA9IGluamVjdChvcHQuZnJvbSB8fCBrZXksIG9wdC5kZWZhdWx0LCB0cnVlIC8qIHRyZWF0IGRlZmF1bHQgZnVuY3Rpb24gYXMgZmFjdG9yeSAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmplY3RlZCA9IGluamVjdChvcHQuZnJvbSB8fCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3Qob3B0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWYoaW5qZWN0ZWQpKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHJlbW92ZSB0aGUgY2hlY2sgaW4gMy4zXG4gICAgICAgICAgICBpZiAodW53cmFwUmVmKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBpbmplY3RlZC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiB2ID0+IChpbmplY3RlZC52YWx1ZSA9IHYpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgaW5qZWN0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBpcyBhIHJlZiBhbmQgd2lsbCBiZSBhdXRvLXVud3JhcHBlZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBhbmQgbm8gbG9uZ2VyIG5lZWRzIFxcYC52YWx1ZVxcYCBpbiB0aGUgbmV4dCBtaW5vciByZWxlYXNlLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBUbyBvcHQtaW4gdG8gdGhlIG5ldyBiZWhhdmlvciBub3csIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHNldCBcXGBhcHAuY29uZmlnLnVud3JhcEluamVjdGVkUmVmID0gdHJ1ZVxcYCAodGhpcyBjb25maWcgaXMgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgdGVtcG9yYXJ5IGFuZCB3aWxsIG5vdCBiZSBuZWVkZWQgaW4gdGhlIGZ1dHVyZS4pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eFtrZXldID0gaW5qZWN0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHhba2V5XSA9IGluamVjdGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkluamVjdFwiIC8qIE9wdGlvblR5cGVzLklOSkVDVCAqLywga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNhbGxIb29rKGhvb2ssIGluc3RhbmNlLCB0eXBlKSB7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaXNBcnJheShob29rKVxuICAgICAgICA/IGhvb2subWFwKGggPT4gaC5iaW5kKGluc3RhbmNlLnByb3h5KSlcbiAgICAgICAgOiBob29rLmJpbmQoaW5zdGFuY2UucHJveHkpLCBpbnN0YW5jZSwgdHlwZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcbiAgICBjb25zdCBnZXR0ZXIgPSBrZXkuaW5jbHVkZXMoJy4nKVxuICAgICAgICA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywga2V5KVxuICAgICAgICA6ICgpID0+IHB1YmxpY1RoaXNba2V5XTtcbiAgICBpZiAoaXNTdHJpbmcocmF3KSkge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gY3R4W3Jhd107XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3fVwiYCwgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgcmF3LmJpbmQocHVibGljVGhpcykpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChyYXcpKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICAgICAgICAgIHJhdy5mb3JFYWNoKHIgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGlzRnVuY3Rpb24ocmF3LmhhbmRsZXIpXG4gICAgICAgICAgICAgICAgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpXG4gICAgICAgICAgICAgICAgOiBjdHhbcmF3LmhhbmRsZXJdO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIsIHJhdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggb3B0aW9uOiBcIiR7a2V5fVwiYCwgcmF3KTtcbiAgICB9XG59XG4vKipcbiAqIFJlc29sdmUgbWVyZ2VkIG9wdGlvbnMgYW5kIGNhY2hlIGl0IG9uIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIGlzIGRvbmUgb25seSBvbmNlIHBlci1jb21wb25lbnQgc2luY2UgdGhlIG1lcmdpbmcgZG9lcyBub3QgaW52b2x2ZVxuICogaW5zdGFuY2VzLlxuICovXG5mdW5jdGlvbiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbnN0YW5jZS50eXBlO1xuICAgIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gYmFzZTtcbiAgICBjb25zdCB7IG1peGluczogZ2xvYmFsTWl4aW5zLCBvcHRpb25zQ2FjaGU6IGNhY2hlLCBjb25maWc6IHsgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzIH0gfSA9IGluc3RhbmNlLmFwcENvbnRleHQ7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGJhc2UpO1xuICAgIGxldCByZXNvbHZlZDtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIHJlc29sdmVkID0gY2FjaGVkO1xuICAgIH1cbiAgICBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xuICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiUFJJVkFURV9BUElTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5QUklWQVRFX0FQSVMgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSBleHRlbmQoe30sIGJhc2UpO1xuICAgICAgICAgICAgcmVzb2x2ZWQucGFyZW50ID0gaW5zdGFuY2UucGFyZW50ICYmIGluc3RhbmNlLnBhcmVudC5wcm94eTtcbiAgICAgICAgICAgIHJlc29sdmVkLnByb3BzRGF0YSA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSBiYXNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXNvbHZlZCA9IHt9O1xuICAgICAgICBpZiAoZ2xvYmFsTWl4aW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2gobSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgYmFzZSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KGJhc2UpKSB7XG4gICAgICAgIGNhY2hlLnNldChiYXNlLCByZXNvbHZlZCk7XG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlZDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihmcm9tKSkge1xuICAgICAgICBmcm9tID0gZnJvbS5vcHRpb25zO1xuICAgIH1cbiAgICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XG4gICAgaWYgKGV4dGVuZHNPcHRpb25zKSB7XG4gICAgICAgIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIHN0cmF0cywgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgbWl4aW5zLmZvckVhY2goKG0pID0+IG1lcmdlT3B0aW9ucyh0bywgbSwgc3RyYXRzLCB0cnVlKSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICAgICAgaWYgKGFzTWl4aW4gJiYga2V5ID09PSAnZXhwb3NlJykge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybiQxKGBcImV4cG9zZVwiIG9wdGlvbiBpcyBpZ25vcmVkIHdoZW4gZGVjbGFyZWQgaW4gbWl4aW5zIG9yIGV4dGVuZHMuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgSXQgc2hvdWxkIG9ubHkgYmUgZGVjbGFyZWQgaW4gdGhlIGJhc2UgY29tcG9uZW50IGl0c2VsZi5gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmF0ID0gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0c1trZXldIHx8IChzdHJhdHMgJiYgc3RyYXRzW2tleV0pO1xuICAgICAgICAgICAgdG9ba2V5XSA9IHN0cmF0ID8gc3RyYXQodG9ba2V5XSwgZnJvbVtrZXldKSA6IGZyb21ba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG87XG59XG5jb25zdCBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzID0ge1xuICAgIGRhdGE6IG1lcmdlRGF0YUZuLFxuICAgIHByb3BzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gICAgZW1pdHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgICAvLyBvYmplY3RzXG4gICAgbWV0aG9kczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAgIGNvbXB1dGVkOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gICAgLy8gbGlmZWN5Y2xlXG4gICAgYmVmb3JlQ3JlYXRlOiBtZXJnZUFzQXJyYXksXG4gICAgY3JlYXRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXG4gICAgbW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGJlZm9yZVVwZGF0ZTogbWVyZ2VBc0FycmF5LFxuICAgIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgICBiZWZvcmVEZXN0cm95OiBtZXJnZUFzQXJyYXksXG4gICAgYmVmb3JlVW5tb3VudDogbWVyZ2VBc0FycmF5LFxuICAgIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxuICAgIHVubW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGFjdGl2YXRlZDogbWVyZ2VBc0FycmF5LFxuICAgIGRlYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gICAgZXJyb3JDYXB0dXJlZDogbWVyZ2VBc0FycmF5LFxuICAgIHNlcnZlclByZWZldGNoOiBtZXJnZUFzQXJyYXksXG4gICAgLy8gYXNzZXRzXG4gICAgY29tcG9uZW50czogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAgIGRpcmVjdGl2ZXM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgICAvLyB3YXRjaFxuICAgIHdhdGNoOiBtZXJnZVdhdGNoT3B0aW9ucyxcbiAgICAvLyBwcm92aWRlIC8gaW5qZWN0XG4gICAgcHJvdmlkZTogbWVyZ2VEYXRhRm4sXG4gICAgaW5qZWN0OiBtZXJnZUluamVjdFxufTtcbntcbiAgICBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzLmZpbHRlcnMgPSBtZXJnZU9iamVjdE9wdGlvbnM7XG59XG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xuICAgIGlmICghZnJvbSkge1xuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxuICAgIGlmICghdG8pIHtcbiAgICAgICAgcmV0dXJuIGZyb207XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4oKSB7XG4gICAgICAgIHJldHVybiAoaXNDb21wYXRFbmFibGVkKFwiT1BUSU9OU19EQVRBX01FUkdFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfTUVSR0UgKi8sIG51bGwpXG4gICAgICAgICAgICA/IGRlZXBNZXJnZURhdGFcbiAgICAgICAgICAgIDogZXh0ZW5kKShpc0Z1bmN0aW9uKHRvKSA/IHRvLmNhbGwodGhpcywgdGhpcykgOiB0bywgaXNGdW5jdGlvbihmcm9tKSA/IGZyb20uY2FsbCh0aGlzLCB0aGlzKSA6IGZyb20pO1xuICAgIH07XG59XG5mdW5jdGlvbiBtZXJnZUluamVjdCh0bywgZnJvbSkge1xuICAgIHJldHVybiBtZXJnZU9iamVjdE9wdGlvbnMobm9ybWFsaXplSW5qZWN0KHRvKSwgbm9ybWFsaXplSW5qZWN0KGZyb20pKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUluamVjdChyYXcpIHtcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgcmV0dXJuIHJhdztcbn1cbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xuICAgIHJldHVybiB0byA/IFsuLi5uZXcgU2V0KFtdLmNvbmNhdCh0bywgZnJvbSkpXSA6IGZyb207XG59XG5mdW5jdGlvbiBtZXJnZU9iamVjdE9wdGlvbnModG8sIGZyb20pIHtcbiAgICByZXR1cm4gdG8gPyBleHRlbmQoZXh0ZW5kKE9iamVjdC5jcmVhdGUobnVsbCksIHRvKSwgZnJvbSkgOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VXYXRjaE9wdGlvbnModG8sIGZyb20pIHtcbiAgICBpZiAoIXRvKVxuICAgICAgICByZXR1cm4gZnJvbTtcbiAgICBpZiAoIWZyb20pXG4gICAgICAgIHJldHVybiB0bztcbiAgICBjb25zdCBtZXJnZWQgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICAgICAgbWVyZ2VkW2tleV0gPSBtZXJnZUFzQXJyYXkodG9ba2V5XSwgZnJvbVtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvcHNEZWZhdWx0VGhpcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BLZXkpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgIGdldChfLCBrZXkpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm5EZXByZWNhdGlvbihcIlBST1BTX0RFRkFVTFRfVEhJU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuUFJPUFNfREVGQVVMVF9USElTICovLCBudWxsLCBwcm9wS2V5KTtcbiAgICAgICAgICAgIC8vICRvcHRpb25zXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnJG9wdGlvbnMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByb3BzXG4gICAgICAgICAgICBpZiAoa2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhd1Byb3BzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpbmplY3Rpb25zXG4gICAgICAgICAgICBjb25zdCBpbmplY3Rpb25zID0gaW5zdGFuY2UudHlwZS5pbmplY3Q7XG4gICAgICAgICAgICBpZiAoaW5qZWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KGluamVjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmplY3Rpb25zLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3Qoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgaW4gaW5qZWN0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5qZWN0KGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFNraXBBdHRyKGtleSwgaW5zdGFuY2UpIHtcbiAgICBpZiAoa2V5ID09PSAnaXMnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKGtleSA9PT0gJ2NsYXNzJyB8fCBrZXkgPT09ICdzdHlsZScpICYmXG4gICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0FUVFJTX0NMQVNTX1NUWUxFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9BVFRSU19DTEFTU19TVFlMRSAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXNPbihrZXkpICYmXG4gICAgICAgIGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0xJU1RFTkVSU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfTElTVEVORVJTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIHZ1ZS1yb3V0ZXJcbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ3JvdXRlclZpZXcnKSB8fCBrZXkgPT09ICdyZWdpc3RlclJvdXRlSW5zdGFuY2UnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIGlzU3RhdGVmdWwsIC8vIHJlc3VsdCBvZiBiaXR3aXNlIGZsYWcgY29tcGFyaXNvblxuaXNTU1IgPSBmYWxzZSkge1xuICAgIGNvbnN0IHByb3BzID0ge307XG4gICAgY29uc3QgYXR0cnMgPSB7fTtcbiAgICBkZWYoYXR0cnMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcbiAgICBpbnN0YW5jZS5wcm9wc0RlZmF1bHRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpO1xuICAgIC8vIGVuc3VyZSBhbGwgZGVjbGFyZWQgcHJvcCBrZXlzIGFyZSBwcmVzZW50XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSB7XG4gICAgICAgIGlmICghKGtleSBpbiBwcm9wcykpIHtcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdmFsaWRhdGlvblxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGlzU3RhdGVmdWwpIHtcbiAgICAgICAgLy8gc3RhdGVmdWxcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghaW5zdGFuY2UudHlwZS5wcm9wcykge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbCB3LyBvcHRpb25hbCBwcm9wcywgcHJvcHMgPT09IGF0dHJzXG4gICAgICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IGF0dHJzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbCB3LyBkZWNsYXJlZCBwcm9wc1xuICAgICAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xufVxuZnVuY3Rpb24gaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgICB3aGlsZSAoaW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKGluc3RhbmNlLnR5cGUuX19obXJJZClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnBhcmVudDtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHJhd1ByZXZQcm9wcywgb3B0aW1pemVkKSB7XG4gICAgY29uc3QgeyBwcm9wcywgYXR0cnMsIHZub2RlOiB7IHBhdGNoRmxhZyB9IH0gPSBpbnN0YW5jZTtcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgY29uc3QgW29wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgICBpZiAoXG4gICAgLy8gYWx3YXlzIGZvcmNlIGZ1bGwgZGlmZiBpbiBkZXZcbiAgICAvLyAtICMxOTQyIGlmIGhtciBpcyBlbmFibGVkIHdpdGggc2ZjIGNvbXBvbmVudFxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XG4gICAgISgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpKSAmJlxuICAgICAgICAob3B0aW1pemVkIHx8IHBhdGNoRmxhZyA+IDApICYmXG4gICAgICAgICEocGF0Y2hGbGFnICYgMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovKSkge1xuICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCAvKiBQYXRjaEZsYWdzLlBST1BTICovKSB7XG4gICAgICAgICAgICAvLyBDb21waWxlci1nZW5lcmF0ZWQgcHJvcHMgJiBubyBrZXlzIGNoYW5nZSwganVzdCBzZXQgdGhlIHVwZGF0ZWRcbiAgICAgICAgICAgIC8vIHRoZSBwcm9wcy5cbiAgICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBpbnN0YW5jZS52bm9kZS5keW5hbWljUHJvcHM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgICAgICAgICAvLyBza2lwIGlmIHRoZSBwcm9wIGtleSBpcyBhIGRlY2xhcmVkIGVtaXQgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICBpZiAoaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBQUk9QUyBmbGFnIGd1YXJhbnRlZXMgcmF3UHJvcHMgdG8gYmUgbm9uLW51bGxcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0ciAvIHByb3BzIHNlcGFyYXRpb24gd2FzIGRvbmUgb24gaW5pdCBhbmQgd2lsbCBiZSBjb25zaXN0ZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY29kZSBwYXRoLCBzbyBqdXN0IGNoZWNrIGlmIGF0dHJzIGhhdmUgaXQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24oYXR0cnMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHJhd0N1cnJlbnRQcm9wcywgY2FtZWxpemVkS2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGZhbHNlIC8qIGlzQWJzZW50ICovKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSAmJiBrZXkuZW5kc1dpdGgoJ05hdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5LnNsaWNlKDAsIC02KTsgLy8gcmVtb3ZlIE5hdGl2ZSBwb3N0Zml4XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaG91bGRTa2lwQXR0cihrZXksIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gZnVsbCBwcm9wcyB1cGRhdGUuXG4gICAgICAgIGlmIChzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpKSB7XG4gICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluIGNhc2Ugb2YgZHluYW1pYyBwcm9wcywgY2hlY2sgaWYgd2UgbmVlZCB0byBkZWxldGUga2V5cyBmcm9tXG4gICAgICAgIC8vIHRoZSBwcm9wcyBvYmplY3RcbiAgICAgICAgbGV0IGtlYmFiS2V5O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcbiAgICAgICAgICAgIGlmICghcmF3UHJvcHMgfHxcbiAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAgICAgICAgICAgKCFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBwb3NzaWJsZSB0aGUgb3JpZ2luYWwgcHJvcHMgd2FzIHBhc3NlZCBpbiBhcyBrZWJhYi1jYXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBjb252ZXJ0ZWQgdG8gY2FtZWxDYXNlICgjOTU1KVxuICAgICAgICAgICAgICAgICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmF3UHJldlByb3BzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAocmF3UHJldlByb3BzW2tleV0gIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBrZWJhYi1jYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcmF3Q3VycmVudFByb3BzLCBrZXksIHVuZGVmaW5lZCwgaW5zdGFuY2UsIHRydWUgLyogaXNBYnNlbnQgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW4gdGhlIGNhc2Ugb2YgZnVuY3Rpb25hbCBjb21wb25lbnQgdy9vIHByb3BzIGRlY2xhcmF0aW9uLCBwcm9wcyBhbmRcbiAgICAgICAgLy8gYXR0cnMgcG9pbnQgdG8gdGhlIHNhbWUgb2JqZWN0IHNvIGl0IHNob3VsZCBhbHJlYWR5IGhhdmUgYmVlbiB1cGRhdGVkLlxuICAgICAgICBpZiAoYXR0cnMgIT09IHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJhd1Byb3BzIHx8XG4gICAgICAgICAgICAgICAgICAgICghaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWhhc093bihyYXdQcm9wcywga2V5ICsgJ05hdGl2ZScpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dHJzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHRyaWdnZXIgdXBkYXRlcyBmb3IgJGF0dHJzIGluIGNhc2UgaXQncyB1c2VkIGluIGNvbXBvbmVudCBzbG90c1xuICAgIGlmIChoYXNBdHRyc0NoYW5nZWQpIHtcbiAgICAgICAgdHJpZ2dlcihpbnN0YW5jZSwgXCJzZXRcIiAvKiBUcmlnZ2VyT3BUeXBlcy5TRVQgKi8sICckYXR0cnMnKTtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykge1xuICAgIGNvbnN0IFtvcHRpb25zLCBuZWVkQ2FzdEtleXNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgICBsZXQgcmF3Q2FzdFZhbHVlcztcbiAgICBpZiAocmF3UHJvcHMpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICAgICAgICAvLyBrZXksIHJlZiBhcmUgcmVzZXJ2ZWQgYW5kIG5ldmVyIHBhc3NlZCBkb3duXG4gICAgICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnb25Ib29rOicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSwga2V5LnNsaWNlKDIpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnaW5saW5lLXRlbXBsYXRlJykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgICAgICAvLyBwcm9wIG9wdGlvbiBuYW1lcyBhcmUgY2FtZWxpemVkIGR1cmluZyBub3JtYWxpemF0aW9uLCBzbyB0byBzdXBwb3J0XG4gICAgICAgICAgICAvLyBrZWJhYiAtPiBjYW1lbCBjb252ZXJzaW9uIGhlcmUgd2UgbmVlZCB0byBjYW1lbGl6ZSB0aGUga2V5LlxuICAgICAgICAgICAgbGV0IGNhbWVsS2V5O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgaGFzT3duKG9wdGlvbnMsIChjYW1lbEtleSA9IGNhbWVsaXplKGtleSkpKSkge1xuICAgICAgICAgICAgICAgIGlmICghbmVlZENhc3RLZXlzIHx8ICFuZWVkQ2FzdEtleXMuaW5jbHVkZXMoY2FtZWxLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKHJhd0Nhc3RWYWx1ZXMgfHwgKHJhd0Nhc3RWYWx1ZXMgPSB7fSkpW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAvLyBBbnkgbm9uLWRlY2xhcmVkIChlaXRoZXIgYXMgYSBwcm9wIG9yIGFuIGVtaXR0ZWQgZXZlbnQpIHByb3BzIGFyZSBwdXRcbiAgICAgICAgICAgICAgICAvLyBpbnRvIGEgc2VwYXJhdGUgYGF0dHJzYCBvYmplY3QgZm9yIHNwcmVhZGluZy4gTWFrZSBzdXJlIHRvIHByZXNlcnZlXG4gICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwga2V5IGNhc2luZ1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT24oa2V5KSAmJiBrZXkuZW5kc1dpdGgoJ05hdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBrZXkuc2xpY2UoMCwgLTYpOyAvLyByZW1vdmUgTmF0aXZlIHBvc3RmaXhcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaG91bGRTa2lwQXR0cihrZXksIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIGF0dHJzKSB8fCB2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChuZWVkQ2FzdEtleXMpIHtcbiAgICAgICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgICBjb25zdCBjYXN0VmFsdWVzID0gcmF3Q2FzdFZhbHVlcyB8fCBFTVBUWV9PQko7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZENhc3RLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XG4gICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCByYXdDdXJyZW50UHJvcHMsIGtleSwgY2FzdFZhbHVlc1trZXldLCBpbnN0YW5jZSwgIWhhc093bihjYXN0VmFsdWVzLCBrZXkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFzQXR0cnNDaGFuZ2VkO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGlzQWJzZW50KSB7XG4gICAgY29uc3Qgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHQgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzT3duKG9wdCwgJ2RlZmF1bHQnKTtcbiAgICAgICAgLy8gZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgaWYgKGhhc0RlZmF1bHQgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XG4gICAgICAgICAgICBpZiAob3B0LnR5cGUgIT09IEZ1bmN0aW9uICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvcHNEZWZhdWx0cyB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBwcm9wc0RlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV0gPSBkZWZhdWx0VmFsdWUuY2FsbChpc0NvbXBhdEVuYWJsZWQoXCJQUk9QU19ERUZBVUxUX1RISVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlBST1BTX0RFRkFVTFRfVEhJUyAqLywgaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZVByb3BzRGVmYXVsdFRoaXMoaW5zdGFuY2UsIHByb3BzLCBrZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsIHByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBib29sZWFuIGNhc3RpbmdcbiAgICAgICAgaWYgKG9wdFswIC8qIEJvb2xlYW5GbGFncy5zaG91bGRDYXN0ICovXSkge1xuICAgICAgICAgICAgaWYgKGlzQWJzZW50ICYmICFoYXNEZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdFsxIC8qIEJvb2xlYW5GbGFncy5zaG91bGRDYXN0VHJ1ZSAqL10gJiZcbiAgICAgICAgICAgICAgICAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IGNhY2hlID0gYXBwQ29udGV4dC5wcm9wc0NhY2hlO1xuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJhdyA9IGNvbXAucHJvcHM7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xuICAgIGNvbnN0IG5lZWRDYXN0S2V5cyA9IFtdO1xuICAgIC8vIGFwcGx5IG1peGluL2V4dGVuZHMgcHJvcHNcbiAgICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xuICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZFByb3BzID0gKHJhdykgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xuICAgICAgICAgICAgICAgIHJhdyA9IHJhdy5vcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdywgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgcHJvcHMpO1xuICAgICAgICAgICAgaWYgKGtleXMpXG4gICAgICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2goLi4ua2V5cyk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgICAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXAubWl4aW5zKSB7XG4gICAgICAgICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgICAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgICAgICAgIGNhY2hlLnNldChjb21wLCBFTVBUWV9BUlIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFTVBUWV9BUlI7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzU3RyaW5nKHJhd1tpXSkpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYHByb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC5gLCByYXdbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKHJhd1tpXSk7XG4gICAgICAgICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAocmF3KSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzT2JqZWN0KHJhdykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgaW52YWxpZCBwcm9wcyBvcHRpb25zYCwgcmF3KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXcpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gKG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPVxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IE9iamVjdC5hc3NpZ24oe30sIG9wdCkpO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2xlYW5JbmRleCA9IGdldFR5cGVJbmRleChCb29sZWFuLCBwcm9wLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdJbmRleCA9IGdldFR5cGVJbmRleChTdHJpbmcsIHByb3AudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHByb3BbMCAvKiBCb29sZWFuRmxhZ3Muc2hvdWxkQ2FzdCAqL10gPSBib29sZWFuSW5kZXggPiAtMTtcbiAgICAgICAgICAgICAgICAgICAgcHJvcFsxIC8qIEJvb2xlYW5GbGFncy5zaG91bGRDYXN0VHJ1ZSAqL10gPVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nSW5kZXggPCAwIHx8IGJvb2xlYW5JbmRleCA8IHN0cmluZ0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcHJvcCBuZWVkcyBib29sZWFuIGNhc3Rpbmcgb3IgZGVmYXVsdCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9vbGVhbkluZGV4ID4gLTEgfHwgaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRDYXN0S2V5cy5wdXNoKG5vcm1hbGl6ZWRLZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IFtub3JtYWxpemVkLCBuZWVkQ2FzdEtleXNdO1xuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgICBjYWNoZS5zZXQoY29tcCwgcmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcE5hbWUoa2V5KSB7XG4gICAgaWYgKGtleVswXSAhPT0gJyQnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybiQxKGBJbnZhbGlkIHByb3AgbmFtZTogXCIke2tleX1cIiBpcyBhIHJlc2VydmVkIHByb3BlcnR5LmApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyB1c2UgZnVuY3Rpb24gc3RyaW5nIG5hbWUgdG8gY2hlY2sgdHlwZSBjb25zdHJ1Y3RvcnNcbi8vIHNvIHRoYXQgaXQgd29ya3MgYWNyb3NzIHZtcyAvIGlmcmFtZXMuXG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcbiAgICBjb25zdCBtYXRjaCA9IGN0b3IgJiYgY3Rvci50b1N0cmluZygpLm1hdGNoKC9eXFxzKmZ1bmN0aW9uIChcXHcrKS8pO1xuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogY3RvciA9PT0gbnVsbCA/ICdudWxsJyA6ICcnO1xufVxuZnVuY3Rpb24gaXNTYW1lVHlwZShhLCBiKSB7XG4gICAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYik7XG59XG5mdW5jdGlvbiBnZXRUeXBlSW5kZXgodHlwZSwgZXhwZWN0ZWRUeXBlcykge1xuICAgIGlmIChpc0FycmF5KGV4cGVjdGVkVHlwZXMpKSB7XG4gICAgICAgIHJldHVybiBleHBlY3RlZFR5cGVzLmZpbmRJbmRleCh0ID0+IGlzU2FtZVR5cGUodCwgdHlwZSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVHlwZXMpKSB7XG4gICAgICAgIHJldHVybiBpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXMsIHR5cGUpID8gMCA6IC0xO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMsIHByb3BzLCBpbnN0YW5jZSkge1xuICAgIGNvbnN0IHJlc29sdmVkVmFsdWVzID0gdG9SYXcocHJvcHMpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xuICAgICAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgICAgICBpZiAob3B0ID09IG51bGwpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgdmFsaWRhdGVQcm9wKGtleSwgcmVzb2x2ZWRWYWx1ZXNba2V5XSwgb3B0LCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmICFoYXNPd24ocmF3UHJvcHMsIGh5cGhlbmF0ZShrZXkpKSk7XG4gICAgfVxufVxuLyoqXG4gKiBkZXYgb25seVxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AobmFtZSwgdmFsdWUsIHByb3AsIGlzQWJzZW50KSB7XG4gICAgY29uc3QgeyB0eXBlLCByZXF1aXJlZCwgdmFsaWRhdG9yIH0gPSBwcm9wO1xuICAgIC8vIHJlcXVpcmVkIVxuICAgIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xuICAgICAgICB3YXJuJDEoJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIG1pc3NpbmcgYnV0IG9wdGlvbmFsXG4gICAgaWYgKHZhbHVlID09IG51bGwgJiYgIXByb3AucmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB0eXBlIGNoZWNrXG4gICAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlKSB7XG4gICAgICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHR5cGVzID0gaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZXMgPSBbXTtcbiAgICAgICAgLy8gdmFsdWUgaXMgdmFsaWQgYXMgbG9uZyBhcyBvbmUgb2YgdGhlIHNwZWNpZmllZCB0eXBlcyBtYXRjaFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aCAmJiAhaXNWYWxpZDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbGlkLCBleHBlY3RlZFR5cGUgfSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVzW2ldKTtcbiAgICAgICAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChleHBlY3RlZFR5cGUgfHwgJycpO1xuICAgICAgICAgICAgaXNWYWxpZCA9IHZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgd2FybiQxKGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGN1c3RvbSB2YWxpZGF0b3JcbiAgICBpZiAodmFsaWRhdG9yICYmICF2YWxpZGF0b3IodmFsdWUpKSB7XG4gICAgICAgIHdhcm4kMSgnSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicpO1xuICAgIH1cbn1cbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnU3RyaW5nLE51bWJlcixCb29sZWFuLEZ1bmN0aW9uLFN5bWJvbCxCaWdJbnQnKTtcbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZSkge1xuICAgIGxldCB2YWxpZDtcbiAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xuICAgIGlmIChpc1NpbXBsZVR5cGUoZXhwZWN0ZWRUeXBlKSkge1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIHZhbHVlO1xuICAgICAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAvLyBmb3IgcHJpbWl0aXZlIHdyYXBwZXIgb2JqZWN0c1xuICAgICAgICBpZiAoIXZhbGlkICYmIHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XG4gICAgICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHtcbiAgICAgICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnbnVsbCcpIHtcbiAgICAgICAgdmFsaWQgPSB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZCxcbiAgICAgICAgZXhwZWN0ZWRUeXBlXG4gICAgfTtcbn1cbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIiR7bmFtZX1cIi5gICtcbiAgICAgICAgYCBFeHBlY3RlZCAke2V4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oJyB8ICcpfWA7XG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZXhwZWN0ZWRUeXBlc1swXTtcbiAgICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xuICAgIGNvbnN0IGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xuICAgIGNvbnN0IHJlY2VpdmVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCByZWNlaXZlZFR5cGUpO1xuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSBleHBlY3RlZCB2YWx1ZVxuICAgIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJlxuICAgICAgICAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xuICAgICAgICBtZXNzYWdlICs9IGAgd2l0aCB2YWx1ZSAke2V4cGVjdGVkVmFsdWV9YDtcbiAgICB9XG4gICAgbWVzc2FnZSArPSBgLCBnb3QgJHtyZWNlaXZlZFR5cGV9IGA7XG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IHJlY2VpdmVkIHZhbHVlXG4gICAgaWYgKGlzRXhwbGljYWJsZShyZWNlaXZlZFR5cGUpKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gYHdpdGggdmFsdWUgJHtyZWNlaXZlZFZhbHVlfS5gO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbi8qKlxuICogZGV2IG9ubHlcbiAqL1xuZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSAnU3RyaW5nJykge1xuICAgICAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdOdW1iZXInKSB7XG4gICAgICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWV9YDtcbiAgICB9XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XG4gICAgY29uc3QgZXhwbGljaXRUeXBlcyA9IFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ107XG4gICAgcmV0dXJuIGV4cGxpY2l0VHlwZXMuc29tZShlbGVtID0+IHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbSk7XG59XG4vKipcbiAqIGRldiBvbmx5XG4gKi9cbmZ1bmN0aW9uIGlzQm9vbGVhbiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3Muc29tZShlbGVtID0+IGVsZW0udG9Mb3dlckNhc2UoKSA9PT0gJ2Jvb2xlYW4nKTtcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleVswXSA9PT0gJ18nIHx8IGtleSA9PT0gJyRzdGFibGUnO1xuY29uc3Qgbm9ybWFsaXplU2xvdFZhbHVlID0gKHZhbHVlKSA9PiBpc0FycmF5KHZhbHVlKVxuICAgID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZOb2RlKVxuICAgIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB7XG4gICAgaWYgKHJhd1Nsb3QuX24pIHtcbiAgICAgICAgLy8gYWxyZWFkeSBub3JtYWxpemVkIC0gIzUzNTNcbiAgICAgICAgcmV0dXJuIHJhd1Nsb3Q7XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB3aXRoQ3R4KCguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY3VycmVudEluc3RhbmNlKSB7XG4gICAgICAgICAgICB3YXJuJDEoYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogYCArXG4gICAgICAgICAgICAgICAgYHRoaXMgd2lsbCBub3QgdHJhY2sgZGVwZW5kZW5jaWVzIHVzZWQgaW4gdGhlIHNsb3QuIGAgK1xuICAgICAgICAgICAgICAgIGBJbnZva2UgdGhlIHNsb3QgZnVuY3Rpb24gaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplU2xvdFZhbHVlKHJhd1Nsb3QoLi4uYXJncykpO1xuICAgIH0sIGN0eCk7XG4gICAgbm9ybWFsaXplZC5fYyA9IGZhbHNlO1xuICAgIHJldHVybiBub3JtYWxpemVkO1xufTtcbmNvbnN0IG5vcm1hbGl6ZU9iamVjdFNsb3RzID0gKHJhd1Nsb3RzLCBzbG90cywgaW5zdGFuY2UpID0+IHtcbiAgICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1Nsb3RzKSB7XG4gICAgICAgIGlmIChpc0ludGVybmFsS2V5KGtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSByYXdTbG90c1trZXldO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICEoaXNDb21wYXRFbmFibGVkKFwiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi8sIGluc3RhbmNlKSkpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3Igc2xvdCBcIiR7a2V5fVwiLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBub3JtYWxpemVWTm9kZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSAmJlxuICAgICAgICAhKGlzQ29tcGF0RW5hYmxlZChcIlJFTkRFUl9GVU5DVElPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuUkVOREVSX0ZVTkNUSU9OICovLCBpbnN0YW5jZSkpKSB7XG4gICAgICAgIHdhcm4kMShgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBkZWZhdWx0IHNsb3QuIGAgK1xuICAgICAgICAgICAgYFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmApO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKGNoaWxkcmVuKTtcbiAgICBpbnN0YW5jZS5zbG90cy5kZWZhdWx0ID0gKCkgPT4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBpbml0U2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XG4gICAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNoYXBlRmxhZ3MuU0xPVFNfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAvLyB1c2VycyBjYW4gZ2V0IHRoZSBzaGFsbG93IHJlYWRvbmx5IHZlcnNpb24gb2YgdGhlIHNsb3RzIG9iamVjdCB0aHJvdWdoIGB0aGlzLiRzbG90c2AsXG4gICAgICAgICAgICAvLyB3ZSBzaG91bGQgYXZvaWQgdGhlIHByb3h5IG9iamVjdCBwb2xsdXRpbmcgdGhlIHNsb3RzIG9mIHRoZSBpbnRlcm5hbCBpbnN0YW5jZVxuICAgICAgICAgICAgaW5zdGFuY2Uuc2xvdHMgPSB0b1JhdyhjaGlsZHJlbik7XG4gICAgICAgICAgICAvLyBtYWtlIGNvbXBpbGVyIG1hcmtlciBub24tZW51bWVyYWJsZVxuICAgICAgICAgICAgZGVmKGNoaWxkcmVuLCAnXycsIHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIChpbnN0YW5jZS5zbG90cyA9IHt9KSwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5zbG90cyA9IHt9O1xuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWYoaW5zdGFuY2Uuc2xvdHMsIEludGVybmFsT2JqZWN0S2V5LCAxKTtcbn07XG5jb25zdCB1cGRhdGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IHsgdm5vZGUsIHNsb3RzIH0gPSBpbnN0YW5jZTtcbiAgICBsZXQgbmVlZERlbGV0aW9uQ2hlY2sgPSB0cnVlO1xuICAgIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDMyIC8qIFNoYXBlRmxhZ3MuU0xPVFNfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAvLyBjb21waWxlZCBzbG90cy5cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICAgICAgICAgIC8vIFBhcmVudCB3YXMgSE1SIHVwZGF0ZWQgc28gc2xvdCBjb250ZW50IG1heSBoYXZlIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdXBkYXRlIHNsb3RzIGFuZCBtYXJrIGluc3RhbmNlIGZvciBobXIgYXMgd2VsbFxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEgLyogU2xvdEZsYWdzLlNUQUJMRSAqLykge1xuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVkIEFORCBzdGFibGUuXG4gICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byB1cGRhdGUsIGFuZCBza2lwIHN0YWxlIHNsb3RzIHJlbW92YWwuXG4gICAgICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGVkIGJ1dCBkeW5hbWljICh2LWlmL3YtZm9yIG9uIHNsb3RzKSAtIHVwZGF0ZSBzbG90cywgYnV0IHNraXBcbiAgICAgICAgICAgICAgICAvLyBub3JtYWxpemF0aW9uLlxuICAgICAgICAgICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgIC8vICMyODkzXG4gICAgICAgICAgICAgICAgLy8gd2hlbiByZW5kZXJpbmcgdGhlIG9wdGltaXplZCBzbG90cyBieSBtYW51YWxseSB3cml0dGVuIHJlbmRlciBmdW5jdGlvbixcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGRlbGV0ZSB0aGUgYHNsb3RzLl9gIGZsYWcgaWYgbmVjZXNzYXJ5IHRvIG1ha2Ugc3Vic2VxdWVudCB1cGRhdGVzIHJlbGlhYmxlLFxuICAgICAgICAgICAgICAgIC8vIGkuZS4gbGV0IHRoZSBgcmVuZGVyU2xvdGAgY3JlYXRlIHRoZSBiYWlsZWQgRnJhZ21lbnRcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGltaXplZCAmJiB0eXBlID09PSAxIC8qIFNsb3RGbGFncy5TVEFCTEUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNsb3RzLl87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cywgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IGNoaWxkcmVuO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgICAgICAvLyBub24gc2xvdCBvYmplY3QgY2hpbGRyZW4gKGRpcmVjdCB2YWx1ZSkgcGFzc2VkIHRvIGEgY29tcG9uZW50XG4gICAgICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgICAgICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XG4gICAgfVxuICAgIC8vIGRlbGV0ZSBzdGFsZSBzbG90c1xuICAgIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgICAgICAgaWYgKCFpc0ludGVybmFsS2V5KGtleSkgJiYgIShrZXkgaW4gZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gZGV2IG9ubHlcbmZ1bmN0aW9uIGluc3RhbGxMZWdhY3lDb25maWdXYXJuaW5ncyhjb25maWcpIHtcbiAgICBjb25zdCBsZWdhY3lDb25maWdPcHRpb25zID0ge1xuICAgICAgICBzaWxlbnQ6IFwiQ09ORklHX1NJTEVOVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX1NJTEVOVCAqLyxcbiAgICAgICAgZGV2dG9vbHM6IFwiQ09ORklHX0RFVlRPT0xTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfREVWVE9PTFMgKi8sXG4gICAgICAgIGlnbm9yZWRFbGVtZW50czogXCJDT05GSUdfSUdOT1JFRF9FTEVNRU5UU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX0lHTk9SRURfRUxFTUVOVFMgKi8sXG4gICAgICAgIGtleUNvZGVzOiBcIkNPTkZJR19LRVlfQ09ERVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19LRVlfQ09ERVMgKi8sXG4gICAgICAgIHByb2R1Y3Rpb25UaXA6IFwiQ09ORklHX1BST0RVQ1RJT05fVElQXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfUFJPRFVDVElPTl9USVAgKi9cbiAgICB9O1xuICAgIE9iamVjdC5rZXlzKGxlZ2FjeUNvbmZpZ09wdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgbGV0IHZhbCA9IGNvbmZpZ1trZXldO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uZmlnLCBrZXksIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQobmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0NvcHlpbmdDb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybkRlcHJlY2F0aW9uKGxlZ2FjeUNvbmZpZ09wdGlvbnNba2V5XSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbCA9IG5ld1ZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBpbnN0YWxsTGVnYWN5T3B0aW9uTWVyZ2VTdHJhdHMoY29uZmlnKSB7XG4gICAgY29uZmlnLm9wdGlvbk1lcmdlU3RyYXRlZ2llcyA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleSBpbiBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzICYmXG4gICAgICAgICAgICAgICAgc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJDT05GSUdfT1BUSU9OX01FUkdFX1NUUkFUU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuQ09ORklHX09QVElPTl9NRVJHRV9TVFJBVFMgKi8sIG51bGwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5sZXQgaXNDb3B5aW5nQ29uZmlnID0gZmFsc2U7XG4vLyBleHBvcnRlZCBvbmx5IGZvciB0ZXN0XG5sZXQgc2luZ2xldG9uQXBwO1xubGV0IHNpbmdsZXRvbkN0b3I7XG4vLyBMZWdhY3kgZ2xvYmFsIFZ1ZSBjb25zdHJ1Y3RvclxuZnVuY3Rpb24gY3JlYXRlQ29tcGF0VnVlKGNyZWF0ZUFwcCwgY3JlYXRlU2luZ2xldG9uQXBwKSB7XG4gICAgc2luZ2xldG9uQXBwID0gY3JlYXRlU2luZ2xldG9uQXBwKHt9KTtcbiAgICBjb25zdCBWdWUgPSAoc2luZ2xldG9uQ3RvciA9IGZ1bmN0aW9uIFZ1ZShvcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUNvbXBhdEFwcChvcHRpb25zLCBWdWUpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBhdEFwcChvcHRpb25zID0ge30sIEN0b3IpIHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9NT1VOVFwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX01PVU5UICovLCBudWxsKTtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoZGF0YSAmJlxuICAgICAgICAgICAgIWlzRnVuY3Rpb24oZGF0YSkgJiZcbiAgICAgICAgICAgIHNvZnRBc3NlcnRDb21wYXRFbmFibGVkKFwiT1BUSU9OU19EQVRBX0ZOXCIgLyogRGVwcmVjYXRpb25UeXBlcy5PUFRJT05TX0RBVEFfRk4gKi8sIG51bGwpKSB7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSAoKSA9PiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcChvcHRpb25zKTtcbiAgICAgICAgaWYgKEN0b3IgIT09IFZ1ZSkge1xuICAgICAgICAgICAgYXBwbHlTaW5nbGV0b25Qcm90b3R5cGUoYXBwLCBDdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bSA9IGFwcC5fY3JlYXRlUm9vdChvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2bS4kbW91bnQob3B0aW9ucy5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdm07XG4gICAgICAgIH1cbiAgICB9XG4gICAgVnVlLnZlcnNpb24gPSBgMi42LjE0LWNvbXBhdDoke1wiMy4yLjQ1XCJ9YDtcbiAgICBWdWUuY29uZmlnID0gc2luZ2xldG9uQXBwLmNvbmZpZztcbiAgICBWdWUudXNlID0gKHAsIC4uLm9wdGlvbnMpID0+IHtcbiAgICAgICAgaWYgKHAgJiYgaXNGdW5jdGlvbihwLmluc3RhbGwpKSB7XG4gICAgICAgICAgICBwLmluc3RhbGwoVnVlLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHApKSB7XG4gICAgICAgICAgICBwKFZ1ZSwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFZ1ZTtcbiAgICB9O1xuICAgIFZ1ZS5taXhpbiA9IG0gPT4ge1xuICAgICAgICBzaW5nbGV0b25BcHAubWl4aW4obSk7XG4gICAgICAgIHJldHVybiBWdWU7XG4gICAgfTtcbiAgICBWdWUuY29tcG9uZW50ID0gKChuYW1lLCBjb21wKSA9PiB7XG4gICAgICAgIGlmIChjb21wKSB7XG4gICAgICAgICAgICBzaW5nbGV0b25BcHAuY29tcG9uZW50KG5hbWUsIGNvbXApO1xuICAgICAgICAgICAgcmV0dXJuIFZ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzaW5nbGV0b25BcHAuY29tcG9uZW50KG5hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgVnVlLmRpcmVjdGl2ZSA9ICgobmFtZSwgZGlyKSA9PiB7XG4gICAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgICAgIHNpbmdsZXRvbkFwcC5kaXJlY3RpdmUobmFtZSwgZGlyKTtcbiAgICAgICAgICAgIHJldHVybiBWdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2luZ2xldG9uQXBwLmRpcmVjdGl2ZShuYW1lKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFZ1ZS5vcHRpb25zID0geyBfYmFzZTogVnVlIH07XG4gICAgbGV0IGNpZCA9IDE7XG4gICAgVnVlLmNpZCA9IGNpZDtcbiAgICBWdWUubmV4dFRpY2sgPSBuZXh0VGljaztcbiAgICBjb25zdCBleHRlbmRDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgZnVuY3Rpb24gZXh0ZW5kQ3RvcihleHRlbmRPcHRpb25zID0ge30pIHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9FWFRFTkRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9FWFRFTkQgKi8sIG51bGwpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihleHRlbmRPcHRpb25zKSkge1xuICAgICAgICAgICAgZXh0ZW5kT3B0aW9ucyA9IGV4dGVuZE9wdGlvbnMub3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZW5kQ2FjaGUuaGFzKGV4dGVuZE9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kQ2FjaGUuZ2V0KGV4dGVuZE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFN1cGVyID0gdGhpcztcbiAgICAgICAgZnVuY3Rpb24gU3ViVnVlKGlubGluZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghaW5saW5lT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb21wYXRBcHAoU3ViVnVlLm9wdGlvbnMsIFN1YlZ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ29tcGF0QXBwKG1lcmdlT3B0aW9ucyhleHRlbmQoe30sIFN1YlZ1ZS5vcHRpb25zKSwgaW5saW5lT3B0aW9ucywgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyksIFN1YlZ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgU3ViVnVlLnN1cGVyID0gU3VwZXI7XG4gICAgICAgIFN1YlZ1ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFZ1ZS5wcm90b3R5cGUpO1xuICAgICAgICBTdWJWdWUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViVnVlO1xuICAgICAgICAvLyBjbG9uZSBub24tcHJpbWl0aXZlIGJhc2Ugb3B0aW9uIHZhbHVlcyBmb3IgZWRnZSBjYXNlIG9mIG11dGF0aW5nXG4gICAgICAgIC8vIGV4dGVuZGVkIG9wdGlvbnNcbiAgICAgICAgY29uc3QgbWVyZ2VCYXNlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIFN1cGVyLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cGVyVmFsdWUgPSBTdXBlci5vcHRpb25zW2tleV07XG4gICAgICAgICAgICBtZXJnZUJhc2Vba2V5XSA9IGlzQXJyYXkoc3VwZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICA/IHN1cGVyVmFsdWUuc2xpY2UoKVxuICAgICAgICAgICAgICAgIDogaXNPYmplY3Qoc3VwZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgPyBleHRlbmQoT2JqZWN0LmNyZWF0ZShudWxsKSwgc3VwZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgOiBzdXBlclZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIFN1YlZ1ZS5vcHRpb25zID0gbWVyZ2VPcHRpb25zKG1lcmdlQmFzZSwgZXh0ZW5kT3B0aW9ucywgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyk7XG4gICAgICAgIFN1YlZ1ZS5vcHRpb25zLl9iYXNlID0gU3ViVnVlO1xuICAgICAgICBTdWJWdWUuZXh0ZW5kID0gZXh0ZW5kQ3Rvci5iaW5kKFN1YlZ1ZSk7XG4gICAgICAgIFN1YlZ1ZS5taXhpbiA9IFN1cGVyLm1peGluO1xuICAgICAgICBTdWJWdWUudXNlID0gU3VwZXIudXNlO1xuICAgICAgICBTdWJWdWUuY2lkID0gKytjaWQ7XG4gICAgICAgIGV4dGVuZENhY2hlLnNldChleHRlbmRPcHRpb25zLCBTdWJWdWUpO1xuICAgICAgICByZXR1cm4gU3ViVnVlO1xuICAgIH1cbiAgICBWdWUuZXh0ZW5kID0gZXh0ZW5kQ3Rvci5iaW5kKFZ1ZSk7XG4gICAgVnVlLnNldCA9ICh0YXJnZXQsIGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9TRVRcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9TRVQgKi8sIG51bGwpO1xuICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gICAgVnVlLmRlbGV0ZSA9ICh0YXJnZXQsIGtleSkgPT4ge1xuICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiR0xPQkFMX0RFTEVURVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX0RFTEVURSAqLywgbnVsbCk7XG4gICAgICAgIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgICB9O1xuICAgIFZ1ZS5vYnNlcnZhYmxlID0gKHRhcmdldCkgPT4ge1xuICAgICAgICBhc3NlcnRDb21wYXRFbmFibGVkKFwiR0xPQkFMX09CU0VSVkFCTEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9PQlNFUlZBQkxFICovLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHJlYWN0aXZlKHRhcmdldCk7XG4gICAgfTtcbiAgICBWdWUuZmlsdGVyID0gKChuYW1lLCBmaWx0ZXIpID0+IHtcbiAgICAgICAgaWYgKGZpbHRlcikge1xuICAgICAgICAgICAgc2luZ2xldG9uQXBwLmZpbHRlcihuYW1lLCBmaWx0ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIFZ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzaW5nbGV0b25BcHAuZmlsdGVyKG5hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gaW50ZXJuYWwgdXRpbHMgLSB0aGVzZSBhcmUgdGVjaG5pY2FsbHkgaW50ZXJuYWwgYnV0IHNvbWUgcGx1Z2lucyB1c2UgaXQuXG4gICAgY29uc3QgdXRpbCA9IHtcbiAgICAgICAgd2FybjogKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gd2FybiQxIDogTk9PUCxcbiAgICAgICAgZXh0ZW5kLFxuICAgICAgICBtZXJnZU9wdGlvbnM6IChwYXJlbnQsIGNoaWxkLCB2bSkgPT4gbWVyZ2VPcHRpb25zKHBhcmVudCwgY2hpbGQsIHZtID8gdW5kZWZpbmVkIDogaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyksXG4gICAgICAgIGRlZmluZVJlYWN0aXZlXG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAndXRpbCcsIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkdMT0JBTF9QUklWQVRFX1VUSUxcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUklWQVRFX1VUSUwgKi8sIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIHV0aWw7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBWdWUuY29uZmlndXJlQ29tcGF0ID0gY29uZmlndXJlQ29tcGF0O1xuICAgIHJldHVybiBWdWU7XG59XG5mdW5jdGlvbiBpbnN0YWxsQXBwQ29tcGF0UHJvcGVydGllcyhhcHAsIGNvbnRleHQsIHJlbmRlcikge1xuICAgIGluc3RhbGxGaWx0ZXJNZXRob2QoYXBwLCBjb250ZXh0KTtcbiAgICBpbnN0YWxsTGVnYWN5T3B0aW9uTWVyZ2VTdHJhdHMoYXBwLmNvbmZpZyk7XG4gICAgaWYgKCFzaW5nbGV0b25BcHApIHtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgY2FsbCBvZiBjcmVhdGluZyB0aGUgc2luZ2xldG9uIGl0c2VsZiBzbyB0aGUgcmVzdCBpc1xuICAgICAgICAvLyB1bm5lY2Vzc2FyeVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGluc3RhbGxDb21wYXRNb3VudChhcHAsIGNvbnRleHQsIHJlbmRlcik7XG4gICAgaW5zdGFsbExlZ2FjeUFQSXMoYXBwKTtcbiAgICBhcHBseVNpbmdsZXRvbkFwcE11dGF0aW9ucyhhcHApO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpXG4gICAgICAgIGluc3RhbGxMZWdhY3lDb25maWdXYXJuaW5ncyhhcHAuY29uZmlnKTtcbn1cbmZ1bmN0aW9uIGluc3RhbGxGaWx0ZXJNZXRob2QoYXBwLCBjb250ZXh0KSB7XG4gICAgY29udGV4dC5maWx0ZXJzID0ge307XG4gICAgYXBwLmZpbHRlciA9IChuYW1lLCBmaWx0ZXIpID0+IHtcbiAgICAgICAgYXNzZXJ0Q29tcGF0RW5hYmxlZChcIkZJTFRFUlNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkZJTFRFUlMgKi8sIG51bGwpO1xuICAgICAgICBpZiAoIWZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZmlsdGVyc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGNvbnRleHQuZmlsdGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgd2FybiQxKGBGaWx0ZXIgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuZmlsdGVyc1tuYW1lXSA9IGZpbHRlcjtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICB9O1xufVxuZnVuY3Rpb24gaW5zdGFsbExlZ2FjeUFQSXMoYXBwKSB7XG4gICAgLy8gZXhwb3NlIGdsb2JhbCBBUEkgb24gYXBwIGluc3RhbmNlIGZvciBsZWdhY3kgcGx1Z2luc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGFwcCwge1xuICAgICAgICAvLyBzbyB0aGF0IGFwcC51c2UoKSBjYW4gd29yayB3aXRoIGxlZ2FjeSBwbHVnaW5zIHRoYXQgZXh0ZW5kIHByb3RvdHlwZXNcbiAgICAgICAgcHJvdG90eXBlOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5EZXByZWNhdGlvbihcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUk9UT1RZUEUgKi8sIG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG5leHRUaWNrOiB7IHZhbHVlOiBuZXh0VGljayB9LFxuICAgICAgICBleHRlbmQ6IHsgdmFsdWU6IHNpbmdsZXRvbkN0b3IuZXh0ZW5kIH0sXG4gICAgICAgIHNldDogeyB2YWx1ZTogc2luZ2xldG9uQ3Rvci5zZXQgfSxcbiAgICAgICAgZGVsZXRlOiB7IHZhbHVlOiBzaW5nbGV0b25DdG9yLmRlbGV0ZSB9LFxuICAgICAgICBvYnNlcnZhYmxlOiB7IHZhbHVlOiBzaW5nbGV0b25DdG9yLm9ic2VydmFibGUgfSxcbiAgICAgICAgdXRpbDoge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaW5nbGV0b25DdG9yLnV0aWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFwcGx5U2luZ2xldG9uQXBwTXV0YXRpb25zKGFwcCkge1xuICAgIC8vIGNvcHkgb3ZlciBhc3NldCByZWdpc3RyaWVzIGFuZCBkZW9wdCBmbGFnXG4gICAgYXBwLl9jb250ZXh0Lm1peGlucyA9IFsuLi5zaW5nbGV0b25BcHAuX2NvbnRleHQubWl4aW5zXTtcbiAgICBbJ2NvbXBvbmVudHMnLCAnZGlyZWN0aXZlcycsICdmaWx0ZXJzJ10uZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGFwcC5fY29udGV4dFtrZXldID0gT2JqZWN0LmNyZWF0ZShzaW5nbGV0b25BcHAuX2NvbnRleHRba2V5XSk7XG4gICAgfSk7XG4gICAgLy8gY29weSBvdmVyIGdsb2JhbCBjb25maWcgbXV0YXRpb25zXG4gICAgaXNDb3B5aW5nQ29uZmlnID0gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzaW5nbGV0b25BcHAuY29uZmlnKSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdpc05hdGl2ZVRhZycpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKGlzUnVudGltZU9ubHkoKSAmJlxuICAgICAgICAgICAgKGtleSA9PT0gJ2lzQ3VzdG9tRWxlbWVudCcgfHwga2V5ID09PSAnY29tcGlsZXJPcHRpb25zJykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbCA9IHNpbmdsZXRvbkFwcC5jb25maWdba2V5XTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhcHAuY29uZmlnW2tleV0gPSBpc09iamVjdCh2YWwpID8gT2JqZWN0LmNyZWF0ZSh2YWwpIDogdmFsO1xuICAgICAgICAvLyBjb21wYXQgZm9yIHJ1bnRpbWUgaWdub3JlZEVsZW1lbnRzIC0+IGlzQ3VzdG9tRWxlbWVudFxuICAgICAgICBpZiAoa2V5ID09PSAnaWdub3JlZEVsZW1lbnRzJyAmJlxuICAgICAgICAgICAgaXNDb21wYXRFbmFibGVkKFwiQ09ORklHX0lHTk9SRURfRUxFTUVOVFNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTkZJR19JR05PUkVEX0VMRU1FTlRTICovLCBudWxsKSAmJlxuICAgICAgICAgICAgIWlzUnVudGltZU9ubHkoKSAmJlxuICAgICAgICAgICAgaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBhcHAuY29uZmlnLmNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnQgPSB0YWcgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWwuc29tZSh2ID0+IChpc1N0cmluZyh2KSA/IHYgPT09IHRhZyA6IHYudGVzdCh0YWcpKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzQ29weWluZ0NvbmZpZyA9IGZhbHNlO1xuICAgIGFwcGx5U2luZ2xldG9uUHJvdG90eXBlKGFwcCwgc2luZ2xldG9uQ3Rvcik7XG59XG5mdW5jdGlvbiBhcHBseVNpbmdsZXRvblByb3RvdHlwZShhcHAsIEN0b3IpIHtcbiAgICAvLyBjb3B5IHByb3RvdHlwZSBhdWdtZW50YXRpb25zIGFzIGNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzXG4gICAgY29uc3QgZW5hYmxlZCA9IGlzQ29tcGF0RW5hYmxlZChcIkdMT0JBTF9QUk9UT1RZUEVcIiAvKiBEZXByZWNhdGlvblR5cGVzLkdMT0JBTF9QUk9UT1RZUEUgKi8sIG51bGwpO1xuICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcyA9IE9iamVjdC5jcmVhdGUoQ3Rvci5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBsZXQgaGFzUHJvdG90eXBlQXVnbWVudGF0aW9ucyA9IGZhbHNlO1xuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoQ3Rvci5wcm90b3R5cGUpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRlc2NyaXB0b3JzKSB7XG4gICAgICAgIGlmIChrZXkgIT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICAgIGhhc1Byb3RvdHlwZUF1Z21lbnRhdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXksIGRlc2NyaXB0b3JzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaGFzUHJvdG90eXBlQXVnbWVudGF0aW9ucykge1xuICAgICAgICB3YXJuRGVwcmVjYXRpb24oXCJHTE9CQUxfUFJPVE9UWVBFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5HTE9CQUxfUFJPVE9UWVBFICovLCBudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnN0YWxsQ29tcGF0TW91bnQoYXBwLCBjb250ZXh0LCByZW5kZXIpIHtcbiAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVnVlIDIgc3VwcG9ydHMgdGhlIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgY29tcG9uZW50IGluc3RhbmNlIGJ1dCBub3RcbiAgICAgKiBtb3VudGluZyBpdCwgd2hpY2ggaXMgbm8gbG9uZ2VyIHBvc3NpYmxlIGluIFZ1ZSAzIC0gdGhpcyBpbnRlcm5hbFxuICAgICAqIGZ1bmN0aW9uIHNpbXVsYXRlcyB0aGF0IGJlaGF2aW9yLlxuICAgICAqL1xuICAgIGFwcC5fY3JlYXRlUm9vdCA9IG9wdGlvbnMgPT4ge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBhcHAuX2NvbXBvbmVudDtcbiAgICAgICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHNEYXRhIHx8IG51bGwpO1xuICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgaGFzTm9SZW5kZXIgPSAhaXNGdW5jdGlvbihjb21wb25lbnQpICYmICFjb21wb25lbnQucmVuZGVyICYmICFjb21wb25lbnQudGVtcGxhdGU7XG4gICAgICAgIGNvbnN0IGVtcHR5UmVuZGVyID0gKCkgPT4geyB9O1xuICAgICAgICAvLyBjcmVhdGUgcm9vdCBpbnN0YW5jZVxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKHZub2RlLCBudWxsLCBudWxsKTtcbiAgICAgICAgLy8gc3VwcHJlc3MgXCJtaXNzaW5nIHJlbmRlciBmblwiIHdhcm5pbmcgc2luY2UgaXQgY2FuJ3QgYmUgZGV0ZXJtaW5lZFxuICAgICAgICAvLyB1bnRpbCAkbW91bnQgaXMgY2FsbGVkXG4gICAgICAgIGlmIChoYXNOb1JlbmRlcikge1xuICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gZW1wdHlSZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBDb21wb25lbnQoaW5zdGFuY2UpO1xuICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBpbnN0YW5jZTtcbiAgICAgICAgdm5vZGUuaXNDb21wYXRSb290ID0gdHJ1ZTtcbiAgICAgICAgLy8gJG1vdW50ICYgJGRlc3Ryb3lcbiAgICAgICAgLy8gdGhlc2UgYXJlIGRlZmluZWQgb24gY3R4IGFuZCBwaWNrZWQgdXAgYnkgdGhlICRtb3VudC8kZGVzdHJveVxuICAgICAgICAvLyBwdWJsaWMgcHJvcGVydHkgZ2V0dGVycyBvbiB0aGUgaW5zdGFuY2UgcHJveHkuXG4gICAgICAgIC8vIE5vdGU6IHRoZSBmb2xsb3dpbmcgYXNzdW1lcyBET00gZW52aXJvbm1lbnQgc2luY2UgdGhlIGNvbXBhdCBidWlsZFxuICAgICAgICAvLyBvbmx5IHRhcmdldHMgd2ViLiBJdCBlc3NlbnRpYWxseSBpbmNsdWRlcyBsb2dpYyBmb3IgYXBwLm1vdW50IGZyb21cbiAgICAgICAgLy8gYm90aCBydW50aW1lLWNvcmUgQU5EIHJ1bnRpbWUtZG9tLlxuICAgICAgICBpbnN0YW5jZS5jdHguX2NvbXBhdF9tb3VudCA9IChzZWxlY3Rvck9yRWwpID0+IHtcbiAgICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGBSb290IGluc3RhbmNlIGlzIGFscmVhZHkgbW91bnRlZC5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3Rvck9yRWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvck9yRWwpO1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBGYWlsZWQgdG8gbW91bnQgcm9vdCBpbnN0YW5jZTogc2VsZWN0b3IgXCIke3NlbGVjdG9yT3JFbH1cIiByZXR1cm5lZCBudWxsLmApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHNlbGVjdG9yT3JFbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzU1ZHID0gY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbiAgICAgICAgICAgIC8vIEhNUiByb290IHJlbG9hZFxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcGF0IG1vZGUgd2lsbCB1c2UgaW5zdGFuY2UgaWYgbm90IHJlc2V0IHRvIG51bGxcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmNvbXBvbmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcihjbG9uZWQsIGNvbnRhaW5lciwgaXNTVkcpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXNvbHZlIGluLURPTSB0ZW1wbGF0ZSBpZiBjb21wb25lbnQgZGlkIG5vdCBwcm92aWRlIHJlbmRlclxuICAgICAgICAgICAgLy8gYW5kIG5vIHNldHVwL21peGluIHJlbmRlciBmdW5jdGlvbnMgYXJlIHByb3ZpZGVkIChieSBjaGVja2luZ1xuICAgICAgICAgICAgLy8gdGhhdCB0aGUgaW5zdGFuY2UgaXMgc3RpbGwgdXNpbmcgdGhlIHBsYWNlaG9sZGVyIHJlbmRlciBmbilcbiAgICAgICAgICAgIGlmIChoYXNOb1JlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IGVtcHR5UmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gcm9vdCBkaXJlY3RpdmVzIGNoZWNrXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lci5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyID0gY29udGFpbmVyLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ci5uYW1lICE9PSAndi1jbG9haycgJiYgL14odi18OnxAKS8udGVzdChhdHRyLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybkRlcHJlY2F0aW9uKFwiR0xPQkFMX01PVU5UX0NPTlRBSU5FUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX01PVU5UX0NPTlRBSU5FUiAqLywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UucmVuZGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQudGVtcGxhdGUgPSBjb250YWluZXIuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBmYWxzZSwgdHJ1ZSAvKiBza2lwIG9wdGlvbnMgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2xlYXIgY29udGVudCBiZWZvcmUgbW91bnRpbmdcbiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIC8vIFRPRE8gaHlkcmF0aW9uXG4gICAgICAgICAgICByZW5kZXIodm5vZGUsIGNvbnRhaW5lciwgaXNTVkcpO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCd2LWNsb2FrJyk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZGF0YS12LWFwcCcsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIGNvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG4gICAgICAgIH07XG4gICAgICAgIGluc3RhbmNlLmN0eC5fY29tcGF0X2Rlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBidW0sIHNjb3BlLCB1bSB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlRGVzdHJveSBob29rc1xuICAgICAgICAgICAgICAgIGlmIChidW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmVtaXQoJ2hvb2s6YmVmb3JlRGVzdHJveScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzdG9wIGVmZmVjdHNcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB1bm1vdW50ZWQgaG9va1xuICAgICAgICAgICAgICAgIGlmICh1bSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyh1bSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5lbWl0KCdob29rOmRlc3Ryb3llZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xuICAgIH07XG59XG5jb25zdCBtZXRob2RzVG9QYXRjaCA9IFtcbiAgICAncHVzaCcsXG4gICAgJ3BvcCcsXG4gICAgJ3NoaWZ0JyxcbiAgICAndW5zaGlmdCcsXG4gICAgJ3NwbGljZScsXG4gICAgJ3NvcnQnLFxuICAgICdyZXZlcnNlJ1xuXTtcbmNvbnN0IHBhdGNoZWQgPSBuZXcgV2Vha1NldCgpO1xuZnVuY3Rpb24gZGVmaW5lUmVhY3RpdmUob2JqLCBrZXksIHZhbCkge1xuICAgIC8vIGl0J3MgcG9zc2libGUgZm9yIHRoZSBvcmlnaW5hbCBvYmplY3QgdG8gYmUgbXV0YXRlZCBhZnRlciBiZWluZyBkZWZpbmVkXG4gICAgLy8gYW5kIGV4cGVjdGluZyByZWFjdGl2aXR5Li4uIHdlIGFyZSBjb3ZlcmluZyBpdCBoZXJlIGJlY2F1c2UgdGhpcyBzZWVtcyB0b1xuICAgIC8vIGJlIGEgYml0IG1vcmUgY29tbW9uLlxuICAgIGlmIChpc09iamVjdCh2YWwpICYmICFpc1JlYWN0aXZlKHZhbCkgJiYgIXBhdGNoZWQuaGFzKHZhbCkpIHtcbiAgICAgICAgY29uc3QgcmVhY3RpdmVWYWwgPSByZWFjdGl2ZSh2YWwpO1xuICAgICAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBtZXRob2RzVG9QYXRjaC5mb3JFYWNoKG0gPT4ge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB2YWxbbV0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZVttXS5jYWxsKHJlYWN0aXZlVmFsLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh2YWwpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkZWZpbmVSZWFjdGl2ZVNpbXBsZSh2YWwsIGtleSwgdmFsW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpID0gb2JqLiQ7XG4gICAgaWYgKGkgJiYgb2JqID09PSBpLnByb3h5KSB7XG4gICAgICAgIC8vIHRhcmdldCBpcyBhIFZ1ZSBpbnN0YW5jZSAtIGRlZmluZSBvbiBpbnN0YW5jZS5jdHhcbiAgICAgICAgZGVmaW5lUmVhY3RpdmVTaW1wbGUoaS5jdHgsIGtleSwgdmFsKTtcbiAgICAgICAgaS5hY2Nlc3NDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xuICAgICAgICBvYmpba2V5XSA9IHZhbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlZmluZVJlYWN0aXZlU2ltcGxlKG9iaiwga2V5LCB2YWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlZmluZVJlYWN0aXZlU2ltcGxlKG9iaiwga2V5LCB2YWwpIHtcbiAgICB2YWwgPSBpc09iamVjdCh2YWwpID8gcmVhY3RpdmUodmFsKSA6IHZhbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICB0cmFjayhvYmosIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywga2V5KTtcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldChuZXdWYWwpIHtcbiAgICAgICAgICAgIHZhbCA9IGlzT2JqZWN0KG5ld1ZhbCkgPyByZWFjdGl2ZShuZXdWYWwpIDogbmV3VmFsO1xuICAgICAgICAgICAgdHJpZ2dlcihvYmosIFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLCBrZXksIG5ld1ZhbCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQXBwQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcHA6IG51bGwsXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgaXNOYXRpdmVUYWc6IE5PLFxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICAgICAgICAgICAgZ2xvYmFsUHJvcGVydGllczoge30sXG4gICAgICAgICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxuICAgICAgICAgICAgZXJyb3JIYW5kbGVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB3YXJuSGFuZGxlcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxuICAgICAgICB9LFxuICAgICAgICBtaXhpbnM6IFtdLFxuICAgICAgICBjb21wb25lbnRzOiB7fSxcbiAgICAgICAgZGlyZWN0aXZlczoge30sXG4gICAgICAgIHByb3ZpZGVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICBvcHRpb25zQ2FjaGU6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgIHByb3BzQ2FjaGU6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgIGVtaXRzQ2FjaGU6IG5ldyBXZWFrTWFwKClcbiAgICB9O1xufVxubGV0IHVpZCA9IDA7XG5mdW5jdGlvbiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XG4gICAgICAgIGlmICghaXNGdW5jdGlvbihyb290Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgcm9vdENvbXBvbmVudCA9IE9iamVjdC5hc3NpZ24oe30sIHJvb3RDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb290UHJvcHMgIT0gbnVsbCAmJiAhaXNPYmplY3Qocm9vdFByb3BzKSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICAgICAgICByb290UHJvcHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGxldCBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgYXBwID0gKGNvbnRleHQuYXBwID0ge1xuICAgICAgICAgICAgX3VpZDogdWlkKyssXG4gICAgICAgICAgICBfY29tcG9uZW50OiByb290Q29tcG9uZW50LFxuICAgICAgICAgICAgX3Byb3BzOiByb290UHJvcHMsXG4gICAgICAgICAgICBfY29udGFpbmVyOiBudWxsLFxuICAgICAgICAgICAgX2NvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBfaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICB2ZXJzaW9uLFxuICAgICAgICAgICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb25maWc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGNvbmZpZyh2KSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYGFwcC5jb25maWcgY2Fubm90IGJlIHJlcGxhY2VkLiBNb2RpZnkgaW5kaXZpZHVhbCBvcHRpb25zIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVzZShwbHVnaW4sIC4uLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkUGx1Z2lucy5oYXMocGx1Z2luKSkge1xuICAgICAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGBQbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsdWdpbiAmJiBpc0Z1bmN0aW9uKHBsdWdpbi5pbnN0YWxsKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uaW5zdGFsbChhcHAsIC4uLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEEgcGx1Z2luIG11c3QgZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IHdpdGggYW4gXCJpbnN0YWxsXCIgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgZnVuY3Rpb24uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhcHA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWl4aW4obWl4aW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQubWl4aW5zLmluY2x1ZGVzKG1peGluKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5taXhpbnMucHVzaChtaXhpbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJ01peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1peGluLm5hbWUgPyBgOiAke21peGluLm5hbWV9YCA6ICcnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMSgnTWl4aW5zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBidWlsZHMgc3VwcG9ydGluZyBPcHRpb25zIEFQSScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb250ZXh0LmNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5jb21wb25lbnRzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgRGlyZWN0aXZlIFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0gPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3VudChyb290Q29udGFpbmVyLCBpc0h5ZHJhdGUsIGlzU1ZHKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gIzU1NzFcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYFRoZXJlIGlzIGFscmVhZHkgYW4gYXBwIGluc3RhbmNlIG1vdW50ZWQgb24gdGhlIGhvc3QgY29udGFpbmVyLlxcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAgSWYgeW91IHdhbnQgdG8gbW91bnQgYW5vdGhlciBhcHAgb24gdGhlIHNhbWUgaG9zdCBjb250YWluZXIsYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCB5b3UgbmVlZCB0byB1bm1vdW50IHRoZSBwcmV2aW91cyBhcHAgYnkgY2FsbGluZyBcXGBhcHAudW5tb3VudCgpXFxgIGZpcnN0LmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUocm9vdENvbXBvbmVudCwgcm9vdFByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgYXBwIGNvbnRleHQgb24gdGhlIHJvb3QgVk5vZGUuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBiZSBzZXQgb24gdGhlIHJvb3QgaW5zdGFuY2Ugb24gaW5pdGlhbCBtb3VudC5cbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhNUiByb290IHJlbG9hZFxuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlbG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXIoY2xvbmVWTm9kZSh2bm9kZSksIHJvb3RDb250YWluZXIsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSHlkcmF0ZSAmJiBoeWRyYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRlKHZub2RlLCByb290Q29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgcm9vdENvbnRhaW5lciwgaXNTVkcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGFwcC5fY29udGFpbmVyID0gcm9vdENvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RXhwb3NlUHJveHkodm5vZGUuY29tcG9uZW50KSB8fCB2bm9kZS5jb21wb25lbnQucHJveHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgSWYgeW91IHdhbnQgdG8gcmVtb3VudCB0aGUgc2FtZSBhcHAsIG1vdmUgeW91ciBhcHAgY3JlYXRpb24gbG9naWMgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgaW50byBhIGZhY3RvcnkgZnVuY3Rpb24gYW5kIGNyZWF0ZSBmcmVzaCBhcHAgaW5zdGFuY2VzIGZvciBlYWNoIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYG1vdW50IC0gZS5nLiBcXGBjb25zdCBjcmVhdGVNeUFwcCA9ICgpID0+IGNyZWF0ZUFwcChBcHApXFxgYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVubW91bnQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXIobnVsbCwgYXBwLl9jb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXBwLl9jb250YWluZXIuX192dWVfYXBwX187XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYENhbm5vdCB1bm1vdW50IGFuIGFwcCB0aGF0IGlzIG5vdCBtb3VudGVkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGtleSBpbiBjb250ZXh0LnByb3ZpZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgQXBwIGFscmVhZHkgcHJvdmlkZXMgcHJvcGVydHkgd2l0aCBrZXkgXCIke1N0cmluZyhrZXkpfVwiLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC5wcm92aWRlc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGluc3RhbGxBcHBDb21wYXRQcm9wZXJ0aWVzKGFwcCwgY29udGV4dCwgcmVuZGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgIH07XG59XG5cbi8qKlxuICogRnVuY3Rpb24gZm9yIGhhbmRsaW5nIGEgdGVtcGxhdGUgcmVmXG4gKi9cbmZ1bmN0aW9uIHNldFJlZihyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCBpc1VubW91bnQgPSBmYWxzZSkge1xuICAgIGlmIChpc0FycmF5KHJhd1JlZikpIHtcbiAgICAgICAgcmF3UmVmLmZvckVhY2goKHIsIGkpID0+IHNldFJlZihyLCBvbGRSYXdSZWYgJiYgKGlzQXJyYXkob2xkUmF3UmVmKSA/IG9sZFJhd1JlZltpXSA6IG9sZFJhd1JlZiksIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgaXNVbm1vdW50KSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSAmJiAhaXNVbm1vdW50KSB7XG4gICAgICAgIC8vIHdoZW4gbW91bnRpbmcgYXN5bmMgY29tcG9uZW50cywgbm90aGluZyBuZWVkcyB0byBiZSBkb25lLFxuICAgICAgICAvLyBiZWNhdXNlIHRoZSB0ZW1wbGF0ZSByZWYgaXMgZm9yd2FyZGVkIHRvIGlubmVyIGNvbXBvbmVudFxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlZlZhbHVlID0gdm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqL1xuICAgICAgICA/IGdldEV4cG9zZVByb3h5KHZub2RlLmNvbXBvbmVudCkgfHwgdm5vZGUuY29tcG9uZW50LnByb3h5XG4gICAgICAgIDogdm5vZGUuZWw7XG4gICAgY29uc3QgdmFsdWUgPSBpc1VubW91bnQgPyBudWxsIDogcmVmVmFsdWU7XG4gICAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhb3duZXIpIHtcbiAgICAgICAgd2FybiQxKGBNaXNzaW5nIHJlZiBvd25lciBjb250ZXh0LiByZWYgY2Fubm90IGJlIHVzZWQgb24gaG9pc3RlZCB2bm9kZXMuIGAgK1xuICAgICAgICAgICAgYEEgdm5vZGUgd2l0aCByZWYgbXVzdCBiZSBjcmVhdGVkIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uLmApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcbiAgICBjb25zdCByZWZzID0gb3duZXIucmVmcyA9PT0gRU1QVFlfT0JKID8gKG93bmVyLnJlZnMgPSB7fSkgOiBvd25lci5yZWZzO1xuICAgIGNvbnN0IHNldHVwU3RhdGUgPSBvd25lci5zZXR1cFN0YXRlO1xuICAgIC8vIGR5bmFtaWMgcmVmIGNoYW5nZWQuIHVuc2V0IG9sZCByZWZcbiAgICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKG9sZFJlZikpIHtcbiAgICAgICAgICAgIHJlZnNbb2xkUmVmXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIG9sZFJlZikpIHtcbiAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW29sZFJlZl0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUmVmKG9sZFJlZikpIHtcbiAgICAgICAgICAgIG9sZFJlZi52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcocmVmLCBvd25lciwgMTIgLyogRXJyb3JDb2Rlcy5GVU5DVElPTl9SRUYgKi8sIFt2YWx1ZSwgcmVmc10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgX2lzU3RyaW5nID0gaXNTdHJpbmcocmVmKTtcbiAgICAgICAgY29uc3QgX2lzUmVmID0gaXNSZWYocmVmKTtcbiAgICAgICAgaWYgKF9pc1N0cmluZyB8fCBfaXNSZWYpIHtcbiAgICAgICAgICAgIGNvbnN0IGRvU2V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyYXdSZWYuZikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IF9pc1N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2V0dXBTdGF0ZVtyZWZdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZWZzW3JlZl1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNVbm1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5KGV4aXN0aW5nKSAmJiByZW1vdmUoZXhpc3RpbmcsIHJlZlZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2lzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gcmVmc1tyZWZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYudmFsdWUgPSBbcmVmVmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZzW3Jhd1JlZi5rXSA9IHJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghZXhpc3RpbmcuaW5jbHVkZXMocmVmVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcucHVzaChyZWZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX2lzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIHJlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKF9pc1JlZikge1xuICAgICAgICAgICAgICAgICAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1JlZi5rKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmc1tyYXdSZWYua10gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMSgnSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTonLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZG9TZXQuaWQgPSAtMTtcbiAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZG9TZXQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvU2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICB3YXJuJDEoJ0ludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6JywgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmxldCBoYXNNaXNtYXRjaCA9IGZhbHNlO1xuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiAvc3ZnLy50ZXN0KGNvbnRhaW5lci5uYW1lc3BhY2VVUkkpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSAnZm9yZWlnbk9iamVjdCc7XG5jb25zdCBpc0NvbW1lbnQgPSAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBET01Ob2RlVHlwZXMuQ09NTUVOVCAqLztcbi8vIE5vdGU6IGh5ZHJhdGlvbiBpcyBET00tc3BlY2lmaWNcbi8vIEJ1dCB3ZSBoYXZlIHRvIHBsYWNlIGl0IGluIGNvcmUgZHVlIHRvIHRpZ2h0IGNvdXBsaW5nIHdpdGggY29yZSAtIHNwbGl0dGluZ1xuLy8gaXQgb3V0IGNyZWF0ZXMgYSB0b24gb2YgdW5uZWNlc3NhcnkgY29tcGxleGl0eS5cbi8vIEh5ZHJhdGlvbiBhbHNvIGRlcGVuZHMgb24gc29tZSByZW5kZXJlciBpbnRlcm5hbCBsb2dpYyB3aGljaCBuZWVkcyB0byBiZVxuLy8gcGFzc2VkIGluIHZpYSBhcmd1bWVudHMuXG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMocmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgICBjb25zdCB7IG10OiBtb3VudENvbXBvbmVudCwgcDogcGF0Y2gsIG86IHsgcGF0Y2hQcm9wLCBjcmVhdGVUZXh0LCBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcmVtb3ZlLCBpbnNlcnQsIGNyZWF0ZUNvbW1lbnQgfSB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gICAgY29uc3QgaHlkcmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XG4gICAgICAgIGlmICghY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybiQxKGBBdHRlbXB0aW5nIHRvIGh5ZHJhdGUgZXhpc3RpbmcgbWFya3VwIGJ1dCBjb250YWluZXIgaXMgZW1wdHkuIGAgK1xuICAgICAgICAgICAgICAgICAgICBgUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYCk7XG4gICAgICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyKTtcbiAgICAgICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICAgICAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgaHlkcmF0ZU5vZGUoY29udGFpbmVyLmZpcnN0Q2hpbGQsIHZub2RlLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICAgICAgICBpZiAoaGFzTWlzbWF0Y2ggJiYgIWZhbHNlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGVycm9yIHNob3VsZCBzaG93IHVwIGluIHByb2R1Y3Rpb25cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEh5ZHJhdGlvbiBjb21wbGV0ZWQgYnV0IGNvbnRhaW5zIG1pc21hdGNoZXMuYCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGh5ZHJhdGVOb2RlID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzRnJhZ21lbnRTdGFydCA9IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09ICdbJztcbiAgICAgICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnRTdGFydCk7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcsIHBhdGNoRmxhZyB9ID0gdm5vZGU7XG4gICAgICAgIGxldCBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICAgICAgdm5vZGUuZWwgPSBub2RlO1xuICAgICAgICBpZiAocGF0Y2hGbGFnID09PSAtMiAvKiBQYXRjaEZsYWdzLkJBSUwgKi8pIHtcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV4dE5vZGUgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMyAvKiBET01Ob2RlVHlwZXMuVEVYVCAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyAjNTcyOCBlbXB0eSB0ZXh0IG5vZGUgaW5zaWRlIGEgc2xvdCBjYW4gY2F1c2UgaHlkcmF0aW9uIGZhaWx1cmVcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGUgc2VydmVyIHJlbmRlcmVkIEhUTUwgd29uJ3QgY29udGFpbiBhIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQoKHZub2RlLmVsID0gY3JlYXRlVGV4dCgnJykpLCBwYXJlbnROb2RlKG5vZGUpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhICE9PSB2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBIeWRyYXRpb24gdGV4dCBtaXNtYXRjaDpgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxcbi0gQ2xpZW50OiAke0pTT04uc3RyaW5naWZ5KG5vZGUuZGF0YSl9YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcXG4tIFNlcnZlcjogJHtKU09OLnN0cmluZ2lmeSh2bm9kZS5jaGlsZHJlbil9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29tbWVudDpcbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSAhPT0gOCAvKiBET01Ob2RlVHlwZXMuQ09NTUVOVCAqLyB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU3RhdGljOlxuICAgICAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW50aXJlIHRlbXBsYXRlIGlzIHN0YXRpYyBidXQgU1NSZWQgYXMgYSBmcmFnbWVudFxuICAgICAgICAgICAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9tVHlwZSA9PT0gMSAvKiBET01Ob2RlVHlwZXMuRUxFTUVOVCAqLyB8fCBkb21UeXBlID09PSAzIC8qIERPTU5vZGVUeXBlcy5URVhUICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBhbmNob3IsIGFkb3B0IGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3RhdGljIHZub2RlIGhhcyBpdHMgY29udGVudCBzdHJpcHBlZCBkdXJpbmcgYnVpbGQsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkb3B0IGl0IGZyb20gdGhlIHNlcnZlci1yZW5kZXJlZCBIVE1MLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWVkVG9BZG9wdENvbnRlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUubm9kZVR5cGUgPT09IDEgLyogRE9NTm9kZVR5cGVzLkVMRU1FTlQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV4dE5vZGUub3V0ZXJIVE1MXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5leHROb2RlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdm5vZGUuc3RhdGljQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5leHROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNGcmFnbWVudFN0YXJ0ID8gbmV4dFNpYmxpbmcobmV4dE5vZGUpIDogbmV4dE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgICAgICAgICBpZiAoIWlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUZyYWdtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDEgLyogRE9NTm9kZVR5cGVzLkVMRU1FTlQgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVFbGVtZW50KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHNldHRpbmcgdXAgdGhlIHJlbmRlciBlZmZlY3QsIGlmIHRoZSBpbml0aWFsIHZub2RlIGFscmVhZHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFzIC5lbCBzZXQsIHRoZSBjb21wb25lbnQgd2lsbCBwZXJmb3JtIGh5ZHJhdGlvbiBpbnN0ZWFkIG9mIG1vdW50XG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGl0cyBzdWItdHJlZS5cbiAgICAgICAgICAgICAgICAgICAgdm5vZGUuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBtb3VudENvbXBvbmVudCh2bm9kZSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGJlIGFzeW5jLCBzbyBpbiB0aGUgY2FzZSBvZiBmcmFnbWVudHMgd2UgY2Fubm90IHJlbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gY29tcG9uZW50J3MgcmVuZGVyZWQgb3V0cHV0IHRvIGRldGVybWluZSB0aGUgZW5kIG9mIHRoZSBmcmFnbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkLCB3ZSBkbyBhIGxvb2thaGVhZCB0byBmaW5kIHRoZSBlbmQgYW5jaG9yIG5vZGUuXG4gICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gaXNGcmFnbWVudFN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gIzQyOTMgdGVsZXBvcnQgYXMgY29tcG9uZW50IHJvb3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHROb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbW1lbnQobmV4dE5vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZS5kYXRhID09PSAndGVsZXBvcnQgZW5kJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gIzM3ODdcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgY29tcG9uZW50IGlzIGFzeW5jLCBpdCBtYXkgZ2V0IG1vdmVkIC8gdW5tb3VudGVkIGJlZm9yZSBpdHNcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5uZXIgY29tcG9uZW50IGlzIGxvYWRlZCwgc28gd2UgbmVlZCB0byBnaXZlIGl0IGEgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgdGhhdCBtYXRjaGVzIGl0cyBhZG9wdGVkIERPTS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YlRyZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJUcmVlLmFuY2hvciA9IG5leHROb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV4dE5vZGUucHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY29udGFpbmVyLmxhc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzID8gY3JlYXRlVGV4dFZOb2RlKCcnKSA6IGNyZWF0ZVZOb2RlKCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRyZWUuZWwgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUgPSBzdWJUcmVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogRE9NTm9kZVR5cGVzLkNPTU1FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZUNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqLykge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkdDb250YWluZXIocGFyZW50Tm9kZShub2RlKSksIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaHlkcmF0ZU5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKCdJbnZhbGlkIEhvc3RWTm9kZSB0eXBlOicsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dE5vZGU7XG4gICAgfTtcbiAgICBjb25zdCBoeWRyYXRlRWxlbWVudCA9IChlbCwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMgfSA9IHZub2RlO1xuICAgICAgICAvLyAjNDAwNiBmb3IgZm9ybSBlbGVtZW50cyB3aXRoIG5vbi1zdHJpbmcgdi1tb2RlbCB2YWx1ZSBiaW5kaW5nc1xuICAgICAgICAvLyBlLmcuIDxvcHRpb24gOnZhbHVlPVwib2JqXCI+LCA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgOnRydWUtdmFsdWU9XCIxXCI+XG4gICAgICAgIGNvbnN0IGZvcmNlUGF0Y2hWYWx1ZSA9ICh0eXBlID09PSAnaW5wdXQnICYmIGRpcnMpIHx8IHR5cGUgPT09ICdvcHRpb24nO1xuICAgICAgICAvLyBza2lwIHByb3BzICYgY2hpbGRyZW4gaWYgdGhpcyBpcyBob2lzdGVkIHN0YXRpYyBub2Rlc1xuICAgICAgICAvLyAjNTQwNSBpbiBkZXYsIGFsd2F5cyBoeWRyYXRlIGNoaWxkcmVuIGZvciBITVJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBmb3JjZVBhdGNoVmFsdWUgfHwgcGF0Y2hGbGFnICE9PSAtMSAvKiBQYXRjaEZsYWdzLkhPSVNURUQgKi8pIHtcbiAgICAgICAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnY3JlYXRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgICAgIGlmIChmb3JjZVBhdGNoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICAgICAgIW9wdGltaXplZCB8fFxuICAgICAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJiAoMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovIHwgMzIgLyogUGF0Y2hGbGFncy5IWURSQVRFX0VWRU5UUyAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZm9yY2VQYXRjaFZhbHVlICYmIGtleS5lbmRzV2l0aCgndmFsdWUnKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaXNPbihrZXkpICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCBmYWxzZSwgdW5kZWZpbmVkLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBjbGljayBsaXN0ZW5lcnMgKHdoaWNoIGlzIG1vc3Qgb2Z0ZW4pIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGluZyB0aHJvdWdoIHByb3BzLlxuICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AoZWwsICdvbkNsaWNrJywgbnVsbCwgcHJvcHMub25DbGljaywgZmFsc2UsIHVuZGVmaW5lZCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB2bm9kZSAvIGRpcmVjdGl2ZSBob29rc1xuICAgICAgICAgICAgbGV0IHZub2RlSG9va3M7XG4gICAgICAgICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdiZWZvcmVNb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZub2RlSG9va3MgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ21vdW50ZWQnKTtcbiAgICAgICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGlsZHJlblxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8gJiZcbiAgICAgICAgICAgICAgICAvLyBza2lwIGlmIGVsZW1lbnQgaGFzIGlubmVySFRNTCAvIHRleHRDb250ZW50XG4gICAgICAgICAgICAgICAgIShwcm9wcyAmJiAocHJvcHMuaW5uZXJIVE1MIHx8IHByb3BzLnRleHRDb250ZW50KSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihlbC5maXJzdENoaWxkLCB2bm9kZSwgZWwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4kMShgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjogYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYHNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIG1vcmUgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIFNTUmVkIERPTSBjb250YWlucyBtb3JlIG5vZGVzIHRoYW4gaXQgc2hvdWxkLiBSZW1vdmUgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyID0gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZShjdXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsLnRleHRDb250ZW50ICE9PSB2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIGluIDwke3Zub2RlLnR5cGV9PjpcXG5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgLSBDbGllbnQ6ICR7ZWwudGV4dENvbnRlbnR9XFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYC0gU2VydmVyOiAke3Zub2RlLmNoaWxkcmVufWApO1xuICAgICAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWwubmV4dFNpYmxpbmc7XG4gICAgfTtcbiAgICBjb25zdCBoeWRyYXRlQ2hpbGRyZW4gPSAobm9kZSwgcGFyZW50Vk5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhcGFyZW50Vk5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBsID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2bm9kZSA9IG9wdGltaXplZFxuICAgICAgICAgICAgICAgID8gY2hpbGRyZW5baV1cbiAgICAgICAgICAgICAgICA6IChjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKSk7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBoeWRyYXRlTm9kZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gVGV4dCAmJiAhdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggaW4gPCR7Y29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKX0+OiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBzZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBmZXdlciBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmApO1xuICAgICAgICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGUgU1NSZWQgRE9NIGRpZG4ndCBjb250YWluIGVub3VnaCBub2Rlcy4gTW91bnQgdGhlIG1pc3Npbmcgb25lcy5cbiAgICAgICAgICAgICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWR0NvbnRhaW5lcihjb250YWluZXIpLCBzbG90U2NvcGVJZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG4gICAgY29uc3QgaHlkcmF0ZUZyYWdtZW50ID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBjb25zdCB7IHNsb3RTY29wZUlkczogZnJhZ21lbnRTbG90U2NvcGVJZHMgfSA9IHZub2RlO1xuICAgICAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkc1xuICAgICAgICAgICAgICAgID8gc2xvdFNjb3BlSWRzLmNvbmNhdChmcmFnbWVudFNsb3RTY29wZUlkcylcbiAgICAgICAgICAgICAgICA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4obmV4dFNpYmxpbmcobm9kZSksIHZub2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgaWYgKG5leHQgJiYgaXNDb21tZW50KG5leHQpICYmIG5leHQuZGF0YSA9PT0gJ10nKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmcoKHZub2RlLmFuY2hvciA9IG5leHQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZyYWdtZW50IGRpZG4ndCBoeWRyYXRlIHN1Y2Nlc3NmdWxseSwgc2luY2Ugd2UgZGlkbid0IGdldCBhIGVuZCBhbmNob3JcbiAgICAgICAgICAgIC8vIGJhY2suIFRoaXMgc2hvdWxkIGhhdmUgbGVkIHRvIG5vZGUvY2hpbGRyZW4gbWlzbWF0Y2ggd2FybmluZ3MuXG4gICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAvLyBzaW5jZSB0aGUgYW5jaG9yIGlzIG1pc3NpbmcsIHdlIG5lZWQgdG8gY3JlYXRlIG9uZSBhbmQgaW5zZXJ0IGl0XG4gICAgICAgICAgICBpbnNlcnQoKHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSksIGNvbnRhaW5lciwgbmV4dCk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlTWlzbWF0Y2ggPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgaXNGcmFnbWVudCkgPT4ge1xuICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgd2FybiQxKGBIeWRyYXRpb24gbm9kZSBtaXNtYXRjaDpcXG4tIENsaWVudCB2bm9kZTpgLCB2bm9kZS50eXBlLCBgXFxuLSBTZXJ2ZXIgcmVuZGVyZWQgRE9NOmAsIG5vZGUsIG5vZGUubm9kZVR5cGUgPT09IDMgLyogRE9NTm9kZVR5cGVzLlRFWFQgKi9cbiAgICAgICAgICAgICAgICA/IGAodGV4dClgXG4gICAgICAgICAgICAgICAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSAnWydcbiAgICAgICAgICAgICAgICAgICAgPyBgKHN0YXJ0IG9mIGZyYWdtZW50KWBcbiAgICAgICAgICAgICAgICAgICAgOiBgYCk7XG4gICAgICAgIHZub2RlLmVsID0gbnVsbDtcbiAgICAgICAgaWYgKGlzRnJhZ21lbnQpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGNlc3NpdmUgZnJhZ21lbnQgbm9kZXNcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBc3luY0FuY2hvcihub2RlKTtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQgIT09IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmUobmV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICByZW1vdmUobm9kZSk7XG4gICAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIsIG5leHQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lciksIHNsb3RTY29wZUlkcyk7XG4gICAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gICAgY29uc3QgbG9jYXRlQ2xvc2luZ0FzeW5jQW5jaG9yID0gKG5vZGUpID0+IHtcbiAgICAgICAgbGV0IG1hdGNoID0gMDtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgPT09ICdbJylcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2grKztcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSAnXScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG4gICAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xubGV0IHN1cHBvcnRlZDtcbmxldCBwZXJmO1xuZnVuY3Rpb24gc3RhcnRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gICAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgcGVyZi5tYXJrKGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gKTtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNQZXJmU3RhcnQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZW5kTWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICAgIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGFnID0gYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWA7XG4gICAgICAgIGNvbnN0IGVuZFRhZyA9IHN0YXJ0VGFnICsgYDplbmRgO1xuICAgICAgICBwZXJmLm1hcmsoZW5kVGFnKTtcbiAgICAgICAgcGVyZi5tZWFzdXJlKGA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0+ICR7dHlwZX1gLCBzdGFydFRhZywgZW5kVGFnKTtcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcbiAgICAgICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzUGVyZkVuZChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICBpZiAoc3VwcG9ydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3VwcG9ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbi8qKlxuICogVGhpcyBpcyBvbmx5IGNhbGxlZCBpbiBlc20tYnVuZGxlciBidWlsZHMuXG4gKiBJdCBpcyBjYWxsZWQgd2hlbiBhIHJlbmRlcmVyIGlzIGNyZWF0ZWQsIGluIGBiYXNlQ3JlYXRlUmVuZGVyZXJgIHNvIHRoYXRcbiAqIGltcG9ydGluZyBydW50aW1lLWNvcmUgaXMgc2lkZS1lZmZlY3RzIGZyZWUuXG4gKlxuICogaXN0YW5idWwtaWdub3JlLW5leHRcbiAqL1xuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcbiAgICBjb25zdCBuZWVkV2FybiA9IFtdO1xuICAgIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9PUFRJT05TX0FQSV9fYCk7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICdib29sZWFuJykge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfUFJPRF9ERVZUT09MU19fYCk7XG4gICAgICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuZWVkV2Fybi5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbXVsdGkgPSBuZWVkV2Fybi5sZW5ndGggPiAxO1xuICAgICAgICBjb25zb2xlLndhcm4oYEZlYXR1cmUgZmxhZyR7bXVsdGkgPyBgc2AgOiBgYH0gJHtuZWVkV2Fybi5qb2luKCcsICcpfSAke211bHRpID8gYGFyZWAgOiBgaXNgfSBub3QgZXhwbGljaXRseSBkZWZpbmVkLiBZb3UgYXJlIHJ1bm5pbmcgdGhlIGVzbS1idW5kbGVyIGJ1aWxkIG9mIFZ1ZSwgYCArXG4gICAgICAgICAgICBgd2hpY2ggZXhwZWN0cyB0aGVzZSBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyB0byBiZSBnbG9iYWxseSBpbmplY3RlZCBgICtcbiAgICAgICAgICAgIGB2aWEgdGhlIGJ1bmRsZXIgY29uZmlnIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgdHJlZS1zaGFraW5nIGluIHRoZSBgICtcbiAgICAgICAgICAgIGBwcm9kdWN0aW9uIGJ1bmRsZS5cXG5cXG5gICtcbiAgICAgICAgICAgIGBGb3IgbW9yZSBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9saW5rLnZ1ZWpzLm9yZy9mZWF0dXJlLWZsYWdzLmApO1xuICAgIH1cbn1cblxuY29uc3QgcXVldWVQb3N0UmVuZGVyRWZmZWN0ID0gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2VcbiAgICA7XG4vKipcbiAqIFRoZSBjcmVhdGVSZW5kZXJlciBmdW5jdGlvbiBhY2NlcHRzIHR3byBnZW5lcmljIGFyZ3VtZW50czpcbiAqIEhvc3ROb2RlIGFuZCBIb3N0RWxlbWVudCwgY29ycmVzcG9uZGluZyB0byBOb2RlIGFuZCBFbGVtZW50IHR5cGVzIGluIHRoZVxuICogaG9zdCBlbnZpcm9ubWVudC4gRm9yIGV4YW1wbGUsIGZvciBydW50aW1lLWRvbSwgSG9zdE5vZGUgd291bGQgYmUgdGhlIERPTVxuICogYE5vZGVgIGludGVyZmFjZSBhbmQgSG9zdEVsZW1lbnQgd291bGQgYmUgdGhlIERPTSBgRWxlbWVudGAgaW50ZXJmYWNlLlxuICpcbiAqIEN1c3RvbSByZW5kZXJlcnMgY2FuIHBhc3MgaW4gdGhlIHBsYXRmb3JtIHNwZWNpZmljIHR5cGVzIGxpa2UgdGhpczpcbiAqXG4gKiBgYGAganNcbiAqIGNvbnN0IHsgcmVuZGVyLCBjcmVhdGVBcHAgfSA9IGNyZWF0ZVJlbmRlcmVyPE5vZGUsIEVsZW1lbnQ+KHtcbiAqICAgcGF0Y2hQcm9wLFxuICogICAuLi5ub2RlT3BzXG4gKiB9KVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpO1xufVxuLy8gU2VwYXJhdGUgQVBJIGZvciBjcmVhdGluZyBoeWRyYXRpb24tZW5hYmxlZCByZW5kZXJlci5cbi8vIEh5ZHJhdGlvbiBsb2dpYyBpcyBvbmx5IHVzZWQgd2hlbiBjYWxsaW5nIHRoaXMgZnVuY3Rpb24sIG1ha2luZyBpdFxuLy8gdHJlZS1zaGFrYWJsZS5cbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyk7XG59XG4vLyBpbXBsZW1lbnRhdGlvblxuZnVuY3Rpb24gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICAgIC8vIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIGNoZWNrXG4gICAge1xuICAgICAgICBpbml0RmVhdHVyZUZsYWdzKCk7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IGdldEdsb2JhbFRoaXMoKTtcbiAgICB0YXJnZXQuX19WVUVfXyA9IHRydWU7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgc2V0RGV2dG9vbHNIb29rKHRhcmdldC5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fLCB0YXJnZXQpO1xuICAgIH1cbiAgICBjb25zdCB7IGluc2VydDogaG9zdEluc2VydCwgcmVtb3ZlOiBob3N0UmVtb3ZlLCBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LCBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsIHNldFRleHQ6IGhvc3RTZXRUZXh0LCBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LCBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSwgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZywgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLCBpbnNlcnRTdGF0aWNDb250ZW50OiBob3N0SW5zZXJ0U3RhdGljQ29udGVudCB9ID0gb3B0aW9ucztcbiAgICAvLyBOb3RlOiBmdW5jdGlvbnMgaW5zaWRlIHRoaXMgY2xvc3VyZSBzaG91bGQgdXNlIGBjb25zdCB4eHggPSAoKSA9PiB7fWBcbiAgICAvLyBzdHlsZSBpbiBvcmRlciB0byBwcmV2ZW50IGJlaW5nIGlubGluZWQgYnkgbWluaWZpZXJzLlxuICAgIGNvbnN0IHBhdGNoID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IgPSBudWxsLCBwYXJlbnRDb21wb25lbnQgPSBudWxsLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwsIGlzU1ZHID0gZmFsc2UsIHNsb3RTY29wZUlkcyA9IG51bGwsIG9wdGltaXplZCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc0htclVwZGF0aW5nID8gZmFsc2UgOiAhIW4yLmR5bmFtaWNDaGlsZHJlbikgPT4ge1xuICAgICAgICBpZiAobjEgPT09IG4yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGF0Y2hpbmcgJiBub3Qgc2FtZSB0eXBlLCB1bm1vdW50IG9sZCB0cmVlXG4gICAgICAgIGlmIChuMSAmJiAhaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XG4gICAgICAgICAgICB1bm1vdW50KG4xLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICAgIG4xID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobjIucGF0Y2hGbGFnID09PSAtMiAvKiBQYXRjaEZsYWdzLkJBSUwgKi8pIHtcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgbjIuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFRleHQ6XG4gICAgICAgICAgICAgICAgcHJvY2Vzc1RleHQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgICAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgICAgICAgICBwcm9jZXNzRnJhZ21lbnQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUucHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUucHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJ0ludmFsaWQgVk5vZGUgdHlwZTonLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgcmVmXG4gICAgICAgIGlmIChyZWYgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG4xICYmIG4xLnJlZiwgcGFyZW50U3VzcGVuc2UsIG4yIHx8IG4xLCAhbjIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwcm9jZXNzVGV4dCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVUZXh0KG4yLmNoaWxkcmVuKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gKG4yLmVsID0gbjEuZWwpO1xuICAgICAgICAgICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NDb21tZW50Tm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KChuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8ICcnKSksIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gc3VwcG9ydCBmb3IgZHluYW1pYyBjb21tZW50c1xuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbW91bnRTdGF0aWNOb2RlID0gKG4yLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpID0+IHtcbiAgICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQobjIuY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBpc1NWRywgbjIuZWwsIG4yLmFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXYgLyBITVIgb25seVxuICAgICAqL1xuICAgIGNvbnN0IHBhdGNoU3RhdGljTm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgaXNTVkcpID0+IHtcbiAgICAgICAgLy8gc3RhdGljIG5vZGVzIGFyZSBvbmx5IHBhdGNoZWQgZHVyaW5nIGRldiBmb3IgSE1SXG4gICAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGhvc3ROZXh0U2libGluZyhuMS5hbmNob3IpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXG4gICAgICAgICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcbiAgICAgICAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KG4yLmNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgaXNTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgICAgIG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0sIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpID0+IHtcbiAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICAgICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgZWwgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0pID0+IHtcbiAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICAgICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgICAgICAgZWwgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IG4yLnR5cGUgPT09ICdzdmcnO1xuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgbW91bnRFbGVtZW50KG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhdGNoRWxlbWVudChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1vdW50RWxlbWVudCA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBsZXQgZWw7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHNoYXBlRmxhZywgdHJhbnNpdGlvbiwgZGlycyB9ID0gdm5vZGU7XG4gICAgICAgIGVsID0gdm5vZGUuZWwgPSBob3N0Q3JlYXRlRWxlbWVudCh2bm9kZS50eXBlLCBpc1NWRywgcHJvcHMgJiYgcHJvcHMuaXMsIHByb3BzKTtcbiAgICAgICAgLy8gbW91bnQgY2hpbGRyZW4gZmlyc3QsIHNpbmNlIHNvbWUgcHJvcHMgbWF5IHJlbHkgb24gY2hpbGQgY29udGVudFxuICAgICAgICAvLyBiZWluZyBhbHJlYWR5IHJlbmRlcmVkLCBlLmcuIGA8c2VsZWN0IHZhbHVlPmBcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICBtb3VudENoaWxkcmVuKHZub2RlLmNoaWxkcmVuLCBlbCwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcgJiYgdHlwZSAhPT0gJ2ZvcmVpZ25PYmplY3QnLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2NyZWF0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcm9wc1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ3ZhbHVlJyAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNwZWNpYWwgY2FzZSBmb3Igc2V0dGluZyB2YWx1ZSBvbiBET00gZWxlbWVudHM6XG4gICAgICAgICAgICAgKiAtIGl0IGNhbiBiZSBvcmRlci1zZW5zaXRpdmUgKGUuZy4gc2hvdWxkIGJlIHNldCAqYWZ0ZXIqIG1pbi9tYXgsICMyMzI1LCAjNDAyNClcbiAgICAgICAgICAgICAqIC0gaXQgbmVlZHMgdG8gYmUgZm9yY2VkICgjMTQ3MSlcbiAgICAgICAgICAgICAqICMyMzUzIHByb3Bvc2VzIGFkZGluZyBhbm90aGVyIHJlbmRlcmVyIG9wdGlvbiB0byBjb25maWd1cmUgdGhpcywgYnV0XG4gICAgICAgICAgICAgKiB0aGUgcHJvcGVydGllcyBhZmZlY3RzIGFyZSBzbyBmaW5pdGUgaXQgaXMgd29ydGggc3BlY2lhbCBjYXNpbmcgaXRcbiAgICAgICAgICAgICAqIGhlcmUgdG8gcmVkdWNlIHRoZSBjb21wbGV4aXR5LiAoU3BlY2lhbCBjYXNpbmcgaXQgYWxzbyBzaG91bGQgbm90XG4gICAgICAgICAgICAgKiBhZmZlY3Qgbm9uLURPTSByZW5kZXJlcnMpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgJ3ZhbHVlJywgbnVsbCwgcHJvcHMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NvcGVJZFxuICAgICAgICBzZXRTY29wZUlkKGVsLCB2bm9kZSwgdm5vZGUuc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192bm9kZScsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdm5vZGUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCAnX192dWVQYXJlbnRDb21wb25lbnQnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZU1vdW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIzE1ODMgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIG5vdCByZXNvbHZlZCBjYXNlLCBlbnRlciBob29rIHNob3VsZCBjYWxsIHdoZW4gc3VzcGVuc2UgcmVzb2x2ZWRcbiAgICAgICAgLy8gIzE2ODkgRm9yIGluc2lkZSBzdXNwZW5zZSArIHN1c3BlbnNlIHJlc29sdmVkIGNhc2UsIGp1c3QgY2FsbCBpdFxuICAgICAgICBjb25zdCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9ICghcGFyZW50U3VzcGVuc2UgfHwgKHBhcmVudFN1c3BlbnNlICYmICFwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSkgJiZcbiAgICAgICAgICAgIHRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcbiAgICAgICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgfVxuICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8XG4gICAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fFxuICAgICAgICAgICAgZGlycykge1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgJiYgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsICdtb3VudGVkJyk7XG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICAgICAgICBpZiAoc2NvcGVJZCkge1xuICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNjb3BlSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzbG90U2NvcGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xvdFNjb3BlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xuICAgICAgICAgICAgbGV0IHN1YlRyZWUgPSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiZcbiAgICAgICAgICAgICAgICBzdWJUcmVlLnBhdGNoRmxhZyAmIDIwNDggLyogUGF0Y2hGbGFncy5ERVZfUk9PVF9GUkFHTUVOVCAqLykge1xuICAgICAgICAgICAgICAgIHN1YlRyZWUgPVxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJTaW5nbGVSb290KHN1YlRyZWUuY2hpbGRyZW4pIHx8IHN1YlRyZWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodm5vZGUgPT09IHN1YlRyZWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRWTm9kZSA9IHBhcmVudENvbXBvbmVudC52bm9kZTtcbiAgICAgICAgICAgICAgICBzZXRTY29wZUlkKGVsLCBwYXJlbnRWTm9kZSwgcGFyZW50Vk5vZGUuc2NvcGVJZCwgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQucGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgc3RhcnQgPSAwKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IChjaGlsZHJlbltpXSA9IG9wdGltaXplZFxuICAgICAgICAgICAgICAgID8gY2xvbmVJZk1vdW50ZWQoY2hpbGRyZW5baV0pXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgICAgICAgcGF0Y2gobnVsbCwgY2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSAobjIuZWwgPSBuMS5lbCk7XG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBkaXJzIH0gPSBuMjtcbiAgICAgICAgLy8gIzE0MjYgdGFrZSB0aGUgb2xkIHZub2RlJ3MgcGF0Y2ggZmxhZyBpbnRvIGFjY291bnQgc2luY2UgdXNlciBtYXkgY2xvbmUgYVxuICAgICAgICAvLyBjb21waWxlci1nZW5lcmF0ZWQgdm5vZGUsIHdoaWNoIGRlLW9wdHMgdG8gRlVMTF9QUk9QU1xuICAgICAgICBwYXRjaEZsYWcgfD0gbjEucGF0Y2hGbGFnICYgMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovO1xuICAgICAgICBjb25zdCBvbGRQcm9wcyA9IG4xLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgICAgICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIC8vIGRpc2FibGUgcmVjdXJzZSBpbiBiZWZvcmVVcGRhdGUgaG9va3NcbiAgICAgICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCBmYWxzZSk7XG4gICAgICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkpIHtcbiAgICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlycykge1xuICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgJ2JlZm9yZVVwZGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudENvbXBvbmVudCAmJiB0b2dnbGVSZWN1cnNlKHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxuICAgICAgICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcmVDaGlsZHJlblNWRyA9IGlzU1ZHICYmIG4yLnR5cGUgIT09ICdmb3JlaWduT2JqZWN0JztcbiAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKG4xLmR5bmFtaWNDaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBlbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgYXJlQ2hpbGRyZW5TVkcsIHNsb3RTY29wZUlkcyk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudHlwZS5fX2htcklkKSB7XG4gICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgICAgICAgIC8vIGZ1bGwgZGlmZlxuICAgICAgICAgICAgcGF0Y2hDaGlsZHJlbihuMSwgbjIsIGVsLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBhcmVDaGlsZHJlblNWRywgc2xvdFNjb3BlSWRzLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcbiAgICAgICAgICAgIC8vIHRoZSBwcmVzZW5jZSBvZiBhIHBhdGNoRmxhZyBtZWFucyB0aGlzIGVsZW1lbnQncyByZW5kZXIgY29kZSB3YXNcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlZCBieSB0aGUgY29tcGlsZXIgYW5kIGNhbiB0YWtlIHRoZSBmYXN0IHBhdGguXG4gICAgICAgICAgICAvLyBpbiB0aGlzIHBhdGggb2xkIG5vZGUgYW5kIG5ldyBub2RlIGFyZSBndWFyYW50ZWVkIHRvIGhhdmUgdGhlIHNhbWUgc2hhcGVcbiAgICAgICAgICAgIC8vIChpLmUuIGF0IHRoZSBleGFjdCBzYW1lIHBvc2l0aW9uIGluIHRoZSBzb3VyY2UgdGVtcGxhdGUpXG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTYgLyogUGF0Y2hGbGFncy5GVUxMX1BST1BTICovKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudCBwcm9wcyBjb250YWluIGR5bmFtaWMga2V5cywgZnVsbCBkaWZmIG5lZWRlZFxuICAgICAgICAgICAgICAgIHBhdGNoUHJvcHMoZWwsIG4yLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNsYXNzXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBmbGFnIGlzIG1hdGNoZWQgd2hlbiB0aGUgZWxlbWVudCBoYXMgZHluYW1pYyBjbGFzcyBiaW5kaW5ncy5cbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMiAvKiBQYXRjaEZsYWdzLkNMQVNTICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRQcm9wcy5jbGFzcyAhPT0gbmV3UHJvcHMuY2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICdjbGFzcycsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3R5bGVcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIHN0eWxlIGJpbmRpbmdzXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDQgLyogUGF0Y2hGbGFncy5TVFlMRSAqLykge1xuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCAnc3R5bGUnLCBvbGRQcm9wcy5zdHlsZSwgbmV3UHJvcHMuc3R5bGUsIGlzU1ZHKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGZsYWcgaXMgbWF0Y2hlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBkeW5hbWljIHByb3AvYXR0ciBiaW5kaW5nc1xuICAgICAgICAgICAgICAgIC8vIG90aGVyIHRoYW4gY2xhc3MgYW5kIHN0eWxlLiBUaGUga2V5cyBvZiBkeW5hbWljIHByb3AvYXR0cnMgYXJlIHNhdmVkIGZvclxuICAgICAgICAgICAgICAgIC8vIGZhc3RlciBpdGVyYXRpb24uXG4gICAgICAgICAgICAgICAgLy8gTm90ZSBkeW5hbWljIGtleXMgbGlrZSA6W2Zvb109XCJiYXJcIiB3aWxsIGNhdXNlIHRoaXMgb3B0aW1pemF0aW9uIHRvXG4gICAgICAgICAgICAgICAgLy8gYmFpbCBvdXQgYW5kIGdvIHRocm91Z2ggYSBmdWxsIGRpZmYgYmVjYXVzZSB3ZSBuZWVkIHRvIHVuc2V0IHRoZSBvbGQga2V5XG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDggLyogUGF0Y2hGbGFncy5QUk9QUyAqLykge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmxhZyBpcyBwcmVzZW50IHRoZW4gZHluYW1pY1Byb3BzIG11c3QgYmUgbm9uLW51bGxcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IG4yLmR5bmFtaWNQcm9wcztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICMxNDcxIGZvcmNlIHBhdGNoIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fCBrZXkgPT09ICd2YWx1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIGlzU1ZHLCBuMS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRleHRcbiAgICAgICAgICAgIC8vIFRoaXMgZmxhZyBpcyBtYXRjaGVkIHdoZW4gdGhlIGVsZW1lbnQgaGFzIG9ubHkgZHluYW1pYyB0ZXh0IGNoaWxkcmVuLlxuICAgICAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDEgLyogUGF0Y2hGbGFncy5URVhUICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCAmJiBkeW5hbWljQ2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gdW5vcHRpbWl6ZWQsIGZ1bGwgZGlmZlxuICAgICAgICAgICAgcGF0Y2hQcm9wcyhlbCwgbjIsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZVVwZGF0ZWQpIHx8IGRpcnMpIHtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICAgICAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsICd1cGRhdGVkJyk7XG4gICAgICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFRoZSBmYXN0IHBhdGggZm9yIGJsb2Nrcy5cbiAgICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcykgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY29uc3QgbmV3Vk5vZGUgPSBuZXdDaGlsZHJlbltpXTtcbiAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgY29udGFpbmVyIChwYXJlbnQgZWxlbWVudCkgZm9yIHRoZSBwYXRjaC5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IFxuICAgICAgICAgICAgLy8gb2xkVk5vZGUgbWF5IGJlIGFuIGVycm9yZWQgYXN5bmMgc2V0dXAoKSBjb21wb25lbnQgaW5zaWRlIFN1c3BlbnNlXG4gICAgICAgICAgICAvLyB3aGljaCB3aWxsIG5vdCBoYXZlIGEgbW91bnRlZCBlbGVtZW50XG4gICAgICAgICAgICBvbGRWTm9kZS5lbCAmJlxuICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XG4gICAgICAgICAgICAgICAgLy8gb2YgdGhlIEZyYWdtZW50IGl0c2VsZiBzbyBpdCBjYW4gbW92ZSBpdHMgY2hpbGRyZW4uXG4gICAgICAgICAgICAgICAgKG9sZFZOb2RlLnR5cGUgPT09IEZyYWdtZW50IHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGFsc28gcmVxdWlyZXMgdGhlIGNvcnJlY3QgcGFyZW50IGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAhaXNTYW1lVk5vZGVUeXBlKG9sZFZOb2RlLCBuZXdWTm9kZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cbiAgICAgICAgICAgICAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgKDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8gfCA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSlcbiAgICAgICAgICAgICAgICA/IGhvc3RQYXJlbnROb2RlKG9sZFZOb2RlLmVsKVxuICAgICAgICAgICAgICAgIDogLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIGp1c3QgcGFzcyB0aGUgYmxvY2sgZWxlbWVudCBoZXJlIHRvIGF2b2lkIGEgRE9NIHBhcmVudE5vZGUgY2FsbC5cbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tDb250YWluZXI7XG4gICAgICAgICAgICBwYXRjaChvbGRWTm9kZSwgbmV3Vk5vZGUsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIHZub2RlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHKSA9PiB7XG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2xkUHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmICEoa2V5IGluIG5ld1Byb3BzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBvbGRQcm9wc1trZXldLCBudWxsLCBpc1NWRywgdm5vZGUuY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xuICAgICAgICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyBpcyBub3QgdmFsaWQgcHJvcFxuICAgICAgICAgICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICAvLyBkZWZlciBwYXRjaGluZyB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBwcmV2ICYmIGtleSAhPT0gJ3ZhbHVlJykge1xuICAgICAgICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIGlzU1ZHLCB2bm9kZS5jaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdW5tb3VudENoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXdQcm9wcykge1xuICAgICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsICd2YWx1ZScsIG9sZFByb3BzLnZhbHVlLCBuZXdQcm9wcy52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IChuMi5lbCA9IG4xID8gbjEuZWwgOiBob3N0Q3JlYXRlVGV4dCgnJykpO1xuICAgICAgICBjb25zdCBmcmFnbWVudEVuZEFuY2hvciA9IChuMi5hbmNob3IgPSBuMSA/IG4xLmFuY2hvciA6IGhvc3RDcmVhdGVUZXh0KCcnKSk7XG4gICAgICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSBuMjtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgLy8gIzU1MjMgZGV2IHJvb3QgZnJhZ21lbnQgbWF5IGluaGVyaXQgZGlyZWN0aXZlc1xuICAgICAgICAgICAgKGlzSG1yVXBkYXRpbmcgfHwgcGF0Y2hGbGFnICYgMjA0OCAvKiBQYXRjaEZsYWdzLkRFVl9ST09UX0ZSQUdNRU5UICovKSkge1xuICAgICAgICAgICAgLy8gSE1SIHVwZGF0ZWQgLyBEZXYgcm9vdCBmcmFnbWVudCAody8gY29tbWVudHMpLCBmb3JjZSBmdWxsIGRpZmZcbiAgICAgICAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICAgICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIHNsb3QgZnJhZ21lbnQgd2l0aCA6c2xvdHRlZCBzY29wZSBpZHNcbiAgICAgICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICAgICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHNcbiAgICAgICAgICAgICAgICA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpXG4gICAgICAgICAgICAgICAgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcbiAgICAgICAgfVxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgaG9zdEluc2VydChmcmFnbWVudFN0YXJ0QW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KGZyYWdtZW50RW5kQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICAvLyBhIGZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYXJyYXkgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgYXJlIGVpdGhlciBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyLCBvciBpbXBsaWNpdGx5IGNyZWF0ZWRcbiAgICAgICAgICAgIC8vIGZyb20gYXJyYXlzLlxuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihuMi5jaGlsZHJlbiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwYXRjaEZsYWcgPiAwICYmXG4gICAgICAgICAgICAgICAgcGF0Y2hGbGFnICYgNjQgLyogUGF0Y2hGbGFncy5TVEFCTEVfRlJBR01FTlQgKi8gJiZcbiAgICAgICAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4gJiZcbiAgICAgICAgICAgICAgICAvLyAjMjcxNSB0aGUgcHJldmlvdXMgZnJhZ21lbnQgY291bGQndmUgYmVlbiBhIEJBSUxlZCBvbmUgYXMgYSByZXN1bHRcbiAgICAgICAgICAgICAgICAvLyBvZiByZW5kZXJTbG90KCkgd2l0aCBubyB2YWxpZCBjaGlsZHJlblxuICAgICAgICAgICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIC8vIGEgc3RhYmxlIGZyYWdtZW50ICh0ZW1wbGF0ZSByb290IG9yIDx0ZW1wbGF0ZSB2LWZvcj4pIGRvZXNuJ3QgbmVlZCB0b1xuICAgICAgICAgICAgICAgIC8vIHBhdGNoIGNoaWxkcmVuIG9yZGVyLCBidXQgaXQgbWF5IGNvbnRhaW4gZHluYW1pY0NoaWxkcmVuLlxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudHlwZS5fX2htcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgLy8gIzIwODAgaWYgdGhlIHN0YWJsZSBmcmFnbWVudCBoYXMgYSBrZXksIGl0J3MgYSA8dGVtcGxhdGUgdi1mb3I+IHRoYXQgbWF5XG4gICAgICAgICAgICAgICAgLy8gIGdldCBtb3ZlZCBhcm91bmQuIE1ha2Ugc3VyZSBhbGwgcm9vdCBsZXZlbCB2bm9kZXMgaW5oZXJpdCBlbC5cbiAgICAgICAgICAgICAgICAvLyAjMjEzNCBvciBpZiBpdCdzIGEgY29tcG9uZW50IHJvb3QsIGl0IG1heSBhbHNvIGdldCBtb3ZlZCBhcm91bmRcbiAgICAgICAgICAgICAgICAvLyBhcyB0aGUgY29tcG9uZW50IGlzIGJlaW5nIG1vdmVkLlxuICAgICAgICAgICAgICAgIG4yLmtleSAhPSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgIChwYXJlbnRDb21wb25lbnQgJiYgbjIgPT09IHBhcmVudENvbXBvbmVudC5zdWJUcmVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSAvKiBzaGFsbG93ICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBrZXllZCAvIHVua2V5ZWQsIG9yIG1hbnVhbCBmcmFnbWVudHMuXG4gICAgICAgICAgICAgICAgLy8gZm9yIGtleWVkICYgdW5rZXllZCwgc2luY2UgdGhleSBhcmUgY29tcGlsZXIgZ2VuZXJhdGVkIGZyb20gdi1mb3IsXG4gICAgICAgICAgICAgICAgLy8gZWFjaCBjaGlsZCBpcyBndWFyYW50ZWVkIHRvIGJlIGEgYmxvY2sgc28gdGhlIGZyYWdtZW50IHdpbGwgbmV2ZXJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGR5bmFtaWNDaGlsZHJlbi5cbiAgICAgICAgICAgICAgICBwYXRjaENoaWxkcmVuKG4xLCBuMiwgY29udGFpbmVyLCBmcmFnbWVudEVuZEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcHJvY2Vzc0NvbXBvbmVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgbjIuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9LRVBUX0FMSVZFICovKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5hY3RpdmF0ZShuMiwgY29udGFpbmVyLCBhbmNob3IsIGlzU1ZHLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbW91bnRDb21wb25lbnQobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG1vdW50Q29tcG9uZW50ID0gKGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgLy8gMi54IGNvbXBhdCBtYXkgcHJlLWNyZWF0ZSB0aGUgY29tcG9uZW50IGluc3RhbmNlIGJlZm9yZSBhY3R1YWxseVxuICAgICAgICAvLyBtb3VudGluZ1xuICAgICAgICBjb25zdCBjb21wYXRNb3VudEluc3RhbmNlID0gaW5pdGlhbFZOb2RlLmlzQ29tcGF0Um9vdCAmJiBpbml0aWFsVk5vZGUuY29tcG9uZW50O1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGNvbXBhdE1vdW50SW5zdGFuY2UgfHxcbiAgICAgICAgICAgIChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoaW5pdGlhbFZOb2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XG4gICAgICAgICAgICByZWdpc3RlckhNUihpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluamVjdCByZW5kZXJlciBpbnRlcm5hbHMgZm9yIGtlZXBBbGl2ZVxuICAgICAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xuICAgICAgICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc29sdmUgcHJvcHMgYW5kIHNsb3RzIGZvciBzZXR1cCBjb250ZXh0XG4gICAgICAgIGlmICghKGNvbXBhdE1vdW50SW5zdGFuY2UpKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0dXBDb21wb25lbnQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0dXAoKSBpcyBhc3luYy4gVGhpcyBjb21wb25lbnQgcmVsaWVzIG9uIGFzeW5jIGxvZ2ljIHRvIGJlIHJlc29sdmVkXG4gICAgICAgIC8vIGJlZm9yZSBwcm9jZWVkaW5nXG4gICAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCkge1xuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KTtcbiAgICAgICAgICAgIC8vIEdpdmUgaXQgYSBwbGFjZWhvbGRlciBpZiB0aGlzIGlzIG5vdCBoeWRyYXRpb25cbiAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIHNlbGYtZGVmaW5lZCBmYWxsYmFja1xuICAgICAgICAgICAgaWYgKCFpbml0aWFsVk5vZGUuZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChpbnN0YW5jZS5zdWJUcmVlID0gY3JlYXRlVk5vZGUoQ29tbWVudCkpO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShudWxsLCBwbGFjZWhvbGRlciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gKG4xLCBuMiwgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gKG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudCk7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpKSB7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXAgJiZcbiAgICAgICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIC8vIGFzeW5jICYgc3RpbGwgcGVuZGluZyAtIGp1c3QgdXBkYXRlIHByb3BzIGFuZCBzbG90c1xuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBjb21wb25lbnQncyByZWFjdGl2ZSBlZmZlY3QgZm9yIHJlbmRlciBpc24ndCBzZXQtdXAgeWV0XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobjIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsIHVwZGF0ZVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLm5leHQgPSBuMjtcbiAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSBjaGlsZCBjb21wb25lbnQgaXMgYWxzbyBxdWV1ZWQsIHJlbW92ZSBpdCB0byBhdm9pZFxuICAgICAgICAgICAgICAgIC8vIGRvdWJsZSB1cGRhdGluZyB0aGUgc2FtZSBjaGlsZCBjb21wb25lbnQgaW4gdGhlIHNhbWUgZmx1c2guXG4gICAgICAgICAgICAgICAgaW52YWxpZGF0ZUpvYihpbnN0YW5jZS51cGRhdGUpO1xuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlLnVwZGF0ZSBpcyB0aGUgcmVhY3RpdmUgZWZmZWN0LlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gdXBkYXRlIG5lZWRlZC4ganVzdCBjb3B5IG92ZXIgcHJvcGVydGllc1xuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgICAgIGluc3RhbmNlLnZub2RlID0gbjI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNldHVwUmVuZGVyRWZmZWN0ID0gKGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBjb25zdCBjb21wb25lbnRVcGRhdGVGbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYm0sIG0sIHBhcmVudCB9ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNBc3luY1dyYXBwZXJWTm9kZSA9IGlzQXN5bmNXcmFwcGVyKGluaXRpYWxWTm9kZSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIC8vIGJlZm9yZU1vdW50IGhvb2tcbiAgICAgICAgICAgICAgICBpZiAoYm0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQXJyYXlGbnMoYm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBvblZub2RlQmVmb3JlTW91bnRcbiAgICAgICAgICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZW1pdCgnaG9vazpiZWZvcmVNb3VudCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoZWwgJiYgaHlkcmF0ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdm5vZGUgaGFzIGFkb3B0ZWQgaG9zdCBub2RlIC0gcGVyZm9ybSBoeWRyYXRpb24gaW5zdGVhZCBvZiBtb3VudC5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaHlkcmF0ZVN1YlRyZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVOb2RlKGVsLCBpbnN0YW5jZS5zdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlclZOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUudHlwZS5fX2FzeW5jTG9hZGVyKCkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGU6IHdlIGFyZSBtb3ZpbmcgdGhlIHJlbmRlciBjYWxsIGludG8gYW4gYXN5bmMgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBtZWFucyBpdCB3b24ndCB0cmFjayBkZXBlbmRlbmNpZXMgLSBidXQgaXQncyBvayBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhIHNlcnZlci1yZW5kZXJlZCBhc3luYyB3cmFwcGVyIGlzIGFscmVhZHkgaW4gcmVzb2x2ZWQgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBpdCB3aWxsIG5ldmVyIG5lZWQgdG8gY2hhbmdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gIWluc3RhbmNlLmlzVW5tb3VudGVkICYmIGh5ZHJhdGVTdWJUcmVlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IChpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXRjaChudWxsLCBzdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxWTm9kZS5lbCA9IHN1YlRyZWUuZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG1vdW50ZWQgaG9va1xuICAgICAgICAgICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVNb3VudGVkXG4gICAgICAgICAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcGVkSW5pdGlhbFZOb2RlID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBzY29wZWRJbml0aWFsVk5vZGUpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gaW5zdGFuY2UuZW1pdCgnaG9vazptb3VudGVkJyksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYWN0aXZhdGVkIGhvb2sgZm9yIGtlZXAtYWxpdmUgcm9vdHMuXG4gICAgICAgICAgICAgICAgLy8gIzE3NDIgYWN0aXZhdGVkIGhvb2sgbXVzdCBiZSBhY2Nlc3NlZCBhZnRlciBmaXJzdCByZW5kZXJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgaG9vayBtYXkgYmUgaW5qZWN0ZWQgYnkgYSBjaGlsZCBrZWVwLWFsaXZlXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgKHBhcmVudCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBc3luY1dyYXBwZXIocGFyZW50LnZub2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnZub2RlLnNoYXBlRmxhZyAmIDI1NiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoaW5zdGFuY2UuYSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiBpbnN0YW5jZS5lbWl0KCdob29rOmFjdGl2YXRlZCcpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gIzI0NTg6IGRlZmVyZW5jZSBtb3VudC1vbmx5IG9iamVjdCBwYXJhbWV0ZXJzIHRvIHByZXZlbnQgbWVtbGVha3NcbiAgICAgICAgICAgICAgICBpbml0aWFsVk5vZGUgPSBjb250YWluZXIgPSBhbmNob3IgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0cmlnZ2VyZWQgYnkgbXV0YXRpb24gb2YgY29tcG9uZW50J3Mgb3duIHN0YXRlIChuZXh0OiBudWxsKVxuICAgICAgICAgICAgICAgIC8vIE9SIHBhcmVudCBjYWxsaW5nIHByb2Nlc3NDb21wb25lbnQgKG5leHQ6IFZOb2RlKVxuICAgICAgICAgICAgICAgIGxldCB7IG5leHQsIGJ1LCB1LCBwYXJlbnQsIHZub2RlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XG4gICAgICAgICAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuZXh0IHx8IGluc3RhbmNlLnZub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRGlzYWxsb3cgY29tcG9uZW50IGVmZmVjdCByZWN1cnNpb24gZHVyaW5nIHByZS1saWZlY3ljbGUgaG9va3MuXG4gICAgICAgICAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHZub2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBiZWZvcmVVcGRhdGUgaG9va1xuICAgICAgICAgICAgICAgIGlmIChidSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVCZWZvcmVVcGRhdGVcbiAgICAgICAgICAgICAgICBpZiAoKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0RW5hYmxlZChcIklOU1RBTkNFX0VWRU5UX0hPT0tTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5JTlNUQU5DRV9FVkVOVF9IT09LUyAqLywgaW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmVtaXQoJ2hvb2s6YmVmb3JlVXBkYXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIHJlbmRlclxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gbmV4dFRyZWU7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXRjaChwcmV2VHJlZSwgbmV4dFRyZWUsIFxuICAgICAgICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnROb2RlKHByZXZUcmVlLmVsKSwgXG4gICAgICAgICAgICAgICAgLy8gYW5jaG9yIG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBpc1NWRyk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dC5lbCA9IG5leHRUcmVlLmVsO1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5OZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGYtdHJpZ2dlcmVkIHVwZGF0ZS4gSW4gY2FzZSBvZiBIT0MsIHVwZGF0ZSBwYXJlbnQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHZub2RlIGVsLiBIT0MgaXMgaW5kaWNhdGVkIGJ5IHBhcmVudCBpbnN0YW5jZSdzIHN1YlRyZWUgcG9pbnRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gY2hpbGQgY29tcG9uZW50J3Mgdm5vZGVcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZWQgaG9va1xuICAgICAgICAgICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9uVm5vZGVVcGRhdGVkXG4gICAgICAgICAgICAgICAgaWYgKCh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZVVwZGF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wYXRFbmFibGVkKFwiSU5TVEFOQ0VfRVZFTlRfSE9PS1NcIiAvKiBEZXByZWNhdGlvblR5cGVzLklOU1RBTkNFX0VWRU5UX0hPT0tTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGluc3RhbmNlLmVtaXQoJ2hvb2s6dXBkYXRlZCcpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGNyZWF0ZSByZWFjdGl2ZSBlZmZlY3QgZm9yIHJlbmRlcmluZ1xuICAgICAgICBjb25zdCBlZmZlY3QgPSAoaW5zdGFuY2UuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGNvbXBvbmVudFVwZGF0ZUZuLCAoKSA9PiBxdWV1ZUpvYih1cGRhdGUpLCBpbnN0YW5jZS5zY29wZSAvLyB0cmFjayBpdCBpbiBjb21wb25lbnQncyBlZmZlY3Qgc2NvcGVcbiAgICAgICAgKSk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZSA9IChpbnN0YW5jZS51cGRhdGUgPSAoKSA9PiBlZmZlY3QucnVuKCkpO1xuICAgICAgICB1cGRhdGUuaWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgICAgIC8vIGFsbG93UmVjdXJzZVxuICAgICAgICAvLyAjMTgwMSwgIzIwNDMgY29tcG9uZW50IHJlbmRlciBlZmZlY3RzIHNob3VsZCBhbGxvdyByZWN1cnNpdmUgdXBkYXRlc1xuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgZWZmZWN0Lm9uVHJhY2sgPSBpbnN0YW5jZS5ydGNcbiAgICAgICAgICAgICAgICA/IGUgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRjLCBlKVxuICAgICAgICAgICAgICAgIDogdm9pZCAwO1xuICAgICAgICAgICAgZWZmZWN0Lm9uVHJpZ2dlciA9IGluc3RhbmNlLnJ0Z1xuICAgICAgICAgICAgICAgID8gZSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGcsIGUpXG4gICAgICAgICAgICAgICAgOiB2b2lkIDA7XG4gICAgICAgICAgICB1cGRhdGUub3duZXJJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyID0gKGluc3RhbmNlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkgPT4ge1xuICAgICAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHByZXZQcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xuICAgICAgICBpbnN0YW5jZS52bm9kZSA9IG5leHRWTm9kZTtcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XG4gICAgICAgIHVwZGF0ZVByb3BzKGluc3RhbmNlLCBuZXh0Vk5vZGUucHJvcHMsIHByZXZQcm9wcywgb3B0aW1pemVkKTtcbiAgICAgICAgdXBkYXRlU2xvdHMoaW5zdGFuY2UsIG5leHRWTm9kZS5jaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgICAvLyBwcm9wcyB1cGRhdGUgbWF5IGhhdmUgdHJpZ2dlcmVkIHByZS1mbHVzaCB3YXRjaGVycy5cbiAgICAgICAgLy8gZmx1c2ggdGhlbSBiZWZvcmUgdGhlIHJlbmRlciB1cGRhdGUuXG4gICAgICAgIGZsdXNoUHJlRmx1c2hDYnMoKTtcbiAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgIH07XG4gICAgY29uc3QgcGF0Y2hDaGlsZHJlbiA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgICAgICBjb25zdCBjMSA9IG4xICYmIG4xLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBwcmV2U2hhcGVGbGFnID0gbjEgPyBuMS5zaGFwZUZsYWcgOiAwO1xuICAgICAgICBjb25zdCBjMiA9IG4yLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCB7IHBhdGNoRmxhZywgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICAgICAgLy8gZmFzdCBwYXRoXG4gICAgICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICAgICAgICBpZiAocGF0Y2hGbGFnICYgMTI4IC8qIFBhdGNoRmxhZ3MuS0VZRURfRlJBR01FTlQgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGJlIGVpdGhlciBmdWxseS1rZXllZCBvciBtaXhlZCAoc29tZSBrZXllZCBzb21lIG5vdClcbiAgICAgICAgICAgICAgICAvLyBwcmVzZW5jZSBvZiBwYXRjaEZsYWcgbWVhbnMgY2hpbGRyZW4gYXJlIGd1YXJhbnRlZWQgdG8gYmUgYXJyYXlzXG4gICAgICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGF0Y2hGbGFnICYgMjU2IC8qIFBhdGNoRmxhZ3MuVU5LRVlFRF9GUkFHTUVOVCAqLykge1xuICAgICAgICAgICAgICAgIC8vIHVua2V5ZWRcbiAgICAgICAgICAgICAgICBwYXRjaFVua2V5ZWRDaGlsZHJlbihjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjaGlsZHJlbiBoYXMgMyBwb3NzaWJpbGl0aWVzOiB0ZXh0LCBhcnJheSBvciBubyBjaGlsZHJlbi5cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAvLyB0ZXh0IGNoaWxkcmVuIGZhc3QgcGF0aFxuICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjMiAhPT0gYzEpIHtcbiAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBjMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBwcmV2IGNoaWxkcmVuIHdhcyBhcnJheVxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHR3byBhcnJheXMsIGNhbm5vdCBhc3N1bWUgYW55dGhpbmcsIGRvIGZ1bGwgZGlmZlxuICAgICAgICAgICAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIG5ldyBjaGlsZHJlbiwganVzdCB1bm1vdW50IG9sZFxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHByZXYgY2hpbGRyZW4gd2FzIHRleHQgT1IgbnVsbFxuICAgICAgICAgICAgICAgIC8vIG5ldyBjaGlsZHJlbiBpcyBhcnJheSBPUiBudWxsXG4gICAgICAgICAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiA4IC8qIFNoYXBlRmxhZ3MuVEVYVF9DSElMRFJFTiAqLykge1xuICAgICAgICAgICAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG1vdW50IG5ldyBpZiBhcnJheVxuICAgICAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdW50Q2hpbGRyZW4oYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGF0Y2hVbmtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xuICAgICAgICBjMiA9IGMyIHx8IEVNUFRZX0FSUjtcbiAgICAgICAgY29uc3Qgb2xkTGVuZ3RoID0gYzEubGVuZ3RoO1xuICAgICAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNvbW1vbkxlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCwgbmV3TGVuZ3RoKTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbmV4dENoaWxkID0gKGMyW2ldID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XG4gICAgICAgICAgICBwYXRjaChjMVtpXSwgbmV4dENoaWxkLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZFxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlLCBmYWxzZSwgY29tbW9uTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG1vdW50IG5ld1xuICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgY29tbW9uTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gY2FuIGJlIGFsbC1rZXllZCBvciBtaXhlZFxuICAgIGNvbnN0IHBhdGNoS2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcbiAgICAgICAgbGV0IGUxID0gYzEubGVuZ3RoIC0gMTsgLy8gcHJldiBlbmRpbmcgaW5kZXhcbiAgICAgICAgbGV0IGUyID0gbDIgLSAxOyAvLyBuZXh0IGVuZGluZyBpbmRleFxuICAgICAgICAvLyAxLiBzeW5jIGZyb20gc3RhcnRcbiAgICAgICAgLy8gKGEgYikgY1xuICAgICAgICAvLyAoYSBiKSBkIGVcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgICAgICAgY29uc3QgbjEgPSBjMVtpXTtcbiAgICAgICAgICAgIGNvbnN0IG4yID0gKGMyW2ldID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSk7XG4gICAgICAgICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgICAgICAgICBwYXRjaChuMSwgbjIsIGNvbnRhaW5lciwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIDIuIHN5bmMgZnJvbSBlbmRcbiAgICAgICAgLy8gYSAoYiBjKVxuICAgICAgICAvLyBkIGUgKGIgYylcbiAgICAgICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgICAgICAgY29uc3QgbjEgPSBjMVtlMV07XG4gICAgICAgICAgICBjb25zdCBuMiA9IChjMltlMl0gPSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2UyXSlcbiAgICAgICAgICAgICAgICA6IG5vcm1hbGl6ZVZOb2RlKGMyW2UyXSkpO1xuICAgICAgICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgICAgICAgICAgcGF0Y2gobjEsIG4yLCBjb250YWluZXIsIG51bGwsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUxLS07XG4gICAgICAgICAgICBlMi0tO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuIGNvbW1vbiBzZXF1ZW5jZSArIG1vdW50XG4gICAgICAgIC8vIChhIGIpXG4gICAgICAgIC8vIChhIGIpIGNcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMSwgZTIgPSAyXG4gICAgICAgIC8vIChhIGIpXG4gICAgICAgIC8vIGMgKGEgYilcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gLTEsIGUyID0gMFxuICAgICAgICBpZiAoaSA+IGUxKSB7XG4gICAgICAgICAgICBpZiAoaSA8PSBlMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dFBvcyA8IGwyID8gYzJbbmV4dFBvc10uZWwgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPD0gZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgKGMyW2ldID0gb3B0aW1pemVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNsb25lSWZNb3VudGVkKGMyW2ldKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA0LiBjb21tb24gc2VxdWVuY2UgKyB1bm1vdW50XG4gICAgICAgIC8vIChhIGIpIGNcbiAgICAgICAgLy8gKGEgYilcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gMiwgZTIgPSAxXG4gICAgICAgIC8vIGEgKGIgYylcbiAgICAgICAgLy8gKGIgYylcbiAgICAgICAgLy8gaSA9IDAsIGUxID0gMCwgZTIgPSAtMVxuICAgICAgICBlbHNlIGlmIChpID4gZTIpIHtcbiAgICAgICAgICAgIHdoaWxlIChpIDw9IGUxKSB7XG4gICAgICAgICAgICAgICAgdW5tb3VudChjMVtpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDUuIHVua25vd24gc2VxdWVuY2VcbiAgICAgICAgLy8gW2kgLi4uIGUxICsgMV06IGEgYiBbYyBkIGVdIGYgZ1xuICAgICAgICAvLyBbaSAuLi4gZTIgKyAxXTogYSBiIFtlIGQgYyBoXSBmIGdcbiAgICAgICAgLy8gaSA9IDIsIGUxID0gNCwgZTIgPSA1XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgczEgPSBpOyAvLyBwcmV2IHN0YXJ0aW5nIGluZGV4XG4gICAgICAgICAgICBjb25zdCBzMiA9IGk7IC8vIG5leHQgc3RhcnRpbmcgaW5kZXhcbiAgICAgICAgICAgIC8vIDUuMSBidWlsZCBrZXk6aW5kZXggbWFwIGZvciBuZXdDaGlsZHJlblxuICAgICAgICAgICAgY29uc3Qga2V5VG9OZXdJbmRleE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IHMyOyBpIDw9IGUyOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSAoYzJbaV0gPSBvcHRpbWl6ZWRcbiAgICAgICAgICAgICAgICAgICAgPyBjbG9uZUlmTW91bnRlZChjMltpXSlcbiAgICAgICAgICAgICAgICAgICAgOiBub3JtYWxpemVWTm9kZShjMltpXSkpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBrZXlUb05ld0luZGV4TWFwLmhhcyhuZXh0Q2hpbGQua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBEdXBsaWNhdGUga2V5cyBmb3VuZCBkdXJpbmcgdXBkYXRlOmAsIEpTT04uc3RyaW5naWZ5KG5leHRDaGlsZC5rZXkpLCBgTWFrZSBzdXJlIGtleXMgYXJlIHVuaXF1ZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBrZXlUb05ld0luZGV4TWFwLnNldChuZXh0Q2hpbGQua2V5LCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA1LjIgbG9vcCB0aHJvdWdoIG9sZCBjaGlsZHJlbiBsZWZ0IHRvIGJlIHBhdGNoZWQgYW5kIHRyeSB0byBwYXRjaFxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgbm9kZXMgJiByZW1vdmUgbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHByZXNlbnRcbiAgICAgICAgICAgIGxldCBqO1xuICAgICAgICAgICAgbGV0IHBhdGNoZWQgPSAwO1xuICAgICAgICAgICAgY29uc3QgdG9CZVBhdGNoZWQgPSBlMiAtIHMyICsgMTtcbiAgICAgICAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gdXNlZCB0byB0cmFjayB3aGV0aGVyIGFueSBub2RlIGhhcyBtb3ZlZFxuICAgICAgICAgICAgbGV0IG1heE5ld0luZGV4U29GYXIgPSAwO1xuICAgICAgICAgICAgLy8gd29ya3MgYXMgTWFwPG5ld0luZGV4LCBvbGRJbmRleD5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBvbGRJbmRleCBpcyBvZmZzZXQgYnkgKzFcbiAgICAgICAgICAgIC8vIGFuZCBvbGRJbmRleCA9IDAgaXMgYSBzcGVjaWFsIHZhbHVlIGluZGljYXRpbmcgdGhlIG5ldyBub2RlIGhhc1xuICAgICAgICAgICAgLy8gbm8gY29ycmVzcG9uZGluZyBvbGQgbm9kZS5cbiAgICAgICAgICAgIC8vIHVzZWQgZm9yIGRldGVybWluaW5nIGxvbmdlc3Qgc3RhYmxlIHN1YnNlcXVlbmNlXG4gICAgICAgICAgICBjb25zdCBuZXdJbmRleFRvT2xkSW5kZXhNYXAgPSBuZXcgQXJyYXkodG9CZVBhdGNoZWQpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRvQmVQYXRjaGVkOyBpKyspXG4gICAgICAgICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IHMxOyBpIDw9IGUxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2Q2hpbGQgPSBjMVtpXTtcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA+PSB0b0JlUGF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgbmV3IGNoaWxkcmVuIGhhdmUgYmVlbiBwYXRjaGVkIHNvIHRoaXMgY2FuIG9ubHkgYmUgYSByZW1vdmFsXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBuZXdJbmRleDtcbiAgICAgICAgICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0ga2V5VG9OZXdJbmRleE1hcC5nZXQocHJldkNoaWxkLmtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBrZXktbGVzcyBub2RlLCB0cnkgdG8gbG9jYXRlIGEga2V5LWxlc3Mgbm9kZSBvZiB0aGUgc2FtZSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IHMyOyBqIDw9IGUyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaiAtIHMyXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2FtZVZOb2RlVHlwZShwcmV2Q2hpbGQsIGMyW2pdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbbmV3SW5kZXggLSBzMl0gPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IG1heE5ld0luZGV4U29GYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heE5ld0luZGV4U29GYXIgPSBuZXdJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXRjaChwcmV2Q2hpbGQsIGMyW25ld0luZGV4XSwgY29udGFpbmVyLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNS4zIG1vdmUgYW5kIG1vdW50XG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSBsb25nZXN0IHN0YWJsZSBzdWJzZXF1ZW5jZSBvbmx5IHdoZW4gbm9kZXMgaGF2ZSBtb3ZlZFxuICAgICAgICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZFxuICAgICAgICAgICAgICAgID8gZ2V0U2VxdWVuY2UobmV3SW5kZXhUb09sZEluZGV4TWFwKVxuICAgICAgICAgICAgICAgIDogRU1QVFlfQVJSO1xuICAgICAgICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAvLyBsb29waW5nIGJhY2t3YXJkcyBzbyB0aGF0IHdlIGNhbiB1c2UgbGFzdCBwYXRjaGVkIG5vZGUgYXMgYW5jaG9yXG4gICAgICAgICAgICBmb3IgKGkgPSB0b0JlUGF0Y2hlZCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW25leHRJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dEluZGV4ICsgMSA8IGwyID8gYzJbbmV4dEluZGV4ICsgMV0uZWwgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtb3VudCBuZXdcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobnVsbCwgbmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpZjpcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gc3RhYmxlIHN1YnNlcXVlbmNlIChlLmcuIGEgcmV2ZXJzZSlcbiAgICAgICAgICAgICAgICAgICAgLy8gT1IgY3VycmVudCBub2RlIGlzIG5vdCBhbW9uZyB0aGUgc3RhYmxlIHNlcXVlbmNlXG4gICAgICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZVtqXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyIC8qIE1vdmVUeXBlLlJFT1JERVIgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtb3ZlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUsIHBhcmVudFN1c3BlbnNlID0gbnVsbCkgPT4ge1xuICAgICAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgIG1vdmUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICB2bm9kZS5zdXNwZW5zZS5tb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pIHtcbiAgICAgICAgICAgIHR5cGUubW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGludGVybmFscyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhvc3RJbnNlcnQodm5vZGUuYW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgICAgICAgbW92ZVN0YXRpY05vZGUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBzaW5nbGUgbm9kZXNcbiAgICAgICAgY29uc3QgbmVlZFRyYW5zaXRpb24gPSBtb3ZlVHlwZSAhPT0gMiAvKiBNb3ZlVHlwZS5SRU9SREVSICovICYmXG4gICAgICAgICAgICBzaGFwZUZsYWcgJiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyAmJlxuICAgICAgICAgICAgdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKG5lZWRUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICBpZiAobW92ZVR5cGUgPT09IDAgLyogTW92ZVR5cGUuRU5URVIgKi8pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZSA9ICgpID0+IGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdW5tb3VudCA9ICh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcmVmLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuLCBzaGFwZUZsYWcsIHBhdGNoRmxhZywgZGlycyB9ID0gdm5vZGU7XG4gICAgICAgIC8vIHVuc2V0IHJlZlxuICAgICAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDI1NiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRSAqLykge1xuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5kZWFjdGl2YXRlKHZub2RlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaG91bGRJbnZva2VEaXJzID0gc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gJiYgZGlycztcbiAgICAgICAgY29uc3Qgc2hvdWxkSW52b2tlVm5vZGVIb29rID0gIWlzQXN5bmNXcmFwcGVyKHZub2RlKTtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgaWYgKHNob3VsZEludm9rZVZub2RlSG9vayAmJlxuICAgICAgICAgICAgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVVbm1vdW50KSkge1xuICAgICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8pIHtcbiAgICAgICAgICAgIHVubW91bnRDb21wb25lbnQodm5vZGUuY29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUuc3VzcGVuc2UudW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICAgICAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCAnYmVmb3JlVW5tb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0IC8qIFNoYXBlRmxhZ3MuVEVMRVBPUlQgKi8pIHtcbiAgICAgICAgICAgICAgICB2bm9kZS50eXBlLnJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkLCBpbnRlcm5hbHMsIGRvUmVtb3ZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGR5bmFtaWNDaGlsZHJlbiAmJlxuICAgICAgICAgICAgICAgIC8vICMxMTUzOiBmYXN0IHBhdGggc2hvdWxkIG5vdCBiZSB0YWtlbiBmb3Igbm9uLXN0YWJsZSAodi1mb3IpIGZyYWdtZW50c1xuICAgICAgICAgICAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fFxuICAgICAgICAgICAgICAgICAgICAocGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCAvKiBQYXRjaEZsYWdzLlNUQUJMRV9GUkFHTUVOVCAqLykpKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFzdCBwYXRoIGZvciBibG9jayBub2Rlczogb25seSBuZWVkIHRvIHVubW91bnQgZHluYW1pYyBjaGlsZHJlbi5cbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oZHluYW1pY0NoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgodHlwZSA9PT0gRnJhZ21lbnQgJiZcbiAgICAgICAgICAgICAgICBwYXRjaEZsYWcgJlxuICAgICAgICAgICAgICAgICAgICAoMTI4IC8qIFBhdGNoRmxhZ3MuS0VZRURfRlJBR01FTlQgKi8gfCAyNTYgLyogUGF0Y2hGbGFncy5VTktFWUVEX0ZSQUdNRU5UICovKSkgfHxcbiAgICAgICAgICAgICAgICAoIW9wdGltaXplZCAmJiBzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSkge1xuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgICByZW1vdmUodm5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmXG4gICAgICAgICAgICAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZVVubW91bnRlZCkpIHx8XG4gICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmXG4gICAgICAgICAgICAgICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgJ3VubW91bnRlZCcpO1xuICAgICAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmUgPSB2bm9kZSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyA+IDAgJiZcbiAgICAgICAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgJiAyMDQ4IC8qIFBhdGNoRmxhZ3MuREVWX1JPT1RfRlJBR01FTlQgKi8gJiZcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uICYmXG4gICAgICAgICAgICAgICAgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC50eXBlID09PSBDb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0UmVtb3ZlKGNoaWxkLmVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcbiAgICAgICAgICAgIHJlbW92ZVN0YXRpY05vZGUodm5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBlcmZvcm1SZW1vdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmFmdGVyTGVhdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovICYmXG4gICAgICAgICAgICB0cmFuc2l0aW9uICYmXG4gICAgICAgICAgICAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICAgICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiBsZWF2ZShlbCwgcGVyZm9ybVJlbW92ZSk7XG4gICAgICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xuICAgICAgICAgICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBlcmZvcm1SZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlRnJhZ21lbnQgPSAoY3VyLCBlbmQpID0+IHtcbiAgICAgICAgLy8gRm9yIGZyYWdtZW50cywgZGlyZWN0bHkgcmVtb3ZlIGFsbCBjb250YWluZWQgRE9NIG5vZGVzLlxuICAgICAgICAvLyAoZnJhZ21lbnQgY2hpbGQgbm9kZXMgY2Fubm90IGhhdmUgdHJhbnNpdGlvbilcbiAgICAgICAgbGV0IG5leHQ7XG4gICAgICAgIHdoaWxlIChjdXIgIT09IGVuZCkge1xuICAgICAgICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xuICAgICAgICAgICAgaG9zdFJlbW92ZShjdXIpO1xuICAgICAgICAgICAgY3VyID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBob3N0UmVtb3ZlKGVuZCk7XG4gICAgfTtcbiAgICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYnVtLCBzY29wZSwgdXBkYXRlLCBzdWJUcmVlLCB1bSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIC8vIGJlZm9yZVVubW91bnQgaG9va1xuICAgICAgICBpZiAoYnVtKSB7XG4gICAgICAgICAgICBpbnZva2VBcnJheUZucyhidW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgaW5zdGFuY2UuZW1pdCgnaG9vazpiZWZvcmVEZXN0cm95Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RvcCBlZmZlY3RzIGluIGNvbXBvbmVudCBzY29wZVxuICAgICAgICBzY29wZS5zdG9wKCk7XG4gICAgICAgIC8vIHVwZGF0ZSBtYXkgYmUgbnVsbCBpZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgYmVmb3JlIGl0cyBhc3luY1xuICAgICAgICAvLyBzZXR1cCBoYXMgcmVzb2x2ZWQuXG4gICAgICAgIGlmICh1cGRhdGUpIHtcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgc2NoZWR1bGVyIHdpbGwgbm8gbG9uZ2VyIGludm9rZSBpdFxuICAgICAgICAgICAgdXBkYXRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1bm1vdW50ZWQgaG9va1xuICAgICAgICBpZiAodW0pIHtcbiAgICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1bSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NvbXBhdEVuYWJsZWQoXCJJTlNUQU5DRV9FVkVOVF9IT09LU1wiIC8qIERlcHJlY2F0aW9uVHlwZXMuSU5TVEFOQ0VfRVZFTlRfSE9PS1MgKi8sIGluc3RhbmNlKSkge1xuICAgICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IGluc3RhbmNlLmVtaXQoJ2hvb2s6ZGVzdHJveWVkJyksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgaW5zdGFuY2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIC8vIEEgY29tcG9uZW50IHdpdGggYXN5bmMgZGVwIGluc2lkZSBhIHBlbmRpbmcgc3VzcGVuc2UgaXMgdW5tb3VudGVkIGJlZm9yZVxuICAgICAgICAvLyBpdHMgYXN5bmMgZGVwIHJlc29sdmVzLiBUaGlzIHNob3VsZCByZW1vdmUgdGhlIGRlcCBmcm9tIHRoZSBzdXNwZW5zZSwgYW5kXG4gICAgICAgIC8vIGNhdXNlIHRoZSBzdXNwZW5zZSB0byByZXNvbHZlIGltbWVkaWF0ZWx5IGlmIHRoYXQgd2FzIHRoZSBsYXN0IGRlcC5cbiAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmXG4gICAgICAgICAgICAhcGFyZW50U3VzcGVuc2UuaXNVbm1vdW50ZWQgJiZcbiAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jRGVwICYmXG4gICAgICAgICAgICAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCAmJlxuICAgICAgICAgICAgaW5zdGFuY2Uuc3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzLS07XG4gICAgICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdW5tb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSwgc3RhcnQgPSAwKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gdm5vZGUgPT4ge1xuICAgICAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGdldE5leHRIb3N0Tm9kZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob3N0TmV4dFNpYmxpbmcoKHZub2RlLmFuY2hvciB8fCB2bm9kZS5lbCkpO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVyID0gKHZub2RlLCBjb250YWluZXIsIGlzU1ZHKSA9PiB7XG4gICAgICAgIGlmICh2bm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xuICAgICAgICAgICAgICAgIHVubW91bnQoY29udGFpbmVyLl92bm9kZSwgbnVsbCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRjaChjb250YWluZXIuX3Zub2RlIHx8IG51bGwsIHZub2RlLCBjb250YWluZXIsIG51bGwsIG51bGwsIG51bGwsIGlzU1ZHKTtcbiAgICAgICAgfVxuICAgICAgICBmbHVzaFByZUZsdXNoQ2JzKCk7XG4gICAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICB9O1xuICAgIGNvbnN0IGludGVybmFscyA9IHtcbiAgICAgICAgcDogcGF0Y2gsXG4gICAgICAgIHVtOiB1bm1vdW50LFxuICAgICAgICBtOiBtb3ZlLFxuICAgICAgICByOiByZW1vdmUsXG4gICAgICAgIG10OiBtb3VudENvbXBvbmVudCxcbiAgICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXG4gICAgICAgIHBjOiBwYXRjaENoaWxkcmVuLFxuICAgICAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICAgICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxuICAgICAgICBvOiBvcHRpb25zXG4gICAgfTtcbiAgICBsZXQgaHlkcmF0ZTtcbiAgICBsZXQgaHlkcmF0ZU5vZGU7XG4gICAgaWYgKGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICAgICAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKGludGVybmFscyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgaHlkcmF0ZSxcbiAgICAgICAgY3JlYXRlQXBwOiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKVxuICAgIH07XG59XG5mdW5jdGlvbiB0b2dnbGVSZWN1cnNlKHsgZWZmZWN0LCB1cGRhdGUgfSwgYWxsb3dlZCkge1xuICAgIGVmZmVjdC5hbGxvd1JlY3Vyc2UgPSB1cGRhdGUuYWxsb3dSZWN1cnNlID0gYWxsb3dlZDtcbn1cbi8qKlxuICogIzExNTZcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgSE1SLWVuYWJsZWQsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHN0YXRpYyBub2Rlc1xuICogaW5zaWRlIGEgYmxvY2sgYWxzbyBpbmhlcml0IHRoZSBET00gZWxlbWVudCBmcm9tIHRoZSBwcmV2aW91cyB0cmVlIHNvIHRoYXRcbiAqIEhNUiB1cGRhdGVzICh3aGljaCBhcmUgZnVsbCB1cGRhdGVzKSBjYW4gcmV0cmlldmUgdGhlIGVsZW1lbnQgZm9yIHBhdGNoaW5nLlxuICpcbiAqICMyMDgwXG4gKiBJbnNpZGUga2V5ZWQgYHRlbXBsYXRlYCBmcmFnbWVudCBzdGF0aWMgY2hpbGRyZW4sIGlmIGEgZnJhZ21lbnQgaXMgbW92ZWQsXG4gKiB0aGUgY2hpbGRyZW4gd2lsbCBhbHdheXMgYmUgbW92ZWQuIFRoZXJlZm9yZSwgaW4gb3JkZXIgdG8gZW5zdXJlIGNvcnJlY3QgbW92ZVxuICogcG9zaXRpb24sIGVsIHNob3VsZCBiZSBpbmhlcml0ZWQgZnJvbSBwcmV2aW91cyBub2Rlcy5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHNoYWxsb3cgPSBmYWxzZSkge1xuICAgIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNoMiA9IG4yLmNoaWxkcmVuO1xuICAgIGlmIChpc0FycmF5KGNoMSkgJiYgaXNBcnJheShjaDIpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9ubHkgY2FsbGVkIGluIHRoZSBvcHRpbWl6ZWQgcGF0aCBzbyBhcnJheSBjaGlsZHJlbiBhcmVcbiAgICAgICAgICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgdm5vZGVzXG4gICAgICAgICAgICBjb25zdCBjMSA9IGNoMVtpXTtcbiAgICAgICAgICAgIGxldCBjMiA9IGNoMltpXTtcbiAgICAgICAgICAgIGlmIChjMi5zaGFwZUZsYWcgJiAxIC8qIFNoYXBlRmxhZ3MuRUxFTUVOVCAqLyAmJiAhYzIuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGMyLnBhdGNoRmxhZyA8PSAwIHx8IGMyLnBhdGNoRmxhZyA9PT0gMzIgLyogUGF0Y2hGbGFncy5IWURSQVRFX0VWRU5UUyAqLykge1xuICAgICAgICAgICAgICAgICAgICBjMiA9IGNoMltpXSA9IGNsb25lSWZNb3VudGVkKGNoMltpXSk7XG4gICAgICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc2hhbGxvdylcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gIzY4NTIgYWxzbyBpbmhlcml0IGZvciB0ZXh0IG5vZGVzXG4gICAgICAgICAgICBpZiAoYzIudHlwZSA9PT0gVGV4dCkge1xuICAgICAgICAgICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhbHNvIGluaGVyaXQgZm9yIGNvbW1lbnQgbm9kZXMsIGJ1dCBub3QgcGxhY2Vob2xkZXJzIChlLmcuIHYtaWYgd2hpY2hcbiAgICAgICAgICAgIC8vIHdvdWxkIGhhdmUgcmVjZWl2ZWQgLmVsIGR1cmluZyBibG9jayBwYXRjaClcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgYzIudHlwZSA9PT0gQ29tbWVudCAmJiAhYzIuZWwpIHtcbiAgICAgICAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9uZ2VzdF9pbmNyZWFzaW5nX3N1YnNlcXVlbmNlXG5mdW5jdGlvbiBnZXRTZXF1ZW5jZShhcnIpIHtcbiAgICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gWzBdO1xuICAgIGxldCBpLCBqLCB1LCB2LCBjO1xuICAgIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFyckkgPSBhcnJbaV07XG4gICAgICAgIGlmIChhcnJJICE9PSAwKSB7XG4gICAgICAgICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChhcnJbal0gPCBhcnJJKSB7XG4gICAgICAgICAgICAgICAgcFtpXSA9IGo7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1ID0gMDtcbiAgICAgICAgICAgIHYgPSByZXN1bHQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICh1IDwgdikge1xuICAgICAgICAgICAgICAgIGMgPSAodSArIHYpID4+IDE7XG4gICAgICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xuICAgICAgICAgICAgICAgICAgICB1ID0gYyArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2ID0gYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XG4gICAgICAgICAgICAgICAgaWYgKHUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRbdV0gPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHUgPSByZXN1bHQubGVuZ3RoO1xuICAgIHYgPSByZXN1bHRbdSAtIDFdO1xuICAgIHdoaWxlICh1LS0gPiAwKSB7XG4gICAgICAgIHJlc3VsdFt1XSA9IHY7XG4gICAgICAgIHYgPSBwW3ZdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5jb25zdCBpc1RlbGVwb3J0ID0gKHR5cGUpID0+IHR5cGUuX19pc1RlbGVwb3J0O1xuY29uc3QgaXNUZWxlcG9ydERpc2FibGVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMuZGlzYWJsZWQgPT09ICcnKTtcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKHByb3BzLCBzZWxlY3QpID0+IHtcbiAgICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IHByb3BzICYmIHByb3BzLnRvO1xuICAgIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcbiAgICAgICAgaWYgKCFzZWxlY3QpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm4kMShgQ3VycmVudCByZW5kZXJlciBkb2VzIG5vdCBzdXBwb3J0IHN0cmluZyB0YXJnZXQgZm9yIFRlbGVwb3J0cy4gYCArXG4gICAgICAgICAgICAgICAgICAgIGAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gc2VsZWN0KHRhcmdldFNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgIHdhcm4kMShgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYE5vdGUgdGhlIHRhcmdldCBlbGVtZW50IG11c3QgZXhpc3QgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCAtIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGkuZS4gdGhlIHRhcmdldCBjYW5ub3QgYmUgcmVuZGVyZWQgYnkgdGhlIGNvbXBvbmVudCBpdHNlbGYsIGFuZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhdGFyZ2V0U2VsZWN0b3IgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQ6ICR7dGFyZ2V0U2VsZWN0b3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldFNlbGVjdG9yO1xuICAgIH1cbn07XG5jb25zdCBUZWxlcG9ydEltcGwgPSB7XG4gICAgX19pc1RlbGVwb3J0OiB0cnVlLFxuICAgIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpIHtcbiAgICAgICAgY29uc3QgeyBtYzogbW91bnRDaGlsZHJlbiwgcGM6IHBhdGNoQ2hpbGRyZW4sIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLCBvOiB7IGluc2VydCwgcXVlcnlTZWxlY3RvciwgY3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudCB9IH0gPSBpbnRlcm5hbHM7XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcbiAgICAgICAgbGV0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuIH0gPSBuMjtcbiAgICAgICAgLy8gIzMzMDJcbiAgICAgICAgLy8gSE1SIHVwZGF0ZWQsIGZvcmNlIGZ1bGwgZGlmZlxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaW5zZXJ0IGFuY2hvcnMgaW4gdGhlIG1haW4gdmlld1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAobjIuZWwgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgICAgICA/IGNyZWF0ZUNvbW1lbnQoJ3RlbGVwb3J0IHN0YXJ0JylcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZVRleHQoJycpKTtcbiAgICAgICAgICAgIGNvbnN0IG1haW5BbmNob3IgPSAobjIuYW5jaG9yID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVDb21tZW50KCd0ZWxlcG9ydCBlbmQnKVxuICAgICAgICAgICAgICAgIDogY3JlYXRlVGV4dCgnJykpO1xuICAgICAgICAgICAgaW5zZXJ0KHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgICBpbnNlcnQobWFpbkFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gKG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IChuMi50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KCcnKSk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAvLyAjMjY1MiB3ZSBjb3VsZCBiZSB0ZWxlcG9ydGluZyBmcm9tIGEgbm9uLVNWRyB0cmVlIGludG8gYW4gU1ZHIHRyZWVcbiAgICAgICAgICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKCdJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vdW50ID0gKGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVGVsZXBvcnQgKmFsd2F5cyogaGFzIEFycmF5IGNoaWxkcmVuLiBUaGlzIGlzIGVuZm9yY2VkIGluIGJvdGggdGhlXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZXIgYW5kIHZub2RlIGNoaWxkcmVuIG5vcm1hbGl6YXRpb24uXG4gICAgICAgICAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgbW91bnRDaGlsZHJlbihjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGlzU1ZHLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIG1vdW50KGNvbnRhaW5lciwgbWFpbkFuY2hvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBtb3VudCh0YXJnZXQsIHRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgY29udGVudFxuICAgICAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgICAgIGNvbnN0IG1haW5BbmNob3IgPSAobjIuYW5jaG9yID0gbjEuYW5jaG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IChuMi50YXJnZXQgPSBuMS50YXJnZXQpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gKG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICBjb25zdCB3YXNEaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMS5wcm9wcyk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q29udGFpbmVyID0gd2FzRGlzYWJsZWQgPyBjb250YWluZXIgOiB0YXJnZXQ7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gd2FzRGlzYWJsZWQgPyBtYWluQW5jaG9yIDogdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgaXNTVkcgPSBpc1NWRyB8fCBpc1RhcmdldFNWRyh0YXJnZXQpO1xuICAgICAgICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIC8vIGZhc3QgcGF0aCB3aGVuIHRoZSB0ZWxlcG9ydCBoYXBwZW5zIHRvIGJlIGEgYmxvY2sgcm9vdFxuICAgICAgICAgICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihuMS5keW5hbWljQ2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiwgY3VycmVudENvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgaXNTVkcsIHNsb3RTY29wZUlkcyk7XG4gICAgICAgICAgICAgICAgLy8gZXZlbiBpbiBibG9jayB0cmVlIG1vZGUgd2UgbmVlZCB0byBtYWtlIHN1cmUgYWxsIHJvb3QtbGV2ZWwgbm9kZXNcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgdGVsZXBvcnQgaW5oZXJpdCBwcmV2aW91cyBET00gcmVmZXJlbmNlcyBzbyB0aGF0IHRoZXkgY2FuXG4gICAgICAgICAgICAgICAgLy8gYmUgbW92ZWQgaW4gZnV0dXJlIHBhdGNoZXMuXG4gICAgICAgICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4objEsIG4yLCBjdXJyZW50Q29udGFpbmVyLCBjdXJyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBpc1NWRywgc2xvdFNjb3BlSWRzLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVuYWJsZWQgLT4gZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBpbnRvIG1haW4gY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVUZWxlcG9ydChuMiwgY29udGFpbmVyLCBtYWluQW5jaG9yLCBpbnRlcm5hbHMsIDEgLyogVGVsZXBvcnRNb3ZlVHlwZXMuVE9HR0xFICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB0YXJnZXQgY2hhbmdlZFxuICAgICAgICAgICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUYXJnZXQgPSAobjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChuMi5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCBuZXh0VGFyZ2V0LCBudWxsLCBpbnRlcm5hbHMsIDAgLyogVGVsZXBvcnRNb3ZlVHlwZXMuVEFSR0VUX0NIQU5HRSAqLyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuJDEoJ0ludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIHVwZGF0ZTonLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlZCAtPiBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgaW50byB0ZWxlcG9ydCB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRlbGVwb3J0KG4yLCB0YXJnZXQsIHRhcmdldEFuY2hvciwgaW50ZXJuYWxzLCAxIC8qIFRlbGVwb3J0TW92ZVR5cGVzLlRPR0dMRSAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUNzc1ZhcnMobjIpO1xuICAgIH0sXG4gICAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQsIHsgdW06IHVubW91bnQsIG86IHsgcmVtb3ZlOiBob3N0UmVtb3ZlIH0gfSwgZG9SZW1vdmUpIHtcbiAgICAgICAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBhbmNob3IsIHRhcmdldEFuY2hvciwgdGFyZ2V0LCBwcm9wcyB9ID0gdm5vZGU7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbiB1bm1vdW50ZWQgdGVsZXBvcnQgc2hvdWxkIGFsd2F5cyByZW1vdmUgaXRzIGNoaWxkcmVuIGlmIG5vdCBkaXNhYmxlZFxuICAgICAgICBpZiAoZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcbiAgICAgICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICB1bm1vdW50KGNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlLCAhIWNoaWxkLmR5bmFtaWNDaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVRlbGVwb3J0XG59O1xuZnVuY3Rpb24gbW92ZVRlbGVwb3J0KHZub2RlLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgeyBvOiB7IGluc2VydCB9LCBtOiBtb3ZlIH0sIG1vdmVUeXBlID0gMiAvKiBUZWxlcG9ydE1vdmVUeXBlcy5SRU9SREVSICovKSB7XG4gICAgLy8gbW92ZSB0YXJnZXQgYW5jaG9yIGlmIHRoaXMgaXMgYSB0YXJnZXQgY2hhbmdlLlxuICAgIGlmIChtb3ZlVHlwZSA9PT0gMCAvKiBUZWxlcG9ydE1vdmVUeXBlcy5UQVJHRVRfQ0hBTkdFICovKSB7XG4gICAgICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgICB9XG4gICAgY29uc3QgeyBlbCwgYW5jaG9yLCBzaGFwZUZsYWcsIGNoaWxkcmVuLCBwcm9wcyB9ID0gdm5vZGU7XG4gICAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDIgLyogVGVsZXBvcnRNb3ZlVHlwZXMuUkVPUkRFUiAqLztcbiAgICAvLyBtb3ZlIG1haW4gdmlldyBhbmNob3IgaWYgdGhpcyBpcyBhIHJlLW9yZGVyLlxuICAgIGlmIChpc1Jlb3JkZXIpIHtcbiAgICAgICAgaW5zZXJ0KGVsLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gICAgfVxuICAgIC8vIGlmIHRoaXMgaXMgYSByZS1vcmRlciBhbmQgdGVsZXBvcnQgaXMgZW5hYmxlZCAoY29udGVudCBpcyBpbiB0YXJnZXQpXG4gICAgLy8gZG8gbm90IG1vdmUgY2hpbGRyZW4uIFNvIHRoZSBvcHBvc2l0ZSBpczogb25seSBtb3ZlIGNoaWxkcmVuIGlmIHRoaXNcbiAgICAvLyBpcyBub3QgYSByZW9yZGVyLCBvciB0aGUgdGVsZXBvcnQgaXMgZGlzYWJsZWRcbiAgICBpZiAoIWlzUmVvcmRlciB8fCBpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICAgIC8vIFRlbGVwb3J0IGhhcyBlaXRoZXIgQXJyYXkgY2hpbGRyZW4gb3Igbm8gY2hpbGRyZW4uXG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIDIgLyogTW92ZVR5cGUuUkVPUkRFUiAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gbW92ZSBtYWluIHZpZXcgYW5jaG9yIGlmIHRoaXMgaXMgYSByZS1vcmRlci5cbiAgICBpZiAoaXNSZW9yZGVyKSB7XG4gICAgICAgIGluc2VydChhbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBoeWRyYXRlVGVsZXBvcnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IG86IHsgbmV4dFNpYmxpbmcsIHBhcmVudE5vZGUsIHF1ZXJ5U2VsZWN0b3IgfSB9LCBoeWRyYXRlQ2hpbGRyZW4pIHtcbiAgICBjb25zdCB0YXJnZXQgPSAodm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldCh2bm9kZS5wcm9wcywgcXVlcnlTZWxlY3RvcikpO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgLy8gaWYgbXVsdGlwbGUgdGVsZXBvcnRzIHJlbmRlcmVkIHRvIHRoZSBzYW1lIHRhcmdldCBlbGVtZW50LCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIHBpY2sgdXAgZnJvbSB3aGVyZSB0aGUgbGFzdCB0ZWxlcG9ydCBmaW5pc2hlZCBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBub2RlXG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuX2xwYSB8fCB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi8pIHtcbiAgICAgICAgICAgIGlmIChpc1RlbGVwb3J0RGlzYWJsZWQodm5vZGUucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKG5leHRTaWJsaW5nKG5vZGUpLCB2bm9kZSwgcGFyZW50Tm9kZShub2RlKSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICAgICAgICAvLyBsb29rYWhlYWQgdW50aWwgd2UgZmluZCB0aGUgdGFyZ2V0IGFuY2hvclxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbm5vdCByZWx5IG9uIHJldHVybiB2YWx1ZSBvZiBoeWRyYXRlQ2hpbGRyZW4oKSBiZWNhdXNlIHRoZXJlXG4gICAgICAgICAgICAgICAgLy8gY291bGQgYmUgbmVzdGVkIHRlbGVwb3J0c1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0YXJnZXRBbmNob3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QW5jaG9yID0gbmV4dFNpYmxpbmcodGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEFuY2hvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QW5jaG9yLm5vZGVUeXBlID09PSA4ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRBbmNob3IuZGF0YSA9PT0gJ3RlbGVwb3J0IGFuY2hvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldEFuY2hvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5fbHBhID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUudGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGh5ZHJhdGVDaGlsZHJlbih0YXJnZXROb2RlLCB2bm9kZSwgdGFyZ2V0LCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlQ3NzVmFycyh2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB2bm9kZS5hbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yKTtcbn1cbi8vIEZvcmNlLWNhc3RlZCBwdWJsaWMgdHlwaW5nIGZvciBoIGFuZCBUU1ggcHJvcHMgaW5mZXJlbmNlXG5jb25zdCBUZWxlcG9ydCA9IFRlbGVwb3J0SW1wbDtcbmZ1bmN0aW9uIHVwZGF0ZUNzc1ZhcnModm5vZGUpIHtcbiAgICAvLyBwcmVzZW5jZSBvZiAudXQgbWV0aG9kIGluZGljYXRlcyBvd25lciBjb21wb25lbnQgdXNlcyBjc3MgdmFycy5cbiAgICAvLyBjb2RlIHBhdGggaGVyZSBjYW4gYXNzdW1lIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgY29uc3QgY3R4ID0gdm5vZGUuY3R4O1xuICAgIGlmIChjdHggJiYgY3R4LnV0KSB7XG4gICAgICAgIGxldCBub2RlID0gdm5vZGUuY2hpbGRyZW5bMF0uZWw7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSB2bm9kZS50YXJnZXRBbmNob3IpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKVxuICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLXYtb3duZXInLCBjdHgudWlkKTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGN0eC51dCgpO1xuICAgIH1cbn1cblxuY29uc3Qgbm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gY29udmVydExlZ2FjeUFzeW5jQ29tcG9uZW50KGNvbXApIHtcbiAgICBpZiAobm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwLmhhcyhjb21wKSkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEFzeW5jQ29tcG9uZW50TWFwLmdldChjb21wKTtcbiAgICB9XG4gICAgLy8gd2UgaGF2ZSB0byBjYWxsIHRoZSBmdW5jdGlvbiBoZXJlIGR1ZSB0byBob3cgdjIncyBBUEkgd29uJ3QgZXhwb3NlIHRoZVxuICAgIC8vIG9wdGlvbnMgdW50aWwgd2UgY2FsbCBpdFxuICAgIGxldCByZXNvbHZlO1xuICAgIGxldCByZWplY3Q7XG4gICAgY29uc3QgZmFsbGJhY2tQcm9taXNlID0gbmV3IFByb21pc2UoKHIsIHJqKSA9PiB7XG4gICAgICAgIChyZXNvbHZlID0gciksIChyZWplY3QgPSByaik7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzID0gY29tcChyZXNvbHZlLCByZWplY3QpO1xuICAgIGxldCBjb252ZXJ0ZWQ7XG4gICAgaWYgKGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICAgIGNvbnZlcnRlZCA9IGRlZmluZUFzeW5jQ29tcG9uZW50KCgpID0+IHJlcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHJlcykgJiYgIWlzVk5vZGUocmVzKSAmJiAhaXNBcnJheShyZXMpKSB7XG4gICAgICAgIGNvbnZlcnRlZCA9IGRlZmluZUFzeW5jQ29tcG9uZW50KHtcbiAgICAgICAgICAgIGxvYWRlcjogKCkgPT4gcmVzLmNvbXBvbmVudCxcbiAgICAgICAgICAgIGxvYWRpbmdDb21wb25lbnQ6IHJlcy5sb2FkaW5nLFxuICAgICAgICAgICAgZXJyb3JDb21wb25lbnQ6IHJlcy5lcnJvcixcbiAgICAgICAgICAgIGRlbGF5OiByZXMuZGVsYXksXG4gICAgICAgICAgICB0aW1lb3V0OiByZXMudGltZW91dFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzID09IG51bGwpIHtcbiAgICAgICAgY29udmVydGVkID0gZGVmaW5lQXN5bmNDb21wb25lbnQoKCkgPT4gZmFsbGJhY2tQcm9taXNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnZlcnRlZCA9IGNvbXA7IC8vIHByb2JhYmx5IGEgdjMgZnVuY3Rpb25hbCBjb21wXG4gICAgfVxuICAgIG5vcm1hbGl6ZWRBc3luY0NvbXBvbmVudE1hcC5zZXQoY29tcCwgY29udmVydGVkKTtcbiAgICByZXR1cm4gY29udmVydGVkO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5Q29tcG9uZW50KGNvbXAsIGluc3RhbmNlKSB7XG4gICAgaWYgKGNvbXAuX19pc0J1aWx0SW4pIHtcbiAgICAgICAgcmV0dXJuIGNvbXA7XG4gICAgfVxuICAgIC8vIDIueCBjb25zdHJ1Y3RvclxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbXApICYmIGNvbXAuY2lkKSB7XG4gICAgICAgIGNvbXAgPSBjb21wLm9wdGlvbnM7XG4gICAgfVxuICAgIC8vIDIueCBhc3luYyBjb21wb25lbnRcbiAgICBpZiAoaXNGdW5jdGlvbihjb21wKSAmJlxuICAgICAgICBjaGVja0NvbXBhdEVuYWJsZWQoXCJDT01QT05FTlRfQVNZTkNcIiAvKiBEZXByZWNhdGlvblR5cGVzLkNPTVBPTkVOVF9BU1lOQyAqLywgaW5zdGFuY2UsIGNvbXApKSB7XG4gICAgICAgIC8vIHNpbmNlIGFmdGVyIGRpc2FibGluZyB0aGlzLCBwbGFpbiBmdW5jdGlvbnMgYXJlIHN0aWxsIHZhbGlkIHVzYWdlLCBkbyBub3RcbiAgICAgICAgLy8gdXNlIHNvZnRBc3NlcnQgaGVyZS5cbiAgICAgICAgcmV0dXJuIGNvbnZlcnRMZWdhY3lBc3luY0NvbXBvbmVudChjb21wKTtcbiAgICB9XG4gICAgLy8gMi54IGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApICYmXG4gICAgICAgIGNvbXAuZnVuY3Rpb25hbCAmJlxuICAgICAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIkNPTVBPTkVOVF9GVU5DVElPTkFMXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT01QT05FTlRfRlVOQ1RJT05BTCAqLywgaW5zdGFuY2UsIGNvbXApKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0TGVnYWN5RnVuY3Rpb25hbENvbXBvbmVudChjb21wKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXA7XG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdGcmFnbWVudCcgOiB1bmRlZmluZWQpO1xuY29uc3QgVGV4dCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnVGV4dCcgOiB1bmRlZmluZWQpO1xuY29uc3QgQ29tbWVudCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnQ29tbWVudCcgOiB1bmRlZmluZWQpO1xuY29uc3QgU3RhdGljID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdTdGF0aWMnIDogdW5kZWZpbmVkKTtcbi8vIFNpbmNlIHYtaWYgYW5kIHYtZm9yIGFyZSB0aGUgdHdvIHBvc3NpYmxlIHdheXMgbm9kZSBzdHJ1Y3R1cmUgY2FuIGR5bmFtaWNhbGx5XG4vLyBjaGFuZ2UsIG9uY2Ugd2UgY29uc2lkZXIgdi1pZiBicmFuY2hlcyBhbmQgZWFjaCB2LWZvciBmcmFnbWVudCBhIGJsb2NrLCB3ZVxuLy8gY2FuIGRpdmlkZSBhIHRlbXBsYXRlIGludG8gbmVzdGVkIGJsb2NrcywgYW5kIHdpdGhpbiBlYWNoIGJsb2NrIHRoZSBub2RlXG4vLyBzdHJ1Y3R1cmUgd291bGQgYmUgc3RhYmxlLiBUaGlzIGFsbG93cyB1cyB0byBza2lwIG1vc3QgY2hpbGRyZW4gZGlmZmluZ1xuLy8gYW5kIG9ubHkgd29ycnkgYWJvdXQgdGhlIGR5bmFtaWMgbm9kZXMgKGluZGljYXRlZCBieSBwYXRjaCBmbGFncykuXG5jb25zdCBibG9ja1N0YWNrID0gW107XG5sZXQgY3VycmVudEJsb2NrID0gbnVsbDtcbi8qKlxuICogT3BlbiBhIGJsb2NrLlxuICogVGhpcyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgYGNyZWF0ZUJsb2NrYC4gSXQgY2Fubm90IGJlIHBhcnQgb2YgYGNyZWF0ZUJsb2NrYFxuICogYmVjYXVzZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGJsb2NrIGFyZSBldmFsdWF0ZWQgYmVmb3JlIGBjcmVhdGVCbG9ja2AgaXRzZWxmXG4gKiBpcyBjYWxsZWQuIFRoZSBnZW5lcmF0ZWQgY29kZSB0eXBpY2FsbHkgbG9va3MgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gKiAgIHJldHVybiAob3BlbkJsb2NrKCksY3JlYXRlQmxvY2soJ2RpdicsIG51bGwsIFsuLi5dKSlcbiAqIH1cbiAqIGBgYFxuICogZGlzYWJsZVRyYWNraW5nIGlzIHRydWUgd2hlbiBjcmVhdGluZyBhIHYtZm9yIGZyYWdtZW50IGJsb2NrLCBzaW5jZSBhIHYtZm9yXG4gKiBmcmFnbWVudCBhbHdheXMgZGlmZnMgaXRzIGNoaWxkcmVuLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG9wZW5CbG9jayhkaXNhYmxlVHJhY2tpbmcgPSBmYWxzZSkge1xuICAgIGJsb2NrU3RhY2sucHVzaCgoY3VycmVudEJsb2NrID0gZGlzYWJsZVRyYWNraW5nID8gbnVsbCA6IFtdKSk7XG59XG5mdW5jdGlvbiBjbG9zZUJsb2NrKCkge1xuICAgIGJsb2NrU3RhY2sucG9wKCk7XG4gICAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG4vLyBXaGV0aGVyIHdlIHNob3VsZCBiZSB0cmFja2luZyBkeW5hbWljIGNoaWxkIG5vZGVzIGluc2lkZSBhIGJsb2NrLlxuLy8gT25seSB0cmFja3Mgd2hlbiB0aGlzIHZhbHVlIGlzID4gMFxuLy8gV2UgYXJlIG5vdCB1c2luZyBhIHNpbXBsZSBib29sZWFuIGJlY2F1c2UgdGhpcyB2YWx1ZSBtYXkgbmVlZCB0byBiZVxuLy8gaW5jcmVtZW50ZWQvZGVjcmVtZW50ZWQgYnkgbmVzdGVkIHVzYWdlIG9mIHYtb25jZSAoc2VlIGJlbG93KVxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XG4vKipcbiAqIEJsb2NrIHRyYWNraW5nIHNvbWV0aW1lcyBuZWVkcyB0byBiZSBkaXNhYmxlZCwgZm9yIGV4YW1wbGUgZHVyaW5nIHRoZVxuICogY3JlYXRpb24gb2YgYSB0cmVlIHRoYXQgbmVlZHMgdG8gYmUgY2FjaGVkIGJ5IHYtb25jZS4gVGhlIGNvbXBpbGVyIGdlbmVyYXRlc1xuICogY29kZSBsaWtlIHRoaXM6XG4gKlxuICogYGBgIGpzXG4gKiBfY2FjaGVbMV0gfHwgKFxuICogICBzZXRCbG9ja1RyYWNraW5nKC0xKSxcbiAqICAgX2NhY2hlWzFdID0gY3JlYXRlVk5vZGUoLi4uKSxcbiAqICAgc2V0QmxvY2tUcmFja2luZygxKSxcbiAqICAgX2NhY2hlWzFdXG4gKiApXG4gKiBgYGBcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXRCbG9ja1RyYWNraW5nKHZhbHVlKSB7XG4gICAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0dXBCbG9jayh2bm9kZSkge1xuICAgIC8vIHNhdmUgY3VycmVudCBibG9jayBjaGlsZHJlbiBvbiB0aGUgYmxvY2sgdm5vZGVcbiAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPVxuICAgICAgICBpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwID8gY3VycmVudEJsb2NrIHx8IEVNUFRZX0FSUiA6IG51bGw7XG4gICAgLy8gY2xvc2UgYmxvY2tcbiAgICBjbG9zZUJsb2NrKCk7XG4gICAgLy8gYSBibG9jayBpcyBhbHdheXMgZ29pbmcgdG8gYmUgcGF0Y2hlZCwgc28gdHJhY2sgaXQgYXMgYSBjaGlsZCBvZiBpdHNcbiAgICAvLyBwYXJlbnQgYmxvY2tcbiAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzLCBzaGFwZUZsYWcpIHtcbiAgICByZXR1cm4gc2V0dXBCbG9jayhjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgc2hhcGVGbGFnLCB0cnVlIC8qIGlzQmxvY2sgKi8pKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgYmxvY2sgcm9vdCB2bm9kZS4gVGFrZXMgdGhlIHNhbWUgZXhhY3QgYXJndW1lbnRzIGFzIGBjcmVhdGVWTm9kZWAuXG4gKiBBIGJsb2NrIHJvb3Qga2VlcHMgdHJhY2sgb2YgZHluYW1pYyBub2RlcyB3aXRoaW4gdGhlIGJsb2NrIGluIHRoZVxuICogYGR5bmFtaWNDaGlsZHJlbmAgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcykge1xuICAgIHJldHVybiBzZXR1cEJsb2NrKGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHRydWUgLyogaXNCbG9jazogcHJldmVudCBhIGJsb2NrIGZyb20gdHJhY2tpbmcgaXRzZWxmICovKSk7XG59XG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gdmFsdWUuX192X2lzVk5vZGUgPT09IHRydWUgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgIG4yLnNoYXBlRmxhZyAmIDYgLyogU2hhcGVGbGFncy5DT01QT05FTlQgKi8gJiZcbiAgICAgICAgaG1yRGlydHlDb21wb25lbnRzLmhhcyhuMi50eXBlKSkge1xuICAgICAgICAvLyAjNzA0MiwgZW5zdXJlIHRoZSB2bm9kZSBiZWluZyB1bm1vdW50ZWQgZHVyaW5nIEhNUlxuICAgICAgICAvLyBiaXR3aXNlIG9wZXJhdGlvbnMgdG8gcmVtb3ZlIGtlZXAgYWxpdmUgZmxhZ3NcbiAgICAgICAgbjEuc2hhcGVGbGFnICY9IH4yNTYgLyogU2hhcGVGbGFncy5DT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkUgKi87XG4gICAgICAgIG4yLnNoYXBlRmxhZyAmPSB+NTEyIC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UX0tFUFRfQUxJVkUgKi87XG4gICAgICAgIC8vIEhNUiBvbmx5OiBpZiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIGhvdC11cGRhdGVkLCBmb3JjZSBhIHJlbG9hZC5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbjEudHlwZSA9PT0gbjIudHlwZSAmJiBuMS5rZXkgPT09IG4yLmtleTtcbn1cbmxldCB2bm9kZUFyZ3NUcmFuc2Zvcm1lcjtcbi8qKlxuICogSW50ZXJuYWwgQVBJIGZvciByZWdpc3RlcmluZyBhbiBhcmd1bWVudHMgdHJhbnNmb3JtIGZvciBjcmVhdGVWTm9kZVxuICogdXNlZCBmb3IgY3JlYXRpbmcgc3R1YnMgaW4gdGhlIHRlc3QtdXRpbHNcbiAqIEl0IGlzICppbnRlcm5hbCogYnV0IG5lZWRzIHRvIGJlIGV4cG9zZWQgZm9yIHRlc3QtdXRpbHMgdG8gcGljayB1cCBwcm9wZXJcbiAqIHR5cGluZ3NcbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtVk5vZGVBcmdzKHRyYW5zZm9ybWVyKSB7XG4gICAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gPSAoLi4uYXJncykgPT4ge1xuICAgIHJldHVybiBfY3JlYXRlVk5vZGUoLi4uKHZub2RlQXJnc1RyYW5zZm9ybWVyXG4gICAgICAgID8gdm5vZGVBcmdzVHJhbnNmb3JtZXIoYXJncywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKVxuICAgICAgICA6IGFyZ3MpKTtcbn07XG5jb25zdCBJbnRlcm5hbE9iamVjdEtleSA9IGBfX3ZJbnRlcm5hbGA7XG5jb25zdCBub3JtYWxpemVLZXkgPSAoeyBrZXkgfSkgPT4ga2V5ICE9IG51bGwgPyBrZXkgOiBudWxsO1xuY29uc3Qgbm9ybWFsaXplUmVmID0gKHsgcmVmLCByZWZfa2V5LCByZWZfZm9yIH0pID0+IHtcbiAgICByZXR1cm4gKHJlZiAhPSBudWxsXG4gICAgICAgID8gaXNTdHJpbmcocmVmKSB8fCBpc1JlZihyZWYpIHx8IGlzRnVuY3Rpb24ocmVmKVxuICAgICAgICAgICAgPyB7IGk6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgcjogcmVmLCBrOiByZWZfa2V5LCBmOiAhIXJlZl9mb3IgfVxuICAgICAgICAgICAgOiByZWZcbiAgICAgICAgOiBudWxsKTtcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIHNoYXBlRmxhZyA9IHR5cGUgPT09IEZyYWdtZW50ID8gMCA6IDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovLCBpc0Jsb2NrTm9kZSA9IGZhbHNlLCBuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgdm5vZGUgPSB7XG4gICAgICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgICAgICBfX3Zfc2tpcDogdHJ1ZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIGtleTogcHJvcHMgJiYgbm9ybWFsaXplS2V5KHByb3BzKSxcbiAgICAgICAgcmVmOiBwcm9wcyAmJiBub3JtYWxpemVSZWYocHJvcHMpLFxuICAgICAgICBzY29wZUlkOiBjdXJyZW50U2NvcGVJZCxcbiAgICAgICAgc2xvdFNjb3BlSWRzOiBudWxsLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgY29tcG9uZW50OiBudWxsLFxuICAgICAgICBzdXNwZW5zZTogbnVsbCxcbiAgICAgICAgc3NDb250ZW50OiBudWxsLFxuICAgICAgICBzc0ZhbGxiYWNrOiBudWxsLFxuICAgICAgICBkaXJzOiBudWxsLFxuICAgICAgICB0cmFuc2l0aW9uOiBudWxsLFxuICAgICAgICBlbDogbnVsbCxcbiAgICAgICAgYW5jaG9yOiBudWxsLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIHRhcmdldEFuY2hvcjogbnVsbCxcbiAgICAgICAgc3RhdGljQ291bnQ6IDAsXG4gICAgICAgIHNoYXBlRmxhZyxcbiAgICAgICAgcGF0Y2hGbGFnLFxuICAgICAgICBkeW5hbWljUHJvcHMsXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbjogbnVsbCxcbiAgICAgICAgYXBwQ29udGV4dDogbnVsbCxcbiAgICAgICAgY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VcbiAgICB9O1xuICAgIGlmIChuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbikge1xuICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pO1xuICAgICAgICAvLyBub3JtYWxpemUgc3VzcGVuc2UgY2hpbGRyZW5cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCAvKiBTaGFwZUZsYWdzLlNVU1BFTlNFICovKSB7XG4gICAgICAgICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgLy8gY29tcGlsZWQgZWxlbWVudCB2bm9kZSAtIGlmIGNoaWxkcmVuIGlzIHBhc3NlZCwgb25seSBwb3NzaWJsZSB0eXBlcyBhcmVcbiAgICAgICAgLy8gc3RyaW5nIG9yIEFycmF5LlxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gaXNTdHJpbmcoY2hpbGRyZW4pXG4gICAgICAgICAgICA/IDggLyogU2hhcGVGbGFncy5URVhUX0NISUxEUkVOICovXG4gICAgICAgICAgICA6IDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi87XG4gICAgfVxuICAgIC8vIHZhbGlkYXRlIGtleVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcbiAgICAgICAgd2FybiQxKGBWTm9kZSBjcmVhdGVkIHdpdGggaW52YWxpZCBrZXkgKE5hTikuIFZOb2RlIHR5cGU6YCwgdm5vZGUudHlwZSk7XG4gICAgfVxuICAgIC8vIHRyYWNrIHZub2RlIGZvciBibG9jayB0cmVlXG4gICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiZcbiAgICAgICAgLy8gYXZvaWQgYSBibG9jayBub2RlIGZyb20gdHJhY2tpbmcgaXRzZWxmXG4gICAgICAgICFpc0Jsb2NrTm9kZSAmJlxuICAgICAgICAvLyBoYXMgY3VycmVudCBwYXJlbnQgYmxvY2tcbiAgICAgICAgY3VycmVudEJsb2NrICYmXG4gICAgICAgIC8vIHByZXNlbmNlIG9mIGEgcGF0Y2ggZmxhZyBpbmRpY2F0ZXMgdGhpcyBub2RlIG5lZWRzIHBhdGNoaW5nIG9uIHVwZGF0ZXMuXG4gICAgICAgIC8vIGNvbXBvbmVudCBub2RlcyBhbHNvIHNob3VsZCBhbHdheXMgYmUgcGF0Y2hlZCwgYmVjYXVzZSBldmVuIGlmIHRoZVxuICAgICAgICAvLyBjb21wb25lbnQgZG9lc24ndCBuZWVkIHRvIHVwZGF0ZSwgaXQgbmVlZHMgdG8gcGVyc2lzdCB0aGUgaW5zdGFuY2Ugb24gdG9cbiAgICAgICAgLy8gdGhlIG5leHQgdm5vZGUgc28gdGhhdCBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkIGxhdGVyLlxuICAgICAgICAodm5vZGUucGF0Y2hGbGFnID4gMCB8fCBzaGFwZUZsYWcgJiA2IC8qIFNoYXBlRmxhZ3MuQ09NUE9ORU5UICovKSAmJlxuICAgICAgICAvLyB0aGUgRVZFTlRTIGZsYWcgaXMgb25seSBmb3IgaHlkcmF0aW9uIGFuZCBpZiBpdCBpcyB0aGUgb25seSBmbGFnLCB0aGVcbiAgICAgICAgLy8gdm5vZGUgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGR5bmFtaWMgZHVlIHRvIGhhbmRsZXIgY2FjaGluZy5cbiAgICAgICAgdm5vZGUucGF0Y2hGbGFnICE9PSAzMiAvKiBQYXRjaEZsYWdzLkhZRFJBVEVfRVZFTlRTICovKSB7XG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcbiAgICB9XG4gICAge1xuICAgICAgICBjb252ZXJ0TGVnYWN5Vk1vZGVsUHJvcHModm5vZGUpO1xuICAgICAgICBkZWZpbmVMZWdhY3lWTm9kZVByb3BlcnRpZXModm5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59XG5jb25zdCBjcmVhdGVWTm9kZSA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtIDogX2NyZWF0ZVZOb2RlKTtcbmZ1bmN0aW9uIF9jcmVhdGVWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgaXNCbG9ja05vZGUgPSBmYWxzZSkge1xuICAgIGlmICghdHlwZSB8fCB0eXBlID09PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXR5cGUpIHtcbiAgICAgICAgICAgIHdhcm4kMShgSW52YWxpZCB2bm9kZSB0eXBlIHdoZW4gY3JlYXRpbmcgdm5vZGU6ICR7dHlwZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZSA9IENvbW1lbnQ7XG4gICAgfVxuICAgIGlmIChpc1ZOb2RlKHR5cGUpKSB7XG4gICAgICAgIC8vIGNyZWF0ZVZOb2RlIHJlY2VpdmluZyBhbiBleGlzdGluZyB2bm9kZS4gVGhpcyBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgICAgLy8gPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiLz5cbiAgICAgICAgLy8gIzIwNzggbWFrZSBzdXJlIHRvIG1lcmdlIHJlZnMgZHVyaW5nIHRoZSBjbG9uZSBpbnN0ZWFkIG9mIG92ZXJ3cml0aW5nIGl0XG4gICAgICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodHlwZSwgcHJvcHMsIHRydWUgLyogbWVyZ2VSZWY6IHRydWUgKi8pO1xuICAgICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKGNsb25lZCwgY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmICFpc0Jsb2NrTm9kZSAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgICAgICAgIGlmIChjbG9uZWQuc2hhcGVGbGFnICYgNiAvKiBTaGFwZUZsYWdzLkNPTVBPTkVOVCAqLykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9ja1tjdXJyZW50QmxvY2suaW5kZXhPZih0eXBlKV0gPSBjbG9uZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2sucHVzaChjbG9uZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsb25lZC5wYXRjaEZsYWcgfD0gLTIgLyogUGF0Y2hGbGFncy5CQUlMICovO1xuICAgICAgICByZXR1cm4gY2xvbmVkO1xuICAgIH1cbiAgICAvLyBjbGFzcyBjb21wb25lbnQgbm9ybWFsaXphdGlvbi5cbiAgICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xuICAgICAgICB0eXBlID0gdHlwZS5fX3ZjY09wdHM7XG4gICAgfVxuICAgIC8vIDIueCBhc3luYy9mdW5jdGlvbmFsIGNvbXBvbmVudCBjb21wYXRcbiAgICB7XG4gICAgICAgIHR5cGUgPSBjb252ZXJ0TGVnYWN5Q29tcG9uZW50KHR5cGUsIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSk7XG4gICAgfVxuICAgIC8vIGNsYXNzICYgc3R5bGUgbm9ybWFsaXphdGlvbi5cbiAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgLy8gZm9yIHJlYWN0aXZlIG9yIHByb3h5IG9iamVjdHMsIHdlIG5lZWQgdG8gY2xvbmUgaXQgdG8gZW5hYmxlIG11dGF0aW9uLlxuICAgICAgICBwcm9wcyA9IGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcyk7XG4gICAgICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgICAgICBpZiAoa2xhc3MgJiYgIWlzU3RyaW5nKGtsYXNzKSkge1xuICAgICAgICAgICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xuICAgICAgICAgICAgLy8gcmVhY3RpdmUgc3RhdGUgb2JqZWN0cyBuZWVkIHRvIGJlIGNsb25lZCBzaW5jZSB0aGV5IGFyZSBsaWtlbHkgdG8gYmVcbiAgICAgICAgICAgIC8vIG11dGF0ZWRcbiAgICAgICAgICAgIGlmIChpc1Byb3h5KHN0eWxlKSAmJiAhaXNBcnJheShzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZW5jb2RlIHRoZSB2bm9kZSB0eXBlIGluZm9ybWF0aW9uIGludG8gYSBiaXRtYXBcbiAgICBjb25zdCBzaGFwZUZsYWcgPSBpc1N0cmluZyh0eXBlKVxuICAgICAgICA/IDEgLyogU2hhcGVGbGFncy5FTEVNRU5UICovXG4gICAgICAgIDogaXNTdXNwZW5zZSh0eXBlKVxuICAgICAgICAgICAgPyAxMjggLyogU2hhcGVGbGFncy5TVVNQRU5TRSAqL1xuICAgICAgICAgICAgOiBpc1RlbGVwb3J0KHR5cGUpXG4gICAgICAgICAgICAgICAgPyA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovXG4gICAgICAgICAgICAgICAgOiBpc09iamVjdCh0eXBlKVxuICAgICAgICAgICAgICAgICAgICA/IDQgLyogU2hhcGVGbGFncy5TVEFURUZVTF9DT01QT05FTlQgKi9cbiAgICAgICAgICAgICAgICAgICAgOiBpc0Z1bmN0aW9uKHR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDIgLyogU2hhcGVGbGFncy5GVU5DVElPTkFMX0NPTVBPTkVOVCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLyAmJiBpc1Byb3h5KHR5cGUpKSB7XG4gICAgICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcbiAgICAgICAgd2FybiQxKGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgd2hpY2ggd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGAgK1xuICAgICAgICAgICAgYGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsIGFuZCBzaG91bGQgYmUgYXZvaWRlZCBieSBgICtcbiAgICAgICAgICAgIGBtYXJraW5nIHRoZSBjb21wb25lbnQgd2l0aCBcXGBtYXJrUmF3XFxgIG9yIHVzaW5nIFxcYHNoYWxsb3dSZWZcXGAgYCArXG4gICAgICAgICAgICBgaW5zdGVhZCBvZiBcXGByZWZcXGAuYCwgYFxcbkNvbXBvbmVudCB0aGF0IHdhcyBtYWRlIHJlYWN0aXZlOiBgLCB0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUJhc2VWTm9kZSh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzLCBzaGFwZUZsYWcsIGlzQmxvY2tOb2RlLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcykge1xuICAgIGlmICghcHJvcHMpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiBpc1Byb3h5KHByb3BzKSB8fCBJbnRlcm5hbE9iamVjdEtleSBpbiBwcm9wc1xuICAgICAgICA/IGV4dGVuZCh7fSwgcHJvcHMpXG4gICAgICAgIDogcHJvcHM7XG59XG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlKSB7XG4gICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IE5PVCB1c2luZyBzcHJlYWQgb3IgZXh0ZW5kIHRvIGF2b2lkIHRoZSBydW50aW1lXG4gICAgLy8ga2V5IGVudW1lcmF0aW9uIGNvc3QuXG4gICAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcbiAgICBjb25zdCBtZXJnZWRQcm9wcyA9IGV4dHJhUHJvcHMgPyBtZXJnZVByb3BzKHByb3BzIHx8IHt9LCBleHRyYVByb3BzKSA6IHByb3BzO1xuICAgIGNvbnN0IGNsb25lZCA9IHtcbiAgICAgICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgICAgIF9fdl9za2lwOiB0cnVlLFxuICAgICAgICB0eXBlOiB2bm9kZS50eXBlLFxuICAgICAgICBwcm9wczogbWVyZ2VkUHJvcHMsXG4gICAgICAgIGtleTogbWVyZ2VkUHJvcHMgJiYgbm9ybWFsaXplS2V5KG1lcmdlZFByb3BzKSxcbiAgICAgICAgcmVmOiBleHRyYVByb3BzICYmIGV4dHJhUHJvcHMucmVmXG4gICAgICAgICAgICA/IC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdm5vZGUgaXRzZWxmIGFscmVhZHkgaGFzIGEgcmVmLCBjbG9uZVZOb2RlIHdpbGwgbmVlZCB0byBtZXJnZVxuICAgICAgICAgICAgICAgIC8vIHRoZSByZWZzIHNvIHRoZSBzaW5nbGUgdm5vZGUgY2FuIGJlIHNldCBvbiBtdWx0aXBsZSByZWZzXG4gICAgICAgICAgICAgICAgbWVyZ2VSZWYgJiYgcmVmXG4gICAgICAgICAgICAgICAgICAgID8gaXNBcnJheShyZWYpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbcmVmLCBub3JtYWxpemVSZWYoZXh0cmFQcm9wcyldXG4gICAgICAgICAgICAgICAgICAgIDogbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXG4gICAgICAgICAgICA6IHJlZixcbiAgICAgICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcbiAgICAgICAgc2xvdFNjb3BlSWRzOiB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgIGNoaWxkcmVuOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGF0Y2hGbGFnID09PSAtMSAvKiBQYXRjaEZsYWdzLkhPSVNURUQgKi8gJiYgaXNBcnJheShjaGlsZHJlbilcbiAgICAgICAgICAgID8gY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKVxuICAgICAgICAgICAgOiBjaGlsZHJlbixcbiAgICAgICAgdGFyZ2V0OiB2bm9kZS50YXJnZXQsXG4gICAgICAgIHRhcmdldEFuY2hvcjogdm5vZGUudGFyZ2V0QW5jaG9yLFxuICAgICAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXG4gICAgICAgIHNoYXBlRmxhZzogdm5vZGUuc2hhcGVGbGFnLFxuICAgICAgICAvLyBpZiB0aGUgdm5vZGUgaXMgY2xvbmVkIHdpdGggZXh0cmEgcHJvcHMsIHdlIGNhbiBubyBsb25nZXIgYXNzdW1lIGl0c1xuICAgICAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxuICAgICAgICAvLyBub3RlOiBwcmVzZXJ2ZSBmbGFnIGZvciBmcmFnbWVudHMgc2luY2UgdGhleSB1c2UgdGhlIGZsYWcgZm9yIGNoaWxkcmVuXG4gICAgICAgIC8vIGZhc3QgcGF0aHMgb25seS5cbiAgICAgICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50XG4gICAgICAgICAgICA/IHBhdGNoRmxhZyA9PT0gLTEgLy8gaG9pc3RlZCBub2RlXG4gICAgICAgICAgICAgICAgPyAxNiAvKiBQYXRjaEZsYWdzLkZVTExfUFJPUFMgKi9cbiAgICAgICAgICAgICAgICA6IHBhdGNoRmxhZyB8IDE2IC8qIFBhdGNoRmxhZ3MuRlVMTF9QUk9QUyAqL1xuICAgICAgICAgICAgOiBwYXRjaEZsYWcsXG4gICAgICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxuICAgICAgICBkeW5hbWljQ2hpbGRyZW46IHZub2RlLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcbiAgICAgICAgZGlyczogdm5vZGUuZGlycyxcbiAgICAgICAgdHJhbnNpdGlvbjogdm5vZGUudHJhbnNpdGlvbixcbiAgICAgICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXG4gICAgICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxuICAgICAgICAvLyB0aGVtIHNpbmNlIHRoZW0gYmVpbmcgbm9uLW51bGwgZHVyaW5nIGEgbW91bnQgZG9lc24ndCBhZmZlY3QgdGhlIGxvZ2ljIGFzXG4gICAgICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXG4gICAgICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZTogdm5vZGUuc3VzcGVuc2UsXG4gICAgICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcbiAgICAgICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxuICAgICAgICBlbDogdm5vZGUuZWwsXG4gICAgICAgIGFuY2hvcjogdm5vZGUuYW5jaG9yLFxuICAgICAgICBjdHg6IHZub2RlLmN0eFxuICAgIH07XG4gICAge1xuICAgICAgICBkZWZpbmVMZWdhY3lWTm9kZVByb3BlcnRpZXMoY2xvbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lZDtcbn1cbi8qKlxuICogRGV2IG9ubHksIGZvciBITVIgb2YgaG9pc3RlZCB2bm9kZXMgcmV1c2VkIGluIHYtZm9yXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUvaXNzdWVzLzIwMjJcbiAqL1xuZnVuY3Rpb24gZGVlcENsb25lVk5vZGUodm5vZGUpIHtcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICBpZiAoaXNBcnJheSh2bm9kZS5jaGlsZHJlbikpIHtcbiAgICAgICAgY2xvbmVkLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lZDtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQgPSAnICcsIGZsYWcgPSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIHRleHQsIGZsYWcpO1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNWTm9kZShjb250ZW50LCBudW1iZXJPZk5vZGVzKSB7XG4gICAgLy8gQSBzdGF0aWMgdm5vZGUgY2FuIGNvbnRhaW4gbXVsdGlwbGUgc3RyaW5naWZpZWQgZWxlbWVudHMsIGFuZCB0aGUgbnVtYmVyXG4gICAgLy8gb2YgZWxlbWVudHMgaXMgbmVjZXNzYXJ5IGZvciBoeWRyYXRpb24uXG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xuICAgIHZub2RlLnN0YXRpY0NvdW50ID0gbnVtYmVyT2ZOb2RlcztcbiAgICByZXR1cm4gdm5vZGU7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gJycsIFxuLy8gd2hlbiB1c2VkIGFzIHRoZSB2LWVsc2UgYnJhbmNoLCB0aGUgY29tbWVudCBub2RlIG11c3QgYmUgY3JlYXRlZCBhcyBhXG4vLyBibG9jayB0byBlbnN1cmUgY29ycmVjdCB1cGRhdGVzLlxuYXNCbG9jayA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIGFzQmxvY2tcbiAgICAgICAgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKENvbW1lbnQsIG51bGwsIHRleHQpKVxuICAgICAgICA6IGNyZWF0ZVZOb2RlKENvbW1lbnQsIG51bGwsIHRleHQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplVk5vZGUoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09ICdib29sZWFuJykge1xuICAgICAgICAvLyBlbXB0eSBwbGFjZWhvbGRlclxuICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXkoY2hpbGQpKSB7XG4gICAgICAgIC8vIGZyYWdtZW50XG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShGcmFnbWVudCwgbnVsbCwgXG4gICAgICAgIC8vICMzNjY2LCBhdm9pZCByZWZlcmVuY2UgcG9sbHV0aW9uIHdoZW4gcmV1c2luZyB2bm9kZVxuICAgICAgICBjaGlsZC5zbGljZSgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNoaWxkID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBhbHJlYWR5IHZub2RlLCB0aGlzIHNob3VsZCBiZSB0aGUgbW9zdCBjb21tb24gc2luY2UgY29tcGlsZWQgdGVtcGxhdGVzXG4gICAgICAgIC8vIGFsd2F5cyBwcm9kdWNlIGFsbC12bm9kZSBjaGlsZHJlbiBhcnJheXNcbiAgICAgICAgcmV0dXJuIGNsb25lSWZNb3VudGVkKGNoaWxkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHN0cmluZ3MgYW5kIG51bWJlcnNcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIFN0cmluZyhjaGlsZCkpO1xuICAgIH1cbn1cbi8vIG9wdGltaXplZCBub3JtYWxpemF0aW9uIGZvciB0ZW1wbGF0ZS1jb21waWxlZCByZW5kZXIgZm5zXG5mdW5jdGlvbiBjbG9uZUlmTW91bnRlZChjaGlsZCkge1xuICAgIHJldHVybiAoY2hpbGQuZWwgPT09IG51bGwgJiYgY2hpbGQucGF0Y2hGbGFnICE9PSAtMSAvKiBQYXRjaEZsYWdzLkhPSVNURUQgKi8pIHx8XG4gICAgICAgIGNoaWxkLm1lbW9cbiAgICAgICAgPyBjaGlsZFxuICAgICAgICA6IGNsb25lVk5vZGUoY2hpbGQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XG4gICAgbGV0IHR5cGUgPSAwO1xuICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgIHR5cGUgPSAxNiAvKiBTaGFwZUZsYWdzLkFSUkFZX0NISUxEUkVOICovO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAoMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gfCA2NCAvKiBTaGFwZUZsYWdzLlRFTEVQT1JUICovKSkge1xuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHNsb3QgdG8gcGxhaW4gY2hpbGRyZW4gZm9yIHBsYWluIGVsZW1lbnQgYW5kIFRlbGVwb3J0XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gY2hpbGRyZW4uZGVmYXVsdDtcbiAgICAgICAgICAgIGlmIChzbG90KSB7XG4gICAgICAgICAgICAgICAgLy8gX2MgbWFya2VyIGlzIGFkZGVkIGJ5IHdpdGhDdHgoKSBpbmRpY2F0aW5nIHRoaXMgaXMgYSBjb21waWxlZCBzbG90XG4gICAgICAgICAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgc2xvdCgpKTtcbiAgICAgICAgICAgICAgICBzbG90Ll9jICYmIChzbG90Ll9kID0gdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0eXBlID0gMzIgLyogU2hhcGVGbGFncy5TTE9UU19DSElMRFJFTiAqLztcbiAgICAgICAgICAgIGNvbnN0IHNsb3RGbGFnID0gY2hpbGRyZW4uXztcbiAgICAgICAgICAgIGlmICghc2xvdEZsYWcgJiYgIShJbnRlcm5hbE9iamVjdEtleSBpbiBjaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2xvdEZsYWcgPT09IDMgLyogU2xvdEZsYWdzLkZPUldBUkRFRCAqLyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBhIGNoaWxkIGNvbXBvbmVudCByZWNlaXZlcyBmb3J3YXJkZWQgc2xvdHMgZnJvbSB0aGUgcGFyZW50LlxuICAgICAgICAgICAgICAgIC8vIGl0cyBzbG90IHR5cGUgaXMgZGV0ZXJtaW5lZCBieSBpdHMgcGFyZW50J3Mgc2xvdCB0eXBlLlxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSAvKiBTbG90RmxhZ3MuU1RBQkxFICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLl8gPSAxIC8qIFNsb3RGbGFncy5TVEFCTEUgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5fID0gMiAvKiBTbG90RmxhZ3MuRFlOQU1JQyAqLztcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUucGF0Y2hGbGFnIHw9IDEwMjQgLyogUGF0Y2hGbGFncy5EWU5BTUlDX1NMT1RTICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGNoaWxkcmVuKSkge1xuICAgICAgICBjaGlsZHJlbiA9IHsgZGVmYXVsdDogY2hpbGRyZW4sIF9jdHg6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB9O1xuICAgICAgICB0eXBlID0gMzIgLyogU2hhcGVGbGFncy5TTE9UU19DSElMRFJFTiAqLztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgLy8gZm9yY2UgdGVsZXBvcnQgY2hpbGRyZW4gdG8gYXJyYXkgc28gaXQgY2FuIGJlIG1vdmVkIGFyb3VuZFxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgNjQgLyogU2hhcGVGbGFncy5URUxFUE9SVCAqLykge1xuICAgICAgICAgICAgdHlwZSA9IDE2IC8qIFNoYXBlRmxhZ3MuQVJSQVlfQ0hJTERSRU4gKi87XG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHR5cGUgPSA4IC8qIFNoYXBlRmxhZ3MuVEVYVF9DSElMRFJFTiAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2bm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHZub2RlLnNoYXBlRmxhZyB8PSB0eXBlO1xufVxuZnVuY3Rpb24gbWVyZ2VQcm9wcyguLi5hcmdzKSB7XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRvTWVyZ2UgPSBhcmdzW2ldO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0b01lcmdlKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJldC5jbGFzcyAhPT0gdG9NZXJnZS5jbGFzcykge1xuICAgICAgICAgICAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICAgICAgcmV0LnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW3JldC5zdHlsZSwgdG9NZXJnZS5zdHlsZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZXRba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmNvbWluZyA9IHRvTWVyZ2Vba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoaW5jb21pbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcgIT09IGluY29taW5nICYmXG4gICAgICAgICAgICAgICAgICAgICEoaXNBcnJheShleGlzdGluZykgJiYgZXhpc3RpbmcuaW5jbHVkZXMoaW5jb21pbmcpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXRba2V5XSA9IGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGluY29taW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXRba2V5XSA9IHRvTWVyZ2Vba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA3IC8qIEVycm9yQ29kZXMuVk5PREVfSE9PSyAqLywgW1xuICAgICAgICB2bm9kZSxcbiAgICAgICAgcHJldlZOb2RlXG4gICAgXSk7XG59XG5cbmNvbnN0IGVtcHR5QXBwQ29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcbmxldCB1aWQkMSA9IDA7XG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xuICAgIGNvbnN0IHR5cGUgPSB2bm9kZS50eXBlO1xuICAgIC8vIGluaGVyaXQgcGFyZW50IGFwcCBjb250ZXh0IC0gb3IgLSBpZiByb290LCBhZG9wdCBmcm9tIHJvb3Qgdm5vZGVcbiAgICBjb25zdCBhcHBDb250ZXh0ID0gKHBhcmVudCA/IHBhcmVudC5hcHBDb250ZXh0IDogdm5vZGUuYXBwQ29udGV4dCkgfHwgZW1wdHlBcHBDb250ZXh0O1xuICAgIGNvbnN0IGluc3RhbmNlID0ge1xuICAgICAgICB1aWQ6IHVpZCQxKyssXG4gICAgICAgIHZub2RlLFxuICAgICAgICB0eXBlLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIGFwcENvbnRleHQsXG4gICAgICAgIHJvb3Q6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgIHN1YlRyZWU6IG51bGwsXG4gICAgICAgIGVmZmVjdDogbnVsbCxcbiAgICAgICAgdXBkYXRlOiBudWxsLFxuICAgICAgICBzY29wZTogbmV3IEVmZmVjdFNjb3BlKHRydWUgLyogZGV0YWNoZWQgKi8pLFxuICAgICAgICByZW5kZXI6IG51bGwsXG4gICAgICAgIHByb3h5OiBudWxsLFxuICAgICAgICBleHBvc2VkOiBudWxsLFxuICAgICAgICBleHBvc2VQcm94eTogbnVsbCxcbiAgICAgICAgd2l0aFByb3h5OiBudWxsLFxuICAgICAgICBwcm92aWRlczogcGFyZW50ID8gcGFyZW50LnByb3ZpZGVzIDogT2JqZWN0LmNyZWF0ZShhcHBDb250ZXh0LnByb3ZpZGVzKSxcbiAgICAgICAgYWNjZXNzQ2FjaGU6IG51bGwsXG4gICAgICAgIHJlbmRlckNhY2hlOiBbXSxcbiAgICAgICAgLy8gbG9jYWwgcmVzb2x2ZWQgYXNzZXRzXG4gICAgICAgIGNvbXBvbmVudHM6IG51bGwsXG4gICAgICAgIGRpcmVjdGl2ZXM6IG51bGwsXG4gICAgICAgIC8vIHJlc29sdmVkIHByb3BzIGFuZCBlbWl0cyBvcHRpb25zXG4gICAgICAgIHByb3BzT3B0aW9uczogbm9ybWFsaXplUHJvcHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxuICAgICAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICAgICAgLy8gZW1pdFxuICAgICAgICBlbWl0OiBudWxsLFxuICAgICAgICBlbWl0dGVkOiBudWxsLFxuICAgICAgICAvLyBwcm9wcyBkZWZhdWx0IHZhbHVlXG4gICAgICAgIHByb3BzRGVmYXVsdHM6IEVNUFRZX09CSixcbiAgICAgICAgLy8gaW5oZXJpdEF0dHJzXG4gICAgICAgIGluaGVyaXRBdHRyczogdHlwZS5pbmhlcml0QXR0cnMsXG4gICAgICAgIC8vIHN0YXRlXG4gICAgICAgIGN0eDogRU1QVFlfT0JKLFxuICAgICAgICBkYXRhOiBFTVBUWV9PQkosXG4gICAgICAgIHByb3BzOiBFTVBUWV9PQkosXG4gICAgICAgIGF0dHJzOiBFTVBUWV9PQkosXG4gICAgICAgIHNsb3RzOiBFTVBUWV9PQkosXG4gICAgICAgIHJlZnM6IEVNUFRZX09CSixcbiAgICAgICAgc2V0dXBTdGF0ZTogRU1QVFlfT0JKLFxuICAgICAgICBzZXR1cENvbnRleHQ6IG51bGwsXG4gICAgICAgIC8vIHN1c3BlbnNlIHJlbGF0ZWRcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIHN1c3BlbnNlSWQ6IHN1c3BlbnNlID8gc3VzcGVuc2UucGVuZGluZ0lkIDogMCxcbiAgICAgICAgYXN5bmNEZXA6IG51bGwsXG4gICAgICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxuICAgICAgICAvLyBsaWZlY3ljbGUgaG9va3NcbiAgICAgICAgLy8gbm90IHVzaW5nIGVudW1zIGhlcmUgYmVjYXVzZSBpdCByZXN1bHRzIGluIGNvbXB1dGVkIHByb3BlcnRpZXNcbiAgICAgICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICAgICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxuICAgICAgICBpc0RlYWN0aXZhdGVkOiBmYWxzZSxcbiAgICAgICAgYmM6IG51bGwsXG4gICAgICAgIGM6IG51bGwsXG4gICAgICAgIGJtOiBudWxsLFxuICAgICAgICBtOiBudWxsLFxuICAgICAgICBidTogbnVsbCxcbiAgICAgICAgdTogbnVsbCxcbiAgICAgICAgdW06IG51bGwsXG4gICAgICAgIGJ1bTogbnVsbCxcbiAgICAgICAgZGE6IG51bGwsXG4gICAgICAgIGE6IG51bGwsXG4gICAgICAgIHJ0ZzogbnVsbCxcbiAgICAgICAgcnRjOiBudWxsLFxuICAgICAgICBlYzogbnVsbCxcbiAgICAgICAgc3A6IG51bGxcbiAgICB9O1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5jdHggPSB7IF86IGluc3RhbmNlIH07XG4gICAgfVxuICAgIGluc3RhbmNlLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCA6IGluc3RhbmNlO1xuICAgIGluc3RhbmNlLmVtaXQgPSBlbWl0JDIuYmluZChudWxsLCBpbnN0YW5jZSk7XG4gICAgLy8gYXBwbHkgY3VzdG9tIGVsZW1lbnQgc3BlY2lhbCBoYW5kbGluZ1xuICAgIGlmICh2bm9kZS5jZSkge1xuICAgICAgICB2bm9kZS5jZShpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xuY29uc3QgZ2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbmNvbnN0IHNldEN1cnJlbnRJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xuICAgIGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIGluc3RhbmNlLnNjb3BlLm9uKCk7XG59O1xuY29uc3QgdW5zZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiB7XG4gICAgY3VycmVudEluc3RhbmNlICYmIGN1cnJlbnRJbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xufTtcbmNvbnN0IGlzQnVpbHRJblRhZyA9IC8qI19fUFVSRV9fKi8gbWFrZU1hcCgnc2xvdCxjb21wb25lbnQnKTtcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb25maWcpIHtcbiAgICBjb25zdCBhcHBJc05hdGl2ZVRhZyA9IGNvbmZpZy5pc05hdGl2ZVRhZyB8fCBOTztcbiAgICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGFwcElzTmF0aXZlVGFnKG5hbWUpKSB7XG4gICAgICAgIHdhcm4kMSgnRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogJyArIG5hbWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNCAvKiBTaGFwZUZsYWdzLlNUQVRFRlVMX0NPTVBPTkVOVCAqLztcbn1cbmxldCBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlKSB7XG4gICAgaXNJblNTUkNvbXBvbmVudFNldHVwID0gaXNTU1I7XG4gICAgY29uc3QgeyBwcm9wcywgY2hpbGRyZW4gfSA9IGluc3RhbmNlLnZub2RlO1xuICAgIGNvbnN0IGlzU3RhdGVmdWwgPSBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XG4gICAgaW5pdFNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBpc1N0YXRlZnVsXG4gICAgICAgID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xuICAgIHJldHVybiBzZXR1cFJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShDb21wb25lbnQubmFtZSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuY29tcG9uZW50cyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5kaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChDb21wb25lbnQuY29tcGlsZXJPcHRpb25zICYmIGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgICAgICAgd2FybiQxKGBcImNvbXBpbGVyT3B0aW9uc1wiIGlzIG9ubHkgc3VwcG9ydGVkIHdoZW4gdXNpbmcgYSBidWlsZCBvZiBWdWUgdGhhdCBgICtcbiAgICAgICAgICAgICAgICBgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIuIFNpbmNlIHlvdSBhcmUgdXNpbmcgYSBydW50aW1lLW9ubHkgYCArXG4gICAgICAgICAgICAgICAgYGJ1aWxkLCB0aGUgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB5b3VyIGJ1aWxkIHRvb2wgY29uZmlnIGluc3RlYWQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gMC4gY3JlYXRlIHJlbmRlciBwcm94eSBwcm9wZXJ0eSBhY2Nlc3MgY2FjaGVcbiAgICBpbnN0YW5jZS5hY2Nlc3NDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgLy8gMS4gY3JlYXRlIHB1YmxpYyBpbnN0YW5jZSAvIHJlbmRlciBwcm94eVxuICAgIC8vIGFsc28gbWFyayBpdCByYXcgc28gaXQncyBuZXZlciBvYnNlcnZlZFxuICAgIGluc3RhbmNlLnByb3h5ID0gbWFya1JhdyhuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgICB9XG4gICAgLy8gMi4gY2FsbCBzZXR1cCgpXG4gICAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xuICAgIGlmIChzZXR1cCkge1xuICAgICAgICBjb25zdCBzZXR1cENvbnRleHQgPSAoaW5zdGFuY2Uuc2V0dXBDb250ZXh0ID1cbiAgICAgICAgICAgIHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbCk7XG4gICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoc2V0dXAsIGluc3RhbmNlLCAwIC8qIEVycm9yQ29kZXMuU0VUVVBfRlVOQ1RJT04gKi8sIFsocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2UucHJvcHMpIDogaW5zdGFuY2UucHJvcHMsIHNldHVwQ29udGV4dF0pO1xuICAgICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICAgIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGlmIChpc1Byb21pc2Uoc2V0dXBSZXN1bHQpKSB7XG4gICAgICAgICAgICBzZXR1cFJlc3VsdC50aGVuKHVuc2V0Q3VycmVudEluc3RhbmNlLCB1bnNldEN1cnJlbnRJbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAoaXNTU1IpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHByb21pc2Ugc28gc2VydmVyLXJlbmRlcmVyIGNhbiB3YWl0IG9uIGl0XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHVwUmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNvbHZlZFJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQsIGlzU1NSKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGluc3RhbmNlLCAwIC8qIEVycm9yQ29kZXMuU0VUVVBfRlVOQ1RJT04gKi8pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYXN5bmMgc2V0dXAgcmV0dXJuZWQgUHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLyBiYWlsIGhlcmUgYW5kIHdhaXQgZm9yIHJlLWVudHJ5LlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmFzeW5jRGVwID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaW5zdGFuY2Uuc3VzcGVuc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IChfYSA9IENvbXBvbmVudC5uYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnQW5vbnltb3VzJztcbiAgICAgICAgICAgICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgPCR7bmFtZX0+OiBzZXR1cCBmdW5jdGlvbiByZXR1cm5lZCBhIHByb21pc2UsIGJ1dCBubyBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGA8U3VzcGVuc2U+IGJvdW5kYXJ5IHdhcyBmb3VuZCBpbiB0aGUgcGFyZW50IGNvbXBvbmVudCB0cmVlLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBBIGNvbXBvbmVudCB3aXRoIGFzeW5jIHNldHVwKCkgbXVzdCBiZSBuZXN0ZWQgaW4gYSA8U3VzcGVuc2U+IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGluIG9yZGVyIHRvIGJlIHJlbmRlcmVkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihzZXR1cFJlc3VsdCkpIHtcbiAgICAgICAgLy8gc2V0dXAgcmV0dXJuZWQgYW4gaW5saW5lIHJlbmRlciBmdW5jdGlvblxuICAgICAgICBpZiAoaW5zdGFuY2UudHlwZS5fX3NzcklubGluZVJlbmRlcikge1xuICAgICAgICAgICAgLy8gd2hlbiB0aGUgZnVuY3Rpb24ncyBuYW1lIGlzIGBzc3JSZW5kZXJgIChjb21waWxlZCBieSBTRkMgaW5saW5lIG1vZGUpLFxuICAgICAgICAgICAgLy8gc2V0IGl0IGFzIHNzclJlbmRlciBpbnN0ZWFkLlxuICAgICAgICAgICAgaW5zdGFuY2Uuc3NyUmVuZGVyID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChzZXR1cFJlc3VsdCkpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpc1ZOb2RlKHNldHVwUmVzdWx0KSkge1xuICAgICAgICAgICAgd2FybiQxKGBzZXR1cCgpIHNob3VsZCBub3QgcmV0dXJuIFZOb2RlcyBkaXJlY3RseSAtIGAgK1xuICAgICAgICAgICAgICAgIGByZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXR1cCByZXR1cm5lZCBiaW5kaW5ncy5cbiAgICAgICAgLy8gYXNzdW1pbmcgYSByZW5kZXIgZnVuY3Rpb24gY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBpcyBwcmVzZW50LlxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgaW5zdGFuY2UuZGV2dG9vbHNSYXdTZXR1cFN0YXRlID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBzZXR1cFJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHdhcm4kMShgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygc2V0dXBSZXN1bHR9YCk7XG4gICAgfVxuICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG59XG5sZXQgY29tcGlsZTtcbmxldCBpbnN0YWxsV2l0aFByb3h5O1xuLyoqXG4gKiBGb3IgcnVudGltZS1kb20gdG8gcmVnaXN0ZXIgdGhlIGNvbXBpbGVyLlxuICogTm90ZSB0aGUgZXhwb3J0ZWQgbWV0aG9kIHVzZXMgYW55IHRvIGF2b2lkIGQudHMgcmVseWluZyBvbiB0aGUgY29tcGlsZXIgdHlwZXMuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XG4gICAgY29tcGlsZSA9IF9jb21waWxlO1xuICAgIGluc3RhbGxXaXRoUHJveHkgPSBpID0+IHtcbiAgICAgICAgaWYgKGkucmVuZGVyLl9yYykge1xuICAgICAgICAgICAgaS53aXRoUHJveHkgPSBuZXcgUHJveHkoaS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLy8gZGV2IG9ubHlcbmNvbnN0IGlzUnVudGltZU9ubHkgPSAoKSA9PiAhY29tcGlsZTtcbmZ1bmN0aW9uIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUiwgc2tpcE9wdGlvbnMpIHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICAgIHtcbiAgICAgICAgY29udmVydExlZ2FjeVJlbmRlckZuKGluc3RhbmNlKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBDb21wb25lbnQuY29tcGF0Q29uZmlnKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUNvbXBhdENvbmZpZyhDb21wb25lbnQuY29tcGF0Q29uZmlnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyB0ZW1wbGF0ZSAvIHJlbmRlciBmdW5jdGlvbiBub3JtYWxpemF0aW9uXG4gICAgLy8gY291bGQgYmUgYWxyZWFkeSBzZXQgd2hlbiByZXR1cm5lZCBmcm9tIHNldHVwKClcbiAgICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xuICAgICAgICAvLyBvbmx5IGRvIG9uLXRoZS1mbHkgY29tcGlsZSBpZiBub3QgaW4gU1NSIC0gU1NSIG9uLXRoZS1mbHkgY29tcGlsYXRpb25cbiAgICAgICAgLy8gaXMgZG9uZSBieSBzZXJ2ZXItcmVuZGVyZXJcbiAgICAgICAgaWYgKCFpc1NTUiAmJiBjb21waWxlICYmICFDb21wb25lbnQucmVuZGVyKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IChpbnN0YW5jZS52bm9kZS5wcm9wcyAmJlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnZub2RlLnByb3BzWydpbmxpbmUtdGVtcGxhdGUnXSkgfHxcbiAgICAgICAgICAgICAgICBDb21wb25lbnQudGVtcGxhdGUgfHxcbiAgICAgICAgICAgICAgICByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkudGVtcGxhdGU7XG4gICAgICAgICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpc0N1c3RvbUVsZW1lbnQsIGNvbXBpbGVyT3B0aW9ucyB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkZWxpbWl0ZXJzLCBjb21waWxlck9wdGlvbnM6IGNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyB9ID0gQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsQ29tcGlsZXJPcHRpb25zID0gZXh0ZW5kKGV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZGVsaW1pdGVyc1xuICAgICAgICAgICAgICAgIH0sIGNvbXBpbGVyT3B0aW9ucyksIGNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHJ1bnRpbWUgY29tcGF0IGNvbmZpZyBpbnRvIHRoZSBjb21waWxlclxuICAgICAgICAgICAgICAgICAgICBmaW5hbENvbXBpbGVyT3B0aW9ucy5jb21wYXRDb25maWcgPSBPYmplY3QuY3JlYXRlKGdsb2JhbENvbXBhdENvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChDb21wb25lbnQuY29tcGF0Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGVzIGFyZSBub3QgY29tcGF0aWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKGZpbmFsQ29tcGlsZXJPcHRpb25zLmNvbXBhdENvbmZpZywgQ29tcG9uZW50LmNvbXBhdENvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LnJlbmRlciA9IGNvbXBpbGUodGVtcGxhdGUsIGZpbmFsQ29tcGlsZXJPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLnJlbmRlciA9IChDb21wb25lbnQucmVuZGVyIHx8IE5PT1ApO1xuICAgICAgICAvLyBmb3IgcnVudGltZS1jb21waWxlZCByZW5kZXIgZnVuY3Rpb25zIHVzaW5nIGB3aXRoYCBibG9ja3MsIHRoZSByZW5kZXJcbiAgICAgICAgLy8gcHJveHkgdXNlZCBuZWVkcyBhIGRpZmZlcmVudCBgaGFzYCBoYW5kbGVyIHdoaWNoIGlzIG1vcmUgcGVyZm9ybWFudCBhbmRcbiAgICAgICAgLy8gYWxzbyBvbmx5IGFsbG93cyBhIHdoaXRlbGlzdCBvZiBnbG9iYWxzIHRvIGZhbGx0aHJvdWdoLlxuICAgICAgICBpZiAoaW5zdGFsbFdpdGhQcm94eSkge1xuICAgICAgICAgICAgaW5zdGFsbFdpdGhQcm94eShpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc3VwcG9ydCBmb3IgMi54IG9wdGlvbnNcbiAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhKHNraXBPcHRpb25zKSkge1xuICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICB9XG4gICAgLy8gd2FybiBtaXNzaW5nIHRlbXBsYXRlL3JlbmRlclxuICAgIC8vIHRoZSBydW50aW1lIGNvbXBpbGF0aW9uIG9mIHRlbXBsYXRlIGluIFNTUiBpcyBkb25lIGJ5IHNlcnZlci1yZW5kZXJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCAmJiAhaXNTU1IpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghY29tcGlsZSAmJiBDb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IHByb3ZpZGVkIHRlbXBsYXRlIG9wdGlvbiBidXQgYCArXG4gICAgICAgICAgICAgICAgYHJ1bnRpbWUgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkIG9mIFZ1ZS5gICtcbiAgICAgICAgICAgICAgICAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gXG4gICAgICAgICAgICAgICAgICAgICkgLyogc2hvdWxkIG5vdCBoYXBwZW4gKi8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24uYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVBdHRyc1Byb3h5KGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgID8ge1xuICAgICAgICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiAvKiBUcmFja09wVHlwZXMuR0VUICovLCAnJGF0dHJzJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlUHJvcGVydHkoKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLywgJyRhdHRycycpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBleHBvc2UgPSBleHBvc2VkID0+IHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICAgICAgICB3YXJuJDEoYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSBleHBvc2VkIHx8IHt9O1xuICAgIH07XG4gICAgbGV0IGF0dHJzO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgLy8gV2UgdXNlIGdldHRlcnMgaW4gZGV2IGluIGNhc2UgbGlicyBsaWtlIHRlc3QtdXRpbHMgb3ZlcndyaXRlIGluc3RhbmNlXG4gICAgICAgIC8vIHByb3BlcnRpZXMgKG92ZXJ3cml0ZXMgc2hvdWxkIG5vdCBiZSBkb25lIGluIHByb2QpXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMgfHwgKGF0dHJzID0gY3JlYXRlQXR0cnNQcm94eShpbnN0YW5jZSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBzbG90cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnNsb3RzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgZW1pdCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiBpbnN0YW5jZS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHBvc2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdHRycyB8fCAoYXR0cnMgPSBjcmVhdGVBdHRyc1Byb3h5KGluc3RhbmNlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvdHM6IGluc3RhbmNlLnNsb3RzLFxuICAgICAgICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdCxcbiAgICAgICAgICAgIGV4cG9zZVxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEV4cG9zZVByb3h5KGluc3RhbmNlKSB7XG4gICAgaWYgKGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIChpbnN0YW5jZS5leHBvc2VQcm94eSB8fFxuICAgICAgICAgICAgKGluc3RhbmNlLmV4cG9zZVByb3h5ID0gbmV3IFByb3h5KHByb3h5UmVmcyhtYXJrUmF3KGluc3RhbmNlLmV4cG9zZWQpKSwge1xuICAgICAgICAgICAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgaW4gdGFyZ2V0IHx8IGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKSk7XG4gICAgfVxufVxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZztcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgYyA9PiBjLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1stX10vZywgJycpO1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQsIGluY2x1ZGVJbmZlcnJlZCA9IHRydWUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihDb21wb25lbnQpXG4gICAgICAgID8gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lXG4gICAgICAgIDogQ29tcG9uZW50Lm5hbWUgfHwgKGluY2x1ZGVJbmZlcnJlZCAmJiBDb21wb25lbnQuX19uYW1lKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBDb21wb25lbnQsIGlzUm9vdCA9IGZhbHNlKSB7XG4gICAgbGV0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCk7XG4gICAgaWYgKCFuYW1lICYmIENvbXBvbmVudC5fX2ZpbGUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgbmFtZSA9IG1hdGNoWzFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICAgICAgLy8gdHJ5IHRvIGluZmVyIHRoZSBuYW1lIGJhc2VkIG9uIHJldmVyc2UgcmVzb2x1dGlvblxuICAgICAgICBjb25zdCBpbmZlckZyb21SZWdpc3RyeSA9IChyZWdpc3RyeSkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0cnlba2V5XSA9PT0gQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBuYW1lID1cbiAgICAgICAgICAgIGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmNvbXBvbmVudHMgfHxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQudHlwZS5jb21wb25lbnRzKSB8fCBpbmZlckZyb21SZWdpc3RyeShpbnN0YW5jZS5hcHBDb250ZXh0LmNvbXBvbmVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgJiYgJ19fdmNjT3B0cycgaW4gdmFsdWU7XG59XG5cbmNvbnN0IGNvbXB1dGVkJDEgPSAoKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zKSA9PiB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNJblNTUkNvbXBvbmVudFNldHVwKTtcbn0pO1xuXG4vLyBkZXYgb25seVxuY29uc3Qgd2FyblJ1bnRpbWVVc2FnZSA9IChtZXRob2QpID0+IHdhcm4kMShgJHttZXRob2R9KCkgaXMgYSBjb21waWxlci1oaW50IGhlbHBlciB0aGF0IGlzIG9ubHkgdXNhYmxlIGluc2lkZSBgICtcbiAgICBgPHNjcmlwdCBzZXR1cD4gb2YgYSBzaW5nbGUgZmlsZSBjb21wb25lbnQuIEl0cyBhcmd1bWVudHMgc2hvdWxkIGJlIGAgK1xuICAgIGBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gKTtcbi8vIGltcGxlbWVudGF0aW9uXG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZVByb3BzYCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8gaW1wbGVtZW50YXRpb25cbmZ1bmN0aW9uIGRlZmluZUVtaXRzKCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRW1pdHNgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFZ1ZSBgPHNjcmlwdCBzZXR1cD5gIGNvbXBpbGVyIG1hY3JvIGZvciBkZWNsYXJpbmcgYSBjb21wb25lbnQncyBleHBvc2VkXG4gKiBpbnN0YW5jZSBwcm9wZXJ0aWVzIHdoZW4gaXQgaXMgYWNjZXNzZWQgYnkgYSBwYXJlbnQgY29tcG9uZW50IHZpYSB0ZW1wbGF0ZVxuICogcmVmcy5cbiAqXG4gKiBgPHNjcmlwdCBzZXR1cD5gIGNvbXBvbmVudHMgYXJlIGNsb3NlZCBieSBkZWZhdWx0IC0gaS5lLiB2YXJpYWJsZXMgaW5zaWRlXG4gKiB0aGUgYDxzY3JpcHQgc2V0dXA+YCBzY29wZSBpcyBub3QgZXhwb3NlZCB0byBwYXJlbnQgdW5sZXNzIGV4cGxpY2l0bHkgZXhwb3NlZFxuICogdmlhIGBkZWZpbmVFeHBvc2VgLlxuICpcbiAqIFRoaXMgaXMgb25seSB1c2FibGUgaW5zaWRlIGA8c2NyaXB0IHNldHVwPmAsIGlzIGNvbXBpbGVkIGF3YXkgaW4gdGhlXG4gKiBvdXRwdXQgYW5kIHNob3VsZCAqKm5vdCoqIGJlIGFjdHVhbGx5IGNhbGxlZCBhdCBydW50aW1lLlxuICovXG5mdW5jdGlvbiBkZWZpbmVFeHBvc2UoZXhwb3NlZCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRXhwb3NlYCk7XG4gICAgfVxufVxuLyoqXG4gKiBWdWUgYDxzY3JpcHQgc2V0dXA+YCBjb21waWxlciBtYWNybyBmb3IgcHJvdmlkaW5nIHByb3BzIGRlZmF1bHQgdmFsdWVzIHdoZW5cbiAqIHVzaW5nIHR5cGUtYmFzZWQgYGRlZmluZVByb3BzYCBkZWNsYXJhdGlvbi5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogYGBgdHNcbiAqIHdpdGhEZWZhdWx0cyhkZWZpbmVQcm9wczx7XG4gKiAgIHNpemU/OiBudW1iZXJcbiAqICAgbGFiZWxzPzogc3RyaW5nW11cbiAqIH0+KCksIHtcbiAqICAgc2l6ZTogMyxcbiAqICAgbGFiZWxzOiAoKSA9PiBbJ2RlZmF1bHQgbGFiZWwnXVxuICogfSlcbiAqIGBgYFxuICpcbiAqIFRoaXMgaXMgb25seSB1c2FibGUgaW5zaWRlIGA8c2NyaXB0IHNldHVwPmAsIGlzIGNvbXBpbGVkIGF3YXkgaW4gdGhlIG91dHB1dFxuICogYW5kIHNob3VsZCAqKm5vdCoqIGJlIGFjdHVhbGx5IGNhbGxlZCBhdCBydW50aW1lLlxuICovXG5mdW5jdGlvbiB3aXRoRGVmYXVsdHMocHJvcHMsIGRlZmF1bHRzKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICB3YXJuUnVudGltZVVzYWdlKGB3aXRoRGVmYXVsdHNgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiB1c2VTbG90cygpIHtcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLnNsb3RzO1xufVxuZnVuY3Rpb24gdXNlQXR0cnMoKSB7XG4gICAgcmV0dXJuIGdldENvbnRleHQoKS5hdHRycztcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQoKSB7XG4gICAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWkpIHtcbiAgICAgICAgd2FybiQxKGB1c2VDb250ZXh0KCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xuICAgIH1cbiAgICByZXR1cm4gaS5zZXR1cENvbnRleHQgfHwgKGkuc2V0dXBDb250ZXh0ID0gY3JlYXRlU2V0dXBDb250ZXh0KGkpKTtcbn1cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIG1lcmdpbmcgZGVmYXVsdCBkZWNsYXJhdGlvbnMuIEltcG9ydGVkIGJ5IGNvbXBpbGVkIGNvZGVcbiAqIG9ubHkuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gbWVyZ2VEZWZhdWx0cyhyYXcsIGRlZmF1bHRzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBpc0FycmF5KHJhdylcbiAgICAgICAgPyByYXcucmVkdWNlKChub3JtYWxpemVkLCBwKSA9PiAoKG5vcm1hbGl6ZWRbcF0gPSB7fSksIG5vcm1hbGl6ZWQpLCB7fSlcbiAgICAgICAgOiByYXc7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgY29uc3Qgb3B0ID0gcHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG9wdCkge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkpIHtcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldID0geyB0eXBlOiBvcHQsIGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdC5kZWZhdWx0ID0gZGVmYXVsdHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB7IGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4kMShgcHJvcHMgZGVmYXVsdCBrZXkgXCIke2tleX1cIiBoYXMgbm8gY29ycmVzcG9uZGluZyBkZWNsYXJhdGlvbi5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcHM7XG59XG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGEgcHJveHkgZm9yIHRoZSByZXN0IGVsZW1lbnQgd2hlbiBkZXN0cnVjdHVyaW5nIHByb3BzIHdpdGhcbiAqIGRlZmluZVByb3BzKCkuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUHJvcHNSZXN0UHJveHkocHJvcHMsIGV4Y2x1ZGVkS2V5cykge1xuICAgIGNvbnN0IHJldCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmICghZXhjbHVkZWRLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXQsIGtleSwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBwcm9wc1trZXldXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuLyoqXG4gKiBgPHNjcmlwdCBzZXR1cD5gIGhlbHBlciBmb3IgcGVyc2lzdGluZyB0aGUgY3VycmVudCBpbnN0YW5jZSBjb250ZXh0IG92ZXJcbiAqIGFzeW5jL2F3YWl0IGZsb3dzLlxuICpcbiAqIGBAdnVlL2NvbXBpbGVyLXNmY2AgY29udmVydHMgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiBgYGB0c1xuICogY29uc3QgeCA9IGF3YWl0IGZvbygpXG4gKiBgYGBcbiAqXG4gKiBpbnRvOlxuICpcbiAqIGBgYHRzXG4gKiBsZXQgX190ZW1wLCBfX3Jlc3RvcmVcbiAqIGNvbnN0IHggPSAoKFtfX3RlbXAsIF9fcmVzdG9yZV0gPSB3aXRoQXN5bmNDb250ZXh0KCgpID0+IGZvbygpKSksX190ZW1wPWF3YWl0IF9fdGVtcCxfX3Jlc3RvcmUoKSxfX3RlbXApXG4gKiBgYGBcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB3aXRoQXN5bmNDb250ZXh0KGdldEF3YWl0YWJsZSkge1xuICAgIGNvbnN0IGN0eCA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWN0eCkge1xuICAgICAgICB3YXJuJDEoYHdpdGhBc3luY0NvbnRleHQgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGN1cnJlbnQgaW5zdGFuY2UuIGAgK1xuICAgICAgICAgICAgYFRoaXMgaXMgbGlrZWx5IGEgYnVnLmApO1xuICAgIH1cbiAgICBsZXQgYXdhaXRhYmxlID0gZ2V0QXdhaXRhYmxlKCk7XG4gICAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaXNQcm9taXNlKGF3YWl0YWJsZSkpIHtcbiAgICAgICAgYXdhaXRhYmxlID0gYXdhaXRhYmxlLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGN0eCk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFthd2FpdGFibGUsICgpID0+IHNldEN1cnJlbnRJbnN0YW5jZShjdHgpXTtcbn1cblxuLy8gQWN0dWFsIGltcGxlbWVudGF0aW9uXG5mdW5jdGlvbiBoKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pIHtcbiAgICBjb25zdCBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAobCA9PT0gMikge1xuICAgICAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAvLyBzaW5nbGUgdm5vZGUgd2l0aG91dCBwcm9wc1xuICAgICAgICAgICAgaWYgKGlzVk5vZGUocHJvcHNPckNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwcm9wcyB3aXRob3V0IGNoaWxkcmVuXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG9taXQgcHJvcHNcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBwcm9wc09yQ2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAobCA+IDMpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pO1xuICAgIH1cbn1cblxuY29uc3Qgc3NyQ29udGV4dEtleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBgc3NyQ29udGV4dGAgOiBgYCk7XG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xuICAgIHtcbiAgICAgICAgY29uc3QgY3R4ID0gaW5qZWN0KHNzckNvbnRleHRLZXkpO1xuICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybiQxKGBTZXJ2ZXIgcmVuZGVyaW5nIGNvbnRleHQgbm90IHByb3ZpZGVkLiBNYWtlIHN1cmUgdG8gb25seSBjYWxsIGAgK1xuICAgICAgICAgICAgICAgICAgICBgdXNlU1NSQ29udGV4dCgpIGNvbmRpdGlvbmFsbHkgaW4gdGhlIHNlcnZlciBidWlsZC5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3R4O1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGluaXRDdXN0b21Gb3JtYXR0ZXIoKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG4gICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2dWVTdHlsZSA9IHsgc3R5bGU6ICdjb2xvcjojM2JhNzc2JyB9O1xuICAgIGNvbnN0IG51bWJlclN0eWxlID0geyBzdHlsZTogJ2NvbG9yOiMwYjFiYzknIH07XG4gICAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6I2I2MmUyNCcgfTtcbiAgICBjb25zdCBrZXl3b3JkU3R5bGUgPSB7IHN0eWxlOiAnY29sb3I6IzlkMjg4YycgfTtcbiAgICAvLyBjdXN0b20gZm9ybWF0dGVyIGZvciBDaHJvbWVcbiAgICAvLyBodHRwczovL3d3dy5tYXR0emV1bmVydC5jb20vMjAxNi8wMi8xOS9jdXN0b20tY2hyb21lLWRldnRvb2xzLW9iamVjdC1mb3JtYXR0ZXJzLmh0bWxcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSB7XG4gICAgICAgIGhlYWRlcihvYmopIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYWxzbyBmb3JtYXQgQ29tcG9uZW50UHVibGljSW5zdGFuY2UgJiBjdHguc2xvdHMvYXR0cnMgaW4gc2V0dXBcbiAgICAgICAgICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsnZGl2JywgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWYob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXG4gICAgICAgICAgICAgICAgICAgICc8JyxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUob2JqLnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgYD5gXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgICAgWydzcGFuJywgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gJ1NoYWxsb3dSZWFjdGl2ZScgOiAnUmVhY3RpdmUnXSxcbiAgICAgICAgICAgICAgICAgICAgJzwnLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxuICAgICAgICAgICAgICAgICAgICBgPiR7aXNSZWFkb25seShvYmopID8gYCAocmVhZG9ubHkpYCA6IGBgfWBcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSZWFkb25seShvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCB2dWVTdHlsZSwgaXNTaGFsbG93KG9iaikgPyAnU2hhbGxvd1JlYWRvbmx5JyA6ICdSZWFkb25seSddLFxuICAgICAgICAgICAgICAgICAgICAnPCcsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgICAgICAgICAgICc+J1xuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzQm9keShvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGJvZHkob2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRJbnN0YW5jZShvYmouJClcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgICAgICBjb25zdCBibG9ja3MgPSBbXTtcbiAgICAgICAgaWYgKGluc3RhbmNlLnR5cGUucHJvcHMgJiYgaW5zdGFuY2UucHJvcHMpIHtcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soJ3Byb3BzJywgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3RhbmNlLnNldHVwU3RhdGUgIT09IEVNUFRZX09CSikge1xuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnc2V0dXAnLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3RhbmNlLmRhdGEgIT09IEVNUFRZX09CSikge1xuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnZGF0YScsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgJ2NvbXB1dGVkJyk7XG4gICAgICAgIGlmIChjb21wdXRlZCkge1xuICAgICAgICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jaygnY29tcHV0ZWQnLCBjb21wdXRlZCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluamVjdGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsICdpbmplY3QnKTtcbiAgICAgICAgaWYgKGluamVjdGVkKSB7XG4gICAgICAgICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKCdpbmplY3RlZCcsIGluamVjdGVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgYmxvY2tzLnB1c2goW1xuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZToga2V5d29yZFN0eWxlLnN0eWxlICsgJztvcGFjaXR5OjAuNjYnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnJCAoaW50ZXJuYWwpOiAnXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgWydvYmplY3QnLCB7IG9iamVjdDogaW5zdGFuY2UgfV1cbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBibG9ja3M7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IGV4dGVuZCh7fSwgdGFyZ2V0KTtcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyh0YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHt9XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IHN0eWxlOiAnbGluZS1oZWlnaHQ6MS4yNWVtO21hcmdpbi1ib3R0b206MC42ZW0nIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2NvbG9yOiM0NzY1ODInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdwYWRkaW5nLWxlZnQ6MS4yNWVtJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXModGFyZ2V0KS5tYXAoa2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3NwYW4nLCBrZXl3b3JkU3R5bGUsIGtleSArICc6ICddLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0VmFsdWUodGFyZ2V0W2tleV0sIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdXG4gICAgICAgIF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHYsIGFzUmF3ID0gdHJ1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gWydzcGFuJywgbnVtYmVyU3R5bGUsIHZdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuIFsnc3BhbicsIGtleXdvcmRTdHlsZSwgdl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ29iamVjdCcsIHsgb2JqZWN0OiBhc1JhdyA/IHRvUmF3KHYpIDogdiB9XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbJ3NwYW4nLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xuICAgICAgICBjb25zdCBDb21wID0gaW5zdGFuY2UudHlwZTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oQ29tcCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UuY3R4KSB7XG4gICAgICAgICAgICBpZiAoaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSkge1xuICAgICAgICAgICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4dHJhY3RlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBDb21wW3R5cGVdO1xuICAgICAgICBpZiAoKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpKSB8fFxuICAgICAgICAgICAgKGlzT2JqZWN0KG9wdHMpICYmIGtleSBpbiBvcHRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvbXAuZXh0ZW5kcyAmJiBpc0tleU9mVHlwZShDb21wLmV4dGVuZHMsIGtleSwgdHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb21wLm1peGlucyAmJiBDb21wLm1peGlucy5zb21lKG0gPT4gaXNLZXlPZlR5cGUobSwga2V5LCB0eXBlKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdlblJlZkZsYWcodikge1xuICAgICAgICBpZiAoaXNTaGFsbG93KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2LmVmZmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGBSZWZgO1xuICAgIH1cbiAgICBpZiAod2luZG93LmRldnRvb2xzRm9ybWF0dGVycykge1xuICAgICAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMgPSBbZm9ybWF0dGVyXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdpdGhNZW1vKG1lbW8sIHJlbmRlciwgY2FjaGUsIGluZGV4KSB7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGVbaW5kZXhdO1xuICAgIGlmIChjYWNoZWQgJiYgaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJldCA9IHJlbmRlcigpO1xuICAgIC8vIHNoYWxsb3cgY2xvbmVcbiAgICByZXQubWVtbyA9IG1lbW8uc2xpY2UoKTtcbiAgICByZXR1cm4gKGNhY2hlW2luZGV4XSA9IHJldCk7XG59XG5mdW5jdGlvbiBpc01lbW9TYW1lKGNhY2hlZCwgbWVtbykge1xuICAgIGNvbnN0IHByZXYgPSBjYWNoZWQubWVtbztcbiAgICBpZiAocHJldi5sZW5ndGggIT0gbWVtby5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQocHJldltpXSwgbWVtb1tpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgdG8gbGV0IHBhcmVudCBibG9jayB0cmFjayBpdCB3aGVuIHJldHVybmluZyBjYWNoZWRcbiAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2goY2FjaGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIENvcmUgQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgdmVyc2lvbiA9IFwiMy4yLjQ1XCI7XG5jb25zdCBfc3NyVXRpbHMgPSB7XG4gICAgY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UsXG4gICAgc2V0dXBDb21wb25lbnQsXG4gICAgcmVuZGVyQ29tcG9uZW50Um9vdCxcbiAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsXG4gICAgaXNWTm9kZSxcbiAgICBub3JtYWxpemVWTm9kZVxufTtcbi8qKlxuICogU1NSIHV0aWxzIGZvciBcXEB2dWUvc2VydmVyLXJlbmRlcmVyLiBPbmx5IGV4cG9zZWQgaW4gc3NyLXBvc3NpYmxlIGJ1aWxkcy5cbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBzc3JVdGlscyA9IChfc3NyVXRpbHMgKTtcbi8qKlxuICogQGludGVybmFsIG9ubHkgZXhwb3NlZCBpbiBjb21wYXQgYnVpbGRzXG4gKi9cbmNvbnN0IHJlc29sdmVGaWx0ZXIkMSA9IHJlc29sdmVGaWx0ZXIgO1xuY29uc3QgX2NvbXBhdFV0aWxzID0ge1xuICAgIHdhcm5EZXByZWNhdGlvbixcbiAgICBjcmVhdGVDb21wYXRWdWUsXG4gICAgaXNDb21wYXRFbmFibGVkLFxuICAgIGNoZWNrQ29tcGF0RW5hYmxlZCxcbiAgICBzb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZFxufTtcbi8qKlxuICogQGludGVybmFsIG9ubHkgZXhwb3NlZCBpbiBjb21wYXQgYnVpbGRzLlxuICovXG5jb25zdCBjb21wYXRVdGlscyA9IChfY29tcGF0VXRpbHMgKTtcblxuY29uc3Qgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3QgZG9jID0gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IG51bGwpO1xuY29uc3QgdGVtcGxhdGVDb250YWluZXIgPSBkb2MgJiYgLyojX19QVVJFX18qLyBkb2MuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbmNvbnN0IG5vZGVPcHMgPSB7XG4gICAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGFuY2hvciB8fCBudWxsKTtcbiAgICB9LFxuICAgIHJlbW92ZTogY2hpbGQgPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGVFbGVtZW50OiAodGFnLCBpc1NWRywgaXMsIHByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gaXNTVkdcbiAgICAgICAgICAgID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgdGFnKVxuICAgICAgICAgICAgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWcsIGlzID8geyBpcyB9IDogdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKHRhZyA9PT0gJ3NlbGVjdCcgJiYgcHJvcHMgJiYgcHJvcHMubXVsdGlwbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdtdWx0aXBsZScsIHByb3BzLm11bHRpcGxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfSxcbiAgICBjcmVhdGVUZXh0OiB0ZXh0ID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcbiAgICBjcmVhdGVDb21tZW50OiB0ZXh0ID0+IGRvYy5jcmVhdGVDb21tZW50KHRleHQpLFxuICAgIHNldFRleHQ6IChub2RlLCB0ZXh0KSA9PiB7XG4gICAgICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcbiAgICB9LFxuICAgIHNldEVsZW1lbnRUZXh0OiAoZWwsIHRleHQpID0+IHtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH0sXG4gICAgcGFyZW50Tm9kZTogbm9kZSA9PiBub2RlLnBhcmVudE5vZGUsXG4gICAgbmV4dFNpYmxpbmc6IG5vZGUgPT4gbm9kZS5uZXh0U2libGluZyxcbiAgICBxdWVyeVNlbGVjdG9yOiBzZWxlY3RvciA9PiBkb2MucXVlcnlTZWxlY3RvcihzZWxlY3RvciksXG4gICAgc2V0U2NvcGVJZChlbCwgaWQpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGlkLCAnJyk7XG4gICAgfSxcbiAgICAvLyBfX1VOU0FGRV9fXG4gICAgLy8gUmVhc29uOiBpbm5lckhUTUwuXG4gICAgLy8gU3RhdGljIGNvbnRlbnQgaGVyZSBjYW4gb25seSBjb21lIGZyb20gY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXG4gICAgaW5zZXJ0U3RhdGljQ29udGVudChjb250ZW50LCBwYXJlbnQsIGFuY2hvciwgaXNTVkcsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgLy8gPHBhcmVudD4gYmVmb3JlIHwgZmlyc3QgLi4uIGxhc3QgfCBhbmNob3IgPC9wYXJlbnQ+XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkO1xuICAgICAgICAvLyAjNTMwOCBjYW4gb25seSB0YWtlIGNhY2hlZCBwYXRoIGlmOlxuICAgICAgICAvLyAtIGhhcyBhIHNpbmdsZSByb290IG5vZGVcbiAgICAgICAgLy8gLSBuZXh0U2libGluZyBpbmZvIGlzIHN0aWxsIGF2YWlsYWJsZVxuICAgICAgICBpZiAoc3RhcnQgJiYgKHN0YXJ0ID09PSBlbmQgfHwgc3RhcnQubmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAvLyBjYWNoZWRcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShzdGFydC5jbG9uZU5vZGUodHJ1ZSksIGFuY2hvcik7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSBlbmQgfHwgIShzdGFydCA9IHN0YXJ0Lm5leHRTaWJsaW5nKSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBmcmVzaCBpbnNlcnRcbiAgICAgICAgICAgIHRlbXBsYXRlQ29udGFpbmVyLmlubmVySFRNTCA9IGlzU1ZHID8gYDxzdmc+JHtjb250ZW50fTwvc3ZnPmAgOiBjb250ZW50O1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNvbnRhaW5lci5jb250ZW50O1xuICAgICAgICAgICAgaWYgKGlzU1ZHKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG91dGVyIHN2ZyB3cmFwcGVyXG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRlbXBsYXRlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHdyYXBwZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5hcHBlbmRDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5yZW1vdmVDaGlsZCh3cmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGVtcGxhdGUsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC8vIGZpcnN0XG4gICAgICAgICAgICBiZWZvcmUgPyBiZWZvcmUubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgICAgIC8vIGxhc3RcbiAgICAgICAgICAgIGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkXG4gICAgICAgIF07XG4gICAgfVxufTtcblxuLy8gY29tcGlsZXIgc2hvdWxkIG5vcm1hbGl6ZSBjbGFzcyArIDpjbGFzcyBiaW5kaW5ncyBvbiB0aGUgc2FtZSBlbGVtZW50XG4vLyBpbnRvIGEgc2luZ2xlIGJpbmRpbmcgWydzdGF0aWNDbGFzcycsIGR5bmFtaWNdXG5mdW5jdGlvbiBwYXRjaENsYXNzKGVsLCB2YWx1ZSwgaXNTVkcpIHtcbiAgICAvLyBkaXJlY3RseSBzZXR0aW5nIGNsYXNzTmFtZSBzaG91bGQgYmUgZmFzdGVyIHRoYW4gc2V0QXR0cmlidXRlIGluIHRoZW9yeVxuICAgIC8vIGlmIHRoaXMgaXMgYW4gZWxlbWVudCBkdXJpbmcgYSB0cmFuc2l0aW9uLCB0YWtlIHRoZSB0ZW1wb3JhcnkgdHJhbnNpdGlvblxuICAgIC8vIGNsYXNzZXMgaW50byBhY2NvdW50LlxuICAgIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWwuX3Z0YztcbiAgICBpZiAodHJhbnNpdGlvbkNsYXNzZXMpIHtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXSA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NWRykge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwYXRjaFN0eWxlKGVsLCBwcmV2LCBuZXh0KSB7XG4gICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgICBjb25zdCBpc0Nzc1N0cmluZyA9IGlzU3RyaW5nKG5leHQpO1xuICAgIGlmIChuZXh0ICYmICFpc0Nzc1N0cmluZykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2ICYmICFpc1N0cmluZyhwcmV2KSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBjdXJyZW50RGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7XG4gICAgICAgIGlmIChpc0Nzc1N0cmluZykge1xuICAgICAgICAgICAgaWYgKHByZXYgIT09IG5leHQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS5jc3NUZXh0ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2KSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5kaWNhdGVzIHRoYXQgdGhlIGBkaXNwbGF5YCBvZiB0aGUgZWxlbWVudCBpcyBjb250cm9sbGVkIGJ5IGB2LXNob3dgLFxuICAgICAgICAvLyBzbyB3ZSBhbHdheXMga2VlcCB0aGUgY3VycmVudCBgZGlzcGxheWAgdmFsdWUgcmVnYXJkbGVzcyBvZiB0aGUgYHN0eWxlYFxuICAgICAgICAvLyB2YWx1ZSwgdGh1cyBoYW5kaW5nIG92ZXIgY29udHJvbCB0byBgdi1zaG93YC5cbiAgICAgICAgaWYgKCdfdm9kJyBpbiBlbCkge1xuICAgICAgICAgICAgc3R5bGUuZGlzcGxheSA9IGN1cnJlbnREaXNwbGF5O1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3Qgc2VtaWNvbG9uUkUgPSAvW15cXFxcXTtcXHMqJC87XG5jb25zdCBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHZhbCkge1xuICAgIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgICAgdmFsLmZvckVhY2godiA9PiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHZhbCA9PSBudWxsKVxuICAgICAgICAgICAgdmFsID0gJyc7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGlmIChzZW1pY29sb25SRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgICAgICAgICB3YXJuJDEoYFVuZXhwZWN0ZWQgc2VtaWNvbG9uIGF0IHRoZSBlbmQgb2YgJyR7bmFtZX0nIHN0eWxlIHZhbHVlOiAnJHt2YWx9J2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJy0tJykpIHtcbiAgICAgICAgICAgIC8vIGN1c3RvbSBwcm9wZXJ0eSBkZWZpbml0aW9uXG4gICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ZWQgPSBhdXRvUHJlZml4KHN0eWxlLCBuYW1lKTtcbiAgICAgICAgICAgIGlmIChpbXBvcnRhbnRSRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgICAgICAgICAvLyAhaW1wb3J0YW50XG4gICAgICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoaHlwaGVuYXRlKHByZWZpeGVkKSwgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsICcnKSwgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3R5bGVbcHJlZml4ZWRdID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnXTtcbmNvbnN0IHByZWZpeENhY2hlID0ge307XG5mdW5jdGlvbiBhdXRvUHJlZml4KHN0eWxlLCByYXdOYW1lKSB7XG4gICAgY29uc3QgY2FjaGVkID0gcHJlZml4Q2FjaGVbcmF3TmFtZV07XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgIH1cbiAgICBsZXQgbmFtZSA9IGNhbWVsaXplKHJhd05hbWUpO1xuICAgIGlmIChuYW1lICE9PSAnZmlsdGVyJyAmJiBuYW1lIGluIHN0eWxlKSB7XG4gICAgICAgIHJldHVybiAocHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBuYW1lKTtcbiAgICB9XG4gICAgbmFtZSA9IGNhcGl0YWxpemUobmFtZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgbmFtZTtcbiAgICAgICAgaWYgKHByZWZpeGVkIGluIHN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYXdOYW1lO1xufVxuXG5jb25zdCB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuZnVuY3Rpb24gcGF0Y2hBdHRyKGVsLCBrZXksIHZhbHVlLCBpc1NWRywgaW5zdGFuY2UpIHtcbiAgICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoJ3hsaW5rOicpKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXkuc2xpY2UoNiwga2V5Lmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChjb21wYXRDb2VyY2VBdHRyKGVsLCBrZXksIHZhbHVlLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3RlIHdlIGFyZSBvbmx5IGNoZWNraW5nIGJvb2xlYW4gYXR0cmlidXRlcyB0aGF0IGRvbid0IGhhdmUgYVxuICAgICAgICAvLyBjb3JyZXNwb25kaW5nIGRvbSBwcm9wIG9mIHRoZSBzYW1lIG5hbWUgaGVyZS5cbiAgICAgICAgY29uc3QgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KTtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgKGlzQm9vbGVhbiAmJiAhaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgaXNCb29sZWFuID8gJycgOiB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyAyLnggY29tcGF0XG5jb25zdCBpc0VudW1lcmF0ZWRBdHRyID0gLyojX19QVVJFX18qLyBtYWtlTWFwKCdjb250ZW50ZWRpdGFibGUsZHJhZ2dhYmxlLHNwZWxsY2hlY2snKVxuICAgIDtcbmZ1bmN0aW9uIGNvbXBhdENvZXJjZUF0dHIoZWwsIGtleSwgdmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xuICAgIGlmIChpc0VudW1lcmF0ZWRBdHRyKGtleSkpIHtcbiAgICAgICAgY29uc3QgdjJDb2VyY2VkVmFsdWUgPSB2YWx1ZSA9PT0gbnVsbFxuICAgICAgICAgICAgPyAnZmFsc2UnXG4gICAgICAgICAgICA6IHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nICYmIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/ICd0cnVlJ1xuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKHYyQ29lcmNlZFZhbHVlICYmXG4gICAgICAgICAgICBjb21wYXRVdGlscy5zb2Z0QXNzZXJ0Q29tcGF0RW5hYmxlZChcIkFUVFJfRU5VTUVSQVRFRF9DT0VSQ0lPTlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9FTlVNRVJBVEVEX0NPRVJDSU9OICovLCBpbnN0YW5jZSwga2V5LCB2YWx1ZSwgdjJDb2VyY2VkVmFsdWUpKSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2MkNvZXJjZWRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UgJiZcbiAgICAgICAgIWlzU3BlY2lhbEJvb2xlYW5BdHRyKGtleSkgJiZcbiAgICAgICAgY29tcGF0VXRpbHMuc29mdEFzc2VydENvbXBhdEVuYWJsZWQoXCJBVFRSX0ZBTFNFX1ZBTFVFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0ZBTFNFX1ZBTFVFICovLCBpbnN0YW5jZSwga2V5KSkge1xuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gX19VTlNBRkVfX1xuLy8gZnVuY3Rpb25zLiBUaGUgdXNlciBpcyByZXNwb25zaWJsZSBmb3IgdXNpbmcgdGhlbSB3aXRoIG9ubHkgdHJ1c3RlZCBjb250ZW50LlxuZnVuY3Rpb24gcGF0Y2hET01Qcm9wKGVsLCBrZXksIHZhbHVlLCBcbi8vIHRoZSBmb2xsb3dpbmcgYXJncyBhcmUgcGFzc2VkIG9ubHkgZHVlIHRvIHBvdGVudGlhbCBpbm5lckhUTUwvdGV4dENvbnRlbnRcbi8vIG92ZXJyaWRpbmcgZXhpc3RpbmcgVk5vZGVzLCBpbiB3aGljaCBjYXNlIHRoZSBvbGQgdHJlZSBtdXN0IGJlIHByb3Blcmx5XG4vLyB1bm1vdW50ZWQuXG5wcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikge1xuICAgIGlmIChrZXkgPT09ICdpbm5lckhUTUwnIHx8IGtleSA9PT0gJ3RleHRDb250ZW50Jykge1xuICAgICAgICBpZiAocHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtrZXldID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ3ZhbHVlJyAmJlxuICAgICAgICBlbC50YWdOYW1lICE9PSAnUFJPR1JFU1MnICYmXG4gICAgICAgIC8vIGN1c3RvbSBlbGVtZW50cyBtYXkgdXNlIF92YWx1ZSBpbnRlcm5hbGx5XG4gICAgICAgICFlbC50YWdOYW1lLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgLy8gc3RvcmUgdmFsdWUgYXMgX3ZhbHVlIGFzIHdlbGwgc2luY2VcbiAgICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZC5cbiAgICAgICAgZWwuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgICAgIGlmIChlbC52YWx1ZSAhPT0gbmV3VmFsdWUgfHxcbiAgICAgICAgICAgIC8vICM0OTU2OiBhbHdheXMgc2V0IGZvciBPUFRJT04gZWxlbWVudHMgYmVjYXVzZSBpdHMgdmFsdWUgZmFsbHMgYmFjayB0b1xuICAgICAgICAgICAgLy8gdGV4dENvbnRlbnQgaWYgbm8gdmFsdWUgYXR0cmlidXRlIGlzIHByZXNlbnQuIEFuZCBzZXR0aW5nIC52YWx1ZSBmb3JcbiAgICAgICAgICAgIC8vIE9QVElPTiBoYXMgbm8gc2lkZSBlZmZlY3RcbiAgICAgICAgICAgIGVsLnRhZ05hbWUgPT09ICdPUFRJT04nKSB7XG4gICAgICAgICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBuZWVkUmVtb3ZlID0gZmFsc2U7XG4gICAgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZWxba2V5XTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgLy8gZS5nLiA8c2VsZWN0IG11bHRpcGxlPiBjb21waWxlcyB0byB7IG11bHRpcGxlOiAnJyB9XG4gICAgICAgICAgICB2YWx1ZSA9IGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT0gbnVsbCAmJiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gZS5nLiA8ZGl2IDppZD1cIm51bGxcIj5cbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gZS5nLiA8aW1nIDp3aWR0aD1cIm51bGxcIj5cbiAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAodmFsdWUgPT09IGZhbHNlICYmXG4gICAgICAgICAgICBjb21wYXRVdGlscy5pc0NvbXBhdEVuYWJsZWQoXCJBVFRSX0ZBTFNFX1ZBTFVFXCIgLyogRGVwcmVjYXRpb25UeXBlcy5BVFRSX0ZBTFNFX1ZBTFVFICovLCBwYXJlbnRDb21wb25lbnQpKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIGVsW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgY29tcGF0VXRpbHMud2FybkRlcHJlY2F0aW9uKFwiQVRUUl9GQUxTRV9WQUxVRVwiIC8qIERlcHJlY2F0aW9uVHlwZXMuQVRUUl9GQUxTRV9WQUxVRSAqLywgcGFyZW50Q29tcG9uZW50LCBrZXkpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdHlwZSA9PT0gJ251bWJlcicgPyAwIDogJyc7XG4gICAgICAgICAgICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc29tZSBwcm9wZXJ0aWVzIHBlcmZvcm0gdmFsdWUgdmFsaWRhdGlvbiBhbmQgdGhyb3csXG4gICAgLy8gc29tZSBwcm9wZXJ0aWVzIGhhcyBnZXR0ZXIsIG5vIHNldHRlciwgd2lsbCBlcnJvciBpbiAndXNlIHN0cmljdCdcbiAgICAvLyBlZy4gPHNlbGVjdCA6dHlwZT1cIm51bGxcIj48L3NlbGVjdD4gPHNlbGVjdCA6d2lsbFZhbGlkYXRlPVwibnVsbFwiPjwvc2VsZWN0PlxuICAgIHRyeSB7XG4gICAgICAgIGVsW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZG8gbm90IHdhcm4gaWYgdmFsdWUgaXMgYXV0by1jb2VyY2VkIGZyb20gbnVsbGlzaCB2YWx1ZXNcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhbmVlZFJlbW92ZSkge1xuICAgICAgICAgICAgd2FybiQxKGBGYWlsZWQgc2V0dGluZyBwcm9wIFwiJHtrZXl9XCIgb24gPCR7ZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpfT46IGAgK1xuICAgICAgICAgICAgICAgIGB2YWx1ZSAke3ZhbHVlfSBpcyBpbnZhbGlkLmAsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5lZWRSZW1vdmUgJiYgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcGF0Y2hFdmVudChlbCwgcmF3TmFtZSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xuICAgIC8vIHZlaSA9IHZ1ZSBldmVudCBpbnZva2Vyc1xuICAgIGNvbnN0IGludm9rZXJzID0gZWwuX3ZlaSB8fCAoZWwuX3ZlaSA9IHt9KTtcbiAgICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcbiAgICBpZiAobmV4dFZhbHVlICYmIGV4aXN0aW5nSW52b2tlcikge1xuICAgICAgICAvLyBwYXRjaFxuICAgICAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBbbmFtZSwgb3B0aW9uc10gPSBwYXJzZU5hbWUocmF3TmFtZSk7XG4gICAgICAgIGlmIChuZXh0VmFsdWUpIHtcbiAgICAgICAgICAgIC8vIGFkZFxuICAgICAgICAgICAgY29uc3QgaW52b2tlciA9IChpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIobmV4dFZhbHVlLCBpbnN0YW5jZSkpO1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgaW52b2tlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXhpc3RpbmdJbnZva2VyKSB7XG4gICAgICAgICAgICAvLyByZW1vdmVcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGV4aXN0aW5nSW52b2tlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpbnZva2Vyc1tyYXdOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IG9wdGlvbnNNb2RpZmllclJFID0gLyg/Ok9uY2V8UGFzc2l2ZXxDYXB0dXJlKSQvO1xuZnVuY3Rpb24gcGFyc2VOYW1lKG5hbWUpIHtcbiAgICBsZXQgb3B0aW9ucztcbiAgICBpZiAob3B0aW9uc01vZGlmaWVyUkUudGVzdChuYW1lKSkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIGxldCBtO1xuICAgICAgICB3aGlsZSAoKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIG5hbWUubGVuZ3RoIC0gbVswXS5sZW5ndGgpO1xuICAgICAgICAgICAgb3B0aW9uc1ttWzBdLnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBldmVudCA9IG5hbWVbMl0gPT09ICc6JyA/IG5hbWUuc2xpY2UoMykgOiBoeXBoZW5hdGUobmFtZS5zbGljZSgyKSk7XG4gICAgcmV0dXJuIFtldmVudCwgb3B0aW9uc107XG59XG4vLyBUbyBhdm9pZCB0aGUgb3ZlcmhlYWQgb2YgcmVwZWF0ZWRseSBjYWxsaW5nIERhdGUubm93KCksIHdlIGNhY2hlXG4vLyBhbmQgdXNlIHRoZSBzYW1lIHRpbWVzdGFtcCBmb3IgYWxsIGV2ZW50IGxpc3RlbmVycyBhdHRhY2hlZCBpbiB0aGUgc2FtZSB0aWNrLlxubGV0IGNhY2hlZE5vdyA9IDA7XG5jb25zdCBwID0gLyojX19QVVJFX18qLyBQcm9taXNlLnJlc29sdmUoKTtcbmNvbnN0IGdldE5vdyA9ICgpID0+IGNhY2hlZE5vdyB8fCAocC50aGVuKCgpID0+IChjYWNoZWROb3cgPSAwKSksIChjYWNoZWROb3cgPSBEYXRlLm5vdygpKSk7XG5mdW5jdGlvbiBjcmVhdGVJbnZva2VyKGluaXRpYWxWYWx1ZSwgaW5zdGFuY2UpIHtcbiAgICBjb25zdCBpbnZva2VyID0gKGUpID0+IHtcbiAgICAgICAgLy8gYXN5bmMgZWRnZSBjYXNlIHZ1ZWpzL3Z1ZSM2NTY2XG4gICAgICAgIC8vIGlubmVyIGNsaWNrIGV2ZW50IHRyaWdnZXJzIHBhdGNoLCBldmVudCBoYW5kbGVyXG4gICAgICAgIC8vIGF0dGFjaGVkIHRvIG91dGVyIGVsZW1lbnQgZHVyaW5nIHBhdGNoLCBhbmQgdHJpZ2dlcmVkIGFnYWluLiBUaGlzXG4gICAgICAgIC8vIGhhcHBlbnMgYmVjYXVzZSBicm93c2VycyBmaXJlIG1pY3JvdGFzayB0aWNrcyBiZXR3ZWVuIGV2ZW50IHByb3BhZ2F0aW9uLlxuICAgICAgICAvLyB0aGlzIG5vIGxvbmdlciBoYXBwZW5zIGZvciB0ZW1wbGF0ZXMgaW4gVnVlIDMsIGJ1dCBjb3VsZCBzdGlsbCBiZVxuICAgICAgICAvLyB0aGVvcmV0aWNhbGx5IHBvc3NpYmxlIGZvciBoYW5kLXdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9ucy5cbiAgICAgICAgLy8gdGhlIHNvbHV0aW9uOiB3ZSBzYXZlIHRoZSB0aW1lc3RhbXAgd2hlbiBhIGhhbmRsZXIgaXMgYXR0YWNoZWQsXG4gICAgICAgIC8vIGFuZCBhbHNvIGF0dGFjaCB0aGUgdGltZXN0YW1wIHRvIGFueSBldmVudCB0aGF0IHdhcyBoYW5kbGVkIGJ5IHZ1ZVxuICAgICAgICAvLyBmb3IgdGhlIGZpcnN0IHRpbWUgKHRvIGF2b2lkIGluY29uc2lzdGVudCBldmVudCB0aW1lc3RhbXAgaW1wbGVtZW50YXRpb25zXG4gICAgICAgIC8vIG9yIGV2ZW50cyBmaXJlZCBmcm9tIGlmcmFtZXMsIGUuZy4gIzI1MTMpXG4gICAgICAgIC8vIFRoZSBoYW5kbGVyIHdvdWxkIG9ubHkgZmlyZSBpZiB0aGUgZXZlbnQgcGFzc2VkIHRvIGl0IHdhcyBmaXJlZFxuICAgICAgICAvLyBBRlRFUiBpdCB3YXMgYXR0YWNoZWQuXG4gICAgICAgIGlmICghZS5fdnRzKSB7XG4gICAgICAgICAgICBlLl92dHMgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUuX3Z0cyA8PSBpbnZva2VyLmF0dGFjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcocGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgaW52b2tlci52YWx1ZSksIGluc3RhbmNlLCA1IC8qIEVycm9yQ29kZXMuTkFUSVZFX0VWRU5UX0hBTkRMRVIgKi8sIFtlXSk7XG4gICAgfTtcbiAgICBpbnZva2VyLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIGludm9rZXIuYXR0YWNoZWQgPSBnZXROb3coKTtcbiAgICByZXR1cm4gaW52b2tlcjtcbn1cbmZ1bmN0aW9uIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIHZhbHVlKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgIG9yaWdpbmFsU3RvcC5jYWxsKGUpO1xuICAgICAgICAgICAgZS5fc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB2YWx1ZS5tYXAoZm4gPT4gKGUpID0+ICFlLl9zdG9wcGVkICYmIGZuICYmIGZuKGUpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbmNvbnN0IG5hdGl2ZU9uUkUgPSAvXm9uW2Etel0vO1xuY29uc3QgcGF0Y2hQcm9wID0gKGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpc1NWRyA9IGZhbHNlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikgPT4ge1xuICAgIGlmIChrZXkgPT09ICdjbGFzcycpIHtcbiAgICAgICAgcGF0Y2hDbGFzcyhlbCwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICBwYXRjaFN0eWxlKGVsLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICAvLyBpZ25vcmUgdi1tb2RlbCBsaXN0ZW5lcnNcbiAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChrZXlbMF0gPT09ICcuJ1xuICAgICAgICA/ICgoa2V5ID0ga2V5LnNsaWNlKDEpKSwgdHJ1ZSlcbiAgICAgICAgOiBrZXlbMF0gPT09ICdeJ1xuICAgICAgICAgICAgPyAoKGtleSA9IGtleS5zbGljZSgxKSksIGZhbHNlKVxuICAgICAgICAgICAgOiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRykpIHtcbiAgICAgICAgcGF0Y2hET01Qcm9wKGVsLCBrZXksIG5leHRWYWx1ZSwgcHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciA8aW5wdXQgdi1tb2RlbCB0eXBlPVwiY2hlY2tib3hcIj4gd2l0aFxuICAgICAgICAvLyA6dHJ1ZS12YWx1ZSAmIDpmYWxzZS12YWx1ZVxuICAgICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBkb20gcHJvcGVydGllcyBzaW5jZSBub24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlXG4gICAgICAgIC8vIHN0cmluZ2lmaWVkLlxuICAgICAgICBpZiAoa2V5ID09PSAndHJ1ZS12YWx1ZScpIHtcbiAgICAgICAgICAgIGVsLl90cnVlVmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnZmFsc2UtdmFsdWUnKSB7XG4gICAgICAgICAgICBlbC5fZmFsc2VWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRywgcGFyZW50Q29tcG9uZW50KTtcbiAgICB9XG59O1xuZnVuY3Rpb24gc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIHZhbHVlLCBpc1NWRykge1xuICAgIGlmIChpc1NWRykge1xuICAgICAgICAvLyBtb3N0IGtleXMgbXVzdCBiZSBzZXQgYXMgYXR0cmlidXRlIG9uIHN2ZyBlbGVtZW50cyB0byB3b3JrXG4gICAgICAgIC8vIC4uLmV4Y2VwdCBpbm5lckhUTUwgJiB0ZXh0Q29udGVudFxuICAgICAgICBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJyB8fCBrZXkgPT09ICd0ZXh0Q29udGVudCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9yIG5hdGl2ZSBvbmNsaWNrIHdpdGggZnVuY3Rpb24gdmFsdWVzXG4gICAgICAgIGlmIChrZXkgaW4gZWwgJiYgbmF0aXZlT25SRS50ZXN0KGtleSkgJiYgaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gdGhlc2UgYXJlIGVudW1lcmF0ZWQgYXR0cnMsIGhvd2V2ZXIgdGhlaXIgY29ycmVzcG9uZGluZyBET00gcHJvcGVydGllc1xuICAgIC8vIGFyZSBhY3R1YWxseSBib29sZWFucyAtIHRoaXMgbGVhZHMgdG8gc2V0dGluZyBpdCB3aXRoIGEgc3RyaW5nIFwiZmFsc2VcIlxuICAgIC8vIHZhbHVlIGxlYWRpbmcgaXQgdG8gYmUgY29lcmNlZCB0byBgdHJ1ZWAsIHNvIHdlIG5lZWQgdG8gYWx3YXlzIHRyZWF0XG4gICAgLy8gdGhlbSBhcyBhdHRyaWJ1dGVzLlxuICAgIC8vIE5vdGUgdGhhdCBgY29udGVudEVkaXRhYmxlYCBkb2Vzbid0IGhhdmUgdGhpcyBwcm9ibGVtOiBpdHMgRE9NXG4gICAgLy8gcHJvcGVydHkgaXMgYWxzbyBlbnVtZXJhdGVkIHN0cmluZyB2YWx1ZXMuXG4gICAgaWYgKGtleSA9PT0gJ3NwZWxsY2hlY2snIHx8IGtleSA9PT0gJ2RyYWdnYWJsZScgfHwga2V5ID09PSAndHJhbnNsYXRlJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vICMxNzg3LCAjMjg0MCBmb3JtIHByb3BlcnR5IG9uIGZvcm0gZWxlbWVudHMgaXMgcmVhZG9ubHkgYW5kIG11c3QgYmUgc2V0IGFzXG4gICAgLy8gYXR0cmlidXRlLlxuICAgIGlmIChrZXkgPT09ICdmb3JtJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vICMxNTI2IDxpbnB1dCBsaXN0PiBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcbiAgICBpZiAoa2V5ID09PSAnbGlzdCcgJiYgZWwudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vICMyNzY2IDx0ZXh0YXJlYSB0eXBlPiBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcbiAgICBpZiAoa2V5ID09PSAndHlwZScgJiYgZWwudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIG5hdGl2ZSBvbmNsaWNrIHdpdGggc3RyaW5nIHZhbHVlLCBtdXN0IGJlIHNldCBhcyBhdHRyaWJ1dGVcbiAgICBpZiAobmF0aXZlT25SRS50ZXN0KGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGtleSBpbiBlbDtcbn1cblxuZnVuY3Rpb24gZGVmaW5lQ3VzdG9tRWxlbWVudChvcHRpb25zLCBoeWRyYXRlKSB7XG4gICAgY29uc3QgQ29tcCA9IGRlZmluZUNvbXBvbmVudChvcHRpb25zKTtcbiAgICBjbGFzcyBWdWVDdXN0b21FbGVtZW50IGV4dGVuZHMgVnVlRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGluaXRpYWxQcm9wcykge1xuICAgICAgICAgICAgc3VwZXIoQ29tcCwgaW5pdGlhbFByb3BzLCBoeWRyYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBWdWVDdXN0b21FbGVtZW50LmRlZiA9IENvbXA7XG4gICAgcmV0dXJuIFZ1ZUN1c3RvbUVsZW1lbnQ7XG59XG5jb25zdCBkZWZpbmVTU1JDdXN0b21FbGVtZW50ID0gKChvcHRpb25zKSA9PiB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBkZWZpbmVDdXN0b21FbGVtZW50KG9wdGlvbnMsIGh5ZHJhdGUpO1xufSk7XG5jb25zdCBCYXNlQ2xhc3MgPSAodHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJyA/IEhUTUxFbGVtZW50IDogY2xhc3Mge1xufSk7XG5jbGFzcyBWdWVFbGVtZW50IGV4dGVuZHMgQmFzZUNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihfZGVmLCBfcHJvcHMgPSB7fSwgaHlkcmF0ZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9kZWYgPSBfZGVmO1xuICAgICAgICB0aGlzLl9wcm9wcyA9IF9wcm9wcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5zaGFkb3dSb290ICYmIGh5ZHJhdGUpIHtcbiAgICAgICAgICAgIGh5ZHJhdGUodGhpcy5fY3JlYXRlVk5vZGUoKSwgdGhpcy5zaGFkb3dSb290KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBDdXN0b20gZWxlbWVudCBoYXMgcHJlLXJlbmRlcmVkIGRlY2xhcmF0aXZlIHNoYWRvdyByb290IGJ1dCBpcyBub3QgYCArXG4gICAgICAgICAgICAgICAgICAgIGBkZWZpbmVkIGFzIGh5ZHJhdGFibGUuIFVzZSBcXGBkZWZpbmVTU1JDdXN0b21FbGVtZW50XFxgLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RlZi5fX2FzeW5jTG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIHN5bmMgY29tcG9uZW50IGRlZnMgd2UgY2FuIGltbWVkaWF0ZWx5IHJlc29sdmUgcHJvcHNcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlUHJvcHModGhpcy5fZGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlRGVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcihudWxsLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlc29sdmUgaW5uZXIgY29tcG9uZW50IGRlZmluaXRpb24gKGhhbmRsZSBwb3NzaWJsZSBhc3luYyBjb21wb25lbnQpXG4gICAgICovXG4gICAgX3Jlc29sdmVEZWYoKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgLy8gc2V0IGluaXRpYWwgYXR0cnNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEF0dHIodGhpcy5hdHRyaWJ1dGVzW2ldLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdhdGNoIGZ1dHVyZSBhdHRyIGNoYW5nZXNcbiAgICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbSBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyKG0uYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLm9ic2VydmUodGhpcywgeyBhdHRyaWJ1dGVzOiB0cnVlIH0pO1xuICAgICAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHByb3BzLCBzdHlsZXMgfSA9IGRlZjtcbiAgICAgICAgICAgIC8vIGNhc3QgTnVtYmVyLXR5cGUgcHJvcHMgc2V0IGJlZm9yZSByZXNvbHZlXG4gICAgICAgICAgICBsZXQgbnVtYmVyUHJvcHM7XG4gICAgICAgICAgICBpZiAocHJvcHMgJiYgIWlzQXJyYXkocHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0ID0gcHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdCA9PT0gTnVtYmVyIHx8IChvcHQgJiYgb3B0LnR5cGUgPT09IE51bWJlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gdGhpcy5fcHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9wc1trZXldID0gdG9OdW1iZXIodGhpcy5fcHJvcHNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAobnVtYmVyUHJvcHMgfHwgKG51bWJlclByb3BzID0gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NhbWVsaXplKGtleSldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX251bWJlclByb3BzID0gbnVtYmVyUHJvcHM7XG4gICAgICAgICAgICBpZiAoaXNBc3luYykge1xuICAgICAgICAgICAgICAgIC8vIGRlZmluaW5nIGdldHRlci9zZXR0ZXJzIG9uIHByb3RvdHlwZVxuICAgICAgICAgICAgICAgIC8vIGZvciBzeW5jIGRlZnMsIHRoaXMgYWxyZWFkeSBoYXBwZW5lZCBpbiB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlUHJvcHMoZGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFwcGx5IENTU1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXMoc3R5bGVzKTtcbiAgICAgICAgICAgIC8vIGluaXRpYWwgcmVuZGVyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYXN5bmNEZWYgPSB0aGlzLl9kZWYuX19hc3luY0xvYWRlcjtcbiAgICAgICAgaWYgKGFzeW5jRGVmKSB7XG4gICAgICAgICAgICBhc3luY0RlZigpLnRoZW4oZGVmID0+IHJlc29sdmUoZGVmLCB0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMuX2RlZik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3Jlc29sdmVQcm9wcyhkZWYpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wcyB9ID0gZGVmO1xuICAgICAgICBjb25zdCBkZWNsYXJlZFByb3BLZXlzID0gaXNBcnJheShwcm9wcykgPyBwcm9wcyA6IE9iamVjdC5rZXlzKHByb3BzIHx8IHt9KTtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIHByb3BzIHNldCBwcmUtdXBncmFkZSBvciBjb25uZWN0XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMpKSB7XG4gICAgICAgICAgICBpZiAoa2V5WzBdICE9PSAnXycgJiYgZGVjbGFyZWRQcm9wS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0UHJvcChrZXksIHRoaXNba2V5XSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGRlZmluaW5nIGdldHRlci9zZXR0ZXJzIG9uIHByb3RvdHlwZVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBkZWNsYXJlZFByb3BLZXlzLm1hcChjYW1lbGl6ZSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFByb3Aoa2V5LCB2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zZXRBdHRyKGtleSkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgICAgICBjb25zdCBjYW1lbEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgIGlmICh0aGlzLl9udW1iZXJQcm9wcyAmJiB0aGlzLl9udW1iZXJQcm9wc1tjYW1lbEtleV0pIHtcbiAgICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldFByb3AoY2FtZWxLZXksIHZhbHVlLCBmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9nZXRQcm9wKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcHNba2V5XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3NldFByb3Aoa2V5LCB2YWwsIHNob3VsZFJlZmxlY3QgPSB0cnVlLCBzaG91bGRVcGRhdGUgPSB0cnVlKSB7XG4gICAgICAgIGlmICh2YWwgIT09IHRoaXMuX3Byb3BzW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB2YWw7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlICYmIHRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZWZsZWN0XG4gICAgICAgICAgICBpZiAoc2hvdWxkUmVmbGVjdCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoaHlwaGVuYXRlKGtleSksICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoaHlwaGVuYXRlKGtleSksIHZhbCArICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF91cGRhdGUoKSB7XG4gICAgICAgIHJlbmRlcih0aGlzLl9jcmVhdGVWTm9kZSgpLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICAgIH1cbiAgICBfY3JlYXRlVk5vZGUoKSB7XG4gICAgICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUodGhpcy5fZGVmLCBleHRlbmQoe30sIHRoaXMuX3Byb3BzKSk7XG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHZub2RlLmNlID0gaW5zdGFuY2UgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaXNDRSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gSE1SXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jZVJlbG9hZCA9IG5ld1N0eWxlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbHdheXMgcmVzZXQgc3R5bGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmZvckVhY2gocyA9PiB0aGlzLnNoYWRvd1Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXMobmV3U3R5bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkaXNwYXRjaCA9IChldmVudCwgYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGFyZ3NcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gaW50ZXJjZXB0IGVtaXRcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5lbWl0ID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGJvdGggdGhlIHJhdyBhbmQgaHlwaGVuYXRlZCB2ZXJzaW9ucyBvZiBhbiBldmVudFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBtYXRjaCBWdWUgYmVoYXZpb3JcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHlwaGVuYXRlKGV2ZW50KSAhPT0gZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGh5cGhlbmF0ZShldmVudCksIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBsb2NhdGUgbmVhcmVzdCBWdWUgY3VzdG9tIGVsZW1lbnQgcGFyZW50IGZvciBwcm92aWRlL2luamVjdFxuICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHdoaWxlICgocGFyZW50ID1cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ICYmIChwYXJlbnQucGFyZW50Tm9kZSB8fCBwYXJlbnQuaG9zdCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBWdWVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQgPSBwYXJlbnQuX2luc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UucHJvdmlkZXMgPSBwYXJlbnQuX2luc3RhbmNlLnByb3ZpZGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2bm9kZTtcbiAgICB9XG4gICAgX2FwcGx5U3R5bGVzKHN0eWxlcykge1xuICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgICBzdHlsZXMuZm9yRWFjaChjc3MgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIHMudGV4dENvbnRlbnQgPSBjc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHMpO1xuICAgICAgICAgICAgICAgIC8vIHJlY29yZCBmb3IgSE1SXG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAodGhpcy5fc3R5bGVzIHx8ICh0aGlzLl9zdHlsZXMgPSBbXSkpLnB1c2gocyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVzZUNzc01vZHVsZShuYW1lID0gJyRzdHlsZScpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4kMShgdXNlQ3NzTW9kdWxlIG11c3QgYmUgY2FsbGVkIGluc2lkZSBzZXR1cCgpYCk7XG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZHVsZXMgPSBpbnN0YW5jZS50eXBlLl9fY3NzTW9kdWxlcztcbiAgICAgICAgaWYgKCFtb2R1bGVzKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybiQxKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZCA9IG1vZHVsZXNbbmFtZV07XG4gICAgICAgIGlmICghbW9kKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB3YXJuJDEoYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlIG5hbWVkIFwiJHtuYW1lfVwiLmApO1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9kO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgU0ZDJ3MgQ1NTIHZhcmlhYmxlIGluamVjdGlvbiBmZWF0dXJlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdXNlQ3NzVmFycyhnZXR0ZXIpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIHdhcm4kMShgdXNlQ3NzVmFycyBpcyBjYWxsZWQgd2l0aG91dCBjdXJyZW50IGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlVGVsZXBvcnRzID0gKGluc3RhbmNlLnV0ID0gKHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UucHJveHkpKSA9PiB7XG4gICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtdi1vd25lcj1cIiR7aW5zdGFuY2UudWlkfVwiXWApKS5mb3JFYWNoKG5vZGUgPT4gc2V0VmFyc09uTm9kZShub2RlLCB2YXJzKSk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2V0VmFycyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSk7XG4gICAgICAgIHNldFZhcnNPblZOb2RlKGluc3RhbmNlLnN1YlRyZWUsIHZhcnMpO1xuICAgICAgICB1cGRhdGVUZWxlcG9ydHModmFycyk7XG4gICAgfTtcbiAgICB3YXRjaFBvc3RFZmZlY3Qoc2V0VmFycyk7XG4gICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihzZXRWYXJzKTtcbiAgICAgICAgb2Iub2JzZXJ2ZShpbnN0YW5jZS5zdWJUcmVlLmVsLnBhcmVudE5vZGUsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgICAgICBvblVubW91bnRlZCgoKSA9PiBvYi5kaXNjb25uZWN0KCkpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0VmFyc09uVk5vZGUodm5vZGUsIHZhcnMpIHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4IC8qIFNoYXBlRmxhZ3MuU1VTUEVOU0UgKi8pIHtcbiAgICAgICAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZTtcbiAgICAgICAgdm5vZGUgPSBzdXNwZW5zZS5hY3RpdmVCcmFuY2g7XG4gICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRWYXJzT25WTm9kZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHZhcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZHJpbGwgZG93biBIT0NzIHVudGlsIGl0J3MgYSBub24tY29tcG9uZW50IHZub2RlXG4gICAgd2hpbGUgKHZub2RlLmNvbXBvbmVudCkge1xuICAgICAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudC5zdWJUcmVlO1xuICAgIH1cbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAvKiBTaGFwZUZsYWdzLkVMRU1FTlQgKi8gJiYgdm5vZGUuZWwpIHtcbiAgICAgICAgc2V0VmFyc09uTm9kZSh2bm9kZS5lbCwgdmFycyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goYyA9PiBzZXRWYXJzT25WTm9kZShjLCB2YXJzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IFN0YXRpYykge1xuICAgICAgICBsZXQgeyBlbCwgYW5jaG9yIH0gPSB2bm9kZTtcbiAgICAgICAgd2hpbGUgKGVsKSB7XG4gICAgICAgICAgICBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKTtcbiAgICAgICAgICAgIGlmIChlbCA9PT0gYW5jaG9yKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZWwgPSBlbC5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNldFZhcnNPbk5vZGUoZWwsIHZhcnMpIHtcbiAgICBpZiAoZWwubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFycykge1xuICAgICAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoYC0tJHtrZXl9YCwgdmFyc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcbmNvbnN0IEFOSU1BVElPTiA9ICdhbmltYXRpb24nO1xuLy8gRE9NIFRyYW5zaXRpb24gaXMgYSBoaWdoZXItb3JkZXItY29tcG9uZW50IGJhc2VkIG9uIHRoZSBwbGF0Zm9ybS1hZ25vc3RpY1xuLy8gYmFzZSBUcmFuc2l0aW9uIGNvbXBvbmVudCwgd2l0aCBET00tc3BlY2lmaWMgbG9naWMuXG5jb25zdCBUcmFuc2l0aW9uID0gKHByb3BzLCB7IHNsb3RzIH0pID0+IGgoQmFzZVRyYW5zaXRpb24sIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocHJvcHMpLCBzbG90cyk7XG5UcmFuc2l0aW9uLmRpc3BsYXlOYW1lID0gJ1RyYW5zaXRpb24nO1xue1xuICAgIFRyYW5zaXRpb24uX19pc0J1aWx0SW4gPSB0cnVlO1xufVxuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNzczoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBkdXJhdGlvbjogW1N0cmluZywgTnVtYmVyLCBPYmplY3RdLFxuICAgIGVudGVyRnJvbUNsYXNzOiBTdHJpbmcsXG4gICAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxuICAgIGVudGVyVG9DbGFzczogU3RyaW5nLFxuICAgIGFwcGVhckZyb21DbGFzczogU3RyaW5nLFxuICAgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gICAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxuICAgIGxlYXZlRnJvbUNsYXNzOiBTdHJpbmcsXG4gICAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxuICAgIGxlYXZlVG9DbGFzczogU3RyaW5nXG59O1xuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IChUcmFuc2l0aW9uLnByb3BzID1cbiAgICAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgQmFzZVRyYW5zaXRpb24ucHJvcHMsIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMpKTtcbi8qKlxuICogIzMyMjcgSW5jb21pbmcgaG9va3MgbWF5IGJlIG1lcmdlZCBpbnRvIGFycmF5cyB3aGVuIHdyYXBwaW5nIFRyYW5zaXRpb25cbiAqIHdpdGggY3VzdG9tIEhPQ3MuXG4gKi9cbmNvbnN0IGNhbGxIb29rJDEgPSAoaG9vaywgYXJncyA9IFtdKSA9PiB7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgICAgaG9vay5mb3JFYWNoKGggPT4gaCguLi5hcmdzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhvb2spIHtcbiAgICAgICAgaG9vayguLi5hcmdzKTtcbiAgICB9XG59O1xuLyoqXG4gKiBDaGVjayBpZiBhIGhvb2sgZXhwZWN0cyBhIGNhbGxiYWNrICgybmQgYXJnKSwgd2hpY2ggbWVhbnMgdGhlIHVzZXJcbiAqIGludGVuZHMgdG8gZXhwbGljaXRseSBjb250cm9sIHRoZSBlbmQgb2YgdGhlIHRyYW5zaXRpb24uXG4gKi9cbmNvbnN0IGhhc0V4cGxpY2l0Q2FsbGJhY2sgPSAoaG9vaykgPT4ge1xuICAgIHJldHVybiBob29rXG4gICAgICAgID8gaXNBcnJheShob29rKVxuICAgICAgICAgICAgPyBob29rLnNvbWUoaCA9PiBoLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICA6IGhvb2subGVuZ3RoID4gMVxuICAgICAgICA6IGZhbHNlO1xufTtcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcbiAgICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xuICAgICAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcbiAgICAgICAgICAgIGJhc2VQcm9wc1trZXldID0gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmF3UHJvcHMuY3NzID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gYmFzZVByb3BzO1xuICAgIH1cbiAgICBjb25zdCB7IG5hbWUgPSAndicsIHR5cGUsIGR1cmF0aW9uLCBlbnRlckZyb21DbGFzcyA9IGAke25hbWV9LWVudGVyLWZyb21gLCBlbnRlckFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tZW50ZXItYWN0aXZlYCwgZW50ZXJUb0NsYXNzID0gYCR7bmFtZX0tZW50ZXItdG9gLCBhcHBlYXJGcm9tQ2xhc3MgPSBlbnRlckZyb21DbGFzcywgYXBwZWFyQWN0aXZlQ2xhc3MgPSBlbnRlckFjdGl2ZUNsYXNzLCBhcHBlYXJUb0NsYXNzID0gZW50ZXJUb0NsYXNzLCBsZWF2ZUZyb21DbGFzcyA9IGAke25hbWV9LWxlYXZlLWZyb21gLCBsZWF2ZUFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtYWN0aXZlYCwgbGVhdmVUb0NsYXNzID0gYCR7bmFtZX0tbGVhdmUtdG9gIH0gPSByYXdQcm9wcztcbiAgICAvLyBsZWdhY3kgdHJhbnNpdGlvbiBjbGFzcyBjb21wYXRcbiAgICBjb25zdCBsZWdhY3lDbGFzc0VuYWJsZWQgPSBjb21wYXRVdGlscy5pc0NvbXBhdEVuYWJsZWQoXCJUUkFOU0lUSU9OX0NMQVNTRVNcIiAvKiBEZXByZWNhdGlvblR5cGVzLlRSQU5TSVRJT05fQ0xBU1NFUyAqLywgbnVsbCk7XG4gICAgbGV0IGxlZ2FjeUVudGVyRnJvbUNsYXNzO1xuICAgIGxldCBsZWdhY3lBcHBlYXJGcm9tQ2xhc3M7XG4gICAgbGV0IGxlZ2FjeUxlYXZlRnJvbUNsYXNzO1xuICAgIGlmIChsZWdhY3lDbGFzc0VuYWJsZWQpIHtcbiAgICAgICAgY29uc3QgdG9MZWdhY3lDbGFzcyA9IChjbHMpID0+IGNscy5yZXBsYWNlKC8tZnJvbSQvLCAnJyk7XG4gICAgICAgIGlmICghcmF3UHJvcHMuZW50ZXJGcm9tQ2xhc3MpIHtcbiAgICAgICAgICAgIGxlZ2FjeUVudGVyRnJvbUNsYXNzID0gdG9MZWdhY3lDbGFzcyhlbnRlckZyb21DbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyYXdQcm9wcy5hcHBlYXJGcm9tQ2xhc3MpIHtcbiAgICAgICAgICAgIGxlZ2FjeUFwcGVhckZyb21DbGFzcyA9IHRvTGVnYWN5Q2xhc3MoYXBwZWFyRnJvbUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJhd1Byb3BzLmxlYXZlRnJvbUNsYXNzKSB7XG4gICAgICAgICAgICBsZWdhY3lMZWF2ZUZyb21DbGFzcyA9IHRvTGVnYWN5Q2xhc3MobGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGR1cmF0aW9ucyA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKTtcbiAgICBjb25zdCBlbnRlckR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1swXTtcbiAgICBjb25zdCBsZWF2ZUR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1sxXTtcbiAgICBjb25zdCB7IG9uQmVmb3JlRW50ZXIsIG9uRW50ZXIsIG9uRW50ZXJDYW5jZWxsZWQsIG9uTGVhdmUsIG9uTGVhdmVDYW5jZWxsZWQsIG9uQmVmb3JlQXBwZWFyID0gb25CZWZvcmVFbnRlciwgb25BcHBlYXIgPSBvbkVudGVyLCBvbkFwcGVhckNhbmNlbGxlZCA9IG9uRW50ZXJDYW5jZWxsZWQgfSA9IGJhc2VQcm9wcztcbiAgICBjb25zdCBmaW5pc2hFbnRlciA9IChlbCwgaXNBcHBlYXIsIGRvbmUpID0+IHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICAgICAgZG9uZSAmJiBkb25lKCk7XG4gICAgfTtcbiAgICBjb25zdCBmaW5pc2hMZWF2ZSA9IChlbCwgZG9uZSkgPT4ge1xuICAgICAgICBlbC5faXNMZWF2aW5nID0gZmFsc2U7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICAgIGRvbmUgJiYgZG9uZSgpO1xuICAgIH07XG4gICAgY29uc3QgbWFrZUVudGVySG9vayA9IChpc0FwcGVhcikgPT4ge1xuICAgICAgICByZXR1cm4gKGVsLCBkb25lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBob29rID0gaXNBcHBlYXIgPyBvbkFwcGVhciA6IG9uRW50ZXI7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoRW50ZXIoZWwsIGlzQXBwZWFyLCBkb25lKTtcbiAgICAgICAgICAgIGNhbGxIb29rJDEoaG9vaywgW2VsLCByZXNvbHZlXSk7XG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJGcm9tQ2xhc3MgOiBlbnRlckZyb21DbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKGxlZ2FjeUNsYXNzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gbGVnYWN5QXBwZWFyRnJvbUNsYXNzIDogbGVnYWN5RW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKGhvb2spKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgZW50ZXJEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xuICAgICAgICBvbkJlZm9yZUVudGVyKGVsKSB7XG4gICAgICAgICAgICBjYWxsSG9vayQxKG9uQmVmb3JlRW50ZXIsIFtlbF0pO1xuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckZyb21DbGFzcyk7XG4gICAgICAgICAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWdhY3lFbnRlckZyb21DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyQWN0aXZlQ2xhc3MpO1xuICAgICAgICB9LFxuICAgICAgICBvbkJlZm9yZUFwcGVhcihlbCkge1xuICAgICAgICAgICAgY2FsbEhvb2skMShvbkJlZm9yZUFwcGVhciwgW2VsXSk7XG4gICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckZyb21DbGFzcyk7XG4gICAgICAgICAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWdhY3lBcHBlYXJGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJBY3RpdmVDbGFzcyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRW50ZXI6IG1ha2VFbnRlckhvb2soZmFsc2UpLFxuICAgICAgICBvbkFwcGVhcjogbWFrZUVudGVySG9vayh0cnVlKSxcbiAgICAgICAgb25MZWF2ZShlbCwgZG9uZSkge1xuICAgICAgICAgICAgZWwuX2lzTGVhdmluZyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoTGVhdmUoZWwsIGRvbmUpO1xuICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgICAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWdhY3lMZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3JjZSByZWZsb3cgc28gKi1sZWF2ZS1mcm9tIGNsYXNzZXMgaW1tZWRpYXRlbHkgdGFrZSBlZmZlY3QgKCMyNTkzKVxuICAgICAgICAgICAgZm9yY2VSZWZsb3coKTtcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZWwuX2lzTGVhdmluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYW5jZWxsZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAobGVnYWN5Q2xhc3NFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVnYWN5TGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgbGVhdmVEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYWxsSG9vayQxKG9uTGVhdmUsIFtlbCwgcmVzb2x2ZV0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkVudGVyQ2FuY2VsbGVkKGVsKSB7XG4gICAgICAgICAgICBmaW5pc2hFbnRlcihlbCwgZmFsc2UpO1xuICAgICAgICAgICAgY2FsbEhvb2skMShvbkVudGVyQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgICAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlKTtcbiAgICAgICAgICAgIGNhbGxIb29rJDEob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkxlYXZlQ2FuY2VsbGVkKGVsKSB7XG4gICAgICAgICAgICBmaW5pc2hMZWF2ZShlbCk7XG4gICAgICAgICAgICBjYWxsSG9vayQxKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbikge1xuICAgIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChkdXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBuID0gTnVtYmVyT2YoZHVyYXRpb24pO1xuICAgICAgICByZXR1cm4gW24sIG5dO1xuICAgIH1cbn1cbmZ1bmN0aW9uIE51bWJlck9mKHZhbCkge1xuICAgIGNvbnN0IHJlcyA9IHRvTnVtYmVyKHZhbCk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcbiAgICAgICAgdmFsaWRhdGVEdXJhdGlvbihyZXMpO1xuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUR1cmF0aW9uKHZhbCkge1xuICAgIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJykge1xuICAgICAgICB3YXJuJDEoYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBgICtcbiAgICAgICAgICAgIGBnb3QgJHtKU09OLnN0cmluZ2lmeSh2YWwpfS5gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOYU4odmFsKSkge1xuICAgICAgICB3YXJuJDEoYDx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvbiBpcyBOYU4gLSBgICtcbiAgICAgICAgICAgICd0aGUgZHVyYXRpb24gZXhwcmVzc2lvbiBtaWdodCBiZSBpbmNvcnJlY3QuJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgICAoZWwuX3Z0YyB8fFxuICAgICAgICAoZWwuX3Z0YyA9IG5ldyBTZXQoKSkpLmFkZChjbHMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGMgPT4gYyAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcbiAgICBjb25zdCB7IF92dGMgfSA9IGVsO1xuICAgIGlmIChfdnRjKSB7XG4gICAgICAgIF92dGMuZGVsZXRlKGNscyk7XG4gICAgICAgIGlmICghX3Z0Yy5zaXplKSB7XG4gICAgICAgICAgICBlbC5fdnRjID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgICB9KTtcbn1cbmxldCBlbmRJZCA9IDA7XG5mdW5jdGlvbiB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIGV4cGVjdGVkVHlwZSwgZXhwbGljaXRUaW1lb3V0LCByZXNvbHZlKSB7XG4gICAgY29uc3QgaWQgPSAoZWwuX2VuZElkID0gKytlbmRJZCk7XG4gICAgY29uc3QgcmVzb2x2ZUlmTm90U3RhbGUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmIChleHBsaWNpdFRpbWVvdXQpIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZUlmTm90U3RhbGUsIGV4cGxpY2l0VGltZW91dCk7XG4gICAgfVxuICAgIGNvbnN0IHsgdHlwZSwgdGltZW91dCwgcHJvcENvdW50IH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKTtcbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICB9XG4gICAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgJ2VuZCc7XG4gICAgbGV0IGVuZGVkID0gMDtcbiAgICBjb25zdCBlbmQgPSAoKSA9PiB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbiAgICAgICAgcmVzb2x2ZUlmTm90U3RhbGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uRW5kID0gKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xuICAgICAgICAgICAgZW5kKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcbiAgICAgICAgICAgIGVuZCgpO1xuICAgICAgICB9XG4gICAgfSwgdGltZW91dCArIDEpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpIHtcbiAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gICAgLy8gSlNET00gbWF5IHJldHVybiB1bmRlZmluZWQgZm9yIHRyYW5zaXRpb24gcHJvcGVydGllc1xuICAgIGNvbnN0IGdldFN0eWxlUHJvcGVydGllcyA9IChrZXkpID0+IChzdHlsZXNba2V5XSB8fCAnJykuc3BsaXQoJywgJyk7XG4gICAgY29uc3QgdHJhbnNpdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfURlbGF5YCk7XG4gICAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfUR1cmF0aW9uYCk7XG4gICAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICAgIGNvbnN0IGFuaW1hdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RGVsYXlgKTtcbiAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfUR1cmF0aW9uYCk7XG4gICAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuICAgIGxldCB0eXBlID0gbnVsbDtcbiAgICBsZXQgdGltZW91dCA9IDA7XG4gICAgbGV0IHByb3BDb3VudCA9IDA7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xuICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgICAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICAgICAgdHlwZSA9XG4gICAgICAgICAgICB0aW1lb3V0ID4gMFxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0XG4gICAgICAgICAgICAgICAgICAgID8gVFJBTlNJVElPTlxuICAgICAgICAgICAgICAgICAgICA6IEFOSU1BVElPTlxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgcHJvcENvdW50ID0gdHlwZVxuICAgICAgICAgICAgPyB0eXBlID09PSBUUkFOU0lUSU9OXG4gICAgICAgICAgICAgICAgPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgOiAwO1xuICAgIH1cbiAgICBjb25zdCBoYXNUcmFuc2Zvcm0gPSB0eXBlID09PSBUUkFOU0lUSU9OICYmXG4gICAgICAgIC9cXGIodHJhbnNmb3JtfGFsbCkoLHwkKS8udGVzdChnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1Qcm9wZXJ0eWApLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHRpbWVvdXQsXG4gICAgICAgIHByb3BDb3VudCxcbiAgICAgICAgaGFzVHJhbnNmb3JtXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFRpbWVvdXQoZGVsYXlzLCBkdXJhdGlvbnMpIHtcbiAgICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xufVxuLy8gT2xkIHZlcnNpb25zIG9mIENocm9taXVtIChiZWxvdyA2MS4wLjMxNjMuMTAwKSBmb3JtYXRzIGZsb2F0aW5nIHBvaW50ZXJcbi8vIG51bWJlcnMgaW4gYSBsb2NhbGUtZGVwZW5kZW50IHdheSwgdXNpbmcgYSBjb21tYSBpbnN0ZWFkIG9mIGEgZG90LlxuLy8gSWYgY29tbWEgaXMgbm90IHJlcGxhY2VkIHdpdGggYSBkb3QsIHRoZSBpbnB1dCB3aWxsIGJlIHJvdW5kZWQgZG93blxuLy8gKGkuZS4gYWN0aW5nIGFzIGEgZmxvb3IgZnVuY3Rpb24pIGNhdXNpbmcgdW5leHBlY3RlZCBiZWhhdmlvcnNcbmZ1bmN0aW9uIHRvTXMocykge1xuICAgIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZSgnLCcsICcuJykpICogMTAwMDtcbn1cbi8vIHN5bmNocm9ub3VzbHkgZm9yY2UgbGF5b3V0IHRvIHB1dCBlbGVtZW50cyBpbnRvIGEgY2VydGFpbiBzdGF0ZVxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0O1xufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBuZXdQb3NpdGlvbk1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBUcmFuc2l0aW9uR3JvdXBJbXBsID0ge1xuICAgIG5hbWU6ICdUcmFuc2l0aW9uR3JvdXAnLFxuICAgIHByb3BzOiAvKiNfX1BVUkVfXyovIGV4dGVuZCh7fSwgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywge1xuICAgICAgICB0YWc6IFN0cmluZyxcbiAgICAgICAgbW92ZUNsYXNzOiBTdHJpbmdcbiAgICB9KSxcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgICAgIGxldCBwcmV2Q2hpbGRyZW47XG4gICAgICAgIGxldCBjaGlsZHJlbjtcbiAgICAgICAgb25VcGRhdGVkKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoaWxkcmVuIGlzIGd1YXJhbnRlZWQgdG8gZXhpc3QgYWZ0ZXIgaW5pdGlhbCByZW5kZXJcbiAgICAgICAgICAgIGlmICghcHJldkNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vdmVDbGFzcyA9IHByb3BzLm1vdmVDbGFzcyB8fCBgJHtwcm9wcy5uYW1lIHx8ICd2J30tbW92ZWA7XG4gICAgICAgICAgICBpZiAoIWhhc0NTU1RyYW5zZm9ybShwcmV2Q2hpbGRyZW5bMF0uZWwsIGluc3RhbmNlLnZub2RlLmVsLCBtb3ZlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgZGl2aWRlIHRoZSB3b3JrIGludG8gdGhyZWUgbG9vcHMgdG8gYXZvaWQgbWl4aW5nIERPTSByZWFkcyBhbmQgd3JpdGVzXG4gICAgICAgICAgICAvLyBpbiBlYWNoIGl0ZXJhdGlvbiAtIHdoaWNoIGhlbHBzIHByZXZlbnQgbGF5b3V0IHRocmFzaGluZy5cbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVkQ2hpbGRyZW4gPSBwcmV2Q2hpbGRyZW4uZmlsdGVyKGFwcGx5VHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uXG4gICAgICAgICAgICBmb3JjZVJlZmxvdygpO1xuICAgICAgICAgICAgbW92ZWRDaGlsZHJlbi5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gYy5lbDtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgICAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBzdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBjYiA9IChlbC5fbW92ZUNiID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlIHx8IC90cmFuc2Zvcm0kLy50ZXN0KGUucHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9tb3ZlQ2IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XG4gICAgICAgICAgICBsZXQgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xuICAgICAgICAgICAgaWYgKCFyYXdQcm9wcy50YWcgJiZcbiAgICAgICAgICAgICAgICBjb21wYXRVdGlscy5jaGVja0NvbXBhdEVuYWJsZWQoXCJUUkFOU0lUSU9OX0dST1VQX1JPT1RcIiAvKiBEZXByZWNhdGlvblR5cGVzLlRSQU5TSVRJT05fR1JPVVBfUk9PVCAqLywgaW5zdGFuY2UucGFyZW50KSkge1xuICAgICAgICAgICAgICAgIHRhZyA9ICdzcGFuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZDaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ID8gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSkgOiBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoY2hpbGQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuJDEoYDxUcmFuc2l0aW9uR3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gcHJldkNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoY2hpbGQsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKSk7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChjaGlsZCwgY2hpbGQuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0YWcsIG51bGwsIGNoaWxkcmVuKTtcbiAgICAgICAgfTtcbiAgICB9XG59O1xue1xuICAgIFRyYW5zaXRpb25Hcm91cEltcGwuX19pc0J1aWx0SW4gPSB0cnVlO1xufVxuY29uc3QgVHJhbnNpdGlvbkdyb3VwID0gVHJhbnNpdGlvbkdyb3VwSW1wbDtcbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzKGMpIHtcbiAgICBjb25zdCBlbCA9IGMuZWw7XG4gICAgaWYgKGVsLl9tb3ZlQ2IpIHtcbiAgICAgICAgZWwuX21vdmVDYigpO1xuICAgIH1cbiAgICBpZiAoZWwuX2VudGVyQ2IpIHtcbiAgICAgICAgZWwuX2VudGVyQ2IoKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbihjKSB7XG4gICAgbmV3UG9zaXRpb25NYXAuc2V0KGMsIGMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xufVxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbihjKSB7XG4gICAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xuICAgIGNvbnN0IG5ld1BvcyA9IG5ld1Bvc2l0aW9uTWFwLmdldChjKTtcbiAgICBjb25zdCBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gICAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcbiAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XG4gICAgICAgIHMudHJhbnNmb3JtID0gcy53ZWJraXRUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7ZHh9cHgsJHtkeX1weClgO1xuICAgICAgICBzLnRyYW5zaXRpb25EdXJhdGlvbiA9ICcwcyc7XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XG4gICAgLy8gRGV0ZWN0IHdoZXRoZXIgYW4gZWxlbWVudCB3aXRoIHRoZSBtb3ZlIGNsYXNzIGFwcGxpZWQgaGFzXG4gICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nXG4gICAgLy8gdHJhbnNpdGlvbiBhdCB0aGlzIHZlcnkgbW9tZW50LCB3ZSBtYWtlIGEgY2xvbmUgb2YgaXQgYW5kIHJlbW92ZVxuICAgIC8vIGFsbCBvdGhlciB0cmFuc2l0aW9uIGNsYXNzZXMgYXBwbGllZCB0byBlbnN1cmUgb25seSB0aGUgbW92ZSBjbGFzc1xuICAgIC8vIGlzIGFwcGxpZWQuXG4gICAgY29uc3QgY2xvbmUgPSBlbC5jbG9uZU5vZGUoKTtcbiAgICBpZiAoZWwuX3Z0Yykge1xuICAgICAgICBlbC5fdnRjLmZvckVhY2goY2xzID0+IHtcbiAgICAgICAgICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goYyA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbW92ZUNsYXNzLnNwbGl0KC9cXHMrLykuZm9yRWFjaChjID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XG4gICAgY2xvbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBjb25zdCBjb250YWluZXIgPSAocm9vdC5ub2RlVHlwZSA9PT0gMSA/IHJvb3QgOiByb290LnBhcmVudE5vZGUpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgY29uc3QgeyBoYXNUcmFuc2Zvcm0gfSA9IGdldFRyYW5zaXRpb25JbmZvKGNsb25lKTtcbiAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2xvbmUpO1xuICAgIHJldHVybiBoYXNUcmFuc2Zvcm07XG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcbiAgICBjb25zdCBmbiA9IHZub2RlLnByb3BzWydvblVwZGF0ZTptb2RlbFZhbHVlJ10gfHxcbiAgICAgICAgKHZub2RlLnByb3BzWydvbk1vZGVsQ29tcGF0OmlucHV0J10pO1xuICAgIHJldHVybiBpc0FycmF5KGZuKSA/IHZhbHVlID0+IGludm9rZUFycmF5Rm5zKGZuLCB2YWx1ZSkgOiBmbjtcbn07XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xuICAgIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICBpZiAodGFyZ2V0LmNvbXBvc2luZykge1xuICAgICAgICB0YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XG4gICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7XG4gICAgfVxufVxuLy8gV2UgYXJlIGV4cG9ydGluZyB0aGUgdi1tb2RlbCBydW50aW1lIGRpcmVjdGx5IGFzIHZub2RlIGhvb2tzIHNvIHRoYXQgaXQgY2FuXG4vLyBiZSB0cmVlLXNoYWtlbiBpbiBjYXNlIHYtbW9kZWwgaXMgbmV2ZXIgdXNlZC5cbmNvbnN0IHZNb2RlbFRleHQgPSB7XG4gICAgY3JlYXRlZChlbCwgeyBtb2RpZmllcnM6IHsgbGF6eSwgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgICAgICBjb25zdCBjYXN0VG9OdW1iZXIgPSBudW1iZXIgfHwgKHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGUgPT09ICdudW1iZXInKTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbGF6eSA/ICdjaGFuZ2UnIDogJ2lucHV0JywgZSA9PiB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY29tcG9zaW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBkb21WYWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYXN0VG9OdW1iZXIpIHtcbiAgICAgICAgICAgICAgICBkb21WYWx1ZSA9IHRvTnVtYmVyKGRvbVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZG9tVmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZWwudmFsdWUgPSBlbC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxhenkpIHtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb21wb3NpdGlvbmVuZCcsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICAgICAgLy8gU2FmYXJpIDwgMTAuMiAmIFVJV2ViVmlldyBkb2Vzbid0IGZpcmUgY29tcG9zaXRpb25lbmQgd2hlblxuICAgICAgICAgICAgLy8gc3dpdGNoaW5nIGZvY3VzIGJlZm9yZSBjb25maXJtaW5nIGNvbXBvc2l0aW9uIGNob2ljZVxuICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGZpeGVzIHRoZSBpc3N1ZSB3aGVyZSBzb21lIGJyb3dzZXJzIGUuZy4gaU9TIENocm9tZVxuICAgICAgICAgICAgLy8gZmlyZXMgXCJjaGFuZ2VcIiBpbnN0ZWFkIG9mIFwiaW5wdXRcIiBvbiBhdXRvY29tcGxldGUuXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIHNldCB2YWx1ZSBvbiBtb3VudGVkIHNvIGl0J3MgYWZ0ZXIgbWluL21heCBmb3IgdHlwZT1cInJhbmdlXCJcbiAgICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICAgICAgZWwudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICB9LFxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICAgICAgLy8gYXZvaWQgY2xlYXJpbmcgdW5yZXNvbHZlZCB0ZXh0LiAjMjMwMlxuICAgICAgICBpZiAoZWwuY29tcG9zaW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgZWwudHlwZSAhPT0gJ3JhbmdlJykge1xuICAgICAgICAgICAgaWYgKGxhenkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHJpbSAmJiBlbC52YWx1ZS50cmltKCkgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChudW1iZXIgfHwgZWwudHlwZSA9PT0gJ251bWJlcicpICYmIHRvTnVtYmVyKGVsLnZhbHVlKSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICAgICAgaWYgKGVsLnZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcbiAgICAvLyAjNDA5NiBhcnJheSBjaGVja2JveGVzIG5lZWQgdG8gYmUgZGVlcCB0cmF2ZXJzZWRcbiAgICBkZWVwOiB0cnVlLFxuICAgIGNyZWF0ZWQoZWwsIF8sIHZub2RlKSB7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsVmFsdWUgPSBlbC5fbW9kZWxWYWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgICAgICAgY29uc3QgYXNzaWduID0gZWwuX2Fzc2lnbjtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsb29zZUluZGV4T2YobW9kZWxWYWx1ZSwgZWxlbWVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IGluZGV4ICE9PSAtMTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKG1vZGVsVmFsdWUuY29uY2F0KGVsZW1lbnRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2hlY2tlZCAmJiBmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKGZpbHRlcmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1NldChtb2RlbFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZCA9IG5ldyBTZXQobW9kZWxWYWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmFkZChlbGVtZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3NpZ24oY2xvbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFzc2lnbihnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXG4gICAgbW91bnRlZDogc2V0Q2hlY2tlZCxcbiAgICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgICAgIGVsLl9hc3NpZ24gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICAgICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBzZXRDaGVja2VkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xuICAgIGVsLl9tb2RlbFZhbHVlID0gdmFsdWU7XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgZWwuY2hlY2tlZCA9IHZhbHVlLmhhcyh2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xuICAgIH1cbn1cbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xuICAgIGNyZWF0ZWQoZWwsIHsgdmFsdWUgfSwgdm5vZGUpIHtcbiAgICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCAnY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgZWwuX2Fzc2lnbihnZXRWYWx1ZShlbCkpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgICAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHZNb2RlbFNlbGVjdCA9IHtcbiAgICAvLyA8c2VsZWN0IG11bHRpcGxlPiB2YWx1ZSBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gICAgZGVlcDogdHJ1ZSxcbiAgICBjcmVhdGVkKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICAgICAgY29uc3QgaXNTZXRNb2RlbCA9IGlzU2V0KHZhbHVlKTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVmFsID0gQXJyYXkucHJvdG90eXBlLmZpbHRlclxuICAgICAgICAgICAgICAgIC5jYWxsKGVsLm9wdGlvbnMsIChvKSA9PiBvLnNlbGVjdGVkKVxuICAgICAgICAgICAgICAgIC5tYXAoKG8pID0+IG51bWJlciA/IHRvTnVtYmVyKGdldFZhbHVlKG8pKSA6IGdldFZhbHVlKG8pKTtcbiAgICAgICAgICAgIGVsLl9hc3NpZ24oZWwubXVsdGlwbGVcbiAgICAgICAgICAgICAgICA/IGlzU2V0TW9kZWxcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKVxuICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkVmFsXG4gICAgICAgICAgICAgICAgOiBzZWxlY3RlZFZhbFswXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5fYXNzaWduID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgfSxcbiAgICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXG4gICAgLy8gPG9wdGlvbj5zLlxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgICAgICBzZXRTZWxlY3RlZChlbCwgdmFsdWUpO1xuICAgIH0sXG4gICAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcbiAgICAgICAgZWwuX2Fzc2lnbiA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIH0sXG4gICAgdXBkYXRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSkge1xuICAgIGNvbnN0IGlzTXVsdGlwbGUgPSBlbC5tdWx0aXBsZTtcbiAgICBpZiAoaXNNdWx0aXBsZSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgIWlzU2V0KHZhbHVlKSkge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIHdhcm4kMShgPHNlbGVjdCBtdWx0aXBsZSB2LW1vZGVsPiBleHBlY3RzIGFuIEFycmF5IG9yIFNldCB2YWx1ZSBmb3IgaXRzIGJpbmRpbmcsIGAgK1xuICAgICAgICAgICAgICAgIGBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uVmFsdWUgPSBnZXRWYWx1ZShvcHRpb24pO1xuICAgICAgICBpZiAoaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLmhhcyhvcHRpb25WYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSlcbiAgICAgICAgICAgICAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgfVxufVxuLy8gcmV0cmlldmUgcmF3IHZhbHVlIHNldCB2aWEgOnZhbHVlIGJpbmRpbmdzXG5mdW5jdGlvbiBnZXRWYWx1ZShlbCkge1xuICAgIHJldHVybiAnX3ZhbHVlJyBpbiBlbCA/IGVsLl92YWx1ZSA6IGVsLnZhbHVlO1xufVxuLy8gcmV0cmlldmUgcmF3IHZhbHVlIGZvciB0cnVlLXZhbHVlIGFuZCBmYWxzZS12YWx1ZSBzZXQgdmlhIDp0cnVlLXZhbHVlIG9yIDpmYWxzZS12YWx1ZSBiaW5kaW5nc1xuZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkge1xuICAgIGNvbnN0IGtleSA9IGNoZWNrZWQgPyAnX3RydWVWYWx1ZScgOiAnX2ZhbHNlVmFsdWUnO1xuICAgIHJldHVybiBrZXkgaW4gZWwgPyBlbFtrZXldIDogY2hlY2tlZDtcbn1cbmNvbnN0IHZNb2RlbER5bmFtaWMgPSB7XG4gICAgY3JlYXRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICAgICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsICdjcmVhdGVkJyk7XG4gICAgfSxcbiAgICBtb3VudGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgJ21vdW50ZWQnKTtcbiAgICB9LFxuICAgIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xuICAgICAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCAnYmVmb3JlVXBkYXRlJyk7XG4gICAgfSxcbiAgICB1cGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsICd1cGRhdGVkJyk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljTW9kZWwodGFnTmFtZSwgdHlwZSkge1xuICAgIHN3aXRjaCAodGFnTmFtZSkge1xuICAgICAgICBjYXNlICdTRUxFQ1QnOlxuICAgICAgICAgICAgcmV0dXJuIHZNb2RlbFNlbGVjdDtcbiAgICAgICAgY2FzZSAnVEVYVEFSRUEnOlxuICAgICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2TW9kZWxDaGVja2JveDtcbiAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2TW9kZWxSYWRpbztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdk1vZGVsVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBob29rKSB7XG4gICAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoZWwudGFnTmFtZSwgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZSk7XG4gICAgY29uc3QgZm4gPSBtb2RlbFRvVXNlW2hvb2tdO1xuICAgIGZuICYmIGZuKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKTtcbn1cbi8vIFNTUiB2bm9kZSB0cmFuc2Zvcm1zLCBvbmx5IHVzZWQgd2hlbiB1c2VyIGluY2x1ZGVzIGNsaWVudC1vcmllbnRlZCByZW5kZXJcbi8vIGZ1bmN0aW9uIGluIFNTUlxuZnVuY3Rpb24gaW5pdFZNb2RlbEZvclNTUigpIHtcbiAgICB2TW9kZWxUZXh0LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSkgPT4gKHsgdmFsdWUgfSk7XG4gICAgdk1vZGVsUmFkaW8uZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgICAgICBpZiAodm5vZGUucHJvcHMgJiYgbG9vc2VFcXVhbCh2bm9kZS5wcm9wcy52YWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZNb2RlbENoZWNrYm94LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSwgdm5vZGUpID0+IHtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodm5vZGUucHJvcHMgJiYgbG9vc2VJbmRleE9mKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSkgPiAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2bm9kZS5wcm9wcyAmJiB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZNb2RlbER5bmFtaWMuZ2V0U1NSUHJvcHMgPSAoYmluZGluZywgdm5vZGUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2bm9kZS50eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVsVG9Vc2UgPSByZXNvbHZlRHluYW1pY01vZGVsKFxuICAgICAgICAvLyByZXNvbHZlRHluYW1pY01vZGVsIGV4cGVjdHMgYW4gdXBwZXJjYXNlIHRhZyBuYW1lLCBidXQgdm5vZGUudHlwZSBpcyBsb3dlcmNhc2VcbiAgICAgICAgdm5vZGUudHlwZS50b1VwcGVyQ2FzZSgpLCB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlKTtcbiAgICAgICAgaWYgKG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbFRvVXNlLmdldFNTUlByb3BzKGJpbmRpbmcsIHZub2RlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFsnY3RybCcsICdzaGlmdCcsICdhbHQnLCAnbWV0YSddO1xuY29uc3QgbW9kaWZpZXJHdWFyZHMgPSB7XG4gICAgc3RvcDogZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLFxuICAgIHByZXZlbnQ6IGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICAgIHNlbGY6IGUgPT4gZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCxcbiAgICBjdHJsOiBlID0+ICFlLmN0cmxLZXksXG4gICAgc2hpZnQ6IGUgPT4gIWUuc2hpZnRLZXksXG4gICAgYWx0OiBlID0+ICFlLmFsdEtleSxcbiAgICBtZXRhOiBlID0+ICFlLm1ldGFLZXksXG4gICAgbGVmdDogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAwLFxuICAgIG1pZGRsZTogZSA9PiAnYnV0dG9uJyBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxuICAgIHJpZ2h0OiBlID0+ICdidXR0b24nIGluIGUgJiYgZS5idXR0b24gIT09IDIsXG4gICAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKG0gPT4gZVtgJHttfUtleWBdICYmICFtb2RpZmllcnMuaW5jbHVkZXMobSkpXG59O1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBndWFyZCA9IG1vZGlmaWVyR3VhcmRzW21vZGlmaWVyc1tpXV07XG4gICAgICAgICAgICBpZiAoZ3VhcmQgJiYgZ3VhcmQoZXZlbnQsIG1vZGlmaWVycykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbihldmVudCwgLi4uYXJncyk7XG4gICAgfTtcbn07XG4vLyBLZXB0IGZvciAyLnggY29tcGF0LlxuLy8gTm90ZTogSUUxMSBjb21wYXQgZm9yIGBzcGFjZWJhcmAgYW5kIGBkZWxgIGlzIHJlbW92ZWQgZm9yIG5vdy5cbmNvbnN0IGtleU5hbWVzID0ge1xuICAgIGVzYzogJ2VzY2FwZScsXG4gICAgc3BhY2U6ICcgJyxcbiAgICB1cDogJ2Fycm93LXVwJyxcbiAgICBsZWZ0OiAnYXJyb3ctbGVmdCcsXG4gICAgcmlnaHQ6ICdhcnJvdy1yaWdodCcsXG4gICAgZG93bjogJ2Fycm93LWRvd24nLFxuICAgIGRlbGV0ZTogJ2JhY2tzcGFjZSdcbn07XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHdpdGhLZXlzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgICBsZXQgZ2xvYmFsS2V5Q29kZXM7XG4gICAgbGV0IGluc3RhbmNlID0gbnVsbDtcbiAgICB7XG4gICAgICAgIGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGlmIChjb21wYXRVdGlscy5pc0NvbXBhdEVuYWJsZWQoXCJDT05GSUdfS0VZX0NPREVTXCIgLyogRGVwcmVjYXRpb25UeXBlcy5DT05GSUdfS0VZX0NPREVTICovLCBpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGdsb2JhbEtleUNvZGVzID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcua2V5Q29kZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBtb2RpZmllcnMuc29tZShtID0+IC9eXFxkKyQvLnRlc3QobSkpKSB7XG4gICAgICAgICAgICBjb21wYXRVdGlscy53YXJuRGVwcmVjYXRpb24oXCJWX09OX0tFWUNPREVfTU9ESUZJRVJcIiAvKiBEZXByZWNhdGlvblR5cGVzLlZfT05fS0VZQ09ERV9NT0RJRklFUiAqLywgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCEoJ2tleScgaW4gZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXZlbnRLZXkgPSBoeXBoZW5hdGUoZXZlbnQua2V5KTtcbiAgICAgICAgaWYgKG1vZGlmaWVycy5zb21lKGsgPT4gayA9PT0gZXZlbnRLZXkgfHwga2V5TmFtZXNba10gPT09IGV2ZW50S2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZuKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBrZXlDb2RlID0gU3RyaW5nKGV2ZW50LmtleUNvZGUpO1xuICAgICAgICAgICAgaWYgKGNvbXBhdFV0aWxzLmlzQ29tcGF0RW5hYmxlZChcIlZfT05fS0VZQ09ERV9NT0RJRklFUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuVl9PTl9LRVlDT0RFX01PRElGSUVSICovLCBpbnN0YW5jZSkgJiZcbiAgICAgICAgICAgICAgICBtb2RpZmllcnMuc29tZShtb2QgPT4gbW9kID09IGtleUNvZGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnbG9iYWxLZXlDb2Rlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbW9kIG9mIG1vZGlmaWVycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlcyA9IGdsb2JhbEtleUNvZGVzW21vZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGlzQXJyYXkoY29kZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjb2Rlcy5zb21lKGNvZGUgPT4gU3RyaW5nKGNvZGUpID09PSBrZXlDb2RlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGNvZGVzKSA9PT0ga2V5Q29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5jb25zdCB2U2hvdyA9IHtcbiAgICBiZWZvcmVNb3VudChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgICAgICBlbC5fdm9kID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xuICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGVkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgICAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgICAgICAgICBzZXREaXNwbGF5KGVsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24ubGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBiZWZvcmVVbm1vdW50KGVsLCB7IHZhbHVlIH0pIHtcbiAgICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBzZXREaXNwbGF5KGVsLCB2YWx1ZSkge1xuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsLl92b2QgOiAnbm9uZSc7XG59XG4vLyBTU1Igdm5vZGUgdHJhbnNmb3Jtcywgb25seSB1c2VkIHdoZW4gdXNlciBpbmNsdWRlcyBjbGllbnQtb3JpZW50ZWQgcmVuZGVyXG4vLyBmdW5jdGlvbiBpbiBTU1JcbmZ1bmN0aW9uIGluaXRWU2hvd0ZvclNTUigpIHtcbiAgICB2U2hvdy5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3R5bGU6IHsgZGlzcGxheTogJ25vbmUnIH0gfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IHJlbmRlcmVyT3B0aW9ucyA9IC8qI19fUFVSRV9fKi8gZXh0ZW5kKHsgcGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xuLy8gbGF6eSBjcmVhdGUgdGhlIHJlbmRlcmVyIC0gdGhpcyBtYWtlcyBjb3JlIHJlbmRlcmVyIGxvZ2ljIHRyZWUtc2hha2FibGVcbi8vIGluIGNhc2UgdGhlIHVzZXIgb25seSBpbXBvcnRzIHJlYWN0aXZpdHkgdXRpbGl0aWVzIGZyb20gVnVlLlxubGV0IHJlbmRlcmVyO1xubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xuICAgIHJldHVybiAocmVuZGVyZXIgfHxcbiAgICAgICAgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSkpO1xufVxuZnVuY3Rpb24gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKSB7XG4gICAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uXG4gICAgICAgID8gcmVuZGVyZXJcbiAgICAgICAgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xuICAgIGVuYWJsZWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHJldHVybiByZW5kZXJlcjtcbn1cbi8vIHVzZSBleHBsaWNpdCB0eXBlIGNhc3RzIGhlcmUgdG8gYXZvaWQgaW1wb3J0KCkgY2FsbHMgaW4gcm9sbGVkLXVwIGQudHNcbmNvbnN0IHJlbmRlciA9ICgoLi4uYXJncykgPT4ge1xuICAgIGVuc3VyZVJlbmRlcmVyKCkucmVuZGVyKC4uLmFyZ3MpO1xufSk7XG5jb25zdCBoeWRyYXRlID0gKCguLi5hcmdzKSA9PiB7XG4gICAgZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5oeWRyYXRlKC4uLmFyZ3MpO1xufSk7XG5jb25zdCBjcmVhdGVBcHAgPSAoKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBhcHAgPSBlbnN1cmVSZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gICAgfVxuICAgIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcbiAgICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XG4gICAgICAgIGlmICghY29udGFpbmVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBhcHAuX2NvbXBvbmVudDtcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgLy8gX19VTlNBRkVfX1xuICAgICAgICAgICAgLy8gUmVhc29uOiBwb3RlbnRpYWwgZXhlY3V0aW9uIG9mIEpTIGV4cHJlc3Npb25zIGluIGluLURPTSB0ZW1wbGF0ZS5cbiAgICAgICAgICAgIC8vIFRoZSB1c2VyIG11c3QgbWFrZSBzdXJlIHRoZSBpbi1ET00gdGVtcGxhdGUgaXMgdHJ1c3RlZC4gSWYgaXQnc1xuICAgICAgICAgICAgLy8gcmVuZGVyZWQgYnkgdGhlIHNlcnZlciwgdGhlIHRlbXBsYXRlIHNob3VsZCBub3QgY29udGFpbiBhbnkgdXNlciBkYXRhLlxuICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcbiAgICAgICAgICAgIC8vIDIueCBjb21wYXQgY2hlY2tcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRhaW5lci5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBjb250YWluZXIuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHIubmFtZSAhPT0gJ3YtY2xvYWsnICYmIC9eKHYtfDp8QCkvLnRlc3QoYXR0ci5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGF0VXRpbHMud2FybkRlcHJlY2F0aW9uKFwiR0xPQkFMX01PVU5UX0NPTlRBSU5FUlwiIC8qIERlcHJlY2F0aW9uVHlwZXMuR0xPQkFMX01PVU5UX0NPTlRBSU5FUiAqLywgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjbGVhciBjb250ZW50IGJlZm9yZSBtb3VudGluZ1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyLCBmYWxzZSwgY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudCk7XG4gICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCd2LWNsb2FrJyk7XG4gICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXYtYXBwJywgJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm94eTtcbiAgICB9O1xuICAgIHJldHVybiBhcHA7XG59KTtcbmNvbnN0IGNyZWF0ZVNTUkFwcCA9ICgoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGFwcCA9IGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcbiAgICAgICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgICB9XG4gICAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICAgIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgcmV0dXJuIG1vdW50KGNvbnRhaW5lciwgdHJ1ZSwgY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBhcHA7XG59KTtcbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xuICAgIC8vIEluamVjdCBgaXNOYXRpdmVUYWdgXG4gICAgLy8gdGhpcyBpcyB1c2VkIGZvciBjb21wb25lbnQgbmFtZSB2YWxpZGF0aW9uIChkZXYgb25seSlcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgJ2lzTmF0aXZlVGFnJywge1xuICAgICAgICB2YWx1ZTogKHRhZykgPT4gaXNIVE1MVGFnKHRhZykgfHwgaXNTVkdUYWcodGFnKSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG59XG4vLyBkZXYgb25seVxuZnVuY3Rpb24gaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKSB7XG4gICAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBhcHAuY29uZmlnLmlzQ3VzdG9tRWxlbWVudDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsICdpc0N1c3RvbUVsZW1lbnQnLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzQ3VzdG9tRWxlbWVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKGBUaGUgXFxgaXNDdXN0b21FbGVtZW50XFxgIGNvbmZpZyBvcHRpb24gaXMgZGVwcmVjYXRlZC4gVXNlIGAgK1xuICAgICAgICAgICAgICAgICAgICBgXFxgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudFxcYCBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gYXBwLmNvbmZpZy5jb21waWxlck9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1zZyA9IGBUaGUgXFxgY29tcGlsZXJPcHRpb25zXFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyBgICtcbiAgICAgICAgICAgIGBhIGJ1aWxkIG9mIFZ1ZS5qcyB0aGF0IGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyIChha2EgXCJmdWxsIGJ1aWxkXCIpLiBgICtcbiAgICAgICAgICAgIGBTaW5jZSB5b3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQsIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBgICtcbiAgICAgICAgICAgIGBtdXN0IGJlIHBhc3NlZCB0byBcXGBAdnVlL2NvbXBpbGVyLWRvbVxcYCBpbiB0aGUgYnVpbGQgc2V0dXAgaW5zdGVhZC5cXG5gICtcbiAgICAgICAgICAgIGAtIEZvciB2dWUtbG9hZGVyOiBwYXNzIGl0IHZpYSB2dWUtbG9hZGVyJ3MgXFxgY29tcGlsZXJPcHRpb25zXFxgIGxvYWRlciBvcHRpb24uXFxuYCArXG4gICAgICAgICAgICBgLSBGb3IgdnVlLWNsaTogc2VlIGh0dHBzOi8vY2xpLnZ1ZWpzLm9yZy9ndWlkZS93ZWJwYWNrLmh0bWwjbW9kaWZ5aW5nLW9wdGlvbnMtb2YtYS1sb2FkZXJcXG5gICtcbiAgICAgICAgICAgIGAtIEZvciB2aXRlOiBwYXNzIGl0IHZpYSBAdml0ZWpzL3BsdWdpbi12dWUgb3B0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS90cmVlL21haW4vcGFja2FnZXMvcGx1Z2luLXZ1ZSNleGFtcGxlLWZvci1wYXNzaW5nLW9wdGlvbnMtdG8tdnVlY29tcGlsZXItZG9tYDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsICdjb21waWxlck9wdGlvbnMnLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKG1zZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVyT3B0aW9ucztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybiQxKG1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICBpZiAoaXNTdHJpbmcoY29udGFpbmVyKSkge1xuICAgICAgICBjb25zdCByZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXJlcykge1xuICAgICAgICAgICAgd2FybiQxKGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgXCIke2NvbnRhaW5lcn1cIiByZXR1cm5lZCBudWxsLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgd2luZG93LlNoYWRvd1Jvb3QgJiZcbiAgICAgICAgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiZcbiAgICAgICAgY29udGFpbmVyLm1vZGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgIHdhcm4kMShgbW91bnRpbmcgb24gYSBTaGFkb3dSb290IHdpdGggXFxge21vZGU6IFwiY2xvc2VkXCJ9XFxgIG1heSBsZWFkIHRvIHVucHJlZGljdGFibGUgYnVnc2ApO1xuICAgIH1cbiAgICByZXR1cm4gY29udGFpbmVyO1xufVxubGV0IHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gZmFsc2U7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBpbml0RGlyZWN0aXZlc0ZvclNTUiA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFzc3JEaXJlY3RpdmVJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaW5pdFZNb2RlbEZvclNTUigpO1xuICAgICAgICAgICAgaW5pdFZTaG93Rm9yU1NSKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgO1xuXG52YXIgcnVudGltZURvbSA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICByZW5kZXI6IHJlbmRlcixcbiAgaHlkcmF0ZTogaHlkcmF0ZSxcbiAgY3JlYXRlQXBwOiBjcmVhdGVBcHAsXG4gIGNyZWF0ZVNTUkFwcDogY3JlYXRlU1NSQXBwLFxuICBpbml0RGlyZWN0aXZlc0ZvclNTUjogaW5pdERpcmVjdGl2ZXNGb3JTU1IsXG4gIGRlZmluZUN1c3RvbUVsZW1lbnQ6IGRlZmluZUN1c3RvbUVsZW1lbnQsXG4gIGRlZmluZVNTUkN1c3RvbUVsZW1lbnQ6IGRlZmluZVNTUkN1c3RvbUVsZW1lbnQsXG4gIFZ1ZUVsZW1lbnQ6IFZ1ZUVsZW1lbnQsXG4gIHVzZUNzc01vZHVsZTogdXNlQ3NzTW9kdWxlLFxuICB1c2VDc3NWYXJzOiB1c2VDc3NWYXJzLFxuICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxuICBUcmFuc2l0aW9uR3JvdXA6IFRyYW5zaXRpb25Hcm91cCxcbiAgdk1vZGVsVGV4dDogdk1vZGVsVGV4dCxcbiAgdk1vZGVsQ2hlY2tib3g6IHZNb2RlbENoZWNrYm94LFxuICB2TW9kZWxSYWRpbzogdk1vZGVsUmFkaW8sXG4gIHZNb2RlbFNlbGVjdDogdk1vZGVsU2VsZWN0LFxuICB2TW9kZWxEeW5hbWljOiB2TW9kZWxEeW5hbWljLFxuICB3aXRoTW9kaWZpZXJzOiB3aXRoTW9kaWZpZXJzLFxuICB3aXRoS2V5czogd2l0aEtleXMsXG4gIHZTaG93OiB2U2hvdyxcbiAgcmVhY3RpdmU6IHJlYWN0aXZlLFxuICByZWY6IHJlZixcbiAgcmVhZG9ubHk6IHJlYWRvbmx5LFxuICB1bnJlZjogdW5yZWYsXG4gIHByb3h5UmVmczogcHJveHlSZWZzLFxuICBpc1JlZjogaXNSZWYsXG4gIHRvUmVmOiB0b1JlZixcbiAgdG9SZWZzOiB0b1JlZnMsXG4gIGlzUHJveHk6IGlzUHJveHksXG4gIGlzUmVhY3RpdmU6IGlzUmVhY3RpdmUsXG4gIGlzUmVhZG9ubHk6IGlzUmVhZG9ubHksXG4gIGlzU2hhbGxvdzogaXNTaGFsbG93LFxuICBjdXN0b21SZWY6IGN1c3RvbVJlZixcbiAgdHJpZ2dlclJlZjogdHJpZ2dlclJlZixcbiAgc2hhbGxvd1JlZjogc2hhbGxvd1JlZixcbiAgc2hhbGxvd1JlYWN0aXZlOiBzaGFsbG93UmVhY3RpdmUsXG4gIHNoYWxsb3dSZWFkb25seTogc2hhbGxvd1JlYWRvbmx5LFxuICBtYXJrUmF3OiBtYXJrUmF3LFxuICB0b1JhdzogdG9SYXcsXG4gIGVmZmVjdDogZWZmZWN0LFxuICBzdG9wOiBzdG9wLFxuICBSZWFjdGl2ZUVmZmVjdDogUmVhY3RpdmVFZmZlY3QsXG4gIGVmZmVjdFNjb3BlOiBlZmZlY3RTY29wZSxcbiAgRWZmZWN0U2NvcGU6IEVmZmVjdFNjb3BlLFxuICBnZXRDdXJyZW50U2NvcGU6IGdldEN1cnJlbnRTY29wZSxcbiAgb25TY29wZURpc3Bvc2U6IG9uU2NvcGVEaXNwb3NlLFxuICBjb21wdXRlZDogY29tcHV0ZWQkMSxcbiAgd2F0Y2g6IHdhdGNoLFxuICB3YXRjaEVmZmVjdDogd2F0Y2hFZmZlY3QsXG4gIHdhdGNoUG9zdEVmZmVjdDogd2F0Y2hQb3N0RWZmZWN0LFxuICB3YXRjaFN5bmNFZmZlY3Q6IHdhdGNoU3luY0VmZmVjdCxcbiAgb25CZWZvcmVNb3VudDogb25CZWZvcmVNb3VudCxcbiAgb25Nb3VudGVkOiBvbk1vdW50ZWQsXG4gIG9uQmVmb3JlVXBkYXRlOiBvbkJlZm9yZVVwZGF0ZSxcbiAgb25VcGRhdGVkOiBvblVwZGF0ZWQsXG4gIG9uQmVmb3JlVW5tb3VudDogb25CZWZvcmVVbm1vdW50LFxuICBvblVubW91bnRlZDogb25Vbm1vdW50ZWQsXG4gIG9uQWN0aXZhdGVkOiBvbkFjdGl2YXRlZCxcbiAgb25EZWFjdGl2YXRlZDogb25EZWFjdGl2YXRlZCxcbiAgb25SZW5kZXJUcmFja2VkOiBvblJlbmRlclRyYWNrZWQsXG4gIG9uUmVuZGVyVHJpZ2dlcmVkOiBvblJlbmRlclRyaWdnZXJlZCxcbiAgb25FcnJvckNhcHR1cmVkOiBvbkVycm9yQ2FwdHVyZWQsXG4gIG9uU2VydmVyUHJlZmV0Y2g6IG9uU2VydmVyUHJlZmV0Y2gsXG4gIHByb3ZpZGU6IHByb3ZpZGUsXG4gIGluamVjdDogaW5qZWN0LFxuICBuZXh0VGljazogbmV4dFRpY2ssXG4gIGRlZmluZUNvbXBvbmVudDogZGVmaW5lQ29tcG9uZW50LFxuICBkZWZpbmVBc3luY0NvbXBvbmVudDogZGVmaW5lQXN5bmNDb21wb25lbnQsXG4gIHVzZUF0dHJzOiB1c2VBdHRycyxcbiAgdXNlU2xvdHM6IHVzZVNsb3RzLFxuICBkZWZpbmVQcm9wczogZGVmaW5lUHJvcHMsXG4gIGRlZmluZUVtaXRzOiBkZWZpbmVFbWl0cyxcbiAgZGVmaW5lRXhwb3NlOiBkZWZpbmVFeHBvc2UsXG4gIHdpdGhEZWZhdWx0czogd2l0aERlZmF1bHRzLFxuICBtZXJnZURlZmF1bHRzOiBtZXJnZURlZmF1bHRzLFxuICBjcmVhdGVQcm9wc1Jlc3RQcm94eTogY3JlYXRlUHJvcHNSZXN0UHJveHksXG4gIHdpdGhBc3luY0NvbnRleHQ6IHdpdGhBc3luY0NvbnRleHQsXG4gIGdldEN1cnJlbnRJbnN0YW5jZTogZ2V0Q3VycmVudEluc3RhbmNlLFxuICBoOiBoLFxuICBjcmVhdGVWTm9kZTogY3JlYXRlVk5vZGUsXG4gIGNsb25lVk5vZGU6IGNsb25lVk5vZGUsXG4gIG1lcmdlUHJvcHM6IG1lcmdlUHJvcHMsXG4gIGlzVk5vZGU6IGlzVk5vZGUsXG4gIEZyYWdtZW50OiBGcmFnbWVudCxcbiAgVGV4dDogVGV4dCxcbiAgQ29tbWVudDogQ29tbWVudCxcbiAgU3RhdGljOiBTdGF0aWMsXG4gIFRlbGVwb3J0OiBUZWxlcG9ydCxcbiAgU3VzcGVuc2U6IFN1c3BlbnNlLFxuICBLZWVwQWxpdmU6IEtlZXBBbGl2ZSxcbiAgQmFzZVRyYW5zaXRpb246IEJhc2VUcmFuc2l0aW9uLFxuICB3aXRoRGlyZWN0aXZlczogd2l0aERpcmVjdGl2ZXMsXG4gIHVzZVNTUkNvbnRleHQ6IHVzZVNTUkNvbnRleHQsXG4gIHNzckNvbnRleHRLZXk6IHNzckNvbnRleHRLZXksXG4gIGNyZWF0ZVJlbmRlcmVyOiBjcmVhdGVSZW5kZXJlcixcbiAgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXI6IGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLFxuICBxdWV1ZVBvc3RGbHVzaENiOiBxdWV1ZVBvc3RGbHVzaENiLFxuICB3YXJuOiB3YXJuJDEsXG4gIGhhbmRsZUVycm9yOiBoYW5kbGVFcnJvcixcbiAgY2FsbFdpdGhFcnJvckhhbmRsaW5nOiBjYWxsV2l0aEVycm9ySGFuZGxpbmcsXG4gIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nOiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyxcbiAgcmVzb2x2ZUNvbXBvbmVudDogcmVzb2x2ZUNvbXBvbmVudCxcbiAgcmVzb2x2ZURpcmVjdGl2ZTogcmVzb2x2ZURpcmVjdGl2ZSxcbiAgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQ6IHJlc29sdmVEeW5hbWljQ29tcG9uZW50LFxuICByZWdpc3RlclJ1bnRpbWVDb21waWxlcjogcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsXG4gIGlzUnVudGltZU9ubHk6IGlzUnVudGltZU9ubHksXG4gIHVzZVRyYW5zaXRpb25TdGF0ZTogdXNlVHJhbnNpdGlvblN0YXRlLFxuICByZXNvbHZlVHJhbnNpdGlvbkhvb2tzOiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLFxuICBzZXRUcmFuc2l0aW9uSG9va3M6IHNldFRyYW5zaXRpb25Ib29rcyxcbiAgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuOiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sXG4gIGluaXRDdXN0b21Gb3JtYXR0ZXI6IGluaXRDdXN0b21Gb3JtYXR0ZXIsXG4gIGdldCBkZXZ0b29scyAoKSB7IHJldHVybiBkZXZ0b29sczsgfSxcbiAgc2V0RGV2dG9vbHNIb29rOiBzZXREZXZ0b29sc0hvb2ssXG4gIHdpdGhDdHg6IHdpdGhDdHgsXG4gIHB1c2hTY29wZUlkOiBwdXNoU2NvcGVJZCxcbiAgcG9wU2NvcGVJZDogcG9wU2NvcGVJZCxcbiAgd2l0aFNjb3BlSWQ6IHdpdGhTY29wZUlkLFxuICByZW5kZXJMaXN0OiByZW5kZXJMaXN0LFxuICB0b0hhbmRsZXJzOiB0b0hhbmRsZXJzLFxuICByZW5kZXJTbG90OiByZW5kZXJTbG90LFxuICBjcmVhdGVTbG90czogY3JlYXRlU2xvdHMsXG4gIHdpdGhNZW1vOiB3aXRoTWVtbyxcbiAgaXNNZW1vU2FtZTogaXNNZW1vU2FtZSxcbiAgb3BlbkJsb2NrOiBvcGVuQmxvY2ssXG4gIGNyZWF0ZUJsb2NrOiBjcmVhdGVCbG9jayxcbiAgc2V0QmxvY2tUcmFja2luZzogc2V0QmxvY2tUcmFja2luZyxcbiAgY3JlYXRlVGV4dFZOb2RlOiBjcmVhdGVUZXh0Vk5vZGUsXG4gIGNyZWF0ZUNvbW1lbnRWTm9kZTogY3JlYXRlQ29tbWVudFZOb2RlLFxuICBjcmVhdGVTdGF0aWNWTm9kZTogY3JlYXRlU3RhdGljVk5vZGUsXG4gIGNyZWF0ZUVsZW1lbnRWTm9kZTogY3JlYXRlQmFzZVZOb2RlLFxuICBjcmVhdGVFbGVtZW50QmxvY2s6IGNyZWF0ZUVsZW1lbnRCbG9jayxcbiAgZ3VhcmRSZWFjdGl2ZVByb3BzOiBndWFyZFJlYWN0aXZlUHJvcHMsXG4gIHRvRGlzcGxheVN0cmluZzogdG9EaXNwbGF5U3RyaW5nLFxuICBjYW1lbGl6ZTogY2FtZWxpemUsXG4gIGNhcGl0YWxpemU6IGNhcGl0YWxpemUsXG4gIHRvSGFuZGxlcktleTogdG9IYW5kbGVyS2V5LFxuICBub3JtYWxpemVQcm9wczogbm9ybWFsaXplUHJvcHMsXG4gIG5vcm1hbGl6ZUNsYXNzOiBub3JtYWxpemVDbGFzcyxcbiAgbm9ybWFsaXplU3R5bGU6IG5vcm1hbGl6ZVN0eWxlLFxuICB0cmFuc2Zvcm1WTm9kZUFyZ3M6IHRyYW5zZm9ybVZOb2RlQXJncyxcbiAgdmVyc2lvbjogdmVyc2lvbixcbiAgc3NyVXRpbHM6IHNzclV0aWxzLFxuICByZXNvbHZlRmlsdGVyOiByZXNvbHZlRmlsdGVyJDEsXG4gIGNvbXBhdFV0aWxzOiBjb21wYXRVdGlsc1xufSk7XG5cbmZ1bmN0aW9uIGluaXREZXYoKSB7XG4gICAge1xuICAgICAgICBpbml0Q3VzdG9tRm9ybWF0dGVyKCk7XG4gICAgfVxufVxuXG4vLyBUaGlzIGVudHJ5IGV4cG9ydHMgdGhlIHJ1bnRpbWUgb25seSwgYW5kIGlzIGJ1aWx0IGFzXG5pZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgaW5pdERldigpO1xufVxuZnVuY3Rpb24gd3JhcHBlZENyZWF0ZUFwcCguLi5hcmdzKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgICBpZiAoY29tcGF0VXRpbHMuaXNDb21wYXRFbmFibGVkKFwiUkVOREVSX0ZVTkNUSU9OXCIgLyogRGVwcmVjYXRpb25UeXBlcy5SRU5ERVJfRlVOQ1RJT04gKi8sIG51bGwpKSB7XG4gICAgICAgIC8vIHJlZ2lzdGVyIGJ1aWx0LWluIGNvbXBvbmVudHMgc28gdGhhdCB0aGV5IGNhbiBiZSByZXNvbHZlZCB2aWEgc3RyaW5nc1xuICAgICAgICAvLyBpbiB0aGUgbGVnYWN5IGgoKSBjYWxsLiBUaGUgX19jb21wYXRfXyBwcmVmaXggaXMgdG8gZW5zdXJlIHRoYXQgdjMgaCgpXG4gICAgICAgIC8vIGRvZXNuJ3QgZ2V0IGFmZmVjdGVkLlxuICAgICAgICBhcHAuY29tcG9uZW50KCdfX2NvbXBhdF9fdHJhbnNpdGlvbicsIFRyYW5zaXRpb24pO1xuICAgICAgICBhcHAuY29tcG9uZW50KCdfX2NvbXBhdF9fdHJhbnNpdGlvbi1ncm91cCcsIFRyYW5zaXRpb25Hcm91cCk7XG4gICAgICAgIGFwcC5jb21wb25lbnQoJ19fY29tcGF0X19rZWVwLWFsaXZlJywgS2VlcEFsaXZlKTtcbiAgICAgICAgLy8gYnVpbHQtaW4gZGlyZWN0aXZlcy4gTm8gbmVlZCBmb3IgcHJlZml4IHNpbmNlIHRoZXJlJ3Mgbm8gcmVuZGVyIGZuIEFQSVxuICAgICAgICAvLyBmb3IgcmVzb2x2aW5nIGRpcmVjdGl2ZXMgdmlhIHN0cmluZyBpbiB2My5cbiAgICAgICAgYXBwLl9jb250ZXh0LmRpcmVjdGl2ZXMuc2hvdyA9IHZTaG93O1xuICAgICAgICBhcHAuX2NvbnRleHQuZGlyZWN0aXZlcy5tb2RlbCA9IHZNb2RlbER5bmFtaWM7XG4gICAgfVxuICAgIHJldHVybiBhcHA7XG59XG5mdW5jdGlvbiBjcmVhdGVDb21wYXRWdWUkMSgpIHtcbiAgICBjb25zdCBWdWUgPSBjb21wYXRVdGlscy5jcmVhdGVDb21wYXRWdWUoY3JlYXRlQXBwLCB3cmFwcGVkQ3JlYXRlQXBwKTtcbiAgICBleHRlbmQoVnVlLCBydW50aW1lRG9tKTtcbiAgICByZXR1cm4gVnVlO1xufVxuXG4vLyBUaGlzIGVudHJ5IGV4cG9ydHMgdGhlIHJ1bnRpbWUgb25seSwgYW5kIGlzIGJ1aWx0IGFzXG5jb25zdCBWdWUgPSBjcmVhdGVDb21wYXRWdWUkMSgpO1xuVnVlLmNvbXBpbGUgPSAoKCkgPT4ge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgd2FybiQxKGBSdW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArXG4gICAgICAgICAgICAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJAdnVlL2NvbXBhdC9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmBcbiAgICAgICAgICAgICAgICApIC8qIHNob3VsZCBub3QgaGFwcGVuICovKTtcbiAgICB9XG59KTtcblxuY29uc3QgeyBjb25maWd1cmVDb21wYXQ6IGNvbmZpZ3VyZUNvbXBhdCQxIH0gPSBWdWU7XG5cbmV4cG9ydCBkZWZhdWx0IFZ1ZTtcbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBDb21tZW50LCBFZmZlY3RTY29wZSwgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgUmVhY3RpdmVFZmZlY3QsIFN0YXRpYywgU3VzcGVuc2UsIFRlbGVwb3J0LCBUZXh0LCBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIFZ1ZUVsZW1lbnQsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBjYWxsV2l0aEVycm9ySGFuZGxpbmcsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBjbG9uZVZOb2RlLCBjb21wYXRVdGlscywgY29tcHV0ZWQkMSBhcyBjb21wdXRlZCwgY29uZmlndXJlQ29tcGF0JDEgYXMgY29uZmlndXJlQ29tcGF0LCBjcmVhdGVBcHAsIGNyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQmFzZVZOb2RlIGFzIGNyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIsIGNyZWF0ZVByb3BzUmVzdFByb3h5LCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlU1NSQXBwLCBjcmVhdGVTbG90cywgY3JlYXRlU3RhdGljVk5vZGUsIGNyZWF0ZVRleHRWTm9kZSwgY3JlYXRlVk5vZGUsIGN1c3RvbVJlZiwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVmaW5lQ3VzdG9tRWxlbWVudCwgZGVmaW5lRW1pdHMsIGRlZmluZUV4cG9zZSwgZGVmaW5lUHJvcHMsIGRlZmluZVNTUkN1c3RvbUVsZW1lbnQsIGRldnRvb2xzLCBlZmZlY3QsIGVmZmVjdFNjb3BlLCBnZXRDdXJyZW50SW5zdGFuY2UsIGdldEN1cnJlbnRTY29wZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBndWFyZFJlYWN0aXZlUHJvcHMsIGgsIGhhbmRsZUVycm9yLCBoeWRyYXRlLCBpbml0Q3VzdG9tRm9ybWF0dGVyLCBpbml0RGlyZWN0aXZlc0ZvclNTUiwgaW5qZWN0LCBpc01lbW9TYW1lLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNSdW50aW1lT25seSwgaXNTaGFsbG93LCBpc1ZOb2RlLCBtYXJrUmF3LCBtZXJnZURlZmF1bHRzLCBtZXJnZVByb3BzLCBuZXh0VGljaywgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgb25BY3RpdmF0ZWQsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25CZWZvcmVVcGRhdGUsIG9uRGVhY3RpdmF0ZWQsIG9uRXJyb3JDYXB0dXJlZCwgb25Nb3VudGVkLCBvblJlbmRlclRyYWNrZWQsIG9uUmVuZGVyVHJpZ2dlcmVkLCBvblNjb3BlRGlzcG9zZSwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwcm94eVJlZnMsIHB1c2hTY29wZUlkLCBxdWV1ZVBvc3RGbHVzaENiLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlciwgcmVuZGVyTGlzdCwgcmVuZGVyU2xvdCwgcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIHJlc29sdmVGaWx0ZXIkMSBhcyByZXNvbHZlRmlsdGVyLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHNzckNvbnRleHRLZXksIHNzclV0aWxzLCBzdG9wLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSwgdG9IYW5kbGVycywgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdHJpZ2dlclJlZiwgdW5yZWYsIHVzZUF0dHJzLCB1c2VDc3NNb2R1bGUsIHVzZUNzc1ZhcnMsIHVzZVNTUkNvbnRleHQsIHVzZVNsb3RzLCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZNb2RlbENoZWNrYm94LCB2TW9kZWxEeW5hbWljLCB2TW9kZWxSYWRpbywgdk1vZGVsU2VsZWN0LCB2TW9kZWxUZXh0LCB2U2hvdywgdmVyc2lvbiwgd2FybiQxIGFzIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2F0Y2hQb3N0RWZmZWN0LCB3YXRjaFN5bmNFZmZlY3QsIHdpdGhBc3luY0NvbnRleHQsIHdpdGhDdHgsIHdpdGhEZWZhdWx0cywgd2l0aERpcmVjdGl2ZXMsIHdpdGhLZXlzLCB3aXRoTWVtbywgd2l0aE1vZGlmaWVycywgd2l0aFNjb3BlSWQgfTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiLCBbXCJtb2R1bGVcIl0sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZmFjdG9yeShtb2R1bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBtb2QgPSB7XG4gICAgICBleHBvcnRzOiB7fVxuICAgIH07XG4gICAgZmFjdG9yeShtb2QpO1xuICAgIGdsb2JhbC5icm93c2VyID0gbW9kLmV4cG9ydHM7XG4gIH1cbn0pKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgLyogd2ViZXh0ZW5zaW9uLXBvbHlmaWxsIC0gdjAuMTAuMCAtIEZyaSBBdWcgMTIgMjAyMiAxOTo0Mjo0NCAqL1xuXG4gIC8qIC0qLSBNb2RlOiBpbmRlbnQtdGFicy1tb2RlOiBuaWw7IGpzLWluZGVudC1sZXZlbDogMiAtKi0gKi9cblxuICAvKiB2aW06IHNldCBzdHM9MiBzdz0yIGV0IHR3PTgwOiAqL1xuXG4gIC8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAgICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICAgKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBpZiAoIWdsb2JhbFRoaXMuY2hyb21lPy5ydW50aW1lPy5pZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgc2NyaXB0IHNob3VsZCBvbmx5IGJlIGxvYWRlZCBpbiBhIGJyb3dzZXIgZXh0ZW5zaW9uLlwiKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcy5icm93c2VyID09PSBcInVuZGVmaW5lZFwiIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWxUaGlzLmJyb3dzZXIpICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgY29uc3QgQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFID0gXCJUaGUgbWVzc2FnZSBwb3J0IGNsb3NlZCBiZWZvcmUgYSByZXNwb25zZSB3YXMgcmVjZWl2ZWQuXCI7IC8vIFdyYXBwaW5nIHRoZSBidWxrIG9mIHRoaXMgcG9seWZpbGwgaW4gYSBvbmUtdGltZS11c2UgZnVuY3Rpb24gaXMgYSBtaW5vclxuICAgIC8vIG9wdGltaXphdGlvbiBmb3IgRmlyZWZveC4gU2luY2UgU3BpZGVybW9ua2V5IGRvZXMgbm90IGZ1bGx5IHBhcnNlIHRoZVxuICAgIC8vIGNvbnRlbnRzIG9mIGEgZnVuY3Rpb24gdW50aWwgdGhlIGZpcnN0IHRpbWUgaXQncyBjYWxsZWQsIGFuZCBzaW5jZSBpdCB3aWxsXG4gICAgLy8gbmV2ZXIgYWN0dWFsbHkgbmVlZCB0byBiZSBjYWxsZWQsIHRoaXMgYWxsb3dzIHRoZSBwb2x5ZmlsbCB0byBiZSBpbmNsdWRlZFxuICAgIC8vIGluIEZpcmVmb3ggbmVhcmx5IGZvciBmcmVlLlxuXG4gICAgY29uc3Qgd3JhcEFQSXMgPSBleHRlbnNpb25BUElzID0+IHtcbiAgICAgIC8vIE5PVEU6IGFwaU1ldGFkYXRhIGlzIGFzc29jaWF0ZWQgdG8gdGhlIGNvbnRlbnQgb2YgdGhlIGFwaS1tZXRhZGF0YS5qc29uIGZpbGVcbiAgICAgIC8vIGF0IGJ1aWxkIHRpbWUgYnkgcmVwbGFjaW5nIHRoZSBmb2xsb3dpbmcgXCJpbmNsdWRlXCIgd2l0aCB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgIC8vIEpTT04gZmlsZS5cbiAgICAgIGNvbnN0IGFwaU1ldGFkYXRhID0ge1xuICAgICAgICBcImFsYXJtc1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNsZWFyQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYm9va21hcmtzXCI6IHtcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldENoaWxkcmVuXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0U3ViVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJyb3dzZXJBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZGlzYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVuYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5Qb3B1cFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJicm93c2luZ0RhdGFcIjoge1xuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlQ2FjaGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDb29raWVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRG93bmxvYWRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRm9ybURhdGFcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVIaXN0b3J5XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlTG9jYWxTdG9yYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGFzc3dvcmRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGx1Z2luRGF0YVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldHRpbmdzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29tbWFuZHNcIjoge1xuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29udGV4dE1lbnVzXCI6IHtcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvb2tpZXNcIjoge1xuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsQ29va2llU3RvcmVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGV2dG9vbHNcIjoge1xuICAgICAgICAgIFwiaW5zcGVjdGVkV2luZG93XCI6IHtcbiAgICAgICAgICAgIFwiZXZhbFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMixcbiAgICAgICAgICAgICAgXCJzaW5nbGVDYWxsYmFja0FyZ1wiOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJwYW5lbHNcIjoge1xuICAgICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMyxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDMsXG4gICAgICAgICAgICAgIFwic2luZ2xlQ2FsbGJhY2tBcmdcIjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZWxlbWVudHNcIjoge1xuICAgICAgICAgICAgICBcImNyZWF0ZVNpZGViYXJQYW5lXCI6IHtcbiAgICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImRvd25sb2Fkc1wiOiB7XG4gICAgICAgICAgXCJjYW5jZWxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkb3dubG9hZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVyYXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0RmlsZUljb25cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJvcGVuXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicGF1c2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVGaWxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVzdW1lXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VhcmNoXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2hvd1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImV4dGVuc2lvblwiOiB7XG4gICAgICAgICAgXCJpc0FsbG93ZWRGaWxlU2NoZW1lQWNjZXNzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiaXNBbGxvd2VkSW5jb2duaXRvQWNjZXNzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaGlzdG9yeVwiOiB7XG4gICAgICAgICAgXCJhZGRVcmxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVSYW5nZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRlbGV0ZVVybFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFZpc2l0c1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImkxOG5cIjoge1xuICAgICAgICAgIFwiZGV0ZWN0TGFuZ3VhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBY2NlcHRMYW5ndWFnZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZGVudGl0eVwiOiB7XG4gICAgICAgICAgXCJsYXVuY2hXZWJBdXRoRmxvd1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImlkbGVcIjoge1xuICAgICAgICAgIFwicXVlcnlTdGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm1hbmFnZW1lbnRcIjoge1xuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0U2VsZlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEVuYWJsZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1bmluc3RhbGxTZWxmXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibm90aWZpY2F0aW9uc1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBlcm1pc3Npb25MZXZlbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInBhZ2VBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImhpZGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwZXJtaXNzaW9uc1wiOiB7XG4gICAgICAgICAgXCJjb250YWluc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlcXVlc3RcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJydW50aW1lXCI6IHtcbiAgICAgICAgICBcImdldEJhY2tncm91bmRQYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UGxhdGZvcm1JbmZvXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3Blbk9wdGlvbnNQYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVxdWVzdFVwZGF0ZUNoZWNrXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VuZE1lc3NhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogM1xuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZW5kTmF0aXZlTWVzc2FnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFVuaW5zdGFsbFVSTFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInNlc3Npb25zXCI6IHtcbiAgICAgICAgICBcImdldERldmljZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRSZWNlbnRseUNsb3NlZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlc3RvcmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzdG9yYWdlXCI6IHtcbiAgICAgICAgICBcImxvY2FsXCI6IHtcbiAgICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwibWFuYWdlZFwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzeW5jXCI6IHtcbiAgICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwidGFic1wiOiB7XG4gICAgICAgICAgXCJjYXB0dXJlVmlzaWJsZVRhYlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGlzY2FyZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImR1cGxpY2F0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImV4ZWN1dGVTY3JpcHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDdXJyZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Wm9vbVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdvQmFja1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdvRm9yd2FyZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImhpZ2hsaWdodFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImluc2VydENTU1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJxdWVyeVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbG9hZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUNTU1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0Wm9vbVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRvcFNpdGVzXCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIndlYk5hdmlnYXRpb25cIjoge1xuICAgICAgICAgIFwiZ2V0QWxsRnJhbWVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0RnJhbWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWJSZXF1ZXN0XCI6IHtcbiAgICAgICAgICBcImhhbmRsZXJCZWhhdmlvckNoYW5nZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3aW5kb3dzXCI6IHtcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEN1cnJlbnRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRMYXN0Rm9jdXNlZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoYXBpTWV0YWRhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhcGktbWV0YWRhdGEuanNvbiBoYXMgbm90IGJlZW4gaW5jbHVkZWQgaW4gYnJvd3Nlci1wb2x5ZmlsbFwiKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogQSBXZWFrTWFwIHN1YmNsYXNzIHdoaWNoIGNyZWF0ZXMgYW5kIHN0b3JlcyBhIHZhbHVlIGZvciBhbnkga2V5IHdoaWNoIGRvZXNcbiAgICAgICAqIG5vdCBleGlzdCB3aGVuIGFjY2Vzc2VkLCBidXQgYmVoYXZlcyBleGFjdGx5IGFzIGFuIG9yZGluYXJ5IFdlYWtNYXBcbiAgICAgICAqIG90aGVyd2lzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGVJdGVtXG4gICAgICAgKiAgICAgICAgQSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBpbiBvcmRlciB0byBjcmVhdGUgdGhlIHZhbHVlIGZvciBhbnlcbiAgICAgICAqICAgICAgICBrZXkgd2hpY2ggZG9lcyBub3QgZXhpc3QsIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGFjY2Vzc2VkLiBUaGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiByZWNlaXZlcywgYXMgaXRzIG9ubHkgYXJndW1lbnQsIHRoZSBrZXkgYmVpbmcgY3JlYXRlZC5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNsYXNzIERlZmF1bHRXZWFrTWFwIGV4dGVuZHMgV2Vha01hcCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNyZWF0ZUl0ZW0sIGl0ZW1zID0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc3VwZXIoaXRlbXMpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlSXRlbSA9IGNyZWF0ZUl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnNldChrZXksIHRoaXMuY3JlYXRlSXRlbShrZXkpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KGtleSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBhbiBvYmplY3Qgd2l0aCBhIGB0aGVuYCBtZXRob2QsIGFuZCBjYW5cbiAgICAgICAqIHRoZXJlZm9yZSBiZSBhc3N1bWVkIHRvIGJlaGF2ZSBhcyBhIFByb21pc2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB0aGVuYWJsZS5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IGlzVGhlbmFibGUgPSB2YWx1ZSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHdpbGwgcmVzb2x2ZSBvciByZWplY3RcbiAgICAgICAqIHRoZSBnaXZlbiBwcm9taXNlIGJhc2VkIG9uIGhvdyBpdCBpcyBjYWxsZWQ6XG4gICAgICAgKlxuICAgICAgICogLSBJZiwgd2hlbiBjYWxsZWQsIGBjaHJvbWUucnVudGltZS5sYXN0RXJyb3JgIGNvbnRhaW5zIGEgbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICogICB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIHRoYXQgdmFsdWUuXG4gICAgICAgKiAtIElmIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBleGFjdGx5IG9uZSBhcmd1bWVudCwgdGhlIHByb21pc2UgaXNcbiAgICAgICAqICAgcmVzb2x2ZWQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgICAqIC0gT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB0byBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGVcbiAgICAgICAqICAgZnVuY3Rpb24ncyBhcmd1bWVudHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHByb21pc2VcbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmVzb2x1dGlvbiBhbmQgcmVqZWN0aW9uIGZ1bmN0aW9ucyBvZiBhXG4gICAgICAgKiAgICAgICAgcHJvbWlzZS5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVzb2x2ZVxuICAgICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVqZWN0XG4gICAgICAgKiAgICAgICAgVGhlIHByb21pc2UncyByZWplY3Rpb24gZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgICAqICAgICAgICBNZXRhZGF0YSBhYm91dCB0aGUgd3JhcHBlZCBtZXRob2Qgd2hpY2ggaGFzIGNyZWF0ZWQgdGhlIGNhbGxiYWNrLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZ1xuICAgICAgICogICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggb25seSB0aGUgZmlyc3RcbiAgICAgICAqICAgICAgICBhcmd1bWVudCBvZiB0aGUgY2FsbGJhY2ssIGFsdGVybmF0aXZlbHkgYW4gYXJyYXkgb2YgYWxsIHRoZVxuICAgICAgICogICAgICAgIGNhbGxiYWNrIGFyZ3VtZW50cyBpcyByZXNvbHZlZC4gQnkgZGVmYXVsdCwgaWYgdGhlIGNhbGxiYWNrXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIG9ubHkgYSBzaW5nbGUgYXJndW1lbnQsIHRoYXQgd2lsbCBiZVxuICAgICAgICogICAgICAgIHJlc29sdmVkIHRvIHRoZSBwcm9taXNlLCB3aGlsZSBhbGwgYXJndW1lbnRzIHdpbGwgYmUgcmVzb2x2ZWQgYXNcbiAgICAgICAqICAgICAgICBhbiBhcnJheSBpZiBtdWx0aXBsZSBhcmUgZ2l2ZW4uXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9ufVxuICAgICAgICogICAgICAgIFRoZSBnZW5lcmF0ZWQgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCBtYWtlQ2FsbGJhY2sgPSAocHJvbWlzZSwgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuICguLi5jYWxsYmFja0FyZ3MpID0+IHtcbiAgICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgcHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmcgfHwgY2FsbGJhY2tBcmdzLmxlbmd0aCA8PSAxICYmIG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrQXJnc1swXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBsdXJhbGl6ZUFyZ3VtZW50cyA9IG51bUFyZ3MgPT4gbnVtQXJncyA9PSAxID8gXCJhcmd1bWVudFwiIDogXCJhcmd1bWVudHNcIjtcbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhIHdyYXBwZXIgZnVuY3Rpb24gZm9yIGEgbWV0aG9kIHdpdGggdGhlIGdpdmVuIG5hbWUgYW5kIG1ldGFkYXRhLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICAgKiAgICAgICAgVGhlIG5hbWUgb2YgdGhlIG1ldGhvZCB3aGljaCBpcyBiZWluZyB3cmFwcGVkLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhXG4gICAgICAgKiAgICAgICAgTWV0YWRhdGEgYWJvdXQgdGhlIG1ldGhvZCBiZWluZyB3cmFwcGVkLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5taW5BcmdzXG4gICAgICAgKiAgICAgICAgVGhlIG1pbmltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB3aGljaCBtdXN0IGJlIHBhc3NlZCB0byB0aGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbi4gSWYgY2FsbGVkIHdpdGggZmV3ZXIgdGhhbiB0aGlzIG51bWJlciBvZiBhcmd1bWVudHMsIHRoZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgd2lsbCByYWlzZSBhbiBleGNlcHRpb24uXG4gICAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IG1ldGFkYXRhLm1heEFyZ3NcbiAgICAgICAqICAgICAgICBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24uIElmIGNhbGxlZCB3aXRoIG1vcmUgdGhhbiB0aGlzIG51bWJlciBvZiBhcmd1bWVudHMsIHRoZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgd2lsbCByYWlzZSBhbiBleGNlcHRpb24uXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnXG4gICAgICAgKiAgICAgICAgV2hldGhlciBvciBub3QgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCBvbmx5IHRoZSBmaXJzdFxuICAgICAgICogICAgICAgIGFyZ3VtZW50IG9mIHRoZSBjYWxsYmFjaywgYWx0ZXJuYXRpdmVseSBhbiBhcnJheSBvZiBhbGwgdGhlXG4gICAgICAgKiAgICAgICAgY2FsbGJhY2sgYXJndW1lbnRzIGlzIHJlc29sdmVkLiBCeSBkZWZhdWx0LCBpZiB0aGUgY2FsbGJhY2tcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggb25seSBhIHNpbmdsZSBhcmd1bWVudCwgdGhhdCB3aWxsIGJlXG4gICAgICAgKiAgICAgICAgcmVzb2x2ZWQgdG8gdGhlIHByb21pc2UsIHdoaWxlIGFsbCBhcmd1bWVudHMgd2lsbCBiZSByZXNvbHZlZCBhc1xuICAgICAgICogICAgICAgIGFuIGFycmF5IGlmIG11bHRpcGxlIGFyZSBnaXZlbi5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24ob2JqZWN0LCAuLi4qKX1cbiAgICAgICAqICAgICAgIFRoZSBnZW5lcmF0ZWQgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBBc3luY0Z1bmN0aW9uID0gKG5hbWUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBhc3luY0Z1bmN0aW9uV3JhcHBlcih0YXJnZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgQVBJIG1ldGhvZCBoYXMgY3VycmVudGx5IG5vIGNhbGxiYWNrIG9uIENocm9tZSwgYnV0IGl0IHJldHVybiBhIHByb21pc2Ugb24gRmlyZWZveCxcbiAgICAgICAgICAgICAgLy8gYW5kIHNvIHRoZSBwb2x5ZmlsbCB3aWxsIHRyeSB0byBjYWxsIGl0IHdpdGggYSBjYWxsYmFjayBmaXJzdCwgYW5kIGl0IHdpbGwgZmFsbGJhY2tcbiAgICAgICAgICAgICAgLy8gdG8gbm90IHBhc3NpbmcgdGhlIGNhbGxiYWNrIGlmIHRoZSBmaXJzdCBjYWxsIGZhaWxzLlxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgIH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGNiRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7bmFtZX0gQVBJIG1ldGhvZCBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCB0aGUgY2FsbGJhY2sgcGFyYW1ldGVyLCBgICsgXCJmYWxsaW5nIGJhY2sgdG8gY2FsbCBpdCB3aXRob3V0IGEgY2FsbGJhY2s6IFwiLCBjYkVycm9yKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7IC8vIFVwZGF0ZSB0aGUgQVBJIG1ldGhvZCBtZXRhZGF0YSwgc28gdGhhdCB0aGUgbmV4dCBBUEkgY2FsbHMgd2lsbCBub3QgdHJ5IHRvXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSB1bnN1cHBvcnRlZCBjYWxsYmFjayBhbnltb3JlLlxuXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEuZmFsbGJhY2tUb05vQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5ub0NhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWV0YWRhdGEubm9DYWxsYmFjaykge1xuICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgIH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBleGlzdGluZyBtZXRob2Qgb2YgdGhlIHRhcmdldCBvYmplY3QsIHNvIHRoYXQgY2FsbHMgdG8gaXQgYXJlXG4gICAgICAgKiBpbnRlcmNlcHRlZCBieSB0aGUgZ2l2ZW4gd3JhcHBlciBmdW5jdGlvbi4gVGhlIHdyYXBwZXIgZnVuY3Rpb24gcmVjZWl2ZXMsXG4gICAgICAgKiBhcyBpdHMgZmlyc3QgYXJndW1lbnQsIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YCBvYmplY3QsIGZvbGxvd2VkIGJ5IGVhY2ggb2ZcbiAgICAgICAqIHRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBvcmlnaW5hbCBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAgICogICAgICAgIFRoZSBvcmlnaW5hbCB0YXJnZXQgb2JqZWN0IHRoYXQgdGhlIHdyYXBwZWQgbWV0aG9kIGJlbG9uZ3MgdG8uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZXRob2RcbiAgICAgICAqICAgICAgICBUaGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuIFRoaXMgaXMgdXNlZCBhcyB0aGUgdGFyZ2V0IG9mIHRoZSBQcm94eVxuICAgICAgICogICAgICAgIG9iamVjdCB3aGljaCBpcyBjcmVhdGVkIHRvIHdyYXAgdGhlIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHdyYXBwZXJcbiAgICAgICAqICAgICAgICBUaGUgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgYSBkaXJlY3QgaW52b2NhdGlvblxuICAgICAgICogICAgICAgIG9mIHRoZSB3cmFwcGVkIG1ldGhvZC5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8ZnVuY3Rpb24+fVxuICAgICAgICogICAgICAgIEEgUHJveHkgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gbWV0aG9kLCB3aGljaCBpbnZva2VzIHRoZSBnaXZlbiB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgbWV0aG9kIGluIGl0cyBwbGFjZS5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBNZXRob2QgPSAodGFyZ2V0LCBtZXRob2QsIHdyYXBwZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShtZXRob2QsIHtcbiAgICAgICAgICBhcHBseSh0YXJnZXRNZXRob2QsIHRoaXNPYmosIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLmNhbGwodGhpc09iaiwgdGFyZ2V0LCAuLi5hcmdzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBsZXQgaGFzT3duUHJvcGVydHkgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG4gICAgICAvKipcbiAgICAgICAqIFdyYXBzIGFuIG9iamVjdCBpbiBhIFByb3h5IHdoaWNoIGludGVyY2VwdHMgYW5kIHdyYXBzIGNlcnRhaW4gbWV0aG9kc1xuICAgICAgICogYmFzZWQgb24gdGhlIGdpdmVuIGB3cmFwcGVyc2AgYW5kIGBtZXRhZGF0YWAgb2JqZWN0cy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0XG4gICAgICAgKiAgICAgICAgVGhlIHRhcmdldCBvYmplY3QgdG8gd3JhcC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gW3dyYXBwZXJzID0ge31dXG4gICAgICAgKiAgICAgICAgQW4gb2JqZWN0IHRyZWUgY29udGFpbmluZyB3cmFwcGVyIGZ1bmN0aW9ucyBmb3Igc3BlY2lhbCBjYXNlcy4gQW55XG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gcHJlc2VudCBpbiB0aGlzIG9iamVjdCB0cmVlIGlzIGNhbGxlZCBpbiBwbGFjZSBvZiB0aGVcbiAgICAgICAqICAgICAgICBtZXRob2QgaW4gdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIGB0YXJnZXRgIG9iamVjdCB0cmVlLiBUaGVzZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgbWV0aG9kcyBhcmUgaW52b2tlZCBhcyBkZXNjcmliZWQgaW4ge0BzZWUgd3JhcE1ldGhvZH0uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IFttZXRhZGF0YSA9IHt9XVxuICAgICAgICogICAgICAgIEFuIG9iamVjdCB0cmVlIGNvbnRhaW5pbmcgbWV0YWRhdGEgdXNlZCB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlXG4gICAgICAgKiAgICAgICAgUHJvbWlzZS1iYXNlZCB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYXN5bmNocm9ub3VzLiBBbnkgZnVuY3Rpb24gaW5cbiAgICAgICAqICAgICAgICB0aGUgYHRhcmdldGAgb2JqZWN0IHRyZWUgd2hpY2ggaGFzIGEgY29ycmVzcG9uZGluZyBtZXRhZGF0YSBvYmplY3RcbiAgICAgICAqICAgICAgICBpbiB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgYG1ldGFkYXRhYCB0cmVlIGlzIHJlcGxhY2VkIHdpdGggYW5cbiAgICAgICAqICAgICAgICBhdXRvbWF0aWNhbGx5LWdlbmVyYXRlZCB3cmFwcGVyIGZ1bmN0aW9uLCBhcyBkZXNjcmliZWQgaW5cbiAgICAgICAqICAgICAgICB7QHNlZSB3cmFwQXN5bmNGdW5jdGlvbn1cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8b2JqZWN0Pn1cbiAgICAgICAqL1xuXG4gICAgICBjb25zdCB3cmFwT2JqZWN0ID0gKHRhcmdldCwgd3JhcHBlcnMgPSB7fSwgbWV0YWRhdGEgPSB7fSkgPT4ge1xuICAgICAgICBsZXQgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB7XG4gICAgICAgICAgaGFzKHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcCBpbiB0YXJnZXQgfHwgcHJvcCBpbiBjYWNoZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZ2V0KHByb3h5VGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShwcm9wIGluIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCBvbiB0aGUgdW5kZXJseWluZyBvYmplY3QuIENoZWNrIGlmIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgICAgLy8gYW55IHdyYXBwaW5nLlxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHdyYXBwZXJzW3Byb3BdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgc3BlY2lhbC1jYXNlIHdyYXBwZXIgZm9yIHRoaXMgbWV0aG9kLlxuICAgICAgICAgICAgICAgIHZhbHVlID0gd3JhcE1ldGhvZCh0YXJnZXQsIHRhcmdldFtwcm9wXSwgd3JhcHBlcnNbcHJvcF0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXN5bmMgbWV0aG9kIHRoYXQgd2UgaGF2ZSBtZXRhZGF0YSBmb3IuIENyZWF0ZSBhXG4gICAgICAgICAgICAgICAgLy8gUHJvbWlzZSB3cmFwcGVyIGZvciBpdC5cbiAgICAgICAgICAgICAgICBsZXQgd3JhcHBlciA9IHdyYXBBc3luY0Z1bmN0aW9uKHByb3AsIG1ldGFkYXRhW3Byb3BdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBNZXRob2QodGFyZ2V0LCB0YXJnZXRbcHJvcF0sIHdyYXBwZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBtZXRob2QgdGhhdCB3ZSBkb24ndCBrbm93IG9yIGNhcmUgYWJvdXQuIFJldHVybiB0aGVcbiAgICAgICAgICAgICAgICAvLyBvcmlnaW5hbCBtZXRob2QsIGJvdW5kIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmJpbmQodGFyZ2V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgKGhhc093blByb3BlcnR5KHdyYXBwZXJzLCBwcm9wKSB8fCBoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgcHJvcCkpKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gb2JqZWN0IHRoYXQgd2UgbmVlZCB0byBkbyBzb21lIHdyYXBwaW5nIGZvciB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgICAgLy8gb2YuIENyZWF0ZSBhIHN1Yi1vYmplY3Qgd3JhcHBlciBmb3IgaXQgd2l0aCB0aGUgYXBwcm9wcmlhdGUgY2hpbGRcbiAgICAgICAgICAgICAgLy8gbWV0YWRhdGEuXG4gICAgICAgICAgICAgIHZhbHVlID0gd3JhcE9iamVjdCh2YWx1ZSwgd3JhcHBlcnNbcHJvcF0sIG1ldGFkYXRhW3Byb3BdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIFwiKlwiKSkge1xuICAgICAgICAgICAgICAvLyBXcmFwIGFsbCBwcm9wZXJ0aWVzIGluICogbmFtZXNwYWNlLlxuICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBPYmplY3QodmFsdWUsIHdyYXBwZXJzW3Byb3BdLCBtZXRhZGF0YVtcIipcIl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBkbyBhbnkgd3JhcHBpbmcgZm9yIHRoaXMgcHJvcGVydHksXG4gICAgICAgICAgICAgIC8vIHNvIGp1c3QgZm9yd2FyZCBhbGwgYWNjZXNzIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBzZXQocHJveHlUYXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgY2FjaGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3AsIGRlc2MpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCBkZXNjKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVsZXRlUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGNhY2hlLCBwcm9wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfTsgLy8gUGVyIGNvbnRyYWN0IG9mIHRoZSBQcm94eSBBUEksIHRoZSBcImdldFwiIHByb3h5IGhhbmRsZXIgbXVzdCByZXR1cm4gdGhlXG4gICAgICAgIC8vIG9yaWdpbmFsIHZhbHVlIG9mIHRoZSB0YXJnZXQgaWYgdGhhdCB2YWx1ZSBpcyBkZWNsYXJlZCByZWFkLW9ubHkgYW5kXG4gICAgICAgIC8vIG5vbi1jb25maWd1cmFibGUuIEZvciB0aGlzIHJlYXNvbiwgd2UgY3JlYXRlIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAgICAvLyBwcm90b3R5cGUgc2V0IHRvIGB0YXJnZXRgIGluc3RlYWQgb2YgdXNpbmcgYHRhcmdldGAgZGlyZWN0bHkuXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBjYW5ub3QgcmV0dXJuIGEgY3VzdG9tIG9iamVjdCBmb3IgQVBJcyB0aGF0XG4gICAgICAgIC8vIGFyZSBkZWNsYXJlZCByZWFkLW9ubHkgYW5kIG5vbi1jb25maWd1cmFibGUsIHN1Y2ggYXMgYGNocm9tZS5kZXZ0b29sc2AuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBwcm94eSBoYW5kbGVycyB0aGVtc2VsdmVzIHdpbGwgc3RpbGwgdXNlIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YFxuICAgICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBgcHJveHlUYXJnZXRgLCBzbyB0aGF0IHRoZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFyZVxuICAgICAgICAvLyBkZXJlZmVyZW5jZWQgdmlhIHRoZSBvcmlnaW5hbCB0YXJnZXRzLlxuXG4gICAgICAgIGxldCBwcm94eVRhcmdldCA9IE9iamVjdC5jcmVhdGUodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShwcm94eVRhcmdldCwgaGFuZGxlcnMpO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhIHNldCBvZiB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgb2JqZWN0LCB3aGljaCBoYW5kbGVzXG4gICAgICAgKiB3cmFwcGluZyBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdGhhdCB0aG9zZSBtZXNzYWdlcyBhcmUgcGFzc2VkLlxuICAgICAgICpcbiAgICAgICAqIEEgc2luZ2xlIHdyYXBwZXIgaXMgY3JlYXRlZCBmb3IgZWFjaCBsaXN0ZW5lciBmdW5jdGlvbiwgYW5kIHN0b3JlZCBpbiBhXG4gICAgICAgKiBtYXAuIFN1YnNlcXVlbnQgY2FsbHMgdG8gYGFkZExpc3RlbmVyYCwgYGhhc0xpc3RlbmVyYCwgb3IgYHJlbW92ZUxpc3RlbmVyYFxuICAgICAgICogcmV0cmlldmUgdGhlIG9yaWdpbmFsIHdyYXBwZXIsIHNvIHRoYXQgIGF0dGVtcHRzIHRvIHJlbW92ZSBhXG4gICAgICAgKiBwcmV2aW91c2x5LWFkZGVkIGxpc3RlbmVyIHdvcmsgYXMgZXhwZWN0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtEZWZhdWx0V2Vha01hcDxmdW5jdGlvbiwgZnVuY3Rpb24+fSB3cmFwcGVyTWFwXG4gICAgICAgKiAgICAgICAgQSBEZWZhdWx0V2Vha01hcCBvYmplY3Qgd2hpY2ggd2lsbCBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHdyYXBwZXJcbiAgICAgICAqICAgICAgICBmb3IgYSBnaXZlbiBsaXN0ZW5lciBmdW5jdGlvbiB3aGVuIG9uZSBkb2VzIG5vdCBleGlzdCwgYW5kIHJldHJpZXZlXG4gICAgICAgKiAgICAgICAgYW4gZXhpc3Rpbmcgb25lIHdoZW4gaXQgZG9lcy5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAgICovXG5cblxuICAgICAgY29uc3Qgd3JhcEV2ZW50ID0gd3JhcHBlck1hcCA9PiAoe1xuICAgICAgICBhZGRMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyLCAuLi5hcmdzKSB7XG4gICAgICAgICAgdGFyZ2V0LmFkZExpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSwgLi4uYXJncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFzTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lcikge1xuICAgICAgICAgIHJldHVybiB0YXJnZXQuaGFzTGlzdGVuZXIod3JhcHBlck1hcC5nZXQobGlzdGVuZXIpKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSk7XG4gICAgICAgIH1cblxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMgPSBuZXcgRGVmYXVsdFdlYWtNYXAobGlzdGVuZXIgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBzIGFuIG9uUmVxdWVzdEZpbmlzaGVkIGxpc3RlbmVyIGZ1bmN0aW9uIHNvIHRoYXQgaXQgd2lsbCByZXR1cm4gYVxuICAgICAgICAgKiBgZ2V0Q29udGVudCgpYCBwcm9wZXJ0eSB3aGljaCByZXR1cm5zIGEgYFByb21pc2VgIHJhdGhlciB0aGFuIHVzaW5nIGFcbiAgICAgICAgICogY2FsbGJhY2sgQVBJLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAgICAgICAqICAgICAgICBUaGUgSEFSIGVudHJ5IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIG5ldHdvcmsgcmVxdWVzdC5cbiAgICAgICAgICovXG5cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gb25SZXF1ZXN0RmluaXNoZWQocmVxKSB7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlZFJlcSA9IHdyYXBPYmplY3QocmVxLCB7fVxuICAgICAgICAgIC8qIHdyYXBwZXJzICovXG4gICAgICAgICAgLCB7XG4gICAgICAgICAgICBnZXRDb250ZW50OiB7XG4gICAgICAgICAgICAgIG1pbkFyZ3M6IDAsXG4gICAgICAgICAgICAgIG1heEFyZ3M6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsaXN0ZW5lcih3cmFwcGVkUmVxKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgb25NZXNzYWdlV3JhcHBlcnMgPSBuZXcgRGVmYXVsdFdlYWtNYXAobGlzdGVuZXIgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBzIGEgbWVzc2FnZSBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IG1heSBzZW5kIHJlc3BvbnNlcyBiYXNlZCBvblxuICAgICAgICAgKiBpdHMgcmV0dXJuIHZhbHVlLCByYXRoZXIgdGhhbiBieSByZXR1cm5pbmcgYSBzZW50aW5lbCB2YWx1ZSBhbmQgY2FsbGluZyBhXG4gICAgICAgICAqIGNhbGxiYWNrLiBJZiB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UsIHRoZSByZXNwb25zZSBpc1xuICAgICAgICAgKiBzZW50IHdoZW4gdGhlIHByb21pc2UgZWl0aGVyIHJlc29sdmVzIG9yIHJlamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gbWVzc2FnZVxuICAgICAgICAgKiAgICAgICAgVGhlIG1lc3NhZ2Ugc2VudCBieSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBjaGFubmVsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gc2VuZGVyXG4gICAgICAgICAqICAgICAgICBEZXRhaWxzIGFib3V0IHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKil9IHNlbmRSZXNwb25zZVxuICAgICAgICAgKiAgICAgICAgQSBjYWxsYmFjayB3aGljaCwgd2hlbiBjYWxsZWQgd2l0aCBhbiBhcmJpdHJhcnkgYXJndW1lbnQsIHNlbmRzXG4gICAgICAgICAqICAgICAgICB0aGF0IHZhbHVlIGFzIGEgcmVzcG9uc2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKiAgICAgICAgVHJ1ZSBpZiB0aGUgd3JhcHBlZCBsaXN0ZW5lciByZXR1cm5lZCBhIFByb21pc2UsIHdoaWNoIHdpbGwgbGF0ZXJcbiAgICAgICAgICogICAgICAgIHlpZWxkIGEgcmVzcG9uc2UuIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICovXG5cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gb25NZXNzYWdlKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG4gICAgICAgICAgbGV0IGRpZENhbGxTZW5kUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgICAgICBsZXQgd3JhcHBlZFNlbmRSZXNwb25zZTtcbiAgICAgICAgICBsZXQgc2VuZFJlc3BvbnNlUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgd3JhcHBlZFNlbmRSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBkaWRDYWxsU2VuZFJlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbGlzdGVuZXIobWVzc2FnZSwgc2VuZGVyLCB3cmFwcGVkU2VuZFJlc3BvbnNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNSZXN1bHRUaGVuYWJsZSA9IHJlc3VsdCAhPT0gdHJ1ZSAmJiBpc1RoZW5hYmxlKHJlc3VsdCk7IC8vIElmIHRoZSBsaXN0ZW5lciBkaWRuJ3QgcmV0dXJuZWQgdHJ1ZSBvciBhIFByb21pc2UsIG9yIGNhbGxlZFxuICAgICAgICAgIC8vIHdyYXBwZWRTZW5kUmVzcG9uc2Ugc3luY2hyb25vdXNseSwgd2UgY2FuIGV4aXQgZWFybGllclxuICAgICAgICAgIC8vIGJlY2F1c2UgdGhlcmUgd2lsbCBiZSBubyByZXNwb25zZSBzZW50IGZyb20gdGhpcyBsaXN0ZW5lci5cblxuICAgICAgICAgIGlmIChyZXN1bHQgIT09IHRydWUgJiYgIWlzUmVzdWx0VGhlbmFibGUgJiYgIWRpZENhbGxTZW5kUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IC8vIEEgc21hbGwgaGVscGVyIHRvIHNlbmQgdGhlIG1lc3NhZ2UgaWYgdGhlIHByb21pc2UgcmVzb2x2ZXNcbiAgICAgICAgICAvLyBhbmQgYW4gZXJyb3IgaWYgdGhlIHByb21pc2UgcmVqZWN0cyAoYSB3cmFwcGVkIHNlbmRNZXNzYWdlIGhhc1xuICAgICAgICAgIC8vIHRvIHRyYW5zbGF0ZSB0aGUgbWVzc2FnZSBpbnRvIGEgcmVzb2x2ZWQgcHJvbWlzZSBvciBhIHJlamVjdGVkXG4gICAgICAgICAgLy8gcHJvbWlzZSkuXG5cblxuICAgICAgICAgIGNvbnN0IHNlbmRQcm9taXNlZFJlc3VsdCA9IHByb21pc2UgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKG1zZyA9PiB7XG4gICAgICAgICAgICAgIC8vIHNlbmQgdGhlIG1lc3NhZ2UgdmFsdWUuXG4gICAgICAgICAgICAgIHNlbmRSZXNwb25zZShtc2cpO1xuICAgICAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAvLyBTZW5kIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3IgaWYgdGhlIHJlamVjdGVkIHZhbHVlXG4gICAgICAgICAgICAgIC8vIGlzIGFuIGluc3RhbmNlIG9mIGVycm9yLCBvciB0aGUgb2JqZWN0IGl0c2VsZiBvdGhlcndpc2UuXG4gICAgICAgICAgICAgIGxldCBtZXNzYWdlO1xuXG4gICAgICAgICAgICAgIGlmIChlcnJvciAmJiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciB8fCB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCI7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIF9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgLy8gUHJpbnQgYW4gZXJyb3Igb24gdGhlIGNvbnNvbGUgaWYgdW5hYmxlIHRvIHNlbmQgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNlbmQgb25NZXNzYWdlIHJlamVjdGVkIHJlcGx5XCIsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9OyAvLyBJZiB0aGUgbGlzdGVuZXIgcmV0dXJuZWQgYSBQcm9taXNlLCBzZW5kIHRoZSByZXNvbHZlZCB2YWx1ZSBhcyBhXG4gICAgICAgICAgLy8gcmVzdWx0LCBvdGhlcndpc2Ugd2FpdCB0aGUgcHJvbWlzZSByZWxhdGVkIHRvIHRoZSB3cmFwcGVkU2VuZFJlc3BvbnNlXG4gICAgICAgICAgLy8gY2FsbGJhY2sgdG8gcmVzb2x2ZSBhbmQgc2VuZCBpdCBhcyBhIHJlc3BvbnNlLlxuXG5cbiAgICAgICAgICBpZiAoaXNSZXN1bHRUaGVuYWJsZSkge1xuICAgICAgICAgICAgc2VuZFByb21pc2VkUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChzZW5kUmVzcG9uc2VQcm9taXNlKTtcbiAgICAgICAgICB9IC8vIExldCBDaHJvbWUga25vdyB0aGF0IHRoZSBsaXN0ZW5lciBpcyByZXBseWluZy5cblxuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2sgPSAoe1xuICAgICAgICByZWplY3QsXG4gICAgICAgIHJlc29sdmVcbiAgICAgIH0sIHJlcGx5KSA9PiB7XG4gICAgICAgIGlmIChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgICAgLy8gRGV0ZWN0IHdoZW4gbm9uZSBvZiB0aGUgbGlzdGVuZXJzIHJlcGxpZWQgdG8gdGhlIHNlbmRNZXNzYWdlIGNhbGwgYW5kIHJlc29sdmVcbiAgICAgICAgICAvLyB0aGUgcHJvbWlzZSB0byB1bmRlZmluZWQgYXMgaW4gRmlyZWZveC5cbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvd2ViZXh0ZW5zaW9uLXBvbHlmaWxsL2lzc3Vlcy8xMzBcbiAgICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvci5tZXNzYWdlID09PSBDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UpIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVwbHkgJiYgcmVwbHkuX19tb3pXZWJFeHRlbnNpb25Qb2x5ZmlsbFJlamVjdF9fKSB7XG4gICAgICAgICAgLy8gQ29udmVydCBiYWNrIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvciBpbnRvXG4gICAgICAgICAgLy8gYW4gRXJyb3IgaW5zdGFuY2UuXG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihyZXBseS5tZXNzYWdlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXBseSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZSA9IChuYW1lLCBtZXRhZGF0YSwgYXBpTmFtZXNwYWNlT2JqLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IG1ldGFkYXRhLm1pbkFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gbWV0YWRhdGEubWF4QXJncykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlZENiID0gd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2suYmluZChudWxsLCB7XG4gICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXJncy5wdXNoKHdyYXBwZWRDYik7XG4gICAgICAgICAgYXBpTmFtZXNwYWNlT2JqLnNlbmRNZXNzYWdlKC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN0YXRpY1dyYXBwZXJzID0ge1xuICAgICAgICBkZXZ0b29sczoge1xuICAgICAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgICAgIG9uUmVxdWVzdEZpbmlzaGVkOiB3cmFwRXZlbnQob25SZXF1ZXN0RmluaXNoZWRXcmFwcGVycylcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bnRpbWU6IHtcbiAgICAgICAgICBvbk1lc3NhZ2U6IHdyYXBFdmVudChvbk1lc3NhZ2VXcmFwcGVycyksXG4gICAgICAgICAgb25NZXNzYWdlRXh0ZXJuYWw6IHdyYXBFdmVudChvbk1lc3NhZ2VXcmFwcGVycyksXG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IHdyYXBwZWRTZW5kTWVzc2FnZS5iaW5kKG51bGwsIFwic2VuZE1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICAgIG1heEFyZ3M6IDNcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICB0YWJzOiB7XG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IHdyYXBwZWRTZW5kTWVzc2FnZS5iaW5kKG51bGwsIFwic2VuZE1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgbWluQXJnczogMixcbiAgICAgICAgICAgIG1heEFyZ3M6IDNcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3Qgc2V0dGluZ01ldGFkYXRhID0ge1xuICAgICAgICBjbGVhcjoge1xuICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgbWF4QXJnczogMVxuICAgICAgICB9LFxuICAgICAgICBnZXQ6IHtcbiAgICAgICAgICBtaW5BcmdzOiAxLFxuICAgICAgICAgIG1heEFyZ3M6IDFcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICBtYXhBcmdzOiAxXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBhcGlNZXRhZGF0YS5wcml2YWN5ID0ge1xuICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgXCIqXCI6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9LFxuICAgICAgICBzZXJ2aWNlczoge1xuICAgICAgICAgIFwiKlwiOiBzZXR0aW5nTWV0YWRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgd2Vic2l0ZXM6IHtcbiAgICAgICAgICBcIipcIjogc2V0dGluZ01ldGFkYXRhXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gd3JhcE9iamVjdChleHRlbnNpb25BUElzLCBzdGF0aWNXcmFwcGVycywgYXBpTWV0YWRhdGEpO1xuICAgIH07IC8vIFRoZSBidWlsZCBwcm9jZXNzIGFkZHMgYSBVTUQgd3JhcHBlciBhcm91bmQgdGhpcyBmaWxlLCB3aGljaCBtYWtlcyB0aGVcbiAgICAvLyBgbW9kdWxlYCB2YXJpYWJsZSBhdmFpbGFibGUuXG5cblxuICAgIG1vZHVsZS5leHBvcnRzID0gd3JhcEFQSXMoY2hyb21lKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbFRoaXMuYnJvd3NlcjtcbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLXBvbHlmaWxsLmpzLm1hcFxuIiwiZXhwb3J0IHR5cGUgU2l0ZUNvbmZpZ01ldGhvZCA9IFwiRXhhY3RcIiB8IFwiUHJlZml4XCIgfCBcIlJlZ2V4XCI7XG5leHBvcnQgdHlwZSBTaXRlQ29uZmlnVGFyZ2V0ID0gXCJEb21haW5cIiB8IFwiSG9zdFwiIHwgXCJQYWdlXCI7XG5leHBvcnQgdHlwZSBTaXRlQ29uZmlnTm9kZVR5cGUgPSBcIk1pZ3JhdGlvblwiIHwgXCJVc2VyXCIgfCBcIkRlZmF1bHRcIiB8IFwiQXV0b1wiO1xuXG5leHBvcnQgY2xhc3MgRm9ybU1hdGNoQ29uZmlnIHtcbiAgICBmb3JtPzoge1xuICAgICAgICBuYW1lcz86IHN0cmluZ1tdO1xuICAgICAgICBpZHM/OiBzdHJpbmdbXTtcbiAgICB9O1xuICAgIGZpZWxkcz86IHtcbiAgICAgICAgbmFtZXM/OiBzdHJpbmdbXTtcbiAgICAgICAgaWRzPzogc3RyaW5nW107XG4gICAgfTtcbiAgICBxdWVyeVNlbGVjdG9ycz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgU2l0ZUNvbmZpZyB7XG4gICAgd2hpdGVMaXN0PzogRm9ybU1hdGNoQ29uZmlnO1xuICAgIGJsYWNrTGlzdD86IEZvcm1NYXRjaENvbmZpZztcbiAgICBwcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbj86IGJvb2xlYW47XG4gICAgbGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZT86IGJvb2xlYW47XG4gICAgcHJlZmVycmVkRW50cnlVdWlkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgU2l0ZUNvbmZpZ05vZGUge1xuICAgIGNvbmZpZzogU2l0ZUNvbmZpZztcbiAgICBtYXRjaFdlaWdodDogbnVtYmVyOyAvLyBoZWxwIHRvIGRlY2lkZSB3aGljaCBjb25maWcgdG8gdXNlIHdoZW4gbW9yZSB0aGFuIG9uZSBtYXRjaGVzIGN1cnJlbnQgVVJMXG4gICAgc291cmNlOiBTaXRlQ29uZmlnTm9kZVR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBTaXRlQ29uZmlnTG9va3VwIHtcbiAgICBba2V5OiBzdHJpbmddOiBTaXRlQ29uZmlnTm9kZTtcbn1cblxuZXhwb3J0IGNsYXNzIFNpdGVDb25maWdJbmRleCB7XG4gICAgZG9tYWluUmVnZXg/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIGRvbWFpbkV4YWN0PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBkb21haW5QcmVmaXg/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIGhvc3RSZWdleD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgaG9zdEV4YWN0PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBob3N0UHJlZml4PzogU2l0ZUNvbmZpZ0xvb2t1cDtcbiAgICBwYWdlUmVnZXg/OiBTaXRlQ29uZmlnTG9va3VwO1xuICAgIHBhZ2VFeGFjdD86IFNpdGVDb25maWdMb29rdXA7XG4gICAgcGFnZVByZWZpeDogU2l0ZUNvbmZpZ0xvb2t1cDtcbn1cblxuZXhwb3J0IGNsYXNzIENvbmZpZyB7XG4gICAgYXV0b0ZpbGxEaWFsb2dzOiBib29sZWFuO1xuICAgIGF1dG9GaWxsRm9ybXM6IGJvb2xlYW47XG4gICAgYXV0b0ZpbGxGb3Jtc1dpdGhNdWx0aXBsZU1hdGNoZXM6IGJvb2xlYW47XG4gICAgYXV0b1N1Ym1pdEZvcm1zOiBib29sZWFuO1xuICAgIGF1dG9TdWJtaXREaWFsb2dzOiBib29sZWFuO1xuICAgIGF1dG9TdWJtaXRNYXRjaGVkRm9ybXM6IGJvb2xlYW47XG4gICAgY29ublNMQ2xpZW50OiBudW1iZXI7XG4gICAgY29ublNMU2VydmVyTWluOiBudW1iZXI7XG4gICAga2VlUGFzc0RCVG9PcGVuOiBzdHJpbmc7XG4gICAga2VlUGFzc01SVURCOiBzdHJpbmc7XG4gICAgS2VlUGFzc1JQQ1dlYlNvY2tldFBvcnQ6IG51bWJlcjtcbiAgICBLUFJQQ1VzZXJuYW1lOiBzdHJpbmc7XG4gICAgS1BSUENTdG9yZWRLZXlzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAgIGxhc3RDb25uZWN0ZWRUb0tlZVBhc3M6IHN0cmluZztcbiAgICBsaXN0QWxsT3BlbkRCczogYm9vbGVhbjtcbiAgICBsb2dMZXZlbDogbnVtYmVyO1xuICAgIGxvZ01ldGhvZENvbnNvbGU6IGJvb2xlYW47XG4gICAgbG9nTWV0aG9kRmlsZTogYm9vbGVhbjtcbiAgICBsb2dTZW5zaXRpdmVEYXRhOiBib29sZWFuO1xuICAgIG1ldHJpY3NVc2FnZURpc2FibGVkOiBib29sZWFuO1xuICAgIG1ldHJpY3NVc2VySWQ6IHN0cmluZztcbiAgICBtcnVHcm91cDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICBub3RpZnlXaGVuRW50cnlVcGRhdGVkOiBib29sZWFuO1xuICAgIG5vdGlmeVdoZW5MYXRlRGlzY292ZXJ5OiBib29sZWFuO1xuICAgIG5vdGlmeVdoZW5Mb2dnZWRPdXQ6IGJvb2xlYW47XG4gICAgb3ZlcldyaXRlRmllbGRzQXV0b21hdGljYWxseTogYm9vbGVhbjsgLy8gZGVwcmVjYXRlZFxuICAgIHJlbWVtYmVyTVJVREI6IGJvb2xlYW47XG4gICAgcmVtZW1iZXJNUlVHcm91cDogYm9vbGVhbjtcbiAgICBzYXZlRmF2aWNvbnM6IGJvb2xlYW47XG4gICAgc2VhcmNoQWxsT3BlbkRCczogYm9vbGVhbjtcbiAgICBzaXRlQ29uZmlnOiBTaXRlQ29uZmlnSW5kZXg7XG4gICAgY29uZmlnOiB7IHVybDogc3RyaW5nOyBjb25maWc6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IH1bXTtcbiAgICB0dXRvcmlhbFByb2dyZXNzOiBzdHJpbmc7XG4gICAgdmVyc2lvbjogbnVtYmVyOyAvLyBkZWZhdWx0IGlzIGluY3JlbWVudGVkIHdoZW4gY2hhbmdlcyBhcmUgaW50cm9kdWNlZCB0aGF0IHJlcXVpcmUgZGF0YSBtaWdyYXRpb25cbiAgICB0cmlnZ2VyQ2hhbmdlSW5wdXRFdmVudEFmdGVyRmlsbDogYm9vbGVhbjtcbiAgICBhdXRvU3VibWl0TmV0d29ya0F1dGhXaXRoU2luZ2xlTWF0Y2g6IGJvb2xlYW47XG4gICAgc2VhcmNoTmV0d29ya0F1dGg6IGJvb2xlYW47XG4gICAgcG9ydENvbm5lY3Rpb25EZWxheTogbnVtYmVyOyAvLyBkZXByZWNhdGVkXG4gICAgbm90aWZpY2F0aW9uQ291bnRHZW5lcmljOiBudW1iZXI7XG4gICAgbm90aWZpY2F0aW9uQ291bnRTYXZlUGFzc3dvcmQ6IG51bWJlcjtcbiAgICBjdXJyZW50U2VhcmNoVGVybVRpbWVvdXQ6IG51bWJlcjtcbiAgICBub3RpZnlQYXNzd29yZEF2YWlsYWJsZUZvclBhc3RlOiBib29sZWFuO1xuICAgIGFuaW1hdGVXaGVuT2ZmZXJpbmdTYXZlOiBib29sZWFuO1xuICAgIGtlZVZhdWx0TGF1bmNoTWVzc2FnZURpc21pc3NlZDogYm9vbGVhbjtcbiAgICBrZWVWYXVsdExhdW5jaFN0YXJ0OiBudW1iZXI7XG4gICAga2VlVmF1bHRMYXVuY2hFbmQ6IG51bWJlcjtcbiAgICBtYW51YWxTdWJtaXRPdmVycmlkZVByb2hpYml0ZWQ6IGJvb2xlYW47XG4gICAgdGhlbWU6IHN0cmluZztcbiAgICBoaWRlQ29uZmlybWF0aW9uQWZ0ZXJTYXZlOiBib29sZWFuO1xuICAgIG11c3RTaG93UmVsZWFzZU5vdGVzQXRTdGFydHVwOiBib29sZWFuO1xuICAgIGF1dG9GaWxsRmllbGRzV2l0aEV4aXN0aW5nVmFsdWU6IGJvb2xlYW47XG59XG4iLCJpbXBvcnQgeyBTaXRlQ29uZmlnSW5kZXgsIFNpdGVDb25maWdMb29rdXAgfSBmcm9tIFwiLi9jb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTaXRlQ29uZmlnID0gbmV3IFNpdGVDb25maWdJbmRleCgpO1xuZGVmYXVsdFNpdGVDb25maWcucGFnZVJlZ2V4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcblxuZGVmYXVsdFNpdGVDb25maWcucGFnZVJlZ2V4W1wiXi4qJFwiXSA9IHtcbiAgICBjb25maWc6IHtcbiAgICAgICAgLyogVE9ETzo0OiA/IEluIGZ1dHVyZSB3ZSBjYW4gZ2l2ZSBmaW5lciBjb250cm9sIG9mIGZvcm0gcmVzY2FubmluZyBiZWhhdmlvdXIgZnJvbSBoZXJlXG4gICAgICAgICAgICByZXNjYW5ET01ldmVudHM6XG4gICAgICAgICAgICBbe1xuXG4gICAgICAgICAgICAgICAgLy8gL2h0bWwvYm9keS9kaXZbM10vZGl2L2gxL3NtYWxsXG5cbiAgICAgICAgICAgICAgICB0eXBlOiBcImNsaWNrXCIgfCBcIm11dGF0aW9uXCIgfCBcImhvdmVyXCIgfCBldGMsXG4gICAgICAgICAgICAgICAgeHBhdGg6IFwiL2h0bWwvYm9keS9kaXZbM10vZGl2L2gxL3NtYWxsXCIsIC8vIHdlIHNob3VsZCBkbyBhIHNhbml0eSBjaGVjayBvbiByZXR1cm5lZCBpdGVtcyBhbmQgbGltaXQgdG8gbWF4IG9mIH5hIGh1bmRyZWQgRE9NIG5vZGVzXG4gICAgICAgICAgICAgICAgaWQ6IFwic29tZUlEXCIsXG4gICAgICAgICAgICAgICAgLy9zb21ldGhpbmcgZWxzZSB0byBsaW1pdCBtdXRhdGlvbiBldmVudHMgdG8gY3JlYXRlIG9uZSAoZS5nLiBjcmVhdGlvbiBvZiBuZXcgY2hpbGQgaXRlbSBtYXRjaGluZyBjZXJ0YWluIHhwYXRoPyBldGMuKVxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAqL1xuXG4gICAgICAgIHByZXZlbnRTYXZlTm90aWZpY2F0aW9uOiBmYWxzZSxcbiAgICAgICAgbGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZTogZmFsc2UsXG5cbiAgICAgICAgLypcbiAgICAgICAgICAgICAgICBGb3JtcyB3aWxsIGJlIHNjYW5uZWQgaWZmIHRoZXkgaGF2ZSBhIHBhc3N3b3JkICh0eXBlKSBmaWVsZFxuICAgICAgICAgICAgICAgIFVOTEVTUyBvbmUgb2YgdGhlIGludGVyZXN0aW5nRm9ybXMgYXJyYXlzIG1hdGNoZXMgdGhlIGZvcm0gaW4gcXVlc3Rpb24uXG4gICAgICAgICAgICAgICAgQWxsICh3KWhpdGVsaXN0cyB3aWxsIGZvcmNlIHRoZSBmb3JtIHRvIGJlIHNjYW5uZWQgZm9yIG1hdGNoaW5nIHBhc3N3b3Jkcy5cbiAgICAgICAgICAgICAgICAoYilsYWNrbGlzdHMgd2lsbCBwcmV2ZW50IHRoZSBmb3JtIGJlaW5nIHNjYW5uZWQuXG4gICAgICAgICAgICAgICAgKGIpbGFja2xpc3RzIGhhdmUgcHJpb3JpdHkgb3ZlciB3aGl0ZWxpc3RzIG9mIHRoZSBzYW1lIHR5cGUgYnV0IHRoZSBwcmlvcml0aWVzXG4gICAgICAgICAgICAgICAgb2YgZGlmZmVyZW50IHR5cGVzIG9mIGNoZWNrIGFyZSB1bmRlZmluZWQgaGVyZSAtIHlvdSdsbCBoYXZlIHRvIGxvb2sgYXQgdGhlXG4gICAgICAgICAgICAgICAgYmVoYXZpb3VyIG9mIHRoZSBmb3JtIG1hdGNoaW5nIGNvZGUgd2hpY2ggaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgYmxhY2tMaXN0OiB7XG4gICAgICAgICAgICBmb3JtOiB7IG5hbWVzOiBbXCJzZWFyY2hcIl0sIGlkczogW1wic2VhcmNoXCJdIH0sXG4gICAgICAgICAgICBmaWVsZHM6IHsgbmFtZXM6IFtcInNlYXJjaFwiLCBcInFcIiwgXCJxdWVyeVwiXSwgaWRzOiBbXCJzZWFyY2hcIiwgXCJxXCJdIH1cbiAgICAgICAgfSxcbiAgICAgICAgd2hpdGVMaXN0OiB7XG4gICAgICAgICAgICBmb3JtOiB7IG5hbWVzOiBbXCJsb2dpblwiXSwgaWRzOiBbXCJsb2dpblwiXSB9LFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgbmFtZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImpfdXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyX25hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlci1uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2Yl9sb2dpbl91c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyIG5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyIGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlci1pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJpZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImVtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZS1tYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtX2xvZ2lubmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIndwbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbmlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW4gaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbl9uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib3BlbmlkX2lkZW50aWZpZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoZW50aWNhdGlvbl9lbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcIm9wZW5pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhfZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoX2lkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aGVudGljYXRpb25faWRlbnRpZmllclwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhlbnRpY2F0aW9uX2lkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VzdG9tZXJfbnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VzdG9tZXJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvbmxpbmVpZFwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBpZHM6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImpfdXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyX25hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlci1uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibG9naW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2Yl9sb2dpbl91c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyLWlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcmlkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJlLW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm1fbG9naW5uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwid3BuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luaWRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbl9uYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgIFwib3BlbmlkX2lkZW50aWZpZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoZW50aWNhdGlvbl9lbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBcIm9wZW5pZFwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhfZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgXCJhdXRoX2lkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYXV0aGVudGljYXRpb25faWRlbnRpZmllclwiLFxuICAgICAgICAgICAgICAgICAgICBcImF1dGhlbnRpY2F0aW9uX2lkXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VzdG9tZXJfbnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VzdG9tZXJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJvbmxpbmVpZFwiXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwcmVmZXJyZWRFbnRyeVV1aWQ6IG51bGxcbiAgICB9LFxuICAgIG1hdGNoV2VpZ2h0OiAwLFxuICAgIHNvdXJjZTogXCJEZWZhdWx0XCJcbn07XG4iLCJpbXBvcnQgeyBTaXRlQ29uZmlnLCBDb25maWcsIFNpdGVDb25maWdMb29rdXAsIFNpdGVDb25maWdJbmRleCB9IGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IHsgZGVmYXVsdFNpdGVDb25maWcgfSBmcm9tIFwiLi9EZWZhdWx0U2l0ZUNvbmZpZ1wiO1xuXG5leHBvcnQgY2xhc3MgQ29uZmlnTWlncmF0aW9ucyB7XG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb244KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICAvLyBUaGlzIGlzbid0IHJlbGlhYmxlIGR1ZSB0byBzeW5jIHNvIHdlJ3ZlIGRlcHJlY2F0ZWQgdGhlIHNldHRpbmdcbiAgICAgICAgLy8gYW5kIGNyZWF0ZWQgYSBuZXcgb25lIHRoYXQgcmVxdWlyZXMgbm8gbWlncmF0aW9uXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudCwge1xuICAgICAgICAgICAgb3ZlcldyaXRlRmllbGRzQXV0b21hdGljYWxseTogZmFsc2UsXG4gICAgICAgICAgICB2ZXJzaW9uOiA4XG4gICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWlncmF0ZVRvVmVyc2lvbjcoY3VycmVudDogQ29uZmlnKSB7XG4gICAgICAgIGlmIChjdXJyZW50Lm5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkID4gNikge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7XG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uQ291bnRTYXZlUGFzc3dvcmQ6IDYsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogN1xuICAgICAgICAgICAgfSBhcyBQYXJ0aWFsPENvbmZpZz4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjdXJyZW50LCB7IHZlcnNpb246IDcgfSBhcyBQYXJ0aWFsPENvbmZpZz4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb242KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIGFuaW1hdGVXaGVuT2ZmZXJpbmdTYXZlOiB0cnVlLFxuICAgICAgICAgICAgdmVyc2lvbjogNlxuICAgICAgICB9IGFzIFBhcnRpYWw8Q29uZmlnPik7XG4gICAgfVxuXG4gICAgcHVibGljIG1pZ3JhdGVUb1ZlcnNpb241KGN1cnJlbnQ6IENvbmZpZykge1xuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIG5vdGlmeVBhc3N3b3JkQXZhaWxhYmxlRm9yUGFzdGU6IHRydWUsXG4gICAgICAgICAgICB2ZXJzaW9uOiA1XG4gICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWlncmF0ZVRvVmVyc2lvbjQoY3VycmVudDogQ29uZmlnKSB7XG4gICAgICAgIGxldCBuZXdMb2dMZXZlbCA9IDI7XG4gICAgICAgIGlmIChjdXJyZW50LmxvZ0xldmVsID09PSAxKSB7XG4gICAgICAgICAgICBuZXdMb2dMZXZlbCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHsgbG9nTGV2ZWw6IG5ld0xvZ0xldmVsLCB2ZXJzaW9uOiA0IH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWlncmF0ZVRvVmVyc2lvbjMoY3VycmVudDogQ29uZmlnKSB7XG4gICAgICAgIGlmIChjdXJyZW50Lm5vdGlmaWNhdGlvbkNvdW50R2VuZXJpYyA9PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50Lm5vdGlmaWNhdGlvbkNvdW50R2VuZXJpYyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnQubm90aWZpY2F0aW9uQ291bnRTYXZlUGFzc3dvcmQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudC5ub3RpZmljYXRpb25Db3VudFNhdmVQYXNzd29yZCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnQsIHtcbiAgICAgICAgICAgIGN1cnJlbnRTZWFyY2hUZXJtVGltZW91dDogMzAsXG4gICAgICAgICAgICB2ZXJzaW9uOiAzXG4gICAgICAgIH0gYXMgUGFydGlhbDxDb25maWc+KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWlncmF0ZVRvVmVyc2lvbjIoY3VycmVudDogQ29uZmlnKSB7XG4gICAgICAgIGxldCBuZXdTaXRlQ29uZmlnID0gbmV3IFNpdGVDb25maWdJbmRleCgpO1xuXG4gICAgICAgIGlmICghY3VycmVudC5jb25maWcgfHwgY3VycmVudC5jb25maWcubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIG5ld1NpdGVDb25maWcgPSBkZWZhdWx0U2l0ZUNvbmZpZztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuZXdTaXRlQ29uZmlnLnBhZ2VSZWdleCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgIG5ld1NpdGVDb25maWcuaG9zdEV4YWN0ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgbmV3U2l0ZUNvbmZpZy5wYWdlUHJlZml4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcblxuICAgICAgICBuZXdTaXRlQ29uZmlnLnBhZ2VSZWdleFtcIl4uKiRcIl0gPSB7XG4gICAgICAgICAgICBtYXRjaFdlaWdodDogMCxcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5taWdyYXRlSW5kaXZpZHVhbFNpdGVDb25maWdTZXR0aW5nc1RvVjIoY3VycmVudC5jb25maWdbMF0uY29uZmlnKSxcbiAgICAgICAgICAgIHNvdXJjZTogXCJNaWdyYXRpb25cIlxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgICAgICBpIDwgY3VycmVudC5jb25maWcubGVuZ3RoO1xuICAgICAgICAgICAgaSsrIC8vIHNraXAgZmlyc3Qgd2hpY2ggaXMgYWx3YXlzIFwiKlwiXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gY3VycmVudC5jb25maWdbaV0udXJsO1xuICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKFwiOi8vXCIpID09IC0xKSBjb250aW51ZTsgLy8gaW52YWxpZCBkYXRhIGZyb20gb2xkIGNvbmZpZ1xuICAgICAgICAgICAgY29uc3Qgd2l0aG91dFByb3RvY29sID0gdXJsLnN1YnN0cih1cmwuaW5kZXhPZihcIjovL1wiKSArIDMpO1xuICAgICAgICAgICAgaWYgKHdpdGhvdXRQcm90b2NvbC5sZW5ndGggPD0gMSkgY29udGludWU7IC8vIGludmFsaWQgZGF0YSBmcm9tIG9sZCBjb25maWdcblxuICAgICAgICAgICAgY29uc3QgbmV3Q29uZmlnID0gdGhpcy5taWdyYXRlSW5kaXZpZHVhbFNpdGVDb25maWdTZXR0aW5nc1RvVjIoXG4gICAgICAgICAgICAgICAgY3VycmVudC5jb25maWdbaV0uY29uZmlnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoSW5kZXggPSB3aXRob3V0UHJvdG9jb2wuaW5kZXhPZihcIi9cIik7XG5cbiAgICAgICAgICAgIGlmIChwYXRoSW5kZXggPiAtMSB8fCBwYXRoSW5kZXggPT0gd2l0aG91dFByb3RvY29sLmxhc3RJbmRleE9mKFwiL1wiKSkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92aW5nIHRyYWlsaW5nIHNsYXNoIGlmIHdlIGhhdmUgb25seSBhIGhvc3QgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IGhvc3QgPVxuICAgICAgICAgICAgICAgICAgICBwYXRoSW5kZXggPiAtMSA/IHdpdGhvdXRQcm90b2NvbC5zdWJzdHIoMCwgcGF0aEluZGV4KSA6IHdpdGhvdXRQcm90b2NvbDtcblxuICAgICAgICAgICAgICAgIC8vIFVzZXIgbWF5IGhhdmUgY29uZmlndXJlZCBhIHByZWZpeCBtYXRjaCBpbiBLZWVGb3ggMS54IGJ1dCBpdCdzIG5vdCBhbiBlc3BlY2lhbGx5IHVzZWZ1bFxuICAgICAgICAgICAgICAgIC8vIGJlaGF2aW91ciBhbmQgaGFzIHBvdGVudGlhbCB0byBiZSB1bnNhZmUgaW4gZnV0dXJlIHNvIHdlIGNvbnZlcnQgYWxsIHRvIGV4YWN0IG1hdGNoZXMgbm93XG4gICAgICAgICAgICAgICAgbmV3U2l0ZUNvbmZpZy5ob3N0RXhhY3RbaG9zdF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzogbmV3Q29uZmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaFdlaWdodDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFwiTWlncmF0aW9uXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBrZWVwIGluY3JlYXNpbmcgd2VpZ2h0IHVudGlsIHdlIGZpbmQgbm8gb3RoZXIgc2hvcnRlciBleGlzdGluZyBlbnRyaWVzLiBUaGlzIGFzc3VtZXMgb3JkZXJpbmcgYnkgbGVuZ3RoXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhlIG9yaWdpbmFsIGRhdGEgc28gdGhhdCBpdCBjYW4gYmUgdHJhbnNmZXJyZWQgdG8gdGhlIG5ldyBjb25maWcgaW4gc2FtZSBvcmRlclxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIGlzbid0IGNvbXBsZXRlbHkgc2FmZSBidXQgb25seSBiZWNhdXNlIG9mIGJ1Z3MgaW4gS2VlRm94IDEueCB3aGljaCBtYXkgaGF2ZSBhZmZlY3RlZCBkYXRhIGludGVncml0eVxuICAgICAgICAgICAgICAgIC8vIGluIG9uZSBvciB0d28gcmFyZSBjYXNlcyBhbmQgd2hpY2ggd2UgY2FuIG5vIGxvbmdlciBmaXggcmVsaWFibHkgYW55d2F5LlxuICAgICAgICAgICAgICAgIGxldCB3ZWlnaHQgPSAyMDA7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWdlUHJlZml4IGluIG5ld1NpdGVDb25maWcucGFnZVByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2l0aG91dFByb3RvY29sLnN0YXJ0c1dpdGgocGFnZVByZWZpeCkpIHdlaWdodCsrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5ld1NpdGVDb25maWcucGFnZVByZWZpeFt3aXRob3V0UHJvdG9jb2xdID0ge1xuICAgICAgICAgICAgICAgICAgICBjb25maWc6IG5ld0NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hXZWlnaHQ6IHdlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBcIk1pZ3JhdGlvblwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudCwge1xuICAgICAgICAgICAgc2l0ZUNvbmZpZzogbmV3U2l0ZUNvbmZpZyxcbiAgICAgICAgICAgIGNvbmZpZzogbnVsbCxcbiAgICAgICAgICAgIHZlcnNpb246IDJcbiAgICAgICAgfSBhcyBQYXJ0aWFsPENvbmZpZz4pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWlncmF0ZUluZGl2aWR1YWxTaXRlQ29uZmlnU2V0dGluZ3NUb1YyKG9sZENvbmZpZzogYW55KTogU2l0ZUNvbmZpZyB7XG4gICAgICAgIGNvbnN0IHNjID0gbmV3IFNpdGVDb25maWcoKTtcbiAgICAgICAgaWYgKG9sZENvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICBzYy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbiA9IG9sZENvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMpIHtcbiAgICAgICAgICAgIGlmIChvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5uYW1lX3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLndoaXRlTGlzdCkgc2Mud2hpdGVMaXN0ID0geyBmb3JtOiB7IG5hbWVzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5mb3JtKSBzYy53aGl0ZUxpc3QuZm9ybSA9IHsgbmFtZXM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5mb3JtLm5hbWVzKSBzYy53aGl0ZUxpc3QuZm9ybS5uYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLndoaXRlTGlzdC5mb3JtLm5hbWVzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMubmFtZV93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmlkX3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLndoaXRlTGlzdCkgc2Mud2hpdGVMaXN0ID0geyBmb3JtOiB7IGlkczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZm9ybSkgc2Mud2hpdGVMaXN0LmZvcm0gPSB7IGlkczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2Mud2hpdGVMaXN0LmZvcm0uaWRzKSBzYy53aGl0ZUxpc3QuZm9ybS5pZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy53aGl0ZUxpc3QuZm9ybS5pZHMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5pZF93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLm5hbWVfYikge1xuICAgICAgICAgICAgICAgIGlmICghc2MuYmxhY2tMaXN0KSBzYy5ibGFja0xpc3QgPSB7IGZvcm06IHsgbmFtZXM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZvcm0pIHNjLmJsYWNrTGlzdC5mb3JtID0geyBuYW1lczogW10gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZvcm0ubmFtZXMpIHNjLmJsYWNrTGlzdC5mb3JtLm5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgc2MuYmxhY2tMaXN0LmZvcm0ubmFtZXMgPSBvbGRDb25maWcuaW50ZXJlc3RpbmdGb3Jtcy5uYW1lX2I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuaWRfYikge1xuICAgICAgICAgICAgICAgIGlmICghc2MuYmxhY2tMaXN0KSBzYy5ibGFja0xpc3QgPSB7IGZvcm06IHsgaWRzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5mb3JtKSBzYy5ibGFja0xpc3QuZm9ybSA9IHsgaWRzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZm9ybS5pZHMpIHNjLmJsYWNrTGlzdC5mb3JtLmlkcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLmJsYWNrTGlzdC5mb3JtLmlkcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmlkX2I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuZl9uYW1lX3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjLndoaXRlTGlzdCkgc2Mud2hpdGVMaXN0ID0geyBmaWVsZHM6IHsgbmFtZXM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2Mud2hpdGVMaXN0LmZpZWxkcykgc2Mud2hpdGVMaXN0LmZpZWxkcyA9IHsgbmFtZXM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5maWVsZHMubmFtZXMpIHNjLndoaXRlTGlzdC5maWVsZHMubmFtZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuZl9uYW1lX3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuZl9pZF93KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy53aGl0ZUxpc3QpIHNjLndoaXRlTGlzdCA9IHsgZmllbGRzOiB7IGlkczogW10gfSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy53aGl0ZUxpc3QuZmllbGRzKSBzYy53aGl0ZUxpc3QuZmllbGRzID0geyBpZHM6IFtdIH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLndoaXRlTGlzdC5maWVsZHMuaWRzKSBzYy53aGl0ZUxpc3QuZmllbGRzLmlkcyA9IFtdO1xuICAgICAgICAgICAgICAgIHNjLndoaXRlTGlzdC5maWVsZHMuaWRzID0gb2xkQ29uZmlnLmludGVyZXN0aW5nRm9ybXMuZl9pZF93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfbmFtZV9iKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzYy5ibGFja0xpc3QpIHNjLmJsYWNrTGlzdCA9IHsgZmllbGRzOiB7IG5hbWVzOiBbXSB9IH07XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXNjLmJsYWNrTGlzdC5maWVsZHMpIHNjLmJsYWNrTGlzdC5maWVsZHMgPSB7IG5hbWVzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZmllbGRzLm5hbWVzKSBzYy5ibGFja0xpc3QuZmllbGRzLm5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgc2MuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfbmFtZV9iO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfaWRfYikge1xuICAgICAgICAgICAgICAgIGlmICghc2MuYmxhY2tMaXN0KSBzYy5ibGFja0xpc3QgPSB7IGZpZWxkczogeyBpZHM6IFtdIH0gfTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2MuYmxhY2tMaXN0LmZpZWxkcykgc2MuYmxhY2tMaXN0LmZpZWxkcyA9IHsgaWRzOiBbXSB9O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzYy5ibGFja0xpc3QuZmllbGRzLmlkcykgc2MuYmxhY2tMaXN0LmZpZWxkcy5pZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBzYy5ibGFja0xpc3QuZmllbGRzLmlkcyA9IG9sZENvbmZpZy5pbnRlcmVzdGluZ0Zvcm1zLmZfaWRfYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2M7XG4gICAgfVxufVxuIiwiZGVjbGFyZSBjb25zdCBwdWJsaWNTdWZmaXhMaXN0O1xuZGVjbGFyZSBjb25zdCBwdW55Y29kZTtcbmRlY2xhcmUgY29uc3QgcHNsRGF0YTtcblxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcbiAgICBwcml2YXRlIHBzbEluaXRpYWxpc2VkID0gZmFsc2U7XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8gR2VuZXJhbCB1dGlsaXR5IGZ1bmN0aW9uc1xuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgdmVyc2lvbkFzSW50KHZlcnNpb25BcnJheSkge1xuICAgICAgICBsZXQgdmFsdWUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnNpb25BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIDI1NiArIHZlcnNpb25BcnJheVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICB2ZXJzaW9uQXNBcnJheSh2ZXJzaW9uSW50KSB7XG4gICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IFswLCAwLCAwXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gYnl0ZUFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBieXRlID0gdmVyc2lvbkludCAmIDB4ZmY7XG4gICAgICAgICAgICBieXRlQXJyYXlbaV0gPSBieXRlO1xuICAgICAgICAgICAgdmVyc2lvbkludCA9ICh2ZXJzaW9uSW50IC0gYnl0ZSkgLyAyNTY7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xuICAgIH1cblxuICAgIHZlcnNpb25Bc1N0cmluZyh2ZXJzaW9uSW50KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IFwiXCI7XG4gICAgICAgIGNvbnN0IHZlcnNpb25BcnJheSA9IHRoaXMudmVyc2lvbkFzQXJyYXkodmVyc2lvbkludCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVyc2lvbkFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHZhbHVlICs9IFwiLlwiO1xuICAgICAgICAgICAgdmFsdWUgKz0gdmVyc2lvbkFycmF5W2ldLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIHRoZSB0d28tZGlnaXQgaGV4YWRlY2ltYWwgY29kZSBmb3IgYSBieXRlXG4gICAgdG9IZXhTdHJpbmcoY2hhckNvZGUpIHtcbiAgICAgICAgcmV0dXJuIChcIjBcIiArIGNoYXJDb2RlLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgIH1cblxuICAgIEJpZ0ludEZyb21SYW5kb20oYnl0ZUNvdW50KSB7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZUNvdW50KTtcbiAgICAgICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYnl0ZXMpO1xuICAgICAgICBjb25zdCBoZXggPSBBcnJheS5mcm9tKGJ5dGVzKS5tYXAodGhpcy50b0hleFN0cmluZykuam9pbihcIlwiKTtcbiAgICAgICAgcmV0dXJuIEJpZ0ludGVnZXIucGFyc2UoaGV4LCAxNik7XG4gICAgfVxuXG4gICAgLy8gaW5wdXQgY2FuIGJlIGVpdGhlciBVVEY4IGZvcm1hdHRlZCBzdHJpbmcgb3IgYSBieXRlIGFycmF5XG4gICAgaGFzaDxUIGV4dGVuZHMgc3RyaW5nIHwgVWludDhBcnJheT4oZGF0YTogVCwgb3V0Rm9ybWF0ID0gXCJoZXhcIiwgYWxnb3JpdGhtID0gXCJTSEEtMjU2XCIpIHtcbiAgICAgICAgbGV0IGluQnVmZmVyOiBhbnk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09IFwic3RyaW5nXCIpIGluQnVmZmVyID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGRhdGEpO1xuICAgICAgICBlbHNlIGluQnVmZmVyID0gZGF0YTtcblxuICAgICAgICByZXR1cm4gY3J5cHRvLnN1YnRsZS5kaWdlc3QoeyBuYW1lOiBhbGdvcml0aG0gfSwgaW5CdWZmZXIpLnRoZW4ob3V0QnVmZmVyID0+IHtcbiAgICAgICAgICAgIGlmIChvdXRGb3JtYXQgPT0gXCJiYXNlNjRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5ieXRlQXJyYXlUb0Jhc2U2NChvdXRCdWZmZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShvdXRCdWZmZXIpKS5tYXAodGhpcy50b0hleFN0cmluZykuam9pbihcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW50VG9CeXRlQXJyYXkoaW50KSB7XG4gICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IGJ5dGVBcnJheS5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICAgICAgICBjb25zdCBieXRlID0gaW50ICYgMHhmZjtcbiAgICAgICAgICAgIGJ5dGVBcnJheVtpbmRleF0gPSBieXRlO1xuICAgICAgICAgICAgaW50ID0gKGludCAtIGJ5dGUpIC8gMjU2O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ5dGVBcnJheTtcbiAgICB9XG5cbiAgICBpbnRBcnJheVRvQnl0ZUFycmF5KGludEFycmF5KSB7XG4gICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IG5ldyBBcnJheShpbnRBcnJheS5sZW5ndGggKiA0KTtcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaW50QXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBsZXQgaW50ID0gaW50QXJyYXlbaW5kZXhdO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDM7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnl0ZSA9IGludCAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgYnl0ZUFycmF5W2luZGV4ICogNCArIGpdID0gYnl0ZTtcbiAgICAgICAgICAgICAgICBpbnQgPSAoaW50IC0gYnl0ZSkgLyAyNTY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnl0ZUFycmF5O1xuICAgIH1cblxuICAgIHN0cmluZ1RvQnl0ZUFycmF5KHN0cikge1xuICAgICAgICBjb25zdCBlID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgIHJldHVybiBlLmVuY29kZShzdHIpO1xuICAgIH1cblxuICAgIC8vIEEgdmFyaWF0aW9uIG9mIGJhc2U2NHRvQnl0ZUFycmF5IHdoaWNoIGFsbG93cyB1cyB0byBjYWxjdWxhdGUgYSBITUFDIGZhclxuICAgIC8vIG1vcmUgZWZmaWNpZW50bHkgdGhhbiB3aXRoIHNlcGVyYXRlIG1lbW9yeSBidWZmZXJzXG4gICAgYmFzZTY0dG9CeXRlQXJyYXlGb3JITUFDKGlucHV0LCBleHRyYUxlbmd0aCwgdmlldyA9IG51bGwpIHtcbiAgICAgICAgY29uc3QgYmluYXJ5ID0gYXRvYihpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxlbiA9IGJpbmFyeS5sZW5ndGg7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBpZiAoIXZpZXcpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihsZW4gKyBleHRyYUxlbmd0aCk7XG4gICAgICAgICAgICB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIG9mZnNldCA9IDIwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZpZXdbaSArIG9mZnNldF0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG5cbiAgICBiYXNlNjR0b0J5dGVBcnJheShpbnB1dCkge1xuICAgICAgICBjb25zdCBiaW5hcnkgPSBhdG9iKGlucHV0KTtcbiAgICAgICAgY29uc3QgbGVuID0gYmluYXJ5Lmxlbmd0aDtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGxlbik7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2aWV3W2ldID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuXG4gICAgYnl0ZUFycmF5VG9CYXNlNjQoYXJyYXlCdWZmZXIpOiBzdHJpbmcge1xuICAgICAgICBsZXQgYmFzZTY0ID0gXCJcIjtcbiAgICAgICAgY29uc3QgZW5jb2RpbmdzID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCI7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuICAgICAgICBjb25zdCBieXRlTGVuZ3RoID0gYnl0ZXMuYnl0ZUxlbmd0aDtcbiAgICAgICAgY29uc3QgYnl0ZVJlbWFpbmRlciA9IGJ5dGVMZW5ndGggJSAzO1xuICAgICAgICBjb25zdCBtYWluTGVuZ3RoID0gYnl0ZUxlbmd0aCAtIGJ5dGVSZW1haW5kZXI7XG4gICAgICAgIGxldCBhO1xuICAgICAgICBsZXQgYjtcbiAgICAgICAgbGV0IGM7XG4gICAgICAgIGxldCBkO1xuICAgICAgICBsZXQgY2h1bms7XG5cbiAgICAgICAgLy8gTWFpbiBsb29wIGRlYWxzIHdpdGggYnl0ZXMgaW4gY2h1bmtzIG9mIDNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYWluTGVuZ3RoOyBpID0gaSArIDMpIHtcbiAgICAgICAgICAgIC8vIENvbWJpbmUgaW50byBhIHNpbmdsZSBpbnRlZ2VyXG4gICAgICAgICAgICBjaHVuayA9IChieXRlc1tpXSA8PCAxNikgfCAoYnl0ZXNbaSArIDFdIDw8IDgpIHwgYnl0ZXNbaSArIDJdO1xuXG4gICAgICAgICAgICAvLyBVc2UgYml0bWFza3MgdG8gZXh0cmFjdCA2LWJpdCBzZWdtZW50cyBmcm9tIHRoZSB0cmlwbGV0XG4gICAgICAgICAgICBhID0gKGNodW5rICYgMTY1MTUwNzIpID4+IDE4OyAvLyAxNjUxNTA3MiA9ICgyXjYgLSAxKSA8PCAxOFxuICAgICAgICAgICAgYiA9IChjaHVuayAmIDI1ODA0OCkgPj4gMTI7IC8vIDI1ODA0OCA9ICgyXjYgLSAxKSA8PCAxMlxuICAgICAgICAgICAgYyA9IChjaHVuayAmIDQwMzIpID4+IDY7IC8vIDQwMzIgPSAoMl42IC0gMSkgPDwgNlxuICAgICAgICAgICAgZCA9IGNodW5rICYgNjM7IC8vIDYzID0gMl42IC0gMVxuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSByYXcgYmluYXJ5IHNlZ21lbnRzIHRvIHRoZSBhcHByb3ByaWF0ZSBBU0NJSSBlbmNvZGluZ1xuICAgICAgICAgICAgYmFzZTY0ICs9IGVuY29kaW5nc1thXSArIGVuY29kaW5nc1tiXSArIGVuY29kaW5nc1tjXSArIGVuY29kaW5nc1tkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlYWwgd2l0aCB0aGUgcmVtYWluaW5nIGJ5dGVzIGFuZCBwYWRkaW5nXG4gICAgICAgIGlmIChieXRlUmVtYWluZGVyID09IDEpIHtcbiAgICAgICAgICAgIGNodW5rID0gYnl0ZXNbbWFpbkxlbmd0aF07XG5cbiAgICAgICAgICAgIGEgPSAoY2h1bmsgJiAyNTIpID4+IDI7IC8vIDI1MiA9ICgyXjYgLSAxKSA8PCAyXG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgNCBsZWFzdCBzaWduaWZpY2FudCBiaXRzIHRvIHplcm9cbiAgICAgICAgICAgIGIgPSAoY2h1bmsgJiAzKSA8PCA0OyAvLyAzID0gMl4yIC0gMVxuXG4gICAgICAgICAgICBiYXNlNjQgKz0gZW5jb2RpbmdzW2FdICsgZW5jb2RpbmdzW2JdICsgXCI9PVwiO1xuICAgICAgICB9IGVsc2UgaWYgKGJ5dGVSZW1haW5kZXIgPT0gMikge1xuICAgICAgICAgICAgY2h1bmsgPSAoYnl0ZXNbbWFpbkxlbmd0aF0gPDwgOCkgfCBieXRlc1ttYWluTGVuZ3RoICsgMV07XG5cbiAgICAgICAgICAgIGEgPSAoY2h1bmsgJiA2NDUxMikgPj4gMTA7IC8vIDY0NTEyID0gKDJeNiAtIDEpIDw8IDEwXG4gICAgICAgICAgICBiID0gKGNodW5rICYgMTAwOCkgPj4gNDsgLy8gMTAwOCAgPSAoMl42IC0gMSkgPDwgNFxuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyB0byB6ZXJvXG4gICAgICAgICAgICBjID0gKGNodW5rICYgMTUpIDw8IDI7IC8vIDE1ID0gMl40IC0gMVxuXG4gICAgICAgICAgICBiYXNlNjQgKz0gZW5jb2RpbmdzW2FdICsgZW5jb2RpbmdzW2JdICsgZW5jb2RpbmdzW2NdICsgXCI9XCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZTY0O1xuICAgIH1cblxuICAgIGhleFN0cmluZ1RvQnl0ZUFycmF5KGhleFN0cmluZywgYnl0ZUFycmF5ID0gbnVsbCkge1xuICAgICAgICBpZiAoaGV4U3RyaW5nLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiTXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIG9mIGhleCBkaWdpdHMgdG8gY29udmVydCB0byBieXRlc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBudW1CeXRlcyA9IGhleFN0cmluZy5sZW5ndGggLyAyO1xuICAgICAgICBpZiAoIWJ5dGVBcnJheSkgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkobnVtQnl0ZXMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUJ5dGVzOyBpKyspIHtcbiAgICAgICAgICAgIGJ5dGVBcnJheVtpXSA9IHBhcnNlSW50KGhleFN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ5dGVBcnJheTtcbiAgICB9XG5cbiAgICBuZXdHVUlEKCkge1xuICAgICAgICBjb25zdCBsdXQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgICAgICAgbHV0W2ldID0gKGkgPCAxNiA/IFwiMFwiIDogXCJcIikgKyBpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGR2YWxzID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgICAgICB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhkdmFscyk7XG4gICAgICAgIGNvbnN0IGQwID0gZHZhbHNbMF07XG4gICAgICAgIGNvbnN0IGQxID0gZHZhbHNbMV07XG4gICAgICAgIGNvbnN0IGQyID0gZHZhbHNbMl07XG4gICAgICAgIGNvbnN0IGQzID0gZHZhbHNbM107XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBsdXRbZDAgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbKGQwID4+IDgpICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMCA+PiAxNikgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbKGQwID4+IDI0KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIFwiLVwiICtcbiAgICAgICAgICAgIGx1dFtkMSAmIDB4ZmZdICtcbiAgICAgICAgICAgIGx1dFsoZDEgPj4gOCkgJiAweGZmXSArXG4gICAgICAgICAgICBcIi1cIiArXG4gICAgICAgICAgICBsdXRbKChkMSA+PiAxNikgJiAweDBmKSB8IDB4NDBdICtcbiAgICAgICAgICAgIGx1dFsoZDEgPj4gMjQpICYgMHhmZl0gK1xuICAgICAgICAgICAgXCItXCIgK1xuICAgICAgICAgICAgbHV0WyhkMiAmIDB4M2YpIHwgMHg4MF0gK1xuICAgICAgICAgICAgbHV0WyhkMiA+PiA4KSAmIDB4ZmZdICtcbiAgICAgICAgICAgIFwiLVwiICtcbiAgICAgICAgICAgIGx1dFsoZDIgPj4gMTYpICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMiA+PiAyNCkgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbZDMgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbKGQzID4+IDgpICYgMHhmZl0gK1xuICAgICAgICAgICAgbHV0WyhkMyA+PiAxNikgJiAweGZmXSArXG4gICAgICAgICAgICBsdXRbKGQzID4+IDI0KSAmIDB4ZmZdXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYmFzZTY0dXJsRGVjb2RlKGlucHV0OiBzdHJpbmcpIHtcbiAgICAgICAgLy8gSSBkb24ndCBzZWUgd2h5IHdlIGRvIGFueSByZXBsYWNlbWVudHMgaGVyZS4gU2VlbXMgYSBwb2ludGxlc3Mgd2FzdGUgb2YgY3ljbGVzLiBOZWVkcyB0ZXN0aW5nIGFuZCByZW1vdmFsIGlmIEknbSByaWdodC5cbiAgICAgICAgcmV0dXJuIGF0b2IoaW5wdXQucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIikpO1xuICAgIH1cblxuICAgIGJpbmFyeVRvQnl0ZUFycmF5KGJpbmFyeTogc3RyaW5nKTogVWludDhBcnJheSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IGJpbmFyeS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihsZW4pO1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmlld1tpXSA9IGJpbmFyeS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cblxuICAgIGJhc2U2NHVybHRvQnl0ZUFycmF5KGlucHV0OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgYmluYXJ5ID0gdGhpcy5iYXNlNjR1cmxEZWNvZGUoaW5wdXQpO1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5hcnlUb0J5dGVBcnJheShiaW5hcnkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcHNsKCkge1xuICAgICAgICBpZiAoIXB1YmxpY1N1ZmZpeExpc3QpIHRocm93IG5ldyBFcnJvcihcInB1YmxpY1N1ZmZpeExpc3QgbGlicmFyeSBub3QgcHJlc2VudFwiKTtcbiAgICAgICAgaWYgKCF0aGlzLnBzbEluaXRpYWxpc2VkKSB7XG4gICAgICAgICAgICBwdWJsaWNTdWZmaXhMaXN0LnBhcnNlKHBzbERhdGEudGV4dCwgcHVueWNvZGUudG9BU0NJSSk7XG4gICAgICAgICAgICB0aGlzLnBzbEluaXRpYWxpc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHVibGljU3VmZml4TGlzdDtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCB1dGlscyA9IG5ldyBVdGlscygpO1xuIiwiLypcbiAgVGhlcmUgYXJlIGZvdXIgY3VtdWxhdGl2ZSBsb2cgbGV2ZWxzLlxuXG4gIEVycm9yID0gMVxuICBXYXJuID0gMlxuICBJbmZvID0gM1xuICBEZWJ1ZyA9IDRcblxuICBUaGUgZGVmYXVsdCBsZXZlbCAoV2Fybikgd2lsbCBiZSBzZXQgYXMgcGFydCBvZiB0aGUgaW5zdGFsbGF0aW9uIHByb2Nlc3MuXG5cbiAgSWYgRGVidWcgbGV2ZWwgaXMgc2VsZWN0ZWQsIGEgUGVyc2lzdGVudExvZ2dlciBvYmplY3QgaW4gdGhlIGJhY2tncm91bmRcbiAgcHJvY2VzcyB3aWxsIHN0b3JlIHRoZSBsb2cgZW50cmllcyBpbiBsb2NhbFN0b3JhZ2Ugb24gYSByZWd1bGFyIGJhc2lzLiBCdXRcbiAgb25seSBpZiB5b3UgZWRpdCB0aGUgY29kZSB0byBlbmFibGUgdGhpcyBmZWF0dXJlIGJlY2F1c2UgaXQgaXMgdmVyeSByZXNvdXJjZS1odW5ncnlcblxuKi9cblxuZXhwb3J0IGNsYXNzIEtlZUxvZ2dlciB7XG4gICAgcHJpdmF0ZSBvdXRwdXRTdGFydGVkID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBjb25maWcgPSB7IGxvZ0xldmVsOiAyIH07XG5cbiAgICBhdHRhY2hDb25maWcoY29uZmlnOiB7IGxvZ0xldmVsOiBudW1iZXIgfSkge1xuICAgICAgICB0aGlzLmRlYnVnKFwiTG9nZ2luZyBzeXN0ZW0gY29uZmlnIHVwZGF0ZWQgYXQgXCIgKyBEYXRlKCkpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHJldHVybiBcIlwiO1xuXG4gICAgICAgIGlmICghdGhpcy5vdXRwdXRTdGFydGVkKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gXCIqIFwiICsgbWVzc2FnZTtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxvZ0xldmVsID49IDQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLmZvcm1hdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCg0LCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluZm8obWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSAzKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCgzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdhcm4obWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSAyKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gdGhpcy5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dMZXZlbCA+PSA0ICYmIHRoaXMuc2VuZCgyLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcubG9nTGV2ZWwgPj0gMSkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IHRoaXMuZm9ybWF0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvZ0xldmVsID49IDQgJiYgdGhpcy5zZW5kKDEsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIHNlbmQobG9nTGV2ZWw6IDEgfCAyIHwgMyB8IDQsIG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICAvLyBGb3IgYWR2YW5jZWQgZGVidWdnaW5nLCBlc3BlY2lhbGx5IGFjcm9zcyBicm93c2VyIHJlc3RhcnRzLFxuICAgICAgICAvLyBlbmFibGUgdGhlIGNvZGUgYmVsb3cgYW5kIHRoZSByZWxldmFudCBQZXJzaXN0ZW50TG9nZ2VyIGxpbmVzXG4gICAgICAgIC8vIGluIGJhY2tncm91bmQudHNcbiAgICAgICAgLy8gY29uc3QgbG9nRW50cnkgPSB7bG9nTGV2ZWwsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbWVzc2FnZX07XG4gICAgICAgIC8vIGlmICh3aW5kb3cuS2VlUGVyc2lzdGVudExvZ2dlcikge1xuICAgICAgICAvLyAgICAgLy8gV2lsbCBvbmx5IGJlIHRydWUgaW4gdGhlIGJhY2tncm91bmQgcHJvY2Vzc1xuICAgICAgICAvLyAgICAgd2luZG93LktlZVBlcnNpc3RlbnRMb2dnZXIuZW1pdChsb2dFbnRyeSk7XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2UobG9nRW50cnkpO1xuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgc3RhY2tUcmFjZSgpIHtcbiAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZChcIiVjIFN0YWNrIFRyYWNlXCIsIFwiY29sb3I6Y3JlYW07IGZvbnQtc3R5bGU6IG5vcm1hbDtcIik7XG4gICAgICAgIGNvbnNvbGUuZGVidWcobmV3IEVycm9yKCkuc3RhY2spO1xuICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgS2VlTG9nID0gbmV3IEtlZUxvZ2dlcigpO1xuIiwiaW1wb3J0IHtcbiAgICBDb25maWcsXG4gICAgU2l0ZUNvbmZpZyxcbiAgICBTaXRlQ29uZmlnTG9va3VwLFxuICAgIFNpdGVDb25maWdNZXRob2QsXG4gICAgU2l0ZUNvbmZpZ05vZGUsXG4gICAgU2l0ZUNvbmZpZ05vZGVUeXBlLFxuICAgIFNpdGVDb25maWdUYXJnZXRcbn0gZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgeyBDb25maWdNaWdyYXRpb25zIH0gZnJvbSBcIi4vQ29uZmlnTWlncmF0aW9uc1wiO1xuaW1wb3J0IHsgZGVmYXVsdFNpdGVDb25maWcgfSBmcm9tIFwiLi9EZWZhdWx0U2l0ZUNvbmZpZ1wiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi9tb2RlbC9GaWVsZFwiO1xuaW1wb3J0IHsgS2VlTG9nIH0gZnJvbSBcIi4vTG9nZ2VyXCI7XG5cbnR5cGUgU2l0ZUNvbmZpZ05vZGVBbmRJbmRleCA9IHtcbiAgICBub2RlOiBTaXRlQ29uZmlnTm9kZTtcbiAgICB0YXJnZXQ6IFNpdGVDb25maWdUYXJnZXQ7XG4gICAgbWV0aG9kOiBTaXRlQ29uZmlnTWV0aG9kO1xuICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG59O1xuXG4vKlxuICBFbnRyeS1zcGVjaWZpYyBjb25maWd1cmF0aW9uIGlzIHN0b3JlZCBpbiBLZWVQYXNzIGJ1dCBpbiBmdXR1cmUgbWF5YmVcbiAgd2UnbGwgc3RpbGwgbWFrZSBpdCBhdmFpbGFibGUgZnJvbSB0aGlzIGludGVyZmFjZS5cbiovXG5cbi8vIFByZXRlbmQgYnJvd3NlciAoV2ViRXh0ZW5zaW9ucykgaXMgY2hyb21lICh3ZSBpbmNsdWRlIGFcbi8vIHBvbHlmaWxsIGZyb20gTW96aWxsYSBidXQgaXQgZG9lc24ndCB3b3JrIGluIHNvbWUgY2FzZXMpXG5kZWNsYXJlIGNvbnN0IGNocm9tZTtcblxuLy8gaW5jcmVtZW50IHdoZW4gY2hhbmdlcyBhcmUgaW50cm9kdWNlZCB0aGF0IHJlcXVpcmUgZGF0YSBtaWdyYXRpb25cbmV4cG9ydCBjb25zdCBMQVRFU1RfVkVSU0lPTiA9IDg7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29uZmlnID0gbmV3IENvbmZpZygpO1xuZGVmYXVsdENvbmZpZy5hdXRvRmlsbERpYWxvZ3MgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcuYXV0b0ZpbGxGb3JtcyA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLmF1dG9GaWxsRm9ybXNXaXRoTXVsdGlwbGVNYXRjaGVzID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmF1dG9TdWJtaXRGb3JtcyA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5hdXRvU3VibWl0RGlhbG9ncyA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5hdXRvU3VibWl0TWF0Y2hlZEZvcm1zID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmNvbm5TTENsaWVudCA9IDI7XG5kZWZhdWx0Q29uZmlnLmNvbm5TTFNlcnZlck1pbiA9IDI7XG5kZWZhdWx0Q29uZmlnLmtlZVBhc3NEQlRvT3BlbiA9IFwiXCI7XG5kZWZhdWx0Q29uZmlnLmtlZVBhc3NNUlVEQiA9IFwiXCI7XG5kZWZhdWx0Q29uZmlnLktlZVBhc3NSUENXZWJTb2NrZXRQb3J0ID0gMTI1NDY7XG5kZWZhdWx0Q29uZmlnLktQUlBDVXNlcm5hbWUgPSBcIlwiO1xuZGVmYXVsdENvbmZpZy5LUFJQQ1N0b3JlZEtleXMgPSB7fTtcbmRlZmF1bHRDb25maWcubGFzdENvbm5lY3RlZFRvS2VlUGFzcyA9IFwiXCI7XG5kZWZhdWx0Q29uZmlnLmxpc3RBbGxPcGVuREJzID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcubG9nTGV2ZWwgPSAyO1xuZGVmYXVsdENvbmZpZy5sb2dNZXRob2RDb25zb2xlID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmxvZ01ldGhvZEZpbGUgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcubG9nU2Vuc2l0aXZlRGF0YSA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5tZXRyaWNzVXNhZ2VEaXNhYmxlZCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5tZXRyaWNzVXNlcklkID0gXCJcIjtcbmRlZmF1bHRDb25maWcubm90aWZ5V2hlbkVudHJ5VXBkYXRlZCA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLm5vdGlmeVdoZW5MYXRlRGlzY292ZXJ5ID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLm5vdGlmeVdoZW5Mb2dnZWRPdXQgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcub3ZlcldyaXRlRmllbGRzQXV0b21hdGljYWxseSA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5yZW1lbWJlck1SVURCID0gdHJ1ZTtcbmRlZmF1bHRDb25maWcucmVtZW1iZXJNUlVHcm91cCA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLnNhdmVGYXZpY29ucyA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLnNlYXJjaEFsbE9wZW5EQnMgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5jb25maWcgPSBudWxsO1xuZGVmYXVsdENvbmZpZy5zaXRlQ29uZmlnID0gZGVmYXVsdFNpdGVDb25maWc7XG5kZWZhdWx0Q29uZmlnLnR1dG9yaWFsUHJvZ3Jlc3MgPSBcIlwiO1xuZGVmYXVsdENvbmZpZy52ZXJzaW9uID0gTEFURVNUX1ZFUlNJT047XG5kZWZhdWx0Q29uZmlnLnRyaWdnZXJDaGFuZ2VJbnB1dEV2ZW50QWZ0ZXJGaWxsID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmF1dG9TdWJtaXROZXR3b3JrQXV0aFdpdGhTaW5nbGVNYXRjaCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5zZWFyY2hOZXR3b3JrQXV0aCA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLm5vdGlmaWNhdGlvbkNvdW50R2VuZXJpYyA9IDA7XG5kZWZhdWx0Q29uZmlnLm5vdGlmaWNhdGlvbkNvdW50U2F2ZVBhc3N3b3JkID0gMDtcbmRlZmF1bHRDb25maWcuY3VycmVudFNlYXJjaFRlcm1UaW1lb3V0ID0gMzA7XG5kZWZhdWx0Q29uZmlnLm5vdGlmeVBhc3N3b3JkQXZhaWxhYmxlRm9yUGFzdGUgPSB0cnVlO1xuZGVmYXVsdENvbmZpZy5hbmltYXRlV2hlbk9mZmVyaW5nU2F2ZSA9IHRydWU7XG5kZWZhdWx0Q29uZmlnLmtlZVZhdWx0TGF1bmNoTWVzc2FnZURpc21pc3NlZCA9IGZhbHNlO1xuZGVmYXVsdENvbmZpZy5rZWVWYXVsdExhdW5jaFN0YXJ0ID0gODY0MDAwMDAwMDAwMDAwMDtcbmRlZmF1bHRDb25maWcua2VlVmF1bHRMYXVuY2hFbmQgPSA4NjQwMDAwMDAwMDAwMDAwO1xuZGVmYXVsdENvbmZpZy5tYW51YWxTdWJtaXRPdmVycmlkZVByb2hpYml0ZWQgPSBmYWxzZTtcbmRlZmF1bHRDb25maWcudGhlbWUgPSBudWxsO1xuZGVmYXVsdENvbmZpZy5oaWRlQ29uZmlybWF0aW9uQWZ0ZXJTYXZlID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLm11c3RTaG93UmVsZWFzZU5vdGVzQXRTdGFydHVwID0gZmFsc2U7XG5kZWZhdWx0Q29uZmlnLmF1dG9GaWxsRmllbGRzV2l0aEV4aXN0aW5nVmFsdWUgPSBmYWxzZTtcblxuZXhwb3J0IGNsYXNzIENvbmZpZ01hbmFnZXIge1xuICAgIHB1YmxpYyBjdXJyZW50OiBDb25maWc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXhDaGFyc1BlclBhZ2U6IG51bWJlciA9IDEwMDAwO1xuICAgIHByaXZhdGUgX2xpc3RlbmVycyA9IFtdO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBkZWZhdWx0Q29uZmlnO1xuICAgICAgICBicm93c2VyLnN0b3JhZ2Uub25DaGFuZ2VkLmFkZExpc3RlbmVyKChhLCBiKSA9PiB0aGlzLnJlbG9hZE9uU3RvcmFnZUNoYW5nZShhLCBiKSk7XG4gICAgfVxuXG4gICAgLy8gU29tZSBwcm9jZXNzZXMgbWF5IHdhbnQgdG8gdGFrZSBhY3Rpb24gd2hlbiBzZXR0aW5ncyBhcmUgY2hhbmdlZCAoZS5nLiB0aGUgYmFja2dyb3VuZFxuICAgIC8vIHByb2Nlc3MgdG8gbm90aWZ5IHRoZSBLUFJQQyBzZXJ2ZXIpLiBVc2luZyB0aGlzIHJhdGhlciB0aGFuIGJyb3dzZXIuc3RvcmFnZS5vbkNoYW5nZWQuYWRkTGlzdGVuZXJcbiAgICAvLyBlbnN1cmVzIHRoYXQgb3VyIGNvbmZpZ01hbmFnZXIgZGF0YSBpcyBjb25zaXN0ZW50IHdpdGggdGhlIHVuZGVybHlpbmcgc3RvcmFnZVxuICAgIHB1YmxpYyBhZGRDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWxvYWRPblN0b3JhZ2VDaGFuZ2UoY2hhbmdlczogYnJvd3Nlci5zdG9yYWdlLlN0b3JhZ2VDaGFuZ2UsIGFyZWE6IHN0cmluZykge1xuICAgICAgICAvLyBXZSBhc3N1bWUgZXZlcnkgY2hhbmdlIHJlcXVpcmVzIGEgcmVsb2FkIG9mIHRoZSBjb25maWcgZGF0YS4gU2luY2Ugd2UgYmF0Y2ggYW5kXG4gICAgICAgIC8vIHBhZ2UgdGhlIGRhdGEgdG8gZW5hYmxlIGVub3VnaCBzdG9yYWdlIHNwYWNlIHRoaXMgaXMgbGlrbGV5IHNhZmUgZm9yIHRoZVxuICAgICAgICAvLyBsb25nLXRlcm0gYnV0IHBlcmhhcHMgcGVyZm9ybWFuY2UgZ2FpbnMgY291bGQgYmUgZm91bmQgYXJvdW5kIGhlcmUgb25lIGRheS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgYWxzbyByZWxvYWQgYWZ0ZXIgZXZlcnkgc2F2ZSB3aGljaCBpcyBob3JyaWJseSBpbmVmZmljaWVudCBidXQgdGhlIGFsdGVybmF0aXZlXG4gICAgICAgIC8vIGlzIGZpbmRpbmcgYSByZWxpYWJsZSBjcm9zcy1wcm9jZXNzIGxvY2tpbmcgbWVjaGFuaXNtIHRvIGVuc3VyZSB3ZSBvbmx5IGRpc2FibGVcbiAgICAgICAgLy8gcmVsb2FkaW5nIGR1cmluZyBhbiBhc3luYyBzYXZlIG9wZXJhdGlvbiBhbmQgbm90IGZvciBhIG1vbWVudCBsb25nZXIuIFRoYXQncyBqdXN0XG4gICAgICAgIC8vIG5vdCB3b3J0aCB0aGUgcmlzayBvZiBtaXNzaW5nIGEgY2hhbmdlIGZyb20gYW5vdGhlciBwcm9jZXNzLlxuXG4gICAgICAgIGNvbmZpZ01hbmFnZXIucmVsb2FkKCgpID0+IHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGNoYW5nZXMsIGFyZWEpKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHNldEFTQVAodmFsdWVzOiBQYXJ0aWFsPENvbmZpZz4pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmN1cnJlbnQsIHZhbHVlcyk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzcGxpdFN0cmluZ1RvUGFnZXMoc3RyOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbnVtUGFnZXMgPSBNYXRoLmNlaWwoc3RyLmxlbmd0aCAvIHRoaXMubWF4Q2hhcnNQZXJQYWdlKTtcbiAgICAgICAgY29uc3QgcGFnZXMgPSBuZXcgQXJyYXkobnVtUGFnZXMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBvID0gMDsgaSA8IG51bVBhZ2VzOyArK2ksIG8gKz0gdGhpcy5tYXhDaGFyc1BlclBhZ2UpIHtcbiAgICAgICAgICAgIHBhZ2VzW2ldID0gc3RyLnN1YnN0cihvLCB0aGlzLm1heENoYXJzUGVyUGFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhZ2VzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBzYXZlKCkge1xuICAgICAgICBjb25zdCBjb25maWdTdHJpbmcgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmN1cnJlbnQpO1xuICAgICAgICBjb25zdCBwYWdlcyA9IHRoaXMuc3BsaXRTdHJpbmdUb1BhZ2VzKGNvbmZpZ1N0cmluZyk7XG4gICAgICAgIGNvbnN0IGNvbmZpZ1ZhbHVlczogYW55ID0ge307XG5cbiAgICAgICAgY29uZmlnVmFsdWVzLmtlZUNvbmZpZ1BhZ2VDb3VudCA9IHBhZ2VzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25maWdWYWx1ZXNbXCJrZWVDb25maWdQYWdlXCIgKyBpXSA9IHBhZ2VzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoY29uZmlnVmFsdWVzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZChvbkxvYWRlZCkge1xuICAgICAgICAvLyBXZSBjb21wbGV0ZWx5IHJlcGxhY2UgY3VycmVudCBjb25maWcgd2l0aCB3aGF0IHdlIGxvYWQgYmVjYXVzZSB3ZVxuICAgICAgICAvLyBkb24ndCBrbm93IHRoYXQgYXBwbHlpbmcgb250byB0aGUgZGVmYXVsdHMgd2lsbCByZXN1bHQgaW4gYSBzYWZlXG4gICAgICAgIC8vIG1pZ3JhdGlvbiBmcm9tIGFueSBvbGQgdmVyc2lvbiB0aGF0IHdlIGxvYWQuIEl0IHdvdWxkIHByb2JhYmx5IGJlXG4gICAgICAgIC8vIGZpbmUgYnV0IG1pZ2h0IHJlcXVpcmUgdmVyc2lvbiBjb21wYXJpc29ucy4uLiBpbiB3aGljaCBjYXNlIHdlIG1pZ2h0XG4gICAgICAgIC8vIGFzIHdlbGwganVzdCBpbmNyZW1lbnQgdGhlIHZlcnNpb24gbnVtYmVyIGFuZCBydW4gYSBtaWdyYXRpb24gb25jZVxuICAgICAgICAvLyByYXRoZXIgdGhhbiBpbmN1ciBpbmNyZWFzZWQgb25nb2luZyBsb2FkIGNvc3RzLlxuICAgICAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KCkudGhlbihjb25maWcgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFnZUNvdW50ID0gY29uZmlnW1wia2VlQ29uZmlnUGFnZUNvdW50XCJdO1xuXG4gICAgICAgICAgICBpZiAocGFnZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbmZpZ1N0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UGFnZSA9IGNvbmZpZ1tcImtlZUNvbmZpZ1BhZ2VcIiArIGldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFBhZ2UpIGNvbmZpZ1N0cmluZyArPSBuZXh0UGFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ1N0cmluZykgdGhpcy5jdXJyZW50ID0gSlNPTi5wYXJzZShjb25maWdTdHJpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRQYWdlQ291bnQgPSBjb25maWdbXCJrZWVmb3hDb25maWdQYWdlQ291bnRcIl07XG5cbiAgICAgICAgICAgICAgICBpZiAob2xkUGFnZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25maWdTdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZFBhZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UGFnZSA9IGNvbmZpZ1tcImtlZWZveENvbmZpZ1BhZ2VcIiArIGldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRQYWdlKSBjb25maWdTdHJpbmcgKz0gbmV4dFBhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZ1N0cmluZykgdGhpcy5jdXJyZW50ID0gSlNPTi5wYXJzZShjb25maWdTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAvL1RPRE86NDogRGVsZXRlIHRoZSBvbGQga2VlZm94IHByZWZpeGVkIGRhdGEgdG8gc2F2ZSBzcGFjZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZml4SW52YWxpZENvbmZpZ0RhdGEoKTtcbiAgICAgICAgICAgIHRoaXMubWlncmF0ZVRvTGF0ZXN0VmVyc2lvbigpO1xuICAgICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyB0eXBpY2FsbHkgaW52YWxpZCBkdWUgdG8gdGhlIHByZXZpb3VzIGV4ZWN1dGlvbiBvZiBhbHBoYSBhbmQgYmV0YSBjb2RlXG4gICAgLy8gb24gdGhlIHVzZXIncyBzeXN0ZW0gYnV0IHdoYXRldmVyIHRoZSByZWFzb24sIHRoZSBpdGVtcyBoZXJlIGFyZSBlc3BlY2lhbGx5IGhhcmRcbiAgICAvLyB0byBmaXggdGhyb3VnaCB0aGUgVUkgYW5kIGNyaXRpY2FsIHRvIEtlZSBmdW5jdGlvbmFsaXR5IHNvIHdlIHRha2Ugbm8gY2hhbmNlc1xuICAgIHByaXZhdGUgZml4SW52YWxpZENvbmZpZ0RhdGEoKSB7XG4gICAgICAgIGxldCBzYXZlTmVlZGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQuS1BSUENTdG9yZWRLZXlzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5LUFJQQ1N0b3JlZEtleXMgPSB7fTtcbiAgICAgICAgICAgIHNhdmVOZWVkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYXZlTmVlZGVkKSB0aGlzLnNhdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1pZ3JhdGVUb0xhdGVzdFZlcnNpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQudmVyc2lvbiA+PSBMQVRFU1RfVkVSU0lPTikgcmV0dXJuO1xuICAgICAgICBjb25zdCBtaWdyYXRpb25zID0gbmV3IENvbmZpZ01pZ3JhdGlvbnMoKTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tZmFsbHRocm91Z2ggKi9cbiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnQudmVyc2lvbikge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjIodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb24zKHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uNCh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjUodGhpcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBtaWdyYXRpb25zLm1pZ3JhdGVUb1ZlcnNpb242KHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uNyh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjgodGhpcy5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWZhbGx0aHJvdWdoICovXG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtaWdyYXRlRnJvbVJlbW90ZVRvTGF0ZXN0VmVyc2lvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudC52ZXJzaW9uID49IExBVEVTVF9WRVJTSU9OKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG1pZ3JhdGlvbnMgPSBuZXcgQ29uZmlnTWlncmF0aW9ucygpO1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1mYWxsdGhyb3VnaCAqL1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudC52ZXJzaW9uKSB7XG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgbWlncmF0aW9ucy5taWdyYXRlVG9WZXJzaW9uNih0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIG1pZ3JhdGlvbnMubWlncmF0ZVRvVmVyc2lvbjcodGhpcy5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWZhbGx0aHJvdWdoICovXG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVsb2FkKG9uTG9hZGVkPykge1xuICAgICAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KCkudGhlbihjb25maWcgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFnZUNvdW50ID0gY29uZmlnW1wia2VlQ29uZmlnUGFnZUNvdW50XCJdO1xuXG4gICAgICAgICAgICBpZiAocGFnZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbmZpZ1N0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0UGFnZSA9IGNvbmZpZ1tcImtlZUNvbmZpZ1BhZ2VcIiArIGldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFBhZ2UpIGNvbmZpZ1N0cmluZyArPSBuZXh0UGFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ1N0cmluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHRoaXMuY3VycmVudCwgSlNPTi5wYXJzZShjb25maWdTdHJpbmcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25Mb2FkZWQpIG9uTG9hZGVkKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaXRlQ29uZmlnTG9va3VwRm9yKHRhcmdldDogU2l0ZUNvbmZpZ1RhcmdldCwgbWV0aG9kOiBTaXRlQ29uZmlnTWV0aG9kKSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT0gXCJEb21haW5cIikge1xuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIkV4YWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIlByZWZpeFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5QcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblByZWZpeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJSZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgPT0gXCJIb3N0XCIpIHtcbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJFeGFjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0RXhhY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdEV4YWN0ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT0gXCJQcmVmaXhcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4ID0gbmV3IFNpdGVDb25maWdMb29rdXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RQcmVmaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiUmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RSZWdleCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ID09IFwiUGFnZVwiKSB7XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiRXhhY3RcIikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZUV4YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlRXhhY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0aG9kID09IFwiUHJlZml4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeCA9IG5ldyBTaXRlQ29uZmlnTG9va3VwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUHJlZml4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PSBcIlJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlUmVnZXggPSBuZXcgU2l0ZUNvbmZpZ0xvb2t1cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaXRlQ29uZmlnRm9yKHVybDogc3RyaW5nKTogU2l0ZUNvbmZpZyB7XG4gICAgICAgIGNvbnN0IG1hdGNoZWRDb25maWdOb2RlcyA9IHRoaXMuZmluZEFsbENvbmZpZ3NGb3IodXJsKTtcbiAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnNvcnQoKG5vZGUxLCBub2RlMikgPT4gbm9kZTIubWF0Y2hXZWlnaHQgLSBub2RlMS5tYXRjaFdlaWdodCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlcml2ZUNvbmZpZ0Zyb21NYXRjaGVzKG1hdGNoZWRDb25maWdOb2Rlcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kQWxsQ29uZmlnc0Zvcih1cmxTdHJpbmc6IHN0cmluZykge1xuICAgICAgICBjb25zdCBtYXRjaGVkQ29uZmlnTm9kZXM6IFNpdGVDb25maWdOb2RlW10gPSBbXTtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh1cmxTdHJpbmcpO1xuICAgICAgICBjb25zdCBob3N0ID0gdXJsLmhvc3Q7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBob3N0ICsgdXJsLnBhdGhuYW1lO1xuICAgICAgICBjb25zdCBkb21haW4gPSB1dGlscy5wc2wuZ2V0RG9tYWluKGhvc3QpO1xuXG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluRXhhY3RbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBob3N0KSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdEV4YWN0W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5wYWdlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcGFnZSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4KSB7XG4gICAgICAgICAgICBpZiAoZG9tYWluLnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4W3ZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4KSB7XG4gICAgICAgICAgICBpZiAoaG9zdC5zdGFydHNXaXRoKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RQcmVmaXhbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXgpIHtcbiAgICAgICAgICAgIGlmIChwYWdlLnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLnB1c2godGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUmVnZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHZhbHVlKS50ZXN0KGRvbWFpbikpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXMucHVzaCh0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4KSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCh2YWx1ZSkudGVzdChob3N0KSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RSZWdleFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4KSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCh2YWx1ZSkudGVzdChwYWdlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlcy5wdXNoKHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGNoZWRDb25maWdOb2RlcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbmRBbGxDb25maWdzQW5kSW5kZXhGb3IodXJsU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlczogU2l0ZUNvbmZpZ05vZGVBbmRJbmRleFtdID0gW107XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcbiAgICAgICAgY29uc3QgaG9zdCA9IHVybC5ob3N0O1xuICAgICAgICBjb25zdCBwYWdlID0gaG9zdCArIHVybC5wYXRobmFtZTtcbiAgICAgICAgY29uc3QgZG9tYWluID0gdXRpbHMucHNsLmdldERvbWFpbihob3N0KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0KSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IGRvbWFpbikge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpbkV4YWN0W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkRvbWFpblwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiRXhhY3RcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0RXhhY3QpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gaG9zdCkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmhvc3RFeGFjdFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJIb3N0XCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJFeGFjdFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBwYWdlKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZUV4YWN0W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIlBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkV4YWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4KSB7XG4gICAgICAgICAgICBpZiAoZG9tYWluLnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcuZG9tYWluUHJlZml4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkRvbWFpblwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUHJlZml4XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFByZWZpeCkge1xuICAgICAgICAgICAgaWYgKGhvc3Quc3RhcnRzV2l0aCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UHJlZml4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkhvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlByZWZpeFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VQcmVmaXgpIHtcbiAgICAgICAgICAgIGlmIChwYWdlLnN0YXJ0c1dpdGgodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVByZWZpeFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJQYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQcmVmaXhcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5kb21haW5SZWdleCkge1xuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAodmFsdWUpLnRlc3QoZG9tYWluKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLmRvbWFpblJlZ2V4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkRvbWFpblwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgbG9va3VwVmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBpbiB0aGlzLmN1cnJlbnQuc2l0ZUNvbmZpZy5ob3N0UmVnZXgpIHtcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHZhbHVlKS50ZXN0KGhvc3QpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogdGhpcy5jdXJyZW50LnNpdGVDb25maWcuaG9zdFJlZ2V4W3ZhbHVlXSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIkhvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgaW4gdGhpcy5jdXJyZW50LnNpdGVDb25maWcucGFnZVJlZ2V4KSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCh2YWx1ZSkudGVzdChwYWdlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRDb25maWdOb2Rlc0FuZEluZGV4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuY3VycmVudC5zaXRlQ29uZmlnLnBhZ2VSZWdleFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJQYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJSZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICBsb29rdXBWYWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRjaGVkQ29uZmlnTm9kZXNBbmRJbmRleGVzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVyaXZlQ29uZmlnRnJvbU1hdGNoZXMobWF0Y2hlZENvbmZpZ05vZGVzOiBTaXRlQ29uZmlnTm9kZVtdKSB7XG4gICAgICAgIGNvbnN0IGRlcml2ZWRDb25maWc6IFNpdGVDb25maWcgPSB7fTtcbiAgICAgICAgbWF0Y2hlZENvbmZpZ05vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbm9kZS5jb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb24gPT0gbnVsbFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5wcmV2ZW50U2F2ZU5vdGlmaWNhdGlvbiA9IG5vZGUuY29uZmlnLnByZXZlbnRTYXZlTm90aWZpY2F0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5vZGUuY29uZmlnLmxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcubGlzdE1hdGNoaW5nQ2FzZVNlbnNpdGl2ZSA9PSBudWxsXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmUgPSBub2RlLmNvbmZpZy5saXN0TWF0Y2hpbmdDYXNlU2Vuc2l0aXZlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdCA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0LmZvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5mb3JtID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLmJsYWNrTGlzdC5mb3JtLmlkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybS5pZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZvcm0uaWRzID0gbm9kZS5jb25maWcuYmxhY2tMaXN0LmZvcm0uaWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy5ibGFja0xpc3QuZm9ybS5uYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybS5uYW1lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZm9ybS5uYW1lcyA9IG5vZGUuY29uZmlnLmJsYWNrTGlzdC5mb3JtLm5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy5ibGFja0xpc3QuZmllbGRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZpZWxkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5maWVsZHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0LmZpZWxkcy5pZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZpZWxkcy5pZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcuYmxhY2tMaXN0LmZpZWxkcy5pZHMgPSBub2RlLmNvbmZpZy5ibGFja0xpc3QuZmllbGRzLmlkcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcuYmxhY2tMaXN0LmZpZWxkcy5uYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy5ibGFja0xpc3QuZmllbGRzLm5hbWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLmJsYWNrTGlzdC5maWVsZHMubmFtZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNvbmZpZy5ibGFja0xpc3QuZmllbGRzLm5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdCA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0LmZvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5mb3JtID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29uZmlnLndoaXRlTGlzdC5mb3JtLmlkcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybS5pZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZvcm0uaWRzID0gbm9kZS5jb25maWcud2hpdGVMaXN0LmZvcm0uaWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy53aGl0ZUxpc3QuZm9ybS5uYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybS5uYW1lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZm9ybS5uYW1lcyA9IG5vZGUuY29uZmlnLndoaXRlTGlzdC5mb3JtLm5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLmNvbmZpZy53aGl0ZUxpc3QuZmllbGRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZpZWxkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5maWVsZHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0LmZpZWxkcy5pZHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZpZWxkcy5pZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcml2ZWRDb25maWcud2hpdGVMaXN0LmZpZWxkcy5pZHMgPSBub2RlLmNvbmZpZy53aGl0ZUxpc3QuZmllbGRzLmlkcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5jb25maWcud2hpdGVMaXN0LmZpZWxkcy5uYW1lcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZENvbmZpZy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLndoaXRlTGlzdC5maWVsZHMubmFtZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNvbmZpZy53aGl0ZUxpc3QuZmllbGRzLm5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbm9kZS5jb25maWcucHJlZmVycmVkRW50cnlVdWlkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9PSBudWxsXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBkZXJpdmVkQ29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9IG5vZGUuY29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZXJpdmVkQ29uZmlnO1xuICAgIH1cblxuICAgIHByaXZhdGUgbm9ybWFsaXplRm9ybVByb3BlcnR5KGlucHV0OiB1bmtub3duLCBpYzogYm9vbGVhbikge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGljID8gaW5wdXQudG9Mb3dlckNhc2UoKSA6IGlucHV0O1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0Zvcm1JbnRlcmVzdGluZyhmb3JtOiBIVE1MRm9ybUVsZW1lbnQsIGNvbmY6IFNpdGVDb25maWcsIG90aGVyRmllbGRzOiBGaWVsZFtdKSB7XG4gICAgICAgIGNvbnN0IGljID0gY29uZi5saXN0TWF0Y2hpbmdDYXNlU2Vuc2l0aXZlICE9PSB0cnVlO1xuICAgICAgICBjb25zdCBmaWVsZElkcyA9IG90aGVyRmllbGRzXG4gICAgICAgICAgICAubWFwKGZpZWxkID0+IChpYyA/IGZpZWxkLmxvY2F0b3JzWzBdPy5pZC50b0xvd2VyQ2FzZSgpIDogZmllbGQubG9jYXRvcnNbMF0/LmlkKSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZXMgPSBvdGhlckZpZWxkc1xuICAgICAgICAgICAgLm1hcChmaWVsZCA9PiAoaWMgPyBmaWVsZC5sb2NhdG9yc1swXT8ubmFtZS50b0xvd2VyQ2FzZSgpIDogZmllbGQubG9jYXRvcnNbMF0/Lm5hbWUpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgZm9ybUlkID0gdGhpcy5ub3JtYWxpemVGb3JtUHJvcGVydHkoZm9ybS5pZCwgaWMpO1xuICAgICAgICBjb25zdCBmb3JtTmFtZSA9IHRoaXMubm9ybWFsaXplRm9ybVByb3BlcnR5KGZvcm0ubmFtZSwgaWMpO1xuICAgICAgICBjb25zdCBleGNsdWRlRm9ybUlkcyA9IChjb25mPy5ibGFja0xpc3Q/LmZvcm0/LmlkcyB8fCBbXSlcbiAgICAgICAgICAgIC5tYXAoeCA9PiAoaWMgPyB4Py50b0xvd2VyQ2FzZSgpIDogeCkpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBleGNsdWRlRm9ybU5hbWVzID0gKGNvbmY/LmJsYWNrTGlzdD8uZm9ybT8ubmFtZXMgfHwgW10pXG4gICAgICAgICAgICAubWFwKHggPT4gKGljID8geD8udG9Mb3dlckNhc2UoKSA6IHgpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgZXhjbHVkZUZpZWxkSWRzID0gKGNvbmY/LmJsYWNrTGlzdD8uZmllbGRzPy5pZHMgfHwgW10pXG4gICAgICAgICAgICAubWFwKHggPT4gKGljID8geD8udG9Mb3dlckNhc2UoKSA6IHgpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgZXhjbHVkZUZpZWxkTmFtZXMgPSAoY29uZj8uYmxhY2tMaXN0Py5maWVsZHM/Lm5hbWVzIHx8IFtdKVxuICAgICAgICAgICAgLm1hcCh4ID0+IChpYyA/IHg/LnRvTG93ZXJDYXNlKCkgOiB4KSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICAgICAgY29uc3QgZXhjbHVkZWQgPVxuICAgICAgICAgICAgZXhjbHVkZUZvcm1JZHMuaW5kZXhPZihmb3JtSWQpID49IDAgfHxcbiAgICAgICAgICAgIGV4Y2x1ZGVGb3JtTmFtZXMuaW5kZXhPZihmb3JtTmFtZSkgPj0gMCB8fFxuICAgICAgICAgICAgZXhjbHVkZUZpZWxkSWRzLnNvbWUoaWQgPT4gZmllbGRJZHMuZmluZChpID0+IGlkID09PSBpKSAhPT0gdW5kZWZpbmVkKSB8fFxuICAgICAgICAgICAgZXhjbHVkZUZpZWxkTmFtZXMuc29tZShuYW1lID0+IGZpZWxkTmFtZXMuZmluZChuID0+IG5hbWUgPT09IG4pICE9PSB1bmRlZmluZWQpO1xuXG4gICAgICAgIGlmIChleGNsdWRlZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGluY2x1ZGVGb3JtSWRzID0gY29uZj8ud2hpdGVMaXN0Py5mb3JtPy5pZHMgfHwgW107XG4gICAgICAgIGNvbnN0IGluY2x1ZGVGb3JtTmFtZXMgPSBjb25mPy53aGl0ZUxpc3Q/LmZvcm0/Lm5hbWVzIHx8IFtdO1xuICAgICAgICBjb25zdCBpbmNsdWRlRmllbGRJZHMgPSBjb25mPy53aGl0ZUxpc3Q/LmZpZWxkcz8uaWRzIHx8IFtdO1xuICAgICAgICBjb25zdCBpbmNsdWRlRmllbGROYW1lcyA9IGNvbmY/LndoaXRlTGlzdD8uZmllbGRzPy5uYW1lcyB8fCBbXTtcblxuICAgICAgICBjb25zdCBpbmNsdWRlZCA9XG4gICAgICAgICAgICBpbmNsdWRlRm9ybUlkcy5pbmRleE9mKGZvcm1JZCkgPj0gMCB8fFxuICAgICAgICAgICAgaW5jbHVkZUZvcm1OYW1lcy5pbmRleE9mKGZvcm1OYW1lKSA+PSAwIHx8XG4gICAgICAgICAgICBpbmNsdWRlRmllbGRJZHMuc29tZShpZCA9PiBmaWVsZElkcy5maW5kKGkgPT4gaWQgPT09IGkpICE9PSB1bmRlZmluZWQpIHx8XG4gICAgICAgICAgICBpbmNsdWRlRmllbGROYW1lcy5zb21lKG5hbWUgPT4gZmllbGROYW1lcy5maW5kKG4gPT4gbmFtZSA9PT0gbikgIT09IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgaWYgKGluY2x1ZGVkKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGFjdGl2ZVRoZW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQudGhlbWUgfHxcbiAgICAgICAgICAgICh3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcyA/IFwiZGFya1wiIDogXCJsaWdodFwiKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b2dnbGVQcmVmZXJyZWRFbnRyeVV1aWQodXVpZDogc3RyaW5nLCB1cmxTdHJpbmc6IHN0cmluZykge1xuICAgICAgICBsZXQgdXJsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdXJsID0gbmV3IFVSTCh1cmxTdHJpbmcpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBLZWVMb2cuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJJbnZhbGlkIFVSTCBzdXBwbGllZCB0byB0b2dnbGVQcmVmZXJyZWRFbnRyeVV1aWQuIFByZWZlcnJlZCBlbnRyeSB3aWxsIG5vdCBiZSBhbHRlcmVkLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbmZpZ3VyZWRUYXJnZXQ6IFNpdGVDb25maWdUYXJnZXQgPSBcIkRvbWFpblwiO1xuICAgICAgICBjb25zdCBhbGxDb25maWdOb2Rlc0FuZExvb2t1cHMgPSB0aGlzLmZpbmRBbGxDb25maWdzQW5kSW5kZXhGb3IodXJsU3RyaW5nKTtcbiAgICAgICAgY29uc3QgZGVyaXZlZENvbmZpZyA9IHRoaXMuc2l0ZUNvbmZpZ0Zvcih1cmxTdHJpbmcpO1xuICAgICAgICBjb25zdCBjdXJyZW50UHJlZmVycmVkVXVpZCA9IGRlcml2ZWRDb25maWcucHJlZmVycmVkRW50cnlVdWlkO1xuXG4gICAgICAgIGlmIChjdXJyZW50UHJlZmVycmVkVXVpZCA9PT0gdXVpZCkge1xuICAgICAgICAgICAgYWxsQ29uZmlnTm9kZXNBbmRMb29rdXBzLmZvckVhY2goY25sID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY25sLm5vZGUuY29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9PT0gdXVpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVByZWZlcnJlZEVudHJ5VXVpZChjbmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxsQ29uZmlnTm9kZXNBbmRMb29rdXBzLmZvckVhY2goY25sID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNubC5ub2RlLmNvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQgPT09IGN1cnJlbnRQcmVmZXJyZWRVdWlkICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVhc3RTcGVjaWZpY1RhcmdldChjb25maWd1cmVkVGFyZ2V0LCBjbmwudGFyZ2V0KSA9PT0gY29uZmlndXJlZFRhcmdldFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVByZWZlcnJlZEVudHJ5VXVpZChjbmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFNpdGVDb25maWdQYXJhbWV0ZXJzKFxuICAgICAgICAgICAgICAgIHsgcHJlZmVycmVkRW50cnlVdWlkOiB1dWlkIH0gYXMgU2l0ZUNvbmZpZyxcbiAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgY29uZmlndXJlZFRhcmdldCxcbiAgICAgICAgICAgICAgICBcIkV4YWN0XCIsXG4gICAgICAgICAgICAgICAgXCJBdXRvXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVQcmVmZXJyZWRFbnRyeVV1aWQoY25sOiBTaXRlQ29uZmlnTm9kZUFuZEluZGV4KSB7XG4gICAgICAgIGNubC5ub2RlLmNvbmZpZy5wcmVmZXJyZWRFbnRyeVV1aWQgPSBudWxsO1xuXG4gICAgICAgIC8vIFVubGVzcyB0aGUgdXNlciBoYXMgbWFudWFsbHkgbW9kaWZpZWQgdGhlIHBlci1zaXRlIGNvbmZpZyBmb3IgdGhpcyBzaXRlXG4gICAgICAgIC8vIHdlIGNhbiB0aWR5IHVwIHRoaXMgdW5uZWNlc3NhcnkgZGF0YVxuICAgICAgICBpZiAoY25sLm5vZGUuc291cmNlID09PSBcIkF1dG9cIiAmJiB0aGlzLmVxdWFsc0RlZmF1bHRTaXRlQ29uZmlnKGNubC5ub2RlLmNvbmZpZykpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvb2t1cCA9IHRoaXMuc2l0ZUNvbmZpZ0xvb2t1cEZvcihjbmwudGFyZ2V0LCBjbmwubWV0aG9kKTtcbiAgICAgICAgICAgIGRlbGV0ZSBsb29rdXBbY25sLmxvb2t1cFZhbHVlXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXF1YWxzRGVmYXVsdFNpdGVDb25maWcoY29uZmlnOiBTaXRlQ29uZmlnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLnByZWZlcnJlZEVudHJ5VXVpZCA9PT0gXCJib29sZWFuXCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcucHJldmVudFNhdmVOb3RpZmljYXRpb24gPT09IFwiYm9vbGVhblwiKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmxpc3RNYXRjaGluZ0Nhc2VTZW5zaXRpdmUgPT09IFwiYm9vbGVhblwiKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb25maWcud2hpdGVMaXN0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChjb25maWcuYmxhY2tMaXN0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgbGVhc3RTcGVjaWZpY1RhcmdldCh0MTogU2l0ZUNvbmZpZ1RhcmdldCwgdDI6IFNpdGVDb25maWdUYXJnZXQpOiBTaXRlQ29uZmlnVGFyZ2V0IHtcbiAgICAgICAgaWYgKHQxID09PSBcIkRvbWFpblwiIHx8IHQyID09PSBcIkRvbWFpblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJEb21haW5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodDEgPT09IFwiSG9zdFwiIHx8IHQyID09PSBcIkhvc3RcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiSG9zdFwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlBhZ2VcIjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdmFsdWVGcm9tVXJsKHVybDogVVJMLCB0YXJnZXQ6IFNpdGVDb25maWdUYXJnZXQpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBob3N0ID0gdXJsLmhvc3Q7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IFwiSG9zdFwiKSByZXR1cm4gaG9zdDtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gXCJQYWdlXCIpIHJldHVybiBob3N0ICsgdXJsLnBhdGhuYW1lO1xuICAgICAgICBpZiAodGFyZ2V0ID09PSBcIkRvbWFpblwiKSByZXR1cm4gdXRpbHMucHNsLmdldERvbWFpbihob3N0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkU2l0ZUNvbmZpZ1BhcmFtZXRlcnMoXG4gICAgICAgIHBhcnRpYWxDb25maWc6IFBhcnRpYWw8U2l0ZUNvbmZpZz4sXG4gICAgICAgIHVybDogVVJMLFxuICAgICAgICB0YXJnZXQ6IFNpdGVDb25maWdUYXJnZXQsXG4gICAgICAgIG1ldGhvZDogU2l0ZUNvbmZpZ01ldGhvZCxcbiAgICAgICAgc291cmNlOiBTaXRlQ29uZmlnTm9kZVR5cGVcbiAgICApIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlRnJvbVVybCh1cmwsIHRhcmdldCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xvb2t1cCA9IGNvbmZpZ01hbmFnZXIuc2l0ZUNvbmZpZ0xvb2t1cEZvcih0YXJnZXQsIG1ldGhvZCk7XG4gICAgICAgIGlmICghY29uZmlnTG9va3VwW3ZhbHVlXSkge1xuICAgICAgICAgICAgY29uZmlnTG9va3VwW3ZhbHVlXSA9IHsgY29uZmlnOiBuZXcgU2l0ZUNvbmZpZygpLCBzb3VyY2UsIG1hdGNoV2VpZ2h0OiAxMDAgfTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZ0xvb2t1cFt2YWx1ZV0uY29uZmlnLCBwYXJ0aWFsQ29uZmlnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBjb25maWdNYW5hZ2VyID0gbmV3IENvbmZpZ01hbmFnZXIoKTtcbiIsImltcG9ydCB7IGNvbmZpZ01hbmFnZXIgfSBmcm9tIFwiLi4vY29tbW9uL0NvbmZpZ01hbmFnZXJcIjtcblxuZXhwb3J0IGNsYXNzIFBhbmVsU3R1Yk9wdGlvbnMge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXV0b0Nsb3NlVGltZTogbnVtYmVyO1xuICAgIGxlZ2FjeTogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBzdGF0aWMgTWF0Y2hlZExvZ2luczogUGFuZWxTdHViT3B0aW9ucyA9IHtcbiAgICAgICAgaWQ6IFwiS2VlQWRkb25QYW5lbE1hdGNoZWRMb2dpbnNcIixcbiAgICAgICAgaGVpZ2h0OiAzMDAsXG4gICAgICAgIHdpZHRoOiA0MDAsXG4gICAgICAgIG5hbWU6IFwibWF0Y2hlZExvZ2luc0xlZ2FjeVwiLFxuICAgICAgICBhdXRvQ2xvc2VUaW1lOiAwLFxuICAgICAgICBsZWdhY3k6IHRydWVcbiAgICB9O1xuXG4gICAgcHVibGljIHN0YXRpYyBHZW5lcmF0ZVBhc3N3b3JkTGVnYWN5OiBQYW5lbFN0dWJPcHRpb25zID0ge1xuICAgICAgICBpZDogXCJLZWVBZGRvblBhbmVsR2VuZXJhdGVQYXNzd29yZFwiLFxuICAgICAgICBoZWlnaHQ6IDMwMCxcbiAgICAgICAgd2lkdGg6IDQwMCxcbiAgICAgICAgbmFtZTogXCJnZW5lcmF0ZVBhc3N3b3JkTGVnYWN5XCIsXG4gICAgICAgIGF1dG9DbG9zZVRpbWU6IDAsXG4gICAgICAgIGxlZ2FjeTogdHJ1ZVxuICAgIH07XG5cbiAgICBwdWJsaWMgc3RhdGljIEdlbmVyYXRlUGFzc3dvcmQ6IFBhbmVsU3R1Yk9wdGlvbnMgPSB7XG4gICAgICAgIGlkOiBcIktlZUFkZG9uUGFuZWxHZW5lcmF0ZVBhc3N3b3JkXCIsXG4gICAgICAgIGhlaWdodDogNTAwLFxuICAgICAgICB3aWR0aDogNDUwLFxuICAgICAgICBuYW1lOiBcImdlbmVyYXRlUGFzc3dvcmRcIixcbiAgICAgICAgYXV0b0Nsb3NlVGltZTogMCxcbiAgICAgICAgbGVnYWN5OiBmYWxzZVxuICAgIH07XG59XG5cbmV4cG9ydCBjbGFzcyBQYW5lbFN0dWIge1xuICAgIHByaXZhdGUgdGFyZ2V0OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSB0YXJnZXRSZWxhdGl2ZVJlY3Q6IENsaWVudFJlY3Q7XG4gICAgcHJpdmF0ZSBvcHRpb25zOiBQYW5lbFN0dWJPcHRpb25zO1xuICAgIHByaXZhdGUgcGFyZW50RnJhbWVJZDogbnVtYmVyO1xuICAgIHByaXZhdGUgZWxlbWVudFRvUmVmb2N1czogRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBhbmVsU3R1Yk9wdGlvbnMsIHRhcmdldDogSFRNTEVsZW1lbnQsIHBhcmVudEZyYW1lSWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5wYXJlbnRGcmFtZUlkID0gcGFyZW50RnJhbWVJZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlUGFuZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmFtZSA9PSBcImdlbmVyYXRlUGFzc3dvcmRcIikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50VG9SZWZvY3VzID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuY29udGFpbmVyLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwiY2xvc2VkXCIgfSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlkID0gdGhpcy5vcHRpb25zLmlkO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgOmhvc3QoZGl2KSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ3ICFpbXBvcnRhbnQ7XG4gICAgICAgIH1gO1xuICAgICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QgPSB0aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25QYW5lbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJ3aWR0aFwiLCB0aGlzLm9wdGlvbnMud2lkdGggKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgdGhpcy5vcHRpb25zLmhlaWdodCArIFwicHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBcInRvcFwiLFxuICAgICAgICAgICAgICAgICh3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLm9wdGlvbnMuaGVpZ2h0KSAvIDIgKyB3aW5kb3cuc2Nyb2xsWSArIFwicHhcIixcbiAgICAgICAgICAgICAgICBcImltcG9ydGFudFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgXCJsZWZ0XCIsXG4gICAgICAgICAgICAgICAgKHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy5vcHRpb25zLndpZHRoKSAvIDIgKyB3aW5kb3cuc2Nyb2xsWCArIFwicHhcIixcbiAgICAgICAgICAgICAgICBcImltcG9ydGFudFwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcInNhbmRib3hcIiwgXCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luXCIpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiYWxsb3dcIiwgXCJcIik7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcIndpZHRoXCIsIFwiMTAwJVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwiaGVpZ2h0XCIsIFwiMTAwJVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIiwgXCJibG9ja1wiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFwicG9zaXRpb25cIiwgXCJyZWxhdGl2ZVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXG4gICAgICAgICAgICBjb25maWdNYW5hZ2VyLmFjdGl2ZVRoZW1lID09PSBcImRhcmtcIiA/IFwiIzFlMWUxZVwiIDogXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcImltcG9ydGFudFwiXG4gICAgICAgICk7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzY3JvbGxpbmdcIiwgXCJub1wiKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sZWdhY3kpIHtcbiAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcImJvcmRlclwiLCBcIm5vbmVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUuc2V0UHJvcGVydHkoXCJib3JkZXJcIiwgXCIycHggc29saWQgIzFhNDY2YlwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eShcImJvcmRlci1yYWRpdXNcIiwgXCI4cHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBicm93c2VyLmV4dGVuc2lvbi5nZXRVUkwoXG4gICAgICAgICAgICBgcGFuZWxzL3BhbmVscyR7dGhpcy5vcHRpb25zLmxlZ2FjeSA/IFwiTGVnYWN5XCIgOiBcIlwifS5odG1sYFxuICAgICAgICApO1xuICAgICAgICBpZnJhbWUuc3JjID0gYCR7dGVtcGxhdGV9P3BhcmVudEZyYW1lSWQ9JHt0aGlzLnBhcmVudEZyYW1lSWR9JmF1dG9DbG9zZVRpbWU9JHt0aGlzLm9wdGlvbnMuYXV0b0Nsb3NlVGltZX0mcGFuZWw9JHt0aGlzLm9wdGlvbnMubmFtZX0mdGhlbWU9JHtjb25maWdNYW5hZ2VyLmFjdGl2ZVRoZW1lfWA7XG5cbiAgICAgICAgY29uc3QgYm9keUVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpO1xuICAgICAgICBpZiAoYm9keUVsZW1lbnRzICYmIGJvZHlFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBib2R5RWxlbWVudHNbMF0uYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZnJhbWVzZXRFbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZnJhbWVzZXRcIik7XG4gICAgICAgICAgICBpZiAoZnJhbWVzZXRFbGVtZW50cyAmJiBmcmFtZXNldEVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmcmFtZXNldEVsZW1lbnRzWzBdLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVCb3VuZGluZ0NsaWVudFJlY3QoKSB7XG4gICAgICAgIGNvbnN0IG9sZFJlY3QgPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdDtcbiAgICAgICAgdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QgPSB0aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBvbGRSZWN0LnRvcCAhPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC50b3AgfHxcbiAgICAgICAgICAgIG9sZFJlY3QuYm90dG9tICE9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmJvdHRvbSB8fFxuICAgICAgICAgICAgb2xkUmVjdC5sZWZ0ICE9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmxlZnQgfHxcbiAgICAgICAgICAgIG9sZFJlY3QucmlnaHQgIT0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QucmlnaHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uUGFuZWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcG9zaXRpb25QYW5lbCgpIHtcbiAgICAgICAgY29uc3QgcHJlZmVycmVkQ29udGFpbmVySGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodDtcbiAgICAgICAgbGV0IGNvbnRhaW5lckhlaWdodCA9IHByZWZlcnJlZENvbnRhaW5lckhlaWdodDtcbiAgICAgICAgY29uc3QgY29udGFpbmVyV2lkdGggPSB0aGlzLm9wdGlvbnMud2lkdGg7XG4gICAgICAgIGxldCBwb3NpdGlvbkFib3ZlID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0VG9wID0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QudG9wICsgd2luZG93LnNjcm9sbFk7XG4gICAgICAgIGNvbnN0IHRhcmdldEJvdHRvbSA9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmJvdHRvbSArIHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICBjb25zdCBwcmVmZXJyZWRBcnJvd1hDb29yZCA9IHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LnJpZ2h0IC0gMTI7XG5cbiAgICAgICAgY29uc3QgcHJlZmVycmVkQm90dG9tID0gdGhpcy50YXJnZXRSZWxhdGl2ZVJlY3QuYm90dG9tICsgcHJlZmVycmVkQ29udGFpbmVySGVpZ2h0O1xuICAgICAgICBpZiAocHJlZmVycmVkQm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmZXJyZWRUb3AgPSB0aGlzLnRhcmdldFJlbGF0aXZlUmVjdC50b3AgLSBwcmVmZXJyZWRDb250YWluZXJIZWlnaHQ7XG4gICAgICAgICAgICBpZiAocHJlZmVycmVkVG9wID49IDApIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkFib3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3dCb3R0b20gPSBwcmVmZXJyZWRCb3R0b20gLSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3dUb3AgPSAtcHJlZmVycmVkVG9wO1xuICAgICAgICAgICAgICAgIGlmIChvdmVyZmxvd0JvdHRvbSA+IG92ZXJmbG93VG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQWJvdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBwcmVmZXJyZWRDb250YWluZXJIZWlnaHQgLSBvdmVyZmxvd1RvcDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBwcmVmZXJyZWRDb250YWluZXJIZWlnaHQgLSBvdmVyZmxvd0JvdHRvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZlIGFzIGZhciBsZWZ0IGFzIHBvc3NpYmxlIHdoaWxlIGtlZXBpbmcgdGhlIEtlZSBpY29uIGFib3ZlIHRoZSBjb250YWluZXIgYW5kIG5vdFxuICAgICAgICAvLyBnb2luZyBiZXlvbmQgdGhlIGxlZnQgZWRnZSBvZiB0aGUgdGFyZ2V0LiBXZSBhc3N1bWUgdGhlIEtlZSBpY29uIGlzIGFsd2F5cyB2aXNpYmxlIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIHVzZXIgaGFzIGhhZCB0byBpbnRlcmFjdCB3aXRoIHRoZSBidXR0b24gaW5pdGlhbGx5LiBUaGF0IGFzc3VtcHRpb24gd29uJ3QgYWx3YXlzIGhvbGRcbiAgICAgICAgLy8gLSBlLmcuIGluIHZlcnkgbmFycm93IHNjcmVlbnMgd2l0aCBrZXlib2FyZCBhY3RpdmF0aW9uIG9yIHNvbWUgbGF0ZXIgd2luZG93IG9yIERPTSBhZGp1c3RtZW50cyBidXQgdGhpcyBzaG91bGRcbiAgICAgICAgLy8gYmUgYW4gZWRnZSBjYXNlIHRoYXQgdXNlcnMgY2FuIHdvcmsgYXJvdW5kIHVudGlsIHdlIGhhdmUgbW9yZSB0aW1lIHRvIGV4dGVuZCBzdXBwb3J0IHRvIHRob3NlIHNjZW5hcmlvcy5cbiAgICAgICAgY29uc3QgdGFyZ2V0V2lkdGggPSBwcmVmZXJyZWRBcnJvd1hDb29yZCAtIHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmxlZnQ7XG4gICAgICAgIGxldCByZWxhdGl2ZUxlZnQ6IG51bWJlcjtcbiAgICAgICAgaWYgKHRhcmdldFdpZHRoIDwgY29udGFpbmVyV2lkdGgpIHtcbiAgICAgICAgICAgIHJlbGF0aXZlTGVmdCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0UmVsYXRpdmVSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGggLSBjb250YWluZXJXaWR0aFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbGF0aXZlTGVmdCA9IHByZWZlcnJlZEFycm93WENvb3JkIC0gY29udGFpbmVyV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b3AgPSBwb3NpdGlvbkFib3ZlID8gdGFyZ2V0VG9wIC0gY29udGFpbmVySGVpZ2h0IDogdGFyZ2V0Qm90dG9tO1xuICAgICAgICBjb25zdCBsZWZ0ID0gcmVsYXRpdmVMZWZ0ICsgd2luZG93LnNjcm9sbFg7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KFwid2lkdGhcIiwgY29udGFpbmVyV2lkdGggKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcImhlaWdodFwiLCBjb250YWluZXJIZWlnaHQgKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcInRvcFwiLCB0b3AgKyBcInB4XCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eShcImxlZnRcIiwgbGVmdCArIFwicHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlUGFuZWwoKSB7XG4gICAgICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRpb25zLmlkKTtcbiAgICAgICAgaWYgKHBhbmVsKSBwYW5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBhbmVsKTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudFRvUmVmb2N1cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAodGhpcy5lbGVtZW50VG9SZWZvY3VzIGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gRXhwZWN0ZWQgaWYgYWN0aXZlRWxlbWVudCB3YXMgbm90IGFjdHVhbGx5IGFuIEhUTUxFbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZW51bSBBY3Rpb24ge1xuICAgIENsb3NlQWxsUGFuZWxzID0gXCJjbG9zZUFsbFBhbmVsc1wiLFxuICAgIERldGVjdEZvcm1zID0gXCJkZXRlY3RGb3Jtc1wiLFxuICAgIFJlc2V0Rm9ybXMgPSBcInJlc2V0Rm9ybXNcIixcbiAgICBHZXRQYXNzd29yZFByb2ZpbGVzID0gXCJnZXRQYXNzd29yZFByb2ZpbGVzXCIsXG4gICAgR2VuZXJhdGVQYXNzd29yZCA9IFwiZ2VuZXJhdGVQYXNzd29yZFwiLFxuICAgIE1hbnVhbEZpbGwgPSBcIm1hbnVhbEZpbGxcIixcbiAgICBQcmltYXJ5ID0gXCJwcmltYXJ5XCIsXG4gICAgU2hvd01hdGNoZWRMb2dpbnNQYW5lbCA9IFwic2hvd01hdGNoZWRMb2dpbnNQYW5lbFwiLFxuICAgIFBhZ2VIaWRlID0gXCJwYWdlSGlkZVwiLFxuICAgIE9wZW5LZWVQYXNzID0gXCJvcGVua2VlcGFzc1wiLFxuICAgIENyZWF0ZUVudHJ5ID0gXCJjcmVhdGVFbnRyeVwiLFxuICAgIFVwZGF0ZUVudHJ5ID0gXCJ1cGRhdGVFbnRyeVwiXG59XG4iLCJpbXBvcnQgeyBGb3JtVXRpbHMgfSBmcm9tIFwiLi9mb3Jtc1V0aWxzXCI7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tIFwiLi4vY29tbW9uL0FjdGlvblwiO1xuaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4uL2NvbW1vbi9BZGRvbk1lc3NhZ2VcIjtcbmltcG9ydCB7IE1hdGNoZWRGaWVsZCB9IGZyb20gXCIuL01hdGNoZWRGaWVsZFwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5XCI7XG5cbmV4cG9ydCBjbGFzcyBLZWVGaWVsZEljb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG15UG9ydDogYnJvd3Nlci5ydW50aW1lLlBvcnQsXG4gICAgICAgIHByaXZhdGUgcGFyZW50RnJhbWVJZDogbnVtYmVyLFxuICAgICAgICBwcml2YXRlIGZvcm1VdGlsczogRm9ybVV0aWxzLFxuICAgICAgICBwcml2YXRlIGNyZWF0ZU1hdGNoZWRMb2dpbnNQYW5lbE5lYXJOb2RlOiAoZTogSFRNTEVsZW1lbnQpID0+IHZvaWRcbiAgICApIHt9XG5cbiAgICBwcml2YXRlIGZpZWxkc1dpdGhJY29uczogTWF0Y2hlZEZpZWxkW10gPSBbXTtcbiAgICBwcml2YXRlIHBhc3N3b3JkRmllbGRzOiBNYXRjaGVkRmllbGRbXTtcbiAgICBwcml2YXRlIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXTtcblxuICAgIHB1YmxpYyByZW1vdmVLZWVJY29uRnJvbUFsbEZpZWxkcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiB0aGlzLmZpZWxkc1dpdGhJY29ucykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudDogSFRNTEVsZW1lbnQgPSBmaWVsZC5ET01lbGVtZW50O1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSBjb250aW51ZTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJcIik7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1yZXBlYXRcIiwgXCJcIik7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCIsIFwiXCIpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtc2l6ZVwiLCBcIlwiKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmllbGRzV2l0aEljb25zID0gW107XG4gICAgICAgIHRoaXMucGFzc3dvcmRGaWVsZHMgPSBudWxsO1xuICAgICAgICB0aGlzLm90aGVyRmllbGRzID0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkS2VlSWNvblRvRmllbGRzKFxuICAgICAgICBwYXNzd29yZEZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgZW50cmllczogRW50cnlbXVxuICAgICkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkRmllbGRzID0gcGFzc3dvcmRGaWVsZHM7XG4gICAgICAgIHRoaXMub3RoZXJGaWVsZHMgPSBvdGhlckZpZWxkcztcblxuICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmdldExhYmVsbGVkSWNvbihlbnRyaWVzLmxlbmd0aC50b1N0cmluZygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJJbWFnZUxvYWRlZCh0aGlzLktFRUZPWF9JQ09OXzE2KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2tpcEZpZWxkKGZpZWxkOiBNYXRjaGVkRmllbGQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIXRoaXMuZm9ybVV0aWxzLmlzQVRleHRGb3JtRmllbGRUeXBlKGZpZWxkLmZpZWxkLnR5cGUpICYmXG4gICAgICAgICAgICBmaWVsZC5maWVsZC50eXBlICE9IFwicGFzc3dvcmRcIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFmaWVsZC5ET01lbGVtZW50IHx8XG4gICAgICAgICAgICBmaWVsZC5ET01lbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQgfHxcbiAgICAgICAgICAgICFmaWVsZC5ET01lbGVtZW50LmlzQ29ubmVjdGVkXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLkRPTWVsZW1lbnQubWF4TGVuZ3RoID4gMCAmJiBmaWVsZC5ET01lbGVtZW50Lm1heExlbmd0aCA8PSAzKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGZpZWxkLkRPTWVsZW1lbnQub2Zmc2V0V2lkdGggPCA1MCkgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZEljb24oZmllbGQ6IE1hdGNoZWRGaWVsZCwgaW1hZ2U6IHN0cmluZykge1xuICAgICAgICB0aGlzLmZpZWxkc1dpdGhJY29ucy5wdXNoKGZpZWxkKTtcblxuICAgICAgICBjb25zdCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IGZpZWxkLkRPTWVsZW1lbnQ7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcyk7XG5cbiAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJ1cmwoJ1wiICsgaW1hZ2UgKyBcIicpXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1yZXBlYXRcIiwgXCJuby1yZXBlYXRcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLWF0dGFjaG1lbnRcIiwgXCJzY3JvbGxcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLXNpemVcIiwgXCIxNnB4IDE2cHhcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsIFwiY2FsYygxMDAlIC0gNHB4KSA1MCVcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJjdXJzb3JcIiwgXCJhdXRvXCIpO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25Db25maWcgPSB3aW5kb3dcbiAgICAgICAgICAgIC5nZXRDb21wdXRlZFN0eWxlKGZpZWxkLkRPTWVsZW1lbnQpXG4gICAgICAgICAgICAuZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zaXRpb24tcHJvcGVydHlcIik7XG4gICAgICAgIGlmIChbXCJhbGxcIiwgXCJiYWNrZ3JvdW5kXCJdLnNvbWUodmFsID0+IHRyYW5zaXRpb25Db25maWcuaW5jbHVkZXModmFsKSkpIHtcbiAgICAgICAgICAgIGZpZWxkLkRPTWVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJ0cmFuc2l0aW9uXCIsIFwibm9uZVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3ZlcnJpZGVCb3hTaGFkb3dzKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBoYW5kbGVFdmVudChlOiBFdmVudCkge1xuICAgICAgICBpZiAoZS50eXBlID09PSBcImNsaWNrXCIpIHRoaXMuc2hvd01hdGNoZWRMb2dpbnNQYW5lbChlKTtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJtb3VzZW1vdmVcIikgdGhpcy5ob3Zlck92ZXJJbnB1dChlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxpbWl0RmllbGRzKGZpZWxkczogTWF0Y2hlZEZpZWxkW10pIHtcbiAgICAgICAgY29uc3Qgb3JkZXJlZEZpZWxkcyA9IGZpZWxkc1xuICAgICAgICAgICAgLmZpbHRlcihmID0+ICF0aGlzLnNraXBGaWVsZChmKSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGEuaGlnaGVzdFNjb3JlID09PSBiLmhpZ2hlc3RTY29yZSkgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuaGlnaGVzdFNjb3JlIDwgYi5oaWdoZXN0U2NvcmUgPyAxIDogLTE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9yZGVyZWRGaWVsZHMuc2xpY2UoMCwgMik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZnRlckltYWdlTG9hZGVkKGltYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgLy8gUHV0IGljb25zIGluIG9ubHkgdGhlIHRvcCAyIG1hdGNoaW5nIHBhc3N3b3JkIGFuZCB0ZXh0IGZpZWxkc1xuICAgICAgICBjb25zdCBmaWVsZFNldDEgPSB0aGlzLmxpbWl0RmllbGRzKHRoaXMucGFzc3dvcmRGaWVsZHMpO1xuICAgICAgICBjb25zdCBmaWVsZFNldDIgPSB0aGlzLmxpbWl0RmllbGRzKHRoaXMub3RoZXJGaWVsZHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkU2V0MS5jb25jYXQoZmllbGRTZXQyKSkge1xuICAgICAgICAgICAgdGhpcy5hZGRJY29uKGZpZWxkLCBpbWFnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG92ZXJyaWRlQm94U2hhZG93cyhlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjdXJyZW50U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgICAgaWYgKGN1cnJlbnRTdHlsZSkge1xuICAgICAgICAgICAgY29uc3Qgc2hhZG93cyA9IFtdO1xuICAgICAgICAgICAgc2hhZG93cy5wdXNoKGN1cnJlbnRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiYm94LXNoYWRvd1wiKSk7XG4gICAgICAgICAgICBzaGFkb3dzLnB1c2goY3VycmVudFN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCItd2Via2l0LWJveC1zaGFkb3dcIikpO1xuICAgICAgICAgICAgc2hhZG93cy5wdXNoKGN1cnJlbnRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiLW1vei1ib3gtc2hhZG93XCIpKTtcbiAgICAgICAgICAgIGlmIChzaGFkb3dzLnNvbWUocyA9PiBzLmluZGV4T2YoXCJpbnNldFwiKSkpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYm94LXNoYWRvd1wiLCBcImluaXRpYWxcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi13ZWJraXQtYm94LXNoYWRvd1wiLCBcImluaXRpYWxcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi1tb3otYm94LXNoYWRvd1wiLCBcImluaXRpYWxcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3dNYXRjaGVkTG9naW5zUGFuZWwoZSkge1xuICAgICAgICBjb25zdCBiY3JlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVmdExpbWl0ID0gYmNyZWN0LmxlZnQgKyBiY3JlY3Qud2lkdGggLSAyMjtcbiAgICAgICAgaWYgKGUuY2xpZW50WCA+IGxlZnRMaW1pdCAmJiBiY3JlY3QudG9wIDw9IGUuY2xpZW50WSAmJiBlLmNsaWVudFkgPD0gYmNyZWN0LmJvdHRvbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50RnJhbWVJZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubXlQb3J0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBBY3Rpb24uU2hvd01hdGNoZWRMb2dpbnNQYW5lbFxuICAgICAgICAgICAgICAgIH0gYXMgQWRkb25NZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVNYXRjaGVkTG9naW5zUGFuZWxOZWFyTm9kZShlLnRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhvdmVyT3ZlcklucHV0KGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmRpc2FibGVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJjcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBsZWZ0TGltaXQgPSBiY3JlY3QubGVmdCArIGJjcmVjdC53aWR0aCAtIDIyO1xuICAgICAgICBpZiAoZS5jbGllbnRYID4gbGVmdExpbWl0KSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShcImN1cnNvclwiLCBcInBvaW50ZXJcIiwgXCJpbXBvcnRhbnRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZS50YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkoXCJjdXJzb3JcIiwgXCJhdXRvXCIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TGFiZWxsZWRJY29uKHRleHQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMTY7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDYsIDgsIDEwLCA4KTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJyZWRcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IFwiOHB4IEFyaWFsXCI7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRleHQsIDcsIDE1KTtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJJbWFnZUxvYWRlZChjYW52YXMudG9EYXRhVVJMKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgaW1nLnNyYyA9IHRoaXMuS0VFRk9YX0lDT05fMTY7XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgS0VFRk9YX0lDT05fMTYgPVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBWUFBQUFmOC85aEFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBQTdBQUFBT3dCZVNoeHZRQUFBQmwwUlZoMFUyOW1kSGRoY21VQWQzZDNMbWx1YTNOallYQmxMbTl5WjV2dVBCb0FBQUFPZEVWWWRGUnBkR3hsQUV0bFpTQnNiMmR2TjU5QjlBQUFBQkIwUlZoMFFYVjBhRzl5QUV0bFpTQldZWFZzZEdYd3k1VUFBQUg4U1VSQlZEaU5oWkRmUzFOaEdNYy96M3ZPRUhlYTBsZ1hya2lzdkFyV1RVU2xGOVhGSUtqL3dhdWd0UCtoZXkvTTV2cEZOMEVnNFVWQjBXQVJTZ2xDMElYMkF3d3R6ZHl3cHBZc3o4NjI4NzVkekxtRGJmVGN2ZC9uOC8wK1gxNkpYNzRTeGd0OUFIclltWWhWZlRiWjg4WjYvU2VXVkVDL3N6RjFickd2VkRUMkpScXpWTExVQ1RsMjhYcmJ0cThMd0w3Nkp0VTFheExoTFRtLzJBL0ExSkZwNXR4T001UlBTQ0JnTTJ5cExyV1FTWGtJRCt0cWQ4amxqTE1wanZnTVJGY1kyUCtOc1BJNTdXeElkOGdOK0htd2tFbDVOb0JVdVdVc3JnSXFabnU3eExYb2w2Q0JtRjFtdWRJT1VEVTJhUUFGc1BvcS9Sa2pHWUI1TDRLbkZYdkgwNHA1endIQXdOUDhpL1R5YmdBQVlrWUJpdHBpZUwwWFAyRDJnZUgxWG9yYXJxRzZ4Z0lFUDBYaXljSDN3SEdBVSswYjNENDRoNnN0aHZJSlp0M09Pdll1bHgwN1dUY0Z1eG9qamVTbFNxM3UxM0tZVDZWSUF3b3dld093dHRvZUlSU0Myc3gybElxcFk1S1BkaHg0M0RMZys4eUlLM0EvcUoxMTFnbUpydG1OdnZOeDRrYTVaUUNBMHBJR0tobzBRRVQ1QUFZb1ZVWGYrNGZmSzZ5OEhNc0JFeVZ0dVFDL2RRZ2ZNUmpHMTdKM2YvdzNBRUFyYzdPbzdmRDRyME9NRkk2aWpTaFJhclFaSzgxRWdIaHljQnJvMjNsTzVyTHBDODI0cGcwQXhFampvdEQwT29EZGFyRmFpVDA1M0xiMlZoQi91ZVBuODFiY1greFh1N3Jlc2w5UkFBQUFBRWxGVGtTdVFtQ0NcIjtcbn1cbiIsImltcG9ydCB7IEZpbGxlZEZpZWxkIH0gZnJvbSBcIi4vRmlsbGVkRmllbGRcIjtcbmltcG9ydCB7IEVudHJ5IH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9FbnRyeVwiO1xuaW1wb3J0IHsgTWF0Y2hlZEZpZWxkIH0gZnJvbSBcIi4vTWF0Y2hlZEZpZWxkXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXRjaFJlc3VsdCB7XG4gICAgZW50cmllczogRW50cnlbXVtdO1xuICAgIHN1Ym1pdFRhcmdldHM6IEhUTUxFbGVtZW50W107XG4gICAgdXNlcm5hbWVJbmRleEFycmF5OiBudW1iZXJbXTtcbiAgICBwYXNzd29yZEZpZWxkc0FycmF5OiBNYXRjaGVkRmllbGRbXVtdO1xuICAgIG90aGVyRmllbGRzQXJyYXk6IE1hdGNoZWRGaWVsZFtdW107XG4gICAgY3VycmVudFBhZ2U6IG51bWJlcjtcbiAgICBhbGxNYXRjaGluZ0xvZ2luczogYW55W107XG4gICAgZm9ybVJlbGV2YW5jZVNjb3JlczogbnVtYmVyW107XG4gICAgVVVJRDogc3RyaW5nO1xuICAgIG11c3RBdXRvRmlsbEZvcm06IGJvb2xlYW47XG4gICAgY2Fubm90QXV0b0ZpbGxGb3JtOiBib29sZWFuO1xuICAgIG11c3RBdXRvU3VibWl0Rm9ybTogYm9vbGVhbjtcbiAgICBjYW5ub3RBdXRvU3VibWl0Rm9ybTogYm9vbGVhbjtcbiAgICBkYkZpbGVOYW1lOiBzdHJpbmc7XG4gICAgZG9jOiBEb2N1bWVudDtcbiAgICBmb3JtczogSFRNTEZvcm1FbGVtZW50W107XG4gICAgZm9ybVJlYWR5Rm9yU3VibWl0OiBib29sZWFuO1xuICAgIGF1dG9maWxsT25TdWNjZXNzOiBib29sZWFuO1xuICAgIGF1dG9zdWJtaXRPblN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgbm90aWZ5VXNlck9uU3VjY2VzczogYm9vbGVhbjtcbiAgICB3cmFwcGVyczogYW55W107XG4gICAgcmVxdWVzdENvdW50OiBudW1iZXI7XG4gICAgcmVzcG9uc2VDb3VudDogbnVtYmVyO1xuICAgIHJlcXVlc3RJZHM6IGFueVtdO1xuICAgIG1vc3RSZWxldmFudEZvcm1JbmRleD86IG51bWJlcjtcbiAgICBsYXN0RmlsbGVkT3RoZXI6IEZpbGxlZEZpZWxkW107XG4gICAgbGFzdEZpbGxlZFBhc3N3b3JkczogRmlsbGVkRmllbGRbXTtcbn1cbiIsImV4cG9ydCBlbnVtIFNlc3Npb25UeXBlIHtcbiAgICBFdmVudCA9IFwiZXZlbnRcIixcbiAgICBXZWJzb2NrZXQgPSBcIndlYnNvY2tldFwiXG59XG4iLCJpbXBvcnQgeyBFbnRyeSB9IGZyb20gXCIuL0VudHJ5XCI7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSBcIi4vSWNvblwiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IEVudHJ5U3VtbWFyeUR0byB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuXG5leHBvcnQgY2xhc3MgRW50cnlTdW1tYXJ5IHtcbiAgICBpY29uOiBJY29uO1xuICAgIHVzZXJuYW1lVmFsdWU6IHN0cmluZztcbiAgICB1c2VybmFtZU5hbWU6IHN0cmluZztcbiAgICBwYXRoOiBzdHJpbmc7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICB1UkxzOiBzdHJpbmdbXTtcbiAgICB1cmw6IHN0cmluZztcbiAgICB1dWlkOiBzdHJpbmc7XG4gICAgZGJGaWxlTmFtZTogc3RyaW5nO1xuICAgIHJlbGV2YW5jZVNjb3JlOiBudW1iZXI7XG4gICAgZnVsbERldGFpbHM/OiBFbnRyeTsgLy9UT0RPOjQ6IHJlbW92ZSBjaXJjdWxhciByZWZlcmVuY2UgYnkgbWFpbnRhaW5pbmcgaW5kZXBlbmRlbnQgRW50cnkgbG9va3VwIGJ5IHV1aWQ/XG4gICAgaXNQcmVmZXJyZWRNYXRjaD86IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihlOiBQYXJ0aWFsPEVudHJ5U3VtbWFyeT4pIHtcbiAgICAgICAgdGhpcy5pY29uID0gZS5pY29uIHx8IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogXCJcIiB9O1xuICAgICAgICB0aGlzLnVzZXJuYW1lVmFsdWUgPSBlLnVzZXJuYW1lVmFsdWUgfHwgXCI8bm8gdXNlcm5hbWU+XCI7XG4gICAgICAgIHRoaXMudXNlcm5hbWVOYW1lID0gZS51c2VybmFtZU5hbWUgfHwgXCI8bm8gdXNlcm5hbWU+XCI7XG4gICAgICAgIHRoaXMucGF0aCA9IGUucGF0aCB8fCBcIlVOS05PV04gUEFUSFwiO1xuICAgICAgICB0aGlzLnRpdGxlID0gZS50aXRsZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnVSTHMgPSBlLnVSTHMgfHwgW107XG4gICAgICAgIHRoaXMudXJsID0gZT8udXJsIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudXVpZCA9IGUudXVpZCB8fCB1dGlscy5uZXdHVUlEKCk7XG4gICAgICAgIHRoaXMuZGJGaWxlTmFtZSA9IGUuZGJGaWxlTmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnJlbGV2YW5jZVNjb3JlID0gZS5yZWxldmFuY2VTY29yZTtcbiAgICAgICAgdGhpcy5mdWxsRGV0YWlscyA9IGUuZnVsbERldGFpbHM7XG4gICAgICAgIHRoaXMuaXNQcmVmZXJyZWRNYXRjaCA9IGUuaXNQcmVmZXJyZWRNYXRjaDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21FbnRyeShlbnRyeTogRW50cnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbnRyeVN1bW1hcnkoe1xuICAgICAgICAgICAgaWNvbjogZW50cnkuaWNvbixcbiAgICAgICAgICAgIHVzZXJuYW1lVmFsdWU6IEVudHJ5LmdldFVzZXJuYW1lRmllbGQoZW50cnkpPy52YWx1ZSxcbiAgICAgICAgICAgIHVzZXJuYW1lTmFtZTogRW50cnkuZ2V0VXNlcm5hbWVGaWVsZChlbnRyeSk/Lm5hbWUsXG4gICAgICAgICAgICB0aXRsZTogZW50cnkudGl0bGUsXG4gICAgICAgICAgICB1UkxzOiBlbnRyeS5VUkxzLFxuICAgICAgICAgICAgdXJsOiBlbnRyeT8uVVJMc1swXSxcbiAgICAgICAgICAgIHV1aWQ6IGVudHJ5LnV1aWQsXG4gICAgICAgICAgICBkYkZpbGVOYW1lOiBlbnRyeS5kYXRhYmFzZS5maWxlTmFtZSxcbiAgICAgICAgICAgIGZ1bGxEZXRhaWxzOiBlbnRyeSxcbiAgICAgICAgICAgIGlzUHJlZmVycmVkTWF0Y2g6IGVudHJ5LmlzUHJlZmVycmVkTWF0Y2hcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmcm9tS1BSUENFbnRyeVN1bW1hcnlEVE8oXG4gICAgICAgIGVudHJ5U3VtbWFyeUR0bzogRW50cnlTdW1tYXJ5RHRvLFxuICAgICAgICBwYXRoOiBzdHJpbmcsXG4gICAgICAgIGRiRmlsZU5hbWU6IHN0cmluZ1xuICAgICkge1xuICAgICAgICByZXR1cm4gbmV3IEVudHJ5U3VtbWFyeSh7XG4gICAgICAgICAgICBpY29uOiB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IGVudHJ5U3VtbWFyeUR0by5pY29uSW1hZ2VEYXRhIH0sXG4gICAgICAgICAgICB1c2VybmFtZVZhbHVlOiBlbnRyeVN1bW1hcnlEdG8udXNlcm5hbWVWYWx1ZSxcbiAgICAgICAgICAgIHVzZXJuYW1lTmFtZTogZW50cnlTdW1tYXJ5RHRvLnVzZXJuYW1lTmFtZSxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICB0aXRsZTogZW50cnlTdW1tYXJ5RHRvLnRpdGxlLFxuICAgICAgICAgICAgdVJMczogZW50cnlTdW1tYXJ5RHRvLnVSTHMsXG4gICAgICAgICAgICB1cmw6IGVudHJ5U3VtbWFyeUR0bz8udVJMc1swXSxcbiAgICAgICAgICAgIHV1aWQ6IGVudHJ5U3VtbWFyeUR0by51bmlxdWVJRCxcbiAgICAgICAgICAgIGRiRmlsZU5hbWVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRW50cnlTdW1tYXJ5IH0gZnJvbSBcIi4vRW50cnlTdW1tYXJ5XCI7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSBcIi4vSWNvblwiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IEdyb3VwRHRvIH0gZnJvbSBcIi4vS1BSUENEVE9zXCI7XG5cbmV4cG9ydCBjbGFzcyBHcm91cCB7XG4gICAgcmVhZG9ubHkgdGl0bGU6IHN0cmluZztcbiAgICByZWFkb25seSB1dWlkOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgaWNvbjogSWNvbjtcbiAgICByZWFkb25seSBwYXRoOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgZW50cnlTdW1tYXJpZXM6IEVudHJ5U3VtbWFyeVtdO1xuICAgIHJlYWRvbmx5IGdyb3VwczogR3JvdXBbXTtcbiAgICAvL2NoaWxkRW50cmllczogRW50cnlbXSAtIHRoaXMgaXMgb25seSBuZWVkZWQgaWYgd2UgZXZlciByZXF1ZXN0IEdldEFsbERhdGFiYXNlcyh0cnVlKSBidXQgS2VlIGN1cnJlbnRseSBoYXMgbm8gbmVlZCBmb3IgdGhpcyBLUFJQQyBmZWF0dXJlXG5cbiAgICBjb25zdHJ1Y3RvcihnOiBQYXJ0aWFsPEdyb3VwPikge1xuICAgICAgICB0aGlzLnRpdGxlID0gZy50aXRsZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnV1aWQgPSBnLnV1aWQgfHwgdXRpbHMubmV3R1VJRCgpO1xuICAgICAgICB0aGlzLmljb24gPSBnLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMucGF0aCA9IGcucGF0aCB8fCBcIlVOS05PV04gUEFUSFwiO1xuICAgICAgICB0aGlzLmVudHJ5U3VtbWFyaWVzID0gZy5lbnRyeVN1bW1hcmllcyB8fCBbXTtcbiAgICAgICAgdGhpcy5ncm91cHMgPSBnLmdyb3VwcyB8fCBbXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21LUFJQQ0dyb3VwRFRPKGdyb3VwRHRvOiBHcm91cER0bywgZGJGaWxlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JvdXAoe1xuICAgICAgICAgICAgdGl0bGU6IGdyb3VwRHRvLnRpdGxlLFxuICAgICAgICAgICAgdXVpZDogZ3JvdXBEdG8udW5pcXVlSUQsXG4gICAgICAgICAgICBpY29uOiB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IGdyb3VwRHRvLmljb25JbWFnZURhdGEgfSxcbiAgICAgICAgICAgIHBhdGg6IGdyb3VwRHRvLnBhdGgsXG4gICAgICAgICAgICBlbnRyeVN1bW1hcmllczogZ3JvdXBEdG8uY2hpbGRMaWdodEVudHJpZXMubWFwKGNoaWxkTGlnaHRFbnRyeSA9PlxuICAgICAgICAgICAgICAgIEVudHJ5U3VtbWFyeS5mcm9tS1BSUENFbnRyeVN1bW1hcnlEVE8oY2hpbGRMaWdodEVudHJ5LCBncm91cER0by5wYXRoLCBkYkZpbGVOYW1lKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGdyb3VwczogZ3JvdXBEdG8uY2hpbGRHcm91cHMubWFwKGNoaWxkR3JvdXAgPT5cbiAgICAgICAgICAgICAgICB0aGlzLmZyb21LUFJQQ0dyb3VwRFRPKGNoaWxkR3JvdXAsIGRiRmlsZU5hbWUpXG4gICAgICAgICAgICApXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgY29udGFpbnNJZChncm91cDogR3JvdXAsIGlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGdyb3VwLnV1aWQgPT09IGlkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGdyb3VwLmdyb3VwcyAmJiBncm91cC5ncm91cHMuc29tZShnID0+IEdyb3VwLmNvbnRhaW5zSWQoZywgaWQpKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTZXNzaW9uVHlwZSB9IGZyb20gXCIuL1Nlc3Npb25UeXBlXCI7XG5pbXBvcnQgeyBEYXRhYmFzZUR0byB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gXCIuL0ljb25cIjtcbmltcG9ydCB7IEdyb3VwIH0gZnJvbSBcIi4vR3JvdXBcIjtcblxuZXhwb3J0IGNsYXNzIERhdGFiYXNlIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZmlsZU5hbWU6IHN0cmluZztcbiAgICBpY29uOiBJY29uO1xuICAgIHJvb3Q6IEdyb3VwO1xuICAgIGFjdGl2ZTogYm9vbGVhbjtcbiAgICBzZXNzaW9uVHlwZTogU2Vzc2lvblR5cGU7XG4gICAgc2Vzc2lvbkZlYXR1cmVzOiBzdHJpbmdbXTtcblxuICAgIGNvbnN0cnVjdG9yKGRiOiBQYXJ0aWFsPERhdGFiYXNlPikge1xuICAgICAgICB0aGlzLm5hbWUgPSBkYi5uYW1lIHx8IFwiXCI7XG4gICAgICAgIHRoaXMuZmlsZU5hbWUgPSBkYi5maWxlTmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLmljb24gPSBkYi5pY29uIHx8IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogXCJcIiB9O1xuICAgICAgICB0aGlzLnJvb3QgPSBkYi5yb290IHx8IG5ldyBHcm91cCh7fSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZGIuYWN0aXZlIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLnNlc3Npb25UeXBlID0gZGIuc2Vzc2lvblR5cGUgfHwgU2Vzc2lvblR5cGUuRXZlbnQ7XG4gICAgICAgIHRoaXMuc2Vzc2lvbkZlYXR1cmVzID0gZGIuc2Vzc2lvbkZlYXR1cmVzIHx8IFtcIlwiXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21LUFJQQ0RhdGFiYXNlRFRPKFxuICAgICAgICBkdG86IERhdGFiYXNlRHRvLFxuICAgICAgICBzZXNzaW9uVHlwZTogU2Vzc2lvblR5cGUsXG4gICAgICAgIHNlc3Npb25GZWF0dXJlczogc3RyaW5nW11cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhYmFzZSh7XG4gICAgICAgICAgICBuYW1lOiBkdG8ubmFtZSxcbiAgICAgICAgICAgIGZpbGVOYW1lOiBkdG8uZmlsZU5hbWUsXG4gICAgICAgICAgICBpY29uOiB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IGR0by5pY29uSW1hZ2VEYXRhIH0sXG4gICAgICAgICAgICByb290OiBHcm91cC5mcm9tS1BSUENHcm91cERUTyhkdG8ucm9vdCwgZHRvLmZpbGVOYW1lKSxcbiAgICAgICAgICAgIGFjdGl2ZTogZHRvLmFjdGl2ZSxcbiAgICAgICAgICAgIHNlc3Npb25UeXBlLFxuICAgICAgICAgICAgc2Vzc2lvbkZlYXR1cmVzXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiAkKHNlbGVjdG9yOiBhbnksIGVsPzogRG9jdW1lbnQpIHtcbiAgICBpZiAoIWVsKSBlbCA9IGRvY3VtZW50O1xuICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiAkJChzZWxlY3RvcjogYW55LCBlbD86IERvY3VtZW50KSB7XG4gICAgaWYgKCFlbCkgZWwgPSBkb2N1bWVudDtcbiAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gJFNUUihzdHI6IHN0cmluZykge1xuICAgIGNvbnN0IG1zZyA9IGJyb3dzZXIuaTE4bi5nZXRNZXNzYWdlKHN0cik7XG4gICAgcmV0dXJuIG1zZyB8fCBzdHI7XG59XG5leHBvcnQgZnVuY3Rpb24gJFNUUkYoc3RyOiBzdHJpbmcsIHN1YnM6IGFueSkge1xuICAgIGNvbnN0IG1zZyA9IGJyb3dzZXIuaTE4bi5nZXRNZXNzYWdlKHN0ciwgc3Vicyk7XG4gICAgcmV0dXJuIG1zZyB8fCBzdHI7XG59XG4iLCJleHBvcnQgY2xhc3MgTG9jYXRvciB7XG4gICAgLy8gSFRNTCBpZCBhdHRyaWJ1dGVcbiAgICBpZDogc3RyaW5nO1xuXG4gICAgLy8gSFRNTCBuYW1lIGF0dHJpYnV0ZVxuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8vIEhUTUwgaW5wdXQgdHlwZVxuICAgIHR5cGU6IHN0cmluZztcblxuICAgIC8vIEhUTUwgRE9NIHNlbGVjdCBxdWVyeVxuICAgIHF1ZXJ5Pzogc3RyaW5nO1xuXG4gICAgLy8gVmlzaWJsZSBhbmQgYWNjZXNzaWJpbGl0eSBsYWJlbHNcbiAgICBsYWJlbHM/OiBzdHJpbmdbXTtcblxuICAgIC8vIEFueSBhdXRvY29tcGxldGUgdmFsdWVzIHdlIGZvdW5kLCBvciByZXF1aXJlLCBpbiB0aGUgRE9NXG4gICAgYXV0b2NvbXBsZXRlVmFsdWVzPzogc3RyaW5nW107XG5cbiAgICBjb25zdHJ1Y3Rvcihsb2NhdG9yOiBQYXJ0aWFsPExvY2F0b3I+KSB7XG4gICAgICAgIHRoaXMuaWQgPSBsb2NhdG9yLmlkIHx8IFwiXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IGxvY2F0b3IubmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnR5cGUgPSBsb2NhdG9yLnR5cGUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5xdWVyeSA9IGxvY2F0b3IucXVlcnk7XG4gICAgICAgIHRoaXMubGFiZWxzID0gbG9jYXRvci5sYWJlbHM7XG4gICAgICAgIHRoaXMuYXV0b2NvbXBsZXRlVmFsdWVzID0gbG9jYXRvci5hdXRvY29tcGxldGVWYWx1ZXM7XG4gICAgfVxuXG4gICAgLy9UT0RPOjQ6IFRoaW5ncyBsaWtlIE1heExlbmd0aCB0aGF0IGNhbiBiZSB1c2VkIHRvIGJvdGggaGVscCBpZGVudGlmeSB0aGUgZmllbGQgYW5kIGdlbmVyYXRlIG5ldyB2YWx1ZXMvcGFzc3dvcmRzXG59XG4iLCJpbXBvcnQgeyBTZXNzaW9uVHlwZSB9IGZyb20gXCIuL1Nlc3Npb25UeXBlXCI7XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZFByb2ZpbGVEdG8ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBzZXNzaW9uVHlwZTogU2Vzc2lvblR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUR0byB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGZpbGVOYW1lPzogc3RyaW5nO1xuICAgIGljb25JbWFnZURhdGE6IHN0cmluZztcbiAgICByb290OiBHcm91cER0bztcbiAgICBhY3RpdmU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2VTdW1tYXJ5RHRvIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZmlsZU5hbWU/OiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHJvb3Q6IEdyb3VwU3VtbWFyeUR0bztcbiAgICBhY3RpdmU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgR3JvdXBTdW1tYXJ5RHRvIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVuaXF1ZUlEOiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHBhdGg6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEdyb3VwRHRvIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHVuaXF1ZUlEOiBzdHJpbmc7XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIHBhdGg6IHN0cmluZztcbiAgICBjaGlsZExpZ2h0RW50cmllczogRW50cnlTdW1tYXJ5RHRvW107XG4gICAgY2hpbGRHcm91cHM6IEdyb3VwRHRvW107XG4gICAgLy9jaGlsZEVudHJpZXM6IEVudHJ5RHRvW10gLSB0aGlzIGlzIG9ubHkgbmVlZGVkIGlmIHdlIGV2ZXIgcmVxdWVzdCBHZXRBbGxEYXRhYmFzZXModHJ1ZSkgYnV0IEtlZSBjdXJyZW50bHkgaGFzIG5vIG5lZWQgZm9yIHRoaXMgS1BSUEMgZmVhdHVyZVxufVxuXG5leHBvcnQgZW51bSBQbGFjZWhvbGRlckhhbmRsaW5nIHtcbiAgICBEZWZhdWx0ID0gXCJEZWZhdWx0XCIsXG4gICAgRW5hYmxlZCA9IFwiRW5hYmxlZFwiLFxuICAgIERpc2FibGVkID0gXCJEaXNhYmxlZFwiXG59XG5cbmV4cG9ydCBlbnVtIE1hdGNoQWNjdXJhY3lFbnVtIHtcbiAgICAvLyBCZXN0ID0gTm9uLVVSTCBtYXRjaCAoaS5lLiB3ZSBtYXRjaGVkIGJ5IFVVSUQgaW5zdGVhZClcbiAgICAvLyBCZXN0ID0gUmVnZXggbWF0Y2ggKGl0IGlzIGltcG9zc2libGUgZm9yIHVzIHRvIGluZmVyIGhvd1xuICAgIC8vIGFjY3VyYXRlIGEgcmVnZXggbWF0Y2ggaXMgaW4gY29tcGFyaXNvbiB3aXRoIG90aGVyIGNsYXNzZXNcbiAgICAvLyBvZiBtYXRjaCBzbyB3ZSBhbHdheXMgdHJlYXQgaXQgYXMgdGhlIGJlc3QgcG9zc2libGUgbWF0Y2hcbiAgICAvLyBldmVuIGlmIHRoZSByZWdleCBpdHNlbGYgaXMgdmVyeSBsb29zZSlcbiAgICAvLyBCZXN0ID0gU2FtZSBVUkwgaW5jbHVkaW5nIHF1ZXJ5IHN0cmluZ1xuXG4gICAgLy8gQ2xvc2UgPSBTYW1lIFVSTCBleGNsdWRpbmcgcXVlcnkgc3RyaW5nXG5cbiAgICAvLyBIb3N0bmFtZUFuZFBvcnQgPSBTYW1lIGhvc3RuYW1lIGFuZCBwb3J0XG5cbiAgICAvLyBIb3N0bmFtZSA9IFNhbWUgaG9zdG5hbWUgKGRvbWFpbiArIHN1YmRvbWFpbnMpXG5cbiAgICAvLyBEb21haW4gPSBTYW1lIGRvbWFpblxuXG4gICAgLy8gTm9uZSA9IE5vIG1hdGNoIChlLmcuIHdoZW4gd2UgYXJlIGJlaW5nIGFza2VkIHRvIHJldHVybiBhbGwgZW50cmllcylcblxuICAgIEJlc3QgPSA1MCxcbiAgICBDbG9zZSA9IDQwLFxuICAgIEhvc3RuYW1lQW5kUG9ydCA9IDMwLFxuICAgIEhvc3RuYW1lID0gMjAsXG4gICAgRG9tYWluID0gMTAsXG4gICAgTm9uZSA9IDBcbn1cblxuZXhwb3J0IGNsYXNzIEVudHJ5RHRvIHtcbiAgICBkYjogRGF0YWJhc2VEdG87XG4gICAgcGFyZW50OiBHcm91cFN1bW1hcnlEdG87XG4gICAgaWNvbkltYWdlRGF0YTogc3RyaW5nO1xuICAgIGFsd2F5c0F1dG9GaWxsOiBib29sZWFuO1xuICAgIGFsd2F5c0F1dG9TdWJtaXQ6IGJvb2xlYW47XG4gICAgbmV2ZXJBdXRvRmlsbDogYm9vbGVhbjtcbiAgICBuZXZlckF1dG9TdWJtaXQ6IGJvb2xlYW47XG4gICAgcHJpb3JpdHk6IG51bWJlcjtcbiAgICB1UkxzOiBzdHJpbmdbXTtcbiAgICBtYXRjaEFjY3VyYWN5OiBudW1iZXI7XG4gICAgaFRUUFJlYWxtOiBzdHJpbmc7XG4gICAgdW5pcXVlSUQ6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGZvcm1GaWVsZExpc3Q6IEZpZWxkRHRvW107XG59XG5cbmV4cG9ydCBjbGFzcyBFbnRyeVN1bW1hcnlEdG8ge1xuICAgIGljb25JbWFnZURhdGE6IHN0cmluZztcbiAgICB1UkxzOiBzdHJpbmdbXTtcbiAgICB1bmlxdWVJRDogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdXNlcm5hbWVWYWx1ZTogc3RyaW5nO1xuICAgIHVzZXJuYW1lTmFtZTogc3RyaW5nO1xufVxuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y2xhc3MtbmFtZVxuZXhwb3J0IGNsYXNzIEZpZWxkRHRvIHtcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuXG4gICAgLy8gXCJuYW1lXCIgYXR0cmlidXRlIG9uIHRoZSBIVE1MIGZvcm0gZWxlbWVudFxuICAgIG5hbWU6IHN0cmluZztcblxuICAgIC8vIFwidmFsdWVcIiBhdHRyaWJ1dGUgb24gdGhlIEhUTUwgZm9ybSBlbGVtZW50XG4gICAgdmFsdWU6IHN0cmluZztcblxuICAgIC8vIFwiaWRcIiBhdHRyaWJ1dGUgb24gdGhlIEhUTUwgZm9ybSBlbGVtZW50XG4gICAgaWQ6IHN0cmluZztcblxuICAgIC8vIFwidHlwZVwiIGF0dHJpYnV0ZSBvbiB0aGUgSFRNTCBmb3JtIGVsZW1lbnRcbiAgICB0eXBlOiBGb3JtRmllbGRUeXBlRFRPO1xuXG4gICAgcGFnZTogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBGb3JtRmllbGRUeXBlRFRPIHtcbiAgICByYWRpbyA9IFwiRkZUcmFkaW9cIixcbiAgICB1c2VybmFtZSA9IFwiRkZUdXNlcm5hbWVcIixcbiAgICB0ZXh0ID0gXCJGRlR0ZXh0XCIsXG4gICAgcGFzc3dvcmQgPSBcIkZGVHBhc3N3b3JkXCIsXG4gICAgc2VsZWN0ID0gXCJGRlRzZWxlY3RcIixcbiAgICBjaGVja2JveCA9IFwiRkZUY2hlY2tib3hcIlxufVxuIiwiaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IExvY2F0b3IgfSBmcm9tIFwiLi9Mb2NhdG9yXCI7XG5pbXBvcnQgeyBGaWVsZER0bywgRm9ybUZpZWxkVHlwZURUTyB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuXG5leHBvcnQgdHlwZSBGaWVsZFR5cGUgPSBcInBhc3N3b3JkXCIgfCBcInRleHRcIiB8IFwiZXhpc3RpbmdcIiB8IFwiYm9vbGVhblwiIHwgXCJvdHBcIiB8IFwic29tZS1jaGFyc1wiO1xuXG5leHBvcnQgY2xhc3MgRmllbGQge1xuICAgIC8vIFVuaXF1ZSBJRCB0aGF0IHdlIGNhbiB1c2UgdG8gaGVscCBVSSBvcGVyYXRpb25zIGFuZCBpZGVudGlmaWNhdGlvbiB3aGVuIHRoZXJlIGlzIG5vIGtub3duIG5hbWUgZm9yIHRoaXMgZmllbGQuXG4gICAgLy8gQWxzbyBtYXkgYmUgdXNlZnVsIGluIGZ1dHVyZSBmb3IgbXVsdGlwbGUtcGFnZSByZWNvbmZpZ3VyYXRpb24gb3IgcGVyLWJyb3dzZXIgZmllbGQgY29uZmlndXJhdGlvbiBvdmVycmlkZXM/XG4gICAgcmVhZG9ubHkgdXVpZDogc3RyaW5nO1xuXG4gICAgLy8gdmlzdWFsIGlkZW50aWZpZXIgZm9yIHRoZSBmaWVsZC4gTWF5IGJlIHNwZWNpZmllZCBieSB0aGUgdXNlciBvciBpbmZlcnJlZCBmcm9tXG4gICAgLy8gZWl0aGVyIGRlZmF1bHQgRW50cnkgZGF0YSAodXNlcm5hbWUvcGFzc3dvcmQvT1RQKSBvciBmb3JtIGZpZWxkIGxhYmVsIG9yIG5hbWUgYXR0cmlidXRlXG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gICAgLy8gVGhlIHZhbHVlIHdlJ2xsIGZpbGwgaW50byB0aGUgZm9ybS5cbiAgICAvLyBGb3IgZXhpc3RpbmcgZGV0ZXJtaW5lcyB3aGljaCBvcHRpb24gdG8gYWN0aXZhdGUuXG4gICAgLy8gRm9yIGJvb2xlYW4gZGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGFjdGl2YXRlIG9yIGRlYWN0aXZhdGUgKHRvIGlnbm9yZSwgZGVsZXRlIHRoZSBmaWVsZCByZWNvcmQpXG4gICAgLy8gRm9yIE9UUCwgbmVlZCB0byB3b3JrIG91dCB3aGV0aGVyIHdlIHdpbGwgaGF2ZSB0byB0cmFuc2ZlciB0aGUgc2VjcmV0cyBhbmQgcmVjYWxjdWxhdGUgaW4gdGhlIGJyb3dzZXIgb3IganVzdCB0cmVhdCBhcyBzdGFuZGFyZCB2YWx1ZVxuICAgIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmc7XG5cbiAgICAvLyB0eXBlIG9mIGRhdGEgdGhpcyBmaWVsZCByZXByZXNlbnRzLiBUaGVyZSdzIG5vIDEwMCUgd2F5IHRvIG1hdGNoIHRoaXMgdG8gdGhlIHR5cGUgb2YgSFRNTCBmb3JtIGVsZW1lbnQgYnV0IGl0J3Mgb2Z0ZW4gbG9naWNhbC5cbiAgICAvLyBFLmcuIHBhc3N3b3JkIGdvZXMgaW50byBwYXNzd29yZCBmaWVsZHMgdW5sZXNzIHVzZXIgZXhwbGljaXRseSByZS1jb25maWd1cmVzIHRoYXQ7IGV4aXN0aW5nIHdvdWxkIHR5cGljYWxseSBtYXRjaCBzb21ldGhpbmdcbiAgICAvLyBsaWtlIGEgcmFkaW8gYnV0dG9uIG9yIHNlbGVjdCBvcHRpb24gYWxyZWFkeSBwcmVzZW50IG9uIHRoZSBIVE1MIGZvcm07IGJvb2xlYW4gd291bGQgbWF0Y2ggYSBjaGVja2JveC5cbiAgICByZWFkb25seSB0eXBlOiBGaWVsZFR5cGU7XG5cbiAgICAvLyBIb3cgd2UgY2FuIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0IGluIHRoZSBIVE1MLlxuICAgIHJlYWRvbmx5IGxvY2F0b3JzOiBMb2NhdG9yW107XG5cbiAgICAvLyB0cmFja3MgdGhlIG1vc3QgcmVjZW50IHZhbHVlIHdlIHdhbnQgdG8gcmVzZXQgdG8gaW4gY2FzZXMgd2hlcmUgdGhlIHVzZXIgaGFzIHRoYXQgcG9zc2liaWxpdHlcbiAgICByZWFkb25seSByZXNldFZhbHVlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihmaWVsZDogUGFydGlhbDxGaWVsZD4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gZmllbGQubmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnZhbHVlID0gZmllbGQudmFsdWUgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5yZXNldFZhbHVlID0gZmllbGQucmVzZXRWYWx1ZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnV1aWQgPSBmaWVsZC51dWlkIHx8IHV0aWxzLm5ld0dVSUQoKTtcbiAgICAgICAgdGhpcy50eXBlID0gZmllbGQudHlwZSB8fCBcInRleHRcIjtcbiAgICAgICAgdGhpcy5sb2NhdG9ycyA9IGZpZWxkLmxvY2F0b3JzIHx8IFtdO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldERpc3BsYXlWYWx1ZUludGVybmFsKFxuICAgICAgICBmaWVsZDogRmllbGQsXG4gICAgICAgIHJldmVhbFBhc3N3b3JkczogYm9vbGVhbixcbiAgICAgICAgcmVwbGFjZW1lbnRJZlByb3RlY3RlZDogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIGlmIChmaWVsZC50eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnZhbHVlID09PSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfVFJVRVwiID8gJFNUUihcImVuYWJsZWRcIikgOiAkU1RSKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQudHlwZSA9PT0gXCJwYXNzd29yZFwiICYmICFyZXZlYWxQYXNzd29yZHNcbiAgICAgICAgICAgICAgICA/IHJlcGxhY2VtZW50SWZQcm90ZWN0ZWRcbiAgICAgICAgICAgICAgICA6IGZpZWxkLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3BsYXlWYWx1ZShmaWVsZDogRmllbGQsIHJldmVhbFBhc3N3b3JkczogYm9vbGVhbikge1xuICAgICAgICByZXR1cm4gRmllbGQuZ2V0RGlzcGxheVZhbHVlSW50ZXJuYWwoXG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIHJldmVhbFBhc3N3b3JkcyxcbiAgICAgICAgICAgIFwiKlwiLnJlcGVhdChmaWVsZC52YWx1ZS5sZW5ndGgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3BsYXlOYW1lKGZpZWxkOiBGaWVsZCkge1xuICAgICAgICBpZiAoZmllbGQubmFtZSA9PT0gXCJLZWVQYXNzIHVzZXJuYW1lXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAkU1RSKFwidXNlcm5hbWVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQubmFtZSA9PT0gXCJLZWVQYXNzIHBhc3N3b3JkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAkU1RSKFwicGFzc3dvcmRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQubmFtZSA/IGZpZWxkLm5hbWUgOiBcIlsgXCIgKyAkU1RSKFwibm9fbmFtZVwiKSArIFwiIF1cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXNwbGF5VG9vbHRpcChmaWVsZDogRmllbGQsIHJldmVhbFBhc3N3b3JkczogYm9vbGVhbikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgRmllbGQuZ2V0RGlzcGxheU5hbWUoZmllbGQpICtcbiAgICAgICAgICAgIFwiOiBcIiArXG4gICAgICAgICAgICBGaWVsZC5nZXREaXNwbGF5VmFsdWVJbnRlcm5hbChmaWVsZCwgcmV2ZWFsUGFzc3dvcmRzLCAkU1RSKFwiY2xpY2tfdG9fcmV2ZWFsX2hpZGVcIikpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RhdGljIHR5cGVGcm9tRE9NdHlwZShkb21UeXBlOiBzdHJpbmcpOiBGaWVsZFR5cGUge1xuICAgICAgICAvLyBXZSBjYW4ndCBrbm93IGV2ZXJ5IHR5cGUgdGhhdCBtYXkgZXhpc3QgaW4gZnV0dXJlIHNvIGFzc3VtZTpcbiAgICAgICAgLy8gMS4gdW5rbm93biB0eXBlcyBtdXN0IGJlIHRleHRcbiAgICAgICAgLy8gMi4gd2Ugd29uJ3QgYmUgYXNrZWQgdG8gaGFuZGxlIHR5cGVzIGZvciBpcnJlbGV2YW50IGVsZW1lbnRzIHN1Y2ggYXMgYnV0dG9uc1xuICAgICAgICBzd2l0Y2ggKGRvbVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcInBhc3N3b3JkXCI7XG4gICAgICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgY2FzZSBcInNlbGVjdC1vbmVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXh0XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCeSBjb252ZW50aW9uIHRoZSBmaXJzdCBub24tcGFzc3dvcmQgaXRlbSB3aWxsIGJlIHRoZSB1c2VybmFtZSBhbmQgdGhlIHBhc3N3b3JkIHdpbGwgYmUgZWl0aGVyIDFzdCBvciAybmQgaW4gdGhlIGxpc3RcbiAgICBzdGF0aWMgY29tYmluZURvbUZpZWxkTGlzdHModXNlcm5hbWVJbmRleDogbnVtYmVyLCBvdGhlckZpZWxkczogRmllbGRbXSwgcGFzc3dvcmRzOiBGaWVsZFtdKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkczogRmllbGRbXSA9IFtdO1xuICAgICAgICBpZiAodXNlcm5hbWVJbmRleCA+PSAwICYmIG90aGVyRmllbGRzW3VzZXJuYW1lSW5kZXhdKSB7XG4gICAgICAgICAgICBmaWVsZHMucHVzaChvdGhlckZpZWxkc1t1c2VybmFtZUluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFzc3dvcmRzLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICBmaWVsZHMucHVzaChmKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG90aGVyRmllbGRzLmZvckVhY2goKGYsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHVzZXJuYW1lSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBmaWVsZHMucHVzaChmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21ET00oZWxlbWVudDogYW55LCBkb21UeXBlOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gY29sbGVjdExhYmVscyhlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZCh7XG4gICAgICAgICAgICB1dWlkOiB1dGlscy5uZXdHVUlEKCksXG4gICAgICAgICAgICBuYW1lOiBsYWJlbHMgJiYgbGFiZWxzLmxlbmd0aCA/IGxhYmVsc1swXSA6IGVsZW1lbnQubmFtZSxcbiAgICAgICAgICAgIGxvY2F0b3JzOiBbXG4gICAgICAgICAgICAgICAgbmV3IExvY2F0b3Ioe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBlbGVtZW50LmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBkb21UeXBlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbHMsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZVZhbHVlczogY29sbGVjdEF1dG9jb21wbGV0ZVZhbHVlcyhlbGVtZW50KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB0eXBlOiBGaWVsZC50eXBlRnJvbURPTXR5cGUoZG9tVHlwZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21LUFJQQ0ZpZWxkRFRPKGY6IEZpZWxkRHRvKSB7XG4gICAgICAgIGxldCB0eXBlOiBGaWVsZFR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgbGV0IGxvY2F0b3JUeXBlID0gXCJ0ZXh0XCI7XG5cbiAgICAgICAgc3dpdGNoIChmLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy5wYXNzd29yZDpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJwYXNzd29yZFwiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJwYXNzd29yZFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlRFRPLnJhZGlvOlxuICAgICAgICAgICAgICAgIHR5cGUgPSBcImV4aXN0aW5nXCI7XG4gICAgICAgICAgICAgICAgbG9jYXRvclR5cGUgPSBcInJhZGlvXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZvcm1GaWVsZFR5cGVEVE8uY2hlY2tib3g6XG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlRFRPLnNlbGVjdDpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgICAgIGxvY2F0b3JUeXBlID0gXCJzZWxlY3RcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy51c2VybmFtZTpcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgICAgICAgICAgbG9jYXRvclR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZURUTy50ZXh0OlxuICAgICAgICAgICAgICAgIHR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICAgICAgICBsb2NhdG9yVHlwZSA9IFwidGV4dFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZCh7XG4gICAgICAgICAgICBuYW1lOiBmLmRpc3BsYXlOYW1lIHx8IGYubmFtZSxcbiAgICAgICAgICAgIHV1aWQ6IHV0aWxzLm5ld0dVSUQoKSxcbiAgICAgICAgICAgIHZhbHVlOiBmLnZhbHVlLFxuICAgICAgICAgICAgcmVzZXRWYWx1ZTogZi52YWx1ZSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBsb2NhdG9yczogW1xuICAgICAgICAgICAgICAgIG5ldyBMb2NhdG9yKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGYuaWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGYubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbG9jYXRvclR5cGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdG9LUFJQQ0ZpZWxkRFRPKGY6IEZpZWxkLCBpc1VzZXJuYW1lOiBib29sZWFuKSB7XG4gICAgICAgIGxldCBmZnQ6IEZvcm1GaWVsZFR5cGVEVE87XG5cbiAgICAgICAgc3dpdGNoIChmLmxvY2F0b3JzWzBdLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxuICAgICAgICAgICAgICAgIGZmdCA9IEZvcm1GaWVsZFR5cGVEVE8ucGFzc3dvcmQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICAgICAgICBmZnQgPSBGb3JtRmllbGRUeXBlRFRPLnJhZGlvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgICAgICAgZmZ0ID0gRm9ybUZpZWxkVHlwZURUTy5jaGVja2JveDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzZWxlY3Qtb25lXCI6XG4gICAgICAgICAgICAgICAgZmZ0ID0gRm9ybUZpZWxkVHlwZURUTy5zZWxlY3Q7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZmdCA9IGlzVXNlcm5hbWUgPyBGb3JtRmllbGRUeXBlRFRPLnVzZXJuYW1lIDogRm9ybUZpZWxkVHlwZURUTy50ZXh0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBmLm5hbWUsXG4gICAgICAgICAgICBpZDogZi5sb2NhdG9yc1swXS5pZCxcbiAgICAgICAgICAgIG5hbWU6IGYubG9jYXRvcnNbMF0ubmFtZSxcbiAgICAgICAgICAgIHR5cGU6IGZmdCxcbiAgICAgICAgICAgIHZhbHVlOiBmLnZhbHVlLFxuICAgICAgICAgICAgcGFnZTogLTFcbiAgICAgICAgfSBhcyBGaWVsZER0bztcbiAgICB9XG59XG5cbi8vIE1pZ2h0IGJlIG90aGVyIGVsZW1lbnQgdHlwZXMgYnV0IG1haW4gdGhpbmcgaXMgdGhleSBoYXZlIHRoZSBsYWJlbHMgcHJvcGVydHlcbmZ1bmN0aW9uIGNvbGxlY3RMYWJlbHMoZWxlbWVudDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50KSB7XG4gICAgY29uc3QgbGFiZWxzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGxhYmVsc0NvdW50ID0gZWxlbWVudC5sYWJlbHM/Lmxlbmd0aCB8fCAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFiZWxzQ291bnQ7IGkrKykge1xuICAgICAgICBjb25zdCBsYWJlbCA9IGVsZW1lbnQubGFiZWxzW2ldO1xuICAgICAgICBpZiAobGFiZWw/LmlubmVyVGV4dCkgbGFiZWxzLnB1c2gobGFiZWwuaW5uZXJUZXh0KTtcbiAgICB9XG4gICAgY29uc3QgYXJpYUxhYmVsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpPy50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChhcmlhTGFiZWwpIGxhYmVscy5wdXNoKGFyaWFMYWJlbCk7XG4gICAgY29uc3QgYXJpYUxhYmVsSWRzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGVsZW1lbnRcbiAgICAgICAgLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiKVxuICAgICAgICA/LnRyaW0oKVxuICAgICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAgIC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgIGlmIChpZCkgYXJpYUxhYmVsSWRzLnB1c2goaWQpO1xuICAgICAgICB9KTtcbiAgICBlbGVtZW50XG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpXG4gICAgICAgID8udHJpbSgpXG4gICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgaWYgKGlkKSBhcmlhTGFiZWxJZHMucHVzaChpZCk7XG4gICAgICAgIH0pO1xuICAgIGFyaWFMYWJlbElkcy5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAobGFiZWxFbGVtZW50Py5pbm5lclRleHQpIGxhYmVscy5wdXNoKGxhYmVsRWxlbWVudC5pbm5lclRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiBsYWJlbHMubGVuZ3RoID8gbGFiZWxzIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0QXV0b2NvbXBsZXRlVmFsdWVzKGVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudCkge1xuICAgIGNvbnN0IHZhbHVlczogc3RyaW5nW10gPSBbXTtcbiAgICBlbGVtZW50LmF0dHJpYnV0ZXNbXCJhdXRvY29tcGxldGVcIl0/LnZhbHVlXG4gICAgICAgID8udHJpbSgpXG4gICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgLmZvckVhY2godiA9PiB7XG4gICAgICAgICAgICBpZiAodikgdmFsdWVzLnB1c2godi50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcy5sZW5ndGggPyB2YWx1ZXMgOiB1bmRlZmluZWQ7XG59XG4iLCJpbXBvcnQgeyBJY29uIH0gZnJvbSBcIi4vSWNvblwiO1xuaW1wb3J0IHsgdXRpbHMgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IEdyb3VwU3VtbWFyeUR0byB9IGZyb20gXCIuL0tQUlBDRFRPc1wiO1xuaW1wb3J0IHsgR3JvdXAgfSBmcm9tIFwiLi9Hcm91cFwiO1xuXG5leHBvcnQgY2xhc3MgR3JvdXBTdW1tYXJ5IHtcbiAgICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHV1aWQ6IHN0cmluZztcbiAgICByZWFkb25seSBpY29uOiBJY29uO1xuICAgIHJlYWRvbmx5IHBhdGg6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGc6IFBhcnRpYWw8R3JvdXBTdW1tYXJ5Pikge1xuICAgICAgICB0aGlzLnRpdGxlID0gZy50aXRsZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnV1aWQgPSBnLnV1aWQgfHwgdXRpbHMubmV3R1VJRCgpO1xuICAgICAgICB0aGlzLmljb24gPSBnLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMucGF0aCA9IGcucGF0aCB8fCBcIlVOS05PV04gUEFUSFwiO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUtQUlBDR3JvdXBTdW1tYXJ5RFRPKGdyb3VwU3VtbWFyeUR0bzogR3JvdXBTdW1tYXJ5RHRvKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JvdXBTdW1tYXJ5KHtcbiAgICAgICAgICAgIHRpdGxlOiBncm91cFN1bW1hcnlEdG8udGl0bGUsXG4gICAgICAgICAgICB1dWlkOiBncm91cFN1bW1hcnlEdG8udW5pcXVlSUQsXG4gICAgICAgICAgICBpY29uOiB7IHZlcnNpb246IDEsIGljb25JbWFnZURhdGE6IGdyb3VwU3VtbWFyeUR0by5pY29uSW1hZ2VEYXRhIH0sXG4gICAgICAgICAgICBwYXRoOiBncm91cFN1bW1hcnlEdG8ucGF0aFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21Hcm91cChncm91cDogR3JvdXApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcm91cFN1bW1hcnkoe1xuICAgICAgICAgICAgdGl0bGU6IGdyb3VwLnRpdGxlLFxuICAgICAgICAgICAgdXVpZDogZ3JvdXAudXVpZCxcbiAgICAgICAgICAgIGljb246IGdyb3VwLmljb24sXG4gICAgICAgICAgICBwYXRoOiBncm91cC5wYXRoXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFRlbXBvcmFyeUlEU3RyaW5nID1cbiAgICBcIlRFTVBPUkFSWSBJRCBUTyBJREVOVElGWSBUSElTIEFTIEEgRElSVFkgRU5UUlkgVEhBVCBET0VTTidUIEVYSVNUIElOIFNPVVJDRSBEQVRBQkFTRSBZRVRcIjtcbiIsImltcG9ydCB7IEljb24gfSBmcm9tIFwiLi9JY29uXCI7XG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gXCIuL0RhdGFiYXNlXCI7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCIuLi91dGlsc1wiO1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi9GaWVsZFwiO1xuaW1wb3J0IHsgRW50cnlEdG8sIEZvcm1GaWVsZFR5cGVEVE8gfSBmcm9tIFwiLi9LUFJQQ0RUT3NcIjtcbmltcG9ydCB7IERhdGFiYXNlU3VtbWFyeSB9IGZyb20gXCIuL0RhdGFiYXNlU3VtbWFyeVwiO1xuaW1wb3J0IHsgR3JvdXBTdW1tYXJ5IH0gZnJvbSBcIi4vR3JvdXBTdW1tYXJ5XCI7XG5cbi8vIEFsdGhvdWdoIHdlIHVzZSB1dWlkcyBmb3IgRmllbGRzIGFuZCBwb3NzaWJseSBMb2NhdG9ycywgd2UgZG9uJ3QgYWxsb3cgdGhlbSB0byBleGlzdCBvdXRzaWRlIG9mIHRoZWlyIHBhcmVudCBlbnRyeS5cblxuZXhwb3J0IGNsYXNzIEVudHJ5IHtcbiAgICAvLyBhcnJheSBvZiBVUkwgc3RyaW5ncyAobm9ybWFsbHkganVzdCBvbmUgaXMgbmVlZGVkXG4gICAgLy8gYnV0IGEgZ2l2ZW4gZW50cnkgY2FuIGJlIGFzc29jaWF0ZWQgd2l0aCBtb3JlIHRoYW4gb25lIHNpdGVcbiAgICAvLyBvciB3aXRoIG11bHRpcGxlIHBhZ2VzIG9uIHRoYXQgc2l0ZSlcbiAgICByZWFkb25seSBVUkxzOiBzdHJpbmdbXTtcblxuICAgIC8vIEhvdyBhY2N1cmF0ZSBpcyB0aGUgYmVzdCBVUkwgbWF0Y2ggZm9yIHRoaXMgZW50cnkgKG9ubHkgc2V0IGlmIGVudHJ5XG4gICAgLy8gd2FzIHN1cHBsaWVkIGluIHJlc3BvbnNlIHRvIGNlcnRhaW4gc2VhcmNoIHJlcXVlc3RzKS4gSGlnaGVyID0gY2xvc2VyIG1hdGNoXG4gICAgcmVhZG9ubHkgbWF0Y2hBY2N1cmFjeTogbnVtYmVyO1xuXG4gICAgLy8gVGhlIHJlYWxtIG9mIGEgSFRUUCBhdXRoZW50aWNhdGlvbiByZXF1ZXN0XG4gICAgcmVhZG9ubHkgaHR0cFJlYWxtOiBzdHJpbmc7XG5cbiAgICAvLyBUaGUgaW5kZXggb2YgdGhlIG90aGVyRmllbGQgd2hpY2ggd2Ugd2lsbCB0cmVhdCBhcyB0aGUgdXNlcm5hbWUgaW4gS2VlUGFzc1xuICAgIC8vIHJlYWRvbmx5IHVzZXJuYW1lSW5kZXg6IG51bWJlcjtcblxuICAgIHJlYWRvbmx5IGZpZWxkczogRmllbGRbXTtcblxuICAgIC8vIFRoZSBLZWVQYXNzIGVudHJ5J3MgdW5pcXVlSUQgKGlmIGtub3duKVxuICAgIHJlYWRvbmx5IHV1aWQ6IHN0cmluZztcblxuICAgIC8vIFRoZSB0aXRsZSBvZiB0aGUgS2VlUGFzcyBlbnRyeSAoYXV0by1nZW5lcmF0ZWQgZnJvbSB0aGUgcGFnZSB0aXRsZSBieSBkZWZhdWx0LFxuICAgIC8vIG9yIHRoZSBwYWdlIFVSTCdzIGhvc3RuYW1lIGlmIG5vIHRpdGxlIGlzIHNldClcbiAgICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xuXG4gICAgcmVhZG9ubHkgaWNvbjogSWNvbjtcblxuICAgIHJlYWRvbmx5IHBhcmVudEdyb3VwOiBHcm91cFN1bW1hcnk7XG5cbiAgICByZWFkb25seSBhbHdheXNBdXRvRmlsbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBhbHdheXNBdXRvU3VibWl0OiBib29sZWFuO1xuICAgIHJlYWRvbmx5IG5ldmVyQXV0b0ZpbGw6IGJvb2xlYW47XG4gICAgcmVhZG9ubHkgbmV2ZXJBdXRvU3VibWl0OiBib29sZWFuO1xuXG4gICAgcmVhZG9ubHkgZGF0YWJhc2U6IERhdGFiYXNlU3VtbWFyeTtcblxuICAgIC8vIEhvdyByZWxldmFudCB0aGlzIGVudHJ5IGlzIHRvIHRoZSBjdXJyZW50IGZvcm0gaW5cbiAgICAvLyB0aGUgYnJvd3NlciAtIHRyYW5zaWVudCAobm90IHN0b3JlZCBpbiBLZWVQYXNzKVxuICAgIC8vVE9ETzo0IHB1dCBhbGwgbWF0Y2ggZGF0YSBpbnRvIGEgbmV3IG9iamVjdD9cbiAgICByZWxldmFuY2VTY29yZTogbnVtYmVyO1xuICAgIGxvd0ZpZWxkTWF0Y2hSYXRpbzogYW55O1xuICAgIGZvcm1JbmRleDogbnVtYmVyO1xuICAgIGVudHJ5SW5kZXg6IG51bWJlcjtcbiAgICBpc1ByZWZlcnJlZE1hdGNoPzogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGU6IFBhcnRpYWw8RW50cnk+KSB7XG4gICAgICAgIHRoaXMuYWx3YXlzQXV0b0ZpbGwgPSBlLmFsd2F5c0F1dG9GaWxsIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLmFsd2F5c0F1dG9TdWJtaXQgPSBlLmFsd2F5c0F1dG9TdWJtaXQgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMubmV2ZXJBdXRvRmlsbCA9IGUubmV2ZXJBdXRvRmlsbCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5uZXZlckF1dG9TdWJtaXQgPSBlLm5ldmVyQXV0b1N1Ym1pdCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5VUkxzID0gZS5VUkxzIHx8IFtdO1xuICAgICAgICB0aGlzLmZpZWxkcyA9IGUuZmllbGRzIHx8IFtdO1xuICAgICAgICB0aGlzLmh0dHBSZWFsbSA9IGUuaHR0cFJlYWxtIHx8IFwiXCI7XG4gICAgICAgIHRoaXMucGFyZW50R3JvdXAgPSBlLnBhcmVudEdyb3VwIHx8IG51bGw7XG4gICAgICAgIHRoaXMudXVpZCA9IGUudXVpZCB8fCB1dGlscy5uZXdHVUlEKCk7XG4gICAgICAgIHRoaXMudGl0bGUgPSBlLnRpdGxlIHx8IFwiXCI7XG4gICAgICAgIHRoaXMubWF0Y2hBY2N1cmFjeSA9IGUubWF0Y2hBY2N1cmFjeSB8fCAwO1xuICAgICAgICB0aGlzLmljb24gPSBlLmljb24gfHwgeyB2ZXJzaW9uOiAxLCBpY29uSW1hZ2VEYXRhOiBcIlwiIH07XG4gICAgICAgIHRoaXMuZGF0YWJhc2UgPSBlLmRhdGFiYXNlIHx8IG5ldyBEYXRhYmFzZSh7fSk7XG4gICAgICAgIHRoaXMucmVsZXZhbmNlU2NvcmUgPSBlLnJlbGV2YW5jZVNjb3JlO1xuICAgICAgICB0aGlzLmxvd0ZpZWxkTWF0Y2hSYXRpbyA9IGUubG93RmllbGRNYXRjaFJhdGlvO1xuICAgICAgICB0aGlzLmZvcm1JbmRleCA9IGUuZm9ybUluZGV4O1xuICAgICAgICB0aGlzLmVudHJ5SW5kZXggPSBlLmVudHJ5SW5kZXg7XG4gICAgICAgIHRoaXMuaXNQcmVmZXJyZWRNYXRjaCA9IGUuaXNQcmVmZXJyZWRNYXRjaDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldFVzZXJuYW1lRmllbGQoZW50cnk6IEVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5maWVsZHMuZmluZChmID0+IGYudHlwZSA9PT0gXCJ0ZXh0XCIpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIGdldFBhc3N3b3JkRmllbGQoZW50cnk6IEVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5maWVsZHMuZmluZChmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZyb21LUFJQQ0VudHJ5RFRPKGVudHJ5RHRvOiBFbnRyeUR0bywgZGI6IERhdGFiYXNlU3VtbWFyeSkge1xuICAgICAgICBjb25zdCBzb3J0ZWRGaWVsZHM6IEZpZWxkW10gPSBbXTtcbiAgICAgICAgbGV0IG1heGltdW1QYWdlID0gMTtcbiAgICAgICAgY29uc3QgdXNlcm5hbWVJbmRleCA9IGVudHJ5RHRvLmZvcm1GaWVsZExpc3QuZmluZEluZGV4KFxuICAgICAgICAgICAgZiA9PiBmLnR5cGUgPT09IEZvcm1GaWVsZFR5cGVEVE8udXNlcm5hbWVcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB1bnNvcnRlZEZpZWxkcyA9IGVudHJ5RHRvLmZvcm1GaWVsZExpc3QubWFwKGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYucGFnZSA+IG1heGltdW1QYWdlKSBtYXhpbXVtUGFnZSA9IGYucGFnZTtcblxuICAgICAgICAgICAgcmV0dXJuIEZpZWxkLmZyb21LUFJQQ0ZpZWxkRFRPKGYpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZmlyc3RQYXNzd29yZEluZGV4ID0gdW5zb3J0ZWRGaWVsZHMuZmluZEluZGV4KGYgPT4gZi50eXBlID09PSBcInBhc3N3b3JkXCIpO1xuXG4gICAgICAgIGlmICh1c2VybmFtZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHNvcnRlZEZpZWxkcy5wdXNoKHVuc29ydGVkRmllbGRzW3VzZXJuYW1lSW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RQYXNzd29yZEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHNvcnRlZEZpZWxkcy5wdXNoKHVuc29ydGVkRmllbGRzW2ZpcnN0UGFzc3dvcmRJbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHVuc29ydGVkRmllbGRzLmZvckVhY2goKGYsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChpICE9PSB1c2VybmFtZUluZGV4ICYmIGkgIT09IGZpcnN0UGFzc3dvcmRJbmRleCkge1xuICAgICAgICAgICAgICAgIHNvcnRlZEZpZWxkcy5wdXNoKGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBlbnRyeSA9IG5ldyBFbnRyeSh7XG4gICAgICAgICAgICBVUkxzOiBlbnRyeUR0by51UkxzLFxuICAgICAgICAgICAgbmV2ZXJBdXRvRmlsbDogZW50cnlEdG8ubmV2ZXJBdXRvRmlsbCxcbiAgICAgICAgICAgIGFsd2F5c0F1dG9GaWxsOiBlbnRyeUR0by5hbHdheXNBdXRvRmlsbCxcbiAgICAgICAgICAgIG5ldmVyQXV0b1N1Ym1pdDogZW50cnlEdG8ubmV2ZXJBdXRvU3VibWl0LFxuICAgICAgICAgICAgYWx3YXlzQXV0b1N1Ym1pdDogZW50cnlEdG8uYWx3YXlzQXV0b1N1Ym1pdCxcbiAgICAgICAgICAgIGljb246IHsgdmVyc2lvbjogMSwgaWNvbkltYWdlRGF0YTogZW50cnlEdG8uaWNvbkltYWdlRGF0YSB9LFxuICAgICAgICAgICAgcGFyZW50R3JvdXA6IEdyb3VwU3VtbWFyeS5mcm9tS1BSUENHcm91cFN1bW1hcnlEVE8oZW50cnlEdG8ucGFyZW50KSxcbiAgICAgICAgICAgIGRhdGFiYXNlOiBkYixcbiAgICAgICAgICAgIG1hdGNoQWNjdXJhY3k6IGVudHJ5RHRvLm1hdGNoQWNjdXJhY3ksXG4gICAgICAgICAgICBodHRwUmVhbG06IGVudHJ5RHRvLmhUVFBSZWFsbSxcbiAgICAgICAgICAgIHV1aWQ6IGVudHJ5RHRvLnVuaXF1ZUlELFxuICAgICAgICAgICAgdGl0bGU6IGVudHJ5RHRvLnRpdGxlLFxuICAgICAgICAgICAgZmllbGRzOiBzb3J0ZWRGaWVsZHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdG9LUFJQQ0VudHJ5RFRPKGVudHJ5OiBFbnRyeSkge1xuICAgICAgICBjb25zdCBlbnRyeUR0byA9IG5ldyBFbnRyeUR0bygpO1xuICAgICAgICBlbnRyeUR0by5hbHdheXNBdXRvRmlsbCA9IGVudHJ5LmFsd2F5c0F1dG9GaWxsO1xuICAgICAgICBlbnRyeUR0by5hbHdheXNBdXRvU3VibWl0ID0gZW50cnkuYWx3YXlzQXV0b1N1Ym1pdDtcbiAgICAgICAgZW50cnlEdG8uZm9ybUZpZWxkTGlzdCA9IGVudHJ5LmZpZWxkcy5tYXAoKGYsIGkpID0+IEZpZWxkLnRvS1BSUENGaWVsZERUTyhmLCBpID09PSAwKSk7XG4gICAgICAgIGVudHJ5RHRvLmhUVFBSZWFsbSA9IGVudHJ5Lmh0dHBSZWFsbTtcbiAgICAgICAgZW50cnlEdG8uaWNvbkltYWdlRGF0YSA9IGVudHJ5Lmljb24uaWNvbkltYWdlRGF0YTtcbiAgICAgICAgZW50cnlEdG8ubmV2ZXJBdXRvRmlsbCA9IGVudHJ5Lm5ldmVyQXV0b0ZpbGw7XG4gICAgICAgIGVudHJ5RHRvLm5ldmVyQXV0b1N1Ym1pdCA9IGVudHJ5Lm5ldmVyQXV0b1N1Ym1pdDtcbiAgICAgICAgZW50cnlEdG8udGl0bGUgPSBlbnRyeS50aXRsZTtcbiAgICAgICAgZW50cnlEdG8udVJMcyA9IGVudHJ5LlVSTHM7XG4gICAgICAgIHJldHVybiBlbnRyeUR0bztcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBWdWUgZnJvbSAndnVlJ1xuXG52YXIgaXNWdWUyID0gZmFsc2VcbnZhciBpc1Z1ZTMgPSB0cnVlXG52YXIgVnVlMiA9IHVuZGVmaW5lZFxuXG5mdW5jdGlvbiBpbnN0YWxsKCkge31cblxuZXhwb3J0IGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgdmFsKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICB0YXJnZXQubGVuZ3RoID0gTWF0aC5tYXgodGFyZ2V0Lmxlbmd0aCwga2V5KVxuICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxLCB2YWwpXG4gICAgcmV0dXJuIHZhbFxuICB9XG4gIHRhcmdldFtrZXldID0gdmFsXG4gIHJldHVybiB2YWxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbCh0YXJnZXQsIGtleSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgdGFyZ2V0LnNwbGljZShrZXksIDEpXG4gICAgcmV0dXJuXG4gIH1cbiAgZGVsZXRlIHRhcmdldFtrZXldXG59XG5cbmV4cG9ydCAqIGZyb20gJ3Z1ZSdcbmV4cG9ydCB7XG4gIFZ1ZSxcbiAgVnVlMixcbiAgaXNWdWUyLFxuICBpc1Z1ZTMsXG4gIGluc3RhbGwsXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0RGV2dG9vbHNHbG9iYWxIb29rKCkge1xuICAgIHJldHVybiBnZXRUYXJnZXQoKS5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgPyB3aW5kb3dcbiAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgIDoge307XG59XG5leHBvcnQgY29uc3QgaXNQcm94eUF2YWlsYWJsZSA9IHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJztcbiIsImV4cG9ydCBjb25zdCBIT09LX1NFVFVQID0gJ2RldnRvb2xzLXBsdWdpbjpzZXR1cCc7XG5leHBvcnQgY29uc3QgSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUID0gJ3BsdWdpbjpzZXR0aW5nczpzZXQnO1xuIiwibGV0IHN1cHBvcnRlZDtcbmxldCBwZXJmO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGVyZm9ybWFuY2VTdXBwb3J0ZWQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChzdXBwb3J0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3VwcG9ydGVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmICgoX2EgPSBnbG9iYWwucGVyZl9ob29rcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBlcmZvcm1hbmNlKSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBwZXJmID0gZ2xvYmFsLnBlcmZfaG9va3MucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIGlzUGVyZm9ybWFuY2VTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpO1xufVxuIiwiaW1wb3J0IHsgSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUIH0gZnJvbSAnLi9jb25zdC5qcyc7XG5pbXBvcnQgeyBub3cgfSBmcm9tICcuL3RpbWUuanMnO1xuZXhwb3J0IGNsYXNzIEFwaVByb3h5IHtcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW4sIGhvb2spIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldFF1ZXVlID0gW107XG4gICAgICAgIHRoaXMub25RdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5ob29rID0gaG9vaztcbiAgICAgICAgY29uc3QgZGVmYXVsdFNldHRpbmdzID0ge307XG4gICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gcGx1Z2luLnNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHBsdWdpbi5zZXR0aW5nc1tpZF07XG4gICAgICAgICAgICAgICAgZGVmYXVsdFNldHRpbmdzW2lkXSA9IGl0ZW0uZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2FsU2V0dGluZ3NTYXZlSWQgPSBgX192dWUtZGV2dG9vbHMtcGx1Z2luLXNldHRpbmdzX18ke3BsdWdpbi5pZH1gO1xuICAgICAgICBsZXQgY3VycmVudFNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFNldHRpbmdzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU2V0dGluZ3NTYXZlSWQpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmF3KTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudFNldHRpbmdzLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm9vcFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmFsbGJhY2tzID0ge1xuICAgICAgICAgICAgZ2V0U2V0dGluZ3MoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRTZXR0aW5ncztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRTZXR0aW5ncyh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU2V0dGluZ3NTYXZlSWQsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm93KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3coKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChob29rKSB7XG4gICAgICAgICAgICBob29rLm9uKEhPT0tfUExVR0lOX1NFVFRJTkdTX1NFVCwgKHBsdWdpbklkLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW5JZCA9PT0gdGhpcy5wbHVnaW4uaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWxsYmFja3Muc2V0U2V0dGluZ3ModmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJveGllZE9uID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgICAgICBnZXQ6IChfdGFyZ2V0LCBwcm9wKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5vbltwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJveGllZFRhcmdldCA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICAgICAgZ2V0OiAoX3RhcmdldCwgcHJvcCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJveGllZE9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChPYmplY3Qua2V5cyh0aGlzLmZhbGxiYWNrcykuaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6ICgpID0+IHsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFsbGJhY2tzW3Byb3BdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNldFJlYWxUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5vblF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5vbltpdGVtLm1ldGhvZF0oLi4uaXRlbS5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy50YXJnZXRRdWV1ZSkge1xuICAgICAgICAgICAgaXRlbS5yZXNvbHZlKGF3YWl0IHRoaXMudGFyZ2V0W2l0ZW0ubWV0aG9kXSguLi5pdGVtLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFRhcmdldCwgZ2V0RGV2dG9vbHNHbG9iYWxIb29rLCBpc1Byb3h5QXZhaWxhYmxlIH0gZnJvbSAnLi9lbnYuanMnO1xuaW1wb3J0IHsgSE9PS19TRVRVUCB9IGZyb20gJy4vY29uc3QuanMnO1xuaW1wb3J0IHsgQXBpUHJveHkgfSBmcm9tICcuL3Byb3h5LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYXBpL2luZGV4LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcGx1Z2luLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdGltZS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBEZXZ0b29sc1BsdWdpbihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSB7XG4gICAgY29uc3QgZGVzY3JpcHRvciA9IHBsdWdpbkRlc2NyaXB0b3I7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0VGFyZ2V0KCk7XG4gICAgY29uc3QgaG9vayA9IGdldERldnRvb2xzR2xvYmFsSG9vaygpO1xuICAgIGNvbnN0IGVuYWJsZVByb3h5ID0gaXNQcm94eUF2YWlsYWJsZSAmJiBkZXNjcmlwdG9yLmVuYWJsZUVhcmx5UHJveHk7XG4gICAgaWYgKGhvb2sgJiYgKHRhcmdldC5fX1ZVRV9ERVZUT09MU19QTFVHSU5fQVBJX0FWQUlMQUJMRV9fIHx8ICFlbmFibGVQcm94eSkpIHtcbiAgICAgICAgaG9vay5lbWl0KEhPT0tfU0VUVVAsIHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcHJveHkgPSBlbmFibGVQcm94eSA/IG5ldyBBcGlQcm94eShkZXNjcmlwdG9yLCBob29rKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX1BMVUdJTlNfXyB8fCBbXTtcbiAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgIHBsdWdpbkRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgICAgICAgICBzZXR1cEZuLFxuICAgICAgICAgICAgcHJveHksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJveHkpXG4gICAgICAgICAgICBzZXR1cEZuKHByb3h5LnByb3hpZWRUYXJnZXQpO1xuICAgIH1cbn1cbiIsIi8qIVxuICAqIHBpbmlhIHYyLjAuMjlcbiAgKiAoYykgMjAyMyBFZHVhcmRvIFNhbiBNYXJ0aW4gTW9yb3RlXG4gICogQGxpY2Vuc2UgTUlUXG4gICovXG5pbXBvcnQgeyBnZXRDdXJyZW50SW5zdGFuY2UsIGluamVjdCwgdG9SYXcsIHdhdGNoLCB1bnJlZiwgbWFya1JhdywgZWZmZWN0U2NvcGUsIHJlZiwgaXNWdWUyLCBpc1JlZiwgaXNSZWFjdGl2ZSwgc2V0LCBnZXRDdXJyZW50U2NvcGUsIG9uU2NvcGVEaXNwb3NlLCByZWFjdGl2ZSwgdG9SZWYsIGRlbCwgbmV4dFRpY2ssIGNvbXB1dGVkLCB0b1JlZnMgfSBmcm9tICd2dWUtZGVtaSc7XG5pbXBvcnQgeyBzZXR1cERldnRvb2xzUGx1Z2luIH0gZnJvbSAnQHZ1ZS9kZXZ0b29scy1hcGknO1xuXG4vKipcclxuICogc2V0QWN0aXZlUGluaWEgbXVzdCBiZSBjYWxsZWQgdG8gaGFuZGxlIFNTUiBhdCB0aGUgdG9wIG9mIGZ1bmN0aW9ucyBsaWtlXHJcbiAqIGBmZXRjaGAsIGBzZXR1cGAsIGBzZXJ2ZXJQcmVmZXRjaGAgYW5kIG90aGVyc1xyXG4gKi9cclxubGV0IGFjdGl2ZVBpbmlhO1xyXG4vKipcclxuICogU2V0cyBvciB1bnNldHMgdGhlIGFjdGl2ZSBwaW5pYS4gVXNlZCBpbiBTU1IgYW5kIGludGVybmFsbHkgd2hlbiBjYWxsaW5nXHJcbiAqIGFjdGlvbnMgYW5kIGdldHRlcnNcclxuICpcclxuICogQHBhcmFtIHBpbmlhIC0gUGluaWEgaW5zdGFuY2VcclxuICovXHJcbmNvbnN0IHNldEFjdGl2ZVBpbmlhID0gKHBpbmlhKSA9PiAoYWN0aXZlUGluaWEgPSBwaW5pYSk7XHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgcGluaWEgaWYgdGhlcmUgaXMgYW55LlxyXG4gKi9cclxuY29uc3QgZ2V0QWN0aXZlUGluaWEgPSAoKSA9PiAoZ2V0Q3VycmVudEluc3RhbmNlKCkgJiYgaW5qZWN0KHBpbmlhU3ltYm9sKSkgfHwgYWN0aXZlUGluaWE7XHJcbmNvbnN0IHBpbmlhU3ltYm9sID0gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IFN5bWJvbCgncGluaWEnKSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFN5bWJvbCgpKTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxubykge1xyXG4gICAgcmV0dXJuIChvICYmXHJcbiAgICAgICAgdHlwZW9mIG8gPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSAnW29iamVjdCBPYmplY3RdJyAmJlxyXG4gICAgICAgIHR5cGVvZiBvLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyk7XHJcbn1cclxuLy8gdHlwZSBEZWVwUmVhZG9ubHk8VD4gPSB7IHJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBEZWVwUmVhZG9ubHk8VFtQXT4gfVxyXG4vLyBUT0RPOiBjYW4gd2UgY2hhbmdlIHRoZXNlIHRvIG51bWJlcnM/XHJcbi8qKlxyXG4gKiBQb3NzaWJsZSB0eXBlcyBmb3IgU3Vic2NyaXB0aW9uQ2FsbGJhY2tcclxuICovXHJcbnZhciBNdXRhdGlvblR5cGU7XHJcbihmdW5jdGlvbiAoTXV0YXRpb25UeXBlKSB7XHJcbiAgICAvKipcclxuICAgICAqIERpcmVjdCBtdXRhdGlvbiBvZiB0aGUgc3RhdGU6XHJcbiAgICAgKlxyXG4gICAgICogLSBgc3RvcmUubmFtZSA9ICduZXcgbmFtZSdgXHJcbiAgICAgKiAtIGBzdG9yZS4kc3RhdGUubmFtZSA9ICduZXcgbmFtZSdgXHJcbiAgICAgKiAtIGBzdG9yZS5saXN0LnB1c2goJ25ldyBpdGVtJylgXHJcbiAgICAgKi9cclxuICAgIE11dGF0aW9uVHlwZVtcImRpcmVjdFwiXSA9IFwiZGlyZWN0XCI7XHJcbiAgICAvKipcclxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGFuIG9iamVjdFxyXG4gICAgICpcclxuICAgICAqIC0gYHN0b3JlLiRwYXRjaCh7IG5hbWU6ICduZXdOYW1lJyB9KWBcclxuICAgICAqL1xyXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hPYmplY3RcIl0gPSBcInBhdGNoIG9iamVjdFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNdXRhdGVkIHRoZSBzdGF0ZSB3aXRoIGAkcGF0Y2hgIGFuZCBhIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogLSBgc3RvcmUuJHBhdGNoKHN0YXRlID0+IHN0YXRlLm5hbWUgPSAnbmV3TmFtZScpYFxyXG4gICAgICovXHJcbiAgICBNdXRhdGlvblR5cGVbXCJwYXRjaEZ1bmN0aW9uXCJdID0gXCJwYXRjaCBmdW5jdGlvblwiO1xyXG4gICAgLy8gbWF5YmUgcmVzZXQ/IGZvciAkc3RhdGUgPSB7fSBhbmQgJHJlc2V0XHJcbn0pKE11dGF0aW9uVHlwZSB8fCAoTXV0YXRpb25UeXBlID0ge30pKTtcblxuY29uc3QgSVNfQ0xJRU5UID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XHJcbi8qKlxyXG4gKiBTaG91bGQgd2UgYWRkIHRoZSBkZXZ0b29scyBwbHVnaW5zLlxyXG4gKiAtIG9ubHkgaWYgZGV2IG1vZGUgb3IgZm9yY2VkIHRocm91Z2ggdGhlIHByb2QgZGV2dG9vbHMgZmxhZ1xyXG4gKiAtIG5vdCBpbiB0ZXN0XHJcbiAqIC0gb25seSBpZiB3aW5kb3cgZXhpc3RzIChjb3VsZCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZSlcclxuICovXHJcbmNvbnN0IFVTRV9ERVZUT09MUyA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykgJiYgSVNfQ0xJRU5UO1xuXG4vKlxyXG4gKiBGaWxlU2F2ZXIuanMgQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXHJcbiAqXHJcbiAqIE9yaWdpbmFsbHkgYnkgRWxpIEdyZXksIGFkYXB0ZWQgYXMgYW4gRVNNIG1vZHVsZSBieSBFZHVhcmRvIFNhbiBNYXJ0aW5cclxuICogTW9yb3RlLlxyXG4gKlxyXG4gKiBMaWNlbnNlIDogTUlUXHJcbiAqL1xyXG4vLyBUaGUgb25lIGFuZCBvbmx5IHdheSBvZiBnZXR0aW5nIGdsb2JhbCBzY29wZSBpbiBhbGwgZW52aXJvbm1lbnRzXHJcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8zMjc3MTgyLzEwMDg5OTlcclxuY29uc3QgX2dsb2JhbCA9IC8qI19fUFVSRV9fKi8gKCgpID0+IHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy53aW5kb3cgPT09IHdpbmRvd1xyXG4gICAgPyB3aW5kb3dcclxuICAgIDogdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZlxyXG4gICAgICAgID8gc2VsZlxyXG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsXHJcbiAgICAgICAgICAgID8gZ2xvYmFsXHJcbiAgICAgICAgICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnXHJcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcclxuICAgICAgICAgICAgICAgIDogeyBIVE1MRWxlbWVudDogbnVsbCB9KSgpO1xyXG5mdW5jdGlvbiBib20oYmxvYiwgeyBhdXRvQm9tID0gZmFsc2UgfSA9IHt9KSB7XHJcbiAgICAvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxyXG4gICAgLy8gbm90ZTogeW91ciBicm93c2VyIHdpbGwgYXV0b21hdGljYWxseSBjb252ZXJ0IFVURi0xNiBVK0ZFRkYgdG8gRUYgQkIgQkZcclxuICAgIGlmIChhdXRvQm9tICYmXHJcbiAgICAgICAgL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSgweGZlZmYpLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYmxvYjtcclxufVxyXG5mdW5jdGlvbiBkb3dubG9hZCh1cmwsIG5hbWUsIG9wdHMpIHtcclxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XHJcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xyXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzYXZlQXMoeGhyLnJlc3BvbnNlLCBuYW1lLCBvcHRzKTtcclxuICAgIH07XHJcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdjb3VsZCBub3QgZG93bmxvYWQgZmlsZScpO1xyXG4gICAgfTtcclxuICAgIHhoci5zZW5kKCk7XHJcbn1cclxuZnVuY3Rpb24gY29yc0VuYWJsZWQodXJsKSB7XHJcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIC8vIHVzZSBzeW5jIHRvIGF2b2lkIHBvcHVwIGJsb2NrZXJcclxuICAgIHhoci5vcGVuKCdIRUFEJywgdXJsLCBmYWxzZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICByZXR1cm4geGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8PSAyOTk7XHJcbn1cclxuLy8gYGEuY2xpY2soKWAgZG9lc24ndCB3b3JrIGZvciBhbGwgYnJvd3NlcnMgKCM0NjUpXHJcbmZ1bmN0aW9uIGNsaWNrKG5vZGUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc3QgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XHJcbiAgICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KCdjbGljaycsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgODAsIDIwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XHJcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgX25hdmlnYXRvciA9IFxyXG4gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogJycgfTtcclxuLy8gRGV0ZWN0IFdlYlZpZXcgaW5zaWRlIGEgbmF0aXZlIG1hY09TIGFwcCBieSBydWxpbmcgb3V0IGFsbCBicm93c2Vyc1xyXG4vLyBXZSBqdXN0IG5lZWQgdG8gY2hlY2sgZm9yICdTYWZhcmknIGJlY2F1c2UgYWxsIG90aGVyIGJyb3dzZXJzIChiZXNpZGVzIEZpcmVmb3gpIGluY2x1ZGUgdGhhdCB0b29cclxuLy8gaHR0cHM6Ly93d3cud2hhdGlzbXlicm93c2VyLmNvbS9ndWlkZXMvdGhlLWxhdGVzdC11c2VyLWFnZW50L21hY29zXHJcbmNvbnN0IGlzTWFjT1NXZWJWaWV3ID0gLyojX19QVVJFX18qLyAoKCkgPT4gL01hY2ludG9zaC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcclxuICAgIC9BcHBsZVdlYktpdC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcclxuICAgICEvU2FmYXJpLy50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSkoKTtcclxuY29uc3Qgc2F2ZUFzID0gIUlTX0NMSUVOVFxyXG4gICAgPyAoKSA9PiB7IH0gLy8gbm9vcFxyXG4gICAgOiAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSkgdW5sZXNzIHRoaXMgaXMgYSBtYWNPUyBXZWJWaWV3IG9yIG1pbmkgcHJvZ3JhbVxyXG4gICAgICAgIHR5cGVvZiBIVE1MQW5jaG9yRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAgICAgJ2Rvd25sb2FkJyBpbiBIVE1MQW5jaG9yRWxlbWVudC5wcm90b3R5cGUgJiZcclxuICAgICAgICAgICAgIWlzTWFjT1NXZWJWaWV3XHJcbiAgICAgICAgICAgID8gZG93bmxvYWRTYXZlQXNcclxuICAgICAgICAgICAgOiAvLyBVc2UgbXNTYXZlT3JPcGVuQmxvYiBhcyBhIHNlY29uZCBhcHByb2FjaFxyXG4gICAgICAgICAgICAgICAgJ21zU2F2ZU9yT3BlbkJsb2InIGluIF9uYXZpZ2F0b3JcclxuICAgICAgICAgICAgICAgICAgICA/IG1zU2F2ZUFzXHJcbiAgICAgICAgICAgICAgICAgICAgOiAvLyBGYWxsYmFjayB0byB1c2luZyBGaWxlUmVhZGVyIGFuZCBhIHBvcHVwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTYXZlclNhdmVBcztcclxuZnVuY3Rpb24gZG93bmxvYWRTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcclxuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBhLmRvd25sb2FkID0gbmFtZTtcclxuICAgIGEucmVsID0gJ25vb3BlbmVyJzsgLy8gdGFibmFiYmluZ1xyXG4gICAgLy8gVE9ETzogZGV0ZWN0IGNocm9tZSBleHRlbnNpb25zICYgcGFja2FnZWQgYXBwc1xyXG4gICAgLy8gYS50YXJnZXQgPSAnX2JsYW5rJ1xyXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vIFN1cHBvcnQgcmVndWxhciBsaW5rc1xyXG4gICAgICAgIGEuaHJlZiA9IGJsb2I7XHJcbiAgICAgICAgaWYgKGEub3JpZ2luICE9PSBsb2NhdGlvbi5vcmlnaW4pIHtcclxuICAgICAgICAgICAgaWYgKGNvcnNFbmFibGVkKGEuaHJlZikpIHtcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcclxuICAgICAgICAgICAgICAgIGNsaWNrKGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjbGljayhhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBTdXBwb3J0IGJsb2JzXHJcbiAgICAgICAgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpO1xyXG4gICAgICAgIH0sIDRlNCk7IC8vIDQwc1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGljayhhKTtcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBtc1NhdmVBcyhibG9iLCBuYW1lID0gJ2Rvd25sb2FkJywgb3B0cykge1xyXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xyXG4gICAgICAgICAgICBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGEuaHJlZiA9IGJsb2I7XHJcbiAgICAgICAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2xpY2soYSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IHdvcmtzIG9uIHdpbmRvd3NcclxuICAgICAgICBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihib20oYmxvYiwgb3B0cyksIG5hbWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZpbGVTYXZlclNhdmVBcyhibG9iLCBuYW1lLCBvcHRzLCBwb3B1cCkge1xyXG4gICAgLy8gT3BlbiBhIHBvcHVwIGltbWVkaWF0ZWx5IGRvIGdvIGFyb3VuZCBwb3B1cCBibG9ja2VyXHJcbiAgICAvLyBNb3N0bHkgb25seSBhdmFpbGFibGUgb24gdXNlciBpbnRlcmFjdGlvbiBhbmQgdGhlIGZpbGVSZWFkZXIgaXMgYXN5bmMgc28uLi5cclxuICAgIHBvcHVwID0gcG9wdXAgfHwgb3BlbignJywgJ19ibGFuaycpO1xyXG4gICAgaWYgKHBvcHVwKSB7XHJcbiAgICAgICAgcG9wdXAuZG9jdW1lbnQudGl0bGUgPSBwb3B1cC5kb2N1bWVudC5ib2R5LmlubmVyVGV4dCA9ICdkb3dubG9hZGluZy4uLic7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKVxyXG4gICAgICAgIHJldHVybiBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcclxuICAgIGNvbnN0IGZvcmNlID0gYmxvYi50eXBlID09PSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcclxuICAgIGNvbnN0IGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChTdHJpbmcoX2dsb2JhbC5IVE1MRWxlbWVudCkpIHx8ICdzYWZhcmknIGluIF9nbG9iYWw7XHJcbiAgICBjb25zdCBpc0Nocm9tZUlPUyA9IC9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIGlmICgoaXNDaHJvbWVJT1MgfHwgKGZvcmNlICYmIGlzU2FmYXJpKSB8fCBpc01hY09TV2ViVmlldykgJiZcclxuICAgICAgICB0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIFVSTHNcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSByZWFkZXIucmVzdWx0O1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHBvcHVwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgcmVhZGVyLnJlc3VsdCB0eXBlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXJsID0gaXNDaHJvbWVJT1NcclxuICAgICAgICAgICAgICAgID8gdXJsXHJcbiAgICAgICAgICAgICAgICA6IHVybC5yZXBsYWNlKC9eZGF0YTpbXjtdKjsvLCAnZGF0YTphdHRhY2htZW50L2ZpbGU7Jyk7XHJcbiAgICAgICAgICAgIGlmIChwb3B1cCkge1xyXG4gICAgICAgICAgICAgICAgcG9wdXAubG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvcHVwID0gbnVsbDsgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBpZiAocG9wdXApXHJcbiAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICBwb3B1cCA9IG51bGw7IC8vIHJldmVyc2UtdGFibmFiYmluZyAjNDYwXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcclxuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcclxuICAgIH1cclxufVxuXG4vKipcclxuICogU2hvd3MgYSB0b2FzdCBvciBjb25zb2xlLmxvZ1xyXG4gKlxyXG4gKiBAcGFyYW0gbWVzc2FnZSAtIG1lc3NhZ2UgdG8gbG9nXHJcbiAqIEBwYXJhbSB0eXBlIC0gZGlmZmVyZW50IGNvbG9yIG9mIHRoZSB0b29sdGlwXHJcbiAqL1xyXG5mdW5jdGlvbiB0b2FzdE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xyXG4gICAgY29uc3QgcGluaWFNZXNzYWdlID0gJ/CfjY0gJyArIG1lc3NhZ2U7XHJcbiAgICBpZiAodHlwZW9mIF9fVlVFX0RFVlRPT0xTX1RPQVNUX18gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBfX1ZVRV9ERVZUT09MU19UT0FTVF9fKHBpbmlhTWVzc2FnZSwgdHlwZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnZXJyb3InKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihwaW5pYU1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3dhcm4nKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKHBpbmlhTWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhwaW5pYU1lc3NhZ2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzUGluaWEobykge1xyXG4gICAgcmV0dXJuICdfYScgaW4gbyAmJiAnaW5zdGFsbCcgaW4gbztcclxufVxuXG5mdW5jdGlvbiBjaGVja0NsaXBib2FyZEFjY2VzcygpIHtcclxuICAgIGlmICghKCdjbGlwYm9hcmQnIGluIG5hdmlnYXRvcikpIHtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoYFlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdGhlIENsaXBib2FyZCBBUElgLCAnZXJyb3InKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcclxuICAgICAgICBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2RvY3VtZW50IGlzIG5vdCBmb2N1c2VkJykpIHtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoJ1lvdSBuZWVkIHRvIGFjdGl2YXRlIHRoZSBcIkVtdWxhdGUgYSBmb2N1c2VkIHBhZ2VcIiBzZXR0aW5nIGluIHRoZSBcIlJlbmRlcmluZ1wiIHBhbmVsIG9mIGRldnRvb2xzLicsICd3YXJuJyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsQ29weVN0YXRlKHBpbmlhKSB7XHJcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KEpTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKSk7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgY29waWVkIHRvIGNsaXBib2FyZC4nKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBzZXJpYWxpemUgdGhlIHN0YXRlLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpIHtcclxuICAgIGlmIChjaGVja0NsaXBib2FyZEFjY2VzcygpKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWUgPSBKU09OLnBhcnNlKGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKSk7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgcGFzdGVkIGZyb20gY2xpcGJvYXJkLicpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGNoZWNrTm90Rm9jdXNlZEVycm9yKGVycm9yKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGRlc2VyaWFsaXplIHRoZSBzdGF0ZSBmcm9tIGNsaXBib2FyZC4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxyXG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxTYXZlU3RhdGUocGluaWEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgc2F2ZUFzKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShwaW5pYS5zdGF0ZS52YWx1ZSldLCB7XHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnLFxyXG4gICAgICAgIH0pLCAncGluaWEtc3RhdGUuanNvbicpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gZXhwb3J0IHRoZSBzdGF0ZSBhcyBKU09OLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbmxldCBmaWxlSW5wdXQ7XHJcbmZ1bmN0aW9uIGdldEZpbGVPcGVuZXIoKSB7XHJcbiAgICBpZiAoIWZpbGVJbnB1dCkge1xyXG4gICAgICAgIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XHJcbiAgICAgICAgZmlsZUlucHV0LmFjY2VwdCA9ICcuanNvbic7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvcGVuRmlsZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGZpbGVJbnB1dC5maWxlcztcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZXMuaXRlbSgwKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmlsZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdGV4dDogYXdhaXQgZmlsZS50ZXh0KCksIGZpbGUgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IFRPRE86IGNoYW5nZWQgZnJvbSA0LjMgdG8gNC40XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmNhbmNlbCA9ICgpID0+IHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBvcGVuRmlsZTtcclxufVxyXG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IG9wZW4gPSBhd2FpdCBnZXRGaWxlT3BlbmVyKCk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlbigpO1xyXG4gICAgICAgIGlmICghcmVzdWx0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgeyB0ZXh0LCBmaWxlIH0gPSByZXN1bHQ7XHJcbiAgICAgICAgcGluaWEuc3RhdGUudmFsdWUgPSBKU09OLnBhcnNlKHRleHQpO1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgR2xvYmFsIHN0YXRlIGltcG9ydGVkIGZyb20gXCIke2ZpbGUubmFtZX1cIi5gKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGV4cG9ydCB0aGUgc3RhdGUgYXMgSlNPTi4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5KGRpc3BsYXkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgX2N1c3RvbToge1xyXG4gICAgICAgICAgICBkaXNwbGF5LFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbmNvbnN0IFBJTklBX1JPT1RfTEFCRUwgPSAn8J+NjSBQaW5pYSAocm9vdCknO1xyXG5jb25zdCBQSU5JQV9ST09UX0lEID0gJ19yb290JztcclxuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKHN0b3JlKSB7XHJcbiAgICByZXR1cm4gaXNQaW5pYShzdG9yZSlcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgaWQ6IFBJTklBX1JPT1RfSUQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBQSU5JQV9ST09UX0xBQkVMLFxyXG4gICAgICAgIH1cclxuICAgICAgICA6IHtcclxuICAgICAgICAgICAgaWQ6IHN0b3JlLiRpZCxcclxuICAgICAgICAgICAgbGFiZWw6IHN0b3JlLiRpZCxcclxuICAgICAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoc3RvcmUpIHtcclxuICAgIGlmIChpc1BpbmlhKHN0b3JlKSkge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlTmFtZXMgPSBBcnJheS5mcm9tKHN0b3JlLl9zLmtleXMoKSk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVNYXAgPSBzdG9yZS5fcztcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgc3RhdGU6IHN0b3JlTmFtZXMubWFwKChzdG9yZUlkKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBrZXk6IHN0b3JlSWQsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuc3RhdGUudmFsdWVbc3RvcmVJZF0sXHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgZ2V0dGVyczogc3RvcmVOYW1lc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoaWQpID0+IHN0b3JlTWFwLmdldChpZCkuX2dldHRlcnMpXHJcbiAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBzdG9yZU1hcC5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBpZCxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RvcmUuX2dldHRlcnMucmVkdWNlKChnZXR0ZXJzLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwge30pLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICBzdGF0ZTogT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5tYXAoKGtleSkgPT4gKHtcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGtleSxcclxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlLiRzdGF0ZVtrZXldLFxyXG4gICAgICAgIH0pKSxcclxuICAgIH07XHJcbiAgICAvLyBhdm9pZCBhZGRpbmcgZW1wdHkgZ2V0dGVyc1xyXG4gICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgIHN0YXRlLmdldHRlcnMgPSBzdG9yZS5fZ2V0dGVycy5tYXAoKGdldHRlck5hbWUpID0+ICh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAga2V5OiBnZXR0ZXJOYW1lLFxyXG4gICAgICAgICAgICB2YWx1ZTogc3RvcmVbZ2V0dGVyTmFtZV0sXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLnNpemUpIHtcclxuICAgICAgICBzdGF0ZS5jdXN0b21Qcm9wZXJ0aWVzID0gQXJyYXkuZnJvbShzdG9yZS5fY3VzdG9tUHJvcGVydGllcykubWFwKChrZXkpID0+ICh7XHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtrZXldLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGF0ZTtcclxufVxyXG5mdW5jdGlvbiBmb3JtYXRFdmVudERhdGEoZXZlbnRzKSB7XHJcbiAgICBpZiAoIWV2ZW50cylcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudHMpKSB7XHJcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGFkZCBhbmQgZGVsZXRlIGZvciBhcnJheXMgYW5kIG9iamVjdHNcclxuICAgICAgICByZXR1cm4gZXZlbnRzLnJlZHVjZSgoZGF0YSwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZGF0YS5rZXlzLnB1c2goZXZlbnQua2V5KTtcclxuICAgICAgICAgICAgZGF0YS5vcGVyYXRpb25zLnB1c2goZXZlbnQudHlwZSk7XHJcbiAgICAgICAgICAgIGRhdGEub2xkVmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm9sZFZhbHVlO1xyXG4gICAgICAgICAgICBkYXRhLm5ld1ZhbHVlW2V2ZW50LmtleV0gPSBldmVudC5uZXdWYWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBvbGRWYWx1ZToge30sXHJcbiAgICAgICAgICAgIGtleXM6IFtdLFxyXG4gICAgICAgICAgICBvcGVyYXRpb25zOiBbXSxcclxuICAgICAgICAgICAgbmV3VmFsdWU6IHt9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgb3BlcmF0aW9uOiBmb3JtYXREaXNwbGF5KGV2ZW50cy50eXBlKSxcclxuICAgICAgICAgICAga2V5OiBmb3JtYXREaXNwbGF5KGV2ZW50cy5rZXkpLFxyXG4gICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnRzLm9sZFZhbHVlLFxyXG4gICAgICAgICAgICBuZXdWYWx1ZTogZXZlbnRzLm5ld1ZhbHVlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZm9ybWF0TXV0YXRpb25UeXBlKHR5cGUpIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLmRpcmVjdDpcclxuICAgICAgICAgICAgcmV0dXJuICdtdXRhdGlvbic7XHJcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbjpcclxuICAgICAgICAgICAgcmV0dXJuICckcGF0Y2gnO1xyXG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0OlxyXG4gICAgICAgICAgICByZXR1cm4gJyRwYXRjaCc7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJztcclxuICAgIH1cclxufVxuXG4vLyB0aW1lbGluZSBjYW4gYmUgcGF1c2VkIHdoZW4gZGlyZWN0bHkgY2hhbmdpbmcgdGhlIHN0YXRlXHJcbmxldCBpc1RpbWVsaW5lQWN0aXZlID0gdHJ1ZTtcclxuY29uc3QgY29tcG9uZW50U3RhdGVUeXBlcyA9IFtdO1xyXG5jb25zdCBNVVRBVElPTlNfTEFZRVJfSUQgPSAncGluaWE6bXV0YXRpb25zJztcclxuY29uc3QgSU5TUEVDVE9SX0lEID0gJ3BpbmlhJztcclxuLyoqXHJcbiAqIEdldHMgdGhlIGRpc3BsYXllZCBuYW1lIG9mIGEgc3RvcmUgaW4gZGV2dG9vbHNcclxuICpcclxuICogQHBhcmFtIGlkIC0gaWQgb2YgdGhlIHN0b3JlXHJcbiAqIEByZXR1cm5zIGEgZm9ybWF0dGVkIHN0cmluZ1xyXG4gKi9cclxuY29uc3QgZ2V0U3RvcmVUeXBlID0gKGlkKSA9PiAn8J+NjSAnICsgaWQ7XHJcbi8qKlxyXG4gKiBBZGQgdGhlIHBpbmlhIHBsdWdpbiB3aXRob3V0IGFueSBzdG9yZS4gQWxsb3dzIGRpc3BsYXlpbmcgYSBQaW5pYSBwbHVnaW4gdGFiXHJcbiAqIGFzIHNvb24gYXMgaXQgaXMgYWRkZWQgdG8gdGhlIGFwcGxpY2F0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gVnVlIGFwcGxpY2F0aW9uXHJcbiAqIEBwYXJhbSBwaW5pYSAtIHBpbmlhIGluc3RhbmNlXHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlclBpbmlhRGV2dG9vbHMoYXBwLCBwaW5pYSkge1xyXG4gICAgc2V0dXBEZXZ0b29sc1BsdWdpbih7XHJcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcclxuICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxyXG4gICAgICAgIGxvZ286ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9sb2dvLnN2ZycsXHJcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXHJcbiAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZycsXHJcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcyxcclxuICAgICAgICBhcHAsXHJcbiAgICB9LCAoYXBpKSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcGkubm93ICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XHJcbiAgICAgICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgIGxhYmVsOiBgUGluaWEg8J+NjWAsXHJcbiAgICAgICAgICAgIGNvbG9yOiAweGU1ZGY4OCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcclxuICAgICAgICAgICAgaWQ6IElOU1BFQ1RPUl9JRCxcclxuICAgICAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcclxuICAgICAgICAgICAgaWNvbjogJ3N0b3JhZ2UnLFxyXG4gICAgICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdTZWFyY2ggc3RvcmVzJyxcclxuICAgICAgICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdjb250ZW50X2NvcHknLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NlcmlhbGl6ZSBhbmQgY29weSB0aGUgc3RhdGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9wYXN0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1JlcGxhY2UgdGhlIHN0YXRlIHdpdGggdGhlIGNvbnRlbnQgb2YgeW91ciBjbGlwYm9hcmQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnc2F2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkdsb2JhbFNhdmVTdGF0ZShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2F2ZSB0aGUgc3RhdGUgYXMgYSBKU09OIGZpbGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZm9sZGVyX29wZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdJbXBvcnQgdGhlIHN0YXRlIGZyb20gYSBKU09OIGZpbGUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgbm9kZUFjdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAncmVzdG9yZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1Jlc2V0IHRoZSBzdGF0ZSAob3B0aW9uIHN0b3JlIG9ubHkpJyxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IChub2RlSWQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQobm9kZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IHdhc24ndCBmb3VuZC5gLCAnd2FybicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzdG9yZS5faXNPcHRpb25zQVBJKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYENhbm5vdCByZXNldCBcIiR7bm9kZUlkfVwiIHN0b3JlIGJlY2F1c2UgaXQncyBhIHNldHVwIHN0b3JlLmAsICd3YXJuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS4kcmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgU3RvcmUgXCIke25vZGVJZH1cIiByZXNldC5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwaS5vbi5pbnNwZWN0Q29tcG9uZW50KChwYXlsb2FkLCBjdHgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJveHkgPSAocGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZSAmJlxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZS5wcm94eSk7XHJcbiAgICAgICAgICAgIGlmIChwcm94eSAmJiBwcm94eS5fcFN0b3Jlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWFTdG9yZXMgPSBwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlLnByb3h5Ll9wU3RvcmVzO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhwaW5pYVN0b3JlcykuZm9yRWFjaCgoc3RvcmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3N0YXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5faXNPcHRpb25zQVBJXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY3VzdG9tOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b1JhdyhzdG9yZS4kc3RhdGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3Jlc3RvcmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdSZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBzdG9yZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiBzdG9yZS4kcmVzZXQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogLy8gTk9URTogd29ya2Fyb3VuZCB0byB1bndyYXAgdHJhbnNmZXJyZWQgcmVmc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0b3JlLiRzdGF0ZSkucmVkdWNlKChzdGF0ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBzdG9yZS4kc3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmUuX2dldHRlcnMgJiYgc3RvcmUuX2dldHRlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdnZXR0ZXJzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcnNba2V5XSA9IHN0b3JlW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBqdXN0IHdhbnQgdG8gc2hvdyBpdCBpbiBkZXZ0b29sc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBlcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmVzID0gW3BpbmlhXTtcclxuICAgICAgICAgICAgICAgIHN0b3JlcyA9IHN0b3Jlcy5jb25jYXQoQXJyYXkuZnJvbShwaW5pYS5fcy52YWx1ZXMoKSkpO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5yb290Tm9kZXMgPSAocGF5bG9hZC5maWx0ZXJcclxuICAgICAgICAgICAgICAgICAgICA/IHN0b3Jlcy5maWx0ZXIoKHN0b3JlKSA9PiAnJGlkJyBpbiBzdG9yZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0b3JlLiRpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBJTklBX1JPT1RfTEFCRUwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSlcclxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlcykubWFwKGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXHJcbiAgICAgICAgICAgICAgICAgICAgPyBwaW5pYVxyXG4gICAgICAgICAgICAgICAgICAgIDogcGluaWEuX3MuZ2V0KHBheWxvYWQubm9kZUlkKTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGJlIHRoZSBzZWxlY3RlZCBzdG9yZSByZXN0b3JlZCBmb3IgYSBkaWZmZXJlbnQgcHJvamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIGl0J3MgYmV0dGVyIG5vdCB0byBzYXkgYW55dGhpbmcgaGVyZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpbnNwZWN0ZWRTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuc3RhdGUgPSBmb3JtYXRTdG9yZUZvckluc3BlY3RvclN0YXRlKGluc3BlY3RlZFN0b3JlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQsIGN0eCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluc3BlY3RlZFN0b3JlID0gcGF5bG9hZC5ub2RlSWQgPT09IFBJTklBX1JPT1RfSURcclxuICAgICAgICAgICAgICAgICAgICA/IHBpbmlhXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbnNwZWN0ZWRTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtwYXlsb2FkLm5vZGVJZH1cIiBub3QgZm91bmRgLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gcGF5bG9hZDtcclxuICAgICAgICAgICAgICAgIGlmICghaXNQaW5pYShpbnNwZWN0ZWRTdG9yZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3Mgb25seSB0aGUgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggIT09IDEgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWluc3BlY3RlZFN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmhhcyhwYXRoWzBdKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoWzBdIGluIGluc3BlY3RlZFN0b3JlLiRzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoJyRzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJvb3QgYWNjZXNzLCB3ZSBjYW4gb21pdCB0aGUgYC52YWx1ZWAgYmVjYXVzZSB0aGUgZGV2dG9vbHMgQVBJIGRvZXMgaXQgZm9yIHVzXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KCdzdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoaW5zcGVjdGVkU3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhcGkub24uZWRpdENvbXBvbmVudFN0YXRlKChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLnR5cGUuc3RhcnRzV2l0aCgn8J+NjScpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUlkID0gcGF5bG9hZC50eXBlLnJlcGxhY2UoL17wn42NXFxzKi8sICcnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KHN0b3JlSWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtzdG9yZUlkfVwiIG5vdCBmb3VuZGAsICdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBwYXlsb2FkO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbMF0gIT09ICdzdGF0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBJbnZhbGlkIHBhdGggZm9yIHN0b3JlIFwiJHtzdG9yZUlkfVwiOlxcbiR7cGF0aH1cXG5Pbmx5IHN0YXRlIGNhbiBiZSBtb2RpZmllZC5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHJld3JpdGUgdGhlIGZpcnN0IGVudHJ5IHRvIGJlIGFibGUgdG8gZGlyZWN0bHkgc2V0IHRoZSBzdGF0ZSBhc1xyXG4gICAgICAgICAgICAgICAgLy8gd2VsbCBhcyBhbnkgb3RoZXIgcGF0aFxyXG4gICAgICAgICAgICAgICAgcGF0aFswXSA9ICckc3RhdGUnO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoc3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGFkZFN0b3JlVG9EZXZ0b29scyhhcHAsIHN0b3JlKSB7XHJcbiAgICBpZiAoIWNvbXBvbmVudFN0YXRlVHlwZXMuaW5jbHVkZXMoZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCkpKSB7XHJcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcy5wdXNoKGdldFN0b3JlVHlwZShzdG9yZS4kaWQpKTtcclxuICAgIH1cclxuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xyXG4gICAgICAgIGlkOiAnZGV2LmVzbS5waW5pYScsXHJcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcclxuICAgICAgICBsb2dvOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvbG9nby5zdmcnLFxyXG4gICAgICAgIHBhY2thZ2VOYW1lOiAncGluaWEnLFxyXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxyXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMsXHJcbiAgICAgICAgYXBwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIGxvZ1N0b3JlQ2hhbmdlczoge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOb3RpZnkgYWJvdXQgbmV3L2RlbGV0ZWQgc3RvcmVzJyxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gdXNlRW1vamlzOiB7XHJcbiAgICAgICAgICAgIC8vICAgbGFiZWw6ICdVc2UgZW1vamlzIGluIG1lc3NhZ2VzIOKaoe+4jycsXHJcbiAgICAgICAgICAgIC8vICAgdHlwZTogJ2Jvb2xlYW4nLFxyXG4gICAgICAgICAgICAvLyAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICB9LFxyXG4gICAgfSwgKGFwaSkgPT4ge1xyXG4gICAgICAgIC8vIGdyYWNlZnVsbHkgaGFuZGxlIGVycm9yc1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHR5cGVvZiBhcGkubm93ID09PSAnZnVuY3Rpb24nID8gYXBpLm5vdy5iaW5kKGFwaSkgOiBEYXRlLm5vdztcclxuICAgICAgICBzdG9yZS4kb25BY3Rpb24oKHsgYWZ0ZXIsIG9uRXJyb3IsIG5hbWUsIGFyZ3MgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBncm91cElkID0gcnVubmluZ0FjdGlvbklkKys7XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5urICcgKyBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhZnRlcigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfm6wgJyArIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgb25FcnJvcigoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+SpSAnICsgbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICB3YXRjaCgoKSA9PiB1bnJlZihzdG9yZVtuYW1lXSksIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1RpbWVsaW5lQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hhbmdlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGl2ZUFjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN0b3JlLiRzdWJzY3JpYmUoKHsgZXZlbnRzLCB0eXBlIH0sIHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGltZWxpbmVBY3RpdmUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIHJvb3RTdG9yZS5zdGF0ZVtzdG9yZS5pZF0gPSBzdGF0ZVxyXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAuLi5mb3JtYXRFdmVudERhdGEoZXZlbnRzKSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBncm91cElkOiBhY3RpdmVBY3Rpb24sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IGZvciB0aGUgbmV4dCBtdXRhdGlvblxyXG4gICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gJ+Kkte+4jyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSAn8J+nqSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnRzICYmICFBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9IGV2ZW50cy50eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5kYXRhWydyYXdFdmVudChzKSddID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0RlYnVnZ2VyRXZlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ3JhdyBEZWJ1Z2dlckV2ZW50W10nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudERhdGEsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIHsgZGV0YWNoZWQ6IHRydWUsIGZsdXNoOiAnc3luYycgfSk7XHJcbiAgICAgICAgY29uc3QgaG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcclxuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcclxuICAgICAgICAgICAgaG90VXBkYXRlKG5ld1N0b3JlKTtcclxuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CflKUgJyArIHN0b3JlLiRpZCxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0hNUiB1cGRhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogZm9ybWF0RGlzcGxheShgSE1SIHVwZGF0ZWApLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkZXZ0b29scyB0b29cclxuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHsgJGRpc3Bvc2UgfSA9IHN0b3JlO1xyXG4gICAgICAgIHN0b3JlLiRkaXNwb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAkZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xyXG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgICAgIGFwaS5nZXRTZXR0aW5ncygpLmxvZ1N0b3JlQ2hhbmdlcyAmJlxyXG4gICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBEaXNwb3NlZCBcIiR7c3RvcmUuJGlkfVwiIHN0b3JlIPCfl5FgKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHRyaWdnZXIgYW4gdXBkYXRlIHNvIGl0IGNhbiBkaXNwbGF5IG5ldyByZWdpc3RlcmVkIHN0b3Jlc1xyXG4gICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcclxuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XHJcbiAgICAgICAgYXBpLmdldFNldHRpbmdzKCkubG9nU3RvcmVDaGFuZ2VzICYmXHJcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgXCIke3N0b3JlLiRpZH1cIiBzdG9yZSBpbnN0YWxsZWQg8J+GlWApO1xyXG4gICAgfSk7XHJcbn1cclxubGV0IHJ1bm5pbmdBY3Rpb25JZCA9IDA7XHJcbmxldCBhY3RpdmVBY3Rpb247XHJcbi8qKlxyXG4gKiBQYXRjaGVzIGEgc3RvcmUgdG8gZW5hYmxlIGFjdGlvbiBncm91cGluZyBpbiBkZXZ0b29scyBieSB3cmFwcGluZyB0aGUgc3RvcmUgd2l0aCBhIFByb3h5IHRoYXQgaXMgcGFzc2VkIGFzIHRoZVxyXG4gKiBjb250ZXh0IG9mIGFsbCBhY3Rpb25zLCBhbGxvd2luZyB1cyB0byBzZXQgYHJ1bm5pbmdBY3Rpb25gIG9uIGVhY2ggYWNjZXNzIGFuZCBlZmZlY3RpdmVseSBhc3NvY2lhdGluZyBhbnkgc3RhdGVcclxuICogbXV0YXRpb24gdG8gdGhlIGFjdGlvbi5cclxuICpcclxuICogQHBhcmFtIHN0b3JlIC0gc3RvcmUgdG8gcGF0Y2hcclxuICogQHBhcmFtIGFjdGlvbk5hbWVzIC0gbGlzdCBvZiBhY3Rpb25zdCB0byBwYXRjaFxyXG4gKi9cclxuZnVuY3Rpb24gcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgYWN0aW9uTmFtZXMpIHtcclxuICAgIC8vIG9yaWdpbmFsIGFjdGlvbnMgb2YgdGhlIHN0b3JlIGFzIHRoZXkgYXJlIGdpdmVuIGJ5IHBpbmlhLiBXZSBhcmUgZ29pbmcgdG8gb3ZlcnJpZGUgdGhlbVxyXG4gICAgY29uc3QgYWN0aW9ucyA9IGFjdGlvbk5hbWVzLnJlZHVjZSgoc3RvcmVBY3Rpb25zLCBhY3Rpb25OYW1lKSA9PiB7XHJcbiAgICAgICAgLy8gdXNlIHRvUmF3IHRvIGF2b2lkIHRyYWNraW5nICM1NDFcclxuICAgICAgICBzdG9yZUFjdGlvbnNbYWN0aW9uTmFtZV0gPSB0b1JhdyhzdG9yZSlbYWN0aW9uTmFtZV07XHJcbiAgICAgICAgcmV0dXJuIHN0b3JlQWN0aW9ucztcclxuICAgIH0sIHt9KTtcclxuICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBhY3Rpb25zKSB7XHJcbiAgICAgICAgc3RvcmVbYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHNldEFjdGl2ZVBpbmlhKHN0b3JlLl9wKVxyXG4gICAgICAgICAgICAvLyB0aGUgcnVubmluZyBhY3Rpb24gaWQgaXMgaW5jcmVtZW50ZWQgaW4gYSBiZWZvcmUgYWN0aW9uIGhvb2tcclxuICAgICAgICAgICAgY29uc3QgX2FjdGlvbklkID0gcnVubmluZ0FjdGlvbklkO1xyXG4gICAgICAgICAgICBjb25zdCB0cmFja2VkU3RvcmUgPSBuZXcgUHJveHkoc3RvcmUsIHtcclxuICAgICAgICAgICAgICAgIGdldCguLi5hcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCguLi5hcmdzKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQoLi4uYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnNbYWN0aW9uTmFtZV0uYXBwbHkodHJhY2tlZFN0b3JlLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbilcclxuICovXHJcbmZ1bmN0aW9uIGRldnRvb2xzUGx1Z2luKHsgYXBwLCBzdG9yZSwgb3B0aW9ucyB9KSB7XHJcbiAgICAvLyBITVIgbW9kdWxlXHJcbiAgICBpZiAoc3RvcmUuJGlkLnN0YXJ0c1dpdGgoJ19faG90OicpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gZGV0ZWN0IG9wdGlvbiBhcGkgdnMgc2V0dXAgYXBpXHJcbiAgICBpZiAob3B0aW9ucy5zdGF0ZSkge1xyXG4gICAgICAgIHN0b3JlLl9pc09wdGlvbnNBUEkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gb25seSB3cmFwIGFjdGlvbnMgaW4gb3B0aW9uLWRlZmluZWQgc3RvcmVzIGFzIHRoaXMgdGVjaG5pcXVlIHJlbGllcyBvblxyXG4gICAgLy8gd3JhcHBpbmcgdGhlIGNvbnRleHQgb2YgdGhlIGFjdGlvbiB3aXRoIGEgcHJveHlcclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zdGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoXHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogY2FuIGNhc3QgdGhlIHN0b3JlLi4uXHJcbiAgICAgICAgc3RvcmUsIE9iamVjdC5rZXlzKG9wdGlvbnMuYWN0aW9ucykpO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcclxuICAgICAgICAvLyBVcGdyYWRlIHRoZSBITVIgdG8gYWxzbyB1cGRhdGUgdGhlIG5ldyBhY3Rpb25zXHJcbiAgICAgICAgdG9SYXcoc3RvcmUpLl9ob3RVcGRhdGUgPSBmdW5jdGlvbiAobmV3U3RvcmUpIHtcclxuICAgICAgICAgICAgb3JpZ2luYWxIb3RVcGRhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgT2JqZWN0LmtleXMobmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBhZGRTdG9yZVRvRGV2dG9vbHMoYXBwLCBcclxuICAgIC8vIEZJWE1FOiBpcyB0aGVyZSBhIHdheSB0byBhbGxvdyB0aGUgYXNzaWdubWVudCBmcm9tIFN0b3JlPElkLCBTLCBHLCBBPiB0byBTdG9yZUdlbmVyaWM/XHJcbiAgICBzdG9yZSk7XHJcbn1cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBQaW5pYSBpbnN0YW5jZSB0byBiZSB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlUGluaWEoKSB7XHJcbiAgICBjb25zdCBzY29wZSA9IGVmZmVjdFNjb3BlKHRydWUpO1xyXG4gICAgLy8gTk9URTogaGVyZSB3ZSBjb3VsZCBjaGVjayB0aGUgd2luZG93IG9iamVjdCBmb3IgYSBzdGF0ZSBhbmQgZGlyZWN0bHkgc2V0IGl0XHJcbiAgICAvLyBpZiB0aGVyZSBpcyBhbnl0aGluZyBsaWtlIGl0IHdpdGggVnVlIDMgU1NSXHJcbiAgICBjb25zdCBzdGF0ZSA9IHNjb3BlLnJ1bigoKSA9PiByZWYoe30pKTtcclxuICAgIGxldCBfcCA9IFtdO1xyXG4gICAgLy8gcGx1Z2lucyBhZGRlZCBiZWZvcmUgY2FsbGluZyBhcHAudXNlKHBpbmlhKVxyXG4gICAgbGV0IHRvQmVJbnN0YWxsZWQgPSBbXTtcclxuICAgIGNvbnN0IHBpbmlhID0gbWFya1Jhdyh7XHJcbiAgICAgICAgaW5zdGFsbChhcHApIHtcclxuICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgY2FsbGluZyB1c2VTdG9yZSgpIG91dHNpZGUgb2YgYSBjb21wb25lbnQgc2V0dXAgYWZ0ZXJcclxuICAgICAgICAgICAgLy8gaW5zdGFsbGluZyBwaW5pYSdzIHBsdWdpblxyXG4gICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgIGlmICghaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBwaW5pYS5fYSA9IGFwcDtcclxuICAgICAgICAgICAgICAgIGFwcC5wcm92aWRlKHBpbmlhU3ltYm9sLCBwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHBpbmlhID0gcGluaWE7XHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKFVTRV9ERVZUT09MUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGluaWFEZXZ0b29scyhhcHAsIHBpbmlhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRvQmVJbnN0YWxsZWQuZm9yRWFjaCgocGx1Z2luKSA9PiBfcC5wdXNoKHBsdWdpbikpO1xyXG4gICAgICAgICAgICAgICAgdG9CZUluc3RhbGxlZCA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1c2UocGx1Z2luKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fYSAmJiAhaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkLnB1c2gocGx1Z2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9wLnB1c2gocGx1Z2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9wLFxyXG4gICAgICAgIC8vIGl0J3MgYWN0dWFsbHkgdW5kZWZpbmVkIGhlcmVcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgX2E6IG51bGwsXHJcbiAgICAgICAgX2U6IHNjb3BlLFxyXG4gICAgICAgIF9zOiBuZXcgTWFwKCksXHJcbiAgICAgICAgc3RhdGUsXHJcbiAgICB9KTtcclxuICAgIC8vIHBpbmlhIGRldnRvb2xzIHJlbHkgb24gZGV2IG9ubHkgZmVhdHVyZXMgc28gdGhleSBjYW5ub3QgYmUgZm9yY2VkIHVubGVzc1xyXG4gICAgLy8gdGhlIGRldiBidWlsZCBvZiBWdWUgaXMgdXNlZC4gQXZvaWQgb2xkIGJyb3dzZXJzIGxpa2UgSUUxMS5cclxuICAgIGlmIChVU0VfREVWVE9PTFMgJiYgdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGluaWE7XHJcbn1cblxuLyoqXHJcbiAqIENoZWNrcyBpZiBhIGZ1bmN0aW9uIGlzIGEgYFN0b3JlRGVmaW5pdGlvbmAuXHJcbiAqXHJcbiAqIEBwYXJhbSBmbiAtIG9iamVjdCB0byB0ZXN0XHJcbiAqIEByZXR1cm5zIHRydWUgaWYgYGZuYCBpcyBhIFN0b3JlRGVmaW5pdGlvblxyXG4gKi9cclxuY29uc3QgaXNVc2VTdG9yZSA9IChmbikgPT4ge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZm4uJGlkID09PSAnc3RyaW5nJztcclxufTtcclxuLyoqXHJcbiAqIE11dGF0ZXMgaW4gcGxhY2UgYG5ld1N0YXRlYCB3aXRoIGBvbGRTdGF0ZWAgdG8gX2hvdCB1cGRhdGVfIGl0LiBJdCB3aWxsXHJcbiAqIHJlbW92ZSBhbnkga2V5IG5vdCBleGlzdGluZyBpbiBgbmV3U3RhdGVgIGFuZCByZWN1cnNpdmVseSBtZXJnZSBwbGFpblxyXG4gKiBvYmplY3RzLlxyXG4gKlxyXG4gKiBAcGFyYW0gbmV3U3RhdGUgLSBuZXcgc3RhdGUgb2JqZWN0IHRvIGJlIHBhdGNoZWRcclxuICogQHBhcmFtIG9sZFN0YXRlIC0gb2xkIHN0YXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcGF0Y2ggbmV3U3RhdGVcclxuICogQHJldHVybnMgLSBuZXdTdGF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcGF0Y2hPYmplY3QobmV3U3RhdGUsIG9sZFN0YXRlKSB7XHJcbiAgICAvLyBubyBuZWVkIHRvIGdvIHRocm91Z2ggc3ltYm9scyBiZWNhdXNlIHRoZXkgY2Fubm90IGJlIHNlcmlhbGl6ZWQgYW55d2F5XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTdGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gb2xkU3RhdGVba2V5XTtcclxuICAgICAgICAvLyBza2lwIHRoZSB3aG9sZSBzdWIgdHJlZVxyXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdTdGF0ZSkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gbmV3U3RhdGVba2V5XTtcclxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcclxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxyXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcclxuICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHBhdGNoT2JqZWN0KHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBvYmplY3RzIGFyZSBlaXRoZXIgYSBiaXQgbW9yZSBjb21wbGV4IChlLmcuIHJlZnMpIG9yIHByaW1pdGl2ZXMsIHNvIHdlXHJcbiAgICAgICAgICAgIC8vIGp1c3Qgc2V0IHRoZSB3aG9sZSB0aGluZ1xyXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBzZXQobmV3U3RhdGUsIGtleSwgc3ViUGF0Y2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHN1YlBhdGNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1N0YXRlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGFuIF9hY2NlcHRfIGZ1bmN0aW9uIHRvIHBhc3MgdG8gYGltcG9ydC5tZXRhLmhvdGAgaW4gVml0ZSBhcHBsaWNhdGlvbnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IHVzZVVzZXIgPSBkZWZpbmVTdG9yZSguLi4pXHJcbiAqIGlmIChpbXBvcnQubWV0YS5ob3QpIHtcclxuICogICBpbXBvcnQubWV0YS5ob3QuYWNjZXB0KGFjY2VwdEhNUlVwZGF0ZSh1c2VVc2VyLCBpbXBvcnQubWV0YS5ob3QpKVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0gaW5pdGlhbFVzZVN0b3JlIC0gcmV0dXJuIG9mIHRoZSBkZWZpbmVTdG9yZSB0byBob3QgdXBkYXRlXHJcbiAqIEBwYXJhbSBob3QgLSBgaW1wb3J0Lm1ldGEuaG90YFxyXG4gKi9cclxuZnVuY3Rpb24gYWNjZXB0SE1SVXBkYXRlKGluaXRpYWxVc2VTdG9yZSwgaG90KSB7XHJcbiAgICAvLyBzdHJpcCBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gaWlmZS5wcm9kXHJcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKG5ld01vZHVsZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBpbmlhID0gaG90LmRhdGEucGluaWEgfHwgaW5pdGlhbFVzZVN0b3JlLl9waW5pYTtcclxuICAgICAgICBpZiAoIXBpbmlhKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMgc3RvcmUgaXMgc3RpbGwgbm90IHVzZWRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgcGluaWEgaW5zdGFuY2UgYWNyb3NzIGxvYWRzXHJcbiAgICAgICAgaG90LmRhdGEucGluaWEgPSBwaW5pYTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ290IGRhdGEnLCBuZXdTdG9yZSlcclxuICAgICAgICBmb3IgKGNvbnN0IGV4cG9ydE5hbWUgaW4gbmV3TW9kdWxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZVN0b3JlID0gbmV3TW9kdWxlW2V4cG9ydE5hbWVdO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hlY2tpbmcgZm9yJywgZXhwb3J0TmFtZSlcclxuICAgICAgICAgICAgaWYgKGlzVXNlU3RvcmUodXNlU3RvcmUpICYmIHBpbmlhLl9zLmhhcyh1c2VTdG9yZS4kaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQWNjZXB0aW5nIHVwZGF0ZSBmb3InLCB1c2VTdG9yZS4kaWQpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHVzZVN0b3JlLiRpZDtcclxuICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gaW5pdGlhbFVzZVN0b3JlLiRpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhlIGlkIG9mIHRoZSBzdG9yZSBjaGFuZ2VkIGZyb20gXCIke2luaXRpYWxVc2VTdG9yZS4kaWR9XCIgdG8gXCIke2lkfVwiLiBSZWxvYWRpbmcuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGltcG9ydC5tZXRhLmhvdC5pbnZhbGlkYXRlKClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG90LmludmFsaWRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1N0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtQaW5pYV06IHNraXBwaW5nIGhtciBiZWNhdXNlIHN0b3JlIGRvZXNuJ3QgZXhpc3QgeWV0YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXNlU3RvcmUocGluaWEsIGV4aXN0aW5nU3RvcmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxuXG5jb25zdCBub29wID0gKCkgPT4geyB9O1xyXG5mdW5jdGlvbiBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9ucywgY2FsbGJhY2ssIGRldGFjaGVkLCBvbkNsZWFudXAgPSBub29wKSB7XHJcbiAgICBzdWJzY3JpcHRpb25zLnB1c2goY2FsbGJhY2spO1xyXG4gICAgY29uc3QgcmVtb3ZlU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoIWRldGFjaGVkICYmIGdldEN1cnJlbnRTY29wZSgpKSB7XHJcbiAgICAgICAgb25TY29wZURpc3Bvc2UocmVtb3ZlU3Vic2NyaXB0aW9uKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlclN1YnNjcmlwdGlvbnMoc3Vic2NyaXB0aW9ucywgLi4uYXJncykge1xyXG4gICAgc3Vic2NyaXB0aW9ucy5zbGljZSgpLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBtZXJnZVJlYWN0aXZlT2JqZWN0cyh0YXJnZXQsIHBhdGNoVG9BcHBseSkge1xyXG4gICAgLy8gSGFuZGxlIE1hcCBpbnN0YW5jZXNcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBNYXAgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgTWFwKSB7XHJcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHRhcmdldC5zZXQoa2V5LCB2YWx1ZSkpO1xyXG4gICAgfVxyXG4gICAgLy8gSGFuZGxlIFNldCBpbnN0YW5jZXNcclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBTZXQgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgU2V0KSB7XHJcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2godGFyZ2V0LmFkZCwgdGFyZ2V0KTtcclxuICAgIH1cclxuICAgIC8vIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCBzeW1ib2xzIGJlY2F1c2UgdGhleSBjYW5ub3QgYmUgc2VyaWFsaXplZCBhbnl3YXlcclxuICAgIGZvciAoY29uc3Qga2V5IGluIHBhdGNoVG9BcHBseSkge1xyXG4gICAgICAgIGlmICghcGF0Y2hUb0FwcGx5Lmhhc093blByb3BlcnR5KGtleSkpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gcGF0Y2hUb0FwcGx5W2tleV07XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRWYWx1ZSkgJiZcclxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcclxuICAgICAgICAgICAgdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkgJiZcclxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxyXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcclxuICAgICAgICAgICAgLy8gTk9URTogaGVyZSBJIHdhbnRlZCB0byB3YXJuIGFib3V0IGluY29uc2lzdGVudCB0eXBlcyBidXQgaXQncyBub3QgcG9zc2libGUgYmVjYXVzZSBpbiBzZXR1cCBzdG9yZXMgb25lIG1pZ2h0XHJcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGFzIGEgY2VydGFpbiB0eXBlIGUuZy4gYSBNYXAsIGFuZCB0aGVuIGZvciBzb21lIHJlYXNvbiwgZHVyaW5nIFNTUiwgY2hhbmdlIHRoYXRcclxuICAgICAgICAgICAgLy8gdG8gYHVuZGVmaW5lZGAuIFdoZW4gdHJ5aW5nIHRvIGh5ZHJhdGUsIHdlIHdhbnQgdG8gb3ZlcnJpZGUgdGhlIE1hcCB3aXRoIGB1bmRlZmluZWRgLlxyXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBzdWJQYXRjaCBpcyBhIHZhbGlkIHZhbHVlXHJcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc3ViUGF0Y2g7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5jb25zdCBza2lwSHlkcmF0ZVN5bWJvbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxyXG4gICAgPyBTeW1ib2woJ3BpbmlhOnNraXBIeWRyYXRpb24nKVxyXG4gICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBTeW1ib2woKTtcclxuY29uc3Qgc2tpcEh5ZHJhdGVNYXAgPSAvKiNfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XHJcbi8qKlxyXG4gKiBUZWxscyBQaW5pYSB0byBza2lwIHRoZSBoeWRyYXRpb24gcHJvY2VzcyBvZiBhIGdpdmVuIG9iamVjdC4gVGhpcyBpcyB1c2VmdWwgaW4gc2V0dXAgc3RvcmVzIChvbmx5KSB3aGVuIHlvdSByZXR1cm4gYVxyXG4gKiBzdGF0ZWZ1bCBvYmplY3QgaW4gdGhlIHN0b3JlIGJ1dCBpdCBpc24ndCByZWFsbHkgc3RhdGUuIGUuZy4gcmV0dXJuaW5nIGEgcm91dGVyIGluc3RhbmNlIGluIGEgc2V0dXAgc3RvcmUuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmogLSB0YXJnZXQgb2JqZWN0XHJcbiAqIEByZXR1cm5zIG9ialxyXG4gKi9cclxuZnVuY3Rpb24gc2tpcEh5ZHJhdGUob2JqKSB7XHJcbiAgICByZXR1cm4gaXNWdWUyXHJcbiAgICAgICAgPyAvLyBpbiBAdnVlL2NvbXBvc2l0aW9uLWFwaSwgdGhlIHJlZnMgYXJlIHNlYWxlZCBzbyBkZWZpbmVQcm9wZXJ0eSBkb2Vzbid0IHdvcmsuLi5cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gc2tpcEh5ZHJhdGVNYXAuc2V0KG9iaiwgMSkgJiYgb2JqXHJcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBza2lwSHlkcmF0ZVN5bWJvbCwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBzaG91bGQgYmUgaHlkcmF0ZWRcclxuICpcclxuICogQHBhcmFtIG9iaiAtIHRhcmdldCB2YXJpYWJsZVxyXG4gKiBAcmV0dXJucyB0cnVlIGlmIGBvYmpgIHNob3VsZCBiZSBoeWRyYXRlZFxyXG4gKi9cclxuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZShvYmopIHtcclxuICAgIHJldHVybiBpc1Z1ZTJcclxuICAgICAgICA/IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovICFza2lwSHlkcmF0ZU1hcC5oYXMob2JqKVxyXG4gICAgICAgIDogIWlzUGxhaW5PYmplY3Qob2JqKSB8fCAhb2JqLmhhc093blByb3BlcnR5KHNraXBIeWRyYXRlU3ltYm9sKTtcclxufVxyXG5jb25zdCB7IGFzc2lnbiB9ID0gT2JqZWN0O1xyXG5mdW5jdGlvbiBpc0NvbXB1dGVkKG8pIHtcclxuICAgIHJldHVybiAhIShpc1JlZihvKSAmJiBvLmVmZmVjdCk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSwgaG90KSB7XHJcbiAgICBjb25zdCB7IHN0YXRlLCBhY3Rpb25zLCBnZXR0ZXJzIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVbaWRdO1xyXG4gICAgbGV0IHN0b3JlO1xyXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICAgICAgaWYgKCFpbml0aWFsU3RhdGUgJiYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIWhvdCkpIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcclxuICAgICAgICAgICAgICAgIHNldChwaW5pYS5zdGF0ZS52YWx1ZSwgaWQsIHN0YXRlID8gc3RhdGUoKSA6IHt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlW2lkXSA9IHN0YXRlID8gc3RhdGUoKSA6IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGF2b2lkIGNyZWF0aW5nIGEgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWVcclxuICAgICAgICBjb25zdCBsb2NhbFN0YXRlID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdFxyXG4gICAgICAgICAgICA/IC8vIHVzZSByZWYoKSB0byB1bndyYXAgcmVmcyBpbnNpZGUgc3RhdGUgVE9ETzogY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCBuZWNlc3NhcnlcclxuICAgICAgICAgICAgICAgIHRvUmVmcyhyZWYoc3RhdGUgPyBzdGF0ZSgpIDoge30pLnZhbHVlKVxyXG4gICAgICAgICAgICA6IHRvUmVmcyhwaW5pYS5zdGF0ZS52YWx1ZVtpZF0pO1xyXG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxTdGF0ZSwgYWN0aW9ucywgT2JqZWN0LmtleXMoZ2V0dGVycyB8fCB7fSkucmVkdWNlKChjb21wdXRlZEdldHRlcnMsIG5hbWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBuYW1lIGluIGxvY2FsU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBBIGdldHRlciBjYW5ub3QgaGF2ZSB0aGUgc2FtZSBuYW1lIGFzIGFub3RoZXIgc3RhdGUgcHJvcGVydHkuIFJlbmFtZSBvbmUgb2YgdGhlbS4gRm91bmQgd2l0aCBcIiR7bmFtZX1cIiBpbiBzdG9yZSBcIiR7aWR9XCIuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcHV0ZWRHZXR0ZXJzW25hbWVdID0gbWFya1Jhdyhjb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY3JlYXRlZCBqdXN0IGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xyXG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgY3Jvc3MgdXNpbmcgc3RvcmVzXHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVnVlMiAmJiAhc3RvcmUuX3IpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGdldHRlcnMhW25hbWVdLmNhbGwoY29udGV4dCwgY29udGV4dClcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGF2b2lkIHJlYWRpbmcgdGhlIGdldHRlciB3aGlsZSBhc3NpZ25pbmcgd2l0aCBhIGdsb2JhbCB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnNbbmFtZV0uY2FsbChzdG9yZSwgc3RvcmUpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZEdldHRlcnM7XHJcbiAgICAgICAgfSwge30pKTtcclxuICAgIH1cclxuICAgIHN0b3JlID0gY3JlYXRlU2V0dXBTdG9yZShpZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhLCBob3QsIHRydWUpO1xyXG4gICAgc3RvcmUuJHJlc2V0ID0gZnVuY3Rpb24gJHJlc2V0KCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGUgPyBzdGF0ZSgpIDoge307XHJcbiAgICAgICAgLy8gd2UgdXNlIGEgcGF0Y2ggdG8gZ3JvdXAgYWxsIGNoYW5nZXMgaW50byBvbmUgc2luZ2xlIHN1YnNjcmlwdGlvblxyXG4gICAgICAgIHRoaXMuJHBhdGNoKCgkc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgYXNzaWduKCRzdGF0ZSwgbmV3U3RhdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBzdG9yZTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVTZXR1cFN0b3JlKCRpZCwgc2V0dXAsIG9wdGlvbnMgPSB7fSwgcGluaWEsIGhvdCwgaXNPcHRpb25zU3RvcmUpIHtcclxuICAgIGxldCBzY29wZTtcclxuICAgIGNvbnN0IG9wdGlvbnNGb3JQbHVnaW4gPSBhc3NpZ24oeyBhY3Rpb25zOiB7fSB9LCBvcHRpb25zKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogYWN0aXZlIGlzIGFuIGludGVybmFsIHByb3BlcnR5XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFwaW5pYS5fZS5hY3RpdmUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BpbmlhIGRlc3Ryb3llZCcpO1xyXG4gICAgfVxyXG4gICAgLy8gd2F0Y2hlciBvcHRpb25zIGZvciAkc3Vic2NyaWJlXHJcbiAgICBjb25zdCAkc3Vic2NyaWJlT3B0aW9ucyA9IHtcclxuICAgICAgICBkZWVwOiB0cnVlLFxyXG4gICAgICAgIC8vIGZsdXNoOiAncG9zdCcsXHJcbiAgICB9O1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVnVlMikge1xyXG4gICAgICAgICRzdWJzY3JpYmVPcHRpb25zLm9uVHJpZ2dlciA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAoaXNMaXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgICAgIGRlYnVnZ2VyRXZlbnRzID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0cmlnZ2VyaW5nIHRoaXMgd2hpbGUgdGhlIHN0b3JlIGlzIGJlaW5nIGJ1aWx0IGFuZCB0aGUgc3RhdGUgaXMgYmVpbmcgc2V0IGluIHBpbmlhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNMaXN0ZW5pbmcgPT0gZmFsc2UgJiYgIXN0b3JlLl9ob3RVcGRhdGluZykge1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHBhdGNoIHNlbmQgYWxsIHRoZSBldmVudHMgdG9nZXRoZXIgbGF0ZXJcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkZWJ1Z2dlckV2ZW50cykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfjY0gZGVidWdnZXJFdmVudHMgc2hvdWxkIGJlIGFuIGFycmF5LiBUaGlzIGlzIG1vc3QgbGlrZWx5IGFuIGludGVybmFsIFBpbmlhIGJ1Zy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBpbnRlcm5hbCBzdGF0ZVxyXG4gICAgbGV0IGlzTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXHJcbiAgICBsZXQgaXNTeW5jTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXHJcbiAgICBsZXQgc3Vic2NyaXB0aW9ucyA9IG1hcmtSYXcoW10pO1xyXG4gICAgbGV0IGFjdGlvblN1YnNjcmlwdGlvbnMgPSBtYXJrUmF3KFtdKTtcclxuICAgIGxldCBkZWJ1Z2dlckV2ZW50cztcclxuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF07XHJcbiAgICAvLyBhdm9pZCBzZXR0aW5nIHRoZSBzdGF0ZSBmb3Igb3B0aW9uIHN0b3JlcyBpZiBpdCBpcyBzZXRcclxuICAgIC8vIGJ5IHRoZSBzZXR1cFxyXG4gICAgaWYgKCFpc09wdGlvbnNTdG9yZSAmJiAhaW5pdGlhbFN0YXRlICYmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICFob3QpKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWUsICRpZCwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGhvdFN0YXRlID0gcmVmKHt9KTtcclxuICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgdG9vIG1hbnkgbGlzdGVuZXJzXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcGluaWEvaXNzdWVzLzExMjlcclxuICAgIGxldCBhY3RpdmVMaXN0ZW5lcjtcclxuICAgIGZ1bmN0aW9uICRwYXRjaChwYXJ0aWFsU3RhdGVPck11dGF0b3IpIHtcclxuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uTXV0YXRpb247XHJcbiAgICAgICAgaXNMaXN0ZW5pbmcgPSBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAvLyByZXNldCB0aGUgZGVidWdnZXIgZXZlbnRzIHNpbmNlIHBhdGNoZXMgYXJlIHN5bmNcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsU3RhdGVPck11dGF0b3IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcGFydGlhbFN0YXRlT3JNdXRhdG9yKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pO1xyXG4gICAgICAgICAgICBzdWJzY3JpcHRpb25NdXRhdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5wYXRjaEZ1bmN0aW9uLFxyXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1lcmdlUmVhY3RpdmVPYmplY3RzKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIHBhcnRpYWxTdGF0ZU9yTXV0YXRvcik7XHJcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk11dGF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcGFydGlhbFN0YXRlT3JNdXRhdG9yLFxyXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbXlMaXN0ZW5lcklkID0gKGFjdGl2ZUxpc3RlbmVyID0gU3ltYm9sKCkpO1xyXG4gICAgICAgIG5leHRUaWNrKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVMaXN0ZW5lciA9PT0gbXlMaXN0ZW5lcklkKSB7XHJcbiAgICAgICAgICAgICAgICBpc0xpc3RlbmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgcGF1c2VkIHRoZSB3YXRjaGVyLCB3ZSBuZWVkIHRvIG1hbnVhbGx5IGNhbGwgdGhlIHN1YnNjcmlwdGlvbnNcclxuICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCBzdWJzY3JpcHRpb25NdXRhdGlvbiwgcGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgY29uc3QgJHJlc2V0ID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXHJcbiAgICAgICAgPyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg8J+NjTogU3RvcmUgXCIkeyRpZH1cIiBpcyBidWlsdCB1c2luZyB0aGUgc2V0dXAgc3ludGF4IGFuZCBkb2VzIG5vdCBpbXBsZW1lbnQgJHJlc2V0KCkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDogbm9vcDtcclxuICAgIGZ1bmN0aW9uICRkaXNwb3NlKCkge1xyXG4gICAgICAgIHNjb3BlLnN0b3AoKTtcclxuICAgICAgICBzdWJzY3JpcHRpb25zID0gW107XHJcbiAgICAgICAgYWN0aW9uU3Vic2NyaXB0aW9ucyA9IFtdO1xyXG4gICAgICAgIHBpbmlhLl9zLmRlbGV0ZSgkaWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXcmFwcyBhbiBhY3Rpb24gdG8gaGFuZGxlIHN1YnNjcmlwdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIHRoZSBhY3Rpb25cclxuICAgICAqIEBwYXJhbSBhY3Rpb24gLSBhY3Rpb24gdG8gd3JhcFxyXG4gICAgICogQHJldHVybnMgYSB3cmFwcGVkIGFjdGlvbiB0byBoYW5kbGUgc3Vic2NyaXB0aW9uc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB3cmFwQWN0aW9uKG5hbWUsIGFjdGlvbikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcclxuICAgICAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgY29uc3QgYWZ0ZXJDYWxsYmFja0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgY29uc3Qgb25FcnJvckNhbGxiYWNrTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZnRlcihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJDYWxsYmFja0xpc3QucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gb25FcnJvcihjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvckNhbGxiYWNrTGlzdC5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFjdGlvblN1YnNjcmlwdGlvbnMsIHtcclxuICAgICAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgc3RvcmUsXHJcbiAgICAgICAgICAgICAgICBhZnRlcixcclxuICAgICAgICAgICAgICAgIG9uRXJyb3IsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXQgcmV0O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0ID0gYWN0aW9uLmFwcGx5KHRoaXMgJiYgdGhpcy4kaWQgPT09ICRpZCA/IHRoaXMgOiBzdG9yZSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc3luYyBlcnJvcnNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKG9uRXJyb3JDYWxsYmFja0xpc3QsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0XHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhvbkVycm9yQ2FsbGJhY2tMaXN0LCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFsbG93IHRoZSBhZnRlckNhbGxiYWNrIHRvIG92ZXJyaWRlIHRoZSByZXR1cm4gdmFsdWVcclxuICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHJldCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IF9obXJQYXlsb2FkID0gLyojX19QVVJFX18qLyBtYXJrUmF3KHtcclxuICAgICAgICBhY3Rpb25zOiB7fSxcclxuICAgICAgICBnZXR0ZXJzOiB7fSxcclxuICAgICAgICBzdGF0ZTogW10sXHJcbiAgICAgICAgaG90U3RhdGUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHBhcnRpYWxTdG9yZSA9IHtcclxuICAgICAgICBfcDogcGluaWEsXHJcbiAgICAgICAgLy8gX3M6IHNjb3BlLFxyXG4gICAgICAgICRpZCxcclxuICAgICAgICAkb25BY3Rpb246IGFkZFN1YnNjcmlwdGlvbi5iaW5kKG51bGwsIGFjdGlvblN1YnNjcmlwdGlvbnMpLFxyXG4gICAgICAgICRwYXRjaCxcclxuICAgICAgICAkcmVzZXQsXHJcbiAgICAgICAgJHN1YnNjcmliZShjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZVN1YnNjcmlwdGlvbiA9IGFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25zLCBjYWxsYmFjaywgb3B0aW9ucy5kZXRhY2hlZCwgKCkgPT4gc3RvcFdhdGNoZXIoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3BXYXRjaGVyID0gc2NvcGUucnVuKCgpID0+IHdhdGNoKCgpID0+IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIChzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmx1c2ggPT09ICdzeW5jJyA/IGlzU3luY0xpc3RlbmluZyA6IGlzTGlzdGVuaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5kaXJlY3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBhc3NpZ24oe30sICRzdWJzY3JpYmVPcHRpb25zLCBvcHRpb25zKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlU3Vic2NyaXB0aW9uO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJGRpc3Bvc2UsXHJcbiAgICB9O1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgLy8gc3RhcnQgYXMgbm9uIHJlYWR5XHJcbiAgICAgICAgcGFydGlhbFN0b3JlLl9yID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdG9yZSA9IHJlYWN0aXZlKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBVU0VfREVWVE9PTFNcclxuICAgICAgICA/IGFzc2lnbih7XHJcbiAgICAgICAgICAgIF9obXJQYXlsb2FkLFxyXG4gICAgICAgICAgICBfY3VzdG9tUHJvcGVydGllczogbWFya1JhdyhuZXcgU2V0KCkpLCAvLyBkZXZ0b29scyBjdXN0b20gcHJvcGVydGllc1xyXG4gICAgICAgIH0sIHBhcnRpYWxTdG9yZVxyXG4gICAgICAgIC8vIG11c3QgYmUgYWRkZWQgbGF0ZXJcclxuICAgICAgICAvLyBzZXR1cFN0b3JlXHJcbiAgICAgICAgKVxyXG4gICAgICAgIDogcGFydGlhbFN0b3JlKTtcclxuICAgIC8vIHN0b3JlIHRoZSBwYXJ0aWFsIHN0b3JlIG5vdyBzbyB0aGUgc2V0dXAgb2Ygc3RvcmVzIGNhbiBpbnN0YW50aWF0ZSBlYWNoIG90aGVyIGJlZm9yZSB0aGV5IGFyZSBmaW5pc2hlZCB3aXRob3V0XHJcbiAgICAvLyBjcmVhdGluZyBpbmZpbml0ZSBsb29wcy5cclxuICAgIHBpbmlhLl9zLnNldCgkaWQsIHN0b3JlKTtcclxuICAgIC8vIFRPRE86IGlkZWEgY3JlYXRlIHNraXBTZXJpYWxpemUgdGhhdCBtYXJrcyBwcm9wZXJ0aWVzIGFzIG5vbiBzZXJpYWxpemFibGUgYW5kIHRoZXkgYXJlIHNraXBwZWRcclxuICAgIGNvbnN0IHNldHVwU3RvcmUgPSBwaW5pYS5fZS5ydW4oKCkgPT4ge1xyXG4gICAgICAgIHNjb3BlID0gZWZmZWN0U2NvcGUoKTtcclxuICAgICAgICByZXR1cm4gc2NvcGUucnVuKCgpID0+IHNldHVwKCkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBvdmVyd3JpdGUgZXhpc3RpbmcgYWN0aW9ucyB0byBzdXBwb3J0ICRvbkFjdGlvblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2V0dXBTdG9yZSkge1xyXG4gICAgICAgIGNvbnN0IHByb3AgPSBzZXR1cFN0b3JlW2tleV07XHJcbiAgICAgICAgaWYgKChpc1JlZihwcm9wKSAmJiAhaXNDb21wdXRlZChwcm9wKSkgfHwgaXNSZWFjdGl2ZShwcm9wKSkge1xyXG4gICAgICAgICAgICAvLyBtYXJrIGl0IGFzIGEgcGllY2Ugb2Ygc3RhdGUgdG8gYmUgc2VyaWFsaXplZFxyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xyXG4gICAgICAgICAgICAgICAgc2V0KGhvdFN0YXRlLnZhbHVlLCBrZXksIHRvUmVmKHNldHVwU3RvcmUsIGtleSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlT3B0aW9uU3RvcmUgZGlyZWN0bHkgc2V0cyB0aGUgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWUgc28gd2VcclxuICAgICAgICAgICAgICAgIC8vIGNhbiBqdXN0IHNraXAgdGhhdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc09wdGlvbnNTdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gc2V0dXAgc3RvcmVzIHdlIG11c3QgaHlkcmF0ZSB0aGUgc3RhdGUgYW5kIHN5bmMgcGluaWEgc3RhdGUgdHJlZSB3aXRoIHRoZSByZWZzIHRoZSB1c2VyIGp1c3QgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSAmJiBzaG91bGRIeWRyYXRlKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVmKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AudmFsdWUgPSBpbml0aWFsU3RhdGVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgcmVhY3RpdmUgb2JqZWN0LCBsZXRzIHJlY3Vyc2l2ZWx5IGFzc2lnblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBwcm9wIGlzIHVua25vd25cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VSZWFjdGl2ZU9iamVjdHMocHJvcCwgaW5pdGlhbFN0YXRlW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRoZSByZWYgdG8gdGhlIHBpbmlhIHN0YXRlIHRvIGtlZXAgZXZlcnl0aGluZyBpbiBzeW5jXHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWVbJGlkXSwga2V5LCBwcm9wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlWyRpZF1ba2V5XSA9IHByb3A7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuc3RhdGUucHVzaChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFjdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBhcmUgb3ZlcnJpZGluZyB0aGUgZnVuY3Rpb24gd2UgYXZvaWQgd3JhcHBpbmcgaWZcclxuICAgICAgICAgICAgY29uc3QgYWN0aW9uVmFsdWUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90ID8gcHJvcCA6IHdyYXBBY3Rpb24oa2V5LCBwcm9wKTtcclxuICAgICAgICAgICAgLy8gdGhpcyBhIGhvdCBtb2R1bGUgcmVwbGFjZW1lbnQgc3RvcmUgYmVjYXVzZSB0aGUgaG90VXBkYXRlIG1ldGhvZCBuZWVkc1xyXG4gICAgICAgICAgICAvLyB0byBkbyBpdCB3aXRoIHRoZSByaWdodCBjb250ZXh0XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgICAgICAgICBzZXQoc2V0dXBTdG9yZSwga2V5LCBhY3Rpb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICBzZXR1cFN0b3JlW2tleV0gPSBhY3Rpb25WYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBfaG1yUGF5bG9hZC5hY3Rpb25zW2tleV0gPSBwcm9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGxpc3QgYWN0aW9ucyBzbyB0aGV5IGNhbiBiZSB1c2VkIGluIHBsdWdpbnNcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICBvcHRpb25zRm9yUGx1Z2luLmFjdGlvbnNba2V5XSA9IHByb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAvLyBhZGQgZ2V0dGVycyBmb3IgZGV2dG9vbHNcclxuICAgICAgICAgICAgaWYgKGlzQ29tcHV0ZWQocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLmdldHRlcnNba2V5XSA9IGlzT3B0aW9uc1N0b3JlXHJcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZ2V0dGVyc1trZXldXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm9wO1xyXG4gICAgICAgICAgICAgICAgaWYgKElTX0NMSUVOVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlcnMgPSBzZXR1cFN0b3JlLl9nZXR0ZXJzIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHNhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNldHVwU3RvcmUuX2dldHRlcnMgPSBtYXJrUmF3KFtdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0dGVycy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBhZGQgdGhlIHN0YXRlLCBnZXR0ZXJzLCBhbmQgYWN0aW9uIHByb3BlcnRpZXNcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHNldHVwU3RvcmUpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBzZXQoc3RvcmUsIGtleSwgc2V0dXBTdG9yZVtrZXldKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFzc2lnbihzdG9yZSwgc2V0dXBTdG9yZSk7XHJcbiAgICAgICAgLy8gYWxsb3dzIHJldHJpZXZpbmcgcmVhY3RpdmUgb2JqZWN0cyB3aXRoIGBzdG9yZVRvUmVmcygpYC4gTXVzdCBiZSBjYWxsZWQgYWZ0ZXIgYXNzaWduaW5nIHRvIHRoZSByZWFjdGl2ZSBvYmplY3QuXHJcbiAgICAgICAgLy8gTWFrZSBgc3RvcmVUb1JlZnMoKWAgd29yayB3aXRoIGByZWFjdGl2ZSgpYCAjNzk5XHJcbiAgICAgICAgYXNzaWduKHRvUmF3KHN0b3JlKSwgc2V0dXBTdG9yZSk7XHJcbiAgICB9XHJcbiAgICAvLyB1c2UgdGhpcyBpbnN0ZWFkIG9mIGEgY29tcHV0ZWQgd2l0aCBzZXR0ZXIgdG8gYmUgYWJsZSB0byBjcmVhdGUgaXQgYW55d2hlcmVcclxuICAgIC8vIHdpdGhvdXQgbGlua2luZyB0aGUgY29tcHV0ZWQgbGlmZXNwYW4gdG8gd2hlcmV2ZXIgdGhlIHN0b3JlIGlzIGZpcnN0XHJcbiAgICAvLyBjcmVhdGVkLlxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JlLCAnJHN0YXRlJywge1xyXG4gICAgICAgIGdldDogKCkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QgPyBob3RTdGF0ZS52YWx1ZSA6IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pLFxyXG4gICAgICAgIHNldDogKHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3Qgc2V0IGhvdFN0YXRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHBhdGNoKCgkc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGFzc2lnbigkc3RhdGUsIHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgLy8gYWRkIHRoZSBob3RVcGRhdGUgYmVmb3JlIHBsdWdpbnMgdG8gYWxsb3cgdGhlbSB0byBvdmVycmlkZSBpdFxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcclxuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcclxuICAgICAgICAgICAgc3RvcmUuX2hvdFVwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgbmV3U3RvcmUuX2htclBheWxvYWQuc3RhdGUuZm9yRWFjaCgoc3RhdGVLZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUtleSBpbiBzdG9yZS4kc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZVRhcmdldCA9IG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkU3RhdGVTb3VyY2UgPSBzdG9yZS4kc3RhdGVbc3RhdGVLZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3U3RhdGVUYXJnZXQgPT09ICdvYmplY3QnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3QobmV3U3RhdGVUYXJnZXQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3Qob2xkU3RhdGVTb3VyY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoT2JqZWN0KG5ld1N0YXRlVGFyZ2V0LCBvbGRTdGF0ZVNvdXJjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2ZlciB0aGUgcmVmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV0gPSBvbGRTdGF0ZVNvdXJjZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBkaXJlY3QgYWNjZXNzIHByb3BlcnRpZXMgdG8gYWxsb3cgc3RvcmUuc3RhdGVQcm9wZXJ0eSB0byB3b3JrIGFzXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZS4kc3RhdGUuc3RhdGVQcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBzdGF0ZUtleSwgdG9SZWYobmV3U3RvcmUuJHN0YXRlLCBzdGF0ZUtleSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGRlbGV0ZWQgc3RhdGUgcHJvcGVydGllc1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZUtleSBpbiBuZXdTdG9yZS4kc3RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsKHN0b3JlLCBzdGF0ZUtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBhdm9pZCBkZXZ0b29scyBsb2dnaW5nIHRoaXMgYXMgYSBtdXRhdGlvblxyXG4gICAgICAgICAgICBpc0xpc3RlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXSA9IHRvUmVmKG5ld1N0b3JlLl9obXJQYXlsb2FkLCAnaG90U3RhdGUnKTtcclxuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgbmV4dFRpY2soKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlzTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBuZXdTdG9yZVthY3Rpb25OYW1lXTtcclxuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgYWN0aW9uTmFtZSwgd3JhcEFjdGlvbihhY3Rpb25OYW1lLCBhY3Rpb24pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUT0RPOiBkb2VzIHRoaXMgd29yayBpbiBib3RoIHNldHVwIGFuZCBvcHRpb24gc3RvcmU/XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2V0dGVyTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXIgPSBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzW2dldHRlck5hbWVdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVyVmFsdWUgPSBpc09wdGlvbnNTdG9yZVxyXG4gICAgICAgICAgICAgICAgICAgID8gLy8gc3BlY2lhbCBoYW5kbGluZyBvZiBvcHRpb25zIGFwaVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwoc3RvcmUsIHN0b3JlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICA6IGdldHRlcjtcclxuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgZ2V0dGVyTmFtZSwgZ2V0dGVyVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBkZWxldGVkIGdldHRlcnNcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkIGFjdGlvbnNcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHZhbHVlcyB1c2VkIGluIGRldnRvb2xzIGFuZCB0byBhbGxvdyBkZWxldGluZyBuZXcgcHJvcGVydGllcyBsYXRlciBvblxyXG4gICAgICAgICAgICBzdG9yZS5faG1yUGF5bG9hZCA9IG5ld1N0b3JlLl9obXJQYXlsb2FkO1xyXG4gICAgICAgICAgICBzdG9yZS5fZ2V0dGVycyA9IG5ld1N0b3JlLl9nZXR0ZXJzO1xyXG4gICAgICAgICAgICBzdG9yZS5faG90VXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChVU0VfREVWVE9PTFMpIHtcclxuICAgICAgICBjb25zdCBub25FbnVtZXJhYmxlID0ge1xyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBhdm9pZCB3YXJuaW5nIG9uIGRldnRvb2xzIHRyeWluZyB0byBkaXNwbGF5IHRoaXMgcHJvcGVydHlcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBbJ19wJywgJ19obXJQYXlsb2FkJywgJ19nZXR0ZXJzJywgJ19jdXN0b21Qcm9wZXJ0aWVzJ10uZm9yRWFjaCgocCkgPT4ge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RvcmUsIHAsIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtwXSxcclxuICAgICAgICAgICAgICAgIC4uLm5vbkVudW1lcmFibGUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNWdWUyKSB7XHJcbiAgICAgICAgLy8gbWFyayB0aGUgc3RvcmUgYXMgcmVhZHkgYmVmb3JlIHBsdWdpbnNcclxuICAgICAgICBzdG9yZS5fciA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyBhcHBseSBhbGwgcGx1Z2luc1xyXG4gICAgcGluaWEuX3AuZm9yRWFjaCgoZXh0ZW5kZXIpID0+IHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmIChVU0VfREVWVE9PTFMpIHtcclxuICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XHJcbiAgICAgICAgICAgICAgICBzdG9yZSxcclxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXHJcbiAgICAgICAgICAgICAgICBwaW5pYSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXh0ZW5zaW9ucyB8fCB7fSkuZm9yRWFjaCgoa2V5KSA9PiBzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5hZGQoa2V5KSk7XHJcbiAgICAgICAgICAgIGFzc2lnbihzdG9yZSwgZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhc3NpZ24oc3RvcmUsIHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XHJcbiAgICAgICAgICAgICAgICBzdG9yZSxcclxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXHJcbiAgICAgICAgICAgICAgICBwaW5pYSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgc3RvcmUuJHN0YXRlICYmXHJcbiAgICAgICAgdHlwZW9mIHN0b3JlLiRzdGF0ZSA9PT0gJ29iamVjdCcgJiZcclxuICAgICAgICB0eXBlb2Ygc3RvcmUuJHN0YXRlLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgIXN0b3JlLiRzdGF0ZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluY2x1ZGVzKCdbbmF0aXZlIGNvZGVdJykpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oYFvwn42NXTogVGhlIFwic3RhdGVcIiBtdXN0IGJlIGEgcGxhaW4gb2JqZWN0LiBJdCBjYW5ub3QgYmVcXG5gICtcclxuICAgICAgICAgICAgYFxcdHN0YXRlOiAoKSA9PiBuZXcgTXlDbGFzcygpXFxuYCArXHJcbiAgICAgICAgICAgIGBGb3VuZCBpbiBzdG9yZSBcIiR7c3RvcmUuJGlkfVwiLmApO1xyXG4gICAgfVxyXG4gICAgLy8gb25seSBhcHBseSBoeWRyYXRlIHRvIG9wdGlvbiBzdG9yZXMgd2l0aCBhbiBpbml0aWFsIHN0YXRlIGluIHBpbmlhXHJcbiAgICBpZiAoaW5pdGlhbFN0YXRlICYmXHJcbiAgICAgICAgaXNPcHRpb25zU3RvcmUgJiZcclxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUpIHtcclxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUoc3RvcmUuJHN0YXRlLCBpbml0aWFsU3RhdGUpO1xyXG4gICAgfVxyXG4gICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xyXG4gICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgIHJldHVybiBzdG9yZTtcclxufVxyXG5mdW5jdGlvbiBkZWZpbmVTdG9yZShcclxuLy8gVE9ETzogYWRkIHByb3BlciB0eXBlcyBmcm9tIGFib3ZlXHJcbmlkT3JPcHRpb25zLCBzZXR1cCwgc2V0dXBPcHRpb25zKSB7XHJcbiAgICBsZXQgaWQ7XHJcbiAgICBsZXQgb3B0aW9ucztcclxuICAgIGNvbnN0IGlzU2V0dXBTdG9yZSA9IHR5cGVvZiBzZXR1cCA9PT0gJ2Z1bmN0aW9uJztcclxuICAgIGlmICh0eXBlb2YgaWRPck9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWQgPSBpZE9yT3B0aW9ucztcclxuICAgICAgICAvLyB0aGUgb3B0aW9uIHN0b3JlIHNldHVwIHdpbGwgY29udGFpbiB0aGUgYWN0dWFsIG9wdGlvbnMgaW4gdGhpcyBjYXNlXHJcbiAgICAgICAgb3B0aW9ucyA9IGlzU2V0dXBTdG9yZSA/IHNldHVwT3B0aW9ucyA6IHNldHVwO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGlkT3JPcHRpb25zO1xyXG4gICAgICAgIGlkID0gaWRPck9wdGlvbnMuaWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB1c2VTdG9yZShwaW5pYSwgaG90KSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgcGluaWEgPVxyXG4gICAgICAgICAgICAvLyBpbiB0ZXN0IG1vZGUsIGlnbm9yZSB0aGUgYXJndW1lbnQgcHJvdmlkZWQgYXMgd2UgY2FuIGFsd2F5cyByZXRyaWV2ZSBhXHJcbiAgICAgICAgICAgIC8vIHBpbmlhIGluc3RhbmNlIHdpdGggZ2V0QWN0aXZlUGluaWEoKVxyXG4gICAgICAgICAgICAoKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpICYmIGFjdGl2ZVBpbmlhICYmIGFjdGl2ZVBpbmlhLl90ZXN0aW5nID8gbnVsbCA6IHBpbmlhKSB8fFxyXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRJbnN0YW5jZSAmJiBpbmplY3QocGluaWFTeW1ib2wsIG51bGwpKTtcclxuICAgICAgICBpZiAocGluaWEpXHJcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY3RpdmVQaW5pYSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvwn42NXTogZ2V0QWN0aXZlUGluaWEgd2FzIGNhbGxlZCB3aXRoIG5vIGFjdGl2ZSBQaW5pYS4gRGlkIHlvdSBmb3JnZXQgdG8gaW5zdGFsbCBwaW5pYT9cXG5gICtcclxuICAgICAgICAgICAgICAgIGBcXHRjb25zdCBwaW5pYSA9IGNyZWF0ZVBpbmlhKClcXG5gICtcclxuICAgICAgICAgICAgICAgIGBcXHRhcHAudXNlKHBpbmlhKVxcbmAgK1xyXG4gICAgICAgICAgICAgICAgYFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24uYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBpbmlhID0gYWN0aXZlUGluaWE7XHJcbiAgICAgICAgaWYgKCFwaW5pYS5fcy5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0aW5nIHRoZSBzdG9yZSByZWdpc3RlcnMgaXQgaW4gYHBpbmlhLl9zYFxyXG4gICAgICAgICAgICBpZiAoaXNTZXR1cFN0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVTZXR1cFN0b3JlKGlkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogbm90IHRoZSByaWdodCBpbmZlcnJlZCB0eXBlXHJcbiAgICAgICAgICAgICAgICB1c2VTdG9yZS5fcGluaWEgPSBwaW5pYTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XHJcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcclxuICAgICAgICAgICAgY29uc3QgaG90SWQgPSAnX19ob3Q6JyArIGlkO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTdG9yZSA9IGlzU2V0dXBTdG9yZVxyXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVTZXR1cFN0b3JlKGhvdElkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEsIHRydWUpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZU9wdGlvbnNTdG9yZShob3RJZCwgYXNzaWduKHt9LCBvcHRpb25zKSwgcGluaWEsIHRydWUpO1xyXG4gICAgICAgICAgICBob3QuX2hvdFVwZGF0ZShuZXdTdG9yZSk7XHJcbiAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIHN0YXRlIHByb3BlcnRpZXMgYW5kIHRoZSBzdG9yZSBmcm9tIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICBkZWxldGUgcGluaWEuc3RhdGUudmFsdWVbaG90SWRdO1xyXG4gICAgICAgICAgICBwaW5pYS5fcy5kZWxldGUoaG90SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzYXZlIHN0b3JlcyBpbiBpbnN0YW5jZXMgdG8gYWNjZXNzIHRoZW0gZGV2dG9vbHNcclxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXHJcbiAgICAgICAgICAgIElTX0NMSUVOVCAmJlxyXG4gICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UgJiZcclxuICAgICAgICAgICAgY3VycmVudEluc3RhbmNlLnByb3h5ICYmXHJcbiAgICAgICAgICAgIC8vIGF2b2lkIGFkZGluZyBzdG9yZXMgdGhhdCBhcmUganVzdCBidWlsdCBmb3IgaG90IG1vZHVsZSByZXBsYWNlbWVudFxyXG4gICAgICAgICAgICAhaG90KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZtID0gY3VycmVudEluc3RhbmNlLnByb3h5O1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9ICdfcFN0b3JlcycgaW4gdm0gPyB2bS5fcFN0b3JlcyA6ICh2bS5fcFN0b3JlcyA9IHt9KTtcclxuICAgICAgICAgICAgY2FjaGVbaWRdID0gc3RvcmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0b3JlR2VuZXJpYyBjYW5ub3QgYmUgY2FzdGVkIHRvd2FyZHMgU3RvcmVcclxuICAgICAgICByZXR1cm4gc3RvcmU7XHJcbiAgICB9XHJcbiAgICB1c2VTdG9yZS4kaWQgPSBpZDtcclxuICAgIHJldHVybiB1c2VTdG9yZTtcclxufVxuXG5sZXQgbWFwU3RvcmVTdWZmaXggPSAnU3RvcmUnO1xyXG4vKipcclxuICogQ2hhbmdlcyB0aGUgc3VmZml4IGFkZGVkIGJ5IGBtYXBTdG9yZXMoKWAuIENhbiBiZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLlxyXG4gKiBEZWZhdWx0cyB0byBgXCJTdG9yZVwiYC4gTWFrZSBzdXJlIHRvIGV4dGVuZCB0aGUgTWFwU3RvcmVzQ3VzdG9taXphdGlvblxyXG4gKiBpbnRlcmZhY2UgaWYgeW91IGFyZSB1c2luZyBUeXBlU2NyaXB0LlxyXG4gKlxyXG4gKiBAcGFyYW0gc3VmZml4IC0gbmV3IHN1ZmZpeFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0TWFwU3RvcmVTdWZmaXgoc3VmZml4IC8vIGNvdWxkIGJlICdTdG9yZScgYnV0IHRoYXQgd291bGQgYmUgYW5ub3lpbmcgZm9yIEpTXHJcbikge1xyXG4gICAgbWFwU3RvcmVTdWZmaXggPSBzdWZmaXg7XHJcbn1cclxuLyoqXHJcbiAqIEFsbG93cyB1c2luZyBzdG9yZXMgd2l0aG91dCB0aGUgY29tcG9zaXRpb24gQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW5cclxuICogb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZCBvZiBhIGNvbXBvbmVudC4gSXQgYWNjZXB0cyBhIGxpc3RcclxuICogb2Ygc3RvcmUgZGVmaW5pdGlvbnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGV4cG9ydCBkZWZhdWx0IHtcclxuICogICBjb21wdXRlZDoge1xyXG4gKiAgICAgLy8gb3RoZXIgY29tcHV0ZWQgcHJvcGVydGllc1xyXG4gKiAgICAgLi4ubWFwU3RvcmVzKHVzZVVzZXJTdG9yZSwgdXNlQ2FydFN0b3JlKVxyXG4gKiAgIH0sXHJcbiAqXHJcbiAqICAgY3JlYXRlZCgpIHtcclxuICogICAgIHRoaXMudXNlclN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJ1c2VyXCJcclxuICogICAgIHRoaXMuY2FydFN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJjYXJ0XCJcclxuICogICB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSBzdG9yZXMgLSBsaXN0IG9mIHN0b3JlcyB0byBtYXAgdG8gYW4gb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXBTdG9yZXMoLi4uc3RvcmVzKSB7XHJcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIEFycmF5LmlzQXJyYXkoc3RvcmVzWzBdKSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBEaXJlY3RseSBwYXNzIGFsbCBzdG9yZXMgdG8gXCJtYXBTdG9yZXMoKVwiIHdpdGhvdXQgcHV0dGluZyB0aGVtIGluIGFuIGFycmF5OlxcbmAgK1xyXG4gICAgICAgICAgICBgUmVwbGFjZVxcbmAgK1xyXG4gICAgICAgICAgICBgXFx0bWFwU3RvcmVzKFt1c2VBdXRoU3RvcmUsIHVzZUNhcnRTdG9yZV0pXFxuYCArXHJcbiAgICAgICAgICAgIGB3aXRoXFxuYCArXHJcbiAgICAgICAgICAgIGBcXHRtYXBTdG9yZXModXNlQXV0aFN0b3JlLCB1c2VDYXJ0U3RvcmUpXFxuYCArXHJcbiAgICAgICAgICAgIGBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcclxuICAgICAgICBzdG9yZXMgPSBzdG9yZXNbMF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RvcmVzLnJlZHVjZSgocmVkdWNlZCwgdXNlU3RvcmUpID0+IHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiAkaWQgaXMgYWRkZWQgYnkgZGVmaW5lU3RvcmVcclxuICAgICAgICByZWR1Y2VkW3VzZVN0b3JlLiRpZCArIG1hcFN0b3JlU3VmZml4XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgfSwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBBbGxvd3MgdXNpbmcgc3RhdGUgYW5kIGdldHRlcnMgZnJvbSBvbmUgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cclxuICogQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW4gb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZFxyXG4gKiBvZiBhIGNvbXBvbmVudC5cclxuICpcclxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cclxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gbWFwU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxyXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pXHJcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh0aGlzLiRwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUtleSA9IGtleXNPck1hcHBlcltrZXldO1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIHNvbWUgcmVhc29uIFRTIGlzIHVuYWJsZSB0byBpbmZlciB0aGUgdHlwZSBvZiBzdG9yZUtleSB0byBiZSBhXHJcbiAgICAgICAgICAgICAgICAvLyBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBzdG9yZUtleSA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVLZXkuY2FsbCh0aGlzLCBzdG9yZSlcclxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlW3N0b3JlS2V5XTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3IgYG1hcFN0YXRlKClgLiBZb3Ugc2hvdWxkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cclxuICogQGRlcHJlY2F0ZWQgdXNlIGBtYXBTdGF0ZSgpYCBpbnN0ZWFkLlxyXG4gKi9cclxuY29uc3QgbWFwR2V0dGVycyA9IG1hcFN0YXRlO1xyXG4vKipcclxuICogQWxsb3dzIGRpcmVjdGx5IHVzaW5nIGFjdGlvbnMgZnJvbSB5b3VyIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXHJcbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBtZXRob2RzYCBmaWVsZFxyXG4gKiBvZiBhIGNvbXBvbmVudC5cclxuICpcclxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cclxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gbWFwQWN0aW9ucyh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzT3JNYXBwZXIpXHJcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldKC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcclxuICAgICAgICB9LCB7fSlcclxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXlzT3JNYXBwZXJba2V5XV0oLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgICAgIH0sIHt9KTtcclxufVxyXG4vKipcclxuICogQWxsb3dzIHVzaW5nIHN0YXRlIGFuZCBnZXR0ZXJzIGZyb20gb25lIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXHJcbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGRcclxuICogb2YgYSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXHJcbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG1hcFdyaXRhYmxlU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxyXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0ge1xyXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGVhc2llciB0byB0eXBlIGl0IGhlcmUgYXMgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XSA9IHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xyXG4gICAgICAgIH0sIHt9KVxyXG4gICAgICAgIDogT2JqZWN0LmtleXMoa2V5c09yTWFwcGVyKS5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IHtcclxuICAgICAgICAgICAgICAgIGdldCgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGVhc2llciB0byB0eXBlIGl0IGhlcmUgYXMgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dID0gdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XHJcbiAgICAgICAgfSwge30pO1xyXG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBvZiByZWZlcmVuY2VzIHdpdGggYWxsIHRoZSBzdGF0ZSwgZ2V0dGVycywgYW5kIHBsdWdpbi1hZGRlZFxyXG4gKiBzdGF0ZSBwcm9wZXJ0aWVzIG9mIHRoZSBzdG9yZS4gU2ltaWxhciB0byBgdG9SZWZzKClgIGJ1dCBzcGVjaWZpY2FsbHlcclxuICogZGVzaWduZWQgZm9yIFBpbmlhIHN0b3JlcyBzbyBtZXRob2RzIGFuZCBub24gcmVhY3RpdmUgcHJvcGVydGllcyBhcmVcclxuICogY29tcGxldGVseSBpZ25vcmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBleHRyYWN0IHRoZSByZWZzIGZyb21cclxuICovXHJcbmZ1bmN0aW9uIHN0b3JlVG9SZWZzKHN0b3JlKSB7XHJcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy84NTJcclxuICAgIC8vIEl0J3MgZWFzaWVyIHRvIGp1c3QgdXNlIHRvUmVmcygpIGV2ZW4gaWYgaXQgaW5jbHVkZXMgbW9yZSBzdHVmZlxyXG4gICAgaWYgKGlzVnVlMikge1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRvUmVmcyBpbmNsdWRlIG1ldGhvZHMgYW5kIG90aGVyc1xyXG4gICAgICAgIHJldHVybiB0b1JlZnMoc3RvcmUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc3RvcmUgPSB0b1JhdyhzdG9yZSk7XHJcbiAgICAgICAgY29uc3QgcmVmcyA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHN0b3JlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3RvcmVba2V5XTtcclxuICAgICAgICAgICAgaWYgKGlzUmVmKHZhbHVlKSB8fCBpc1JlYWN0aXZlKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIGtleSBpcyBzdGF0ZSBvciBnZXR0ZXJcclxuICAgICAgICAgICAgICAgIHJlZnNba2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLS0tXHJcbiAgICAgICAgICAgICAgICAgICAgdG9SZWYoc3RvcmUsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlZnM7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFZ1ZSAyIFBsdWdpbiB0aGF0IG11c3QgYmUgaW5zdGFsbGVkIGZvciBwaW5pYSB0byB3b3JrLiBOb3RlICoqeW91IGRvbid0IG5lZWRcclxuICogdGhpcyBwbHVnaW4gaWYgeW91IGFyZSB1c2luZyBOdXh0LmpzKiouIFVzZSB0aGUgYGJ1aWxkTW9kdWxlYCBpbnN0ZWFkOlxyXG4gKiBodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9zc3IvbnV4dC5odG1sLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcclxuICogaW1wb3J0IHsgUGluaWFWdWVQbHVnaW4sIGNyZWF0ZVBpbmlhIH0gZnJvbSAncGluaWEnXHJcbiAqXHJcbiAqIFZ1ZS51c2UoUGluaWFWdWVQbHVnaW4pXHJcbiAqIGNvbnN0IHBpbmlhID0gY3JlYXRlUGluaWEoKVxyXG4gKlxyXG4gKiBuZXcgVnVlKHtcclxuICogICBlbDogJyNhcHAnLFxyXG4gKiAgIC8vIC4uLlxyXG4gKiAgIHBpbmlhLFxyXG4gKiB9KVxyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIF9WdWUgLSBgVnVlYCBpbXBvcnRlZCBmcm9tICd2dWUnLlxyXG4gKi9cclxuY29uc3QgUGluaWFWdWVQbHVnaW4gPSBmdW5jdGlvbiAoX1Z1ZSkge1xyXG4gICAgLy8gRXF1aXZhbGVudCBvZlxyXG4gICAgLy8gYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRwaW5pYSA9IHBpbmlhXHJcbiAgICBfVnVlLm1peGluKHtcclxuICAgICAgICBiZWZvcmVDcmVhdGUoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5waW5pYSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWEgPSBvcHRpb25zLnBpbmlhO1xyXG4gICAgICAgICAgICAgICAgLy8gSEFDSzogdGFrZW4gZnJvbSBwcm92aWRlKCk6IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb21wb3NpdGlvbi1hcGkvYmxvYi9tYWluL3NyYy9hcGlzL2luamVjdC50cyNMMzFcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3Byb3ZpZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZUNhY2hlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfcHJvdmlkZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcHJvdmlkZUNhY2hlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICh2KSA9PiBPYmplY3QuYXNzaWduKHByb3ZpZGVDYWNoZSwgdiksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm92aWRlZFtwaW5pYVN5bWJvbF0gPSBwaW5pYTtcclxuICAgICAgICAgICAgICAgIC8vIHByb3BhZ2F0ZSB0aGUgcGluaWEgaW5zdGFuY2UgaW4gYW4gU1NSIGZyaWVuZGx5IHdheVxyXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgYWRkaW5nIGl0IHRvIG51eHQgdHdpY2VcclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJHBpbmlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGluaWEgPSBwaW5pYTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBpbmlhLl9hID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGlmIChJU19DTElFTlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyBjYWxsaW5nIHVzZVN0b3JlKCkgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCBzZXR1cCBhZnRlclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RhbGxpbmcgcGluaWEncyBwbHVnaW5cclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoVVNFX0RFVlRPT0xTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKHBpbmlhLl9hLCBwaW5pYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuJHBpbmlhICYmIG9wdGlvbnMucGFyZW50ICYmIG9wdGlvbnMucGFyZW50LiRwaW5pYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcGluaWEgPSBvcHRpb25zLnBhcmVudC4kcGluaWE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlc3Ryb3llZCgpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BTdG9yZXM7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59O1xuXG5leHBvcnQgeyBNdXRhdGlvblR5cGUsIFBpbmlhVnVlUGx1Z2luLCBhY2NlcHRITVJVcGRhdGUsIGNyZWF0ZVBpbmlhLCBkZWZpbmVTdG9yZSwgZ2V0QWN0aXZlUGluaWEsIG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlLCBtYXBTdG9yZXMsIG1hcFdyaXRhYmxlU3RhdGUsIHNldEFjdGl2ZVBpbmlhLCBzZXRNYXBTdG9yZVN1ZmZpeCwgc2tpcEh5ZHJhdGUsIHN0b3JlVG9SZWZzIH07XG4iLCJpbXBvcnQgeyBTdWJtaXR0ZWREYXRhIH0gZnJvbSBcIi4vU3VibWl0dGVkRGF0YVwiO1xuaW1wb3J0IHsgRW50cnkgfSBmcm9tIFwiLi9tb2RlbC9FbnRyeVwiO1xuXG5leHBvcnQgY2xhc3MgU2F2ZVN0YXRlIHtcbiAgICBvcmlnaW5hbEVudHJ5PzogRW50cnk7XG4gICAgbmV3RW50cnk6IEVudHJ5ID0gbmV3IEVudHJ5KHt9KTtcbiAgICB0aXRsZVJlc2V0VmFsdWU6IHN0cmluZztcbiAgICBzdWJtaXR0ZWREYXRhPzogU3VibWl0dGVkRGF0YTtcbiAgICBsYXN0QWN0aXZlQXQ/OiBEYXRlO1xuICAgIHNob3dVUkxNaXNtYXRjaFdhcm5pbmc6IGJvb2xlYW47XG4gICAgZmF2aWNvbj86IHN0cmluZztcbn1cbiIsImltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9EYXRhYmFzZVwiO1xuaW1wb3J0IHsgUGFzc3dvcmRQcm9maWxlIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9QYXNzd29yZFByb2ZpbGVcIjtcbmltcG9ydCB7IEtlZU5vdGlmaWNhdGlvbiB9IGZyb20gXCIuLi9jb21tb24vS2VlTm90aWZpY2F0aW9uXCI7XG5pbXBvcnQgeyBFbnRyeVN1bW1hcnkgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0VudHJ5U3VtbWFyeVwiO1xuaW1wb3J0IHsgU2F2ZVN0YXRlIH0gZnJvbSBcIi4uL2NvbW1vbi9TYXZlU3RhdGVcIjtcbmltcG9ydCB7IFNhdmVFbnRyeVJlc3VsdCB9IGZyb20gXCIuLi9jb21tb24vU2F2ZUVudHJ5UmVzdWx0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2VlU3RhdGUge1xuICAgIGxhdGVzdENvbm5lY3Rpb25FcnJvcjogc3RyaW5nO1xuICAgIGxhc3RLZWVQYXNzUlBDUmVmcmVzaDogbnVtYmVyO1xuICAgIEFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4OiBudW1iZXI7XG4gICAgS2VlUGFzc0RhdGFiYXNlczogRGF0YWJhc2VbXTtcbiAgICBQYXNzd29yZFByb2ZpbGVzOiBQYXNzd29yZFByb2ZpbGVbXTtcbiAgICBub3RpZmljYXRpb25zOiBLZWVOb3RpZmljYXRpb25bXTtcbiAgICBjb25uZWN0ZWQ6IGJvb2xlYW47XG4gICAgY29ubmVjdGVkV2Vic29ja2V0OiBib29sZWFuO1xuICAgIGN1cnJlbnRTZWFyY2hUZXJtOiBzdHJpbmc7XG4gICAgbG9naW5zRm91bmQ6IGJvb2xlYW47XG4gICAgc2VhcmNoUmVzdWx0czogRW50cnlTdW1tYXJ5W107XG4gICAgc2F2ZVN0YXRlOiBTYXZlU3RhdGU7XG4gICAgZ2VuZXJhdGVkUGFzc3dvcmQ6IHN0cmluZztcbiAgICBzYXZlRW50cnlSZXN1bHQ6IFNhdmVFbnRyeVJlc3VsdDtcbiAgICBlbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgbGF0ZXN0Q29ubmVjdGlvbkVycm9yOiBcIlwiLFxuICAgIGxhc3RLZWVQYXNzUlBDUmVmcmVzaDogMCxcbiAgICBBY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleDogLTEsXG4gICAgS2VlUGFzc0RhdGFiYXNlczogW10sXG4gICAgUGFzc3dvcmRQcm9maWxlczogW10sXG4gICAgbm90aWZpY2F0aW9uczogW10sXG4gICAgY29ubmVjdGVkOiBmYWxzZSxcbiAgICBjb25uZWN0ZWRXZWJzb2NrZXQ6IGZhbHNlLFxuICAgIGN1cnJlbnRTZWFyY2hUZXJtOiBudWxsLFxuICAgIGxvZ2luc0ZvdW5kOiBmYWxzZSxcbiAgICBzZWFyY2hSZXN1bHRzOiBudWxsLFxuICAgIHNhdmVTdGF0ZTogbmV3IFNhdmVTdGF0ZSgpLFxuICAgIGdlbmVyYXRlZFBhc3N3b3JkOiBcIlwiLFxuICAgIHNhdmVFbnRyeVJlc3VsdDoge1xuICAgICAgICByZXN1bHQ6IG51bGwsXG4gICAgICAgIHJlY2VpdmVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGZpbGVOYW1lOiBudWxsLFxuICAgICAgICB1dWlkOiBudWxsXG4gICAgfSxcbiAgICBlbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcDogMFxufTtcbiIsImV4cG9ydCBlbnVtIFNlc3Npb25UeXBlIHtcbiAgICBFdmVudCA9IFwiZXZlbnRcIixcbiAgICBXZWJzb2NrZXQgPSBcIndlYnNvY2tldFwiXG59XG4iLCJpbXBvcnQgeyBkZWZpbmVTdG9yZSwgRGVmaW5lU3RvcmVPcHRpb25zLCBTdGF0ZVRyZWUsIFN0b3JlRGVmaW5pdGlvbiwgX0dldHRlcnNUcmVlIH0gZnJvbSBcInBpbmlhXCI7XG5cbmltcG9ydCB7IEtlZVN0YXRlLCBkZWZhdWx0cyB9IGZyb20gXCIuL0tlZVN0YXRlXCI7XG5pbXBvcnQgeyBTYXZlU3RhdGUgfSBmcm9tIFwiLi4vY29tbW9uL1NhdmVTdGF0ZVwiO1xuaW1wb3J0IHsgU2Vzc2lvblR5cGUgfSBmcm9tIFwiLi4vY29tbW9uL1Nlc3Npb25UeXBlXCI7XG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRmllbGRcIjtcblxuLyoqXG4gKiBBIHJlcGxhY2VtZW50IGZvciBgZGVmaW5lU3RvcmVgIHdoaWNoIG1ha2VzIGFsbCBzdGF0ZSBwcm9wZXJ0aWVzIHJlYWRvbmx5XG4gKiB0byBwcmV2ZW50IG11dGF0aW9ucyBvdXRzaWRlIG9mIGFjdGlvbnMuXG4gKi9cbi8vIGZ1bmN0aW9uIGRlZmluZUltbXV0YWJsZVN0b3JlPElkIGV4dGVuZHMgc3RyaW5nLCBTIGV4dGVuZHMgU3RhdGVUcmVlID0gYW55LCBHIGV4dGVuZHMgX0dldHRlcnNUcmVlPFM+ID0gYW55LCBBID0gYW55Pihcbi8vICAgICBpZDogSWQsXG4vLyAgICAgb3B0aW9uczogT21pdDxEZWZpbmVTdG9yZU9wdGlvbnM8SWQsIFMsIEcsIEE+LCBcImlkXCI+XG4vLyAgICk6IFN0b3JlRGVmaW5pdGlvbjxJZCwgUmVhZG9ubHk8Uz4sIEcsIEE+IHtcbi8vICAgICByZXR1cm4gZGVmaW5lU3RvcmUoaWQsIG9wdGlvbnMpO1xuLy8gICB9XG5cbmNvbnN0IHVzZVN0b3JlID0gZGVmaW5lU3RvcmUoXCJrZWVcIiwge1xuICAgIHN0YXRlOiAoKTogS2VlU3RhdGUgPT4gKGRlZmF1bHRzKSxcbiAgICBnZXR0ZXJzOiB7XG4gICAgICAgIHNob3dHZW5lcmF0ZVBhc3N3b3JkTGluazogKHN0YXRlOiBLZWVTdGF0ZSkgPT4gc3RhdGUuY29ubmVjdGVkLFxuICAgICAgICBzaG93TWF0Y2hlZExvZ2luczogKHN0YXRlOiBLZWVTdGF0ZSkgPT4gISFzdGF0ZS5sb2dpbnNGb3VuZCxcbiAgICAgICAgc2hvd05vdGlmaWNhdGlvbnM6IChzdGF0ZTogS2VlU3RhdGUpID0+XG4gICAgICAgICAgICBzdGF0ZS5ub3RpZmljYXRpb25zICYmICEhc3RhdGUubm90aWZpY2F0aW9ucy5sZW5ndGgsXG4gICAgICAgIGRhdGFiYXNlSXNPcGVuOiAoc3RhdGU6IEtlZVN0YXRlKSA9PlxuICAgICAgICAgICAgc3RhdGUuY29ubmVjdGVkICYmICEhc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGgsXG5cbiAgICAgICAgZGF0YWJhc2VOYW1lOiAoc3RhdGU6IEtlZVN0YXRlKSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3RhdGUuS2VlUGFzc0RhdGFiYXNlcyAmJlxuICAgICAgICAgICAgICAgIHN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgc3RhdGUuQWN0aXZlS2VlUGFzc0RhdGFiYXNlSW5kZXggPj0gMFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSBzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzW3N0YXRlLkFjdGl2ZUtlZVBhc3NEYXRhYmFzZUluZGV4XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGIubmFtZSA/IGRiLm5hbWUgOiBkYi5maWxlTmFtZS5yZXBsYWNlKC9eLipbXFxcXC9dLywgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfSxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1cyhzdGF0ZTogS2VlU3RhdGUpOiBzdHJpbmcge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRTVFJGKFwibXVsdGlwbGVQYXNzd29yZFNvdXJjZXNFbmFibGVkXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5LZWVQYXNzRGF0YWJhc2VzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFiYXNlTmFtZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJFNUUihcIm5vdGlmeUJhckxvZ2luVG9LZWVQYXNzQnV0dG9uX3RpcFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAkU1RSKFwibm90aWZ5QmFyTGF1bmNoS2VlUGFzc0J1dHRvbl90aXBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXNEZXRhaWwoc3RhdGU6IEtlZVN0YXRlKTogc3RyaW5nIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuS2VlUGFzc0RhdGFiYXNlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkU1RSRihcImxvZ2dlZEluTXVsdGlwbGVfdGlwXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFiYXNlTmFtZVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRTVFJGKFwibG9nZ2VkSW5fdGlwXCIsIHRoaXMuZGF0YWJhc2VOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJFNUUihcIm5vdGlmeUJhckxhdW5jaEtlZVBhc3NfbGFiZWxcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHNob3dPcGVuS2VlUGFzc0J1dHRvbjogKHN0YXRlOiBLZWVTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHN0YXRlLmNvbm5lY3RlZFdlYnNvY2tldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1dlYnNvY2tldERCcyA9IHN0YXRlLktlZVBhc3NEYXRhYmFzZXMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgZGIgPT4gZGIuc2Vzc2lvblR5cGUgPT09IFNlc3Npb25UeXBlLldlYnNvY2tldFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VwcG9ydHNXZWJzb2NrZXRGb2N1cyA9IHN0YXRlLktlZVBhc3NEYXRhYmFzZXMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgZGIgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLnNlc3Npb25UeXBlID09PSBTZXNzaW9uVHlwZS5XZWJzb2NrZXQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLnNlc3Npb25GZWF0dXJlcy5pbmRleE9mKFwiS1BSUENfT1BFTl9BTkRfRk9DVVNfREFUQUJBU0VcIikgPj0gMFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNXZWJzb2NrZXREQnMgfHwgc3VwcG9ydHNXZWJzb2NrZXRGb2N1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFjdGlvbnM6IHtcbiAgICAgICAgdXBkYXRlQWN0aXZlS2VlUGFzc0RhdGFiYXNlSW5kZXgocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5BY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleCA9IHBheWxvYWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlQ29ubmVjdGVkKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gcGF5bG9hZDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVDb25uZWN0ZWRXZWJzb2NrZXQocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRXZWJzb2NrZXQgPSBwYXlsb2FkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUN1cnJlbnRTZWFyY2hUZXJtKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlYXJjaFRlcm0gPSBwYXlsb2FkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUtlZVBhc3NEYXRhYmFzZXMocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5LZWVQYXNzRGF0YWJhc2VzID0gcGF5bG9hZDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVMYXN0S2VlUGFzc1JQQ1JlZnJlc2gocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0S2VlUGFzc1JQQ1JlZnJlc2ggPSBwYXlsb2FkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZUxhdGVzdENvbm5lY3Rpb25FcnJvcihwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLmxhdGVzdENvbm5lY3Rpb25FcnJvciA9IHBheWxvYWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlTG9naW5zRm91bmQocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dpbnNGb3VuZCA9IHBheWxvYWQgfHwgZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlTm90aWZpY2F0aW9ucyhwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSBwYXlsb2FkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVBhc3N3b3JkUHJvZmlsZXMocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5QYXNzd29yZFByb2ZpbGVzID0gcGF5bG9hZDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVHZW5lcmF0ZWRQYXNzd29yZChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlZFBhc3N3b3JkID0gcGF5bG9hZDtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVTdWJtaXR0ZWREYXRhKHBheWxvYWQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zYXZlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZSA9IG5ldyBTYXZlU3RhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXRlLnN1Ym1pdHRlZERhdGEgPSBwYXlsb2FkIHx8IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlU2F2ZVN0YXRlKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXRlID0gcGF5bG9hZCB8fCBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVNlYXJjaFJlc3VsdHMocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gcGF5bG9hZCB8fCBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVNlYXJjaFJlc3VsdFdpdGhGdWxsRGV0YWlscyhwYXlsb2FkKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHBheWxvYWQudXVpZDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLnNlYXJjaFJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocy51dWlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICBzLmZ1bGxEZXRhaWxzID0gcGF5bG9hZCB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKHBheWxvYWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVNhdmVFbnRyeVJlc3VsdChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLnNhdmVFbnRyeVJlc3VsdCA9IHBheWxvYWQgfHwgbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVGaWVsZEZyb21BY3RpdmVFbnRyeShwYXlsb2FkKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGV4dEZpZWxkSW5kZXggPSB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuZmluZEluZGV4KFxuICAgICAgICAgICAgICAgIGYgPT4gZi50eXBlID09PSBcInRleHRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFzc3dvcmRGaWVsZEluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICBmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxGaWVsZEluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICBmID0+IGYudXVpZCA9PT0gKHBheWxvYWQgfHwgbnVsbClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuc3BsaWNlKG9yaWdpbmFsRmllbGRJbmRleCwgMSk7XG5cbiAgICAgICAgICAgIGlmIChvcmlnaW5hbEZpZWxkSW5kZXggPT09IGZpcnN0VGV4dEZpZWxkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZUluZGV4ID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgZiA9PiBmLnR5cGUgPT09IFwidGV4dFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VXNlcm5hbWVJbmRleCA8IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZSA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5zcGxpY2UobmV3VXNlcm5hbWVJbmRleCwgMSlbMF07XG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxGaWVsZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmllbGQoeyAuLi5uZXdVc2VybmFtZSwgbmFtZTogXCJLZWVQYXNzIHVzZXJuYW1lXCIgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbEZpZWxkSW5kZXggPT09IGZpcnN0UGFzc3dvcmRGaWVsZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UGFzc3dvcmRJbmRleCA9IHRoaXMuc2F2ZVN0YXRlLm5ld0VudHJ5LmZpZWxkcy5maW5kSW5kZXgoXG4gICAgICAgICAgICAgICAgICAgIGYgPT4gZi50eXBlID09PSBcInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChuZXdQYXNzd29yZEluZGV4IDwgMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bhc3N3b3JkID0gdGhpcy5zYXZlU3RhdGUubmV3RW50cnkuZmllbGRzLnNwbGljZShuZXdQYXNzd29yZEluZGV4LCAxKVswXTtcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVTdGF0ZS5uZXdFbnRyeS5maWVsZHMuc3BsaWNlKFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEZpZWxkSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGaWVsZCh7IC4uLm5ld1Bhc3N3b3JkLCBuYW1lOiBcIktlZVBhc3MgcGFzc3dvcmRcIiB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlRW50cnlVcGRhdGVTdGFydGVkQXRUaW1lc3RhbXAocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5lbnRyeVVwZGF0ZVN0YXJ0ZWRBdFRpbWVzdGFtcCA9IHBheWxvYWQgfHwgbnVsbDtcbiAgICAgICAgfVxuXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVN0b3JlO1xuXG5leHBvcnQgdHlwZSBLZWVTdG9yZSA9IE9taXQ8XG4gICAgUmV0dXJuVHlwZTx0eXBlb2YgdXNlU3RvcmU+LFxuICAgIGtleW9mIFJldHVyblR5cGU8dHlwZW9mIGRlZmluZVN0b3JlPlxuPjtcbiIsImltcG9ydCB7IEZpbGxlZEZpZWxkIH0gZnJvbSBcIi4vRmlsbGVkRmllbGRcIjtcbmltcG9ydCB7IFBhbmVsU3R1YiwgUGFuZWxTdHViT3B0aW9ucyB9IGZyb20gXCIuL1BhbmVsU3R1YlwiO1xuaW1wb3J0IHsgRm9ybVV0aWxzIH0gZnJvbSBcIi4vZm9ybXNVdGlsc1wiO1xuaW1wb3J0IHsgRm9ybVNhdmluZyB9IGZyb20gXCIuL2Zvcm1TYXZpbmdcIjtcbmltcG9ydCB7IEtlZUZpZWxkSWNvbiB9IGZyb20gXCIuL2tlZUZpZWxkSWNvblwiO1xuaW1wb3J0IHsgTWF0Y2hSZXN1bHQgfSBmcm9tIFwiLi9NYXRjaFJlc3VsdFwiO1xuaW1wb3J0IHsgRmluZE1hdGNoZXNCZWhhdmlvdXIgfSBmcm9tIFwiLi9maW5kTWF0Y2hlc0JlaGF2aW91clwiO1xuaW1wb3J0IHsgS2VlTG9nZ2VyLCBLZWVMb2cgfSBmcm9tIFwiLi4vY29tbW9uL0xvZ2dlclwiO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcIi4uL2NvbW1vbi9jb25maWdcIjtcbmltcG9ydCB7IGNvbmZpZ01hbmFnZXIgfSBmcm9tIFwiLi4vY29tbW9uL0NvbmZpZ01hbmFnZXJcIjtcbmltcG9ydCB7IE1hdGNoZWRGaWVsZCB9IGZyb20gXCIuL01hdGNoZWRGaWVsZFwiO1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tIFwiLi4vY29tbW9uL21vZGVsL0ZpZWxkXCI7XG5pbXBvcnQgeyBFbnRyeSB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRW50cnlcIjtcbmltcG9ydCB1c2VTdG9yZSBmcm9tIFwiLi4vc3RvcmVcIjtcblxuY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpO1xuXG5pbnRlcmZhY2UgU2NvcmVNYXRyaXgge1xuICAgIHNjb3JlOiBudW1iZXI7XG4gICAgZm9ybUZpZWxkSW5kZXg6IG51bWJlcjtcbiAgICBkYXRhRmllbGRJbmRleDogbnVtYmVyO1xufVxuXG5kZWNsYXJlIGNvbnN0IHB1bnljb2RlO1xuXG5jbGFzcyBGaWxsQW5kU3VibWl0QWN0aW9uIHtcbiAgICBmaWxsOiBib29sZWFuO1xuICAgIHN1Ym1pdDogYm9vbGVhbjtcbn1cblxuY2xhc3MgU3VibWl0Q2FuZGlkYXRlIHtcbiAgICBkaXN0YW5jZTogbnVtYmVyO1xuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHNjb3JlOiBudW1iZXI7XG59XG5cbmNsYXNzIEZpZWxkTWF0Y2hTY29yZUNvbmZpZyB7XG4gICAgcHVuaXNoV3JvbmdJREFuZE5hbWU6IGJvb2xlYW47XG59XG5cbmNsYXNzIFZpc2libGVGaWVsZENhY2hlIHtcbiAgICBwYXNzd29yZDogYm9vbGVhbltdO1xuICAgIG90aGVyOiBib29sZWFuW107XG59XG5cbmV4cG9ydCBjbGFzcyBGb3JtRmlsbGluZyB7XG4gICAgcHJpdmF0ZSBmaW5kTG9naW5PcDogYW55ID0ge307XG4gICAgcHJpdmF0ZSBtYXRjaFJlc3VsdDogTWF0Y2hSZXN1bHQgPSBuZXcgTWF0Y2hSZXN1bHQoKTtcbiAgICBwcml2YXRlIGtlZUZpZWxkSWNvbjogS2VlRmllbGRJY29uO1xuXG4gICAgcHVibGljIG1hdGNoZWRMb2dpbnNQYW5lbFN0dWI6IFBhbmVsU3R1YjtcbiAgICBwcml2YXRlIG1hdGNoZWRMb2dpbnNQYW5lbFN0dWJSYWY6IG51bWJlcjtcblxuICAgIC8vIFNob3VsZCByZWFsbHkgbWFrZSB0aGlzIHByaXZhdGUgYW5kIGNhbGwgaW5kaXJlY3RseSBidXQgSSdtIHdhcnkgb2YgYWxsIHBlcmZvcm1hbmNlIG92ZXJoZWFkcyB3cnQgRE9NIG11dGF0aW9uIG9ic2VydmVyc1xuICAgIHB1YmxpYyBmb3JtRmluZGVyVGltZXI6IG51bWJlciA9IG51bGw7XG5cbiAgICBwcml2YXRlIHNlbWFudGljV2hpdGVsaXN0Q2FjaGU7XG4gICAgcHJpdmF0ZSBzZW1hbnRpY0JsYWNrbGlzdENhY2hlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgbXlQb3J0OiBicm93c2VyLnJ1bnRpbWUuUG9ydCxcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnRGcmFtZUlkOiBudW1iZXIsXG4gICAgICAgIHByaXZhdGUgZm9ybVV0aWxzOiBGb3JtVXRpbHMsXG4gICAgICAgIHByaXZhdGUgZm9ybVNhdmluZzogRm9ybVNhdmluZyxcbiAgICAgICAgcHJpdmF0ZSBMb2dnZXI6IEtlZUxvZ2dlcixcbiAgICAgICAgcHJpdmF0ZSBjb25maWc6IENvbmZpZyxcbiAgICAgICAgcHJpdmF0ZSBtYXRjaEZpbmRlcjogeyAodXJpOiBzdHJpbmcpOiB2b2lkIH1cbiAgICApIHtcbiAgICAgICAgdGhpcy5rZWVGaWVsZEljb24gPSBuZXcgS2VlRmllbGRJY29uKFxuICAgICAgICAgICAgbXlQb3J0LFxuICAgICAgICAgICAgcGFyZW50RnJhbWVJZCxcbiAgICAgICAgICAgIGZvcm1VdGlscyxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTWF0Y2hlZExvZ2luc1BhbmVsTmVhck5vZGUuYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBleGVjdXRlUHJpbWFyeUFjdGlvbigpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzICYmXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmVudHJpZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggIT0gbnVsbCAmJlxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggPj0gMFxuICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoUmVzdWx0LmVudHJpZXNbdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWxsQW5kU3VibWl0KGZhbHNlLCB0aGlzLm1hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmVudHJpZXNbdGhpcy5tYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNYXRjaGVkTG9naW5zUGFuZWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKFxuICAgICAgICAgICAgICAgICAgICBQYW5lbFN0dWJPcHRpb25zLk1hdGNoZWRMb2dpbnMsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RnJhbWVJZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlTWF0Y2hlZExvZ2luc1BhbmVsSW5DZW50ZXIoc3BlY2lmaWNGcmFtZUlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jbG9zZU1hdGNoZWRMb2dpbnNQYW5lbCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKFxuICAgICAgICAgICAgUGFuZWxTdHViT3B0aW9ucy5NYXRjaGVkTG9naW5zLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHNwZWNpZmljRnJhbWVJZFxuICAgICAgICApO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIuY3JlYXRlUGFuZWwoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlTWF0Y2hlZExvZ2luc1BhbmVsTmVhck5vZGUodGFyZ2V0OiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNsb3NlTWF0Y2hlZExvZ2luc1BhbmVsKCk7XG4gICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1YiA9IG5ldyBQYW5lbFN0dWIoXG4gICAgICAgICAgICBQYW5lbFN0dWJPcHRpb25zLk1hdGNoZWRMb2dpbnMsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICB0aGlzLnBhcmVudEZyYW1lSWRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgICAgIHRoaXMubWF0Y2hlZExvZ2luc1BhbmVsU3R1YlJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PlxuICAgICAgICAgICAgdGhpcy51cGRhdGVNYXRjaGVkTG9naW5zUGFuZWxQb3NpdGlvbigpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb3NlTWF0Y2hlZExvZ2luc1BhbmVsKCkge1xuICAgICAgICBpZiAodGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViKSB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIuY2xvc2VQYW5lbCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWIgPSBudWxsO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWJSYWYpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVNYXRjaGVkTG9naW5zUGFuZWxQb3NpdGlvbigpIHtcbiAgICAgICAgdGhpcy5tYXRjaGVkTG9naW5zUGFuZWxTdHViLnVwZGF0ZUJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLm1hdGNoZWRMb2dpbnNQYW5lbFN0dWJSYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWF0Y2hlZExvZ2luc1BhbmVsUG9zaXRpb24oKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIFJlcXVpcmVzIEtlZVBhc3NSUEMgIzEwMVxuICAgIC8vIHByaXZhdGUgY2FsY3VsYXRlTGFiZWxNYXRjaFNjb3JlKG1hdGNoZWRGaWVsZDogTWF0Y2hlZEZpZWxkLCBkYXRhRmllbGQ6IEZpZWxkKSB7XG4gICAgLy8gICAgIGlmICghbWF0Y2hlZEZpZWxkLmZpZWxkLm5hbWUgfHwgIWRhdGFGaWVsZC5uYW1lKSByZXR1cm4gMDtcblxuICAgIC8vICAgICAvLyBXZSBvbmx5IHBlcnNpc3QgYSBzaW5nbGUgXCJsYWJlbFwiIHZhbHVlLCBpbXBsaWNpdGx5IHZpYSB0aGUgZGlzcGxheSBuYW1lXG4gICAgLy8gICAgIC8vIGZpZWxkLiBDb3VsZCBjaGFuZ2UgdGhpcyBpbiBmdXR1cmUgd2l0aCBhZGRpdGlvbmFsIGZlYXR1cmVzIGFkZGVkIHRvIHRoZVxuICAgIC8vICAgICAvLyBLZWVQYXNzUlBDIGxpYnJhcmllcy5cbiAgICAvLyAgICAgaWYgKFxuICAgIC8vICAgICAgICAgbWF0Y2hlZEZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLmxhYmVscy5zb21lKFxuICAgIC8vICAgICAgICAgICAgIG1hdGNoZWRGaWVsZExhYmVsID0+XG4gICAgLy8gICAgICAgICAgICAgICAgIG1hdGNoZWRGaWVsZExhYmVsLnRvTG93ZXJDYXNlKCkgPT09IGRhdGFGaWVsZC5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAvLyAgICAgICAgIClcbiAgICAvLyAgICAgKSB7XG4gICAgLy8gICAgICAgICByZXR1cm4gMTAwO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgICAgY29uc3Qgd2Vha01hdGNoTGFiZWxzID0gW2RhdGFGaWVsZC5uYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgIC8vICAgICBpZiAoZGF0YUZpZWxkLm5hbWUgIT09IGRhdGFGaWVsZC5sb2NhdG9yc1swXS5uYW1lKSB7XG4gICAgLy8gICAgICAgICB3ZWFrTWF0Y2hMYWJlbHMucHVzaChkYXRhRmllbGQubG9jYXRvcnNbMF0ubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGlmIChcbiAgICAvLyAgICAgICAgIG1hdGNoZWRGaWVsZC5maWVsZC5sb2NhdG9yc1swXS5sYWJlbHMuc29tZShtYXRjaGVkRmllbGRMYWJlbCA9PiB7XG4gICAgLy8gICAgICAgICAgICAgd2Vha01hdGNoTGFiZWxzLnNvbWUoXG4gICAgLy8gICAgICAgICAgICAgICAgIGRhdGFMYWJlbCA9PiBtYXRjaGVkRmllbGRMYWJlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZGF0YUxhYmVsKSA+PSAwXG4gICAgLy8gICAgICAgICAgICAgKTtcbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICkge1xuICAgIC8vICAgICAgICAgcmV0dXJuIDMwO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiAwO1xuICAgIC8vIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlRmllbGRNYXRjaFNjb3JlKFxuICAgICAgICBtYXRjaGVkRmllbGQ6IE1hdGNoZWRGaWVsZCxcbiAgICAgICAgZGF0YUZpZWxkOiBGaWVsZCxcbiAgICAgICAgX2N1cnJlbnRQYWdlLCAvL1RPRE86NDogcmVtb3ZlIHBhcmFtXG4gICAgICAgIGNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICBpc1Zpc2libGU/OiBib29sZWFuXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZCA9IG1hdGNoZWRGaWVsZC5maWVsZDtcbiAgICAgICAgLy8gRGVmYXVsdCBzY29yZSBpcyAxIHNvIHRoYXQgYmFkIG1hdGNoZXMgd2hpY2ggYXJlIGF0IGxlYXN0IHRoZSBjb3JyZWN0IHR5cGVcbiAgICAgICAgLy8gaGF2ZSBhIGNoYW5jZSBvZiBiZWluZyBzZWxlY3RlZCBpZiBubyBnb29kIG1hdGNoZXMgYXJlIGZvdW5kXG4gICAgICAgIGxldCBzY29yZSA9IDE7XG5cbiAgICAgICAgLy8gRG8gbm90IGFsbG93IGFueSBtYXRjaCBpZiBmaWVsZCB0eXBlcyBhcmUgc2lnbmlmaWNhbnRseSBtaXNtYXRjaGVkIChlLmcuIGNoZWNrYm94IHZzIHRleHQgZmllbGQpXG4gICAgICAgIGlmIChmb3JtRmllbGQudHlwZSAhPT0gZGF0YUZpZWxkLnR5cGUpIHJldHVybiAwO1xuXG4gICAgICAgIC8vIHNjb3JlICs9IHRoaXMuY2FsY3VsYXRlTGFiZWxNYXRjaFNjb3JlKG1hdGNoZWRGaWVsZCwgZGF0YUZpZWxkKTtcblxuICAgICAgICAvLyBJZiBmaWVsZCBJRHMgbWF0Y2ggKysrKytcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLmlkICE9IG51bGwgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5pZCAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5pZCAhPSBcIlwiICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0uaWQgPT0gZGF0YUZpZWxkLmxvY2F0b3JzWzBdLmlkXG4gICAgICAgICkge1xuICAgICAgICAgICAgc2NvcmUgKz0gNTA7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnB1bmlzaFdyb25nSURBbmROYW1lICYmIGRhdGFGaWVsZC5sb2NhdG9yc1swXS5pZCkge1xuICAgICAgICAgICAgc2NvcmUgLT0gNTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGZpZWxkIG5hbWVzIG1hdGNoICsrKytcbiAgICAgICAgLy8gKFdlIGRvIG5vdCB0cmVhdCBJRCBhbmQgTkFNRSBhcyBtdXR1YWxseSBleGNsdXNpdmUgYmVjYXVzZSBzb21lIGJhZGx5IHdyaXR0ZW5cbiAgICAgICAgLy8gd2Vic2l0ZXMgbWlnaHQgaGF2ZSBkdXBsaWNhdGUgSURzIGJ1dCBkaWZmZXJlbnQgbmFtZXMgc28gdGhpcyBjb21iaW5lZCBhcHByb2FjaFxuICAgICAgICAvLyBtaWdodCBhbGxvdyB0aGVtIHRvIHdvcmsgY29ycmVjdGx5KVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0ubmFtZSAhPSBudWxsICYmXG4gICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0ubmFtZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5uYW1lICE9IFwiXCIgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC5sb2NhdG9yc1swXS5uYW1lID09IGRhdGFGaWVsZC5sb2NhdG9yc1swXS5uYW1lXG4gICAgICAgICkge1xuICAgICAgICAgICAgc2NvcmUgKz0gNDA7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnB1bmlzaFdyb25nSURBbmROYW1lICYmIGRhdGFGaWVsZC5sb2NhdG9yc1swXS5uYW1lKSB7XG4gICAgICAgICAgICBzY29yZSAtPSA1O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmFkaW8gYnV0dG9ucyBoYXZlIHRoZWlyIHZhbHVlcyBzZXQgYnkgdGhlIHdlYnNpdGUgYW5kIGhlbmNlIGNhbiBwcm92aWRlXG4gICAgICAgIC8vIGEgdXNlZnVsIGN1ZSB3aGVuIGJvdGggaWQgYW5kIG5hbWUgbWF0Y2hpbmcgZmFpbHNcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZm9ybUZpZWxkLmxvY2F0b3JzWzBdLnR5cGUgPT09IFwicmFkaW9cIiAmJlxuICAgICAgICAgICAgZm9ybUZpZWxkLnZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC52YWx1ZSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGZvcm1GaWVsZC52YWx1ZSAhPSBcIlwiICYmXG4gICAgICAgICAgICBmb3JtRmllbGQudmFsdWUgPT0gZGF0YUZpZWxkLnZhbHVlXG4gICAgICAgICkge1xuICAgICAgICAgICAgc2NvcmUgKz0gMzA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBpc1Zpc2libGUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdGhpcy5mb3JtVXRpbHMuaXNET01FbGVtZW50VmlzaWJsZShtYXRjaGVkRmllbGQuRE9NZWxlbWVudClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBpc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcmUgKz0gaXNWaXNpYmxlID8gMzUgOiAwO1xuXG4gICAgICAgIHJldHVybiBzY29yZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbGxNYXRjaGVkRmllbGRzKFxuICAgICAgICBmaWVsZFNjb3JlTWF0cml4OiBTY29yZU1hdHJpeFtdLFxuICAgICAgICBkYXRhRmllbGRzOiBGaWVsZFtdLFxuICAgICAgICBmb3JtRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgYXV0b21hdGVkOiBib29sZWFuXG4gICAgKSB7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gbWFrZSBzdXJlIGVhY2ggZGF0YSBmaWVsZCBpcyBtYXRjaGVkIHRvIG9ubHkgb25lIGZvcm0gZmllbGQgYnV0IHdlXG4gICAgICAgIC8vIGRvbid0IGtub3cgd2hpY2ggZmllbGQgd2lsbCBiZSB0aGUgYmVzdCBtYXRjaCBhbmQgd2UgZG9uJ3Qgd2FudCB0byBpZ25vcmVcbiAgICAgICAgLy8gbGVzcyBhY2N1cmF0ZSBtYXRjaGVzIGp1c3QgYmVjYXVzZSB0aGV5IGhhcHBlbiB0byBhcHBlYXIgbGF0ZXIuXG5cbiAgICAgICAgLy8gV2UgaGF2ZSBhIG1hdHJpeCBvZiBvYmplY3RzIHJlcHJlc2VudGluZyBlYWNoIHBvc3NpYmxlIGNvbWJpbmF0aW9uIG9mIGRhdGEgZmllbGRcbiAgICAgICAgLy8gYW5kIGZvcm0gZmllbGQgYW5kIHRoZSBzY29yZSBmb3IgdGhhdCBtYXRjaC5cbiAgICAgICAgLy8gV2UgY2hvb3NlIHdoYXQgdG8gZmlsbCBieSBzb3J0aW5nIHRoYXQgbGlzdCBieSBzY29yZS5cbiAgICAgICAgLy8gQWZ0ZXIgZmlsbGluZyBhIGZpZWxkIHdlIHJlbW92ZSBhbGwgb2JqZWN0cyBmcm9tIHRoZSBsaXN0IHdoaWNoIGFyZSBmb3IgdGhlXG4gICAgICAgIC8vIGRhdGEgZmllbGQgd2UganVzdCBmaWxsZWQgaW4gYW5kIHRoZSBmb3JtIGZpZWxkIHdlIGZpbGxlZCBpbi5cblxuICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIGFsd2F5cyBmaWxsIGVhY2ggZm9ybSBmaWVsZCBvbmx5IG9uY2UsIHdpdGggdGhlIGJlc3QgbWF0Y2hcbiAgICAgICAgLy8gc2VsZWN0ZWQgZnJvbSBhbGwgZGF0YSBmaWVsZHMgdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiBzZWxlY3RlZCBmb3IgYW5vdGhlciBmb3JtIGZpZWxkXG5cbiAgICAgICAgLy8gVGhlIGFib3ZlIGFsZ29yaXRobSBjb3VsZCBtYXliZSBiZSB0d2Vha2VkIHNsaWdodGx5IGluIG9yZGVyIHRvIGF1dG8tZmlsbFxuICAgICAgICAvLyBhIFwiY2hhbmdlIHBhc3N3b3JkXCIgZm9ybSBpZiB3ZSBldmVyIG1hbmFnZSB0byBtYWtlIHRoYXQgYXV0b21hdGVkXG5cbiAgICAgICAgLy8gKHNjb3JlIGlzIHJlZHVjZWQgYnkgb25lIGZvciBlYWNoIHBvc2l0aW9uIHdlIGZpbmQgaW4gdGhlIGZvcm0gLSB0aGlzIGdpdmVzXG4gICAgICAgIC8vIGEgc2xpZ2h0IHByaW9yaXR5IHRvIGZpZWxkcyBhdCB0aGUgdG9wIG9mIGEgZm9ybSB3aGljaCBjYW4gYmUgdXNlZnVsIG9jY2FzaW9uYWxseSlcblxuICAgICAgICBmaWVsZFNjb3JlTWF0cml4LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLnNjb3JlIC0gYS5zY29yZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVtZW1iZXIgd2hhdCB3ZSd2ZSBmaWxsZWQgaW4gc28gd2UgY2FuIG1ha2UgbW9yZSBhY2N1cmF0ZSBkZWNpc2lvbnMgd2hlblxuICAgICAgICAvLyB0aGUgZm9ybSBpcyBzdWJtaXR0ZWQgbGF0ZXIuIFdlIHJlc2lzdCB0aGUgdXJnZSB0aGUgaW5kZXggYnkgZWxlbWVudCBJRCBvclxuICAgICAgICAvLyB0aGUgRE9NZWxlbWVudCBpdHNlbGYgYmVjYXVzZSBzb21lIHdlYnNpdGVzIGRvIG5vdCBzcGVjaWZ5IGFuIElEIGFuZCBzb21lXG4gICAgICAgIC8vIG1heSByZW1vdmUgdGhlIERPTWVsZW1lbnQgYmVmb3JlIHdlIHN1Ym1pdCB0aGUgZm9ybSAoc29tZXRpbWVzIHVuZGVyIHVzZXJcbiAgICAgICAgLy8gZGlyZWN0aW9uIGJ1dCBvY2Nhc2lvbmFsbHkgYXV0b21hdGljYWxseSB0b28pXG4gICAgICAgIGNvbnN0IGZpbGxlZEZpZWxkczogRmlsbGVkRmllbGRbXSA9IFtdO1xuXG4gICAgICAgIC8vIEtlZXAgZmlsbGluZyBpbiBmaWVsZHMgdW50aWwgd2UgZmluZCBubyBtb3JlIHdpdGggYSBwb3NpdGl2ZSBzY29yZVxuICAgICAgICB3aGlsZSAoZmllbGRTY29yZU1hdHJpeC5sZW5ndGggPiAwICYmIGZpZWxkU2NvcmVNYXRyaXhbMF0uc2NvcmUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBmZmkgPSBmaWVsZFNjb3JlTWF0cml4WzBdLmZvcm1GaWVsZEluZGV4O1xuICAgICAgICAgICAgY29uc3QgZGZpID0gZmllbGRTY29yZU1hdHJpeFswXS5kYXRhRmllbGRJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1GaWVsZCA9IGZvcm1GaWVsZHNbZmZpXTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFGaWVsZCA9IGRhdGFGaWVsZHNbZGZpXTtcbiAgICAgICAgICAgIGNvbnN0IGRvbUVsZW1lbnQgPSBmb3JtRmllbGQuRE9NZWxlbWVudDtcblxuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5nZXRGb3JtRmllbGRDdXJyZW50VmFsdWUoXG4gICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICBmb3JtRmllbGQuZmllbGQubG9jYXRvcnNbMF0udHlwZVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGF1dG9tYXRlZCAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSAhPT0gKGRvbUVsZW1lbnQgYXMgYW55KS5rZWVJbml0aWFsRGV0ZWN0ZWRWYWx1ZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgICAgXCJOb3QgZmlsbGluZyBmaWVsZCBiZWNhdXNlIGl0J3Mgbm90IGVtcHR5IGFuZCB3YXMgZWRpdGVkIGJ5IHVzZXIgc2luY2UgbGFzdCBsb2FkL2ZpbGxcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIGF1dG9tYXRlZCAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSAmJlxuICAgICAgICAgICAgICAgICFjb25maWdNYW5hZ2VyLmN1cnJlbnQuYXV0b0ZpbGxGaWVsZHNXaXRoRXhpc3RpbmdWYWx1ZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgICAgXCJOb3QgZmlsbGluZyBmaWVsZCBiZWNhdXNlIGl0J3Mgbm90IGVtcHR5IGFuZCB1c2VyIHByZWZlcmVuY2UgaXMgdG8gcHJldmVudCBhdXRvbWF0aWMgZmlsbFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgICAgXCJXZSB3aWxsIHBvcHVsYXRlIGZpZWxkIFwiICsgZmZpICsgXCIgKGlkOlwiICsgZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLmlkICsgXCIpXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsbEFTaW5nbGVGaWVsZChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFGaWVsZC52YWx1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbGxlZEZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLmlkLFxuICAgICAgICAgICAgICAgIERPTWVsZW1lbnQ6IGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgbmFtZTogZm9ybUZpZWxkLmZpZWxkLmxvY2F0b3JzWzBdLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRhdGFGaWVsZC52YWx1ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZpZWxkU2NvcmVNYXRyaXggPSBmaWVsZFNjb3JlTWF0cml4LmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmRhdGFGaWVsZEluZGV4ICE9IGRmaSAmJiBlbGVtZW50LmZvcm1GaWVsZEluZGV4ICE9IGZmaTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmaWVsZFNjb3JlTWF0cml4LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYi5zY29yZSAtIGEuc2NvcmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsbGVkRmllbGRzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Rm9ybUZpZWxkQ3VycmVudFZhbHVlKFxuICAgICAgICBkb21FbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQsXG4gICAgICAgIGZpZWxkVHlwZTogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIGxldCBjdXJyZW50VmFsdWUgPSBkb21FbGVtZW50LnZhbHVlO1xuICAgICAgICBpZiAoZG9tRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgZmllbGRUeXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgIGlmIChkb21FbGVtZW50LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfVFJVRVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBcIktFRUZPWF9DSEVDS0VEX0ZMQUdfRkFMU0VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlsbEFTaW5nbGVGaWVsZChcbiAgICAgICAgZG9tRWxlbWVudDogSFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50LFxuICAgICAgICBmaWVsZFR5cGU6IHN0cmluZyxcbiAgICAgICAgdmFsdWU6IHN0cmluZ1xuICAgICkge1xuICAgICAgICBpZiAoZmllbGRUeXBlID09IFwic2VsZWN0LW9uZVwiKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9tRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgZmllbGRUeXBlID09IFwiY2hlY2tib3hcIikge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiS0VFRk9YX0NIRUNLRURfRkxBR19UUlVFXCIpIGRvbUVsZW1lbnQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGRvbUVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGRvbUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGZpZWxkVHlwZSA9PSBcInJhZGlvXCIpIHtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvL1RPRE86NDogSW52ZXN0aWdhdGUgYW5kIGRvY3VtZW50IHdoeSB3ZSdyZSBub3QgdXNpbmcgZGF0YSBhdHRyaWJ1dGVzIHRvIHN0b3JlIHRoaXMgc3RyaW5nIGluIHRoZSBET01cbiAgICAgICAgKGRvbUVsZW1lbnQgYXMgYW55KS5rZWVJbml0aWFsRGV0ZWN0ZWRWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIGRvbUVsZW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBVSUV2ZW50KFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgIHZpZXc6IHdpbmRvdyxcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGRvbUVsZW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBVSUV2ZW50KFwiY2hhbmdlXCIsIHtcbiAgICAgICAgICAgICAgICB2aWV3OiB3aW5kb3csXG4gICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlsbE1hbnlGb3JtRmllbGRzKFxuICAgICAgICBmb3JtRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgZGF0YUZpZWxkczogRmllbGRbXSxcbiAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgIHNjb3JlQ29uZmlnOiBGaWVsZE1hdGNoU2NvcmVDb25maWcsXG4gICAgICAgIGF1dG9tYXRlZDogYm9vbGVhblxuICAgICkge1xuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIl9maWxsTWFueUZvcm1GaWVsZHMgc3RhcnRlZFwiKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBmb3JtRmllbGRzID09IG51bGwgfHxcbiAgICAgICAgICAgIGZvcm1GaWVsZHMgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBkYXRhRmllbGRzID09IG51bGwgfHxcbiAgICAgICAgICAgIGRhdGFGaWVsZHMgPT0gdW5kZWZpbmVkXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJXZSd2ZSByZWNlaXZlZCB0aGUgZGF0YSB3ZSBuZWVkXCIpO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJGaWxsaW5nIGZvcm0gZmllbGRzIGZvciBwYWdlIFwiICsgY3VycmVudFBhZ2UpO1xuXG4gICAgICAgIC8vIHdlIHRyeSB0byBmaWxsIGV2ZXJ5IGZvcm0gZmllbGQuIFdlIHRyeSB0byBtYXRjaCBieSBpZCBmaXJzdCBhbmQgdGhlbiBuYW1lIGJlZm9yZSBqdXN0IGd1ZXNzaW5nLlxuICAgICAgICAvLyBHZW5lcmFsbHkgd2UnbGwgb25seSBmaWxsIGlmIHRoZSBtYXRjaGVkIGZpZWxkIGlzIG9mIHRoZSBzYW1lIHR5cGUgYXMgdGhlIGZvcm0gZmllbGQgYnV0XG4gICAgICAgIC8vIHdlIGFyZSBmbGV4aWJsZSBSRSB0ZXh0IGFuZCB1c2VybmFtZSBmaWVsZHMgYmVjYXVzZSB0aGF0J3MgYW4gYXJ0aWZpY2lhbCBkaWZmZXJlbmNlXG4gICAgICAgIC8vIGZvciB0aGUgc2FrZSBvZiB0aGUgS2VlIHBhc3N3b3JkIG1hbmFnZW1lbnQgc29mdHdhcmUuIEhvd2V2ZXIsIHVzZXJuYW1lcyB3aWxsIGJlIGNob3NlbiBhYm92ZVxuICAgICAgICAvLyB0ZXh0IGZpZWxkcyBpZiBhbGwgZWxzZSBpcyBlcXVhbFxuICAgICAgICBjb25zdCBmaWVsZFNjb3JlTWF0cml4ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3JtRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRhdGFGaWVsZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuY2FsY3VsYXRlRmllbGRNYXRjaFNjb3JlKFxuICAgICAgICAgICAgICAgICAgICBmb3JtRmllbGRzW2ldLFxuICAgICAgICAgICAgICAgICAgICBkYXRhRmllbGRzW2pdLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVDb25maWdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIlN1aXRhYmlsaXR5IG9mIHB1dHRpbmcgZGF0YSBmaWVsZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBqICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGludG8gZm9ybSBmaWVsZCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIChpZDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkc1tpXS5maWVsZC5sb2NhdG9yc1swXS5pZCArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIikgaXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGZpZWxkU2NvcmVNYXRyaXgucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHNjb3JlOiBzY29yZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUZpZWxkSW5kZXg6IGosXG4gICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZEluZGV4OiBpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5maWxsTWF0Y2hlZEZpZWxkcyhmaWVsZFNjb3JlTWF0cml4LCBkYXRhRmllbGRzLCBmb3JtRmllbGRzLCBhdXRvbWF0ZWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdE1hdGNoUmVzdWx0KGJlaGF2aW91cjogRmluZE1hdGNoZXNCZWhhdmlvdXIpIHtcbiAgICAgICAgLy9UT0RPOjQ6ICM2IGNyZWF0ZSBuZXcgb2JqZWN0IG1pZ2h0IGNhdXNlIGlzc3VlcyB3aXRoIG11bHRpLXBhZ2Ugb3Igc3VibWl0IGJlaGF2aW91cj8gaWYgbm90LCB0aGlzIHdvdWxkIGJlIG5lYXRlcjpcbiAgICAgICAgLy8gbWF0Y2hSZXN1bHQgPSBuZXcgTWF0Y2hSZXN1bHQoKTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5VVUlEID0gXCJcIjtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5lbnRyaWVzID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm11c3RBdXRvRmlsbEZvcm0gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5jYW5ub3RBdXRvRmlsbEZvcm0gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5tdXN0QXV0b1N1Ym1pdEZvcm0gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5jYW5ub3RBdXRvU3VibWl0Rm9ybSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChiZWhhdmlvdXIuVVVJRCAhPSB1bmRlZmluZWQgJiYgYmVoYXZpb3VyLlVVSUQgIT0gbnVsbCAmJiBiZWhhdmlvdXIuVVVJRCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAvLyBLZWVwIGEgcmVjb3JkIG9mIHRoZSBzcGVjaWZpYyBlbnRyeSB3ZSBhcmUgZ29pbmcgdG8gc2VhcmNoIGZvciAod2UgZGVsZXRlXG4gICAgICAgICAgICAvLyB0aGUgdGFic3RhdGUgYmVsb3cgYW5kIHJlLWNyZWF0ZSBpdCBkdXJpbmcgZm9ybSBmaWxsKVxuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5VVUlEID0gYmVoYXZpb3VyLlVVSUQ7XG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmRiRmlsZU5hbWUgPSBiZWhhdmlvdXIuZGJGaWxlTmFtZTtcblxuICAgICAgICAgICAgLy8gd2Ugd2FudCB0byBmaWxsIHRoZSBmb3JtIHdpdGggdGhpcyBkYXRhXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm11c3RBdXRvRmlsbEZvcm0gPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoYmVoYXZpb3VyLm11c3RBdXRvU3VibWl0Rm9ybSkgdGhpcy5tYXRjaFJlc3VsdC5tdXN0QXV0b1N1Ym1pdEZvcm0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5kb2MgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5mb3JtUmVhZHlGb3JTdWJtaXQgPSBmYWxzZTsgLy8gdHJhY2tzIHdoZXRoZXIgd2UgYWN0dWFsbHkgYXV0by1maWxsIG9uIHRoaXMgcGFnZVxuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmF1dG9maWxsT25TdWNjZXNzID0gYmVoYXZpb3VyLmF1dG9maWxsT25TdWNjZXNzO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmF1dG9zdWJtaXRPblN1Y2Nlc3MgPSBiZWhhdmlvdXIuYXV0b3N1Ym1pdE9uU3VjY2VzcztcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5ub3RpZnlVc2VyT25TdWNjZXNzID0gYmVoYXZpb3VyLm5vdGlmeVVzZXJPblN1Y2Nlc3M7XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQud3JhcHBlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5hbGxNYXRjaGluZ0xvZ2lucyA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5zdWJtaXRUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQudXNlcm5hbWVJbmRleEFycmF5ID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hSZXN1bHQucGFzc3dvcmRGaWVsZHNBcnJheSA9IFtdO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5yZXF1ZXN0Q291bnQgPSAwO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnJlc3BvbnNlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnJlcXVlc3RJZHMgPSBbXTsgLy8gdGhlIEpTT05SUEMgcmVxdWVzdCBJZHMgdGhhdCByZWZlcmVuY2UgdGhpcyBtYXRjaFJlc3VsdCBvYmplY3QgKHRvIGFsbG93IGRlbGV0aW9uIGFmdGVyIGFzeW5jIGNhbGxiYWNrIHByb2Nlc3NpbmcpXG4gICAgfVxuXG4gICAgLyogRXhwZWN0cyB0aGlzIGRhdGEgb2JqZWN0OlxuICAgIHtcbiAgICAgICAgYXV0b2ZpbGxPblN1Y2Nlc3M6IHRydWUsIC8vIFRoaXMgd29uJ3Qgb3ZlcnJpZGUgb3RoZXIgY29uZmlndXJhdGlvbiBvcHRpb25zIGlmIHRydWUgYnV0IGlmIGZhbHNlIGl0IHdpbGwuXG4gICAgICAgIGF1dG9zdWJtaXRPblN1Y2Nlc3M6IHRydWUsIC8vIFRoaXMgd29uJ3Qgb3ZlcnJpZGUgb3RoZXIgY29uZmlndXJhdGlvbiBvcHRpb25zIGlmIHRydWUgYnV0IGlmIGZhbHNlIGl0IHdpbGwuXG4gICAgICAgIG5vdGlmeVVzZXJPblN1Y2Nlc3M6IHRydWUsIC8vIGUuZy4gdXNlZCB3aGVuIHBlcmlvZGljIGZvcm0gcG9sbGluZyBmaW5kcyBhIGZvcm0gYWZ0ZXIgdGhlIHBhZ2UgaGFzIGxvYWRlZC5cbiAgICAgICAgLi4uIG90aGVyc1xuICAgIH1cbiAgICAqL1xuICAgIHB1YmxpYyBmaW5kTWF0Y2hlc0luVGhpc0ZyYW1lKGJlaGF2aW91cjogRmluZE1hdGNoZXNCZWhhdmlvdXIgPSB7fSkge1xuICAgICAgICB0aGlzLnNlbWFudGljV2hpdGVsaXN0Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlID0ge307XG5cbiAgICAgICAgLy8gV2hldGhlciBvciBub3QgdGhpcyB3YXMgaW52b2tlZCBhcyBhIHJlc3VsdCBvZiBhIERPTSBtdXRhdGlvbiwgd2Ugd29uJ3QgbmVlZCB0aGUgdGltZXIgdG8gZmlyZSBhbnltb3JlXG4gICAgICAgIGlmICh0aGlzLmZvcm1GaW5kZXJUaW1lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZm9ybUZpbmRlclRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuZm9ybUZpbmRlclRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aW5kb3cuZG9jdW1lbnQuZm9ybXMubGVuZ3RoID4gNTApIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgIFwiVG9vIG1hbnkgZm9ybXMgb24gdGhpcyBwYWdlLiBBc3N1bWluZyBpdCBpcyBub3QgYSBsb2dpbiBwYWdlXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBhbmQgYXZvaWRpbmcgbG9va2luZyBmb3IgbG9naW4gZm9ybXMgaW4gb3JkZXIgdG8gYXZvaWQgcGVyZm9ybWFuY2UgaW1wYWN0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FuJ3QgYXBwZW5kIHRvIGEgSFRNTENvbGxlY3Rpb24gYnV0IGFsbCB3ZSByZWFsbHkgdXNlIGl0IGZvciBpcyBpdGVyYXRpb25cbiAgICAgICAgLy8gYW5kIGxlbmd0aCBzbyBjb252ZXJ0aW5nIHRvIGFuIGFycmF5IHNvbWV0aW1lcyB3aWxsIGNhdXNlIG5vIGlzc3Vlc1xuICAgICAgICBsZXQgZm9ybXMgPSBuZXcgQXJyYXk8SFRNTEZvcm1FbGVtZW50PigpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbmRvdy5kb2N1bWVudC5mb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9ybXMucHVzaCh3aW5kb3cuZG9jdW1lbnQuZm9ybXMuaXRlbShpKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3JjaW5nIGEgc2NhbiBmb3Igb3JwaGFuZWQgZmllbGRzIG9uIGFsbCBwYWdlcy4gTWF5IG5lZWQgdG8gY2hhbmdlXG4gICAgICAgIC8vIHRoaXMgaWYgcmVhbCB3b3JsZCBwZXJmb3JtYW5jZSBpcyB0b28gc2xvdy5cbiAgICAgICAgY29uc3QgcHNldWRvRm9ybSA9IHRoaXMuc2NhbkZvck9ycGhhbmVkRmllbGRzKHdpbmRvdy5kb2N1bWVudCk7XG4gICAgICAgIGlmIChwc2V1ZG9Gb3JtKSB7XG4gICAgICAgICAgICBmb3JtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZvcm1zKTtcbiAgICAgICAgICAgIGZvcm1zLnB1c2gocHNldWRvRm9ybSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvcm1zIHx8IGZvcm1zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiTm8gZm9ybXMgZm91bmQgb24gdGhpcyBwYWdlLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmRvY3VtZW50LlVSTCk7XG4gICAgICAgIHVybC5ob3N0bmFtZSA9IHB1bnljb2RlLnRvVW5pY29kZSh1cmwuaG9zdG5hbWUpO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICBcIkZpbmRpbmcgbWF0Y2hlcyBpbiBhIGRvY3VtZW50LiByZWFkeVN0YXRlOiBcIiArIHdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5pbml0TWF0Y2hSZXN1bHQoYmVoYXZpb3VyKTtcbiAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5mb3JtcyA9IGZvcm1zO1xuXG4gICAgICAgIGNvbnN0IGNvbmYgPSBjb25maWdNYW5hZ2VyLnNpdGVDb25maWdGb3IodXJsLmhyZWYpO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZmluZE1hdGNoZXMgcHJvY2Vzc2luZyBcIiArIGZvcm1zLmxlbmd0aCArIFwiIGZvcm1zXCIpO1xuXG4gICAgICAgIGxldCBzZWFyY2hTZW50VG9LZWVQYXNzID0gZmFsc2U7XG5cbiAgICAgICAgLy8gRm9yIGV2ZXJ5IGZvcm0sIGluY2x1ZGluZyBhbnkgcHNldWRvIGZvcm1zIHdlIGNyZWF0ZWQgZWFybGllclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmb3JtID0gZm9ybXNbaV07XG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmVudHJpZXNbaV0gPSBbXTtcblxuICAgICAgICAgICAgLy8gdGhlIG92ZXJhbGwgcmVsZXZhbmNlIG9mIHRoaXMgZm9ybSBpcyB0aGUgbWF4aW11bSBvZiBpdCdzXG4gICAgICAgICAgICAvLyBtYXRjaGluZyBlbnRyaWVzIChzbyB3ZSBmaWxsIHRoZSBtb3N0IHJlbGV2YW50IGZvcm0pXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXNbaV0gPSAwO1xuXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImFib3V0IHRvIGdldCBmb3JtIGZpZWxkc1wiKTtcbiAgICAgICAgICAgIGxldCBzY2FuUmVzdWx0OiB7XG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHM6IE1hdGNoZWRGaWVsZFtdO1xuICAgICAgICAgICAgICAgIGFjdHVhbFVzZXJuYW1lSW5kZXg/OiBudW1iZXI7XG4gICAgICAgICAgICAgICAgcHdGaWVsZHM/OiBNYXRjaGVkRmllbGRbXTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNjYW5SZXN1bHQgPSB0aGlzLmZvcm1VdGlscy5nZXRGb3JtRmllbGRzKGZvcm0sIGZhbHNlLCA1MCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJMb3N0IGludGVyZXN0IGluIHRoaXMgZm9ybSBhZnRlciBmaW5kaW5nIHRvbyBtYW55IGZpZWxkc1wiICsgZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZUluZGV4ID0gc2NhblJlc3VsdC5hY3R1YWxVc2VybmFtZUluZGV4O1xuICAgICAgICAgICAgY29uc3QgcGFzc3dvcmRGaWVsZHMgPSBzY2FuUmVzdWx0LnB3RmllbGRzO1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJGaWVsZHMgPSBzY2FuUmVzdWx0Lm90aGVyRmllbGRzO1xuXG4gICAgICAgICAgICAvLyBXZSB3YW50IHRvIGZpbGwgaW4gdGhpcyBmb3JtIGlmIHdlIGZpbmQgYSBwYXNzd29yZCBmaWVsZCBidXQgZmlyc3RcbiAgICAgICAgICAgIC8vIHdlIGNoZWNrIHdoZXRoZXIgYW55IHdoaXRlbGlzdCBvciBibGFja2xpc3QgZW50cmllcyBtdXN0IG92ZXJyaWRlIHRoYXQgYmVoYXZpb3VyXG4gICAgICAgICAgICBsZXQgaW50ZXJlc3RpbmdGb3JtOiBib29sZWFuID0gbnVsbDtcblxuICAgICAgICAgICAgaW50ZXJlc3RpbmdGb3JtID0gY29uZmlnTWFuYWdlci5pc0Zvcm1JbnRlcmVzdGluZyhcbiAgICAgICAgICAgICAgICBmb3JtLFxuICAgICAgICAgICAgICAgIGNvbmYsXG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHMubWFwKGYgPT4gZi5maWVsZClcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpbnRlcmVzdGluZ0Zvcm0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgICAgIFwiTG9zdCBpbnRlcmVzdCBpbiB0aGlzIGZvcm0gYWZ0ZXIgaW5zcGVjdGluZyBmaWVsZCBuYW1lcyBhbmQgSURzXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBub1Bhc3N3b3JkRmllbGQgPVxuICAgICAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzID09IG51bGwgfHwgcGFzc3dvcmRGaWVsZHMubGVuZ3RoIDw9IDAgfHwgcGFzc3dvcmRGaWVsZHNbMF0gPT0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG5vT3RoZXJGaWVsZCA9XG4gICAgICAgICAgICAgICAgdXNlcm5hbWVJbmRleCA8IDAgfHxcbiAgICAgICAgICAgICAgICBvdGhlckZpZWxkcyA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHMubGVuZ3RoIDw9IDAgfHxcbiAgICAgICAgICAgICAgICBvdGhlckZpZWxkc1t1c2VybmFtZUluZGV4XSA9PSBudWxsO1xuXG4gICAgICAgICAgICBpZiAobm9QYXNzd29yZEZpZWxkICYmIChub090aGVyRmllbGQgfHwgaW50ZXJlc3RpbmdGb3JtICE9PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIk5vIHBhc3N3b3JkIGZpZWxkIGZvdW5kIGluIHRoaXMgZm9ybSBhbmQgZWl0aGVyIHRoZXJlIGFyZSBubyBvdGhlclwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGZpZWxkcyBvciBubyB3aGl0ZWxpc3RlZCB0ZXh0IGZpZWxkIG9yIGZvcm0gZWxlbWVudFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHN1Ym1pdFRhcmdldE5laWdoYm91cjogSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAobm9QYXNzd29yZEZpZWxkKSB7XG4gICAgICAgICAgICAgICAgc3VibWl0VGFyZ2V0TmVpZ2hib3VyID0gb3RoZXJGaWVsZHNbdXNlcm5hbWVJbmRleF0uRE9NZWxlbWVudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3VibWl0VGFyZ2V0TmVpZ2hib3VyID0gcGFzc3dvcmRGaWVsZHNbMF0uRE9NZWxlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hdHRhY2hTdWJtaXRIYW5kbGVycyhmb3JtLCBzdWJtaXRUYXJnZXROZWlnaGJvdXIsIGkpO1xuXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnVzZXJuYW1lSW5kZXhBcnJheVtpXSA9IHVzZXJuYW1lSW5kZXg7XG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXlbaV0gPSBwYXNzd29yZEZpZWxkcztcbiAgICAgICAgICAgIHRoaXMubWF0Y2hSZXN1bHQub3RoZXJGaWVsZHNBcnJheVtpXSA9IG90aGVyRmllbGRzO1xuICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5zdWJtaXRUYXJnZXRzW2ldID0gc3VibWl0VGFyZ2V0TmVpZ2hib3VyO1xuXG4gICAgICAgICAgICAvLyBUaGUgZW50cmllcyByZXR1cm5lZCBmcm9tIEtlZVBhc3MgZm9yIGV2ZXJ5IGZvcm0gd2lsbCBiZSBpZGVudGljYWwgKGJhc2VkIG9uIHRhYi9mcmFtZSBVUkwpXG4gICAgICAgICAgICBpZiAoIXNlYXJjaFNlbnRUb0tlZVBhc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmRMb2dpbk9wLmZvcm1zID0gZm9ybXM7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5kTG9naW5PcC5mb3JtSW5kZXhlcyA9IFtpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmRMb2dpbk9wLndyYXBwZWRCeSA9IHRoaXMubWF0Y2hSZXN1bHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC53cmFwcGVyc1tpXSA9IHRoaXMuZmluZExvZ2luT3A7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaFJlc3VsdC5yZXF1ZXN0Q291bnQrKztcblxuICAgICAgICAgICAgICAgIC8vIFNlYXJjaCBmb3IgbWF0Y2hpbmcgZW50cmllcyBmb3IgdGhlIHJlbGV2YW50IFVSTC4gVGhpcyByZXF1ZXN0IGlzIGFzeW5jaHJvbm91cy5cbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoRmluZGVyKHVybC5ocmVmKTtcbiAgICAgICAgICAgICAgICBzZWFyY2hTZW50VG9LZWVQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJmb3JtW1wiICsgaSArIFwiXTogcmV1c2luZyBlbnRyaWVzIGZyb20gbGFzdCBmb3JtLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmRMb2dpbk9wLmZvcm1JbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gLy8gZW5kIG9mIGZvcm0gZm9yIGxvb3BcbiAgICB9XG5cbiAgICAvLyBJdCdzIE9LIGZvciB0aGlzIHRvIHRha2UgYSBmZXcgc2Vjb25kcyAtIGh1bWFucyBjYW4ndCB0eXBlIHRoYXQgZmFzdC5cbiAgICAvLyBCeSBtYWtpbmcgdGhpcyBhc3luYyB3ZSBhbGxvdyB0aGUgc2VhcmNoIGZvciBlbnRyaWVzIHRvIGJlZ2luIGVhcmxpZXJcbiAgICAvLyBhbmQgcmVkdWNlIHBlcmNlaXZlZCBpbXBhY3Qgb24gcGFnZSBsb2FkIHRpbWVcbiAgICBwcml2YXRlIGFzeW5jIGF0dGFjaFN1Ym1pdEhhbmRsZXJzKFxuICAgICAgICBmb3JtOiBIVE1MRm9ybUVsZW1lbnQsXG4gICAgICAgIHN1Ym1pdFRhcmdldE5laWdoYm91cjogSFRNTEVsZW1lbnQsXG4gICAgICAgIGZvcm1OdW1iZXI6IG51bWJlclxuICAgICkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgY29uc3Qgc3VibWl0VGFyZ2V0ID0gdGhpcy5maW5kU3VibWl0QnV0dG9uKGZvcm0sIHN1Ym1pdFRhcmdldE5laWdoYm91cik7XG4gICAgICAgICAgICB0aGlzLmZvcm1TYXZpbmcuYWRkU3VibWl0SGFuZGxlcihzdWJtaXRUYXJnZXQsIGZvcm0pO1xuICAgICAgICAgICAgS2VlTG9nLmluZm8oXG4gICAgICAgICAgICAgICAgXCJTdWJtaXQgaGFuZGxlcnMgYXR0YWNoZWQgYXN5bmNocm9ub3VzbHkgdG8gZm9ybSBcIiArXG4gICAgICAgICAgICAgICAgICAgIGZvcm1OdW1iZXIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBpbiBcIiArXG4gICAgICAgICAgICAgICAgICAgIChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0KSArXG4gICAgICAgICAgICAgICAgICAgIFwibXNcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgS2VlTG9nLndhcm4oXCJFeGNlcHRpb24gd2hpbGUgYWRkaW5nIHN1Ym1pdCBoYW5kbGVyLiBNZXNzYWdlOiBcIiArIGUubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNjYW5Gb3JPcnBoYW5lZEZpZWxkcyhkb2MpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBvcnBoYW5lZEZpZWxkcyA9IFtdO1xuICAgICAgICBsZXQgcHNldWRvRm9ybSA9IG51bGw7XG5cbiAgICAgICAgLy8gbXVjaCBmYXN0ZXIgdGhhbiBxdWVyeVNlbGVjdG9yQWxsXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIik7XG4gICAgICAgIGZvciAoY29uc3QgdGFnIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoIXRhZy5mb3JtKSBvcnBoYW5lZEZpZWxkcy5wdXNoKHRhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3JwaGFuZWRGaWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcHNldWRvRm9ybSA9IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50czogb3JwaGFuZWRGaWVsZHMsXG4gICAgICAgICAgICAgICAgaWQ6IFwiS2VlLXBzZXVkby1mb3JtXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJLZWUtcHNldWRvLWZvcm1cIixcbiAgICAgICAgICAgICAgICBvd25lckRvY3VtZW50OiBkb2MsXG4gICAgICAgICAgICAgICAgZ2V0RWxlbWVudHNCeVRhZ05hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHM7XG4gICAgICAgICAgICAgICAgfSwgLy8gT25seSB1c2UgaXMgZm9yIGxpc3RpbmcgaW5wdXQgZWxlbWVudHNcbiAgICAgICAgICAgICAgICBxdWVyeVNlbGVjdG9yQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9LCAvLyBPbmx5IHVzZSBpcyBmb3IgbGlzdGluZyBidXR0b24gZWxlbWVudHNcbiAgICAgICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0sIC8vIE5vdCBwb3NzaWJsZSB0byBzdWJtaXQgYSBwc2V1ZG8gZm9ybSB1bmxlc3MgYSBidXR0b24gd2l0aCBjdXN0b20gSlMgaGFzIGFscmVhZHkgYmVlbiBmb3VuZFxuICAgICAgICAgICAgICAgIG9mZnNldFBhcmVudDogdHJ1ZSwgLy8gVGhpcyB0cmlja3MgZWxlbWVudCB2aXNpYmlsaXR5IGNoZWNrcyBpbnRvIHRyZWF0aW5nIHRoaXMgYXMgdmlzaWJsZSB0byB0aGUgdXNlclxuICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0sIC8vVE9ETzo0OiBob29rIHVwIHRvIHRoZSBzdWJtaXQgZnVuY3Rpb24gdG8gc2ltdWxhdGUgcmVhbCBmb3JtIHN1Ym1pc3Npb25cbiAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzY2FuRm9yT3JwaGFuZWRGaWVsZHMgdG9vazogXCIgKyAodG4gLSB0KSk7XG5cbiAgICAgICAgcmV0dXJuIHBzZXVkb0Zvcm07XG4gICAgfVxuXG4gICAgcHVibGljIGZpbmRMb2dpbnNSZXN1bHRIYW5kbGVyKGVudHJpZXM6IEVudHJ5W10pIHtcbiAgICAgICAgaWYgKCFlbnRyaWVzKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbGlkRW50cmllcyA9IGVudHJpZXMuZmlsdGVyKFxuICAgICAgICAgICAgZSA9PiBFbnRyeS5nZXRVc2VybmFtZUZpZWxkKGUpIHx8IEVudHJ5LmdldFBhc3N3b3JkRmllbGQoZSlcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0ID0gdGhpcy5nZXRSZWxldmFuY2VPZkxvZ2luTWF0Y2hlc0FnYWluc3RBbGxGb3JtcyhcbiAgICAgICAgICAgIHZhbGlkRW50cmllcyxcbiAgICAgICAgICAgIHRoaXMuZmluZExvZ2luT3AsXG4gICAgICAgICAgICB0aGlzLm1hdGNoUmVzdWx0XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5maWxsQW5kU3VibWl0KHRydWUpO1xuICAgIH1cblxuICAgIGdldFJlbGV2YW5jZU9mTG9naW5NYXRjaGVzQWdhaW5zdEFsbEZvcm1zKFxuICAgICAgICBlbnRyaWVzOiBFbnRyeVtdLFxuICAgICAgICBmaW5kTG9naW5PcCxcbiAgICAgICAgbWF0Y2hSZXN1bHQ6IE1hdGNoUmVzdWx0XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGNyU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZW50cmllcyk7XG4gICAgICAgIGxldCBmaXJzdE1hdGNoUHJvY2Vzc2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaW5kTG9naW5PcC5mb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gU2tpcCBhbnkgZm9ybSB0aGF0IHdlIGRvbid0IHdhbnQgdG8gbWF0Y2ggYWdhaW5zdCB0aGlzIHNldCBvZiBlbnRyaWVzXG4gICAgICAgICAgICBpZiAoZmluZExvZ2luT3AuZm9ybUluZGV4ZXMuaW5kZXhPZihpKSA9PSAtMSkgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgZm9ybSwgd2UgaGF2ZSB0byB3b3JrIHdpdGggY2xvbmVzIG9mIHRoZSBlbnRyeSBzb1xuICAgICAgICAgICAgLy8gdGhhdCB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGUgcmVsZXZhbmN5IHNjb3JlcywgZXRjLiBpbmRlcGVuZGVudGx5IGZvciBlYWNoXG4gICAgICAgICAgICAvLyBmb3JtIGFuZCBlbnRyeSBjb21iaW5hdGlvbi4gV2UgY291bGQgYmUgbW9yZSBlZmZpY2llbnQgZm9yIHRoZSBjb21tb24gY2FzZSBvZiAxIGZvcm1cbiAgICAgICAgICAgIC8vIGJ5IGF2b2lkaW5nIHRoZSBjbG9uZSB0aGVuIGJ1dCBrZWVwaW5nIHRoZSBzYW1lIGJlaGF2aW91ciBnaXZlcyB1cyBhIGhpZ2hlciBjaGFuY2VcbiAgICAgICAgICAgIC8vIG9mIG5vdGljaW5nIGJ1Z3MuXG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldID0gSlNPTi5wYXJzZShjclN0cmluZyk7IC8vVE9ETzo0OiBmYXN0ZXIgY2xvbmU/IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0d1aWRlL0FQSS9ET00vVGhlX3N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtID9cblxuICAgICAgICAgICAgLy8gTm90aGluZyB0byBkbyBpZiB3ZSBoYXZlIG5vIG1hdGNoaW5nIGVudHJpZXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKG1hdGNoUmVzdWx0LmVudHJpZXNbaV0ubGVuZ3RoID09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwibWF0Y2ggZm91bmQhXCIpO1xuXG4gICAgICAgICAgICBjb25zdCBmb3JtVmlzaWJsZSA9IHRoaXMuZm9ybVV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUobWF0Y2hSZXN1bHQuc3VibWl0VGFyZ2V0c1tpXSk7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImZvcm1WaXNpYmxlOiBcIiArIGZvcm1WaXNpYmxlKTtcblxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZUZpZWxkQ2FjaGUgPSB7XG4gICAgICAgICAgICAgICAgb3RoZXI6IG1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXlbaV0ubWFwKGYgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtVXRpbHMuaXNET01FbGVtZW50VmlzaWJsZShmLkRPTWVsZW1lbnQpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogbWF0Y2hSZXN1bHQucGFzc3dvcmRGaWVsZHNBcnJheVtpXS5tYXAoZiA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1VdGlscy5pc0RPTUVsZW1lbnRWaXNpYmxlKGYuRE9NZWxlbWVudClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIHJlbGV2YW5jZSBvZiBlYWNoIGVudHJ5IHRvIHRoaXMgZm9ybVxuICAgICAgICAgICAgLy8gd2UgY291bGQgc2tpcCB0aGlzIHdoZW4gYXV0b2ZpbGxpbmcgYmFzZWQgb24gdXVpZCBidXQgd2Ugd291bGQgaGF2ZSB0byBjaGVjayBmb3JcbiAgICAgICAgICAgIC8vIG1hdGNoZXMgZmlyc3Qgb3IgZWxzZSB3ZSByaXNrIG5vIG1hdGNoIGFuZCBubyBhbHRlcm5hdGl2ZSBtYXRjaGluZyBlbnRyaWVzIG9uIHRoZSBtYWluVUlcbiAgICAgICAgICAgIC8vIGFuZCB3ZSBhbHNvIG5vdyBjb25zaWRlciB0aGUgdG90YWxpdHkgb2YgcG9zc2libGUgbWF0Y2hlcyBhZ2FpbnN0IGEgZmllbGQgaW4gb3JkZXJcbiAgICAgICAgICAgIC8vIHRvIGxpbWl0IHdoaWNoIGZpZWxkcyB3ZSBzaG92ZSBhIEtlZSBpY29uIGludG8uXG4gICAgICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IG1hdGNoUmVzdWx0LmVudHJpZXNbaV0ubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN0b3JlLktlZVBhc3NEYXRhYmFzZXMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgZGIgPT4gZGIuZmlsZU5hbWUgPT09IG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0uZGF0YWJhc2UuZmlsZU5hbWVcbiAgICAgICAgICAgICAgICApLnNlc3Npb25GZWF0dXJlcztcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZE1hdGNoU2NvcmVDb25maWc6IEZpZWxkTWF0Y2hTY29yZUNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHVuaXNoV3JvbmdJREFuZE5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5pbmRleE9mKFwiS1BSUENfRklFTERfREVGQVVMVF9OQU1FX0FORF9JRF9FTVBUWVwiKSA+PSAwXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNjb3JlLCBsb3dGaWVsZE1hdGNoUmF0aW8gfSA9IHRoaXMuY2FsY3VsYXRlUmVsZXZhbmNlU2NvcmUoXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0sXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LnBhc3N3b3JkRmllbGRzQXJyYXlbaV0sXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXlbaV0sXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgICAgICAgICBmb3JtVmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlRmllbGRDYWNoZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBjaG9vc2luZyBiZXN0IGZvcm0gc2hvdWxkIG5vdCBiZSBhZmZlY3RlZCBieSBsb3dGaWVsZE1hdGNoUmF0aW8gZW50cnkgc2NvcmVcbiAgICAgICAgICAgICAgICAvLyBidXQgd2hlbiB3ZSBjb21lIHRvIGZpbGwgdGhlIGZvcm0gd2UgY2FuIGZvcmNlIG91cnNlbHZlcyBpbnRvIGEgbm8tYXV0by1maWxsIGJlaGF2aW91ci5cbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLnJlbGV2YW5jZVNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5sb3dGaWVsZE1hdGNoUmF0aW8gPSBsb3dGaWVsZE1hdGNoUmF0aW87XG5cbiAgICAgICAgICAgICAgICAvLyBhbHNvIHNldCB0aGUgZm9ybSBpbmRleCBhbmQgZW50cnkgaW5kZXggb24gdGhlIGludGVybmFsIGVudHJ5IG9iamVjdCBzb1xuICAgICAgICAgICAgICAgIC8vIGl0IHdpbGwgcGVyc2lzdCB3aGVuIGxhdGVyIHBhc3NlZCB0byB0aGUgVUkgYW5kIHdlIGNhbiB1bHRpbWF0ZWx5XG4gICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgc2FtZSBlbnRyeSBvYmplY3Qgd2hlbiBwcm9jZXNzaW5nIGEgbWF0Y2hlZCBlbnRyeVxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV1bdl0uZm9ybUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLmVudHJ5SW5kZXggPSB2O1xuXG4gICAgICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGhlIGJlc3QgZm9ybSBmb3IgZWFjaCBlbnRyeVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgIWZpcnN0TWF0Y2hQcm9jZXNzZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1tpXVt2XS5yZWxldmFuY2VTY29yZSA+XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5hbGxNYXRjaGluZ0xvZ2luc1t2XS5yZWxldmFuY2VTY29yZVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSGlnaGVyIHJlbGV2YW5jZSBzY29yZSBmb3VuZCBmb3IgZW50cnkgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIHdpdGggZm9ybUluZGV4IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdLmZvcm1JbmRleCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kTG9naW5PcC5mb3Jtc1tpXS5pZCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIpXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuYWxsTWF0Y2hpbmdMb2dpbnNbdl0gPSBtYXRjaFJlc3VsdC5lbnRyaWVzW2ldW3ZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpcnN0TWF0Y2hQcm9jZXNzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBiZXN0IGVudHJ5IGZvciB0aGlzIGZvcm1cbiAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbaV0uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIGlmIChjLnJlbGV2YW5jZVNjb3JlID4gbWF0Y2hSZXN1bHQuZm9ybVJlbGV2YW5jZVNjb3Jlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzW2ldID0gYy5yZWxldmFuY2VTY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICAgICAgXCJSZWxldmFuY2Ugb2YgZm9ybSBcIiArXG4gICAgICAgICAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgICAgICAgICBcIiAoXCIgK1xuICAgICAgICAgICAgICAgICAgICBmaW5kTG9naW5PcC5mb3Jtc1tpXS5pZCArXG4gICAgICAgICAgICAgICAgICAgIFwiKSBpcyBcIiArXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXNbaV1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoUmVzdWx0O1xuICAgIH1cblxuICAgIGdldE1vc3RSZWxldmFudEZvcm0oZm9ybUluZGV4PzogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGZpbmRNYXRjaGVzUmVzdWx0ID0gdGhpcy5tYXRjaFJlc3VsdDtcblxuICAgICAgICAvLyBUaGVyZSBtYXkgYmUgbm8gcmVzdWx0cyBmb3IgdGhpcyBmcmFtZSAoZS5nLiBubyBmb3JtcyBmb3VuZCwgc2VhcmNoIGZhaWxlZCwgZXRjLilcbiAgICAgICAgaWYgKCFmaW5kTWF0Y2hlc1Jlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBiZXN0Rm9ybUluZGV4OiAwLFxuICAgICAgICAgICAgICAgIGJlc3RSZWxldmFuY2VTY29yZTogMCxcbiAgICAgICAgICAgICAgICBiZXN0RmluZE1hdGNoZXNSZXN1bHQ6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtb3N0UmVsZXZhbnRGb3JtSW5kZXggPSAwO1xuXG4gICAgICAgIGlmIChmb3JtSW5kZXggPj0gMCkgbW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gZm9ybUluZGV4O1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpbmRNYXRjaGVzUmVzdWx0LmZvcm1SZWxldmFuY2VTY29yZXMuZm9yRWFjaCgoYywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlJlbGV2YW5jZSBvZiBmb3JtIGlzIFwiICsgYyk7XG4gICAgICAgICAgICAgICAgaWYgKGMgPiBmaW5kTWF0Y2hlc1Jlc3VsdC5mb3JtUmVsZXZhbmNlU2NvcmVzW21vc3RSZWxldmFudEZvcm1JbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgbW9zdFJlbGV2YW50Rm9ybUluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlRoZSBtb3N0IHJlbGV2YW50IGZvcm0gaXMgI1wiICsgbW9zdFJlbGV2YW50Rm9ybUluZGV4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJlc3RGb3JtSW5kZXg6IG1vc3RSZWxldmFudEZvcm1JbmRleCxcbiAgICAgICAgICAgIGJlc3RSZWxldmFuY2VTY29yZTogZmluZE1hdGNoZXNSZXN1bHQuZm9ybVJlbGV2YW5jZVNjb3Jlc1ttb3N0UmVsZXZhbnRGb3JtSW5kZXhdLFxuICAgICAgICAgICAgYmVzdEZpbmRNYXRjaGVzUmVzdWx0OiBmaW5kTWF0Y2hlc1Jlc3VsdFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGF1dG9tYXRlZCBjb3VsZCBiZSBvbiBwYWdlIGxvYWQgb3IgcmVzdWx0aW5nIGZyb20gb3RoZXIgbm9uLXVzZXItaW50ZXJhY3Rpb24uXG4gICAgLy8gSXQncyBwb3NzaWJsZSB0byBmaWxsIGFuZCBzdWJtaXQgYSBlbnRyeSB3aXRoIGEgc3BlY2lmaWMgdXVpZCBidXRcbiAgICAvLyB0aGF0IHByb2Nlc3MgaXMgbm93IGNlbnRlcmVkIG9uIHRoZSBmaW5kTWF0Y2hlcyBmdW5jdGlvbi4gVGhpcyBmdW5jdGlvbiBqdXN0XG4gICAgLy8gdGFrZXMgdGhlIHJlc3VsdHMgb2YgdGhhdCAod2hpY2ggbWF5IGluY2x1ZGUgYSBzcGVjaWZpYyBlbnRyeSB0byBmaWxsIGFuZCBzdWJtaXQgdG8gYSBzcGVjaWZpYyBmb3JtKVxuICAgIGZpbGxBbmRTdWJtaXQoYXV0b21hdGVkOiBib29sZWFuLCBmb3JtSW5kZXg/OiBudW1iZXIsIGVudHJ5SW5kZXg/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICBcImZpbGxBbmRTdWJtaXQgc3RhcnRlZC4gYXV0b21hdGVkOiBcIiArXG4gICAgICAgICAgICAgICAgYXV0b21hdGVkICtcbiAgICAgICAgICAgICAgICBcIiwgZm9ybUluZGV4OiBcIiArXG4gICAgICAgICAgICAgICAgZm9ybUluZGV4ICtcbiAgICAgICAgICAgICAgICBcIiwgZW50cnlJbmRleDogXCIgK1xuICAgICAgICAgICAgICAgIGVudHJ5SW5kZXhcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHRoaXMubWF0Y2hSZXN1bHQ7XG4gICAgICAgIGxldCBzdWJtaXRUYXJnZXROZWlnaGJvdXI7XG5cbiAgICAgICAgLy8gR2l2ZSB1cCBpZiB3ZSBoYXZlIG5vIHJlc3VsdHMgZm9yIHRoaXMgZnJhbWUgKGkuZS4gdGhlcmUgd2VyZSBubyBmb3JtcyB0byBmaWxsKVxuICAgICAgICBpZiAoIW1hdGNoUmVzdWx0KSByZXR1cm47XG5cbiAgICAgICAgLy8gV2UgZG8gc29tZSB0aGluZ3MgZGlmZmVyZW50bHkgaWYgd2UncmUgYmVpbmcgbWFudWFsbHkgYXNrZWQgdG8gZmlsbCBhbmRcbiAgICAgICAgLy8gc3VibWl0IGEgc3BlY2lmaWMgbWF0Y2hlZCBlbnRyeVxuICAgICAgICBjb25zdCBpc01hdGNoZWRMb2dpblJlcXVlc3QgPVxuICAgICAgICAgICAgIWF1dG9tYXRlZCAmJlxuICAgICAgICAgICAgKChtYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggPj0gMCkgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZm9ybUluZGV4ICE9IFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAgICAgICB0eXBlb2YgZW50cnlJbmRleCAhPSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICAgIGlmICghaXNNYXRjaGVkTG9naW5SZXF1ZXN0KSB7XG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggPSB0aGlzLmdldE1vc3RSZWxldmFudEZvcm0oKS5iZXN0Rm9ybUluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3VwcGxpZWQgZm9ybUlEIG92ZXJyaWRlcyBhbnkgdGhhdCB3ZSBqdXN0IGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCBhYm92ZVxuICAgICAgICBpZiAoZm9ybUluZGV4ICE9PSBudWxsICYmIGZvcm1JbmRleCA+PSAwKSBtYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXggPSBmb3JtSW5kZXg7XG5cbiAgICAgICAgLy8gZnJvbSBub3cgb24gd2UgY29uY2VudHJhdGUgb24ganVzdCB0aGUgbW9zdCByZWxldmFudCBmb3JtIGFuZCB0aGUgZmllbGRzIHdlIGZvdW5kIGVhcmxpZXJcbiAgICAgICAgY29uc3QgZm9ybSA9IG1hdGNoUmVzdWx0LmZvcm1zW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF07XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkRmllbGRzID0gbWF0Y2hSZXN1bHQucGFzc3dvcmRGaWVsZHNBcnJheVttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdO1xuICAgICAgICBjb25zdCBvdGhlckZpZWxkcyA9IG1hdGNoUmVzdWx0Lm90aGVyRmllbGRzQXJyYXlbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XTtcblxuICAgICAgICBjb25zdCBvcmRlcmVkRW50cmllcyA9IHRoaXMuc29ydE1hdGNoZWRFbnRyaWVzKFxuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2UgPSB0aGlzLmZsYWdVc2VyUHJlZmVycmVkRW50cnkob3JkZXJlZEVudHJpZXMpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc01hdGNoZWRMb2dpblJlcXVlc3QgJiZcbiAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5teVBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGVudHJpZXM6IG9yZGVyZWRFbnRyaWVzV2l0aFByZWZlcmVuY2VcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBHaXZlIHRoZSB1c2VyIGEgd2F5IHRvIGNob29zZSBhbiBlbnRyeSBpbnRlcmFjdGl2ZWx5XG4gICAgICAgICAgICB0aGlzLmtlZUZpZWxkSWNvbi5hZGRLZWVJY29uVG9GaWVsZHMoXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRGaWVsZHMsXG4gICAgICAgICAgICAgICAgb3RoZXJGaWVsZHMsXG4gICAgICAgICAgICAgICAgb3JkZXJlZEVudHJpZXNXaXRoUHJlZmVyZW5jZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoaXMgcmVjb3JkcyB0aGUgZW50cnkgdGhhdCB3ZSBldmVudHVhbGx5IGNob29zZSBhcyB0aGUgb25lIHRvIGZpbGwgdGhlIGNob3NlbiBmb3JtIHdpdGhcbiAgICAgICAgbGV0IG1hdGNoaW5nTG9naW46IEVudHJ5ID0gbnVsbDtcbiAgICAgICAgbGV0IGFjdGlvbjogRmlsbEFuZFN1Ym1pdEFjdGlvbiA9IHsgZmlsbDogZmFsc2UsIHN1Ym1pdDogZmFsc2UgfTtcbiAgICAgICAgbGV0IG11bHRpcGxlTWF0Y2hlcyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIElmIHdlIHN0YXJ0ZWQgdGhpcyBmaWxsL3N1Ym1pdCBhdHRlbXB0IGZyb20gY2VydGFpbiBjb250ZXh0cywgd2Ugd2lsbCBoYXZlXG4gICAgICAgIC8vIGJlZW4gdG9sZCB0byBlbnN1cmUgd2UgZG8gbm90IHBlcmZvcm0gYXV0by1maWxsIG9yIHN1Ym1pdCBhbmQgd2UnbGwgaW5zdGVhZFxuICAgICAgICAvLyBqdXN0IHRlbGwgdGhlIFVJIHRvIG5vdGlmeSB0aGUgdXNlciBhYm91dCBhbnkgbWF0Y2hlcyB3ZSBmb3VuZC4gQWx0aG91Z2hcbiAgICAgICAgLy8gd2UgaWdub3JlIHRoaXMgcnVsZSBpZiB0aGUgdXNlciBpbml0aWF0ZWQgdGhlIGZpbGwvc3VibWl0LlxuICAgICAgICBtYXRjaFJlc3VsdC5jYW5ub3RBdXRvRmlsbEZvcm0gPSBmYWxzZTtcbiAgICAgICAgbWF0Y2hSZXN1bHQuY2Fubm90QXV0b1N1Ym1pdEZvcm0gPSBmYWxzZTtcblxuICAgICAgICBpZiAoYXV0b21hdGVkICYmIG1hdGNoUmVzdWx0LmF1dG9maWxsT25TdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbWF0Y2hSZXN1bHQuY2Fubm90QXV0b0ZpbGxGb3JtID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0b21hdGVkICYmIG1hdGNoUmVzdWx0LmF1dG9zdWJtaXRPblN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5jYW5ub3RBdXRvU3VibWl0Rm9ybSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBObyBwb2ludCBsb29raW5nIGF0IGVudHJ5IHNwZWNpZmljIHByZWZlcmVuY2VzIGlmIHdlIGFyZSBub3QgYWxsb3dlZCB0byBhdXRvLWZpbGxcbiAgICAgICAgaWYgKCFtYXRjaFJlc3VsdC5jYW5ub3RBdXRvRmlsbEZvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiV2UgYXJlIGFsbG93ZWQgdG8gYXV0by1maWxsIHRoaXMgZm9ybS5cIik7XG5cbiAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGJlZW4gaW5zdHJ1Y3RlZCB0byBmaWxsIGEgc3BlY2lmaWMgZW50cnksIHdlIG5lZWQgdG8gc2VsZWN0IHRoYXRcbiAgICAgICAgICAgIC8vIGVudHJ5IGFuZCBjbGVhciBhbnkgcHJldmlvdXNseSBzZXQgaW5mb3JtYXRpb24gYWJvdXQgYW4gYXV0by1maWxsZWQgZW50cnlcbiAgICAgICAgICAgIC8vIHNvIGl0IGNhbiBiZSBzZXQgY29ycmVjdGx5IGxhdGVyXG4gICAgICAgICAgICBpZiAoZW50cnlJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9IG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XVtlbnRyeUluZGV4XTtcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEID0gbnVsbDtcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5kYkZpbGVOYW1lID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNoZWNrTWF0Y2hpbmdMb2dpblJlbGV2YW5jZVRocmVzaG9sZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4gPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XS5sZW5ndGggPT0gMVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbiA9IG1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XVswXTtcbiAgICAgICAgICAgICAgICBjaGVja01hdGNoaW5nTG9naW5SZWxldmFuY2VUaHJlc2hvbGQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5VVUlEICE9IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgIT0gXCJcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB0aGUgcmVsZXZhbmNlIHRlc3RzIGlmIHdlIGhhdmUgYmVlbiB0b2xkIHRvIHVzZSBhIHNwZWNpZmljIFVVSURcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJXZSd2ZSBiZWVuIHRvbGQgdG8gdXNlIGFuIGVudHJ5IHdpdGggdGhpcyBVVUlEOiBcIiArIG1hdGNoUmVzdWx0LlVVSURcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50IDwgbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY291bnQrK1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF1bY291bnRdLnV1aWQgPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSURcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJlc3VsdC5lbnRyaWVzW21hdGNoUmVzdWx0Lm1vc3RSZWxldmFudEZvcm1JbmRleF1bY291bnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nTG9naW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb3VsZCBub3QgZmluZCB0aGUgcmVxdWlyZWQgS2VlUGFzcyBlbnRyeS4gTWF5YmUgdGhlIHdlYnNpdGUgcmVkaXJlY3RlZCB5b3UgdG8gYSBkaWZmZXJlbnQgZG9tYWluIG9yIGhvc3RuYW1lP1wiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAoIW1hdGNoUmVzdWx0LmVudHJpZXNbbWF0Y2hSZXN1bHQubW9zdFJlbGV2YW50Rm9ybUluZGV4XSB8fFxuICAgICAgICAgICAgICAgICAgICAhbWF0Y2hSZXN1bHQuZW50cmllc1ttYXRjaFJlc3VsdC5tb3N0UmVsZXZhbnRGb3JtSW5kZXhdLmxlbmd0aClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTm8gZW50cmllcyBmb3IgZm9ybS5cIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoaW5nTG9naW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIk11bHRpcGxlIGVudHJpZXMgZm9yIGZvcm0sIHNvIHVzaW5nIHByZWZlcnJlZCBvciBtb3N0IHJlbGV2YW50LlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID1cbiAgICAgICAgICAgICAgICAgICAgb3JkZXJlZEVudHJpZXNXaXRoUHJlZmVyZW5jZS5maW5kKGUgPT4gZS5pc1ByZWZlcnJlZE1hdGNoKSB8fFxuICAgICAgICAgICAgICAgICAgICBvcmRlcmVkRW50cmllc1dpdGhQcmVmZXJlbmNlWzBdO1xuICAgICAgICAgICAgICAgIG11bHRpcGxlTWF0Y2hlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2hlY2tNYXRjaGluZ0xvZ2luUmVsZXZhbmNlVGhyZXNob2xkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF1dG9tYXRlZCAmJiBjaGVja01hdGNoaW5nTG9naW5SZWxldmFuY2VUaHJlc2hvbGQgJiYgbWF0Y2hpbmdMb2dpbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nTG9naW4ucmVsZXZhbmNlU2NvcmUgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk91ciBzZWxlY3RlZCBlbnRyeSBpcyBub3QgcmVsZXZhbnQgZW5vdWdoIHRvIGV4Y2VlZCBvdXIgdGhyZXNob2xkIHNvIHdpbGwgbm90IGJlIGF1dG8tZmlsbGVkLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4gPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hpbmdMb2dpbi5sb3dGaWVsZE1hdGNoUmF0aW8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiT3VyIHNlbGVjdGVkIGVudHJ5IGhhcyBhIGxvdyBmaWVsZCBtYXRjaCByYXRpbyBzbyB3aWxsIG5vdCBiZSBhdXRvLWZpbGxlZC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0xvZ2luID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL1RPRE86NDogIzYgbXVsdGktcGFnZVxuICAgICAgICAgICAgICAgIC8vIC8vIHJlY29yZCAvIHVwZGF0ZSB0aGUgaW5mbyBhdHRhY2hlZCB0byB0aGlzIHRhYiByZWdhcmRpbmdcbiAgICAgICAgICAgICAgICAvLyAvLyB0aGUgbnVtYmVyIG9mIHBhZ2VzIG9mIGZvcm1zIHdlIHdhbnQgdG8gZmlsbCBpblxuICAgICAgICAgICAgICAgIC8vIC8vIE5COiB3ZSBkbyB0aGlzIGV2ZW4gaWYgd2Uga25vdyB0aGlzIGlzIGEgc2luZ2xlIGZvcm1cbiAgICAgICAgICAgICAgICAvLyAvLyBzdWJtaXNzaW9uIGJlY2F1YXNlIHRoZW4gaWYgdGhlIHVzZXIgZ2V0cyBkdW1wZWRcbiAgICAgICAgICAgICAgICAvLyAvLyBiYWNrIHRvIHRoZSBmb3JtIChwYXNzd29yZCBlcnJvcj8pIHRoZW4gd2Uga25vdyBub3RcbiAgICAgICAgICAgICAgICAvLyAvLyB0byBhdXRvLXN1Ym1pdCBhZ2FpbiAodG8gYXZvaWQgZ2V0dGluZyBzdHVjayBpbiBhIGxvb3ApXG5cbiAgICAgICAgICAgICAgICAvLyBpZiAodGFiU3RhdGUuY3VycmVudFBhZ2UgPiB0YWJTdGF0ZS5tYXhpbXVtUGFnZSlcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIEkgZG9uJ3QgdGhpbmsgdGhpcyBzaG91bGQgZXZlciBoYXBwZW4gYmVjYXVzZSBpdCdzIHJlc2V0IG9uRm9ybVN1Ym1pdFxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBiZWZvcmUgdGhpcyBwYWdlIGhhcyBsb2FkZWQuXG5cbiAgICAgICAgICAgICAgICAvLyAgICAgdGFiU3RhdGUuY3VycmVudFBhZ2UgPSAwO1xuICAgICAgICAgICAgICAgIC8vICAgICB0YWJTdGF0ZS5tYXhpbXVtUGFnZSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gICAgIHRhYlN0YXRlLmZvcmNlQXV0b1N1Ym1pdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgLy8gICAgIG1hdGNoUmVzdWx0LmNhbm5vdEF1dG9TdWJtaXRGb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIkV4Y2VlZGVkIGV4cGVjdGVkIG51bWJlciBvZiBwYWdlcyBkdXJpbmcgdGhpcyBmb3JtLWZpbGxpbmcgc2Vzc2lvbi4gTm90IGF1dG8tc3VibWl0aW5nIHRoaXMgZm9ybS5cIik7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgLy8gLy8gSWYgdGhlIHVzZXIgbWFudWFsbHkgcmVxdWVzdGVkIHRoaXMgdG8gYmUgZmlsbGVkIGluIG9yIHRoZSBjdXJyZW50IHBhZ2UgaXMgdW5rbm93blxuICAgICAgICAgICAgICAgIC8vIGlmICghYXV0b21hdGVkKS8vVE9ETzo0OiAjNiBtdWx0aS1wYWdlIHx8IHRhYlN0YXRlLmN1cnJlbnRQYWdlIDw9IDApXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgICBsZXQgbWF4aW11bVBhZ2VDb3VudCA9IDE7XG4gICAgICAgICAgICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hpbmdMb2dpbi5wYXNzd29yZHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgLy8gICAgIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnN0IHBhc3NGaWVsZCA9IG1hdGNoaW5nTG9naW4ucGFzc3dvcmRzW2ldO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKHBhc3NGaWVsZC5mb3JtRmllbGRQYWdlID4gbWF4aW11bVBhZ2VDb3VudClcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBtYXhpbXVtUGFnZUNvdW50ID0gcGFzc0ZpZWxkLmZvcm1GaWVsZFBhZ2U7XG4gICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaGluZ0xvZ2luLm90aGVyRmllbGRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBjb25zdCBvdGhlckZpZWxkID0gbWF0Y2hpbmdMb2dpbi5vdGhlckZpZWxkc1tpXTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChvdGhlckZpZWxkLmZvcm1GaWVsZFBhZ2UgPiBtYXhpbXVtUGFnZUNvdW50KVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1heGltdW1QYWdlQ291bnQgPSBvdGhlckZpZWxkLmZvcm1GaWVsZFBhZ2U7XG4gICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgICAgLy9UT0RPOjQ6ICM2OiBtdWx0aS1wYWdlXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIC8vIGFsd2F5cyBhc3N1bWUgcGFnZSAxICh2ZXJ5IHJhcmUgY2FzZXMgd2lsbCBnbyB3cm9uZyAtIHNlZSBnaXRodWIgS2VlRm94ICM0MTEgZm9yIHJlbGV2YW50IGVuaGFuY2VtZW50IHJlcXVlc3QpXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIC8vIFBvc3NpYmxlIHJlZ3Jlc3Npb24gc2luY2UgdjEuNDogV2UgdXNlZCB0byBpZ25vcmUgY3VycmVudFBhZ2UgZW50aXJlbHkgZm9yIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgIC8vICAgICAvLyAvLyBwYWdlIG9mIGEgc3VibWlzc2lvbiwgbm93IHdlIG1pZ2h0IHRyeSB0byBnaXZlIHByZWZlcmVuY2UgdG8gcGFnZSAxIGZpZWxkcyAodGhvdWdoIHRvdGFsXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIC8vIHJlbGV2YW5jZSBzY29yZSBzaG91bGRuJ3QgYmUgc2hpZnRlZCBieSBlbm91Z2ggdG8gYWZmZWN0IG90aGVyd2lzZSB3ZWxsLW1hdGNoZWQgZmllbGRzKVxuICAgICAgICAgICAgICAgIC8vICAgICAvLyB0YWJTdGF0ZS5jdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIHRhYlN0YXRlLm1heGltdW1QYWdlID0gbWF4aW11bVBhZ2VDb3VudDtcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJjdXJyZW50UGFnZSBpczogXCIgKyB0YWJTdGF0ZS5jdXJyZW50UGFnZSk7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwibWF4aW11bVBhZ2UgaXM6IFwiICsgdGFiU3RhdGUubWF4aW11bVBhZ2UpO1xuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgYXV0by1maWxsIGJlaGF2aW91ciBkZXBlbmRzIHVwb24gd2hldGhlciB0aGlzIGlzIGF1dG9tYXRpYyBvclxuICAgICAgICAgICAgICAgIC8vIG1hbnVhbCwgdGhlIGNvcnJlc3BvbmRpbmcgdXNlciBcImF1dG9tYXRpY1wiIG9wdGlvbiwgaWYgdGhlcmUgYXJlIG9uZSBvciBtYW55IG1hdGNoZXNcbiAgICAgICAgICAgICAgICAvLyBhbmQgdGhlIHVzZXIgb3B0aW9uIHRvIHByZXZlbnQgYXV0b21hdGljIGZpbGwgZHVlIHRvIG11bHRpcGxlIG1hdGNoZXNcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRvRmlsbEVuYWJsZWQgPVxuICAgICAgICAgICAgICAgICAgICBpc01hdGNoZWRMb2dpblJlcXVlc3QgfHxcbiAgICAgICAgICAgICAgICAgICAgKGF1dG9tYXRlZCAmJiBtdWx0aXBsZU1hdGNoZXMgJiYgIXRoaXMuY29uZmlnLmF1dG9GaWxsRm9ybXNXaXRoTXVsdGlwbGVNYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY29uZmlnLmF1dG9GaWxsRm9ybXMpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBhdXRvLXN1Ym1pdCBiZWhhdmlvdXIgZGVwZW5kcyB1cG9uIHdoZXRoZXIgdGhpcyBpcyBhdXRvbWF0aWMgb3IgbWFudWFsIGFuZCB0aGUgY29ycmVzcG9uZGluZyB1c2VyIG9wdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9TdWJtaXRFbmFibGVkID0gaXNNYXRjaGVkTG9naW5SZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5jb25maWcuYXV0b1N1Ym1pdE1hdGNoZWRGb3Jtc1xuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY29uZmlnLmF1dG9TdWJtaXRGb3JtcztcblxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IHsgZmlsbDogYXV0b0ZpbGxFbmFibGVkLCBzdWJtaXQ6IGF1dG9TdWJtaXRFbmFibGVkIH07XG5cbiAgICAgICAgICAgICAgICAvLyBPdmVycmlkZSBmaWxsIHByZWZlcmVuY2VzIGZyb20gcGVyLWVudHJ5IGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgIC8vIHVubGVzcyB1c2VyIGV4cGxpY2l0eSBzZWxlY3RlZCB0aGUgbWF0Y2hlZCBlbnRyeVxuICAgICAgICAgICAgICAgIGlmICghaXNNYXRjaGVkTG9naW5SZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLmFsd2F5c0F1dG9GaWxsKSBhY3Rpb24uZmlsbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLm5ldmVyQXV0b0ZpbGwpIGFjdGlvbi5maWxsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgc3VibWl0IHByZWZlcmVuY2VzIGZyb20gcGVyLWVudHJ5IGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgIGlmICghaXNNYXRjaGVkTG9naW5SZXF1ZXN0IHx8ICF0aGlzLmNvbmZpZy5tYW51YWxTdWJtaXRPdmVycmlkZVByb2hpYml0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nTG9naW4uYWx3YXlzQXV0b1N1Ym1pdCkgYWN0aW9uLnN1Ym1pdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0xvZ2luLm5ldmVyQXV0b1N1Ym1pdCkgYWN0aW9uLnN1Ym1pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZmlsbCB8fCBtYXRjaFJlc3VsdC5tdXN0QXV0b0ZpbGxGb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiR29pbmcgdG8gYXV0by1maWxsIGEgZm9ybVwiKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHN0b3JlLktlZVBhc3NEYXRhYmFzZXMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiID0+IGRiLmZpbGVOYW1lID09PSBtYXRjaGluZ0xvZ2luLmRhdGFiYXNlLmZpbGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICkuc2Vzc2lvbkZlYXR1cmVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29yZUNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVuaXNoV3JvbmdJREFuZE5hbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMuaW5kZXhPZihcIktQUlBDX0ZJRUxEX0RFRkFVTFRfTkFNRV9BTkRfSURfRU1QVFlcIikgPj0gMFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0RmlsbGVkT3RoZXIgPSB0aGlzLmZpbGxNYW55Rm9ybUZpZWxkcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdMb2dpbi5maWVsZHMuZmlsdGVyKGYgPT4gZi50eXBlICE9PSBcInBhc3N3b3JkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29yZUNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9tYXRlZFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0RmlsbGVkUGFzc3dvcmRzID0gdGhpcy5maWxsTWFueUZvcm1GaWVsZHMoXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZEZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nTG9naW4uZmllbGRzLmZpbHRlcihmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVDb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvbWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZm9ybVJlYWR5Rm9yU3VibWl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQubGFzdEZpbGxlZFBhc3N3b3JkcyA9IGxhc3RGaWxsZWRQYXNzd29yZHM7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0Lmxhc3RGaWxsZWRPdGhlciA9IGxhc3RGaWxsZWRPdGhlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RGaWxsZWRQYXNzd29yZHMgJiYgbGFzdEZpbGxlZFBhc3N3b3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRUYXJnZXROZWlnaGJvdXIgPSBsYXN0RmlsbGVkUGFzc3dvcmRzWzBdLkRPTWVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdEZpbGxlZE90aGVyICYmIGxhc3RGaWxsZWRPdGhlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRUYXJnZXROZWlnaGJvdXIgPSBsYXN0RmlsbGVkT3RoZXJbMF0uRE9NZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1TYXZpbmcudXBkYXRlTWF0Y2hSZXN1bHQobWF0Y2hSZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIG9ubHkgZG8gdGhpcyBpZiBhbnkgZm9ybXMgd2VyZSBhdXRvLWZpbGxlZCBzdWNjZXNzZnVsbHlcbiAgICAgICAgaWYgKG1hdGNoUmVzdWx0LmZvcm1SZWFkeUZvclN1Ym1pdCkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZGlkbid0IGFscmVhZHkgZGVmaW5lIGEgdXVpZCwgd2Ugc2V0IGl0IHVwIG5vd1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuVVVJRCA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuVVVJRCA9PSBcIlwiXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlN5bmNpbmcgVVVJRCB0bzogXCIgKyBtYXRjaGluZ0xvZ2luLnV1aWQpO1xuICAgICAgICAgICAgICAgIG1hdGNoUmVzdWx0LlVVSUQgPSBtYXRjaGluZ0xvZ2luLnV1aWQ7XG4gICAgICAgICAgICAgICAgbWF0Y2hSZXN1bHQuZGJGaWxlTmFtZSA9IG1hdGNoaW5nTG9naW4uZGF0YWJhc2UuZmlsZU5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGlzIGZvcm0gZmlsbCBpcyB0aGUgbm9uLWZpbmFsIHBhZ2Ugb2YgYSBtdWx0aS1wYWdlIGxvZ2luIHByb2Nlc3Mgd2UgcmVjb3JkIHRoZVxuICAgICAgICAvLyBVVUlEIGFuZCBkYkZpbGVuYW1lLiBXZSBhbHNvIGVuYWJsZSBhdXRvLXN1Ym1pdCBpbiBzb21lIGNpcmN1bXN0YW5jZXNcbiAgICAgICAgLy9UT0RPOjQ6ICM2OiBtdWx0aS1wYWdlXG4gICAgICAgIC8vIGlmIChtYXRjaFJlc3VsdC5VVUlEICE9IHVuZGVmaW5lZCAmJiBtYXRjaFJlc3VsdC5VVUlEICE9IG51bGwgJiYgbWF0Y2hSZXN1bHQuVVVJRCAhPSBcIlwiKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICBpZiAodGFiU3RhdGUuY3VycmVudFBhZ2UgPiAwICYmIHRhYlN0YXRlLmN1cnJlbnRQYWdlIDwgdGFiU3RhdGUubWF4aW11bVBhZ2UpXG4gICAgICAgIC8vICAgICB7XG4gICAgICAgIC8vICAgICAgICAgaWYgKG1hdGNoUmVzdWx0LlVVSUQpXG4gICAgICAgIC8vICAgICAgICAge1xuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgVVVJRCB0bzogXCIgKyBtYXRjaFJlc3VsdC5VVUlEKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGFiU3RhdGUuVVVJRCA9IG1hdGNoUmVzdWx0LlVVSUQ7XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgIGlmIChtYXRjaFJlc3VsdC5kYkZpbGVOYW1lKVxuICAgICAgICAvLyAgICAgICAgIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJTZXR0aW5nIGRiRmlsZU5hbWUgdG86IFwiICsgbWF0Y2hSZXN1bHQuZGJGaWxlTmFtZSk7XG4gICAgICAgIC8vICAgICAgICAgICAgIHRhYlN0YXRlLmRiRmlsZU5hbWUgPSBtYXRjaFJlc3VsdC5kYkZpbGVOYW1lO1xuICAgICAgICAvLyAgICAgICAgIH1cblxuICAgICAgICAvLyAgICAgICAgIC8vIFdlIGZvcmNlIGF1dG8gc3VibWl0IGZvciBhbGwgbXVsdGktcGFnZSBlbnRyaWVzIHRoYXQgaGF2ZSBiZWVuIHRyaWdnZXJlZFxuICAgICAgICAvLyAgICAgICAgIC8vIGJ5IGEgb25lLWNsaWNrIG9yIG1hdGNoZWQgbG9naW4gdXNlciBzZWxlY3Rpb24sIHByb3ZpZGVkIHRoYXQgb3BlcmF0aW9uXG4gICAgICAgIC8vICAgICAgICAgLy8gaGFzIG5vdCBhbHJlYWR5IGJlZW4gbWFya2VkIGNvbXBsZXRlIGJ5IHRoZSBvbkZvcm1TdWJtaXRIYW5kbGVyIGluIGZvcm1zU2F2ZVRhYi5qc1xuICAgICAgICAvLyAgICAgICAgIGlmICh0YWJTdGF0ZS51c2VyUmVjZW50bHlEZW1hbmRlZEF1dG9TdWJtaXQpXG4gICAgICAgIC8vICAgICAgICAge1xuICAgICAgICAvLyAgICAgICAgICAgICB0YWJTdGF0ZS5mb3JjZUF1dG9TdWJtaXQgPSB0cnVlO1xuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlNldCBmb3JjZUF1dG9TdWJtaXQgdG86IHRydWVcIik7XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW1hdGNoUmVzdWx0LmNhbm5vdEF1dG9TdWJtaXRGb3JtICYmXG4gICAgICAgICAgICAoYWN0aW9uLnN1Ym1pdCB8fCBtYXRjaFJlc3VsdC5tdXN0QXV0b1N1Ym1pdEZvcm0pICYmXG4gICAgICAgICAgICBtYXRjaFJlc3VsdC5mb3JtUmVhZHlGb3JTdWJtaXRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiQXV0by1zdWJtaXR0aW5nIGZvcm0uLi5cIik7XG4gICAgICAgICAgICB0aGlzLnN1Ym1pdEZvcm0oZm9ybSwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoZWRMb2dpblJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTWF0Y2hlZCBlbnRyeSByZXF1ZXN0IGlzIG5vdCBiZWluZyBhdXRvLXN1Ym1pdHRlZC5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYXRjaFJlc3VsdC5hbGxNYXRjaGluZ0xvZ2lucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1dG9tYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkF1dG9tYXRpYyBmb3JtIGZpbGwgY29tcGxldGUuXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTWFudWFsIGZvcm0gZmlsbCBjb21wbGV0ZS5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiTm90aGluZyB0byBmaWxsLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNvcnRNYXRjaGVkRW50cmllcyhlbnRyaWVzOiBFbnRyeVtdKTogRW50cnlbXSB7XG4gICAgICAgIHJldHVybiBlbnRyaWVzXG4gICAgICAgICAgICAubWFwKGUgPT4gbmV3IEVudHJ5KHsgLi4uZSB9KSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnJlbGV2YW5jZVNjb3JlIC0gYS5yZWxldmFuY2VTY29yZSk7XG4gICAgfVxuXG4gICAgZmxhZ1VzZXJQcmVmZXJyZWRFbnRyeShvcmRlcmVkRW50cmllczogRW50cnlbXSk6IEVudHJ5W10ge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5kb2N1bWVudC5VUkwpO1xuICAgICAgICB1cmwuaG9zdG5hbWUgPSBwdW55Y29kZS50b1VuaWNvZGUodXJsLmhvc3RuYW1lKTtcbiAgICAgICAgY29uc3QgY29uZiA9IGNvbmZpZ01hbmFnZXIuc2l0ZUNvbmZpZ0Zvcih1cmwuaHJlZik7XG4gICAgICAgIHJldHVybiBvcmRlcmVkRW50cmllcy5tYXAoXG4gICAgICAgICAgICBlID0+XG4gICAgICAgICAgICAgICAgbmV3IEVudHJ5KHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZSxcbiAgICAgICAgICAgICAgICAgICAgaXNQcmVmZXJyZWRNYXRjaDogY29uZi5wcmVmZXJyZWRFbnRyeVV1aWQgPT09IGUudXVpZCA/IHRydWUgOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kU3VibWl0QnV0dG9uKGZvcm06IEhUTUxGb3JtRWxlbWVudCwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjYW5kaWRhdGVzOiBTdWJtaXRDYW5kaWRhdGVbXSA9IFtdO1xuICAgICAgICBjb25zdCBESVNUQU5DRV9NQVhfU0NPUkUgPSAxMDA7XG4gICAgICAgIGNvbnN0IERJU1RBTkNFX0RJRkZFUkVOQ0VfRkFDVE9SID0gMjA7XG4gICAgICAgIGNvbnN0IFZJU0lCTEVfU0NPUkUgPSA2MDtcbiAgICAgICAgY29uc3QgQ0FUX0JVVFRPTklORk9STV9TQ09SRSA9IDYwO1xuICAgICAgICBjb25zdCBDQVRfU1VCTUlUSU5QVVRJTkZPUk1fU0NPUkUgPSA1MDtcbiAgICAgICAgY29uc3QgQ0FUX0JVVFRPTk9VVFNJREVGT1JNX1NDT1JFID0gNDA7XG4gICAgICAgIGNvbnN0IENBVF9JTUFHRUlOUFVUSU5GT1JNX1NDT1JFID0gNDA7XG4gICAgICAgIGNvbnN0IENBVF9CVVRUT05JTlBVVElORk9STV9TQ09SRSA9IDMwO1xuICAgICAgICBjb25zdCBDQVRfQlVUVE9OUk9MRUlORk9STV9TQ09SRSA9IDIwO1xuICAgICAgICBjb25zdCBDQVRfQlVUVE9OUk9MRU9VVFNJREVGT1JNX1NDT1JFID0gMTA7XG4gICAgICAgIGxldCBtaW5TY29yZVRvV2luID0gMDtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VDYWxjID0gKHYsIHQpID0+IHRoaXMuY29tbW9uQW5jZXN0b3JEaXN0YW5jZSh2LCB0LCBkaXN0YW5jZU1hcCk7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlTWFwID0gbmV3IE1hcDxOb2RlLCBudW1iZXI+KCk7XG4gICAgICAgIGNvbnN0IGZVdGlscyA9IHRoaXMuZm9ybVV0aWxzO1xuXG4gICAgICAgIGZ1bmN0aW9uIHZlcmlmeVBvdGVudGlhbENhbmRpZGF0ZSh2YWx1ZTogSFRNTEVsZW1lbnQsIHNjb3JlOiBudW1iZXIpIHtcbiAgICAgICAgICAgIC8vIGFib3J0IGVhcmx5IGlmIHdlIGNhbid0IHdpbiBldmVuIHdpdGggYSBwZXJmZWN0IHZpc2liaWxpdHkgYW5kIGRpc3RhbmNlIHNjb3JlXG4gICAgICAgICAgICBpZiAobWluU2NvcmVUb1dpbiA+IHNjb3JlICsgVklTSUJMRV9TQ09SRSArIERJU1RBTkNFX01BWF9TQ09SRSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBpc1Zpc2libGUgPSBmVXRpbHMuaXNET01FbGVtZW50VmlzaWJsZSh2YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIFNvbWUgZm9ybXMgYXJlIGhpZGRlbiAoZS5nLiBUd2l0dGVyKSBhbmQgc2ltcGx5IHJldmVhbGVkIHRvIHRoZSB1c2VyIGF0IGEgbGF0ZXIgdGltZVxuICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlIHNob3VsZCBvbmx5IHB1bmlzaCBiYXNlZCBvbiB2aXNpYmlsaXR5IGlmIHRoZSBmb3JtIHN1Ym1pdFRhcmdldE5laWdoYm91ciBpcyB2aXNpYmxlLlxuICAgICAgICAgICAgaWYgKGlzVmlzaWJsZSB8fCAhZlV0aWxzLmlzRE9NRWxlbWVudFZpc2libGUoc3VibWl0VGFyZ2V0TmVpZ2hib3VyKSkge1xuICAgICAgICAgICAgICAgIHNjb3JlICs9IFZJU0lCTEVfU0NPUkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFib3J0IGVhcmx5IGlmIHdlIGNhbid0IHdpbiBldmVuIHdpdGggYSBwZXJmZWN0IHZpc2liaWxpdHkgYW5kIGRpc3RhbmNlIHNjb3JlXG4gICAgICAgICAgICBpZiAobWluU2NvcmVUb1dpbiA+IHNjb3JlICsgRElTVEFOQ0VfTUFYX1NDT1JFKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGRpc3RhbmNlQ2FsYyh2YWx1ZSwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyKSxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBzY29yZTogc2NvcmVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtaW5TY29yZVRvV2luID0gc2NvcmU7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlQXJpYUxhYmVsVmFsdWVzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbHMgPSBbXTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikpIHtcbiAgICAgICAgICAgICAgICBsYWJlbHMucHVzaChlbGVtZW50LmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAgICAgLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiKVxuICAgICAgICAgICAgICAgID8udHJpbSgpXG4gICAgICAgICAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYWJlbEVsZW1lbnQgPSBmb3JtLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsRWxlbWVudCAmJiBsYWJlbEVsZW1lbnQuaW5uZXJUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzLnB1c2gobGFiZWxFbGVtZW50LmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gbGFiZWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICAgIEluIEZpcmVmb3ggQXJyYXkuZnJvbS4uLmZvcmVhY2ggaXMgYWJvdXQgNTAlIGZhc3RlciB0aGFuIHRoZSBhbHRlcm5hdGl2ZSBpbiB0aGlzIGNvbW1lbnQgYmVsb3cuLi4gYnV0IDIwJSBzbG93ZXIgaW4gQ2hyb21lLlxuICAgICAgICAgICAgY29uc3QgYnV0dG9ucyA9IGZvcm0ub3duZXJEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJ1dHRvblwiKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaTxidXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBidXR0b25zW2ldO1xuICAgICAgICAgICAgICAgIC4uLlxuICAgICAgICAgICAgKi9cbiAgICAgICAgQXJyYXkuZnJvbShmb3JtLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJidXR0b25cIikpLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZS5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZS50eXBlIHx8IHZhbHVlLnR5cGUgIT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLm5hbWUpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudGV4dENvbnRlbnQpIHNlbWFudGljVmFsdWVzLnB1c2godmFsdWUudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhbHVlKSBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLnZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLnB1c2goLi4ucmVzb2x2ZUFyaWFMYWJlbFZhbHVlcyh2YWx1ZSkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgNTAsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY0JsYWNrbGlzdENhY2hlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzY29yZSArPVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5mb3JtICYmIHZhbHVlLmZvcm0gPT0gZm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBDQVRfQlVUVE9OSU5GT1JNX1NDT1JFXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENBVF9CVVRUT05PVVRTSURFRk9STV9TQ09SRTtcblxuICAgICAgICAgICAgICAgIHZlcmlmeVBvdGVudGlhbENhbmRpZGF0ZSh2YWx1ZSwgc2NvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBBcnJheS5mcm9tKGZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKSkuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlLmlzQ29ubmVjdGVkKSByZXR1cm47XG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlbWFudGljU2NvcmUgPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT0gXCJzdWJtaXRcIiB8fCB2YWx1ZS50eXBlID09IFwiYnV0dG9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbWFudGljU2NvcmUgKz0gdGhpcy5zY29yZUFkanVzdG1lbnRGb3JNYWdpY1dvcmRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBOYW1lcyBhcmUgbW9yZSBpbXBvcnRhbnQgYnV0IHNvbWV0aW1lcyB0aGV5IGRvbid0IGV4aXN0IG9yIGFyZSByYW5kb21cbiAgICAgICAgICAgICAgICAgICAgLy8gc28gY2hlY2sgd2hhdCBpcyBhY3R1YWxseSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLnZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLnB1c2goLi4ucmVzb2x2ZUFyaWFMYWJlbFZhbHVlcyh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VtYW50aWNWYWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNTY29yZSArPSB0aGlzLnNjb3JlQWRqdXN0bWVudEZvck1hZ2ljV29yZHMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY1doaXRlbGlzdENhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNCbGFja2xpc3RDYWNoZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNTY29yZSArPSB0aGlzLnNjb3JlQWRqdXN0bWVudEZvck1hZ2ljV29yZHMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlLmlkLnRvTG93ZXJDYXNlKCldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PSBcInN1Ym1pdFwiIHx8IHZhbHVlLnR5cGUgPT0gXCJidXR0b25cIiB8fCB2YWx1ZS50eXBlID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2NvcmUgPSBzZW1hbnRpY1Njb3JlO1xuICAgICAgICAgICAgICAgICAgICBzY29yZSArPVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudHlwZSA9PSBcImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBDQVRfQlVUVE9OSU5QVVRJTkZPUk1fU0NPUkVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlLnR5cGUgPT0gXCJpbWFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBDQVRfSU1BR0VJTlBVVElORk9STV9TQ09SRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogQ0FUX1NVQk1JVElOUFVUSU5GT1JNX1NDT1JFO1xuICAgICAgICAgICAgICAgICAgICB2ZXJpZnlQb3RlbnRpYWxDYW5kaWRhdGUodmFsdWUsIHNjb3JlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEFycmF5LmZyb20oZm9ybS5vd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbcm9sZT1idXR0b25dOm5vdChidXR0b24pXCIpKS5mb3JFYWNoKFxuICAgICAgICAgICAgKHZhbHVlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlLmlzQ29ubmVjdGVkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgICAgICAvLyB0ZWNobmljYWxcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubmFtZSkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS5uYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5pZCkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS5pZC50b0xvd2VyQ2FzZSgpKTtcblxuICAgICAgICAgICAgICAgIC8vIHVzZXIgdmlzaWJsZVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50aXRsZSkgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS50aXRsZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5uZXJUZXh0KSBzZW1hbnRpY1ZhbHVlcy5wdXNoKHZhbHVlLmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuZGF0YVNldCAmJiB2YWx1ZS5kYXRhU2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmRhdGFTZXQudG9vbHRpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMucHVzaCh2YWx1ZS5kYXRhU2V0LnRvb2x0aXAudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VtYW50aWNWYWx1ZXMucHVzaCguLi5yZXNvbHZlQXJpYUxhYmVsVmFsdWVzKHZhbHVlKSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgc2NvcmUgPSB0aGlzLnNjb3JlQWRqdXN0bWVudEZvck1hZ2ljV29yZHMoXG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljVmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICA1MCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW1hbnRpY1doaXRlbGlzdENhY2hlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbWFudGljQmxhY2tsaXN0Q2FjaGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHNjb3JlICs9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLmZvcm0gJiYgdmFsdWUuZm9ybSA9PSBmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICA/IENBVF9CVVRUT05ST0xFSU5GT1JNX1NDT1JFXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENBVF9CVVRUT05ST0xFT1VUU0lERUZPUk1fU0NPUkU7XG4gICAgICAgICAgICAgICAgdmVyaWZ5UG90ZW50aWFsQ2FuZGlkYXRlKHZhbHVlLCBzY29yZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoIDw9IDApIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDEpIHJldHVybiBjYW5kaWRhdGVzWzBdLmVsZW1lbnQ7XG5cbiAgICAgICAgY29uc3Qgc3VibWl0RWxlbWVudHMgPSBjYW5kaWRhdGVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLmRpc3RhbmNlID4gYi5kaXN0YW5jZSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGEuZGlzdGFuY2UgPCBiLmRpc3RhbmNlKSByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBtYXhEaXN0YW5jZURpZmZlcmVuY2UgPVxuICAgICAgICAgICAgc3VibWl0RWxlbWVudHNbMF0uZGlzdGFuY2UgLSBzdWJtaXRFbGVtZW50c1tzdWJtaXRFbGVtZW50cy5sZW5ndGggLSAxXS5kaXN0YW5jZTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VTY29yZSA9IE1hdGgubWluKFxuICAgICAgICAgICAgRElTVEFOQ0VfTUFYX1NDT1JFLFxuICAgICAgICAgICAgRElTVEFOQ0VfRElGRkVSRU5DRV9GQUNUT1IgKiBtYXhEaXN0YW5jZURpZmZlcmVuY2VcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGRpc3RhbmNlRmFjdG9yID0gMSAvIHN1Ym1pdEVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgbGV0IGxhc3REaXN0YW5jZSA9IHN1Ym1pdEVsZW1lbnRzWzBdLmRpc3RhbmNlO1xuICAgICAgICBzdWJtaXRFbGVtZW50cy5mb3JFYWNoKChjYW5kaWRhdGUsIGluZGV4LCBlbGVtZW50cykgPT4ge1xuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZS5kaXN0YW5jZSA8IGxhc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlRmFjdG9yID0gKGluZGV4ICsgMSkgLyBlbGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGFzdERpc3RhbmNlID0gY2FuZGlkYXRlLmRpc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FuZGlkYXRlLnNjb3JlICs9IGRpc3RhbmNlRmFjdG9yICogZGlzdGFuY2VTY29yZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9UT0RPOjQ6IG1vcmUgYWNjdXJhdGUgc2VhcmNoaW5nIG9mIHN1Ym1pdCBidXR0b25zLCBldGMuIHRvIGF2b2lkIHBhc3N3b3JkIHJlc2V0cyBpZiBwb3NzaWJsZVxuICAgICAgICAvLyBtYXliZSBzcGVjaWFsIGNhc2VzIGZvciBjb21tb24gSFRNTCBvdXRwdXQgcGF0dGVybnMgKGUuZy4gamF2YXNjcmlwdC1vbmx5IEFTUC5ORVQgZm9ybXMpXG5cbiAgICAgICAgbGV0IG1heFNjb3JlID0gc3VibWl0RWxlbWVudHNbMF0uc2NvcmU7XG4gICAgICAgIGxldCBtYXhTY29yZUVsZW1lbnQgPSBzdWJtaXRFbGVtZW50c1swXS5lbGVtZW50O1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN1Ym1pdEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3VibWl0RWxlbWVudHNbaV0uc2NvcmUgPiBtYXhTY29yZSkge1xuICAgICAgICAgICAgICAgIG1heFNjb3JlID0gc3VibWl0RWxlbWVudHNbaV0uc2NvcmU7XG4gICAgICAgICAgICAgICAgbWF4U2NvcmVFbGVtZW50ID0gc3VibWl0RWxlbWVudHNbaV0uZWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4U2NvcmVFbGVtZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgc2NvcmVBZGp1c3RtZW50Rm9yTWFnaWNXb3JkcyhcbiAgICAgICAgc2VtYW50aWNWYWx1ZXM6IHN0cmluZ1tdLFxuICAgICAgICBmYWN0b3I6IG51bWJlcixcbiAgICAgICAgc2VtYW50aWNXaGl0ZWxpc3RDYWNoZSxcbiAgICAgICAgc2VtYW50aWNCbGFja2xpc3RDYWNoZVxuICAgICkge1xuICAgICAgICAvL1RPRE86NDogb3RoZXIgbGFuZ3VhZ2VzXG4gICAgICAgIGNvbnN0IGdvb2RXb3JkcyA9IFtcbiAgICAgICAgICAgIFwic3VibWl0XCIsXG4gICAgICAgICAgICBcImxvZ2luXCIsXG4gICAgICAgICAgICBcImVudGVyXCIsXG4gICAgICAgICAgICBcImxvZyBpblwiLFxuICAgICAgICAgICAgXCJzaWduaW5cIixcbiAgICAgICAgICAgIFwic2lnbiBpblwiLFxuICAgICAgICAgICAgXCJuZXh0XCIsXG4gICAgICAgICAgICBcImNvbnRpbnVlXCJcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgYmFkV29yZHMgPSBbXG4gICAgICAgICAgICBcInJlc2V0XCIsXG4gICAgICAgICAgICBcImNhbmNlbFwiLFxuICAgICAgICAgICAgXCJiYWNrXCIsXG4gICAgICAgICAgICBcImFib3J0XCIsXG4gICAgICAgICAgICBcInVuZG9cIixcbiAgICAgICAgICAgIFwiZXhpdFwiLFxuICAgICAgICAgICAgXCJlbXB0eVwiLFxuICAgICAgICAgICAgXCJjbGVhclwiLFxuICAgICAgICAgICAgXCJjYXB0Y2hhXCIsXG4gICAgICAgICAgICBcInRvdHBcIixcbiAgICAgICAgICAgIFwiZm9yZ290XCIsXG4gICAgICAgICAgICBcImRpc21pc3NcIixcbiAgICAgICAgICAgIFwiZGVsZXRlXCIsXG4gICAgICAgICAgICBcInNob3dcIixcbiAgICAgICAgICAgIFwicmV2ZWFsXCJcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IGdvb2RTY29yZSA9IGZhbHNlO1xuICAgICAgICBsZXQgYmFkU2NvcmUgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbWFudGljVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZ29vZFNjb3JlKSBicmVhaztcbiAgICAgICAgICAgIGlmICghc2VtYW50aWNWYWx1ZXNbaV0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3Qgc2VtYW50aWNWYWx1ZSA9IHNlbWFudGljVmFsdWVzW2ldLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghc2VtYW50aWNWYWx1ZSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChzZW1hbnRpY1doaXRlbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZ29vZFNjb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZW1hbnRpY1doaXRlbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnb29kV29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VtYW50aWNWYWx1ZS5pbmRleE9mKGdvb2RXb3Jkc1tqXSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBnb29kU2NvcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY1doaXRlbGlzdENhY2hlW3NlbWFudGljVmFsdWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNXaGl0ZWxpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbWFudGljVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYmFkU2NvcmUpIGJyZWFrO1xuICAgICAgICAgICAgaWYgKCFzZW1hbnRpY1ZhbHVlc1tpXSkgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBzZW1hbnRpY1ZhbHVlID0gc2VtYW50aWNWYWx1ZXNbaV0udHJpbSgpO1xuICAgICAgICAgICAgaWYgKCFzZW1hbnRpY1ZhbHVlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKHNlbWFudGljQmxhY2tsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBiYWRTY29yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VtYW50aWNCbGFja2xpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYmFkV29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VtYW50aWNWYWx1ZS5pbmRleE9mKGJhZFdvcmRzW2pdKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhZFNjb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2VtYW50aWNCbGFja2xpc3RDYWNoZVtzZW1hbnRpY1ZhbHVlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbWFudGljQmxhY2tsaXN0Q2FjaGVbc2VtYW50aWNWYWx1ZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ29vZFNjb3JlICYmIGJhZFNjb3JlKSByZXR1cm4gMDtcbiAgICAgICAgaWYgKGJhZFNjb3JlKSByZXR1cm4gLTEgKiBmYWN0b3I7XG4gICAgICAgIGlmIChnb29kU2NvcmUpIHJldHVybiBmYWN0b3I7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29tbW9uQW5jZXN0b3JEaXN0YW5jZShub2RlQTogTm9kZSwgbm9kZUI6IE5vZGUsIGRpc3RhbmNlTWFwOiBNYXA8Tm9kZSwgbnVtYmVyPikge1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSAxO1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGVuZGluZ01hcDogQXJyYXk8Tm9kZT4gPSBbXTtcbiAgICAgICAgbGV0IHBlbmRpbmdNYXBTdGFydERpc3RhbmNlID0gMDtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uZC1hc3NpZ25cbiAgICAgICAgd2hpbGUgKChub2RlQSA9IG5vZGVBLnBhcmVudEVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWROb2RlRGlzdGFuY2UgPSBkaXN0YW5jZU1hcC5nZXQobm9kZUEpO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGtub3cgaG93IGZhciB0aGUgcGFyZW50IGlzIHdlIGNhbiByZXR1cm4gZWFybHkgYnV0IHdlIG1heSBoYXZlIGxlYXJudCBhYm91dCBtb3JlIG5vZGVzIG9uIG91ciB3YXlcbiAgICAgICAgICAgIGlmIChjYWNoZWROb2RlRGlzdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlICs9IGNhY2hlZE5vZGVEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nTWFwU3RhcnREaXN0YW5jZSA9IGNhY2hlZE5vZGVEaXN0YW5jZSArIDE7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3ZSBrbm93IHdlIGRvbid0IGtub3cgaG93IGZhciB0aGlzIG5vZGUgaXMgc28gbGV0cyBpbXBsaWNpdGx5IHN0b3JlIGhvdyBmYXIgd2UgaGF2ZSBnb3Qgc28gZmFyXG4gICAgICAgICAgICBwZW5kaW5nTWFwLnB1c2gobm9kZUEpO1xuXG4gICAgICAgICAgICBpZiAobm9kZUEuY29udGFpbnMobm9kZUIpKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzdGFuY2UrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgLy8gZWFjaCBub2RlIHRoYXQgd2UgY2FtZSBhY3Jvc3Mgb24gb3VyIGpvdXJuZXkgY2FuIGJlIGFzc2lnbmVkIGEgdmFsdWUgb2YgaG93IGZhciBpdCBpcyBmcm9tIHRoZSBjb21tb24gcGFyZW50XG4gICAgICAgICAgICBpZiAocGVuZGluZ01hcC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBlbmRpbmdNYXBTdGFydERpc3RhbmNlOyBpIDwgZGlzdGFuY2UgJiYgcGVuZGluZ01hcC5sZW5ndGggPiAwOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHBlbmRpbmdNYXAucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlTWFwLnNldChub2RlLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlzdGFuY2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEaXNjb25uZWN0ZWQgbm9kZSAoSSBndWVzcyAtIHByb2JhYmx5IHdvbid0IGV2ZXIgaGFwcGVuKVxuICAgICAgICAgICAgcmV0dXJuIDkwMDcxOTkyNTQ3NDA5OTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdWJtaXQgYSBmb3JtXG4gICAgcHJpdmF0ZSBzdWJtaXRGb3JtKGZvcm06IEhUTUxGb3JtRWxlbWVudCwgc3VibWl0VGFyZ2V0TmVpZ2hib3VyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBzdWJtaXRFbGVtZW50ID0gdGhpcy5maW5kU3VibWl0QnV0dG9uKGZvcm0sIHN1Ym1pdFRhcmdldE5laWdoYm91cik7XG5cbiAgICAgICAgLy8gQXZvaWQgc2VhcmNoaW5nIGZvciBtYXRjaGluZyBwYXNzd29yZHMgdXBvbiBhdXRvLXN1Ym1pc3Npb25cbiAgICAgICAgdGhpcy5mb3JtU2F2aW5nLnJlbW92ZUFsbFN1Ym1pdEhhbmRsZXJzKCk7XG5cbiAgICAgICAgLy8gSWYgd2UndmUgZm91bmQgYSBidXR0b24gdG8gY2xpY2ssIHVzZSB0aGF0OyBpZiBub3QsIGp1c3Qgc3VibWl0IHRoZSBmb3JtLlxuICAgICAgICBpZiAoc3VibWl0RWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICBcIlN1Ym1pdGluZyB1c2luZyBlbGVtZW50OiBcIiArIChzdWJtaXRFbGVtZW50IGFzIGFueSkubmFtZSArIFwiOiBcIiArIHN1Ym1pdEVsZW1lbnQuaWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzdWJtaXRFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlN1Ym1pdGluZyB1c2luZyBmb3JtXCIpO1xuICAgICAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vVE9ETzo0OiBtYXliZSBzb21ldGhpbmcgbGlrZSB0aGlzIG1pZ2h0IGJlIHVzZWZ1bD8gRHVubm8gd2h5IGEgY2xpY2soKVxuICAgICAgICAvLyBhYm92ZSB3b3VsZG4ndCBiZSBzdWZmaWNpZW50IGJ1dCBtYXliZSBzb21lIGN1c3RvbSBldmVudCByYWlzaW5nIG1pZ2h0IGJlIGhhbmR5Li4uXG4gICAgICAgIC8qXG4gICAgICAgIGZ1bmN0aW9uIHNpbXVsYXRlQ2xpY2soKSB7XG4gICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO1xuICAgICAgICBldnQuaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCB0cnVlLCB0cnVlLCB3aW5kb3csXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICAgIHZhciBjYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hlY2tib3hcIik7XG4gICAgICAgIHZhciBjYW5jZWxlZCA9ICFjYi5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICAgIGlmKGNhbmNlbGVkKSB7XG4gICAgICAgICAgICAvLyBBIGhhbmRsZXIgY2FsbGVkIHByZXZlbnREZWZhdWx0XG4gICAgICAgICAgICBhbGVydChcImNhbmNlbGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm9uZSBvZiB0aGUgaGFuZGxlcnMgY2FsbGVkIHByZXZlbnREZWZhdWx0XG4gICAgICAgICAgICBhbGVydChcIm5vdCBjYW5jZWxlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICovXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVSZWxldmFuY2VTY29yZShcbiAgICAgICAgZW50cnk6IEVudHJ5LFxuICAgICAgICBwYXNzd29yZEZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXSxcbiAgICAgICAgY3VycmVudFBhZ2U6IG51bWJlcixcbiAgICAgICAgZm9ybVZpc2libGU6IGJvb2xlYW4sXG4gICAgICAgIHNjb3JlQ29uZmlnOiBGaWVsZE1hdGNoU2NvcmVDb25maWcsXG4gICAgICAgIHZpc2libGVGaWVsZENhY2hlOiBWaXNpYmxlRmllbGRDYWNoZVxuICAgICkge1xuICAgICAgICBsZXQgc2NvcmUgPSAwO1xuICAgICAgICBsZXQgbG93RmllbGRNYXRjaFJhdGlvID0gZmFsc2U7XG5cbiAgICAgICAgLy8gS2VlIDMuNCsgbm8gbG9uZ2VyIGNvbnNpZGVycyBwcmlvcml0eSBvdmVycmlkZXMgYmVjYXVzZSB0aGV5IHdlcmVcbiAgICAgICAgLy8gY29tcGxpY2F0ZWQgYW5kIHVucmVsaWFibGUgZXZlbiB3aGVuIGZ1bGx5IHVuZGVyc3Rvb2QuXG5cbiAgICAgICAgLy8gS2VlIDEuNSsgbm8gbG9uZ2VyIGNvbnNpZGVycyBhY3Rpb24gVVJMcyBpbiByZWxldmFuY2Ugd2VpZ2h0aW5nLiBTaW5jZSB0aGUgb25seVxuICAgICAgICAvLyBlbnRyeSBlbnRyaWVzIG9mIGludGVyZXN0IGFyZSBhbHJlYWR5IHByZS1tYXRjaGVkIGJ5IEtlZVBhc3MsIHRoaXMgc2hvdWxkIGhhdmUgYmVlblxuICAgICAgICAvLyBhZGRpbmcgbmVnbGlnYWJsZSBhY2N1cmFjeSB0byB0aGUgZm9ybSBtYXRjaGluZy5cblxuICAgICAgICBzY29yZSArPSBlbnRyeS5tYXRjaEFjY3VyYWN5O1xuXG4gICAgICAgIC8vIFB1bmlzaCBidXQgZG9uJ3QgZW50aXJlbHkgZXhjbHVkZSBtYXRjaGVzIGFnYWluc3QgaW52aXNpYmxlIGZvcm1zXG4gICAgICAgIC8vIFRoaXMgaXMgaW4gYWRkaXRpb24gdG8gdGhlIG1heGltdW0gc2NvcmUgb2YgaW52aXNpYmxlIGZpZWxkcyBiZWluZyBsaW1pdGVkXG4gICAgICAgIC8vIHNvIHRoYXQgZm9ybXMgd2l0aCBzb21lIHZpc2libGUgZmllbGRzIGJ1dCBpbnZpc2libGUgdXNlcm5hbWUvcGFzc3dvcmRcbiAgICAgICAgLy8gZmllbGRzIChvciBvdXIgYmVzdCBndWVzcyBhdCB0aGVtIGFueXdheSkgYXJlIGNvbnNpZGVyZWQgYSBsZXNzIGxpa2VseSBtYXRjaFxuICAgICAgICBpZiAoIWZvcm1WaXNpYmxlKSBzY29yZSAtPSAyMDtcblxuICAgICAgICAvLyBUaGlzIGlzIHNpbWlsYXIgdG8gX2ZpbGxNYW55Rm9ybUZpZWxkcyBzbyBtaWdodCBiZSBhYmxlIHRvIHJldXNlIHRoZSByZXN1bHRzIGluIGZ1dHVyZVxuICAgICAgICAvLyAoYnV0IG5lZWQgdG8gd2F0Y2ggZm9yIGNoYW5nZXMgdGhhdCBpbnZhbGlkYXRlIHRoZSBlYXJsaWVyIGNhbGN1bGF0aW9ucykuXG5cbiAgICAgICAgLy8gUmVxdWlyZSBhdCBsZWFzdCBhIHR5cGUgbWF0Y2ggZm9yIDItZmllbGQgZm9ybXMgKGUuZy4gdXNlci9wYXNzKTsgMSBtaXNzaW5nXG4gICAgICAgIC8vIG1hdGNoIGZvciAzIG9yIDQgZmllbGQgZm9ybXM7IGV0Yy5cbiAgICAgICAgY29uc3QgbWluTWF0Y2hlZEZpZWxkQ291bnRSYXRpbyA9IDAuNTAxO1xuXG4gICAgICAgIGNvbnN0IFtvdGhlclJlbGV2YW5jZVNjb3JlLCBvdGhlckZpZWxkTWF0Y2hTdWNjZXNzZXNdID0gdGhpcy5kZXRlcm1pbmVSZWxldmFuY2VTY29yZXMoXG4gICAgICAgICAgICBcIm90aGVyXCIsXG4gICAgICAgICAgICBvdGhlckZpZWxkcyxcbiAgICAgICAgICAgIGVudHJ5LmZpZWxkcy5maWx0ZXIoZiA9PiBmLnR5cGUgIT09IFwicGFzc3dvcmRcIiksXG4gICAgICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgIHNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgdmlzaWJsZUZpZWxkQ2FjaGUub3RoZXJcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgW3Bhc3N3b3JkUmVsZXZhbmNlU2NvcmUsIHBhc3N3b3JkRmllbGRNYXRjaFN1Y2Nlc3Nlc10gPSB0aGlzLmRldGVybWluZVJlbGV2YW5jZVNjb3JlcyhcbiAgICAgICAgICAgIFwicGFzc3dvcmRcIixcbiAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzLFxuICAgICAgICAgICAgZW50cnkuZmllbGRzLmZpbHRlcihmID0+IGYudHlwZSA9PT0gXCJwYXNzd29yZFwiKSxcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgc2NvcmVDb25maWcsXG4gICAgICAgICAgICB2aXNpYmxlRmllbGRDYWNoZS5wYXNzd29yZFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsUmVsZXZhbmNlU2NvcmUgPSBvdGhlclJlbGV2YW5jZVNjb3JlICsgcGFzc3dvcmRSZWxldmFuY2VTY29yZTtcblxuICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIGZpZWxkcyB0aGF0IGNhbiBldmVyIG1hdGNoIGFib3ZlIHRoZSBtaW5pbXVtIChlc3NlbnRpYWxseVxuICAgICAgICAvLyBpZ25vcmUgZW1wdHkgZm9ybSBvciBlbnRyeSBmaWVsZHMpLiBXaWxsIHVuZGVyZXN0aW1hdGUgbnVtYmVyIG9mIGZvcm1cbiAgICAgICAgLy8gZmllbGRzLCByZXN1bHRpbmcgaW4gaW5jcmVhc2VkIG1hdGNoIHJhdGlvIGFuZCBsZXNzIGFjY3VyYXRlIHJlbGV2YW5jeVxuICAgICAgICAvLyBzY29yZXMgZm9yIGZvcm1zIHRoYXQgY29udGFpbiBhIHVzZXJuYW1lL3Bhc3N3b3JkIGZpZWxkIHdpdGggbm8gbmFtZVxuICAgICAgICAvLyBvciBpZCBhdHRyaWJ1dGVzLiBObyBpZGVhIGlmIHRoaXMgd2lsbCBjYXVzZSBhIHByb2JsZW0uIFNlZW1zIHRvLlxuICAgICAgICAvLyBNaXRpZ2F0aW5nIGJ5IGFkanVzdGluZyBtaW4gcmVsZXZhbmN5IHZhbHVlcywgZXRjLiBzbyBjYW4gcmVtb3ZlXG4gICAgICAgIC8vIHRoaXMgY29tbWVudCBpbiBhIGZldyB2ZXJzaW9ucyBpZiBhbGwgaXMgZ29vZC5cbiAgICAgICAgLy8gdjMuNSBzdGlsbCBub3QgZ29vZC4gSGF2ZSBmaXhlZCBhIHZpc2liaWxpdHkgYnVnLCB3aGljaCBleGFjZXJiYXRlc1xuICAgICAgICAvLyBzb21lIG90aGVyIGJ1Z3MuIFdpbGwgdHJ5IGlnbm9yaW5nIG5vbi10ZXh0L3Bhc3N3b3JkIGZpZWxkcyBpbiByYXRpb1xuICAgICAgICAvLyBjYWxjdWxhdGlvbiBmb3IgYXV0b2ZpbGwgKGNhbiBleHRlbmQgdG8gZm9ybSBzZWxlY3Rpb24gY2FsY3VsYXRpb24gbGF0ZXIgaWYgZ29vZClcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkQ291bnQgPSBwYXNzd29yZEZpZWxkc1xuICAgICAgICAgICAgLmNvbmNhdChvdGhlckZpZWxkcylcbiAgICAgICAgICAgIC5maWx0ZXIoZiA9PiBmLmZpZWxkLmxvY2F0b3JzWzBdLmlkIHx8IGYuZmllbGQubG9jYXRvcnNbMF0ubmFtZSB8fCBmLmZpZWxkLnZhbHVlKVxuICAgICAgICAgICAgLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbG9naW5GaWVsZENvdW50ID0gZW50cnkuZmllbGRzLmZpbHRlcihcbiAgICAgICAgICAgIGYgPT4gZi5sb2NhdG9yc1swXS5pZCB8fCBmLmxvY2F0b3JzWzBdLm5hbWUgfHwgZi52YWx1ZVxuICAgICAgICApLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkQ291bnRGb3JBdXRvZmlsbCA9IHBhc3N3b3JkRmllbGRzXG4gICAgICAgICAgICAuY29uY2F0KG90aGVyRmllbGRzKVxuICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICBmID0+XG4gICAgICAgICAgICAgICAgICAgIChmLmZpZWxkLnR5cGUgPT09IFwicGFzc3dvcmRcIiB8fCBmLmZpZWxkLnR5cGUgPT09IFwidGV4dFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAoZi5maWVsZC5sb2NhdG9yc1swXS5pZCB8fCBmLmZpZWxkLmxvY2F0b3JzWzBdLm5hbWUpXG4gICAgICAgICAgICApLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbG9naW5GaWVsZENvdW50Rm9yQXV0b2ZpbGwgPSBlbnRyeS5maWVsZHMuZmlsdGVyKFxuICAgICAgICAgICAgZiA9PlxuICAgICAgICAgICAgICAgIChmLnR5cGUgPT09IFwicGFzc3dvcmRcIiB8fCBmLnR5cGUgPT09IFwidGV4dFwiKSAmJlxuICAgICAgICAgICAgICAgIChmLmxvY2F0b3JzWzBdLmlkIHx8IGYubG9jYXRvcnNbMF0ubmFtZSB8fCBmLnZhbHVlKVxuICAgICAgICApLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBmb3JtTWF0Y2hlZEZpZWxkQ291bnRGb3JBdXRvZmlsbCA9XG4gICAgICAgICAgICBvdGhlckZpZWxkTWF0Y2hTdWNjZXNzZXMuZmlsdGVyKHMgPT4gcyA9PT0gdHJ1ZSkubGVuZ3RoICtcbiAgICAgICAgICAgIHBhc3N3b3JkRmllbGRNYXRjaFN1Y2Nlc3Nlcy5maWx0ZXIocyA9PiBzID09PSB0cnVlKS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgbnVtYmVyT2ZOZXdQYXNzd29yZEZpZWxkcyA9IHBhc3N3b3JkRmllbGRzLmZpbHRlcihmID0+XG4gICAgICAgICAgICBmLmZpZWxkLmxvY2F0b3JzWzBdLmF1dG9jb21wbGV0ZVZhbHVlcz8uc29tZSh2ID0+IHYgPT09IFwibmV3LXBhc3N3b3JkXCIpXG4gICAgICAgICkubGVuZ3RoO1xuXG4gICAgICAgIC8vIExpbWl0aW5nIHRvIG51bWJlciBvZiBlbnRyeSBmaWVsZHMgd2lsbCByZWR1Y2UgZmFsc2UgcG9zaXRpdmVzIGJ1dFxuICAgICAgICAvL2luY3JlYXNlIGNoYW5jZSBvZiBhIHZhbGlkIGZvcm0gYmVpbmcgbWlzc2VkLlxuICAgICAgICAvLyBUbyBoZWxwIHdpdGggcGFzc3dvcmQgY2hhbmdpbmcsIHdlIHRyZWF0IGFueSBrbm93biBcIm5ldyBwYXNzd29yZFwiIGZpZWxkcyBhcyBhbiBhdXRvbWF0aWMgbWF0Y2hcbiAgICAgICAgY29uc3QgZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGwgPVxuICAgICAgICAgICAgTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgbG9naW5GaWVsZENvdW50Rm9yQXV0b2ZpbGwgKyBudW1iZXJPZk5ld1Bhc3N3b3JkRmllbGRzLFxuICAgICAgICAgICAgICAgIGZvcm1NYXRjaGVkRmllbGRDb3VudEZvckF1dG9maWxsXG4gICAgICAgICAgICApIC8gTWF0aC5tYXgoMSwgZm9ybUZpZWxkQ291bnRGb3JBdXRvZmlsbCk7XG5cbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXG4gICAgICAgICAgICBcImZvcm1GaWVsZENvdW50OiBcIiArXG4gICAgICAgICAgICAgICAgZm9ybUZpZWxkQ291bnQgK1xuICAgICAgICAgICAgICAgIFwiLCBsb2dpbkZpZWxkQ291bnQ6IFwiICtcbiAgICAgICAgICAgICAgICBsb2dpbkZpZWxkQ291bnQgK1xuICAgICAgICAgICAgICAgIFwiLCBsb2dpbkZpZWxkQ291bnRGb3JBdXRvZmlsbDogXCIgK1xuICAgICAgICAgICAgICAgIGxvZ2luRmllbGRDb3VudEZvckF1dG9maWxsICtcbiAgICAgICAgICAgICAgICBcIiwgZm9ybUZpZWxkQ291bnRGb3JBdXRvZmlsbDogXCIgK1xuICAgICAgICAgICAgICAgIGZvcm1GaWVsZENvdW50Rm9yQXV0b2ZpbGwgK1xuICAgICAgICAgICAgICAgIFwiLCBmb3JtTWF0Y2hlZEZpZWxkQ291bnRGb3JBdXRvZmlsbDogXCIgK1xuICAgICAgICAgICAgICAgIGZvcm1NYXRjaGVkRmllbGRDb3VudEZvckF1dG9maWxsICtcbiAgICAgICAgICAgICAgICBcIiwgbnVtYmVyT2ZOZXdQYXNzd29yZEZpZWxkczogXCIgK1xuICAgICAgICAgICAgICAgIG51bWJlck9mTmV3UGFzc3dvcmRGaWVsZHMgK1xuICAgICAgICAgICAgICAgIFwiLCBmaWVsZE1hdGNoUmF0aW86IFwiICtcbiAgICAgICAgICAgICAgICBmaWVsZE1hdGNoUmF0aW9Gb3JBdXRvZmlsbFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChmaWVsZE1hdGNoUmF0aW9Gb3JBdXRvZmlsbCA8IG1pbk1hdGNoZWRGaWVsZENvdW50UmF0aW8pIHtcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXG4gICAgICAgICAgICAgICAgZW50cnkudXVpZCArXG4gICAgICAgICAgICAgICAgICAgIFwiIHdpbGwgYmUgZm9yY2VkIHRvIG5vdCBhdXRvLWZpbGwgYmVjYXVzZSB0aGUgZm9ybSBmaWVsZCBtYXRjaCByYXRpbyAoXCIgK1xuICAgICAgICAgICAgICAgICAgICBmaWVsZE1hdGNoUmF0aW9Gb3JBdXRvZmlsbCArXG4gICAgICAgICAgICAgICAgICAgIFwiKSBpcyBub3QgaGlnaCBlbm91Z2guXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsb3dGaWVsZE1hdGNoUmF0aW8gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXZlcmFnZUZpZWxkUmVsZXZhbmNlID1cbiAgICAgICAgICAgIHRvdGFsUmVsZXZhbmNlU2NvcmUgLyBNYXRoLm1heChmb3JtRmllbGRDb3VudCwgbG9naW5GaWVsZENvdW50KTtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRSZWxldmFuY2UgPVxuICAgICAgICAgICAgYXZlcmFnZUZpZWxkUmVsZXZhbmNlIC8gKE1hdGguYWJzKGZvcm1GaWVsZENvdW50IC0gbG9naW5GaWVsZENvdW50KSArIDEpO1xuXG4gICAgICAgIHNjb3JlICs9IGFkanVzdGVkUmVsZXZhbmNlO1xuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJSZWxldmFuY2UgZm9yIFwiICsgZW50cnkudXVpZCArIFwiIGlzOiBcIiArIHNjb3JlKTtcbiAgICAgICAgcmV0dXJuIHsgc2NvcmU6IHNjb3JlLCBsb3dGaWVsZE1hdGNoUmF0aW86IGxvd0ZpZWxkTWF0Y2hSYXRpbyB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZGV0ZXJtaW5lUmVsZXZhbmNlU2NvcmVzKFxuICAgICAgICBkZWJ1Z05hbWU6IHN0cmluZyxcbiAgICAgICAgbWF0Y2hlZEZpZWxkczogTWF0Y2hlZEZpZWxkW10sXG4gICAgICAgIGVudHJ5RmllbGRzOiBGaWVsZFtdLFxuICAgICAgICBjdXJyZW50UGFnZTogbnVtYmVyLFxuICAgICAgICBzY29yZUNvbmZpZzogRmllbGRNYXRjaFNjb3JlQ29uZmlnLFxuICAgICAgICB2aXNpYmxlRmllbGRNYXA6IGJvb2xlYW5bXVxuICAgICk6IFtudW1iZXIsIGJvb2xlYW5bXV0ge1xuICAgICAgICBsZXQgdG90YWxSZWxldmFuY2VTY29yZSA9IDA7XG4gICAgICAgIGNvbnN0IG1pbkZpZWxkUmVsZXZhbmNlID0gMTtcbiAgICAgICAgY29uc3QgZmllbGRNYXRjaFN1Y2Nlc3NlczogYm9vbGVhbltdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaGVkRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbW9zdFJlbGV2YW50U2NvcmUgPSAwO1xuICAgICAgICAgICAgY29uc3QgZm9ybUZpZWxkID0gbWF0Y2hlZEZpZWxkc1tpXS5maWVsZDtcblxuICAgICAgICAgICAgaWYgKGZvcm1GaWVsZC5sb2NhdG9yc1swXS5hdXRvY29tcGxldGVWYWx1ZXM/LnNvbWUodiA9PiB2ID09PSBcIm5ldy1wYXNzd29yZFwiKSkge1xuICAgICAgICAgICAgICAgIC8vIFJlY29yZCBhcyBhIHN1Y2Nlc3NmdWwgbWF0Y2ggZm9yIHRoZSBwdXJwb3NlcyBvZiBtYXRjaCByYXRpbyBjYWxjdWxhdGlvbnNcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbmV3IHBhc3N3b3JkIGZpZWxkIGFzIHBhcnQgb2YgYSBjaGFuZ2UgcGFzc3dvcmQgZm9ybS4gU28gd2VcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhZmZlY3QgdGhlIHNlbGVjdGlvbiBvZiB0aGUgZm9ybSBvciBlbnRyeSB0byBmaWxsIGJ1dCB3aGVuIGFsbFxuICAgICAgICAgICAgICAgIC8vIGVsc2UgaXMgZXF1YWwsIHdlIHdpbGwgaGF2ZSBhIGhpZ2hlciBjaGFuY2Ugb2YgYXV0by1maWxsaW5nIHRoZSBleGlzdGluZ1xuICAgICAgICAgICAgICAgIC8vIHVzZXIgbmFtZSBhbmQgcGFzc3dvcmQgZmllbGRzLlxuICAgICAgICAgICAgICAgIGZpZWxkTWF0Y2hTdWNjZXNzZXNbaV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVudHJ5RmllbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm1TY29yZSA9IHRoaXMuY2FsY3VsYXRlRmllbGRNYXRjaFNjb3JlKFxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkRmllbGRzW2ldLFxuICAgICAgICAgICAgICAgICAgICBlbnRyeUZpZWxkc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlRmllbGRNYXBbaV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFxuICAgICAgICAgICAgICAgICAgICBcIlN1aXRhYmlsaXR5IG9mIHB1dHRpbmcgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWdOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGZpZWxkIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgaW50byBmb3JtIGZpZWxkIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgKGlkOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtRmllbGQubG9jYXRvcnNbMF0uaWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIpIGlzIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZtU2NvcmVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChmbVNjb3JlID4gbW9zdFJlbGV2YW50U2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9zdFJlbGV2YW50U2NvcmUgPSBmbVNjb3JlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmbVNjb3JlRm9yUmF0aW8gPSBmbVNjb3JlIC0gKHZpc2libGVGaWVsZE1hcFtpXSA/IDAgOiAxMCk7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAoZm9ybUZpZWxkLnR5cGUgPT09IFwidGV4dFwiIHx8IGZvcm1GaWVsZC50eXBlID09PSBcInBhc3N3b3JkXCIpICYmXG4gICAgICAgICAgICAgICAgICAgIGZtU2NvcmVGb3JSYXRpbyA+PSBtaW5GaWVsZFJlbGV2YW5jZSAmJlxuICAgICAgICAgICAgICAgICAgICBlbnRyeUZpZWxkc1tqXS52YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhZmllbGRNYXRjaFN1Y2Nlc3Nlc1tpXVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZE1hdGNoU3VjY2Vzc2VzW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkRmllbGRzW2ldLmhpZ2hlc3RTY29yZSA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgIGZtU2NvcmUgPiBtYXRjaGVkRmllbGRzW2ldLmhpZ2hlc3RTY29yZVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkRmllbGRzW2ldLmhpZ2hlc3RTY29yZSA9IGZtU2NvcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG90YWxSZWxldmFuY2VTY29yZSArPSBtb3N0UmVsZXZhbnRTY29yZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvdGFsUmVsZXZhbmNlU2NvcmUsIGZpZWxkTWF0Y2hTdWNjZXNzZXNdO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVLZWVJY29uRnJvbUFsbEZpZWxkcygpIHtcbiAgICAgICAgdGhpcy5rZWVGaWVsZEljb24ucmVtb3ZlS2VlSWNvbkZyb21BbGxGaWVsZHMoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWVsZCB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRmllbGRcIjtcblxuZXhwb3J0IGNsYXNzIE1hdGNoZWRGaWVsZCB7XG4gICAgZmllbGQ6IEZpZWxkO1xuICAgIERPTWVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudDtcbiAgICBoaWdoZXN0U2NvcmU6IG51bWJlcjtcbn1cbiIsImltcG9ydCB7IEtlZUxvZ2dlciB9IGZyb20gXCIuLi9jb21tb24vTG9nZ2VyXCI7XG5pbXBvcnQgeyBNYXRjaGVkRmllbGQgfSBmcm9tIFwiLi9NYXRjaGVkRmllbGRcIjtcbmltcG9ydCB7IEZpZWxkIH0gZnJvbSBcIi4uL2NvbW1vbi9tb2RlbC9GaWVsZFwiO1xuXG4vKlxuICBUaGlzIGNvbnRhaW5zIGNvZGUgcmVsYXRlZCB0byB0aGUgbWFuYWdlbWVudCBhbmQgbWFuaXB1bGF0aW9uIG9mIGZvcm1zIGFuZCBmb3JtIGZpZWxkcy5cbiovXG5cbmV4cG9ydCBjbGFzcyBGb3JtVXRpbHMge1xuICAgIGZpbmRMb2dpbk9wcyA9IFtdO1xuICAgIG1hdGNoUmVzdWx0cyA9IFtdO1xuICAgIExvZ2dlcjogS2VlTG9nZ2VyO1xuXG4gICAgY29uc3RydWN0b3IobG9nZ2VyOiBLZWVMb2dnZXIpIHtcbiAgICAgICAgdGhpcy5Mb2dnZXIgPSBsb2dnZXI7XG4gICAgfVxuXG4gICAgY291bnRBbGxEb2N1bWVudHMoZnJhbWU6IFdpbmRvdykge1xuICAgICAgICBpZiAoIXRoaXMuaXNVcmlXZUNhbkZpbGwoZnJhbWUubG9jYXRpb24pKSByZXR1cm4gMDtcblxuICAgICAgICBsZXQgbG9jYWxEb2NDb3VudCA9IDE7XG5cbiAgICAgICAgaWYgKGZyYW1lLmZyYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBmcmFtZXMgPSBmcmFtZS5mcmFtZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxvY2FsRG9jQ291bnQgKz0gdGhpcy5jb3VudEFsbERvY3VtZW50cyhmcmFtZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbERvY0NvdW50O1xuICAgIH1cblxuICAgIGlzVXJpV2VDYW5GaWxsKHVyaSkge1xuICAgICAgICBpZiAodXJpLnByb3RvY29sID09IFwiaHR0cDpcIiB8fCB1cmkucHJvdG9jb2wgPT0gXCJodHRwczpcIiB8fCB1cmkucHJvdG9jb2wgPT0gXCJmaWxlOlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNBVGV4dEZvcm1GaWVsZFR5cGUodHlwZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlID09IFwiY2hlY2tib3hcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcInNlbGVjdC1vbmVcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcInJhZGlvXCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJwYXNzd29yZFwiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwiaGlkZGVuXCIgfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJzdWJtaXRcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcImJ1dHRvblwiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwiZmlsZVwiIHx8XG4gICAgICAgICAgICB0eXBlID09IFwiaW1hZ2VcIiB8fFxuICAgICAgICAgICAgdHlwZSA9PSBcInJlc2V0XCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzQUtub3duVXNlcm5hbWVTdHJpbmcoZmllbGROYW1lSW4pIHtcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gZmllbGROYW1lSW4udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlcm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwial91c2VybmFtZVwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyX25hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlclwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyLW5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibG9naW5cIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidmJfbG9naW5fdXNlcm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibmFtZVwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyIG5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwidXNlciBpZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJ1c2VyLWlkXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcInVzZXJpZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJlbWFpbFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJlLW1haWxcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiZm9ybV9sb2dpbm5hbWVcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwid3BuYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm1haWxcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwibG9naW5pZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJsb2dpbiBpZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJsb2dpbl9uYW1lXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm9wZW5pZF9pZGVudGlmaWVyXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImF1dGhlbnRpY2F0aW9uX2VtYWlsXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcIm9wZW5pZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJhdXRoX2VtYWlsXCIgfHxcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9PSBcImF1dGhfaWRcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiYXV0aGVudGljYXRpb25faWRlbnRpZmllclwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJhdXRoZW50aWNhdGlvbl9pZFwiIHx8XG4gICAgICAgICAgICBmaWVsZE5hbWUgPT0gXCJjdXN0b21lcl9udW1iZXJcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwiY3VzdG9tZXJudW1iZXJcIiB8fFxuICAgICAgICAgICAgZmllbGROYW1lID09IFwib25saW5laWRcIlxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIGV0Yy4gZXRjLlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogZ2V0Rm9ybUZpZWxkc1xuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUgdXNlcm5hbWVJbmRleCBhbmQgcGFzc3dvcmQgZmllbGRzIGZvdW5kIGluIHRoZSBmb3JtLlxuICAgICAqIENhbiBoYW5kbGUgY29tcGxleCBmb3JtcyBieSB0cnlpbmcgdG8gZmlndXJlIG91dCB3aGF0IHRoZVxuICAgICAqIHJlbGV2YW50IGZpZWxkcyBhcmUuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOiBbdXNlcm5hbWVJbmRleCwgcGFzc3dvcmRzLCAuLi5dXG4gICAgICogYWxsIGFycmF5cyBhcmUgc3RhbmRhcmQgamF2YXNjcmlwdCBhcnJheXNcbiAgICAgKiB1c2VybmFtZUZpZWxkIG1heSBiZSBudWxsLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRGb3JtRmllbGRzKGZvcm0sIGlzU3VibWlzc2lvbjogYm9vbGVhbiwgbWF4aW11bUZpZWxkQ291bnQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwd0ZpZWxkczogTWF0Y2hlZEZpZWxkW10gPSBbXTtcbiAgICAgICAgY29uc3Qgb3RoZXJGaWVsZHM6IE1hdGNoZWRGaWVsZFtdID0gW107XG4gICAgICAgIGNvbnN0IGFsbEZpZWxkczoge1xuICAgICAgICAgICAgaW5kZXg6IG51bWJlcjtcbiAgICAgICAgICAgIGVsZW1lbnQ6IE1hdGNoZWRGaWVsZDtcbiAgICAgICAgICAgIHR5cGU6IHN0cmluZztcbiAgICAgICAgfVtdID0gW107XG4gICAgICAgIGxldCBmaXJzdFBhc3N3b3JkSW5kZXggPSAtMTtcbiAgICAgICAgbGV0IGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4ID0gLTE7XG4gICAgICAgIGxldCB1c2VybmFtZUluZGV4ID0gLTE7XG5cbiAgICAgICAgLy8gc2VhcmNoIHRoZSBET00gZm9yIGFueSBmb3JtIGZpZWxkcyB3ZSBtaWdodCBiZSBpbnRlcmVzdGVkIGluXG4gICAgICAgIGNvbnN0IHRvdGFsRWxlbWVudHMgPSBmb3JtLmVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZWxlbWVudExpbWl0ID0gdG90YWxFbGVtZW50cyA8IDIwMDAgPyB0b3RhbEVsZW1lbnRzIDogMjAwMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50TGltaXQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFsbEZpZWxkcy5sZW5ndGggPiBtYXhpbXVtRmllbGRDb3VudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvbyBtYW55IGZpZWxkc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBmb3JtLmVsZW1lbnRzW2ldLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgICAgICBmb3JtLmVsZW1lbnRzW2ldLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09IFwia2V5Z2VuXCIgfHxcbiAgICAgICAgICAgICAgICBmb3JtLmVsZW1lbnRzW2ldLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09IFwib3V0cHV0XCIgfHxcbiAgICAgICAgICAgICAgICAoZm9ybS5lbGVtZW50c1tpXS5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSAhPSBcImlucHV0XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgKGZvcm0uZWxlbWVudHNbaV0udHlwZSA9PSB1bmRlZmluZWQgfHwgZm9ybS5lbGVtZW50c1tpXS50eXBlID09IG51bGwpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIG1heWJlIGl0J3Mgc29tZXRoaW5nIHVuLWludGVyZXN0aW5nXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRvbVR5cGU6IHN0cmluZyA9IGZvcm0uZWxlbWVudHNbaV0udHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICBpZiAoZG9tVHlwZSA9PSBcImZpZWxkc2V0XCIpIGNvbnRpbnVlOyAvLyBub3QgaW50ZXJlc3RlZCBpbiBmaWVsZHNldHNcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRvbVR5cGUgIT0gXCJwYXNzd29yZFwiICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNBVGV4dEZvcm1GaWVsZFR5cGUoZG9tVHlwZSkgJiZcbiAgICAgICAgICAgICAgICBkb21UeXBlICE9IFwiY2hlY2tib3hcIiAmJlxuICAgICAgICAgICAgICAgIGRvbVR5cGUgIT0gXCJyYWRpb1wiICYmXG4gICAgICAgICAgICAgICAgZG9tVHlwZSAhPSBcInNlbGVjdC1vbmVcIlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIGlnbm9yaW5nIG90aGVyIGZvcm0gdHlwZXNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJyYWRpb1wiICYmIGlzU3VibWlzc2lvbiAmJiBmb3JtLmVsZW1lbnRzW2ldLmNoZWNrZWQgPT0gZmFsc2UpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJwYXNzd29yZFwiICYmIGlzU3VibWlzc2lvbiAmJiAhZm9ybS5lbGVtZW50c1tpXS52YWx1ZSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoZG9tVHlwZSA9PSBcInNlbGVjdC1vbmVcIiAmJiBpc1N1Ym1pc3Npb24gJiYgIWZvcm0uZWxlbWVudHNbaV0udmFsdWUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhgcHJvY2Vzc2luZyBmaWVsZCB3aXRoIGRvbXR5cGUgJHtkb21UeXBlfS4uLmApO1xuICAgICAgICAgICAgYWxsRmllbGRzW2FsbEZpZWxkcy5sZW5ndGhdID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IG5ldyBNYXRjaGVkRmllbGQoKSxcbiAgICAgICAgICAgICAgICB0eXBlOiBkb21UeXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGZpZWxkVmFsdWUgPSBmb3JtLmVsZW1lbnRzW2ldLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJjaGVja2JveFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcm0uZWxlbWVudHNbaV0uY2hlY2tlZCkgZmllbGRWYWx1ZSA9IFwiS0VFRk9YX0NIRUNLRURfRkxBR19UUlVFXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBmaWVsZFZhbHVlID0gXCJLRUVGT1hfQ0hFQ0tFRF9GTEFHX0ZBTFNFXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IEZpZWxkLmZyb21ET00oZm9ybS5lbGVtZW50c1tpXSwgZG9tVHlwZSwgZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICBhbGxGaWVsZHNbYWxsRmllbGRzLmxlbmd0aCAtIDFdLmVsZW1lbnQuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgICAgIGFsbEZpZWxkc1thbGxGaWVsZHMubGVuZ3RoIC0gMV0uZWxlbWVudC5ET01lbGVtZW50ID0gZm9ybS5lbGVtZW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKGRvbVR5cGUgPT0gXCJwYXNzd29yZFwiICYmIGZpcnN0UGFzc3dvcmRJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGZpcnN0UGFzc3dvcmRJbmRleCA9IGFsbEZpZWxkcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FUZXh0Rm9ybUZpZWxkVHlwZShkb21UeXBlKSAmJlxuICAgICAgICAgICAgICAgIGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4ID09IC0xICYmXG4gICAgICAgICAgICAgICAgKHRoaXMuaXNBS25vd25Vc2VybmFtZVN0cmluZyhmb3JtLmVsZW1lbnRzW2ldLm5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmxvY2F0b3JzWzBdLmxhYmVscz8uc29tZShsYWJlbCA9PiB0aGlzLmlzQUtub3duVXNlcm5hbWVTdHJpbmcobGFiZWwpKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4ID0gYWxsRmllbGRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmb3JtLmVsZW1lbnRzW2ldLmtlZUluaXRpYWxEZXRlY3RlZFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3JtLmVsZW1lbnRzW2ldLmtlZUluaXRpYWxEZXRlY3RlZFZhbHVlID0gZmllbGRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdvcmsgb3V0IHdoaWNoIERPTSBmb3JtIGVsZW1lbnQgaXMgbW9zdCBsaWtlbHkgdG8gYmUgdGhlIHVzZXJuYW1lIGZpZWxkLlxuICAgICAgICAvLyBUaGlzIGluZm9ybWF0aW9uIGlzIG9ubHkgdXNlZCB0byBkaXNwbGF5IHRoZSB1c2VybmFtZSB0byB0aGUgdXNlciBzbyBhbiBpbmFjY3VyYXRlXG4gICAgICAgIC8vIGNob2ljZSB3b24ndCBpbXBhY3QgdGhlIGZvcm0gZGV0ZWN0aW9uIG9yIGZpbGxpbmcgYmVoYXZpb3VyLlxuICAgICAgICAvL1RPRE86NDogRXh0ZW5kIHRoaXMgdG8gaW5zcGVjdCBtb3JlIHRoYW4ganVzdCB0aGUgbmFtZSBvZiB0aGUgZmllbGQuIEUuZy4gbWF4IGxlbmd0aD9cbiAgICAgICAgLy9UT0RPOjQ6IEZvciBmb3JtIGZpbGxpbmcgKG5vdCBzdWJtaXR0aW5nKSB3ZSBtaWdodCB3YW50IHRvIHNlbGVjdCBiYXNlZCB1cG9uIGZvdW5kIGRhdGEgaW4gS2VlUGFzcz9cbiAgICAgICAgaWYgKGZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4ICE9IC0xKSB1c2VybmFtZUluZGV4ID0gZmlyc3RQb3NzaWJsZVVzZXJuYW1lSW5kZXg7XG4gICAgICAgIGVsc2UgaWYgKGZpcnN0UGFzc3dvcmRJbmRleCA+IDApIHVzZXJuYW1lSW5kZXggPSBmaXJzdFBhc3N3b3JkSW5kZXggLSAxO1xuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInVzZXJuYW1lSW5kZXg6IFwiICsgdXNlcm5hbWVJbmRleCk7XG5cbiAgICAgICAgbGV0IG90aGVyQ291bnQgPSAwO1xuICAgICAgICBsZXQgYWN0dWFsVXNlcm5hbWVJbmRleCA9IDA7XG5cbiAgICAgICAgLy8gc2VwYXJhdGUgdGhlIGZpZWxkIGRhdGEgaW50byBhcHByb3ByaWF0ZSB2YXJpYWJsZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxGaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhbGxGaWVsZHNbaV0udHlwZSA9PSBcInBhc3N3b3JkXCIpIHB3RmllbGRzW3B3RmllbGRzLmxlbmd0aF0gPSBhbGxGaWVsZHNbaV0uZWxlbWVudDtcbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuaXNBVGV4dEZvcm1GaWVsZFR5cGUoYWxsRmllbGRzW2ldLnR5cGUpIHx8XG4gICAgICAgICAgICAgICAgYWxsRmllbGRzW2ldLnR5cGUgPT0gXCJjaGVja2JveFwiIHx8XG4gICAgICAgICAgICAgICAgYWxsRmllbGRzW2ldLnR5cGUgPT0gXCJyYWRpb1wiIHx8XG4gICAgICAgICAgICAgICAgYWxsRmllbGRzW2ldLnR5cGUgPT0gXCJzZWxlY3Qtb25lXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG90aGVyRmllbGRzW290aGVyRmllbGRzLmxlbmd0aF0gPSBhbGxGaWVsZHNbaV0uZWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSB1c2VybmFtZUluZGV4KSBhY3R1YWxVc2VybmFtZUluZGV4ID0gb3RoZXJDb3VudDtcbiAgICAgICAgICAgICAgICBlbHNlIG90aGVyQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiYWN0dWFsVXNlcm5hbWVJbmRleDogXCIgKyBhY3R1YWxVc2VybmFtZUluZGV4KTtcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJvdGhlckZpZWxkcy5sZW5ndGg6XCIgKyBvdGhlckZpZWxkcy5sZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY3R1YWxVc2VybmFtZUluZGV4LFxuICAgICAgICAgICAgcHdGaWVsZHMsXG4gICAgICAgICAgICBvdGhlckZpZWxkc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEEgYmFzaWMsIHNsaWdodGx5IGZsYXdlZCBidXQgZmFzdCB2aXNpYmlsaXR5IHRlc3RcbiAgICBwdWJsaWMgaXNET01FbGVtZW50VmlzaWJsZShlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQub2Zmc2V0UGFyZW50ICYmIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID09PSAwICYmIGVsZW1lbnQub2Zmc2V0V2lkdGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyAvLyB1c2VkIGZvciBtdWx0aXBhZ2Ugc3R1ZmYgdGhhdCB3ZSBtaWdodCBub3QgYmUgYWJsZSB0byBzdXBwb3J0IHlldCBpbiB3ZWJleHRlbnNpb25zXG4gICAgLy8gcmVzZXRGb3JtRmlsbFNlc3Npb24gKCkge1xuICAgIC8vICAgICBpZiAocmVzZXRGb3JtRmlsbFRpbWVyICE9IG51bGwpIHtcbiAgICAvLyAgICAgICAgIGNsZWFyVGltZW91dChyZXNldEZvcm1GaWxsVGltZXIpO1xuICAgIC8vICAgICAgICAgcmVzZXRGb3JtRmlsbFRpbWVyID0gbnVsbDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICB0YWJTdGF0ZS5jdXJyZW50UGFnZSA9IDA7XG4gICAgLy8gICAgIHRhYlN0YXRlLm1heGltdW1QYWdlID0gMDtcbiAgICAvLyAgICAgdGFiU3RhdGUuZm9yY2VBdXRvU3VibWl0ID0gbnVsbDtcbiAgICAvLyAgICAgdGFiU3RhdGUudXNlclJlY2VudGx5RGVtYW5kZWRBdXRvU3VibWl0ID0gZmFsc2U7XG4gICAgLy8gICAgIExvZ2dlci5kZWJ1ZyhcIlJlc2V0IGZvcm0tZmlsbGluZyBzZXNzaW9uIChwYWdlID0gMCBhbmQgY2FuY2VsbGVkIGFueSBmb3JjZWQgYXV0b3N1Ym1pdCkuXCIpO1xuICAgIC8vIH07XG4gICAgLy92YXIgcmVzZXRGb3JtRmlsbFRpbWVyID0gbnVsbDtcbn1cbiIsImltcG9ydCB7IEZvcm1VdGlscyB9IGZyb20gXCIuL2Zvcm1zVXRpbHNcIjtcbmltcG9ydCB7IE1hdGNoUmVzdWx0IH0gZnJvbSBcIi4vTWF0Y2hSZXN1bHRcIjtcbmltcG9ydCB7IEZpbGxlZEZpZWxkIH0gZnJvbSBcIi4vRmlsbGVkRmllbGRcIjtcbmltcG9ydCB7IEtlZUxvZ2dlciB9IGZyb20gXCIuLi9jb21tb24vTG9nZ2VyXCI7XG5pbXBvcnQgeyBjb25maWdNYW5hZ2VyIH0gZnJvbSBcIi4uL2NvbW1vbi9Db25maWdNYW5hZ2VyXCI7XG5pbXBvcnQgeyBBZGRvbk1lc3NhZ2UgfSBmcm9tIFwiLi4vY29tbW9uL0FkZG9uTWVzc2FnZVwiO1xuaW1wb3J0IHsgTWF0Y2hlZEZpZWxkIH0gZnJvbSBcIi4vTWF0Y2hlZEZpZWxkXCI7XG5pbXBvcnQgeyBGaWVsZCB9IGZyb20gXCIuLi9jb21tb24vbW9kZWwvRmllbGRcIjtcblxuZGVjbGFyZSBjb25zdCBwdW55Y29kZTtcblxuaW50ZXJmYWNlIFN1Ym1pdEhhbmRsZXJBdHRhY2htZW50IHtcbiAgICB0YXJnZXQ6IEhUTUxFbGVtZW50O1xuICAgIGhhbmRsZXI6IChlOiBFdmVudCkgPT4gdm9pZDtcbiAgICBmb3JtOiBIVE1MRm9ybUVsZW1lbnQ7XG59XG5cbmV4cG9ydCBjbGFzcyBGb3JtU2F2aW5nIHtcbiAgICBwcml2YXRlIExvZ2dlcjogS2VlTG9nZ2VyO1xuICAgIHByaXZhdGUgZm9ybVV0aWxzOiBGb3JtVXRpbHM7XG4gICAgcHJpdmF0ZSBTdWJtaXRIYW5kbGVyQXR0YWNobWVudHM6IFN1Ym1pdEhhbmRsZXJBdHRhY2htZW50W10gPSBbXTtcbiAgICBwcml2YXRlIG1hdGNoUmVzdWx0OiBNYXRjaFJlc3VsdDsgLy9UT0RPOjQ6IE1heSBiZSBvdmVya2lsbCB0byBoYXZlIGFsbCB0aGlzIGRhdGEgYXZhaWxhYmxlIGZvciBzYXZpbmdcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlQb3J0OiBicm93c2VyLnJ1bnRpbWUuUG9ydCwgbG9nZ2VyOiBLZWVMb2dnZXIsIGZvcm1VdGlsczogRm9ybVV0aWxzKSB7XG4gICAgICAgIHRoaXMuTG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgICB0aGlzLmZvcm1VdGlscyA9IGZvcm1VdGlscztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkU3VibWl0SGFuZGxlcih0YXJnZXQ6IEhUTUxFbGVtZW50LCBmb3JtVG9TdWJtaXQ6IEhUTUxGb3JtRWxlbWVudCkge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB0aGlzLnN1Ym1pdEhhbmRsZXIoZSwgZm9ybVRvU3VibWl0KTtcbiAgICAgICAgdGhpcy5TdWJtaXRIYW5kbGVyQXR0YWNobWVudHMucHVzaCh7XG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIGZvcm06IGZvcm1Ub1N1Ym1pdCxcbiAgICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0YXJnZXQpIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlcik7XG4gICAgICAgIGZvcm1Ub1N1Ym1pdC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVBbGxTdWJtaXRIYW5kbGVycygpIHtcbiAgICAgICAgdGhpcy5TdWJtaXRIYW5kbGVyQXR0YWNobWVudHMuZm9yRWFjaChhdHRhY2htZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChhdHRhY2htZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhdHRhY2htZW50LmhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXR0YWNobWVudC5mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYXR0YWNobWVudC5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuU3VibWl0SGFuZGxlckF0dGFjaG1lbnRzID0gW107XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZU1hdGNoUmVzdWx0KG1hdGNoUmVzdWx0OiBNYXRjaFJlc3VsdCkge1xuICAgICAgICB0aGlzLm1hdGNoUmVzdWx0ID0gbWF0Y2hSZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB3b24ndCBhbHdheXMgYmUgY2FsbGVkIGJlZm9yZSBhbGwgZXZlbnQgaGFuZGxlcnMgb24gdGhlIHdlYiBwYWdlIHNvIG9uXG4gICAgLy8gc29tZSBzaXRlcyB3ZSB3aWxsIHN0b3JlIGludmFsaWQgZGF0YSAoaW4gY2FzZXMgd2hlcmUgdGhlIGxvZ2luIHNjcmlwdHNcbiAgICAvLyBtYW5nbGUgdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWVsZHMgYmVmb3JlIHN1Ym1pdHRpbmcgdGhlbSkuXG4gICAgLy9UT0RPOjQ6IFBvc3NpYmx5IGNvdWxkIHNsaWdodGx5IHJlZHVjZSBpbmNpZGVuY2Ugb2YgdGhpcyBwcm9ibGVtIGJ5IGxpc3RlbmluZ1xuICAgIC8vIHRvIGV2ZXJ5IGNsaWNrIG9uIHRoZSBkb2N1bWVudCBib2R5IG9yIHRyYWNraW5nIGFsbCBpbnB1dCBldmVudHMgYnV0IHBlcmZvcm1hbmNlP1xuICAgIHByaXZhdGUgc3VibWl0SGFuZGxlcihfZTogRXZlbnQsIGZvcm06IEhUTUxGb3JtRWxlbWVudCkge1xuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInN1Ym1pdEhhbmRsZXIgY2FsbGVkXCIpO1xuXG4gICAgICAgIC8vIFVudGlsIHRoZSBuZXh0IHRpbWUgd2UgaGF2ZSBzZWFyY2hlZCBmb3IgZm9ybXMgaW4gdGhpcyBwYWdlLFxuICAgICAgICAvLyBkb24ndCByZXNwb25kIHRvIGFueSBmb3JtIHN1Ym1pc3Npb24gcmVsYXRlZCBldmVudHNcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxTdWJtaXRIYW5kbGVycygpO1xuXG4gICAgICAgIGNvbnN0IGRvYyA9IGZvcm0ub3duZXJEb2N1bWVudDtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChkb2MuVVJMKTtcbiAgICAgICAgdXJsLmhvc3RuYW1lID0gcHVueWNvZGUudG9Vbmljb2RlKHVybC5ob3N0bmFtZSk7XG5cbiAgICAgICAgY29uc3QgY29uZiA9IGNvbmZpZ01hbmFnZXIuc2l0ZUNvbmZpZ0Zvcih1cmwuaHJlZik7XG4gICAgICAgIGlmIChjb25mLnByZXZlbnRTYXZlTm90aWZpY2F0aW9uKSByZXR1cm47XG5cbiAgICAgICAgbGV0IGlzUGFzc3dvcmRDaGFuZ2VGb3JtID0gZmFsc2U7XG4gICAgICAgIGxldCBpc1JlZ2lzdHJhdGlvbkZvcm0gPSBmYWxzZTtcblxuICAgICAgICAvLyBHZXQgdGhlIGFwcHJvcHJpYXRlIGZpZWxkcyBmcm9tIHRoZSBmb3JtLlxuICAgICAgICBjb25zdCBwYXNzd29yZEZpZWxkczogTWF0Y2hlZEZpZWxkW10gPSBbXTtcbiAgICAgICAgbGV0IHNjYW5SZXN1bHQ6IHtcbiAgICAgICAgICAgIG90aGVyRmllbGRzOiBNYXRjaGVkRmllbGRbXTtcbiAgICAgICAgICAgIGFjdHVhbFVzZXJuYW1lSW5kZXg/OiBudW1iZXI7XG4gICAgICAgICAgICBwd0ZpZWxkcz86IE1hdGNoZWRGaWVsZFtdO1xuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2NhblJlc3VsdCA9IHRoaXMuZm9ybVV0aWxzLmdldEZvcm1GaWVsZHMoZm9ybSwgdHJ1ZSwgNTApO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcIkxvc3QgaW50ZXJlc3QgaW4gdGhpcyBmb3JtIGFmdGVyIGZpbmRpbmcgdG9vIG1hbnkgZmllbGRzXCIgKyBleCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlcm5hbWVJbmRleCA9IHNjYW5SZXN1bHQuYWN0dWFsVXNlcm5hbWVJbmRleDtcbiAgICAgICAgY29uc3QgcGFzc3dvcmRzID0gc2NhblJlc3VsdC5wd0ZpZWxkcztcbiAgICAgICAgY29uc3Qgb3RoZXJGaWVsZHMgPSBzY2FuUmVzdWx0Lm90aGVyRmllbGRzO1xuXG4gICAgICAgIGlmIChwYXNzd29yZHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gY291bGQgYmUgcGFzc3dvcmQgY2hhbmdlIGZvcm0gb3IgbXVsdGktcGFzc3dvcmQgbG9naW4gZm9ybSBvciBzaWduIHVwIGZvcm1cbiAgICAgICAgICAgIC8vIG5haXZlIGR1cGxpY2F0ZSBmaW5kZXIgLSBtb3JlIHRoYW4gc3VmZmljaWVudCBmb3IgdGhlIG51bWJlciBvZiBwYXNzd29yZHMgcGVyIGRvbWFpblxuICAgICAgICAgICAgbGV0IHR3b1Bhc3N3b3Jkc01hdGNoSW5kZXggPSAtMTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc3dvcmRzLmxlbmd0aCAmJiB0d29QYXNzd29yZHNNYXRjaEluZGV4ID09IC0xOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBwYXNzd29yZHMubGVuZ3RoICYmIHR3b1Bhc3N3b3Jkc01hdGNoSW5kZXggPT0gLTE7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFzc3dvcmRzW2pdLmZpZWxkLnZhbHVlID09IHBhc3N3b3Jkc1tpXS5maWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHdvUGFzc3dvcmRzTWF0Y2hJbmRleCA9IGo7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0d29QYXNzd29yZHNNYXRjaEluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gZWl0aGVyIG1pcy10eXBlZCBwYXNzd29yZCBjaGFuZ2UgZm9ybSwgc2luZ2xlIHBhc3N3b3JkIGNoYW5nZSBib3ggZm9ybSBvciBtdWx0aS1wYXNzd29yZCBsb2dpbi9zaWdudXAsIGFzc3VtaW5nIGxhdHRlci5cbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIm11bHRpcGxlIHBhc3N3b3JkcyBmb3VuZCAod2l0aCBubyBpZGVudGljYWwgdmFsdWVzKVwiKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc3dvcmRzLmxlbmd0aDsgaSsrKSBwYXNzd29yZEZpZWxkcy5wdXNoKHBhc3N3b3Jkc1tpXSk7XG5cbiAgICAgICAgICAgICAgICAvL1RPRE86NDogdHJ5IHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gbXVsdGktcGFzc3dvcmQgbG9naW4vc2lnbnVwIGFuZCB0eXBvLiBtYXliZTogaWYgdXNlcm5hbWUgZXhpc3RzIGFuZCBtYXRjaGVzIGV4aXN0aW5nIHBhc3N3b3JkIGl0IGlzIGEgdHlwbywgZWxzZSBtdWx0aS1wYXNzd29yZFxuICAgICAgICAgICAgICAgIC8vcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyBpdCdzIHByb2JhYmx5IGEgcGFzc3dvcmQgY2hhbmdlIGZvcm0sIGJ1dCBtYXkgYmUgYSBzaWduLXVwIGZvcm1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gaWdub3JlIGFueSBmaWVsZHMgdGhhdCB3ZXJlIHByZXNlbnRlZCB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyB1c2VyIGFzIGVpdGhlciBcIm9sZCBwYXNzd29yZFwiIG9yIFwicmV0eXBlIG5ldyBwYXNzd29yZFwiXG5cbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICAgICAgICAgICAgXCJMb29rcyBsaWtlIGEgcGFzc3dvcmQgY2hhbmdlIGZvcm0gb3IgbmV3IHJlZ2lzdHJhdGlvbiBmb3JtIGhhcyBiZWVuIHN1Ym1pdHRlZFwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAvLyB0aGVyZSBtYXkgYmUgbW9yZSB0aGFuIG9uZSBwYWlyIG9mIG1hdGNoZXMgLSB0aG91Z2gsIHdlJ3JlIHBsdWNraW5nIGZvciB0aGUgZmlyc3Qgb25lXG4gICAgICAgICAgICAgICAgLy8gd2Uga25vdyB0aGUgaW5kZXggb2Ygb25lIG1hdGNoaW5nIHBhc3N3b3JkXG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgb25seSB0d28gcGFzc3dvcmRzIHdlIGFscmVhZHkga25vdyB0aGF0IHRoZXkgbWF0Y2hcbiAgICAgICAgICAgICAgICBpZiAocGFzc3dvcmRzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzLnB1c2gocGFzc3dvcmRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOjQ6IGl0IGlzIGFsc28gcmVhc29uYWJseSBsaWtlbHkgdGhhdCB0aGlzIGluZGljYXRlcyBhXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpZ24tdXAgZm9ybSByYXRoZXIgdGhhbiBhIHBhc3N3b3JkIGNoYW5nZSBmb3JtLiBkZWNpZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggaGVyZSBhbmQgZmxhZyB3aGljaCBvbmUgaXQgaXMuIGZvciBub3csIHdlIGp1c3QgYXNzdW1lXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgYSBzaWduLXVwIGZvcm0gYmVjdWFzZSB0aGF0IGlzIG1vcmUgdXNlZnVsIGZvciB0aGUgdXNlciBpbiBtYW55IGNhc2VzXG4gICAgICAgICAgICAgICAgICAgIGlzUGFzc3dvcmRDaGFuZ2VGb3JtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlzUmVnaXN0cmF0aW9uRm9ybSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSBhc3N1bWUgdGhhdCBhbnkgZm9ybSB3aXRoIDMgcGFzc3dvcmRzIG9uIGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIG11Y2ggbW9yZSBsaWtlbHkgdG8gYmUgYSBjaGFuZ2UgcGFzc3dvcmQgZm9ybSB0aGFuXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgc2lnbi11cCBmb3JtIChvYnZpb3VzbHkgdGhlcmUgd2lsbCBiZSBleGNlcHRpb25zIGJ1dFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBiZXN0IHdlIGNhbiBkbyBmb3Igbm93KVxuICAgICAgICAgICAgICAgICAgICAvLyBCVVQ6IGhhdmUgbm90IHlldCBpbXBsZW1lbnRlZCByZWxpYWJsZSBwYXNzd29yZCBjaGFuZ2UgZmVhdHVyZS4uLlxuICAgICAgICAgICAgICAgICAgICBpc1Bhc3N3b3JkQ2hhbmdlRm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc1JlZ2lzdHJhdGlvbkZvcm0gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZEZpZWxkcy5wdXNoKHBhc3N3b3Jkc1t0d29QYXNzd29yZHNNYXRjaEluZGV4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBhc3N3b3JkcyAhPSBudWxsICYmIHBhc3N3b3Jkc1swXSAhPSBudWxsICYmIHBhc3N3b3Jkc1swXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhc3N3b3JkRmllbGRzLnB1c2gocGFzc3dvcmRzWzBdKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhdCB0aGlzIHBvaW50LCBhdCBsZWFzdCBvbmUgcGFzc3dvcmRGaWVsZCBoYXMgYmVlbiBjaG9zZW4gYW5kIGFuXG4gICAgICAgIC8vIG9sZFBhc3N3b3JkRmllbGQgaGFzIGJlZW4gY2hvc2VuIGlmIGFwcGxpY2FibGUuXG4gICAgICAgIC8vIHdlIGhhdmUgYWxzbyBkZXRlcm1pbmVkIHdoZXRoZXIgdGhpcyBmb3JtIGZpbGwgaXMgbGlrZWx5IHRvXG4gICAgICAgIC8vIGJlIGEgbmV3IHJlZ2lzdHJhdGlvbiBmb3JtIG9yIHBhc3N3b3JkIGNoYW5nZSBmb3JtXG5cbiAgICAgICAgY29uc3Qgbm9uRW1wdHlQYXNzd29yZEZpZWxkcyA9IHRoaXMucmVtb3ZlRW1wdHlGaWVsZHMocGFzc3dvcmRGaWVsZHMpO1xuICAgICAgICBjb25zdCBub25FbXB0eU90aGVyRmllbGRzID0gdGhpcy5yZW1vdmVFbXB0eUZpZWxkcyhvdGhlckZpZWxkcyk7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgZmlsbGVkIHBhc3N3b3JkIHRoYXQgaXMgbm90IGJlaW5nIHN1Ym1pdHRlZCBvciBoYXMgYSBjaGFuZ2VkIHZhbHVlXG4gICAgICAgIGNvbnN0IGRpZmZlcmVudFBhc3N3b3JkID1cbiAgICAgICAgICAgICF0aGlzLm1hdGNoUmVzdWx0IHx8XG4gICAgICAgICAgICAhdGhpcy5tYXRjaFJlc3VsdC5sYXN0RmlsbGVkUGFzc3dvcmRzIHx8XG4gICAgICAgICAgICB0aGlzLmhhc0ZpZWxkQmVlbk1vZGlmaWVkKG5vbkVtcHR5UGFzc3dvcmRGaWVsZHMsIHRoaXMubWF0Y2hSZXN1bHQubGFzdEZpbGxlZFBhc3N3b3Jkcyk7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgZmlsbGVkIG90aGVyIGZpZWxkIHRoYXQgaXMgbm90IGJlaW5nIHN1Ym1pdHRlZCBvciBoYXMgYSBjaGFuZ2VkIHZhbHVlXG4gICAgICAgIGNvbnN0IGRpZmZlcmVudE90aGVyID1cbiAgICAgICAgICAgICF0aGlzLm1hdGNoUmVzdWx0IHx8XG4gICAgICAgICAgICAhdGhpcy5tYXRjaFJlc3VsdC5sYXN0RmlsbGVkT3RoZXIgfHxcbiAgICAgICAgICAgIHRoaXMuaGFzRmllbGRCZWVuTW9kaWZpZWQobm9uRW1wdHlPdGhlckZpZWxkcywgdGhpcy5tYXRjaFJlc3VsdC5sYXN0RmlsbGVkT3RoZXIpO1xuXG4gICAgICAgIGlmIChkaWZmZXJlbnRQYXNzd29yZCB8fCBkaWZmZXJlbnRPdGhlcikge1xuICAgICAgICAgICAgY29uc3Qgc3VibWl0dGVkRGF0YSA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybC5ocmVmLFxuICAgICAgICAgICAgICAgIGZpZWxkczogRmllbGQuY29tYmluZURvbUZpZWxkTGlzdHMoXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG5vbkVtcHR5T3RoZXJGaWVsZHMubWFwKGYgPT4gZi5maWVsZCksXG4gICAgICAgICAgICAgICAgICAgIG5vbkVtcHR5UGFzc3dvcmRGaWVsZHMubWFwKGYgPT4gZi5maWVsZClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBkb2MudGl0bGUgfHwgdXJsLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgIGlzUGFzc3dvcmRDaGFuZ2VGb3JtLFxuICAgICAgICAgICAgICAgIGlzUmVnaXN0cmF0aW9uRm9ybVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5teVBvcnQucG9zdE1lc3NhZ2UoeyBzdWJtaXR0ZWREYXRhIH0gYXMgQWRkb25NZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlRW1wdHlGaWVsZHMoZmllbGRzOiBNYXRjaGVkRmllbGRbXSkge1xuICAgICAgICByZXR1cm4gZmllbGRzLmZpbHRlcihmID0+IGYuZmllbGQudmFsdWUgfHwgZi5maWVsZC50eXBlID09PSBcImJvb2xlYW5cIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYXNGaWVsZEJlZW5Nb2RpZmllZChcbiAgICAgICAgbmV3bHlTdWJtaXR0ZWRGaWVsZHM6IE1hdGNoZWRGaWVsZFtdLFxuICAgICAgICBwcmV2aW91c2x5RmlsbGVkRmllbGRzOiBGaWxsZWRGaWVsZFtdXG4gICAgKSB7XG4gICAgICAgIHJldHVybiAhIXByZXZpb3VzbHlGaWxsZWRGaWVsZHMuZmluZChmaWxsZWRGaWVsZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdWJtaXR0ZWRGaWVsZCA9IG5ld2x5U3VibWl0dGVkRmllbGRzLmZpbmQoXG4gICAgICAgICAgICAgICAgZiA9PiBmaWxsZWRGaWVsZC5ET01lbGVtZW50ID09IGYuRE9NZWxlbWVudFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCBzdWJtaXR0ZWQgdGhlIHNhbWUgRE9NIGVsZW1lbnQgd2UgZmlsbGVkIGluXG4gICAgICAgICAgICBpZiAoIXN1Ym1pdHRlZEZpZWxkKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHN1Ym1pdHRlZEZpZWxkLmZpZWxkLnZhbHVlICE9IGZpbGxlZEZpZWxkLnZhbHVlKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQYW5lbFN0dWIsIFBhbmVsU3R1Yk9wdGlvbnMgfSBmcm9tIFwiLi9QYW5lbFN0dWJcIjtcblxuLy9jb25zdCBwYW5lbE9wdGlvbnMgPSBQYW5lbFN0dWJPcHRpb25zLkdlbmVyYXRlUGFzc3dvcmRMZWdhY3k7XG5jb25zdCBwYW5lbE9wdGlvbnMgPSBQYW5lbFN0dWJPcHRpb25zLkdlbmVyYXRlUGFzc3dvcmQ7XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZEdlbmVyYXRvciB7XG4gICAgcHVibGljIGdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWI6IFBhbmVsU3R1YjtcbiAgICBwcml2YXRlIGdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWJSYWY6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50RnJhbWVJZDogbnVtYmVyKSB7fVxuXG4gICAgcHVibGljIGNyZWF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbCgpIHtcbiAgICAgICAgdGhpcy5jbG9zZUdlbmVyYXRlUGFzc3dvcmRQYW5lbCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKHBhbmVsT3B0aW9ucywgbnVsbCwgdGhpcy5wYXJlbnRGcmFtZUlkKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViLmNyZWF0ZVBhbmVsKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbE5lYXJOb2RlKHRhcmdldDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jbG9zZUdlbmVyYXRlUGFzc3dvcmRQYW5lbCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIgPSBuZXcgUGFuZWxTdHViKHBhbmVsT3B0aW9ucywgdGFyZ2V0LCB0aGlzLnBhcmVudEZyYW1lSWQpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIuY3JlYXRlUGFuZWwoKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBhc3N3b3JkUGFuZWxTdHViUmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbFBvc2l0aW9uKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xvc2VHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIpIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1Yi5jbG9zZVBhbmVsKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1YiA9IG51bGw7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1YlJhZik7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZUdlbmVyYXRlUGFzc3dvcmRQYW5lbFBvc2l0aW9uKCkge1xuICAgICAgICB0aGlzLmdlbmVyYXRlUGFzc3dvcmRQYW5lbFN0dWIudXBkYXRlQm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVQYXNzd29yZFBhbmVsU3R1YlJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PlxuICAgICAgICAgICAgdGhpcy51cGRhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWxQb3NpdGlvbigpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTXV0YXRpb25UeXBlIH0gZnJvbSBcInBpbmlhXCI7XG5pbXBvcnQgeyBLZWVTdG9yZSB9IGZyb20gXCIuXCI7XG5pbXBvcnQgeyBLZWVTdGF0ZSB9IGZyb20gXCIuL0tlZVN0YXRlXCI7XG5pbXBvcnQgeyBNdXRhdGlvblBheWxvYWQgfSBmcm9tIFwiLi9zeW5jQmFja2dyb3VuZFwiO1xuXG5leHBvcnQgY2xhc3MgU3luY0NvbnRlbnQge1xuICAgIGluaXRpYWxpemVkOiBib29sZWFuO1xuICAgIHJlY2VpdmVkTXV0YXRpb25zOiBNdXRhdGlvblBheWxvYWRbXTtcbiAgICBwZW5kaW5nTXV0YXRpb25zOiBNdXRhdGlvblBheWxvYWRbXTtcbiAgICBwcml2YXRlIHNlbmRNdXRhdGlvbjogKG11dGF0aW9uOiBNdXRhdGlvblBheWxvYWQpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0b3JlOiBLZWVTdG9yZSkge1xuICAgICAgICB0aGlzLnJlY2VpdmVkTXV0YXRpb25zID0gW107XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTXV0YXRpb25zID0gW107XG5cbiAgICAgICAgdGhpcy5zdG9yZS4kc3Vic2NyaWJlKG11dGF0aW9uID0+IHtcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09IE11dGF0aW9uVHlwZS5wYXRjaE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaG9va011dGF0aW9uKG11dGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQaW5pYSBnZW5lcmF0ZWQgYSBub24tb2JqZWN0IG11dGF0aW9uLiBXZSBkb24ndCB0aGluayB3ZSBjYW4gc3VwcG9ydCB0aGlzIGFuZCBuZWVkIHRvIGtub3cgdGhhdCBpdCBpcyBwb3NzaWJsZSBmb3IgaXQgdG8gaGFwcGVuISBUZWxsIHVzIG5vdyBvciB3ZWlyZCB0aGluZ3Mgd2lsbCBoYXBwZW4uXCIpO1xuICAgICAgICAgICAgICAgIH0gLy8gJ2RpcmVjdCcgfCAncGF0Y2ggb2JqZWN0JyB8ICdwYXRjaCBmdW5jdGlvbidcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdChpbml0aWFsU3RhdGU6IEtlZVN0YXRlLCBzZW5kTXV0YXRpb24sIHZ1ZUluaXQ/KSB7XG4gICAgICAgIHRoaXMuc2VuZE11dGF0aW9uID0gc2VuZE11dGF0aW9uO1xuXG4gICAgICAgIHRoaXMuc3RvcmUuJHBhdGNoKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nTXV0YXRpb25zKCk7XG5cbiAgICAgICAgaWYgKHZ1ZUluaXQpIHZ1ZUluaXQoKTtcbiAgICB9XG5cbiAgICByZXNldChuZXdTdGF0ZTogS2VlU3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdG9yZS4kcGF0Y2gobmV3U3RhdGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblJlbW90ZU11dGF0aW9uKG11dGF0aW9uOiBNdXRhdGlvblBheWxvYWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY2VpdmVkTXV0YXRpb25zLnB1c2gobXV0YXRpb24pO1xuICAgICAgICB0aGlzLnN0b3JlLiRwYXRjaChtdXRhdGlvbi5wYXlsb2FkKTtcbiAgICB9XG5cbiAgICBob29rTXV0YXRpb24obXV0YXRpb246IE11dGF0aW9uUGF5bG9hZCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBlbmRpbmdNdXRhdGlvbnMucHVzaChtdXRhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucmVjZWl2ZWRNdXRhdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kTXV0YXRpb24obXV0YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyByZWNlaXZlZCBtdXRhdGlvbiwgaWYgaXQncyBqdXN0IGlnbm9yZSBpdCwgaWYgbm90IHNlbmQgdG8gYmFja2dyb3VuZFxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5yZWNlaXZlZE11dGF0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRNdXRhdGlvbnNbaV0gPT0gbXV0YXRpb24ucGF5bG9hZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlZE11dGF0aW9ucy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgICAgICAgICAgICAvLyBNdWx0aXBsZSBtdXRhdGlvbnMgY2FuIGJlIGluIHRoZSByZWNlaXZlZCBxdWV1ZSBzbyB3ZSBoYXZlIHRvIGJyZWFrLFxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBkdXBsaWNhdGUgcmVjZWl2ZWQgbXV0YXRpb25zIHdpbGwgcmVzdWx0IGluIHNvbWUgYmVpbmcgc2VudFxuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBiYWNrZ3JvdW5kIHRocmVhZCwgbGVhZGluZyB0byBhbiBpbmZpbml0ZSBsb29wLlxuICAgICAgICAgICAgICAgIC8vIFRoZSBleGFjdCBtZWNoYW5pc20gYnkgd2hpY2ggdGhpcyBjYW4gaGFwcGVuIGlzIHVuY2xlYXIgYW5kIGl0XG4gICAgICAgICAgICAgICAgLy8gbWF5IGJlIGEgYnVnIG9yIG11dGFibGUgaW1wbGVtZW50YXRpb24gZGV0YWlsIG9mIFZ1ZVguIEkgaHlwb3RoZXNpc2VcbiAgICAgICAgICAgICAgICAvLyB0aGF0IG11bHRpcGxlIG11dGF0aW9ucyBhcnJpdmluZyBpbiBhIHNob3J0IHBlcmlvZCBvZiB0aW1lIGNhbiBnZXRcbiAgICAgICAgICAgICAgICAvLyBiYXRjaGVkIHRvZ2V0aGVyIGluIGEgd2F5IHRoYXQgYWxsb3dzIG11bHRpcGxlIGhvb2tzIHRvIHF1ZXVlIHVwXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIGJlaW5nIGludm9rZWQuIFRodXMgdGhlIGZpcnN0IHRpbWUgdGhhdCB0aGlzIGxvb3AgaXMgY3JlYXRlZFxuICAgICAgICAgICAgICAgIC8vIGl0IHNldHMgdXAgYSBoaWdoZXIgY2hhbmNlIHRoYXQgdGhlIGxvb3Agd2lsbCByZXBlYXQgYWdhaW4sIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gc3VjaCB0aW1lIGFzIHRoZSBiYXRjaGluZyBiZWhhdmlvdXIgaXMgYWxsIGJ1dCBndWFyYW50ZWVkIGFuZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBsb29wIGNhbiBuZXZlciBlbmQuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE11dGF0aW9uKG11dGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb2Nlc3NQZW5kaW5nTXV0YXRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMucGVuZGluZ011dGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wZW5kaW5nTXV0YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBNdXN0IGJlIGEgbG9jYWxseSBjb21taXR0ZWQgbXV0YXRpb25cbiAgICAgICAgICAgIHRoaXMuc2VuZE11dGF0aW9uKHRoaXMucGVuZGluZ011dGF0aW9uc1tpXSk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNdXRhdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4vQWRkb25NZXNzYWdlXCI7XG5pbXBvcnQgeyBWYXVsdE1lc3NhZ2UgfSBmcm9tIFwiLi9WYXVsdE1lc3NhZ2VcIjtcblxuY2xhc3MgQ29udGVudFBvcnRNYW5hZ2VyIHtcbiAgICBwcml2YXRlIHBvcnQ6IGJyb3dzZXIucnVudGltZS5Qb3J0O1xuXG4gICAgcHVibGljIG1peGluID0ge1xuICAgICAgICBtZXRob2RzOiB7XG4gICAgICAgICAgICBwb3N0TWVzc2FnZTogbXNnID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwdWJsaWMgcG9zdE1lc3NhZ2UobXNnOiBBZGRvbk1lc3NhZ2UgfCBWYXVsdE1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKG1zZyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0dXAobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMucG9ydCA9IGJyb3dzZXIucnVudGltZS5jb25uZWN0KHsgbmFtZSB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMucG9ydCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCByYXcoKTogYnJvd3Nlci5ydW50aW1lLlBvcnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3J0O1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFBvcnQgPSBuZXcgQ29udGVudFBvcnRNYW5hZ2VyKCk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1pbm5lci1kZWNsYXJhdGlvbnMgKi9cbmltcG9ydCB7IEZvcm1GaWxsaW5nIH0gZnJvbSBcIi4vZm9ybUZpbGxpbmdcIjtcbmltcG9ydCB7IEZvcm1VdGlscyB9IGZyb20gXCIuL2Zvcm1zVXRpbHNcIjtcbmltcG9ydCB7IEZvcm1TYXZpbmcgfSBmcm9tIFwiLi9mb3JtU2F2aW5nXCI7XG5pbXBvcnQgeyBQYXNzd29yZEdlbmVyYXRvciB9IGZyb20gXCIuL1Bhc3N3b3JkR2VuZXJhdG9yXCI7XG5pbXBvcnQgeyBLZWVMb2cgfSBmcm9tIFwiLi4vY29tbW9uL0xvZ2dlclwiO1xuaW1wb3J0IHsgY29uZmlnTWFuYWdlciB9IGZyb20gXCIuLi9jb21tb24vQ29uZmlnTWFuYWdlclwiO1xuaW1wb3J0IHsgQWRkb25NZXNzYWdlIH0gZnJvbSBcIi4uL2NvbW1vbi9BZGRvbk1lc3NhZ2VcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi9jb21tb24vQWN0aW9uXCI7XG5pbXBvcnQgdXNlU3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5pbXBvcnQgeyBTeW5jQ29udGVudCB9IGZyb20gXCIuLi9zdG9yZS9zeW5jQ29udGVudFwiO1xuaW1wb3J0IHsgUG9ydCB9IGZyb20gXCIuLi9jb21tb24vcG9ydFwiO1xuaW1wb3J0IHsgY3JlYXRlUGluaWEgfSBmcm9tIFwicGluaWFcIjtcbmltcG9ydCB7IE11dGF0aW9uUGF5bG9hZCB9IGZyb20gXCIuLi9zdG9yZS9zeW5jQmFja2dyb3VuZFwiO1xuXG4vKiBUaGlzIG9yY2hlc3RyYXRlcyB0aGUgbWFpbiBmdW5jdGlvbnMgb2YgdGhlIGFkZC1vblxub24gYWxsIHdlYnNpdGUgcGFnZXMgZXhjZXB0IHRob3NlIGNvbnRhaW5pbmcgYSBLUFJQQyBzZXJ2ZXIgKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxudmFyIGtlZUR1cGxpY2F0aW9uQ291bnQ7XG5cbmlmIChrZWVEdXBsaWNhdGlvbkNvdW50KSB7XG4gICAgaWYgKEtlZUxvZyAmJiBLZWVMb2cuZXJyb3IpIHtcbiAgICAgICAgS2VlTG9nLmVycm9yKFxuICAgICAgICAgICAgXCJEdXBsaWNhdGUgS2VlIGNvbnRlbnQgc2NyaXB0IGluc3RhbmNlIGRldGVjdGVkISBGb3VuZCB0aGlzIG1hbnkgb3RoZXIgaW5zdGFuY2VzOiBcIiArXG4gICAgICAgICAgICAgICAga2VlRHVwbGljYXRpb25Db3VudFxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkR1cGxpY2F0ZSBLZWUgY29udGVudCBzY3JpcHQgaW5zdGFuY2UgZGV0ZWN0ZWQhIEZvdW5kIHRoaXMgbWFueSBvdGhlciBpbnN0YW5jZXM6IFwiICtcbiAgICAgICAgICAgICAgICBrZWVEdXBsaWNhdGlvbkNvdW50XG4gICAgICAgICk7XG4gICAgfVxufSBlbHNlIHtcbiAgICBrZWVEdXBsaWNhdGlvbkNvdW50ID0gMDtcbn1cbmtlZUR1cGxpY2F0aW9uQ291bnQgKz0gMTtcblxubGV0IGZvcm1VdGlsczogRm9ybVV0aWxzO1xubGV0IGZvcm1GaWxsaW5nOiBGb3JtRmlsbGluZztcbmxldCBmb3JtU2F2aW5nOiBGb3JtU2F2aW5nO1xubGV0IHBhc3N3b3JkR2VuZXJhdG9yOiBQYXNzd29yZEdlbmVyYXRvcjtcbmxldCBmcmFtZUlkOiBudW1iZXI7XG5sZXQgc3luY0NvbnRlbnQ6IFN5bmNDb250ZW50O1xubGV0IGNvbm5lY3RlZCA9IGZhbHNlO1xubGV0IG1lc3NhZ2luZ1BvcnRDb25uZWN0aW9uUmV0cnlUaW1lcjogbnVtYmVyO1xubGV0IHBhZ2VTaG93RmlyZWQgPSBmYWxzZTtcbmxldCBjb25maWdSZWFkeSA9IGZhbHNlO1xubGV0IG1pc3NpbmdQYWdlU2hvd1RpbWVyOiBudW1iZXI7XG5cbmxldCBpbnB1dHNPYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlcjtcbmNvbnN0IGFwcCA9IGNyZWF0ZUFwcChkZWZpbmVDb21wb25lbnQpO1xuYXBwLnVzZShjcmVhdGVQaW5pYSgpKTtcbmNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTtcblxuLy8gQ29udGVudCBzY3JpcHRzIGFyZSBpbmplY3RlZCBpbnRvIG5vbi1IVE1MIGRvY3VtZW50cyBzdWNoIGFzIFNWR3MuXG4vLyBXZSBoYXZlIG5vIGludGVyZXN0IGluIHRoaXMgZG9jdW1lbnQgaWYgaXQgaGFzIG5vIGJvZHkgTm9kZVxuaWYgKGRvY3VtZW50LmJvZHkpIHtcbiAgICBpbnB1dHNPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYWxyZWFkeSBzY2hlZHVsZWQgYSByZXNjYW4gcmVjZW50bHksIG5vIGZ1cnRoZXIgYWN0aW9uIHJlcXVpcmVkXG4gICAgICAgIGlmIChmb3JtRmlsbGluZy5mb3JtRmluZGVyVGltZXIgIT09IG51bGwpIHJldHVybjtcblxuICAgICAgICAvLyBPbmx5IHByb2NlZWQgaWYgd2UgaGF2ZSBhIERCIHRvIHNlYXJjaFxuICAgICAgICBpZiAoIXN0b3JlLmNvbm5lY3RlZCB8fCBzdG9yZS5BY3RpdmVLZWVQYXNzRGF0YWJhc2VJbmRleCA8IDApIHJldHVybjtcblxuICAgICAgICBsZXQgcmVzY2FuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGludGVyZXN0aW5nTm9kZXMgPSBbXCJmb3JtXCIsIFwiaW5wdXRcIiwgXCJzZWxlY3RcIl07XG4gICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKG11dGF0aW9uID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNjYW4pIHJldHVybjtcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSBcImNoaWxkTGlzdFwiICYmIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNjYW4pIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludGVyZXN0aW5nTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBub2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5xdWVyeVNlbGVjdG9yICYmIGVsZW1lbnQucXVlcnlTZWxlY3RvcihpbnRlcmVzdGluZ05vZGVzW2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2NhbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNjaGVkdWxlIGEgcmVzY2FuIHNvb24uIE5vdCBpbW1lZGlhdGVseSwgaW4gY2FzZSBhIGJhdGNoIG9mIG11dGF0aW9ucyBhcmUgYWJvdXQgdG8gYmUgdHJpZ2dlcmVkLlxuICAgICAgICBpZiAocmVzY2FuKSB7XG4gICAgICAgICAgICBmb3JtRmlsbGluZy5mb3JtRmluZGVyVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5maW5kTWF0Y2hlc0luVGhpc0ZyYW1lLmJpbmQoZm9ybUZpbGxpbmcpLFxuICAgICAgICAgICAgICAgIDUwMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbWF0Y2hGaW5kZXIodXJpOiBzdHJpbmcpIHtcbiAgICAgICAgUG9ydC5wb3N0TWVzc2FnZSh7IGZpbmRNYXRjaGVzOiB7IHVyaSB9IH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHR1dG9yaWFsSW50ZWdyYXRpb24oKSB7XG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoXCJ0dXRvcmlhbC1hZGRvbi5rZWUucG1cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJLZWVGb3hBZGRvblN0YXRlVHJhbnNmZXJFbGVtZW50XCIpO1xuICAgICAgICAgICAgdHJhbnNmZXJFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICBcInN0YXRlXCIsXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0ZWQ6IHN0b3JlLmNvbm5lY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogYnJvd3Nlci5ydW50aW1lLmdldE1hbmlmZXN0KCkudmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgZGJMb2FkZWQ6IHN0b3JlLktlZVBhc3NEYXRhYmFzZXMubGVuZ3RoID4gMCxcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbk5hbWVzOiBzdG9yZS5LZWVQYXNzRGF0YWJhc2VzLm1hcChkYiA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgZGIuc2Vzc2lvblR5cGUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICApLmZpbHRlcigodiwgaSwgYSkgPT4gYS5pbmRleE9mKHYpID09PSBpKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHRyYW5zZmVyRWxlbWVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KFwiS2VlRm94QWRkb25TdGF0ZVRyYW5zZmVyRXZlbnRcIiwge1xuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhbnNmZXJFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25GaXJzdENvbm5lY3QobXlGcmFtZUlkOiBudW1iZXIpIHtcbiAgICAgICAgZnJhbWVJZCA9IG15RnJhbWVJZDtcblxuICAgICAgICBLZWVMb2cuYXR0YWNoQ29uZmlnKGNvbmZpZ01hbmFnZXIuY3VycmVudCk7XG4gICAgICAgIGZvcm1VdGlscyA9IG5ldyBGb3JtVXRpbHMoS2VlTG9nKTtcbiAgICAgICAgZm9ybVNhdmluZyA9IG5ldyBGb3JtU2F2aW5nKFBvcnQucmF3LCBLZWVMb2csIGZvcm1VdGlscyk7XG4gICAgICAgIGZvcm1GaWxsaW5nID0gbmV3IEZvcm1GaWxsaW5nKFxuICAgICAgICAgICAgUG9ydC5yYXcsXG4gICAgICAgICAgICBmcmFtZUlkLFxuICAgICAgICAgICAgZm9ybVV0aWxzLFxuICAgICAgICAgICAgZm9ybVNhdmluZyxcbiAgICAgICAgICAgIEtlZUxvZyxcbiAgICAgICAgICAgIGNvbmZpZ01hbmFnZXIuY3VycmVudCxcbiAgICAgICAgICAgIG1hdGNoRmluZGVyXG4gICAgICAgICk7XG4gICAgICAgIHBhc3N3b3JkR2VuZXJhdG9yID0gbmV3IFBhc3N3b3JkR2VuZXJhdG9yKGZyYW1lSWQpO1xuXG4gICAgICAgIGlucHV0c09ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG5cbiAgICAgICAgdHV0b3JpYWxJbnRlZ3JhdGlvbigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0YXJ0dXAoKSB7XG4gICAgICAgIEtlZUxvZy5kZWJ1ZyhcImNvbnRlbnQgcGFnZSBzdGFydGluZ1wiKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29ubmVjdFRvTWVzc2FnaW5nUG9ydCgpO1xuICAgICAgICAgICAgaWYgKFBvcnQucmF3ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBLZWVMb2cud2FybihcIkZhaWxlZCB0byBjb25uZWN0IHRvIG1lc3NhZ2luZyBwb3J0LiBXZSdsbCB0cnkgYWdhaW4gbGF0ZXIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgS2VlTG9nLndhcm4oXG4gICAgICAgICAgICAgICAgXCJGYWlsZWQgdG8gY29ubmVjdCB0byBtZXNzYWdpbmcgcG9ydC4gV2UnbGwgdHJ5IGFnYWluIGxhdGVyLiBFeGNlcHRpb24gbWVzc2FnZTogXCIgK1xuICAgICAgICAgICAgICAgICAgICBleC5tZXNzYWdlXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVzc2FnaW5nUG9ydENvbm5lY3Rpb25SZXRyeVRpbWVyID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChQb3J0LnJhdyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgS2VlTG9nLmluZm8oXCJNZXNzYWdpbmcgcG9ydCB3YXMgbm90IGVzdGFibGlzaGVkIGF0IHBhZ2Ugc3RhcnR1cC4gUmV0cnlpbmcgbm93Li4uXCIpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RUb01lc3NhZ2luZ1BvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBvcnQucmF3ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEtlZUxvZy53YXJuKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gbWVzc2FnaW5nIHBvcnQuIFdlJ2xsIHRyeSBhZ2FpbiBsYXRlci5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICBLZWVMb2cud2FybihcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gbWVzc2FnaW5nIHBvcnQuIFdlJ2xsIHRyeSBhZ2FpbiBsYXRlci4gRXhjZXB0aW9uIG1lc3NhZ2U6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleC5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG1lc3NhZ2luZ1BvcnRDb25uZWN0aW9uUmV0cnlUaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMDApO1xuXG4gICAgICAgIEtlZUxvZy5kZWJ1ZyhcImNvbnRlbnQgcGFnZSByZWFkeVwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25uZWN0VG9NZXNzYWdpbmdQb3J0KCkge1xuICAgICAgICBpZiAoUG9ydC5yYXcpIHtcbiAgICAgICAgICAgIEtlZUxvZy53YXJuKFxuICAgICAgICAgICAgICAgIFwicG9ydCBhbHJlYWR5IHNldCB0byAnXCIgK1xuICAgICAgICAgICAgICAgICAgICBQb3J0LnJhdy5uYW1lICtcbiAgICAgICAgICAgICAgICAgICAgXCInLiBTa2lwcGluZyBzdGFydHVwIGJlY2F1c2UgaXQgc2hvdWxkIGFscmVhZHkgYmUgdW5kZXJ3YXkgYnV0IGlzIHRha2luZyBhIGxvbmcgdGltZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzeW5jQ29udGVudCA9IG5ldyBTeW5jQ29udGVudChzdG9yZSk7XG4gICAgICAgIFBvcnQuc3RhcnR1cChcInBhZ2VcIik7XG5cbiAgICAgICAgUG9ydC5yYXcub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChtOiBBZGRvbk1lc3NhZ2UpIHtcbiAgICAgICAgICAgIEtlZUxvZy5kZWJ1ZyhcIkluIGJyb3dzZXIgY29udGVudCBwYWdlIHNjcmlwdCwgcmVjZWl2ZWQgbWVzc2FnZSBmcm9tIGJhY2tncm91bmQgc2NyaXB0XCIpO1xuXG4gICAgICAgICAgICBpZiAobS5pbml0aWFsU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBzeW5jQ29udGVudC5pbml0KG0uaW5pdGlhbFN0YXRlLCAobXV0YXRpb246IE11dGF0aW9uUGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBQb3J0LnBvc3RNZXNzYWdlKHsgbXV0YXRpb24gfSBhcyBBZGRvbk1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG0ubXV0YXRpb24pIHtcbiAgICAgICAgICAgICAgICBzeW5jQ29udGVudC5vblJlbW90ZU11dGF0aW9uKG0ubXV0YXRpb24pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBvbkZpcnN0Q29ubmVjdChtLmZyYW1lSWQpO1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbmRNYXRjaGVzSW5UaGlzRnJhbWUoKTtcbiAgICAgICAgICAgICAgICBjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtLmFjdGlvbiA9PSBBY3Rpb24uRGV0ZWN0Rm9ybXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobS5yZXNldFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgcGFnZSdzIFZ1ZXggc3RhdGUgY2FuIGJlIG91dCBvZiBzeW5jIHdpdGggdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgLSBlLmcuIHdoZW4gdGhlIHRhYiBoYXMgYmVlbiBpbmFjdGl2ZSBmb3Igc29tZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aW1lLiBJbiB0aGVzZSBjYXNlcywgd2UgbXVzdCBzdXBwbHkgdGhlIGZ1bGwgc3RhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgLy8gYmVmb3JlIGxvb2tpbmcgZm9yIG1hdGNoaW5nIGVudHJpZXMuXG4gICAgICAgICAgICAgICAgICAgIHN5bmNDb250ZW50LnJlc2V0KG0ucmVzZXRTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLnJlbW92ZUtlZUljb25Gcm9tQWxsRmllbGRzKCk7XG4gICAgICAgICAgICAgICAgZm9ybVNhdmluZy5yZW1vdmVBbGxTdWJtaXRIYW5kbGVycygpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0b3JlLmVudHJ5VXBkYXRlU3RhcnRlZEF0VGltZXN0YW1wID49IERhdGUubm93KCkgLSAyMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5maW5kTWF0Y2hlc0luVGhpc0ZyYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9maWxsT25TdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9zdWJtaXRPblN1Y2Nlc3M6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLmZpbmRNYXRjaGVzSW5UaGlzRnJhbWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtLmZpbmRNYXRjaGVzUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuZmluZExvZ2luc1Jlc3VsdEhhbmRsZXIobS5maW5kTWF0Y2hlc1Jlc3VsdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtLmFjdGlvbiA9PSBBY3Rpb24uTWFudWFsRmlsbCAmJiBtLnNlbGVjdGVkRW50cnlJbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuY2xvc2VNYXRjaGVkTG9naW5zUGFuZWwoKTtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5maWxsQW5kU3VibWl0KGZhbHNlLCBudWxsLCBtLnNlbGVjdGVkRW50cnlJbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtLmFjdGlvbiA9PSBBY3Rpb24uUmVzZXRGb3Jtcykge1xuICAgICAgICAgICAgICAgIGZvcm1GaWxsaW5nLnJlbW92ZUtlZUljb25Gcm9tQWxsRmllbGRzKCk7XG4gICAgICAgICAgICAgICAgZm9ybVNhdmluZy5yZW1vdmVBbGxTdWJtaXRIYW5kbGVycygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobS5hY3Rpb24gPT0gQWN0aW9uLlByaW1hcnkpIHtcbiAgICAgICAgICAgICAgICBmb3JtRmlsbGluZy5leGVjdXRlUHJpbWFyeUFjdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobS5hY3Rpb24gPT0gQWN0aW9uLkdlbmVyYXRlUGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICBwYXNzd29yZEdlbmVyYXRvci5jcmVhdGVHZW5lcmF0ZVBhc3N3b3JkUGFuZWwoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5DbG9zZUFsbFBhbmVscykge1xuICAgICAgICAgICAgICAgIHBhc3N3b3JkR2VuZXJhdG9yLmNsb3NlR2VuZXJhdGVQYXNzd29yZFBhbmVsKCk7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuY2xvc2VNYXRjaGVkTG9naW5zUGFuZWwoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG0uYWN0aW9uID09IEFjdGlvbi5TaG93TWF0Y2hlZExvZ2luc1BhbmVsKSB7XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxpbmcuY3JlYXRlTWF0Y2hlZExvZ2luc1BhbmVsSW5DZW50ZXIobS5mcmFtZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLCAoKSA9PiB7XG4gICAgICAgIHBhZ2VTaG93RmlyZWQgPSB0cnVlO1xuICAgICAgICBjbGVhclRpbWVvdXQobWlzc2luZ1BhZ2VTaG93VGltZXIpO1xuICAgICAgICBpZiAoY29uZmlnUmVhZHkpIHtcbiAgICAgICAgICAgIHN0YXJ0dXAoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgKCkgPT4ge1xuICAgICAgICBpbnB1dHNPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIGlmIChQb3J0LnJhdykgUG9ydC5wb3N0TWVzc2FnZSh7IGFjdGlvbjogQWN0aW9uLlBhZ2VIaWRlIH0pO1xuICAgICAgICBmb3JtRmlsbGluZy5yZW1vdmVLZWVJY29uRnJvbUFsbEZpZWxkcygpO1xuICAgICAgICBQb3J0LnNodXRkb3duKCk7XG4gICAgICAgIGNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBmcmFtZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3JtVXRpbHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvcm1TYXZpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvcm1GaWxsaW5nID0gdW5kZWZpbmVkO1xuICAgICAgICBwYXNzd29yZEdlbmVyYXRvciA9IHVuZGVmaW5lZDtcbiAgICB9KTtcblxuICAgIC8vIExvYWQgb3VyIGNvbmZpZ1xuICAgIGNvbmZpZ01hbmFnZXIubG9hZCgoKSA9PiB7XG4gICAgICAgIGNvbmZpZ1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHBhZ2VTaG93RmlyZWQpIHtcbiAgICAgICAgICAgIHN0YXJ0dXAoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFBhZ2Ugc2hvdyBkb2VzIG5vdCBhbHdheXMgZmlyZSAoZS5nLiBvbiBmaXJzdCBpbnN0YWxsIG9mIHRoZSBleHRlbnNpb24pXG4gICAgICAgICAgICAvLyBzbyB3ZSB3b24ndCB3YWl0IGFyb3VuZCBmb3JldmVyLCBhdCB0aGUgY29zdCBvZiBvY2Nhc2lvbmFsIGR1cGxpY2F0ZVxuICAgICAgICAgICAgLy8gc3RhcnR1cCBjb2RlIC0gYnJvYWRseSBsaW1pdGVkIHRvIGRpc2NvdmVyaW5nIHRoYXQgdGhlIG1lc3NhZ2UgcG9ydFxuICAgICAgICAgICAgLy8gaXMgYWxyZWFkeSBlc3RhYmxpc2hlZC5cbiAgICAgICAgICAgIG1pc3NpbmdQYWdlU2hvd1RpbWVyID0gd2luZG93LnNldFRpbWVvdXQoc3RhcnR1cCwgMTUwMCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJtYWtlTWFwIiwic3RyIiwiZXhwZWN0c0xvd2VyQ2FzZSIsIm1hcCIsImxpc3QiLCJ2YWwiLCJpc0dsb2JhbGx5V2hpdGVsaXN0ZWQiLCJub3JtYWxpemVTdHlsZSIsInZhbHVlIiwiaXNBcnJheSIsInJlcyIsImkiLCJpdGVtIiwibm9ybWFsaXplZCIsImlzU3RyaW5nIiwicGFyc2VTdHJpbmdTdHlsZSIsImtleSIsImlzT2JqZWN0IiwibGlzdERlbGltaXRlclJFIiwicHJvcGVydHlEZWxpbWl0ZXJSRSIsInN0eWxlQ29tbWVudFJFIiwiY3NzVGV4dCIsInJldCIsInRtcCIsIm5vcm1hbGl6ZUNsYXNzIiwibmFtZSIsIm5vcm1hbGl6ZVByb3BzIiwicHJvcHMiLCJrbGFzcyIsInN0eWxlIiwiSFRNTF9UQUdTIiwiU1ZHX1RBR1MiLCJpc0hUTUxUYWciLCJpc1NWR1RhZyIsImlzU3BlY2lhbEJvb2xlYW5BdHRyIiwiaW5jbHVkZUJvb2xlYW5BdHRyIiwibG9vc2VDb21wYXJlQXJyYXlzIiwiYSIsImIiLCJlcXVhbCIsImxvb3NlRXF1YWwiLCJhVmFsaWRUeXBlIiwiaXNEYXRlIiwiYlZhbGlkVHlwZSIsImlzU3ltYm9sIiwiYUtleXNDb3VudCIsImJLZXlzQ291bnQiLCJhSGFzS2V5IiwiYkhhc0tleSIsImxvb3NlSW5kZXhPZiIsImFyciIsInRvRGlzcGxheVN0cmluZyIsIm9iamVjdFRvU3RyaW5nIiwiaXNGdW5jdGlvbiIsInJlcGxhY2VyIiwiX2tleSIsImlzTWFwIiwiZW50cmllcyIsImlzU2V0IiwiaXNQbGFpbk9iamVjdCIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUiIsIk5PT1AiLCJOTyIsIm9uUkUiLCJpc09uIiwiaXNNb2RlbExpc3RlbmVyIiwiZXh0ZW5kIiwicmVtb3ZlIiwiZWwiLCJoYXNPd25Qcm9wZXJ0eSIsImhhc093biIsInRvVHlwZVN0cmluZyIsImlzUHJvbWlzZSIsInRvUmF3VHlwZSIsImlzSW50ZWdlcktleSIsImlzUmVzZXJ2ZWRQcm9wIiwiaXNCdWlsdEluRGlyZWN0aXZlIiwiY2FjaGVTdHJpbmdGdW5jdGlvbiIsImZuIiwiY2FjaGUiLCJjYW1lbGl6ZVJFIiwiY2FtZWxpemUiLCJfIiwiYyIsImh5cGhlbmF0ZVJFIiwiaHlwaGVuYXRlIiwiY2FwaXRhbGl6ZSIsInRvSGFuZGxlcktleSIsImhhc0NoYW5nZWQiLCJvbGRWYWx1ZSIsImludm9rZUFycmF5Rm5zIiwiZm5zIiwiYXJnIiwiZGVmIiwib2JqIiwidG9OdW1iZXIiLCJuIiwiX2dsb2JhbFRoaXMiLCJnZXRHbG9iYWxUaGlzIiwid2FybiIsIm1zZyIsImFyZ3MiLCJhY3RpdmVFZmZlY3RTY29wZSIsIkVmZmVjdFNjb3BlIiwiZGV0YWNoZWQiLCJjdXJyZW50RWZmZWN0U2NvcGUiLCJmcm9tUGFyZW50IiwibCIsImxhc3QiLCJlZmZlY3RTY29wZSIsInJlY29yZEVmZmVjdFNjb3BlIiwiZWZmZWN0Iiwic2NvcGUiLCJnZXRDdXJyZW50U2NvcGUiLCJvblNjb3BlRGlzcG9zZSIsImNyZWF0ZURlcCIsImVmZmVjdHMiLCJkZXAiLCJ3YXNUcmFja2VkIiwidHJhY2tPcEJpdCIsIm5ld1RyYWNrZWQiLCJpbml0RGVwTWFya2VycyIsImRlcHMiLCJmaW5hbGl6ZURlcE1hcmtlcnMiLCJwdHIiLCJ0YXJnZXRNYXAiLCJlZmZlY3RUcmFja0RlcHRoIiwibWF4TWFya2VyQml0cyIsImFjdGl2ZUVmZmVjdCIsIklURVJBVEVfS0VZIiwiTUFQX0tFWV9JVEVSQVRFX0tFWSIsIlJlYWN0aXZlRWZmZWN0Iiwic2NoZWR1bGVyIiwicGFyZW50IiwibGFzdFNob3VsZFRyYWNrIiwic2hvdWxkVHJhY2siLCJjbGVhbnVwRWZmZWN0Iiwib3B0aW9ucyIsIl9lZmZlY3QiLCJydW5uZXIiLCJzdG9wIiwidHJhY2tTdGFjayIsInBhdXNlVHJhY2tpbmciLCJyZXNldFRyYWNraW5nIiwidHJhY2siLCJ0YXJnZXQiLCJ0eXBlIiwiZGVwc01hcCIsInRyYWNrRWZmZWN0cyIsImRlYnVnZ2VyRXZlbnRFeHRyYUluZm8iLCJ0cmlnZ2VyIiwibmV3VmFsdWUiLCJvbGRUYXJnZXQiLCJuZXdMZW5ndGgiLCJldmVudEluZm8iLCJ0cmlnZ2VyRWZmZWN0cyIsInRyaWdnZXJFZmZlY3QiLCJpc05vblRyYWNrYWJsZUtleXMiLCJidWlsdEluU3ltYm9scyIsImdldCIsImNyZWF0ZUdldHRlciIsInNoYWxsb3dHZXQiLCJyZWFkb25seUdldCIsInNoYWxsb3dSZWFkb25seUdldCIsImFycmF5SW5zdHJ1bWVudGF0aW9ucyIsImNyZWF0ZUFycmF5SW5zdHJ1bWVudGF0aW9ucyIsImluc3RydW1lbnRhdGlvbnMiLCJ0b1JhdyIsImlzUmVhZG9ubHkiLCJzaGFsbG93IiwicmVjZWl2ZXIiLCJzaGFsbG93UmVhZG9ubHlNYXAiLCJyZWFkb25seU1hcCIsInNoYWxsb3dSZWFjdGl2ZU1hcCIsInJlYWN0aXZlTWFwIiwidGFyZ2V0SXNBcnJheSIsImlzUmVmIiwicmVhZG9ubHkiLCJyZWFjdGl2ZSIsInNldCIsImNyZWF0ZVNldHRlciIsInNoYWxsb3dTZXQiLCJpc1NoYWxsb3ciLCJoYWRLZXkiLCJyZXN1bHQiLCJkZWxldGVQcm9wZXJ0eSIsImhhcyIsIm93bktleXMiLCJtdXRhYmxlSGFuZGxlcnMiLCJyZWFkb25seUhhbmRsZXJzIiwic2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMiLCJzaGFsbG93UmVhZG9ubHlIYW5kbGVycyIsInRvU2hhbGxvdyIsImdldFByb3RvIiwidiIsImdldCQxIiwicmF3VGFyZ2V0IiwicmF3S2V5Iiwid3JhcCIsInRvUmVhZG9ubHkiLCJ0b1JlYWN0aXZlIiwiaGFzJDEiLCJzaXplIiwiYWRkIiwic2V0JDEiLCJjaGVja0lkZW50aXR5S2V5cyIsImRlbGV0ZUVudHJ5IiwiY2xlYXIiLCJoYWRJdGVtcyIsImNyZWF0ZUZvckVhY2giLCJjYWxsYmFjayIsInRoaXNBcmciLCJvYnNlcnZlZCIsImNyZWF0ZUl0ZXJhYmxlTWV0aG9kIiwibWV0aG9kIiwidGFyZ2V0SXNNYXAiLCJpc1BhaXIiLCJpc0tleU9ubHkiLCJpbm5lckl0ZXJhdG9yIiwiZG9uZSIsImNyZWF0ZVJlYWRvbmx5TWV0aG9kIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9ucyIsIm11dGFibGVJbnN0cnVtZW50YXRpb25zIiwic2hhbGxvd0luc3RydW1lbnRhdGlvbnMiLCJyZWFkb25seUluc3RydW1lbnRhdGlvbnMiLCJzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyIiwibXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyIsInNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMiLCJyZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyIsInNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyIsInRhcmdldFR5cGVNYXAiLCJyYXdUeXBlIiwiZ2V0VGFyZ2V0VHlwZSIsImNyZWF0ZVJlYWN0aXZlT2JqZWN0Iiwic2hhbGxvd1JlYWN0aXZlIiwic2hhbGxvd1JlYWRvbmx5IiwiYmFzZUhhbmRsZXJzIiwiY29sbGVjdGlvbkhhbmRsZXJzIiwicHJveHlNYXAiLCJleGlzdGluZ1Byb3h5IiwidGFyZ2V0VHlwZSIsInByb3h5IiwiaXNSZWFjdGl2ZSIsImlzUHJveHkiLCJyYXciLCJtYXJrUmF3IiwidHJhY2tSZWZWYWx1ZSIsInJlZiIsInRyaWdnZXJSZWZWYWx1ZSIsIm5ld1ZhbCIsInIiLCJjcmVhdGVSZWYiLCJzaGFsbG93UmVmIiwicmF3VmFsdWUiLCJSZWZJbXBsIiwiX192X2lzU2hhbGxvdyIsInVzZURpcmVjdFZhbHVlIiwidHJpZ2dlclJlZiIsInVucmVmIiwic2hhbGxvd1Vud3JhcEhhbmRsZXJzIiwicHJveHlSZWZzIiwib2JqZWN0V2l0aFJlZnMiLCJDdXN0b21SZWZJbXBsIiwiZmFjdG9yeSIsImN1c3RvbVJlZiIsInRvUmVmcyIsIm9iamVjdCIsInRvUmVmIiwiT2JqZWN0UmVmSW1wbCIsIl9vYmplY3QiLCJfZGVmYXVsdFZhbHVlIiwiZGVmYXVsdFZhbHVlIiwiX2EiLCJDb21wdXRlZFJlZkltcGwiLCJnZXR0ZXIiLCJfc2V0dGVyIiwiaXNTU1IiLCJzZWxmIiwiY29tcHV0ZWQiLCJnZXR0ZXJPck9wdGlvbnMiLCJkZWJ1Z09wdGlvbnMiLCJzZXR0ZXIiLCJvbmx5R2V0dGVyIiwiY1JlZiIsInN0YWNrIiwicHVzaFdhcm5pbmdDb250ZXh0Iiwidm5vZGUiLCJwb3BXYXJuaW5nQ29udGV4dCIsIndhcm4kMSIsImluc3RhbmNlIiwiYXBwV2FybkhhbmRsZXIiLCJ0cmFjZSIsImdldENvbXBvbmVudFRyYWNlIiwiY2FsbFdpdGhFcnJvckhhbmRsaW5nIiwiZm9ybWF0Q29tcG9uZW50TmFtZSIsIndhcm5BcmdzIiwiZm9ybWF0VHJhY2UiLCJjdXJyZW50Vk5vZGUiLCJub3JtYWxpemVkU3RhY2siLCJwYXJlbnRJbnN0YW5jZSIsImxvZ3MiLCJlbnRyeSIsImZvcm1hdFRyYWNlRW50cnkiLCJyZWN1cnNlQ291bnQiLCJwb3N0Zml4IiwiaXNSb290Iiwib3BlbiIsImNsb3NlIiwiZm9ybWF0UHJvcHMiLCJrZXlzIiwiZm9ybWF0UHJvcCIsIkVycm9yVHlwZVN0cmluZ3MiLCJlcnIiLCJoYW5kbGVFcnJvciIsImNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nIiwidmFsdWVzIiwidGhyb3dJbkRldiIsImNvbnRleHRWTm9kZSIsImN1ciIsImV4cG9zZWRJbnN0YW5jZSIsImVycm9ySW5mbyIsImVycm9yQ2FwdHVyZWRIb29rcyIsImFwcEVycm9ySGFuZGxlciIsImxvZ0Vycm9yIiwiaW5mbyIsImlzRmx1c2hpbmciLCJpc0ZsdXNoUGVuZGluZyIsInF1ZXVlIiwiZmx1c2hJbmRleCIsInBlbmRpbmdQb3N0Rmx1c2hDYnMiLCJhY3RpdmVQb3N0Rmx1c2hDYnMiLCJwb3N0Rmx1c2hJbmRleCIsInJlc29sdmVkUHJvbWlzZSIsImN1cnJlbnRGbHVzaFByb21pc2UiLCJSRUNVUlNJT05fTElNSVQiLCJuZXh0VGljayIsInAiLCJmaW5kSW5zZXJ0aW9uSW5kZXgiLCJpZCIsInN0YXJ0IiwiZW5kIiwibWlkZGxlIiwiZ2V0SWQiLCJxdWV1ZUpvYiIsImpvYiIsInF1ZXVlRmx1c2giLCJmbHVzaEpvYnMiLCJpbnZhbGlkYXRlSm9iIiwicXVldWVQb3N0Rmx1c2hDYiIsImNiIiwiZmx1c2hQcmVGbHVzaENicyIsInNlZW4iLCJjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMiLCJmbHVzaFBvc3RGbHVzaENicyIsImRlZHVwZWQiLCJjb21wYXJhdG9yIiwiZGlmZiIsImNoZWNrIiwiY291bnQiLCJjb21wb25lbnROYW1lIiwiZ2V0Q29tcG9uZW50TmFtZSIsImlzSG1yVXBkYXRpbmciLCJobXJEaXJ0eUNvbXBvbmVudHMiLCJ0cnlXcmFwIiwiY3JlYXRlUmVjb3JkIiwicmVyZW5kZXIiLCJyZWxvYWQiLCJyZWdpc3RlckhNUiIsInJlY29yZCIsInVucmVnaXN0ZXJITVIiLCJpbml0aWFsRGVmIiwibm9ybWFsaXplQ2xhc3NDb21wb25lbnQiLCJjb21wb25lbnQiLCJpc0NsYXNzQ29tcG9uZW50IiwibmV3UmVuZGVyIiwibmV3Q29tcCIsInVwZGF0ZUNvbXBvbmVudERlZiIsImluc3RhbmNlcyIsIm9sZENvbXAiLCJlIiwiZGV2dG9vbHMiLCJidWZmZXIiLCJkZXZ0b29sc05vdEluc3RhbGxlZCIsImVtaXQiLCJldmVudCIsInNldERldnRvb2xzSG9vayIsImhvb2siLCJfYiIsIm5ld0hvb2siLCJkZXZ0b29sc0luaXRBcHAiLCJhcHAiLCJ2ZXJzaW9uIiwiRnJhZ21lbnQiLCJUZXh0IiwiQ29tbWVudCIsIlN0YXRpYyIsImRldnRvb2xzVW5tb3VudEFwcCIsImRldnRvb2xzQ29tcG9uZW50QWRkZWQiLCJjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2siLCJkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQiLCJfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkIiwiZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkIiwiZGV2dG9vbHNQZXJmU3RhcnQiLCJjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayIsImRldnRvb2xzUGVyZkVuZCIsInRpbWUiLCJkZXZ0b29sc0NvbXBvbmVudEVtaXQiLCJwYXJhbXMiLCJkZXByZWNhdGlvbkRhdGEiLCJpc1J1bnRpbWVPbmx5IiwibGVnYWN5SG9vayIsImNvZXJjZWQiLCJjb21wIiwiY29uZmlnTXNnIiwiaW5zdGFuY2VXYXJuZWQiLCJ3YXJuQ291bnQiLCJ3YXJuRGVwcmVjYXRpb24iLCJnZXRDdXJyZW50SW5zdGFuY2UiLCJnZXRDb21wYXRDb25maWdGb3JLZXkiLCJkdXBLZXkiLCJjb21wSWQiLCJjb21wb25lbnREdXBLZXkiLCJtZXNzYWdlIiwibGluayIsImlzQ29tcGF0RW5hYmxlZCIsImdsb2JhbENvbXBhdENvbmZpZyIsImNvbmZpZ3VyZUNvbXBhdCIsImNvbmZpZyIsInZhbGlkYXRlQ29tcGF0Q29uZmlnIiwic2VlbkNvbmZpZ09iamVjdHMiLCJ3YXJuZWRJbnZhbGlkS2V5cyIsImluc3RhbmNlQ29uZmlnIiwiZW5hYmxlRm9yQnVpbHRJbiIsInJhd01vZGUiLCJhc3NlcnRDb21wYXRFbmFibGVkIiwic29mdEFzc2VydENvbXBhdEVuYWJsZWQiLCJjaGVja0NvbXBhdEVuYWJsZWQiLCJlbmFibGVkIiwiZXZlbnRSZWdpc3RyeU1hcCIsImdldFJlZ2lzdHJ5IiwiZXZlbnRzIiwib24iLCJvbmNlIiwid3JhcHBlZCIsIm9mZiIsInZtIiwiY2JzIiwiZW1pdCQxIiwiY29tcGF0TW9kZWxFdmVudFByZWZpeCIsIndhcm5lZFR5cGVzIiwiY29udmVydExlZ2FjeVZNb2RlbFByb3BzIiwic2hhcGVGbGFnIiwiZHluYW1pY1Byb3BzIiwibW9kZWwiLCJhcHBseU1vZGVsRnJvbU1peGlucyIsInByb3AiLCJtaXhpbnMiLCJtIiwiY29tcGF0TW9kZWxFbWl0IiwibW9kZWxIYW5kbGVyIiwiZW1pdCQyIiwicmF3QXJncyIsImVtaXRzT3B0aW9ucyIsInByb3BzT3B0aW9ucyIsInZhbGlkYXRvciIsIm1vZGVsQXJnIiwibW9kaWZpZXJzS2V5IiwibnVtYmVyIiwidHJpbSIsImxvd2VyQ2FzZUV2ZW50IiwiaGFuZGxlck5hbWUiLCJoYW5kbGVyIiwib25jZUhhbmRsZXIiLCJub3JtYWxpemVFbWl0c09wdGlvbnMiLCJhcHBDb250ZXh0IiwiYXNNaXhpbiIsImNhY2hlZCIsImhhc0V4dGVuZHMiLCJleHRlbmRFbWl0cyIsIm5vcm1hbGl6ZWRGcm9tRXh0ZW5kIiwiaXNFbWl0TGlzdGVuZXIiLCJjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJjdXJyZW50U2NvcGVJZCIsInNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsInByZXYiLCJwdXNoU2NvcGVJZCIsInBvcFNjb3BlSWQiLCJ3aXRoU2NvcGVJZCIsIl9pZCIsIndpdGhDdHgiLCJjdHgiLCJpc05vblNjb3BlZFNsb3QiLCJyZW5kZXJGbldpdGhDb250ZXh0Iiwic2V0QmxvY2tUcmFja2luZyIsInByZXZJbnN0YW5jZSIsImFjY2Vzc2VkQXR0cnMiLCJtYXJrQXR0cnNBY2Nlc3NlZCIsInJlbmRlckNvbXBvbmVudFJvb3QiLCJDb21wb25lbnQiLCJ3aXRoUHJveHkiLCJzbG90cyIsImF0dHJzIiwicmVuZGVyIiwicmVuZGVyQ2FjaGUiLCJkYXRhIiwic2V0dXBTdGF0ZSIsImluaGVyaXRBdHRycyIsImZhbGx0aHJvdWdoQXR0cnMiLCJwcm94eVRvVXNlIiwibm9ybWFsaXplVk5vZGUiLCJnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2giLCJibG9ja1N0YWNrIiwiY3JlYXRlVk5vZGUiLCJyb290Iiwic2V0Um9vdCIsImdldENoaWxkUm9vdCIsImZpbHRlck1vZGVsTGlzdGVuZXJzIiwiY2xvbmVWTm9kZSIsImFsbEF0dHJzIiwiZXZlbnRBdHRycyIsImV4dHJhQXR0cnMiLCJjbHMiLCJpc0VsZW1lbnRSb290IiwicmF3Q2hpbGRyZW4iLCJkeW5hbWljQ2hpbGRyZW4iLCJjaGlsZFJvb3QiLCJmaWx0ZXJTaW5nbGVSb290IiwiaW5kZXgiLCJkeW5hbWljSW5kZXgiLCJ1cGRhdGVkUm9vdCIsImNoaWxkcmVuIiwic2luZ2xlUm9vdCIsImNoaWxkIiwiaXNWTm9kZSIsInNob3VsZFVwZGF0ZUNvbXBvbmVudCIsInByZXZWTm9kZSIsIm5leHRWTm9kZSIsIm9wdGltaXplZCIsInByZXZQcm9wcyIsInByZXZDaGlsZHJlbiIsIm5leHRQcm9wcyIsIm5leHRDaGlsZHJlbiIsInBhdGNoRmxhZyIsImVtaXRzIiwiaGFzUHJvcHNDaGFuZ2VkIiwibmV4dEtleXMiLCJ1cGRhdGVIT0NIb3N0RWwiLCJpc1N1c3BlbnNlIiwiU3VzcGVuc2UiLCJuMSIsIm4yIiwiY29udGFpbmVyIiwiYW5jaG9yIiwicGFyZW50Q29tcG9uZW50IiwicGFyZW50U3VzcGVuc2UiLCJpc1NWRyIsInNsb3RTY29wZUlkcyIsInJlbmRlcmVySW50ZXJuYWxzIiwibW91bnRTdXNwZW5zZSIsInBhdGNoU3VzcGVuc2UiLCJoeWRyYXRlU3VzcGVuc2UiLCJjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5Iiwibm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbiIsInRyaWdnZXJFdmVudCIsImV2ZW50TGlzdGVuZXIiLCJwYXRjaCIsImNyZWF0ZUVsZW1lbnQiLCJoaWRkZW5Db250YWluZXIiLCJzdXNwZW5zZSIsInNldEFjdGl2ZUJyYW5jaCIsInVubW91bnQiLCJuZXdCcmFuY2giLCJuZXdGYWxsYmFjayIsImFjdGl2ZUJyYW5jaCIsInBlbmRpbmdCcmFuY2giLCJpc0luRmFsbGJhY2siLCJpc0h5ZHJhdGluZyIsImlzU2FtZVZOb2RlVHlwZSIsInRpbWVvdXQiLCJwZW5kaW5nSWQiLCJoYXNXYXJuZWQiLCJtb3ZlIiwibmV4dCIsInBhcmVudE5vZGUiLCJyZXN1bWUiLCJkZWxheUVudGVyIiwiaGFzVW5yZXNvbHZlZEFuY2VzdG9yIiwiZmFsbGJhY2tWTm9kZSIsIm1vdW50RmFsbGJhY2siLCJzZXR1cFJlbmRlckVmZmVjdCIsImlzSW5QZW5kaW5nU3VzcGVuc2UiLCJoeWRyYXRlZEVsIiwiYXN5bmNTZXR1cFJlc3VsdCIsImhhbmRsZVNldHVwUmVzdWx0IiwicGxhY2Vob2xkZXIiLCJkb1JlbW92ZSIsIm5vZGUiLCJoeWRyYXRlTm9kZSIsImlzU2xvdENoaWxkcmVuIiwibm9ybWFsaXplU3VzcGVuc2VTbG90IiwicyIsImJsb2NrIiwidHJhY2tCbG9jayIsImlzQmxvY2tUcmVlRW5hYmxlZCIsIm9wZW5CbG9jayIsImN1cnJlbnRCbG9jayIsImNsb3NlQmxvY2siLCJzaW5nbGVDaGlsZCIsInF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIiwiYnJhbmNoIiwicHJvdmlkZSIsImN1cnJlbnRJbnN0YW5jZSIsInByb3ZpZGVzIiwicGFyZW50UHJvdmlkZXMiLCJpbmplY3QiLCJ0cmVhdERlZmF1bHRBc0ZhY3RvcnkiLCJ3YXRjaEVmZmVjdCIsImRvV2F0Y2giLCJ3YXRjaFBvc3RFZmZlY3QiLCJ3YXRjaFN5bmNFZmZlY3QiLCJJTklUSUFMX1dBVENIRVJfVkFMVUUiLCJ3YXRjaCIsInNvdXJjZSIsImltbWVkaWF0ZSIsImRlZXAiLCJmbHVzaCIsIm9uVHJhY2siLCJvblRyaWdnZXIiLCJ3YXJuSW52YWxpZFNvdXJjZSIsImZvcmNlVHJpZ2dlciIsImlzTXVsdGlTb3VyY2UiLCJ0cmF2ZXJzZSIsImNsZWFudXAiLCJvbkNsZWFudXAiLCJiYXNlR2V0dGVyIiwic3NyQ2xlYW51cCIsImlzSW5TU1JDb21wb25lbnRTZXR1cCIsInVzZVNTUkNvbnRleHQiLCJxdWV1ZVBvc3RSZW5kZXJFZmZlY3QiLCJ1bndhdGNoIiwiaW5zdGFuY2VXYXRjaCIsInB1YmxpY1RoaXMiLCJjcmVhdGVQYXRoR2V0dGVyIiwic2V0Q3VycmVudEluc3RhbmNlIiwidW5zZXRDdXJyZW50SW5zdGFuY2UiLCJwYXRoIiwic2VnbWVudHMiLCJ1c2VUcmFuc2l0aW9uU3RhdGUiLCJzdGF0ZSIsIm9uTW91bnRlZCIsIm9uQmVmb3JlVW5tb3VudCIsIlRyYW5zaXRpb25Ib29rVmFsaWRhdG9yIiwiQmFzZVRyYW5zaXRpb25JbXBsIiwicHJldlRyYW5zaXRpb25LZXkiLCJnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4iLCJoYXNGb3VuZCIsInJhd1Byb3BzIiwibW9kZSIsImVtcHR5UGxhY2Vob2xkZXIiLCJpbm5lckNoaWxkIiwiZ2V0S2VlcEFsaXZlQ2hpbGQiLCJlbnRlckhvb2tzIiwicmVzb2x2ZVRyYW5zaXRpb25Ib29rcyIsInNldFRyYW5zaXRpb25Ib29rcyIsIm9sZENoaWxkIiwib2xkSW5uZXJDaGlsZCIsInRyYW5zaXRpb25LZXlDaGFuZ2VkIiwiZ2V0VHJhbnNpdGlvbktleSIsImxlYXZpbmdIb29rcyIsImVhcmx5UmVtb3ZlIiwiZGVsYXllZExlYXZlIiwibGVhdmluZ1ZOb2Rlc0NhY2hlIiwiZ2V0TGVhdmluZ05vZGVzRm9yVHlwZSIsIkJhc2VUcmFuc2l0aW9uIiwibGVhdmluZ1ZOb2RlcyIsImFwcGVhciIsInBlcnNpc3RlZCIsIm9uQmVmb3JlRW50ZXIiLCJvbkVudGVyIiwib25BZnRlckVudGVyIiwib25FbnRlckNhbmNlbGxlZCIsIm9uQmVmb3JlTGVhdmUiLCJvbkxlYXZlIiwib25BZnRlckxlYXZlIiwib25MZWF2ZUNhbmNlbGxlZCIsIm9uQmVmb3JlQXBwZWFyIiwib25BcHBlYXIiLCJvbkFmdGVyQXBwZWFyIiwib25BcHBlYXJDYW5jZWxsZWQiLCJjYWxsSG9vayIsImNhbGxBc3luY0hvb2siLCJob29rcyIsImxlYXZpbmdWTm9kZSIsImFmdGVySG9vayIsImNhbmNlbEhvb2siLCJjYWxsZWQiLCJjYW5jZWxsZWQiLCJpc0tlZXBBbGl2ZSIsImtlZXBDb21tZW50IiwicGFyZW50S2V5Iiwia2V5ZWRGcmFnbWVudENvdW50IiwiZGVmaW5lQ29tcG9uZW50IiwiaXNBc3luY1dyYXBwZXIiLCJkZWZpbmVBc3luY0NvbXBvbmVudCIsImxvYWRlciIsImxvYWRpbmdDb21wb25lbnQiLCJlcnJvckNvbXBvbmVudCIsImRlbGF5Iiwic3VzcGVuc2libGUiLCJ1c2VyT25FcnJvciIsInBlbmRpbmdSZXF1ZXN0IiwicmVzb2x2ZWRDb21wIiwicmV0cmllcyIsInJldHJ5IiwibG9hZCIsInRoaXNSZXF1ZXN0IiwicmVzb2x2ZSIsInJlamVjdCIsImNyZWF0ZUlubmVyQ29tcCIsIm9uRXJyb3IiLCJsb2FkZWQiLCJlcnJvciIsImRlbGF5ZWQiLCJjZSIsIktlZXBBbGl2ZUltcGwiLCJzaGFyZWRDb250ZXh0IiwiY3VycmVudCIsIl91bm1vdW50Iiwic3RvcmFnZUNvbnRhaW5lciIsInZub2RlSG9vayIsImludm9rZVZOb2RlSG9vayIsInJlc2V0U2hhcGVGbGFnIiwicHJ1bmVDYWNoZSIsImZpbHRlciIsInBydW5lQ2FjaGVFbnRyeSIsImluY2x1ZGUiLCJleGNsdWRlIiwibWF0Y2hlcyIsInBlbmRpbmdDYWNoZUtleSIsImNhY2hlU3VidHJlZSIsImdldElubmVyQ2hpbGQiLCJvblVwZGF0ZWQiLCJzdWJUcmVlIiwiZGEiLCJyYXdWTm9kZSIsIm1heCIsImNhY2hlZFZOb2RlIiwiS2VlcEFsaXZlIiwicGF0dGVybiIsIm9uQWN0aXZhdGVkIiwicmVnaXN0ZXJLZWVwQWxpdmVIb29rIiwib25EZWFjdGl2YXRlZCIsIndyYXBwZWRIb29rIiwiaW5qZWN0SG9vayIsImluamVjdFRvS2VlcEFsaXZlUm9vdCIsImtlZXBBbGl2ZVJvb3QiLCJpbmplY3RlZCIsIm9uVW5tb3VudGVkIiwicHJlcGVuZCIsImFwaU5hbWUiLCJjcmVhdGVIb29rIiwibGlmZWN5Y2xlIiwib25CZWZvcmVNb3VudCIsIm9uQmVmb3JlVXBkYXRlIiwib25TZXJ2ZXJQcmVmZXRjaCIsIm9uUmVuZGVyVHJpZ2dlcmVkIiwib25SZW5kZXJUcmFja2VkIiwib25FcnJvckNhcHR1cmVkIiwiZ2V0Q29tcGF0Q2hpbGRyZW4iLCJ3YWxrIiwidm5vZGVzIiwiZ2V0Q29tcGF0TGlzdGVuZXJzIiwibGlzdGVuZXJzIiwibGVnYWN5RGlyZWN0aXZlSG9va01hcCIsIm1hcENvbXBhdERpcmVjdGl2ZUhvb2siLCJkaXIiLCJtYXBwZWROYW1lIiwibWFwcGVkIiwibWFwcGVkSG9vayIsInZhbGlkYXRlRGlyZWN0aXZlTmFtZSIsIndpdGhEaXJlY3RpdmVzIiwiZGlyZWN0aXZlcyIsImludGVybmFsSW5zdGFuY2UiLCJnZXRFeHBvc2VQcm94eSIsImJpbmRpbmdzIiwibW9kaWZpZXJzIiwiaW52b2tlRGlyZWN0aXZlSG9vayIsIm9sZEJpbmRpbmdzIiwiYmluZGluZyIsIkNPTVBPTkVOVFMiLCJESVJFQ1RJVkVTIiwiRklMVEVSUyIsInJlc29sdmVDb21wb25lbnQiLCJtYXliZVNlbGZSZWZlcmVuY2UiLCJyZXNvbHZlQXNzZXQiLCJOVUxMX0RZTkFNSUNfQ09NUE9ORU5UIiwicmVzb2x2ZUR5bmFtaWNDb21wb25lbnQiLCJyZXNvbHZlRGlyZWN0aXZlIiwicmVzb2x2ZUZpbHRlciIsIndhcm5NaXNzaW5nIiwic2VsZk5hbWUiLCJleHRyYSIsInJlZ2lzdHJ5IiwiY29udmVydExlZ2FjeVJlbmRlckZuIiwiY29tcGF0SCIsInByb3BzT3JDaGlsZHJlbiIsInQiLCJpczJuZEFyZ0FycmF5Q2hpbGRyZW4iLCJjb252ZXJ0TGVnYWN5U2xvdHMiLCJjb252ZXJ0TGVnYWN5RGlyZWN0aXZlcyIsImNvbnZlcnRMZWdhY3lQcm9wcyIsInNraXBMZWdhY3lSb290TGV2ZWxQcm9wcyIsImxlZ2FjeVByb3BzIiwiY29udmVydGVkIiwiaGFuZGxlcktleSIsImNvbnZlcnRMZWdhY3lFdmVudEtleSIsImV4aXN0aW5nIiwiaW5jb21pbmciLCJzbG90TmFtZSIsInNsb3QiLCJzbG90Q2hpbGRyZW4iLCJzY29wZWRTbG90cyIsIm5vcm1hbGl6ZUNoaWxkcmVuIiwiZGVmaW5lTGVnYWN5Vk5vZGVQcm9wZXJ0aWVzIiwiY29udGV4dCIsImdldEluc3RhbmNlIiwiY29tcG9uZW50T3B0aW9ucyIsIm5vcm1hbGl6ZWRGdW5jdGlvbmFsQ29tcG9uZW50TWFwIiwibGVnYWN5U2xvdFByb3h5SGFuZGxlcnMiLCJjb252ZXJ0TGVnYWN5RnVuY3Rpb25hbENvbXBvbmVudCIsImxlZ2FjeUZuIiwiRnVuYyIsImxlZ2FjeUN0eCIsImluamVjdGlvbnMiLCJyZXNvbHZlSW5qZWN0aW9ucyIsInJlbmRlckxpc3QiLCJyZW5kZXJJdGVtIiwiY3JlYXRlU2xvdHMiLCJkeW5hbWljU2xvdHMiLCJqIiwicmVuZGVyU2xvdCIsImZhbGxiYWNrIiwibm9TbG90dGVkIiwidmFsaWRTbG90Q29udGVudCIsImVuc3VyZVZhbGlkVk5vZGUiLCJyZW5kZXJlZCIsImNyZWF0ZUJsb2NrIiwidG9IYW5kbGVycyIsInByZXNlcnZlQ2FzZUlmTmVjZXNzYXJ5IiwidG9PYmplY3QiLCJsZWdhY3lCaW5kT2JqZWN0UHJvcHMiLCJfdGFnIiwiX2FzUHJvcCIsImlzU3luYyIsImNhbWVsaXplZEtleSIsImh5cGhlbmF0ZWRLZXkiLCIkZXZlbnQiLCJsZWdhY3lCaW5kT2JqZWN0TGlzdGVuZXJzIiwibWVyZ2VQcm9wcyIsImxlZ2FjeVJlbmRlclNsb3QiLCJiaW5kT2JqZWN0IiwibGVnYWN5cmVzb2x2ZVNjb3BlZFNsb3RzIiwiaGFzRHluYW1pY0tleXMiLCJtYXBLZXlUb05hbWUiLCJzdGF0aWNDYWNoZU1hcCIsImxlZ2FjeVJlbmRlclN0YXRpYyIsImxlZ2FjeUNoZWNrS2V5Q29kZXMiLCJldmVudEtleUNvZGUiLCJidWlsdEluS2V5Q29kZSIsImV2ZW50S2V5TmFtZSIsImJ1aWx0SW5LZXlOYW1lIiwiY29uZmlnS2V5Q29kZXMiLCJtYXBwZWRLZXlDb2RlIiwiaXNLZXlOb3RNYXRjaCIsImV4cGVjdCIsImFjdHVhbCIsImxlZ2FjeU1hcmtPbmNlIiwidHJlZSIsImxlZ2FjeUJpbmREeW5hbWljS2V5cyIsImxlZ2FjeVByZXBlbmRNb2RpZmllciIsInN5bWJvbCIsImluc3RhbGxDb21wYXRJbnN0YW5jZVByb3BlcnRpZXMiLCJkZWwiLCJyZXNvbHZlTWVyZ2VkT3B0aW9ucyIsImNyZWF0ZVRleHRWTm9kZSIsImNyZWF0ZUNvbW1lbnRWTm9kZSIsImdldFB1YmxpY0luc3RhbmNlIiwiaXNTdGF0ZWZ1bENvbXBvbmVudCIsInB1YmxpY1Byb3BlcnRpZXNNYXAiLCJpc1Jlc2VydmVkUHJlZml4IiwiaGFzU2V0dXBCaW5kaW5nIiwiUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzIiwiYWNjZXNzQ2FjaGUiLCJub3JtYWxpemVkUHJvcHMiLCJzaG91bGRDYWNoZUFjY2VzcyIsInB1YmxpY0dldHRlciIsImNzc01vZHVsZSIsImdsb2JhbFByb3BlcnRpZXMiLCJkZXNjIiwiZGVzY3JpcHRvciIsIlJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyIsImNyZWF0ZURldlJlbmRlckNvbnRleHQiLCJleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dCIsImV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQiLCJkZWVwTWVyZ2VEYXRhIiwidG8iLCJmcm9tIiwidG9WYWwiLCJmcm9tVmFsIiwiY3JlYXRlRHVwbGljYXRlQ2hlY2tlciIsImFwcGx5T3B0aW9ucyIsImRhdGFPcHRpb25zIiwiY29tcHV0ZWRPcHRpb25zIiwibWV0aG9kcyIsIndhdGNoT3B0aW9ucyIsInByb3ZpZGVPcHRpb25zIiwiaW5qZWN0T3B0aW9ucyIsImNyZWF0ZWQiLCJiZWZvcmVNb3VudCIsIm1vdW50ZWQiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVkIiwiYWN0aXZhdGVkIiwiZGVhY3RpdmF0ZWQiLCJiZWZvcmVEZXN0cm95IiwiYmVmb3JlVW5tb3VudCIsImRlc3Ryb3llZCIsInVubW91bnRlZCIsInJlbmRlclRyYWNrZWQiLCJyZW5kZXJUcmlnZ2VyZWQiLCJlcnJvckNhcHR1cmVkIiwic2VydmVyUHJlZmV0Y2giLCJleHBvc2UiLCJjb21wb25lbnRzIiwiZmlsdGVycyIsImNoZWNrRHVwbGljYXRlUHJvcGVydGllcyIsIm1ldGhvZEhhbmRsZXIiLCJvcHQiLCJjb21wdXRlZCQxIiwiY3JlYXRlV2F0Y2hlciIsInJlZ2lzdGVyTGlmZWN5Y2xlSG9vayIsInJlZ2lzdGVyIiwiX2hvb2siLCJleHBvc2VkIiwidW53cmFwUmVmIiwibm9ybWFsaXplSW5qZWN0IiwiaCIsImJhc2UiLCJleHRlbmRzT3B0aW9ucyIsImdsb2JhbE1peGlucyIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsInJlc29sdmVkIiwibWVyZ2VPcHRpb25zIiwic3RyYXRzIiwic3RyYXQiLCJpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzIiwibWVyZ2VEYXRhRm4iLCJtZXJnZU9iamVjdE9wdGlvbnMiLCJtZXJnZUFzQXJyYXkiLCJtZXJnZVdhdGNoT3B0aW9ucyIsIm1lcmdlSW5qZWN0IiwibWVyZ2VkIiwiY3JlYXRlUHJvcHNEZWZhdWx0VGhpcyIsInByb3BLZXkiLCJzaG91bGRTa2lwQXR0ciIsImluaXRQcm9wcyIsImlzU3RhdGVmdWwiLCJJbnRlcm5hbE9iamVjdEtleSIsInNldEZ1bGxQcm9wcyIsInZhbGlkYXRlUHJvcHMiLCJpc0luSG1yQ29udGV4dCIsInVwZGF0ZVByb3BzIiwicmF3UHJldlByb3BzIiwicmF3Q3VycmVudFByb3BzIiwiaGFzQXR0cnNDaGFuZ2VkIiwicHJvcHNUb1VwZGF0ZSIsInJlc29sdmVQcm9wVmFsdWUiLCJrZWJhYktleSIsIm5lZWRDYXN0S2V5cyIsInJhd0Nhc3RWYWx1ZXMiLCJjYW1lbEtleSIsImNhc3RWYWx1ZXMiLCJpc0Fic2VudCIsImhhc0RlZmF1bHQiLCJwcm9wc0RlZmF1bHRzIiwibm9ybWFsaXplUHJvcHNPcHRpb25zIiwiZXh0ZW5kUHJvcHMiLCJub3JtYWxpemVkS2V5IiwidmFsaWRhdGVQcm9wTmFtZSIsImJvb2xlYW5JbmRleCIsImdldFR5cGVJbmRleCIsInN0cmluZ0luZGV4IiwiZ2V0VHlwZSIsImN0b3IiLCJtYXRjaCIsImlzU2FtZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwicmVzb2x2ZWRWYWx1ZXMiLCJ2YWxpZGF0ZVByb3AiLCJyZXF1aXJlZCIsImlzVmFsaWQiLCJ0eXBlcyIsInZhbGlkIiwiZXhwZWN0ZWRUeXBlIiwiYXNzZXJ0VHlwZSIsImdldEludmFsaWRUeXBlTWVzc2FnZSIsImlzU2ltcGxlVHlwZSIsInJlY2VpdmVkVHlwZSIsImV4cGVjdGVkVmFsdWUiLCJzdHlsZVZhbHVlIiwicmVjZWl2ZWRWYWx1ZSIsImlzRXhwbGljYWJsZSIsImlzQm9vbGVhbiIsImVsZW0iLCJpc0ludGVybmFsS2V5Iiwibm9ybWFsaXplU2xvdFZhbHVlIiwibm9ybWFsaXplU2xvdCIsInJhd1Nsb3QiLCJub3JtYWxpemVPYmplY3RTbG90cyIsInJhd1Nsb3RzIiwibm9ybWFsaXplVk5vZGVTbG90cyIsImluaXRTbG90cyIsInVwZGF0ZVNsb3RzIiwibmVlZERlbGV0aW9uQ2hlY2siLCJkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQiLCJpbnN0YWxsTGVnYWN5Q29uZmlnV2FybmluZ3MiLCJsZWdhY3lDb25maWdPcHRpb25zIiwiaXNDb3B5aW5nQ29uZmlnIiwiaW5zdGFsbExlZ2FjeU9wdGlvbk1lcmdlU3RyYXRzIiwic2luZ2xldG9uQXBwIiwic2luZ2xldG9uQ3RvciIsImNyZWF0ZUNvbXBhdFZ1ZSIsImNyZWF0ZUFwcCIsImNyZWF0ZVNpbmdsZXRvbkFwcCIsIlZ1ZSIsImNyZWF0ZUNvbXBhdEFwcCIsIkN0b3IiLCJhcHBseVNpbmdsZXRvblByb3RvdHlwZSIsImNpZCIsImV4dGVuZENhY2hlIiwiZXh0ZW5kQ3RvciIsImV4dGVuZE9wdGlvbnMiLCJTdXBlciIsIlN1YlZ1ZSIsImlubGluZU9wdGlvbnMiLCJtZXJnZUJhc2UiLCJzdXBlclZhbHVlIiwidXRpbCIsImRlZmluZVJlYWN0aXZlIiwiaW5zdGFsbEFwcENvbXBhdFByb3BlcnRpZXMiLCJpbnN0YWxsRmlsdGVyTWV0aG9kIiwiaW5zdGFsbENvbXBhdE1vdW50IiwiaW5zdGFsbExlZ2FjeUFQSXMiLCJhcHBseVNpbmdsZXRvbkFwcE11dGF0aW9ucyIsInRhZyIsImhhc1Byb3RvdHlwZUF1Z21lbnRhdGlvbnMiLCJkZXNjcmlwdG9ycyIsImlzTW91bnRlZCIsImhhc05vUmVuZGVyIiwiZW1wdHlSZW5kZXIiLCJjcmVhdGVDb21wb25lbnRJbnN0YW5jZSIsInNldHVwQ29tcG9uZW50Iiwic2VsZWN0b3JPckVsIiwiY2xvbmVkIiwiYXR0ciIsImZpbmlzaENvbXBvbmVudFNldHVwIiwiYnVtIiwidW0iLCJtZXRob2RzVG9QYXRjaCIsInBhdGNoZWQiLCJyZWFjdGl2ZVZhbCIsImRlZmluZVJlYWN0aXZlU2ltcGxlIiwiY3JlYXRlQXBwQ29udGV4dCIsInVpZCIsImNyZWF0ZUFwcEFQSSIsImh5ZHJhdGUiLCJyb290Q29tcG9uZW50Iiwicm9vdFByb3BzIiwiaW5zdGFsbGVkUGx1Z2lucyIsInBsdWdpbiIsIm1peGluIiwidmFsaWRhdGVDb21wb25lbnROYW1lIiwiZGlyZWN0aXZlIiwicm9vdENvbnRhaW5lciIsImlzSHlkcmF0ZSIsInNldFJlZiIsInJhd1JlZiIsIm9sZFJhd1JlZiIsImlzVW5tb3VudCIsInJlZlZhbHVlIiwib3duZXIiLCJvbGRSZWYiLCJyZWZzIiwiX2lzU3RyaW5nIiwiX2lzUmVmIiwiZG9TZXQiLCJoYXNNaXNtYXRjaCIsImlzU1ZHQ29udGFpbmVyIiwiaXNDb21tZW50IiwiY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zIiwibW91bnRDb21wb25lbnQiLCJwYXRjaFByb3AiLCJjcmVhdGVUZXh0IiwibmV4dFNpYmxpbmciLCJpbnNlcnQiLCJjcmVhdGVDb21tZW50IiwiaXNGcmFnbWVudFN0YXJ0Iiwib25NaXNtYXRjaCIsImhhbmRsZU1pc21hdGNoIiwiZG9tVHlwZSIsIm5leHROb2RlIiwibmVlZFRvQWRvcHRDb250ZW50IiwiaHlkcmF0ZUZyYWdtZW50IiwiaHlkcmF0ZUVsZW1lbnQiLCJsb2NhdGVDbG9zaW5nQXN5bmNBbmNob3IiLCJoeWRyYXRlQ2hpbGRyZW4iLCJkaXJzIiwiZm9yY2VQYXRjaFZhbHVlIiwidm5vZGVIb29rcyIsInBhcmVudFZOb2RlIiwiZnJhZ21lbnRTbG90U2NvcGVJZHMiLCJpc0ZyYWdtZW50Iiwic3VwcG9ydGVkIiwicGVyZiIsInN0YXJ0TWVhc3VyZSIsImlzU3VwcG9ydGVkIiwiZW5kTWVhc3VyZSIsInN0YXJ0VGFnIiwiZW5kVGFnIiwiaW5pdEZlYXR1cmVGbGFncyIsIm5lZWRXYXJuIiwibXVsdGkiLCJjcmVhdGVSZW5kZXJlciIsImJhc2VDcmVhdGVSZW5kZXJlciIsImNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uRm5zIiwiaG9zdEluc2VydCIsImhvc3RSZW1vdmUiLCJob3N0UGF0Y2hQcm9wIiwiaG9zdENyZWF0ZUVsZW1lbnQiLCJob3N0Q3JlYXRlVGV4dCIsImhvc3RDcmVhdGVDb21tZW50IiwiaG9zdFNldFRleHQiLCJob3N0U2V0RWxlbWVudFRleHQiLCJob3N0UGFyZW50Tm9kZSIsImhvc3ROZXh0U2libGluZyIsImhvc3RTZXRTY29wZUlkIiwiaG9zdEluc2VydFN0YXRpY0NvbnRlbnQiLCJnZXROZXh0SG9zdE5vZGUiLCJwcm9jZXNzVGV4dCIsInByb2Nlc3NDb21tZW50Tm9kZSIsIm1vdW50U3RhdGljTm9kZSIsInBhdGNoU3RhdGljTm9kZSIsInByb2Nlc3NGcmFnbWVudCIsInByb2Nlc3NFbGVtZW50IiwicHJvY2Vzc0NvbXBvbmVudCIsImludGVybmFscyIsInJlbW92ZVN0YXRpY05vZGUiLCJtb3ZlU3RhdGljTm9kZSIsIm1vdW50RWxlbWVudCIsInBhdGNoRWxlbWVudCIsInRyYW5zaXRpb24iLCJtb3VudENoaWxkcmVuIiwidW5tb3VudENoaWxkcmVuIiwic2V0U2NvcGVJZCIsIm5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIiwic2NvcGVJZCIsImNsb25lSWZNb3VudGVkIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsInRvZ2dsZVJlY3Vyc2UiLCJhcmVDaGlsZHJlblNWRyIsInBhdGNoQmxvY2tDaGlsZHJlbiIsInRyYXZlcnNlU3RhdGljQ2hpbGRyZW4iLCJwYXRjaENoaWxkcmVuIiwicGF0Y2hQcm9wcyIsIm9sZENoaWxkcmVuIiwibmV3Q2hpbGRyZW4iLCJmYWxsYmFja0NvbnRhaW5lciIsIm9sZFZOb2RlIiwibmV3Vk5vZGUiLCJmcmFnbWVudFN0YXJ0QW5jaG9yIiwiZnJhZ21lbnRFbmRBbmNob3IiLCJ1cGRhdGVDb21wb25lbnQiLCJpbml0aWFsVk5vZGUiLCJjb21wYXRNb3VudEluc3RhbmNlIiwidXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyIiwiY29tcG9uZW50VXBkYXRlRm4iLCJidSIsInUiLCJvcmlnaW5OZXh0IiwibmV4dFRyZWUiLCJwcmV2VHJlZSIsImJtIiwiaXNBc3luY1dyYXBwZXJWTm9kZSIsImh5ZHJhdGVTdWJUcmVlIiwic2NvcGVkSW5pdGlhbFZOb2RlIiwidXBkYXRlIiwiYzEiLCJwcmV2U2hhcGVGbGFnIiwiYzIiLCJwYXRjaEtleWVkQ2hpbGRyZW4iLCJwYXRjaFVua2V5ZWRDaGlsZHJlbiIsIm9sZExlbmd0aCIsImNvbW1vbkxlbmd0aCIsIm5leHRDaGlsZCIsInBhcmVudEFuY2hvciIsImwyIiwiZTEiLCJlMiIsIm5leHRQb3MiLCJzMSIsInMyIiwia2V5VG9OZXdJbmRleE1hcCIsInRvQmVQYXRjaGVkIiwibW92ZWQiLCJtYXhOZXdJbmRleFNvRmFyIiwibmV3SW5kZXhUb09sZEluZGV4TWFwIiwicHJldkNoaWxkIiwibmV3SW5kZXgiLCJpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSIsImdldFNlcXVlbmNlIiwibmV4dEluZGV4IiwibW92ZVR5cGUiLCJsZWF2ZSIsImRlbGF5TGVhdmUiLCJhZnRlckxlYXZlIiwicGVyZm9ybUxlYXZlIiwic2hvdWxkSW52b2tlRGlycyIsInNob3VsZEludm9rZVZub2RlSG9vayIsInVubW91bnRDb21wb25lbnQiLCJyZW1vdmVGcmFnbWVudCIsInBlcmZvcm1SZW1vdmUiLCJhbGxvd2VkIiwiY2gxIiwiY2gyIiwibGVuIiwiYXJySSIsImlzVGVsZXBvcnQiLCJpc1RlbGVwb3J0RGlzYWJsZWQiLCJpc1RhcmdldFNWRyIsInJlc29sdmVUYXJnZXQiLCJzZWxlY3QiLCJ0YXJnZXRTZWxlY3RvciIsIlRlbGVwb3J0SW1wbCIsInF1ZXJ5U2VsZWN0b3IiLCJkaXNhYmxlZCIsIm1haW5BbmNob3IiLCJ0YXJnZXRBbmNob3IiLCJtb3VudCIsIndhc0Rpc2FibGVkIiwiY3VycmVudENvbnRhaW5lciIsImN1cnJlbnRBbmNob3IiLCJtb3ZlVGVsZXBvcnQiLCJuZXh0VGFyZ2V0IiwidXBkYXRlQ3NzVmFycyIsImh5ZHJhdGVUZWxlcG9ydCIsImlzUmVvcmRlciIsInRhcmdldE5vZGUiLCJUZWxlcG9ydCIsIm5vcm1hbGl6ZWRBc3luY0NvbXBvbmVudE1hcCIsImNvbnZlcnRMZWdhY3lBc3luY0NvbXBvbmVudCIsImZhbGxiYWNrUHJvbWlzZSIsInJqIiwiY29udmVydExlZ2FjeUNvbXBvbmVudCIsImRpc2FibGVUcmFja2luZyIsInNldHVwQmxvY2siLCJjcmVhdGVFbGVtZW50QmxvY2siLCJjcmVhdGVCYXNlVk5vZGUiLCJ2bm9kZUFyZ3NUcmFuc2Zvcm1lciIsInRyYW5zZm9ybVZOb2RlQXJncyIsInRyYW5zZm9ybWVyIiwiY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSIsIl9jcmVhdGVWTm9kZSIsIm5vcm1hbGl6ZUtleSIsIm5vcm1hbGl6ZVJlZiIsInJlZl9rZXkiLCJyZWZfZm9yIiwiaXNCbG9ja05vZGUiLCJuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbiIsImd1YXJkUmVhY3RpdmVQcm9wcyIsImV4dHJhUHJvcHMiLCJtZXJnZVJlZiIsIm1lcmdlZFByb3BzIiwiZGVlcENsb25lVk5vZGUiLCJ0ZXh0IiwiZmxhZyIsImNyZWF0ZVN0YXRpY1ZOb2RlIiwiY29udGVudCIsIm51bWJlck9mTm9kZXMiLCJhc0Jsb2NrIiwic2xvdEZsYWciLCJ0b01lcmdlIiwiZW1wdHlBcHBDb250ZXh0IiwidWlkJDEiLCJpc0J1aWx0SW5UYWciLCJhcHBJc05hdGl2ZVRhZyIsInNldHVwUmVzdWx0Iiwic2V0dXBTdGF0ZWZ1bENvbXBvbmVudCIsIm5hbWVzIiwic2V0dXAiLCJzZXR1cENvbnRleHQiLCJjcmVhdGVTZXR1cENvbnRleHQiLCJyZXNvbHZlZFJlc3VsdCIsImNvbXBpbGUiLCJpbnN0YWxsV2l0aFByb3h5IiwicmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIiLCJfY29tcGlsZSIsInNraXBPcHRpb25zIiwidGVtcGxhdGUiLCJpc0N1c3RvbUVsZW1lbnQiLCJjb21waWxlck9wdGlvbnMiLCJkZWxpbWl0ZXJzIiwiY29tcG9uZW50Q29tcGlsZXJPcHRpb25zIiwiZmluYWxDb21waWxlck9wdGlvbnMiLCJjcmVhdGVBdHRyc1Byb3h5IiwiY2xhc3NpZnlSRSIsImNsYXNzaWZ5IiwiaW5jbHVkZUluZmVycmVkIiwiaW5mZXJGcm9tUmVnaXN0cnkiLCJ3YXJuUnVudGltZVVzYWdlIiwiZGVmaW5lUHJvcHMiLCJkZWZpbmVFbWl0cyIsImRlZmluZUV4cG9zZSIsIndpdGhEZWZhdWx0cyIsImRlZmF1bHRzIiwidXNlU2xvdHMiLCJnZXRDb250ZXh0IiwidXNlQXR0cnMiLCJtZXJnZURlZmF1bHRzIiwiY3JlYXRlUHJvcHNSZXN0UHJveHkiLCJleGNsdWRlZEtleXMiLCJ3aXRoQXN5bmNDb250ZXh0IiwiZ2V0QXdhaXRhYmxlIiwiYXdhaXRhYmxlIiwic3NyQ29udGV4dEtleSIsImluaXRDdXN0b21Gb3JtYXR0ZXIiLCJ2dWVTdHlsZSIsIm51bWJlclN0eWxlIiwic3RyaW5nU3R5bGUiLCJrZXl3b3JkU3R5bGUiLCJmb3JtYXR0ZXIiLCJnZW5SZWZGbGFnIiwiZm9ybWF0VmFsdWUiLCJmb3JtYXRJbnN0YW5jZSIsImJsb2NrcyIsImNyZWF0ZUluc3RhbmNlQmxvY2siLCJleHRyYWN0S2V5cyIsImFzUmF3IiwiQ29tcCIsImV4dHJhY3RlZCIsImlzS2V5T2ZUeXBlIiwib3B0cyIsIndpdGhNZW1vIiwibWVtbyIsImlzTWVtb1NhbWUiLCJzc3JVdGlscyIsInJlc29sdmVGaWx0ZXIkMSIsImNvbXBhdFV0aWxzIiwic3ZnTlMiLCJkb2MiLCJ0ZW1wbGF0ZUNvbnRhaW5lciIsIm5vZGVPcHMiLCJpcyIsInNlbGVjdG9yIiwiYmVmb3JlIiwid3JhcHBlciIsInBhdGNoQ2xhc3MiLCJ0cmFuc2l0aW9uQ2xhc3NlcyIsInBhdGNoU3R5bGUiLCJpc0Nzc1N0cmluZyIsInNldFN0eWxlIiwiY3VycmVudERpc3BsYXkiLCJzZW1pY29sb25SRSIsImltcG9ydGFudFJFIiwicHJlZml4ZWQiLCJhdXRvUHJlZml4IiwicHJlZml4ZXMiLCJwcmVmaXhDYWNoZSIsInJhd05hbWUiLCJ4bGlua05TIiwicGF0Y2hBdHRyIiwiY29tcGF0Q29lcmNlQXR0ciIsImlzRW51bWVyYXRlZEF0dHIiLCJ2MkNvZXJjZWRWYWx1ZSIsInBhdGNoRE9NUHJvcCIsIm5lZWRSZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBhdGNoRXZlbnQiLCJwcmV2VmFsdWUiLCJuZXh0VmFsdWUiLCJpbnZva2VycyIsImV4aXN0aW5nSW52b2tlciIsInBhcnNlTmFtZSIsImludm9rZXIiLCJjcmVhdGVJbnZva2VyIiwib3B0aW9uc01vZGlmaWVyUkUiLCJjYWNoZWROb3ciLCJnZXROb3ciLCJpbml0aWFsVmFsdWUiLCJwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm9yaWdpbmFsU3RvcCIsIm5hdGl2ZU9uUkUiLCJzaG91bGRTZXRBc1Byb3AiLCJkZWZpbmVDdXN0b21FbGVtZW50IiwiVnVlQ3VzdG9tRWxlbWVudCIsIlZ1ZUVsZW1lbnQiLCJpbml0aWFsUHJvcHMiLCJkZWZpbmVTU1JDdXN0b21FbGVtZW50IiwiQmFzZUNsYXNzIiwiX2RlZiIsIl9wcm9wcyIsIm11dGF0aW9ucyIsImlzQXN5bmMiLCJzdHlsZXMiLCJudW1iZXJQcm9wcyIsImFzeW5jRGVmIiwiZGVjbGFyZWRQcm9wS2V5cyIsInNob3VsZFJlZmxlY3QiLCJzaG91bGRVcGRhdGUiLCJuZXdTdHlsZXMiLCJkaXNwYXRjaCIsImNzcyIsInVzZUNzc01vZHVsZSIsIm1vZHVsZXMiLCJtb2QiLCJ1c2VDc3NWYXJzIiwidXBkYXRlVGVsZXBvcnRzIiwidmFycyIsInNldFZhcnNPbk5vZGUiLCJzZXRWYXJzIiwic2V0VmFyc09uVk5vZGUiLCJvYiIsIlRSQU5TSVRJT04iLCJBTklNQVRJT04iLCJUcmFuc2l0aW9uIiwicmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyIsIkRPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzIiwiY2FsbEhvb2skMSIsImhhc0V4cGxpY2l0Q2FsbGJhY2siLCJiYXNlUHJvcHMiLCJkdXJhdGlvbiIsImVudGVyRnJvbUNsYXNzIiwiZW50ZXJBY3RpdmVDbGFzcyIsImVudGVyVG9DbGFzcyIsImFwcGVhckZyb21DbGFzcyIsImFwcGVhckFjdGl2ZUNsYXNzIiwiYXBwZWFyVG9DbGFzcyIsImxlYXZlRnJvbUNsYXNzIiwibGVhdmVBY3RpdmVDbGFzcyIsImxlYXZlVG9DbGFzcyIsImxlZ2FjeUNsYXNzRW5hYmxlZCIsImxlZ2FjeUVudGVyRnJvbUNsYXNzIiwibGVnYWN5QXBwZWFyRnJvbUNsYXNzIiwibGVnYWN5TGVhdmVGcm9tQ2xhc3MiLCJ0b0xlZ2FjeUNsYXNzIiwiZHVyYXRpb25zIiwibm9ybWFsaXplRHVyYXRpb24iLCJlbnRlckR1cmF0aW9uIiwibGVhdmVEdXJhdGlvbiIsImZpbmlzaEVudGVyIiwiaXNBcHBlYXIiLCJyZW1vdmVUcmFuc2l0aW9uQ2xhc3MiLCJmaW5pc2hMZWF2ZSIsIm1ha2VFbnRlckhvb2siLCJuZXh0RnJhbWUiLCJhZGRUcmFuc2l0aW9uQ2xhc3MiLCJ3aGVuVHJhbnNpdGlvbkVuZHMiLCJmb3JjZVJlZmxvdyIsIk51bWJlck9mIiwidmFsaWRhdGVEdXJhdGlvbiIsIl92dGMiLCJlbmRJZCIsImV4cGxpY2l0VGltZW91dCIsInJlc29sdmVJZk5vdFN0YWxlIiwicHJvcENvdW50IiwiZ2V0VHJhbnNpdGlvbkluZm8iLCJlbmRFdmVudCIsImVuZGVkIiwib25FbmQiLCJnZXRTdHlsZVByb3BlcnRpZXMiLCJ0cmFuc2l0aW9uRGVsYXlzIiwidHJhbnNpdGlvbkR1cmF0aW9ucyIsInRyYW5zaXRpb25UaW1lb3V0IiwiZ2V0VGltZW91dCIsImFuaW1hdGlvbkRlbGF5cyIsImFuaW1hdGlvbkR1cmF0aW9ucyIsImFuaW1hdGlvblRpbWVvdXQiLCJoYXNUcmFuc2Zvcm0iLCJkZWxheXMiLCJkIiwidG9NcyIsInBvc2l0aW9uTWFwIiwibmV3UG9zaXRpb25NYXAiLCJUcmFuc2l0aW9uR3JvdXBJbXBsIiwibW92ZUNsYXNzIiwiaGFzQ1NTVHJhbnNmb3JtIiwiY2FsbFBlbmRpbmdDYnMiLCJyZWNvcmRQb3NpdGlvbiIsIm1vdmVkQ2hpbGRyZW4iLCJhcHBseVRyYW5zbGF0aW9uIiwiY3NzVHJhbnNpdGlvblByb3BzIiwiVHJhbnNpdGlvbkdyb3VwIiwib2xkUG9zIiwibmV3UG9zIiwiZHgiLCJkeSIsImNsb25lIiwiZ2V0TW9kZWxBc3NpZ25lciIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25FbmQiLCJ2TW9kZWxUZXh0IiwibGF6eSIsImNhc3RUb051bWJlciIsImRvbVZhbHVlIiwidk1vZGVsQ2hlY2tib3giLCJtb2RlbFZhbHVlIiwiZWxlbWVudFZhbHVlIiwiZ2V0VmFsdWUiLCJjaGVja2VkIiwiYXNzaWduIiwiZm91bmQiLCJmaWx0ZXJlZCIsImdldENoZWNrYm94VmFsdWUiLCJzZXRDaGVja2VkIiwidk1vZGVsUmFkaW8iLCJ2TW9kZWxTZWxlY3QiLCJpc1NldE1vZGVsIiwic2VsZWN0ZWRWYWwiLCJzZXRTZWxlY3RlZCIsIl9iaW5kaW5nIiwiaXNNdWx0aXBsZSIsIm9wdGlvbiIsIm9wdGlvblZhbHVlIiwidk1vZGVsRHluYW1pYyIsImNhbGxNb2RlbEhvb2siLCJyZXNvbHZlRHluYW1pY01vZGVsIiwidGFnTmFtZSIsImluaXRWTW9kZWxGb3JTU1IiLCJtb2RlbFRvVXNlIiwic3lzdGVtTW9kaWZpZXJzIiwibW9kaWZpZXJHdWFyZHMiLCJ3aXRoTW9kaWZpZXJzIiwiZ3VhcmQiLCJrZXlOYW1lcyIsIndpdGhLZXlzIiwiZ2xvYmFsS2V5Q29kZXMiLCJldmVudEtleSIsImsiLCJrZXlDb2RlIiwiY29kZXMiLCJjb2RlIiwidlNob3ciLCJzZXREaXNwbGF5IiwiaW5pdFZTaG93Rm9yU1NSIiwicmVuZGVyZXJPcHRpb25zIiwicmVuZGVyZXIiLCJlbmFibGVkSHlkcmF0aW9uIiwiZW5zdXJlUmVuZGVyZXIiLCJlbnN1cmVIeWRyYXRpb25SZW5kZXJlciIsImluamVjdE5hdGl2ZVRhZ0NoZWNrIiwiaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2siLCJjb250YWluZXJPclNlbGVjdG9yIiwibm9ybWFsaXplQ29udGFpbmVyIiwiY3JlYXRlU1NSQXBwIiwic3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQiLCJydW50aW1lRG9tIiwiaW5pdERldiIsIndyYXBwZWRDcmVhdGVBcHAiLCJjcmVhdGVDb21wYXRWdWUkMSIsImdsb2JhbCIsIm1vZHVsZSIsInRoaXMiLCJDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UiLCJ3cmFwQVBJcyIsImV4dGVuc2lvbkFQSXMiLCJhcGlNZXRhZGF0YSIsIkRlZmF1bHRXZWFrTWFwIiwiY3JlYXRlSXRlbSIsIml0ZW1zIiwiaXNUaGVuYWJsZSIsIm1ha2VDYWxsYmFjayIsInByb21pc2UiLCJtZXRhZGF0YSIsImNhbGxiYWNrQXJncyIsInBsdXJhbGl6ZUFyZ3VtZW50cyIsIm51bUFyZ3MiLCJ3cmFwQXN5bmNGdW5jdGlvbiIsImNiRXJyb3IiLCJ3cmFwTWV0aG9kIiwidGFyZ2V0TWV0aG9kIiwidGhpc09iaiIsIndyYXBPYmplY3QiLCJ3cmFwcGVycyIsImhhbmRsZXJzIiwicHJveHlUYXJnZXQiLCJ3cmFwRXZlbnQiLCJ3cmFwcGVyTWFwIiwibGlzdGVuZXIiLCJvblJlcXVlc3RGaW5pc2hlZFdyYXBwZXJzIiwicmVxIiwid3JhcHBlZFJlcSIsIm9uTWVzc2FnZVdyYXBwZXJzIiwic2VuZGVyIiwic2VuZFJlc3BvbnNlIiwiZGlkQ2FsbFNlbmRSZXNwb25zZSIsIndyYXBwZWRTZW5kUmVzcG9uc2UiLCJzZW5kUmVzcG9uc2VQcm9taXNlIiwicmVzcG9uc2UiLCJpc1Jlc3VsdFRoZW5hYmxlIiwic2VuZFByb21pc2VkUmVzdWx0Iiwid3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2siLCJyZXBseSIsIndyYXBwZWRTZW5kTWVzc2FnZSIsImFwaU5hbWVzcGFjZU9iaiIsIndyYXBwZWRDYiIsInN0YXRpY1dyYXBwZXJzIiwic2V0dGluZ01ldGFkYXRhIiwiU2l0ZUNvbmZpZyIsIlNpdGVDb25maWdMb29rdXAiLCJTaXRlQ29uZmlnSW5kZXgiLCJDb25maWciLCJkZWZhdWx0U2l0ZUNvbmZpZyIsIkNvbmZpZ01pZ3JhdGlvbnMiLCJuZXdMb2dMZXZlbCIsIm5ld1NpdGVDb25maWciLCJ1cmwiLCJ3aXRob3V0UHJvdG9jb2wiLCJuZXdDb25maWciLCJwYXRoSW5kZXgiLCJob3N0Iiwid2VpZ2h0IiwicGFnZVByZWZpeCIsIm9sZENvbmZpZyIsInNjIiwiVXRpbHMiLCJ2ZXJzaW9uQXJyYXkiLCJ2ZXJzaW9uSW50IiwiYnl0ZUFycmF5IiwiYnl0ZSIsImNoYXJDb2RlIiwiYnl0ZUNvdW50IiwiYnl0ZXMiLCJoZXgiLCJvdXRGb3JtYXQiLCJhbGdvcml0aG0iLCJpbkJ1ZmZlciIsIm91dEJ1ZmZlciIsInV0aWxzIiwiaW50IiwiaW50QXJyYXkiLCJpbnB1dCIsImV4dHJhTGVuZ3RoIiwidmlldyIsImJpbmFyeSIsIm9mZnNldCIsImFycmF5QnVmZmVyIiwiYmFzZTY0IiwiZW5jb2RpbmdzIiwiYnl0ZUxlbmd0aCIsImJ5dGVSZW1haW5kZXIiLCJtYWluTGVuZ3RoIiwiY2h1bmsiLCJoZXhTdHJpbmciLCJudW1CeXRlcyIsImx1dCIsImR2YWxzIiwiZDAiLCJkMSIsImQyIiwiZDMiLCJLZWVMb2dnZXIiLCJsb2dMZXZlbCIsIktlZUxvZyIsIkxBVEVTVF9WRVJTSU9OIiwiZGVmYXVsdENvbmZpZyIsIkNvbmZpZ01hbmFnZXIiLCJicm93c2VyLnN0b3JhZ2UiLCJjaGFuZ2VzIiwiYXJlYSIsImNvbmZpZ01hbmFnZXIiLCJudW1QYWdlcyIsInBhZ2VzIiwibyIsImNvbmZpZ1N0cmluZyIsImNvbmZpZ1ZhbHVlcyIsIm9uTG9hZGVkIiwicGFnZUNvdW50IiwibmV4dFBhZ2UiLCJvbGRQYWdlQ291bnQiLCJzYXZlTmVlZGVkIiwibWlncmF0aW9ucyIsIm1hdGNoZWRDb25maWdOb2RlcyIsIm5vZGUxIiwibm9kZTIiLCJ1cmxTdHJpbmciLCJwYWdlIiwiZG9tYWluIiwibWF0Y2hlZENvbmZpZ05vZGVzQW5kSW5kZXhlcyIsImRlcml2ZWRDb25maWciLCJpYyIsImZvcm0iLCJjb25mIiwib3RoZXJGaWVsZHMiLCJmaWVsZElkcyIsImZpZWxkIiwiZmllbGROYW1lcyIsImZvcm1JZCIsImZvcm1OYW1lIiwiZXhjbHVkZUZvcm1JZHMiLCJ4IiwiZXhjbHVkZUZvcm1OYW1lcyIsIl9kIiwiX2MiLCJleGNsdWRlRmllbGRJZHMiLCJfZiIsIl9lIiwiZXhjbHVkZUZpZWxkTmFtZXMiLCJfaCIsIl9nIiwiaW5jbHVkZUZvcm1JZHMiLCJfaiIsIl9pIiwiaW5jbHVkZUZvcm1OYW1lcyIsIl9sIiwiX2siLCJpbmNsdWRlRmllbGRJZHMiLCJfbiIsIl9tIiwiaW5jbHVkZUZpZWxkTmFtZXMiLCJfcCIsIl9vIiwidXVpZCIsImNvbmZpZ3VyZWRUYXJnZXQiLCJhbGxDb25maWdOb2Rlc0FuZExvb2t1cHMiLCJjdXJyZW50UHJlZmVycmVkVXVpZCIsImNubCIsImxvb2t1cCIsInQxIiwidDIiLCJwYXJ0aWFsQ29uZmlnIiwiY29uZmlnTG9va3VwIiwiUGFuZWxTdHViT3B0aW9ucyIsIlBhbmVsU3R1YiIsInBhcmVudEZyYW1lSWQiLCJzaGFkb3ciLCJpZnJhbWUiLCJicm93c2VyLmV4dGVuc2lvbiIsImJvZHlFbGVtZW50cyIsImZyYW1lc2V0RWxlbWVudHMiLCJvbGRSZWN0IiwicHJlZmVycmVkQ29udGFpbmVySGVpZ2h0IiwiY29udGFpbmVySGVpZ2h0IiwiY29udGFpbmVyV2lkdGgiLCJwb3NpdGlvbkFib3ZlIiwidGFyZ2V0VG9wIiwidGFyZ2V0Qm90dG9tIiwicHJlZmVycmVkQXJyb3dYQ29vcmQiLCJwcmVmZXJyZWRCb3R0b20iLCJwcmVmZXJyZWRUb3AiLCJvdmVyZmxvd0JvdHRvbSIsIm92ZXJmbG93VG9wIiwidGFyZ2V0V2lkdGgiLCJyZWxhdGl2ZUxlZnQiLCJ0b3AiLCJsZWZ0IiwicGFuZWwiLCJBY3Rpb24iLCJLZWVGaWVsZEljb24iLCJteVBvcnQiLCJmb3JtVXRpbHMiLCJjcmVhdGVNYXRjaGVkTG9naW5zUGFuZWxOZWFyTm9kZSIsImVsZW1lbnQiLCJwYXNzd29yZEZpZWxkcyIsImltYWdlIiwidHJhbnNpdGlvbkNvbmZpZyIsImZpZWxkcyIsImYiLCJmaWVsZFNldDEiLCJmaWVsZFNldDIiLCJjdXJyZW50U3R5bGUiLCJzaGFkb3dzIiwiYmNyZWN0IiwibGVmdExpbWl0IiwiY2FudmFzIiwiaW1nIiwiTWF0Y2hSZXN1bHQiLCJTZXNzaW9uVHlwZSIsIkVudHJ5U3VtbWFyeSIsIkVudHJ5IiwiZW50cnlTdW1tYXJ5RHRvIiwiZGJGaWxlTmFtZSIsIkdyb3VwIiwiZyIsImdyb3VwRHRvIiwiY2hpbGRMaWdodEVudHJ5IiwiY2hpbGRHcm91cCIsImdyb3VwIiwiRGF0YWJhc2UiLCJkYiIsImR0byIsInNlc3Npb25UeXBlIiwic2Vzc2lvbkZlYXR1cmVzIiwiJFNUUiIsImJyb3dzZXIuaTE4biIsIiRTVFJGIiwic3VicyIsIkxvY2F0b3IiLCJsb2NhdG9yIiwiRW50cnlEdG8iLCJGb3JtRmllbGRUeXBlRFRPIiwiRmllbGQiLCJyZXZlYWxQYXNzd29yZHMiLCJyZXBsYWNlbWVudElmUHJvdGVjdGVkIiwidXNlcm5hbWVJbmRleCIsInBhc3N3b3JkcyIsImxhYmVscyIsImNvbGxlY3RMYWJlbHMiLCJjb2xsZWN0QXV0b2NvbXBsZXRlVmFsdWVzIiwibG9jYXRvclR5cGUiLCJpc1VzZXJuYW1lIiwiZmZ0IiwibGFiZWxzQ291bnQiLCJsYWJlbCIsImFyaWFMYWJlbCIsImFyaWFMYWJlbElkcyIsImxhYmVsRWxlbWVudCIsIkdyb3VwU3VtbWFyeSIsImdyb3VwU3VtbWFyeUR0byIsImVudHJ5RHRvIiwic29ydGVkRmllbGRzIiwibWF4aW11bVBhZ2UiLCJ1bnNvcnRlZEZpZWxkcyIsImZpcnN0UGFzc3dvcmRJbmRleCIsImlzVnVlMiIsImdldERldnRvb2xzR2xvYmFsSG9vayIsImdldFRhcmdldCIsImlzUHJveHlBdmFpbGFibGUiLCJIT09LX1NFVFVQIiwiSE9PS19QTFVHSU5fU0VUVElOR1NfU0VUIiwiaXNQZXJmb3JtYW5jZVN1cHBvcnRlZCIsIm5vdyIsIkFwaVByb3h5IiwiZGVmYXVsdFNldHRpbmdzIiwibG9jYWxTZXR0aW5nc1NhdmVJZCIsImN1cnJlbnRTZXR0aW5ncyIsInBsdWdpbklkIiwiX3RhcmdldCIsInNldHVwRGV2dG9vbHNQbHVnaW4iLCJwbHVnaW5EZXNjcmlwdG9yIiwic2V0dXBGbiIsImVuYWJsZVByb3h5IiwiYWN0aXZlUGluaWEiLCJzZXRBY3RpdmVQaW5pYSIsInBpbmlhIiwicGluaWFTeW1ib2wiLCJNdXRhdGlvblR5cGUiLCJJU19DTElFTlQiLCJVU0VfREVWVE9PTFMiLCJfZ2xvYmFsIiwiYm9tIiwiYmxvYiIsImF1dG9Cb20iLCJkb3dubG9hZCIsInhociIsInNhdmVBcyIsImNvcnNFbmFibGVkIiwiY2xpY2siLCJldnQiLCJfbmF2aWdhdG9yIiwiaXNNYWNPU1dlYlZpZXciLCJkb3dubG9hZFNhdmVBcyIsIm1zU2F2ZUFzIiwiZmlsZVNhdmVyU2F2ZUFzIiwicG9wdXAiLCJmb3JjZSIsImlzU2FmYXJpIiwiaXNDaHJvbWVJT1MiLCJyZWFkZXIiLCJ0b2FzdE1lc3NhZ2UiLCJwaW5pYU1lc3NhZ2UiLCJpc1BpbmlhIiwiY2hlY2tDbGlwYm9hcmRBY2Nlc3MiLCJjaGVja05vdEZvY3VzZWRFcnJvciIsImFjdGlvbkdsb2JhbENvcHlTdGF0ZSIsImFjdGlvbkdsb2JhbFBhc3RlU3RhdGUiLCJhY3Rpb25HbG9iYWxTYXZlU3RhdGUiLCJmaWxlSW5wdXQiLCJnZXRGaWxlT3BlbmVyIiwib3BlbkZpbGUiLCJmaWxlcyIsImZpbGUiLCJhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlIiwiZm9ybWF0RGlzcGxheSIsImRpc3BsYXkiLCJQSU5JQV9ST09UX0xBQkVMIiwiUElOSUFfUk9PVF9JRCIsImZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZSIsInN0b3JlIiwiZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZSIsInN0b3JlTmFtZXMiLCJzdG9yZU1hcCIsInN0b3JlSWQiLCJnZXR0ZXJzIiwiZ2V0dGVyTmFtZSIsImZvcm1hdEV2ZW50RGF0YSIsImZvcm1hdE11dGF0aW9uVHlwZSIsImlzVGltZWxpbmVBY3RpdmUiLCJjb21wb25lbnRTdGF0ZVR5cGVzIiwiTVVUQVRJT05TX0xBWUVSX0lEIiwiSU5TUEVDVE9SX0lEIiwiZ2V0U3RvcmVUeXBlIiwicmVnaXN0ZXJQaW5pYURldnRvb2xzIiwiYXBpIiwibm9kZUlkIiwicGF5bG9hZCIsInBpbmlhU3RvcmVzIiwic3RvcmVzIiwiaW5zcGVjdGVkU3RvcmUiLCJhZGRTdG9yZVRvRGV2dG9vbHMiLCJhZnRlciIsImdyb3VwSWQiLCJydW5uaW5nQWN0aW9uSWQiLCJhY3RpdmVBY3Rpb24iLCJldmVudERhdGEiLCJob3RVcGRhdGUiLCJuZXdTdG9yZSIsIiRkaXNwb3NlIiwicGF0Y2hBY3Rpb25Gb3JHcm91cGluZyIsImFjdGlvbk5hbWVzIiwiYWN0aW9ucyIsInN0b3JlQWN0aW9ucyIsImFjdGlvbk5hbWUiLCJfYWN0aW9uSWQiLCJ0cmFja2VkU3RvcmUiLCJkZXZ0b29sc1BsdWdpbiIsIm9yaWdpbmFsSG90VXBkYXRlIiwiY3JlYXRlUGluaWEiLCJ0b0JlSW5zdGFsbGVkIiwicGF0Y2hPYmplY3QiLCJuZXdTdGF0ZSIsIm9sZFN0YXRlIiwic3ViUGF0Y2giLCJ0YXJnZXRWYWx1ZSIsIm5vb3AiLCJhZGRTdWJzY3JpcHRpb24iLCJzdWJzY3JpcHRpb25zIiwicmVtb3ZlU3Vic2NyaXB0aW9uIiwiaWR4IiwidHJpZ2dlclN1YnNjcmlwdGlvbnMiLCJtZXJnZVJlYWN0aXZlT2JqZWN0cyIsInBhdGNoVG9BcHBseSIsInNraXBIeWRyYXRlU3ltYm9sIiwic2hvdWxkSHlkcmF0ZSIsImlzQ29tcHV0ZWQiLCJjcmVhdGVPcHRpb25zU3RvcmUiLCJob3QiLCJpbml0aWFsU3RhdGUiLCJsb2NhbFN0YXRlIiwiY29tcHV0ZWRHZXR0ZXJzIiwiY3JlYXRlU2V0dXBTdG9yZSIsIiRzdGF0ZSIsIiRpZCIsImlzT3B0aW9uc1N0b3JlIiwib3B0aW9uc0ZvclBsdWdpbiIsIiRzdWJzY3JpYmVPcHRpb25zIiwiaXNMaXN0ZW5pbmciLCJkZWJ1Z2dlckV2ZW50cyIsImlzU3luY0xpc3RlbmluZyIsImFjdGlvblN1YnNjcmlwdGlvbnMiLCJob3RTdGF0ZSIsImFjdGl2ZUxpc3RlbmVyIiwiJHBhdGNoIiwicGFydGlhbFN0YXRlT3JNdXRhdG9yIiwic3Vic2NyaXB0aW9uTXV0YXRpb24iLCJteUxpc3RlbmVySWQiLCIkcmVzZXQiLCJ3cmFwQWN0aW9uIiwiYWN0aW9uIiwiYWZ0ZXJDYWxsYmFja0xpc3QiLCJvbkVycm9yQ2FsbGJhY2tMaXN0IiwiX2htclBheWxvYWQiLCJwYXJ0aWFsU3RvcmUiLCJzdG9wV2F0Y2hlciIsInNldHVwU3RvcmUiLCJhY3Rpb25WYWx1ZSIsInN0YXRlS2V5IiwibmV3U3RhdGVUYXJnZXQiLCJvbGRTdGF0ZVNvdXJjZSIsImdldHRlclZhbHVlIiwibm9uRW51bWVyYWJsZSIsImV4dGVuZGVyIiwiZXh0ZW5zaW9ucyIsImRlZmluZVN0b3JlIiwiaWRPck9wdGlvbnMiLCJzZXR1cE9wdGlvbnMiLCJpc1NldHVwU3RvcmUiLCJ1c2VTdG9yZSIsImhvdElkIiwiU2F2ZVN0YXRlIiwiaGFzV2Vic29ja2V0REJzIiwic3VwcG9ydHNXZWJzb2NrZXRGb2N1cyIsImZpcnN0VGV4dEZpZWxkSW5kZXgiLCJmaXJzdFBhc3N3b3JkRmllbGRJbmRleCIsIm9yaWdpbmFsRmllbGRJbmRleCIsIm5ld1VzZXJuYW1lSW5kZXgiLCJuZXdVc2VybmFtZSIsIm5ld1Bhc3N3b3JkSW5kZXgiLCJuZXdQYXNzd29yZCIsIkZvcm1GaWxsaW5nIiwiZm9ybVNhdmluZyIsIkxvZ2dlciIsIm1hdGNoRmluZGVyIiwic3BlY2lmaWNGcmFtZUlkIiwibWF0Y2hlZEZpZWxkIiwiZGF0YUZpZWxkIiwiX2N1cnJlbnRQYWdlIiwiaXNWaXNpYmxlIiwiZm9ybUZpZWxkIiwic2NvcmUiLCJmaWVsZFNjb3JlTWF0cml4IiwiZGF0YUZpZWxkcyIsImZvcm1GaWVsZHMiLCJhdXRvbWF0ZWQiLCJmaWxsZWRGaWVsZHMiLCJmZmkiLCJkZmkiLCJkb21FbGVtZW50IiwiY3VycmVudFZhbHVlIiwiZmllbGRUeXBlIiwiY3VycmVudFBhZ2UiLCJzY29yZUNvbmZpZyIsImJlaGF2aW91ciIsImZvcm1zIiwicHNldWRvRm9ybSIsInNlYXJjaFNlbnRUb0tlZVBhc3MiLCJzY2FuUmVzdWx0IiwiaW50ZXJlc3RpbmdGb3JtIiwibm9QYXNzd29yZEZpZWxkIiwibm9PdGhlckZpZWxkIiwic3VibWl0VGFyZ2V0TmVpZ2hib3VyIiwiZm9ybU51bWJlciIsInN1Ym1pdFRhcmdldCIsIm9ycGhhbmVkRmllbGRzIiwidG4iLCJ2YWxpZEVudHJpZXMiLCJmaW5kTG9naW5PcCIsIm1hdGNoUmVzdWx0IiwiY3JTdHJpbmciLCJmaXJzdE1hdGNoUHJvY2Vzc2VkIiwiZm9ybVZpc2libGUiLCJ2aXNpYmxlRmllbGRDYWNoZSIsImZpZWxkTWF0Y2hTY29yZUNvbmZpZyIsImxvd0ZpZWxkTWF0Y2hSYXRpbyIsImZvcm1JbmRleCIsImZpbmRNYXRjaGVzUmVzdWx0IiwibW9zdFJlbGV2YW50Rm9ybUluZGV4IiwiZW50cnlJbmRleCIsImlzTWF0Y2hlZExvZ2luUmVxdWVzdCIsIm9yZGVyZWRFbnRyaWVzIiwib3JkZXJlZEVudHJpZXNXaXRoUHJlZmVyZW5jZSIsIm1hdGNoaW5nTG9naW4iLCJtdWx0aXBsZU1hdGNoZXMiLCJjaGVja01hdGNoaW5nTG9naW5SZWxldmFuY2VUaHJlc2hvbGQiLCJhdXRvRmlsbEVuYWJsZWQiLCJhdXRvU3VibWl0RW5hYmxlZCIsImxhc3RGaWxsZWRPdGhlciIsImxhc3RGaWxsZWRQYXNzd29yZHMiLCJjYW5kaWRhdGVzIiwibWluU2NvcmVUb1dpbiIsImRpc3RhbmNlQ2FsYyIsImRpc3RhbmNlTWFwIiwiZlV0aWxzIiwidmVyaWZ5UG90ZW50aWFsQ2FuZGlkYXRlIiwicmVzb2x2ZUFyaWFMYWJlbFZhbHVlcyIsInNlbWFudGljVmFsdWVzIiwic2VtYW50aWNTY29yZSIsInN1Ym1pdEVsZW1lbnRzIiwibWF4RGlzdGFuY2VEaWZmZXJlbmNlIiwiZGlzdGFuY2VTY29yZSIsImRpc3RhbmNlRmFjdG9yIiwibGFzdERpc3RhbmNlIiwiY2FuZGlkYXRlIiwiZWxlbWVudHMiLCJtYXhTY29yZSIsIm1heFNjb3JlRWxlbWVudCIsImZhY3RvciIsInNlbWFudGljV2hpdGVsaXN0Q2FjaGUiLCJzZW1hbnRpY0JsYWNrbGlzdENhY2hlIiwiZ29vZFdvcmRzIiwiYmFkV29yZHMiLCJnb29kU2NvcmUiLCJiYWRTY29yZSIsInNlbWFudGljVmFsdWUiLCJub2RlQSIsIm5vZGVCIiwiZGlzdGFuY2UiLCJwZW5kaW5nTWFwIiwicGVuZGluZ01hcFN0YXJ0RGlzdGFuY2UiLCJjYWNoZWROb2RlRGlzdGFuY2UiLCJzdWJtaXRFbGVtZW50IiwibWluTWF0Y2hlZEZpZWxkQ291bnRSYXRpbyIsIm90aGVyUmVsZXZhbmNlU2NvcmUiLCJvdGhlckZpZWxkTWF0Y2hTdWNjZXNzZXMiLCJwYXNzd29yZFJlbGV2YW5jZVNjb3JlIiwicGFzc3dvcmRGaWVsZE1hdGNoU3VjY2Vzc2VzIiwidG90YWxSZWxldmFuY2VTY29yZSIsImZvcm1GaWVsZENvdW50IiwibG9naW5GaWVsZENvdW50IiwiZm9ybUZpZWxkQ291bnRGb3JBdXRvZmlsbCIsImxvZ2luRmllbGRDb3VudEZvckF1dG9maWxsIiwiZm9ybU1hdGNoZWRGaWVsZENvdW50Rm9yQXV0b2ZpbGwiLCJudW1iZXJPZk5ld1Bhc3N3b3JkRmllbGRzIiwiZmllbGRNYXRjaFJhdGlvRm9yQXV0b2ZpbGwiLCJhZGp1c3RlZFJlbGV2YW5jZSIsImRlYnVnTmFtZSIsIm1hdGNoZWRGaWVsZHMiLCJlbnRyeUZpZWxkcyIsInZpc2libGVGaWVsZE1hcCIsIm1pbkZpZWxkUmVsZXZhbmNlIiwiZmllbGRNYXRjaFN1Y2Nlc3NlcyIsIm1vc3RSZWxldmFudFNjb3JlIiwiZm1TY29yZSIsImZtU2NvcmVGb3JSYXRpbyIsIk1hdGNoZWRGaWVsZCIsIkZvcm1VdGlscyIsImxvZ2dlciIsImZyYW1lIiwibG9jYWxEb2NDb3VudCIsImZyYW1lcyIsInVyaSIsImZpZWxkTmFtZUluIiwiZmllbGROYW1lIiwiaXNTdWJtaXNzaW9uIiwibWF4aW11bUZpZWxkQ291bnQiLCJwd0ZpZWxkcyIsImFsbEZpZWxkcyIsImZpcnN0UG9zc2libGVVc2VybmFtZUluZGV4IiwidG90YWxFbGVtZW50cyIsImVsZW1lbnRMaW1pdCIsImZpZWxkVmFsdWUiLCJvdGhlckNvdW50IiwiYWN0dWFsVXNlcm5hbWVJbmRleCIsIkZvcm1TYXZpbmciLCJmb3JtVG9TdWJtaXQiLCJhdHRhY2htZW50IiwiaXNQYXNzd29yZENoYW5nZUZvcm0iLCJpc1JlZ2lzdHJhdGlvbkZvcm0iLCJleCIsInR3b1Bhc3N3b3Jkc01hdGNoSW5kZXgiLCJub25FbXB0eVBhc3N3b3JkRmllbGRzIiwibm9uRW1wdHlPdGhlckZpZWxkcyIsImRpZmZlcmVudFBhc3N3b3JkIiwiZGlmZmVyZW50T3RoZXIiLCJzdWJtaXR0ZWREYXRhIiwibmV3bHlTdWJtaXR0ZWRGaWVsZHMiLCJwcmV2aW91c2x5RmlsbGVkRmllbGRzIiwiZmlsbGVkRmllbGQiLCJzdWJtaXR0ZWRGaWVsZCIsInBhbmVsT3B0aW9ucyIsIlBhc3N3b3JkR2VuZXJhdG9yIiwiU3luY0NvbnRlbnQiLCJtdXRhdGlvbiIsInNlbmRNdXRhdGlvbiIsInZ1ZUluaXQiLCJDb250ZW50UG9ydE1hbmFnZXIiLCJicm93c2VyLnJ1bnRpbWUiLCJQb3J0Iiwia2VlRHVwbGljYXRpb25Db3VudCIsImZvcm1GaWxsaW5nIiwicGFzc3dvcmRHZW5lcmF0b3IiLCJmcmFtZUlkIiwic3luY0NvbnRlbnQiLCJjb25uZWN0ZWQiLCJtZXNzYWdpbmdQb3J0Q29ubmVjdGlvblJldHJ5VGltZXIiLCJwYWdlU2hvd0ZpcmVkIiwiY29uZmlnUmVhZHkiLCJtaXNzaW5nUGFnZVNob3dUaW1lciIsImlucHV0c09ic2VydmVyIiwidHV0b3JpYWxJbnRlZ3JhdGlvbiIsInRyYW5zZmVyRWxlbWVudCIsIm9uRmlyc3RDb25uZWN0IiwibXlGcmFtZUlkIiwic3RhcnR1cCIsImNvbm5lY3RUb01lc3NhZ2luZ1BvcnQiLCJyZXNjYW4iLCJpbnRlcmVzdGluZ05vZGVzIl0sIm1hcHBpbmdzIjoieUJBT0EsU0FBU0EsR0FBUUMsRUFBS0MsRUFBa0IsQ0FDcEMsTUFBTUMsRUFBTSxPQUFPLE9BQU8sSUFBSSxFQUN4QkMsRUFBT0gsRUFBSSxNQUFNLEdBQUcsRUFDMUIsUUFBUyxFQUFJLEVBQUcsRUFBSUcsRUFBSyxPQUFRLElBQzdCRCxFQUFJQyxFQUFLLENBQUMsQ0FBQyxFQUFJLEdBRW5CLE9BQU9GLEVBQW1CRyxHQUFPLENBQUMsQ0FBQ0YsRUFBSUUsRUFBSSxZQUFhLENBQUEsRUFBSUEsR0FBTyxDQUFDLENBQUNGLEVBQUlFLENBQUcsQ0FDaEYsQ0FLQSxNQUFNQyxHQUFzQ04sR0FIZixrTUFHMkMsRUFFeEUsU0FBU08sR0FBZUMsRUFBTyxDQUMzQixHQUFJQyxFQUFRRCxDQUFLLEVBQUcsQ0FDaEIsTUFBTUUsRUFBTSxDQUFBLEVBQ1osUUFBU0Ms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
