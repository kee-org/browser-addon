(function(){"use strict";function ys(t,e){const s=Object.create(null),i=t.split(",");for(let n=0;n<i.length;n++)s[i[n]]=!0;return e?n=>!!s[n.toLowerCase()]:n=>!!s[n]}function vs(t){if(G(t)){const e={};for(let s=0;s<t.length;s++){const i=t[s],n=ue(i)?mr(i):vs(i);if(n)for(const r in n)e[r]=n[r]}return e}else{if(ue(t))return t;if(le(t))return t}}const dr=/;(?![^(]*\))/g,hr=/:([^]+)/,gr=/\/\*.*?\*\//gs;function mr(t){const e={};return t.replace(gr,"").split(dr).forEach(s=>{if(s){const i=s.split(hr);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Fs(t){let e="";if(ue(t))e=t;else if(G(t))for(let s=0;s<t.length;s++){const i=Fs(t[s]);i&&(e+=i+" ")}else if(le(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const pr=ys("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ai(t){return!!t||t===""}const re={},Lt=[],Ee=()=>{},br=()=>!1,Ar=/^on[^a-z]/,Ht=t=>Ar.test(t),Ps=t=>t.startsWith("onUpdate:"),ge=Object.assign,Cs=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},wr=Object.prototype.hasOwnProperty,J=(t,e)=>wr.call(t,e),G=Array.isArray,St=t=>Wt(t)==="[object Map]",xr=t=>Wt(t)==="[object Set]",X=t=>typeof t=="function",ue=t=>typeof t=="string",Ls=t=>typeof t=="symbol",le=t=>t!==null&&typeof t=="object",wi=t=>le(t)&&X(t.then)&&X(t.catch),yr=Object.prototype.toString,Wt=t=>yr.call(t),vr=t=>Wt(t).slice(8,-1),Fr=t=>Wt(t)==="[object Object]",Ss=t=>ue(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,jt=ys(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vt=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Pr=/-(\w)/g,dt=Vt(t=>t.replace(Pr,(e,s)=>s?s.toUpperCase():"")),Cr=/\B([A-Z])/g,ht=Vt(t=>t.replace(Cr,"-$1").toLowerCase()),xi=Vt(t=>t.charAt(0).toUpperCase()+t.slice(1)),Es=Vt(t=>t?`on${xi(t)}`:""),Et=(t,e)=>!Object.is(t,e),Rs=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},$t=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},yi=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let vi;const Lr=()=>vi||(vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let xe;class Fi{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=xe,!e&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}run(e){if(this.active){const s=xe;try{return xe=this,e()}finally{xe=s}}}on(){xe=this}off(){xe=this.parent}stop(e){if(this.active){let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this.active=!1}}}function Pi(t){return new Fi(t)}function Sr(t,e=xe){e&&e.active&&e.effects.push(t)}function Er(){return xe}function Rr(t){xe&&xe.cleanups.push(t)}const _s=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Ci=t=>(t.w&Ge)>0,Li=t=>(t.n&Ge)>0,_r=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ge},Ir=t=>{const{deps:e}=t;if(e.length){let s=0;for(let i=0;i<e.length;i++){const n=e[i];Ci(n)&&!Li(n)?n.delete(t):e[s++]=n,n.w&=~Ge,n.n&=~Ge}e.length=s}},Is=new WeakMap;let Rt=0,Ge=1;const Ts=30;let Re;const tt=Symbol(""),Ms=Symbol("");class Os{constructor(e,s=null,i){this.fn=e,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Sr(this,i)}run(){if(!this.active)return this.fn();let e=Re,s=Xe;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Re,Re=this,Xe=!0,Ge=1<<++Rt,Rt<=Ts?_r(this):Si(this),this.fn()}finally{Rt<=Ts&&Ir(this),Ge=1<<--Rt,Re=this.parent,Xe=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Re===this?this.deferStop=!0:this.active&&(Si(this),this.onStop&&this.onStop(),this.active=!1)}}function Si(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}let Xe=!0;const Ei=[];function gt(){Ei.push(Xe),Xe=!1}function mt(){const t=Ei.pop();Xe=t===void 0?!0:t}function ye(t,e,s){if(Xe&&Re){let i=Is.get(t);i||Is.set(t,i=new Map);let n=i.get(s);n||i.set(s,n=_s()),Ri(n)}}function Ri(t,e){let s=!1;Rt<=Ts?Li(t)||(t.n|=Ge,s=!Ci(t)):s=!t.has(Re),s&&(t.add(Re),Re.deps.push(t))}function Ke(t,e,s,i,n,r){const o=Is.get(t);if(!o)return;let l=[];if(e==="clear")l=[...o.values()];else if(s==="length"&&G(t)){const a=yi(i);o.forEach((c,d)=>{(d==="length"||d>=a)&&l.push(c)})}else switch(s!==void 0&&l.push(o.get(s)),e){case"add":G(t)?Ss(s)&&l.push(o.get("length")):(l.push(o.get(tt)),St(t)&&l.push(o.get(Ms)));break;case"delete":G(t)||(l.push(o.get(tt)),St(t)&&l.push(o.get(Ms)));break;case"set":St(t)&&l.push(o.get(tt));break}if(l.length===1)l[0]&&ks(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);ks(_s(a))}}function ks(t,e){const s=G(t)?t:[...t];for(const i of s)i.computed&&_i(i);for(const i of s)i.computed||_i(i)}function _i(t,e){(t!==Re||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Tr=ys("__proto__,__v_isRef,__isVue"),Ii=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ls)),Mr=Ds(),Or=Ds(!1,!0),kr=Ds(!0),Ti=Dr();function Dr(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const i=Z(this);for(let r=0,o=this.length;r<o;r++)ye(i,"get",r+"");const n=i[e](...s);return n===-1||n===!1?i[e](...s.map(Z)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){gt();const i=Z(this)[e].apply(this,s);return mt(),i}}),t}function Ds(t=!1,e=!1){return function(i,n,r){if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_isShallow")return e;if(n==="__v_raw"&&r===(t?e?Zr:Hi:e?Ki:Bi).get(i))return i;const o=G(i);if(!t&&o&&J(Ti,n))return Reflect.get(Ti,n,r);const l=Reflect.get(i,n,r);return(Ls(n)?Ii.has(n):Tr(n))||(t||ye(i,"get",n),e)?l:oe(l)?o&&Ss(n)?l:l.value:le(l)?t?Wi(l):Zt(l):l}}const Nr=Mi(),Ur=Mi(!0);function Mi(t=!1){return function(s,i,n,r){let o=s[i];if(pt(o)&&oe(o)&&!oe(n))return!1;if(!t&&(!Qt(n)&&!pt(n)&&(o=Z(o),n=Z(n)),!G(s)&&oe(o)&&!oe(n)))return o.value=n,!0;const l=G(s)&&Ss(i)?Number(i)<s.length:J(s,i),a=Reflect.set(s,i,n,r);return s===Z(r)&&(l?Et(n,o)&&Ke(s,"set",i,n):Ke(s,"add",i,n)),a}}function Br(t,e){const s=J(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&s&&Ke(t,"delete",e,void 0),i}function Kr(t,e){const s=Reflect.has(t,e);return(!Ls(e)||!Ii.has(e))&&ye(t,"has",e),s}function Hr(t){return ye(t,"iterate",G(t)?"length":tt),Reflect.ownKeys(t)}const Oi={get:Mr,set:Nr,deleteProperty:Br,has:Kr,ownKeys:Hr},Wr={get:kr,set(t,e){return!0},deleteProperty(t,e){return!0}},jr=ge({},Oi,{get:Or,set:Ur}),Ns=t=>t,qt=t=>Reflect.getPrototypeOf(t);function Gt(t,e,s=!1,i=!1){t=t.__v_raw;const n=Z(t),r=Z(e);s||(e!==r&&ye(n,"get",e),ye(n,"get",r));const{has:o}=qt(n),l=i?Ns:s?Ks:_t;if(o.call(n,e))return l(t.get(e));if(o.call(n,r))return l(t.get(r));t!==n&&t.get(e)}function Xt(t,e=!1){const s=this.__v_raw,i=Z(s),n=Z(t);return e||(t!==n&&ye(i,"has",t),ye(i,"has",n)),t===n?s.has(t):s.has(t)||s.has(n)}function zt(t,e=!1){return t=t.__v_raw,!e&&ye(Z(t),"iterate",tt),Reflect.get(t,"size",t)}function ki(t){t=Z(t);const e=Z(this);return qt(e).has.call(e,t)||(e.add(t),Ke(e,"add",t,t)),this}function Di(t,e){e=Z(e);const s=Z(this),{has:i,get:n}=qt(s);let r=i.call(s,t);r||(t=Z(t),r=i.call(s,t));const o=n.call(s,t);return s.set(t,e),r?Et(e,o)&&Ke(s,"set",t,e):Ke(s,"add",t,e),this}function Ni(t){const e=Z(this),{has:s,get:i}=qt(e);let n=s.call(e,t);n||(t=Z(t),n=s.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return n&&Ke(e,"delete",t,void 0),r}function Ui(){const t=Z(this),e=t.size!==0,s=t.clear();return e&&Ke(t,"clear",void 0,void 0),s}function Yt(t,e){return function(i,n){const r=this,o=r.__v_raw,l=Z(o),a=e?Ns:t?Ks:_t;return!t&&ye(l,"iterate",tt),o.forEach((c,d)=>i.call(n,a(c),a(d),r))}}function Jt(t,e,s){return function(...i){const n=this.__v_raw,r=Z(n),o=St(r),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=n[t](...i),d=s?Ns:e?Ks:_t;return!e&&ye(r,"iterate",a?Ms:tt),{next(){const{value:h,done:g}=c.next();return g?{value:h,done:g}:{value:l?[d(h[0]),d(h[1])]:d(h),done:g}},[Symbol.iterator](){return this}}}}function ze(t){return function(...e){return t==="delete"?!1:this}}function Vr(){const t={get(r){return Gt(this,r)},get size(){return zt(this)},has:Xt,add:ki,set:Di,delete:Ni,clear:Ui,forEach:Yt(!1,!1)},e={get(r){return Gt(this,r,!1,!0)},get size(){return zt(this)},has:Xt,add:ki,set:Di,delete:Ni,clear:Ui,forEach:Yt(!1,!0)},s={get(r){return Gt(this,r,!0)},get size(){return zt(this,!0)},has(r){return Xt.call(this,r,!0)},add:ze("add"),set:ze("set"),delete:ze("delete"),clear:ze("clear"),forEach:Yt(!0,!1)},i={get(r){return Gt(this,r,!0,!0)},get size(){return zt(this,!0)},has(r){return Xt.call(this,r,!0)},add:ze("add"),set:ze("set"),delete:ze("delete"),clear:ze("clear"),forEach:Yt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Jt(r,!1,!1),s[r]=Jt(r,!0,!1),e[r]=Jt(r,!1,!0),i[r]=Jt(r,!0,!0)}),[t,s,e,i]}const[$r,qr,Gr,Xr]=Vr();function Us(t,e){const s=e?t?Xr:Gr:t?qr:$r;return(i,n,r)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(J(s,n)&&n in i?s:i,n,r)}const zr={get:Us(!1,!1)},Yr={get:Us(!1,!0)},Jr={get:Us(!0,!1)},Bi=new WeakMap,Ki=new WeakMap,Hi=new WeakMap,Zr=new WeakMap;function Qr(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eo(t){return t.__v_skip||!Object.isExtensible(t)?0:Qr(vr(t))}function Zt(t){return pt(t)?t:Bs(t,!1,Oi,zr,Bi)}function to(t){return Bs(t,!1,jr,Yr,Ki)}function Wi(t){return Bs(t,!0,Wr,Jr,Hi)}function Bs(t,e,s,i,n){if(!le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=n.get(t);if(r)return r;const o=eo(t);if(o===0)return t;const l=new Proxy(t,o===2?i:s);return n.set(t,l),l}function Ye(t){return pt(t)?Ye(t.__v_raw):!!(t&&t.__v_isReactive)}function pt(t){return!!(t&&t.__v_isReadonly)}function Qt(t){return!!(t&&t.__v_isShallow)}function ji(t){return Ye(t)||pt(t)}function Z(t){const e=t&&t.__v_raw;return e?Z(e):t}function bt(t){return $t(t,"__v_skip",!0),t}const _t=t=>le(t)?Zt(t):t,Ks=t=>le(t)?Wi(t):t;function Vi(t){Xe&&Re&&(t=Z(t),Ri(t.dep||(t.dep=_s())))}function $i(t,e){t=Z(t),t.dep&&ks(t.dep)}function oe(t){return!!(t&&t.__v_isRef===!0)}function qi(t){return so(t,!1)}function so(t,e){return oe(t)?t:new io(t,e)}class io{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:Z(e),this._value=s?e:_t(e)}get value(){return Vi(this),this._value}set value(e){const s=this.__v_isShallow||Qt(e)||pt(e);e=s?e:Z(e),Et(e,this._rawValue)&&(this._rawValue=e,this._value=s?e:_t(e),$i(this))}}function no(t){return oe(t)?t.value:t}const ro={get:(t,e,s)=>no(Reflect.get(t,e,s)),set:(t,e,s,i)=>{const n=t[e];return oe(n)&&!oe(s)?(n.value=s,!0):Reflect.set(t,e,s,i)}};function Gi(t){return Ye(t)?t:new Proxy(t,ro)}function oo(t){const e=G(t)?new Array(t.length):{};for(const s in t)e[s]=ao(t,s);return e}class lo{constructor(e,s,i){this._object=e,this._key=s,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function ao(t,e,s){const i=t[e];return oe(i)?i:new lo(t,e,s)}var Xi;class co{constructor(e,s,i,n){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[Xi]=!1,this._dirty=!0,this.effect=new Os(e,()=>{this._dirty||(this._dirty=!0,$i(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const e=Z(this);return Vi(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Xi="__v_isReadonly";function fo(t,e,s=!1){let i,n;const r=X(t);return r?(i=t,n=Ee):(i=t.get,n=t.set),new co(i,n,r||!n,s)}function Aa(t,...e){}function Je(t,e,s,i){let n;try{n=i?t(...i):t()}catch(r){es(r,e,s)}return n}function Ce(t,e,s,i){if(X(t)){const r=Je(t,e,s,i);return r&&wi(r)&&r.catch(o=>{es(o,e,s)}),r}const n=[];for(let r=0;r<t.length;r++)n.push(Ce(t[r],e,s,i));return n}function es(t,e,s,i=!0){const n=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,l=s;for(;r;){const c=r.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,o,l)===!1)return}r=r.parent}const a=e.appContext.config.errorHandler;if(a){Je(a,null,10,[t,o,l]);return}}uo(t,s,n,i)}function uo(t,e,s,i=!0){console.error(t)}let It=!1,Hs=!1;const me=[];let Me=0;const At=[];let He=null,st=0;const zi=Promise.resolve();let Ws=null;function Yi(t){const e=Ws||zi;return t?e.then(this?t.bind(this):t):e}function ho(t){let e=Me+1,s=me.length;for(;e<s;){const i=e+s>>>1;Tt(me[i])<t?e=i+1:s=i}return e}function js(t){(!me.length||!me.includes(t,It&&t.allowRecurse?Me+1:Me))&&(t.id==null?me.push(t):me.splice(ho(t.id),0,t),Ji())}function Ji(){!It&&!Hs&&(Hs=!0,Ws=zi.then(en))}function go(t){const e=me.indexOf(t);e>Me&&me.splice(e,1)}function mo(t){G(t)?At.push(...t):(!He||!He.includes(t,t.allowRecurse?st+1:st))&&At.push(t),Ji()}function Zi(t,e=It?Me+1:0){for(;e<me.length;e++){const s=me[e];s&&s.pre&&(me.splice(e,1),e--,s())}}function Qi(t){if(At.length){const e=[...new Set(At)];if(At.length=0,He){He.push(...e);return}for(He=e,He.sort((s,i)=>Tt(s)-Tt(i)),st=0;st<He.length;st++)He[st]();He=null,st=0}}const Tt=t=>t.id==null?1/0:t.id,po=(t,e)=>{const s=Tt(t)-Tt(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function en(t){Hs=!1,It=!0,me.sort(po);const e=Ee;try{for(Me=0;Me<me.length;Me++){const s=me[Me];s&&s.active!==!1&&Je(s,null,14)}}finally{Me=0,me.length=0,Qi(),It=!1,Ws=null,(me.length||At.length)&&en()}}function bo(t,e,...s){if(t.isUnmounted)return;const i=t.vnode.props||re;let n=s;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:g}=i[d]||re;g&&(n=s.map(v=>ue(v)?v.trim():v)),h&&(n=s.map(yi))}let l,a=i[l=Es(e)]||i[l=Es(dt(e))];!a&&r&&(a=i[l=Es(ht(e))]),a&&Ce(a,t,6,n);const c=i[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Ce(c,t,6,n)}}function tn(t,e,s=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const r=t.emits;let o={},l=!1;if(!X(t)){const a=c=>{const d=tn(c,e,!0);d&&(l=!0,ge(o,d))};!s&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!l?(le(t)&&i.set(t,null),null):(G(r)?r.forEach(a=>o[a]=null):ge(o,r),le(t)&&i.set(t,o),o)}function ts(t,e){return!t||!Ht(e)?!1:(e=e.slice(2).replace(/Once$/,""),J(t,e[0].toLowerCase()+e.slice(1))||J(t,ht(e))||J(t,e))}let _e=null,sn=null;function ss(t){const e=_e;return _e=t,sn=t&&t.type.__scopeId||null,e}function Ao(t,e=_e,s){if(!e||t._n)return t;const i=(...n)=>{i._d&&En(-1);const r=ss(e);let o;try{o=t(...n)}finally{ss(r),i._d&&En(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function wa(){}function Vs(t){const{type:e,vnode:s,proxy:i,withProxy:n,props:r,propsOptions:[o],slots:l,attrs:a,emit:c,render:d,renderCache:h,data:g,setupState:v,ctx:S,inheritAttrs:w}=t;let E,M;const $=ss(t);try{if(s.shapeFlag&4){const B=n||i;E=ke(d.call(B,B,h,r,v,g,S)),M=a}else{const B=e;E=ke(B.length>1?B(r,{attrs:a,slots:l,emit:c}):B(r,null)),M=e.props?a:wo(a)}}catch(B){es(B,t,1),E=lt(je)}let T=E;if(M&&w!==!1){const B=Object.keys(M),{shapeFlag:V}=T;B.length&&V&7&&(o&&B.some(Ps)&&(M=xo(M,o)),T=Ze(T,M))}return s.dirs&&(T=Ze(T),T.dirs=T.dirs?T.dirs.concat(s.dirs):s.dirs),s.transition&&(T.transition=s.transition),E=T,ss($),E}const wo=t=>{let e;for(const s in t)(s==="class"||s==="style"||Ht(s))&&((e||(e={}))[s]=t[s]);return e},xo=(t,e)=>{const s={};for(const i in t)(!Ps(i)||!(i.slice(9)in e))&&(s[i]=t[i]);return s};function yo(t,e,s){const{props:i,children:n,component:r}=t,{props:o,children:l,patchFlag:a}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return i?nn(i,o,c):!!o;if(a&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const g=d[h];if(o[g]!==i[g]&&!ts(c,g))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?nn(i,o,c):!0:!!o;return!1}function nn(t,e,s){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(e[r]!==t[r]&&!ts(s,r))return!0}return!1}function vo({vnode:t,parent:e},s){for(;e&&e.subTree===t;)(t=e.vnode).el=s,e=e.parent}const Fo=t=>t.__isSuspense;function Po(t,e){e&&e.pendingBranch?G(t)?e.effects.push(...t):e.effects.push(t):mo(t)}function Co(t,e){if(de){let s=de.provides;const i=de.parent&&de.parent.provides;i===s&&(s=de.provides=Object.create(i)),s[t]=e}}function Mt(t,e,s=!1){const i=de||_e;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&t in n)return n[t];if(arguments.length>1)return s&&X(e)?e.call(i.proxy):e}}const is={};function ns(t,e,s){return rn(t,e,s)}function rn(t,e,{immediate:s,deep:i,flush:n,onTrack:r,onTrigger:o}=re){const l=de;let a,c=!1,d=!1;if(oe(t)?(a=()=>t.value,c=Qt(t)):Ye(t)?(a=()=>t,i=!0):G(t)?(d=!0,c=t.some(T=>Ye(T)||Qt(T)),a=()=>t.map(T=>{if(oe(T))return T.value;if(Ye(T))return wt(T);if(X(T))return Je(T,l,2)})):X(t)?e?a=()=>Je(t,l,2):a=()=>{if(!(l&&l.isUnmounted))return h&&h(),Ce(t,l,3,[g])}:a=Ee,e&&i){const T=a;a=()=>wt(T())}let h,g=T=>{h=M.onStop=()=>{Je(T,l,4)}},v;if(kt)if(g=Ee,e?s&&Ce(e,l,3,[a(),d?[]:void 0,g]):a(),n==="sync"){const T=wl();v=T.__watcherHandles||(T.__watcherHandles=[])}else return Ee;let S=d?new Array(t.length).fill(is):is;const w=()=>{if(M.active)if(e){const T=M.run();(i||c||(d?T.some((B,V)=>Et(B,S[V])):Et(T,S)))&&(h&&h(),Ce(e,l,3,[T,S===is?void 0:d&&S[0]===is?[]:S,g]),S=T)}else M.run()};w.allowRecurse=!!e;let E;n==="sync"?E=w:n==="post"?E=()=>be(w,l&&l.suspense):(w.pre=!0,l&&(w.id=l.uid),E=()=>js(w));const M=new Os(a,E);e?s?w():S=M.run():n==="post"?be(M.run.bind(M),l&&l.suspense):M.run();const $=()=>{M.stop(),l&&l.scope&&Cs(l.scope.effects,M)};return v&&v.push($),$}function Lo(t,e,s){const i=this.proxy,n=ue(t)?t.includes(".")?on(i,t):()=>i[t]:t.bind(i,i);let r;X(e)?r=e:(r=e.handler,s=e);const o=de;yt(this);const l=rn(n,r.bind(i),s);return o?yt(o):at(),l}function on(t,e){const s=e.split(".");return()=>{let i=t;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}function wt(t,e){if(!le(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),oe(t))wt(t.value,e);else if(G(t))for(let s=0;s<t.length;s++)wt(t[s],e);else if(xr(t)||St(t))t.forEach(s=>{wt(s,e)});else if(Fr(t))for(const s in t)wt(t[s],e);return t}function So(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return un(()=>{t.isMounted=!0}),dn(()=>{t.isUnmounting=!0}),t}const Le=[Function,Array],Eo={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Le,onEnter:Le,onAfterEnter:Le,onEnterCancelled:Le,onBeforeLeave:Le,onLeave:Le,onAfterLeave:Le,onLeaveCancelled:Le,onBeforeAppear:Le,onAppear:Le,onAfterAppear:Le,onAppearCancelled:Le},setup(t,{slots:e}){const s=_n(),i=So();let n;return()=>{const r=e.default&&cn(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const w of r)if(w.type!==je){o=w;break}}const l=Z(t),{mode:a}=l;if(i.isLeaving)return qs(o);const c=an(o);if(!c)return qs(o);const d=$s(c,l,i,s);Gs(c,d);const h=s.subTree,g=h&&an(h);let v=!1;const{getTransitionKey:S}=c.type;if(S){const w=S();n===void 0?n=w:w!==n&&(n=w,v=!0)}if(g&&g.type!==je&&(!ot(c,g)||v)){const w=$s(g,l,i,s);if(Gs(g,w),a==="out-in")return i.isLeaving=!0,w.afterLeave=()=>{i.isLeaving=!1,s.update.active!==!1&&s.update()},qs(o);a==="in-out"&&c.type!==je&&(w.delayLeave=(E,M,$)=>{const T=ln(i,g);T[String(g.key)]=g,E._leaveCb=()=>{M(),E._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=$})}return o}}};function ln(t,e){const{leavingVNodes:s}=t;let i=s.get(e.type);return i||(i=Object.create(null),s.set(e.type,i)),i}function $s(t,e,s,i){const{appear:n,mode:r,persisted:o=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:g,onAfterLeave:v,onLeaveCancelled:S,onBeforeAppear:w,onAppear:E,onAfterAppear:M,onAppearCancelled:$}=e,T=String(t.key),B=ln(s,t),V=(b,A)=>{b&&Ce(b,i,9,A)},te=(b,A)=>{const R=A[1];V(b,A),G(b)?b.every(m=>m.length<=1)&&R():b.length<=1&&R()},q={mode:r,persisted:o,beforeEnter(b){let A=l;if(!s.isMounted)if(n)A=w||l;else return;b._leaveCb&&b._leaveCb(!0);const R=B[T];R&&ot(t,R)&&R.el._leaveCb&&R.el._leaveCb(),V(A,[b])},enter(b){let A=a,R=c,m=d;if(!s.isMounted)if(n)A=E||a,R=M||c,m=$||d;else return;let I=!1;const K=b._enterCb=ee=>{I||(I=!0,ee?V(m,[b]):V(R,[b]),q.delayedLeave&&q.delayedLeave(),b._enterCb=void 0)};A?te(A,[b,K]):K()},leave(b,A){const R=String(t.key);if(b._enterCb&&b._enterCb(!0),s.isUnmounting)return A();V(h,[b]);let m=!1;const I=b._leaveCb=K=>{m||(m=!0,A(),K?V(S,[b]):V(v,[b]),b._leaveCb=void 0,B[R]===t&&delete B[R])};B[R]=t,g?te(g,[b,I]):I()},clone(b){return $s(b,e,s,i)}};return q}function qs(t){if(os(t))return t=Ze(t),t.children=null,t}function an(t){return os(t)?t.children?t.children[0]:void 0:t}function Gs(t,e){t.shapeFlag&6&&t.component?Gs(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function cn(t,e=!1,s){let i=[],n=0;for(let r=0;r<t.length;r++){let o=t[r];const l=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===Oe?(o.patchFlag&128&&n++,i=i.concat(cn(o.children,e,l))):(e||o.type!==je)&&i.push(l!=null?Ze(o,{key:l}):o)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function Ro(t){return X(t)?{setup:t,name:t.name}:t}const rs=t=>!!t.type.__asyncLoader,os=t=>t.type.__isKeepAlive;function _o(t,e){fn(t,"a",e)}function Io(t,e){fn(t,"da",e)}function fn(t,e,s=de){const i=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(ls(e,i,s),s){let n=s.parent;for(;n&&n.parent;)os(n.parent.vnode)&&To(i,e,s,n),n=n.parent}}function To(t,e,s,i){const n=ls(e,t,i,!0);hn(()=>{Cs(i[e],n)},s)}function ls(t,e,s=de,i=!1){if(s){const n=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(s.isUnmounted)return;gt(),yt(s);const l=Ce(e,s,t,o);return at(),mt(),l});return i?n.unshift(r):n.push(r),r}}const We=t=>(e,s=de)=>(!kt||t==="sp")&&ls(t,(...i)=>e(...i),s),Mo=We("bm"),un=We("m"),Oo=We("bu"),ko=We("u"),dn=We("bum"),hn=We("um"),Do=We("sp"),No=We("rtg"),Uo=We("rtc");function Bo(t,e=de){ls("ec",t,e)}function it(t,e,s,i){const n=t.dirs,r=e&&e.dirs;for(let o=0;o<n.length;o++){const l=n[o];r&&(l.oldValue=r[o].value);let a=l.dir[i];a&&(gt(),Ce(a,s,8,[t.el,l,t,e]),mt())}}const Ko=Symbol(),Xs=t=>t?In(t)?ri(t)||t.proxy:Xs(t.parent):null,Ot=ge(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xs(t.parent),$root:t=>Xs(t.root),$emit:t=>t.emit,$options:t=>Js(t),$forceUpdate:t=>t.f||(t.f=()=>js(t.update)),$nextTick:t=>t.n||(t.n=Yi.bind(t.proxy)),$watch:t=>Lo.bind(t)}),zs=(t,e)=>t!==re&&!t.__isScriptSetup&&J(t,e),Ho={get({_:t},e){const{ctx:s,setupState:i,data:n,props:r,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return i[e];case 2:return n[e];case 4:return s[e];case 3:return r[e]}else{if(zs(i,e))return o[e]=1,i[e];if(n!==re&&J(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&J(c,e))return o[e]=3,r[e];if(s!==re&&J(s,e))return o[e]=4,s[e];Ys&&(o[e]=0)}}const d=Ot[e];let h,g;if(d)return e==="$attrs"&&ye(t,"get",e),d(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(s!==re&&J(s,e))return o[e]=4,s[e];if(g=a.config.globalProperties,J(g,e))return g[e]},set({_:t},e,s){const{data:i,setupState:n,ctx:r}=t;return zs(n,e)?(n[e]=s,!0):i!==re&&J(i,e)?(i[e]=s,!0):J(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:i,appContext:n,propsOptions:r}},o){let l;return!!s[o]||t!==re&&J(t,o)||zs(e,o)||(l=r[0])&&J(l,o)||J(i,o)||J(Ot,o)||J(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:J(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};let Ys=!0;function Wo(t){const e=Js(t),s=t.proxy,i=t.ctx;Ys=!1,e.beforeCreate&&gn(e.beforeCreate,t,"bc");const{data:n,computed:r,methods:o,watch:l,provide:a,inject:c,created:d,beforeMount:h,mounted:g,beforeUpdate:v,updated:S,activated:w,deactivated:E,beforeDestroy:M,beforeUnmount:$,destroyed:T,unmounted:B,render:V,renderTracked:te,renderTriggered:q,errorCaptured:b,serverPrefetch:A,expose:R,inheritAttrs:m,components:I,directives:K,filters:ee}=e;if(c&&jo(c,i,null,t.appContext.config.unwrapInjectedRef),o)for(const W in o){const z=o[W];X(z)&&(i[W]=z.bind(s))}if(n){const W=n.call(s,s);le(W)&&(t.data=Zt(W))}if(Ys=!0,r)for(const W in r){const z=r[W],H=X(z)?z.bind(s,s):X(z.get)?z.get.bind(s,s):Ee,se=!X(z)&&X(z.set)?z.set.bind(s):Ee,he=kn({get:H,set:se});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>he.value,set:Ue=>he.value=Ue})}if(l)for(const W in l)mn(l[W],i,s,W);if(a){const W=X(a)?a.call(s):a;Reflect.ownKeys(W).forEach(z=>{Co(z,W[z])})}d&&gn(d,t,"c");function Q(W,z){G(z)?z.forEach(H=>W(H.bind(s))):z&&W(z.bind(s))}if(Q(Mo,h),Q(un,g),Q(Oo,v),Q(ko,S),Q(_o,w),Q(Io,E),Q(Bo,b),Q(Uo,te),Q(No,q),Q(dn,$),Q(hn,B),Q(Do,A),G(R))if(R.length){const W=t.exposed||(t.exposed={});R.forEach(z=>{Object.defineProperty(W,z,{get:()=>s[z],set:H=>s[z]=H})})}else t.exposed||(t.exposed={});V&&t.render===Ee&&(t.render=V),m!=null&&(t.inheritAttrs=m),I&&(t.components=I),K&&(t.directives=K)}function jo(t,e,s=Ee,i=!1){G(t)&&(t=Zs(t));for(const n in t){const r=t[n];let o;le(r)?"default"in r?o=Mt(r.from||n,r.default,!0):o=Mt(r.from||n):o=Mt(r),oe(o)&&i?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[n]=o}}function gn(t,e,s){Ce(G(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,s)}function mn(t,e,s,i){const n=i.includes(".")?on(s,i):()=>s[i];if(ue(t)){const r=e[t];X(r)&&ns(n,r)}else if(X(t))ns(n,t.bind(s));else if(le(t))if(G(t))t.forEach(r=>mn(r,e,s,i));else{const r=X(t.handler)?t.handler.bind(s):e[t.handler];X(r)&&ns(n,r,t)}}function Js(t){const e=t.type,{mixins:s,extends:i}=e,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let a;return l?a=l:!n.length&&!s&&!i?a=e:(a={},n.length&&n.forEach(c=>as(a,c,o,!0)),as(a,e,o)),le(e)&&r.set(e,a),a}function as(t,e,s,i=!1){const{mixins:n,extends:r}=e;r&&as(t,r,s,!0),n&&n.forEach(o=>as(t,o,s,!0));for(const o in e)if(!(i&&o==="expose")){const l=Vo[o]||s&&s[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Vo={data:pn,props:nt,emits:nt,methods:nt,computed:nt,beforeCreate:pe,created:pe,beforeMount:pe,mounted:pe,beforeUpdate:pe,updated:pe,beforeDestroy:pe,beforeUnmount:pe,destroyed:pe,unmounted:pe,activated:pe,deactivated:pe,errorCaptured:pe,serverPrefetch:pe,components:nt,directives:nt,watch:qo,provide:pn,inject:$o};function pn(t,e){return e?t?function(){return ge(X(t)?t.call(this,this):t,X(e)?e.call(this,this):e)}:e:t}function $o(t,e){return nt(Zs(t),Zs(e))}function Zs(t){if(G(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function pe(t,e){return t?[...new Set([].concat(t,e))]:e}function nt(t,e){return t?ge(ge(Object.create(null),t),e):e}function qo(t,e){if(!t)return e;if(!e)return t;const s=ge(Object.create(null),t);for(const i in e)s[i]=pe(t[i],e[i]);return s}function Go(t,e,s,i=!1){const n={},r={};$t(r,fs,1),t.propsDefaults=Object.create(null),bn(t,e,n,r);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=i?n:to(n):t.type.props?t.props=n:t.props=r,t.attrs=r}function Xo(t,e,s,i){const{props:n,attrs:r,vnode:{patchFlag:o}}=t,l=Z(n),[a]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let g=d[h];if(ts(t.emitsOptions,g))continue;const v=e[g];if(a)if(J(r,g))v!==r[g]&&(r[g]=v,c=!0);else{const S=dt(g);n[S]=Qs(a,l,S,v,t,!1)}else v!==r[g]&&(r[g]=v,c=!0)}}}else{bn(t,e,n,r)&&(c=!0);let d;for(const h in l)(!e||!J(e,h)&&((d=ht(h))===h||!J(e,d)))&&(a?s&&(s[h]!==void 0||s[d]!==void 0)&&(n[h]=Qs(a,l,h,void 0,t,!0)):delete n[h]);if(r!==l)for(const h in r)(!e||!J(e,h))&&(delete r[h],c=!0)}c&&Ke(t,"set","$attrs")}function bn(t,e,s,i){const[n,r]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(jt(a))continue;const c=e[a];let d;n&&J(n,d=dt(a))?!r||!r.includes(d)?s[d]=c:(l||(l={}))[d]=c:ts(t.emitsOptions,a)||(!(a in i)||c!==i[a])&&(i[a]=c,o=!0)}if(r){const a=Z(s),c=l||re;for(let d=0;d<r.length;d++){const h=r[d];s[h]=Qs(n,a,h,c[h],t,!J(c,h))}}return o}function Qs(t,e,s,i,n,r){const o=t[s];if(o!=null){const l=J(o,"default");if(l&&i===void 0){const a=o.default;if(o.type!==Function&&X(a)){const{propsDefaults:c}=n;s in c?i=c[s]:(yt(n),i=c[s]=a.call(null,e),at())}else i=a}o[0]&&(r&&!l?i=!1:o[1]&&(i===""||i===ht(s))&&(i=!0))}return i}function An(t,e,s=!1){const i=e.propsCache,n=i.get(t);if(n)return n;const r=t.props,o={},l=[];let a=!1;if(!X(t)){const d=h=>{a=!0;const[g,v]=An(h,e,!0);ge(o,g),v&&l.push(...v)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!a)return le(t)&&i.set(t,Lt),Lt;if(G(r))for(let d=0;d<r.length;d++){const h=dt(r[d]);wn(h)&&(o[h]=re)}else if(r)for(const d in r){const h=dt(d);if(wn(h)){const g=r[d],v=o[h]=G(g)||X(g)?{type:g}:Object.assign({},g);if(v){const S=vn(Boolean,v.type),w=vn(String,v.type);v[0]=S>-1,v[1]=w<0||S<w,(S>-1||J(v,"default"))&&l.push(h)}}}const c=[o,l];return le(t)&&i.set(t,c),c}function wn(t){return t[0]!=="$"}function xn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function yn(t,e){return xn(t)===xn(e)}function vn(t,e){return G(e)?e.findIndex(s=>yn(s,t)):X(e)&&yn(e,t)?0:-1}const Fn=t=>t[0]==="_"||t==="$stable",ei=t=>G(t)?t.map(ke):[ke(t)],zo=(t,e,s)=>{if(e._n)return e;const i=Ao((...n)=>ei(e(...n)),s);return i._c=!1,i},Pn=(t,e,s)=>{const i=t._ctx;for(const n in t){if(Fn(n))continue;const r=t[n];if(X(r))e[n]=zo(n,r,i);else if(r!=null){const o=ei(r);e[n]=()=>o}}},Cn=(t,e)=>{const s=ei(e);t.slots.default=()=>s},Yo=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=Z(e),$t(e,"_",s)):Pn(e,t.slots={})}else t.slots={},e&&Cn(t,e);$t(t.slots,fs,1)},Jo=(t,e,s)=>{const{vnode:i,slots:n}=t;let r=!0,o=re;if(i.shapeFlag&32){const l=e._;l?s&&l===1?r=!1:(ge(n,e),!s&&l===1&&delete n._):(r=!e.$stable,Pn(e,n)),o=e}else e&&(Cn(t,e),o={default:1});if(r)for(const l in n)!Fn(l)&&!(l in o)&&delete n[l]};function Ln(){return{app:null,config:{isNativeTag:br,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zo=0;function Qo(t,e){return function(i,n=null){X(i)||(i=Object.assign({},i)),n!=null&&!le(n)&&(n=null);const r=Ln(),o=new Set;let l=!1;const a=r.app={_uid:Zo++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:xl,get config(){return r.config},set config(c){},use(c,...d){return o.has(c)||(c&&X(c.install)?(o.add(c),c.install(a,...d)):X(c)&&(o.add(c),c(a,...d))),a},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),a},component(c,d){return d?(r.components[c]=d,a):r.components[c]},directive(c,d){return d?(r.directives[c]=d,a):r.directives[c]},mount(c,d,h){if(!l){const g=lt(i,n);return g.appContext=r,d&&e?e(g,c):t(g,c,h),l=!0,a._container=c,c.__vue_app__=a,ri(g.component)||g.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,d){return r.provides[c]=d,a}};return a}}function ti(t,e,s,i,n=!1){if(G(t)){t.forEach((g,v)=>ti(g,e&&(G(e)?e[v]:e),s,i,n));return}if(rs(i)&&!n)return;const r=i.shapeFlag&4?ri(i.component)||i.component.proxy:i.el,o=n?null:r,{i:l,r:a}=t,c=e&&e.r,d=l.refs===re?l.refs={}:l.refs,h=l.setupState;if(c!=null&&c!==a&&(ue(c)?(d[c]=null,J(h,c)&&(h[c]=null)):oe(c)&&(c.value=null)),X(a))Je(a,l,12,[o,d]);else{const g=ue(a),v=oe(a);if(g||v){const S=()=>{if(t.f){const w=g?J(h,a)?h[a]:d[a]:a.value;n?G(w)&&Cs(w,r):G(w)?w.includes(r)||w.push(r):g?(d[a]=[r],J(h,a)&&(h[a]=d[a])):(a.value=[r],t.k&&(d[t.k]=a.value))}else g?(d[a]=o,J(h,a)&&(h[a]=o)):v&&(a.value=o,t.k&&(d[t.k]=o))};o?(S.id=-1,be(S,s)):S()}}}const be=Po;function el(t){return tl(t)}function tl(t,e){const s=Lr();s.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:d,parentNode:h,nextSibling:g,setScopeId:v=Ee,insertStaticContent:S}=t,w=(f,u,p,y=null,x=null,C=null,_=!1,P=null,L=!!u.dynamicChildren)=>{if(f===u)return;f&&!ot(f,u)&&(y=xs(f),Ue(f,x,C,!0),f=null),u.patchFlag===-2&&(L=!1,u.dynamicChildren=null);const{type:F,ref:D,shapeFlag:O}=u;switch(F){case cs:E(f,u,p,y);break;case je:M(f,u,p,y);break;case si:f==null&&$(u,p,y,_);break;case Oe:I(f,u,p,y,x,C,_,P,L);break;default:O&1?V(f,u,p,y,x,C,_,P,L):O&6?K(f,u,p,y,x,C,_,P,L):(O&64||O&128)&&F.process(f,u,p,y,x,C,_,P,L,Pt)}D!=null&&x&&ti(D,f&&f.ref,C,u||f,!u)},E=(f,u,p,y)=>{if(f==null)i(u.el=l(u.children),p,y);else{const x=u.el=f.el;u.children!==f.children&&c(x,u.children)}},M=(f,u,p,y)=>{f==null?i(u.el=a(u.children||""),p,y):u.el=f.el},$=(f,u,p,y)=>{[f.el,f.anchor]=S(f.children,u,p,y,f.el,f.anchor)},T=({el:f,anchor:u},p,y)=>{let x;for(;f&&f!==u;)x=g(f),i(f,p,y),f=x;i(u,p,y)},B=({el:f,anchor:u})=>{let p;for(;f&&f!==u;)p=g(f),n(f),f=p;n(u)},V=(f,u,p,y,x,C,_,P,L)=>{_=_||u.type==="svg",f==null?te(u,p,y,x,C,_,P,L):A(f,u,x,C,_,P,L)},te=(f,u,p,y,x,C,_,P)=>{let L,F;const{type:D,props:O,shapeFlag:N,transition:j,dirs:Y}=f;if(L=f.el=o(f.type,C,O&&O.is,O),N&8?d(L,f.children):N&16&&b(f.children,L,null,y,x,C&&D!=="foreignObject",_,P),Y&&it(f,null,y,"created"),O){for(const ie in O)ie!=="value"&&!jt(ie)&&r(L,ie,null,O[ie],C,f.children,y,x,qe);"value"in O&&r(L,"value",null,O.value),(F=O.onVnodeBeforeMount)&&De(F,y,f)}q(L,f,f.scopeId,_,y),Y&&it(f,null,y,"beforeMount");const ne=(!x||x&&!x.pendingBranch)&&j&&!j.persisted;ne&&j.beforeEnter(L),i(L,u,p),((F=O&&O.onVnodeMounted)||ne||Y)&&be(()=>{F&&De(F,y,f),ne&&j.enter(L),Y&&it(f,null,y,"mounted")},x)},q=(f,u,p,y,x)=>{if(p&&v(f,p),y)for(let C=0;C<y.length;C++)v(f,y[C]);if(x){let C=x.subTree;if(u===C){const _=x.vnode;q(f,_,_.scopeId,_.slotScopeIds,x.parent)}}},b=(f,u,p,y,x,C,_,P,L=0)=>{for(let F=L;F<f.length;F++){const D=f[F]=P?Qe(f[F]):ke(f[F]);w(null,D,u,p,y,x,C,_,P)}},A=(f,u,p,y,x,C,_)=>{const P=u.el=f.el;let{patchFlag:L,dynamicChildren:F,dirs:D}=u;L|=f.patchFlag&16;const O=f.props||re,N=u.props||re;let j;p&&rt(p,!1),(j=N.onVnodeBeforeUpdate)&&De(j,p,u,f),D&&it(u,f,p,"beforeUpdate"),p&&rt(p,!0);const Y=x&&u.type!=="foreignObject";if(F?R(f.dynamicChildren,F,P,p,y,Y,C):_||z(f,u,P,null,p,y,Y,C,!1),L>0){if(L&16)m(P,u,O,N,p,y,x);else if(L&2&&O.class!==N.class&&r(P,"class",null,N.class,x),L&4&&r(P,"style",O.style,N.style,x),L&8){const ne=u.dynamicProps;for(let ie=0;ie<ne.length;ie++){const ae=ne[ie],Te=O[ae],Ct=N[ae];(Ct!==Te||ae==="value")&&r(P,ae,Te,Ct,x,f.children,p,y,qe)}}L&1&&f.children!==u.children&&d(P,u.children)}else!_&&F==null&&m(P,u,O,N,p,y,x);((j=N.onVnodeUpdated)||D)&&be(()=>{j&&De(j,p,u,f),D&&it(u,f,p,"updated")},y)},R=(f,u,p,y,x,C,_)=>{for(let P=0;P<u.length;P++){const L=f[P],F=u[P],D=L.el&&(L.type===Oe||!ot(L,F)||L.shapeFlag&70)?h(L.el):p;w(L,F,D,null,y,x,C,_,!0)}},m=(f,u,p,y,x,C,_)=>{if(p!==y){if(p!==re)for(const P in p)!jt(P)&&!(P in y)&&r(f,P,p[P],null,_,u.children,x,C,qe);for(const P in y){if(jt(P))continue;const L=y[P],F=p[P];L!==F&&P!=="value"&&r(f,P,F,L,_,u.children,x,C,qe)}"value"in y&&r(f,"value",p.value,y.value)}},I=(f,u,p,y,x,C,_,P,L)=>{const F=u.el=f?f.el:l(""),D=u.anchor=f?f.anchor:l("");let{patchFlag:O,dynamicChildren:N,slotScopeIds:j}=u;j&&(P=P?P.concat(j):j),f==null?(i(F,p,y),i(D,p,y),b(u.children,p,D,x,C,_,P,L)):O>0&&O&64&&N&&f.dynamicChildren?(R(f.dynamicChildren,N,p,x,C,_,P),(u.key!=null||x&&u===x.subTree)&&Sn(f,u,!0)):z(f,u,p,D,x,C,_,P,L)},K=(f,u,p,y,x,C,_,P,L)=>{u.slotScopeIds=P,f==null?u.shapeFlag&512?x.ctx.activate(u,p,y,_,L):ee(u,p,y,x,C,_,L):k(f,u,L)},ee=(f,u,p,y,x,C,_)=>{const P=f.component=dl(f,y,x);if(os(f)&&(P.ctx.renderer=Pt),hl(P),P.asyncDep){if(x&&x.registerDep(P,Q),!f.el){const L=P.subTree=lt(je);M(null,L,u,p)}return}Q(P,f,u,p,x,C,_)},k=(f,u,p)=>{const y=u.component=f.component;if(yo(f,u,p))if(y.asyncDep&&!y.asyncResolved){W(y,u,p);return}else y.next=u,go(y.update),y.update();else u.el=f.el,y.vnode=u},Q=(f,u,p,y,x,C,_)=>{const P=()=>{if(f.isMounted){let{next:D,bu:O,u:N,parent:j,vnode:Y}=f,ne=D,ie;rt(f,!1),D?(D.el=Y.el,W(f,D,_)):D=Y,O&&Rs(O),(ie=D.props&&D.props.onVnodeBeforeUpdate)&&De(ie,j,D,Y),rt(f,!0);const ae=Vs(f),Te=f.subTree;f.subTree=ae,w(Te,ae,h(Te.el),xs(Te),f,x,C),D.el=ae.el,ne===null&&vo(f,ae.el),N&&be(N,x),(ie=D.props&&D.props.onVnodeUpdated)&&be(()=>De(ie,j,D,Y),x)}else{let D;const{el:O,props:N}=u,{bm:j,m:Y,parent:ne}=f,ie=rs(u);if(rt(f,!1),j&&Rs(j),!ie&&(D=N&&N.onVnodeBeforeMount)&&De(D,ne,u),rt(f,!0),O&&bi){const ae=()=>{f.subTree=Vs(f),bi(O,f.subTree,f,x,null)};ie?u.type.__asyncLoader().then(()=>!f.isUnmounted&&ae()):ae()}else{const ae=f.subTree=Vs(f);w(null,ae,p,y,f,x,C),u.el=ae.el}if(Y&&be(Y,x),!ie&&(D=N&&N.onVnodeMounted)){const ae=u;be(()=>De(D,ne,ae),x)}(u.shapeFlag&256||ne&&rs(ne.vnode)&&ne.vnode.shapeFlag&256)&&f.a&&be(f.a,x),f.isMounted=!0,u=p=y=null}},L=f.effect=new Os(P,()=>js(F),f.scope),F=f.update=()=>L.run();F.id=f.uid,rt(f,!0),F()},W=(f,u,p)=>{u.component=f;const y=f.vnode.props;f.vnode=u,f.next=null,Xo(f,u.props,y,p),Jo(f,u.children,p),gt(),Zi(),mt()},z=(f,u,p,y,x,C,_,P,L=!1)=>{const F=f&&f.children,D=f?f.shapeFlag:0,O=u.children,{patchFlag:N,shapeFlag:j}=u;if(N>0){if(N&128){se(F,O,p,y,x,C,_,P,L);return}else if(N&256){H(F,O,p,y,x,C,_,P,L);return}}j&8?(D&16&&qe(F,x,C),O!==F&&d(p,O)):D&16?j&16?se(F,O,p,y,x,C,_,P,L):qe(F,x,C,!0):(D&8&&d(p,""),j&16&&b(O,p,y,x,C,_,P,L))},H=(f,u,p,y,x,C,_,P,L)=>{f=f||Lt,u=u||Lt;const F=f.length,D=u.length,O=Math.min(F,D);let N;for(N=0;N<O;N++){const j=u[N]=L?Qe(u[N]):ke(u[N]);w(f[N],j,p,null,x,C,_,P,L)}F>D?qe(f,x,C,!0,!1,O):b(u,p,y,x,C,_,P,L,O)},se=(f,u,p,y,x,C,_,P,L)=>{let F=0;const D=u.length;let O=f.length-1,N=D-1;for(;F<=O&&F<=N;){const j=f[F],Y=u[F]=L?Qe(u[F]):ke(u[F]);if(ot(j,Y))w(j,Y,p,null,x,C,_,P,L);else break;F++}for(;F<=O&&F<=N;){const j=f[O],Y=u[N]=L?Qe(u[N]):ke(u[N]);if(ot(j,Y))w(j,Y,p,null,x,C,_,P,L);else break;O--,N--}if(F>O){if(F<=N){const j=N+1,Y=j<D?u[j].el:y;for(;F<=N;)w(null,u[F]=L?Qe(u[F]):ke(u[F]),p,Y,x,C,_,P,L),F++}}else if(F>N)for(;F<=O;)Ue(f[F],x,C,!0),F++;else{const j=F,Y=F,ne=new Map;for(F=Y;F<=N;F++){const Pe=u[F]=L?Qe(u[F]):ke(u[F]);Pe.key!=null&&ne.set(Pe.key,F)}let ie,ae=0;const Te=N-Y+1;let Ct=!1,cr=0;const Kt=new Array(Te);for(F=0;F<Te;F++)Kt[F]=0;for(F=j;F<=O;F++){const Pe=f[F];if(ae>=Te){Ue(Pe,x,C,!0);continue}let Be;if(Pe.key!=null)Be=ne.get(Pe.key);else for(ie=Y;ie<=N;ie++)if(Kt[ie-Y]===0&&ot(Pe,u[ie])){Be=ie;break}Be===void 0?Ue(Pe,x,C,!0):(Kt[Be-Y]=F+1,Be>=cr?cr=Be:Ct=!0,w(Pe,u[Be],p,null,x,C,_,P,L),ae++)}const fr=Ct?sl(Kt):Lt;for(ie=fr.length-1,F=Te-1;F>=0;F--){const Pe=Y+F,Be=u[Pe],ur=Pe+1<D?u[Pe+1].el:y;Kt[F]===0?w(null,Be,p,ur,x,C,_,P,L):Ct&&(ie<0||F!==fr[ie]?he(Be,p,ur,2):ie--)}}},he=(f,u,p,y,x=null)=>{const{el:C,type:_,transition:P,children:L,shapeFlag:F}=f;if(F&6){he(f.component.subTree,u,p,y);return}if(F&128){f.suspense.move(u,p,y);return}if(F&64){_.move(f,u,p,Pt);return}if(_===Oe){i(C,u,p);for(let O=0;O<L.length;O++)he(L[O],u,p,y);i(f.anchor,u,p);return}if(_===si){T(f,u,p);return}if(y!==2&&F&1&&P)if(y===0)P.beforeEnter(C),i(C,u,p),be(()=>P.enter(C),x);else{const{leave:O,delayLeave:N,afterLeave:j}=P,Y=()=>i(C,u,p),ne=()=>{O(C,()=>{Y(),j&&j()})};N?N(C,Y,ne):ne()}else i(C,u,p)},Ue=(f,u,p,y=!1,x=!1)=>{const{type:C,props:_,ref:P,children:L,dynamicChildren:F,shapeFlag:D,patchFlag:O,dirs:N}=f;if(P!=null&&ti(P,null,p,f,!0),D&256){u.ctx.deactivate(f);return}const j=D&1&&N,Y=!rs(f);let ne;if(Y&&(ne=_&&_.onVnodeBeforeUnmount)&&De(ne,u,f),D&6)pa(f.component,p,y);else{if(D&128){f.suspense.unmount(p,y);return}j&&it(f,null,u,"beforeUnmount"),D&64?f.type.remove(f,u,p,x,Pt,y):F&&(C!==Oe||O>0&&O&64)?qe(F,u,p,!1,!0):(C===Oe&&O&384||!x&&D&16)&&qe(L,u,p),y&&lr(f)}(Y&&(ne=_&&_.onVnodeUnmounted)||j)&&be(()=>{ne&&De(ne,u,f),j&&it(f,null,u,"unmounted")},p)},lr=f=>{const{type:u,el:p,anchor:y,transition:x}=f;if(u===Oe){ma(p,y);return}if(u===si){B(f);return}const C=()=>{n(p),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(f.shapeFlag&1&&x&&!x.persisted){const{leave:_,delayLeave:P}=x,L=()=>_(p,C);P?P(f.el,C,L):L()}else C()},ma=(f,u)=>{let p;for(;f!==u;)p=g(f),n(f),f=p;n(u)},pa=(f,u,p)=>{const{bum:y,scope:x,update:C,subTree:_,um:P}=f;y&&Rs(y),x.stop(),C&&(C.active=!1,Ue(_,f,u,p)),P&&be(P,u),be(()=>{f.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},qe=(f,u,p,y=!1,x=!1,C=0)=>{for(let _=C;_<f.length;_++)Ue(f[_],u,p,y,x)},xs=f=>f.shapeFlag&6?xs(f.component.subTree):f.shapeFlag&128?f.suspense.next():g(f.anchor||f.el),ar=(f,u,p)=>{f==null?u._vnode&&Ue(u._vnode,null,null,!0):w(u._vnode||null,f,u,null,null,null,p),Zi(),Qi(),u._vnode=f},Pt={p:w,um:Ue,m:he,r:lr,mt:ee,mc:b,pc:z,pbc:R,n:xs,o:t};let pi,bi;return e&&([pi,bi]=e(Pt)),{render:ar,hydrate:pi,createApp:Qo(ar,pi)}}function rt({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function Sn(t,e,s=!1){const i=t.children,n=e.children;if(G(i)&&G(n))for(let r=0;r<i.length;r++){const o=i[r];let l=n[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[r]=Qe(n[r]),l.el=o.el),s||Sn(o,l)),l.type===cs&&(l.el=o.el)}}function sl(t){const e=t.slice(),s=[0];let i,n,r,o,l;const a=t.length;for(i=0;i<a;i++){const c=t[i];if(c!==0){if(n=s[s.length-1],t[n]<c){e[i]=n,s.push(i);continue}for(r=0,o=s.length-1;r<o;)l=r+o>>1,t[s[l]]<c?r=l+1:o=l;c<t[s[r]]&&(r>0&&(e[i]=s[r-1]),s[r]=i)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}const il=t=>t.__isTeleport,Oe=Symbol(void 0),cs=Symbol(void 0),je=Symbol(void 0),si=Symbol(void 0);let xt=null,ii=1;function En(t){ii+=t}function nl(t){return t?t.__v_isVNode===!0:!1}function ot(t,e){return t.type===e.type&&t.key===e.key}const fs="__vInternal",Rn=({key:t})=>t??null,us=({ref:t,ref_key:e,ref_for:s})=>t!=null?ue(t)||oe(t)||X(t)?{i:_e,r:t,k:e,f:!!s}:t:null;function rl(t,e=null,s=null,i=0,n=null,r=t===Oe?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rn(e),ref:e&&us(e),scopeId:sn,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:_e};return l?(ni(a,s),r&128&&t.normalize(a)):s&&(a.shapeFlag|=ue(s)?8:16),ii>0&&!o&&xt&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&xt.push(a),a}const lt=ol;function ol(t,e=null,s=null,i=0,n=null,r=!1){if((!t||t===Ko)&&(t=je),nl(t)){const l=Ze(t,e,!0);return s&&ni(l,s),ii>0&&!r&&xt&&(l.shapeFlag&6?xt[xt.indexOf(t)]=l:xt.push(l)),l.patchFlag|=-2,l}if(bl(t)&&(t=t.__vccOpts),e){e=ll(e);let{class:l,style:a}=e;l&&!ue(l)&&(e.class=Fs(l)),le(a)&&(ji(a)&&!G(a)&&(a=ge({},a)),e.style=vs(a))}const o=ue(t)?1:Fo(t)?128:il(t)?64:le(t)?4:X(t)?2:0;return rl(t,e,s,i,n,o,r,!0)}function ll(t){return t?ji(t)||fs in t?ge({},t):t:null}function Ze(t,e,s=!1){const{props:i,ref:n,patchFlag:r,children:o}=t,l=e?cl(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Rn(l),ref:e&&e.ref?s&&n?G(n)?n.concat(us(e)):[n,us(e)]:us(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ze(t.ssContent),ssFallback:t.ssFallback&&Ze(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function al(t=" ",e=0){return lt(cs,null,t,e)}function ke(t){return t==null||typeof t=="boolean"?lt(je):G(t)?lt(Oe,null,t.slice()):typeof t=="object"?Qe(t):lt(cs,null,String(t))}function Qe(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ze(t)}function ni(t,e){let s=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(G(e))s=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),ni(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!(fs in e)?e._ctx=_e:n===3&&_e&&(_e.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else X(e)?(e={default:e,_ctx:_e},s=32):(e=String(e),i&64?(s=16,e=[al(e)]):s=8);t.children=e,t.shapeFlag|=s}function cl(...t){const e={};for(let s=0;s<t.length;s++){const i=t[s];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Fs([e.class,i.class]));else if(n==="style")e.style=vs([e.style,i.style]);else if(Ht(n)){const r=e[n],o=i[n];o&&r!==o&&!(G(r)&&r.includes(o))&&(e[n]=r?[].concat(r,o):o)}else n!==""&&(e[n]=i[n])}return e}function De(t,e,s,i=null){Ce(t,e,7,[s,i])}const fl=Ln();let ul=0;function dl(t,e,s){const i=t.type,n=(e?e.appContext:t.appContext)||fl,r={uid:ul++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Fi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:An(i,n),emitsOptions:tn(i,n),emit:null,emitted:null,propsDefaults:re,inheritAttrs:i.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=bo.bind(null,r),t.ce&&t.ce(r),r}let de=null;const _n=()=>de||_e,yt=t=>{de=t,t.scope.on()},at=()=>{de&&de.scope.off(),de=null};function In(t){return t.vnode.shapeFlag&4}let kt=!1;function hl(t,e=!1){kt=e;const{props:s,children:i}=t.vnode,n=In(t);Go(t,s,n,e),Yo(t,i);const r=n?gl(t,e):void 0;return kt=!1,r}function gl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=bt(new Proxy(t.ctx,Ho));const{setup:i}=s;if(i){const n=t.setupContext=i.length>1?pl(t):null;yt(t),gt();const r=Je(i,t,0,[t.props,n]);if(mt(),at(),wi(r)){if(r.then(at,at),e)return r.then(o=>{Tn(t,o,e)}).catch(o=>{es(o,t,0)});t.asyncDep=r}else Tn(t,r,e)}else On(t,e)}function Tn(t,e,s){X(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:le(e)&&(t.setupState=Gi(e)),On(t,s)}let Mn;function On(t,e,s){const i=t.type;if(!t.render){if(!e&&Mn&&!i.render){const n=i.template||Js(t).template;if(n){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=i,c=ge(ge({isCustomElement:r,delimiters:l},o),a);i.render=Mn(n,c)}}t.render=i.render||Ee}yt(t),gt(),Wo(t),mt(),at()}function ml(t){return new Proxy(t.attrs,{get(e,s){return ye(t,"get","$attrs"),e[s]}})}function pl(t){const e=i=>{t.exposed=i||{}};let s;return{get attrs(){return s||(s=ml(t))},slots:t.slots,emit:t.emit,expose:e}}function ri(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Gi(bt(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ot)return Ot[s](t)},has(e,s){return s in e||s in Ot}}))}function bl(t){return X(t)&&"__vccOpts"in t}const kn=(t,e)=>fo(t,e,kt),Al=Symbol(""),wl=()=>Mt(Al),xl="3.2.45",yl="http://www.w3.org/2000/svg",ct=typeof document<"u"?document:null,Dn=ct&&ct.createElement("template"),vl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,i)=>{const n=e?ct.createElementNS(yl,t):ct.createElement(t,s?{is:s}:void 0);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>ct.createTextNode(t),createComment:t=>ct.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ct.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,i,n,r){const o=s?s.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{Dn.innerHTML=i?`<svg>${t}</svg>`:t;const l=Dn.content;if(i){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}};function Fl(t,e,s){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}function Pl(t,e,s){const i=t.style,n=ue(s);if(s&&!n){for(const r in s)oi(i,r,s[r]);if(e&&!ue(e))for(const r in e)s[r]==null&&oi(i,r,"")}else{const r=i.display;n?e!==s&&(i.cssText=s):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=r)}}const Nn=/\s*!important$/;function oi(t,e,s){if(G(s))s.forEach(i=>oi(t,e,i));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const i=Cl(t,e);Nn.test(s)?t.setProperty(ht(i),s.replace(Nn,""),"important"):t[i]=s}}const Un=["Webkit","Moz","ms"],li={};function Cl(t,e){const s=li[e];if(s)return s;let i=dt(e);if(i!=="filter"&&i in t)return li[e]=i;i=xi(i);for(let n=0;n<Un.length;n++){const r=Un[n]+i;if(r in t)return li[e]=r}return e}const Bn="http://www.w3.org/1999/xlink";function Ll(t,e,s,i,n){if(i&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(Bn,e.slice(6,e.length)):t.setAttributeNS(Bn,e,s);else{const r=pr(e);s==null||r&&!Ai(s)?t.removeAttribute(e):t.setAttribute(e,r?"":s)}}function Sl(t,e,s,i,n,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,n,r),t[e]=s??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=s;const a=s??"";(t.value!==a||t.tagName==="OPTION")&&(t.value=a),s==null&&t.removeAttribute(e);return}let l=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Ai(s):s==null&&a==="string"?(s="",l=!0):a==="number"&&(s=0,l=!0)}try{t[e]=s}catch{}l&&t.removeAttribute(e)}function El(t,e,s,i){t.addEventListener(e,s,i)}function Rl(t,e,s,i){t.removeEventListener(e,s,i)}function _l(t,e,s,i,n=null){const r=t._vei||(t._vei={}),o=r[e];if(i&&o)o.value=i;else{const[l,a]=Il(e);if(i){const c=r[e]=Ol(i,n);El(t,l,c,a)}else o&&(Rl(t,l,o,a),r[e]=void 0)}}const Kn=/(?:Once|Passive|Capture)$/;function Il(t){let e;if(Kn.test(t)){e={};let i;for(;i=t.match(Kn);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ht(t.slice(2)),e]}let ai=0;const Tl=Promise.resolve(),Ml=()=>ai||(Tl.then(()=>ai=0),ai=Date.now());function Ol(t,e){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;Ce(kl(i,s.value),e,5,[i])};return s.value=t,s.attached=Ml(),s}function kl(t,e){if(G(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const Hn=/^on[a-z]/,Dl=(t,e,s,i,n=!1,r,o,l,a)=>{e==="class"?Fl(t,i,n):e==="style"?Pl(t,s,i):Ht(e)?Ps(e)||_l(t,e,s,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Nl(t,e,i,n))?Sl(t,e,i,r,o,l,a):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Ll(t,e,i,n))};function Nl(t,e,s,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Hn.test(e)&&X(s)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Hn.test(e)&&ue(s)?!1:e in t}const Ul={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Eo.props;const Bl=ge({patchProp:Dl},vl);let Wn;function Kl(){return Wn||(Wn=el(Bl))}const Hl=(...t)=>{const e=Kl().createApp(...t),{mount:s}=e;return e.mount=i=>{const n=Wl(i);if(!n)return;const r=e._component;!X(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Wl(t){return ue(t)?document.querySelector(t):t}var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve={},Vl={get exports(){return Ve},set exports(t){Ve=t}};(function(t,e){(function(s,i){i(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:jl,function(s){var i,n;if(!((n=(i=globalThis.chrome)==null?void 0:i.runtime)!=null&&n.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const r="The message port closed before a response was received.",o=l=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class c extends WeakMap{constructor(A,R=void 0){super(R),this.createItem=A}get(A){return this.has(A)||this.set(A,this.createItem(A)),super.get(A)}}const d=b=>b&&typeof b=="object"&&typeof b.then=="function",h=(b,A)=>(...R)=>{l.runtime.lastError?b.reject(new Error(l.runtime.lastError.message)):A.singleCallbackArg||R.length<=1&&A.singleCallbackArg!==!1?b.resolve(R[0]):b.resolve(R)},g=b=>b==1?"argument":"arguments",v=(b,A)=>function(m,...I){if(I.length<A.minArgs)throw new Error(`Expected at least ${A.minArgs} ${g(A.minArgs)} for ${b}(), got ${I.length}`);if(I.length>A.maxArgs)throw new Error(`Expected at most ${A.maxArgs} ${g(A.maxArgs)} for ${b}(), got ${I.length}`);return new Promise((K,ee)=>{if(A.fallbackToNoCallback)try{m[b](...I,h({resolve:K,reject:ee},A))}catch(k){console.warn(`${b} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,k),m[b](...I),A.fallbackToNoCallback=!1,A.noCallback=!0,K()}else A.noCallback?(m[b](...I),K()):m[b](...I,h({resolve:K,reject:ee},A))})},S=(b,A,R)=>new Proxy(A,{apply(m,I,K){return R.call(I,b,...K)}});let w=Function.call.bind(Object.prototype.hasOwnProperty);const E=(b,A={},R={})=>{let m=Object.create(null),I={has(ee,k){return k in b||k in m},get(ee,k,Q){if(k in m)return m[k];if(!(k in b))return;let W=b[k];if(typeof W=="function")if(typeof A[k]=="function")W=S(b,b[k],A[k]);else if(w(R,k)){let z=v(k,R[k]);W=S(b,b[k],z)}else W=W.bind(b);else if(typeof W=="object"&&W!==null&&(w(A,k)||w(R,k)))W=E(W,A[k],R[k]);else if(w(R,"*"))W=E(W,A[k],R["*"]);else return Object.defineProperty(m,k,{configurable:!0,enumerable:!0,get(){return b[k]},set(z){b[k]=z}}),W;return m[k]=W,W},set(ee,k,Q,W){return k in m?m[k]=Q:b[k]=Q,!0},defineProperty(ee,k,Q){return Reflect.defineProperty(m,k,Q)},deleteProperty(ee,k){return Reflect.deleteProperty(m,k)}},K=Object.create(b);return new Proxy(K,I)},M=b=>({addListener(A,R,...m){A.addListener(b.get(R),...m)},hasListener(A,R){return A.hasListener(b.get(R))},removeListener(A,R){A.removeListener(b.get(R))}}),$=new c(b=>typeof b!="function"?b:function(R){const m=E(R,{},{getContent:{minArgs:0,maxArgs:0}});b(m)}),T=new c(b=>typeof b!="function"?b:function(R,m,I){let K=!1,ee,k=new Promise(H=>{ee=function(se){K=!0,H(se)}}),Q;try{Q=b(R,m,ee)}catch(H){Q=Promise.reject(H)}const W=Q!==!0&&d(Q);if(Q!==!0&&!W&&!K)return!1;const z=H=>{H.then(se=>{I(se)},se=>{let he;se&&(se instanceof Error||typeof se.message=="string")?he=se.message:he="An unexpected error occurred",I({__mozWebExtensionPolyfillReject__:!0,message:he})}).catch(se=>{console.error("Failed to send onMessage rejected reply",se)})};return z(W?Q:k),!0}),B=({reject:b,resolve:A},R)=>{l.runtime.lastError?l.runtime.lastError.message===r?A():b(new Error(l.runtime.lastError.message)):R&&R.__mozWebExtensionPolyfillReject__?b(new Error(R.message)):A(R)},V=(b,A,R,...m)=>{if(m.length<A.minArgs)throw new Error(`Expected at least ${A.minArgs} ${g(A.minArgs)} for ${b}(), got ${m.length}`);if(m.length>A.maxArgs)throw new Error(`Expected at most ${A.maxArgs} ${g(A.maxArgs)} for ${b}(), got ${m.length}`);return new Promise((I,K)=>{const ee=B.bind(null,{resolve:I,reject:K});m.push(ee),R.sendMessage(...m)})},te={devtools:{network:{onRequestFinished:M($)}},runtime:{onMessage:M(T),onMessageExternal:M(T),sendMessage:V.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:V.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},q={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":q},services:{"*":q},websites:{"*":q}},E(l,te,a)};s.exports=o(chrome)}else s.exports=globalThis.browser})})(Vl);class jn{}class ve{}class Vn{}class $l{}const ds=new Vn;ds.pageRegex=new ve,ds.pageRegex["^.*$"]={config:{preventSaveNotification:!1,listMatchingCaseSensitive:!1,blackList:{form:{names:["search"],ids:["search"]},fields:{names:["search","q","query"],ids:["search","q"]}},whiteList:{form:{names:["login"],ids:["login"]},fields:{names:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user name","user id","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login id","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"],ids:["username","j_username","user_name","user","user-name","login","vb_login_username","name","user-id","userid","email","e-mail","id","form_loginname","wpname","mail","loginid","login_name","openid_identifier","authentication_email","openid","auth_email","auth_id","authentication_identifier","authentication_id","customer_number","customernumber","onlineid"]}},preferredEntryUuid:null},matchWeight:0,source:"Default"};class $n{migrateToVersion8(e){Object.assign(e,{overWriteFieldsAutomatically:!1,version:8})}migrateToVersion7(e){e.notificationCountSavePassword>6?Object.assign(e,{notificationCountSavePassword:6,version:7}):Object.assign(e,{version:7})}migrateToVersion6(e){Object.assign(e,{animateWhenOfferingSave:!0,version:6})}migrateToVersion5(e){Object.assign(e,{notifyPasswordAvailableForPaste:!0,version:5})}migrateToVersion4(e){let s=2;e.logLevel===1&&(s=1),Object.assign(e,{logLevel:s,version:4})}migrateToVersion3(e){e.notificationCountGeneric==null&&(e.notificationCountGeneric=0),e.notificationCountSavePassword==null&&(e.notificationCountSavePassword=0),Object.assign(e,{currentSearchTermTimeout:30,version:3})}migrateToVersion2(e){let s=new Vn;if(!e.config||e.config.length==0){s=ds;return}s.pageRegex=new ve,s.hostExact=new ve,s.pagePrefix=new ve,s.pageRegex["^.*$"]={matchWeight:0,config:this.migrateIndividualSiteConfigSettingsToV2(e.config[0].config),source:"Migration"};for(let i=1;i<e.config.length;i++){const n=e.config[i].url;if(n.indexOf("://")==-1)continue;const r=n.substr(n.indexOf("://")+3);if(r.length<=1)continue;const o=this.migrateIndividualSiteConfigSettingsToV2(e.config[i].config),l=r.indexOf("/");if(l>-1||l==r.lastIndexOf("/")){const a=l>-1?r.substr(0,l):r;s.hostExact[a]={config:o,matchWeight:100,source:"Migration"}}else{let a=200;for(const c in s.pagePrefix)r.startsWith(c)&&a++;s.pagePrefix[r]={config:o,matchWeight:a,source:"Migration"}}}Object.assign(e,{siteConfig:s,config:null,version:2})}migrateIndividualSiteConfigSettingsToV2(e){const s=new jn;return e.preventSaveNotification==null&&(s.preventSaveNotification=e.preventSaveNotification),e.interestingForms&&(e.interestingForms.name_w&&(s.whiteList?s.whiteList.form?s.whiteList.form.names||(s.whiteList.form.names=[]):s.whiteList.form={names:[]}:s.whiteList={form:{names:[]}},s.whiteList.form.names=e.interestingForms.name_w),e.interestingForms.id_w&&(s.whiteList?s.whiteList.form?s.whiteList.form.ids||(s.whiteList.form.ids=[]):s.whiteList.form={ids:[]}:s.whiteList={form:{ids:[]}},s.whiteList.form.ids=e.interestingForms.id_w),e.interestingForms.name_b&&(s.blackList?s.blackList.form?s.blackList.form.names||(s.blackList.form.names=[]):s.blackList.form={names:[]}:s.blackList={form:{names:[]}},s.blackList.form.names=e.interestingForms.name_b),e.interestingForms.id_b&&(s.blackList?s.blackList.form?s.blackList.form.ids||(s.blackList.form.ids=[]):s.blackList.form={ids:[]}:s.blackList={form:{ids:[]}},s.blackList.form.ids=e.interestingForms.id_b),e.interestingForms.f_name_w&&(s.whiteList?s.whiteList.fields?s.whiteList.fields.names||(s.whiteList.fields.names=[]):s.whiteList.fields={names:[]}:s.whiteList={fields:{names:[]}},s.whiteList.fields.names=e.interestingForms.f_name_w),e.interestingForms.f_id_w&&(s.whiteList?s.whiteList.fields?s.whiteList.fields.ids||(s.whiteList.fields.ids=[]):s.whiteList.fields={ids:[]}:s.whiteList={fields:{ids:[]}},s.whiteList.fields.ids=e.interestingForms.f_id_w),e.interestingForms.f_name_b&&(s.blackList?s.blackList.fields?s.blackList.fields.names||(s.blackList.fields.names=[]):s.blackList.fields={names:[]}:s.blackList={fields:{names:[]}},s.blackList.fields.names=e.interestingForms.f_name_b),e.interestingForms.f_id_b&&(s.blackList?s.blackList.fields?s.blackList.fields.ids||(s.blackList.fields.ids=[]):s.blackList.fields={ids:[]}:s.blackList={fields:{ids:[]}},s.blackList.fields.ids=e.interestingForms.f_id_b)),s}}class ql{constructor(){this.pslInitialised=!1}versionAsInt(e){let s=0;for(let i=0;i<e.length;i++)s=s*256+e[i];return s}versionAsArray(e){const s=[0,0,0];for(let i=s.length-1;i>=0;i--){const n=e&255;s[i]=n,e=(e-n)/256}return s}versionAsString(e){let s="";const i=this.versionAsArray(e);for(let n=0;n<i.length;n++)n>0&&(s+="."),s+=i[n].toString();return s}toHexString(e){return("0"+e.toString(16)).slice(-2)}BigIntFromRandom(e){const s=new Uint8Array(e);window.crypto.getRandomValues(s);const i=Array.from(s).map(this.toHexString).join("");return BigInteger.parse(i,16)}hash(e,s="hex",i="SHA-256"){let n;return typeof e=="string"?n=new TextEncoder().encode(e):n=e,crypto.subtle.digest({name:i},n).then(r=>s=="base64"?Ie.byteArrayToBase64(r):Array.from(new Uint8Array(r)).map(this.toHexString).join(""))}intToByteArray(e){const s=[0,0,0,0];for(let i=s.length-1;i>=0;i--){const n=e&255;s[i]=n,e=(e-n)/256}return s}intArrayToByteArray(e){const s=new Array(e.length*4);for(let i=0;i<e.length;i++){let n=e[i];for(let r=3;r>=0;r--){const o=n&255;s[i*4+r]=o,n=(n-o)/256}}return s}stringToByteArray(e){return new TextEncoder().encode(e)}base64toByteArrayForHMAC(e,s,i=null){const n=atob(e),r=n.length;let o=0;if(!i){const l=new ArrayBuffer(r+s);i=new Uint8Array(l),o=20}for(let l=0;l<r;l++)i[l+o]=n.charCodeAt(l);return i}base64toByteArray(e){const s=atob(e),i=s.length,n=new ArrayBuffer(i),r=new Uint8Array(n);for(let o=0;o<i;o++)r[o]=s.charCodeAt(o);return r}byteArrayToBase64(e){let s="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(e),r=n.byteLength,o=r%3,l=r-o;let a,c,d,h,g;for(let v=0;v<l;v=v+3)g=n[v]<<16|n[v+1]<<8|n[v+2],a=(g&16515072)>>18,c=(g&258048)>>12,d=(g&4032)>>6,h=g&63,s+=i[a]+i[c]+i[d]+i[h];return o==1?(g=n[l],a=(g&252)>>2,c=(g&3)<<4,s+=i[a]+i[c]+"=="):o==2&&(g=n[l]<<8|n[l+1],a=(g&64512)>>10,c=(g&1008)>>4,d=(g&15)<<2,s+=i[a]+i[c]+i[d]+"="),s}hexStringToByteArray(e,s=null){if(e.length%2!==0)throw Error("Must have an even number of hex digits to convert to bytes");const i=e.length/2;s||(s=new Uint8Array(i));for(let n=0;n<i;n++)s[n]=parseInt(e.substr(n*2,2),16);return s}newGUID(){const e=[];for(let l=0;l<256;l++)e[l]=(l<16?"0":"")+l.toString(16);const s=new Uint32Array(4);window.crypto.getRandomValues(s);const i=s[0],n=s[1],r=s[2],o=s[3];return e[i&255]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]+"-"+e[n&255]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[r&63|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[o&255]+e[o>>8&255]+e[o>>16&255]+e[o>>24&255]}base64urlDecode(e){return atob(e.replace(/-/g,"+").replace(/_/g,"/"))}binaryToByteArray(e){const s=e.length,i=new ArrayBuffer(s),n=new Uint8Array(i);for(let r=0;r<s;r++)n[r]=e.charCodeAt(r);return n}base64urltoByteArray(e){const s=this.base64urlDecode(e);return this.binaryToByteArray(s)}get psl(){if(!publicSuffixList)throw new Error("publicSuffixList library not present");return this.pslInitialised||(publicSuffixList.parse(pslData.text,punycode.toASCII),this.pslInitialised=!0),publicSuffixList}}const Ie=new ql;class Gl{constructor(){this.outputStarted=!1,this.config={logLevel:2}}attachConfig(e){this.debug("Logging system config updated at "+Date()),this.config=e}formatMessage(e){return e?(this.outputStarted||(e="* "+e,this.outputStarted=!0),e):""}debug(e){this.config.logLevel>=4&&(e=this.formatMessage(e),e.length>0&&(console.debug(e),this.config.logLevel>=4&&this.send(4,e)))}info(e){this.config.logLevel>=3&&(e=this.formatMessage(e),e.length>0&&(console.info(e),this.config.logLevel>=4&&this.send(3,e)))}warn(e){this.config.logLevel>=2&&(e=this.formatMessage(e),e.length>0&&(console.warn(e),this.config.logLevel>=4&&this.send(2,e)))}error(e){this.config.logLevel>=1&&(e=this.formatMessage(e),e.length>0&&(console.error(e),this.config.logLevel>=4&&this.send(1,e)))}send(e,s){}stackTrace(){console.groupCollapsed("%c Stack Trace","color:cream; font-style: normal;"),console.debug(new Error().stack),console.groupEnd()}}const ce=new Gl,ci=8,U=new $l;U.autoFillDialogs=!1,U.autoFillForms=!0,U.autoFillFormsWithMultipleMatches=!1,U.autoSubmitForms=!1,U.autoSubmitDialogs=!1,U.autoSubmitMatchedForms=!1,U.connSLClient=2,U.connSLServerMin=2,U.keePassDBToOpen="",U.keePassMRUDB="",U.KeePassRPCWebSocketPort=12546,U.KPRPCUsername="",U.KPRPCStoredKeys={},U.lastConnectedToKeePass="",U.listAllOpenDBs=!0,U.logLevel=2,U.logMethodConsole=!1,U.logMethodFile=!1,U.logSensitiveData=!1,U.metricsUsageDisabled=!1,U.metricsUserId="",U.notifyWhenEntryUpdated=!0,U.notifyWhenLateDiscovery=!1,U.notifyWhenLoggedOut=!1,U.overWriteFieldsAutomatically=!1,U.rememberMRUDB=!0,U.rememberMRUGroup=!0,U.saveFavicons=!0,U.searchAllOpenDBs=!0,U.config=null,U.siteConfig=ds,U.tutorialProgress="",U.version=ci,U.triggerChangeInputEventAfterFill=!1,U.autoSubmitNetworkAuthWithSingleMatch=!1,U.searchNetworkAuth=!0,U.notificationCountGeneric=0,U.notificationCountSavePassword=0,U.currentSearchTermTimeout=30,U.notifyPasswordAvailableForPaste=!0,U.animateWhenOfferingSave=!0,U.keeVaultLaunchMessageDismissed=!1,U.keeVaultLaunchStart=864e13,U.keeVaultLaunchEnd=864e13,U.manualSubmitOverrideProhibited=!1,U.theme=null,U.hideConfirmationAfterSave=!1,U.mustShowReleaseNotesAtStartup=!1,U.autoFillFieldsWithExistingValue=!1;class Xl{constructor(){this.maxCharsPerPage=1e4,this._listeners=[],this.current=U,Ve.storage.onChanged.addListener((e,s)=>this.reloadOnStorageChange(e,s))}addChangeListener(e){this._listeners.push(e)}reloadOnStorageChange(e,s){Se.reload(()=>this._listeners.forEach(i=>i(e,s)))}async setASAP(e){Object.assign(this.current,e),await this.save()}splitStringToPages(e){const s=Math.ceil(e.length/this.maxCharsPerPage),i=new Array(s);for(let n=0,r=0;n<s;++n,r+=this.maxCharsPerPage)i[n]=e.substr(r,this.maxCharsPerPage);return i}async save(){const e=JSON.stringify(this.current),s=this.splitStringToPages(e),i={};i.keeConfigPageCount=s.length;for(let n=0;n<s.length;n++)i["keeConfigPage"+n]=s[n];await Ve.storage.local.set(i)}load(e){Ve.storage.local.get().then(s=>{const i=s.keeConfigPageCount;if(i){let n="";for(let r=0;r<i;r++){const o=s["keeConfigPage"+r];o&&(n+=o)}n&&(this.current=JSON.parse(n))}else{const n=s.keefoxConfigPageCount;if(n){let r="";for(let o=0;o<n;o++){const l=s["keefoxConfigPage"+o];l&&(r+=l)}r&&(this.current=JSON.parse(r))}}this.fixInvalidConfigData(),this.migrateToLatestVersion(),e()})}fixInvalidConfigData(){let e=!1;this.current.KPRPCStoredKeys==null&&(this.current.KPRPCStoredKeys={},e=!0),e&&this.save()}migrateToLatestVersion(){if(this.current.version>=ci)return;const e=new $n;switch(this.current.version){case 1:e.migrateToVersion2(this.current);case 2:e.migrateToVersion3(this.current);case 3:e.migrateToVersion4(this.current);case 4:e.migrateToVersion5(this.current);case 5:e.migrateToVersion6(this.current);case 6:e.migrateToVersion7(this.current);case 7:e.migrateToVersion8(this.current)}this.save()}migrateFromRemoteToLatestVersion(){if(this.current.version>=ci)return;const e=new $n;switch(this.current.version){case 5:e.migrateToVersion6(this.current);case 6:e.migrateToVersion7(this.current)}this.save()}reload(e){Ve.storage.local.get().then(s=>{const i=s.keeConfigPageCount;if(i){let n="";for(let r=0;r<i;r++){const o=s["keeConfigPage"+r];o&&(n+=o)}n&&(this.current=Object.assign(this.current,JSON.parse(n)))}e&&e()})}siteConfigLookupFor(e,s){if(e=="Domain"){if(s=="Exact")return this.current.siteConfig.domainExact||(this.current.siteConfig.domainExact=new ve),this.current.siteConfig.domainExact;if(s=="Prefix")return this.current.siteConfig.domainPrefix||(this.current.siteConfig.domainPrefix=new ve),this.current.siteConfig.domainPrefix;if(s=="Regex")return this.current.siteConfig.domainRegex||(this.current.siteConfig.domainRegex=new ve),this.current.siteConfig.domainRegex}else if(e=="Host"){if(s=="Exact")return this.current.siteConfig.hostExact||(this.current.siteConfig.hostExact=new ve),this.current.siteConfig.hostExact;if(s=="Prefix")return this.current.siteConfig.hostPrefix||(this.current.siteConfig.hostPrefix=new ve),this.current.siteConfig.hostPrefix;if(s=="Regex")return this.current.siteConfig.hostRegex||(this.current.siteConfig.hostRegex=new ve),this.current.siteConfig.hostRegex}else if(e=="Page"){if(s=="Exact")return this.current.siteConfig.pageExact||(this.current.siteConfig.pageExact=new ve),this.current.siteConfig.pageExact;if(s=="Prefix")return this.current.siteConfig.pagePrefix||(this.current.siteConfig.pagePrefix=new ve),this.current.siteConfig.pagePrefix;if(s=="Regex")return this.current.siteConfig.pageRegex||(this.current.siteConfig.pageRegex=new ve),this.current.siteConfig.pageRegex}return null}siteConfigFor(e){const s=this.findAllConfigsFor(e);return s.sort((i,n)=>n.matchWeight-i.matchWeight),this.deriveConfigFromMatches(s)}findAllConfigsFor(e){const s=[],i=new URL(e),n=i.host,r=n+i.pathname,o=Ie.psl.getDomain(n);for(const l in this.current.siteConfig.domainExact)l===o&&s.push(this.current.siteConfig.domainExact[l]);for(const l in this.current.siteConfig.hostExact)l===n&&s.push(this.current.siteConfig.hostExact[l]);for(const l in this.current.siteConfig.pageExact)l===r&&s.push(this.current.siteConfig.pageExact[l]);for(const l in this.current.siteConfig.domainPrefix)o.startsWith(l)&&s.push(this.current.siteConfig.domainPrefix[l]);for(const l in this.current.siteConfig.hostPrefix)n.startsWith(l)&&s.push(this.current.siteConfig.hostPrefix[l]);for(const l in this.current.siteConfig.pagePrefix)r.startsWith(l)&&s.push(this.current.siteConfig.pagePrefix[l]);for(const l in this.current.siteConfig.domainRegex)new RegExp(l).test(o)&&s.push(this.current.siteConfig.domainRegex[l]);for(const l in this.current.siteConfig.hostRegex)new RegExp(l).test(n)&&s.push(this.current.siteConfig.hostRegex[l]);for(const l in this.current.siteConfig.pageRegex)new RegExp(l).test(r)&&s.push(this.current.siteConfig.pageRegex[l]);return s}findAllConfigsAndIndexFor(e){const s=[],i=new URL(e),n=i.host,r=n+i.pathname,o=Ie.psl.getDomain(n);for(const l in this.current.siteConfig.domainExact)l===o&&s.push({node:this.current.siteConfig.domainExact[l],target:"Domain",method:"Exact",lookupValue:l});for(const l in this.current.siteConfig.hostExact)l===n&&s.push({node:this.current.siteConfig.hostExact[l],target:"Host",method:"Exact",lookupValue:l});for(const l in this.current.siteConfig.pageExact)l===r&&s.push({node:this.current.siteConfig.pageExact[l],target:"Page",method:"Exact",lookupValue:l});for(const l in this.current.siteConfig.domainPrefix)o.startsWith(l)&&s.push({node:this.current.siteConfig.domainPrefix[l],target:"Domain",method:"Prefix",lookupValue:l});for(const l in this.current.siteConfig.hostPrefix)n.startsWith(l)&&s.push({node:this.current.siteConfig.hostPrefix[l],target:"Host",method:"Prefix",lookupValue:l});for(const l in this.current.siteConfig.pagePrefix)r.startsWith(l)&&s.push({node:this.current.siteConfig.pagePrefix[l],target:"Page",method:"Prefix",lookupValue:l});for(const l in this.current.siteConfig.domainRegex)new RegExp(l).test(o)&&s.push({node:this.current.siteConfig.domainRegex[l],target:"Domain",method:"Regex",lookupValue:l});for(const l in this.current.siteConfig.hostRegex)new RegExp(l).test(n)&&s.push({node:this.current.siteConfig.hostRegex[l],target:"Host",method:"Regex",lookupValue:l});for(const l in this.current.siteConfig.pageRegex)new RegExp(l).test(r)&&s.push({node:this.current.siteConfig.pageRegex[l],target:"Page",method:"Regex",lookupValue:l});return s}deriveConfigFromMatches(e){const s={};return e.forEach(i=>{i.config.preventSaveNotification!==void 0&&s.preventSaveNotification==null&&(s.preventSaveNotification=i.config.preventSaveNotification),i.config.listMatchingCaseSensitive!==void 0&&s.listMatchingCaseSensitive==null&&(s.listMatchingCaseSensitive=i.config.listMatchingCaseSensitive),i.config.blackList!==void 0&&(s.blackList===void 0&&(s.blackList={}),i.config.blackList.form!==void 0&&(s.blackList.form===void 0&&(s.blackList.form={}),i.config.blackList.form.ids!==void 0&&s.blackList.form.ids===void 0&&(s.blackList.form.ids=i.config.blackList.form.ids),i.config.blackList.form.names!==void 0&&s.blackList.form.names===void 0&&(s.blackList.form.names=i.config.blackList.form.names)),i.config.blackList.fields!==void 0&&(s.blackList.fields===void 0&&(s.blackList.fields={}),i.config.blackList.fields.ids!==void 0&&s.blackList.fields.ids===void 0&&(s.blackList.fields.ids=i.config.blackList.fields.ids),i.config.blackList.fields.names!==void 0&&s.blackList.fields.names===void 0&&(s.blackList.fields.names=i.config.blackList.fields.names))),i.config.whiteList!==void 0&&(s.whiteList===void 0&&(s.whiteList={}),i.config.whiteList.form!==void 0&&(s.whiteList.form===void 0&&(s.whiteList.form={}),i.config.whiteList.form.ids!==void 0&&s.whiteList.form.ids===void 0&&(s.whiteList.form.ids=i.config.whiteList.form.ids),i.config.whiteList.form.names!==void 0&&s.whiteList.form.names===void 0&&(s.whiteList.form.names=i.config.whiteList.form.names)),i.config.whiteList.fields!==void 0&&(s.whiteList.fields===void 0&&(s.whiteList.fields={}),i.config.whiteList.fields.ids!==void 0&&s.whiteList.fields.ids===void 0&&(s.whiteList.fields.ids=i.config.whiteList.fields.ids),i.config.whiteList.fields.names!==void 0&&s.whiteList.fields.names===void 0&&(s.whiteList.fields.names=i.config.whiteList.fields.names))),i.config.preferredEntryUuid!==void 0&&s.preferredEntryUuid==null&&(s.preferredEntryUuid=i.config.preferredEntryUuid)}),s}normalizeFormProperty(e,s){return typeof e!="string"?null:s?e.toLowerCase():e}isFormInteresting(e,s,i){var T,B,V,te,q,b,A,R,m,I,K,ee,k,Q,W,z;const n=s.listMatchingCaseSensitive!==!0,r=i.map(H=>{var se,he;return n?(se=H.locators[0])==null?void 0:se.id.toLowerCase():(he=H.locators[0])==null?void 0:he.id}).filter(Boolean),o=i.map(H=>{var se,he;return n?(se=H.locators[0])==null?void 0:se.name.toLowerCase():(he=H.locators[0])==null?void 0:he.name}).filter(Boolean),l=this.normalizeFormProperty(e.id,n),a=this.normalizeFormProperty(e.name,n),c=(((B=(T=s==null?void 0:s.blackList)==null?void 0:T.form)==null?void 0:B.ids)||[]).map(H=>n?H==null?void 0:H.toLowerCase():H).filter(Boolean),d=(((te=(V=s==null?void 0:s.blackList)==null?void 0:V.form)==null?void 0:te.names)||[]).map(H=>n?H==null?void 0:H.toLowerCase():H).filter(Boolean),h=(((b=(q=s==null?void 0:s.blackList)==null?void 0:q.fields)==null?void 0:b.ids)||[]).map(H=>n?H==null?void 0:H.toLowerCase():H).filter(Boolean),g=(((R=(A=s==null?void 0:s.blackList)==null?void 0:A.fields)==null?void 0:R.names)||[]).map(H=>n?H==null?void 0:H.toLowerCase():H).filter(Boolean);if(c.indexOf(l)>=0||d.indexOf(a)>=0||h.some(H=>r.find(se=>H===se)!==void 0)||g.some(H=>o.find(se=>H===se)!==void 0))return!1;const S=((I=(m=s==null?void 0:s.whiteList)==null?void 0:m.form)==null?void 0:I.ids)||[],w=((ee=(K=s==null?void 0:s.whiteList)==null?void 0:K.form)==null?void 0:ee.names)||[],E=((Q=(k=s==null?void 0:s.whiteList)==null?void 0:k.fields)==null?void 0:Q.ids)||[],M=((z=(W=s==null?void 0:s.whiteList)==null?void 0:W.fields)==null?void 0:z.names)||[];return S.indexOf(l)>=0||w.indexOf(a)>=0||E.some(H=>r.find(se=>H===se)!==void 0)||M.some(H=>o.find(se=>H===se)!==void 0)?!0:null}get activeTheme(){return this.current.theme||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}togglePreferredEntryUuid(e,s){let i;try{i=new URL(s)}catch{ce.error("Invalid URL supplied to togglePreferredEntryUuid. Preferred entry will not be altered.");return}const n="Domain",r=this.findAllConfigsAndIndexFor(s),l=this.siteConfigFor(s).preferredEntryUuid;l===e?r.forEach(a=>{a.node.config.preferredEntryUuid===e&&this.removePreferredEntryUuid(a)}):(r.forEach(a=>{a.node.config.preferredEntryUuid===l&&this.leastSpecificTarget(n,a.target)===n&&this.removePreferredEntryUuid(a)}),this.addSiteConfigParameters({preferredEntryUuid:e},i,n,"Exact","Auto")),this.save()}removePreferredEntryUuid(e){if(e.node.config.preferredEntryUuid=null,e.node.source==="Auto"&&this.equalsDefaultSiteConfig(e.node.config)){const s=this.siteConfigLookupFor(e.target,e.method);delete s[e.lookupValue]}}equalsDefaultSiteConfig(e){return!(typeof e.preferredEntryUuid=="boolean"||typeof e.preventSaveNotification=="boolean"||typeof e.listMatchingCaseSensitive=="boolean"||e.whiteList||e.blackList)}leastSpecificTarget(e,s){return e==="Domain"||s==="Domain"?"Domain":e==="Host"||s==="Host"?"Host":"Page"}valueFromUrl(e,s){const i=e.host;if(s==="Host")return i;if(s==="Page")return i+e.pathname;if(s==="Domain")return Ie.psl.getDomain(i)}addSiteConfigParameters(e,s,i,n,r){const o=this.valueFromUrl(s,i),l=Se.siteConfigLookupFor(i,n);l[o]||(l[o]={config:new jn,source:r,matchWeight:100}),Object.assign(l[o].config,e)}}const Se=new Xl;class ft{}ft.MatchedLogins={id:"KeeAddonPanelMatchedLogins",height:300,width:400,name:"matchedLoginsLegacy",autoCloseTime:0,legacy:!0},ft.GeneratePasswordLegacy={id:"KeeAddonPanelGeneratePassword",height:300,width:400,name:"generatePasswordLegacy",autoCloseTime:0,legacy:!0},ft.GeneratePassword={id:"KeeAddonPanelGeneratePassword",height:500,width:450,name:"generatePassword",autoCloseTime:0,legacy:!1};class Dt{constructor(e,s,i){this.target=s,this.options=e,this.parentFrameId=i}createPanel(){this.options.name=="generatePassword"&&(this.elementToRefocus=document.activeElement),this.container=document.createElement("div");const e=this.container.attachShadow({mode:"closed"});this.container.id=this.options.id;const s=document.createElement("style");s.textContent=`:host(div) {
            display: block !important;
            position: absolute !important;
            z-index: 2147483647 !important;
        }`,e.appendChild(s),this.target?(this.targetRelativeRect=this.target.getBoundingClientRect(),this.positionPanel()):(this.container.style.setProperty("width",this.options.width+"px","important"),this.container.style.setProperty("height",this.options.height+"px","important"),this.container.style.setProperty("top",(window.innerHeight-this.options.height)/2+window.scrollY+"px","important"),this.container.style.setProperty("left",(window.innerWidth-this.options.width)/2+window.scrollX+"px","important"));const i=document.createElement("iframe");i.setAttribute("sandbox","allow-scripts allow-same-origin"),i.setAttribute("allow",""),i.style.setProperty("width","100%","important"),i.style.setProperty("height","100%","important"),i.style.setProperty("visibility","visible","important"),i.style.setProperty("display","block","important"),i.style.setProperty("position","relative","important"),i.style.setProperty("background-color",Se.activeTheme==="dark"?"#1e1e1e":"#ffffff","important"),i.setAttribute("scrolling","no"),this.options.legacy?i.style.setProperty("border","none","important"):(i.style.setProperty("border","2px solid #1a466b","important"),i.style.setProperty("border-radius","8px","important")),e.appendChild(i);const n=Ve.extension.getURL(`panels/panels${this.options.legacy?"Legacy":""}.html`);i.src=`${n}?parentFrameId=${this.parentFrameId}&autoCloseTime=${this.options.autoCloseTime}&panel=${this.options.name}&theme=${Se.activeTheme}`;const r=document.getElementsByTagName("body");if(r&&r.length>0)r[0].appendChild(this.container);else{const o=document.getElementsByTagName("frameset");o&&o.length>0&&o[0].insertAdjacentElement("afterend",this.container)}}updateBoundingClientRect(){const e=this.targetRelativeRect;this.targetRelativeRect=this.target.getBoundingClientRect(),(e.top!=this.targetRelativeRect.top||e.bottom!=this.targetRelativeRect.bottom||e.left!=this.targetRelativeRect.left||e.right!=this.targetRelativeRect.right)&&this.positionPanel()}positionPanel(){const e=this.options.height;let s=e;const i=this.options.width;let n=!1;const r=this.targetRelativeRect.top+window.scrollY,o=this.targetRelativeRect.bottom+window.scrollY,l=this.targetRelativeRect.right-12,a=this.targetRelativeRect.bottom+e;if(a>window.innerHeight){const v=this.targetRelativeRect.top-e;if(v>=0)n=!0;else{const S=a-window.innerHeight,w=-v;S>w?(n=!0,s=e-w):s=e-S}}const c=l-this.targetRelativeRect.left;let d;c<i?d=Math.min(this.targetRelativeRect.left,window.innerWidth-i):d=l-i;const h=n?r-s:o,g=d+window.scrollX;this.container.style.setProperty("width",i+"px","important"),this.container.style.setProperty("height",s+"px","important"),this.container.style.setProperty("top",h+"px","important"),this.container.style.setProperty("left",g+"px","important")}closePanel(){const e=document.getElementById(this.options.id);if(e&&e.parentNode.removeChild(e),this.elementToRefocus)try{this.elementToRefocus.focus()}catch{}}}var Ne=(t=>(t.CloseAllPanels="closeAllPanels",t.DetectForms="detectForms",t.ResetForms="resetForms",t.GetPasswordProfiles="getPasswordProfiles",t.GeneratePassword="generatePassword",t.ManualFill="manualFill",t.Primary="primary",t.ShowMatchedLoginsPanel="showMatchedLoginsPanel",t.PageHide="pageHide",t.OpenKeePass="openkeepass",t.CreateEntry="createEntry",t.UpdateEntry="updateEntry",t))(Ne||{});class zl{constructor(e,s,i,n){this.myPort=e,this.parentFrameId=s,this.formUtils=i,this.createMatchedLoginsPanelNearNode=n,this.fieldsWithIcons=[],this.KEEFOX_ICON_16="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAOdEVYdFRpdGxlAEtlZSBsb2dvN59B9AAAABB0RVh0QXV0aG9yAEtlZSBWYXVsdGXwy5UAAAH8SURBVDiNhZDfS1NhGMc/z3vOEHea0lgXrkisvArWTUSlF9XFIKj/waugtP+hey/M5vpFN0Eg4UVB0WARSglC0IX2AwwtzdywppYsz862875dzLmDbfTcvd/n8/0+X16JX74Sxgt9AHrYmYhVfTbZ88Z6/SeWVEC/szF1brGvVDT2JRqzVLLUCTl28Xrbtq8LwL76JtU1axLhLTm/2A/A1JFp5txOM5RPSCBgM2ypLrWQSXkID+tqd8jljLMpjvgMRFcY2P+NsPI57WxId8gN+HmwkEl5NoBUuWUsrgIqZnu7xLXol6CBmF1mudIOUDU2aQAFsPoq/RkjGYB5L4KnFXvH04p5zwHAwNP8i/TybgAAYkYBitpieL0XP2D2geH1XorarqG6xgIEP0XiycH3wHGAU+0b3D44h6sthvIJZt3OOvYulx07WTcFuxojjeSlSq3u13KYT6VIAwowewOwttoeIRSC2sx2lIqpY5KPdhx43DLg+8yIK3A/qJ111gmJrtmNvvNx4ka5ZQCA0pIGKho0QET5AAYoVUXf+4ffK6y8HMsBEyVtuQC/dQgfMRjG17J3f/w3AEArc7Oo7fD4r0OMFI6ijShRarQZK81EgHhycBro23lO5rLpC824pg0AxEjjotD0OoDdarFaiT053Lb2VhB/uePn81bcX+xXu7resl9RAAAAAElFTkSuQmCC"}removeKeeIconFromAllFields(){for(const e of this.fieldsWithIcons){const s=e.DOMelement;s&&(s.removeEventListener("click",this),s.removeEventListener("mousemove",this),s.style.setProperty("background-image",""),s.style.setProperty("background-repeat",""),s.style.setProperty("background-attachment",""),s.style.setProperty("background-size",""),s.style.setProperty("background-position",""))}this.fieldsWithIcons=[],this.passwordFields=null,this.otherFields=null}addKeeIconToFields(e,s,i){this.passwordFields=e,this.otherFields=s,i.length>1?this.getLabelledIcon(i.length.toString()):this.afterImageLoaded(this.KEEFOX_ICON_16)}skipField(e){return!this.formUtils.isATextFormFieldType(e.field.type)&&e.field.type!="password"||!e.DOMelement||e.DOMelement instanceof HTMLSelectElement||!e.DOMelement.isConnected||e.DOMelement.maxLength>0&&e.DOMelement.maxLength<=3||e.DOMelement.offsetWidth<50}addIcon(e,s){this.fieldsWithIcons.push(e);const i=e.DOMelement;i.addEventListener("click",this),i.addEventListener("mousemove",this),i.style.setProperty("background-image","url('"+s+"')","important"),i.style.setProperty("background-repeat","no-repeat","important"),i.style.setProperty("background-attachment","scroll","important"),i.style.setProperty("background-size","16px 16px","important"),i.style.setProperty("background-position","calc(100% - 4px) 50%","important"),i.style.setProperty("cursor","auto");const n=window.getComputedStyle(e.DOMelement).getPropertyValue("transition-property");["all","background"].some(r=>n.includes(r))&&e.DOMelement.style.setProperty("transition","none","important"),this.overrideBoxShadows(i)}handleEvent(e){e.type==="click"&&this.showMatchedLoginsPanel(e),e.type==="mousemove"&&this.hoverOverInput(e)}limitFields(e){return e.filter(i=>!this.skipField(i)).sort((i,n)=>i.highestScore===n.highestScore?0:i.highestScore<n.highestScore?1:-1).slice(0,2)}afterImageLoaded(e){const s=this.limitFields(this.passwordFields),i=this.limitFields(this.otherFields);for(const n of s.concat(i))this.addIcon(n,e)}overrideBoxShadows(e){const s=window.getComputedStyle(e);if(s){const i=[];i.push(s.getPropertyValue("box-shadow")),i.push(s.getPropertyValue("-webkit-box-shadow")),i.push(s.getPropertyValue("-moz-box-shadow")),i.some(n=>n.indexOf("inset"))&&(e.style.setProperty("box-shadow","initial","important"),e.style.setProperty("-webkit-box-shadow","initial","important"),e.style.setProperty("-moz-box-shadow","initial","important"))}}showMatchedLoginsPanel(e){const s=e.target.getBoundingClientRect(),i=s.left+s.width-22;e.clientX>i&&s.top<=e.clientY&&e.clientY<=s.bottom&&(this.parentFrameId!==0?this.myPort.postMessage({action:Ne.ShowMatchedLoginsPanel}):this.createMatchedLoginsPanelNearNode(e.target))}hoverOverInput(e){if(e.target.disabled)return;const s=e.target.getBoundingClientRect(),i=s.left+s.width-22;if(e.clientX>i){e.target.style.setProperty("cursor","pointer","important");return}e.target.style.setProperty("cursor","auto")}getLabelledIcon(e){const s=document.createElement("canvas");s.height=16,s.width=16;const i=document.createElement("img");i.addEventListener("load",()=>{const n=s.getContext("2d");n.drawImage(i,0,0),n.fillStyle="white",n.fillRect(6,8,10,8),n.fillStyle="red",n.font="8px Arial",n.fillText(e,7,15),this.afterImageLoaded(s.toDataURL())}),i.src=this.KEEFOX_ICON_16}}class Yl{}var qn=(t=>(t.Event="event",t.Websocket="websocket",t))(qn||{});class hs{constructor(e){this.icon=e.icon||{version:1,iconImageData:""},this.usernameValue=e.usernameValue||"<no username>",this.usernameName=e.usernameName||"<no username>",this.path=e.path||"UNKNOWN PATH",this.title=e.title||"",this.uRLs=e.uRLs||[],this.url=(e==null?void 0:e.url)||"",this.uuid=e.uuid||Ie.newGUID(),this.dbFileName=e.dbFileName||"",this.relevanceScore=e.relevanceScore,this.fullDetails=e.fullDetails,this.isPreferredMatch=e.isPreferredMatch}static fromEntry(e){var s,i;return new hs({icon:e.icon,usernameValue:(s=$e.getUsernameField(e))==null?void 0:s.value,usernameName:(i=$e.getUsernameField(e))==null?void 0:i.name,title:e.title,uRLs:e.URLs,url:e==null?void 0:e.URLs[0],uuid:e.uuid,dbFileName:e.database.fileName,fullDetails:e,isPreferredMatch:e.isPreferredMatch})}static fromKPRPCEntrySummaryDTO(e,s,i){return new hs({icon:{version:1,iconImageData:e.iconImageData},usernameValue:e.usernameValue,usernameName:e.usernameName,path:s,title:e.title,uRLs:e.uRLs,url:e==null?void 0:e.uRLs[0],uuid:e.uniqueID,dbFileName:i})}}class Nt{constructor(e){this.title=e.title||"",this.uuid=e.uuid||Ie.newGUID(),this.icon=e.icon||{version:1,iconImageData:""},this.path=e.path||"UNKNOWN PATH",this.entrySummaries=e.entrySummaries||[],this.groups=e.groups||[]}static fromKPRPCGroupDTO(e,s){return new Nt({title:e.title,uuid:e.uniqueID,icon:{version:1,iconImageData:e.iconImageData},path:e.path,entrySummaries:e.childLightEntries.map(i=>hs.fromKPRPCEntrySummaryDTO(i,e.path,s)),groups:e.childGroups.map(i=>this.fromKPRPCGroupDTO(i,s))})}static containsId(e,s){return!!(e.uuid===s||e.groups&&e.groups.some(i=>Nt.containsId(i,s)))}}class fi{constructor(e){this.name=e.name||"",this.fileName=e.fileName||"",this.icon=e.icon||{version:1,iconImageData:""},this.root=e.root||new Nt({}),this.active=e.active||!1,this.sessionType=e.sessionType||qn.Event,this.sessionFeatures=e.sessionFeatures||[""]}static fromKPRPCDatabaseDTO(e,s,i){return new fi({name:e.name,fileName:e.fileName,icon:{version:1,iconImageData:e.iconImageData},root:Nt.fromKPRPCGroupDTO(e.root,e.fileName),active:e.active,sessionType:s,sessionFeatures:i})}}class Gn{constructor(e){this.id=e.id||"",this.name=e.name||"",this.type=e.type||"",this.query=e.query,this.labels=e.labels,this.autocompleteValues=e.autocompleteValues}}class Jl{}var Ae=(t=>(t.radio="FFTradio",t.username="FFTusername",t.text="FFTtext",t.password="FFTpassword",t.select="FFTselect",t.checkbox="FFTcheckbox",t))(Ae||{});class Fe{constructor(e){this.name=e.name||"",this.value=e.value||"",this.resetValue=e.resetValue||"",this.uuid=e.uuid||Ie.newGUID(),this.type=e.type||"text",this.locators=e.locators||[]}static getDisplayValueInternal(e,s,i){return e.type==="boolean"?e.value==="KEEFOX_CHECKED_FLAG_TRUE"?$STR("enabled"):$STR("disabled"):e.type==="password"&&!s?i:e.value}static getDisplayValue(e,s){return Fe.getDisplayValueInternal(e,s,"*".repeat(e.value.length))}static getDisplayName(e){return e.name==="KeePass username"?$STR("username"):e.name==="KeePass password"?$STR("password"):e.name?e.name:"[ "+$STR("no_name")+" ]"}static getDisplayTooltip(e,s){return Fe.getDisplayName(e)+": "+Fe.getDisplayValueInternal(e,s,$STR("click_to_reveal_hide"))}static typeFromDOMtype(e){switch(e){case"password":return"password";case"radio":return"existing";case"checkbox":return"boolean";case"select-one":return"existing";default:return"text"}}static combineDomFieldLists(e,s,i){const n=[];return e>=0&&s[e]&&n.push(s[e]),i.forEach(r=>{n.push(r)}),s.forEach((r,o)=>{o!==e&&n.push(r)}),n}static fromDOM(e,s,i){const n=Zl(e);return new Fe({uuid:Ie.newGUID(),name:n&&n.length?n[0]:e.name,locators:[new Gn({name:e.name,id:e.id,type:s,labels:n,autocompleteValues:Ql(e)})],value:i,type:Fe.typeFromDOMtype(s)})}static fromKPRPCFieldDTO(e){let s="text",i="text";switch(e.type){case Ae.password:s="password",i="password";break;case Ae.radio:s="existing",i="radio";break;case Ae.checkbox:s="boolean",i="checkbox";break;case Ae.select:s="existing",i="select";break;case Ae.username:s="text",i="text";break;case Ae.text:s="text",i="text";break}return new Fe({name:e.displayName||e.name,uuid:Ie.newGUID(),value:e.value,resetValue:e.value,type:s,locators:[new Gn({id:e.id,name:e.name,type:i})]})}static toKPRPCFieldDTO(e,s){let i;switch(e.locators[0].type){case"password":i=Ae.password;break;case"radio":i=Ae.radio;break;case"checkbox":i=Ae.checkbox;break;case"select-one":i=Ae.select;break;default:i=s?Ae.username:Ae.text;break}return{displayName:e.name,id:e.locators[0].id,name:e.locators[0].name,type:i,value:e.value,page:-1}}}function Zl(t){var r,o,l,a;const e=[],s=((r=t.labels)==null?void 0:r.length)||0;for(let c=0;c<s;c++){const d=t.labels[c];d!=null&&d.innerText&&e.push(d.innerText)}const i=(o=t.getAttribute("aria-label"))==null?void 0:o.toLowerCase();i&&e.push(i);const n=[];return(l=t.getAttribute("aria-labelledby"))==null||l.trim().split(" ").forEach(c=>{c&&n.push(c)}),(a=t.getAttribute("aria-describedby"))==null||a.trim().split(" ").forEach(c=>{c&&n.push(c)}),n.forEach(c=>{const d=document.getElementById(c);d!=null&&d.innerText&&e.push(d.innerText)}),e.length?e:void 0}function Ql(t){var s,i;const e=[];return(i=(s=t.attributes.autocomplete)==null?void 0:s.value)==null||i.trim().split(" ").forEach(n=>{n&&e.push(n.toLowerCase())}),e.length?e:void 0}class gs{constructor(e){this.title=e.title||"",this.uuid=e.uuid||Ie.newGUID(),this.icon=e.icon||{version:1,iconImageData:""},this.path=e.path||"UNKNOWN PATH"}static fromKPRPCGroupSummaryDTO(e){return new gs({title:e.title,uuid:e.uniqueID,icon:{version:1,iconImageData:e.iconImageData},path:e.path})}static fromGroup(e){return new gs({title:e.title,uuid:e.uuid,icon:e.icon,path:e.path})}}class $e{constructor(e){this.alwaysAutoFill=e.alwaysAutoFill||!1,this.alwaysAutoSubmit=e.alwaysAutoSubmit||!1,this.neverAutoFill=e.neverAutoFill||!1,this.neverAutoSubmit=e.neverAutoSubmit||!1,this.URLs=e.URLs||[],this.fields=e.fields||[],this.httpRealm=e.httpRealm||"",this.parentGroup=e.parentGroup||null,this.uuid=e.uuid||Ie.newGUID(),this.title=e.title||"",this.matchAccuracy=e.matchAccuracy||0,this.icon=e.icon||{version:1,iconImageData:""},this.database=e.database||new fi({}),this.relevanceScore=e.relevanceScore,this.lowFieldMatchRatio=e.lowFieldMatchRatio,this.formIndex=e.formIndex,this.entryIndex=e.entryIndex,this.isPreferredMatch=e.isPreferredMatch}static getUsernameField(e){return e.fields.find(s=>s.type==="text")}static getPasswordField(e){return e.fields.find(s=>s.type==="password")}static fromKPRPCEntryDTO(e,s){const i=[];let n=1;const r=e.formFieldList.findIndex(c=>c.type===Ae.username),o=e.formFieldList.map(c=>(c.page>n&&(n=c.page),Fe.fromKPRPCFieldDTO(c))),l=o.findIndex(c=>c.type==="password");return r>-1&&i.push(o[r]),l>-1&&i.push(o[l]),o.forEach((c,d)=>{d!==r&&d!==l&&i.push(c)}),new $e({URLs:e.uRLs,neverAutoFill:e.neverAutoFill,alwaysAutoFill:e.alwaysAutoFill,neverAutoSubmit:e.neverAutoSubmit,alwaysAutoSubmit:e.alwaysAutoSubmit,icon:{version:1,iconImageData:e.iconImageData},parentGroup:gs.fromKPRPCGroupSummaryDTO(e.parent),database:s,matchAccuracy:e.matchAccuracy,httpRealm:e.hTTPRealm,uuid:e.uniqueID,title:e.title,fields:i})}static toKPRPCEntryDTO(e){const s=new Jl;return s.alwaysAutoFill=e.alwaysAutoFill,s.alwaysAutoSubmit=e.alwaysAutoSubmit,s.formFieldList=e.fields.map((i,n)=>Fe.toKPRPCFieldDTO(i,n===0)),s.hTTPRealm=e.httpRealm,s.iconImageData=e.icon.iconImageData,s.neverAutoFill=e.neverAutoFill,s.neverAutoSubmit=e.neverAutoSubmit,s.title=e.title,s.uRLs=e.URLs,s}}var ea=!1;/*!
  * pinia v2.0.29
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Xn;const ms=t=>Xn=t,zn=Symbol();function ui(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var vt;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(vt||(vt={}));function ta(){const t=Pi(!0),e=t.run(()=>qi({}));let s=[],i=[];const n=bt({install(r){ms(n),n._a=r,r.provide(zn,n),r.config.globalProperties.$pinia=n,i.forEach(o=>s.push(o)),i=[]},use(r){return!this._a&&!ea?i.push(r):s.push(r),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Yn=()=>{};function Jn(t,e,s,i=Yn){t.push(e);const n=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),i())};return!s&&Er()&&Rr(n),n}function Ft(t,...e){t.slice().forEach(s=>{s(...e)})}function di(t,e){t instanceof Map&&e instanceof Map&&e.forEach((s,i)=>t.set(i,s)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const i=e[s],n=t[s];ui(n)&&ui(i)&&t.hasOwnProperty(s)&&!oe(i)&&!Ye(i)?t[s]=di(n,i):t[s]=i}return t}const sa=Symbol();function ia(t){return!ui(t)||!t.hasOwnProperty(sa)}const{assign:et}=Object;function na(t){return!!(oe(t)&&t.effect)}function ra(t,e,s,i){const{state:n,actions:r,getters:o}=e,l=s.state.value[t];let a;function c(){l||(s.state.value[t]=n?n():{});const d=oo(s.state.value[t]);return et(d,r,Object.keys(o||{}).reduce((h,g)=>(h[g]=bt(kn(()=>{ms(s);const v=s._s.get(t);return o[g].call(v,v)})),h),{}))}return a=Zn(t,c,e,s,i,!0),a.$reset=function(){const h=n?n():{};this.$patch(g=>{et(g,h)})},a}function Zn(t,e,s={},i,n,r){let o;const l=et({actions:{}},s),a={deep:!0};let c,d,h=bt([]),g=bt([]),v;const S=i.state.value[t];!r&&!S&&(i.state.value[t]={}),qi({});let w;function E(q){let b;c=d=!1,typeof q=="function"?(q(i.state.value[t]),b={type:vt.patchFunction,storeId:t,events:v}):(di(i.state.value[t],q),b={type:vt.patchObject,payload:q,storeId:t,events:v});const A=w=Symbol();Yi().then(()=>{w===A&&(c=!0)}),d=!0,Ft(h,b,i.state.value[t])}const M=Yn;function $(){o.stop(),h=[],g=[],i._s.delete(t)}function T(q,b){return function(){ms(i);const A=Array.from(arguments),R=[],m=[];function I(k){R.push(k)}function K(k){m.push(k)}Ft(g,{args:A,name:q,store:V,after:I,onError:K});let ee;try{ee=b.apply(this&&this.$id===t?this:V,A)}catch(k){throw Ft(m,k),k}return ee instanceof Promise?ee.then(k=>(Ft(R,k),k)).catch(k=>(Ft(m,k),Promise.reject(k))):(Ft(R,ee),ee)}}const B={_p:i,$id:t,$onAction:Jn.bind(null,g),$patch:E,$reset:M,$subscribe(q,b={}){const A=Jn(h,q,b.detached,()=>R()),R=o.run(()=>ns(()=>i.state.value[t],m=>{(b.flush==="sync"?d:c)&&q({storeId:t,type:vt.direct,events:v},m)},et({},a,b)));return A},$dispose:$},V=Zt(B);i._s.set(t,V);const te=i._e.run(()=>(o=Pi(),o.run(()=>e())));for(const q in te){const b=te[q];if(oe(b)&&!na(b)||Ye(b))r||(S&&ia(b)&&(oe(b)?b.value=S[q]:di(b,S[q])),i.state.value[t][q]=b);else if(typeof b=="function"){const A=T(q,b);te[q]=A,l.actions[q]=b}}return et(V,te),et(Z(V),te),Object.defineProperty(V,"$state",{get:()=>i.state.value[t],set:q=>{E(b=>{et(b,q)})}}),i._p.forEach(q=>{et(V,o.run(()=>q({store:V,app:i._a,pinia:i,options:l})))}),S&&r&&s.hydrate&&s.hydrate(V.$state,S),c=!0,d=!0,V}function oa(t,e,s){let i,n;const r=typeof e=="function";typeof t=="string"?(i=t,n=r?s:e):(n=t,i=t.id);function o(l,a){const c=_n();return l=l||c&&Mt(zn,null),l&&ms(l),l=Xn,l._s.has(i)||(r?Zn(i,e,n,l):ra(i,n,l)),l._s.get(i)}return o.$id=i,o}class Qn{constructor(){this.newEntry=new $e({})}}const la={latestConnectionError:"",lastKeePassRPCRefresh:0,ActiveKeePassDatabaseIndex:-1,KeePassDatabases:[],PasswordProfiles:[],notifications:[],connected:!1,connectedWebsocket:!1,currentSearchTerm:null,loginsFound:!1,searchResults:null,saveState:new Qn,generatedPassword:"",saveEntryResult:{result:null,receivedAt:new Date,fileName:null,uuid:null},entryUpdateStartedAtTimestamp:0};var hi=(t=>(t.Event="event",t.Websocket="websocket",t))(hi||{});const er=oa("kee",{state:()=>la,getters:{showGeneratePasswordLink:t=>t.connected,showMatchedLogins:t=>!!t.loginsFound,showNotifications:t=>t.notifications&&!!t.notifications.length,databaseIsOpen:t=>t.connected&&!!t.KeePassDatabases.length,databaseName:t=>{if(t.KeePassDatabases&&t.KeePassDatabases.length&&t.ActiveKeePassDatabaseIndex>=0){const e=t.KeePassDatabases[t.ActiveKeePassDatabaseIndex];return e.name?e.name:e.fileName.replace(/^.*[\\/]/,"")}return""},connectionStatus(t){return t.connected?t.KeePassDatabases.length>1?$STRF("multiplePasswordSourcesEnabled",[t.KeePassDatabases.length.toString()]):t.KeePassDatabases.length==1?this.databaseName:$STR("notifyBarLoginToKeePassButton_tip"):$STR("notifyBarLaunchKeePassButton_tip")},connectionStatusDetail(t){if(t.connected){if(t.KeePassDatabases.length>1)return $STRF("loggedInMultiple_tip",[t.KeePassDatabases.length.toString(),this.databaseName]);if(t.KeePassDatabases.length==1)return $STRF("loggedIn_tip",this.databaseName)}return $STR("notifyBarLaunchKeePass_label")},showOpenKeePassButton:t=>{if(t.connectedWebsocket){const e=t.KeePassDatabases.some(i=>i.sessionType===hi.Websocket),s=t.KeePassDatabases.some(i=>i.sessionType===hi.Websocket&&i.sessionFeatures.indexOf("KPRPC_OPEN_AND_FOCUS_DATABASE")>=0);return!!(!e||s)}else return!1}},actions:{updateActiveKeePassDatabaseIndex(t){this.ActiveKeePassDatabaseIndex=t},updateConnected(t){this.connected=t},updateConnectedWebsocket(t){this.connectedWebsocket=t},updateCurrentSearchTerm(t){this.currentSearchTerm=t},updateKeePassDatabases(t){this.KeePassDatabases=t},updateLastKeePassRPCRefresh(t){this.lastKeePassRPCRefresh=t},updateLatestConnectionError(t){this.latestConnectionError=t},updateLoginsFound(t){this.loginsFound=t||!1},updateNotifications(t){this.notifications=t},updatePasswordProfiles(t){this.PasswordProfiles=t},updateGeneratedPassword(t){this.generatedPassword=t},updateSubmittedData(t){this.saveState||(this.saveState=new Qn),this.saveState.submittedData=t||null},updateSaveState(t){this.saveState=t||null},updateSearchResults(t){this.searchResults=t||null},updateSearchResultWithFullDetails(t){const e=t.uuid;for(const s of this.searchResults)if(s.uuid===e){s.fullDetails=t||null;break}},addNotification(t){this.notifications.push(t)},updateSaveEntryResult(t){this.saveEntryResult=t||null},removeFieldFromActiveEntry(t){const e=this.saveState.newEntry.fields.findIndex(n=>n.type==="text"),s=this.saveState.newEntry.fields.findIndex(n=>n.type==="password"),i=this.saveState.newEntry.fields.findIndex(n=>n.uuid===(t||null));if(this.saveState.newEntry.fields.splice(i,1),i===e){const n=this.saveState.newEntry.fields.findIndex(o=>o.type==="text");if(n<0)return;const r=this.saveState.newEntry.fields.splice(n,1)[0];this.saveState.newEntry.fields.splice(i,0,new Fe({...r,name:"KeePass username"}))}else if(i===s){const n=this.saveState.newEntry.fields.findIndex(o=>o.type==="password");if(n<0)return;const r=this.saveState.newEntry.fields.splice(n,1)[0];this.saveState.newEntry.fields.splice(i,0,new Fe({...r,name:"KeePass password"}))}},updateEntryUpdateStartedAtTimestamp(t){this.entryUpdateStartedAtTimestamp=t||null}}}),tr=er();class aa{constructor(e,s,i,n,r,o,l){this.myPort=e,this.parentFrameId=s,this.formUtils=i,this.formSaving=n,this.Logger=r,this.config=o,this.matchFinder=l,this.findLoginOp={},this.matchResult=new Yl,this.formFinderTimer=null,this.keeFieldIcon=new zl(e,s,i,this.createMatchedLoginsPanelNearNode.bind(this))}executePrimaryAction(){this.matchResult.entries&&this.matchResult.entries.length>0&&this.matchResult.mostRelevantFormIndex!=null&&this.matchResult.mostRelevantFormIndex>=0&&(this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length==1?(this.fillAndSubmit(!1,this.matchResult.mostRelevantFormIndex,0),this.closeMatchedLoginsPanel()):this.matchResult.entries[this.matchResult.mostRelevantFormIndex].length>1&&(this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Dt(ft.MatchedLogins,null,this.parentFrameId),this.matchedLoginsPanelStub.createPanel()))}createMatchedLoginsPanelInCenter(e){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Dt(ft.MatchedLogins,null,e),this.matchedLoginsPanelStub.createPanel()}createMatchedLoginsPanelNearNode(e){this.closeMatchedLoginsPanel(),this.matchedLoginsPanelStub=new Dt(ft.MatchedLogins,e,this.parentFrameId),this.matchedLoginsPanelStub.createPanel(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}closeMatchedLoginsPanel(){this.matchedLoginsPanelStub&&this.matchedLoginsPanelStub.closePanel(),this.matchedLoginsPanelStub=null,cancelAnimationFrame(this.matchedLoginsPanelStubRaf)}updateMatchedLoginsPanelPosition(){this.matchedLoginsPanelStub.updateBoundingClientRect(),this.matchedLoginsPanelStubRaf=requestAnimationFrame(()=>this.updateMatchedLoginsPanelPosition())}calculateFieldMatchScore(e,s,i,n,r){const o=e.field;let l=1;return o.type!==s.type?0:(o.locators[0].id!=null&&o.locators[0].id!=null&&o.locators[0].id!=""&&o.locators[0].id==s.locators[0].id?l+=50:n.punishWrongIDAndName&&s.locators[0].id&&(l-=5),o.locators[0].name!=null&&o.locators[0].name!=null&&o.locators[0].name!=""&&o.locators[0].name==s.locators[0].name?l+=40:n.punishWrongIDAndName&&s.locators[0].name&&(l-=5),o.locators[0].type==="radio"&&o.value!=null&&o.value!=null&&o.value!=""&&o.value==s.value&&(l+=30),r===void 0&&this.formUtils.isDOMElementVisible(e.DOMelement)&&(r=!0),l+=r?35:0,l)}fillMatchedFields(e,s,i,n){e.sort(function(o,l){return l.score-o.score});const r=[];for(;e.length>0&&e[0].score>0;){const o=e[0].formFieldIndex,l=e[0].dataFieldIndex,a=i[o],c=s[l],d=a.DOMelement,h=this.getFormFieldCurrentValue(d,a.field.locators[0].type);n&&h&&h!==d.keeInitialDetectedValue?this.Logger.info("Not filling field because it's not empty and was edited by user since last load/fill"):n&&h&&!Se.current.autoFillFieldsWithExistingValue?this.Logger.info("Not filling field because it's not empty and user preference is to prevent automatic fill"):(this.Logger.info("We will populate field "+o+" (id:"+a.field.locators[0].id+")"),this.fillASingleField(d,a.field.locators[0].type,c.value)),r.push({id:a.field.locators[0].id,DOMelement:d,name:a.field.locators[0].name,value:c.value}),e=e.filter(function(g){return g.dataFieldIndex!=l&&g.formFieldIndex!=o}),e.sort(function(g,v){return v.score-g.score})}return r}getFormFieldCurrentValue(e,s){let i=e.value;return e instanceof HTMLInputElement&&s==="checkbox"&&(e.checked?i="KEEFOX_CHECKED_FLAG_TRUE":i="KEEFOX_CHECKED_FLAG_FALSE"),i}fillASingleField(e,s,i){s=="select-one"?e.value=i:e instanceof HTMLInputElement&&s=="checkbox"?i=="KEEFOX_CHECKED_FLAG_TRUE"?e.checked=!0:e.checked=!1:e instanceof HTMLInputElement&&s=="radio"?e.checked=!0:e.value=i,e.keeInitialDetectedValue=i,e.dispatchEvent(new UIEvent("input",{view:window,bubbles:!0,cancelable:!0})),e.dispatchEvent(new UIEvent("change",{view:window,bubbles:!0,cancelable:!0}))}fillManyFormFields(e,s,i,n,r){if(this.Logger.debug("_fillManyFormFields started"),e==null||e==null||s==null||s==null)return;this.Logger.debug("We've received the data we need"),this.Logger.info("Filling form fields for page "+i);const o=[];for(let l=0;l<e.length;l++)for(let a=0;a<s.length;a++){const c=this.calculateFieldMatchScore(e[l],s[a],i,n);this.Logger.debug("Suitability of putting data field "+a+" into form field "+l+" (id: "+e[l].field.locators[0].id+") is "+c),o.push({score:c,dataFieldIndex:a,formFieldIndex:l})}return this.fillMatchedFields(o,s,e,r)}initMatchResult(e){this.matchResult.UUID="",this.matchResult.entries=[],this.matchResult.mostRelevantFormIndex=null,this.matchResult.mustAutoFillForm=!1,this.matchResult.cannotAutoFillForm=!1,this.matchResult.mustAutoSubmitForm=!1,this.matchResult.cannotAutoSubmitForm=!1,e.UUID!=null&&e.UUID!=null&&e.UUID!=""&&(this.matchResult.UUID=e.UUID,this.matchResult.dbFileName=e.dbFileName,this.matchResult.mustAutoFillForm=!0,e.mustAutoSubmitForm&&(this.matchResult.mustAutoSubmitForm=!0)),this.matchResult.doc=window.document,this.matchResult.formReadyForSubmit=!1,this.matchResult.autofillOnSuccess=e.autofillOnSuccess,this.matchResult.autosubmitOnSuccess=e.autosubmitOnSuccess,this.matchResult.notifyUserOnSuccess=e.notifyUserOnSuccess,this.matchResult.wrappers=[],this.matchResult.allMatchingLogins=[],this.matchResult.formRelevanceScores=[],this.matchResult.submitTargets=[],this.matchResult.usernameIndexArray=[],this.matchResult.passwordFieldsArray=[],this.matchResult.otherFieldsArray=[],this.matchResult.requestCount=0,this.matchResult.responseCount=0,this.matchResult.requestIds=[]}findMatchesInThisFrame(e={}){this.semanticWhitelistCache={},this.semanticBlacklistCache={},this.formFinderTimer!==null&&(clearTimeout(this.formFinderTimer),this.formFinderTimer=null),window.document.forms.length>50&&this.Logger.debug("Too many forms on this page. Assuming it is not a login page and avoiding looking for login forms in order to avoid performance impact.");let s=new Array;for(let l=0;l<window.document.forms.length;l++)s.push(window.document.forms.item(l));const i=this.scanForOrphanedFields(window.document);if(i&&(s=Array.prototype.slice.call(s),s.push(i)),!s||s.length==0){this.Logger.info("No forms found on this page.");return}const n=new URL(window.document.URL);n.hostname=punycode.toUnicode(n.hostname),this.Logger.info("Finding matches in a document. readyState: "+window.document.readyState),this.initMatchResult(e),this.matchResult.forms=s;const r=Se.siteConfigFor(n.href);this.Logger.debug("findMatches processing "+s.length+" forms");let o=!1;for(let l=0;l<s.length;l++){const a=s[l];this.matchResult.entries[l]=[],this.matchResult.formRelevanceScores[l]=0,this.Logger.debug("about to get form fields");let c;try{c=this.formUtils.getFormFields(a,!1,50)}catch(M){this.Logger.debug("Lost interest in this form after finding too many fields"+M);continue}const d=c.actualUsernameIndex,h=c.pwFields,g=c.otherFields;let v=null;if(v=Se.isFormInteresting(a,r,g.map(M=>M.field)),v===!1){this.Logger.debug("Lost interest in this form after inspecting field names and IDs");continue}const S=h==null||h.length<=0||h[0]==null,w=d<0||g==null||g.length<=0||g[d]==null;if(S&&(w||v!==!0)){this.Logger.debug("No password field found in this form and either there are no other fields or no whitelisted text field or form element");continue}let E;S?E=g[d].DOMelement:E=h[0].DOMelement,this.attachSubmitHandlers(a,E,l),this.matchResult.usernameIndexArray[l]=d,this.matchResult.passwordFieldsArray[l]=h,this.matchResult.otherFieldsArray[l]=g,this.matchResult.submitTargets[l]=E,o?(this.Logger.debug("form["+l+"]: reusing entries from last form."),this.findLoginOp.formIndexes.push(l)):(this.findLoginOp.forms=s,this.findLoginOp.formIndexes=[l],this.findLoginOp.wrappedBy=this.matchResult,this.matchResult.wrappers[l]=this.findLoginOp,this.matchResult.requestCount++,this.matchFinder(n.href),o=!0)}}async attachSubmitHandlers(e,s,i){try{await Promise.resolve();const n=performance.now(),r=this.findSubmitButton(e,s);this.formSaving.addSubmitHandler(r,e),ce.info("Submit handlers attached asynchronously to form "+i+" in "+(performance.now()-n)+"ms")}catch(n){ce.warn("Exception while adding submit handler. Message: "+n.message)}}scanForOrphanedFields(e){const s=new Date().getTime(),i=[];let n=null;const r=e.getElementsByTagName("input");for(const l of r)l.form||i.push(l);i.length>0&&(n={elements:i,id:"Kee-pseudo-form",name:"Kee-pseudo-form",ownerDocument:e,getElementsByTagName:function(){return this.elements},querySelectorAll:function(){return[]},submit:function(){},offsetParent:!0,addEventListener:function(){},removeEventListener:function(){}});const o=new Date().getTime();return this.Logger.debug("scanForOrphanedFields took: "+(o-s)),n}findLoginsResultHandler(e){if(!e)return;const s=e.filter(i=>$e.getUsernameField(i)||$e.getPasswordField(i));this.matchResult=this.getRelevanceOfLoginMatchesAgainstAllForms(s,this.findLoginOp,this.matchResult),this.fillAndSubmit(!0)}getRelevanceOfLoginMatchesAgainstAllForms(e,s,i){const n=JSON.stringify(e);let r=!1;for(let o=0;o<s.forms.length;o++){if(s.formIndexes.indexOf(o)==-1||(i.entries[o]=JSON.parse(n),i.entries[o].length==0))continue;this.Logger.info("match found!");const l=this.formUtils.isDOMElementVisible(i.submitTargets[o]);this.Logger.debug("formVisible: "+l);const a={other:i.otherFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement)),password:i.passwordFieldsArray[o].map(c=>this.formUtils.isDOMElementVisible(c.DOMelement))};for(let c=0;c<i.entries[o].length;c++){const h={punishWrongIDAndName:tr.KeePassDatabases.find(S=>S.fileName===i.entries[o][c].database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},{score:g,lowFieldMatchRatio:v}=this.calculateRelevanceScore(i.entries[o][c],i.passwordFieldsArray[o],i.otherFieldsArray[o],i.currentPage,l,h,a);i.entries[o][c].relevanceScore=g,i.entries[o][c].lowFieldMatchRatio=v,i.entries[o][c].formIndex=o,i.entries[o][c].entryIndex=c,(!r||i.entries[o][c].relevanceScore>i.allMatchingLogins[c].relevanceScore)&&(this.Logger.debug("Higher relevance score found for entry "+c+" with formIndex "+i.entries[o][c].formIndex+" ("+s.forms[o].id+")"),i.allMatchingLogins[c]=i.entries[o][c])}r=!0,i.entries[o].forEach(function(c){c.relevanceScore>i.formRelevanceScores[o]&&(i.formRelevanceScores[o]=c.relevanceScore)}),this.Logger.debug("Relevance of form "+o+" ("+s.forms[o].id+") is "+i.formRelevanceScores[o])}return i}getMostRelevantForm(e){const s=this.matchResult;if(!s)return{bestFormIndex:0,bestRelevanceScore:0,bestFindMatchesResult:void 0};let i=0;return e>=0?i=e:s.formRelevanceScores.forEach((n,r)=>{this.Logger.debug("Relevance of form is "+n),n>s.formRelevanceScores[i]&&(i=r)}),this.Logger.debug("The most relevant form is #"+i),{bestFormIndex:i,bestRelevanceScore:s.formRelevanceScores[i],bestFindMatchesResult:s}}fillAndSubmit(e,s,i){this.Logger.debug("fillAndSubmit started. automated: "+e+", formIndex: "+s+", entryIndex: "+i);const n=this.matchResult;let r;if(!n)return;const o=!e&&(n.mostRelevantFormIndex!==null&&n.mostRelevantFormIndex>=0||typeof s<"u")&&typeof i<"u";o||(n.mostRelevantFormIndex=this.getMostRelevantForm().bestFormIndex),s!==null&&s>=0&&(n.mostRelevantFormIndex=s);const l=n.forms[n.mostRelevantFormIndex],a=n.passwordFieldsArray[n.mostRelevantFormIndex],c=n.otherFieldsArray[n.mostRelevantFormIndex],d=this.sortMatchedEntries(n.entries[n.mostRelevantFormIndex]),h=this.flagUserPreferredEntry(d);!o&&n.entries[n.mostRelevantFormIndex].length>0&&(this.myPort.postMessage({entries:h}),this.keeFieldIcon.addKeeIconToFields(a,c,h));let g=null,v={fill:!1,submit:!1},S=!1;if(n.cannotAutoFillForm=!1,n.cannotAutoSubmitForm=!1,e&&n.autofillOnSuccess===!1&&(n.cannotAutoFillForm=!0),e&&n.autosubmitOnSuccess===!1&&(n.cannotAutoSubmitForm=!0),!n.cannotAutoFillForm){this.Logger.debug("We are allowed to auto-fill this form."),i>=0&&(g=n.entries[n.mostRelevantFormIndex][i],n.UUID=null,n.dbFileName=null);let w=!1;if(g==null&&n.entries[n.mostRelevantFormIndex].length==1)g=n.entries[n.mostRelevantFormIndex][0],w=!0;else if(n.UUID!=null&&n.UUID!=null&&n.UUID!=""){this.Logger.debug("We've been told to use an entry with this UUID: "+n.UUID);for(let E=0;E<n.entries[n.mostRelevantFormIndex].length;E++)if(n.entries[n.mostRelevantFormIndex][E].uuid==n.UUID){g=n.entries[n.mostRelevantFormIndex][E];break}g==null&&this.Logger.warn("Could not find the required KeePass entry. Maybe the website redirected you to a different domain or hostname?")}else g==null&&(!n.entries[n.mostRelevantFormIndex]||!n.entries[n.mostRelevantFormIndex].length)?this.Logger.debug("No entries for form."):g==null&&(this.Logger.debug("Multiple entries for form, so using preferred or most relevant."),g=h.find(E=>E.isPreferredMatch)||h[0],S=!0,w=!0);if(e&&w&&g!=null&&(g.relevanceScore<1?(this.Logger.info("Our selected entry is not relevant enough to exceed our threshold so will not be auto-filled."),g=null):g.lowFieldMatchRatio&&(this.Logger.info("Our selected entry has a low field match ratio so will not be auto-filled."),g=null)),g!=null){const E=o||(e&&S&&!this.config.autoFillFormsWithMultipleMatches?!1:this.config.autoFillForms),M=o?this.config.autoSubmitMatchedForms:this.config.autoSubmitForms;if(v={fill:E,submit:M},o||(g.alwaysAutoFill&&(v.fill=!0),g.neverAutoFill&&(v.fill=!1)),(!o||!this.config.manualSubmitOverrideProhibited)&&(g.alwaysAutoSubmit&&(v.submit=!0),g.neverAutoSubmit&&(v.submit=!1)),v.fill||n.mustAutoFillForm){this.Logger.debug("Going to auto-fill a form");const T={punishWrongIDAndName:tr.KeePassDatabases.find(te=>te.fileName===g.database.fileName).sessionFeatures.indexOf("KPRPC_FIELD_DEFAULT_NAME_AND_ID_EMPTY")>=0},B=this.fillManyFormFields(c,g.fields.filter(te=>te.type!=="password"),-1,T,e),V=this.fillManyFormFields(a,g.fields.filter(te=>te.type==="password"),-1,T,e);n.formReadyForSubmit=!0,n.lastFilledPasswords=V,n.lastFilledOther=B,V&&V.length>0?r=V[0].DOMelement:B&&B.length>0&&(r=B[0].DOMelement),this.formSaving.updateMatchResult(n)}}}n.formReadyForSubmit&&(n.UUID==null||n.UUID==null||n.UUID=="")&&(this.Logger.debug("Syncing UUID to: "+g.uuid),n.UUID=g.uuid,n.dbFileName=g.database.fileName),!n.cannotAutoSubmitForm&&(v.submit||n.mustAutoSubmitForm)&&n.formReadyForSubmit?(this.Logger.info("Auto-submitting form..."),this.submitForm(l,r)):o?this.Logger.debug("Matched entry request is not being auto-submitted."):this.matchResult.allMatchingLogins.length>0?e?this.Logger.debug("Automatic form fill complete."):this.Logger.debug("Manual form fill complete."):this.Logger.info("Nothing to fill.")}sortMatchedEntries(e){return e.map(s=>new $e({...s})).sort((s,i)=>i.relevanceScore-s.relevanceScore)}flagUserPreferredEntry(e){const s=new URL(window.document.URL);s.hostname=punycode.toUnicode(s.hostname);const i=Se.siteConfigFor(s.href);return e.map(n=>new $e({...n,isPreferredMatch:i.preferredEntryUuid===n.uuid}))}findSubmitButton(e,s){const i=[];let S=0;const w=(m,I)=>this.commonAncestorDistance(m,I,E),E=new Map,M=this.formUtils;function $(m,I){S>I+60+100||((M.isDOMElementVisible(m)||!M.isDOMElementVisible(s))&&(I+=60),S>I+100)||(i.push({distance:w(m,s),element:m,score:I}),S=I)}function T(m){var K;const I=[];return m.hasAttribute("aria-label")&&I.push(m.getAttribute("aria-label").toLowerCase()),(K=m.getAttribute("aria-labelledby"))==null||K.trim().split(" ").forEach(ee=>{if(ee){const k=e.ownerDocument.getElementById(ee);k&&k.innerText&&I.push(k.innerText.toLowerCase())}}),I}if(Array.from(e.ownerDocument.getElementsByTagName("button")).forEach(m=>{if(m.isConnected&&(!m.type||m.type!="reset")){const I=[];m.name&&I.push(m.name.toLowerCase()),m.textContent&&I.push(m.textContent.toLowerCase()),m.value&&I.push(m.value.toLowerCase()),I.push(...T(m));let K=this.scoreAdjustmentForMagicWords(I,50,this.semanticWhitelistCache,this.semanticBlacklistCache);K+=m.form&&m.form==e?60:40,$(m,K)}}),Array.from(e.getElementsByTagName("input")).forEach(m=>{if(m.isConnected&&m.type!=null){let I=0;if(m.type=="submit"||m.type=="button"){m.name&&(I+=this.scoreAdjustmentForMagicWords([m.name.toLowerCase()],50,this.semanticWhitelistCache,this.semanticBlacklistCache));const K=[];m.value&&K.push(m.value.toLowerCase()),K.push(...T(m)),K.length>0&&(I+=this.scoreAdjustmentForMagicWords(K,40,this.semanticWhitelistCache,this.semanticBlacklistCache)),m.id&&(I+=this.scoreAdjustmentForMagicWords([m.id.toLowerCase()],20,this.semanticWhitelistCache,this.semanticBlacklistCache))}if(m.type=="submit"||m.type=="button"||m.type=="image"){let K=I;K+=m.type=="button"?30:m.type=="image"?40:50,$(m,K)}}}),Array.from(e.ownerDocument.querySelectorAll("[role=button]:not(button)")).forEach(m=>{if(!m.isConnected)return;const I=[];m.name&&I.push(m.name.toLowerCase()),m.id&&I.push(m.id.toLowerCase()),m.title&&I.push(m.title.toLowerCase()),m.innerText&&I.push(m.innerText.toLowerCase()),m.dataSet&&m.dataSet.length>0&&m.dataSet.tooltip&&I.push(m.dataSet.tooltip.toLowerCase()),I.push(...T(m));let K=this.scoreAdjustmentForMagicWords(I,50,this.semanticWhitelistCache,this.semanticBlacklistCache);K+=m.form&&m.form==e?20:10,$(m,K)}),i.length<=0)return null;if(i.length===1)return i[0].element;const B=i.sort((m,I)=>m.distance>I.distance?-1:m.distance<I.distance?1:0),V=B[0].distance-B[B.length-1].distance,te=Math.min(100,20*V);let q=1/B.length,b=B[0].distance;B.forEach((m,I,K)=>{m.distance<b&&(q=(I+1)/K.length,b=m.distance),m.score+=q*te});let A=B[0].score,R=B[0].element;for(let m=1;m<B.length;m++)B[m].score>A&&(A=B[m].score,R=B[m].element);return R}scoreAdjustmentForMagicWords(e,s,i,n){const r=["submit","login","enter","log in","signin","sign in","next","continue"],o=["reset","cancel","back","abort","undo","exit","empty","clear","captcha","totp","forgot","dismiss","delete","show","reveal"];let l=!1,a=!1;for(let c=0;c<e.length&&!l;c++){if(!e[c])continue;const d=e[c].trim();if(d){if(i[d]===!0){l=!0;break}if(i[d]!==!1)for(let h=0;h<r.length;h++)if(d.indexOf(r[h])>=0){l=!0,i[d]=!0;break}else i[d]=!1}}for(let c=0;c<e.length&&!a;c++){if(!e[c])continue;const d=e[c].trim();if(d){if(n[d]===!0){a=!0;break}if(n[d]!==!1)for(let h=0;h<o.length;h++)if(d.indexOf(o[h])>=0){a=!0,n[d]=!0;break}else n[d]=!1}}return l&&a?0:a?-1*s:l?s:0}commonAncestorDistance(e,s,i){let n=1,r=!1;const o=[];let l=0;for(;e=e.parentElement;){const a=i.get(e);if(a!==void 0){n+=a,l=a+1,r=!0;break}if(o.push(e),e.contains(s)){r=!0;break}n++}if(r){if(o.length>0)for(let a=l;a<n&&o.length>0;a++){const c=o.pop();i.set(c,a)}return n}else return 9007199254740991}submitForm(e,s){const i=this.findSubmitButton(e,s);this.formSaving.removeAllSubmitHandlers(),i!=null?(this.Logger.debug("Submiting using element: "+i.name+": "+i.id),i.click()):(this.Logger.debug("Submiting using form"),e.submit())}calculateRelevanceScore(e,s,i,n,r,o,l){let a=0,c=!1;a+=e.matchAccuracy,r||(a-=20);const d=.501,[h,g]=this.determineRelevanceScores("other",i,e.fields.filter(A=>A.type!=="password"),n,o,l.other),[v,S]=this.determineRelevanceScores("password",s,e.fields.filter(A=>A.type==="password"),n,o,l.password),w=h+v,E=s.concat(i).filter(A=>A.field.locators[0].id||A.field.locators[0].name||A.field.value).length,M=e.fields.filter(A=>A.locators[0].id||A.locators[0].name||A.value).length,$=s.concat(i).filter(A=>(A.field.type==="password"||A.field.type==="text")&&(A.field.locators[0].id||A.field.locators[0].name)).length,T=e.fields.filter(A=>(A.type==="password"||A.type==="text")&&(A.locators[0].id||A.locators[0].name||A.value)).length,B=g.filter(A=>A===!0).length+S.filter(A=>A===!0).length,V=s.filter(A=>{var R;return(R=A.field.locators[0].autocompleteValues)==null?void 0:R.some(m=>m==="new-password")}).length,te=Math.min(T+V,B)/Math.max(1,$);this.Logger.debug("formFieldCount: "+E+", loginFieldCount: "+M+", loginFieldCountForAutofill: "+T+", formFieldCountForAutofill: "+$+", formMatchedFieldCountForAutofill: "+B+", numberOfNewPasswordFields: "+V+", fieldMatchRatio: "+te),te<d&&(this.Logger.info(e.uuid+" will be forced to not auto-fill because the form field match ratio ("+te+") is not high enough."),c=!0);const b=w/Math.max(E,M)/(Math.abs(E-M)+1);return a+=b,this.Logger.info("Relevance for "+e.uuid+" is: "+a),{score:a,lowFieldMatchRatio:c}}determineRelevanceScores(e,s,i,n,r,o){var d;let l=0;const a=1,c=[];for(let h=0;h<s.length;h++){let g=0;const v=s[h].field;(d=v.locators[0].autocompleteValues)!=null&&d.some(S=>S==="new-password")&&(c[h]=!0);for(let S=0;S<i.length;S++){const w=this.calculateFieldMatchScore(s[h],i[S],n,r,o[h]);this.Logger.debug("Suitability of putting "+e+" field "+S+" into form field "+h+" (id: "+v.locators[0].id+") is "+w),w>g&&(g=w);const E=w-(o[h]?0:10);(v.type==="text"||v.type==="password")&&E>=a&&i[S].value&&!c[h]&&(c[h]=!0),(s[h].highestScore==null||w>s[h].highestScore)&&(s[h].highestScore=w)}l+=g}return[l,c]}removeKeeIconFromAllFields(){this.keeFieldIcon.removeKeeIconFromAllFields()}}class ca{}class fa{constructor(e){this.findLoginOps=[],this.matchResults=[],this.Logger=e}countAllDocuments(e){if(!this.isUriWeCanFill(e.location))return 0;let s=1;if(e.frames.length>0){const i=e.frames;for(let n=0;n<i.length;n++)s+=this.countAllDocuments(i[n])}return s}isUriWeCanFill(e){return e.protocol=="http:"||e.protocol=="https:"||e.protocol=="file:"}isATextFormFieldType(e){return!(e=="checkbox"||e=="select-one"||e=="radio"||e=="password"||e=="hidden"||e=="submit"||e=="button"||e=="file"||e=="image"||e=="reset")}isAKnownUsernameString(e){const s=e.toLowerCase();return s=="username"||s=="j_username"||s=="user_name"||s=="user"||s=="user-name"||s=="login"||s=="vb_login_username"||s=="name"||s=="user name"||s=="user id"||s=="user-id"||s=="userid"||s=="email"||s=="e-mail"||s=="id"||s=="form_loginname"||s=="wpname"||s=="mail"||s=="loginid"||s=="login id"||s=="login_name"||s=="openid_identifier"||s=="authentication_email"||s=="openid"||s=="auth_email"||s=="auth_id"||s=="authentication_identifier"||s=="authentication_id"||s=="customer_number"||s=="customernumber"||s=="onlineid"}getFormFields(e,s,i){var S;const n=[],r=[],o=[];let l=-1,a=-1,c=-1;const d=e.elements.length,h=d<2e3?d:2e3;for(let w=0;w<h;w++){if(o.length>i)throw new Error("Too many fields");if(e.elements[w].localName.toLowerCase()=="object"||e.elements[w].localName.toLowerCase()=="keygen"||e.elements[w].localName.toLowerCase()=="output"||e.elements[w].localName.toLowerCase()!="input"&&(e.elements[w].type==null||e.elements[w].type==null))continue;const E=e.elements[w].type.toLowerCase();if(E=="fieldset"||E!="password"&&!this.isATextFormFieldType(E)&&E!="checkbox"&&E!="radio"&&E!="select-one"||E=="radio"&&s&&e.elements[w].checked==!1||E=="password"&&s&&!e.elements[w].value||E=="select-one"&&s&&!e.elements[w].value)continue;this.Logger.debug(`processing field with domtype ${E}...`),o[o.length]={index:w,element:new ca,type:E};let M=e.elements[w].value;E=="checkbox"&&(e.elements[w].checked?M="KEEFOX_CHECKED_FLAG_TRUE":M="KEEFOX_CHECKED_FLAG_FALSE");const $=Fe.fromDOM(e.elements[w],E,M);o[o.length-1].element.field=$,o[o.length-1].element.DOMelement=e.elements[w],E=="password"&&l==-1&&(l=o.length-1),this.isATextFormFieldType(E)&&a==-1&&(this.isAKnownUsernameString(e.elements[w].name)||(S=$.locators[0].labels)!=null&&S.some(T=>this.isAKnownUsernameString(T)))&&(a=o.length-1),e.elements[w].keeInitialDetectedValue==null&&(e.elements[w].keeInitialDetectedValue=M)}a!=-1?c=a:l>0&&(c=l-1),this.Logger.debug("usernameIndex: "+c);let g=0,v=0;for(let w=0;w<o.length;w++)o[w].type=="password"?n[n.length]=o[w].element:(this.isATextFormFieldType(o[w].type)||o[w].type=="checkbox"||o[w].type=="radio"||o[w].type=="select-one")&&(r[r.length]=o[w].element,w==c?v=g:g++);return this.Logger.debug("actualUsernameIndex: "+v),this.Logger.debug("otherFields.length:"+r.length),{actualUsernameIndex:v,pwFields:n,otherFields:r}}isDOMElementVisible(e){return!(!e.offsetParent&&e.offsetHeight===0&&e.offsetWidth===0)}}class ua{constructor(e,s,i){this.myPort=e,this.SubmitHandlerAttachments=[],this.Logger=s,this.formUtils=i}addSubmitHandler(e,s){const i=n=>this.submitHandler(n,s);this.SubmitHandlerAttachments.push({target:e,form:s,handler:i}),e&&e.addEventListener("click",i),s.addEventListener("submit",i)}removeAllSubmitHandlers(){this.SubmitHandlerAttachments.forEach(e=>{e.target&&e.target.removeEventListener("click",e.handler),e.form.removeEventListener("submit",e.handler)}),this.SubmitHandlerAttachments=[]}updateMatchResult(e){this.matchResult=e}submitHandler(e,s){this.Logger.debug("submitHandler called"),this.removeAllSubmitHandlers();const i=s.ownerDocument,n=new URL(i.URL);if(n.hostname=punycode.toUnicode(n.hostname),Se.siteConfigFor(n.href).preventSaveNotification)return;let o=!1,l=!1;const a=[];let c;try{c=this.formUtils.getFormFields(s,!0,50)}catch(M){this.Logger.warn("Lost interest in this form after finding too many fields"+M);return}const d=c.actualUsernameIndex,h=c.pwFields,g=c.otherFields;if(h.length>1){let M=-1;for(let $=0;$<h.length&&M==-1;$++)for(let T=$+1;T<h.length&&M==-1;T++)h[T].field.value==h[$].field.value&&(M=T);if(M==-1){this.Logger.debug("multiple passwords found (with no identical values)");for(let $=0;$<h.length;$++)a.push(h[$])}else this.Logger.debug("Looks like a password change form or new registration form has been submitted"),h.length==2?(a.push(h[0]),o=!1,l=!0):(o=!1,l=!1,a.push(h[M]))}else h!=null&&h[0]!=null&&h[0]!=null&&a.push(h[0]);const v=this.removeEmptyFields(a),S=this.removeEmptyFields(g),w=!this.matchResult||!this.matchResult.lastFilledPasswords||this.hasFieldBeenModified(v,this.matchResult.lastFilledPasswords),E=!this.matchResult||!this.matchResult.lastFilledOther||this.hasFieldBeenModified(S,this.matchResult.lastFilledOther);if(w||E){const M={url:n.href,fields:Fe.combineDomFieldLists(d,S.map($=>$.field),v.map($=>$.field)),title:i.title||n.hostname,isPasswordChangeForm:o,isRegistrationForm:l};this.myPort.postMessage({submittedData:M})}}removeEmptyFields(e){return e.filter(s=>s.field.value||s.field.type==="boolean")}hasFieldBeenModified(e,s){return!!s.find(i=>{const n=e.find(r=>i.DOMelement==r.DOMelement);return!n||n.field.value!=i.value})}}const sr=ft.GeneratePassword;class da{constructor(e){this.parentFrameId=e}createGeneratePasswordPanel(){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Dt(sr,null,this.parentFrameId),this.generatePasswordPanelStub.createPanel()}createGeneratePasswordPanelNearNode(e){this.closeGeneratePasswordPanel(),this.generatePasswordPanelStub=new Dt(sr,e,this.parentFrameId),this.generatePasswordPanelStub.createPanel(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}closeGeneratePasswordPanel(){this.generatePasswordPanelStub&&this.generatePasswordPanelStub.closePanel(),this.generatePasswordPanelStub=null,cancelAnimationFrame(this.generatePasswordPanelStubRaf)}updateGeneratePasswordPanelPosition(){this.generatePasswordPanelStub.updateBoundingClientRect(),this.generatePasswordPanelStubRaf=requestAnimationFrame(()=>this.updateGeneratePasswordPanelPosition())}}class ha{constructor(e){this.store=e,this.receivedMutations=[],this.initialized=!1,this.pendingMutations=[],this.store.$subscribe(s=>{if(s.type==vt.patchObject)this.hookMutation(s);else throw new Error("Pinia generated a non-object mutation. We don't think we can support this and need to know that it is possible for it to happen! Tell us now or weird things will happen.")})}init(e,s,i){this.sendMutation=s,this.store.$patch(e),this.initialized=!0,this.processPendingMutations(),i&&i()}reset(e){this.store.$patch(e)}onRemoteMutation(e){this.initialized&&(this.receivedMutations.push(e),this.store.$patch(e.payload))}hookMutation(e){if(!this.initialized)return this.pendingMutations.push(e);if(!this.receivedMutations.length)return this.sendMutation(e);for(let s=this.receivedMutations.length-1;s>=0;s--)if(this.receivedMutations[s]==e.payload){this.receivedMutations.splice(s,1);break}else s==0&&this.sendMutation(e)}processPendingMutations(){if(this.pendingMutations.length)for(let e=0;e<this.pendingMutations.length;e++)this.sendMutation(this.pendingMutations[e]),this.pendingMutations.splice(e,1)}}class ga{constructor(){this.mixin={methods:{postMessage:e=>{this.port.postMessage(e)}}}}postMessage(e){this.port.postMessage(e)}startup(e){this.port=Ve.runtime.connect({name:e})}shutdown(){this.port=null}get raw(){return this.port}}const we=new ga;var Ut;Ut?ce&&ce.error?ce.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ut):console.error("Duplicate Kee content script instance detected! Found this many other instances: "+Ut):Ut=0,Ut+=1;let ps,fe,Bt,bs,As,ws,gi=!1,ir,nr=!1,rr=!1,or,mi;Hl(Ro).use(ta());const ut=er();if(document.body){let t=function(r){we.postMessage({findMatches:{uri:r}})},e=function(){if(window.location.hostname.endsWith("tutorial-addon.kee.pm")){const r=document.createElement("KeeFoxAddonStateTransferElement");r.setAttribute("state",JSON.stringify({connected:ut.connected,version:Ve.runtime.getManifest().version,dbLoaded:ut.KeePassDatabases.length>0,sessionNames:ut.KeePassDatabases.map(l=>l.sessionType.toString()).filter((l,a,c)=>c.indexOf(l)===a)})),document.documentElement.appendChild(r);const o=new Event("KeeFoxAddonStateTransferEvent",{bubbles:!0,cancelable:!1});r.dispatchEvent(o)}},s=function(r){As=r,ce.attachConfig(Se.current),ps=new fa(ce),Bt=new ua(we.raw,ce,ps),fe=new aa(we.raw,As,ps,Bt,ce,Se.current,t),bs=new da(As),mi.observe(document.body,{childList:!0,subtree:!0}),e()},i=function(){ce.debug("content page starting");try{n(),we.raw==null&&ce.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){ce.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}ir=window.setInterval(()=>{if(we.raw==null){ce.info("Messaging port was not established at page startup. Retrying now...");try{n(),we.raw==null&&ce.warn("Failed to connect to messaging port. We'll try again later.")}catch(r){ce.warn("Failed to connect to messaging port. We'll try again later. Exception message: "+r.message)}}else clearInterval(ir)},5e3),ce.debug("content page ready")},n=function(){if(we.raw){ce.warn("port already set to '"+we.raw.name+"'. Skipping startup because it should already be underway but is taking a long time.");return}ws=new ha(ut),we.startup("page"),we.raw.onMessage.addListener(function(r){if(ce.debug("In browser content page script, received message from background script"),r.initialState&&ws.init(r.initialState,o=>{we.postMessage({mutation:o})}),r.mutation){ws.onRemoteMutation(r.mutation);return}gi?r.action==Ne.DetectForms&&(r.resetState&&ws.reset(r.resetState),fe.removeKeeIconFromAllFields(),Bt.removeAllSubmitHandlers(),ut.entryUpdateStartedAtTimestamp>=Date.now()-2e4?fe.findMatchesInThisFrame({autofillOnSuccess:!1,autosubmitOnSuccess:!1}):fe.findMatchesInThisFrame()):(s(r.frameId),fe.findMatchesInThisFrame(),gi=!0),r.findMatchesResult&&fe.findLoginsResultHandler(r.findMatchesResult),r.action==Ne.ManualFill&&r.selectedEntryIndex!=null&&(fe.closeMatchedLoginsPanel(),fe.fillAndSubmit(!1,null,r.selectedEntryIndex)),r.action==Ne.ResetForms&&(fe.removeKeeIconFromAllFields(),Bt.removeAllSubmitHandlers()),r.action==Ne.Primary&&fe.executePrimaryAction(),r.action==Ne.GeneratePassword&&bs.createGeneratePasswordPanel(),r.action==Ne.CloseAllPanels&&(bs.closeGeneratePasswordPanel(),fe.closeMatchedLoginsPanel()),r.action==Ne.ShowMatchedLoginsPanel&&fe.createMatchedLoginsPanelInCenter(r.frameId)})};mi=new MutationObserver(r=>{if(fe.formFinderTimer!==null||!ut.connected||ut.ActiveKeePassDatabaseIndex<0)return;let o=!1;const l=["form","input","select"];r.forEach(a=>{if(!o&&a.type==="childList"&&a.addedNodes.length>0)for(const c of a.addedNodes){if(o)break;for(let d=0;d<l.length;d++){const h=c;if(h.querySelector&&h.querySelector(l[d])){o=!0;break}}}}),o&&(fe.formFinderTimer=window.setTimeout(fe.findMatchesInThisFrame.bind(fe),500))}),window.addEventListener("pageshow",()=>{nr=!0,clearTimeout(or),rr&&i()}),window.addEventListener("pagehide",()=>{mi.disconnect(),we.raw&&we.postMessage({action:Ne.PageHide}),fe.removeKeeIconFromAllFields(),we.shutdown(),gi=!1,As=void 0,ps=void 0,Bt=void 0,fe=void 0,bs=void 0}),Se.load(()=>{rr=!0,nr?i():or=window.setTimeout(i,1500)})}})();
